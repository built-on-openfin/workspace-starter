/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/dexie/dist/dexie.js":
/*!**********************************************!*\
  !*** ../../node_modules/dexie/dist/dexie.js ***!
  \**********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * By David Fahlander, david.fahlander@gmail.com
 *
 * Version 4.0.11, Wed Jan 15 2025
 *
 * https://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/
 */
 
(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    var _global = typeof globalThis !== 'undefined' ? globalThis :
        typeof self !== 'undefined' ? self :
            typeof window !== 'undefined' ? window :
                __webpack_require__.g;

    var keys = Object.keys;
    var isArray = Array.isArray;
    if (typeof Promise !== 'undefined' && !_global.Promise) {
        _global.Promise = Promise;
    }
    function extend(obj, extension) {
        if (typeof extension !== 'object')
            return obj;
        keys(extension).forEach(function (key) {
            obj[key] = extension[key];
        });
        return obj;
    }
    var getProto = Object.getPrototypeOf;
    var _hasOwn = {}.hasOwnProperty;
    function hasOwn(obj, prop) {
        return _hasOwn.call(obj, prop);
    }
    function props(proto, extension) {
        if (typeof extension === 'function')
            extension = extension(getProto(proto));
        (typeof Reflect === "undefined" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {
            setProp(proto, key, extension[key]);
        });
    }
    var defineProperty = Object.defineProperty;
    function setProp(obj, prop, functionOrGetSet, options) {
        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, "get") && typeof functionOrGetSet.get === 'function' ?
            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :
            { value: functionOrGetSet, configurable: true, writable: true }, options));
    }
    function derive(Child) {
        return {
            from: function (Parent) {
                Child.prototype = Object.create(Parent.prototype);
                setProp(Child.prototype, "constructor", Child);
                return {
                    extend: props.bind(null, Child.prototype)
                };
            }
        };
    }
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    function getPropertyDescriptor(obj, prop) {
        var pd = getOwnPropertyDescriptor(obj, prop);
        var proto;
        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);
    }
    var _slice = [].slice;
    function slice(args, start, end) {
        return _slice.call(args, start, end);
    }
    function override(origFunc, overridedFactory) {
        return overridedFactory(origFunc);
    }
    function assert(b) {
        if (!b)
            throw new Error("Assertion Failed");
    }
    function asap$1(fn) {
        if (_global.setImmediate)
            setImmediate(fn);
        else
            setTimeout(fn, 0);
    }
    function arrayToObject(array, extractor) {
        return array.reduce(function (result, item, i) {
            var nameAndValue = extractor(item, i);
            if (nameAndValue)
                result[nameAndValue[0]] = nameAndValue[1];
            return result;
        }, {});
    }
    function getByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))
            return obj[keyPath];
        if (!keyPath)
            return obj;
        if (typeof keyPath !== 'string') {
            var rv = [];
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                var val = getByKeyPath(obj, keyPath[i]);
                rv.push(val);
            }
            return rv;
        }
        var period = keyPath.indexOf('.');
        if (period !== -1) {
            var innerObj = obj[keyPath.substr(0, period)];
            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));
        }
        return undefined;
    }
    function setByKeyPath(obj, keyPath, value) {
        if (!obj || keyPath === undefined)
            return;
        if ('isFrozen' in Object && Object.isFrozen(obj))
            return;
        if (typeof keyPath !== 'string' && 'length' in keyPath) {
            assert(typeof value !== 'string' && 'length' in value);
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                setByKeyPath(obj, keyPath[i], value[i]);
            }
        }
        else {
            var period = keyPath.indexOf('.');
            if (period !== -1) {
                var currentKeyPath = keyPath.substr(0, period);
                var remainingKeyPath = keyPath.substr(period + 1);
                if (remainingKeyPath === "")
                    if (value === undefined) {
                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))
                            obj.splice(currentKeyPath, 1);
                        else
                            delete obj[currentKeyPath];
                    }
                    else
                        obj[currentKeyPath] = value;
                else {
                    var innerObj = obj[currentKeyPath];
                    if (!innerObj || !hasOwn(obj, currentKeyPath))
                        innerObj = (obj[currentKeyPath] = {});
                    setByKeyPath(innerObj, remainingKeyPath, value);
                }
            }
            else {
                if (value === undefined) {
                    if (isArray(obj) && !isNaN(parseInt(keyPath)))
                        obj.splice(keyPath, 1);
                    else
                        delete obj[keyPath];
                }
                else
                    obj[keyPath] = value;
            }
        }
    }
    function delByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string')
            setByKeyPath(obj, keyPath, undefined);
        else if ('length' in keyPath)
            [].map.call(keyPath, function (kp) {
                setByKeyPath(obj, kp, undefined);
            });
    }
    function shallowClone(obj) {
        var rv = {};
        for (var m in obj) {
            if (hasOwn(obj, m))
                rv[m] = obj[m];
        }
        return rv;
    }
    var concat = [].concat;
    function flatten(a) {
        return concat.apply([], a);
    }
    var intrinsicTypeNames = "BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey"
        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return ["Int", "Uint", "Float"].map(function (t) { return t + num + "Array"; }); }))).filter(function (t) { return _global[t]; });
    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));
    function cloneSimpleObjectTree(o) {
        var rv = {};
        for (var k in o)
            if (hasOwn(o, k)) {
                var v = o[k];
                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);
            }
        return rv;
    }
    function objectIsEmpty(o) {
        for (var k in o)
            if (hasOwn(o, k))
                return false;
        return true;
    }
    var circularRefs = null;
    function deepClone(any) {
        circularRefs = new WeakMap();
        var rv = innerDeepClone(any);
        circularRefs = null;
        return rv;
    }
    function innerDeepClone(x) {
        if (!x || typeof x !== 'object')
            return x;
        var rv = circularRefs.get(x);
        if (rv)
            return rv;
        if (isArray(x)) {
            rv = [];
            circularRefs.set(x, rv);
            for (var i = 0, l = x.length; i < l; ++i) {
                rv.push(innerDeepClone(x[i]));
            }
        }
        else if (intrinsicTypes.has(x.constructor)) {
            rv = x;
        }
        else {
            var proto = getProto(x);
            rv = proto === Object.prototype ? {} : Object.create(proto);
            circularRefs.set(x, rv);
            for (var prop in x) {
                if (hasOwn(x, prop)) {
                    rv[prop] = innerDeepClone(x[prop]);
                }
            }
        }
        return rv;
    }
    var toString = {}.toString;
    function toStringTag(o) {
        return toString.call(o).slice(8, -1);
    }
    var iteratorSymbol = typeof Symbol !== 'undefined' ?
        Symbol.iterator :
        '@@iterator';
    var getIteratorOf = typeof iteratorSymbol === "symbol" ? function (x) {
        var i;
        return x != null && (i = x[iteratorSymbol]) && i.apply(x);
    } : function () { return null; };
    function delArrayItem(a, x) {
        var i = a.indexOf(x);
        if (i >= 0)
            a.splice(i, 1);
        return i >= 0;
    }
    var NO_CHAR_ARRAY = {};
    function getArrayOf(arrayLike) {
        var i, a, x, it;
        if (arguments.length === 1) {
            if (isArray(arrayLike))
                return arrayLike.slice();
            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')
                return [arrayLike];
            if ((it = getIteratorOf(arrayLike))) {
                a = [];
                while ((x = it.next()), !x.done)
                    a.push(x.value);
                return a;
            }
            if (arrayLike == null)
                return [arrayLike];
            i = arrayLike.length;
            if (typeof i === 'number') {
                a = new Array(i);
                while (i--)
                    a[i] = arrayLike[i];
                return a;
            }
            return [arrayLike];
        }
        i = arguments.length;
        a = new Array(i);
        while (i--)
            a[i] = arguments[i];
        return a;
    }
    var isAsyncFunction = typeof Symbol !== 'undefined'
        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }
        : function () { return false; };

    var dexieErrorNames = [
        'Modify',
        'Bulk',
        'OpenFailed',
        'VersionChange',
        'Schema',
        'Upgrade',
        'InvalidTable',
        'MissingAPI',
        'NoSuchDatabase',
        'InvalidArgument',
        'SubTransaction',
        'Unsupported',
        'Internal',
        'DatabaseClosed',
        'PrematureCommit',
        'ForeignAwait'
    ];
    var idbDomErrorNames = [
        'Unknown',
        'Constraint',
        'Data',
        'TransactionInactive',
        'ReadOnly',
        'Version',
        'NotFound',
        'InvalidState',
        'InvalidAccess',
        'Abort',
        'Timeout',
        'QuotaExceeded',
        'Syntax',
        'DataClone'
    ];
    var errorList = dexieErrorNames.concat(idbDomErrorNames);
    var defaultTexts = {
        VersionChanged: "Database version changed by other database connection",
        DatabaseClosed: "Database has been closed",
        Abort: "Transaction aborted",
        TransactionInactive: "Transaction has already completed or failed",
        MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"
    };
    function DexieError(name, msg) {
        this.name = name;
        this.message = msg;
    }
    derive(DexieError).from(Error).extend({
        toString: function () { return this.name + ": " + this.message; }
    });
    function getMultiErrorMessage(msg, failures) {
        return msg + ". Errors: " + Object.keys(failures)
            .map(function (key) { return failures[key].toString(); })
            .filter(function (v, i, s) { return s.indexOf(v) === i; })
            .join('\n');
    }
    function ModifyError(msg, failures, successCount, failedKeys) {
        this.failures = failures;
        this.failedKeys = failedKeys;
        this.successCount = successCount;
        this.message = getMultiErrorMessage(msg, failures);
    }
    derive(ModifyError).from(DexieError);
    function BulkError(msg, failures) {
        this.name = "BulkError";
        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });
        this.failuresByPos = failures;
        this.message = getMultiErrorMessage(msg, this.failures);
    }
    derive(BulkError).from(DexieError);
    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + "Error", obj); }, {});
    var BaseException = DexieError;
    var exceptions = errorList.reduce(function (obj, name) {
        var fullName = name + "Error";
        function DexieError(msgOrInner, inner) {
            this.name = fullName;
            if (!msgOrInner) {
                this.message = defaultTexts[name] || fullName;
                this.inner = null;
            }
            else if (typeof msgOrInner === 'string') {
                this.message = "".concat(msgOrInner).concat(!inner ? '' : '\n ' + inner);
                this.inner = inner || null;
            }
            else if (typeof msgOrInner === 'object') {
                this.message = "".concat(msgOrInner.name, " ").concat(msgOrInner.message);
                this.inner = msgOrInner;
            }
        }
        derive(DexieError).from(BaseException);
        obj[name] = DexieError;
        return obj;
    }, {});
    exceptions.Syntax = SyntaxError;
    exceptions.Type = TypeError;
    exceptions.Range = RangeError;
    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {
        obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    function mapError(domError, message) {
        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])
            return domError;
        var rv = new exceptionMap[domError.name](message || domError.message, domError);
        if ("stack" in domError) {
            setProp(rv, "stack", { get: function () {
                    return this.inner.stack;
                } });
        }
        return rv;
    }
    var fullNameExceptions = errorList.reduce(function (obj, name) {
        if (["Syntax", "Type", "Range"].indexOf(name) === -1)
            obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    fullNameExceptions.ModifyError = ModifyError;
    fullNameExceptions.DexieError = DexieError;
    fullNameExceptions.BulkError = BulkError;

    function nop() { }
    function mirror(val) { return val; }
    function pureFunctionChain(f1, f2) {
        if (f1 == null || f1 === mirror)
            return f2;
        return function (val) {
            return f2(f1(val));
        };
    }
    function callBoth(on1, on2) {
        return function () {
            on1.apply(this, arguments);
            on2.apply(this, arguments);
        };
    }
    function hookCreatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res !== undefined)
                arguments[0] = res;
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res2 !== undefined ? res2 : res;
        };
    }
    function hookDeletingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            f1.apply(this, arguments);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = this.onerror = null;
            f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        };
    }
    function hookUpdatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function (modifications) {
            var res = f1.apply(this, arguments);
            extend(modifications, res);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res === undefined ?
                (res2 === undefined ? undefined : res2) :
                (extend(res, res2));
        };
    }
    function reverseStoppableEventChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            if (f2.apply(this, arguments) === false)
                return false;
            return f1.apply(this, arguments);
        };
    }
    function promisableChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res && typeof res.then === 'function') {
                var thiz = this, i = arguments.length, args = new Array(i);
                while (i--)
                    args[i] = arguments[i];
                return res.then(function () {
                    return f2.apply(thiz, args);
                });
            }
            return f2.apply(this, arguments);
        };
    }

    var debug = typeof location !== 'undefined' &&
        /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
    function setDebug(value, filter) {
        debug = value;
    }

    var INTERNAL = {};
    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?
        [] :
        (function () {
            var globalP = Promise.resolve();
            if (typeof crypto === 'undefined' || !crypto.subtle)
                return [globalP, getProto(globalP), globalP];
            var nativeP = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
            return [
                nativeP,
                getProto(nativeP),
                globalP
            ];
        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;
    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;
    var patchGlobalPromise = !!resolvedGlobalPromise;
    function schedulePhysicalTick() {
        queueMicrotask(physicalTick);
    }
    var asap = function (callback, args) {
        microtickQueue.push([callback, args]);
        if (needsNewPhysicalTick) {
            schedulePhysicalTick();
            needsNewPhysicalTick = false;
        }
    };
    var isOutsideMicroTick = true,
    needsNewPhysicalTick = true,
    unhandledErrors = [],
    rejectingErrors = [],
    rejectionMapper = mirror;
    var globalPSD = {
        id: 'global',
        global: true,
        ref: 0,
        unhandleds: [],
        onunhandled: nop,
        pgp: false,
        env: {},
        finalize: nop
    };
    var PSD = globalPSD;
    var microtickQueue = [];
    var numScheduledCalls = 0;
    var tickFinalizers = [];
    function DexiePromise(fn) {
        if (typeof this !== 'object')
            throw new TypeError('Promises must be constructed via new');
        this._listeners = [];
        this._lib = false;
        var psd = (this._PSD = PSD);
        if (typeof fn !== 'function') {
            if (fn !== INTERNAL)
                throw new TypeError('Not a function');
            this._state = arguments[1];
            this._value = arguments[2];
            if (this._state === false)
                handleRejection(this, this._value);
            return;
        }
        this._state = null;
        this._value = null;
        ++psd.ref;
        executePromiseTask(this, fn);
    }
    var thenProp = {
        get: function () {
            var psd = PSD, microTaskId = totalEchoes;
            function then(onFulfilled, onRejected) {
                var _this = this;
                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);
                var cleanup = possibleAwait && !decrementExpectedAwaits();
                var rv = new DexiePromise(function (resolve, reject) {
                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));
                });
                if (this._consoleTask)
                    rv._consoleTask = this._consoleTask;
                return rv;
            }
            then.prototype = INTERNAL;
            return then;
        },
        set: function (value) {
            setProp(this, 'then', value && value.prototype === INTERNAL ?
                thenProp :
                {
                    get: function () {
                        return value;
                    },
                    set: thenProp.set
                });
        }
    };
    props(DexiePromise.prototype, {
        then: thenProp,
        _then: function (onFulfilled, onRejected) {
            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));
        },
        catch: function (onRejected) {
            if (arguments.length === 1)
                return this.then(null, onRejected);
            var type = arguments[0], handler = arguments[1];
            return typeof type === 'function' ? this.then(null, function (err) {
                return err instanceof type ? handler(err) : PromiseReject(err);
            })
                : this.then(null, function (err) {
                    return err && err.name === type ? handler(err) : PromiseReject(err);
                });
        },
        finally: function (onFinally) {
            return this.then(function (value) {
                return DexiePromise.resolve(onFinally()).then(function () { return value; });
            }, function (err) {
                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });
            });
        },
        timeout: function (ms, msg) {
            var _this = this;
            return ms < Infinity ?
                new DexiePromise(function (resolve, reject) {
                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);
                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));
                }) : this;
        }
    });
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');
    globalPSD.env = snapShot();
    function Listener(onFulfilled, onRejected, resolve, reject, zone) {
        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
        this.onRejected = typeof onRejected === 'function' ? onRejected : null;
        this.resolve = resolve;
        this.reject = reject;
        this.psd = zone;
    }
    props(DexiePromise, {
        all: function () {
            var values = getArrayOf.apply(null, arguments)
                .map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                if (values.length === 0)
                    resolve([]);
                var remaining = values.length;
                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {
                    values[i] = x;
                    if (!--remaining)
                        resolve(values);
                }, reject); });
            });
        },
        resolve: function (value) {
            if (value instanceof DexiePromise)
                return value;
            if (value && typeof value.then === 'function')
                return new DexiePromise(function (resolve, reject) {
                    value.then(resolve, reject);
                });
            var rv = new DexiePromise(INTERNAL, true, value);
            return rv;
        },
        reject: PromiseReject,
        race: function () {
            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });
            });
        },
        PSD: {
            get: function () { return PSD; },
            set: function (value) { return PSD = value; }
        },
        totalEchoes: { get: function () { return totalEchoes; } },
        newPSD: newScope,
        usePSD: usePSD,
        scheduler: {
            get: function () { return asap; },
            set: function (value) { asap = value; }
        },
        rejectionMapper: {
            get: function () { return rejectionMapper; },
            set: function (value) { rejectionMapper = value; }
        },
        follow: function (fn, zoneProps) {
            return new DexiePromise(function (resolve, reject) {
                return newScope(function (resolve, reject) {
                    var psd = PSD;
                    psd.unhandleds = [];
                    psd.onunhandled = reject;
                    psd.finalize = callBoth(function () {
                        var _this = this;
                        run_at_end_of_this_or_next_physical_tick(function () {
                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);
                        });
                    }, psd.finalize);
                    fn();
                }, zoneProps, resolve, reject);
            });
        }
    });
    if (NativePromise) {
        if (NativePromise.allSettled)
            setProp(DexiePromise, "allSettled", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve) {
                    if (possiblePromises.length === 0)
                        resolve([]);
                    var remaining = possiblePromises.length;
                    var results = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: "fulfilled", value: value }; }, function (reason) { return results[i] = { status: "rejected", reason: reason }; })
                        .then(function () { return --remaining || resolve(results); }); });
                });
            });
        if (NativePromise.any && typeof AggregateError !== 'undefined')
            setProp(DexiePromise, "any", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve, reject) {
                    if (possiblePromises.length === 0)
                        reject(new AggregateError([]));
                    var remaining = possiblePromises.length;
                    var failures = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {
                        failures[i] = failure;
                        if (!--remaining)
                            reject(new AggregateError(failures));
                    }); });
                });
            });
        if (NativePromise.withResolvers)
            DexiePromise.withResolvers = NativePromise.withResolvers;
    }
    function executePromiseTask(promise, fn) {
        try {
            fn(function (value) {
                if (promise._state !== null)
                    return;
                if (value === promise)
                    throw new TypeError('A promise cannot be resolved with itself.');
                var shouldExecuteTick = promise._lib && beginMicroTickScope();
                if (value && typeof value.then === 'function') {
                    executePromiseTask(promise, function (resolve, reject) {
                        value instanceof DexiePromise ?
                            value._then(resolve, reject) :
                            value.then(resolve, reject);
                    });
                }
                else {
                    promise._state = true;
                    promise._value = value;
                    propagateAllListeners(promise);
                }
                if (shouldExecuteTick)
                    endMicroTickScope();
            }, handleRejection.bind(null, promise));
        }
        catch (ex) {
            handleRejection(promise, ex);
        }
    }
    function handleRejection(promise, reason) {
        rejectingErrors.push(reason);
        if (promise._state !== null)
            return;
        var shouldExecuteTick = promise._lib && beginMicroTickScope();
        reason = rejectionMapper(reason);
        promise._state = false;
        promise._value = reason;
        addPossiblyUnhandledError(promise);
        propagateAllListeners(promise);
        if (shouldExecuteTick)
            endMicroTickScope();
    }
    function propagateAllListeners(promise) {
        var listeners = promise._listeners;
        promise._listeners = [];
        for (var i = 0, len = listeners.length; i < len; ++i) {
            propagateToListener(promise, listeners[i]);
        }
        var psd = promise._PSD;
        --psd.ref || psd.finalize();
        if (numScheduledCalls === 0) {
            ++numScheduledCalls;
            asap(function () {
                if (--numScheduledCalls === 0)
                    finalizePhysicalTick();
            }, []);
        }
    }
    function propagateToListener(promise, listener) {
        if (promise._state === null) {
            promise._listeners.push(listener);
            return;
        }
        var cb = promise._state ? listener.onFulfilled : listener.onRejected;
        if (cb === null) {
            return (promise._state ? listener.resolve : listener.reject)(promise._value);
        }
        ++listener.psd.ref;
        ++numScheduledCalls;
        asap(callListener, [cb, promise, listener]);
    }
    function callListener(cb, promise, listener) {
        try {
            var ret, value = promise._value;
            if (!promise._state && rejectingErrors.length)
                rejectingErrors = [];
            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);
            if (!promise._state && rejectingErrors.indexOf(value) === -1) {
                markErrorAsHandled(promise);
            }
            listener.resolve(ret);
        }
        catch (e) {
            listener.reject(e);
        }
        finally {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
            --listener.psd.ref || listener.psd.finalize();
        }
    }
    function physicalTick() {
        usePSD(globalPSD, function () {
            beginMicroTickScope() && endMicroTickScope();
        });
    }
    function beginMicroTickScope() {
        var wasRootExec = isOutsideMicroTick;
        isOutsideMicroTick = false;
        needsNewPhysicalTick = false;
        return wasRootExec;
    }
    function endMicroTickScope() {
        var callbacks, i, l;
        do {
            while (microtickQueue.length > 0) {
                callbacks = microtickQueue;
                microtickQueue = [];
                l = callbacks.length;
                for (i = 0; i < l; ++i) {
                    var item = callbacks[i];
                    item[0].apply(null, item[1]);
                }
            }
        } while (microtickQueue.length > 0);
        isOutsideMicroTick = true;
        needsNewPhysicalTick = true;
    }
    function finalizePhysicalTick() {
        var unhandledErrs = unhandledErrors;
        unhandledErrors = [];
        unhandledErrs.forEach(function (p) {
            p._PSD.onunhandled.call(null, p._value, p);
        });
        var finalizers = tickFinalizers.slice(0);
        var i = finalizers.length;
        while (i)
            finalizers[--i]();
    }
    function run_at_end_of_this_or_next_physical_tick(fn) {
        function finalizer() {
            fn();
            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);
        }
        tickFinalizers.push(finalizer);
        ++numScheduledCalls;
        asap(function () {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
        }, []);
    }
    function addPossiblyUnhandledError(promise) {
        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))
            unhandledErrors.push(promise);
    }
    function markErrorAsHandled(promise) {
        var i = unhandledErrors.length;
        while (i)
            if (unhandledErrors[--i]._value === promise._value) {
                unhandledErrors.splice(i, 1);
                return;
            }
    }
    function PromiseReject(reason) {
        return new DexiePromise(INTERNAL, false, reason);
    }
    function wrap(fn, errorCatcher) {
        var psd = PSD;
        return function () {
            var wasRootExec = beginMicroTickScope(), outerScope = PSD;
            try {
                switchToZone(psd, true);
                return fn.apply(this, arguments);
            }
            catch (e) {
                errorCatcher && errorCatcher(e);
            }
            finally {
                switchToZone(outerScope, false);
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
    }
    var task = { awaits: 0, echoes: 0, id: 0 };
    var taskCounter = 0;
    var zoneStack = [];
    var zoneEchoes = 0;
    var totalEchoes = 0;
    var zone_id_counter = 0;
    function newScope(fn, props, a1, a2) {
        var parent = PSD, psd = Object.create(parent);
        psd.parent = parent;
        psd.ref = 0;
        psd.global = false;
        psd.id = ++zone_id_counter;
        globalPSD.env;
        psd.env = patchGlobalPromise ? {
            Promise: DexiePromise,
            PromiseProp: { value: DexiePromise, configurable: true, writable: true },
            all: DexiePromise.all,
            race: DexiePromise.race,
            allSettled: DexiePromise.allSettled,
            any: DexiePromise.any,
            resolve: DexiePromise.resolve,
            reject: DexiePromise.reject,
        } : {};
        if (props)
            extend(psd, props);
        ++parent.ref;
        psd.finalize = function () {
            --this.parent.ref || this.parent.finalize();
        };
        var rv = usePSD(psd, fn, a1, a2);
        if (psd.ref === 0)
            psd.finalize();
        return rv;
    }
    function incrementExpectedAwaits() {
        if (!task.id)
            task.id = ++taskCounter;
        ++task.awaits;
        task.echoes += ZONE_ECHO_LIMIT;
        return task.id;
    }
    function decrementExpectedAwaits() {
        if (!task.awaits)
            return false;
        if (--task.awaits === 0)
            task.id = 0;
        task.echoes = task.awaits * ZONE_ECHO_LIMIT;
        return true;
    }
    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {
        incrementExpectedAwaits = decrementExpectedAwaits = nop;
    }
    function onPossibleParallellAsync(possiblePromise) {
        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {
            incrementExpectedAwaits();
            return possiblePromise.then(function (x) {
                decrementExpectedAwaits();
                return x;
            }, function (e) {
                decrementExpectedAwaits();
                return rejection(e);
            });
        }
        return possiblePromise;
    }
    function zoneEnterEcho(targetZone) {
        ++totalEchoes;
        if (!task.echoes || --task.echoes === 0) {
            task.echoes = task.awaits = task.id = 0;
        }
        zoneStack.push(PSD);
        switchToZone(targetZone, true);
    }
    function zoneLeaveEcho() {
        var zone = zoneStack[zoneStack.length - 1];
        zoneStack.pop();
        switchToZone(zone, false);
    }
    function switchToZone(targetZone, bEnteringZone) {
        var currentZone = PSD;
        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {
            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);
        }
        if (targetZone === PSD)
            return;
        PSD = targetZone;
        if (currentZone === globalPSD)
            globalPSD.env = snapShot();
        if (patchGlobalPromise) {
            var GlobalPromise = globalPSD.env.Promise;
            var targetEnv = targetZone.env;
            if (currentZone.global || targetZone.global) {
                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);
                GlobalPromise.all = targetEnv.all;
                GlobalPromise.race = targetEnv.race;
                GlobalPromise.resolve = targetEnv.resolve;
                GlobalPromise.reject = targetEnv.reject;
                if (targetEnv.allSettled)
                    GlobalPromise.allSettled = targetEnv.allSettled;
                if (targetEnv.any)
                    GlobalPromise.any = targetEnv.any;
            }
        }
    }
    function snapShot() {
        var GlobalPromise = _global.Promise;
        return patchGlobalPromise ? {
            Promise: GlobalPromise,
            PromiseProp: Object.getOwnPropertyDescriptor(_global, "Promise"),
            all: GlobalPromise.all,
            race: GlobalPromise.race,
            allSettled: GlobalPromise.allSettled,
            any: GlobalPromise.any,
            resolve: GlobalPromise.resolve,
            reject: GlobalPromise.reject,
        } : {};
    }
    function usePSD(psd, fn, a1, a2, a3) {
        var outerScope = PSD;
        try {
            switchToZone(psd, true);
            return fn(a1, a2, a3);
        }
        finally {
            switchToZone(outerScope, false);
        }
    }
    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {
        return typeof fn !== 'function' ? fn : function () {
            var outerZone = PSD;
            if (possibleAwait)
                incrementExpectedAwaits();
            switchToZone(zone, true);
            try {
                return fn.apply(this, arguments);
            }
            finally {
                switchToZone(outerZone, false);
                if (cleanup)
                    queueMicrotask(decrementExpectedAwaits);
            }
        };
    }
    function execInGlobalContext(cb) {
        if (Promise === NativePromise && task.echoes === 0) {
            if (zoneEchoes === 0) {
                cb();
            }
            else {
                enqueueNativeMicroTask(cb);
            }
        }
        else {
            setTimeout(cb, 0);
        }
    }
    var rejection = DexiePromise.reject;

    function tempTransaction(db, mode, storeNames, fn) {
        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {
            if (db._state.openComplete) {
                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));
            }
            if (!db._state.isBeingOpened) {
                if (!db._state.autoOpen)
                    return rejection(new exceptions.DatabaseClosed());
                db.open().catch(nop);
            }
            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });
        }
        else {
            var trans = db._createTransaction(mode, storeNames, db._dbSchema);
            try {
                trans.create();
                db._state.PR1398_maxLoop = 3;
            }
            catch (ex) {
                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                    console.warn('Dexie: Need to reopen db');
                    db.close({ disableAutoOpen: false });
                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });
                }
                return rejection(ex);
            }
            return trans._promise(mode, function (resolve, reject) {
                return newScope(function () {
                    PSD.trans = trans;
                    return fn(resolve, reject, trans);
                });
            }).then(function (result) {
                if (mode === 'readwrite')
                    try {
                        trans.idbtrans.commit();
                    }
                    catch (_a) { }
                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });
            });
        }
    }

    var DEXIE_VERSION = '4.0.11';
    var maxString = String.fromCharCode(65535);
    var minKey = -Infinity;
    var INVALID_KEY_ARGUMENT = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";
    var STRING_EXPECTED = "String expected.";
    var connections = [];
    var DBNAMES_DB = '__dbnames';
    var READONLY = 'readonly';
    var READWRITE = 'readwrite';

    function combine(filter1, filter2) {
        return filter1 ?
            filter2 ?
                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :
                filter1 :
            filter2;
    }

    var AnyRange = {
        type: 3 ,
        lower: -Infinity,
        lowerOpen: false,
        upper: [[]],
        upperOpen: false
    };

    function workaroundForUndefinedPrimKey(keyPath) {
        return typeof keyPath === "string" && !/\./.test(keyPath)
            ? function (obj) {
                if (obj[keyPath] === undefined && (keyPath in obj)) {
                    obj = deepClone(obj);
                    delete obj[keyPath];
                }
                return obj;
            }
            : function (obj) { return obj; };
    }

    function Entity() {
        throw exceptions.Type();
    }

    function cmp(a, b) {
        try {
            var ta = type(a);
            var tb = type(b);
            if (ta !== tb) {
                if (ta === 'Array')
                    return 1;
                if (tb === 'Array')
                    return -1;
                if (ta === 'binary')
                    return 1;
                if (tb === 'binary')
                    return -1;
                if (ta === 'string')
                    return 1;
                if (tb === 'string')
                    return -1;
                if (ta === 'Date')
                    return 1;
                if (tb !== 'Date')
                    return NaN;
                return -1;
            }
            switch (ta) {
                case 'number':
                case 'Date':
                case 'string':
                    return a > b ? 1 : a < b ? -1 : 0;
                case 'binary': {
                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));
                }
                case 'Array':
                    return compareArrays(a, b);
            }
        }
        catch (_a) { }
        return NaN;
    }
    function compareArrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            var res = cmp(a[i], b[i]);
            if (res !== 0)
                return res;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function compareUint8Arrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            if (a[i] !== b[i])
                return a[i] < b[i] ? -1 : 1;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function type(x) {
        var t = typeof x;
        if (t !== 'object')
            return t;
        if (ArrayBuffer.isView(x))
            return 'binary';
        var tsTag = toStringTag(x);
        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;
    }
    function getUint8Array(a) {
        if (a instanceof Uint8Array)
            return a;
        if (ArrayBuffer.isView(a))
            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        return new Uint8Array(a);
    }

    var Table =  (function () {
        function Table() {
        }
        Table.prototype._trans = function (mode, fn, writeLocked) {
            var trans = this._tx || PSD.trans;
            var tableName = this.name;
            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask("Dexie: ".concat(mode === 'readonly' ? 'read' : 'write', " ").concat(this.name));
            function checkTableInTransaction(resolve, reject, trans) {
                if (!trans.schema[tableName])
                    throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
                return fn(trans.idbtrans, trans);
            }
            var wasRootExec = beginMicroTickScope();
            try {
                var p = trans && trans.db._novip === this.db._novip ?
                    trans === PSD.trans ?
                        trans._promise(mode, checkTableInTransaction, writeLocked) :
                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :
                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);
                if (task) {
                    p._consoleTask = task;
                    p = p.catch(function (err) {
                        console.trace(err);
                        return rejection(err);
                    });
                }
                return p;
            }
            finally {
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
        Table.prototype.get = function (keyOrCrit, cb) {
            var _this = this;
            if (keyOrCrit && keyOrCrit.constructor === Object)
                return this.where(keyOrCrit).first(cb);
            if (keyOrCrit == null)
                return rejection(new exceptions.Type("Invalid argument to Table.get()"));
            return this._trans('readonly', function (trans) {
                return _this.core.get({ trans: trans, key: keyOrCrit })
                    .then(function (res) { return _this.hook.reading.fire(res); });
            }).then(cb);
        };
        Table.prototype.where = function (indexOrCrit) {
            if (typeof indexOrCrit === 'string')
                return new this.db.WhereClause(this, indexOrCrit);
            if (isArray(indexOrCrit))
                return new this.db.WhereClause(this, "[".concat(indexOrCrit.join('+'), "]"));
            var keyPaths = keys(indexOrCrit);
            if (keyPaths.length === 1)
                return this
                    .where(keyPaths[0])
                    .equals(indexOrCrit[keyPaths[0]]);
            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {
                if (ix.compound &&
                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {
                    for (var i = 0; i < keyPaths.length; ++i) {
                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)
                            return false;
                    }
                    return true;
                }
                return false;
            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];
            if (compoundIndex && this.db._maxKey !== maxString) {
                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);
                return this
                    .where(keyPathsInValidOrder)
                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));
            }
            if (!compoundIndex && debug)
                console.warn("The query ".concat(JSON.stringify(indexOrCrit), " on ").concat(this.name, " would benefit from a ") +
                    "compound index [".concat(keyPaths.join('+'), "]"));
            var idxByName = this.schema.idxByName;
            function equals(a, b) {
                return cmp(a, b) === 0;
            }
            var _a = keyPaths.reduce(function (_a, keyPath) {
                var prevIndex = _a[0], prevFilterFn = _a[1];
                var index = idxByName[keyPath];
                var value = indexOrCrit[keyPath];
                return [
                    prevIndex || index,
                    prevIndex || !index ?
                        combine(prevFilterFn, index && index.multi ?
                            function (x) {
                                var prop = getByKeyPath(x, keyPath);
                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });
                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })
                        : prevFilterFn
                ];
            }, [null, null]), idx = _a[0], filterFunction = _a[1];
            return idx ?
                this.where(idx.name).equals(indexOrCrit[idx.keyPath])
                    .filter(filterFunction) :
                compoundIndex ?
                    this.filter(filterFunction) :
                    this.where(keyPaths).equals('');
        };
        Table.prototype.filter = function (filterFunction) {
            return this.toCollection().and(filterFunction);
        };
        Table.prototype.count = function (thenShortcut) {
            return this.toCollection().count(thenShortcut);
        };
        Table.prototype.offset = function (offset) {
            return this.toCollection().offset(offset);
        };
        Table.prototype.limit = function (numRows) {
            return this.toCollection().limit(numRows);
        };
        Table.prototype.each = function (callback) {
            return this.toCollection().each(callback);
        };
        Table.prototype.toArray = function (thenShortcut) {
            return this.toCollection().toArray(thenShortcut);
        };
        Table.prototype.toCollection = function () {
            return new this.db.Collection(new this.db.WhereClause(this));
        };
        Table.prototype.orderBy = function (index) {
            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?
                "[".concat(index.join('+'), "]") :
                index));
        };
        Table.prototype.reverse = function () {
            return this.toCollection().reverse();
        };
        Table.prototype.mapToClass = function (constructor) {
            var _a = this, db = _a.db, tableName = _a.name;
            this.schema.mappedClass = constructor;
            if (constructor.prototype instanceof Entity) {
                constructor =  (function (_super) {
                    __extends(class_1, _super);
                    function class_1() {
                        return _super !== null && _super.apply(this, arguments) || this;
                    }
                    Object.defineProperty(class_1.prototype, "db", {
                        get: function () { return db; },
                        enumerable: false,
                        configurable: true
                    });
                    class_1.prototype.table = function () { return tableName; };
                    return class_1;
                }(constructor));
            }
            var inheritedProps = new Set();
            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {
                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });
            }
            var readHook = function (obj) {
                if (!obj)
                    return obj;
                var res = Object.create(constructor.prototype);
                for (var m in obj)
                    if (!inheritedProps.has(m))
                        try {
                            res[m] = obj[m];
                        }
                        catch (_) { }
                return res;
            };
            if (this.schema.readHook) {
                this.hook.reading.unsubscribe(this.schema.readHook);
            }
            this.schema.readHook = readHook;
            this.hook("reading", readHook);
            return constructor;
        };
        Table.prototype.defineClass = function () {
            function Class(content) {
                extend(this, content);
            }
            return this.mapToClass(Class);
        };
        Table.prototype.add = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });
            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.update = function (keyOrObject, modifications) {
            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {
                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);
                if (key === undefined)
                    return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));
                return this.where(":id").equals(key).modify(modifications);
            }
            else {
                return this.where(":id").equals(keyOrObject).modify(modifications);
            }
        };
        Table.prototype.put = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.delete = function (key) {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.clear = function () {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.bulkGet = function (keys) {
            var _this = this;
            return this._trans('readonly', function (trans) {
                return _this.core.getMany({
                    keys: keys,
                    trans: trans
                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });
            });
        };
        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToAdd = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkAdd(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToPut = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkPut(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkUpdate = function (keysAndChanges) {
            var _this = this;
            var coreTable = this.core;
            var keys = keysAndChanges.map(function (entry) { return entry.key; });
            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });
            var offsetMap = [];
            return this._trans('readwrite', function (trans) {
                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {
                    var resultKeys = [];
                    var resultObjs = [];
                    keysAndChanges.forEach(function (_a, idx) {
                        var key = _a.key, changes = _a.changes;
                        var obj = objs[idx];
                        if (obj) {
                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {
                                var keyPath = _b[_i];
                                var value = changes[keyPath];
                                if (keyPath === _this.schema.primKey.keyPath) {
                                    if (cmp(value, key) !== 0) {
                                        throw new exceptions.Constraint("Cannot update primary key in bulkUpdate()");
                                    }
                                }
                                else {
                                    setByKeyPath(obj, keyPath, value);
                                }
                            }
                            offsetMap.push(idx);
                            resultKeys.push(key);
                            resultObjs.push(obj);
                        }
                    });
                    var numEntries = resultKeys.length;
                    return coreTable
                        .mutate({
                        trans: trans,
                        type: 'put',
                        keys: resultKeys,
                        values: resultObjs,
                        updates: {
                            keys: keys,
                            changeSpecs: changeSpecs
                        }
                    })
                        .then(function (_a) {
                        var numFailures = _a.numFailures, failures = _a.failures;
                        if (numFailures === 0)
                            return numEntries;
                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {
                            var offset = _b[_i];
                            var mappedOffset = offsetMap[Number(offset)];
                            if (mappedOffset != null) {
                                var failure = failures[offset];
                                delete failures[offset];
                                failures[mappedOffset] = failure;
                            }
                        }
                        throw new BulkError("".concat(_this.name, ".bulkUpdate(): ").concat(numFailures, " of ").concat(numEntries, " operations failed"), failures);
                    });
                });
            });
        };
        Table.prototype.bulkDelete = function (keys) {
            var _this = this;
            var numKeys = keys.length;
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });
            }).then(function (_a) {
                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;
                if (numFailures === 0)
                    return lastResult;
                throw new BulkError("".concat(_this.name, ".bulkDelete(): ").concat(numFailures, " of ").concat(numKeys, " operations failed"), failures);
            });
        };
        return Table;
    }());

    function Events(ctx) {
        var evs = {};
        var rv = function (eventName, subscriber) {
            if (subscriber) {
                var i = arguments.length, args = new Array(i - 1);
                while (--i)
                    args[i - 1] = arguments[i];
                evs[eventName].subscribe.apply(null, args);
                return ctx;
            }
            else if (typeof (eventName) === 'string') {
                return evs[eventName];
            }
        };
        rv.addEventType = add;
        for (var i = 1, l = arguments.length; i < l; ++i) {
            add(arguments[i]);
        }
        return rv;
        function add(eventName, chainFunction, defaultFunction) {
            if (typeof eventName === 'object')
                return addConfiguredEvents(eventName);
            if (!chainFunction)
                chainFunction = reverseStoppableEventChain;
            if (!defaultFunction)
                defaultFunction = nop;
            var context = {
                subscribers: [],
                fire: defaultFunction,
                subscribe: function (cb) {
                    if (context.subscribers.indexOf(cb) === -1) {
                        context.subscribers.push(cb);
                        context.fire = chainFunction(context.fire, cb);
                    }
                },
                unsubscribe: function (cb) {
                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });
                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);
                }
            };
            evs[eventName] = rv[eventName] = context;
            return context;
        }
        function addConfiguredEvents(cfg) {
            keys(cfg).forEach(function (eventName) {
                var args = cfg[eventName];
                if (isArray(args)) {
                    add(eventName, cfg[eventName][0], cfg[eventName][1]);
                }
                else if (args === 'asap') {
                    var context = add(eventName, mirror, function fire() {
                        var i = arguments.length, args = new Array(i);
                        while (i--)
                            args[i] = arguments[i];
                        context.subscribers.forEach(function (fn) {
                            asap$1(function fireEvent() {
                                fn.apply(null, args);
                            });
                        });
                    });
                }
                else
                    throw new exceptions.InvalidArgument("Invalid event config");
            });
        }
    }

    function makeClassConstructor(prototype, constructor) {
        derive(constructor).from({ prototype: prototype });
        return constructor;
    }

    function createTableConstructor(db) {
        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {
            this.db = db;
            this._tx = trans;
            this.name = name;
            this.schema = tableSchema;
            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {
                "creating": [hookCreatingChain, nop],
                "reading": [pureFunctionChain, mirror],
                "updating": [hookUpdatingChain, nop],
                "deleting": [hookDeletingChain, nop]
            });
        });
    }

    function isPlainKeyRange(ctx, ignoreLimitFilter) {
        return !(ctx.filter || ctx.algorithm || ctx.or) &&
            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);
    }
    function addFilter(ctx, fn) {
        ctx.filter = combine(ctx.filter, fn);
    }
    function addReplayFilter(ctx, factory, isLimitFilter) {
        var curr = ctx.replayFilter;
        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;
        ctx.justLimit = isLimitFilter && !curr;
    }
    function addMatchFilter(ctx, fn) {
        ctx.isMatch = combine(ctx.isMatch, fn);
    }
    function getIndexOrStore(ctx, coreSchema) {
        if (ctx.isPrimKey)
            return coreSchema.primaryKey;
        var index = coreSchema.getIndexByKeyPath(ctx.index);
        if (!index)
            throw new exceptions.Schema("KeyPath " + ctx.index + " on object store " + coreSchema.name + " is not indexed");
        return index;
    }
    function openCursor(ctx, coreTable, trans) {
        var index = getIndexOrStore(ctx, coreTable.schema);
        return coreTable.openCursor({
            trans: trans,
            values: !ctx.keysOnly,
            reverse: ctx.dir === 'prev',
            unique: !!ctx.unique,
            query: {
                index: index,
                range: ctx.range
            }
        });
    }
    function iter(ctx, fn, coreTrans, coreTable) {
        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;
        if (!ctx.or) {
            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);
        }
        else {
            var set_1 = {};
            var union = function (item, cursor, advance) {
                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {
                    var primaryKey = cursor.primaryKey;
                    var key = '' + primaryKey;
                    if (key === '[object ArrayBuffer]')
                        key = '' + new Uint8Array(primaryKey);
                    if (!hasOwn(set_1, key)) {
                        set_1[key] = true;
                        fn(item, cursor, advance);
                    }
                }
            };
            return Promise.all([
                ctx.or._iterate(union, coreTrans),
                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)
            ]);
        }
    }
    function iterate(cursorPromise, filter, fn, valueMapper) {
        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;
        var wrappedFn = wrap(mappedFn);
        return cursorPromise.then(function (cursor) {
            if (cursor) {
                return cursor.start(function () {
                    var c = function () { return cursor.continue(); };
                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))
                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });
                    c();
                });
            }
        });
    }

    var PropModification =  (function () {
        function PropModification(spec) {
            this["@@propmod"] = spec;
        }
        PropModification.prototype.execute = function (value) {
            var _a;
            var spec = this["@@propmod"];
            if (spec.add !== undefined) {
                var term = spec.add;
                if (isArray(term)) {
                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();
                }
                if (typeof term === 'number')
                    return (Number(value) || 0) + term;
                if (typeof term === 'bigint') {
                    try {
                        return BigInt(value) + term;
                    }
                    catch (_b) {
                        return BigInt(0) + term;
                    }
                }
                throw new TypeError("Invalid term ".concat(term));
            }
            if (spec.remove !== undefined) {
                var subtrahend_1 = spec.remove;
                if (isArray(subtrahend_1)) {
                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];
                }
                if (typeof subtrahend_1 === 'number')
                    return Number(value) - subtrahend_1;
                if (typeof subtrahend_1 === 'bigint') {
                    try {
                        return BigInt(value) - subtrahend_1;
                    }
                    catch (_c) {
                        return BigInt(0) - subtrahend_1;
                    }
                }
                throw new TypeError("Invalid subtrahend ".concat(subtrahend_1));
            }
            var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];
            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {
                return spec.replacePrefix[1] + value.substring(prefixToReplace.length);
            }
            return value;
        };
        return PropModification;
    }());

    var Collection =  (function () {
        function Collection() {
        }
        Collection.prototype._read = function (fn, cb) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readonly', fn).then(cb);
        };
        Collection.prototype._write = function (fn) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readwrite', fn, "locked");
        };
        Collection.prototype._addAlgorithm = function (fn) {
            var ctx = this._ctx;
            ctx.algorithm = combine(ctx.algorithm, fn);
        };
        Collection.prototype._iterate = function (fn, coreTrans) {
            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);
        };
        Collection.prototype.clone = function (props) {
            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);
            if (props)
                extend(ctx, props);
            rv._ctx = ctx;
            return rv;
        };
        Collection.prototype.raw = function () {
            this._ctx.valueMapper = null;
            return this;
        };
        Collection.prototype.each = function (fn) {
            var ctx = this._ctx;
            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });
        };
        Collection.prototype.count = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                var coreTable = ctx.table.core;
                if (isPlainKeyRange(ctx, true)) {
                    return coreTable.count({
                        trans: trans,
                        query: {
                            index: getIndexOrStore(ctx, coreTable.schema),
                            range: ctx.range
                        }
                    }).then(function (count) { return Math.min(count, ctx.limit); });
                }
                else {
                    var count = 0;
                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)
                        .then(function () { return count; });
                }
            }).then(cb);
        };
        Collection.prototype.sortBy = function (keyPath, cb) {
            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;
            function getval(obj, i) {
                if (i)
                    return getval(obj[parts[i]], i - 1);
                return obj[lastPart];
            }
            var order = this._ctx.dir === "next" ? 1 : -1;
            function sorter(a, b) {
                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);
                return cmp(aVal, bVal) * order;
            }
            return this.toArray(function (a) {
                return a.sort(sorter);
            }).then(cb);
        };
        Collection.prototype.toArray = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                    var valueMapper_1 = ctx.valueMapper;
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        limit: ctx.limit,
                        values: true,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    }).then(function (_a) {
                        var result = _a.result;
                        return valueMapper_1 ? result.map(valueMapper_1) : result;
                    });
                }
                else {
                    var a_1 = [];
                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });
                }
            }, cb);
        };
        Collection.prototype.offset = function (offset) {
            var ctx = this._ctx;
            if (offset <= 0)
                return this;
            ctx.offset += offset;
            if (isPlainKeyRange(ctx)) {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function (cursor, advance) {
                        if (offsetLeft === 0)
                            return true;
                        if (offsetLeft === 1) {
                            --offsetLeft;
                            return false;
                        }
                        advance(function () {
                            cursor.advance(offsetLeft);
                            offsetLeft = 0;
                        });
                        return false;
                    };
                });
            }
            else {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function () { return (--offsetLeft < 0); };
                });
            }
            return this;
        };
        Collection.prototype.limit = function (numRows) {
            this._ctx.limit = Math.min(this._ctx.limit, numRows);
            addReplayFilter(this._ctx, function () {
                var rowsLeft = numRows;
                return function (cursor, advance, resolve) {
                    if (--rowsLeft <= 0)
                        advance(resolve);
                    return rowsLeft >= 0;
                };
            }, true);
            return this;
        };
        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {
            addFilter(this._ctx, function (cursor, advance, resolve) {
                if (filterFunction(cursor.value)) {
                    advance(resolve);
                    return bIncludeStopEntry;
                }
                else {
                    return true;
                }
            });
            return this;
        };
        Collection.prototype.first = function (cb) {
            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.last = function (cb) {
            return this.reverse().first(cb);
        };
        Collection.prototype.filter = function (filterFunction) {
            addFilter(this._ctx, function (cursor) {
                return filterFunction(cursor.value);
            });
            addMatchFilter(this._ctx, filterFunction);
            return this;
        };
        Collection.prototype.and = function (filter) {
            return this.filter(filter);
        };
        Collection.prototype.or = function (indexName) {
            return new this.db.WhereClause(this._ctx.table, indexName, this);
        };
        Collection.prototype.reverse = function () {
            this._ctx.dir = (this._ctx.dir === "prev" ? "next" : "prev");
            if (this._ondirectionchange)
                this._ondirectionchange(this._ctx.dir);
            return this;
        };
        Collection.prototype.desc = function () {
            return this.reverse();
        };
        Collection.prototype.eachKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.key, cursor); });
        };
        Collection.prototype.eachUniqueKey = function (cb) {
            this._ctx.unique = "unique";
            return this.eachKey(cb);
        };
        Collection.prototype.eachPrimaryKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });
        };
        Collection.prototype.keys = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.key);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.primaryKeys = function (cb) {
            var ctx = this._ctx;
            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                return this._read(function (trans) {
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        values: false,
                        limit: ctx.limit,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    });
                }).then(function (_a) {
                    var result = _a.result;
                    return result;
                }).then(cb);
            }
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.primaryKey);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.uniqueKeys = function (cb) {
            this._ctx.unique = "unique";
            return this.keys(cb);
        };
        Collection.prototype.firstKey = function (cb) {
            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.lastKey = function (cb) {
            return this.reverse().firstKey(cb);
        };
        Collection.prototype.distinct = function () {
            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];
            if (!idx || !idx.multi)
                return this;
            var set = {};
            addFilter(this._ctx, function (cursor) {
                var strKey = cursor.primaryKey.toString();
                var found = hasOwn(set, strKey);
                set[strKey] = true;
                return !found;
            });
            return this;
        };
        Collection.prototype.modify = function (changes) {
            var _this = this;
            var ctx = this._ctx;
            return this._write(function (trans) {
                var modifyer;
                if (typeof changes === 'function') {
                    modifyer = changes;
                }
                else {
                    var keyPaths = keys(changes);
                    var numKeys = keyPaths.length;
                    modifyer = function (item) {
                        var anythingModified = false;
                        for (var i = 0; i < numKeys; ++i) {
                            var keyPath = keyPaths[i];
                            var val = changes[keyPath];
                            var origVal = getByKeyPath(item, keyPath);
                            if (val instanceof PropModification) {
                                setByKeyPath(item, keyPath, val.execute(origVal));
                                anythingModified = true;
                            }
                            else if (origVal !== val) {
                                setByKeyPath(item, keyPath, val);
                                anythingModified = true;
                            }
                        }
                        return anythingModified;
                    };
                }
                var coreTable = ctx.table.core;
                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;
                var limit = 200;
                var modifyChunkSize = _this.db._options.modifyChunkSize;
                if (modifyChunkSize) {
                    if (typeof modifyChunkSize == 'object') {
                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;
                    }
                    else {
                        limit = modifyChunkSize;
                    }
                }
                var totalFailures = [];
                var successCount = 0;
                var failedKeys = [];
                var applyMutateResult = function (expectedCount, res) {
                    var failures = res.failures, numFailures = res.numFailures;
                    successCount += expectedCount - numFailures;
                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {
                        var pos = _a[_i];
                        totalFailures.push(failures[pos]);
                    }
                };
                return _this.clone().primaryKeys().then(function (keys) {
                    var criteria = isPlainKeyRange(ctx) &&
                        ctx.limit === Infinity &&
                        (typeof changes !== 'function' || changes === deleteCallback) && {
                        index: ctx.index,
                        range: ctx.range
                    };
                    var nextChunk = function (offset) {
                        var count = Math.min(limit, keys.length - offset);
                        return coreTable.getMany({
                            trans: trans,
                            keys: keys.slice(offset, offset + count),
                            cache: "immutable"
                        }).then(function (values) {
                            var addValues = [];
                            var putValues = [];
                            var putKeys = outbound ? [] : null;
                            var deleteKeys = [];
                            for (var i = 0; i < count; ++i) {
                                var origValue = values[i];
                                var ctx_1 = {
                                    value: deepClone(origValue),
                                    primKey: keys[offset + i]
                                };
                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {
                                    if (ctx_1.value == null) {
                                        deleteKeys.push(keys[offset + i]);
                                    }
                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {
                                        deleteKeys.push(keys[offset + i]);
                                        addValues.push(ctx_1.value);
                                    }
                                    else {
                                        putValues.push(ctx_1.value);
                                        if (outbound)
                                            putKeys.push(keys[offset + i]);
                                    }
                                }
                            }
                            return Promise.resolve(addValues.length > 0 &&
                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })
                                    .then(function (res) {
                                    for (var pos in res.failures) {
                                        deleteKeys.splice(parseInt(pos), 1);
                                    }
                                    applyMutateResult(addValues.length, res);
                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'put',
                                    keys: putKeys,
                                    values: putValues,
                                    criteria: criteria,
                                    changeSpec: typeof changes !== 'function'
                                        && changes,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'delete',
                                    keys: deleteKeys,
                                    criteria: criteria,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {
                                return keys.length > offset + count && nextChunk(offset + limit);
                            });
                        });
                    };
                    return nextChunk(0).then(function () {
                        if (totalFailures.length > 0)
                            throw new ModifyError("Error modifying one or more objects", totalFailures, successCount, failedKeys);
                        return keys.length;
                    });
                });
            });
        };
        Collection.prototype.delete = function () {
            var ctx = this._ctx, range = ctx.range;
            if (isPlainKeyRange(ctx) &&
                (ctx.isPrimKey || range.type === 3 ))
             {
                return this._write(function (trans) {
                    var primaryKey = ctx.table.core.schema.primaryKey;
                    var coreRange = range;
                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {
                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })
                            .then(function (_a) {
                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;
                            if (numFailures)
                                throw new ModifyError("Could not delete some values", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);
                            return count - numFailures;
                        });
                    });
                });
            }
            return this.modify(deleteCallback);
        };
        return Collection;
    }());
    var deleteCallback = function (value, ctx) { return ctx.value = null; };

    function createCollectionConstructor(db) {
        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {
            this.db = db;
            var keyRange = AnyRange, error = null;
            if (keyRangeGenerator)
                try {
                    keyRange = keyRangeGenerator();
                }
                catch (ex) {
                    error = ex;
                }
            var whereCtx = whereClause._ctx;
            var table = whereCtx.table;
            var readingHook = table.hook.reading.fire;
            this._ctx = {
                table: table,
                index: whereCtx.index,
                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),
                range: keyRange,
                keysOnly: false,
                dir: "next",
                unique: "",
                algorithm: null,
                filter: null,
                replayFilter: null,
                justLimit: true,
                isMatch: null,
                offset: 0,
                limit: Infinity,
                error: error,
                or: whereCtx.or,
                valueMapper: readingHook !== mirror ? readingHook : null
            };
        });
    }

    function simpleCompare(a, b) {
        return a < b ? -1 : a === b ? 0 : 1;
    }
    function simpleCompareReverse(a, b) {
        return a > b ? -1 : a === b ? 0 : 1;
    }

    function fail(collectionOrWhereClause, err, T) {
        var collection = collectionOrWhereClause instanceof WhereClause ?
            new collectionOrWhereClause.Collection(collectionOrWhereClause) :
            collectionOrWhereClause;
        collection._ctx.error = T ? new T(err) : new TypeError(err);
        return collection;
    }
    function emptyCollection(whereClause) {
        return new whereClause.Collection(whereClause, function () { return rangeEqual(""); }).limit(0);
    }
    function upperFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toUpperCase(); } :
            function (s) { return s.toLowerCase(); };
    }
    function lowerFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toLowerCase(); } :
            function (s) { return s.toUpperCase(); };
    }
    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {
        var length = Math.min(key.length, lowerNeedle.length);
        var llp = -1;
        for (var i = 0; i < length; ++i) {
            var lwrKeyChar = lowerKey[i];
            if (lwrKeyChar !== lowerNeedle[i]) {
                if (cmp(key[i], upperNeedle[i]) < 0)
                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);
                if (cmp(key[i], lowerNeedle[i]) < 0)
                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);
                if (llp >= 0)
                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);
                return null;
            }
            if (cmp(key[i], lwrKeyChar) < 0)
                llp = i;
        }
        if (length < lowerNeedle.length && dir === "next")
            return key + upperNeedle.substr(key.length);
        if (length < key.length && dir === "prev")
            return key.substr(0, upperNeedle.length);
        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));
    }
    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {
        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;
        if (!needles.every(function (s) { return typeof s === 'string'; })) {
            return fail(whereClause, STRING_EXPECTED);
        }
        function initDirection(dir) {
            upper = upperFactory(dir);
            lower = lowerFactory(dir);
            compare = (dir === "next" ? simpleCompare : simpleCompareReverse);
            var needleBounds = needles.map(function (needle) {
                return { lower: lower(needle), upper: upper(needle) };
            }).sort(function (a, b) {
                return compare(a.lower, b.lower);
            });
            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });
            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });
            direction = dir;
            nextKeySuffix = (dir === "next" ? "" : suffix);
        }
        initDirection("next");
        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });
        c._ondirectionchange = function (direction) {
            initDirection(direction);
        };
        var firstPossibleNeedle = 0;
        c._addAlgorithm(function (cursor, advance, resolve) {
            var key = cursor.key;
            if (typeof key !== 'string')
                return false;
            var lowerKey = lower(key);
            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {
                return true;
            }
            else {
                var lowestPossibleCasing = null;
                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {
                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);
                    if (casing === null && lowestPossibleCasing === null)
                        firstPossibleNeedle = i + 1;
                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {
                        lowestPossibleCasing = casing;
                    }
                }
                if (lowestPossibleCasing !== null) {
                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });
                }
                else {
                    advance(resolve);
                }
                return false;
            }
        });
        return c;
    }
    function createRange(lower, upper, lowerOpen, upperOpen) {
        return {
            type: 2 ,
            lower: lower,
            upper: upper,
            lowerOpen: lowerOpen,
            upperOpen: upperOpen
        };
    }
    function rangeEqual(value) {
        return {
            type: 1 ,
            lower: value,
            upper: value
        };
    }

    var WhereClause =  (function () {
        function WhereClause() {
        }
        Object.defineProperty(WhereClause.prototype, "Collection", {
            get: function () {
                return this._ctx.table.db.Collection;
            },
            enumerable: false,
            configurable: true
        });
        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {
            includeLower = includeLower !== false;
            includeUpper = includeUpper === true;
            try {
                if ((this._cmp(lower, upper) > 0) ||
                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))
                    return emptyCollection(this);
                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
        };
        WhereClause.prototype.equals = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return rangeEqual(value); });
        };
        WhereClause.prototype.above = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, true); });
        };
        WhereClause.prototype.aboveOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, false); });
        };
        WhereClause.prototype.below = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });
        };
        WhereClause.prototype.belowOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value); });
        };
        WhereClause.prototype.startsWith = function (str) {
            if (typeof str !== 'string')
                return fail(this, STRING_EXPECTED);
            return this.between(str, str + maxString, true, true);
        };
        WhereClause.prototype.startsWithIgnoreCase = function (str) {
            if (str === "")
                return this.startsWith(str);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);
        };
        WhereClause.prototype.equalsIgnoreCase = function (str) {
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], "");
        };
        WhereClause.prototype.anyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, "");
        };
        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);
        };
        WhereClause.prototype.anyOf = function () {
            var _this = this;
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            var compare = this._cmp;
            try {
                set.sort(compare);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            if (set.length === 0)
                return emptyCollection(this);
            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });
            c._ondirectionchange = function (direction) {
                compare = (direction === "next" ?
                    _this._ascending :
                    _this._descending);
                set.sort(compare);
            };
            var i = 0;
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (compare(key, set[i]) > 0) {
                    ++i;
                    if (i === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (compare(key, set[i]) === 0) {
                    return true;
                }
                else {
                    advance(function () { cursor.continue(set[i]); });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.notEqual = function (value) {
            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.noneOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return new this.Collection(this);
            try {
                set.sort(this._ascending);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var ranges = set.reduce(function (res, val) { return res ?
                res.concat([[res[res.length - 1][1], val]]) :
                [[minKey, val]]; }, null);
            ranges.push([set[set.length - 1], this.db._maxKey]);
            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.inAnyRange = function (ranges, options) {
            var _this = this;
            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;
            if (ranges.length === 0)
                return emptyCollection(this);
            if (!ranges.every(function (range) {
                return range[0] !== undefined &&
                    range[1] !== undefined &&
                    ascending(range[0], range[1]) <= 0;
            })) {
                return fail(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", exceptions.InvalidArgument);
            }
            var includeLowers = !options || options.includeLowers !== false;
            var includeUppers = options && options.includeUppers === true;
            function addRange(ranges, newRange) {
                var i = 0, l = ranges.length;
                for (; i < l; ++i) {
                    var range = ranges[i];
                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {
                        range[0] = min(range[0], newRange[0]);
                        range[1] = max(range[1], newRange[1]);
                        break;
                    }
                }
                if (i === l)
                    ranges.push(newRange);
                return ranges;
            }
            var sortDirection = ascending;
            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }
            var set;
            try {
                set = ranges.reduce(addRange, []);
                set.sort(rangeSorter);
            }
            catch (ex) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var rangePos = 0;
            var keyIsBeyondCurrentEntry = includeUppers ?
                function (key) { return ascending(key, set[rangePos][1]) > 0; } :
                function (key) { return ascending(key, set[rangePos][1]) >= 0; };
            var keyIsBeforeCurrentEntry = includeLowers ?
                function (key) { return descending(key, set[rangePos][0]) > 0; } :
                function (key) { return descending(key, set[rangePos][0]) >= 0; };
            function keyWithinCurrentRange(key) {
                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);
            }
            var checkKey = keyIsBeyondCurrentEntry;
            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });
            c._ondirectionchange = function (direction) {
                if (direction === "next") {
                    checkKey = keyIsBeyondCurrentEntry;
                    sortDirection = ascending;
                }
                else {
                    checkKey = keyIsBeforeCurrentEntry;
                    sortDirection = descending;
                }
                set.sort(rangeSorter);
            };
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (checkKey(key)) {
                    ++rangePos;
                    if (rangePos === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (keyWithinCurrentRange(key)) {
                    return true;
                }
                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {
                    return false;
                }
                else {
                    advance(function () {
                        if (sortDirection === ascending)
                            cursor.continue(set[rangePos][0]);
                        else
                            cursor.continue(set[rangePos][1]);
                    });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.startsWithAnyOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (!set.every(function (s) { return typeof s === 'string'; })) {
                return fail(this, "startsWithAnyOf() only works with strings");
            }
            if (set.length === 0)
                return emptyCollection(this);
            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));
        };
        return WhereClause;
    }());

    function createWhereClauseConstructor(db) {
        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {
            this.db = db;
            this._ctx = {
                table: table,
                index: index === ":id" ? null : index,
                or: orCollection
            };
            this._cmp = this._ascending = cmp;
            this._descending = function (a, b) { return cmp(b, a); };
            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };
            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };
            this._IDBKeyRange = db._deps.IDBKeyRange;
            if (!this._IDBKeyRange)
                throw new exceptions.MissingAPI();
        });
    }

    function eventRejectHandler(reject) {
        return wrap(function (event) {
            preventDefault(event);
            reject(event.target.error);
            return false;
        });
    }
    function preventDefault(event) {
        if (event.stopPropagation)
            event.stopPropagation();
        if (event.preventDefault)
            event.preventDefault();
    }

    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';
    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';
    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);

    var Transaction =  (function () {
        function Transaction() {
        }
        Transaction.prototype._lock = function () {
            assert(!PSD.global);
            ++this._reculock;
            if (this._reculock === 1 && !PSD.global)
                PSD.lockOwnerFor = this;
            return this;
        };
        Transaction.prototype._unlock = function () {
            assert(!PSD.global);
            if (--this._reculock === 0) {
                if (!PSD.global)
                    PSD.lockOwnerFor = null;
                while (this._blockedFuncs.length > 0 && !this._locked()) {
                    var fnAndPSD = this._blockedFuncs.shift();
                    try {
                        usePSD(fnAndPSD[1], fnAndPSD[0]);
                    }
                    catch (e) { }
                }
            }
            return this;
        };
        Transaction.prototype._locked = function () {
            return this._reculock && PSD.lockOwnerFor !== this;
        };
        Transaction.prototype.create = function (idbtrans) {
            var _this = this;
            if (!this.mode)
                return this;
            var idbdb = this.db.idbdb;
            var dbOpenError = this.db._state.dbOpenError;
            assert(!this.idbtrans);
            if (!idbtrans && !idbdb) {
                switch (dbOpenError && dbOpenError.name) {
                    case "DatabaseClosedError":
                        throw new exceptions.DatabaseClosed(dbOpenError);
                    case "MissingAPIError":
                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);
                    default:
                        throw new exceptions.OpenFailed(dbOpenError);
                }
            }
            if (!this.active)
                throw new exceptions.TransactionInactive();
            assert(this._completion._state === null);
            idbtrans = this.idbtrans = idbtrans ||
                (this.db.core
                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })
                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));
            idbtrans.onerror = wrap(function (ev) {
                preventDefault(ev);
                _this._reject(idbtrans.error);
            });
            idbtrans.onabort = wrap(function (ev) {
                preventDefault(ev);
                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));
                _this.active = false;
                _this.on("abort").fire(ev);
            });
            idbtrans.oncomplete = wrap(function () {
                _this.active = false;
                _this._resolve();
                if ('mutatedParts' in idbtrans) {
                    globalEvents.storagemutated.fire(idbtrans["mutatedParts"]);
                }
            });
            return this;
        };
        Transaction.prototype._promise = function (mode, fn, bWriteLock) {
            var _this = this;
            if (mode === 'readwrite' && this.mode !== 'readwrite')
                return rejection(new exceptions.ReadOnly("Transaction is readonly"));
            if (!this.active)
                return rejection(new exceptions.TransactionInactive());
            if (this._locked()) {
                return new DexiePromise(function (resolve, reject) {
                    _this._blockedFuncs.push([function () {
                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);
                        }, PSD]);
                });
            }
            else if (bWriteLock) {
                return newScope(function () {
                    var p = new DexiePromise(function (resolve, reject) {
                        _this._lock();
                        var rv = fn(resolve, reject, _this);
                        if (rv && rv.then)
                            rv.then(resolve, reject);
                    });
                    p.finally(function () { return _this._unlock(); });
                    p._lib = true;
                    return p;
                });
            }
            else {
                var p = new DexiePromise(function (resolve, reject) {
                    var rv = fn(resolve, reject, _this);
                    if (rv && rv.then)
                        rv.then(resolve, reject);
                });
                p._lib = true;
                return p;
            }
        };
        Transaction.prototype._root = function () {
            return this.parent ? this.parent._root() : this;
        };
        Transaction.prototype.waitFor = function (promiseLike) {
            var root = this._root();
            var promise = DexiePromise.resolve(promiseLike);
            if (root._waitingFor) {
                root._waitingFor = root._waitingFor.then(function () { return promise; });
            }
            else {
                root._waitingFor = promise;
                root._waitingQueue = [];
                var store = root.idbtrans.objectStore(root.storeNames[0]);
                (function spin() {
                    ++root._spinCount;
                    while (root._waitingQueue.length)
                        (root._waitingQueue.shift())();
                    if (root._waitingFor)
                        store.get(-Infinity).onsuccess = spin;
                }());
            }
            var currentWaitPromise = root._waitingFor;
            return new DexiePromise(function (resolve, reject) {
                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {
                    if (root._waitingFor === currentWaitPromise) {
                        root._waitingFor = null;
                    }
                });
            });
        };
        Transaction.prototype.abort = function () {
            if (this.active) {
                this.active = false;
                if (this.idbtrans)
                    this.idbtrans.abort();
                this._reject(new exceptions.Abort());
            }
        };
        Transaction.prototype.table = function (tableName) {
            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));
            if (hasOwn(memoizedTables, tableName))
                return memoizedTables[tableName];
            var tableSchema = this.schema[tableName];
            if (!tableSchema) {
                throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
            }
            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);
            transactionBoundTable.core = this.db.core.table(tableName);
            memoizedTables[tableName] = transactionBoundTable;
            return transactionBoundTable;
        };
        return Transaction;
    }());

    function createTransactionConstructor(db) {
        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {
            var _this = this;
            this.db = db;
            this.mode = mode;
            this.storeNames = storeNames;
            this.schema = dbschema;
            this.chromeTransactionDurability = chromeTransactionDurability;
            this.idbtrans = null;
            this.on = Events(this, "complete", "error", "abort");
            this.parent = parent || null;
            this.active = true;
            this._reculock = 0;
            this._blockedFuncs = [];
            this._resolve = null;
            this._reject = null;
            this._waitingFor = null;
            this._waitingQueue = null;
            this._spinCount = 0;
            this._completion = new DexiePromise(function (resolve, reject) {
                _this._resolve = resolve;
                _this._reject = reject;
            });
            this._completion.then(function () {
                _this.active = false;
                _this.on.complete.fire();
            }, function (e) {
                var wasActive = _this.active;
                _this.active = false;
                _this.on.error.fire(e);
                _this.parent ?
                    _this.parent._reject(e) :
                    wasActive && _this.idbtrans && _this.idbtrans.abort();
                return rejection(e);
            });
        });
    }

    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {
        return {
            name: name,
            keyPath: keyPath,
            unique: unique,
            multi: multi,
            auto: auto,
            compound: compound,
            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? "++" : "") + nameFromKeyPath(keyPath)
        };
    }
    function nameFromKeyPath(keyPath) {
        return typeof keyPath === 'string' ?
            keyPath :
            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : "";
    }

    function createTableSchema(name, primKey, indexes) {
        return {
            name: name,
            primKey: primKey,
            indexes: indexes,
            mappedClass: null,
            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })
        };
    }

    function safariMultiStoreFix(storeNames) {
        return storeNames.length === 1 ? storeNames[0] : storeNames;
    }
    var getMaxKey = function (IdbKeyRange) {
        try {
            IdbKeyRange.only([[]]);
            getMaxKey = function () { return [[]]; };
            return [[]];
        }
        catch (e) {
            getMaxKey = function () { return maxString; };
            return maxString;
        }
    };

    function getKeyExtractor(keyPath) {
        if (keyPath == null) {
            return function () { return undefined; };
        }
        else if (typeof keyPath === 'string') {
            return getSinglePathKeyExtractor(keyPath);
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }
    function getSinglePathKeyExtractor(keyPath) {
        var split = keyPath.split('.');
        if (split.length === 1) {
            return function (obj) { return obj[keyPath]; };
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }

    function arrayify(arrayLike) {
        return [].slice.call(arrayLike);
    }
    var _id_counter = 0;
    function getKeyPathAlias(keyPath) {
        return keyPath == null ?
            ":id" :
            typeof keyPath === 'string' ?
                keyPath :
                "[".concat(keyPath.join('+'), "]");
    }
    function createDBCore(db, IdbKeyRange, tmpTrans) {
        function extractSchema(db, trans) {
            var tables = arrayify(db.objectStoreNames);
            return {
                schema: {
                    name: db.name,
                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {
                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;
                        var compound = isArray(keyPath);
                        var outbound = keyPath == null;
                        var indexByKeyPath = {};
                        var result = {
                            name: store.name,
                            primaryKey: {
                                name: null,
                                isPrimaryKey: true,
                                outbound: outbound,
                                compound: compound,
                                keyPath: keyPath,
                                autoIncrement: autoIncrement,
                                unique: true,
                                extractKey: getKeyExtractor(keyPath)
                            },
                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })
                                .map(function (index) {
                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;
                                var compound = isArray(keyPath);
                                var result = {
                                    name: name,
                                    compound: compound,
                                    keyPath: keyPath,
                                    unique: unique,
                                    multiEntry: multiEntry,
                                    extractKey: getKeyExtractor(keyPath)
                                };
                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;
                                return result;
                            }),
                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }
                        };
                        indexByKeyPath[":id"] = result.primaryKey;
                        if (keyPath != null) {
                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;
                        }
                        return result;
                    })
                },
                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&
                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
                        !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
                        [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604)
            };
        }
        function makeIDBKeyRange(range) {
            if (range.type === 3 )
                return null;
            if (range.type === 4 )
                throw new Error("Cannot convert never type to IDBKeyRange");
            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;
            var idbRange = lower === undefined ?
                upper === undefined ?
                    null :
                    IdbKeyRange.upperBound(upper, !!upperOpen) :
                upper === undefined ?
                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :
                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);
            return idbRange;
        }
        function createDbCoreTable(tableSchema) {
            var tableName = tableSchema.name;
            function mutate(_a) {
                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var store = trans.objectStore(tableName);
                    var outbound = store.keyPath == null;
                    var isAddOrPut = type === "put" || type === "add";
                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')
                        throw new Error("Invalid operation type: " + type);
                    var length = (keys || values || { length: 1 }).length;
                    if (keys && values && keys.length !== values.length) {
                        throw new Error("Given keys array must have same length as given values array.");
                    }
                    if (length === 0)
                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });
                    var req;
                    var reqs = [];
                    var failures = [];
                    var numFailures = 0;
                    var errorHandler = function (event) {
                        ++numFailures;
                        preventDefault(event);
                    };
                    if (type === 'deleteRange') {
                        if (range.type === 4 )
                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });
                        if (range.type === 3 )
                            reqs.push(req = store.clear());
                        else
                            reqs.push(req = store.delete(makeIDBKeyRange(range)));
                    }
                    else {
                        var _a = isAddOrPut ?
                            outbound ?
                                [values, keys] :
                                [values, null] :
                            [keys, null], args1 = _a[0], args2 = _a[1];
                        if (isAddOrPut) {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = (args2 && args2[i] !== undefined ?
                                    store[type](args1[i], args2[i]) :
                                    store[type](args1[i])));
                                req.onerror = errorHandler;
                            }
                        }
                        else {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = store[type](args1[i]));
                                req.onerror = errorHandler;
                            }
                        }
                    }
                    var done = function (event) {
                        var lastResult = event.target.result;
                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });
                        resolve({
                            numFailures: numFailures,
                            failures: failures,
                            results: type === "delete" ? keys : reqs.map(function (req) { return req.result; }),
                            lastResult: lastResult
                        });
                    };
                    req.onerror = function (event) {
                        errorHandler(event);
                        done(event);
                    };
                    req.onsuccess = done;
                });
            }
            function openCursor(_a) {
                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var index = query.index, range = query.range;
                    var store = trans.objectStore(tableName);
                    var source = index.isPrimaryKey ?
                        store :
                        store.index(index.name);
                    var direction = reverse ?
                        unique ?
                            "prevunique" :
                            "prev" :
                        unique ?
                            "nextunique" :
                            "next";
                    var req = values || !('openKeyCursor' in source) ?
                        source.openCursor(makeIDBKeyRange(range), direction) :
                        source.openKeyCursor(makeIDBKeyRange(range), direction);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function (ev) {
                        var cursor = req.result;
                        if (!cursor) {
                            resolve(null);
                            return;
                        }
                        cursor.___id = ++_id_counter;
                        cursor.done = false;
                        var _cursorContinue = cursor.continue.bind(cursor);
                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;
                        if (_cursorContinuePrimaryKey)
                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);
                        var _cursorAdvance = cursor.advance.bind(cursor);
                        var doThrowCursorIsNotStarted = function () { throw new Error("Cursor not started"); };
                        var doThrowCursorIsStopped = function () { throw new Error("Cursor not stopped"); };
                        cursor.trans = trans;
                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;
                        cursor.fail = wrap(reject);
                        cursor.next = function () {
                            var _this = this;
                            var gotOne = 1;
                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });
                        };
                        cursor.start = function (callback) {
                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {
                                resolveIteration = wrap(resolveIteration);
                                req.onerror = eventRejectHandler(rejectIteration);
                                cursor.fail = rejectIteration;
                                cursor.stop = function (value) {
                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;
                                    resolveIteration(value);
                                };
                            });
                            var guardedCallback = function () {
                                if (req.result) {
                                    try {
                                        callback();
                                    }
                                    catch (err) {
                                        cursor.fail(err);
                                    }
                                }
                                else {
                                    cursor.done = true;
                                    cursor.start = function () { throw new Error("Cursor behind last entry"); };
                                    cursor.stop();
                                }
                            };
                            req.onsuccess = wrap(function (ev) {
                                req.onsuccess = guardedCallback;
                                guardedCallback();
                            });
                            cursor.continue = _cursorContinue;
                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;
                            cursor.advance = _cursorAdvance;
                            guardedCallback();
                            return iterationPromise;
                        };
                        resolve(cursor);
                    }, reject);
                });
            }
            function query(hasGetAll) {
                return function (request) {
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;
                        var nonInfinitLimit = limit === Infinity ? undefined : limit;
                        var index = query.index, range = query.range;
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        if (limit === 0)
                            return resolve({ result: [] });
                        if (hasGetAll) {
                            var req = values ?
                                source.getAll(idbKeyRange, nonInfinitLimit) :
                                source.getAllKeys(idbKeyRange, nonInfinitLimit);
                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };
                            req.onerror = eventRejectHandler(reject);
                        }
                        else {
                            var count_1 = 0;
                            var req_1 = values || !('openKeyCursor' in source) ?
                                source.openCursor(idbKeyRange) :
                                source.openKeyCursor(idbKeyRange);
                            var result_1 = [];
                            req_1.onsuccess = function (event) {
                                var cursor = req_1.result;
                                if (!cursor)
                                    return resolve({ result: result_1 });
                                result_1.push(values ? cursor.value : cursor.primaryKey);
                                if (++count_1 === limit)
                                    return resolve({ result: result_1 });
                                cursor.continue();
                            };
                            req_1.onerror = eventRejectHandler(reject);
                        }
                    });
                };
            }
            return {
                name: tableName,
                schema: tableSchema,
                mutate: mutate,
                getMany: function (_a) {
                    var trans = _a.trans, keys = _a.keys;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var length = keys.length;
                        var result = new Array(length);
                        var keyCount = 0;
                        var callbackCount = 0;
                        var req;
                        var successHandler = function (event) {
                            var req = event.target;
                            if ((result[req._pos] = req.result) != null)
                                ;
                            if (++callbackCount === keyCount)
                                resolve(result);
                        };
                        var errorHandler = eventRejectHandler(reject);
                        for (var i = 0; i < length; ++i) {
                            var key = keys[i];
                            if (key != null) {
                                req = store.get(keys[i]);
                                req._pos = i;
                                req.onsuccess = successHandler;
                                req.onerror = errorHandler;
                                ++keyCount;
                            }
                        }
                        if (keyCount === 0)
                            resolve(result);
                    });
                },
                get: function (_a) {
                    var trans = _a.trans, key = _a.key;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var req = store.get(key);
                        req.onsuccess = function (event) { return resolve(event.target.result); };
                        req.onerror = eventRejectHandler(reject);
                    });
                },
                query: query(hasGetAll),
                openCursor: openCursor,
                count: function (_a) {
                    var query = _a.query, trans = _a.trans;
                    var index = query.index, range = query.range;
                    return new Promise(function (resolve, reject) {
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();
                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });
                        req.onerror = eventRejectHandler(reject);
                    });
                }
            };
        }
        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;
        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });
        var tableMap = {};
        tables.forEach(function (table) { return tableMap[table.name] = table; });
        return {
            stack: "dbcore",
            transaction: db.transaction.bind(db),
            table: function (name) {
                var result = tableMap[name];
                if (!result)
                    throw new Error("Table '".concat(name, "' not found"));
                return tableMap[name];
            },
            MIN_KEY: -Infinity,
            MAX_KEY: getMaxKey(IdbKeyRange),
            schema: schema
        };
    }

    function createMiddlewareStack(stackImpl, middlewares) {
        return middlewares.reduce(function (down, _a) {
            var create = _a.create;
            return (__assign(__assign({}, down), create(down)));
        }, stackImpl);
    }
    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {
        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;
        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);
        return {
            dbcore: dbcore
        };
    }
    function generateMiddlewareStacks(db, tmpTrans) {
        var idbdb = tmpTrans.db;
        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);
        db.core = stacks.dbcore;
        db.tables.forEach(function (table) {
            var tableName = table.name;
            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {
                table.core = db.core.table(tableName);
                if (db[tableName] instanceof db.Table) {
                    db[tableName].core = table.core;
                }
            }
        });
    }

    function setApiOnPlace(db, objs, tableNames, dbschema) {
        tableNames.forEach(function (tableName) {
            var schema = dbschema[tableName];
            objs.forEach(function (obj) {
                var propDesc = getPropertyDescriptor(obj, tableName);
                if (!propDesc || ("value" in propDesc && propDesc.value === undefined)) {
                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {
                        setProp(obj, tableName, {
                            get: function () { return this.table(tableName); },
                            set: function (value) {
                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });
                            }
                        });
                    }
                    else {
                        obj[tableName] = new db.Table(tableName, schema);
                    }
                }
            });
        });
    }
    function removeTablesApi(db, objs) {
        objs.forEach(function (obj) {
            for (var key in obj) {
                if (obj[key] instanceof db.Table)
                    delete obj[key];
            }
        });
    }
    function lowerVersionFirst(a, b) {
        return a._cfg.version - b._cfg.version;
    }
    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {
        var globalSchema = db._dbSchema;
        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {
            globalSchema.$meta = createTableSchema("$meta", parseIndexSyntax("")[0], []);
            db._storeNames.push('$meta');
        }
        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);
        trans.create(idbUpgradeTrans);
        trans._completion.catch(reject);
        var rejectTransaction = trans._reject.bind(trans);
        var transless = PSD.transless || PSD;
        newScope(function () {
            PSD.trans = trans;
            PSD.transless = transless;
            if (oldVersion === 0) {
                keys(globalSchema).forEach(function (tableName) {
                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);
                });
                generateMiddlewareStacks(db, idbUpgradeTrans);
                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);
            }
            else {
                generateMiddlewareStacks(db, idbUpgradeTrans);
                return getExistingVersion(db, trans, oldVersion)
                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })
                    .catch(rejectTransaction);
            }
        });
    }
    function patchCurrentVersion(db, idbUpgradeTrans) {
        createMissingTables(db._dbSchema, idbUpgradeTrans);
        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {
            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');
        }
        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);
        var diff = getSchemaDiff(globalSchema, db._dbSchema);
        var _loop_1 = function (tableChange) {
            if (tableChange.change.length || tableChange.recreate) {
                console.warn("Unable to patch indexes of table ".concat(tableChange.name, " because it has changes on the type of index or primary key."));
                return { value: void 0 };
            }
            var store = idbUpgradeTrans.objectStore(tableChange.name);
            tableChange.add.forEach(function (idx) {
                if (debug)
                    console.debug("Dexie upgrade patch: Creating missing index ".concat(tableChange.name, ".").concat(idx.src));
                addIndex(store, idx);
            });
        };
        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {
            var tableChange = _a[_i];
            var state_1 = _loop_1(tableChange);
            if (typeof state_1 === "object")
                return state_1.value;
        }
    }
    function getExistingVersion(db, trans, oldVersion) {
        if (trans.storeNames.includes('$meta')) {
            return trans.table('$meta').get('version').then(function (metaVersion) {
                return metaVersion != null ? metaVersion : oldVersion;
            });
        }
        else {
            return DexiePromise.resolve(oldVersion);
        }
    }
    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {
        var queue = [];
        var versions = db._versions;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });
        if (versToRun.length === 0) {
            return DexiePromise.resolve();
        }
        versToRun.forEach(function (version) {
            queue.push(function () {
                var oldSchema = globalSchema;
                var newSchema = version._cfg.dbschema;
                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);
                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);
                globalSchema = db._dbSchema = newSchema;
                var diff = getSchemaDiff(oldSchema, newSchema);
                diff.add.forEach(function (tuple) {
                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);
                });
                diff.change.forEach(function (change) {
                    if (change.recreate) {
                        throw new exceptions.Upgrade("Not yet support for changing primary key");
                    }
                    else {
                        var store_1 = idbUpgradeTrans.objectStore(change.name);
                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });
                        change.change.forEach(function (idx) {
                            store_1.deleteIndex(idx.name);
                            addIndex(store_1, idx);
                        });
                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });
                    }
                });
                var contentUpgrade = version._cfg.contentUpgrade;
                if (contentUpgrade && version._cfg.version > oldVersion) {
                    generateMiddlewareStacks(db, idbUpgradeTrans);
                    trans._memoizedTables = {};
                    var upgradeSchema_1 = shallowClone(newSchema);
                    diff.del.forEach(function (table) {
                        upgradeSchema_1[table] = oldSchema[table];
                    });
                    removeTablesApi(db, [db.Transaction.prototype]);
                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);
                    trans.schema = upgradeSchema_1;
                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);
                    if (contentUpgradeIsAsync_1) {
                        incrementExpectedAwaits();
                    }
                    var returnValue_1;
                    var promiseFollowed = DexiePromise.follow(function () {
                        returnValue_1 = contentUpgrade(trans);
                        if (returnValue_1) {
                            if (contentUpgradeIsAsync_1) {
                                var decrementor = decrementExpectedAwaits.bind(null, null);
                                returnValue_1.then(decrementor, decrementor);
                            }
                        }
                    });
                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?
                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));
                }
            });
            queue.push(function (idbtrans) {
                var newSchema = version._cfg.dbschema;
                deleteRemovedTables(newSchema, idbtrans);
                removeTablesApi(db, [db.Transaction.prototype]);
                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);
                trans.schema = db._dbSchema;
            });
            queue.push(function (idbtrans) {
                if (db.idbdb.objectStoreNames.contains('$meta')) {
                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {
                        db.idbdb.deleteObjectStore('$meta');
                        delete db._dbSchema.$meta;
                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });
                    }
                    else {
                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');
                    }
                }
            });
        });
        function runQueue() {
            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :
                DexiePromise.resolve();
        }
        return runQueue().then(function () {
            createMissingTables(globalSchema, idbUpgradeTrans);
        });
    }
    function getSchemaDiff(oldSchema, newSchema) {
        var diff = {
            del: [],
            add: [],
            change: []
        };
        var table;
        for (table in oldSchema) {
            if (!newSchema[table])
                diff.del.push(table);
        }
        for (table in newSchema) {
            var oldDef = oldSchema[table], newDef = newSchema[table];
            if (!oldDef) {
                diff.add.push([table, newDef]);
            }
            else {
                var change = {
                    name: table,
                    def: newDef,
                    recreate: false,
                    del: [],
                    add: [],
                    change: []
                };
                if ((
                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||
                    (oldDef.primKey.auto !== newDef.primKey.auto)) {
                    change.recreate = true;
                    diff.change.push(change);
                }
                else {
                    var oldIndexes = oldDef.idxByName;
                    var newIndexes = newDef.idxByName;
                    var idxName = void 0;
                    for (idxName in oldIndexes) {
                        if (!newIndexes[idxName])
                            change.del.push(idxName);
                    }
                    for (idxName in newIndexes) {
                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];
                        if (!oldIdx)
                            change.add.push(newIdx);
                        else if (oldIdx.src !== newIdx.src)
                            change.change.push(newIdx);
                    }
                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {
                        diff.change.push(change);
                    }
                }
            }
        }
        return diff;
    }
    function createTable(idbtrans, tableName, primKey, indexes) {
        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?
            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :
            { autoIncrement: primKey.auto });
        indexes.forEach(function (idx) { return addIndex(store, idx); });
        return store;
    }
    function createMissingTables(newSchema, idbtrans) {
        keys(newSchema).forEach(function (tableName) {
            if (!idbtrans.db.objectStoreNames.contains(tableName)) {
                if (debug)
                    console.debug('Dexie: Creating missing table', tableName);
                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);
            }
        });
    }
    function deleteRemovedTables(newSchema, idbtrans) {
        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {
            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);
        });
    }
    function addIndex(store, idx) {
        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });
    }
    function buildGlobalSchema(db, idbdb, tmpTrans) {
        var globalSchema = {};
        var dbStoreNames = slice(idbdb.objectStoreNames, 0);
        dbStoreNames.forEach(function (storeName) {
            var store = tmpTrans.objectStore(storeName);
            var keyPath = store.keyPath;
            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || "", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== "string", true);
            var indexes = [];
            for (var j = 0; j < store.indexNames.length; ++j) {
                var idbindex = store.index(store.indexNames[j]);
                keyPath = idbindex.keyPath;
                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== "string", false);
                indexes.push(index);
            }
            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);
        });
        return globalSchema;
    }
    function readGlobalSchema(db, idbdb, tmpTrans) {
        db.verno = idbdb.version / 10;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);
        db._storeNames = slice(idbdb.objectStoreNames, 0);
        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);
    }
    function verifyInstalledSchema(db, tmpTrans) {
        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);
        var diff = getSchemaDiff(installedSchema, db._dbSchema);
        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));
    }
    function adjustToExistingIndexNames(db, schema, idbtrans) {
        var storeNames = idbtrans.db.objectStoreNames;
        for (var i = 0; i < storeNames.length; ++i) {
            var storeName = storeNames[i];
            var store = idbtrans.objectStore(storeName);
            db._hasGetAll = 'getAll' in store;
            for (var j = 0; j < store.indexNames.length; ++j) {
                var indexName = store.indexNames[j];
                var keyPath = store.index(indexName).keyPath;
                var dexieName = typeof keyPath === 'string' ? keyPath : "[" + slice(keyPath).join('+') + "]";
                if (schema[storeName]) {
                    var indexSpec = schema[storeName].idxByName[dexieName];
                    if (indexSpec) {
                        indexSpec.name = indexName;
                        delete schema[storeName].idxByName[dexieName];
                        schema[storeName].idxByName[indexName] = indexSpec;
                    }
                }
            }
        }
        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) {
            db._hasGetAll = false;
        }
    }
    function parseIndexSyntax(primKeyAndIndexes) {
        return primKeyAndIndexes.split(',').map(function (index, indexNum) {
            index = index.trim();
            var name = index.replace(/([&*]|\+\+)/g, "");
            var keyPath = /^\[/.test(name) ? name.match(/^\[(.*)\]$/)[1].split('+') : name;
            return createIndexSpec(name, keyPath || null, /\&/.test(index), /\*/.test(index), /\+\+/.test(index), isArray(keyPath), indexNum === 0);
        });
    }

    var Version =  (function () {
        function Version() {
        }
        Version.prototype._parseStoresSpec = function (stores, outSchema) {
            keys(stores).forEach(function (tableName) {
                if (stores[tableName] !== null) {
                    var indexes = parseIndexSyntax(stores[tableName]);
                    var primKey = indexes.shift();
                    primKey.unique = true;
                    if (primKey.multi)
                        throw new exceptions.Schema("Primary key cannot be multi-valued");
                    indexes.forEach(function (idx) {
                        if (idx.auto)
                            throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");
                        if (!idx.keyPath)
                            throw new exceptions.Schema("Index must have a name and cannot be an empty string");
                    });
                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);
                }
            });
        };
        Version.prototype.stores = function (stores) {
            var db = this.db;
            this._cfg.storesSource = this._cfg.storesSource ?
                extend(this._cfg.storesSource, stores) :
                stores;
            var versions = db._versions;
            var storesSpec = {};
            var dbschema = {};
            versions.forEach(function (version) {
                extend(storesSpec, version._cfg.storesSource);
                dbschema = (version._cfg.dbschema = {});
                version._parseStoresSpec(storesSpec, dbschema);
            });
            db._dbSchema = dbschema;
            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);
            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);
            db._storeNames = keys(dbschema);
            return this;
        };
        Version.prototype.upgrade = function (upgradeFunction) {
            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);
            return this;
        };
        return Version;
    }());

    function createVersionConstructor(db) {
        return makeClassConstructor(Version.prototype, function Version(versionNumber) {
            this.db = db;
            this._cfg = {
                version: versionNumber,
                storesSource: null,
                dbschema: {},
                tables: {},
                contentUpgrade: null
            };
        });
    }

    function getDbNamesTable(indexedDB, IDBKeyRange) {
        var dbNamesDB = indexedDB["_dbNamesDB"];
        if (!dbNamesDB) {
            dbNamesDB = indexedDB["_dbNamesDB"] = new Dexie$1(DBNAMES_DB, {
                addons: [],
                indexedDB: indexedDB,
                IDBKeyRange: IDBKeyRange,
            });
            dbNamesDB.version(1).stores({ dbnames: "name" });
        }
        return dbNamesDB.table("dbnames");
    }
    function hasDatabasesNative(indexedDB) {
        return indexedDB && typeof indexedDB.databases === "function";
    }
    function getDatabaseNames(_a) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        return hasDatabasesNative(indexedDB)
            ? Promise.resolve(indexedDB.databases()).then(function (infos) {
                return infos
                    .map(function (info) { return info.name; })
                    .filter(function (name) { return name !== DBNAMES_DB; });
            })
            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();
    }
    function _onDatabaseCreated(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);
    }
    function _onDatabaseDeleted(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);
    }

    function vip(fn) {
        return newScope(function () {
            PSD.letThrough = true;
            return fn();
        });
    }

    function idbReady() {
        var isSafari = !navigator.userAgentData &&
            /Safari\//.test(navigator.userAgent) &&
            !/Chrom(e|ium)\//.test(navigator.userAgent);
        if (!isSafari || !indexedDB.databases)
            return Promise.resolve();
        var intervalId;
        return new Promise(function (resolve) {
            var tryIdb = function () { return indexedDB.databases().finally(resolve); };
            intervalId = setInterval(tryIdb, 100);
            tryIdb();
        }).finally(function () { return clearInterval(intervalId); });
    }

    var _a;
    function isEmptyRange(node) {
        return !("from" in node);
    }
    var RangeSet = function (fromOrTree, to) {
        if (this) {
            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });
        }
        else {
            var rv = new RangeSet();
            if (fromOrTree && ("d" in fromOrTree)) {
                extend(rv, fromOrTree);
            }
            return rv;
        }
    };
    props(RangeSet.prototype, (_a = {
            add: function (rangeSet) {
                mergeRanges(this, rangeSet);
                return this;
            },
            addKey: function (key) {
                addRange(this, key, key);
                return this;
            },
            addKeys: function (keys) {
                var _this = this;
                keys.forEach(function (key) { return addRange(_this, key, key); });
                return this;
            },
            hasKey: function (key) {
                var node = getRangeSetIterator(this).next(key).value;
                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;
            }
        },
        _a[iteratorSymbol] = function () {
            return getRangeSetIterator(this);
        },
        _a));
    function addRange(target, from, to) {
        var diff = cmp(from, to);
        if (isNaN(diff))
            return;
        if (diff > 0)
            throw RangeError();
        if (isEmptyRange(target))
            return extend(target, { from: from, to: to, d: 1 });
        var left = target.l;
        var right = target.r;
        if (cmp(to, target.from) < 0) {
            left
                ? addRange(left, from, to)
                : (target.l = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.to) > 0) {
            right
                ? addRange(right, from, to)
                : (target.r = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.from) < 0) {
            target.from = from;
            target.l = null;
            target.d = right ? right.d + 1 : 1;
        }
        if (cmp(to, target.to) > 0) {
            target.to = to;
            target.r = null;
            target.d = target.l ? target.l.d + 1 : 1;
        }
        var rightWasCutOff = !target.r;
        if (left && !target.l) {
            mergeRanges(target, left);
        }
        if (right && rightWasCutOff) {
            mergeRanges(target, right);
        }
    }
    function mergeRanges(target, newSet) {
        function _addRangeSet(target, _a) {
            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;
            addRange(target, from, to);
            if (l)
                _addRangeSet(target, l);
            if (r)
                _addRangeSet(target, r);
        }
        if (!isEmptyRange(newSet))
            _addRangeSet(target, newSet);
    }
    function rangesOverlap(rangeSet1, rangeSet2) {
        var i1 = getRangeSetIterator(rangeSet2);
        var nextResult1 = i1.next();
        if (nextResult1.done)
            return false;
        var a = nextResult1.value;
        var i2 = getRangeSetIterator(rangeSet1);
        var nextResult2 = i2.next(a.from);
        var b = nextResult2.value;
        while (!nextResult1.done && !nextResult2.done) {
            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)
                return true;
            cmp(a.from, b.from) < 0
                ? (a = (nextResult1 = i1.next(b.from)).value)
                : (b = (nextResult2 = i2.next(a.from)).value);
        }
        return false;
    }
    function getRangeSetIterator(node) {
        var state = isEmptyRange(node) ? null : { s: 0, n: node };
        return {
            next: function (key) {
                var keyProvided = arguments.length > 0;
                while (state) {
                    switch (state.s) {
                        case 0:
                            state.s = 1;
                            if (keyProvided) {
                                while (state.n.l && cmp(key, state.n.from) < 0)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                            else {
                                while (state.n.l)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                        case 1:
                            state.s = 2;
                            if (!keyProvided || cmp(key, state.n.to) <= 0)
                                return { value: state.n, done: false };
                        case 2:
                            if (state.n.r) {
                                state.s = 3;
                                state = { up: state, n: state.n.r, s: 0 };
                                continue;
                            }
                        case 3:
                            state = state.up;
                    }
                }
                return { done: true };
            },
        };
    }
    function rebalance(target) {
        var _a, _b;
        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);
        var r = diff > 1 ? "r" : diff < -1 ? "l" : "";
        if (r) {
            var l = r === "r" ? "l" : "r";
            var rootClone = __assign({}, target);
            var oldRootRight = target[r];
            target.from = oldRootRight.from;
            target.to = oldRootRight.to;
            target[r] = oldRootRight[r];
            rootClone[r] = oldRootRight[l];
            target[l] = rootClone;
            rootClone.d = computeDepth(rootClone);
        }
        target.d = computeDepth(target);
    }
    function computeDepth(_a) {
        var r = _a.r, l = _a.l;
        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;
    }

    function extendObservabilitySet(target, newSet) {
        keys(newSet).forEach(function (part) {
            if (target[part])
                mergeRanges(target[part], newSet[part]);
            else
                target[part] = cloneSimpleObjectTree(newSet[part]);
        });
        return target;
    }

    function obsSetsOverlap(os1, os2) {
        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });
    }

    var cache = {};

    var unsignaledParts = {};
    var isTaskEnqueued = false;
    function signalSubscribersLazily(part, optimistic) {
        extendObservabilitySet(unsignaledParts, part);
        if (!isTaskEnqueued) {
            isTaskEnqueued = true;
            setTimeout(function () {
                isTaskEnqueued = false;
                var parts = unsignaledParts;
                unsignaledParts = {};
                signalSubscribersNow(parts, false);
            }, 0);
        }
    }
    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {
        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }
        var queriesToSignal = new Set();
        if (updatedParts.all) {
            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {
                var tblCache = _a[_i];
                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
            }
        }
        else {
            for (var key in updatedParts) {
                var parts = /^idb\:\/\/(.*)\/(.*)\//.exec(key);
                if (parts) {
                    var dbName = parts[1], tableName = parts[2];
                    var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                    if (tblCache)
                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
                }
            }
        }
        queriesToSignal.forEach(function (requery) { return requery(); });
    }
    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {
        var updatedEntryLists = [];
        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {
            var _b = _a[_i], indexName = _b[0], entries = _b[1];
            var filteredEntries = [];
            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {
                var entry = entries_1[_c];
                if (obsSetsOverlap(updatedParts, entry.obsSet)) {
                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });
                }
                else if (deleteAffectedCacheEntries) {
                    filteredEntries.push(entry);
                }
            }
            if (deleteAffectedCacheEntries)
                updatedEntryLists.push([indexName, filteredEntries]);
        }
        if (deleteAffectedCacheEntries) {
            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {
                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];
                tblCache.queries.query[indexName] = filteredEntries;
            }
        }
    }

    function dexieOpen(db) {
        var state = db._state;
        var indexedDB = db._deps.indexedDB;
        if (state.isBeingOpened || db.idbdb)
            return state.dbReadyPromise.then(function () { return state.dbOpenError ?
                rejection(state.dbOpenError) :
                db; });
        state.isBeingOpened = true;
        state.dbOpenError = null;
        state.openComplete = false;
        var openCanceller = state.openCanceller;
        var nativeVerToOpen = Math.round(db.verno * 10);
        var schemaPatchMode = false;
        function throwIfCancelled() {
            if (state.openCanceller !== openCanceller)
                throw new exceptions.DatabaseClosed('db.open() was cancelled');
        }
        var resolveDbReady = state.dbReadyResolve,
        upgradeTransaction = null, wasCreated = false;
        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {
            throwIfCancelled();
            if (!indexedDB)
                throw new exceptions.MissingAPI();
            var dbName = db.name;
            var req = state.autoSchema || !nativeVerToOpen ?
                indexedDB.open(dbName) :
                indexedDB.open(dbName, nativeVerToOpen);
            if (!req)
                throw new exceptions.MissingAPI();
            req.onerror = eventRejectHandler(reject);
            req.onblocked = wrap(db._fireOnBlocked);
            req.onupgradeneeded = wrap(function (e) {
                upgradeTransaction = req.transaction;
                if (state.autoSchema && !db._options.allowEmptyDB) {
                    req.onerror = preventDefault;
                    upgradeTransaction.abort();
                    req.result.close();
                    var delreq = indexedDB.deleteDatabase(dbName);
                    delreq.onsuccess = delreq.onerror = wrap(function () {
                        reject(new exceptions.NoSuchDatabase("Database ".concat(dbName, " doesnt exist")));
                    });
                }
                else {
                    upgradeTransaction.onerror = eventRejectHandler(reject);
                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;
                    wasCreated = oldVer < 1;
                    db.idbdb = req.result;
                    if (schemaPatchMode) {
                        patchCurrentVersion(db, upgradeTransaction);
                    }
                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);
                }
            }, reject);
            req.onsuccess = wrap(function () {
                upgradeTransaction = null;
                var idbdb = db.idbdb = req.result;
                var objectStoreNames = slice(idbdb.objectStoreNames);
                if (objectStoreNames.length > 0)
                    try {
                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');
                        if (state.autoSchema)
                            readGlobalSchema(db, idbdb, tmpTrans);
                        else {
                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);
                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {
                                console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.");
                                idbdb.close();
                                nativeVerToOpen = idbdb.version + 1;
                                schemaPatchMode = true;
                                return resolve(tryOpenDB());
                            }
                        }
                        generateMiddlewareStacks(db, tmpTrans);
                    }
                    catch (e) {
                    }
                connections.push(db);
                idbdb.onversionchange = wrap(function (ev) {
                    state.vcFired = true;
                    db.on("versionchange").fire(ev);
                });
                idbdb.onclose = wrap(function (ev) {
                    db.on("close").fire(ev);
                });
                if (wasCreated)
                    _onDatabaseCreated(db._deps, dbName);
                resolve();
            }, reject);
        }).catch(function (err) {
            switch (err === null || err === void 0 ? void 0 : err.name) {
                case "UnknownError":
                    if (state.PR1398_maxLoop > 0) {
                        state.PR1398_maxLoop--;
                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');
                        return tryOpenDB();
                    }
                    break;
                case "VersionError":
                    if (nativeVerToOpen > 0) {
                        nativeVerToOpen = 0;
                        return tryOpenDB();
                    }
                    break;
            }
            return DexiePromise.reject(err);
        }); };
        return DexiePromise.race([
            openCanceller,
            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)
        ]).then(function () {
            throwIfCancelled();
            state.onReadyBeingFired = [];
            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {
                if (state.onReadyBeingFired.length > 0) {
                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);
                    state.onReadyBeingFired = [];
                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);
                }
            });
        }).finally(function () {
            if (state.openCanceller === openCanceller) {
                state.onReadyBeingFired = null;
                state.isBeingOpened = false;
            }
        }).catch(function (err) {
            state.dbOpenError = err;
            try {
                upgradeTransaction && upgradeTransaction.abort();
            }
            catch (_a) { }
            if (openCanceller === state.openCanceller) {
                db._close();
            }
            return rejection(err);
        }).finally(function () {
            state.openComplete = true;
            resolveDbReady();
        }).then(function () {
            if (wasCreated) {
                var everything_1 = {};
                db.tables.forEach(function (table) {
                    table.schema.indexes.forEach(function (idx) {
                        if (idx.name)
                            everything_1["idb://".concat(db.name, "/").concat(table.name, "/").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);
                    });
                    everything_1["idb://".concat(db.name, "/").concat(table.name, "/")] = everything_1["idb://".concat(db.name, "/").concat(table.name, "/:dels")] = new RangeSet(-Infinity, [[[]]]);
                });
                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);
                signalSubscribersNow(everything_1, true);
            }
            return db;
        });
    }

    function awaitIterator(iterator) {
        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);
        function step(getNext) {
            return function (val) {
                var next = getNext(val), value = next.value;
                return next.done ? value :
                    (!value || typeof value.then !== 'function' ?
                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :
                        value.then(onSuccess, onError));
            };
        }
        return step(callNext)();
    }

    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {
        var i = arguments.length;
        if (i < 2)
            throw new exceptions.InvalidArgument("Too few arguments");
        var args = new Array(i - 1);
        while (--i)
            args[i - 1] = arguments[i];
        scopeFunc = args.pop();
        var tables = flatten(args);
        return [mode, tables, scopeFunc];
    }
    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {
        return DexiePromise.resolve().then(function () {
            var transless = PSD.transless || PSD;
            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);
            trans.explicit = true;
            var zoneProps = {
                trans: trans,
                transless: transless
            };
            if (parentTransaction) {
                trans.idbtrans = parentTransaction.idbtrans;
            }
            else {
                try {
                    trans.create();
                    trans.idbtrans._explicit = true;
                    db._state.PR1398_maxLoop = 3;
                }
                catch (ex) {
                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                        console.warn('Dexie: Need to reopen db');
                        db.close({ disableAutoOpen: false });
                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });
                    }
                    return rejection(ex);
                }
            }
            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);
            if (scopeFuncIsAsync) {
                incrementExpectedAwaits();
            }
            var returnValue;
            var promiseFollowed = DexiePromise.follow(function () {
                returnValue = scopeFunc.call(trans, trans);
                if (returnValue) {
                    if (scopeFuncIsAsync) {
                        var decrementor = decrementExpectedAwaits.bind(null, null);
                        returnValue.then(decrementor, decrementor);
                    }
                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {
                        returnValue = awaitIterator(returnValue);
                    }
                }
            }, zoneProps);
            return (returnValue && typeof returnValue.then === 'function' ?
                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?
                    x
                    : rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")); })
                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {
                if (parentTransaction)
                    trans._resolve();
                return trans._completion.then(function () { return x; });
            }).catch(function (e) {
                trans._reject(e);
                return rejection(e);
            });
        });
    }

    function pad(a, value, count) {
        var result = isArray(a) ? a.slice() : [a];
        for (var i = 0; i < count; ++i)
            result.push(value);
        return result;
    }
    function createVirtualIndexMiddleware(down) {
        return __assign(__assign({}, down), { table: function (tableName) {
                var table = down.table(tableName);
                var schema = table.schema;
                var indexLookup = {};
                var allVirtualIndexes = [];
                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {
                    var keyPathAlias = getKeyPathAlias(keyPath);
                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);
                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;
                    var isVirtual = keyTail > 0;
                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual
                            ? "".concat(keyPathAlias, "(virtual-from:").concat(lowLevelIndex.name, ")")
                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });
                    indexList.push(virtualIndex);
                    if (!virtualIndex.isPrimaryKey) {
                        allVirtualIndexes.push(virtualIndex);
                    }
                    if (keyLength > 1) {
                        var virtualKeyPath = keyLength === 2 ?
                            keyPath[0] :
                            keyPath.slice(0, keyLength - 1);
                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);
                    }
                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });
                    return virtualIndex;
                }
                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);
                indexLookup[":id"] = [primaryKey];
                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {
                    var index = _a[_i];
                    addVirtualIndexes(index.keyPath, 0, index);
                }
                function findBestIndex(keyPath) {
                    var result = indexLookup[getKeyPathAlias(keyPath)];
                    return result && result[0];
                }
                function translateRange(range, keyTail) {
                    return {
                        type: range.type === 1  ?
                            2  :
                            range.type,
                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),
                        lowerOpen: true,
                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),
                        upperOpen: true
                    };
                }
                function translateRequest(req) {
                    var index = req.query.index;
                    return index.isVirtual ? __assign(__assign({}, req), { query: {
                            index: index.lowLevelIndex,
                            range: translateRange(req.query.range, index.keyTail)
                        } }) : req;
                }
                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {
                        return table.count(translateRequest(req));
                    }, query: function (req) {
                        return table.query(translateRequest(req));
                    }, openCursor: function (req) {
                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;
                        if (!isVirtual)
                            return table.openCursor(req);
                        function createVirtualCursor(cursor) {
                            function _continue(key) {
                                key != null ?
                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :
                                    req.unique ?
                                        cursor.continue(cursor.key.slice(0, keyLength)
                                            .concat(req.reverse
                                            ? down.MIN_KEY
                                            : down.MAX_KEY, keyTail)) :
                                        cursor.continue();
                            }
                            var virtualCursor = Object.create(cursor, {
                                continue: { value: _continue },
                                continuePrimaryKey: {
                                    value: function (key, primaryKey) {
                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);
                                    }
                                },
                                primaryKey: {
                                    get: function () {
                                        return cursor.primaryKey;
                                    }
                                },
                                key: {
                                    get: function () {
                                        var key = cursor.key;
                                        return keyLength === 1 ?
                                            key[0] :
                                            key.slice(0, keyLength);
                                    }
                                },
                                value: {
                                    get: function () {
                                        return cursor.value;
                                    }
                                }
                            });
                            return virtualCursor;
                        }
                        return table.openCursor(translateRequest(req))
                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });
                    } });
                return result;
            } });
    }
    var virtualIndexMiddleware = {
        stack: "dbcore",
        name: "VirtualIndexMiddleware",
        level: 1,
        create: createVirtualIndexMiddleware
    };

    function getObjectDiff(a, b, rv, prfx) {
        rv = rv || {};
        prfx = prfx || '';
        keys(a).forEach(function (prop) {
            if (!hasOwn(b, prop)) {
                rv[prfx + prop] = undefined;
            }
            else {
                var ap = a[prop], bp = b[prop];
                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {
                    var apTypeName = toStringTag(ap);
                    var bpTypeName = toStringTag(bp);
                    if (apTypeName !== bpTypeName) {
                        rv[prfx + prop] = b[prop];
                    }
                    else if (apTypeName === 'Object') {
                        getObjectDiff(ap, bp, rv, prfx + prop + '.');
                    }
                    else if (ap !== bp) {
                        rv[prfx + prop] = b[prop];
                    }
                }
                else if (ap !== bp)
                    rv[prfx + prop] = b[prop];
            }
        });
        keys(b).forEach(function (prop) {
            if (!hasOwn(a, prop)) {
                rv[prfx + prop] = b[prop];
            }
        });
        return rv;
    }

    function getEffectiveKeys(primaryKey, req) {
        if (req.type === 'delete')
            return req.keys;
        return req.keys || req.values.map(primaryKey.extractKey);
    }

    var hooksMiddleware = {
        stack: "dbcore",
        name: "HooksMiddleware",
        level: 2,
        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {
                var downTable = downCore.table(tableName);
                var primaryKey = downTable.schema.primaryKey;
                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {
                        var dxTrans = PSD.trans;
                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;
                        switch (req.type) {
                            case 'add':
                                if (creating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'put':
                                if (creating.fire === nop && updating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'delete':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'deleteRange':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);
                        }
                        return downTable.mutate(req);
                        function addPutOrDelete(req) {
                            var dxTrans = PSD.trans;
                            var keys = req.keys || getEffectiveKeys(primaryKey, req);
                            if (!keys)
                                throw new Error("Keys missing");
                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);
                            if (req.type !== 'delete')
                                req.values = __spreadArray([], req.values, true);
                            if (req.keys)
                                req.keys = __spreadArray([], req.keys, true);
                            return getExistingValues(downTable, req, keys).then(function (existingValues) {
                                var contexts = keys.map(function (key, i) {
                                    var existingValue = existingValues[i];
                                    var ctx = { onerror: null, onsuccess: null };
                                    if (req.type === 'delete') {
                                        deleting.fire.call(ctx, key, existingValue, dxTrans);
                                    }
                                    else if (req.type === 'add' || existingValue === undefined) {
                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);
                                        if (key == null && generatedPrimaryKey != null) {
                                            key = generatedPrimaryKey;
                                            req.keys[i] = key;
                                            if (!primaryKey.outbound) {
                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);
                                            }
                                        }
                                    }
                                    else {
                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);
                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);
                                        if (additionalChanges_1) {
                                            var requestedValue_1 = req.values[i];
                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {
                                                if (hasOwn(requestedValue_1, keyPath)) {
                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];
                                                }
                                                else {
                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);
                                                }
                                            });
                                        }
                                    }
                                    return ctx;
                                });
                                return downTable.mutate(req).then(function (_a) {
                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;
                                    for (var i = 0; i < keys.length; ++i) {
                                        var primKey = results ? results[i] : keys[i];
                                        var ctx = contexts[i];
                                        if (primKey == null) {
                                            ctx.onerror && ctx.onerror(failures[i]);
                                        }
                                        else {
                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?
                                                req.values[i] :
                                                primKey
                                            );
                                        }
                                    }
                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };
                                }).catch(function (error) {
                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });
                                    return Promise.reject(error);
                                });
                            });
                        }
                        function deleteRange(req) {
                            return deleteNextChunk(req.trans, req.range, 10000);
                        }
                        function deleteNextChunk(trans, range, limit) {
                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })
                                .then(function (_a) {
                                var result = _a.result;
                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {
                                    if (res.numFailures > 0)
                                        return Promise.reject(res.failures[0]);
                                    if (result.length < limit) {
                                        return { failures: [], numFailures: 0, lastResult: undefined };
                                    }
                                    else {
                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);
                                    }
                                });
                            });
                        }
                    } });
                return tableMiddleware;
            } })); }
    };
    function getExistingValues(table, req, effectiveKeys) {
        return req.type === "add"
            ? Promise.resolve([])
            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: "immutable" });
    }

    function getFromTransactionCache(keys, cache, clone) {
        try {
            if (!cache)
                return null;
            if (cache.keys.length < keys.length)
                return null;
            var result = [];
            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {
                if (cmp(cache.keys[i], keys[j]) !== 0)
                    continue;
                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);
                ++j;
            }
            return result.length === keys.length ? result : null;
        }
        catch (_a) {
            return null;
        }
    }
    var cacheExistingValuesMiddleware = {
        stack: "dbcore",
        level: -1,
        create: function (core) {
            return {
                table: function (tableName) {
                    var table = core.table(tableName);
                    return __assign(__assign({}, table), { getMany: function (req) {
                            if (!req.cache) {
                                return table.getMany(req);
                            }
                            var cachedResult = getFromTransactionCache(req.keys, req.trans["_cache"], req.cache === "clone");
                            if (cachedResult) {
                                return DexiePromise.resolve(cachedResult);
                            }
                            return table.getMany(req).then(function (res) {
                                req.trans["_cache"] = {
                                    keys: req.keys,
                                    values: req.cache === "clone" ? deepClone(res) : res,
                                };
                                return res;
                            });
                        }, mutate: function (req) {
                            if (req.type !== "add")
                                req.trans["_cache"] = null;
                            return table.mutate(req);
                        } });
                },
            };
        },
    };

    function isCachableContext(ctx, table) {
        return (ctx.trans.mode === 'readonly' &&
            !!ctx.subscr &&
            !ctx.trans.explicit &&
            ctx.trans.db._options.cache !== 'disabled' &&
            !table.schema.primaryKey.outbound);
    }

    function isCachableRequest(type, req) {
        switch (type) {
            case 'query':
                return req.values && !req.unique;
            case 'get':
                return false;
            case 'getMany':
                return false;
            case 'count':
                return false;
            case 'openCursor':
                return false;
        }
    }

    var observabilityMiddleware = {
        stack: "dbcore",
        level: 0,
        name: "Observability",
        create: function (core) {
            var dbName = core.schema.name;
            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);
            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    if (PSD.subscr && mode !== 'readonly') {
                        throw new exceptions.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(PSD.querier));
                    }
                    return core.transaction(stores, mode, options);
                }, table: function (tableName) {
                    var table = core.table(tableName);
                    var schema = table.schema;
                    var primaryKey = schema.primaryKey, indexes = schema.indexes;
                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;
                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });
                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {
                            var _a, _b;
                            var trans = req.trans;
                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});
                            var getRangeSet = function (indexName) {
                                var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                return (mutatedParts[part] ||
                                    (mutatedParts[part] = new RangeSet()));
                            };
                            var pkRangeSet = getRangeSet("");
                            var delsRangeSet = getRangeSet(":dels");
                            var type = req.type;
                            var _c = req.type === "deleteRange"
                                ? [req.range]
                                : req.type === "delete"
                                    ? [req.keys]
                                    : req.values.length < 50
                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]
                                        : [], keys = _c[0], newObjs = _c[1];
                            var oldCache = req.trans["_cache"];
                            if (isArray(keys)) {
                                pkRangeSet.addKeys(keys);
                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;
                                if (!oldObjs) {
                                    delsRangeSet.addKeys(keys);
                                }
                                if (oldObjs || newObjs) {
                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);
                                }
                            }
                            else if (keys) {
                                var range = {
                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,
                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY
                                };
                                delsRangeSet.add(range);
                                pkRangeSet.add(range);
                            }
                            else {
                                pkRangeSet.add(FULL_RANGE);
                                delsRangeSet.add(FULL_RANGE);
                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });
                            }
                            return table.mutate(req).then(function (res) {
                                if (keys && (req.type === 'add' || req.type === 'put')) {
                                    pkRangeSet.addKeys(res.results);
                                    if (indexesWithAutoIncPK) {
                                        indexesWithAutoIncPK.forEach(function (idx) {
                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });
                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });
                                            for (var i = 0, len = res.results.length; i < len; ++i) {
                                                idxVals[i][pkPos] = res.results[i];
                                            }
                                            getRangeSet(idx.name).addKeys(idxVals);
                                        });
                                    }
                                }
                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);
                                return res;
                            });
                        } });
                    var getRange = function (_a) {
                        var _b, _c;
                        var _d = _a.query, index = _d.index, range = _d.range;
                        return [
                            index,
                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),
                        ];
                    };
                    var readSubscribers = {
                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },
                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },
                        count: getRange,
                        query: getRange,
                        openCursor: getRange,
                    };
                    keys(readSubscribers).forEach(function (method) {
                        tableClone[method] = function (req) {
                            var subscr = PSD.subscr;
                            var isLiveQuery = !!subscr;
                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);
                            var obsSet = cachable
                                ? req.obsSet = {}
                                : subscr;
                            if (isLiveQuery) {
                                var getRangeSet = function (indexName) {
                                    var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                    return (obsSet[part] ||
                                        (obsSet[part] = new RangeSet()));
                                };
                                var pkRangeSet_1 = getRangeSet("");
                                var delsRangeSet_1 = getRangeSet(":dels");
                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];
                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {
                                    delsRangeSet_1.add(queriedRanges);
                                }
                                else {
                                    getRangeSet(queriedIndex.name || "").add(queriedRanges);
                                }
                                if (!queriedIndex.isPrimaryKey) {
                                    if (method === "count") {
                                        delsRangeSet_1.add(FULL_RANGE);
                                    }
                                    else {
                                        var keysPromise_1 = method === "query" &&
                                            outbound &&
                                            req.values &&
                                            table.query(__assign(__assign({}, req), { values: false }));
                                        return table[method].apply(this, arguments).then(function (res) {
                                            if (method === "query") {
                                                if (outbound && req.values) {
                                                    return keysPromise_1.then(function (_a) {
                                                        var resultingKeys = _a.result;
                                                        pkRangeSet_1.addKeys(resultingKeys);
                                                        return res;
                                                    });
                                                }
                                                var pKeys = req.values
                                                    ? res.result.map(extractKey)
                                                    : res.result;
                                                if (req.values) {
                                                    pkRangeSet_1.addKeys(pKeys);
                                                }
                                                else {
                                                    delsRangeSet_1.addKeys(pKeys);
                                                }
                                            }
                                            else if (method === "openCursor") {
                                                var cursor_1 = res;
                                                var wantValues_1 = req.values;
                                                return (cursor_1 &&
                                                    Object.create(cursor_1, {
                                                        key: {
                                                            get: function () {
                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.key;
                                                            },
                                                        },
                                                        primaryKey: {
                                                            get: function () {
                                                                var pkey = cursor_1.primaryKey;
                                                                delsRangeSet_1.addKey(pkey);
                                                                return pkey;
                                                            },
                                                        },
                                                        value: {
                                                            get: function () {
                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.value;
                                                            },
                                                        },
                                                    }));
                                            }
                                            return res;
                                        });
                                    }
                                }
                            }
                            return table[method].apply(this, arguments);
                        };
                    });
                    return tableClone;
                } });
        },
    };
    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {
        function addAffectedIndex(ix) {
            var rangeSet = getRangeSet(ix.name || "");
            function extractKey(obj) {
                return obj != null ? ix.extractKey(obj) : null;
            }
            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)
                ? key.forEach(function (key) { return rangeSet.addKey(key); })
                : rangeSet.addKey(key); };
            (oldObjs || newObjs).forEach(function (_, i) {
                var oldKey = oldObjs && extractKey(oldObjs[i]);
                var newKey = newObjs && extractKey(newObjs[i]);
                if (cmp(oldKey, newKey) !== 0) {
                    if (oldKey != null)
                        addKeyOrKeys(oldKey);
                    if (newKey != null)
                        addKeyOrKeys(newKey);
                }
            });
        }
        schema.indexes.forEach(addAffectedIndex);
    }

    function adjustOptimisticFromFailures(tblCache, req, res) {
        if (res.numFailures === 0)
            return req;
        if (req.type === 'deleteRange') {
            return null;
        }
        var numBulkOps = req.keys
            ? req.keys.length
            : 'values' in req && req.values
                ? req.values.length
                : 1;
        if (res.numFailures === numBulkOps) {
            return null;
        }
        var clone = __assign({}, req);
        if (isArray(clone.keys)) {
            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });
        }
        if ('values' in clone && isArray(clone.values)) {
            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });
        }
        return clone;
    }

    function isAboveLower(key, range) {
        return range.lower === undefined
            ? true
            : range.lowerOpen
                ? cmp(key, range.lower) > 0
                : cmp(key, range.lower) >= 0;
    }
    function isBelowUpper(key, range) {
        return range.upper === undefined
            ? true
            : range.upperOpen
                ? cmp(key, range.upper) < 0
                : cmp(key, range.upper) <= 0;
    }
    function isWithinRange(key, range) {
        return isAboveLower(key, range) && isBelowUpper(key, range);
    }

    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {
        if (!ops || ops.length === 0)
            return result;
        var index = req.query.index;
        var multiEntry = index.multiEntry;
        var queryRange = req.query.range;
        var primaryKey = table.schema.primaryKey;
        var extractPrimKey = primaryKey.extractKey;
        var extractIndex = index.extractKey;
        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;
        var finalResult = ops.reduce(function (result, op) {
            var modifedResult = result;
            var includedValues = [];
            if (op.type === 'add' || op.type === 'put') {
                var includedPKs = new RangeSet();
                for (var i = op.values.length - 1; i >= 0; --i) {
                    var value = op.values[i];
                    var pk = extractPrimKey(value);
                    if (includedPKs.hasKey(pk))
                        continue;
                    var key = extractIndex(value);
                    if (multiEntry && isArray(key)
                        ? key.some(function (k) { return isWithinRange(k, queryRange); })
                        : isWithinRange(key, queryRange)) {
                        includedPKs.addKey(pk);
                        includedValues.push(value);
                    }
                }
            }
            switch (op.type) {
                case 'add': {
                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);
                    modifedResult = result.concat(req.values
                        ? includedValues.filter(function (v) {
                            var key = extractPrimKey(v);
                            if (existingKeys_1.hasKey(key))
                                return false;
                            existingKeys_1.addKey(key);
                            return true;
                        })
                        : includedValues
                            .map(function (v) { return extractPrimKey(v); })
                            .filter(function (k) {
                            if (existingKeys_1.hasKey(k))
                                return false;
                            existingKeys_1.addKey(k);
                            return true;
                        }));
                    break;
                }
                case 'put': {
                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));
                    modifedResult = result
                        .filter(
                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })
                        .concat(
                    req.values
                        ? includedValues
                        : includedValues.map(function (v) { return extractPrimKey(v); }));
                    break;
                }
                case 'delete':
                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);
                    modifedResult = result.filter(function (item) {
                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);
                    });
                    break;
                case 'deleteRange':
                    var range_1 = op.range;
                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });
                    break;
            }
            return modifedResult;
        }, result);
        if (finalResult === result)
            return result;
        finalResult.sort(function (a, b) {
            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||
                cmp(extractPrimKey(a), extractPrimKey(b));
        });
        if (req.limit && req.limit < Infinity) {
            if (finalResult.length > req.limit) {
                finalResult.length = req.limit;
            }
            else if (result.length === req.limit && finalResult.length < req.limit) {
                cacheEntry.dirty = true;
            }
        }
        return immutable ? Object.freeze(finalResult) : finalResult;
    }

    function areRangesEqual(r1, r2) {
        return (cmp(r1.lower, r2.lower) === 0 &&
            cmp(r1.upper, r2.upper) === 0 &&
            !!r1.lowerOpen === !!r2.lowerOpen &&
            !!r1.upperOpen === !!r2.upperOpen);
    }

    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {
        if (lower1 === undefined)
            return lower2 !== undefined ? -1 : 0;
        if (lower2 === undefined)
            return 1;
        var c = cmp(lower1, lower2);
        if (c === 0) {
            if (lowerOpen1 && lowerOpen2)
                return 0;
            if (lowerOpen1)
                return 1;
            if (lowerOpen2)
                return -1;
        }
        return c;
    }
    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {
        if (upper1 === undefined)
            return upper2 !== undefined ? 1 : 0;
        if (upper2 === undefined)
            return -1;
        var c = cmp(upper1, upper2);
        if (c === 0) {
            if (upperOpen1 && upperOpen2)
                return 0;
            if (upperOpen1)
                return -1;
            if (upperOpen2)
                return 1;
        }
        return c;
    }
    function isSuperRange(r1, r2) {
        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&
            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);
    }

    function findCompatibleQuery(dbName, tableName, type, req) {
        var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
        if (!tblCache)
            return [];
        var queries = tblCache.queries[type];
        if (!queries)
            return [null, false, tblCache, null];
        var indexName = req.query ? req.query.index.name : null;
        var entries = queries[indexName || ''];
        if (!entries)
            return [null, false, tblCache, null];
        switch (type) {
            case 'query':
                var equalEntry = entries.find(function (entry) {
                    return entry.req.limit === req.limit &&
                        entry.req.values === req.values &&
                        areRangesEqual(entry.req.query.range, req.query.range);
                });
                if (equalEntry)
                    return [
                        equalEntry,
                        true,
                        tblCache,
                        entries,
                    ];
                var superEntry = entries.find(function (entry) {
                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;
                    return (limit >= req.limit &&
                        (req.values ? entry.req.values : true) &&
                        isSuperRange(entry.req.query.range, req.query.range));
                });
                return [superEntry, false, tblCache, entries];
            case 'count':
                var countQuery = entries.find(function (entry) {
                    return areRangesEqual(entry.req.query.range, req.query.range);
                });
                return [countQuery, !!countQuery, tblCache, entries];
        }
    }

    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {
        cacheEntry.subscribers.add(requery);
        signal.addEventListener("abort", function () {
            cacheEntry.subscribers.delete(requery);
            if (cacheEntry.subscribers.size === 0) {
                enqueForDeletion(cacheEntry, container);
            }
        });
    }
    function enqueForDeletion(cacheEntry, container) {
        setTimeout(function () {
            if (cacheEntry.subscribers.size === 0) {
                delArrayItem(container, cacheEntry);
            }
        }, 3000);
    }

    var cacheMiddleware = {
        stack: 'dbcore',
        level: 0,
        name: 'Cache',
        create: function (core) {
            var dbName = core.schema.name;
            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    var idbtrans = core.transaction(stores, mode, options);
                    if (mode === 'readwrite') {
                        var ac_1 = new AbortController();
                        var signal = ac_1.signal;
                        var endTransaction = function (wasCommitted) { return function () {
                            ac_1.abort();
                            if (mode === 'readwrite') {
                                var affectedSubscribers_1 = new Set();
                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {
                                    var storeName = stores_1[_i];
                                    var tblCache = cache["idb://".concat(dbName, "/").concat(storeName)];
                                    if (tblCache) {
                                        var table = core.table(storeName);
                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });
                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {
                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {
                                                var entries = _b[_a];
                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {
                                                    var entry = _d[_c];
                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {
                                                        delArrayItem(entries, entry);
                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                    }
                                                }
                                            }
                                        }
                                        else if (ops.length > 0) {
                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });
                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {
                                                var entries = _f[_e];
                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {
                                                    var entry = _h[_g];
                                                    if (entry.res != null &&
                                                        idbtrans.mutatedParts
    ) {
                                                        if (wasCommitted && !entry.dirty) {
                                                            var freezeResults = Object.isFrozen(entry.res);
                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                            }
                                                            else if (modRes !== entry.res) {
                                                                entry.res = modRes;
                                                                entry.promise = DexiePromise.resolve({ result: modRes });
                                                            }
                                                        }
                                                        else {
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                            }
                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                affectedSubscribers_1.forEach(function (requery) { return requery(); });
                            }
                        }; };
                        idbtrans.addEventListener('abort', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('error', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('complete', endTransaction(true), {
                            signal: signal,
                        });
                    }
                    return idbtrans;
                }, table: function (tableName) {
                    var downTable = core.table(tableName);
                    var primKey = downTable.schema.primaryKey;
                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {
                            var trans = PSD.trans;
                            if (primKey.outbound ||
                                trans.db._options.cache === 'disabled' ||
                                trans.explicit ||
                                trans.idbtrans.mode !== 'readwrite'
                            ) {
                                return downTable.mutate(req);
                            }
                            var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                            if (!tblCache)
                                return downTable.mutate(req);
                            var promise = downTable.mutate(req);
                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {
                                promise.then(function (res) {
                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {
                                            var _a;
                                            if (res.failures[i])
                                                return value;
                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))
                                                ? deepClone(value)
                                                : __assign({}, value);
                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);
                                            return valueWithKey;
                                        }) });
                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);
                                    tblCache.optimisticOps.push(adjustedReq);
                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });
                                });
                            }
                            else {
                                tblCache.optimisticOps.push(req);
                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                promise.then(function (res) {
                                    if (res.numFailures > 0) {
                                        delArrayItem(tblCache.optimisticOps, req);
                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);
                                        if (adjustedReq) {
                                            tblCache.optimisticOps.push(adjustedReq);
                                        }
                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                    }
                                });
                                promise.catch(function () {
                                    delArrayItem(tblCache.optimisticOps, req);
                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                });
                            }
                            return promise;
                        }, query: function (req) {
                            var _a;
                            if (!isCachableContext(PSD, downTable) || !isCachableRequest("query", req))
                                return downTable.query(req);
                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';
                            var _b = PSD, requery = _b.requery, signal = _b.signal;
                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];
                            if (cacheEntry && exactMatch) {
                                cacheEntry.obsSet = req.obsSet;
                            }
                            else {
                                var promise = downTable.query(req).then(function (res) {
                                    var result = res.result;
                                    if (cacheEntry)
                                        cacheEntry.res = result;
                                    if (freezeResults) {
                                        for (var i = 0, l = result.length; i < l; ++i) {
                                            Object.freeze(result[i]);
                                        }
                                        Object.freeze(result);
                                    }
                                    else {
                                        res.result = deepClone(result);
                                    }
                                    return res;
                                }).catch(function (error) {
                                    if (container && cacheEntry)
                                        delArrayItem(container, cacheEntry);
                                    return Promise.reject(error);
                                });
                                cacheEntry = {
                                    obsSet: req.obsSet,
                                    promise: promise,
                                    subscribers: new Set(),
                                    type: 'query',
                                    req: req,
                                    dirty: false,
                                };
                                if (container) {
                                    container.push(cacheEntry);
                                }
                                else {
                                    container = [cacheEntry];
                                    if (!tblCache) {
                                        tblCache = cache["idb://".concat(dbName, "/").concat(tableName)] = {
                                            queries: {
                                                query: {},
                                                count: {},
                                            },
                                            objs: new Map(),
                                            optimisticOps: [],
                                            unsignaledParts: {}
                                        };
                                    }
                                    tblCache.queries.query[req.query.index.name || ''] = container;
                                }
                            }
                            subscribeToCacheEntry(cacheEntry, container, requery, signal);
                            return cacheEntry.promise.then(function (res) {
                                return {
                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),
                                };
                            });
                        } });
                    return tableMW;
                } });
            return coreMW;
        },
    };

    function vipify(target, vipDb) {
        return new Proxy(target, {
            get: function (target, prop, receiver) {
                if (prop === 'db')
                    return vipDb;
                return Reflect.get(target, prop, receiver);
            }
        });
    }

    var Dexie$1 =  (function () {
        function Dexie(name, options) {
            var _this = this;
            this._middlewares = {};
            this.verno = 0;
            var deps = Dexie.dependencies;
            this._options = options = __assign({
                addons: Dexie.addons, autoOpen: true,
                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);
            this._deps = {
                indexedDB: options.indexedDB,
                IDBKeyRange: options.IDBKeyRange
            };
            var addons = options.addons;
            this._dbSchema = {};
            this._versions = [];
            this._storeNames = [];
            this._allTables = {};
            this.idbdb = null;
            this._novip = this;
            var state = {
                dbOpenError: null,
                isBeingOpened: false,
                onReadyBeingFired: null,
                openComplete: false,
                dbReadyResolve: nop,
                dbReadyPromise: null,
                cancelOpen: nop,
                openCanceller: null,
                autoSchema: true,
                PR1398_maxLoop: 3,
                autoOpen: options.autoOpen,
            };
            state.dbReadyPromise = new DexiePromise(function (resolve) {
                state.dbReadyResolve = resolve;
            });
            state.openCanceller = new DexiePromise(function (_, reject) {
                state.cancelOpen = reject;
            });
            this._state = state;
            this.name = name;
            this.on = Events(this, "populate", "blocked", "versionchange", "close", { ready: [promisableChain, nop] });
            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {
                return function (subscriber, bSticky) {
                    Dexie.vip(function () {
                        var state = _this._state;
                        if (state.openComplete) {
                            if (!state.dbOpenError)
                                DexiePromise.resolve().then(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else if (state.onReadyBeingFired) {
                            state.onReadyBeingFired.push(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else {
                            subscribe(subscriber);
                            var db_1 = _this;
                            if (!bSticky)
                                subscribe(function unsubscribe() {
                                    db_1.on.ready.unsubscribe(subscriber);
                                    db_1.on.ready.unsubscribe(unsubscribe);
                                });
                        }
                    });
                };
            });
            this.Collection = createCollectionConstructor(this);
            this.Table = createTableConstructor(this);
            this.Transaction = createTransactionConstructor(this);
            this.Version = createVersionConstructor(this);
            this.WhereClause = createWhereClauseConstructor(this);
            this.on("versionchange", function (ev) {
                if (ev.newVersion > 0)
                    console.warn("Another connection wants to upgrade database '".concat(_this.name, "'. Closing db now to resume the upgrade."));
                else
                    console.warn("Another connection wants to delete database '".concat(_this.name, "'. Closing db now to resume the delete request."));
                _this.close({ disableAutoOpen: false });
            });
            this.on("blocked", function (ev) {
                if (!ev.newVersion || ev.newVersion < ev.oldVersion)
                    console.warn("Dexie.delete('".concat(_this.name, "') was blocked"));
                else
                    console.warn("Upgrade '".concat(_this.name, "' blocked by other connection holding version ").concat(ev.oldVersion / 10));
            });
            this._maxKey = getMaxKey(options.IDBKeyRange);
            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };
            this._fireOnBlocked = function (ev) {
                _this.on("blocked").fire(ev);
                connections
                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })
                    .map(function (c) { return c.on("versionchange").fire(ev); });
            };
            this.use(cacheExistingValuesMiddleware);
            this.use(cacheMiddleware);
            this.use(observabilityMiddleware);
            this.use(virtualIndexMiddleware);
            this.use(hooksMiddleware);
            var vipDB = new Proxy(this, {
                get: function (_, prop, receiver) {
                    if (prop === '_vip')
                        return true;
                    if (prop === 'table')
                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };
                    var rv = Reflect.get(_, prop, receiver);
                    if (rv instanceof Table)
                        return vipify(rv, vipDB);
                    if (prop === 'tables')
                        return rv.map(function (t) { return vipify(t, vipDB); });
                    if (prop === '_createTransaction')
                        return function () {
                            var tx = rv.apply(this, arguments);
                            return vipify(tx, vipDB);
                        };
                    return rv;
                }
            });
            this.vip = vipDB;
            addons.forEach(function (addon) { return addon(_this); });
        }
        Dexie.prototype.version = function (versionNumber) {
            if (isNaN(versionNumber) || versionNumber < 0.1)
                throw new exceptions.Type("Given version is not a positive number");
            versionNumber = Math.round(versionNumber * 10) / 10;
            if (this.idbdb || this._state.isBeingOpened)
                throw new exceptions.Schema("Cannot add version when database is open");
            this.verno = Math.max(this.verno, versionNumber);
            var versions = this._versions;
            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];
            if (versionInstance)
                return versionInstance;
            versionInstance = new this.Version(versionNumber);
            versions.push(versionInstance);
            versions.sort(lowerVersionFirst);
            versionInstance.stores({});
            this._state.autoSchema = false;
            return versionInstance;
        };
        Dexie.prototype._whenReady = function (fn) {
            var _this = this;
            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {
                if (_this._state.openComplete) {
                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));
                }
                if (!_this._state.isBeingOpened) {
                    if (!_this._state.autoOpen) {
                        reject(new exceptions.DatabaseClosed());
                        return;
                    }
                    _this.open().catch(nop);
                }
                _this._state.dbReadyPromise.then(resolve, reject);
            }).then(fn);
        };
        Dexie.prototype.use = function (_a) {
            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;
            if (name)
                this.unuse({ stack: stack, name: name });
            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);
            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });
            middlewares.sort(function (a, b) { return a.level - b.level; });
            return this;
        };
        Dexie.prototype.unuse = function (_a) {
            var stack = _a.stack, name = _a.name, create = _a.create;
            if (stack && this._middlewares[stack]) {
                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {
                    return create ? mw.create !== create :
                        name ? mw.name !== name :
                            false;
                });
            }
            return this;
        };
        Dexie.prototype.open = function () {
            var _this = this;
            return usePSD(globalPSD,
            function () { return dexieOpen(_this); });
        };
        Dexie.prototype._close = function () {
            var state = this._state;
            var idx = connections.indexOf(this);
            if (idx >= 0)
                connections.splice(idx, 1);
            if (this.idbdb) {
                try {
                    this.idbdb.close();
                }
                catch (e) { }
                this.idbdb = null;
            }
            if (!state.isBeingOpened) {
                state.dbReadyPromise = new DexiePromise(function (resolve) {
                    state.dbReadyResolve = resolve;
                });
                state.openCanceller = new DexiePromise(function (_, reject) {
                    state.cancelOpen = reject;
                });
            }
        };
        Dexie.prototype.close = function (_a) {
            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;
            var state = this._state;
            if (disableAutoOpen) {
                if (state.isBeingOpened) {
                    state.cancelOpen(new exceptions.DatabaseClosed());
                }
                this._close();
                state.autoOpen = false;
                state.dbOpenError = new exceptions.DatabaseClosed();
            }
            else {
                this._close();
                state.autoOpen = this._options.autoOpen ||
                    state.isBeingOpened;
                state.openComplete = false;
                state.dbOpenError = null;
            }
        };
        Dexie.prototype.delete = function (closeOptions) {
            var _this = this;
            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }
            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';
            var state = this._state;
            return new DexiePromise(function (resolve, reject) {
                var doDelete = function () {
                    _this.close(closeOptions);
                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);
                    req.onsuccess = wrap(function () {
                        _onDatabaseDeleted(_this._deps, _this.name);
                        resolve();
                    });
                    req.onerror = eventRejectHandler(reject);
                    req.onblocked = _this._fireOnBlocked;
                };
                if (hasInvalidArguments)
                    throw new exceptions.InvalidArgument("Invalid closeOptions argument to db.delete()");
                if (state.isBeingOpened) {
                    state.dbReadyPromise.then(doDelete);
                }
                else {
                    doDelete();
                }
            });
        };
        Dexie.prototype.backendDB = function () {
            return this.idbdb;
        };
        Dexie.prototype.isOpen = function () {
            return this.idbdb !== null;
        };
        Dexie.prototype.hasBeenClosed = function () {
            var dbOpenError = this._state.dbOpenError;
            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');
        };
        Dexie.prototype.hasFailed = function () {
            return this._state.dbOpenError !== null;
        };
        Dexie.prototype.dynamicallyOpened = function () {
            return this._state.autoSchema;
        };
        Object.defineProperty(Dexie.prototype, "tables", {
            get: function () {
                var _this = this;
                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });
            },
            enumerable: false,
            configurable: true
        });
        Dexie.prototype.transaction = function () {
            var args = extractTransactionArgs.apply(this, arguments);
            return this._transaction.apply(this, args);
        };
        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {
            var _this = this;
            var parentTransaction = PSD.trans;
            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)
                parentTransaction = null;
            var onlyIfCompatible = mode.indexOf('?') !== -1;
            mode = mode.replace('!', '').replace('?', '');
            var idbMode, storeNames;
            try {
                storeNames = tables.map(function (table) {
                    var storeName = table instanceof _this.Table ? table.name : table;
                    if (typeof storeName !== 'string')
                        throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
                    return storeName;
                });
                if (mode == "r" || mode === READONLY)
                    idbMode = READONLY;
                else if (mode == "rw" || mode == READWRITE)
                    idbMode = READWRITE;
                else
                    throw new exceptions.InvalidArgument("Invalid transaction mode: " + mode);
                if (parentTransaction) {
                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {
                        if (onlyIfCompatible) {
                            parentTransaction = null;
                        }
                        else
                            throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
                    }
                    if (parentTransaction) {
                        storeNames.forEach(function (storeName) {
                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {
                                if (onlyIfCompatible) {
                                    parentTransaction = null;
                                }
                                else
                                    throw new exceptions.SubTransaction("Table " + storeName +
                                        " not included in parent transaction.");
                            }
                        });
                    }
                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {
                        parentTransaction = null;
                    }
                }
            }
            catch (e) {
                return parentTransaction ?
                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :
                    rejection(e);
            }
            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);
            return (parentTransaction ?
                parentTransaction._promise(idbMode, enterTransaction, "lock") :
                PSD.trans ?
                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :
                    this._whenReady(enterTransaction));
        };
        Dexie.prototype.table = function (tableName) {
            if (!hasOwn(this._allTables, tableName)) {
                throw new exceptions.InvalidTable("Table ".concat(tableName, " does not exist"));
            }
            return this._allTables[tableName];
        };
        return Dexie;
    }());

    var symbolObservable = typeof Symbol !== "undefined" && "observable" in Symbol
        ? Symbol.observable
        : "@@observable";
    var Observable =  (function () {
        function Observable(subscribe) {
            this._subscribe = subscribe;
        }
        Observable.prototype.subscribe = function (x, error, complete) {
            return this._subscribe(!x || typeof x === "function" ? { next: x, error: error, complete: complete } : x);
        };
        Observable.prototype[symbolObservable] = function () {
            return this;
        };
        return Observable;
    }());

    var domDeps;
    try {
        domDeps = {
            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,
            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange
        };
    }
    catch (e) {
        domDeps = { indexedDB: null, IDBKeyRange: null };
    }

    function liveQuery(querier) {
        var hasValue = false;
        var currentValue;
        var observable = new Observable(function (observer) {
            var scopeFuncIsAsync = isAsyncFunction(querier);
            function execute(ctx) {
                var wasRootExec = beginMicroTickScope();
                try {
                    if (scopeFuncIsAsync) {
                        incrementExpectedAwaits();
                    }
                    var rv = newScope(querier, ctx);
                    if (scopeFuncIsAsync) {
                        rv = rv.finally(decrementExpectedAwaits);
                    }
                    return rv;
                }
                finally {
                    wasRootExec && endMicroTickScope();
                }
            }
            var closed = false;
            var abortController;
            var accumMuts = {};
            var currentObs = {};
            var subscription = {
                get closed() {
                    return closed;
                },
                unsubscribe: function () {
                    if (closed)
                        return;
                    closed = true;
                    if (abortController)
                        abortController.abort();
                    if (startedListening)
                        globalEvents.storagemutated.unsubscribe(mutationListener);
                },
            };
            observer.start && observer.start(subscription);
            var startedListening = false;
            var doQuery = function () { return execInGlobalContext(_doQuery); };
            function shouldNotify() {
                return obsSetsOverlap(currentObs, accumMuts);
            }
            var mutationListener = function (parts) {
                extendObservabilitySet(accumMuts, parts);
                if (shouldNotify()) {
                    doQuery();
                }
            };
            var _doQuery = function () {
                if (closed ||
                    !domDeps.indexedDB)
                 {
                    return;
                }
                accumMuts = {};
                var subscr = {};
                if (abortController)
                    abortController.abort();
                abortController = new AbortController();
                var ctx = {
                    subscr: subscr,
                    signal: abortController.signal,
                    requery: doQuery,
                    querier: querier,
                    trans: null
                };
                var ret = execute(ctx);
                Promise.resolve(ret).then(function (result) {
                    hasValue = true;
                    currentValue = result;
                    if (closed || ctx.signal.aborted) {
                        return;
                    }
                    accumMuts = {};
                    currentObs = subscr;
                    if (!objectIsEmpty(currentObs) && !startedListening) {
                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);
                        startedListening = true;
                    }
                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });
                }, function (err) {
                    hasValue = false;
                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {
                        if (!closed)
                            execInGlobalContext(function () {
                                if (closed)
                                    return;
                                observer.error && observer.error(err);
                            });
                    }
                });
            };
            setTimeout(doQuery, 0);
            return subscription;
        });
        observable.hasValue = function () { return hasValue; };
        observable.getValue = function () { return currentValue; };
        return observable;
    }

    var Dexie = Dexie$1;
    props(Dexie, __assign(__assign({}, fullNameExceptions), {
        delete: function (databaseName) {
            var db = new Dexie(databaseName, { addons: [] });
            return db.delete();
        },
        exists: function (name) {
            return new Dexie(name, { addons: [] }).open().then(function (db) {
                db.close();
                return true;
            }).catch('NoSuchDatabaseError', function () { return false; });
        },
        getDatabaseNames: function (cb) {
            try {
                return getDatabaseNames(Dexie.dependencies).then(cb);
            }
            catch (_a) {
                return rejection(new exceptions.MissingAPI());
            }
        },
        defineClass: function () {
            function Class(content) {
                extend(this, content);
            }
            return Class;
        }, ignoreTransaction: function (scopeFunc) {
            return PSD.trans ?
                usePSD(PSD.transless, scopeFunc) :
                scopeFunc();
        }, vip: vip, async: function (generatorFn) {
            return function () {
                try {
                    var rv = awaitIterator(generatorFn.apply(this, arguments));
                    if (!rv || typeof rv.then !== 'function')
                        return DexiePromise.resolve(rv);
                    return rv;
                }
                catch (e) {
                    return rejection(e);
                }
            };
        }, spawn: function (generatorFn, args, thiz) {
            try {
                var rv = awaitIterator(generatorFn.apply(thiz, args || []));
                if (!rv || typeof rv.then !== 'function')
                    return DexiePromise.resolve(rv);
                return rv;
            }
            catch (e) {
                return rejection(e);
            }
        },
        currentTransaction: {
            get: function () { return PSD.trans || null; }
        }, waitFor: function (promiseOrFunction, optionalTimeout) {
            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?
                Dexie.ignoreTransaction(promiseOrFunction) :
                promiseOrFunction)
                .timeout(optionalTimeout || 60000);
            return PSD.trans ?
                PSD.trans.waitFor(promise) :
                promise;
        },
        Promise: DexiePromise,
        debug: {
            get: function () { return debug; },
            set: function (value) {
                setDebug(value);
            }
        },
        derive: derive, extend: extend, props: props, override: override,
        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,
        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,
        minKey: minKey,
        addons: [],
        connections: connections,
        errnames: errnames,
        dependencies: domDeps, cache: cache,
        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')
            .map(function (n) { return parseInt(n); })
            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));
    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);

    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {
            if (!propagatingLocally) {
                var event_1;
                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {
                    detail: updatedParts
                });
                propagatingLocally = true;
                dispatchEvent(event_1);
                propagatingLocally = false;
            }
        });
        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {
            var detail = _a.detail;
            if (!propagatingLocally) {
                propagateLocally(detail);
            }
        });
    }
    function propagateLocally(updateParts) {
        var wasMe = propagatingLocally;
        try {
            propagatingLocally = true;
            globalEvents.storagemutated.fire(updateParts);
            signalSubscribersNow(updateParts, true);
        }
        finally {
            propagatingLocally = wasMe;
        }
    }
    var propagatingLocally = false;

    var bc;
    var createBC = function () { };
    if (typeof BroadcastChannel !== 'undefined') {
        createBC = function () {
            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);
            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };
        };
        createBC();
        if (typeof bc.unref === 'function') {
            bc.unref();
        }
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {
            if (!propagatingLocally) {
                bc.postMessage(changedParts);
            }
        });
    }

    if (typeof addEventListener !== 'undefined') {
        addEventListener('pagehide', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pagehide');
                bc === null || bc === void 0 ? void 0 : bc.close();
                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {
                    var db = connections_1[_i];
                    db.close({ disableAutoOpen: false });
                }
            }
        });
        addEventListener('pageshow', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pageshow');
                createBC();
                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });
            }
        });
    }

    function add(value) {
        return new PropModification({ add: value });
    }

    function remove(value) {
        return new PropModification({ remove: value });
    }

    function replacePrefix(a, b) {
        return new PropModification({ replacePrefix: [a, b] });
    }

    DexiePromise.rejectionMapper = mapError;
    setDebug(debug);

    var namedExports = /*#__PURE__*/Object.freeze({
        __proto__: null,
        Dexie: Dexie$1,
        liveQuery: liveQuery,
        Entity: Entity,
        cmp: cmp,
        PropModification: PropModification,
        replacePrefix: replacePrefix,
        add: add,
        remove: remove,
        'default': Dexie$1,
        RangeSet: RangeSet,
        mergeRanges: mergeRanges,
        rangesOverlap: rangesOverlap
    });

    __assign(Dexie$1, namedExports, { default: Dexie$1 });

    return Dexie$1;

}));
//# sourceMappingURL=dexie.js.map


/***/ }),

/***/ "../../node_modules/dexie/import-wrapper.mjs":
/*!***************************************************!*\
  !*** ../../node_modules/dexie/import-wrapper.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dexie: () => (/* binding */ Dexie),
/* harmony export */   Entity: () => (/* binding */ Entity),
/* harmony export */   PropModification: () => (/* binding */ PropModification),
/* harmony export */   RangeSet: () => (/* binding */ RangeSet),
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   cmp: () => (/* binding */ cmp),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   liveQuery: () => (/* binding */ liveQuery),
/* harmony export */   mergeRanges: () => (/* binding */ mergeRanges),
/* harmony export */   rangesOverlap: () => (/* binding */ rangesOverlap),
/* harmony export */   remove: () => (/* binding */ remove),
/* harmony export */   replacePrefix: () => (/* binding */ replacePrefix)
/* harmony export */ });
/* harmony import */ var _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/dexie.js */ "../../node_modules/dexie/dist/dexie.js");
// Making the module version consumable via require - to prohibit
// multiple occurrancies of the same module in the same app
// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)

const DexieSymbol = Symbol.for("Dexie");
const Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__);
if (_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer !== Dexie.semVer) {
    throw new Error(`Two different versions of Dexie loaded in the same app: ${_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer} and ${Dexie.semVer}`);
}
const { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,
    PropModification, replacePrefix, add, remove } = Dexie;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dexie);


/***/ }),

/***/ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! void-elements */ "../../node_modules/void-elements/index.js");
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(void_elements__WEBPACK_IMPORTED_MODULE_0__);
var t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],((void_elements__WEBPACK_IMPORTED_MODULE_0___default())[i[1]]||"/"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!=="</"+a.name+">")return;m=!1}var u,f="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,"tag"===(a=n(r)).type&&t.components[a.name]&&(a.type="component",m=!0),a.voidElement||m||!d||"<"===d||a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&"<"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf("<",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=" "),(x>-1&&l+u.length>=0||" "!==g)&&u.push({type:"text",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a("",t)},"")}};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (c);
//# sourceMappingURL=html-parse-stringify.module.js.map


/***/ }),

/***/ "../../node_modules/i18next/dist/cjs/i18next.js":
/*!******************************************************!*\
  !*** ../../node_modules/i18next/dist/cjs/i18next.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";


const isString = obj => typeof obj === 'string';
const defer = () => {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
};
const makeString = object => {
  if (object == null) return '';
  return '' + object;
};
const copy = (a, s, t) => {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
};
const lastOfPathSeparatorRegExp = /###/g;
const cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
const canNotTraverseDeeper = object => !object || isString(object);
const getLastOfPath = (object, path, Empty) => {
  const stack = !isString(path) ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper(object)) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper(object)) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
};
const setPath = (object, path, newValue) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
};
const pushPath = (object, path, newValue, concat) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  obj[k].push(newValue);
};
const getPath = (object, path) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
};
const getPathWithDefaults = (data, defaultData, key) => {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
};
const deepExtend = (target, source, overwrite) => {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
};
const regexEscape = str => str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
const escape = data => {
  if (isString(data)) {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
};
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
const looksLikeObjectPath = (key, nsSeparator, keySeparator) => {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
};
const deepFind = function (obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
};
const getCleanedCode = code => code && code.replace('_', '-');

const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (isString(key) && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || !isString(key)) return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces: isString(namespaces) ? [namespaces] : namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    return {
      key,
      namespaces: isString(namespaces) ? [namespaces] : namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && !isString(options.replace) ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (isString(keys)) keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && !isString(options.replace);
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (isString(code) && code.indexOf('-') > -1) {
      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {
        try {
          let formattedCode = Intl.getCanonicalLocales(code)[0];
          if (formattedCode && this.options.lowerCaseLng) {
            formattedCode = formattedCode.toLowerCase();
          }
          if (formattedCode) return formattedCode;
        } catch (e) {}
      }
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (isString(fallbacks)) fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (isString(code)) {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: n => Number(n > 1),
  2: n => Number(n != 1),
  3: n => 0,
  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),
  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),
  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),
  9: n => Number(n >= 2),
  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),
  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),
  12: n => Number(n % 10 != 1 || n % 100 == 11),
  13: n => Number(n !== 0),
  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),
  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),
  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),
  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),
  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),
  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),
  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),
  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
const createRules = () => {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
};
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
    this.pluralRulesCache = {};
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  clearCache() {
    this.pluralRulesCache = {};
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);
      const type = options.ordinal ? 'ordinal' : 'cardinal';
      const cacheKey = JSON.stringify({
        cleanedCode,
        type
      });
      if (cacheKey in this.pluralRulesCache) {
        return this.pluralRulesCache[cacheKey];
      }
      let rule;
      try {
        rule = new Intl.PluralRules(cleanedCode, {
          type
        });
      } catch (err) {
        if (!code.match(/-|_/)) return;
        const lngPart = this.languageUtils.getLanguagePartFromCode(code);
        rule = this.getRule(lngPart, options);
      }
      this.pluralRulesCache[cacheKey] = rule;
      return rule;
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

const deepFindWithDefaults = function (data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && isString(key)) {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
};
const regexSafe = val => val.replace(/\$/g, '$$$$');
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = isString(temp) ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (!isString(value) && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    const handleHasOptions = (key, inheritedOptions) => {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    };
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && !isString(value)) return value;
      if (!isString(value)) value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

const parseFormatStr = formatStr => {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
};
const createCachedFormatter = fn => {
  const cache = {};
  return (val, lng, options) => {
    let optForCache = options;
    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {
      optForCache = {
        ...optForCache,
        [options.interpolationkey]: undefined
      };
    }
    const key = lng + JSON.stringify(optForCache);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
};
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    this.formatSeparator = options.interpolation.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {
      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);
      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);
    }
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

const removePending = (q, name) => {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
};
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (!err && data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    if (err && data) this.state[name] = 0;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);
    if (isString(namespaces)) namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

const get = () => ({
  debug: false,
  initImmediate: true,
  ns: ['translation'],
  defaultNS: ['translation'],
  fallbackLng: ['dev'],
  fallbackNS: false,
  supportedLngs: false,
  nonExplicitSupportedLngs: false,
  load: 'all',
  preload: false,
  simplifyPluralSuffix: true,
  keySeparator: '.',
  nsSeparator: ':',
  pluralSeparator: '_',
  contextSeparator: '_',
  partialBundledLanguages: false,
  saveMissing: false,
  updateMissing: false,
  saveMissingTo: 'fallback',
  saveMissingPlurals: true,
  missingKeyHandler: false,
  missingInterpolationHandler: false,
  postProcess: false,
  postProcessPassResolved: false,
  returnNull: false,
  returnEmptyString: true,
  returnObjects: false,
  joinArrays: false,
  returnedObjectHandler: false,
  parseMissingKeyHandler: false,
  appendNamespaceToMissingKey: false,
  appendNamespaceToCIMode: false,
  overloadTranslationOptionHandler: args => {
    let ret = {};
    if (typeof args[1] === 'object') ret = args[1];
    if (isString(args[1])) ret.defaultValue = args[1];
    if (isString(args[2])) ret.tDescription = args[2];
    if (typeof args[2] === 'object' || typeof args[3] === 'object') {
      const options = args[3] || args[2];
      Object.keys(options).forEach(key => {
        ret[key] = options[key];
      });
    }
    return ret;
  },
  interpolation: {
    escapeValue: true,
    format: value => value,
    prefix: '{{',
    suffix: '}}',
    formatSeparator: ',',
    unescapePrefix: '-',
    nestingPrefix: '$t(',
    nestingSuffix: ')',
    nestingOptionsSeparator: ',',
    maxReplaces: 1000,
    skipOnVariables: true
  }
});
const transformOptions = options => {
  if (isString(options.ns)) options.ns = [options.ns];
  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];
  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
};

const noop = () => {};
const bindMemberFunctions = inst => {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
};
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (isString(options.ns)) {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    const createClassOnDemand = ClassOrObject => {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    };
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = isString(language) ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (typeof lngs === 'function') {
      callback = lngs;
      lngs = undefined;
    }
    if (typeof ns === 'function') {
      callback = ns;
      ns = undefined;
    }
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (isString(lng)) {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 0 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (isString(ns)) ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (isString(lngs)) lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

module.exports = instance;


/***/ }),

/***/ "../../node_modules/lodash.debounce/index.js":
/*!***************************************************!*\
  !*** ../../node_modules/lodash.debounce/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/I18nextProvider.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/I18nextProvider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nextProvider: () => (/* binding */ I18nextProvider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


function I18nextProvider(_ref) {
  let {
    i18n,
    defaultNS,
    children
  } = _ref;
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    i18n,
    defaultNS
  }), [i18n, defaultNS]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext.Provider, {
    value
  }, children);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Trans.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Trans.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");




function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_2__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const t = tFromProps || i18n && i18n.t.bind(i18n);
  return (0,_TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans)({
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions,
    values,
    defaults,
    components,
    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,
    i18n,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  });
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/TransWithoutContext.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* binding */ nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-parse-stringify */ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");





const hasChildren = (node, checkLength) => {
  if (!node) return false;
  const base = node.props ? node.props.children : node.children;
  if (checkLength) return base.length > 0;
  return !!base;
};
const getChildren = node => {
  if (!node) return [];
  const children = node.props ? node.props.children : node.children;
  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;
};
const hasValidReactChildren = children => Array.isArray(children) && children.every(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement);
const getAsArray = data => Array.isArray(data) ? data : [data];
const mergeProps = (source, target) => {
  const newTarget = {
    ...target
  };
  newTarget.props = Object.assign(source.props, target.props);
  return newTarget;
};
const nodesToString = (children, i18nOptions) => {
  if (!children) return '';
  let stringNode = '';
  const childrenArray = getAsArray(children);
  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];
  childrenArray.forEach((child, childIndex) => {
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
      stringNode += `${child}`;
    } else if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {
      const {
        props,
        type
      } = child;
      const childPropsCount = Object.keys(props).length;
      const shouldKeepChild = keepArray.indexOf(type) > -1;
      const childChildren = props.children;
      if (!childChildren && shouldKeepChild && !childPropsCount) {
        stringNode += `<${type}/>`;
      } else if (!childChildren && (!shouldKeepChild || childPropsCount) || props.i18nIsDynamicList) {
        stringNode += `<${childIndex}></${childIndex}>`;
      } else if (shouldKeepChild && childPropsCount === 1 && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(childChildren)) {
        stringNode += `<${type}>${childChildren}</${type}>`;
      } else {
        const content = nodesToString(childChildren, i18nOptions);
        stringNode += `<${childIndex}>${content}</${childIndex}>`;
      }
    } else if (child === null) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a null child.`);
    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child)) {
      const {
        format,
        ...clone
      } = child;
      const keys = Object.keys(clone);
      if (keys.length === 1) {
        const value = format ? `${keys[0]}, ${format}` : keys[0];
        stringNode += `{{${value}}}`;
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);
      }
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);
    }
  });
  return stringNode;
};
const renderNodes = (children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) => {
  if (targetString === '') return [];
  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];
  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);
  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];
  const data = {};
  const getData = childs => {
    const childrenArray = getAsArray(childs);
    childrenArray.forEach(child => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) return;
      if (hasChildren(child)) getData(getChildren(child));else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) Object.assign(data, child);
    });
  };
  getData(children);
  const ast = html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__["default"].parse(`<0>${targetString}</0>`);
  const opts = {
    ...data,
    ...combinedTOpts
  };
  const renderInner = (child, node, rootReactNode) => {
    const childs = getChildren(child);
    const mappedChildren = mapAST(childs, node.children, rootReactNode);
    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;
  };
  const pushTranslatedJSX = (child, inner, mem, i, isVoid) => {
    if (child.dummy) {
      child.children = inner;
      mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
        key: i
      }, isVoid ? undefined : inner));
    } else {
      mem.push(...react__WEBPACK_IMPORTED_MODULE_0__.Children.map([child], c => {
        const props = {
          ...c.props
        };
        delete props.i18nIsDynamicList;
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c.type, {
          ...props,
          key: i,
          ref: c.ref
        }, isVoid ? null : inner);
      }));
    }
  };
  const mapAST = (reactNode, astNode, rootReactNode) => {
    const reactNodes = getAsArray(reactNode);
    const astNodes = getAsArray(astNode);
    return astNodes.reduce((mem, node, i) => {
      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);
      if (node.type === 'tag') {
        let tmp = reactNodes[parseInt(node.name, 10)];
        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];
        if (!tmp) tmp = {};
        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({
          props: node.attrs
        }, tmp) : tmp;
        const isElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child);
        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;
        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && child.dummy && !isElement;
        const isKnownComponent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(children) && Object.hasOwnProperty.call(children, node.name);
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);
          mem.push(value);
        } else if (hasChildren(child) || isValidTranslationWithChildren) {
          const inner = renderInner(child, node, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (isEmptyTransWithHTML) {
          const inner = mapAST(reactNodes, node.children, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (Number.isNaN(parseFloat(node.name))) {
          if (isKnownComponent) {
            const inner = renderInner(child, node, rootReactNode);
            pushTranslatedJSX(child, inner, mem, i, node.voidElement);
          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {
            if (node.voidElement) {
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }));
            } else {
              const inner = mapAST(reactNodes, node.children, rootReactNode);
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }, inner));
            }
          } else if (node.voidElement) {
            mem.push(`<${node.name} />`);
          } else {
            const inner = mapAST(reactNodes, node.children, rootReactNode);
            mem.push(`<${node.name}>${inner}</${node.name}>`);
          }
        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !isElement) {
          const content = node.children[0] ? translationContent : null;
          if (content) mem.push(content);
        } else {
          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);
        }
      } else if (node.type === 'text') {
        const wrapTextNodes = i18nOptions.transWrapTextNodes;
        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);
        if (wrapTextNodes) {
          mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(wrapTextNodes, {
            key: `${node.name}-${i}`
          }, content));
        } else {
          mem.push(content);
        }
      }
      return mem;
    }, []);
  };
  const result = mapAST([{
    dummy: true,
    children: children || []
  }], ast, getAsArray(children || []));
  return getChildren(result[0]);
};
function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const i18n = i18nFromProps || (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__.getI18n)();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using i18nextReactModule');
    return children;
  }
  const t = tFromProps || i18n.t.bind(i18n) || (k => k);
  const reactI18nextOptions = {
    ...(0,_defaults_js__WEBPACK_IMPORTED_MODULE_3__.getDefaults)(),
    ...(i18n.options && i18n.options.react)
  };
  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  const nodeAsString = nodesToString(children, reactI18nextOptions);
  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;
  const {
    hashTransKey
  } = reactI18nextOptions;
  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);
  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {
    values = values && Object.keys(values).length > 0 ? {
      ...values,
      ...i18n.options.interpolation.defaultVariables
    } : {
      ...i18n.options.interpolation.defaultVariables
    };
  }
  const interpolationOverride = values || count !== undefined || !children ? tOptions.interpolation : {
    interpolation: {
      ...tOptions.interpolation,
      prefix: '#$?',
      suffix: '?$#'
    }
  };
  const combinedTOpts = {
    ...tOptions,
    context: context || tOptions.context,
    count,
    ...values,
    ...interpolationOverride,
    defaultValue,
    ns: namespaces
  };
  const translation = key ? t(key, combinedTOpts) : defaultValue;
  if (components) {
    Object.keys(components).forEach(c => {
      const comp = components[c];
      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;
      function Componentized() {
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, comp);
      }
      components[c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Componentized);
    });
  }
  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);
  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;
  return useAsParent ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(useAsParent, additionalProps, content) : content;
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Translation.js":
/*!***************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Translation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Translation: () => (/* binding */ Translation)
/* harmony export */ });
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");

function Translation(props) {
  const {
    ns,
    children,
    ...options
  } = props;
  const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(ns, options);
  return children(t, {
    i18n,
    lng: i18n.language
  }, ready);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/context.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/context.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* binding */ I18nContext),
/* harmony export */   ReportNamespaces: () => (/* binding */ ReportNamespaces),
/* harmony export */   composeInitialProps: () => (/* binding */ composeInitialProps),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n),
/* harmony export */   getInitialProps: () => (/* binding */ getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__.initReactI18next),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.setI18n)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");





const I18nContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
class ReportNamespaces {
  constructor() {
    this.usedNamespaces = {};
  }
  addUsedNamespaces(namespaces) {
    namespaces.forEach(ns => {
      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;
    });
  }
  getUsedNamespaces = () => Object.keys(this.usedNamespaces);
}
const composeInitialProps = ForComponent => async ctx => {
  const componentsInitialProps = ForComponent.getInitialProps ? await ForComponent.getInitialProps(ctx) : {};
  const i18nInitialProps = getInitialProps();
  return {
    ...componentsInitialProps,
    ...i18nInitialProps
  };
};
const getInitialProps = () => {
  const i18n = (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];
  const ret = {};
  const initialI18nStore = {};
  i18n.languages.forEach(l => {
    initialI18nStore[l] = {};
    namespaces.forEach(ns => {
      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};
    });
  });
  ret.initialI18nStore = initialI18nStore;
  ret.initialLanguage = i18n.language;
  return ret;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/defaults.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/defaults.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDefaults: () => (/* binding */ getDefaults),
/* harmony export */   setDefaults: () => (/* binding */ setDefaults)
/* harmony export */ });
/* harmony import */ var _unescape_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unescape.js */ "../../node_modules/react-i18next/dist/es/unescape.js");

let defaultOptions = {
  bindI18n: 'languageChanged',
  bindI18nStore: '',
  transEmptyNodeValue: '',
  transSupportBasicHtmlNodes: true,
  transWrapTextNodes: '',
  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],
  useSuspense: true,
  unescape: _unescape_js__WEBPACK_IMPORTED_MODULE_0__.unescape
};
const setDefaults = function () {
  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  defaultOptions = {
    ...defaultOptions,
    ...options
  };
};
const getDefaults = () => defaultOptions;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/i18nInstance.js":
/*!****************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/i18nInstance.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getI18n: () => (/* binding */ getI18n),
/* harmony export */   setI18n: () => (/* binding */ setI18n)
/* harmony export */ });
let i18nInstance;
const setI18n = instance => {
  i18nInstance = instance;
};
const getI18n = () => i18nInstance;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/index.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.I18nContext),
/* harmony export */   I18nextProvider: () => (/* reexport safe */ _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__.I18nextProvider),
/* harmony export */   Trans: () => (/* reexport safe */ _Trans_js__WEBPACK_IMPORTED_MODULE_0__.Trans),
/* harmony export */   TransWithoutContext: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans),
/* harmony export */   Translation: () => (/* reexport safe */ _Translation_js__WEBPACK_IMPORTED_MODULE_4__.Translation),
/* harmony export */   composeInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.composeInitialProps),
/* harmony export */   date: () => (/* binding */ date),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.getI18n),
/* harmony export */   getInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__.initReactI18next),
/* harmony export */   number: () => (/* binding */ number),
/* harmony export */   plural: () => (/* binding */ plural),
/* harmony export */   select: () => (/* binding */ select),
/* harmony export */   selectOrdinal: () => (/* binding */ selectOrdinal),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.setI18n),
/* harmony export */   time: () => (/* binding */ time),
/* harmony export */   useSSR: () => (/* reexport safe */ _useSSR_js__WEBPACK_IMPORTED_MODULE_7__.useSSR),
/* harmony export */   useTranslation: () => (/* reexport safe */ _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__.useTranslation),
/* harmony export */   withSSR: () => (/* reexport safe */ _withSSR_js__WEBPACK_IMPORTED_MODULE_6__.withSSR),
/* harmony export */   withTranslation: () => (/* reexport safe */ _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__.withTranslation)
/* harmony export */ });
/* harmony import */ var _Trans_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Trans.js */ "../../node_modules/react-i18next/dist/es/Trans.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withTranslation.js */ "../../node_modules/react-i18next/dist/es/withTranslation.js");
/* harmony import */ var _Translation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Translation.js */ "../../node_modules/react-i18next/dist/es/Translation.js");
/* harmony import */ var _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./I18nextProvider.js */ "../../node_modules/react-i18next/dist/es/I18nextProvider.js");
/* harmony import */ var _withSSR_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./withSSR.js */ "../../node_modules/react-i18next/dist/es/withSSR.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");












const date = () => '';
const time = () => '';
const number = () => '';
const select = () => '';
const plural = () => '';
const selectOrdinal = () => '';

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/initReactI18next.js":
/*!********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/initReactI18next.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initReactI18next: () => (/* binding */ initReactI18next)
/* harmony export */ });
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");


const initReactI18next = {
  type: '3rdParty',
  init(instance) {
    (0,_defaults_js__WEBPACK_IMPORTED_MODULE_0__.setDefaults)(instance.options.react);
    (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__.setI18n)(instance);
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/unescape.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/unescape.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   unescape: () => (/* binding */ unescape)
/* harmony export */ });
const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;
const htmlEntities = {
  '&amp;': '&',
  '&#38;': '&',
  '&lt;': '<',
  '&#60;': '<',
  '&gt;': '>',
  '&#62;': '>',
  '&apos;': "'",
  '&#39;': "'",
  '&quot;': '"',
  '&#34;': '"',
  '&nbsp;': ' ',
  '&#160;': ' ',
  '&copy;': '',
  '&#169;': '',
  '&reg;': '',
  '&#174;': '',
  '&hellip;': '',
  '&#8230;': '',
  '&#x2F;': '/',
  '&#47;': '/'
};
const unescapeHtmlEntity = m => htmlEntities[m];
const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useSSR.js":
/*!**********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useSSR.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSSR: () => (/* binding */ useSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


const useSSR = function (initialI18nStore, initialLanguage) {
  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n.options && i18n.options.isClone) return;
  if (initialI18nStore && !i18n.initializedStoreOnce) {
    i18n.services.resourceStore.data = initialI18nStore;
    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {
      Object.keys(lngResources).forEach(ns => {
        if (mem.indexOf(ns) < 0) mem.push(ns);
      });
      return mem;
    }, i18n.options.ns);
    i18n.initializedStoreOnce = true;
    i18n.isInitialized = true;
  }
  if (initialLanguage && !i18n.initializedLanguageOnce) {
    i18n.changeLanguage(initialLanguage);
    i18n.initializedLanguageOnce = true;
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useTranslation.js":
/*!******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useTranslation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTranslation: () => (/* binding */ useTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const usePrevious = (value, ignore) => {
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    ref.current = ignore ? ref.current : value;
  }, [value, ignore]);
  return ref.current;
};
const alwaysNewT = (i18n, language, namespace, keyPrefix) => i18n.getFixedT(language, namespace, keyPrefix);
const useMemoizedT = (i18n, language, namespace, keyPrefix) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(alwaysNewT(i18n, language, namespace, keyPrefix), [i18n, language, namespace, keyPrefix]);
const useTranslation = function (ns) {
  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new _context_js__WEBPACK_IMPORTED_MODULE_1__.ReportNamespaces();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using initReactI18next');
    const notReadyT = (k, optsOrDefaultValue) => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue)) return optsOrDefaultValue;
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(optsOrDefaultValue) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;
      return Array.isArray(k) ? k[k.length - 1] : k;
    };
    const retNotReady = [notReadyT, {}, false];
    retNotReady.t = notReadyT;
    retNotReady.i18n = {};
    retNotReady.ready = false;
    return retNotReady;
  }
  if (i18n.options.react && i18n.options.react.wait !== undefined) (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');
  const i18nOptions = {
    ...(0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults)(),
    ...i18n.options.react,
    ...props
  };
  const {
    useSuspense,
    keyPrefix
  } = i18nOptions;
  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);
  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hasLoadedNamespace)(n, i18n, i18nOptions));
  const memoGetT = useMemoizedT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const getT = () => memoGetT;
  const getNewT = () => alwaysNewT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const [t, setT] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getT);
  let joinedNS = namespaces.join();
  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;
  const previousJoinedNS = usePrevious(joinedNS);
  const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const {
      bindI18n,
      bindI18nStore
    } = i18nOptions;
    isMounted.current = true;
    if (!ready && !useSuspense) {
      if (props.lng) {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      }
    }
    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {
      setT(getNewT);
    }
    const boundReset = () => {
      if (isMounted.current) setT(getNewT);
    };
    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);
    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);
    return () => {
      isMounted.current = false;
      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));
      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));
    };
  }, [i18n, joinedNS]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isMounted.current && ready) {
      setT(getT);
    }
  }, [i18n, keyPrefix, ready]);
  const ret = [t, i18n, ready];
  ret.t = t;
  ret.i18n = i18n;
  ret.ready = ready;
  if (ready) return ret;
  if (!ready && !useSuspense) return ret;
  throw new Promise(resolve => {
    if (props.lng) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => resolve());
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => resolve());
    }
  });
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/utils.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDisplayName: () => (/* binding */ getDisplayName),
/* harmony export */   hasLoadedNamespace: () => (/* binding */ hasLoadedNamespace),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   loadLanguages: () => (/* binding */ loadLanguages),
/* harmony export */   loadNamespaces: () => (/* binding */ loadNamespaces),
/* harmony export */   warn: () => (/* binding */ warn),
/* harmony export */   warnOnce: () => (/* binding */ warnOnce)
/* harmony export */ });
function warn() {
  if (console && console.warn) {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (isString(args[0])) args[0] = `react-i18next:: ${args[0]}`;
    console.warn(...args);
  }
}
const alreadyWarned = {};
function warnOnce() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  if (isString(args[0]) && alreadyWarned[args[0]]) return;
  if (isString(args[0])) alreadyWarned[args[0]] = new Date();
  warn(...args);
}
const loadedClb = (i18n, cb) => () => {
  if (i18n.isInitialized) {
    cb();
  } else {
    const initialized = () => {
      setTimeout(() => {
        i18n.off('initialized', initialized);
      }, 0);
      cb();
    };
    i18n.on('initialized', initialized);
  }
};
const loadNamespaces = (i18n, ns, cb) => {
  i18n.loadNamespaces(ns, loadedClb(i18n, cb));
};
const loadLanguages = (i18n, lng, ns, cb) => {
  if (isString(ns)) ns = [ns];
  ns.forEach(n => {
    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);
  });
  i18n.loadLanguages(lng, loadedClb(i18n, cb));
};
const oldI18nextHasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const lng = i18n.languages[0];
  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;
  const lastLng = i18n.languages[i18n.languages.length - 1];
  if (lng.toLowerCase() === 'cimode') return true;
  const loadNotPending = (l, n) => {
    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];
    return loadState === -1 || loadState === 2;
  };
  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;
  if (i18n.hasResourceBundle(lng, ns)) return true;
  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;
  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
  return false;
};
const hasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  if (!i18n.languages || !i18n.languages.length) {
    warnOnce('i18n.languages were undefined or empty', i18n.languages);
    return true;
  }
  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;
  if (!isNewerI18next) {
    return oldI18nextHasLoadedNamespace(ns, i18n, options);
  }
  return i18n.hasLoadedNamespace(ns, {
    lng: options.lng,
    precheck: (i18nInstance, loadNotPending) => {
      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;
    }
  });
};
const getDisplayName = Component => Component.displayName || Component.name || (isString(Component) && Component.length > 0 ? Component : 'Unknown');
const isString = obj => typeof obj === 'string';
const isObject = obj => typeof obj === 'object' && obj !== null;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withSSR.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withSSR.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withSSR: () => (/* binding */ withSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");




const withSSR = () => function Extend(WrappedComponent) {
  function I18nextWithSSR(_ref) {
    let {
      initialI18nStore,
      initialLanguage,
      ...rest
    } = _ref;
    (0,_useSSR_js__WEBPACK_IMPORTED_MODULE_1__.useSSR)(initialI18nStore, initialLanguage);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, {
      ...rest
    });
  }
  I18nextWithSSR.getInitialProps = (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.composeInitialProps)(WrappedComponent);
  I18nextWithSSR.displayName = `withI18nextSSR(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getDisplayName)(WrappedComponent)})`;
  I18nextWithSSR.WrappedComponent = WrappedComponent;
  return I18nextWithSSR;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withTranslation.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withTranslation.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withTranslation: () => (/* binding */ withTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const withTranslation = function (ns) {
  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return function Extend(WrappedComponent) {
    function I18nextWithTranslation(_ref) {
      let {
        forwardedRef,
        ...rest
      } = _ref;
      const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(ns, {
        ...rest,
        keyPrefix: options.keyPrefix
      });
      const passDownProps = {
        ...rest,
        t,
        i18n,
        tReady: ready
      };
      if (options.withRef && forwardedRef) {
        passDownProps.ref = forwardedRef;
      } else if (!options.withRef && forwardedRef) {
        passDownProps.forwardedRef = forwardedRef;
      }
      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, passDownProps);
    }
    I18nextWithTranslation.displayName = `withI18nextTranslation(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getDisplayName)(WrappedComponent)})`;
    I18nextWithTranslation.WrappedComponent = WrappedComponent;
    const forwardRef = (props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(I18nextWithTranslation, Object.assign({}, props, {
      forwardedRef: ref
    }));
    return options.withRef ? (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(forwardRef) : I18nextWithTranslation;
  };
};

/***/ }),

/***/ "../../node_modules/react/cjs/react.development.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react/cjs/react.development.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
/* module decorator */ module = __webpack_require__.nmd(module);
/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


 true &&
  (function () {
    function defineDeprecationWarning(methodName, info) {
      Object.defineProperty(Component.prototype, methodName, {
        get: function () {
          console.warn(
            "%s(...) is deprecated in plain JavaScript React classes. %s",
            info[0],
            info[1]
          );
        }
      });
    }
    function getIteratorFn(maybeIterable) {
      if (null === maybeIterable || "object" !== typeof maybeIterable)
        return null;
      maybeIterable =
        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
        maybeIterable["@@iterator"];
      return "function" === typeof maybeIterable ? maybeIterable : null;
    }
    function warnNoop(publicInstance, callerName) {
      publicInstance =
        ((publicInstance = publicInstance.constructor) &&
          (publicInstance.displayName || publicInstance.name)) ||
        "ReactClass";
      var warningKey = publicInstance + "." + callerName;
      didWarnStateUpdateForUnmountedComponent[warningKey] ||
        (console.error(
          "Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",
          callerName,
          publicInstance
        ),
        (didWarnStateUpdateForUnmountedComponent[warningKey] = !0));
    }
    function Component(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function ComponentDummy() {}
    function PureComponent(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = !1;
      } catch (e) {
        JSCompiler_inline_result = !0;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 =
          ("function" === typeof Symbol &&
            Symbol.toStringTag &&
            value[Symbol.toStringTag]) ||
          value.constructor.name ||
          "Object";
        JSCompiler_temp_const.call(
          JSCompiler_inline_result,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          JSCompiler_inline_result$jscomp$0
        );
        return testStringCoercion(value);
      }
    }
    function getComponentNameFromType(type) {
      if (null == type) return null;
      if ("function" === typeof type)
        return type.$$typeof === REACT_CLIENT_REFERENCE
          ? null
          : type.displayName || type.name || null;
      if ("string" === typeof type) return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if ("object" === typeof type)
        switch (
          ("number" === typeof type.tag &&
            console.error(
              "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
            ),
          type.$$typeof)
        ) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return (type.displayName || "Context") + ".Provider";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type ||
              ((type = innerType.displayName || innerType.name || ""),
              (type = "" !== type ? "ForwardRef(" + type + ")" : "ForwardRef"));
            return type;
          case REACT_MEMO_TYPE:
            return (
              (innerType = type.displayName || null),
              null !== innerType
                ? innerType
                : getComponentNameFromType(type.type) || "Memo"
            );
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE) return "<>";
      if (
        "object" === typeof type &&
        null !== type &&
        type.$$typeof === REACT_LAZY_TYPE
      )
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return null === dispatcher ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning) return !1;
      }
      return void 0 !== config.key;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown ||
          ((specialPropKeyWarningShown = !0),
          console.error(
            "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
            displayName
          ));
      }
      warnAboutAccessingKey.isReactWarning = !0;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: !0
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] ||
        ((didWarnAboutElementRef[componentName] = !0),
        console.error(
          "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
        ));
      componentName = this.props.ref;
      return void 0 !== componentName ? componentName : null;
    }
    function ReactElement(
      type,
      key,
      self,
      source,
      owner,
      props,
      debugStack,
      debugTask
    ) {
      self = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type: type,
        key: key,
        props: props,
        _owner: owner
      };
      null !== (void 0 !== self ? self : null)
        ? Object.defineProperty(type, "ref", {
            enumerable: !1,
            get: elementRefGetterWithDeprecationWarning
          })
        : Object.defineProperty(type, "ref", { enumerable: !1, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function cloneAndReplaceKey(oldElement, newKey) {
      newKey = ReactElement(
        oldElement.type,
        newKey,
        void 0,
        void 0,
        oldElement._owner,
        oldElement.props,
        oldElement._debugStack,
        oldElement._debugTask
      );
      oldElement._store &&
        (newKey._store.validated = oldElement._store.validated);
      return newKey;
    }
    function isValidElement(object) {
      return (
        "object" === typeof object &&
        null !== object &&
        object.$$typeof === REACT_ELEMENT_TYPE
      );
    }
    function escape(key) {
      var escaperLookup = { "=": "=0", ":": "=2" };
      return (
        "$" +
        key.replace(/[=:]/g, function (match) {
          return escaperLookup[match];
        })
      );
    }
    function getElementKey(element, index) {
      return "object" === typeof element &&
        null !== element &&
        null != element.key
        ? (checkKeyStringCoercion(element.key), escape("" + element.key))
        : index.toString(36);
    }
    function noop$1() {}
    function resolveThenable(thenable) {
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
        default:
          switch (
            ("string" === typeof thenable.status
              ? thenable.then(noop$1, noop$1)
              : ((thenable.status = "pending"),
                thenable.then(
                  function (fulfilledValue) {
                    "pending" === thenable.status &&
                      ((thenable.status = "fulfilled"),
                      (thenable.value = fulfilledValue));
                  },
                  function (error) {
                    "pending" === thenable.status &&
                      ((thenable.status = "rejected"),
                      (thenable.reason = error));
                  }
                )),
            thenable.status)
          ) {
            case "fulfilled":
              return thenable.value;
            case "rejected":
              throw thenable.reason;
          }
      }
      throw thenable;
    }
    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
      var type = typeof children;
      if ("undefined" === type || "boolean" === type) children = null;
      var invokeCallback = !1;
      if (null === children) invokeCallback = !0;
      else
        switch (type) {
          case "bigint":
          case "string":
          case "number":
            invokeCallback = !0;
            break;
          case "object":
            switch (children.$$typeof) {
              case REACT_ELEMENT_TYPE:
              case REACT_PORTAL_TYPE:
                invokeCallback = !0;
                break;
              case REACT_LAZY_TYPE:
                return (
                  (invokeCallback = children._init),
                  mapIntoArray(
                    invokeCallback(children._payload),
                    array,
                    escapedPrefix,
                    nameSoFar,
                    callback
                  )
                );
            }
        }
      if (invokeCallback) {
        invokeCallback = children;
        callback = callback(invokeCallback);
        var childKey =
          "" === nameSoFar ? "." + getElementKey(invokeCallback, 0) : nameSoFar;
        isArrayImpl(callback)
          ? ((escapedPrefix = ""),
            null != childKey &&
              (escapedPrefix =
                childKey.replace(userProvidedKeyEscapeRegex, "$&/") + "/"),
            mapIntoArray(callback, array, escapedPrefix, "", function (c) {
              return c;
            }))
          : null != callback &&
            (isValidElement(callback) &&
              (null != callback.key &&
                ((invokeCallback && invokeCallback.key === callback.key) ||
                  checkKeyStringCoercion(callback.key)),
              (escapedPrefix = cloneAndReplaceKey(
                callback,
                escapedPrefix +
                  (null == callback.key ||
                  (invokeCallback && invokeCallback.key === callback.key)
                    ? ""
                    : ("" + callback.key).replace(
                        userProvidedKeyEscapeRegex,
                        "$&/"
                      ) + "/") +
                  childKey
              )),
              "" !== nameSoFar &&
                null != invokeCallback &&
                isValidElement(invokeCallback) &&
                null == invokeCallback.key &&
                invokeCallback._store &&
                !invokeCallback._store.validated &&
                (escapedPrefix._store.validated = 2),
              (callback = escapedPrefix)),
            array.push(callback));
        return 1;
      }
      invokeCallback = 0;
      childKey = "" === nameSoFar ? "." : nameSoFar + ":";
      if (isArrayImpl(children))
        for (var i = 0; i < children.length; i++)
          (nameSoFar = children[i]),
            (type = childKey + getElementKey(nameSoFar, i)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if (((i = getIteratorFn(children)), "function" === typeof i))
        for (
          i === children.entries &&
            (didWarnAboutMaps ||
              console.warn(
                "Using Maps as children is not supported. Use an array of keyed ReactElements instead."
              ),
            (didWarnAboutMaps = !0)),
            children = i.call(children),
            i = 0;
          !(nameSoFar = children.next()).done;

        )
          (nameSoFar = nameSoFar.value),
            (type = childKey + getElementKey(nameSoFar, i++)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if ("object" === type) {
        if ("function" === typeof children.then)
          return mapIntoArray(
            resolveThenable(children),
            array,
            escapedPrefix,
            nameSoFar,
            callback
          );
        array = String(children);
        throw Error(
          "Objects are not valid as a React child (found: " +
            ("[object Object]" === array
              ? "object with keys {" + Object.keys(children).join(", ") + "}"
              : array) +
            "). If you meant to render a collection of children, use an array instead."
        );
      }
      return invokeCallback;
    }
    function mapChildren(children, func, context) {
      if (null == children) return children;
      var result = [],
        count = 0;
      mapIntoArray(children, result, "", "", function (child) {
        return func.call(context, child, count++);
      });
      return result;
    }
    function lazyInitializer(payload) {
      if (-1 === payload._status) {
        var ctor = payload._result;
        ctor = ctor();
        ctor.then(
          function (moduleObject) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 1), (payload._result = moduleObject);
          },
          function (error) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 2), (payload._result = error);
          }
        );
        -1 === payload._status &&
          ((payload._status = 0), (payload._result = ctor));
      }
      if (1 === payload._status)
        return (
          (ctor = payload._result),
          void 0 === ctor &&
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",
              ctor
            ),
          "default" in ctor ||
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",
              ctor
            ),
          ctor.default
        );
      throw payload._result;
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      null === dispatcher &&
        console.error(
          "Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."
        );
      return dispatcher;
    }
    function noop() {}
    function enqueueTask(task) {
      if (null === enqueueTaskImpl)
        try {
          var requireString = ("require" + Math.random()).slice(0, 7);
          enqueueTaskImpl = (module && module[requireString]).call(
            module,
            "timers"
          ).setImmediate;
        } catch (_err) {
          enqueueTaskImpl = function (callback) {
            !1 === didWarnAboutMessageChannel &&
              ((didWarnAboutMessageChannel = !0),
              "undefined" === typeof MessageChannel &&
                console.error(
                  "This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."
                ));
            var channel = new MessageChannel();
            channel.port1.onmessage = callback;
            channel.port2.postMessage(void 0);
          };
        }
      return enqueueTaskImpl(task);
    }
    function aggregateErrors(errors) {
      return 1 < errors.length && "function" === typeof AggregateError
        ? new AggregateError(errors)
        : errors[0];
    }
    function popActScope(prevActQueue, prevActScopeDepth) {
      prevActScopeDepth !== actScopeDepth - 1 &&
        console.error(
          "You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "
        );
      actScopeDepth = prevActScopeDepth;
    }
    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {
      var queue = ReactSharedInternals.actQueue;
      if (null !== queue)
        if (0 !== queue.length)
          try {
            flushActQueue(queue);
            enqueueTask(function () {
              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
            });
            return;
          } catch (error) {
            ReactSharedInternals.thrownErrors.push(error);
          }
        else ReactSharedInternals.actQueue = null;
      0 < ReactSharedInternals.thrownErrors.length
        ? ((queue = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          reject(queue))
        : resolve(returnValue);
    }
    function flushActQueue(queue) {
      if (!isFlushing) {
        isFlushing = !0;
        var i = 0;
        try {
          for (; i < queue.length; i++) {
            var callback = queue[i];
            do {
              ReactSharedInternals.didUsePromise = !1;
              var continuation = callback(!1);
              if (null !== continuation) {
                if (ReactSharedInternals.didUsePromise) {
                  queue[i] = callback;
                  queue.splice(0, i);
                  return;
                }
                callback = continuation;
              } else break;
            } while (1);
          }
          queue.length = 0;
        } catch (error) {
          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);
        } finally {
          isFlushing = !1;
        }
      }
    }
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
      REACT_PORTAL_TYPE = Symbol.for("react.portal"),
      REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
      REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
      REACT_PROFILER_TYPE = Symbol.for("react.profiler");
    Symbol.for("react.provider");
    var REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
      REACT_CONTEXT_TYPE = Symbol.for("react.context"),
      REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
      REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
      REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"),
      REACT_MEMO_TYPE = Symbol.for("react.memo"),
      REACT_LAZY_TYPE = Symbol.for("react.lazy"),
      REACT_ACTIVITY_TYPE = Symbol.for("react.activity"),
      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
      didWarnStateUpdateForUnmountedComponent = {},
      ReactNoopUpdateQueue = {
        isMounted: function () {
          return !1;
        },
        enqueueForceUpdate: function (publicInstance) {
          warnNoop(publicInstance, "forceUpdate");
        },
        enqueueReplaceState: function (publicInstance) {
          warnNoop(publicInstance, "replaceState");
        },
        enqueueSetState: function (publicInstance) {
          warnNoop(publicInstance, "setState");
        }
      },
      assign = Object.assign,
      emptyObject = {};
    Object.freeze(emptyObject);
    Component.prototype.isReactComponent = {};
    Component.prototype.setState = function (partialState, callback) {
      if (
        "object" !== typeof partialState &&
        "function" !== typeof partialState &&
        null != partialState
      )
        throw Error(
          "takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, partialState, callback, "setState");
    };
    Component.prototype.forceUpdate = function (callback) {
      this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
    };
    var deprecatedAPIs = {
        isMounted: [
          "isMounted",
          "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."
        ],
        replaceState: [
          "replaceState",
          "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."
        ]
      },
      fnName;
    for (fnName in deprecatedAPIs)
      deprecatedAPIs.hasOwnProperty(fnName) &&
        defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
    ComponentDummy.prototype = Component.prototype;
    deprecatedAPIs = PureComponent.prototype = new ComponentDummy();
    deprecatedAPIs.constructor = PureComponent;
    assign(deprecatedAPIs, Component.prototype);
    deprecatedAPIs.isPureReactComponent = !0;
    var isArrayImpl = Array.isArray,
      REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"),
      ReactSharedInternals = {
        H: null,
        A: null,
        T: null,
        S: null,
        V: null,
        actQueue: null,
        isBatchingLegacy: !1,
        didScheduleLegacyUpdate: !1,
        didUsePromise: !1,
        thrownErrors: [],
        getCurrentStack: null,
        recentlyCreatedOwnerStacks: 0
      },
      hasOwnProperty = Object.prototype.hasOwnProperty,
      createTask = console.createTask
        ? console.createTask
        : function () {
            return null;
          };
    deprecatedAPIs = {
      "react-stack-bottom-frame": function (callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = deprecatedAPIs[
      "react-stack-bottom-frame"
    ].bind(deprecatedAPIs, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutMaps = !1,
      userProvidedKeyEscapeRegex = /\/+/g,
      reportGlobalError =
        "function" === typeof reportError
          ? reportError
          : function (error) {
              if (
                "object" === typeof window &&
                "function" === typeof window.ErrorEvent
              ) {
                var event = new window.ErrorEvent("error", {
                  bubbles: !0,
                  cancelable: !0,
                  message:
                    "object" === typeof error &&
                    null !== error &&
                    "string" === typeof error.message
                      ? String(error.message)
                      : String(error),
                  error: error
                });
                if (!window.dispatchEvent(event)) return;
              } else if (
                "object" === typeof process &&
                "function" === typeof process.emit
              ) {
                process.emit("uncaughtException", error);
                return;
              }
              console.error(error);
            },
      didWarnAboutMessageChannel = !1,
      enqueueTaskImpl = null,
      actScopeDepth = 0,
      didWarnNoAwaitAct = !1,
      isFlushing = !1,
      queueSeveralMicrotasks =
        "function" === typeof queueMicrotask
          ? function (callback) {
              queueMicrotask(function () {
                return queueMicrotask(callback);
              });
            }
          : enqueueTask;
    deprecatedAPIs = Object.freeze({
      __proto__: null,
      c: function (size) {
        return resolveDispatcher().useMemoCache(size);
      }
    });
    exports.Children = {
      map: mapChildren,
      forEach: function (children, forEachFunc, forEachContext) {
        mapChildren(
          children,
          function () {
            forEachFunc.apply(this, arguments);
          },
          forEachContext
        );
      },
      count: function (children) {
        var n = 0;
        mapChildren(children, function () {
          n++;
        });
        return n;
      },
      toArray: function (children) {
        return (
          mapChildren(children, function (child) {
            return child;
          }) || []
        );
      },
      only: function (children) {
        if (!isValidElement(children))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return children;
      }
    };
    exports.Component = Component;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.PureComponent = PureComponent;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
      ReactSharedInternals;
    exports.__COMPILER_RUNTIME = deprecatedAPIs;
    exports.act = function (callback) {
      var prevActQueue = ReactSharedInternals.actQueue,
        prevActScopeDepth = actScopeDepth;
      actScopeDepth++;
      var queue = (ReactSharedInternals.actQueue =
          null !== prevActQueue ? prevActQueue : []),
        didAwaitActCall = !1;
      try {
        var result = callback();
      } catch (error) {
        ReactSharedInternals.thrownErrors.push(error);
      }
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          (popActScope(prevActQueue, prevActScopeDepth),
          (callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      if (
        null !== result &&
        "object" === typeof result &&
        "function" === typeof result.then
      ) {
        var thenable = result;
        queueSeveralMicrotasks(function () {
          didAwaitActCall ||
            didWarnNoAwaitAct ||
            ((didWarnNoAwaitAct = !0),
            console.error(
              "You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"
            ));
        });
        return {
          then: function (resolve, reject) {
            didAwaitActCall = !0;
            thenable.then(
              function (returnValue) {
                popActScope(prevActQueue, prevActScopeDepth);
                if (0 === prevActScopeDepth) {
                  try {
                    flushActQueue(queue),
                      enqueueTask(function () {
                        return recursivelyFlushAsyncActWork(
                          returnValue,
                          resolve,
                          reject
                        );
                      });
                  } catch (error$0) {
                    ReactSharedInternals.thrownErrors.push(error$0);
                  }
                  if (0 < ReactSharedInternals.thrownErrors.length) {
                    var _thrownError = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    );
                    ReactSharedInternals.thrownErrors.length = 0;
                    reject(_thrownError);
                  }
                } else resolve(returnValue);
              },
              function (error) {
                popActScope(prevActQueue, prevActScopeDepth);
                0 < ReactSharedInternals.thrownErrors.length
                  ? ((error = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    )),
                    (ReactSharedInternals.thrownErrors.length = 0),
                    reject(error))
                  : reject(error);
              }
            );
          }
        };
      }
      var returnValue$jscomp$0 = result;
      popActScope(prevActQueue, prevActScopeDepth);
      0 === prevActScopeDepth &&
        (flushActQueue(queue),
        0 !== queue.length &&
          queueSeveralMicrotasks(function () {
            didAwaitActCall ||
              didWarnNoAwaitAct ||
              ((didWarnNoAwaitAct = !0),
              console.error(
                "A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"
              ));
          }),
        (ReactSharedInternals.actQueue = null));
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          ((callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      return {
        then: function (resolve, reject) {
          didAwaitActCall = !0;
          0 === prevActScopeDepth
            ? ((ReactSharedInternals.actQueue = queue),
              enqueueTask(function () {
                return recursivelyFlushAsyncActWork(
                  returnValue$jscomp$0,
                  resolve,
                  reject
                );
              }))
            : resolve(returnValue$jscomp$0);
        }
      };
    };
    exports.cache = function (fn) {
      return function () {
        return fn.apply(null, arguments);
      };
    };
    exports.captureOwnerStack = function () {
      var getCurrentStack = ReactSharedInternals.getCurrentStack;
      return null === getCurrentStack ? null : getCurrentStack();
    };
    exports.cloneElement = function (element, config, children) {
      if (null === element || void 0 === element)
        throw Error(
          "The argument must be a React element, but you passed " +
            element +
            "."
        );
      var props = assign({}, element.props),
        key = element.key,
        owner = element._owner;
      if (null != config) {
        var JSCompiler_inline_result;
        a: {
          if (
            hasOwnProperty.call(config, "ref") &&
            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(
              config,
              "ref"
            ).get) &&
            JSCompiler_inline_result.isReactWarning
          ) {
            JSCompiler_inline_result = !1;
            break a;
          }
          JSCompiler_inline_result = void 0 !== config.ref;
        }
        JSCompiler_inline_result && (owner = getOwner());
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (key = "" + config.key));
        for (propName in config)
          !hasOwnProperty.call(config, propName) ||
            "key" === propName ||
            "__self" === propName ||
            "__source" === propName ||
            ("ref" === propName && void 0 === config.ref) ||
            (props[propName] = config[propName]);
      }
      var propName = arguments.length - 2;
      if (1 === propName) props.children = children;
      else if (1 < propName) {
        JSCompiler_inline_result = Array(propName);
        for (var i = 0; i < propName; i++)
          JSCompiler_inline_result[i] = arguments[i + 2];
        props.children = JSCompiler_inline_result;
      }
      props = ReactElement(
        element.type,
        key,
        void 0,
        void 0,
        owner,
        props,
        element._debugStack,
        element._debugTask
      );
      for (key = 2; key < arguments.length; key++)
        (owner = arguments[key]),
          isValidElement(owner) && owner._store && (owner._store.validated = 1);
      return props;
    };
    exports.createContext = function (defaultValue) {
      defaultValue = {
        $$typeof: REACT_CONTEXT_TYPE,
        _currentValue: defaultValue,
        _currentValue2: defaultValue,
        _threadCount: 0,
        Provider: null,
        Consumer: null
      };
      defaultValue.Provider = defaultValue;
      defaultValue.Consumer = {
        $$typeof: REACT_CONSUMER_TYPE,
        _context: defaultValue
      };
      defaultValue._currentRenderer = null;
      defaultValue._currentRenderer2 = null;
      return defaultValue;
    };
    exports.createElement = function (type, config, children) {
      for (var i = 2; i < arguments.length; i++) {
        var node = arguments[i];
        isValidElement(node) && node._store && (node._store.validated = 1);
      }
      i = {};
      node = null;
      if (null != config)
        for (propName in (didWarnAboutOldJSXRuntime ||
          !("__self" in config) ||
          "key" in config ||
          ((didWarnAboutOldJSXRuntime = !0),
          console.warn(
            "Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform"
          )),
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (node = "" + config.key)),
        config))
          hasOwnProperty.call(config, propName) &&
            "key" !== propName &&
            "__self" !== propName &&
            "__source" !== propName &&
            (i[propName] = config[propName]);
      var childrenLength = arguments.length - 2;
      if (1 === childrenLength) i.children = children;
      else if (1 < childrenLength) {
        for (
          var childArray = Array(childrenLength), _i = 0;
          _i < childrenLength;
          _i++
        )
          childArray[_i] = arguments[_i + 2];
        Object.freeze && Object.freeze(childArray);
        i.children = childArray;
      }
      if (type && type.defaultProps)
        for (propName in ((childrenLength = type.defaultProps), childrenLength))
          void 0 === i[propName] && (i[propName] = childrenLength[propName]);
      node &&
        defineKeyPropWarningGetter(
          i,
          "function" === typeof type
            ? type.displayName || type.name || "Unknown"
            : type
        );
      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return ReactElement(
        type,
        node,
        void 0,
        void 0,
        getOwner(),
        i,
        propName ? Error("react-stack-top-frame") : unknownOwnerDebugStack,
        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask
      );
    };
    exports.createRef = function () {
      var refObject = { current: null };
      Object.seal(refObject);
      return refObject;
    };
    exports.forwardRef = function (render) {
      null != render && render.$$typeof === REACT_MEMO_TYPE
        ? console.error(
            "forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."
          )
        : "function" !== typeof render
          ? console.error(
              "forwardRef requires a render function but was given %s.",
              null === render ? "null" : typeof render
            )
          : 0 !== render.length &&
            2 !== render.length &&
            console.error(
              "forwardRef render functions accept exactly two parameters: props and ref. %s",
              1 === render.length
                ? "Did you forget to use the ref parameter?"
                : "Any additional parameter will be undefined."
            );
      null != render &&
        null != render.defaultProps &&
        console.error(
          "forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?"
        );
      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },
        ownName;
      Object.defineProperty(elementType, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          render.name ||
            render.displayName ||
            (Object.defineProperty(render, "name", { value: name }),
            (render.displayName = name));
        }
      });
      return elementType;
    };
    exports.isValidElement = isValidElement;
    exports.lazy = function (ctor) {
      return {
        $$typeof: REACT_LAZY_TYPE,
        _payload: { _status: -1, _result: ctor },
        _init: lazyInitializer
      };
    };
    exports.memo = function (type, compare) {
      null == type &&
        console.error(
          "memo: The first argument must be a component. Instead received: %s",
          null === type ? "null" : typeof type
        );
      compare = {
        $$typeof: REACT_MEMO_TYPE,
        type: type,
        compare: void 0 === compare ? null : compare
      };
      var ownName;
      Object.defineProperty(compare, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          type.name ||
            type.displayName ||
            (Object.defineProperty(type, "name", { value: name }),
            (type.displayName = name));
        }
      });
      return compare;
    };
    exports.startTransition = function (scope) {
      var prevTransition = ReactSharedInternals.T,
        currentTransition = {};
      ReactSharedInternals.T = currentTransition;
      currentTransition._updatedFibers = new Set();
      try {
        var returnValue = scope(),
          onStartTransitionFinish = ReactSharedInternals.S;
        null !== onStartTransitionFinish &&
          onStartTransitionFinish(currentTransition, returnValue);
        "object" === typeof returnValue &&
          null !== returnValue &&
          "function" === typeof returnValue.then &&
          returnValue.then(noop, reportGlobalError);
      } catch (error) {
        reportGlobalError(error);
      } finally {
        null === prevTransition &&
          currentTransition._updatedFibers &&
          ((scope = currentTransition._updatedFibers.size),
          currentTransition._updatedFibers.clear(),
          10 < scope &&
            console.warn(
              "Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."
            )),
          (ReactSharedInternals.T = prevTransition);
      }
    };
    exports.unstable_useCacheRefresh = function () {
      return resolveDispatcher().useCacheRefresh();
    };
    exports.use = function (usable) {
      return resolveDispatcher().use(usable);
    };
    exports.useActionState = function (action, initialState, permalink) {
      return resolveDispatcher().useActionState(
        action,
        initialState,
        permalink
      );
    };
    exports.useCallback = function (callback, deps) {
      return resolveDispatcher().useCallback(callback, deps);
    };
    exports.useContext = function (Context) {
      var dispatcher = resolveDispatcher();
      Context.$$typeof === REACT_CONSUMER_TYPE &&
        console.error(
          "Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"
        );
      return dispatcher.useContext(Context);
    };
    exports.useDebugValue = function (value, formatterFn) {
      return resolveDispatcher().useDebugValue(value, formatterFn);
    };
    exports.useDeferredValue = function (value, initialValue) {
      return resolveDispatcher().useDeferredValue(value, initialValue);
    };
    exports.useEffect = function (create, createDeps, update) {
      null == create &&
        console.warn(
          "React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      var dispatcher = resolveDispatcher();
      if ("function" === typeof update)
        throw Error(
          "useEffect CRUD overload is not enabled in this build of React."
        );
      return dispatcher.useEffect(create, createDeps);
    };
    exports.useId = function () {
      return resolveDispatcher().useId();
    };
    exports.useImperativeHandle = function (ref, create, deps) {
      return resolveDispatcher().useImperativeHandle(ref, create, deps);
    };
    exports.useInsertionEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useInsertionEffect(create, deps);
    };
    exports.useLayoutEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useLayoutEffect(create, deps);
    };
    exports.useMemo = function (create, deps) {
      return resolveDispatcher().useMemo(create, deps);
    };
    exports.useOptimistic = function (passthrough, reducer) {
      return resolveDispatcher().useOptimistic(passthrough, reducer);
    };
    exports.useReducer = function (reducer, initialArg, init) {
      return resolveDispatcher().useReducer(reducer, initialArg, init);
    };
    exports.useRef = function (initialValue) {
      return resolveDispatcher().useRef(initialValue);
    };
    exports.useState = function (initialState) {
      return resolveDispatcher().useState(initialState);
    };
    exports.useSyncExternalStore = function (
      subscribe,
      getSnapshot,
      getServerSnapshot
    ) {
      return resolveDispatcher().useSyncExternalStore(
        subscribe,
        getSnapshot,
        getServerSnapshot
      );
    };
    exports.useTransition = function () {
      return resolveDispatcher().useTransition();
    };
    exports.version = "19.1.0";
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();


/***/ }),

/***/ "../../node_modules/react/index.js":
/*!*****************************************!*\
  !*** ../../node_modules/react/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) // removed by dead control flow
{} else {
  module.exports = __webpack_require__(/*! ./cjs/react.development.js */ "../../node_modules/react/cjs/react.development.js");
}


/***/ }),

/***/ "../../node_modules/title-case/dist.es2015/index.js":
/*!**********************************************************!*\
  !*** ../../node_modules/title-case/dist.es2015/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   titleCase: () => (/* binding */ titleCase)
/* harmony export */ });
var SMALL_WORDS = /\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i;
var TOKENS = /[^\s:-]+|./g;
var WHITESPACE = /\s/;
var IS_MANUAL_CASE = /.(?=[A-Z]|\..)/;
var ALPHANUMERIC_PATTERN = /[A-Za-z0-9\u00C0-\u00FF]/;
function titleCase(input) {
    var result = "";
    var m;
    // tslint:disable-next-line
    while ((m = TOKENS.exec(input)) !== null) {
        var token = m[0], index = m.index;
        if (
        // Ignore already capitalized words.
        !IS_MANUAL_CASE.test(token) &&
            // Ignore small words except at beginning or end.
            (!SMALL_WORDS.test(token) ||
                index === 0 ||
                index + token.length === input.length) &&
            // Ignore URLs.
            (input.charAt(index + token.length) !== ":" ||
                WHITESPACE.test(input.charAt(index + token.length + 1)))) {
            // Find and uppercase first word character, skips over *modifiers*.
            result += token.replace(ALPHANUMERIC_PATTERN, function (m) { return m.toUpperCase(); });
            continue;
        }
        result += token;
    }
    return result;
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/void-elements/index.js":
/*!*************************************************!*\
  !*** ../../node_modules/void-elements/index.js ***!
  \*************************************************/
/***/ ((module) => {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "link": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),

/***/ "./node_modules/@openfin/workspace-platform/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@openfin/workspace-platform/index.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const o=n(a(6535));t.lightenColor=(e,t)=>r(e,"lighten",t),t.darkenColor=(e,t)=>r(e,"darken",t);const r=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,o.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>o.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent",openFinActive:"#4642FF",openFinHover:"#6965FF",lightGray4Active:"#D7DADF",lightGray4Hover:"#EBECEF",darkGray2Active:"#33353B",darkGray2Hover:"#44464E"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),o=a(2346),r=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,o.darkenColor)(t,2),[`${e}Hover`]:(0,o.lightenColor)(t,5),[`${e}Focused`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},s(r.Palette.brandPrimary,e.brandPrimary)),s(r.Palette.brandSecondary,e.brandSecondary)),e)})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(o,r){if(r=r||{},(o=o||"")instanceof n)return o;if(!(this instanceof n))return new n(o,r);var i=function(n){var o,r,i,s={r:0,g:0,b:0},c=1,l=null,d=null,u=null,p=!1,w=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,o=!1;if(y[e])e=y[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=R.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=R.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=R.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=R.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=R.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=R.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=R.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:W(n[4]),format:o?"name":"hex8"}:(n=R.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:o?"name":"hex"}:(n=R.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:W(n[4]+""+n[4]),format:o?"name":"hex8"}:!!(n=R.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:o?"name":"hex"}}(n)),"object"==e(n)&&(E(n.r)&&E(n.g)&&E(n.b)?(o=n.r,r=n.g,i=n.b,s={r:255*P(o,255),g:255*P(r,255),b:255*P(i,255)},p=!0,w="%"===String(n.r).substr(-1)?"prgb":"rgb"):E(n.h)&&E(n.s)&&E(n.v)?(l=I(n.s),d=I(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),o=e-n,r=a*(1-t),i=a*(1-o*t),s=a*(1-(1-o)*t),c=n%6;return{r:255*[a,i,r,r,s,a][c],g:255*[s,a,a,i,r,r][c],b:255*[r,r,s,a,a,i][c]}}(n.h,l,d),p=!0,w="hsv"):E(n.h)&&E(n.s)&&E(n.l)&&(l=I(n.s),u=I(n.l),s=function(e,t,a){var n,o,r;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=o=r=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),o=i(c,s,e),r=i(c,s,e-1/3)}return{r:255*n,g:255*o,b:255*r}}(n.h,l,u),p=!0,w="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=v(c),{ok:p,format:n.format||w,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(o);this._originalInput=o,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=(r+i)/2;if(r==i)n=o=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,l:s}}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=r,c=r-i;if(o=0===r?0:c/r,r==i)n=0;else{switch(r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,v:s}}function i(e,t,a,n){var o=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function s(e,t,a,n){return[x(A(n)),x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function l(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function d(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function w(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function g(e,t){var a=n(e).toHsl(),o=(a.h+t)%360;return a.h=o<0?360+o:o,n(a)}function h(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),o=[n(e)],r=360/t,i=1;i<t;i++)o.push(n({h:(a.h+i*r)%360,s:a.s,l:a.l}));return o}function k(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function b(e,t,a){t=t||6,a=a||30;var o=n(e).toHsl(),r=360/a,i=[n(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,i.push(n(o));return i}function f(e,t){t=t||6;for(var a=n(e).toHsv(),o=a.h,r=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:o,s:r,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=v(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,o){var r=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16)),x(A(n))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=n(e);a="#"+s(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(f,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]="a"===r?t[r]:I(t[r]));t=o}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var o=n(e).toRgb(),r=n(t).toRgb(),i=a/100;return n({r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a})},n.readability=function(e,t){var a=n(e),o=n(t);return(Math.max(a.getLuminance(),o.getLuminance())+.05)/(Math.min(a.getLuminance(),o.getLuminance())+.05)},n.isReadable=function(e,t,a){var o,r,i,s,c,l=n.readability(e,t);switch(r=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),o={level:s,size:c}).level+o.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},n.mostReadable=function(e,t,a){var o,r,i,s,c=null,l=0;r=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var d=0;d<t.length;d++)(o=n.readability(e,t[d]))>l&&(l=o,c=n(t[d]));return n.isReadable(e,c,{level:i,size:s})||!r?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var y=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(y);function v(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function M(e){return parseInt(e,16)}function x(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function A(e){return Math.round(255*parseFloat(e)).toString(16)}function W(e){return M(e)/255}var D,T,B,R=(T="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",B="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{CSS_UNIT:new RegExp(D),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function E(e){return!!R.CSS_UNIT.exec(e)}return n}()}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e].call(r.exports,r,r.exports,o),r.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=o(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=o(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=o(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in r)i[s]=r[s];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{AppManifestType:()=>l,BookmarkItemContextMenuOptionType:()=>y,BrowserButtonType:()=>v,ColorSchemeOptionType:()=>k,CustomActionCallerType:()=>M,Dock:()=>u,EnterpriseMainContextMenuOptionType:()=>f,GlobalContextMenuOptionType:()=>m,PageChangeEventType:()=>h,PageTabContextMenuOptionType:()=>b,PanelPosition:()=>g,SUPPORTED_LANGUAGES:()=>x,SaveButtonContextMenuOptionType:()=>P,SaveModalType:()=>I,ViewTabMenuOptionType:()=>S,WindowType:()=>C,getCurrentSync:()=>bn,init:()=>Hs,wrapSync:()=>kn});var e={};a.r(e),a.d(e,{createNamespacedLocalStorage:()=>Pt,getItem:()=>xt,removeItem:()=>It,setItem:()=>Mt});var t,o,r,i,s,c,l,d,u={};a.r(u),a.d(u,{init:()=>Gt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(t||(t={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(o||(o={})),function(e){e.Active="active",e.Default="default"}(r||(r={})),function(e){e.Suggestion="suggestion"}(i||(i={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(s||(s={})),function(e){e.MultiSelect="MultiSelect"}(c||(c={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(l||(l={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(d||(d={}));var p,w,g,h,m,k,b,f,y,S,v,P,C,M;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(w||(w={})),function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(g||(g={})),function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(h||(h={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.ManageDesktopSignals="ManageDesktopSignals",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(m||(m={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(k||(k={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.ManageDesktopSignals="ManageDesktopSignals",e.AddToChannel="AddToChannel",e.Custom="Custom"}(b||(b={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.ManageDesktopSignals="ManageDesktopSignals",e.Print="Print",e.Pin="Pin"}(f||(f={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(y||(y={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(S||(S={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(v||(v={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(P||(P={})),function(e){e.Browser="browser",e.Platform="platform"}(C||(C={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(M||(M={}));const x=["en-US","ja-JP","zh-CN","ko-KR","ru-RU","de-DE","zh-Hant"];var I,A;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(I||(I={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(A||(A={}));const W="undefined"!=typeof window&&"undefined"!=typeof fin,D=("undefined"==typeof process||process.env,"undefined"!=typeof window),T=D&&"undefined"!=typeof indexedDB,B=D?window.origin:A.Local,R=W&&fin.me.uuid,E=W&&fin.me.name,F=W&&fin.me.entityType,V=(A.Local,A.Dev,A.Staging,"prod"===A.Prod),N=e=>e.startsWith("http://")||e.startsWith("https://")?e:B+e,L=N("https://workspace.openfin.co/workspace/22.3.9"),_=N("https://workspace.openfin.co/workspace/22.3.9"),U=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&N(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&N(WORKSPACE_DOCS_CLIENT_URL),"42.138.100.101"),O="22.3.9";"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA;var G,H;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(G||(G={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseLandingPage="/enterprise/landing/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseAboutPage="/popup-menu/about/",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/",e.ZoomControlsDialog="/zoom-controls-dialog/",e.DesktopSignalsModal="/popup-menu/desktop-signals-modal/"}(H||(H={}));const $={...G,...H};var z;!function(e){e.Search="search"}(z||(z={}));const K=$;async function J(){const e="getManifestOverrides",{manifest:t,initialOptions:a}=await fin.Application.getCurrentSync().getInfo();return t?.platform.workspace||t?.platform.home||a?.workspace||a?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),t?.platform.workspace?(JSON.stringify(t?.platform.workspace),t?.platform.workspace):t?.platform.home?(JSON.stringify(t?.platform.home),t?.platform.home):a?.workspace?(JSON.stringify(a?.workspace),a?.workspace):a?.home?(JSON.stringify(a?.home),a?.home):{}}const Z=e=>fin.System.getSystemAppConfig(e);async function q(){const e="getDOSOverrides";if(!W)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let t=await Z("workspace").catch((t=>{console.warn(`${e}: customConfig entry for SystemApp workspace not available in Desktop Owner Settings. ${t?.message}`)}));return t||(t=await Z("home")),JSON.stringify(t),t}catch(t){if(!V)return{};if(!(t instanceof Error))throw t;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${t?.message}`)}return{}}let j,Q;async function Y(){if(j)return j;const e="getOverrides";if(!W)return D&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[t,a]=await Promise.all([q(),J()]);return j={...a,...t,disableRuntimeValidation:a.disableRuntimeValidation||t.disableRuntimeValidation},j}function X(e){Q=e}const ee=e=>e.replace(/\/$/,"");async function te(){const e=(await Y()).browserBaseUrl;if(e)try{const t=new URL(e);if(t.pathname.endsWith("/"))t.pathname=ee(t.pathname);else{if("/workspace"===t.pathname)return t.pathname+=`/${O}`,t.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(t){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return Q??_}async function ae(e=!1){const t=await te()+K.Browser;return e?t:ee(t)}async function ne(e=!1){const t=await te()+K.EnterpriseBrowser;return e?t:ee(t)}async function oe(){return await ne()+"/landing/"}const re=async(e,t=!1)=>e?ne(t):ae(t),ie=56,se=728,ce=150,le="dock3",de=e=>{const t=e||"undefined"!=typeof fin&&fin.me.identity.uuid;if(!t)throw new Error("UUID is required to get the Dock3 channel name.");return`${t}-dock3`};var ue,pe;!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(ue||(ue={})),function(e){e.FinProtocol="fin-protocol"}(pe||(pe={}));const we={uuid:R},ge=(ue.Workspace,e=>{if(!W)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),he=()=>ge(we);var me;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion",e.AICompanionPrefix="openfin-ai-companion-",e.UpdateVersionModal="here-update-version-modal",e.ZoomControlsDialog="here-zoom-controls-dialog",e.AboutPageWindow="here-about-page",e.DesktopSignalsModal="here-desktop-signals-modal"}(me||(me={}));const ke=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2}),be=(e,t)=>{const a=t.width/2,n=t.height/2;return{left:Math.round(e.left-a),top:Math.round(e.top-n),width:t.width,height:t.height}};function fe(e){if(!W)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const ye={name:E,uuid:R};function Se(){return fe(ye)}me.Home,ue.Workspace,me.Dock,ue.Workspace;const ve={name:me.Storefront,uuid:ue.Workspace};ue.Workspace,ue.Workspace;async function Pe(e){const t=fe(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.focus()}const Ce=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function Me(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>Ce(e.identity))));return e.filter(((e,a)=>t[a]))}async function xe(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>e.identity.name.startsWith(me.BrowserMenu)))}const Ie=e=>fe(e).getInfo().then((()=>!0)).catch((()=>!1)),Ae=()=>Ie(ve);function We(e,t){const a=e.top,n=e.left,o=e.top+e.height,r=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,l=t.monitorRect.right;if(a>c||o<i||n>l||r<s)return 0;const d=Math.max(a,i),u=Math.max(n,s);return(Math.min(o,c)-d)*(Math.min(r,l)-u)/(e.height*e.width)}async function De(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=We(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}const Te=(e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a};const Be=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var Re;!function(e){e.Top="top",e.Below="below"}(Re||(Re={}));const Ee=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function Fe(e,t,a,n,o,r){const i=!!e&&fe(e),s=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(i,r);if(n===Re.Below){if(!i||await Ee(i)){const e=i?(await De(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ke(e).left-t/2,top:o?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:ke(s).left-t/2,top:o?s.bottom-128:s.bottom+12,width:t,height:a}}if(!i||await Ee(i)){const e=i?(await De(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ke(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:ke(s).left-t/2,top:s.top+20,width:t,height:a}}Be((async function(e,t,a,n,o){const r=t.getBoundingClientRect(),i=await Fe(e,r.width,r.height,a,n,o);if(0===i.width||0===i.height)return;const s=Se();await s.setBounds(i),await s.show();const c=setTimeout((()=>s.close()),n?5e3:3e3),l=()=>{clearTimeout(c),s.close()};if(e){const t=fe(e);t.on("bounds-changing",(()=>l())),t.on("blurred",(()=>l())),t.on("maximized",(()=>l())),t.on("minimized",(()=>l())),t.on("restored",(()=>l()))}}),10);const Ve=async e=>{const t=e&&await fe(e).getBounds(),a=e?await De(t):(await fin.System.getMonitorInfo()).primaryMonitor;return{left:((n=a.availableRect).left+n.right)/2,top:(n.top+n.bottom)/2};// removed by dead control flow
{ var n; }},Ne=async(e,t,a=!1)=>{let n;if(a)n=await Ve(t);else{const e=fe(t),a=await e.getBounds();n=ke(a)}const{defaultHeight:o,defaultWidth:r}=e;return be(n,{height:o,width:r})};async function Le(e,t,a=!1){const n=t&&"maximized"===await fe(t).getState(),o=a||n||!t,r=await Ne(e,t,o);return await(async e=>{const t=await fin.System.getMonitorInfo(),a=[t.primaryMonitor,...t.nonPrimaryMonitors];for(const t of a)if(1===We(e,t))return!1;return!0})(r)?(await fe(t).center(),Ne(e,t,o)):(console.warn("Response modal isn't off screen, not centering parent window"),r)}const _e=()=>e=>e;var Ue=a(847);const Oe=e=>e.replace(/[^\d,]/g,"").split(","),Ge=e=>{if(e.length<2)throw new Error("Invalid color object, cannot convert to HSL.");const t=e[0]/255,a=e[1]/255,n=e[2]/255,o=Math.min(t,a,n),r=Math.max(t,a,n),i=r-o;let s=0,c=0,l=0;return s=0===i?0:r===t?(a-n)/i%6:r===a?(n-t)/i+2:(t-a)/i+4,s=Math.round(60*s),s<0&&(s+=360),l=(r+o)/2,c=0==i?0:i/(1-Math.abs(2*l-1)),c=+(100*c).toFixed(1),l=+(100*l).toFixed(1),{hsl:`hsl(${s}, ${c}%, ${l}%)`,hsla:`hsl(${s}, ${c}%, ${l}%, 1)`,hue:s,lightness:l,saturation:c}},He=e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let t=0,a=0,n=0;if(4===e.length)t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,n=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,n=`0x${e[5]}${e[6]}`}return[+t,+a,+n]},$e=e=>{const t=e;if(t.startsWith("#")){return{rgb:He(t).join(", "),alpha:1}}const a=t.match(/\d{1,3}(\.\d+)?/g);if(a){const[e,t,n,o]=a;return{rgb:`${e}, ${t}, ${n}`,alpha:void 0!==o?parseFloat(o):1}}return{rgb:He(e).join(", "),alpha:1}},ze=(e,t=!1)=>{const a=(e=>{if(!e)throw new Error("Color is not defined");const t=e.toLowerCase();let a;if(t.includes("rgb")){const e=Oe(t);e.length>3&&e.pop(),a=Ge(e).hue}if(t.includes("#")){const e=He(t);a=Ge(e).hue}t.includes("hsl")&&(a=Oe(t)[0]);const n=a?.toString();if(!n)throw new Error(`Hue was unable to be extracted from "${t}", check color format. Accepted formats are: rgb(), rgba(), hex, hsl(), and hsla()`);return n})(e);return t?{background1:`hsla(${a}, 0%, 100%, 1)`,background2:`hsla(${a}, 67%, 99%, 1)`,background3:`hsla(${a}, 26%, 96%, 1)`,background4:`hsla(${a}, 15%, 94%, 1)`,background5:`hsla(${a}, 10%, 88%, 1)`,background6:`hsla(${a}, 80%, 80%, 1)`}:{background1:`hsla(${a}, 8%, 7%, 1)`,background2:`hsla(${a}, 8%, 13%, 1)`,background3:`hsla(${a}, 9%, 15%, 1)`,background4:`hsla(${a}, 6%, 23%, 1)`,background5:`hsla(${a}, 21%, 28%, 1)`,background6:`hsla(${a}, 5%, 51%, 1)`}},Ke=(e,t)=>{const a={};return Object.keys(e).forEach((n=>{a[n]=t[n]?t[n]:e[n]})),a};var Je=a(877),Ze=a.n(Je),qe=a(67),je=a.n(qe);const Qe={light:{symbol:je()?.src||""},dark:{symbol:Ze()?.src||""}},Ye=D&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Xe(e){let t;const a=new Set;return()=>{if(!W)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Ye;const n={clientAPIVersion:O},o=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return o.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),o})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}var et,tt;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(et||(et={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(tt||(tt={}));const at=Xe("__of_workspace_protocol__"),nt=at;Xe("__search-openfin-browser-home-topic__");var ot;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.GetSavedWorkspacesMetadata="getSavedWorkspacesMetadata",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal",e.SendUpdateVersionModalResponseInternal="sendUpdateVersionModalResponseInternal",e.ShowUpdateVersionModalInternal="showUpdateVersionModalInternal"}(ot||(ot={}));const rt=async e=>fin.Platform.wrapSync(e).getClient(),it=async e=>{const t=await rt(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},st=async e=>(await it(e),rt(e)),ct=async e=>{const t=await it(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return rt(e)},lt="dark",dt={[Ue.Palette.brandPrimary]:"#0A76D3",[Ue.Palette.brandPrimaryActive]:"#0A71C9",[Ue.Palette.brandPrimaryHover]:"#0B84EB",[Ue.Palette.brandPrimaryFocused]:Ue.Color.white,[Ue.Palette.brandPrimaryText]:Ue.Color.white,[Ue.Palette.statusSuccess]:Ue.Color.functional1,[Ue.Palette.statusWarning]:Ue.Color.functional10,[Ue.Palette.statusCritical]:Ue.Color.functional7,[Ue.Palette.statusActive]:Ue.Color.functional3,[Ue.Palette.contentBackground1]:"#0A76D3",[Ue.Palette.contentBackground2]:"#000000",[Ue.Palette.contentBackground3]:"#000000",[Ue.Palette.contentBackground4]:"#000000",[Ue.Palette.contentBackground5]:"#000000",[Ue.Palette.borderNeutral]:Ue.Color.silverGray},ut={...dt,[Ue.Palette.background1]:Ue.Color.white,[Ue.Palette.background2]:Ue.Color.lightGray1,[Ue.Palette.background3]:Ue.Color.lightGray2,[Ue.Palette.background4]:Ue.Color.lightGray3,[Ue.Palette.background5]:Ue.Color.lightGray4,[Ue.Palette.background6]:Ue.Color.lightGray5,[Ue.Palette.brandSecondary]:Ue.Color.lightGray4,[Ue.Palette.brandSecondaryActive]:Ue.Color.lightGray4Active,[Ue.Palette.brandSecondaryHover]:Ue.Color.lightGray4Hover,[Ue.Palette.brandSecondaryFocused]:Ue.Color.darkGray5,[Ue.Palette.brandSecondaryText]:Ue.Color.darkGray5,[Ue.Palette.inputBackground]:Ue.Color.lightGray3,[Ue.Palette.inputColor]:Ue.Color.darkGray5,[Ue.Palette.inputPlaceholder]:Ue.Color.darkGray2,[Ue.Palette.inputDisabled]:Ue.Color.neutralGray,[Ue.Palette.inputFocused]:Ue.Color.lightGray5,[Ue.Palette.inputBorder]:Ue.Color.neutralGray,[Ue.Palette.textDefault]:Ue.Color.darkGray5,[Ue.Palette.textHelp]:Ue.Color.darkGray3,[Ue.Palette.textInactive]:Ue.Color.neutralGray},pt={...dt,[Ue.Palette.background1]:Ue.Color.darkGray6,[Ue.Palette.background2]:Ue.Color.darkGray5,[Ue.Palette.background3]:Ue.Color.darkGray4,[Ue.Palette.background4]:Ue.Color.darkGray3,[Ue.Palette.background5]:Ue.Color.darkGray2,[Ue.Palette.background6]:Ue.Color.darkGray1,[Ue.Palette.brandSecondary]:Ue.Color.darkGray2,[Ue.Palette.brandSecondaryActive]:Ue.Color.darkGray2Active,[Ue.Palette.brandSecondaryHover]:Ue.Color.darkGray2Hover,[Ue.Palette.brandSecondaryFocused]:Ue.Color.white,[Ue.Palette.brandSecondaryText]:Ue.Color.white,[Ue.Palette.inputBackground]:Ue.Color.darkGray1,[Ue.Palette.inputColor]:Ue.Color.white,[Ue.Palette.inputPlaceholder]:Ue.Color.lightGray5,[Ue.Palette.inputDisabled]:Ue.Color.neutralGray,[Ue.Palette.inputFocused]:Ue.Color.lightGray5,[Ue.Palette.inputBorder]:Ue.Color.neutralGray,[Ue.Palette.textDefault]:Ue.Color.white,[Ue.Palette.textHelp]:Ue.Color.lightGray5,[Ue.Palette.textInactive]:Ue.Color.neutralGray},wt=[{label:"OpenFin Default Light and Dark Theme",palettes:{light:{...ut,backgroundPrimary:Ue.Color.darkGray5},dark:{...pt,backgroundPrimary:Ue.Color.darkGray5}}}],gt=e=>{const{background:t,foreground:a}=e;return{background:t,foreground:a??"#FFFFFF"}},ht=(e,t)=>({icons:{symbol:e.brand?.icons?.[t]?.symbol||Qe[t].symbol}}),mt=e=>{const{light:t,dark:a}="palettes"in e?e.palettes:{light:e.palette,dark:e.palette},n=Ke(pt,a),o=Ke(ut,t),r=((e,t)=>{const a={...e},n={...t};let o=t.backgroundPrimary?ze(t.backgroundPrimary,!0):{},r=e.backgroundPrimary?ze(e.backgroundPrimary):{};return o={...o,...n},r={...r,...a},{light:{...t,...o},dark:{...e,...r}}})(a,t),i={...(0,Ue.createTheme)({...n,...r?.dark}),brand:ht(e,"dark")},s={...(0,Ue.createTheme)({...o,...r?.light}),brand:ht(e,"light")},{light:c,dark:l}=(e=>{const t=Object.keys(e.notificationIndicatorColors??{});if(t?.length){const a={},n={};return t.forEach((t=>{const o=e.notificationIndicatorColors[t];"background"in o?(a[t]=gt(o),n[t]=gt(o)):(a[t]=gt(o.dark??o.light),n[t]=gt(o.light??o.dark))})),{light:n,dark:a}}return{light:null,dark:null}})(e);return i.notificationIndicatorColors=l,s.notificationIndicatorColors=c,{dark:i,light:s}},kt=async e=>{const{themes:t,selectedScheme:a}=await(async e=>{const t=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!t||e.uuid!==ye.uuid)return{themes:await kn(e).Theme.getThemes(),selectedScheme:await kn(e).Theme.getSelectedScheme()};return t})(e);var n,o;return(n=t?.length?t:wt,o=a,n.map((e=>{const t="palettes"in e?e.default:lt,{light:a,dark:n}=mt(e);return{label:e.label,logoUrl:e.logoUrl,theme:{dark:n,light:a},defaultScheme:o??t}})))[0]},bt=async e=>{const t=await st(e||fin.me.identity),a=await t.dispatch(ot.GetSelectedScheme,void 0);return a===k.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a},ft=async(e,t)=>{const a=await kt(fin.me.identity),n=await bt(fin.me.identity)===k.Dark,o=a?.theme;return o?.[n?k.Dark:k.Light]?.palette?.[e]||t};function yt(e){return function(e,t){const a={};for(const n of t)n in e&&(a[n]=e[n]);return a}(e,_e()(["defaultLeft","defaultTop","defaultCentered","saveWindowState","taskbarIconGroup"]))}function St(){let e,t;return{promise:new Promise(((a,n)=>{e=a,t=n})),resolve:e,reject:t}}const vt=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),Pt=e=>({setItem:(t,a)=>{localStorage.setItem(`${e}-${t}`,a)},getItem:t=>localStorage.getItem(`${e}-${t}`),removeItem:t=>localStorage.removeItem(`${e}-${t}`)}),Ct=Pt(R),Mt=Ct.setItem,xt=Ct.getItem,It=Ct.removeItem;var At;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(At||(At={}));const Wt=At,Dt=e=>e+"-"+fin.me.uuid,Tt=(e,t)=>{const a=T&&W&&new vt.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},Bt=(e,t)=>{const a=Tt(Dt(e),t),n=Tt(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=xt(Wt.HasMovedStore),o=n?JSON.parse(n):{};if(o&&o[a])return;o[a]=!0,Mt(Wt.HasMovedStore,JSON.stringify(o));const r=await e[a].toArray();await t[a].bulkPut(r)})(n,a,e),a},Rt="dock3-provider-config",Et=T&&W&&new vt.Dexie(Dt("dock3-provider-config"));Et&&Et.version(.1).stores({[Rt]:""});var Ft,Vt,Nt,Lt,_t=function(e,t,a,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,a):o?o.value=a:t.set(e,a),a},Ut=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};class Ot{static getOverrideConstructor(...e){return class extends Ot{constructor(){super(...e)}}}constructor(e,t){if(Ft.set(this,void 0),Vt.set(this,void 0),Nt.set(this,null),Lt.set(this,St()),Ot.instance)throw new Error("Dock3Provider has already been initialized.");Ot.instance=this,_t(this,Ft,e,"f"),_t(this,Vt,t,"f"),this.registerChannelActions()}async launchEntry(e){}get ready(){return Ut(this,Lt,"f").promise}async bookmarkContentMenuEntry(e){}get config(){return Ut(this,Ft,"f")}set config(e){_t(this,Ft,e,"f")}async updateConfig(e){await this.handleConfigChange(e)}async shutdown(){await Promise.all([Ut(this,Vt,"f").destroy(),this.getWindowSync().close(!0)]),Ot.instance=null}async saveConfig({config:e}){_t(this,Ft,e,"f"),await async function(e){if(!Et)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await Et[Rt].put(e,"latest")}(e)}async handleConfigChange(e){Ut(this,Nt,"f")&&await Ut(this,Vt,"f").dispatch(Ut(this,Nt,"f"),"handle-dock-config-updated",e)}async loadConfig(){const e=await async function(){if(!Et)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await Et[Rt].get("latest")}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}();return e&&_t(this,Ft,e,"f"),Ut(this,Ft,"f")}getWindowSync(){return fin.Window.wrapSync({uuid:fin.me.identity.uuid,name:le})}registerChannelActions(){Ut(this,Vt,"f").register("launch-entry",this.launchEntry.bind(this)),Ut(this,Vt,"f").register("save-config",this.saveConfig.bind(this)),Ut(this,Vt,"f").register("bookmark-content-menu-entry",this.bookmarkContentMenuEntry.bind(this)),Ut(this,Vt,"f").onConnection((e=>{e.name===le&&_t(this,Nt,e,"f")})),Ut(this,Vt,"f").register("ready",(async(e,t)=>{if(Ut(this,Nt,"f")?.endpointId!==t.endpointId)throw new Error(`Dock3Provider: 'ready' action received from unexpected client ${t.name} (${t.uuid})`);Ut(this,Lt,"f").resolve()})),Ut(this,Vt,"f").onDisconnection((e=>{Ut(this,Nt,"f")?.endpointId===e.endpointId&&(_t(this,Nt,null,"f"),_t(this,Lt,St(),"f"))}))}}async function Gt(e){const{config:t,override:a}=e;if(Ot.instance)throw new Error("Dock3Provider has already been initialized.");const n=await fin.InterApplicationBus.Channel.create(de()),o=new(a(Ot.getOverrideConstructor(t,n)));return await o.loadConfig(),await async function(e,t,a,n){if(!await Ie({uuid:ye.uuid,name:e})){let o;o="number"==typeof a.dockPosition?.left||"number"==typeof n?.defaultLeft?a.dockPosition?.left:(await Ve(ye)).left-se/2;const r={name:e,url:t+K.EnterpriseDock,autoShow:!0,frame:!1,smallWindow:!0,saveWindowState:!1,defaultHeight:ie,defaultWidth:se,includeInSnapshots:!1,defaultTop:a.dockPosition?.top??ce,defaultLeft:o,workspacePlatform:{windowType:a.windowType,...a},throttling:"disabled",resizable:!1,maximizable:!1,backgroundColor:await ft("background1"),...yt(n??{})};await fin.Window.create(Te(r))}}(le,await ae(),o.config,e.windowOptions),await o.ready,o}Ft=new WeakMap,Vt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,Ot.instance=null;const Ht=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType},$t=e=>{const t=e?.defaultWindowOptions?.workspacePlatform?.windowType;return"enterprise"===t};let zt;const Kt=e=>{if(e)try{return new URL(e).pathname.includes(K.EnterpriseLandingPage.replace(/\/$/,""))}catch(t){console.error("error parsing url: %O",e)}return!1};var Jt;!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(Jt||(Jt={}));const Zt=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||O,componentName:e,componentVersion:t.componentVersion||O,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};let qt=!1;const jt=new Map,Qt=e=>{let t=jt.get(e.uuid);return t||(t=kn(e),t.once("closed",(()=>{jt.delete(e.uuid)})),jt.set(e.uuid,t)),t},Yt=async(e,t)=>{try{await e._raiseAnalytics([t])}catch(e){console.error("failed to raise analytics event",e)}},Xt=async e=>{await Yt(Qt(fin.me.identity),{source:"Browser",...e})};let ea;const ta=async e=>{ea||(ea=new TextEncoder);const t=ea.encode(e),a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("")};function aa(e){return e&&"object"==typeof e&&!Array.isArray(e)}function na(e,...t){if(!t.length)return e;const a=t.shift();return aa(e)&&aa(a)&&Object.entries(a).forEach((([t,a])=>{if(aa(a))return e[t]||(e[t]={}),na(e[t],a);e[t]=a})),na(e,...t)}const oa=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var ra=a.n(oa);function ia(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function sa(){return localStorage.getItem(Wt.MachineName)??"unknown"}let ca;async function la(){return ca||(ca=await fin.System.getMachineId()),ca}const da=e=>{if(Array.isArray(e.workspacePlatform?.pages)&&(e.layoutSnapshot||e.layout)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t){const a=e.layoutSnapshot?e.layoutSnapshot.layouts[t.layoutContainerKey]:e.layout;if(a)if(t.isLocked){const n=Wn(a,t.layout);t.layout=n,e.layout=n}else t.layout=a,e.layout=a}}return e};async function ua(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=sa();return{...t,snapshotDetails:{...t.snapshotDetails,machineId:await la(),machineName:a}}}const pa=async e=>({...e,layoutDetails:{machineId:await la(),machineName:sa()}}),wa=async(e,t)=>({pageId:ia(),title:e,layout:await pa(t),isReadOnly:!1}),ga=async e=>{const t=await wa(e.title,Mn(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:Cn(e.viewOptions)})))),{...e,...t}},ha=e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:o}=a,r=await Ht(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...o,headerHeight:r?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:o}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...o,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}},ma="of-workspace-";const ka=new class{mark(e){performance.mark(`${ma}${e}`)}markStart(e){performance.mark(`${ma}${e}-start`)}markEnd(e){performance.mark(`${ma}${e}-end`)}markEndAndMeasure(e){performance.mark(`${ma}${e}-end`);try{return performance.measure(`${ma}${e}`,`${ma}${e}-start`,`${ma}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${ma}${e}`);try{return performance.measure(`${ma}${e}-measure`,`${ma}${t}-start`,`${ma}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(ma)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${ma}`,"").replace("-measure",""),duration:e.duration})))}},ba=()=>{const e=`browser-context-menu-startup-${ia()}`;return ka.markStart(e),e},fa=e=>{ka.markAndMeasure("browser-context-menu-called",e)},ya=e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{(e=>{ka.markAndMeasure("browser-context-menu-shown",e)})(e)}))},Sa=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,va=new Map,Pa=e=>(va.has(e)||va.set(e,Xe(e)),va.get(e)()),Ca=(e,t)=>{const a=Sa(e,t);return Pa(a)};var Ma,xa,Ia,Aa,Wa,Da;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(Ma||(Ma={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(xa||(xa={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(Ia||(Ia={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(Aa||(Aa={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(Wa||(Wa={})),function(e){e.SendUpdateVersionModalResponse="send-update-version-modal-response"}(Da||(Da={}));const Ta={...Ma,...xa,...Wa},Ba=Xe(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),Ra=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await Ba()).dispatch(Aa.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.DeleteBookmarkNode,e))(e)},getPages:async()=>(await ct(e)).dispatch(ot.GetPagesForWindow,e),getPage:async t=>(await ct(e)).dispatch(ot.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>bn().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await ct(e),o={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(ot.AddPage,o)},_addPages:async(t,a,n)=>{const o=await ct(e),r=t.map((({page:e,opts:t})=>({...e,multiInstanceViewBehavior:t?.multiInstanceViewBehavior||"duplicate"}))),i={identity:e,pages:r,insertionIndex:a,replaceActivePage:n};return o.dispatch(ot.AttachPagesToWindow,i)},removePage:async t=>(await ct(e)).dispatch(ot.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>bn().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await ct(e),o=(await n.dispatch(ot.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!o)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);o.multiInstanceViewBehavior="reparent";const r={identity:e,pages:[o],insertionIndex:t.index};return n.dispatch(ot.AttachPagesToWindow,r)},setActivePage:async t=>(await ct(e)).dispatch(ot.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await ct(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await ct(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await ct(e);return(await Ca(e)).dispatch(Ta.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await Ca(e)).dispatch(Ta.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.AddDefaultPage,t)},_trackRemovedTab:async t=>(await ct(e)).dispatch(ot.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await ct(e)).dispatch(ot.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await ct(e)).dispatch(ot.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await ct(e)).dispatch(ot.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await ct(e)).dispatch(ot.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await ct(e)).dispatch(ot.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await ct(e)).dispatch(ot.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await ct(e)).dispatch(ot.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await ct(e)).dispatch(ot.HandleRequestNavigationInternal,t),_sendUpdateVersionModalResponse:async t=>(await ct(e)).dispatch(ot.SendUpdateVersionModalResponseInternal,t)}),Ea=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Ra(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${ia()}`;return ka.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{ka.markAndMeasure("browser-window-shown",e)}))})(n),await ct(e);const o=await t.createWindow(a);return(e=>{ka.markAndMeasure("browser-window-started",e)})(n),Ra(o.identity)},getAllAttachedPages:async()=>(await ct(e)).dispatch(ot.GetAllAttachedPages,void 0),getAllWindows:async()=>{await ct(e);return(await Me()).map((e=>Ra(e.identity)))},getUniquePageTitle:async t=>(await ct(e)).dispatch(ot.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await ct(e)).dispatch(ot.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await ct(e)).dispatch(ot.GetPageByViewIdentity,t)}};var Fa;!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(Fa||(Fa={}));function Va(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Na(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function La(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function _a(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Ua={name:me.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function Oa(e){const t={...Ua,...e};return t.url=function(e,t){if(!D)throw new Error("resolveAbsolutePath can only be used in a window");const a=t??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const n=`${a.protocol}//${a.hostname}`;return new URL(e,n).href}(t.url??""),t}const Ga=function(e){const t=new Map;return{emit:Va(t,(t=>W&&fin.InterApplicationBus.publish(e,t))),addListener:Na(t,(t=>W&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),addListenerWithUUID:a=>Na(t,(t=>W&&fin.InterApplicationBus.subscribe({uuid:a},e,t))),removeListener:_a(t),once:La(t)}}("window.menu"),Ha=(e,t)=>fin.Window.wrapSync(e).updateOptions({opacity:t}),$a=e=>Ga.emit("response",e),za=Be((()=>he().getChildWindows()),500);const Ka=new Map;async function Ja(e,t,a){const n=Oa(e),o=await kt(fin.me.identity),r=await bt(fin.me.identity)===k.Dark,i=o?.theme;if(n.backgroundColor=i?.[r?k.Dark:k.Light]?.palette?.inputBackground||n.backgroundColor,!Ka.has(n.name)){return new Promise((o=>{Ga.once("ready",(async e=>{if(e.name===n.name){const t=await Ka.get(n.name);n.preventBlur||t.once("blurred",(async()=>{if(Ha(e,0),t.hide(),$a({name:n.name,data:{actionName:"Cancel"}}),a=t.identity.name,[me.BrowserSaveMenu,me.DesktopSignalsModal].includes(a)){const e=await t.getOptions();"submitting"!==e.customContext&&"error"!==e.customContext&&t.close()}else t.identity.name.startsWith(me.BrowserMenu)&&t.close();var a})),setTimeout((async()=>{await Ha(e,1);1!==(await fin.Window.wrapSync(e).getOptions()).opacity&&Ha(e,1)})),o(t)}}));const r=(async()=>{const o=await fin.Platform.getCurrentSync().createWindow(Te({...n,opacity:0,url:t||n.url,defaultLeft:a?.left,defaultTop:a?.top,defaultWidth:a?.width,defaultHeight:a?.height,workspacePlatform:{preventBlur:e.preventBlur}},!0));return o.once("closed",(()=>{Ka.delete(n.name)})),o})();Ka.set(n.name,r)}))}return Ka.get(n.name)}async function Za(e,t){const a=Oa(e),n={top:a.top,left:a.left,width:a.defaultWidth||a.width,height:a.defaultHeight||a.height};return t.set("parentName",fin.Window.getCurrentSync().identity.name),{name:a.name,bounds:n,route:`${a.url}#${t.toString()}`}}async function qa({options:e,parameters:t}){const a=t??new URLSearchParams,n=Oa(e),{name:o,modalParentIdentity:r}=n;if(!a.has("isEnterprise")){const e=`${await(async e=>(zt||(zt=await Ht(e)),zt))(r)}`;a.set("isEnterprise",e)}let i=await async function(e){return(await za()).find((t=>t.identity.name===e))}(o);if(i)await async function(e,t){const{name:a,bounds:n,route:o}=await Za(e,t),r={uuid:fin.me.identity.uuid,name:a},i=fin.Window.wrapSync(r);await Promise.all([i.hide(),Ha(r,0),i.setBounds(n)]),e.preventBlur||i.once("blurred",(()=>{Ha(r,0),i.hide(),$a({name:r.name,data:{actionName:"Cancel"}})})),Ga.emit("update",a,n,o),await $a({name:a,data:{actionName:"Cancel"}})}(n,a);else{const{route:t,bounds:o}=await Za(e,a);i=await Ja({...n},t,o)}return i}const ja=async({options:e,content:t,parameters:a})=>{const n=a??new URLSearchParams;n.set("content",JSON.stringify({...t,invocationId:ia()}));const o={...e,name:`${e.name}--${e.modalParentIdentity?.name??""}`},r=await qa({options:o,parameters:n});return new Promise((e=>{Ga.once("response",(async t=>{t.name===o.name&&(e({data:t.data}),o?.closeOnResponse&&r.close())}))}))};let Qa;async function Ya(e){return(await(Qa||(Qa=Xe(`${"undefined"!=typeof fin&&fin.me.identity.uuid}-enterprise-modal`)()),Qa)).dispatch(Da.SendUpdateVersionModalResponse,e)}const Xa=async e=>{const t=fe(e),a=await t.getBounds(),n=ke(a),o=be(n,{height:240,width:432});return qa({options:{smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:me.DesktopSignalsModal,url:await ne()+K.DesktopSignalsModal,defaultWidth:432,defaultHeight:240,preventBlur:!1,...o},parameters:new URLSearchParams({title:"Desktop Signals Modal"})})},en=e=>({createPage:async t=>(await ct(e)).dispatch(ot.CreateSavedPageInternal,t),deletePage:async t=>(await ct(e)).dispatch(ot.DeleteSavedPageInternal,t),updatePage:async t=>(await ct(e)).dispatch(ot.UpdateSavedPageInternal,t),getPage:async t=>(await ct(e)).dispatch(ot.GetSavedPage,t),getPages:async t=>(await ct(e)).dispatch(ot.GetSavedPages,t),savePage:async t=>(await ct(e)).dispatch(ot.SavePage,t),createWorkspace:async t=>(await st(e)).dispatch(ot.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=bn(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await st(e)).dispatch(ot.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await st(e)).dispatch(ot.UpdateSavedWorkspace,t),getWorkspace:async t=>(await st(e)).dispatch(ot.GetSavedWorkspace,t),getWorkspaces:async t=>(await st(e)).dispatch(ot.GetSavedWorkspaces,t),getWorkspacesMetadata:async t=>(await st(e)).dispatch(ot.GetSavedWorkspacesMetadata,t),saveWorkspace:async t=>(await st(e)).dispatch(ot.SaveWorkspace,t),getDockProviderConfig:async t=>(await st(e)).dispatch(ot.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await st(e)).dispatch(ot.SaveDockProviderConfig,t)});var tn;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(tn||(tn={}));const an=Xe("of-workspace-notifications-sync"),nn=k.System,on=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),rn=(e,t)=>{const a=!!e.contentBackground5&&"#000000"!==e.contentBackground5,n=!!e.contentBackground4&&"#000000"!==e.contentBackground4,o=$e(e.textDefault),r=$e(e.textInactive),i=o.rgb,s=r.rgb,c=o.alpha?parseFloat(o.alpha.toString()):1,l=r.alpha?parseFloat(r.alpha.toString()):1;return{dockExpandedContainerBorderColor:a?e.contentBackground5:e.background4,dockExpandedContainerBorderRadius:a&&t?"0":"10px",dockExpandedContainerBackground:n?e.contentBackground4:e.background1,fillerBackgroundColor:n?e.contentBackground4:"inherit",dockCompanionContainerBackground:n?e.contentBackground4:"inherit",dockComponentContainerBackground:a?e.contentBackground5:e.background5,styledDropdownActiveBackground:`${a?e.contentBackground5:e.background4}`,contentMenuWrapperInternalDivBorderColor:a?e.contentBackground5:e.background5,contentMenuItemContainerActiveBackground:a?e.contentBackground5:e.background3,contentMenuItemContainerHoverBackground:a?e.contentBackground5:e.background2,contentMenuHeaderBorderColor:a?e.contentBackground5:e.background5,dockCompanionSeparatorBorderColor:a?e.contentBackground5:e.background3,dockComponentContainerBorderColor:a?e.contentBackground5:e.background5,companionDockButtonActiveBackground:a?e.contentBackground5:e.background4,companionDockButtonHoverBackground:a?e.contentBackground5:e.background4,"computed-scrollbar-thumb-alpha":c,"computed-scrollbar-track-alpha":l,"scrollbar-thumb-rgb":i,"scrollbar-track-rgb":s}},sn=(e,t,a)=>({selectedTab:"dark"===t?e.background3:e.background1,...rn(e,a)});const cn=new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorage=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=()=>{if(this.workspaceStorage){const e=this.getScheme();if(this.workspaceStorage.setItem(Wt.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)this.workspaceStorage.setItem(Wt.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;this.workspaceStorage.setItem(Wt.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t},a)=>{this.lightPaletteVars=on({...e,...sn(e,"light",a)}),this.darkPaletteVars=on({...t,...sn(t,"dark",a)})}}setScheme(e){this.providerStorage.setItem(Wt.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(Wt.SelectedColorScheme)&&this.providerStorage.setItem(Wt.SelectedColorScheme,nn),this.providerStorage.getItem(Wt.SelectedColorScheme)}}(e),ln=()=>cn,dn=e=>({getThemes:async()=>(await st(e)).dispatch(ot.GetThemes,void 0),setSelectedScheme:async t=>(await st(e)).dispatch(ot.SetSelectedScheme,t),getSelectedScheme:async()=>(await st(e)).dispatch(ot.GetSelectedScheme,void 0)}),un=async e=>{const t=await nt();await t.dispatch("set-selected-scheme",e)},pn=async e=>{const t=await an();await t.dispatch(tn.UpdatePlatformThemeScheme,{scheme:e})},wn=async e=>{const t=await Me();return Promise.all(t.map((async t=>{const a=await Ca(t.identity);await a.dispatch(Ta.SetSelectedScheme,e)})))},gn=async e=>{const t=await xe();return Promise.all(t.map((async t=>{const a=await Ca(t.identity);await a.dispatch(Ta.SetSelectedScheme,e)})))},hn=async e=>{try{const t=ln();t.setScheme(e),await Promise.all([await t.trySynchronizeWorkspaceStorage(),pn(e),wn(e),gn(e),un(e)])}catch(e){console.error("failed to set the selected scheme: ",e)}},mn=()=>{try{return ln().getScheme()}catch(e){console.error("failed to get the selected scheme: ",e)}},kn=e=>{const t=fin.Platform.wrapSync(e);let a;return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:R,name:E,entityType:F||"unknown"});return(await st(e)).dispatch(ot.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await st(e),o={actionId:t,payload:{...a,callerType:a.callerType||M.API}};return n.dispatch(ot.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await st(e)).dispatch(ot.RequestQuitPlatformDialogInternal,t),_showUpdateVersionModal:async t=>(await st(e)).dispatch(ot.ShowUpdateVersionModalInternal,t),getCurrentWorkspace:async t=>(await st(e)).dispatch(ot.GetCurrentWorkspace,t),applyWorkspace:async(t,a)=>(await st(e)).dispatch(ot.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await st(e)).dispatch(ot.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await st(e)).dispatch(ot.SetActiveWorkspace,t),getLanguage:async()=>(await st(e)).dispatch(ot.GetLanguage),_getLanguageResources:async()=>(await st(e)).dispatch(ot.GetLanguageResourcesInternal),setLanguage:async t=>(await st(e)).dispatch(ot.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await it(e)),"object"==typeof a&&a?.analytics?.isSupported){return(await st(e)).dispatch(ot.Analytics,t)}e.uuid},getNotificationsConfig:async()=>(await st(e)).dispatch(ot.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await st(e)).dispatch(ot.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await st(e)).dispatch(ot.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await st(e)).dispatch(ot.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await st(e)).dispatch(ot.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await st(e)).dispatch(ot.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await st(e)).dispatch(ot.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await st(e)).dispatch(ot.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await st(e)).dispatch(ot.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await st(e)).dispatch(ot.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await st(e)).dispatch(ot.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await st(e)).dispatch(ot.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await st(e)).dispatch(ot.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await st(e)).dispatch(ot.FocusAndExpandSearchInternal),_showAboutPagePopup:async e=>(async e=>{const t=new URLSearchParams({...e,title:"About"}),a=await Ve(fin.me.identity),n=e.copyrightMessage?320:286,o=be(a,{height:n,width:360});return qa({options:{frame:!0,smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:me.AboutPageWindow,url:await ne()+K.EnterpriseAboutPage,defaultWidth:360,defaultHeight:n,preventBlur:!0,...o},parameters:t})})(e),Theme:dn(e),Browser:Ea(e),Storage:en(e)})},bn=()=>kn(fin.me.identity),fn={contextMenuOptions:{enabled:!0,template:["spellCheck","separator","print","separator","cut","copy","paste","undo","redo","selectAll","inspect","reload"]},downloadShelf:{enabled:!0}};function yn(e,t){return na({},fn,t,e)}const Sn="internal-generated-view-",vn=(e,t)=>e.content?{...e,content:e.content.map((e=>vn(e,t)))}:{...e,componentState:t(e.componentState)},Pn=(e,t)=>{return a=yn(e,t),{...a,name:a.name?a.name:`internal-generated-view-${ia()}`,_internalWorkspaceData:{...a._internalWorkspaceData,viewIdentifier:a._internalWorkspaceData?.viewIdentifier||ia()}};// removed by dead control flow
{ var a; }},Cn=e=>({...e,name:void 0}),Mn=e=>{const t={...e};return vn(t,Cn)},xn=e=>{const t={...e};return vn(t,(e=>e.name&&e.name.startsWith(Sn)?Cn(e):e))},In=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=In(e.content);t.push(...a)})),t},An=async(e,t,a=ye)=>{let n;if(await Ce(a)){n=(await fe(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map,new Map;const Wn=(e,t)=>{const a=In(t.content);return{...vn(e,(e=>{const t=a.find((t=>t._internalWorkspaceData?.viewIdentifier===e._internalWorkspaceData?.viewIdentifier)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}},Dn=e=>e?In(e).length:0,Tn=(ra()((async e=>{try{if(!e||!e.layoutContainerKey)return;const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?In(t.content):[],n=a.length;n>1?(async e=>{if("multiView"!==e.attachedPageType){const t=await bn().Browser.getUniquePageTitle();bn().Browser.wrapSync(ye).updatePage({pageId:e.pageId,page:{title:e.title??t,singleViewName:null,attachedPageType:"multiView"}})}})(e):1===n&&(async(e,t)=>{const a=bn().Browser.wrapSync(ye);if("singleView"!==e.attachedPageType){const n=await ga(e);delete n.layout,delete n.pageId;const o=fin.View.wrapSync({uuid:ye.uuid,name:t}),r=await o.getInfo(),i={...n,title:null,singleViewName:t,hasUnsavedChanges:!1,attachedPageType:"singleView",pageIcon:r.favicons[0]};await a.updatePage({pageId:e.pageId,page:i})}})(e,a[0].name),await(async(e,t)=>{const a=ha({...ye,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})})(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js")),Bn=__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js");var Rn=a.n(Bn);const En=JSON.parse('{"contextMenu.newWindow":"","contextMenu.newPage":"","contextMenu.restore":"","contextMenu.switchWorkspace":"","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"","contextMenu.saveWorkspace":"","contextMenu.saveWorkspaceAs":"...","contextMenu.renameWorkspace":"","contextMenu.deleteWorkspace":"","contextMenu.downloads":"","contextMenu.savePage":"","contextMenu.savePageAs":"...","contextMenu.print":"...","contextMenu.printScreen":"","contextMenu.closeWindow":"","contextMenu.openStorefront":"","contextMenu.quitPlatform":"","contextMenu.newView":"","contextMenu.openView":" Web ","contextMenu.openViews":" Web ","contextMenu.reload":"Reload CN","contextMenu.reloadView":"","contextMenu.reloadViews":"","contextMenu.duplicate":"Duplicate CN","contextMenu.duplicateView":"","contextMenu.duplicateViews":"","contextMenu.addView":"","contextMenu.addViews":"","contextMenu.removeView":"","contextMenu.removeViews":"","contextMenu.closeView":"","contextMenu.closeViews":"","contextMenu.closeTab":"Close Tab CN","contextMenu.duplicatePage":"","contextMenu.submenu.print":"","contextMenu.submenu.printAll":"","saveMenu.saveWorkspaceAs":"","saveMenu.savePageAs":"","saveModal.enterValue":"Please enter a value CN","saveModal.alreadyExists":"{{title}} ","saveModal.pleaseEnterValidName":"","saveModal.renamePage":"","saveModal.closePage":"","saveModal.discardChanges":"","saveModal.discardAll":"","saveModal.saveAll":"","saveModal.savePagesCount":" ({{count}}) ","defaultPageTitle":"Untitled Page CN","enterpriseDefaultPageTitle":"Untitled Supertab CN","addNewPage":"","addNewTab":"","addNewView":"","restoreModal":"","modal.discardWarning":"","modal.discardPageWarning":"","modal.saveChangesPrompt":"","modal.pageClose":"","switchWorkspaceModal":" {{workspace}} ","switchWorkspaceModal.warning":"","deleteWorkspaceModal":"","replaceWorkspaceModal.warning":" {{workspace}} ","replaceWorkspaceModal.warning.body":"","replaceWorkspaceModal.replace":"","closePlatform":"","closePlatform.workspace":" {{workspace}} ","closePlatform.warning":"","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"","toolbar.hideTabs":"","toolbar.showTabs":"","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"","toolbar.changeLayout":"","toolbar.saveMenu":"","toolbar.maximizeWindow":"","toolbar.restoreWindow":"","toolbar.minimizeWindow":"","changeLayout.fullWidth":"","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"","successIndicator.hidden":"","successIndicator.shown":"","successIndicator.locked":"","successIndicator.unlocked":"","successIndicator.workspaceSaved":"","successIndicator.workspaceSavedAs":" {{workspace}}","successIndicator.workspaceRenamed":"","successIndicator.pageSaved":"","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. CN","successIndicator.pageCopySaved":" {{title}}","successIndicator.pageRenamed":"","successIndicator.contextGroupApplied":"","successIndicator.namedContextGroupApplied":" {{colorName}} ","successIndicator.viewRemoved":"","successIndicator.viewsRemoved":"","successIndicator.layoutApplied":" {{layoutName}} ","successIndicator.workspaceDeleted":"","errorIndicator.pageSaveFailed":"","errorIndicator.workspaceSaveFailed":"","errorIndicator.failedToDuplicatePage":"","infoIndicator.colorLinkAttempt":"/","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete CN","appResults.header":"Featured Content CN","recentlyClosed.header":"Recently Closed CN","landingPage.subheader":"Apps and websites selected by an admin will show here CN","aria.openBrowser":"","aria.browserTabs":"","aria.viewTab":" {{title}} ","aria.closePage":" {{title}} ","aria.closeTab":" {{title}}","aria.title":"","aria.closeContextGroup":"","aria.colorLinking":"","aria.applyColorLinking":"","aria.assignColorLinkingCurrentView":" {{name}} ","aria.assignColorLinkingCurrentViews":" {{name}} ","aria.setColorLinkingActiveView":" {{name}} ","aria.setColorLinkingActiveViews":" {{name}} ","aria.escapeLayoutDialog":"","global.supertab":"Supertab CN","global.tab":"Tab CN","bookmarks.editBookmark":"Edit Bookmark CN","bookmarks.bookmarkAdded":"Bookmark added CN","bookmarks.done":"Done CN","bookmarks.remove":"Remove CN","bookmarks.bookmarksPanel":"Bookmarks Panel CN","bookmarks.bookmarks":"Bookmarks CN","bookmarks.allBookmarks":"All Bookmarks CN","bookmarks.favorites":"Favorites CN","bookmarks.searchBookmarks":"Search Bookmarks CN","bookmarks.clearSearchInput":"Clear Search Input CN","bookmarks.createFolder":"Create New Folder CN","bookmarks.exitFolder":"Exit Folder CN","bookmarks.newFolder":"New Folder CN","bookmarks.namedFolder":"{{name}} Folder CN","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings CN","bookmarks.folderSettings":"{{name}} Folder Settings CN","bookmarks.noResultsFound":"No results found CN","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search CN","bookmarks.nothingToShow":"Nothing to show yet CN","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder CN","bookmarks.resultsFoundIn":"Results found in {{name}} CN","bookmarks.resultsInOtherFolders":"Results found in other folders CN","bookmarks.allResultsFoundIn":"All results found in CN","bookmarks.editName":"Edit Name CN","bookmarks.move":"Move CN","bookmarks.bookmarkAddedTitle":"Bookmark Added CN","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" CN","bookmarks.bookmarkEditedTitle":"Bookmark Edited CN","enterpriseContextMenu.saveSupertab":"Save Supertab CN","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... CN","enterpriseContextMenu.duplicate":"Duplicate CN","enterpriseContextMenu.deleteSupertab":"Delete Supertab CN","enterpriseContextMenu.newTab":"New Tab CN","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As CN","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? CN","saveSupertabCount_other":"Save {{count}} Supertabs before closing? CN"},"enterpriseSaveModal.renameSupertab":"Rename CN","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. CN","enterpriseSaveModal.closeTab":"Close Tab CN","enterpriseSaveModal.closeSupertab":"Close Supertab CN","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. CN","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? CN","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. CN","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved CN","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. CN","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted CN","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. CN","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab CN","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab CN","enterpriseCommandBar.switchToSupertab":"Switch to Supertab CN","enterpriseCommandBar.goTo":"Go to {{type}} CN","enterpriseCommandBar.viewMore":"View More CN","sidePanel.aiCenter":"AI Center CN","sidePanel.newChat":"New Chat CN","sidePanel.toggleSidePanel":"Toggle Side Panel CN","sidePanel.closeSidePanel":"Close Side Panel CN","sidePanel.openAiCenter":"Open AI Center CN","contextMenu.quitEnterpriseBrowser":"Quit CN","dock.removeFavorite":"Remove CN"}'),Fn=JSON.parse('{"contextMenu.newWindow":"","contextMenu.newPage":"","contextMenu.restore":"","contextMenu.switchWorkspace":"","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"","contextMenu.saveWorkspace":"","contextMenu.saveWorkspaceAs":"...","contextMenu.renameWorkspace":"","contextMenu.deleteWorkspace":"","contextMenu.downloads":"","contextMenu.savePage":"","contextMenu.savePageAs":"...","contextMenu.print":"...","contextMenu.printScreen":"","contextMenu.closeWindow":"","contextMenu.openStorefront":" Storefront","contextMenu.quitPlatform":"","contextMenu.newView":"","contextMenu.openView":"","contextMenu.openViews":"","contextMenu.reload":"Reload ZH","contextMenu.reloadView":"","contextMenu.reloadViews":"","contextMenu.duplicate":"Duplicate ZH","contextMenu.duplicateView":"","contextMenu.duplicateViews":"","contextMenu.addView":"","contextMenu.addViews":"","contextMenu.removeView":"","contextMenu.removeViews":"","contextMenu.closeView":"","contextMenu.closeViews":"","contextMenu.closeTab":"Close Tab ZH","contextMenu.duplicatePage":"","contextMenu.submenu.print":"","contextMenu.submenu.printAll":"","saveMenu.saveWorkspaceAs":"","saveMenu.savePageAs":"","saveModal.enterValue":"Please enter a value ZH","saveModal.alreadyExists":"{{title}} ","saveModal.pleaseEnterValidName":"","saveModal.renamePage":"","saveModal.closePage":"","saveModal.discardChanges":"","saveModal.discardAll":"","saveModal.saveAll":"","saveModal.savePagesCount":" ({{count}}) ","defaultPageTitle":"Untitled Page ZH","enterpriseDefaultPageTitle":"Untitled Supertab ZH","addNewPage":"","addNewTab":"","addNewView":"","restoreModal":"","modal.discardWarning":"","modal.discardPageWarning":"","modal.saveChangesPrompt":"","modal.pageClose":"","switchWorkspaceModal":" {{workspace}}","switchWorkspaceModal.warning":"","deleteWorkspaceModal":"","replaceWorkspaceModal.warning":" {{workspace}} ","replaceWorkspaceModal.warning.body":"","replaceWorkspaceModal.replace":"","closePlatform":"","closePlatform.workspace":" {{workspace}} ","closePlatform.warning":"APP ","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":" OS ","toolbar.hideTabs":"","toolbar.showTabs":"","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"","toolbar.changeLayout":"","toolbar.saveMenu":"","toolbar.maximizeWindow":"","toolbar.restoreWindow":"","toolbar.minimizeWindow":"","changeLayout.fullWidth":"","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"","successIndicator.hidden":"","successIndicator.shown":"","successIndicator.locked":"","successIndicator.unlocked":"","successIndicator.workspaceSaved":"","successIndicator.workspaceSavedAs":" {{workspace}}","successIndicator.workspaceRenamed":"","successIndicator.pageSaved":"","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. ZH","successIndicator.pageCopySaved":" {{title}}","successIndicator.pageRenamed":"","successIndicator.contextGroupApplied":"","successIndicator.namedContextGroupApplied":"{{colorName}} ","successIndicator.viewRemoved":"","successIndicator.viewsRemoved":"","successIndicator.layoutApplied":"{{layoutName}} ","successIndicator.workspaceDeleted":"","errorIndicator.pageSaveFailed":"","errorIndicator.workspaceSaveFailed":"","errorIndicator.failedToDuplicatePage":"","infoIndicator.colorLinkAttempt":"/","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete ZH","appResults.header":"Featured Content ZH","recentlyClosed.header":"Recently Closed ZH","landingPage.subheader":"Apps and websites selected by an admin will show here ZH","aria.openBrowser":"","aria.browserTabs":"","aria.viewTab":"{{title}} ","aria.closePage":" {{title}} ","aria.closeTab":" {{title}}","aria.title":"","aria.closeContextGroup":" Esc ","aria.colorLinking":"","aria.applyColorLinking":"","aria.assignColorLinkingCurrentView":" {{name}} ","aria.assignColorLinkingCurrentViews":" {{name}} ","aria.setColorLinkingActiveView":" {{name}} ","aria.setColorLinkingActiveViews":" {{name}} ","aria.escapeLayoutDialog":" Esc ","global.supertab":"Supertab ZH","global.tab":"Tab ZH","bookmarks.editBookmark":"Edit Bookmark ZH","bookmarks.bookmarkAdded":"Bookmark added ZH","bookmarks.done":"Done ZH","bookmarks.remove":"Remove ZH","bookmarks.bookmarksPanel":"Bookmarks Panel ZH","bookmarks.bookmarks":"Bookmarks ZH","bookmarks.allBookmarks":"All Bookmarks ZH","bookmarks.favorites":"Favorites ZH","bookmarks.searchBookmarks":"Search Bookmarks ZH","bookmarks.clearSearchInput":"Clear Search Input ZH","bookmarks.createFolder":"Create New Folder ZH","bookmarks.exitFolder":"Exit Folder ZH","bookmarks.newFolder":"New Folder ZH","bookmarks.namedFolder":"{{name}} Folder ZH","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings ZH","bookmarks.folderSettings":"{{name}} Folder Settings ZH","bookmarks.noResultsFound":"No results found ZH","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search ZH","bookmarks.nothingToShow":"Nothing to show yet ZH","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder ZH","bookmarks.resultsFoundIn":"Results found in {{name}} ZH","bookmarks.resultsInOtherFolders":"Results found in other folders ZH","bookmarks.allResultsFoundIn":"All results found in ZH","bookmarks.editName":"Edit Name ZH","bookmarks.move":"Move ZH","bookmarks.bookmarkAddedTitle":"Bookmark Added ZH","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" ZH","bookmarks.bookmarkEditedTitle":"Bookmark Edited ZH","enterpriseContextMenu.saveSupertab":"Save Supertab ZH","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... ZH","enterpriseContextMenu.duplicate":"Duplicate ZH","enterpriseContextMenu.deleteSupertab":"Delete Supertab ZH","enterpriseContextMenu.newTab":"New Tab ZH","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As ZH","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? ZH","saveSupertabCount_other":"Save {{count}} Supertabs before closing? ZH"},"enterpriseSaveModal.renameSupertab":"Rename ZH","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. ZH","enterpriseSaveModal.closeTab":"Close Tab ZH","enterpriseSaveModal.closeSupertab":"Close Supertab ZH","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. ZH","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? ZH","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. ZH","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved ZH","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. ZH","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted ZH","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. ZH","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab ZH","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab ZH","enterpriseCommandBar.switchToSupertab":"Switch to Supertab ZH","enterpriseCommandBar.goTo":"Go to {{type}} ZH","enterpriseCommandBar.viewMore":"View More ZH","sidePanel.aiCenter":"AI Center ZH","sidePanel.newChat":"New Chat ZH","sidePanel.toggleSidePanel":"Toggle Side Panel ZH","sidePanel.closeSidePanel":"Close Side Panel ZH","sidePanel.openAiCenter":"Open AI Center ZH","contextMenu.quitEnterpriseBrowser":"Quit ZH","dock.removeFavorite":"Remove ZH"}'),Vn=JSON.parse('{"contextMenu.newWindow":"New Window","contextMenu.newPage":"New Page","contextMenu.restore":"Restore to Last Saved Changes","contextMenu.switchWorkspace":"Switch Workspace","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"Appearance","contextMenu.saveWorkspace":"Save Workspace","contextMenu.saveWorkspaceAs":"Save Workspace As...","contextMenu.renameWorkspace":"Rename Workspace","contextMenu.deleteWorkspace":"Delete Workspace","contextMenu.downloads":"Downloads","contextMenu.savePage":"Save Page","contextMenu.savePageAs":"Save Page As...","contextMenu.print":"Print...","contextMenu.printScreen":"Print Screen","contextMenu.closeWindow":"Close Window","contextMenu.openStorefront":"Open Storefront","contextMenu.quitPlatform":"Quit {{platformLabel}}","contextMenu.newView":"New View","contextMenu.openView":"Open View with Default Web Browser","contextMenu.openViews":"Open Views with Default Web Browser","contextMenu.reload":"Reload","contextMenu.reloadView":"Reload View","contextMenu.reloadViews":"Reload Views","contextMenu.duplicate":"Duplicate","contextMenu.duplicateView":"Duplicate View","contextMenu.duplicateViews":"Duplicate Views","contextMenu.addView":"Add View to Channel","contextMenu.addViews":"Add Views to Channel","contextMenu.removeView":"Remove View from Channel","contextMenu.removeViews":"Remove Views from Channel","contextMenu.closeView":"Close View","contextMenu.closeViews":"Close Views","contextMenu.closeTab":"Close Tab","contextMenu.duplicatePage":"Duplicate Page","contextMenu.submenu.print":"Print","contextMenu.submenu.printAll":"Print All","saveMenu.saveWorkspaceAs":"Save Workspace As","saveMenu.savePageAs":"Save Page As","saveModal.enterValue":"Please enter a value","saveModal.alreadyExists":"{{title}} already exists.","saveModal.pleaseEnterValidName":"Please enter a valid name","saveModal.renamePage":"Rename Page","saveModal.closePage":"Close Page","saveModal.discardChanges":"Discard Changes","saveModal.discardAll":"Discard All","saveModal.saveAll":"Save All","saveModal.savePagesCount":"Save ({{count}}) pages before closing?","defaultPageTitle":"Untitled Page","enterpriseDefaultPageTitle":"Untitled Supertab","addNewPage":"New Page","addNewTab":"Add New Tab","addNewView":"New View","restoreModal":"Are you sure you want to restore to last saved changes?","modal.discardWarning":"Any unsaved changes will be discarded","modal.discardPageWarning":"Any unsaved changes to this page will be lost.","modal.saveChangesPrompt":"Save changes before closing?","modal.pageClose":"Page Close","switchWorkspaceModal":"Are you sure you want to switch to {{workspace}}?","switchWorkspaceModal.warning":"Any unsaved changes will be discarded","deleteWorkspaceModal":"Are you sure you want to permanently delete this workspace?","replaceWorkspaceModal.warning":"A Workspace with the name {{workspace}} already exists. Do you want to replace it?","replaceWorkspaceModal.warning.body":"A workspace with the same name already exists. Replacing it will overwrite its current contents.","replaceWorkspaceModal.replace":"Replace","closePlatform":"Close the platform","closePlatform.workspace":"Close the {{workspace}} Platform","closePlatform.warning":"Closing a platform will close any workspaces, apps or any processes that are running.","back":"Back","forward":"Forward","reload":"Reload","green":"Green","purple":"Purple","orange":"Orange","red":"Red","pink":"Pink","yellow":"Yellow","theme.light":"Light","theme.dark":"Dark","theme.system":"Sync with OS setting","toolbar.hideTabs":"Hide Tabs","toolbar.showTabs":"Show Tabs","toolbar.lock":"Lock","toolbar.unlock":"Unlock","toolbar.colorLinking":"Color Linking","toolbar.changeLayout":"Change Layout","toolbar.saveMenu":"Save Menu","toolbar.maximizeWindow":"Maximize Window","toolbar.restoreWindow":"Restore Window","toolbar.minimizeWindow":"Minimize Window","changeLayout.fullWidth":"Full Width","changeLayout.columns":"Columns","changeLayout.Rows":"Rows","changeLayout.Grid":"Grid","successIndicator.workspaceSwitched":"Workspace Switched","successIndicator.hidden":"Tabs are Hidden","successIndicator.shown":"Tabs are Shown","successIndicator.locked":"Page is Locked","successIndicator.unlocked":"Page is Unlocked","successIndicator.workspaceSaved":"Workspace saved","successIndicator.workspaceSavedAs":"Workspace saved as {{workspace}}","successIndicator.workspaceRenamed":"Workspace renamed","successIndicator.pageSaved":"Page Saved","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved.","successIndicator.pageCopySaved":"Page saved as {{title}}","successIndicator.pageRenamed":"Page renamed","successIndicator.contextGroupApplied":"Context group applied","successIndicator.namedContextGroupApplied":"{{colorName}} context group applied","successIndicator.viewRemoved":"View removed from context group","successIndicator.viewsRemoved":"Views removed from context group","successIndicator.layoutApplied":"{{layoutName}} layout applied","successIndicator.workspaceDeleted":"Workspace deleted","errorIndicator.pageSaveFailed":"Page failed to save","errorIndicator.workspaceSaveFailed":"Workspace failed to save","errorIndicator.failedToDuplicatePage":"Failed to duplicate Page","infoIndicator.colorLinkAttempt":"We attempted to color link this tab, but the site/content owner has not enabled it yet","global.cancel":"Cancel","global.confirm":"Confirm","global.save":"Save","global.delete":"Delete","appResults.header":"Featured Content","recentlyClosed.header":"Recently Closed","landingPage.subheader":"Apps and websites selected by an admin will show here","aria.openBrowser":"Open Browser Menu","aria.browserTabs":"Browser Tabs","aria.viewTab":"View Tab for {{title}}","aria.closePage":"Close Page Tab Button for {{title}}","aria.closeTab":"Close Tab {{title}}","aria.title":"Title","aria.closeContextGroup":"Use escape to close context group selection dialog","aria.colorLinking":"Show or hide color linking","aria.applyColorLinking":"Please select a view to apply color linking","aria.assignColorLinkingCurrentView":"Current view assigned to {{name}} context group","aria.assignColorLinkingCurrentViews":"Current views assigned to {{name}} context group","aria.setColorLinkingActiveView":"Set active view to {{name}} context group","aria.setColorLinkingActiveViews":"Set active views to {{name}} context group","aria.escapeLayoutDialog":"Use escape to close change layout dialog","global.supertab":"Supertab","global.tab":"Tab","bookmarks.editBookmark":"Edit Bookmark","bookmarks.bookmarkAdded":"Bookmark added","bookmarks.done":"Done","bookmarks.remove":"Remove","bookmarks.bookmarksPanel":"Bookmarks Panel","bookmarks.bookmarks":"Bookmarks","bookmarks.allBookmarks":"All Bookmarks","bookmarks.favorites":"Favorites","bookmarks.searchBookmarks":"Search Bookmarks","bookmarks.clearSearchInput":"Clear Search Input","bookmarks.createFolder":"Create New Folder","bookmarks.exitFolder":"Exit Folder","bookmarks.newFolder":"New Folder","bookmarks.namedFolder":"{{name}} Folder","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings","bookmarks.folderSettings":"{{name}} Folder Settings","bookmarks.noResultsFound":"No results found","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search","bookmarks.nothingToShow":"Nothing to show yet","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder","bookmarks.resultsFoundIn":"Results found in {{name}}","bookmarks.resultsInOtherFolders":"Results found in other folders","bookmarks.allResultsFoundIn":"All results found in","bookmarks.editName":"Edit Name","bookmarks.move":"Move","bookmarks.bookmarkAddedTitle":"Bookmark Added","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\"","bookmarks.bookmarkEditedTitle":"Bookmark Edited","enterpriseContextMenu.saveSupertab":"Save Supertab","enterpriseContextMenu.saveSupertabAs":"Save Supertab As...","enterpriseContextMenu.duplicate":"Duplicate","enterpriseContextMenu.deleteSupertab":"Delete Supertab","enterpriseContextMenu.newTab":"New Tab","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing?","saveSupertabCount_other":"Save {{count}} Supertabs before closing?"},"enterpriseSaveModal.renameSupertab":"Rename","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab.","enterpriseSaveModal.closeTab":"Close Tab","enterpriseSaveModal.closeSupertab":"Close Supertab","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost.","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab?","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent.","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted.","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab","enterpriseCommandBar.switchToSupertab":"Switch to Supertab","enterpriseCommandBar.goTo":"Go to {{type}}","enterpriseCommandBar.viewMore":"View More","sidePanel.aiCenter":"AI Center","sidePanel.newChat":"New Chat","sidePanel.toggleSidePanel":"Toggle Side Panel","sidePanel.closeSidePanel":"Close Side Panel","sidePanel.openAiCenter":"Open AI Center","contextMenu.quitEnterpriseBrowser":"Quit","dock.removeFavorite":"Remove"}'),Nn=JSON.parse('{"contextMenu.newWindow":"Neues Fenster","contextMenu.newPage":"Neue Seite","contextMenu.restore":"Wiederherstellen der zuletzt gespeicherten nderungen","contextMenu.switchWorkspace":"Workspace wechseln","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"Erscheinungsbild","contextMenu.saveWorkspace":"Workspace speichern","contextMenu.saveWorkspaceAs":"Workspace speichern unter...","contextMenu.renameWorkspace":"Workspace umbenennen","contextMenu.deleteWorkspace":"Workspace lschen","contextMenu.downloads":"Downloads","contextMenu.savePage":"Seite speichern","contextMenu.savePageAs":"Seite speichern unter...","contextMenu.print":"Drucken...","contextMenu.printScreen":"Bildschirmansicht drucken","contextMenu.closeWindow":"Fenster schlieen","contextMenu.openStorefront":"Schaufenster ffnen","contextMenu.quitPlatform":"Plattform verlassen","contextMenu.newView":"Neue Ansicht","contextMenu.openView":"Ansicht mit Standard-Webbrowser ffnen","contextMenu.openViews":"Ansichten mit Standard-Webbrowser ffnen","contextMenu.reload":"Reload DE","contextMenu.reloadView":"Ansicht neu laden","contextMenu.reloadViews":"Ansichten neu laden","contextMenu.duplicate":"Duplicate DE","contextMenu.duplicateView":"Ansicht duplizieren","contextMenu.duplicateViews":"Ansichten duplizieren","contextMenu.addView":"Ansicht zum Channel hinzufgen","contextMenu.addViews":"Ansichten zum Channel hinzufgen","contextMenu.removeView":"Ansicht aus dem Channel entfernen","contextMenu.removeViews":"Ansichten aus dem Channel entfernen","contextMenu.closeView":"Ansicht schlieen","contextMenu.closeViews":"Ansichten schlieen","contextMenu.closeTab":"Close Tab DE","contextMenu.duplicatePage":"Seite duplizieren","contextMenu.submenu.print":"Drucken","contextMenu.submenu.printAll":"Alle drucken","saveMenu.saveWorkspaceAs":"Workspace speichern unter","saveMenu.savePageAs":"Seite speichern unter","saveModal.enterValue":"Please enter a value DE","saveModal.alreadyExists":"{{title}} existiert bereits.","saveModal.pleaseEnterValidName":"Bitte geben Sie einen gltigen Namen ein","saveModal.renamePage":"Seite umbenennen","saveModal.closePage":"Seite schlieen","saveModal.discardChanges":"nderungen verwerfen","saveModal.discardAll":"Alle verwerfen","saveModal.saveAll":"Alle speichern","saveModal.savePagesCount":"({{count}}) Seiten vor dem Schlieen speichern?","defaultPageTitle":"Untitled Page DE","enterpriseDefaultPageTitle":"Untitled Supertab DE","addNewPage":"Neue Seite hinzufgen","addNewTab":"Neuen Tab hinzufgen","addNewView":"Neue Ansicht","restoreModal":"Sind Sie sicher, dass Sie die zuletzt gespeicherten nderungen wiederherstellen wollen?","modal.discardWarning":"Alle nicht gespeicherten nderungen werden verworfen","modal.discardPageWarning":"Alle nicht gespeicherten nderungen auf dieser Seite gehen verloren.","modal.saveChangesPrompt":"nderungen vor dem Schlieen speichern?","modal.pageClose":"Seite schlieen","switchWorkspaceModal":"Sind Sie sicher, dass Sie zu {{workspace}}wechseln wollen?","switchWorkspaceModal.warning":"Alle nicht gespeicherten nderungen werden verworfen","deleteWorkspaceModal":"Sind Sie sicher, dass Sie diesen Workspace dauerhaft lschen wollen?","replaceWorkspaceModal.warning":"Ein Workspace mit dem Namen {{workspace}} existiert bereits. Mchten Sie ihn ersetzen?","replaceWorkspaceModal.warning.body":"Ein Workspace mit demselben Namen existiert bereits. Wenn Sie ihn ersetzen, wird der aktuelle Inhalt berschrieben.","replaceWorkspaceModal.replace":"Ersetzen","closePlatform":"Plattform schlieen","closePlatform.workspace":"Die {{workspace}} Plattform schlieen","closePlatform.warning":"Wenn Sie eine Plattform schlieen, werden alle Workspaces, Apps und laufenden Prozesse beendet.","back":"Zurck","forward":"Weiter","reload":"Neu laden","green":"Grn","purple":"Lila","orange":"Orange","red":"Rot","pink":"Pink","yellow":"Gelb","theme.light":"Hell","theme.dark":"Dunkel","theme.system":"Synchronisierung mit OS-Einstellung","toolbar.hideTabs":"Tabs ausblenden","toolbar.showTabs":"Tabs anzeigen","toolbar.lock":"Sperren","toolbar.unlock":"Freischalten","toolbar.colorLinking":"Farbverknpfung","toolbar.changeLayout":"Layout ndern","toolbar.saveMenu":"Men speichern","toolbar.maximizeWindow":"Fenster maximieren","toolbar.restoreWindow":"Fenster wiederherstellen","toolbar.minimizeWindow":"Fenster minimieren","changeLayout.fullWidth":"Volle Breite","changeLayout.columns":"Spalten","changeLayout.Rows":"Zeilen","changeLayout.Grid":"Raster","successIndicator.workspaceSwitched":"Workspace gewechselt","successIndicator.hidden":"Tabs sind ausgeblendet","successIndicator.shown":"Tabs werden angezeigt","successIndicator.locked":"Seite ist gesperrt","successIndicator.unlocked":"Seite ist freigeschaltet","successIndicator.workspaceSaved":"Workspace gespeichert","successIndicator.workspaceSavedAs":"Workspace gespeichert als {{workspace}}","successIndicator.workspaceRenamed":"Workspace umbenannt","successIndicator.pageSaved":"Seite gespeichert","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. DE","successIndicator.pageCopySaved":"Seite gespeichert als {{title}}","successIndicator.pageRenamed":"Seite umbenannt","successIndicator.contextGroupApplied":"Angewandte Kontextgruppe","successIndicator.namedContextGroupApplied":"{{colorName}} angewandte Kontextgruppe","successIndicator.viewRemoved":"Ansicht aus der Kontextgruppe entfernt","successIndicator.viewsRemoved":"Ansichten aus der Kontextgruppe entfernt","successIndicator.layoutApplied":"{{layoutName}} angewandtes Layout","successIndicator.workspaceDeleted":"Workspace gelscht","errorIndicator.pageSaveFailed":"Seite konnte nicht gespeichert werden","errorIndicator.workspaceSaveFailed":"Workspace konnte nicht gespeichert werden","errorIndicator.failedToDuplicatePage":"Seite kann nicht dupliziert werden","infoIndicator.colorLinkAttempt":"Wir haben versucht, diesem Tab eine Farbe zuordnen, aber der Eigentmer der Website/des Inhalts hat sie noch nicht aktiviert","global.cancel":"Abbrechen","global.confirm":"Besttigen","global.save":"Speichern","global.delete":"Delete DE","appResults.header":"Featured Content DC","recentlyClosed.header":"Recently Closed DC","landingPage.subheader":"Apps and websites selected by an admin will show here DE","aria.openBrowser":"Browser-Men ffnen","aria.browserTabs":"Browser-Tab","aria.viewTab":"Tab Ansicht fr {{title}}","aria.closePage":"Button Seite schlieen fr {{title}}","aria.closeTab":"Tab schlieen {{title}}","aria.title":"Bezeichnung","aria.closeContextGroup":"Verwenden Sie die Escape-Taste, um den Dialog zur Auswahl von Kontextgruppen zu schlieen","aria.colorLinking":"Farbverknpfung ein- oder ausblenden","aria.applyColorLinking":"Bitte whlen Sie eine Ansicht, um die Farbverknpfung anzuwenden","aria.assignColorLinkingCurrentView":"Aktuelle Ansicht, die der Kontextgruppe {{name}} zugeordnet ist","aria.assignColorLinkingCurrentViews":"Aktuelle Ansichten, die der Kontextgruppe {{name}} zugeordnet sind","aria.setColorLinkingActiveView":"Aktive Ansicht auf die Kontextgruppe {{name}} setzen","aria.setColorLinkingActiveViews":"Aktive Ansichten auf die Kontextgruppe {{name}} setzen","aria.escapeLayoutDialog":"Verwenden Sie die Escape-Taste, um den Dialog zur Layoutnderung zu schlieen","global.supertab":"Supertab DE","global.tab":"Tab DE","bookmarks.editBookmark":"Edit Bookmark DE","bookmarks.bookmarkAdded":"Bookmark added DE","bookmarks.done":"Done DE","bookmarks.remove":"Remove DE","bookmarks.bookmarksPanel":"Bookmarks Panel DE","bookmarks.bookmarks":"Bookmarks DE","bookmarks.allBookmarks":"All Bookmarks DE","bookmarks.favorites":"Favorites DE","bookmarks.searchBookmarks":"Search Bookmarks DE","bookmarks.clearSearchInput":"Clear Search Input DE","bookmarks.createFolder":"Create New Folder DE","bookmarks.exitFolder":"Exit Folder DE","bookmarks.newFolder":"New Folder DE","bookmarks.namedFolder":"{{name}} Folder DE","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings DE","bookmarks.folderSettings":"{{name}} Folder Settings DE","bookmarks.noResultsFound":"No results found DE","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search DE","bookmarks.nothingToShow":"Nothing to show yet DE","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder DE","bookmarks.resultsFoundIn":"Results found in {{name}} DE","bookmarks.resultsInOtherFolders":"Results found in other folders DE","bookmarks.allResultsFoundIn":"All results found in DE","bookmarks.editName":"Edit Name DE","bookmarks.move":"Move DE","bookmarks.bookmarkAddedTitle":"Bookmark Added DE","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" DE","bookmarks.bookmarkEditedTitle":"Bookmark Edited DE","enterpriseContextMenu.saveSupertab":"Save Supertab DE","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... DE","enterpriseContextMenu.duplicate":"Duplicate DE","enterpriseContextMenu.deleteSupertab":"Delete Supertab DE","enterpriseContextMenu.newTab":"New Tab DE","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As DE","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? DE","saveSupertabCount_other":"Save {{count}} Supertabs before closing? DE"},"enterpriseSaveModal.renameSupertab":"Rename DE","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. DE","enterpriseSaveModal.closeTab":"Close Tab DE","enterpriseSaveModal.closeSupertab":"Close Supertab DE","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. DE","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? DE","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. DE","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved DE","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. DE","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted DE","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. DE","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab DE","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab DE","enterpriseCommandBar.switchToSupertab":"Switch to Supertab DE","enterpriseCommandBar.goTo":"Go to {{type}} DE","enterpriseCommandBar.viewMore":"View More DE","sidePanel.aiCenter":"AI Center DE","sidePanel.newChat":"New Chat DE","sidePanel.toggleSidePanel":"Toggle Side Panel DE","sidePanel.closeSidePanel":"Close Side Panel DE","sidePanel.openAiCenter":"Open AI Center DE","contextMenu.quitEnterpriseBrowser":"Quit DE","dock.removeFavorite":"Remove DE"}'),Ln=JSON.parse('{"contextMenu.newWindow":"","contextMenu.newPage":"","contextMenu.restore":"","contextMenu.switchWorkspace":"","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"","contextMenu.saveWorkspace":"","contextMenu.saveWorkspaceAs":"...","contextMenu.renameWorkspace":"","contextMenu.deleteWorkspace":"","contextMenu.downloads":"","contextMenu.savePage":"","contextMenu.savePageAs":"...","contextMenu.print":"...","contextMenu.printScreen":"","contextMenu.closeWindow":"","contextMenu.openStorefront":"","contextMenu.quitPlatform":"","contextMenu.newView":"","contextMenu.openView":"","contextMenu.openViews":"","contextMenu.reload":"Reload JP","contextMenu.reloadView":"","contextMenu.reloadViews":"","contextMenu.duplicate":"Duplicate JP","contextMenu.duplicateView":"","contextMenu.duplicateViews":"","contextMenu.addView":"","contextMenu.addViews":"","contextMenu.removeView":"","contextMenu.removeViews":"","contextMenu.closeView":"","contextMenu.closeViews":"","contextMenu.closeTab":"Close Tab JP","contextMenu.duplicatePage":"","contextMenu.submenu.print":"","contextMenu.submenu.printAll":"","saveMenu.saveWorkspaceAs":"","saveMenu.savePageAs":"","saveModal.enterValue":"Please enter a value JP","saveModal.alreadyExists":"{{title}}","saveModal.pleaseEnterValidName":"","saveModal.renamePage":"","saveModal.closePage":"","saveModal.discardChanges":"","saveModal.discardAll":"","saveModal.saveAll":"","saveModal.savePagesCount":"{{count}}","defaultPageTitle":"Untitled Page JP","enterpriseDefaultPageTitle":"Untitled Supertab JP","addNewPage":"","addNewTab":"","addNewView":"","restoreModal":"","modal.discardWarning":"","modal.discardPageWarning":"","modal.saveChangesPrompt":"","modal.pageClose":"","switchWorkspaceModal":"{{workspace}}","switchWorkspaceModal.warning":"","deleteWorkspaceModal":"","replaceWorkspaceModal.warning":"{{workspace}}","replaceWorkspaceModal.warning.body":"","replaceWorkspaceModal.replace":"","closePlatform":"","closePlatform.workspace":"{{workspace}}","closePlatform.warning":"","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"OS","toolbar.hideTabs":"","toolbar.showTabs":"","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"","toolbar.changeLayout":"","toolbar.saveMenu":"","toolbar.maximizeWindow":"","toolbar.restoreWindow":"","toolbar.minimizeWindow":"","changeLayout.fullWidth":"","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"","successIndicator.hidden":"","successIndicator.shown":"","successIndicator.locked":"","successIndicator.unlocked":"","successIndicator.workspaceSaved":"","successIndicator.workspaceSavedAs":"{{workspace}}","successIndicator.workspaceRenamed":"","successIndicator.pageSaved":"","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. JP","successIndicator.pageCopySaved":"{{title}}","successIndicator.pageRenamed":"","successIndicator.contextGroupApplied":"","successIndicator.namedContextGroupApplied":"{{colorName}}","successIndicator.viewRemoved":"","successIndicator.viewsRemoved":"","successIndicator.layoutApplied":"{{layoutName}}","successIndicator.workspaceDeleted":"","errorIndicator.pageSaveFailed":"","errorIndicator.workspaceSaveFailed":"","errorIndicator.failedToDuplicatePage":"","infoIndicator.colorLinkAttempt":"/","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete JP","appResults.header":"Featured content JP","recentlyClosed.header":"Recently Closed JP","landingPage.subheader":"Apps and websites selected by an admin will show here JP","aria.openBrowser":"","aria.browserTabs":"","aria.viewTab":"{{title}}","aria.closePage":"{{title}}","aria.closeTab":"{{title}}","aria.title":"","aria.closeContextGroup":"","aria.colorLinking":"/","aria.applyColorLinking":"","aria.assignColorLinkingCurrentView":"{{name}}","aria.assignColorLinkingCurrentViews":"{{name}}","aria.setColorLinkingActiveView":"{{name}}","aria.setColorLinkingActiveViews":"{{name}}","aria.escapeLayoutDialog":"","global.supertab":"Supertab JP","global.tab":"Tab JP","bookmarks.editBookmark":"Edit Bookmark JP","bookmarks.bookmarkAdded":"Bookmark added JP","bookmarks.done":"Done JP","bookmarks.remove":"Remove JP","bookmarks.bookmarksPanel":"Bookmarks Panel JP","bookmarks.bookmarks":"Bookmarks JP","bookmarks.allBookmarks":"All Bookmarks JP","bookmarks.favorites":"Favorites JP","bookmarks.searchBookmarks":"Search Bookmarks JP","bookmarks.clearSearchInput":"Clear Search Input JP","bookmarks.createFolder":"Create New Folder JP","bookmarks.exitFolder":"Exit Folder JP","bookmarks.newFolder":"New Folder JP","bookmarks.namedFolder":"{{name}} Folder JP","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings JP","bookmarks.folderSettings":"{{name}} Folder Settings JP","bookmarks.noResultsFound":"No results found JP","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search JP","bookmarks.nothingToShow":"Nothing to show yet JP","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder JP","bookmarks.resultsFoundIn":"Results found in {{name}} JP","bookmarks.resultsInOtherFolders":"Results found in other folders JP","bookmarks.allResultsFoundIn":"All results found in JP","bookmarks.editName":"Edit Name JP","bookmarks.move":"Move JP","bookmarks.bookmarkAddedTitle":"Bookmark Added JP","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" JP","bookmarks.bookmarkEditedTitle":"Bookmark Edited JP","enterpriseContextMenu.saveSupertab":"Save Supertab JP","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... JP","enterpriseContextMenu.duplicate":"Duplicate JP","enterpriseContextMenu.deleteSupertab":"Delete Supertab JP","enterpriseContextMenu.newTab":"New Tab JP","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As JP","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? JP","saveSupertabCount_other":"Save {{count}} Supertabs before closing? JP"},"enterpriseSaveModal.renameSupertab":"Rename JP","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. JP","enterpriseSaveModal.closeTab":"Close Tab JP","enterpriseSaveModal.closeSupertab":"Close Supertab JP","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. JP","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? JP","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. JP","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved JP","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. JP","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted JP","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. JP","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab JP","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab JP","enterpriseCommandBar.switchToSupertab":"Switch to Supertab JP","enterpriseCommandBar.goTo":"Go to {{type}} JP","enterpriseCommandBar.viewMore":"View More JP","sidePanel.aiCenter":"AI Center JP","sidePanel.newChat":"New Chat JP","sidePanel.toggleSidePanel":"Toggle Side Panel JP","sidePanel.closeSidePanel":"Close Side Panel JP","sidePanel.openAiCenter":"Open AI Center JP","contextMenu.quitEnterpriseBrowser":"Quit JP","dock.removeFavorite":"Remove JP"}'),_n=JSON.parse('{"contextMenu.newWindow":" ","contextMenu.newPage":" ","contextMenu.restore":"    ","contextMenu.switchWorkspace":"  ","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"","contextMenu.saveWorkspace":"  ","contextMenu.saveWorkspaceAs":"    ...","contextMenu.renameWorkspace":"   ","contextMenu.deleteWorkspace":"  ","contextMenu.downloads":"","contextMenu.savePage":" ","contextMenu.savePageAs":"   ...","contextMenu.print":"...","contextMenu.printScreen":" ","contextMenu.closeWindow":" ","contextMenu.openStorefront":" ","contextMenu.quitPlatform":" ","contextMenu.newView":" ","contextMenu.openView":"    ","contextMenu.openViews":"    ","contextMenu.reload":"Reload KR","contextMenu.reloadView":"  ","contextMenu.reloadViews":"  ","contextMenu.duplicate":"Duplicate KR","contextMenu.duplicateView":" ","contextMenu.duplicateViews":" ","contextMenu.addView":"  ","contextMenu.addViews":"  ","contextMenu.removeView":"  ","contextMenu.removeViews":"  ","contextMenu.closeView":" ","contextMenu.closeViews":" ","contextMenu.closeTab":"Close Tab KR","contextMenu.duplicatePage":" ","contextMenu.submenu.print":"","contextMenu.submenu.printAll":" ","saveMenu.saveWorkspaceAs":"    ","saveMenu.savePageAs":"   ","saveModal.enterValue":"Please enter a value KR","saveModal.alreadyExists":"{{title}}()  .","saveModal.pleaseEnterValidName":"  .","saveModal.renamePage":"  ","saveModal.closePage":" ","saveModal.discardChanges":"  ","saveModal.discardAll":" ","saveModal.saveAll":" ","saveModal.savePagesCount":"  ({{count}}) ?","defaultPageTitle":"Untitled Page KR","enterpriseDefaultPageTitle":"Untitled Supertab KR","addNewPage":"  ","addNewTab":"  ","addNewView":" ","restoreModal":"    ?","modal.discardWarning":"     ","modal.discardPageWarning":"       .","modal.saveChangesPrompt":"    ?","modal.pageClose":" ","switchWorkspaceModal":"{{workspace}}() ?","switchWorkspaceModal.warning":"     ","deleteWorkspaceModal":"    ?","replaceWorkspaceModal.warning":"{{workspace}}()     . ?","replaceWorkspaceModal.warning.body":"     .     .","replaceWorkspaceModal.replace":"","closePlatform":" ","closePlatform.workspace":"{{workspace}}  ","closePlatform.warning":"      ,    .","back":" ","forward":" ","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"OS  ","toolbar.hideTabs":" ","toolbar.showTabs":" ","toolbar.lock":"","toolbar.unlock":" ","toolbar.colorLinking":" ","toolbar.changeLayout":" ","toolbar.saveMenu":" ","toolbar.maximizeWindow":" ","toolbar.restoreWindow":" ","toolbar.minimizeWindow":" ","changeLayout.fullWidth":" ","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"  ","successIndicator.hidden":" ","successIndicator.shown":" ","successIndicator.locked":" ","successIndicator.unlocked":"  ","successIndicator.workspaceSaved":"  ","successIndicator.workspaceSavedAs":"  {{workspace}}() ","successIndicator.workspaceRenamed":"   ","successIndicator.pageSaved":" ","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. KR","successIndicator.pageCopySaved":" {{title}}() ","successIndicator.pageRenamed":"  ","successIndicator.contextGroupApplied":"  ","successIndicator.namedContextGroupApplied":"{{colorName}}   ","successIndicator.viewRemoved":"   ","successIndicator.viewsRemoved":"   ","successIndicator.layoutApplied":"{{layoutName}}  ","successIndicator.workspaceDeleted":"  ","errorIndicator.pageSaveFailed":"  ","errorIndicator.workspaceSaveFailed":"   ","errorIndicator.failedToDuplicatePage":"  ","infoIndicator.colorLinkAttempt":"     /    .","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete KR","appResults.header":"Featured Content KR","recentlyClosed.header":"Recently Closed KR","landingPage.subheader":"Apps and websites selected by an admin will show here KR","aria.openBrowser":"  ","aria.browserTabs":" ","aria.viewTab":"{{title}}  ","aria.closePage":"{{title}}   ","aria.closeTab":" {{title}} ","aria.title":"","aria.closeContextGroup":"      ","aria.colorLinking":"    ","aria.applyColorLinking":"    .","aria.assignColorLinkingCurrentView":"{{name}}     ","aria.assignColorLinkingCurrentViews":"{{name}}     ","aria.setColorLinkingActiveView":"  {{name}}   ","aria.setColorLinkingActiveViews":"  {{name}}   ","aria.escapeLayoutDialog":"     ","global.supertab":"Supertab KR","global.tab":"Tab KR","bookmarks.editBookmark":"Edit Bookmark KR","bookmarks.bookmarkAdded":"Bookmark added KR","bookmarks.done":"Done KR","bookmarks.remove":"Remove KR","bookmarks.bookmarksPanel":"Bookmarks Panel KR","bookmarks.bookmarks":"Bookmarks KR","bookmarks.allBookmarks":"All Bookmarks KR","bookmarks.favorites":"Favorites KR","bookmarks.searchBookmarks":"Search Bookmarks KR","bookmarks.clearSearchInput":"Clear Search Input KR","bookmarks.createFolder":"Create New Folder KR","bookmarks.exitFolder":"Exit Folder KR","bookmarks.newFolder":"New Folder KR","bookmarks.namedFolder":"{{name}} Folder KR","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings KR","bookmarks.folderSettings":"{{name}} Folder Settings KR","bookmarks.noResultsFound":"No results found KR","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search KR","bookmarks.nothingToShow":"Nothing to show yet KR","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder KR","bookmarks.resultsFoundIn":"Results found in {{name}} KR","bookmarks.resultsInOtherFolders":"Results found in other folders KR","bookmarks.allResultsFoundIn":"All results found in KR","bookmarks.editName":"Edit Name KR","bookmarks.move":"Move KR","bookmarks.bookmarkAddedTitle":"Bookmark Added KR","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" KR","bookmarks.bookmarkEditedTitle":"Bookmark Edited KR","enterpriseContextMenu.saveSupertab":"Save Supertab KR","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... KR","enterpriseContextMenu.duplicate":"Duplicate KR","enterpriseContextMenu.deleteSupertab":"Delete Supertab KR","enterpriseContextMenu.newTab":"New Tab KR","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As KR","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? KR","saveSupertabCount_other":"Save {{count}} Supertabs before closing? KR"},"enterpriseSaveModal.renameSupertab":"Rename KR","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. KR","enterpriseSaveModal.closeTab":"Close Tab KR","enterpriseSaveModal.closeSupertab":"Close Supertab KR","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. KR","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? KR","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. KR","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved KR","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. KR","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted KR","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. KR","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab KR","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab KR","enterpriseCommandBar.switchToSupertab":"Switch to Supertab KR","enterpriseCommandBar.goTo":"Go to {{type}} KR","enterpriseCommandBar.viewMore":"View More KR","sidePanel.aiCenter":"AI Center KR","sidePanel.newChat":"New Chat KR","sidePanel.toggleSidePanel":"Toggle Side Panel KR","sidePanel.closeSidePanel":"Close Side Panel KR","sidePanel.openAiCenter":"Open AI Center KR","contextMenu.quitEnterpriseBrowser":"Quit KR","dock.removeFavorite":"Remove KR"}'),Un=JSON.parse('{"contextMenu.newWindow":" ","contextMenu.newPage":" ","contextMenu.restore":"   ","contextMenu.switchWorkspace":"  ","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":" ","contextMenu.saveWorkspace":"  ","contextMenu.saveWorkspaceAs":"   ...","contextMenu.renameWorkspace":"  ","contextMenu.deleteWorkspace":"  ","contextMenu.downloads":"","contextMenu.savePage":" ","contextMenu.savePageAs":"  ...","contextMenu.print":"...","contextMenu.printScreen":" ","contextMenu.closeWindow":" ","contextMenu.openStorefront":" Storefront","contextMenu.quitPlatform":"  ","contextMenu.newView":" ","contextMenu.openView":"    -  ","contextMenu.openViews":"    -  ","contextMenu.reload":"Reload RU","contextMenu.reloadView":" ","contextMenu.reloadViews":" ","contextMenu.duplicate":"Duplicate RU","contextMenu.duplicateView":" ","contextMenu.duplicateViews":" ","contextMenu.addView":"   ","contextMenu.addViews":"   ","contextMenu.removeView":"   ","contextMenu.removeViews":"   ","contextMenu.closeView":" ","contextMenu.closeViews":" ","contextMenu.closeTab":"Close Tab RU","contextMenu.duplicatePage":" ","contextMenu.submenu.print":"","contextMenu.submenu.printAll":" ","saveMenu.saveWorkspaceAs":"   ","saveMenu.savePageAs":"  ","saveModal.enterValue":"Please enter a value RU","saveModal.alreadyExists":"{{title}}  .","saveModal.pleaseEnterValidName":"  ","saveModal.renamePage":" ","saveModal.closePage":" ","saveModal.discardChanges":" ","saveModal.discardAll":" ","saveModal.saveAll":" ","saveModal.savePagesCount":" ({{count}})   ?","defaultPageTitle":"Untitled Page RU","enterpriseDefaultPageTitle":"Untitled Supertab RU","addNewPage":"  ","addNewTab":"  ","addNewView":" ","restoreModal":" ,      ?","modal.discardWarning":"    ","modal.discardPageWarning":"       .","modal.saveChangesPrompt":"   ?","modal.pageClose":" ","switchWorkspaceModal":" ,     {{workspace}}?","switchWorkspaceModal.warning":"    ","deleteWorkspaceModal":" ,       ?","replaceWorkspaceModal.warning":"    {{workspace}}  .    ?","replaceWorkspaceModal.warning.body":"       .       .","replaceWorkspaceModal.replace":"","closePlatform":" ","closePlatform.workspace":"  {{workspace}}","closePlatform.warning":"       ,    .","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"   ","toolbar.hideTabs":" ","toolbar.showTabs":" ","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"  ","toolbar.changeLayout":" ","toolbar.saveMenu":" ","toolbar.maximizeWindow":" ","toolbar.restoreWindow":" ","toolbar.minimizeWindow":" ","changeLayout.fullWidth":" ","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"  ","successIndicator.hidden":" ","successIndicator.shown":" ","successIndicator.locked":" ","successIndicator.unlocked":" ","successIndicator.workspaceSaved":"  ","successIndicator.workspaceSavedAs":"    {{workspace}}","successIndicator.workspaceRenamed":"  ","successIndicator.pageSaved":" ","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. RU","successIndicator.pageCopySaved":"   {{title}}","successIndicator.pageRenamed":" ","successIndicator.contextGroupApplied":"  ","successIndicator.namedContextGroupApplied":"  {{colorName}} ","successIndicator.viewRemoved":"    ","successIndicator.viewsRemoved":"    ","successIndicator.layoutApplied":" {{layoutName}} ","successIndicator.workspaceDeleted":"  ","errorIndicator.pageSaveFailed":"   ","errorIndicator.workspaceSaveFailed":"    ","errorIndicator.failedToDuplicatePage":"   ","infoIndicator.colorLinkAttempt":"      ,   /     ","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete RU","appResults.header":"Featured Content RU","recentlyClosed.header":"Recently Closed RU","landingPage.subheader":"Apps and websites selected by an admin will show here RU","aria.openBrowser":"  ","aria.browserTabs":" ","aria.viewTab":"  {{title}}","aria.closePage":"      {{title}}","aria.closeTab":"  {{title}}","aria.title":"","aria.closeContextGroup":"     ,  escape","aria.colorLinking":"     ","aria.applyColorLinking":" ,     ","aria.assignColorLinkingCurrentView":" ,    {{name}}","aria.assignColorLinkingCurrentViews":" ,    {{name}}","aria.setColorLinkingActiveView":"      {{name}}","aria.setColorLinkingActiveViews":"      {{name}}","aria.escapeLayoutDialog":"    ,  escape","global.supertab":"Supertab RU","global.tab":"Tab RU","bookmarks.editBookmark":"Edit Bookmark RU","bookmarks.bookmarkAdded":"Bookmark added RU","bookmarks.done":"Done RU","bookmarks.remove":"Remove RU","bookmarks.bookmarksPanel":"Bookmarks Panel RU","bookmarks.bookmarks":"Bookmarks RU","bookmarks.allBookmarks":"All Bookmarks RU","bookmarks.favorites":"Favorites RU","bookmarks.searchBookmarks":"Search Bookmarks RU","bookmarks.clearSearchInput":"Clear Search Input RU","bookmarks.createFolder":"Create New Folder RU","bookmarks.exitFolder":"Exit Folder RU","bookmarks.newFolder":"New Folder RU","bookmarks.namedFolder":"{{name}} Folder RU","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings RU","bookmarks.folderSettings":"{{name}} Folder Settings RU","bookmarks.noResultsFound":"No results found RU","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search RU","bookmarks.nothingToShow":"Nothing to show yet RU","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder RU","bookmarks.resultsFoundIn":"Results found in {{name}} RU","bookmarks.resultsInOtherFolders":"Results found in other folders RU","bookmarks.allResultsFoundIn":"All results found in RU","bookmarks.editName":"Edit Name RU","bookmarks.move":"Move RU","bookmarks.bookmarkAddedTitle":"Bookmark Added RU","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" RU","bookmarks.bookmarkEditedTitle":"Bookmark Edited RU","enterpriseContextMenu.saveSupertab":"Save Supertab RU","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... RU","enterpriseContextMenu.duplicate":"Duplicate RU","enterpriseContextMenu.deleteSupertab":"Delete Supertab RU","enterpriseContextMenu.newTab":"New Tab RU","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As RU","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? RU","saveSupertabCount_other":"Save {{count}} Supertabs before closing? RU"},"enterpriseSaveModal.renameSupertab":"Rename RU","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. RU","enterpriseSaveModal.closeTab":"Close Tab RU","enterpriseSaveModal.closeSupertab":"Close Supertab RU","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. RU","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? RU","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. RU","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved RU","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.RU","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted RU","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. RU","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab RU","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab RU","enterpriseCommandBar.switchToSupertab":"Switch to Supertab RU","enterpriseCommandBar.goTo":"Go to {{type}} RU","enterpriseCommandBar.viewMore":"View More RU","sidePanel.aiCenter":"AI Center RU","sidePanel.newChat":"New Chat RU","sidePanel.toggleSidePanel":"Toggle Side Panel RU","sidePanel.closeSidePanel":"Close Side Panel RU","sidePanel.openAiCenter":"Open AI Center RU","contextMenu.quitEnterpriseBrowser":"Quit RU","dock.removeFavorite":"Remove RU"}');const On=Rn().t,Gn=async e=>{const t=await Ca(e);return await t.dispatch(Ta.GetPages)},Hn=async e=>(await Ca(e.identity)).dispatch(Ta.UpdatePageForWindow,e);let $n,zn=!1;const Kn=()=>zn,Jn=()=>$n||{enabled:!1};async function Zn(e,t){const a=!!t;let n=new Set;if(a){const{identity:e,pageId:a}=t,o=bn().Browser.wrapSync(e),r=await o.getPage(a);r?.panels&&(n=new Set(r.panels.map((({viewOptions:e})=>e.name))))}return e.map((e=>{const t=e.viewOptions.name,o=t?.startsWith(Sn);o&&(!a||a&&!n.has(t))&&delete e.viewOptions.name;const r=(i=e.viewOptions,i.name||=`${Sn}${ia()}`,i);var i;return{...e,viewOptions:{...r,uuid:ye.uuid}}}))}async function qn(e){for(const t of e)t.panels&&await Qn(t.panels)}const jn=e=>null!==e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&/ERR_([A-Z]+_*)+/.test(e.message);async function Qn(e){const t=e.map((e=>fin.Platform.getCurrentSync().createView(e.viewOptions,fin.me.identity).catch((e=>{if(!jn(e))throw e;console.error(e)}))));return await Promise.all(t)}const Yn=(e,t)=>!t.find((t=>t===e)),Xn=(e,t)=>`${e} (${t})`,eo=(e,t)=>{if(Yn(e,t))return e;let a=1;const n=e.replace(/ *\(\d+\)$/,"");for(;!Yn(Xn(n,a),t);)a+=1;return Xn(n,a)},to=async()=>{const e=await Me();return(await Promise.all(e.map((async e=>{try{return Gn(e.identity)}catch(t){JSON.stringify(e.identity);const a=await e.getOptions();return a.workspacePlatform?.pages||[]}})))).reduce(((e,t)=>e.concat(t)),[])},ao=async()=>(await st(ye)).dispatch(ot.GetSavedPages,void 0),no=async e=>(await st(ye)).dispatch(ot.GetSavedPage,e),oo=async(e,t)=>{const a=await(async e=>(await to()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Hn({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},ro=async({page:e})=>{await oo(e.pageId,e),await(async e=>(await st(ye)).dispatch(ot.CreateSavedPage,e))({page:e})},io=async e=>{await no(e)&&await(async e=>(await st(ye)).dispatch(ot.DeleteSavedPage,e))(e)},so=async({pageId:e,page:t})=>{await oo(e,t);return await(async e=>(await st(ye)).dispatch(ot.UpdateSavedPage,e))({pageId:e,page:t})},co=async e=>await no(e.pageId)?so({pageId:e.pageId,page:e}):ro({page:e}),lo=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.AttachPagesToWindow,e))(e)},uo=async e=>{const t={...e.page,panels:e.page.panels&&await Zn(e.page.panels,e)};t.panels&&await Qn(t.panels),await Hn({...e,page:t})},po=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.DetachPagesFromWindow,e))(e)},wo=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.SetActivePageForWindow,e))(e)},go=e=>Gn(e),ho=async({identity:e,pageId:t})=>(await go(e)).find((e=>e.pageId===t)),mo=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.ReorderPagesForWindow,e))(e)},ko=new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};async function bo(e){await ko.lock();try{const t=Kn()?On("enterpriseDefaultPageTitle"):On("defaultPageTitle"),a=e??t,[n,o]=await Promise.all([ao(),to()]),r=[...n,...o].map((({title:e})=>e));return eo(a,r)}finally{ko.unlock()}}async function fo({page:e}){return{shouldShowModal:!(!e||!e.hasUnsavedChanges)}}async function yo({page:e,identity:t}){const a=fin.Application.getCurrentSync();if((await a.getInfo()).initialOptions.enableBeforeUnload){const a=await fin.Application.getCurrentSync().getViews(),n=In(e.layout.content).filter((e=>e.name&&a.some((t=>t.identity.name===e.name)))).map((e=>fin.View.wrapSync({name:e.name,uuid:t.uuid}))),o=await this.checkViewsForPreventUnload(n);if(o.viewsPreventingUnload.length>0){if((await this.getUserDecisionForBeforeUnload({...o,windowId:t,windowShouldClose:!1,closeType:"page"})).viewsToClose.length!==n.length)return e.pageId,{shouldPageClose:!1}}}return{shouldPageClose:!0}}async function So({pages:e,identity:t}){const a=await Promise.all(e.map((e=>this.shouldPageClose({page:e,closeType:"window",identity:t})))),{pagesPreventingClose:n,pagesNotPreventingClose:o}=e.reduce(((e,t,n)=>!a[n].shouldPageClose?{pagesNotPreventingClose:e.pagesNotPreventingClose,pagesPreventingClose:[...e.pagesPreventingClose,t]}:{pagesPreventingClose:e.pagesPreventingClose,pagesNotPreventingClose:[...e.pagesNotPreventingClose,t]}),{pagesPreventingClose:[],pagesNotPreventingClose:[]});return this.handlePagesAndWindowClose({pagesNotPreventingClose:o,pagesPreventingClose:n,identity:t})}async function vo({pagesPreventingClose:e,pagesNotPreventingClose:t,identity:a}){return{shouldWindowClose:0===e.length}}async function Po({page:e}){return ga(e)}async function Co(e){return{hasUnsavedChanges:!0}}const Mo=async()=>{const e=bn(),t=(await Me()).map((t=>e.Browser.wrapSync(t.identity)));await Promise.all(t.map((async e=>{const t=await e.getPages();await Promise.all(t.map((async t=>{t.title,await e.updatePage({pageId:t.pageId,page:{hasUnsavedChanges:!1}}),t.pageId,t.title,await co({...t,hasUnsavedChanges:!1})})))})))},xo=new Map,Io=()=>xo,Ao=e=>xo.delete(e);let Wo=!1;const Do=()=>{Wo||(Wo=!0,fin.Window.wrapSync(ve).once("closed",(()=>{Wo=!1,(async(e,t)=>{await Yt(Qt(e),{source:"Store",...t})})(fin.me.identity,{type:"Navigation",action:"Close Store",skipValueHashing:!0})})))};let To,Bo,Ro;const Eo=async()=>(void 0===Ro&&(Ro=!!(await Y()).disableOpenFinAnalytics),Ro);async function Fo(e){e.forEach((e=>{var t,a;"Page"===e.type?"Open Page"===e.action?(t=e.data.uuid,a=e,xo.set(t,a)):"Close Page"===e.action&&Ao(e.data.uuid):"Store"===e.source&&"Close"!==e.action&&Do()})),await(async e=>{To?.sendToOpenFin&&(await Eo()||e.forEach((async e=>{const t=na({},e);t.entityId&&(t.entityId.uuid=await ta(t.entityId.uuid),t.entityId.name=await ta(t.entityId.name)),!e.skipValueHashing&&"value"in t&&(t.value=await ta(t.value)),Bo(t)})))})(e);const t=e.map((({skipValueHashing:e,...t})=>t));this.handleAnalytics(t)}const Vo=async e=>{To=e;To?.sendToOpenFin&&!await Eo()&&(()=>{const e=L,t=e+K.Analytics,a=document.createElement("IFRAME");a.setAttribute("src",t),a.setAttribute("style","width: 0px !important"),a.setAttribute("style","height: 0px !important"),a.setAttribute("style","display: none !important"),document.body.appendChild(a),Bo=async t=>{a.contentWindow.postMessage(t,e)}})();const t=fin.Application.getCurrentSync();t.addListener("view-created",(async e=>{var t;Xt({type:"View",action:"Open View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid,url:await(t=e.viewIdentity,fin.View.wrapSync(t).getInfo().then((e=>e.url)))}})})),t.addListener("view-destroyed",(async e=>{Xt({type:"View",action:"Close View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid}})})),t.addListener("window-closed",(e=>{e.name.startsWith(me.BrowserMenu)||(Xt({type:"Window",action:"Close Window",value:e.name,data:{uuid:e.uuid}}),(async()=>{const e=Io(),t=await to();if(t.length===e.size)return;const a=t.reduce(((e,t)=>e.set(t.pageId,1)),new Map);for(const[t,n]of e)a.has(t)||(n.action="Close Page",Xt(n),Ao(t))})())}))},No=Te({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});const Lo=function(e=No){const t=new Map;return async(a,n,o,r,i)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const s=`${me.BrowserIndicator}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:s});const c=`New ${r} indicator: ${o} ${i}`,l=await fin.Platform.getCurrentSync().createWindow({...e,name:s,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("role","alert"),a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),300),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(c),l.once("closed",(()=>{t.delete(a)}))}}();async function _o(e,t,a,n,o,r){if(a&&fin.me.name!==a){const i={type:e,message:t,parentBrowserName:a,secondaryMessage:n,icon:o,isEnterprise:r};return(await Ca({uuid:fin.me.uuid,name:a})).dispatch(Ta.ShowBrowserIndicator,i)}const i=new URLSearchParams;if(i.append("type",e),i.append("message",t),i.append("parentName",a||""),i.append("secondaryMessage",n||""),i.append("icon",o||""),i.append("isEnterprise",`${r}`||""),a){const e=fe(a?{uuid:R,name:a}:void 0),t=`${(s=await e.getBounds()).top},${s.left},${s.height},${s.width},${s.bottom},${s.right},${s.content.top},${s.content.left},${s.content.height},${s.content.width}`;i.append("parentBounds",t)}var s;const c=`${(r?await ne():await ae())+K.BrowserIndicator}#${i.toString()}`;return Lo("browser"+a,c,t,e,n)}async function Uo(e,t,a,n){const o=await Ht(t);return _o("success",e,t.name,a,n,o)}const Oo=async(e=ye)=>{const{workspacePlatform:t}=await fe(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},Go=async(e=ye)=>{const t=await Ht(e)||Kn(),a=t?null:await bn().Browser.getUniquePageTitle();let n;if(e&&await Ce(e))n=await(async(e,t=ye)=>{const{newPageUrl:a}=await Oo(t);if(!a)throw new Error("Trying to create a new page without a newPageUrl set");return An(e,a,t)})(a,e);else if(t){const e=await oe();n=await An(a,e)}t&&(n.settings=n.settings??{},n.dimensions=n.dimensions??{},n.settings.hasHeaders=!1,n.settings.reorderEnabled=!0,n.dimensions.headerHeight=0);const o=await wa(a,n);return t&&(o.hasUnsavedChanges=!1),o},Ho=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t)=>{const a=await Ht(t);return{title:"Switch Workspace",windowOptions:{url:await re(a,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:t},content:{title:On("switchWorkspaceModal",{workspace:e}),body:On("switchWorkspaceModal.warning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(t,a?void 0:e),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await ja({options:i,content:o})).data.actionName},$o=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ht(e);return{title:"Delete Workspace",windowOptions:{url:await re(a,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:144,defaultWidth:410,modalParentIdentity:e},content:{title:On("deleteWorkspaceModal"),body:`${t}`,buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Confirm"===(await ja({options:r,content:n})).data.actionName},zo=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t,a)=>{const n=await Ht(e);return{title:"Platform Quit",windowOptions:{url:await re(n,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:a?void 0:e},content:{title:On("Platform"===t?"closePlatform":"closePlatform.workspace",{workspace:t}),body:On("closePlatform.warning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t,a),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await ja({options:i,content:o})).data.actionName},Ko=async e=>{const{windowOptions:t,content:a}=await(async e=>{const t=await Ht(e);return{title:"Restore Changes",windowOptions:{url:await re(t,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:e},content:{title:On("restoreModal"),body:On("modal.discardWarning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e),n=await Le(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return"Confirm"===(await ja({options:o,content:a})).data.actionName},Jo=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ht(e);return{title:"Delete Page",windowOptions:{url:new URL(await re(a,!1)+K.ResponseModal).toString(),name:me.BrowserMenu,defaultHeight:172,defaultWidth:464,modalParentIdentity:e},content:{title:On("enterpriseDeleteModal.deleteSupertab",{title:t}),body:On("enterpriseDeleteModal.deleteSupertabWarning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel",variant:a?"outline":void 0},{label:On("global.delete"),type:"primary",id:"Delete",variant:a?"submit":void 0}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Delete"===(await ja({options:r,content:n})).data.actionName},Zo=async({identity:e,title:t,description:a})=>{const{windowOptions:n,content:o}=await(async(e,t,a)=>({title:"Update Version",windowOptions:{url:await ne()+K.ResponseModal,name:me.UpdateVersionModal,defaultHeight:172,defaultWidth:464,modalParentIdentity:e,preventBlur:!0,closeOnResponse:!0,includeInSnapshots:!1},content:{title:t,body:a,buttons:{right:[{label:"Snooze",type:"secondary",id:"snooze"},{label:"Restart",type:"primary",id:"restart"}]}}}))(e,t,a),r=fin.Window.wrapSync({uuid:e.uuid,name:`${n.name}--${n.modalParentIdentity?.name}`});try{if(await(r?.isShowing()))return}catch(e){}const i=await Le(n,n.modalParentIdentity),s={...n,top:i.top,left:i.left};return(await ja({options:s,content:o})).data};async function qo({options:e,...t}){if(!(!!e?.skipPrompt||await Ho(e?.promptContainerWindowIdentity,t.title,e?.shouldCenterModalOnMonitor)))return!1;const a=!!(await fin.Application.getCurrentSync().getChildWindows()).find((({identity:e})=>e.name===me.DockCompanion||e.name===le));Kn();const n=a||Kn()?{closeExistingWindows:!1,closeSnapshotWindows:!0}:{closeExistingWindows:e?.applySnapshotOptions?.closeExistingWindows??!0},o=bn();return await o.applySnapshot(t.snapshot,{...e?.applySnapshotOptions??{},...n}),Yo(t),_o("success",On("successIndicator.workspaceSwitched")).catch(console.warn),!0}async function jo(e){try{return await qo(e)}catch(e){return console.error("failed to apply the current workspace: ",e),!1}}async function Qo(e){try{const t=await async function(){const e=bn(),t=await e.getCurrentWorkspace({skipSnapshotUpdate:!0});return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();if(!t)return"not-saved-workspace";return!!e?.skipPrompt||await Ko(e?.promptContainerWindowIdentity)?(await qo({options:{skipPrompt:!0,applySnapshotOptions:e?.applySnapshotOptions},...t}),"success"):"user-declined"}catch(e){throw console.error("failed to restore last saved workspace: ",e),e}}function Yo(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);Mt(Wt.CurrentWorkspaceId,t)}catch(e){console.error("failed to set the active workspace: ",e)}}async function Xo(){const e=bn(),t=await e.getSnapshot();return{workspaceId:ia(),title:await nr(),metadata:{APIVersion:O},snapshot:t}}async function er(e){if("undefined"==typeof localStorage)return Xo();const t=xt(Wt.CurrentWorkspaceId);if(!t)return Xo();const a=JSON.parse(t);if(e?.skipSnapshotUpdate)return a;const n=bn(),o=await n.getSnapshot();return{...a,metadata:{APIVersion:O},snapshot:o}}const tr=async()=>(await st(ye)).dispatch(ot.GetSavedWorkspaces,void 0),ar=async e=>await(async e=>(await st(ye)).dispatch(ot.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await st(ye)).dispatch(ot.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await st(ye)).dispatch(ot.CreateSavedWorkspace,e))({workspace:e});async function nr(e="Untitled Workspace"){const t=(await tr()).map((({title:e})=>e));return eo(e,t)}const or=e=>({...e,snapshot:{...e.snapshot,windows:e.snapshot.windows.map((e=>({...e,workspacePlatform:{...e.workspacePlatform,pages:e.workspacePlatform?.pages?.map((e=>({...e,hasUnsavedChanges:!1})))}})))}}),rr=async(e,t)=>{const a=t??bn();await a.Storage.saveWorkspace(or(e)),await(async()=>(await st(ye)).dispatch(ot.MarkUnsavedPagesAsSavedInternal,void 0))()},ir=async e=>{const t=bn(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspacesMetadata(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))await rr(a,t),await t.setActiveWorkspace(a),await Uo(On("successIndicator.workspaceSaved"),e);else{const a=t.Browser.wrapSync(e);await a._openSaveModal({menuType:I.SAVE_WORKSPACE})}},sr=e=>{bn().Browser.wrapSync(e)._openSaveModal({menuType:I.SAVE_WORKSPACE_AS})},cr=async e=>{const t=bn().Browser.wrapSync(e),{newPageUrl:a}=await Oo(),n=await Go(e),o=a||void 0;await t._addDefaultPage({identity:e,page:n,newPageUrl:o})},lr=async(e,t)=>{const a=bn().Browser.wrapSync(e),n=await bn().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId)),i=await Ht(e);if(r)try{await bn().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0,layout:xn(d.layout)})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Uo(On(i?"enterpriseSuccessIndicator.supertabSaved":"successIndicator.pageSaved"),e,On(i?"enterpriseSuccessIndicator.supertabHasBeenSaved":"successIndicator.pageHasBeenSaved",{title:o.title}))}catch{s=On("errorIndicator.pageSaveFailed"),c=o.parentIdentity.name,_o("error",s,c,l)}else a._openSaveModal({id:o.pageId,menuType:I.SAVE_PAGE});var s,c,l,d},dr=async(e,t)=>{const a=bn().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:I.SAVE_PAGE_AS}),Xt({type:"Page Modal",action:"Select Save As",value:n.title,skipValueHashing:!0})},ur={title:"Downloads",pageId:"downloads-page-id",layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{name:"show-download-view",url:"chrome://downloads/"}}]}]}},pr=async e=>{const t=fe(e),a=await t.getCurrentViews(),n=(await bn().Browser.wrapSync(t.identity).getPages()).find((e=>e.isActive));try{const t=(await Promise.all(a.map((async e=>({identity:e.identity,info:await fin.View.wrapSync(e.identity).getInfo()}))))).find((e=>"chrome://downloads/"===e.info.url));if(t)await fin.View.wrapSync(t.identity).focus();else{const t=bn();if(n?.isLocked){const e=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>"show-download-window"===e.identity.name));return void(e?await e.focus():t.Browser.createWindow({name:"show-download-window",workspacePlatform:{pages:[ur]}}))}(await bn().createView({name:"show-download-view",url:"chrome://downloads/",target:e},e)).focus()}}catch(e){console.error("Couldn't open downloads view",e)}},wr=async e=>{const t=e.map((e=>fin.View.wrapSync(e).print()));await Promise.all(t)},gr=e=>{const[t,a,n]=e.split(".").map((e=>"x"===e?0:1));return 100*t+10*a+1*n};class hr extends Error{}const mr=async e=>{try{const a=await async function(){const e=await Y(),t=e?.translationOverridesUrl??"https://workspace.openfin.co/workspace/assets/translation-override.json";if(""===t)throw new hr("Empty string provided as url to translationOverridesUrl, overrides will not be fetched.");return await fetch(t).then((e=>e.json()))}();(t=(e=>{const t=O.split(".");return Object.keys(e).filter((e=>{const a=e.split(".");if(3!==a.length)return console.warn(`Encountered a translation override version string in an unsupported format: ${e}. Versions must be in A.B.C format where A, B, C are either integers or the wildcard symbol 'x'.`),!1;const[n,o,r]=a;return!(n!==t[0]&&"x"!==n||o!==t[1]&&"x"!==o||r!==t[2]&&"x"!==r)}))})(a),[...t].sort(((e,t)=>gr(e)-gr(t)))).forEach((t=>{const n=a[t];Object.keys(n).forEach((t=>{e.addResourceBundle(t,"translation",n[t],!0,!0)}))}))}catch(e){e instanceof hr?console.warn(e.message):console.error("Error applying a translation override: ",e)}var t};function kr(){return Rn().language}const br=async e=>{Sr(e),(e=>{Rn().changeLanguage(e)})(e),await(async e=>{const t=await Me();return Promise.all(t.map((async t=>{const a=await Ca(t.identity);await a.dispatch(Ta.SetSelectedLanguage,e)})))})(e)};function fr(){if(!Rn().options.resources)throw new Error("No language resources found");return{currentLanguage:kr(),resources:Rn().options.resources}}async function yr(e="en-US"){Sr(e),function(e="en-US"){Rn().use(Tn.initReactI18next).init({lng:e,fallbackLng:"en-US",resources:{"en-US":{translation:Vn},"ja-JP":{translation:Ln},"zh-CN":{translation:En},"ko-KR":{translation:_n},"ru-RU":{translation:Un},"de-DE":{translation:Nn},"zh-Hant":{translation:Fn}},interpolation:{escapeValue:!1}})}(e),await mr(Rn())}function Sr(e){if(!x.includes(e))throw new Error(`The ISO language provided ${e} is not supported`)}const vr=new Map;let Pr=Date.now();function Cr(){const e=Date.now();return Pr=Math.max(e,Pr+1),Pr}async function Mr(){const e=Array.from(vr.values()).sort(((e,t)=>t.lastFocusedTime-e.lastFocusedTime));if(e.length>0)return e[0].identity;try{const e=xt(Wt.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await Ie(t))return await Ar(t),t}catch(e){console.error("failed to get last focused browser window from localStorage:",e)}}async function xr(){const e=fin.Application.getCurrentSync();return(await e.getChildWindows()).filter((e=>e.identity.name.startsWith(me.BrowserWindow)))}async function Ir(){const e=bn(),t=fin.Window.wrapSync({uuid:fin.me.uuid,name:me.DockCompanion}),a=await De(await t.getBounds()),n=await async function(e,t,a){const n=await fin.System.getMonitorInfo(),o=a?.availableRect??n.primaryMonitor.availableRect,r={width:o.right-o.left,height:o.bottom-o.top},i=Math.min(e,r.height),s=Math.min(t,r.width),c=o.top+Math.floor((r.height-i)/2);return{height:i,width:s,left:o.left+Math.floor((r.width-s)/2),top:c}}(600,900,a),o=await Go();return(await e.Browser.createWindow({defaultHeight:600,defaultWidth:900,defaultLeft:n.left,defaultTop:n.top,workspacePlatform:{pages:[o]}})).identity}async function Ar(e,t,a=!1){if(!await Ce(e))return;const n=fin.Window.wrapSync(e),o=t??await n.isShowing(),r=vr.get(e.name),i={identity:e,lastFocusedTime:a?Cr():r?.lastFocusedTime??Cr(),isVisible:o};vr.set(e.name,i),a&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);Mt(Wt.LastFocusedBrowserWindow,t)}catch(e){console.error("failed to save last focused browser window: ",e)}}(e)}async function Wr(e=fin.me.identity){vr.delete(e.name)}const Dr=ra()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===me.BrowserMenu||n.identity.name===me.BrowserSaveMenu?t=n:await Ce(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});let Tr={};const Br=async({actionId:e,payload:t})=>{if("function"!=typeof Tr[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return Tr[e](t)};let Rr;const Er=()=>`custom-context-menu-${bn().identity.uuid}-${O}`,Fr=()=>`custom-bookmark-context-menu-${bn().identity.uuid}-${O}`,Vr=async()=>(Rr||(Rr=await fin.InterApplicationBus.Channel.connect(Er())),Rr);var Nr,Lr;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(Nr||(Nr={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu",e.ZoomControls="zoom-controls"}(Lr||(Lr={}));const _r=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),Ur="visited-sites",Or="removed-tab-stack",Gr=T&&W&&Bt("openfin-home-pages","pages"),Hr=T&&W&&new vt.Dexie(Dt("openfin-enterprise-site-history"));Hr&&Hr.version(.1).stores({[Ur]:"id, url"});const $r=T&&W&&new vt.Dexie(Dt("openfin-enterprise-tab-history"));async function zr(e){if(!Gr)throw new Error("Unable to get page - IndexDB not supported");const t=await Gr.pages.get(e);if(t)return t.pageId=e.toString(),t.title=t.title||t.pageId,t}async function Kr(e){if(!Gr)throw new Error("Unable to get page list - IndexDB not supported");const t=await Gr.pages.toCollection().keys(),a=(await Promise.all(t.map((e=>zr(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>_r(t.title,e))):a}async function Jr({page:e}){if(!Gr)throw new Error("Unable to create page - IndexDB not supported");await Gr.pages.put(e,e.pageId)}async function Zr(e){if(!Gr)throw new Error("Unable to delete page - IndexDB not supported");await Gr.pages.delete(e)}async function qr({pageId:e,page:t}){if(!Gr)throw new Error("Unable to update page - IndexDB not supported");if(void 0===await zr(e))throw new Error("page not found");await Jr({page:t}),e!==t.pageId&&await Zr(e)}$r&&$r.version(.1).stores({[Or]:""});const jr=async e=>{if(!$r)throw new Error("Unable to add removed tab - IndexDB not supported");const t=Date.now().toString(),a={...e,id:t};await $r[Or].put(a,t)};function Qr(e){return"app"===e.type||"website"===e.type}const Yr=async e=>{if("website"===e.type){const t=e,a=t.url||"";let n=await Hr[Ur].get(a);n&&Qr(n)?(n.icon=t.icon,n.title=t.title,n.type=t.type,n.visitCount=(n.visitCount||0)+1,n.url=t.url):n={...t,id:a,visitCount:1,accessTime:void 0},n.accessTime=Date.now(),await Hr[Ur].put(n,a)}},Xr=async()=>{if(!Hr)throw new Error("Unable to get frequently visited sites - IndexDB not supported");const e=Hr[Ur],t=await e.toCollection().toArray();t.sort(((e,t)=>(t.visitCount||0)-(e.visitCount||0)));return(t.length>5?t.slice(0,5):t).map((({id:e,...t})=>t))};const ei=async()=>(await fin.System.getHostSpecs()).name.toLowerCase().includes("windows"),ti=async({browserIdentity:e,url:t,shiftKey:a,activePage:n,pages:o})=>{const r=bn().Browser.wrapSync(e),i=await An(t,t,e),s={...await wa(t,i),attachedPageType:"singleView",singleViewName:t},c=o.findIndex((e=>e.pageId===n.pageId));await r._addPage(s,{index:c+1}),a&&await r.setActivePage(s.pageId)},ai=async e=>{const{url:t}=e.bookmark,{sourceIdentity:a,sourceEvent:n}=e,o=await ei(),r=bn();let i=!1,s=a;if(!await Ce(a)){const t=await async function(){const e=Array.from(vr.values());for(let t=e.length-1;t>=0;t--)if(e[t].isVisible)return e[t].identity}();if(!t)return await(async e=>{const t=bn(),a=await An(e.url,e.url),n=await wa(e.url,a);Pe((await t.Browser.createWindow({workspacePlatform:{pages:[n]}})).identity)})(e.bookmark);i=!0,s=t}const c=r.Browser.wrapSync(s),l=await c.getPages(),d=(await c._getLayoutsWithSelectedViews()).find((e=>e.isActive));if(!d)throw Error(`Browser ${s} does not have any active layouts`);const u=l.find((e=>e.isActive)),p=1===Dn(u.layout.content),w=d.selectedViews[0];i?await ti({browserIdentity:s,url:t,shiftKey:!0,activePage:u,pages:l}):p?await(async({isWindows:e,currentViewId:t,browserIdentity:a,url:n,activePage:o,pages:r,sourceEvent:i})=>{const{ctrlKey:s,metaKey:c,shiftKey:l}=i;(e?s:c)?await ti({browserIdentity:a,url:n,shiftKey:l,activePage:o,pages:r}):await fin.View.wrapSync(t).navigate(n)})({isWindows:o,currentViewId:w,browserIdentity:s,url:t,activePage:u,pages:l,sourceEvent:n}):await(async({isWindows:e,currentViewId:t,browserIdentity:a,url:n,activeLayout:o,sourceEvent:r})=>{const{ctrlKey:i,metaKey:s,shiftKey:c}=r;if(e?i:s){const e=fin.View.wrapSync(t),o=await e.getCurrentStack(),r=(await o.getViews()).findIndex((e=>e.name===t.name)),i={url:n,browserIdentity:a,title:n};await o.addView(i,{index:r+1})}else await fin.View.wrapSync(o.selectedViews[0]).navigate(n)})({isWindows:o,currentViewId:w,browserIdentity:s,url:t,activeLayout:d,sourceEvent:n})};var ni;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(ni||(ni={}));let oi={locked:!1,x:-1,y:-1};const ri=async(e,t,a,n)=>{if(!W)throw new Error("showEnterpriseContextMenu can only be used in a Here env. Avoid calling this method during pre-rendering.");if(!n&&!fin.me.isWindow)throw new Error("showEnterpriseContextMenu can only be used in a Here window.");const{x:o,y:r,template:i}=e;if(((e,t)=>{const{x:a,y:n,locked:o}=oi;return o&&e===a&&t===n})(o,r))return new Promise(((e,t)=>e({data:void 0})));oi={locked:!0,x:o,y:r};const s=await Vr(),c=ia(),l=new Promise(((e,t)=>{s.register(`response-${c}`,(t=>{oi.locked=!1,s.remove(`response-${c}`),e(t)}))}));return await s.dispatch("open",{parentIdentity:n.identity,responseIdentity:ye,requestId:c,type:t,anchorBehavior:a,x:o,y:r,payload:{template:i}}),l},ii={type:ni.Separator,data:void 0},si=async()=>({type:ni.Submenu,label:On("contextMenu.print"),submenu:[{type:ni.Label,label:On("contextMenu.submenu.print"),data:{type:S.Print}},{type:ni.Label,label:On("contextMenu.submenu.printAll"),data:{type:S.PrintAll}},ii,{type:ni.Label,label:On("contextMenu.printScreen"),data:{type:S.PrintScreen}}]}),ci=()=>({type:ni.Label,label:On("contextMenu.closeWindow"),data:{type:m.CloseWindow}}),li=e=>({type:ni.Label,label:On(e?"contextMenu.quitEnterpriseBrowser":"contextMenu.quitPlatform"),data:{type:m.Quit}}),di=()=>({type:ni.Label,label:On("contextMenu.newWindow"),data:{type:m.NewWindow}}),ui=e=>({type:ni.Label,label:On(e?"enterpriseContextMenu.saveSupertab":"contextMenu.savePage"),data:{type:m.SavePage}}),pi=e=>({type:ni.Label,label:On(e?"enterpriseContextMenu.saveSupertabAs":"contextMenu.savePageAs"),data:{type:m.SavePageAs}}),wi=(e,t)=>({type:ni.Label,label:On(t?"enterpriseContextMenu.newTab":"contextMenu.newPage"),data:{type:m.NewPage},enabled:e}),gi=()=>({label:On("contextMenu.switchWorkspace")}),hi=()=>({label:On("contextMenu.deleteWorkspace")}),mi=()=>({label:On("contextMenu.appearance")}),ki=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:ni.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),bi=async()=>{const e=await bn().Theme.getSelectedScheme();return[{label:On("theme.light"),type:ni.Checkbox,checked:e===k.Light,data:{type:m.Appearance,scheme:k.Light}},{label:On("theme.dark"),type:ni.Checkbox,checked:e===k.Dark,data:{type:m.Appearance,scheme:k.Dark}},{label:On("theme.system"),type:ni.Checkbox,checked:e===k.System,data:{type:m.Appearance,scheme:k.System}}]},fi=async(e,t=[])=>{const a=await Ae(),{newPageUrl:n}=await Oo(e),o=await(async e=>{const t=fe(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),r=await(async e=>{const t=fe(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),i=await Ht(e),s=[],c=t.length>0;n&&(s.push(di()),o||s.push(wi(!r,i))),s.push(ii);const l=bn(),d=await l.getCurrentWorkspace({skipSnapshotUpdate:!0}),u=await l.Storage.getWorkspacesMetadata(),p=u.find((e=>e.workspaceId===d.workspaceId));s.push({type:ni.Label,label:On("contextMenu.restore"),data:{type:m.RestoreChanges},enabled:!!p}),s.push({type:ni.Label,label:On("contextMenu.saveWorkspace"),data:{type:m.SaveWorkspace},enabled:!!p}),s.push({type:ni.Label,label:On("contextMenu.saveWorkspaceAs"),data:{type:m.SaveWorkspaceAs}}),s.push({type:ni.Label,label:On("contextMenu.renameWorkspace"),data:{type:m.RenameWorkspace},enabled:!!p}),u.some((e=>e.workspaceId!==d.workspaceId))?s.push({label:gi().label,submenu:ki(d,u,m.SwitchWorkspace),data:void 0},{label:hi().label,submenu:ki(d,u,m.DeleteWorkspace),data:void 0}):s.push({label:gi().label,enabled:!1,data:void 0},{label:hi().label,enabled:!1,data:void 0}),s.push({label:On("contextMenu.downloads"),data:{type:m.Downloads}});const w=await l.Theme.getThemes();return(w&&w[0]&&"palettes"in w[0]||!w[0]||0===w.length)&&s.push({label:mi().label,submenu:await bi(),data:void 0}),s.push(ii,ui(i),pi(i),await(async e=>{const t=await ei();return{label:On("contextMenu.print"),submenu:[{type:ni.Label,label:On("contextMenu.submenu.print"),data:{type:m.Print},enabled:e},{type:ni.Label,label:On("contextMenu.submenu.printAll"),data:{type:m.PrintAll}},...t?[ii,{type:ni.Label,label:On("contextMenu.printScreen"),data:{type:m.PrintScreen}}]:[]],data:void 0}})(c)),a?[...s,ci(),ii,{type:ni.Label,label:On("contextMenu.openStorefront"),data:{type:m.OpenStorefront}},ii,li()]:[...s,ii,ci(),ii,li()]},yi=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Oo(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{url:t,target:e,title:"New Tab"}})(e);await bn().createView(o,e,n.identity)},Si=async(e,t)=>{const a=bn().Browser.wrapSync(e),n=(await a.getPages()).find((e=>e.isActive)),o=await fin.Window.wrapSync(e).getCurrentViews();if(t.length===o.length-(n.panels??[]).length){return void(await Ca(e)).dispatch(Ta.ClosePage,{pageId:n?.pageId})}const r=fin.Platform.getCurrentSync();t.forEach((async t=>{const o=await fin.View.wrapSync(t).getParentLayout();await r.closeView(t);const{hasUnsavedChanges:i}=await(async e=>(await ct(ye)).dispatch(ot.HandlePageChanges,e))({page:{...n,layout:await o.getConfig()},identity:e,eventDetails:{type:h.ViewRemoved,viewIdentity:t}});i&&await a.updatePage({pageId:n.pageId,page:{hasUnsavedChanges:!0}})}))},vi=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Oo(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},Pi=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await bn().createView(n,e,t.identity)})(e,a)}))},Ci=async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Ca(e)).dispatch(Ta.AddToChannel,n)},Mi=async(e,t)=>{(await Ca(e)).dispatch(Ta.RemoveFromChannel,t)},xi=async(e,t)=>{if(!e)return;const a=t.identity,n=fin.Window.wrapSync(a);switch(Xt({type:"View Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e.type){case S.Back:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateBack()));await Promise.all(t)})(t.selectedViews);break;case S.Forward:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateForward()));await Promise.all(t)})(t.selectedViews);break;case S.Print:await wr(t.selectedViews);break;case S.PrintAll:await n.print({content:"views",includeSelf:!1});break;case S.PrintScreen:await n.print({content:"screenshot"});break;case S.CloseViews:await Si(a,t.selectedViews);break;case S.OpenWithDefaultBrowser:await vi(a,t.selectedViews);break;case S.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case S.NewView:await yi(a,t);break;case S.DuplicateViews:Pi(a,t.selectedViews);break;case S.AddToChannel:Ci(a,e.option,t.selectedViews);break;case S.RemoveFromChannel:Mi(a,t.selectedViews);break;case S.Custom:if(e.action){const n={callerType:M.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,n)}}},Ii=(__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js"),new Map([["blue",{name:"Blue",color:"#0091EB"}],["indigo",{name:"Indigo",color:"#6450FF"}],["pink",{name:"Pink",color:"#E878CF"}],["teal",{name:"Teal",color:"#24D1D1"}],["green",{name:"Green",color:"#00AF78"}],["orange",{name:"Orange",color:"#FF7D37"}],["red",{name:"Red",color:"#F94144"}],["yellow",{name:"Yellow",color:"#F9C74F"}],["gray",{name:"Gray",color:"#828788"}]]));function Ai(){return{type:ni.Label,label:On("contextMenu.manageDesktopSignals"),data:{type:b.ManageDesktopSignals}}}function Wi(e){const t=Array.from(Ii.entries()),a=e.contextGroup;return{type:"widget",config:{type:"add-to-channel",channels:[...t.map((([e,t])=>({label:t.name,data:{type:b.AddToChannel,option:e},color:t.color,checked:a===e}))),{label:"unlink",data:{type:b.AddToChannel,option:"unlink"},isNone:!0}]},label:"Link to Channel"}}let Di="Platform";const Ti=async()=>Di;const Bi=async(e,t)=>{if(!e)return;const a=t.identity,n=await Ca(a),o=bn().Browser.wrapSync(a),r=fin.Window.wrapSync(a);if(Xt({type:"Global Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0,data:{action:e.action?.id}}),await Ht(a)){const a=await(async(e,t)=>{const a=t.identity,n=bn().Browser.wrapSync(a),o=(await n.getPages()).find((e=>e.isActive)),r=ha({...a,layoutName:o.layoutContainerKey}),i=t.selectedViews;switch(e?.type){case f.Lock:await n.updatePage({pageId:o.pageId,page:{isLocked:!o.isLocked}});break;case f.AddToChanel:e.option?await Ci(a,e.option,i):null===e.option&&await Mi(a,i);break;case f.ManageDesktopSignals:await Xa(a);break;case m.NewWindow:{const e=await Go(a);await bn().Browser.createWindow({workspacePlatform:{pages:[e],windowType:"enterprise"}});break}case f.Pin:{const{alwaysOnTop:e}=await n.openfinWindow.getOptions();await n.openfinWindow.updateOptions({alwaysOnTop:!e});break}case f.ShowHideTabs:await r.isShowingTabs()?await r.hide():await r.show();break;default:return!1}return!0})(e,t);if(a)return}switch(e.type){case m.NewWindow:{const{newPageUrl:e}=await Oo(a);if(!e)throw new Error("Trying to create a new empty window without a newPageUrl set");bn().createView({target:void 0,url:e});break}case m.NewPage:await cr(a);break;case m.CloseWindow:n.dispatch(Ta.CloseBrowserWindow);break;case m.SaveWorkspace:await ir(a);break;case m.SavePage:await lr(a);break;case m.SavePageAs:await dr(a);break;case m.SaveWorkspaceAs:await sr(a);break;case m.RenameWorkspace:o._openSaveModal({menuType:I.RENAME_WORKSPACE});break;case m.SwitchWorkspace:await(async(e,t)=>{const a=bn(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));a.applyWorkspace(n,{skipPrompt:!1,promptContainerWindowIdentity:e})})(a,e);break;case m.DeleteWorkspace:await(async(e,t)=>{const a=bn(),n=(await a.Storage.getWorkspacesMetadata()).find((e=>e.workspaceId===t.workspaceId));n&&await $o(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Uo(On("successIndicator.workspaceDeleted"),e))})(a,e);break;case m.Downloads:await pr(a);break;case m.Appearance:await bn().Theme.setSelectedScheme(e.scheme);break;case m.Quit:{const e=Ti();await zo(a,await e)&&fin.Platform.getCurrentSync().quit()}break;case m.OpenStorefront:(async()=>{await Ae()&&Pe(ve)})();break;case m.RestoreChanges:await Qo();break;case m.Print:await wr(t.selectedViews);break;case m.PrintAll:await r.print({content:"views",includeSelf:!1});break;case m.PrintScreen:await r.print({content:"screenshot"});break;case m.Custom:if(e.action){const t={callerType:M.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,t)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}},Ri=async(e,t,a)=>{const n=bn().Browser.wrapSync(t.identity),o=fin.Window.wrapSync(t.identity),r=await Ca(t.identity),i=await Ht();switch(e&&Xt({type:"Page Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e?.type){case b.Save:await lr(t.identity,t.pageId);break;case b.SaveAs:await dr(t.identity,t.pageId);break;case b.NewPage:await cr(t.identity);break;case b.DeletePage:await(async(e,t)=>{const a=bn(),n=a.Browser.wrapSync(e),o=(await a.Storage.getPages()).find((e=>e.pageId===t));o&&await Jo(e,o.title)&&(await a.Storage.deletePage(o.pageId),await n.removePage(t),Uo(On("enterpriseSuccessIndicator.supertabDeleted"),e,On("enterpriseSuccessIndicator.supertabHasBeenDeleted",{title:o.title})))})(t.identity,t.pageId);break;case b.Rename:if(await Ht(t.identity)){await n.setActivePage(t.pageId);const e=await Vr();await e.dispatch("open",{parentIdentity:t.identity,responseIdentity:ye,type:Lr.RenameSupertab,anchorBehavior:Fi.Center,x:a.left+a.width/2-164,y:a.bottom-8,payload:{pageId:t.pageId}})}else await n._openSaveModal({menuType:I.RENAME_PAGE,id:t.pageId});break;case b.Duplicate:r.dispatch(Ta.DuplicatePage,t.pageId);break;case b.Close:i?await(async(e,t)=>{const a=bn().Browser.wrapSync(e),n=await a.getPages();for(const o of n)if(o.pageId===t){await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o});break}})(t.identity,t.pageId):r.dispatch(Ta.ClosePage,{pageId:t.pageId});break;case b.Custom:if(e.action){const a={callerType:M.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`);break;case b.Refresh:await(async(e,t)=>{const a=bn(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>t?e.pageId===t:e.isActive));o?.layout?.content&&In(o.layout.content).forEach((async e=>{(await fin.View.wrap({uuid:a.identity.uuid,name:e.name})).reload()}))})(t.identity,t.pageId);break;case b.CloseOthers:await(async(e,t)=>{const a=bn().Browser.wrapSync(e),n=await a.getPages();for(const o of n)o.pageId!==t&&(await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o}))})(t.identity,t.pageId);break;case b.SaveWorkspaceAs:await sr(t.identity);break;case b.Print:{const e=await n._getLayoutsWithSelectedViews(),{selectedViews:a}=e.find((e=>e.pageId===t.pageId));await wr(a);break}case b.PrintAll:await n.setActivePage(t.pageId),await o.print({content:"views",includeSelf:!1});break;case b.PrintScreen:await n.setActivePage(t.pageId),await o.print({content:"screenshot"});break;case b.AddToChannel:await n.updatePage({pageId:t.pageId,page:{contextGroup:"unlink"===e.option?null:e.option}});break;case b.ManageDesktopSignals:await Xa(t.identity)}},Ei=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case P.SavePage:await lr(a);break;case P.SaveWorkspace:await ir(a);break;case P.SavePageAs:await dr(a);break;case P.SaveWorkspaceAs:await sr(a);break;case P.Custom:if(e.action){const a={callerType:M.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}}};var Fi;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(Fi||(Fi={}));const Vi=async(e,t,a,n)=>{const{x:o,y:r,identity:i,template:s,callback:c}=e,l=await Ht(i),{data:d}=l?await ri({x:o,y:r,template:s},a,n,fin.Window.wrapSync(i)):await function(e,t){if(!W)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:o,y:r,template:s},fin.Window.wrapSync(i));c(d,e)};async function Ni(e,t){const a=ba(),n=await Ht(e.identity);n&&ya(a);const o=n?await(async({identity:e,selectedViews:t})=>{const a=bn(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>e.isActive)),r=await a.Storage.getPage(o.pageId),i=Dn(o.layout.content)>1,s=await Ht(e),c=await a.Theme.getThemes(),l=c[0]&&"palettes"in c[0]||!c[0]||0===c.length,d={...ui(s),enabled:!!r},u={...pi(s),enabled:i};return[di(),wi(!0,s),{type:ni.Separator},d,u,{type:ni.Separator},{type:ni.Label,label:On("contextMenu.manageDesktopSignals"),data:{type:m.ManageDesktopSignals}},{type:ni.Separator},...l?[{type:ni.Submenu,label:mi().label,submenu:await bi()}]:[],{type:ni.Separator},ci(),{type:ni.Separator},li(!0)]})({identity:e.identity,selectedViews:e.selectedViews}):await fi(e.identity,e.selectedViews),r=await Ti();n||(o.find((e=>e.data?.type===m.Quit)).label=`Quit ${r}`);const{rect:i,...s}=e,{x:c,y:l}=n?{x:i.left+i.width,y:i.bottom}:e,d={...s,x:c,y:l,template:o,callback:Bi};fa(a),await this.openGlobalContextMenu(d,t)}async function Li(e,t){const a={...e,callback:xi};await this.openViewTabContextMenu(a,t)}async function _i(e,t){const a=ba(),n=await Ht(e.identity);n&&ya(a);const o=await(async(e,t,a)=>{const n=await bn().Storage.getPage(e),o=(await to()).find((t=>t.pageId===e)),r=Dn(o.layout.content)>1,{workspacePlatform:i}=await fe(t).getOptions(),s=!(i.isLocked||i.preventPageClose||o.closeButton?.disabled||o.closeButton?.hidden),c=[{type:ni.Label,label:On("enterpriseContextMenu.newTab"),data:{type:b.NewPage}},ii,Wi(o),Ai(),ii,{type:ni.Label,label:On("reload"),data:{type:b.Refresh}},{type:ni.Label,label:On("enterpriseContextMenu.duplicate"),data:{type:b.Duplicate},enabled:!i.isLocked},await si(),ii,{type:ni.Label,label:On(r?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:b.Close},enabled:s}],l=[{type:ni.Label,label:On("enterpriseContextMenu.newTab"),data:{type:b.NewPage}},ii,Wi(o),Ai(),ii,{type:ni.Label,label:On("enterpriseSaveModal.renameSupertab"),data:{type:b.Rename},enabled:!i.isLocked&&!!n&&r},{type:ni.Label,label:On("enterpriseContextMenu.duplicate"),data:{type:b.Duplicate},enabled:!i.isLocked},ii,{type:ni.Label,label:On("enterpriseContextMenu.saveSupertab"),data:{type:b.Save},enabled:r&&!!n},{type:ni.Label,label:On("enterpriseContextMenu.saveSupertabAs"),data:{type:b.SaveAs},enabled:r},ii,{type:ni.Label,label:On("enterpriseContextMenu.deleteSupertab"),data:{type:b.DeletePage},enabled:!!n},ii,{type:ni.Label,label:On(r?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:b.Close},enabled:s}],d=[{type:ni.Label,label:On("contextMenu.savePage"),data:{type:b.Save},enabled:!0},{type:ni.Label,label:On("saveMenu.savePageAs"),data:{type:b.SaveAs},enabled:!0},{type:ni.Label,label:"Save Workspace As",data:{type:b.SaveWorkspaceAs}},{type:ni.Label,label:"Refresh",data:{type:b.Refresh}},ii,{type:ni.Label,label:On("saveModal.renamePage"),data:{type:b.Rename},enabled:!!n},{type:ni.Label,label:On("contextMenu.duplicatePage"),data:{type:b.Duplicate},enabled:!i.isLocked},ii,{type:ni.Label,label:On("saveModal.closePage"),data:{type:b.Close},enabled:s}];return a?r?l:c:d})(e.pageId,e.identity,n),r={...e,template:o,callback:(t,a)=>{Ri(t,a,e.rect)}};fa(a),await this.openPageTabContextMenu(r,t)}async function Ui(e,t){const a={...e,template:await(async()=>{const e=bn(),t=await e.getCurrentWorkspace({skipSnapshotUpdate:!0}),a=(await e.Storage.getWorkspacesMetadata()).find((e=>e.workspaceId===t.workspaceId));return[{type:ni.Label,label:On("contextMenu.saveWorkspace"),enabled:!!a,data:{type:P.SaveWorkspace}},{type:ni.Label,label:On("saveMenu.saveWorkspaceAs"),data:{type:P.SaveWorkspaceAs}},{type:ni.Separator,data:void 0},{type:ni.Label,label:On("contextMenu.savePage"),data:{type:P.SavePage}},{type:ni.Label,label:On("saveMenu.savePageAs"),data:{type:P.SavePageAs}}]})(),callback:Ei};await this.openSaveButtonContextMenu(a,t)}const Oi="dock-companion-updates",Gi=async()=>(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===me.DockCompanion)),Hi=Xe(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`),$i=async()=>{const e=bn(),t=await async function(){const e=await xr();await Promise.all(e.map((async e=>{await Ar(e.identity)})));const t=Array.from(vr.values()).sort(((e,t)=>t.lastFocusedTime-e.lastFocusedTime)),a=t.find((e=>e.isVisible));if(a){const e=fin.Window.wrapSync(a.identity);return await e.focus(),a.identity}const n=t[0];if(n){const e=fin.Window.wrapSync(n.identity);return await e.restore(),await e.focus(),n.identity}return Ir()}(),a=e.Browser.wrapSync(t),n=(await a.getPages()).at(-1),o=In(n.layout.content);if(1===o.length&&Kt(o[0].url))await a.setActivePage(n.pageId);else{const e=await Go(t),{newPageUrl:n}=await Oo();await a._addDefaultPage({identity:a.identity,page:e,newPageUrl:n||void 0})}(await Ca(t)).dispatch(Ta.FocusAndExpandSearchInternal)},zi="dock-provider-configs",Ki=T&&W&&new vt.Dexie(Dt("dock-provider-configs"));async function Ji(e){if(!Ki)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await Ki[zi].get(e)}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDb",e)}}async function Zi(e){if(!Ki)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await Ki[zi].put(e,e.id)}Ki&&Ki.version(.1).stores({[zi]:""});const qi="workspaces",ji=T&&W&&Bt("openfin-workspace-platform-workspaces",qi);async function Qi(e){if(!ji)throw new Error("Unable to get workspace - IndexDB not supported");const t=await ji[qi].get(e);return t&&(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId),t}async function Yi(e){if(!ji)throw new Error("Unable to get workspaces - IndexDB not supported");const t=await ji[qi].toCollection().keys(),a=(await Promise.all(t.map((e=>Qi(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>_r(t.title,e))):a}async function Xi({workspace:e}){if(!ji)throw new Error("Unable to create workspace - IndexDB not supported");const t=(await Yi()).find((t=>t.title===e.title));if(t&&t.workspaceId!==e.workspaceId)throw new Error(`Workspace with title '${e.title}' already exists.`);await ji[qi].put(e,e.workspaceId)}async function es(e){if(!ji)throw new Error("Unable to delete workspace - IndexDB not supported");await ji[qi].delete(e)}async function ts({workspaceId:e,workspace:t}){if(!ji)throw new Error("Unable to update workspace - IndexDB not supported");if(!await Qi(e))throw new Error("workspace not found");await Xi({workspace:t}),e!==t.workspaceId&&await es(e)}const as=e=>{const t=e.layout,a=t.content?In(t.content):[],n=a.length;return n>1?{...e,singleViewName:null}:1===n?{...e,singleViewName:a[0].name}:void 0},ns=async(e,t,a)=>{const n=await bn().Browser.getAllAttachedPages(),o=new Set(n.map((e=>e.title)).filter((e=>!!e))),r=new Set(n.map((e=>e.pageId)).filter((e=>!!e))),i=t?.defaultPageOptions,s="enterprise"===a?.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType,c=await(async(e,t,a)=>{if(a)return oe();const n=t?.workspacePlatform?.newTabUrl;if(n)return n;const o=e?.defaultWindowOptions?.workspacePlatform?.newTabUrl;return o||void 0})(t,a,s);return Promise.all(e.map((async e=>{if("reparent"===e.multiInstanceViewBehavior)return{...e,layoutContainerKey:ia()};((e,t)=>{e.pageId||=ia(),t.has(e.pageId)&&(console.warn("PageID collision detected. All Page IDs should be unique. A random new pageId will be generated"),e.pageId=ia()),t.add(e.pageId)})(e,r),s||(e.title=eo(e.title,Array.from(o.keys()))),o.add(e.title),e.panels?.reduce(((e,t)=>{const a=Object.values(g);if(!a.includes(t.position))throw new Error(`Encountered a panel with unsupported position "${t.position}". Supported positions are: ${a.toString()}`);if(1==e[t.position])throw new Error(`Found more than 1 panel at position: ${t.position}. Only 1 panel at a given position is currently supported.`);return{...e,[t.position]:e[t.position]+1}}),{[g.Left]:0,[g.Right]:0,[g.Top]:0,[g.Bottom]:0});const a="panels"in e?e.panels:i?.panels;let n=(l=e.layout,d=t?.defaultViewOptions,vn({...l},(e=>Pn(e,d))));var l,d;c&&!n?.settings?.newTabButton&&(n={...n,settings:{...n?.settings,newTabButton:{url:c}}});return{...i,...e,panels:a&&await Zn(a),layoutContainerKey:ia(),layout:n,isLayoutCreated:!1}})))},os=async(e,t)=>{try{await fin.Platform.getCurrentSync().createView({name:e,url:t,target:fin.me.identity,bounds:{top:0,left:0,width:0,height:0}},fin.me.identity)}catch(e){}},rs=e=>{const t=e.name===me.Home,a=e.name?.startsWith(me.HomeInternal),n=e.name?.startsWith(me.BrowserMenu)||e.name?.startsWith(me.BrowserSaveMenu);return!t&&!a&&!n};const is=e=>JSON.parse(JSON.stringify(e));async function ss(e){return e?"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==":(await Y()).displayViewTabDefaultIcon?"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==":"data:image/svg+xml,%3Csvg%20style%3D%22background-color%3A%237D808A%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%2010%2010%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M4.64648%200.874962C4.84174%200.6797%205.15833%200.6797%205.35359%200.874962L9.12482%204.6462C9.32009%204.84146%209.32009%205.15804%209.12482%205.3533L5.35359%209.12454C5.15833%209.3198%204.84174%209.3198%204.64648%209.12454L0.875245%205.3533C0.679982%205.15804%200.679982%204.84146%200.875245%204.6462L4.64648%200.874962ZM5.00003%201.93562L1.9359%204.99975L5.00003%208.06388L8.06416%204.99975L5.00003%201.93562Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E"}const cs={dimensions:{borderWidth:3,headerHeight:30}};async function ls(e,t,a){let n=e;const o="enterprise"===n.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType;if(n.layout&&!n.workspacePlatform?.pages?.length){const e=await bo(),a={...await wa(e,n.layout),isActive:!0};n.workspacePlatform||={},n.workspacePlatform.pages=await ns([a],t,n)}t?.browserIconSize&&(n.workspacePlatform||={},n.workspacePlatform.browserIconSize=t.browserIconSize);const r=a?.themes?.[0];if(n.workspacePlatform?.pages?.length){const e=await ns(n.workspacePlatform.pages,t,n),i=e,s=(e=>{if(!e)return;let t=e.find((e=>e.isActive));return!t&&e.length>0&&(e[0].isActive=!0,t=e[0]),t})(i);if(i.forEach((e=>{e.pageId!==s?.pageId&&(e.isActive=!1)})),await qn(i),n.workspacePlatform.pages=e,n=na({},await(async e=>({contextMenuOptions:{enabled:!1},experimental:{showFavicons:!0,defaultFaviconUrl:await ss(e)},viewVisibility:{showViewsOnSplitterDrag:{enabled:!0},showViewsOnWindowResize:{enabled:!0}}}))(o),t?.defaultWindowOptions,n,await(async e=>({backgroundThrottling:!0,url:await re(e,!0),contextMenu:!0,closeOnLastViewRemoved:!1,permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}}))(o)),s.layout=na(s.layout,cs),async function(e){if(e.icon||e.taskbarIcon){const t=fin.Application.getCurrentSync(),a=await(await t.getWindow()).getOptions();e.taskbarIconGroup||=a.taskbarIconGroup||fin.me.identity.uuid}if(e.workspacePlatform.icon)if("object"==typeof e.workspacePlatform.icon){const t=window.matchMedia("(prefers-color-scheme: dark)");e.icon=t.matches?e.workspacePlatform.icon.dark:e.workspacePlatform.icon.light}else e.icon=e.workspacePlatform.icon}(n),!n.backgroundColor&&r)if("palette"in r)n.backgroundColor=r?.palette?.background2||r?.palette?.backgroundPrimary;else{const e=a.selectedScheme===k.Dark||a.selectedScheme===k.System&&window.matchMedia("(prefers-color-scheme: dark)")?r?.palettes.dark:r?.palettes.light;n.backgroundColor=e?.background2||e?.backgroundPrimary}n=Te(n,!0);const c=await re(o,!0);if(c&&(n.url=c),n.layout=s.layout,n.layoutSnapshot=((e,t)=>({layouts:e.reduce(((e,a)=>{if(!a.isActive){if(!t)return e;if(!as(a).singleViewName)return e}return e[a.layoutContainerKey]=a.layout,e}),{}),pages:e}))(n.workspacePlatform.pages,o),n.workspacePlatform.windowType=n.workspacePlatform.windowType??C.Browser,o){const e=await oe();n.workspacePlatform.newPageUrl=e,n.workspacePlatform.newTabUrl=e,n.layout&&(n.layout.dimensions.borderWidth=4,n.layout.dimensions.headerHeight=28),n.name=n.name||`${me.BrowserWindow}-${ia()}`,(async e=>{const t=await ne(),a=me.BrowserAddressSearchPrefix+e.name,n=t+K.BrowserPopupMenuAddressSearchResultsView,o=[],r=os(a,n);o.push(r);const i=me.AICompanionPrefix+e.name,{url:s,enabled:c}=Jn();if(c){const e=os(i,s);o.push(e)}await Promise.all(o)})(n);const{enabled:t}=Jn();n.workspacePlatform.isAiEnabled=t,n.minWidth=Math.max(654,n.minWidth??0),n.minHeight=Math.max(488,n.minHeight??0)}else n.minWidth=Math.max(232,n.minWidth??0),function(e){const t=e.workspacePlatform?.viewTabDimensions,a=e.workspacePlatform?.pageTabDimensions,n=/^[0-9]+(px|%)$/;if(t){if(t.minWidth&&!n.test(t.minWidth))throw new Error(`Provided viewTabDimensions.min value "${t.minWidth}" is not in a supported format.`);if(t.maxWidth&&!n.test(t.maxWidth))throw new Error(`Provided viewTabDimensions.max value "${t.maxWidth}" is not in a supported format.`)}if(a){if(a.minWidth&&!n.test(a.minWidth))throw new Error(`Provided pageTabDimensions.min value "${a.minWidth}" is not in a supported format.`);if(a.maxWidth&&!n.test(a.maxWidth))throw new Error(`Provided pageTabDimensions.max value "${a.maxWidth}" is not in a supported format.`)}}(n)}return n.cornerRounding&&delete n.cornerRounding,n.name||n.layoutSnapshot?n.contextMenuOptions?.template?.length>0?n.contextMenuOptions.template=n.contextMenuOptions.template.filter((e=>"print"!==e)):n.contextMenuOptions={template:[],enabled:!1}:n.name=`${me.ClassicWindow}-${ia()}`,n.workspacePlatform&&a&&(n.workspacePlatform._themeData=a),n}const ds=async(e,t)=>{const a={uuid:t.uuid,name:t.name};await zo(a,e.title??await Ti(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()},us=async(e,t)=>{const a=bn(),n=await a.Browser.getLastFocusedWindow();if(!n)return;const o=a.Browser.wrapSync(n),{title:r,description:i}=e,s=await Zo({title:r,description:i,identity:o.identity});s&&o._sendUpdateVersionModalResponse({identity:t,response:s})};async function ps(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const ws=e=>{const t=is(e);return t._internalWorkspaceData?.browserNavigationButtons&&(t.workspacePlatform={...t.workspacePlatform,browserNavigationButtons:t._internalWorkspaceData.browserNavigationButtons},delete t._internalWorkspaceData.browserNavigationButtons),t},gs=e=>{const t=is(e);return t.workspacePlatform&&(t._internalWorkspaceData={...t._internalWorkspaceData,...t.workspacePlatform},delete t.workspacePlatform),t},hs={reload:[{keys:"Ctrl+R",preventDefault:!0}],back:[{keys:"Alt+Left",preventDefault:!0}],forward:[{keys:"Alt+Right",preventDefault:!0}]},ms={reload:[{keys:"Cmd+R",preventDefault:!0}],back:[{keys:"Cmd+[",preventDefault:!0},{keys:"Cmd+Left",preventDefault:!0}],forward:[{keys:"Cmd+]",preventDefault:!0},{keys:"Cmd+Right",preventDefault:!0}]},ks=async()=>await ei()?hs:ms,bs=(e,t)=>{const a=fin.View.wrapSync(e);if(!t)return;const n=e=>{(async(e,t,a)=>{if("keyDown"!==a.inputType)return;const n=await(async e=>{const t=await e.getCurrentWindow(),a=await t.getOptions(),n=a.workspacePlatform?.navigationButtons;return n.enabled&&!n.hotkeysDisabled})(e),o=await ei();if(n){if(t.reload){const n=a.ctrlKey&&!a.altKey&&!a.metaKey&&!a.shiftKey&&"r"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"r"===a.key;(o?n:r)&&t?.reload&&(e.reload(),Xt({type:"View",action:"Reload",value:e.identity.name}))}if(t.back){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"["===a.key;(o?n:r||i)&&t?.back&&(e.navigateBack(),Xt({type:"View",action:"Back",value:e.identity.name}))}if(t.forward){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"]"===a.key;(o?n:r||i)&&t?.forward&&(e.navigateForward(),Xt({type:"View",action:"Forward",value:e.identity.name}))}}})(a,t,e)};a.addListener("hotkey",n),a.once("destroyed",(()=>{a.removeListener("hotkey",n)}))},fs=(e,t)=>is(e).map((e=>("componentState"in e?e.componentState=t(e.componentState):"content"in e&&(e.content=fs(e.content,t)),e))),ys=e=>{if(e){const t=is(e);return t.content&&(t.content=fs(t.content,ws)),t}return e},Ss=e=>{if(e){const t=is(e);return t.content&&(t.content=fs(t.content,gs)),t}return e};async function vs({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case l.Snapshot:return a.applySnapshot(e.manifest);case l.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case l.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}let Ps;const Cs=()=>{if(!Ps){const e=Xe(`${"undefined"!=typeof fin&&fin.me.identity.uuid}-enterprise-app-directory`);Ps=e()}return Ps};async function Ms(e){if(!await Ht(e.identity))return[];return(await Cs()).dispatch(Ia.GetApps,e.req)}async function xs(e){if(!await Ht(e.identity))return[];return(await Cs()).dispatch(Ia.GetSearchProviders,e)}async function Is(e){return(await Cs()).dispatch(Ia.GetCuratedContent,e)}async function As(e){return(await Cs()).dispatch(Ia.GetRecentlyVisited,e)}async function Ws(e){const t=(await Me()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await Ca(e)).dispatch(Ta.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():ua()}let Ds=[];const Ts=()=>Ds;async function Bs(e){const t=e=>{if(!e.includes("#")&&!e.includes("rgb")&&!e.includes("hsl"))throw new Error("Background primary color is not the right format.")};e?.forEach((e=>{"palette"in e&&t(e.palette.backgroundPrimary),"palettes"in e&&(t(e.palettes.dark.backgroundPrimary),t(e.palettes.light.backgroundPrimary))}));const a=((e,t)=>{if(!e||!e[0]){const{dark:e,light:a}=wt[0].palettes;return cn.setPalettes({dark:e,light:a},t),wt}{const a=e[0];if("palette"in a){const{palette:n}=a,o={...pt,...n};return cn.setPalettes({dark:o,light:o},t),a.palette=o,e}if("palettes"in a){const{dark:n,light:o}=a.palettes,r={...pt,...n},i={...ut,...o};return cn.setPalettes({dark:r,light:i},t),a.palettes={dark:r,light:i},e}}})(e,await ei());Ds=a}const Rs=(e,t)=>a=>{const n=null!==e;return class extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e,analytics:{isSupported:!0}}),this.detachPagesFromWindow=po,this.getAllAttachedPages=to,this.getPagesForWindow=go,this.getPageForWindow=ho,this.markUnsavedPagesAsSavedInternal=Mo,this.launchApp=vs,this.savePage=co,this.saveWorkspace=ar,this.createSavedPageInternal=ro,this.updateSavedPageInternal=so,this.deleteSavedPageInternal=io,this.reorderPagesForWindow=mo,this.getUniquePageTitle=bo,this.updatePageForWindow=uo,this.getLastFocusedBrowserWindow=Mr,this.getThemes=Ts,this.invokeCustomActionInternal=Br,this.requestQuitPlatformDialogInternal=ds,this.getCurrentWorkspace=er,this.setActiveWorkspace=Yo,this.getLanguageResourcesInternal=fr,this.getPageByViewIdentity=async e=>{const t=await fin.Platform.Layout.getLayoutByViewIdentity(e),a=t.identity;if(!("layoutName"in a))throw new Error("Failed to get layout's identity");const n=await bn().Browser.wrapSync(t.identity).getPages(),o=n.findIndex((e=>e.layoutName===a.layoutName));if(-1===o)throw new Error("Failed to get page's index");return{windowIdentity:{name:t.identity.name,uuid:t.identity.uuid},page:n[o],pageIndex:o}},this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspacesMetadata=this.getSavedWorkspacesMetadata.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.getDockProviderConfig=this.getDockProviderConfig.bind(this),this.saveDockProviderConfig=this.saveDockProviderConfig.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.restoreLastSavedWorkspaceInternal=this.restoreLastSavedWorkspaceInternal.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this),this.getSelectedScheme=this.getSelectedScheme.bind(this),this.setSelectedScheme=this.setSelectedScheme.bind(this),this.analyticsInternal=this.analyticsInternal.bind(this),this.handleAnalytics=this.handleAnalytics.bind(this),this.getLanguage=this.getLanguage.bind(this),this.setLanguage=this.setLanguage.bind(this),this.handleSaveModalOnPageClose=this.handleSaveModalOnPageClose.bind(this),this.shouldPageClose=this.shouldPageClose.bind(this),this.shouldWindowClose=this.shouldWindowClose.bind(this),this.handlePagesAndWindowClose=this.handlePagesAndWindowClose.bind(this),this.setActivePage=this.setActivePage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.copyPage=this.copyPage.bind(this),this.addPage=this.addPage.bind(this),this.addDefaultPage=this.addDefaultPage.bind(this),this.markUnsavedPagesAsSavedInternal=this.markUnsavedPagesAsSavedInternal.bind(this),this.trackRemovedTabInternal=this.trackRemovedTabInternal.bind(this),this.restoreRemovedTabInternal=this.restoreRemovedTabInternal.bind(this),this.trackVisitedSiteInternal=this.trackVisitedSiteInternal.bind(this),this.getRecentlyVisitedSitesInternal=this.getRecentlyVisitedSitesInternal.bind(this),this.getFrequentlyVisitedSitesInternal=this.getFrequentlyVisitedSitesInternal.bind(this),this.searchSitesInternal=this.searchSitesInternal.bind(this),this.getSearchProvidersInternal=this.getSearchProvidersInternal.bind(this),this.getCuratedContentInternal=this.getCuratedContentInternal.bind(this),this.handleRequestNavigationInternal=this.handleRequestNavigationInternal.bind(this),this.refreshBookmarksInternal=this.refreshBookmarksInternal.bind(this),this.launchBookmarkInternal=this.launchBookmarkInternal.bind(this),this.getNotificationsConfig=this.getNotificationsConfig.bind(this),this.updateDockFavoritesInternal=this.updateDockFavoritesInternal.bind(this),this.updateContentMenuInternal=this.updateContentMenuInternal.bind(this),this.launchDockEntryInternal=this.launchDockEntryInternal.bind(this),this.setDockFavoritesOrderInternal=this.setDockFavoritesOrderInternal.bind(this),this.navigateContentMenuInternal=this.navigateContentMenuInternal.bind(this),this.setDefaultDockButtonsOrderInternal=this.setDefaultDockButtonsOrderInternal.bind(this),this.getDockWorkspacesContextMenuInternal=this.getDockWorkspacesContextMenuInternal.bind(this),this.handleDockWorkspacesMenuResponseInternal=this.handleDockWorkspacesMenuResponseInternal.bind(this),this.removeDockFavoriteInternal=this.removeDockFavoriteInternal.bind(this),this.addDockFavoriteInternal=this.addDockFavoriteInternal.bind(this),this.focusAndExpandSearchInternal=this.focusAndExpandSearchInternal.bind(this),this.sendUpdateVersionModalResponseInternal=this.sendUpdateVersionModalResponseInternal.bind(this),this.requestQuitPlatformDialogInternal=ds.bind(this),this.showUpdateVersionModalInternal=us.bind(this)}async applyWorkspace(...e){return jo.apply(this,e)}async restoreLastSavedWorkspaceInternal(...e){return Qo.apply(this,e)}async getSnapshot(){const e=n?await Ws((async()=>ua(await super.getSnapshot(void 0,fin.me.identity)))):await ua(await super.getSnapshot(void 0,fin.me.identity));let t={...e,windows:e.windows.filter(rs).map(da)};return t=(e=>{const t=is(e);return t.windows.forEach((e=>{e.layout&&(e.layout=ys(e.layout)),e.workspacePlatform?.pages?.forEach((e=>{e?.layout&&(e.layout=ys(e.layout))}))})),t})(t),t}async getViewSnapshot(e){let t=await super.getViewSnapshot(e);return t=ws(t),t}async applySnapshot({snapshot:e,options:t}){let a=e;"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity));const o=function(e){for(const t of e.windows)if(t.workspacePlatform?.pages?.length)return!0;return!1}(a);if(!n&&o)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return a=(e=>{const t=is(e);return t.windows.forEach((e=>{e.layout=Ss(e.layout),e.workspacePlatform?.pages?.forEach((e=>{e.layout=Ss(e.layout)}))})),t})(a),super.applySnapshot({snapshot:a,options:t})}async createWindow(t,a){if(n&&"tearout"===t.reason){const e=await fin.Window.wrapSync(a).getOptions(),n=e.workspacePlatform?.windowType;t.taskbarIconGroup=e.taskbarIconGroup,n&&(t.workspacePlatform||={},t.workspacePlatform.windowType=e.workspacePlatform.windowType,n===C.Platform&&(t.url=e.url))}if(!n||t.workspacePlatform?.windowType===C.Platform){const e=await super.createWindow(t,a);return Xt({type:"Window",action:"Open Window",value:e.identity.name,data:{uuid:e.identity.uuid}}),e}var o;o={allowed:!0},qt||(qt=!0,Zt(Jt.Browser,o)),((e=[])=>{const t=e.filter((e=>e.type!==v.Custom)),a=new Set,n=[];for(const e of t)a.has(e.type)&&n.push(e.type),a.add(e.type);if(n.length>0){const e=n.join(", ");throw new Error(`Encountered a duplicate "${e}" toolbar button. No more than one instance of a button type may be provided.`)}})(t.workspacePlatform?.toolbarOptions?.buttons);let r=(e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e))(t);r=await ls(r,e,{themes:Ts(),selectedScheme:this.getSelectedScheme()}),r=await(async e=>{const t=await fin.System.getMonitorInfo();let a=t.primaryMonitor;const n=e.defaultLeft,o=e.defaultTop;t.nonPrimaryMonitors.forEach((e=>{const{top:t,bottom:r,left:i,right:s}=e.availableRect;n>=i&&n<=s&&o>=t&&o<=r&&(a=e)}));const r=a.availableRect.bottom-a.availableRect.top,i=a.availableRect.right-a.availableRect.left;return e.defaultHeight=Math.min(e.defaultHeight||800,r),e.defaultWidth=Math.min(e.defaultWidth||800,i),e})(r);const i=await(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener("show-requested",(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(((e,t)=>super.createWindow(e,t)))(r,a);return Xt({type:"Window",action:"Open Window",value:i.identity.name,data:{uuid:i.identity.uuid}}),i}async createView(t,a){t.opts=yn(t.opts,e?.defaultViewOptions),t.opts=await ps(t.opts,this.fetchManifest,a),t.opts=await(async e=>{const t=is(e),a=t.workspacePlatform?.browserNavigationButtons;if(a){const e=Object.keys(a);for(const n of e)if(a[n]){const e=(await ks())[n];t.hotkeys?t.hotkeys.push(...e):t.hotkeys=[...e]}}return t})(t.opts),t.opts=gs(t.opts);const n=await super.createView(t,a);return bs(n.identity,t.opts._internalWorkspaceData?.browserNavigationButtons),n}async replaceView(t,a){return t.opts.newView=await yn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await ps(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return await Ht(t)||delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async getSavedPage(...e){return zr.apply(this,e)}async getSavedPages(...e){return Kr.apply(this,e)}async createSavedPage(...e){return Jr.apply(this,e)}async deleteSavedPage(...e){return Zr.apply(this,e)}async updateSavedPage(...e){return qr.apply(this,e)}async getSavedWorkspace(...e){return Qi.apply(this,e)}async getSavedWorkspaces(...e){return Yi.apply(this,e)}async getSavedWorkspacesMetadata(...e){return(await this.getSavedWorkspaces(...e)).map((e=>({workspaceId:e.workspaceId,title:e.title})))}async createSavedWorkspace(...e){return Xi.apply(this,e)}async deleteSavedWorkspace(...e){return es.apply(this,e)}async updateSavedWorkspace(...e){return ts.apply(this,e)}async getDockProviderConfig(...e){return Ji.apply(this,e)}async saveDockProviderConfig(...e){return Zi.apply(this,e)}async attachPagesToWindow(t){const a=await ns(t.pages,e);await qn(a),await lo({...t,pages:a})}async addPage(e){const t=await Ht(e.identity),a=await ct(e.identity),{page:n,insertionIndex:o}=e;n?.title||t||(n.title=await a.dispatch(ot.GetUniquePageTitle,void 0));const r=(await this.getAllAttachedPages()).find((e=>e.pageId===n.pageId||e.title===n.title));if(r){if(r.pageId===n.pageId)throw new Error(`page with id ${n.pageId} is already attached to a browser window ${r.parentIdentity.name}`);if(!t)throw new Error(`addPage title collision, page with title ${n.title} already exists, conflicting page id: ${r.pageId} with title ${r.title}`)}const i={identity:e.identity,pages:[{...n,multiInstanceViewBehavior:e.multiInstanceViewBehavior||"duplicate"}],insertionIndex:o};await this.attachPagesToWindow(i)}async addDefaultPage(e){await this.addPage(e),await this.setActivePage({identity:e.identity,pageId:e.page.pageId})}async setActivePage(...e){return wo.apply(this,e)}async openGlobalContextMenuInternal(...e){return Ni.apply(this,e)}async openGlobalContextMenu(...e){return Vi.apply(this,[...e,Lr.GlobalMenu,Fi.BottomRight])}async openViewTabContextMenuInternal(...e){return Li.apply(this,e)}async openViewTabContextMenu(...e){return Vi.apply(this,[...e,Lr.ContextMenu])}async openPageTabContextMenuInternal(...e){return _i.apply(this,e)}async openPageTabContextMenu(...e){return Vi.apply(this,[...e,Lr.ContextMenu])}async openSaveButtonContextMenu(...e){return Vi.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Ui.apply(this,e)}getSelectedScheme(...e){return mn.apply(this,e)}async setSelectedScheme(...e){return hn.apply(this,e)}async handlePageChanges(...e){return Co.apply(this,e)}async analyticsInternal(...e){return Fo.apply(this,e)}async handleAnalytics(...e){}async handleSaveModalOnPageClose(...e){return fo.apply(this,e)}async shouldPageClose(...e){return yo.apply(this,e)}async shouldWindowClose(...e){return So.apply(this,e)}handlePagesAndWindowClose(...e){return vo.apply(this,e)}async copyPage(...e){return Po.apply(this,e)}async getNotificationsConfig(){return t}async setLanguage(...e){return br.apply(this,e)}async getLanguage(){return kr.apply(this)}async trackRemovedTabInternal(...e){return jr.apply(this,e)}async restoreRemovedTabInternal(){const e=await(async()=>{if(!$r)throw new Error("Unable to pop last removed tab - IndexDB not supported");const e=$r[Or],t=await e.toCollection().keys();if(t.length>0){const a=Math.max(...t.map((e=>Number(e)))).toString(),n=await e.get(a);if(n){await e.delete(a);const{id:t,...o}=n;return o}}})();if("page"in e)if(await Ie(e.identity)){const t=bn().Browser.wrapSync(e.identity);await t.addPage(e.page),await t.setActivePage(e.page.pageId)}else bn().createWindow({name:e.identity.name,workspacePlatform:{pages:[e.page],windowType:C.Browser}});else(function(e){return"window"in e})(e)&&bn().createWindow({workspacePlatform:{pages:e.window.pages,windowType:C.Browser}})}async trackVisitedSiteInternal(...e){return Yr.apply(this,e)}async getRecentlyVisitedSitesInternal(...e){return await As.apply(this,e)}async getFrequentlyVisitedSitesInternal(...e){return Xr.apply(this,e)}async searchSitesInternal(...e){return await Ms.apply(this,e)}async getSearchProvidersInternal(...e){return await xs.apply(this,e)}async getCuratedContentInternal(...e){return await Is.apply(this,e)}async handleRequestNavigationInternal(...e){}async launchBookmarkInternal(e){return ai(e)}async refreshBookmarksInternal(){(await bn().Browser.getAllWindows()).forEach((async({identity:e})=>{(await Ca(e)).dispatch(Ta.RefreshBookmarksInternal)}));(await Pa(Fr())).dispatch(Ta.RefreshBookmarksInternal),await(async()=>{const e=await Gi();if(e){const t=await Ca(e.identity,Oi);await t.dispatch(Ta.RefreshBookmarksInternal)}})()}async updateDockFavoritesInternal(e){return(async e=>{const t=await Gi();if(!t)throw new Error("Companion Dock window not found");{const a=await Ca(t.identity,Oi);await a.dispatch(Wa.UpdateFavoriteEntries,e)}})(e)}async updateContentMenuInternal(e){return(async e=>{const t=await Gi();if(!t)throw new Error("Companion Dock window not found");{const a=await Ca(t.identity,Oi);await a.dispatch(Wa.UpdateContentMenu,e)}})(e)}async launchDockEntryInternal(e){return(async e=>(await Hi()).dispatch("launch-entry",e))(e)}async setDefaultDockButtonsOrderInternal(e){return(async e=>(await Hi()).dispatch("set-default-dock-buttons-order",e))(e)}async setDockFavoritesOrderInternal(e){return(async e=>(await Hi()).dispatch("set-dock-favorites-order",e))(e)}async addDockFavoriteInternal(e){return(async e=>(await Hi()).dispatch("add-favorite-entry",e))(e)}async removeDockFavoriteInternal(e){return(async e=>(await Hi()).dispatch("remove-favorite-entry",e))(e)}async navigateContentMenuInternal(e){return(async e=>{const t=await Gi();if(!t)throw new Error("Companion Dock window not found");{const a=await Ca(t.identity,Oi);await a.dispatch(Wa.NavigateContentMenu,e)}})(e)}async getDockWorkspacesContextMenuInternal(){return(async()=>(await Hi()).dispatch("get-dock-workspaces-context-menu",void 0))()}async handleDockWorkspacesMenuResponseInternal(e){return(async e=>(await Hi()).dispatch("handle-dock-workspaces-menu-response",e))(e)}async focusAndExpandSearchInternal(){return $i()}async sendUpdateVersionModalResponseInternal(e){return Ya(e)}async showUpdateVersionModalInternal(e,t){return us(e,t)}}};function Es(e,t,a){const n=Rs(e,a);try{return"function"==typeof t?e=>t(n(e)):Array.isArray(t)?[...t,n]:e=>new(n(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}}const Fs=["green","purple","orange","red","pink","yellow"],Vs="CONTEXT_GROUP_PAGE",Ns=()=>e=>class extends e{getContextGroups(){return super.getContextGroups().map((e=>Fs.includes(e.displayMetadata?.name)?{...e,displayMetadata:{...e.displayMetadata,name:On(e.displayMetadata?.name)}}:e))}},Ls=()=>{const e=new Set(Ii.keys());return t=>class extends t{constructor(){super(),this.onClientConnected=async e=>{if(e.name.startsWith("internal-generated-view")){const{page:t}=await bn().Browser.getPageByViewIdentity(e),a=t.contextGroup;this.joinContextGroup({contextGroupId:a??Vs,target:e},{uuid:this.fin.me.uuid,name:this.fin.me.name})}};const e=this.interopClients.set;this.interopClients.set=(t,a)=>{e.call(this.interopClients,t,a),this.onClientConnected(a.clientIdentity)}}async joinContextGroup({contextGroupId:t,target:a},n){if(t!==Vs)return super.joinContextGroup({contextGroupId:t,target:a},n);try{const t=(await bn().Browser.getPageByViewIdentity(a)).page.layoutName;if(!t)throw new Error("View does not belong to a page");if(!e.has(t)&&(e.add(t),!this.contextGroupsById.has(t))){const e=new Map;this.contextGroupsById.set(t,e)}await super.joinContextGroup({contextGroupId:t,target:a},n),a.name}catch(e){JSON.stringify(a),e.stack}}getContextGroups(){return Array.from(e).map((e=>({id:e,displayMetadata:Ii.get(e)??{}})))}setContextForGroup(e,t){if(!this.contextGroupsById.has(t)){const e=new Map;this.contextGroupsById.set(t,e)}return super.setContextForGroup(e,t)}}},_s=(e,t)=>{const a=(e=>$t(e)?Ls():Ns())(t);try{return"function"==typeof e?t=>e(a(t)):Array.isArray(e)?[...e,a]:e=>new(a(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}};async function Us(){(async()=>{he().on("window-closed",Dr)})(),async function(){const e=fin.Application.getCurrentSync(),t=await xr();await Promise.all(t.map((async e=>{await Ar(e.identity,void 0,!0)})));const a=await fin.System.getFocusedWindow();a&&a.name.startsWith(me.BrowserWindow)&&await Ar(a,void 0,!0),await e.addListener("window-focused",(async e=>{await Ar(e,void 0,!0)})),await e.addListener("window-minimized",(async e=>{await Ar(e,!1)})),await e.addListener("window-restored",(async e=>{await Ar(e,!0)})),await e.addListener("window-closed",Wr)}();Yo(await Xo())}let Os;function Gs({overrideCallback:e,interopOverride:t,browser:a,notifications:n,analytics:o,integrations:r=[],workspaceAsar:i}){if(!W)throw new Error("Cannot be used outside an OpenFin env.");return Os||(Os=(async()=>{const s=fin.Platform.getCurrentSync();var c,l;if(s.once("platform-api-ready",(()=>Us())),s.on("window-show-all-downloads",(({name:e,uuid:t})=>{pr({name:e,uuid:t})})),a?.title&&(c=a.title,Di=c),Vo(o),i){const e=`workspace-${encodeURIComponent(fin.me.uuid)}`,{baseUrl:t}=await fin.System.serveAsset({...i,hostName:e});X(t)}a?.browserBaseUrl&&X(a.browserBaseUrl),$t(a)&&(zn=!0,l=a,$n=l?.aiPanelOptions,Jn());const d=ln();var u;return d.setWorkspaceStorage(Pt(`${R}-workspace`)),d.trySynchronizeWorkspaceStorage(),await fin.Platform.init({overrideCallback:Es(a,e||a?.overrideCallback,n),interopOverride:_s(t||a?.interopOverride,a)}),u={allowed:!0},Zt(Jt.Platform,u),await Promise.all(r.map((async e=>{((e,t)=>{Zt(`${Jt.Microflow}:${e}`,t,"integration-feature")})(e.workflowIntegrationName,{allowed:!0,apiVersion:U}),await e._initializeWorkflows()}))),s})()),Os}const Hs=async({theme:e,customActions:t,language:a,...n})=>{const o=U.split(".").map((e=>parseInt(e))),r=await(async e=>{if((await Y()).disableRuntimeValidation)return!0;if(await Ht())return!0;const t=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));return e.every(((a,n)=>!(n<3)||t[n]===e[n]))})(o);if(!r)throw new Error(`Runtime version is not supported.  ${o[0]}.${o[1]}.${o[2]}.* is required`);var i;return Bs(e),e&&(i={allowed:!0},Zt(Jt.Theming,i)),t&&(Tr=t),await yr(a?.initialLanguage),Gs(n)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@openfin/workspace/notifications.js":
/*!**********************************************************!*\
  !*** ./node_modules/@openfin/workspace/notifications.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const r=n(a(6535));t.lightenColor=(e,t)=>o(e,"lighten",t),t.darkenColor=(e,t)=>o(e,"darken",t);const o=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,r.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>r.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent",openFinActive:"#4642FF",openFinHover:"#6965FF",lightGray4Active:"#D7DADF",lightGray4Hover:"#EBECEF",darkGray2Active:"#33353B",darkGray2Hover:"#44464E"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),r=a(2346),o=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,r.darkenColor)(t,2),[`${e}Hover`]:(0,r.lightenColor)(t,5),[`${e}Focused`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},s(o.Palette.brandPrimary,e.brandPrimary)),s(o.Palette.brandSecondary,e.brandSecondary)),e)})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(r,o){if(o=o||{},(r=r||"")instanceof n)return r;if(!(this instanceof n))return new n(r,o);var i=function(n){var r,o,i,s={r:0,g:0,b:0},c=1,d=null,l=null,u=null,p=!1,h=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,r=!1;if(k[e])e=k[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=D.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=D.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=D.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=D.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=D.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=D.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=D.hex8.exec(e))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),a:F(n[4]),format:r?"name":"hex8"}:(n=D.hex6.exec(e))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),format:r?"name":"hex"}:(n=D.hex4.exec(e))?{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),a:F(n[4]+""+n[4]),format:r?"name":"hex8"}:!!(n=D.hex3.exec(e))&&{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),format:r?"name":"hex"}}(n)),"object"==e(n)&&(O(n.r)&&O(n.g)&&O(n.b)?(r=n.r,o=n.g,i=n.b,s={r:255*P(r,255),g:255*P(o,255),b:255*P(i,255)},p=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):O(n.h)&&O(n.s)&&O(n.v)?(d=I(n.s),l=I(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),r=e-n,o=a*(1-t),i=a*(1-r*t),s=a*(1-(1-r)*t),c=n%6;return{r:255*[a,i,o,o,s,a][c],g:255*[s,a,a,i,o,o][c],b:255*[o,o,s,a,a,i][c]}}(n.h,d,l),p=!0,h="hsv"):O(n.h)&&O(n.s)&&O(n.l)&&(d=I(n.s),u=I(n.l),s=function(e,t,a){var n,r,o;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=r=o=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),r=i(c,s,e),o=i(c,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(n.h,d,u),p=!0,h="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=S(c),{ok:p,format:n.format||h,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(r);this._originalInput=r,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=o.format||i.format,this._gradientType=o.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=(o+i)/2;if(o==i)n=r=0;else{var c=o-i;switch(r=s>.5?c/(2-o-i):c/(o+i),o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,l:s}}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=o,c=o-i;if(r=0===o?0:c/o,o==i)n=0;else{switch(o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,v:s}}function i(e,t,a,n){var r=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(e,t,a,n){return[A(M(n)),A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function d(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function l(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function h(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function g(e,t){var a=n(e).toHsl(),r=(a.h+t)%360;return a.h=r<0?360+r:r,n(a)}function f(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),r=[n(e)],o=360/t,i=1;i<t;i++)r.push(n({h:(a.h+i*o)%360,s:a.s,l:a.l}));return r}function w(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function y(e,t,a){t=t||6,a=a||30;var r=n(e).toHsl(),o=360/a,i=[n(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(n(r));return i}function b(e,t){t=t||6;for(var a=n(e).toHsv(),r=a.h,o=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:r,s:o,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=S(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,r){var o=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16)),A(M(n))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(v[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=n(e);a="#"+s(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(f,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]="a"===o?t[o]:I(t[o]));t=r}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var r=n(e).toRgb(),o=n(t).toRgb(),i=a/100;return n({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},n.readability=function(e,t){var a=n(e),r=n(t);return(Math.max(a.getLuminance(),r.getLuminance())+.05)/(Math.min(a.getLuminance(),r.getLuminance())+.05)},n.isReadable=function(e,t,a){var r,o,i,s,c,d=n.readability(e,t);switch(o=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),r={level:s,size:c}).level+r.size){case"AAsmall":case"AAAlarge":o=d>=4.5;break;case"AAlarge":o=d>=3;break;case"AAAsmall":o=d>=7}return o},n.mostReadable=function(e,t,a){var r,o,i,s,c=null,d=0;o=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var l=0;l<t.length;l++)(r=n.readability(e,t[l]))>d&&(d=r,c=n(t[l]));return n.isReadable(e,c,{level:i,size:s})||!o?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var k=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},v=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(k);function S(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function x(e){return parseInt(e,16)}function A(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function M(e){return Math.round(255*parseFloat(e)).toString(16)}function F(e){return x(e)/255}var W,_,B,D=(_="[\\s|\\(]+("+(W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",B="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+_),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+_),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+_),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function O(e){return!!D.CSS_UNIT.exec(e)}return n}()}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e].call(o.exports,o,o.exports,r),o.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=r(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=r(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=r(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{},254:(e,t,a)=>{"use strict";a.d(t,{Nt:()=>Le,Ag:()=>Ve});var n={};a.r(n),a.d(n,{createNamespacedLocalStorage:()=>A,getItem:()=>F,removeItem:()=>W,setItem:()=>M});var r=a(675),o=a(723),i=a(181);async function s(){const e="getManifestOverrides",{manifest:t,initialOptions:a}=await fin.Application.getCurrentSync().getInfo();return t?.platform.workspace||t?.platform.home||a?.workspace||a?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),t?.platform.workspace?(JSON.stringify(t?.platform.workspace),t?.platform.workspace):t?.platform.home?(JSON.stringify(t?.platform.home),t?.platform.home):a?.workspace?(JSON.stringify(a?.workspace),a?.workspace):a?.home?(JSON.stringify(a?.home),a?.home):{}}const c=e=>fin.System.getSystemAppConfig(e);async function d(){const e="getDOSOverrides";if(!o.cI)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let t=await c("workspace").catch((t=>{console.warn(`${e}: customConfig entry for SystemApp workspace not available in Desktop Owner Settings. ${t?.message}`)}));return t||(t=await c("home")),JSON.stringify(t),t}catch(t){if(!o.Hd)return{};if(!(t instanceof Error))throw t;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${t?.message}`)}return{}}let l,u;const p=e=>e.replace(/\/$/,"");async function h(){const e=(await async function(){if(l)return l;const e="getOverrides";if(!o.cI)return o.YY&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[t,a]=await Promise.all([d(),s()]);return l={...a,...t,disableRuntimeValidation:a.disableRuntimeValidation||t.disableRuntimeValidation},l}()).browserBaseUrl;if(e)try{const t=new URL(e);if(t.pathname.endsWith("/"))t.pathname=p(t.pathname);else{if("/workspace"===t.pathname)return t.pathname+=`/${o.et}`,t.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(t){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return u??o.bD}async function g(e=!1){const t=await h()+i.Ay.EnterpriseBrowser;return e?t:p(t)}var f=a(70);const m=(e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a};const w=(e,t=0)=>{let a,n,r=!1;const o=async n=>{const i=await e(...n);if(r){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,r=!1,o(e)}return i};return(...e)=>(n?(r=!0,a=e):n=o(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var y;!function(e){e.Top="top",e.Below="below"}(y||(y={}));const b=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function k(e,t,a,n,r,o){const i=!!e&&(0,f.Iq)(e),s=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(i,o);if(n===y.Below){if(!i||await b(i)){const e=i?(await(0,f.ur)(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,f.V1)(e).left-t/2,top:r?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:(0,f.V1)(s).left-t/2,top:r?s.bottom-128:s.bottom+12,width:t,height:a}}if(!i||await b(i)){const e=i?(await(0,f.ur)(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,f.V1)(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:(0,f.V1)(s).left-t/2,top:s.top+20,width:t,height:a}}w((async function(e,t,a,n,r){const o=t.getBoundingClientRect(),i=await k(e,o.width,o.height,a,n,r);if(0===i.width||0===i.height)return;const s=(0,f.Tv)();await s.setBounds(i),await s.show();const c=setTimeout((()=>s.close()),n?5e3:3e3),d=()=>{clearTimeout(c),s.close()};if(e){const t=(0,f.Iq)(e);t.on("bounds-changing",(()=>d())),t.on("blurred",(()=>d())),t.on("maximized",(()=>d())),t.on("minimized",(()=>d())),t.on("restored",(()=>d()))}}),10);const v=async e=>{const t=e&&await(0,f.Iq)(e).getBounds(),a=e?await(0,f.ur)(t):(await fin.System.getMonitorInfo()).primaryMonitor;return(0,f.VE)(a.availableRect)};var S=a(957);function P(){let e,t;return{promise:new Promise(((a,n)=>{e=a,t=n})),resolve:e,reject:t}}const C="dock3",x=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),A=e=>({setItem:(t,a)=>{localStorage.setItem(`${e}-${t}`,a)},getItem:t=>localStorage.getItem(`${e}-${t}`),removeItem:t=>localStorage.removeItem(`${e}-${t}`)}),I=A(o.$h),M=I.setItem,F=I.getItem,W=I.removeItem;var _;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(_||(_={}));const B=_,D=e=>e+"-"+fin.me.uuid,O=(e,t)=>{const a=o.AT&&o.cI&&new x.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},T=(e,t)=>{const a=O(D(e),t),n=O(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=F(B.HasMovedStore),r=n?JSON.parse(n):{};if(r&&r[a])return;r[a]=!0,M(B.HasMovedStore,JSON.stringify(r));const o=await e[a].toArray();await t[a].bulkPut(o)})(n,a,e),a},E="dock3-provider-config",R=o.AT&&o.cI&&new x.Dexie(D("dock3-provider-config"));R&&R.version(.1).stores({[E]:""});var N,G,$,V,L=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},H=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};class U{static getOverrideConstructor(...e){return class extends U{constructor(){super(...e)}}}constructor(e,t){if(N.set(this,void 0),G.set(this,void 0),$.set(this,null),V.set(this,P()),U.instance)throw new Error("Dock3Provider has already been initialized.");U.instance=this,L(this,N,e,"f"),L(this,G,t,"f"),this.registerChannelActions()}async launchEntry(e){}get ready(){return H(this,V,"f").promise}async bookmarkContentMenuEntry(e){}get config(){return H(this,N,"f")}set config(e){L(this,N,e,"f")}async updateConfig(e){await this.handleConfigChange(e)}async shutdown(){await Promise.all([H(this,G,"f").destroy(),this.getWindowSync().close(!0)]),U.instance=null}async saveConfig({config:e}){L(this,N,e,"f"),await async function(e){if(!R)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await R[E].put(e,"latest")}(e)}async handleConfigChange(e){H(this,$,"f")&&await H(this,G,"f").dispatch(H(this,$,"f"),"handle-dock-config-updated",e)}async loadConfig(){const e=await async function(){if(!R)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await R[E].get("latest")}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}();return e&&L(this,N,e,"f"),H(this,N,"f")}getWindowSync(){return fin.Window.wrapSync({uuid:fin.me.identity.uuid,name:C})}registerChannelActions(){H(this,G,"f").register("launch-entry",this.launchEntry.bind(this)),H(this,G,"f").register("save-config",this.saveConfig.bind(this)),H(this,G,"f").register("bookmark-content-menu-entry",this.bookmarkContentMenuEntry.bind(this)),H(this,G,"f").onConnection((e=>{e.name===C&&L(this,$,e,"f")})),H(this,G,"f").register("ready",(async(e,t)=>{if(H(this,$,"f")?.endpointId!==t.endpointId)throw new Error(`Dock3Provider: 'ready' action received from unexpected client ${t.name} (${t.uuid})`);H(this,V,"f").resolve()})),H(this,G,"f").onDisconnection((e=>{H(this,$,"f")?.endpointId===e.endpointId&&(L(this,$,null,"f"),L(this,V,P(),"f"))}))}}N=new WeakMap,G=new WeakMap,$=new WeakMap,V=new WeakMap,U.instance=null;const z=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType};let q;a(277);var j=a(438);const K=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var Q=a.n(K);function Y(){return localStorage.getItem(B.MachineName)??"unknown"}let X;async function J(){return X||(X=await fin.System.getMachineId()),X}var Z=a(333);const ee=async e=>({...e,layoutDetails:{machineId:await J(),machineName:Y()}}),te=async e=>{const t=await(async(e,t)=>({pageId:(0,Z.N)(),title:e,layout:await ee(t),isReadOnly:!1}))(e.title,ze(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:Ue(e.viewOptions)})))),{...e,...t}};var ae=a(79),ne=a(786);var re=a(102);const oe=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,ie=new Map,se=(e,t)=>{const a=oe(e,t);return n=a,ie.has(n)||ie.set(n,(0,re.A)(n)),ie.get(n)();// removed by dead control flow
{ var n; }};var ce,de,le,ue,pe,he;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(ce||(ce={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(de||(de={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(le||(le={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(ue||(ue={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(pe||(pe={})),function(e){e.SendUpdateVersionModalResponse="send-update-version-modal-response"}(he||(he={}));const ge={...ce,...de,...pe},fe=(0,re.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),me=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await fe()).dispatch(ue.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await fe()).dispatch(ue.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await fe()).dispatch(ue.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await fe()).dispatch(ue.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await fe()).dispatch(ue.DeleteBookmarkNode,e))(e)},getPages:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetPagesForWindow,e),getPage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>Le().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await(0,ae.bW)(e),r={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(ae.OF.AddPage,r)},_addPages:async(t,a,n)=>{const r=await(0,ae.bW)(e),o=t.map((({page:e,opts:t})=>({...e,multiInstanceViewBehavior:t?.multiInstanceViewBehavior||"duplicate"}))),i={identity:e,pages:o,insertionIndex:a,replaceActivePage:n};return r.dispatch(ae.OF.AttachPagesToWindow,i)},removePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>Le().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await(0,ae.bW)(e),r=(await n.dispatch(ae.OF.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!r)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);r.multiInstanceViewBehavior="reparent";const o={identity:e,pages:[r],insertionIndex:t.index};return n.dispatch(ae.OF.AttachPagesToWindow,o)},setActivePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await(0,ae.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await(0,ae.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await(0,ae.bW)(e);return(await se(e)).dispatch(ge.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await se(e)).dispatch(ge.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.AddDefaultPage,t)},_trackRemovedTab:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.HandleRequestNavigationInternal,t),_sendUpdateVersionModalResponse:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SendUpdateVersionModalResponseInternal,t)}),we=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>me(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${(0,Z.N)()}`;return ne.A.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{ne.A.markAndMeasure("browser-window-shown",e)}))})(n),await(0,ae.bW)(e);const r=await t.createWindow(a);return(e=>{ne.A.markAndMeasure("browser-window-started",e)})(n),me(r.identity)},getAllAttachedPages:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetAllAttachedPages,void 0),getAllWindows:async()=>{await(0,ae.bW)(e);return(await(0,f.Io)()).map((e=>me(e.identity)))},getUniquePageTitle:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetPageByViewIdentity,t)}};var ye=a(523);function be(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function ke(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function ve(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),r=(...e)=>{a(...e),n.delete(r)};n.add(r)}}function Se(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Pe={name:f.Q.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function Ce(e){const t={...Pe,...e};return t.url=(0,ye.Tt)(t.url??""),t}const xe=function(e){const t=new Map;return{emit:be(t,(t=>o.cI&&fin.InterApplicationBus.publish(e,t))),addListener:ke(t,(t=>o.cI&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),addListenerWithUUID:a=>ke(t,(t=>o.cI&&fin.InterApplicationBus.subscribe({uuid:a},e,t))),removeListener:Se(t),once:ve(t)}}("window.menu"),Ae=(e,t)=>fin.Window.wrapSync(e).updateOptions({opacity:t}),Ie=e=>xe.emit("response",e),Me=w((()=>(0,j.v1)().getChildWindows()),500);const Fe=new Map;async function We(e,t,a){const n=Ce(e),o=await(0,S.qq)(fin.me.identity),i=await(0,S.l5)(fin.me.identity)===r.qT.Dark,s=o?.theme;if(n.backgroundColor=s?.[i?r.qT.Dark:r.qT.Light]?.palette?.inputBackground||n.backgroundColor,!Fe.has(n.name)){return new Promise((r=>{xe.once("ready",(async e=>{if(e.name===n.name){const t=await Fe.get(n.name);n.preventBlur||t.once("blurred",(async()=>{if(Ae(e,0),t.hide(),Ie({name:n.name,data:{actionName:"Cancel"}}),a=t.identity.name,[f.Q.BrowserSaveMenu,f.Q.DesktopSignalsModal].includes(a)){const e=await t.getOptions();"submitting"!==e.customContext&&"error"!==e.customContext&&t.close()}else t.identity.name.startsWith(f.Q.BrowserMenu)&&t.close();var a})),setTimeout((async()=>{await Ae(e,1);1!==(await fin.Window.wrapSync(e).getOptions()).opacity&&Ae(e,1)})),r(t)}}));const o=(async()=>{const r=await fin.Platform.getCurrentSync().createWindow(m({...n,opacity:0,url:t||n.url,defaultLeft:a?.left,defaultTop:a?.top,defaultWidth:a?.width,defaultHeight:a?.height,workspacePlatform:{preventBlur:e.preventBlur}},!0));return r.once("closed",(()=>{Fe.delete(n.name)})),r})();Fe.set(n.name,o)}))}return Fe.get(n.name)}async function _e(e,t){const a=Ce(e),n={top:a.top,left:a.left,width:a.defaultWidth||a.width,height:a.defaultHeight||a.height};return t.set("parentName",fin.Window.getCurrentSync().identity.name),{name:a.name,bounds:n,route:`${a.url}#${t.toString()}`}}async function Be({options:e,parameters:t}){const a=t??new URLSearchParams,n=Ce(e),{name:r,modalParentIdentity:o}=n;if(!a.has("isEnterprise")){const e=`${await(async e=>(q||(q=await z(e)),q))(o)}`;a.set("isEnterprise",e)}let i=await async function(e){return(await Me()).find((t=>t.identity.name===e))}(r);if(i)await async function(e,t){const{name:a,bounds:n,route:r}=await _e(e,t),o={uuid:fin.me.identity.uuid,name:a},i=fin.Window.wrapSync(o);await Promise.all([i.hide(),Ae(o,0),i.setBounds(n)]),e.preventBlur||i.once("blurred",(()=>{Ae(o,0),i.hide(),Ie({name:o.name,data:{actionName:"Cancel"}})})),xe.emit("update",a,n,r),await Ie({name:a,data:{actionName:"Cancel"}})}(n,a);else{const{route:t,bounds:r}=await _e(e,a);i=await We({...n},t,r)}return i}const De=e=>({createPage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.CreateSavedPageInternal,t),deletePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.DeleteSavedPageInternal,t),updatePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.UpdateSavedPageInternal,t),getPage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetSavedPage,t),getPages:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetSavedPages,t),savePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SavePage,t),createWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=Le(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await(0,ae.N)(e)).dispatch(ae.OF.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.UpdateSavedWorkspace,t),getWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSavedWorkspace,t),getWorkspaces:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSavedWorkspaces,t),getWorkspacesMetadata:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSavedWorkspacesMetadata,t),saveWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SaveWorkspace,t),getDockProviderConfig:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SaveDockProviderConfig,t)});var Oe;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(Oe||(Oe={}));(0,re.A)("of-workspace-notifications-sync");a(695);var Te=a(898);const Ee=r.qT.System,Re=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),Ne=(e,t)=>{const a=!!e.contentBackground5&&"#000000"!==e.contentBackground5,n=!!e.contentBackground4&&"#000000"!==e.contentBackground4,r=(0,Te.b4)(e.textDefault),o=(0,Te.b4)(e.textInactive),i=r.rgb,s=o.rgb,c=r.alpha?parseFloat(r.alpha.toString()):1,d=o.alpha?parseFloat(o.alpha.toString()):1;return{dockExpandedContainerBorderColor:a?e.contentBackground5:e.background4,dockExpandedContainerBorderRadius:a&&t?"0":"10px",dockExpandedContainerBackground:n?e.contentBackground4:e.background1,fillerBackgroundColor:n?e.contentBackground4:"inherit",dockCompanionContainerBackground:n?e.contentBackground4:"inherit",dockComponentContainerBackground:a?e.contentBackground5:e.background5,styledDropdownActiveBackground:`${a?e.contentBackground5:e.background4}`,contentMenuWrapperInternalDivBorderColor:a?e.contentBackground5:e.background5,contentMenuItemContainerActiveBackground:a?e.contentBackground5:e.background3,contentMenuItemContainerHoverBackground:a?e.contentBackground5:e.background2,contentMenuHeaderBorderColor:a?e.contentBackground5:e.background5,dockCompanionSeparatorBorderColor:a?e.contentBackground5:e.background3,dockComponentContainerBorderColor:a?e.contentBackground5:e.background5,companionDockButtonActiveBackground:a?e.contentBackground5:e.background4,companionDockButtonHoverBackground:a?e.contentBackground5:e.background4,"computed-scrollbar-thumb-alpha":c,"computed-scrollbar-track-alpha":d,"scrollbar-thumb-rgb":i,"scrollbar-track-rgb":s}},Ge=(e,t,a)=>({selectedTab:"dark"===t?e.background3:e.background1,...Ne(e,a)});new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorage=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=()=>{if(this.workspaceStorage){const e=this.getScheme();if(this.workspaceStorage.setItem(B.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)this.workspaceStorage.setItem(B.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;this.workspaceStorage.setItem(B.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t},a)=>{this.lightPaletteVars=Re({...e,...Ge(e,"light",a)}),this.darkPaletteVars=Re({...t,...Ge(t,"dark",a)})}}setScheme(e){this.providerStorage.setItem(B.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(B.SelectedColorScheme)&&this.providerStorage.setItem(B.SelectedColorScheme,Ee),this.providerStorage.getItem(B.SelectedColorScheme)}}(n);const $e=e=>({getThemes:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetThemes,void 0),setSelectedScheme:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetSelectedScheme,t),getSelectedScheme:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSelectedScheme,void 0)}),Ve=e=>{const t=fin.Platform.wrapSync(e);let a;const n=Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:o.$h,name:o.vL,entityType:o.fT||"unknown"});return(await(0,ae.N)(e)).dispatch(ae.OF.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await(0,ae.N)(e),o={actionId:t,payload:{...a,callerType:a.callerType||r.vc.API}};return n.dispatch(ae.OF.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.RequestQuitPlatformDialogInternal,t),_showUpdateVersionModal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.ShowUpdateVersionModalInternal,t),getCurrentWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetCurrentWorkspace,t),applyWorkspace:async(t,a)=>(await(0,ae.N)(e)).dispatch(ae.OF.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetActiveWorkspace,t),getLanguage:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetLanguage),_getLanguageResources:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetLanguageResourcesInternal),setLanguage:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await(0,ae.KZ)(e)),"object"==typeof a&&a?.analytics?.isSupported){return(await(0,ae.N)(e)).dispatch(ae.OF.Analytics,t)}e.uuid},getNotificationsConfig:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.FocusAndExpandSearchInternal),_showAboutPagePopup:async e=>(async e=>{const t=new URLSearchParams({...e,title:"About"}),a=await v(fin.me.identity),n=e.copyrightMessage?320:286,r=(0,f.Xq)(a,{height:n,width:360});return Be({options:{frame:!0,smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:f.Q.AboutPageWindow,url:await g()+i.Ay.EnterpriseAboutPage,defaultWidth:360,defaultHeight:n,preventBlur:!0,...r},parameters:t})})(e),Theme:$e(e),Browser:we(e),Storage:De(e)});return n},Le=()=>Ve(fin.me.identity);const He=(e,t)=>e.content?{...e,content:e.content.map((e=>He(e,t)))}:{...e,componentState:t(e.componentState)},Ue=e=>({...e,name:void 0}),ze=e=>{const t={...e};return He(t,Ue)},qe=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=qe(e.content);t.push(...a)})),t};new Map,new Map;const je=async(e,t)=>{const a=(e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:r}=a,o=await z(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...r,headerHeight:o?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:r}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...r,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}})({...f.$p,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})},Ke=(Q()((async e=>{try{if(!e||!e.layoutContainerKey)return;const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?qe(t.content):[],n=a.length;n>1?(async e=>{if("multiView"!==e.attachedPageType){const t=await Le().Browser.getUniquePageTitle();Le().Browser.wrapSync(f.$p).updatePage({pageId:e.pageId,page:{title:e.title??t,singleViewName:null,attachedPageType:"multiView"}})}})(e):1===n&&(async(e,t)=>{const a=Le().Browser.wrapSync(f.$p);if("singleView"!==e.attachedPageType){const n=await te(e);delete n.layout,delete n.pageId;const r=fin.View.wrapSync({uuid:f.$p.uuid,name:t}),o=await r.getInfo(),i={...n,title:null,singleViewName:t,hasUnsavedChanges:!1,attachedPageType:"singleView",pageIcon:o.favicons[0]};await a.updatePage({pageId:e.pageId,page:i})}})(e,a[0].name),await je(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js"),__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js"));a.n(Ke)().t;new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};new Map;const Qe=m({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});!function(e=Qe){const t=new Map}();new Map;Date.now();Q()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===f.Q.BrowserMenu||n.identity.name===f.Q.BrowserSaveMenu?t=n:await(0,f.hb)(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});var Ye,Xe;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(Ye||(Ye={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu",e.ZoomControls="zoom-controls"}(Xe||(Xe={}));const Je="visited-sites",Ze="removed-tab-stack",et=(o.AT&&o.cI&&T("openfin-home-pages","pages"),o.AT&&o.cI&&new x.Dexie(D("openfin-enterprise-site-history")));et&&et.version(.1).stores({[Je]:"id, url"});const tt=o.AT&&o.cI&&new x.Dexie(D("openfin-enterprise-tab-history"));tt&&tt.version(.1).stores({[Ze]:""});var at;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(at||(at={}));at.Separator;a(995);new Map([["blue",{name:"Blue",color:"#0091EB"}],["indigo",{name:"Indigo",color:"#6450FF"}],["pink",{name:"Pink",color:"#E878CF"}],["teal",{name:"Teal",color:"#24D1D1"}],["green",{name:"Green",color:"#00AF78"}],["orange",{name:"Orange",color:"#FF7D37"}],["red",{name:"Red",color:"#F94144"}],["yellow",{name:"Yellow",color:"#F9C74F"}],["gray",{name:"Gray",color:"#828788"}]]);var nt;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(nt||(nt={}));(0,re.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`);const rt="dock-provider-configs",ot=o.AT&&o.cI&&new x.Dexie(D("dock-provider-configs"));ot&&ot.version(.1).stores({[rt]:""});const it="workspaces";o.AT&&o.cI&&T("openfin-workspace-platform-workspaces",it);a(250);a(179)},675:(e,t,a)=>{"use strict";a.d(t,{qT:()=>o,vc:()=>h});var n,r,o,i,s,c,d,l,u,p,h;a(179),a(250);!function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(n||(n={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.ManageDesktopSignals="ManageDesktopSignals",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(r||(r={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(o||(o={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.ManageDesktopSignals="ManageDesktopSignals",e.AddToChannel="AddToChannel",e.Custom="Custom"}(i||(i={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.ManageDesktopSignals="ManageDesktopSignals",e.Print="Print",e.Pin="Pin"}(s||(s={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(c||(c={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(d||(d={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(l||(l={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(u||(u={})),function(e){e.Browser="browser",e.Platform="platform"}(p||(p={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={}));var g;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(g||(g={}))},129:()=>{"use strict";var e,t,a;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(a||(a={}))},600:(e,t,a)=>{"use strict";var n;!function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(n||(n={}))},872:(e,t,a)=>{"use strict";var n,r,o;!function(e){e.Suggestion="suggestion"}(n||(n={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={}))},179:(e,t,a)=>{"use strict";a(129),a(872),a(710),a(184),a(600)},710:(e,t,a)=>{"use strict";var n,r;!function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(n||(n={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},184:(e,t,a)=>{"use strict";var n;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(n||(n={}))},250:(e,t,a)=>{"use strict";var n;!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(n||(n={}))},79:(e,t,a)=>{"use strict";var n;a.d(t,{KZ:()=>o,N:()=>i,OF:()=>n,bW:()=>s}),function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.GetSavedWorkspacesMetadata="getSavedWorkspacesMetadata",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal",e.SendUpdateVersionModalResponseInternal="sendUpdateVersionModalResponseInternal",e.ShowUpdateVersionModalInternal="showUpdateVersionModalInternal"}(n||(n={}));const r=async e=>fin.Platform.wrapSync(e).getClient(),o=async e=>{const t=await r(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},i=async e=>(await o(e),r(e)),s=async e=>{const t=await o(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return r(e)}},695:(e,t,a)=>{"use strict";var n=a(102),r=(a(723),a(70),a(905));(0,n.A)("__of_workspace_protocol__"),(0,n.A)(r.BT)},905:(e,t,a)=>{"use strict";a.d(t,{BT:()=>n});const n="__search-openfin-browser-home-topic__";var r,o;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(o||(o={}))},957:(e,t,a)=>{"use strict";a.d(t,{qq:()=>S,l5:()=>P});var n=a(847),r=a(898),o=a(70),i=a(254),s=a(675),c=a(877),d=a.n(c),l=a(67),u=a.n(l);const p={light:{symbol:u()?.src||""},dark:{symbol:d()?.src||""}};a(695);var h=a(79);const g="dark",f={[n.Palette.brandPrimary]:"#0A76D3",[n.Palette.brandPrimaryActive]:"#0A71C9",[n.Palette.brandPrimaryHover]:"#0B84EB",[n.Palette.brandPrimaryFocused]:n.Color.white,[n.Palette.brandPrimaryText]:n.Color.white,[n.Palette.statusSuccess]:n.Color.functional1,[n.Palette.statusWarning]:n.Color.functional10,[n.Palette.statusCritical]:n.Color.functional7,[n.Palette.statusActive]:n.Color.functional3,[n.Palette.contentBackground1]:"#0A76D3",[n.Palette.contentBackground2]:"#000000",[n.Palette.contentBackground3]:"#000000",[n.Palette.contentBackground4]:"#000000",[n.Palette.contentBackground5]:"#000000",[n.Palette.borderNeutral]:n.Color.silverGray},m={...f,[n.Palette.background1]:n.Color.white,[n.Palette.background2]:n.Color.lightGray1,[n.Palette.background3]:n.Color.lightGray2,[n.Palette.background4]:n.Color.lightGray3,[n.Palette.background5]:n.Color.lightGray4,[n.Palette.background6]:n.Color.lightGray5,[n.Palette.brandSecondary]:n.Color.lightGray4,[n.Palette.brandSecondaryActive]:n.Color.lightGray4Active,[n.Palette.brandSecondaryHover]:n.Color.lightGray4Hover,[n.Palette.brandSecondaryFocused]:n.Color.darkGray5,[n.Palette.brandSecondaryText]:n.Color.darkGray5,[n.Palette.inputBackground]:n.Color.lightGray3,[n.Palette.inputColor]:n.Color.darkGray5,[n.Palette.inputPlaceholder]:n.Color.darkGray2,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.darkGray5,[n.Palette.textHelp]:n.Color.darkGray3,[n.Palette.textInactive]:n.Color.neutralGray},w={...f,[n.Palette.background1]:n.Color.darkGray6,[n.Palette.background2]:n.Color.darkGray5,[n.Palette.background3]:n.Color.darkGray4,[n.Palette.background4]:n.Color.darkGray3,[n.Palette.background5]:n.Color.darkGray2,[n.Palette.background6]:n.Color.darkGray1,[n.Palette.brandSecondary]:n.Color.darkGray2,[n.Palette.brandSecondaryActive]:n.Color.darkGray2Active,[n.Palette.brandSecondaryHover]:n.Color.darkGray2Hover,[n.Palette.brandSecondaryFocused]:n.Color.white,[n.Palette.brandSecondaryText]:n.Color.white,[n.Palette.inputBackground]:n.Color.darkGray1,[n.Palette.inputColor]:n.Color.white,[n.Palette.inputPlaceholder]:n.Color.lightGray5,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.white,[n.Palette.textHelp]:n.Color.lightGray5,[n.Palette.textInactive]:n.Color.neutralGray},y=[{label:"OpenFin Default Light and Dark Theme",palettes:{light:{...m,backgroundPrimary:n.Color.darkGray5},dark:{...w,backgroundPrimary:n.Color.darkGray5}}}],b=e=>{const{background:t,foreground:a}=e;return{background:t,foreground:a??"#FFFFFF"}},k=(e,t)=>({icons:{symbol:e.brand?.icons?.[t]?.symbol||p[t].symbol}}),v=e=>{const{light:t,dark:a}="palettes"in e?e.palettes:{light:e.palette,dark:e.palette},o=(0,r.KD)(w,a),i=(0,r.KD)(m,t),s=((e,t)=>{const a={...e},n={...t};let o=t.backgroundPrimary?(0,r.pu)(t.backgroundPrimary,!0):{},i=e.backgroundPrimary?(0,r.pu)(e.backgroundPrimary):{};return o={...o,...n},i={...i,...a},{light:{...t,...o},dark:{...e,...i}}})(a,t),c={...(0,n.createTheme)({...o,...s?.dark}),brand:k(e,"dark")},d={...(0,n.createTheme)({...i,...s?.light}),brand:k(e,"light")},{light:l,dark:u}=(e=>{const t=Object.keys(e.notificationIndicatorColors??{});if(t?.length){const a={},n={};return t.forEach((t=>{const r=e.notificationIndicatorColors[t];"background"in r?(a[t]=b(r),n[t]=b(r)):(a[t]=b(r.dark??r.light),n[t]=b(r.light??r.dark))})),{light:n,dark:a}}return{light:null,dark:null}})(e);return c.notificationIndicatorColors=u,d.notificationIndicatorColors=l,{dark:c,light:d}},S=async e=>{const{themes:t,selectedScheme:a}=await(async e=>{const t=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!t||e.uuid!==o.$p.uuid)return{themes:await(0,i.Ag)(e).Theme.getThemes(),selectedScheme:await(0,i.Ag)(e).Theme.getSelectedScheme()};return t})(e);var n,r;return(n=t?.length?t:y,r=a,n.map((e=>{const t="palettes"in e?e.default:g,{light:a,dark:n}=v(e);return{label:e.label,logoUrl:e.logoUrl,theme:{dark:n,light:a},defaultScheme:r??t}})))[0]},P=async e=>{const t=await(0,h.N)(e||fin.me.identity),a=await t.dispatch(h.OF.GetSelectedScheme,void 0);return a===s.qT.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a}},438:(e,t,a)=>{"use strict";a.d(t,{MW:()=>n,v1:()=>c});var n,r,o=a(723);!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(n||(n={})),function(e){e.FinProtocol="fin-protocol"}(r||(r={}));const i={uuid:o.$h},s=(n.Workspace,e=>{if(!o.cI)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),c=()=>s(i)},102:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(723);const r=n.YY&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function o(e){let t;const a=new Set;return()=>{if(!n.cI)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const o={clientAPIVersion:n.et},i=await fin.InterApplicationBus.Channel.connect(e,{payload:o});return i.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}},723:(e,t,a)=>{"use strict";var n;a.d(t,{$h:()=>c,AT:()=>i,Hd:()=>u,YY:()=>o,bD:()=>h,cI:()=>r,et:()=>g,fT:()=>l,vL:()=>d}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(n||(n={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,o=("undefined"==typeof process||process.env,"undefined"!=typeof window),i=o&&"undefined"!=typeof indexedDB,s=o?window.origin:n.Local,c=r&&fin.me.uuid,d=r&&fin.me.name,l=r&&fin.me.entityType,u=(n.Local,n.Dev,n.Staging,"prod"===n.Prod),p=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,h=(p("https://workspace.openfin.co/workspace/22.3.9"),p("https://workspace.openfin.co/workspace/22.3.9")),g=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&p(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&p(WORKSPACE_DOCS_CLIENT_URL),"22.3.9");"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA},786:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const n="of-workspace-";const r=new class{mark(e){performance.mark(`${n}${e}`)}markStart(e){performance.mark(`${n}${e}-start`)}markEnd(e){performance.mark(`${n}${e}-end`)}markEndAndMeasure(e){performance.mark(`${n}${e}-end`);try{return performance.measure(`${n}${e}`,`${n}${e}-start`,`${n}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${n}${e}`);try{return performance.measure(`${n}${e}-measure`,`${n}${t}-start`,`${n}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(n)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${n}`,"").replace("-measure",""),duration:e.duration})))}}},181:(e,t,a)=>{"use strict";var n,r;a.d(t,{Ay:()=>s}),function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(n||(n={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseLandingPage="/enterprise/landing/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseAboutPage="/popup-menu/about/",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/",e.ZoomControlsDialog="/zoom-controls-dialog/",e.DesktopSignalsModal="/popup-menu/desktop-signals-modal/"}(r||(r={}));const o={...n,...r};var i;!function(e){e.Search="search"}(i||(i={}));const s=o},523:(e,t,a)=>{"use strict";a.d(t,{Tt:()=>o});var n,r=a(723);!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(n||(n={}));function o(e,t){if(!r.YY)throw new Error("resolveAbsolutePath can only be used in a window");const a=t??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const n=`${a.protocol}//${a.hostname}`;return new URL(e,n).href}},898:(e,t,a)=>{"use strict";a.d(t,{KD:()=>c,b4:()=>i,pu:()=>s});const n=e=>e.replace(/[^\d,]/g,"").split(","),r=e=>{if(e.length<2)throw new Error("Invalid color object, cannot convert to HSL.");const t=e[0]/255,a=e[1]/255,n=e[2]/255,r=Math.min(t,a,n),o=Math.max(t,a,n),i=o-r;let s=0,c=0,d=0;return s=0===i?0:o===t?(a-n)/i%6:o===a?(n-t)/i+2:(t-a)/i+4,s=Math.round(60*s),s<0&&(s+=360),d=(o+r)/2,c=0==i?0:i/(1-Math.abs(2*d-1)),c=+(100*c).toFixed(1),d=+(100*d).toFixed(1),{hsl:`hsl(${s}, ${c}%, ${d}%)`,hsla:`hsl(${s}, ${c}%, ${d}%, 1)`,hue:s,lightness:d,saturation:c}},o=e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let t=0,a=0,n=0;if(4===e.length)t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,n=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,n=`0x${e[5]}${e[6]}`}return[+t,+a,+n]},i=e=>{const t=e;if(t.startsWith("#")){return{rgb:o(t).join(", "),alpha:1}}const a=t.match(/\d{1,3}(\.\d+)?/g);if(a){const[e,t,n,r]=a;return{rgb:`${e}, ${t}, ${n}`,alpha:void 0!==r?parseFloat(r):1}}return{rgb:o(e).join(", "),alpha:1}},s=(e,t=!1)=>{const a=(e=>{if(!e)throw new Error("Color is not defined");const t=e.toLowerCase();let a;if(t.includes("rgb")){const e=n(t);e.length>3&&e.pop(),a=r(e).hue}if(t.includes("#")){const e=o(t);a=r(e).hue}t.includes("hsl")&&(a=n(t)[0]);const i=a?.toString();if(!i)throw new Error(`Hue was unable to be extracted from "${t}", check color format. Accepted formats are: rgb(), rgba(), hex, hsl(), and hsla()`);return i})(e);return t?{background1:`hsla(${a}, 0%, 100%, 1)`,background2:`hsla(${a}, 67%, 99%, 1)`,background3:`hsla(${a}, 26%, 96%, 1)`,background4:`hsla(${a}, 15%, 94%, 1)`,background5:`hsla(${a}, 10%, 88%, 1)`,background6:`hsla(${a}, 80%, 80%, 1)`}:{background1:`hsla(${a}, 8%, 7%, 1)`,background2:`hsla(${a}, 8%, 13%, 1)`,background3:`hsla(${a}, 9%, 15%, 1)`,background4:`hsla(${a}, 6%, 23%, 1)`,background5:`hsla(${a}, 21%, 28%, 1)`,background6:`hsla(${a}, 5%, 51%, 1)`}},c=(e,t)=>{const a={};return Object.keys(e).forEach((n=>{a[n]=t[n]?t[n]:e[n]})),a}},277:(e,t,a)=>{"use strict";a.d(t,{os:()=>i});var n,r=a(723);a(70),a(254);!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(n||(n={}));const o=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||r.et,componentName:e,componentVersion:t.componentVersion||r.et,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};const i=e=>{o(n.Notification,e)};new Map},333:(e,t,a)=>{"use strict";function n(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}a.d(t,{N:()=>n})},70:(e,t,a)=>{"use strict";a.d(t,{$p:()=>l,Io:()=>h,Iq:()=>d,Q:()=>n,Tv:()=>u,V1:()=>i,VE:()=>s,Xq:()=>c,hb:()=>p,ur:()=>g});var n,r=a(438),o=a(723);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion",e.AICompanionPrefix="openfin-ai-companion-",e.UpdateVersionModal="here-update-version-modal",e.ZoomControlsDialog="here-zoom-controls-dialog",e.AboutPageWindow="here-about-page",e.DesktopSignalsModal="here-desktop-signals-modal"}(n||(n={}));const i=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2}),s=e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}),c=(e,t)=>{const a=t.width/2,n=t.height/2;return{left:Math.round(e.left-a),top:Math.round(e.top-n),width:t.width,height:t.height}};function d(e){if(!o.cI)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const l={name:o.vL,uuid:o.$h};function u(){return d(l)}n.Home,r.MW.Workspace,n.Dock,r.MW.Workspace,n.Storefront,r.MW.Workspace,r.MW.Workspace,r.MW.Workspace;const p=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function h(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>p(e.identity))));return e.filter(((e,a)=>t[a]))}async function g(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=function(e,t){const a=e.top,n=e.left,r=e.top+e.height,o=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,d=t.monitorRect.right;if(a>c||r<i||n>d||o<s)return 0;const l=Math.max(a,i),u=Math.max(n,s);return(Math.min(r,c)-l)*(Math.min(o,d)-u)/(e.height*e.width)}(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}},432:e=>{"use strict";e.exports=__webpack_require__(/*! openfin-notifications/dist/client/without-auto-launch */ "./node_modules/openfin-notifications/dist/client/without-auto-launch.js")},995:e=>{"use strict";e.exports=__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{deregister:()=>h,register:()=>p});var e=a(432),t=a(277),r=a(957),o={};for(const t in e)["default","register","deregister"].indexOf(t)<0&&(o[t]=()=>e[t]);a.d(n,o);const i=async t=>{if(t instanceof Error){let a=t.message;if(t.message.includes("register-notifications-platform")){if(a="Notifications platforms are not supported in versions below 1.13.0, try updating your notifications-service.",e?.provider?.getStatus){const{version:t}=await e.provider.getStatus();a+=` Your version is: ${t}`}return a}return t.message}return"string"==typeof t?t:"unknown error registering Notifications"},s=async e=>{if(e instanceof Error&&e.message.includes("register-notifications-platform"))throw new Error(await i(e));throw e},c="of-notifications-service-v1",d="of-workspace-notifications-sync",l={channelName:d},u=async(e,t)=>{const a=t.notificationsVersion.startsWith("2")?l.channelName:c,n=await fin.InterApplicationBus.Channel.connect(a,{wait:!1}),r=t.notificationsVersion.startsWith("2")?"register-platform":"register-notifications-platform";await n.dispatch(r,e)};async function p(a){try{const n=a&&"notificationsCustomManifest"in a?{customManifest:a.notificationsCustomManifest}:void 0;n&&n.customManifest?.manifestUuid&&(l.channelName=`${n.customManifest.manifestUuid}-${d}`);const o=await e.register(n);if(a){const e=await(0,r.qq)(fin.me.identity),t="notificationsPlatformOptions"in a?a.notificationsPlatformOptions:a;await u({theme:e.theme,scheme:e.defaultScheme,...t,workspacePlatform:{identity:fin.Platform.getCurrentSync().identity,analytics:{isSupported:!0}}},{notificationsVersion:o.notificationsVersion})}return(0,t.os)({allowed:!0,apiVersion:e.VERSION,componentVersion:o.notificationsVersion}),o}catch(a){(0,t.os)({allowed:!1,rejectionCode:await i(a),apiVersion:e.VERSION}),await s(a)}}const h=async t=>{try{const{version:a}=await e.provider.getStatus();if(null===a)throw new Error("Notifications service is not currently running.");await(async(e,t)=>{const a=t.notificationsVersion.startsWith("2")?l.channelName:c,n=await fin.InterApplicationBus.Channel.connect(a,{wait:!1}),r=t.notificationsVersion.startsWith("2")?"deregister-platform":"deregister-notifications-platform";await n.dispatch(r,e)})({id:t},{notificationsVersion:a})}catch(e){await s(e)}}})(),module.exports=n})();
//# sourceMappingURL=notifications.js.map

/***/ }),

/***/ "./node_modules/openfin-notifications/dist/client/without-auto-launch.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/openfin-notifications/dist/client/without-auto-launch.js ***!
  \*******************************************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(()=>{return e={3089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeferredPromise=class{constructor(){const e=new Promise(((e,t)=>{this._resolve=e,this._reject=t}));this._promise=e}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}}},5879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.ChannelClientHandlers=void 0;const i=n(59603),r=n(33657),o=n(75762),a=n(27167),s=n(46451),c=n(52315);class u{}t.ChannelClientHandlers=u,u.handleDefaultAction=()=>!1,u.handleEventAction=e=>{(0,r.getEventRouter)().dispatchEvent(e)},u.handleWarnAction=async e=>{await o.Log.warn(e)},u.handleDisconnection=async()=>{(0,a.getChannelClient)()&&(await o.Log.warn("Disconnected from Notifications. Reconnecting..."),(0,a.clearAwaitedChannelClient)(),await d(),await p())};let l=null;t.register=async e=>{if(l)return l;try{return l=f(e),await l}finally{l=null}};const f=async e=>{if(null==e?void 0:e.customManifest){if(!e.customManifest.manifestUrl)throw new Error("manifestUrl must be provided.");if(!e.customManifest.manifestUuid)throw new Error("manifestUuid must be provided and must not be an empty string.");if(e.customManifest.manifestUuid===i.SERVICE_CHANNEL)throw new Error(`manifestUuid must not be ${i.SERVICE_CHANNEL}`);a.ChannelClientConfig.serviceChannel=`${e.customManifest.manifestUuid}-${i.SERVICE_CHANNEL}`,await d(e.customManifest.manifestUrl)}else a.ChannelClientConfig.serviceChannel=i.SERVICE_CHANNEL,await d();return await p(),{clientAPIVersion:"2.12.0-alpha-4079",notificationsVersion:(await(0,s.getStatus)()).version||"unknown"}},d=async e=>{try{const t=window.navigator.userAgent.toLowerCase().includes("windows"),n=e||"fins://system-apps/notification-center";t?(await o.Log.info("Launching Notifications via fin.System.launchManifest..."),await c.finContext.System.launchManifest(n,{noUi:!0})):(await o.Log.info("Launching Notifications via fin.System.openUrlWithBrowser..."),await c.finContext.System.openUrlWithBrowser(n))}catch(e){throw e instanceof Error?await o.Log.error(`Failed to launch Notifications - ${e.name}: ${e.message}`):await o.Log.error(`Failed to launch Notifications - ${JSON.stringify(e)}`),e}},p=async()=>{try{const{channelClientPromise:e,isInit:t}=(0,a.initAwaitedChannelClient)(),n=await e;t&&(n.setDefaultAction(u.handleDefaultAction),n.register("event",u.handleEventAction),n.register("WARN",u.handleWarnAction),n.onDisconnection(u.handleDisconnection),c.finContext.Window.wrapSync(i.SERVICE_IDENTITY).once("closed",u.handleDisconnection))}catch(e){throw e instanceof Error?await o.Log.error(`Failed to connect to Notifications - ${e.name}: ${e.message}`):await o.Log.error(`Failed to connect to Notifications - ${JSON.stringify(e)}`),e}}},13154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},22777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3089);async function r(e,t){let n=0;for(const i of e)await t(i,n,e),n++}async function o(e,t){await Promise.all(e.map(t))}function a(e,t,n){const r=new i.DeferredPromise,o=e.add(((...e)=>{t(...e)&&(o.remove(),r.resolve())}));return n&&n.catch((e=>{o.remove(),r.reject(e)})),s(r.promise)}function s(e){return e.catch((()=>{})),e}t.serialForEach=r,t.serialMap=async function(e,t){const n=[];return await r(e,(async(e,i,r)=>{n.push(await t(e,i,r))})),n},t.serialFilter=async function(e,t){const n=[];return await r(e,(async(e,i,r)=>{await t(e,i,r)&&n.push(e)})),n},t.parallelForEach=o,t.parallelMap=async function(e,t){const n=[];return await o(e,(async(e,i,r)=>{n[i]=await t(e,i,r)})),n},t.parallelFilter=async function(e,t){const n=[];return await o(e,(async(e,i,r)=>{n[i]=await t(e,i,r)})),e.filter(((e,t)=>n[t]))},t.withStrictTimeout=function(e,t,n){const i=new Promise(((t,i)=>setTimeout((()=>i(new Error(n))),e)));return s(Promise.race([i,t]))},t.withTimeout=function(e,t){const n=new Promise((t=>setTimeout((()=>t([!0,void 0])),e))),i=t.then((e=>[!1,e]));return Promise.race([n,i])},t.untilTrue=function(e,t,n){return t()?Promise.resolve():a(e,t,n)},t.untilSignal=a,t.allowReject=s},27167:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelClient=t.clearAwaitedChannelClient=t.initAwaitedChannelClient=t.ChannelClientConfig=void 0;const i=n(59603),r=n(75762),o=n(52315);t.ChannelClientConfig={serviceChannel:i.SERVICE_CHANNEL};const a=async({wait:e})=>{await r.Log.info("Connecting to Notifications...");const n=await o.finContext.InterApplicationBus.Channel.connect(t.ChannelClientConfig.serviceChannel,{wait:e,payload:{version:"2.12.0-alpha-4079"}});return await r.Log.info("Successfully connected to Notifications."),n};let s,c;t.initAwaitedChannelClient=()=>s?{channelClientPromise:s,isInit:!1}:(s=a({wait:!0}),s.catch((e=>(0,t.clearAwaitedChannelClient)())),{channelClientPromise:s,isInit:!0}),t.clearAwaitedChannelClient=()=>{s=null},t.getChannelClient=async()=>s||(async()=>{if(!c){try{c=await a({wait:!1}),c.setDefaultAction((()=>!1))}catch(e){throw await r.Log.error('Could not find channel provider. Did you call "notifications.register()"?'),e}c.onDisconnection((()=>{c=null}))}return c})()},28173:(e,t)=>{"use strict";function n(e,t){let n;try{n=JSON.stringify(e)}catch(e){n=t}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.setValidationMethod=t.validateEnvironment=t.safeStringify=t.sanitizeEventType=t.sanitizeFunction=void 0,t.sanitizeFunction=function(e){if("function"!=typeof e)throw new Error(`Invalid argument passed: ${n(e,"The provided value")} is not a valid function`);return e},t.sanitizeEventType=function(e){if("notification-action"===e||"notification-created"===e||"notification-toast-dismissed"===e||"notification-closed"===e||"notifications-count-changed"===e||"notification-form-submitted"===e||"notification-reminder-created"===e||"notification-reminder-removed"===e||"notification-form-values-changed"===e||"notification-sound-toggled"===e)return e;throw new Error(`Invalid argument passed: ${n(e,"The provided event type")} is not a valid Notifications event type`)},t.safeStringify=n,t.validateEnvironment=()=>{throw new Error("fin is not defined. The openfin-notifications module is only intended for use in an OpenFin application.")},t.setValidationMethod=e=>{t.validateEnvironment=e}},33657:function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getEventRouter=t.eventEmitter=t.EventRouter=void 0;const r=n(37007),o=n(43816),a=n(59603);class s{constructor(e){this._emitterProviders={},this._deserializers={},this._defaultEmitter=e}registerEmitterProvider(e,t){this._emitterProviders[e]=t}registerDeserializer(e,t){this._deserializers[e]=t}dispatchEvent(e){const{type:t,target:n}=e,r=i(e,["type","target"]);let s;if(!n)throw new Error("Invalid event, no target specified");if("default"===n)s=this._defaultEmitter;else{if(!this._emitterProviders[n.type])throw new Error(`Invalid target, no provider registered for '${n.type}'`);s=this._emitterProviders[n.type](n.id)}const c=Object.assign({type:t},r),u=this._deserializers[t];u?s.emit(t,u(c)):"notification-form-submitted"===t?function(e,t){let n=!1;e.preventDefault=()=>n=!0,t.emit("notification-form-submitted",e),n||(0,o.tryServiceDispatch)(a.APITopic.SET_FORM_STATUS_OPTIONS,{formStatus:"submitted",_notificationId:e.notification.id})}(c,s):s.emit(t,c)}}let c;t.EventRouter=s,t.eventEmitter=new r.EventEmitter,t.getEventRouter=function(){return c||(c=new s(t.eventEmitter)),c}},33713:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetType=t.TimeWidgetType=t.DateWidgetType=t.RadioGroupWidgetType=t.CheckboxGroupWidgetType=t.BooleanWidgetType=t.NumberWidgetType=t.StringWidgetType=void 0,t.StringWidgetType={Text:"Text",Dropdown:"Dropdown"},t.NumberWidgetType={Number:"Number"},t.BooleanWidgetType={Toggle:"Toggle",Checkbox:"Checkbox"},t.CheckboxGroupWidgetType={CheckboxGroup:"CheckboxGroup"},t.RadioGroupWidgetType={RadioGroup:"RadioGroup"},t.DateWidgetType={Date:"Date"},t.TimeWidgetType={Time:"Time"},t.WidgetType=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t.StringWidgetType),t.NumberWidgetType),t.BooleanWidgetType),t.CheckboxGroupWidgetType),t.RadioGroupWidgetType),t.DateWidgetType),t.TimeWidgetType)},37007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}h(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&h(e,"error",t,{once:!0})}(e,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(e))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=l.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function h(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,a;if(s(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},40651:e=>{e.exports=function(e,t){for(var n=e.split("."),i=t.split("."),r=0;r<3;r++){var o=Number(n[r]),a=Number(i[r]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return 0}},40707:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},s=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.setAllowedOrigins=t.getUserSettingStatus=t.UserSettings=t.getNotificationsCount=t.hide=t.show=t.setDefaultPlatformShortcut=t.toggleNotificationCenter=t.clearAll=t.getAll=t.clear=t.update=t.create=t.removeEventListener=t.addEventListener=t.VERSION=t.NotificationIndicatorType=t.IndicatorColor=t.NotificationIndicatorWithCustomColor=t.NotificationIndicator=t.NotificationOptions=t.provider=t.actions=void 0;const c=n(86455),u=n(43816),l=n(59603),f=n(33657),d=o(n(46451));t.provider=d;const p=n(28173),v=n(46865);Object.defineProperty(t,"NotificationIndicator",{enumerable:!0,get:function(){return v.NotificationIndicator}}),Object.defineProperty(t,"NotificationIndicatorWithCustomColor",{enumerable:!0,get:function(){return v.NotificationIndicatorWithCustomColor}}),Object.defineProperty(t,"NotificationIndicatorType",{enumerable:!0,get:function(){return v.IndicatorType}}),Object.defineProperty(t,"IndicatorColor",{enumerable:!0,get:function(){return v.IndicatorColor}});const h=n(44415);Object.defineProperty(t,"NotificationOptions",{enumerable:!0,get:function(){return h.NotificationOptions}});const g=o(n(86455));t.actions=g,a(n(86455),t),a(n(87204),t),a(n(50295),t),a(n(68912),t),a(n(13154),t),a(n(75050),t),a(n(90512),t),t.VERSION="2.12.0-alpha-4079";const m=(0,f.getEventRouter)();function y(e){const{notification:t}=e;return Object.assign(Object.assign({},e),{notification:Object.assign(Object.assign({},t),{date:new Date(t.date),expires:null!==t.expires?new Date(t.expires):null})})}m.registerDeserializer("notification-created",(e=>y(e))),m.registerDeserializer("notification-toast-dismissed",(e=>y(e))),m.registerDeserializer("notification-closed",(e=>y(e))),m.registerDeserializer("notification-action",(e=>{var t;const n=y(e),{controlSource:i,controlIndex:r}=n,o=s(n,["controlSource","controlIndex"]);return e.trigger===c.ActionTrigger.CONTROL?Object.assign(Object.assign({},o),{control:null===(t=e.notification[i])||void 0===t?void 0:t[r]}):o})),m.registerDeserializer("notifications-count-changed",(e=>e)),m.registerDeserializer("notification-reminder-created",(e=>{const t=y(e),{reminderDate:n}=t,i=s(t,["reminderDate"]);return Object.assign(Object.assign({},i),{reminderDate:new Date(n)})})),m.registerDeserializer("notification-reminder-removed",(e=>y(e))),m.registerDeserializer("notification-sound-toggled",(e=>e)),t.addEventListener=async function(e,t){(0,p.validateEnvironment)(),e=(0,p.sanitizeEventType)(e),t=(0,p.sanitizeFunction)(t);const n=f.eventEmitter.listenerCount(e);"notification-form-submitted"===e&&(t=function(e){return t=>{const n=t.notification.id;t.setFormStatus=e=>(0,u.tryServiceDispatch)(l.APITopic.SET_FORM_STATUS_OPTIONS,Object.assign(Object.assign({},e),{_notificationId:n})),e(t)}}(t)),"notification-form-values-changed"===e&&(t=function(e){return t=>{t.setErrors=e=>(0,u.tryServiceDispatch)(l.APITopic.SET_FORM_VALIDATION_ERRORS,{errors:e,notificationId:t.notification.id}),e(t)}}(t)),f.eventEmitter.addListener(e,t),0===n&&1===f.eventEmitter.listenerCount(e)&&await(0,u.tryServiceDispatch)(l.APITopic.ADD_EVENT_LISTENER,e)},t.removeEventListener=async function(e,t){(0,p.validateEnvironment)(),e=(0,p.sanitizeEventType)(e),t=(0,p.sanitizeFunction)(t),1===f.eventEmitter.listenerCount(e)&&f.eventEmitter.listeners(e)[0]===t&&await(0,u.tryServiceDispatch)(l.APITopic.REMOVE_EVENT_LISTENER,e),f.eventEmitter.removeListener(e,t)},t.create=async function(e,t){if("object"!=typeof e||null===e)throw new Error("Invalid argument passed to create: argument must be an object and must not be null");if(void 0!==e.date&&!(e.date instanceof Date))throw new Error('Invalid argument passed to create: "date" must be a valid Date object');if(void 0!==e.expires&&null!==e.expires&&!(e.expires instanceof Date))throw new Error('Invalid argument passed to create: "expires" must be null or a valid Date object');if(t&&t.reminderDate){if(!1===e.allowReminder)throw new Error('You must not specify a reminder date for a notification with "allowReminder" option set to false.');if(!(t.reminderDate instanceof Date))throw new Error('Invalid argument passed to reminder Options: "date" must a valid Date object');if(e.expires&&e.expires.getTime()<t.reminderDate.getTime())throw new Error("Expiration date must not be earlier than reminder date.")}void 0!==e.category&&null!==e.category||(e.category="default");const n=await(0,u.tryServiceDispatch)(l.APITopic.CREATE_NOTIFICATION,Object.assign(Object.assign({},e),{date:e.date&&e.date.valueOf(),expires:e.expires&&e.expires.valueOf(),reminder:(null==t?void 0:t.reminderDate)&&t.reminderDate.valueOf()}));return Object.assign(Object.assign({},n),{date:new Date(n.date),expires:null!==n.expires?new Date(n.expires):null})},t.update=async function(e){if("object"!=typeof e||null===e)throw new Error("Invalid argument passed to create: argument must be an object and must not be null");if(!e.id)throw new Error('Invalid argument passed to create: "id" must be Id of previously created Notification');const t=await(0,u.tryServiceDispatch)(l.APITopic.UPDATE_NOTIFICATION,Object.assign({},e));return Object.assign({},t)},t.clear=async function(e){return(0,u.tryServiceDispatch)(l.APITopic.CLEAR_NOTIFICATION,{id:e})},t.getAll=async function(){return(await(0,u.tryServiceDispatch)(l.APITopic.GET_APP_NOTIFICATIONS,void 0)).map((e=>Object.assign(Object.assign({},e),{indicator:e.indicator||null,date:new Date(e.date),expires:null!==e.expires?new Date(e.expires):null})))},t.clearAll=async function(){return(0,u.tryServiceDispatch)(l.APITopic.CLEAR_APP_NOTIFICATIONS,void 0)},t.toggleNotificationCenter=async function(){return(0,u.tryServiceDispatch)(l.APITopic.TOGGLE_NOTIFICATION_CENTER,void 0)},t.setDefaultPlatformShortcut=function(e){return(0,u.tryServiceDispatch)(l.APITopic.SET_DEFAULT_PLATFORM_SHORTCUT,e)},t.show=async function(e){return(0,u.tryServiceDispatch)(l.APITopic.SHOW_NOTIFICATION_CENTER,e)},t.hide=async function(){return(0,u.tryServiceDispatch)(l.APITopic.HIDE_NOTIFICATION_CENTER,void 0)},t.getNotificationsCount=async function(){return(0,u.tryServiceDispatch)(l.APITopic.GET_NOTIFICATIONS_COUNT,void 0)},(t.UserSettings||(t.UserSettings={})).SOUND_ENABLED="soundEnabled",t.getUserSettingStatus=async function(e){return(0,u.tryServiceDispatch)(l.APITopic.GET_USER_SETTINGS_STATUS,e)},t.setAllowedOrigins=async e=>(0,u.tryServiceDispatch)(l.APITopic.SET_NOTIFICATION_SECURITY_RULE,{allowedOrigins:e})},43816:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDispatchMethod=t.tryServiceDispatch=void 0,t.tryServiceDispatch=async(e,t)=>{throw new Error("Environment is not initialized..")},t.setDispatchMethod=e=>{t.tryServiceDispatch=e}},44415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateFragmentNames=t.PresentationTemplateFragmentNames=t.ContainerTemplateFragmentNames=t.TemplateNames=void 0,t.TemplateNames={markdown:"markdown",list:"list",custom:"custom"},t.ContainerTemplateFragmentNames={container:"container"},t.PresentationTemplateFragmentNames={text:"text",image:"image",list:"list",actionableText:"actionableText"},t.TemplateFragmentNames=Object.assign(Object.assign({},t.ContainerTemplateFragmentNames),t.PresentationTemplateFragmentNames)},46451:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isConnectedToAtLeast=t.getStatus=void 0;const r=i(n(40651)),o=n(95785),a=n(43816),s=n(59603);function c(){return(0,o.withStrictTimeout)(500,(0,a.tryServiceDispatch)(s.APITopic.GET_PROVIDER_STATUS,void 0),"").catch((()=>({connected:!1,version:null,templateAPIVersion:null})))}t.getStatus=c,t.isConnectedToAtLeast=async function(e){const t=await c();if(t.connected&&null!==t.version){const n=(0,r.default)(t.version,e);if(0===n||1===n)return!0}return!1}},46865:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorColor=t.IndicatorType=void 0,(i=t.IndicatorType||(t.IndicatorType={})).FAILURE="failure",i.WARNING="warning",i.SUCCESS="success",(n=t.IndicatorColor||(t.IndicatorColor={})).RED="red",n.GREEN="green",n.YELLOW="yellow",n.BLUE="blue",n.PURPLE="purple",n.GRAY="gray",n.ORANGE="orange",n.MAGENTA="magenta",n.TEAL="teal"},50295:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},52315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFinContext=t.finContext=void 0,t.setFinContext=e=>{t.finContext=e}},59603:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.APITopic=t.getChannelName=t.SERVICE_CHANNEL=t.SERVICE_IDENTITY=void 0,t.SERVICE_IDENTITY={uuid:"notifications-service",name:"notifications-service"},t.SERVICE_CHANNEL="of-notifications-service-v1",t.getChannelName=e=>e===t.SERVICE_IDENTITY.uuid?t.SERVICE_CHANNEL:`${e}-${t.SERVICE_CHANNEL}`,(n=t.APITopic||(t.APITopic={})).CREATE_NOTIFICATION="create-notification",n.UPDATE_NOTIFICATION="update-notification",n.CLEAR_NOTIFICATION="clear-notification",n.GET_APP_NOTIFICATIONS="fetch-app-notifications",n.CLEAR_APP_NOTIFICATIONS="clear-app-notifications",n.TOGGLE_NOTIFICATION_CENTER="toggle-notification-center",n.ADD_EVENT_LISTENER="add-event-listener",n.REMOVE_EVENT_LISTENER="remove-event-listener",n.GET_PROVIDER_STATUS="get-provider-status",n.GET_NOTIFICATIONS_COUNT="get-notifications-count",n.SHOW_NOTIFICATION_CENTER="show-notification-center",n.HIDE_NOTIFICATION_CENTER="hide-notification-center",n.REGISTER_PLATFORM="register-notifications-platform",n.DEREGISTER_PLATFORM="deregister-notifications-platform",n.SET_FORM_STATUS_OPTIONS="set-form-status-options",n.SET_FORM_VALIDATION_ERRORS="set-form-validation-errors",n.GET_USER_SETTINGS_STATUS="get-user-settings-status",n.SET_DEFAULT_PLATFORM_SHORTCUT="set-default-platform-shortcut",n.SET_NOTIFICATION_SECURITY_RULE="set-notification-security-rule"},68912:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(93955),t),r(n(33713),t)},71474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75050:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;const i=n(52315);class r{static async error(e){try{const t=r.getPrefixedMessage(e);console.error(t),await i.finContext.System.log("error",t)}catch(e){r.handleError(e,"Failed to log error")}}static async warn(e){try{const t=r.getPrefixedMessage(e);console.warn(t),await i.finContext.System.log("warning",t)}catch(e){r.handleError(e,"Failed to log warning")}}static async info(e){try{const t=r.getPrefixedMessage(e);console.info(t),await i.finContext.System.log("info",t)}catch(e){r.handleError(e,"Failed to log info")}}static getPrefixedMessage(e){return`${r.LOG_PREFIX} ${e}`}static handleError(e,t){e instanceof Error?console.error(`${t} - ${e.name}: ${e.message}`):console.error(`${t} - ${JSON.stringify(e)}`)}}t.Log=r,r.LOG_PREFIX="[openfin-notifications]"},78364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},80664:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsRegistration=t.register=void 0;const o=n(52315),a=n(86308),s=n(43816),c=n(28173);"undefined"!=typeof fin&&(0,o.setFinContext)(fin),(0,c.setValidationMethod)(a.defaultValidateEnvironment),(0,s.setDispatchMethod)(a.defaultDispatch),r(n(40707),t);var u=n(5879);Object.defineProperty(t,"register",{enumerable:!0,get:function(){return u.register}}),Object.defineProperty(t,"NotificationsRegistration",{enumerable:!0,get:function(){return u.NotificationsRegistration}})},86308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultValidateEnvironment=t.defaultDispatch=void 0;const i=n(27167),r=n(52315);t.defaultDispatch=async function(e,t){return(await(0,i.getChannelClient)()).dispatch(e,t)},t.defaultValidateEnvironment=function(){if(void 0===r.finContext)throw new Error("fin is not defined. The openfin-notifications module is only intended for use in an OpenFin application.")}},86455:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBodyClickType=t.ActionNoopType=t.ActionTrigger=void 0,(n=t.ActionTrigger||(t.ActionTrigger={})).CONTROL="control",n.SELECT="select",n.CLOSE="close",n.EXPIRE="expire",n.PROGRAMMATIC="programmatic",(t.ActionNoopType||(t.ActionNoopType={})).EVENT_DISMISS="event_dismiss",(t.ActionBodyClickType||(t.ActionBodyClickType={})).DISMISS_EVENT="dismiss_event"},87204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90512:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(78364),t),r(n(71474),t),r(n(44415),t),r(n(15915),t)},93955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldType=void 0,t.FieldType={string:"string",number:"number",boolean:"boolean",date:"date",checkboxGroup:"checkboxGroup",radioGroup:"radioGroup",time:"time"}},95785:(e,t,n)=>{"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(22777)),i(n(3089))}},t={},function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}(80664);// removed by dead control flow
{ var e, t; }}));

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace/notifications */ "./node_modules/@openfin/workspace/notifications.js");
/* harmony import */ var _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__);
/* eslint-disable @typescript-eslint/await-thenable */


const PLATFORM_ID = "use-notifications";
const PLATFORM_ICON = "https://built-on-openfin.github.io/workspace-starter/giles/SUPPORT-1767/use-notifications/images/icon-dot.png";
const PLATFORM_TITLE = "Use Notifications";
const NOTIFICATION_SOUND_URL = "https://built-on-openfin.github.io/workspace-starter/giles/SUPPORT-1767/use-notifications/assets/notification.mp3";
// Keep track of notifications we are updating
const updatableNotifications = {};
let updatableNotificationTimer;
let loggingElement;
let codeElement;
let connected = false;
let connectedVersion;
let statusIntervalId;
let lastConnectionStatus;
/**
 * Wait for the DOM to have been loaded before we connect the UI elements and listeners.
 */
window.addEventListener("DOMContentLoaded", async () => {
    await initializeDom();
    // The DOM is ready so initialize the platform
    // Provide default icons and default theme for the browser windows
    await initializeWorkspacePlatform();
    await initializeNotifications();
});
/**
 * Initialize the workspace platform.
 */
async function initializeWorkspacePlatform() {
    console.log("Initializing workspace platform");
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser: {
            defaultWindowOptions: {
                icon: PLATFORM_ICON,
                workspacePlatform: {
                    pages: [],
                    favicon: PLATFORM_ICON
                }
            }
        },
        theme: [
            {
                label: "Default",
                default: "dark",
                palettes: {
                    dark: {
                        brandPrimary: "#0A76D3",
                        brandSecondary: "#383A40",
                        backgroundPrimary: "#1E1F23"
                    },
                    light: {
                        brandPrimary: "#0A76D3",
                        brandSecondary: "#1E1F23",
                        backgroundPrimary: "#FAFBFE",
                        // Demonstrate changing the link color for notifications
                        linkDefault: "#FF0000",
                        linkHover: "#00FF00"
                    }
                },
                notificationIndicatorColors: {
                    // This custom indicator color will be used in the Notification with Custom Indicator
                    "custom-indicator": {
                        dark: {
                            background: "#FF0000",
                            foreground: "#FFFFDD"
                        },
                        light: {
                            background: "#FF0000",
                            foreground: "#FFFFDD"
                        }
                    }
                }
            }
        ]
    });
}
/**
 * Initialize the notifications.
 */
async function initializeNotifications() {
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.register({
        notificationsPlatformOptions: {
            id: PLATFORM_ID,
            icon: PLATFORM_ICON,
            title: PLATFORM_TITLE
        }
    });
    showNotificationCount(await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.getNotificationsCount());
    await initializeListeners();
}
/**
 * Initialize the DOM elements.
 */
async function initializeDom() {
    loggingElement = document.querySelector("#logging");
    codeElement = document.querySelector("#code");
    const loggingContainer = document.querySelector("#logging-container");
    const codeContainer = document.querySelector("#code-container");
    if (!codeElement || !loggingElement || !loggingContainer || !codeContainer) {
        return;
    }
    loggingAddEntry(`Library Version: ${_openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.VERSION}`);
    const btnLoggingClear = document.querySelector("#btnLoggingClear");
    if (btnLoggingClear) {
        btnLoggingClear.addEventListener("click", () => {
            if (loggingElement) {
                loggingElement.textContent = "";
            }
        });
    }
    const btnCodeCopy = document.querySelector("#btnCodeCopy");
    if (btnCodeCopy) {
        btnCodeCopy.addEventListener("click", async () => {
            if (codeElement) {
                await fin.Clipboard.writeText({ data: codeElement.value });
            }
        });
    }
    const btnCodeNotification = document.querySelector("#btnCodeNotification");
    if (btnCodeNotification) {
        btnCodeNotification.addEventListener("click", async () => {
            try {
                if (codeElement) {
                    const notificationOptions = JSON.parse(codeElement.value);
                    notificationOptions.id = randomUUID();
                    codeShowExample(notificationOptions);
                    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notificationOptions);
                }
            }
            catch { }
        });
    }
    codeElement.addEventListener("input", () => {
        if (codeElement) {
            try {
                JSON.parse(codeElement.value);
                codeElement.classList.remove("error");
            }
            catch {
                codeElement.classList.add("error");
            }
        }
    });
    codeContainer.style.display = "none";
    const btnToggleTheme = document.querySelector("#btnPlatformToggleTheme");
    if (btnToggleTheme) {
        btnToggleTheme.addEventListener("click", async () => {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            const currentScheme = await platform.Theme.getSelectedScheme();
            if (currentScheme === _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.ColorSchemeOptionType.Light) {
                window.document.body.classList.remove("theme-light");
                await platform.Theme.setSelectedScheme(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.ColorSchemeOptionType.Dark);
            }
            else {
                window.document.body.classList.add("theme-light");
                await platform.Theme.setSelectedScheme(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.ColorSchemeOptionType.Light);
            }
        });
    }
    const btnViewLogging = document.querySelector("#btnViewLogging");
    if (btnViewLogging) {
        btnViewLogging.addEventListener("click", () => {
            loggingContainer.style.display = "flex";
            codeContainer.style.display = "none";
        });
    }
    const btnViewCode = document.querySelector("#btnViewCode");
    if (btnViewCode) {
        btnViewCode.addEventListener("click", () => {
            loggingContainer.style.display = "none";
            codeContainer.style.display = "flex";
        });
    }
    const btnNotificationSimple = document.querySelector("#btnNotificationSimple");
    if (btnNotificationSimple) {
        btnNotificationSimple.addEventListener("click", async () => showSimpleNotification());
    }
    const btnNotificationBodyDismiss = document.querySelector("#btnNotificationBodyDismiss");
    if (btnNotificationBodyDismiss) {
        btnNotificationBodyDismiss.addEventListener("click", async () => showSimpleNotificationBodyDismiss());
    }
    const btnNotificationBodyDismissAction = document.querySelector("#btnNotificationBodyDismissAction");
    if (btnNotificationBodyDismissAction) {
        btnNotificationBodyDismissAction.addEventListener("click", async () => showSimpleNotificationBodyDismissAction());
    }
    const btnNotificationActionable = document.querySelector("#btnNotificationActionable");
    if (btnNotificationActionable) {
        btnNotificationActionable.addEventListener("click", async () => showActionableNotification());
    }
    const btnNotificationForm = document.querySelector("#btnNotificationForm");
    if (btnNotificationForm) {
        btnNotificationForm.addEventListener("click", async () => showFormNotification());
    }
    const btnNotificationFormAdvanced = document.querySelector("#btnNotificationFormAdvanced");
    if (btnNotificationFormAdvanced) {
        btnNotificationFormAdvanced.addEventListener("click", async () => showFormAdvancedNotification());
    }
    const btnNotificationUpdatable = document.querySelector("#btnNotificationUpdatable");
    if (btnNotificationUpdatable) {
        btnNotificationUpdatable.addEventListener("click", async () => showUpdatableNotification());
    }
    const btnNotificationCustom = document.querySelector("#btnNotificationCustom");
    if (btnNotificationCustom) {
        btnNotificationCustom.addEventListener("click", async () => showCustomNotification());
    }
    const btnNotificationWithSound = document.querySelector("#btnNotificationWithSound");
    if (btnNotificationWithSound) {
        btnNotificationWithSound.addEventListener("click", async () => showSoundNotification(NOTIFICATION_SOUND_URL));
    }
    const btnNotificationCenterUserSettings = document.querySelector("#btnNotificationCenterUserSettings");
    if (btnNotificationCenterUserSettings) {
        btnNotificationCenterUserSettings.addEventListener("click", async () => getNotificationCenterUserSettings());
    }
    const btnNotificationWithIndicator = document.querySelector("#btnNotificationWithIndicator");
    if (btnNotificationWithIndicator) {
        btnNotificationWithIndicator.addEventListener("click", async () => showIndicatorNotification());
    }
    const btnNotificationWithCustomIndicator = document.querySelector("#btnNotificationWithCustomIndicator");
    if (btnNotificationWithCustomIndicator) {
        btnNotificationWithCustomIndicator.addEventListener("click", async () => showCustomIndicatorNotification());
    }
    const btnNotificationsCenterShow = document.querySelector("#btnNotificationsCenterShow");
    if (btnNotificationsCenterShow) {
        btnNotificationsCenterShow.addEventListener("click", async () => {
            try {
                btnNotificationsCenterShow.disabled = true;
                await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.show();
            }
            catch (err) {
                loggingAddEntry(`${err}`);
            }
            finally {
                btnNotificationsCenterShow.disabled = false;
            }
        });
    }
    const btnNotificationsCenterHide = document.querySelector("#btnNotificationsCenterHide");
    if (btnNotificationsCenterHide) {
        btnNotificationsCenterHide.addEventListener("click", async () => {
            try {
                btnNotificationsCenterHide.disabled = true;
                await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.hide();
            }
            catch (err) {
                loggingAddEntry(`${err}`);
            }
            finally {
                btnNotificationsCenterHide.disabled = false;
            }
        });
    }
    const btnNotificationStudioOpen = document.querySelector("#btnNotificationStudioOpen");
    if (btnNotificationStudioOpen) {
        btnNotificationStudioOpen.addEventListener("click", async () => {
            try {
                btnNotificationStudioOpen.disabled = true;
                await fin.Application.startFromManifest("https://cdn.openfin.co/studio/notification/app.json");
            }
            finally {
                btnNotificationStudioOpen.disabled = false;
            }
        });
    }
}
/**
 * Initialize the listeners for the events from the notification center.
 */
async function initializeListeners() {
    // Listen for new notifications being created
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notification-created", (event) => {
        loggingAddEntry(`Created: ${event.notification.id}`);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notification-closed", (event) => {
        loggingAddEntry(`Closed: ${event.notification.id}`);
        if (updatableNotifications[event.notification.id]) {
            delete updatableNotifications[event.notification.id];
            if (Object.keys(updatableNotifications).length === 0) {
                window.clearInterval(updatableNotificationTimer);
                updatableNotificationTimer = undefined;
            }
        }
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notification-action", async (event) => {
        if (event?.result?.actionId === "open-web-site") {
            await fin.System.openUrlWithBrowser(event?.result?.url);
        }
        else if (event?.result?.BODY_CLICK === "dismiss_event") {
            if (event.notification?.customData?.action) {
                loggingAddEntry(`\tData: ${event?.notification?.customData ? JSON.stringify(event.notification.customData) : "None"}`);
            }
            else {
                loggingAddEntry("\tNo action");
            }
            loggingAddEntry("\tBody click dismiss");
        }
        else {
            loggingAddEntry(`\tData: ${event?.result?.customData ? JSON.stringify(event.result.customData) : "None"}`);
            loggingAddEntry(`\tTask: ${event?.result?.task ?? "None"}`);
            loggingAddEntry(`Action: ${event.notification.id}`);
        }
        console.log(event);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notification-toast-dismissed", (event) => {
        loggingAddEntry(`Toast Dismissed: ${event.notification.id}`);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notification-form-submitted", (event) => {
        loggingAddEntry(`\tData: ${event?.form ? JSON.stringify(event.form) : "None"}`);
        loggingAddEntry(`Form: ${event.notification.id}`);
        console.log(event);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notifications-count-changed", (event) => {
        showNotificationCount(event.count);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.addEventListener("notification-sound-toggled", (event) => {
        loggingAddEntry(`Sound Enabled: ${event.notificationSoundEnabled}`);
    });
    addConnectionChangedEventListener((status) => {
        if (status.connected !== connected) {
            connected = status.connected;
            connectedVersion = status.version;
            updateConnectedState();
        }
    });
}
/**
 * Add a new entry in to the logging window.
 * @param entry The entry to add.
 */
function loggingAddEntry(entry) {
    if (loggingElement) {
        loggingElement.textContent = `${entry}\n\n${loggingElement.textContent}`;
    }
}
/**
 * Update the code example with the notification.
 * @param notificationOptions The options to show in the code example.
 */
function codeShowExample(notificationOptions) {
    if (codeElement) {
        codeElement.value = JSON.stringify(notificationOptions, undefined, "  ");
    }
}
/**
 * Update the connected state on the view.
 */
function updateConnectedState() {
    loggingAddEntry(`Is Connected: ${connected}`);
    if (connected) {
        loggingAddEntry(`Connected Version: ${connectedVersion}`);
    }
    const buttons = document.querySelectorAll("button");
    for (const button of buttons) {
        button.disabled = !connected;
    }
}
/**
 * Update the notification count on the view.
 * @param count The new count to display.
 */
function showNotificationCount(count) {
    const btnNotificationsCenterShow = document.querySelector("#btnNotificationsCenterShow");
    if (btnNotificationsCenterShow) {
        btnNotificationsCenterShow.textContent = `Show [${count}]`;
    }
}
/**
 * Display a very basic simple notification.
 */
async function showSimpleNotification() {
    const notification = {
        title: "Simple Notification",
        body: "This is a simple notification",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        soundOptions: {
            mode: "silent"
        },
        platform: PLATFORM_ID
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification which can be dismissed by clicking on the body.
 */
async function showSimpleNotificationBodyDismiss() {
    const notification = {
        title: "Simple Notification",
        body: "This is a simple notification that be dismissed by clicking the body",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        platform: PLATFORM_ID,
        onSelect: { BODY_CLICK: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.ActionBodyClickType.DISMISS_EVENT }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification which can be dismissed by clicking on the body and then trigger a custom action.
 */
async function showSimpleNotificationBodyDismissAction() {
    const notification = {
        title: "Simple Notification",
        body: "This is a simple notification that be dismissed by clicking the body and trigger custom action",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        platform: PLATFORM_ID,
        onSelect: { BODY_CLICK: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.ActionBodyClickType.DISMISS_EVENT },
        customData: {
            action: "custom-action",
            data: {
                message: "Body click custom action"
            }
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification which has action buttons, the events returned will
 * be handled the the notification-action listener.
 */
async function showActionableNotification() {
    const notification = {
        title: "Actionable Notification",
        body: "This is a notification that has an action",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        platform: PLATFORM_ID,
        buttons: [
            {
                title: "Acknowledged",
                type: "button",
                cta: true,
                onClick: {
                    task: "acknowledge-task",
                    customData: {
                        message: "This is the response data"
                    }
                }
            },
            {
                title: "Cancel",
                type: "button"
            }
        ]
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification which has form fields, the data from the form will
 * be returned to the notification-form-submitted listener.
 */
async function showFormNotification() {
    const notification = {
        title: "Form Notification",
        body: "This is a notification that has form data",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        platform: PLATFORM_ID,
        form: [
            {
                key: "amount",
                label: "Amount",
                type: "number",
                widget: {
                    type: "Number",
                    max: 100,
                    min: 1
                },
                validation: {
                    min: {
                        arg: 1,
                        invalidMessage: "Must be at least 1"
                    },
                    max: {
                        arg: 100,
                        invalidMessage: "Cannot be more than 100"
                    },
                    required: {
                        arg: true
                    }
                }
            }
        ],
        buttons: [
            {
                title: "Save",
                type: "button",
                cta: true,
                submit: true
            },
            {
                title: "Cancel",
                type: "button"
            }
        ]
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification which has form fields, the data from the form will
 * be returned to the notification-form-submitted listener.
 */
async function showFormAdvancedNotification() {
    const notification = {
        title: "Form Advanced Notification",
        body: "This is a notification that has form data",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        platform: PLATFORM_ID,
        form: [
            {
                type: "string",
                key: "book",
                label: "Book",
                helperText: "This is used to look up for book",
                widget: {
                    type: "Text",
                    placeholder: "Book name"
                },
                validation: {
                    min: {
                        arg: 7,
                        invalidMessage: "Must be at least 7 chars long"
                    },
                    max: {
                        arg: 9,
                        invalidMessage: "Must be at most 9 chars long"
                    },
                    required: {
                        arg: true
                    }
                },
                value: "1234554"
            },
            {
                type: "time",
                key: "what_time",
                label: "Chose time?",
                helperText: "Some time choosing helper text",
                value: {
                    hour: 12
                },
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "Time"
                }
            },
            {
                type: "date",
                key: "date_pickup",
                label: "When to pick up?",
                helperText: "Some date choosing helper text",
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "Date"
                }
            },
            {
                type: "string",
                key: "book2",
                label: "Book Type",
                helperText: "This is used to look up for book",
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "Dropdown",
                    options: [
                        {
                            value: "book1",
                            label: "Book 1"
                        },
                        {
                            value: "book2",
                            label: "Book 2"
                        },
                        {
                            value: "book3",
                            label: "Book 3"
                        }
                    ]
                }
            },
            {
                type: "radioGroup",
                key: "radioGroupDemo",
                label: "Chose one",
                helperText: "Some radio choosing helper text",
                value: "option_1",
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "RadioGroup",
                    group: [
                        {
                            label: "Option 1",
                            value: "option_1"
                        },
                        {
                            label: "Option 2",
                            value: "option_2"
                        },
                        {
                            label: "Option 3",
                            value: "option_3"
                        }
                    ]
                }
            },
            {
                type: "checkboxGroup",
                key: "checkboxGroupDemo",
                label: "Chose Multiple",
                helperText: "Some checkbox choosing helper text",
                value: ["option_1", "option_2"],
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "CheckboxGroup",
                    group: [
                        {
                            label: "Option 1",
                            value: "option_1"
                        },
                        {
                            label: "Option 2",
                            value: "option_2"
                        },
                        {
                            label: "Option 3",
                            value: "option_3"
                        }
                    ]
                }
            },
            {
                type: "string",
                key: "description",
                label: "Description",
                value: "very long text....",
                helperText: "This is used to look up for book",
                widget: {
                    type: "Text",
                    multiline: true,
                    placeholder: "Write description",
                    rows: 5
                }
            },
            {
                type: "number",
                key: "age",
                label: "Age",
                helperText: "This is used to look up for book",
                widget: {
                    type: "Number",
                    placeholder: "Enter age",
                    min: 1,
                    max: 8
                },
                validation: {
                    min: {
                        arg: 0
                    },
                    max: {
                        arg: 9
                    },
                    required: {
                        arg: true
                    }
                }
            }
        ],
        buttons: [
            {
                title: "Save",
                type: "button",
                cta: true,
                submit: true
            },
            {
                title: "Cancel",
                type: "button"
            }
        ]
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification that can be updated.
 */
async function showUpdatableNotification() {
    const id = randomUUID();
    const notification = {
        title: "Updatable Notification",
        body: "This is an updatable notification",
        toast: "transient",
        category: "default",
        template: "markdown",
        customData: {
            count: 0
        },
        id,
        platform: PLATFORM_ID
    };
    if (Object.keys(updatableNotifications).length === 0) {
        updatableNotificationTimer = window.setInterval(async () => {
            for (const notificationId in updatableNotifications) {
                updatableNotifications[notificationId].customData.count++;
                const notificationUpdate = {
                    template: "markdown",
                    body: `This is an updatable notification ${updatableNotifications[notificationId].customData.count}`,
                    id: notificationId
                };
                await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.update(notificationUpdate);
            }
        }, 1000);
    }
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
    updatableNotifications[id] = notification;
}
/**
 * Show a notification with custom content.
 */
async function showCustomNotification() {
    const notification = {
        title: "Custom Notification",
        toast: "transient",
        category: "default",
        template: "custom",
        id: randomUUID(),
        platform: PLATFORM_ID,
        templateOptions: {
            body: {
                compositions: [
                    {
                        minTemplateAPIVersion: "1",
                        layout: {
                            type: "container",
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "10px"
                            },
                            children: [
                                {
                                    type: "text",
                                    dataKey: "subTitle",
                                    style: {
                                        fontSize: "12px",
                                        fontWeight: "bold"
                                    }
                                },
                                {
                                    type: "container",
                                    style: {
                                        display: "flex",
                                        flexDirection: "column",
                                        marginBottom: "10px"
                                    },
                                    children: [
                                        {
                                            type: "text",
                                            dataKey: "firstValueTitle",
                                            style: {
                                                fontSize: "12px"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "firstValue",
                                            style: {
                                                fontSize: "14px",
                                                color: "var(--openfin-ui-brandPrimary)"
                                            }
                                        }
                                    ]
                                },
                                {
                                    type: "container",
                                    style: {
                                        display: "flex",
                                        flexDirection: "column",
                                        marginBottom: "10px"
                                    },
                                    children: [
                                        {
                                            type: "text",
                                            dataKey: "secondValueTitle",
                                            style: {
                                                fontSize: "12px"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "secondValue",
                                            style: {
                                                fontSize: "14px",
                                                color: "var(--openfin-ui-brandPrimary)"
                                            }
                                        }
                                    ]
                                },
                                {
                                    type: "image",
                                    dataKey: "exampleImageUrl",
                                    style: {
                                        height: "100px"
                                    }
                                },
                                {
                                    type: "actionableText",
                                    dataKey: "actionableUrlTitle",
                                    tooltipKey: "actionableUrlTooltip",
                                    onClick: {
                                        actionId: "open-web-site",
                                        url: "https://openfin.co"
                                    }
                                },
                                {
                                    type: "container",
                                    style: {
                                        display: "grid",
                                        flexDirection: "row",
                                        gridTemplateColumns: "1fr 1fr 1fr",
                                        marginBottom: "10px",
                                        overflow: "auto"
                                    },
                                    children: [
                                        {
                                            type: "text",
                                            dataKey: "c0",
                                            style: {
                                                fontSize: "10px",
                                                marginBottom: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                                backgroundColor: "var(--openfin-ui-brandPrimary)"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "c1",
                                            style: {
                                                fontSize: "10px",
                                                marginBottom: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                                backgroundColor: "var(--openfin-ui-brandPrimary)"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "c2",
                                            style: {
                                                fontSize: "10px",
                                                marginBottom: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                                backgroundColor: "var(--openfin-ui-brandPrimary)"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d00",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d01",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d02",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d10",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d11",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d12",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ]
            }
        },
        templateData: {
            subTitle: "Sub Title ",
            firstValueTitle: "First Value",
            firstValue: "100",
            secondValueTitle: "Second Value",
            secondValue: "200",
            c0: "Col 1",
            c1: "Col 2",
            c2: "Col 3",
            d00: "50",
            d01: "150",
            d02: "250",
            d10: "550",
            d11: "650",
            d12: "750",
            exampleImageUrl: "https://built-on-openfin.github.io/workspace-starter/giles/SUPPORT-1767/use-notifications/images/example.png",
            actionableUrlTitle: "OpenFin Website",
            actionableUrlTooltip: "http://www.openfin.co"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Show a notification and play a sound with it.
 * @param notificationSoundUrl The url of the sounds file to play.
 */
async function showSoundNotification(notificationSoundUrl) {
    // we disable the sound if it is enabled at the Notification Center level
    const notification = {
        title: "Sound Notification",
        body: "This is a notification with sound ",
        toast: "transient",
        category: "default",
        template: "markdown",
        soundOptions: { mode: "silent" },
        id: randomUUID(),
        platform: PLATFORM_ID
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
    await playNotification(notificationSoundUrl);
}
/**
 * Get the user settings for the notification center.
 */
async function getNotificationCenterUserSettings() {
    const status = await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.getUserSettingStatus("soundEnabled" /* Notifications.UserSettings.SOUND_ENABLED */);
    loggingAddEntry(`Sound Enabled: ${status}`);
}
/**
 * Display a notification that has an indicator bar on the left.
 */
async function showIndicatorNotification() {
    const notification = {
        title: "Indicator Notification",
        toast: "transient",
        indicator: {
            text: "Limit"
        },
        category: "default",
        template: "custom",
        id: randomUUID(),
        platform: PLATFORM_ID,
        templateOptions: {
            body: {
                compositions: [
                    {
                        minTemplateAPIVersion: "1",
                        layout: {
                            type: "container",
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "10px"
                            },
                            children: [
                                {
                                    type: "text",
                                    dataKey: "content"
                                }
                            ]
                        }
                    }
                ]
            },
            indicator: {
                align: "left",
                color: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.IndicatorColor.RED
            }
        },
        templateData: {
            content: "This is a custom notification with a red indicator showing to the left of the toast"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Display a notification that has an custom indicator bar color theme.
 */
async function showCustomIndicatorNotification() {
    const notification = {
        title: "Custom Indicator Notification",
        toast: "transient",
        category: "default",
        template: "custom",
        id: randomUUID(),
        platform: PLATFORM_ID,
        templateOptions: {
            body: {
                compositions: [
                    {
                        minTemplateAPIVersion: "1",
                        layout: {
                            type: "container",
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "10px"
                            },
                            children: [
                                {
                                    type: "text",
                                    dataKey: "content"
                                }
                            ]
                        }
                    }
                ]
            },
            indicator: {
                align: "right"
            }
        },
        indicator: {
            color: "custom-indicator",
            fallback: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.IndicatorColor.RED,
            text: "ALERT!!!"
        },
        templateData: {
            content: "This is a custom notification with custom indicator styling"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.create(notification);
}
/**
 * Play a sound.
 * @param notificationSoundUrl The url of the notification to play.
 */
async function playNotification(notificationSoundUrl) {
    const audio = new Audio(notificationSoundUrl);
    await audio.play();
}
/**
 * Add a listener which checks for the connection changed event.
 * @param callback The callback to call when the connection state changes.
 */
function addConnectionChangedEventListener(callback) {
    if (statusIntervalId === undefined) {
        statusIntervalId = window.setInterval(async () => {
            const status = await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_1__.provider.getStatus();
            if (status.connected !== lastConnectionStatus) {
                lastConnectionStatus = status.connected;
                callback(status);
            }
        }, 1000);
    }
}
/**
 * Polyfills randomUUID if running in a non-secure context.
 * @returns The random UUID.
 */
function randomUUID() {
    if ("randomUUID" in window.crypto) {
        // eslint-disable-next-line no-restricted-syntax
        return window.crypto.randomUUID();
    }
    // Polyfill the window.crypto.randomUUID if we are running in a non secure context that doesn't have it
    // we are still using window.crypto.getRandomValues which is always available
    // https://stackoverflow.com/a/2117523/2800218
    /**
     * Get random hex value.
     * @param c The number to base the random value on.
     * @returns The random value.
     */
    function getRandomHex(c) {
        // eslint-disable-next-line no-bitwise
        const rnd = window.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4));
        return (
        // eslint-disable-next-line no-bitwise
        (Number(c) ^ rnd).toString(16));
    }
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, getRandomHex);
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsZ0ZBQWdGLEVBQUU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7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O0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixhQUFhO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyxlQUFlO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNEJBQTRCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyxlQUFlO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxFQUFFO0FBQ3pFLFFBQVE7QUFDUiwyQ0FBMkMsa0JBQWtCLEVBQUUsYUFBYSxFQUFFLElBQUk7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsRUFBRSxHQUFHLEVBQUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsZUFBZTtBQUNoSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7O0FDaDBFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixxQkFBTSxnQkFBZ0IscUJBQU0sSUFBSSxxQkFBTSxzQkFBc0IscUJBQU07O0FBRTFGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LElBQUksWUFBWSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNuQyxnREFBZ0Q7UUFDaEQsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFDRCx1R0FBdUc7SUFDdkcsNkVBQTZFO0lBQzdFLDhDQUE4QztJQUM5Qzs7OztPQUlHO0lBQ0gsU0FBUyxZQUFZLENBQUMsQ0FBUztRQUM5QixzQ0FBc0M7UUFDdEMsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFGLE9BQU87UUFDTixzQ0FBc0M7UUFDdEMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUM5QixDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sc0NBQXNDLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUMvRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9kZXhpZS9kaXN0L2RleGllLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvZGV4aWUvaW1wb3J0LXdyYXBwZXIubWpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvaHRtbC1wYXJzZS1zdHJpbmdpZnkvZGlzdC9odG1sLXBhcnNlLXN0cmluZ2lmeS5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9pMThuZXh0L2Rpc3QvY2pzL2kxOG5leHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvSTE4bmV4dFByb3ZpZGVyLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL1RyYW5zLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL1RyYW5zV2l0aG91dENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvY29udGV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9pMThuSW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvaW5pdFJlYWN0STE4bmV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91bmVzY2FwZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91c2VTU1IuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXNlVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvd2l0aFNTUi5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy93aXRoVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3RpdGxlLWNhc2UvZGlzdC5lczIwMTUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy92b2lkLWVsZW1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy8uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9ub3RpZmljYXRpb25zLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy8uL25vZGVfbW9kdWxlcy9vcGVuZmluLW5vdGlmaWNhdGlvbnMvZGlzdC9jbGllbnQvd2l0aG91dC1hdXRvLWxhdW5jaC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tdXNlLW5vdGlmaWNhdGlvbnMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS11c2Utbm90aWZpY2F0aW9ucy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXVzZS1ub3RpZmljYXRpb25zLy4vY2xpZW50L3NyYy9wcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogRGV4aWUuanMgLSBhIG1pbmltYWxpc3RpYyB3cmFwcGVyIGZvciBJbmRleGVkREJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogQnkgRGF2aWQgRmFobGFuZGVyLCBkYXZpZC5mYWhsYW5kZXJAZ21haWwuY29tXG4gKlxuICogVmVyc2lvbiA0LjAuMTEsIFdlZCBKYW4gMTUgMjAyNVxuICpcbiAqIGh0dHBzOi8vZGV4aWUub3JnXG4gKlxuICogQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIEphbnVhcnkgMjAwNCwgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL1xuICovXG4gXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5EZXhpZSA9IGZhY3RvcnkoKSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbiAgICBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcbiAgICBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9XG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG4gICAgfVxuXG4gICAgdmFyIF9nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDpcbiAgICAgICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6XG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6XG4gICAgICAgICAgICAgICAgZ2xvYmFsO1xuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cztcbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAhX2dsb2JhbC5Qcm9taXNlKSB7XG4gICAgICAgIF9nbG9iYWwuUHJvbWlzZSA9IFByb21pc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4dGVuZChvYmosIGV4dGVuc2lvbikge1xuICAgICAgICBpZiAodHlwZW9mIGV4dGVuc2lvbiAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICBrZXlzKGV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGV4dGVuc2lvbltrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICAgIHZhciBfaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG4gICAgZnVuY3Rpb24gaGFzT3duKG9iaiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gX2hhc093bi5jYWxsKG9iaiwgcHJvcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BzKHByb3RvLCBleHRlbnNpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBleHRlbnNpb24gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24oZ2V0UHJvdG8ocHJvdG8pKTtcbiAgICAgICAgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8ga2V5cyA6IFJlZmxlY3Qub3duS2V5cykoZXh0ZW5zaW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHNldFByb3AocHJvdG8sIGtleSwgZXh0ZW5zaW9uW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIHNldFByb3Aob2JqLCBwcm9wLCBmdW5jdGlvbk9yR2V0U2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZXh0ZW5kKGZ1bmN0aW9uT3JHZXRTZXQgJiYgaGFzT3duKGZ1bmN0aW9uT3JHZXRTZXQsIFwiZ2V0XCIpICYmIHR5cGVvZiBmdW5jdGlvbk9yR2V0U2V0LmdldCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICB7IGdldDogZnVuY3Rpb25PckdldFNldC5nZXQsIHNldDogZnVuY3Rpb25PckdldFNldC5zZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IDpcbiAgICAgICAgICAgIHsgdmFsdWU6IGZ1bmN0aW9uT3JHZXRTZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXJpdmUoQ2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBDaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBhcmVudC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIHNldFByb3AoQ2hpbGQucHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIENoaWxkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQ6IHByb3BzLmJpbmQobnVsbCwgQ2hpbGQucHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgIGZ1bmN0aW9uIGdldFByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApIHtcbiAgICAgICAgdmFyIHBkID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgcHJvcCk7XG4gICAgICAgIHZhciBwcm90bztcbiAgICAgICAgcmV0dXJuIHBkIHx8IChwcm90byA9IGdldFByb3RvKG9iaikpICYmIGdldFByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcCk7XG4gICAgfVxuICAgIHZhciBfc2xpY2UgPSBbXS5zbGljZTtcbiAgICBmdW5jdGlvbiBzbGljZShhcmdzLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHJldHVybiBfc2xpY2UuY2FsbChhcmdzLCBzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3ZlcnJpZGUob3JpZ0Z1bmMsIG92ZXJyaWRlZEZhY3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJyaWRlZEZhY3Rvcnkob3JpZ0Z1bmMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnQoYikge1xuICAgICAgICBpZiAoIWIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3NlcnRpb24gRmFpbGVkXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc2FwJDEoZm4pIHtcbiAgICAgICAgaWYgKF9nbG9iYWwuc2V0SW1tZWRpYXRlKVxuICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyYXksIGV4dHJhY3Rvcikge1xuICAgICAgICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIHZhciBuYW1lQW5kVmFsdWUgPSBleHRyYWN0b3IoaXRlbSwgaSk7XG4gICAgICAgICAgICBpZiAobmFtZUFuZFZhbHVlKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtuYW1lQW5kVmFsdWVbMF1dID0gbmFtZUFuZFZhbHVlWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgJiYgaGFzT3duKG9iaiwga2V5UGF0aCkpXG4gICAgICAgICAgICByZXR1cm4gb2JqW2tleVBhdGhdO1xuICAgICAgICBpZiAoIWtleVBhdGgpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgcnYgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5UGF0aC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aFtpXSk7XG4gICAgICAgICAgICAgICAgcnYucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwZXJpb2QgPSBrZXlQYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBpbm5lck9iaiA9IG9ialtrZXlQYXRoLnN1YnN0cigwLCBwZXJpb2QpXTtcbiAgICAgICAgICAgIHJldHVybiBpbm5lck9iaiA9PSBudWxsID8gdW5kZWZpbmVkIDogZ2V0QnlLZXlQYXRoKGlubmVyT2JqLCBrZXlQYXRoLnN1YnN0cihwZXJpb2QgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFvYmogfHwga2V5UGF0aCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoJ2lzRnJvemVuJyBpbiBPYmplY3QgJiYgT2JqZWN0LmlzRnJvemVuKG9iaikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycgJiYgJ2xlbmd0aCcgaW4ga2V5UGF0aCkge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgJ2xlbmd0aCcgaW4gdmFsdWUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlQYXRoLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGhbaV0sIHZhbHVlW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwZXJpb2QgPSBrZXlQYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgICAgIGlmIChwZXJpb2QgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRLZXlQYXRoID0ga2V5UGF0aC5zdWJzdHIoMCwgcGVyaW9kKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nS2V5UGF0aCA9IGtleVBhdGguc3Vic3RyKHBlcmlvZCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmdLZXlQYXRoID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkob2JqKSAmJiAhaXNOYU4ocGFyc2VJbnQoY3VycmVudEtleVBhdGgpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc3BsaWNlKGN1cnJlbnRLZXlQYXRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2N1cnJlbnRLZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbY3VycmVudEtleVBhdGhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbm5lck9iaiA9IG9ialtjdXJyZW50S2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5uZXJPYmogfHwgIWhhc093bihvYmosIGN1cnJlbnRLZXlQYXRoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyT2JqID0gKG9ialtjdXJyZW50S2V5UGF0aF0gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpbm5lck9iaiwgcmVtYWluaW5nS2V5UGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KG9iaikgJiYgIWlzTmFOKHBhcnNlSW50KGtleVBhdGgpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zcGxpY2Uoa2V5UGF0aCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleVBhdGhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsQnlLZXlQYXRoKG9iaiwga2V5UGF0aCkge1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZWxzZSBpZiAoJ2xlbmd0aCcgaW4ga2V5UGF0aClcbiAgICAgICAgICAgIFtdLm1hcC5jYWxsKGtleVBhdGgsIGZ1bmN0aW9uIChrcCkge1xuICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtwLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvYmopIHtcbiAgICAgICAgdmFyIHJ2ID0ge307XG4gICAgICAgIGZvciAodmFyIG0gaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duKG9iaiwgbSkpXG4gICAgICAgICAgICAgICAgcnZbbV0gPSBvYmpbbV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICB2YXIgY29uY2F0ID0gW10uY29uY2F0O1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYSkge1xuICAgICAgICByZXR1cm4gY29uY2F0LmFwcGx5KFtdLCBhKTtcbiAgICB9XG4gICAgdmFyIGludHJpbnNpY1R5cGVOYW1lcyA9IFwiQmlnVWludDY0QXJyYXksQmlnSW50NjRBcnJheSxBcnJheSxCb29sZWFuLFN0cmluZyxEYXRlLFJlZ0V4cCxCbG9iLEZpbGUsRmlsZUxpc3QsRmlsZVN5c3RlbUZpbGVIYW5kbGUsRmlsZVN5c3RlbURpcmVjdG9yeUhhbmRsZSxBcnJheUJ1ZmZlcixEYXRhVmlldyxVaW50OENsYW1wZWRBcnJheSxJbWFnZUJpdG1hcCxJbWFnZURhdGEsTWFwLFNldCxDcnlwdG9LZXlcIlxuICAgICAgICAuc3BsaXQoJywnKS5jb25jYXQoZmxhdHRlbihbOCwgMTYsIDMyLCA2NF0ubWFwKGZ1bmN0aW9uIChudW0pIHsgcmV0dXJuIFtcIkludFwiLCBcIlVpbnRcIiwgXCJGbG9hdFwiXS5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKyBudW0gKyBcIkFycmF5XCI7IH0pOyB9KSkpLmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gX2dsb2JhbFt0XTsgfSk7XG4gICAgdmFyIGludHJpbnNpY1R5cGVzID0gbmV3IFNldChpbnRyaW5zaWNUeXBlTmFtZXMubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiBfZ2xvYmFsW3RdOyB9KSk7XG4gICAgZnVuY3Rpb24gY2xvbmVTaW1wbGVPYmplY3RUcmVlKG8pIHtcbiAgICAgICAgdmFyIHJ2ID0ge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gbylcbiAgICAgICAgICAgIGlmIChoYXNPd24obywgaykpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IG9ba107XG4gICAgICAgICAgICAgICAgcnZba10gPSAhdiB8fCB0eXBlb2YgdiAhPT0gJ29iamVjdCcgfHwgaW50cmluc2ljVHlwZXMuaGFzKHYuY29uc3RydWN0b3IpID8gdiA6IGNsb25lU2ltcGxlT2JqZWN0VHJlZSh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYmplY3RJc0VtcHR5KG8pIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvKVxuICAgICAgICAgICAgaWYgKGhhc093bihvLCBrKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgY2lyY3VsYXJSZWZzID0gbnVsbDtcbiAgICBmdW5jdGlvbiBkZWVwQ2xvbmUoYW55KSB7XG4gICAgICAgIGNpcmN1bGFyUmVmcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHZhciBydiA9IGlubmVyRGVlcENsb25lKGFueSk7XG4gICAgICAgIGNpcmN1bGFyUmVmcyA9IG51bGw7XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5uZXJEZWVwQ2xvbmUoeCkge1xuICAgICAgICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIHZhciBydiA9IGNpcmN1bGFyUmVmcy5nZXQoeCk7XG4gICAgICAgIGlmIChydilcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgaWYgKGlzQXJyYXkoeCkpIHtcbiAgICAgICAgICAgIHJ2ID0gW107XG4gICAgICAgICAgICBjaXJjdWxhclJlZnMuc2V0KHgsIHJ2KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0geC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICBydi5wdXNoKGlubmVyRGVlcENsb25lKHhbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnRyaW5zaWNUeXBlcy5oYXMoeC5jb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHJ2ID0geDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IGdldFByb3RvKHgpO1xuICAgICAgICAgICAgcnYgPSBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSA/IHt9IDogT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICAgICAgICBjaXJjdWxhclJlZnMuc2V0KHgsIHJ2KTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4geCkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd24oeCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcnZbcHJvcF0gPSBpbm5lckRlZXBDbG9uZSh4W3Byb3BdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICB2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcbiAgICBmdW5jdGlvbiB0b1N0cmluZ1RhZyhvKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICBTeW1ib2wuaXRlcmF0b3IgOlxuICAgICAgICAnQEBpdGVyYXRvcic7XG4gICAgdmFyIGdldEl0ZXJhdG9yT2YgPSB0eXBlb2YgaXRlcmF0b3JTeW1ib2wgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgcmV0dXJuIHggIT0gbnVsbCAmJiAoaSA9IHhbaXRlcmF0b3JTeW1ib2xdKSAmJiBpLmFwcGx5KHgpO1xuICAgIH0gOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgIGZ1bmN0aW9uIGRlbEFycmF5SXRlbShhLCB4KSB7XG4gICAgICAgIHZhciBpID0gYS5pbmRleE9mKHgpO1xuICAgICAgICBpZiAoaSA+PSAwKVxuICAgICAgICAgICAgYS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybiBpID49IDA7XG4gICAgfVxuICAgIHZhciBOT19DSEFSX0FSUkFZID0ge307XG4gICAgZnVuY3Rpb24gZ2V0QXJyYXlPZihhcnJheUxpa2UpIHtcbiAgICAgICAgdmFyIGksIGEsIHgsIGl0O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJyYXlMaWtlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlMaWtlLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcyA9PT0gTk9fQ0hBUl9BUlJBWSAmJiB0eXBlb2YgYXJyYXlMaWtlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FycmF5TGlrZV07XG4gICAgICAgICAgICBpZiAoKGl0ID0gZ2V0SXRlcmF0b3JPZihhcnJheUxpa2UpKSkge1xuICAgICAgICAgICAgICAgIGEgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKHggPSBpdC5uZXh0KCkpLCAheC5kb25lKVxuICAgICAgICAgICAgICAgICAgICBhLnB1c2goeC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJyYXlMaWtlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICAgICAgaSA9IGFycmF5TGlrZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgYSA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICBhW2ldID0gYXJyYXlMaWtlW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhID0gbmV3IEFycmF5KGkpO1xuICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgYVtpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIHZhciBpc0FzeW5jRnVuY3Rpb24gPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm5bU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0FzeW5jRnVuY3Rpb24nOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cbiAgICB2YXIgZGV4aWVFcnJvck5hbWVzID0gW1xuICAgICAgICAnTW9kaWZ5JyxcbiAgICAgICAgJ0J1bGsnLFxuICAgICAgICAnT3BlbkZhaWxlZCcsXG4gICAgICAgICdWZXJzaW9uQ2hhbmdlJyxcbiAgICAgICAgJ1NjaGVtYScsXG4gICAgICAgICdVcGdyYWRlJyxcbiAgICAgICAgJ0ludmFsaWRUYWJsZScsXG4gICAgICAgICdNaXNzaW5nQVBJJyxcbiAgICAgICAgJ05vU3VjaERhdGFiYXNlJyxcbiAgICAgICAgJ0ludmFsaWRBcmd1bWVudCcsXG4gICAgICAgICdTdWJUcmFuc2FjdGlvbicsXG4gICAgICAgICdVbnN1cHBvcnRlZCcsXG4gICAgICAgICdJbnRlcm5hbCcsXG4gICAgICAgICdEYXRhYmFzZUNsb3NlZCcsXG4gICAgICAgICdQcmVtYXR1cmVDb21taXQnLFxuICAgICAgICAnRm9yZWlnbkF3YWl0J1xuICAgIF07XG4gICAgdmFyIGlkYkRvbUVycm9yTmFtZXMgPSBbXG4gICAgICAgICdVbmtub3duJyxcbiAgICAgICAgJ0NvbnN0cmFpbnQnLFxuICAgICAgICAnRGF0YScsXG4gICAgICAgICdUcmFuc2FjdGlvbkluYWN0aXZlJyxcbiAgICAgICAgJ1JlYWRPbmx5JyxcbiAgICAgICAgJ1ZlcnNpb24nLFxuICAgICAgICAnTm90Rm91bmQnLFxuICAgICAgICAnSW52YWxpZFN0YXRlJyxcbiAgICAgICAgJ0ludmFsaWRBY2Nlc3MnLFxuICAgICAgICAnQWJvcnQnLFxuICAgICAgICAnVGltZW91dCcsXG4gICAgICAgICdRdW90YUV4Y2VlZGVkJyxcbiAgICAgICAgJ1N5bnRheCcsXG4gICAgICAgICdEYXRhQ2xvbmUnXG4gICAgXTtcbiAgICB2YXIgZXJyb3JMaXN0ID0gZGV4aWVFcnJvck5hbWVzLmNvbmNhdChpZGJEb21FcnJvck5hbWVzKTtcbiAgICB2YXIgZGVmYXVsdFRleHRzID0ge1xuICAgICAgICBWZXJzaW9uQ2hhbmdlZDogXCJEYXRhYmFzZSB2ZXJzaW9uIGNoYW5nZWQgYnkgb3RoZXIgZGF0YWJhc2UgY29ubmVjdGlvblwiLFxuICAgICAgICBEYXRhYmFzZUNsb3NlZDogXCJEYXRhYmFzZSBoYXMgYmVlbiBjbG9zZWRcIixcbiAgICAgICAgQWJvcnQ6IFwiVHJhbnNhY3Rpb24gYWJvcnRlZFwiLFxuICAgICAgICBUcmFuc2FjdGlvbkluYWN0aXZlOiBcIlRyYW5zYWN0aW9uIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBvciBmYWlsZWRcIixcbiAgICAgICAgTWlzc2luZ0FQSTogXCJJbmRleGVkREIgQVBJIG1pc3NpbmcuIFBsZWFzZSB2aXNpdCBodHRwczovL3Rpbnl1cmwuY29tL3kydXV2c2tiXCJcbiAgICB9O1xuICAgIGZ1bmN0aW9uIERleGllRXJyb3IobmFtZSwgbXNnKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgICB9XG4gICAgZGVyaXZlKERleGllRXJyb3IpLmZyb20oRXJyb3IpLmV4dGVuZCh7XG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5hbWUgKyBcIjogXCIgKyB0aGlzLm1lc3NhZ2U7IH1cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBnZXRNdWx0aUVycm9yTWVzc2FnZShtc2csIGZhaWx1cmVzKSB7XG4gICAgICAgIHJldHVybiBtc2cgKyBcIi4gRXJyb3JzOiBcIiArIE9iamVjdC5rZXlzKGZhaWx1cmVzKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmYWlsdXJlc1trZXldLnRvU3RyaW5nKCk7IH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBzKSB7IHJldHVybiBzLmluZGV4T2YodikgPT09IGk7IH0pXG4gICAgICAgICAgICAuam9pbignXFxuJyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1vZGlmeUVycm9yKG1zZywgZmFpbHVyZXMsIHN1Y2Nlc3NDb3VudCwgZmFpbGVkS2V5cykge1xuICAgICAgICB0aGlzLmZhaWx1cmVzID0gZmFpbHVyZXM7XG4gICAgICAgIHRoaXMuZmFpbGVkS2V5cyA9IGZhaWxlZEtleXM7XG4gICAgICAgIHRoaXMuc3VjY2Vzc0NvdW50ID0gc3VjY2Vzc0NvdW50O1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBnZXRNdWx0aUVycm9yTWVzc2FnZShtc2csIGZhaWx1cmVzKTtcbiAgICB9XG4gICAgZGVyaXZlKE1vZGlmeUVycm9yKS5mcm9tKERleGllRXJyb3IpO1xuICAgIGZ1bmN0aW9uIEJ1bGtFcnJvcihtc2csIGZhaWx1cmVzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQnVsa0Vycm9yXCI7XG4gICAgICAgIHRoaXMuZmFpbHVyZXMgPSBPYmplY3Qua2V5cyhmYWlsdXJlcykubWFwKGZ1bmN0aW9uIChwb3MpIHsgcmV0dXJuIGZhaWx1cmVzW3Bvc107IH0pO1xuICAgICAgICB0aGlzLmZhaWx1cmVzQnlQb3MgPSBmYWlsdXJlcztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCB0aGlzLmZhaWx1cmVzKTtcbiAgICB9XG4gICAgZGVyaXZlKEJ1bGtFcnJvcikuZnJvbShEZXhpZUVycm9yKTtcbiAgICB2YXIgZXJybmFtZXMgPSBlcnJvckxpc3QucmVkdWNlKGZ1bmN0aW9uIChvYmosIG5hbWUpIHsgcmV0dXJuIChvYmpbbmFtZV0gPSBuYW1lICsgXCJFcnJvclwiLCBvYmopOyB9LCB7fSk7XG4gICAgdmFyIEJhc2VFeGNlcHRpb24gPSBEZXhpZUVycm9yO1xuICAgIHZhciBleGNlcHRpb25zID0gZXJyb3JMaXN0LnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgICAgIHZhciBmdWxsTmFtZSA9IG5hbWUgKyBcIkVycm9yXCI7XG4gICAgICAgIGZ1bmN0aW9uIERleGllRXJyb3IobXNnT3JJbm5lciwgaW5uZXIpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICAgICAgaWYgKCFtc2dPcklubmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZGVmYXVsdFRleHRzW25hbWVdIHx8IGZ1bGxOYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1zZ09ySW5uZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJcIi5jb25jYXQobXNnT3JJbm5lcikuY29uY2F0KCFpbm5lciA/ICcnIDogJ1xcbiAnICsgaW5uZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lciB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1zZ09ySW5uZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJcIi5jb25jYXQobXNnT3JJbm5lci5uYW1lLCBcIiBcIikuY29uY2F0KG1zZ09ySW5uZXIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lciA9IG1zZ09ySW5uZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVyaXZlKERleGllRXJyb3IpLmZyb20oQmFzZUV4Y2VwdGlvbik7XG4gICAgICAgIG9ialtuYW1lXSA9IERleGllRXJyb3I7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGV4Y2VwdGlvbnMuU3ludGF4ID0gU3ludGF4RXJyb3I7XG4gICAgZXhjZXB0aW9ucy5UeXBlID0gVHlwZUVycm9yO1xuICAgIGV4Y2VwdGlvbnMuUmFuZ2UgPSBSYW5nZUVycm9yO1xuICAgIHZhciBleGNlcHRpb25NYXAgPSBpZGJEb21FcnJvck5hbWVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgICAgIG9ialtuYW1lICsgXCJFcnJvclwiXSA9IGV4Y2VwdGlvbnNbbmFtZV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGZ1bmN0aW9uIG1hcEVycm9yKGRvbUVycm9yLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghZG9tRXJyb3IgfHwgZG9tRXJyb3IgaW5zdGFuY2VvZiBEZXhpZUVycm9yIHx8IGRvbUVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yIHx8IGRvbUVycm9yIGluc3RhbmNlb2YgU3ludGF4RXJyb3IgfHwgIWRvbUVycm9yLm5hbWUgfHwgIWV4Y2VwdGlvbk1hcFtkb21FcnJvci5uYW1lXSlcbiAgICAgICAgICAgIHJldHVybiBkb21FcnJvcjtcbiAgICAgICAgdmFyIHJ2ID0gbmV3IGV4Y2VwdGlvbk1hcFtkb21FcnJvci5uYW1lXShtZXNzYWdlIHx8IGRvbUVycm9yLm1lc3NhZ2UsIGRvbUVycm9yKTtcbiAgICAgICAgaWYgKFwic3RhY2tcIiBpbiBkb21FcnJvcikge1xuICAgICAgICAgICAgc2V0UHJvcChydiwgXCJzdGFja1wiLCB7IGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbm5lci5zdGFjaztcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgdmFyIGZ1bGxOYW1lRXhjZXB0aW9ucyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgICAgICBpZiAoW1wiU3ludGF4XCIsIFwiVHlwZVwiLCBcIlJhbmdlXCJdLmluZGV4T2YobmFtZSkgPT09IC0xKVxuICAgICAgICAgICAgb2JqW25hbWUgKyBcIkVycm9yXCJdID0gZXhjZXB0aW9uc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG4gICAgZnVsbE5hbWVFeGNlcHRpb25zLk1vZGlmeUVycm9yID0gTW9kaWZ5RXJyb3I7XG4gICAgZnVsbE5hbWVFeGNlcHRpb25zLkRleGllRXJyb3IgPSBEZXhpZUVycm9yO1xuICAgIGZ1bGxOYW1lRXhjZXB0aW9ucy5CdWxrRXJyb3IgPSBCdWxrRXJyb3I7XG5cbiAgICBmdW5jdGlvbiBub3AoKSB7IH1cbiAgICBmdW5jdGlvbiBtaXJyb3IodmFsKSB7IHJldHVybiB2YWw7IH1cbiAgICBmdW5jdGlvbiBwdXJlRnVuY3Rpb25DaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09IG51bGwgfHwgZjEgPT09IG1pcnJvcilcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmMihmMSh2YWwpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbEJvdGgob24xLCBvbjIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9uMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgb24yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhvb2tDcmVhdGluZ0NoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHJlcztcbiAgICAgICAgICAgIHZhciBvbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyxcbiAgICAgICAgICAgIG9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XG4gICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHJlczIgPSBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzID8gY2FsbEJvdGgob25zdWNjZXNzLCB0aGlzLm9uc3VjY2VzcykgOiBvbnN1Y2Nlc3M7XG4gICAgICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiByZXMyICE9PSB1bmRlZmluZWQgPyByZXMyIDogcmVzO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBob29rRGVsZXRpbmdDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgdmFyIG9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzLFxuICAgICAgICAgICAgb25lcnJvciA9IHRoaXMub25lcnJvcjtcbiAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAob25zdWNjZXNzKVxuICAgICAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MgPyBjYWxsQm90aChvbnN1Y2Nlc3MsIHRoaXMub25zdWNjZXNzKSA6IG9uc3VjY2VzcztcbiAgICAgICAgICAgIGlmIChvbmVycm9yKVxuICAgICAgICAgICAgICAgIHRoaXMub25lcnJvciA9IHRoaXMub25lcnJvciA/IGNhbGxCb3RoKG9uZXJyb3IsIHRoaXMub25lcnJvcikgOiBvbmVycm9yO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBob29rVXBkYXRpbmdDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9kaWZpY2F0aW9ucykge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBleHRlbmQobW9kaWZpY2F0aW9ucywgcmVzKTtcbiAgICAgICAgICAgIHZhciBvbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyxcbiAgICAgICAgICAgIG9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XG4gICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHJlczIgPSBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzID8gY2FsbEJvdGgob25zdWNjZXNzLCB0aGlzLm9uc3VjY2VzcykgOiBvbnN1Y2Nlc3M7XG4gICAgICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiByZXMgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgKHJlczIgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlczIpIDpcbiAgICAgICAgICAgICAgICAoZXh0ZW5kKHJlcywgcmVzMikpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXZlcnNlU3RvcHBhYmxlRXZlbnRDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb21pc2FibGVDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgdHlwZW9mIHJlcy50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXogPSB0aGlzLCBpID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmMi5hcHBseSh0aGl6LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBkZWJ1ZyA9IHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgL14oaHR0cHxodHRwcyk6XFwvXFwvKGxvY2FsaG9zdHwxMjdcXC4wXFwuMFxcLjEpLy50ZXN0KGxvY2F0aW9uLmhyZWYpO1xuICAgIGZ1bmN0aW9uIHNldERlYnVnKHZhbHVlLCBmaWx0ZXIpIHtcbiAgICAgICAgZGVidWcgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgSU5URVJOQUwgPSB7fTtcbiAgICB2YXIgWk9ORV9FQ0hPX0xJTUlUID0gMTAwLCBfYSQxID0gdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgW10gOlxuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGdsb2JhbFAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJyB8fCAhY3J5cHRvLnN1YnRsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW2dsb2JhbFAsIGdldFByb3RvKGdsb2JhbFApLCBnbG9iYWxQXTtcbiAgICAgICAgICAgIHZhciBuYXRpdmVQID0gY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtNTEyXCIsIG5ldyBVaW50OEFycmF5KFswXSkpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuYXRpdmVQLFxuICAgICAgICAgICAgICAgIGdldFByb3RvKG5hdGl2ZVApLFxuICAgICAgICAgICAgICAgIGdsb2JhbFBcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pKCksIHJlc29sdmVkTmF0aXZlUHJvbWlzZSA9IF9hJDFbMF0sIG5hdGl2ZVByb21pc2VQcm90byA9IF9hJDFbMV0sIHJlc29sdmVkR2xvYmFsUHJvbWlzZSA9IF9hJDFbMl0sIG5hdGl2ZVByb21pc2VUaGVuID0gbmF0aXZlUHJvbWlzZVByb3RvICYmIG5hdGl2ZVByb21pc2VQcm90by50aGVuO1xuICAgIHZhciBOYXRpdmVQcm9taXNlID0gcmVzb2x2ZWROYXRpdmVQcm9taXNlICYmIHJlc29sdmVkTmF0aXZlUHJvbWlzZS5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcGF0Y2hHbG9iYWxQcm9taXNlID0gISFyZXNvbHZlZEdsb2JhbFByb21pc2U7XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVQaHlzaWNhbFRpY2soKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKHBoeXNpY2FsVGljayk7XG4gICAgfVxuICAgIHZhciBhc2FwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgICAgIG1pY3JvdGlja1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmdzXSk7XG4gICAgICAgIGlmIChuZWVkc05ld1BoeXNpY2FsVGljaykge1xuICAgICAgICAgICAgc2NoZWR1bGVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBpc091dHNpZGVNaWNyb1RpY2sgPSB0cnVlLFxuICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gdHJ1ZSxcbiAgICB1bmhhbmRsZWRFcnJvcnMgPSBbXSxcbiAgICByZWplY3RpbmdFcnJvcnMgPSBbXSxcbiAgICByZWplY3Rpb25NYXBwZXIgPSBtaXJyb3I7XG4gICAgdmFyIGdsb2JhbFBTRCA9IHtcbiAgICAgICAgaWQ6ICdnbG9iYWwnLFxuICAgICAgICBnbG9iYWw6IHRydWUsXG4gICAgICAgIHJlZjogMCxcbiAgICAgICAgdW5oYW5kbGVkczogW10sXG4gICAgICAgIG9udW5oYW5kbGVkOiBub3AsXG4gICAgICAgIHBncDogZmFsc2UsXG4gICAgICAgIGVudjoge30sXG4gICAgICAgIGZpbmFsaXplOiBub3BcbiAgICB9O1xuICAgIHZhciBQU0QgPSBnbG9iYWxQU0Q7XG4gICAgdmFyIG1pY3JvdGlja1F1ZXVlID0gW107XG4gICAgdmFyIG51bVNjaGVkdWxlZENhbGxzID0gMDtcbiAgICB2YXIgdGlja0ZpbmFsaXplcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBEZXhpZVByb21pc2UoZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbGliID0gZmFsc2U7XG4gICAgICAgIHZhciBwc2QgPSAodGhpcy5fUFNEID0gUFNEKTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGZuICE9PSBJTlRFUk5BTClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb3QgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgaGFuZGxlUmVqZWN0aW9uKHRoaXMsIHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICAgICAgKytwc2QucmVmO1xuICAgICAgICBleGVjdXRlUHJvbWlzZVRhc2sodGhpcywgZm4pO1xuICAgIH1cbiAgICB2YXIgdGhlblByb3AgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBzZCA9IFBTRCwgbWljcm9UYXNrSWQgPSB0b3RhbEVjaG9lcztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZUF3YWl0ID0gIXBzZC5nbG9iYWwgJiYgKHBzZCAhPT0gUFNEIHx8IG1pY3JvVGFza0lkICE9PSB0b3RhbEVjaG9lcyk7XG4gICAgICAgICAgICAgICAgdmFyIGNsZWFudXAgPSBwb3NzaWJsZUF3YWl0ICYmICFkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgIHZhciBydiA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKF90aGlzLCBuZXcgTGlzdGVuZXIobmF0aXZlQXdhaXRDb21wYXRpYmxlV3JhcChvbkZ1bGZpbGxlZCwgcHNkLCBwb3NzaWJsZUF3YWl0LCBjbGVhbnVwKSwgbmF0aXZlQXdhaXRDb21wYXRpYmxlV3JhcChvblJlamVjdGVkLCBwc2QsIHBvc3NpYmxlQXdhaXQsIGNsZWFudXApLCByZXNvbHZlLCByZWplY3QsIHBzZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25zb2xlVGFzaylcbiAgICAgICAgICAgICAgICAgICAgcnYuX2NvbnNvbGVUYXNrID0gdGhpcy5fY29uc29sZVRhc2s7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhlbi5wcm90b3R5cGUgPSBJTlRFUk5BTDtcbiAgICAgICAgICAgIHJldHVybiB0aGVuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc2V0UHJvcCh0aGlzLCAndGhlbicsIHZhbHVlICYmIHZhbHVlLnByb3RvdHlwZSA9PT0gSU5URVJOQUwgP1xuICAgICAgICAgICAgICAgIHRoZW5Qcm9wIDpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IHRoZW5Qcm9wLnNldFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9wcyhEZXhpZVByb21pc2UucHJvdG90eXBlLCB7XG4gICAgICAgIHRoZW46IHRoZW5Qcm9wLFxuICAgICAgICBfdGhlbjogZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKHRoaXMsIG5ldyBMaXN0ZW5lcihudWxsLCBudWxsLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgUFNEKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdLCBoYW5kbGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdGhpcy50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyIGluc3RhbmNlb2YgdHlwZSA/IGhhbmRsZXIoZXJyKSA6IFByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiB0aGlzLnRoZW4obnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyICYmIGVyci5uYW1lID09PSB0eXBlID8gaGFuZGxlcihlcnIpIDogUHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmaW5hbGx5OiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2VSZWplY3QoZXJyKTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDogZnVuY3Rpb24gKG1zLCBtc2cpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gbXMgPCBJbmZpbml0eSA/XG4gICAgICAgICAgICAgICAgbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChuZXcgZXhjZXB0aW9ucy5UaW1lb3V0KG1zZykpOyB9LCBtcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KS5maW5hbGx5KGNsZWFyVGltZW91dC5iaW5kKG51bGwsIGhhbmRsZSkpO1xuICAgICAgICAgICAgICAgIH0pIDogdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpXG4gICAgICAgIHNldFByb3AoRGV4aWVQcm9taXNlLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCAnRGV4aWUuUHJvbWlzZScpO1xuICAgIGdsb2JhbFBTRC5lbnYgPSBzbmFwU2hvdCgpO1xuICAgIGZ1bmN0aW9uIExpc3RlbmVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCByZXNvbHZlLCByZWplY3QsIHpvbmUpIHtcbiAgICAgICAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgICAgICAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgIHRoaXMucHNkID0gem9uZTtcbiAgICB9XG4gICAgcHJvcHMoRGV4aWVQcm9taXNlLCB7XG4gICAgICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIC5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKGEpLnRoZW4oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0geDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLXJlbWFpbmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9LCByZWplY3QpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZXNvbHZlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERleGllUHJvbWlzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcnYgPSBuZXcgRGV4aWVQcm9taXNlKElOVEVSTkFMLCB0cnVlLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdDogUHJvbWlzZVJlamVjdCxcbiAgICAgICAgcmFjZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgUFNEOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBTRDsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBQU0QgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB0b3RhbEVjaG9lczogeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvdGFsRWNob2VzOyB9IH0sXG4gICAgICAgIG5ld1BTRDogbmV3U2NvcGUsXG4gICAgICAgIHVzZVBTRDogdXNlUFNELFxuICAgICAgICBzY2hlZHVsZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNhcDsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IGFzYXAgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb25NYXBwZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0aW9uTWFwcGVyOyB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmVqZWN0aW9uTWFwcGVyID0gdmFsdWU7IH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9sbG93OiBmdW5jdGlvbiAoZm4sIHpvbmVQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwc2QgPSBQU0Q7XG4gICAgICAgICAgICAgICAgICAgIHBzZC51bmhhbmRsZWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHBzZC5vbnVuaGFuZGxlZCA9IHJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgcHNkLmZpbmFsaXplID0gY2FsbEJvdGgoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hdF9lbmRfb2ZfdGhpc19vcl9uZXh0X3BoeXNpY2FsX3RpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVuaGFuZGxlZHMubGVuZ3RoID09PSAwID8gcmVzb2x2ZSgpIDogcmVqZWN0KF90aGlzLnVuaGFuZGxlZHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHBzZC5maW5hbGl6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfSwgem9uZVByb3BzLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoTmF0aXZlUHJvbWlzZSkge1xuICAgICAgICBpZiAoTmF0aXZlUHJvbWlzZS5hbGxTZXR0bGVkKVxuICAgICAgICAgICAgc2V0UHJvcChEZXhpZVByb21pc2UsIFwiYWxsU2V0dGxlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3NpYmxlUHJvbWlzZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cykubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSBwb3NzaWJsZVByb21pc2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVQcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShwKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcmVzdWx0c1tpXSA9IHsgc3RhdHVzOiBcImZ1bGZpbGxlZFwiLCB2YWx1ZTogdmFsdWUgfTsgfSwgZnVuY3Rpb24gKHJlYXNvbikgeyByZXR1cm4gcmVzdWx0c1tpXSA9IHsgc3RhdHVzOiBcInJlamVjdGVkXCIsIHJlYXNvbjogcmVhc29uIH07IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHJlc3VsdHMpOyB9KTsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVByb21pc2UuYW55ICYmIHR5cGVvZiBBZ2dyZWdhdGVFcnJvciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICBzZXRQcm9wKERleGllUHJvbWlzZSwgXCJhbnlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZVByb21pc2VzID0gZ2V0QXJyYXlPZi5hcHBseShudWxsLCBhcmd1bWVudHMpLm1hcChvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihbXSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gcG9zc2libGVQcm9taXNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IG5ldyBBcnJheShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVByb21pc2VzLmZvckVhY2goZnVuY3Rpb24gKHAsIGkpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHApLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSwgZnVuY3Rpb24gKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzW2ldID0gZmFpbHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihmYWlsdXJlcykpO1xuICAgICAgICAgICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVByb21pc2Uud2l0aFJlc29sdmVycylcbiAgICAgICAgICAgIERleGllUHJvbWlzZS53aXRoUmVzb2x2ZXJzID0gTmF0aXZlUHJvbWlzZS53aXRoUmVzb2x2ZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleGVjdXRlUHJvbWlzZVRhc2socHJvbWlzZSwgZm4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcHJvbWlzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKTtcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkRXhlY3V0ZVRpY2sgPSBwcm9taXNlLl9saWIgJiYgYmVnaW5NaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlUHJvbWlzZVRhc2socHJvbWlzZSwgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBEZXhpZVByb21pc2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLl90aGVuKHJlc29sdmUsIHJlamVjdCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9zdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEV4ZWN1dGVUaWNrKVxuICAgICAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgfSwgaGFuZGxlUmVqZWN0aW9uLmJpbmQobnVsbCwgcHJvbWlzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgaGFuZGxlUmVqZWN0aW9uKHByb21pc2UsIGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVSZWplY3Rpb24ocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgICAgIHJlamVjdGluZ0Vycm9ycy5wdXNoKHJlYXNvbik7XG4gICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHNob3VsZEV4ZWN1dGVUaWNrID0gcHJvbWlzZS5fbGliICYmIGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgcmVhc29uID0gcmVqZWN0aW9uTWFwcGVyKHJlYXNvbik7XG4gICAgICAgIHByb21pc2UuX3N0YXRlID0gZmFsc2U7XG4gICAgICAgIHByb21pc2UuX3ZhbHVlID0gcmVhc29uO1xuICAgICAgICBhZGRQb3NzaWJseVVuaGFuZGxlZEVycm9yKHByb21pc2UpO1xuICAgICAgICBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSk7XG4gICAgICAgIGlmIChzaG91bGRFeGVjdXRlVGljaylcbiAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBwcm9taXNlLl9saXN0ZW5lcnM7XG4gICAgICAgIHByb21pc2UuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBzZCA9IHByb21pc2UuX1BTRDtcbiAgICAgICAgLS1wc2QucmVmIHx8IHBzZC5maW5hbGl6ZSgpO1xuICAgICAgICBpZiAobnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApIHtcbiAgICAgICAgICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgICAgICAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVUb0xpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvbWlzZS5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYiA9IHByb21pc2UuX3N0YXRlID8gbGlzdGVuZXIub25GdWxmaWxsZWQgOiBsaXN0ZW5lci5vblJlamVjdGVkO1xuICAgICAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAocHJvbWlzZS5fc3RhdGUgPyBsaXN0ZW5lci5yZXNvbHZlIDogbGlzdGVuZXIucmVqZWN0KShwcm9taXNlLl92YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgKytsaXN0ZW5lci5wc2QucmVmO1xuICAgICAgICArK251bVNjaGVkdWxlZENhbGxzO1xuICAgICAgICBhc2FwKGNhbGxMaXN0ZW5lciwgW2NiLCBwcm9taXNlLCBsaXN0ZW5lcl0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsTGlzdGVuZXIoY2IsIHByb21pc2UsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmV0LCB2YWx1ZSA9IHByb21pc2UuX3ZhbHVlO1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9zdGF0ZSAmJiByZWplY3RpbmdFcnJvcnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJlamVjdGluZ0Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgcmV0ID0gZGVidWcgJiYgcHJvbWlzZS5fY29uc29sZVRhc2sgPyBwcm9taXNlLl9jb25zb2xlVGFzay5ydW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY2IodmFsdWUpOyB9KSA6IGNiKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICghcHJvbWlzZS5fc3RhdGUgJiYgcmVqZWN0aW5nRXJyb3JzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hcmtFcnJvckFzSGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyLnJlc29sdmUocmV0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICAgICAgZmluYWxpemVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgICAgIC0tbGlzdGVuZXIucHNkLnJlZiB8fCBsaXN0ZW5lci5wc2QuZmluYWxpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwaHlzaWNhbFRpY2soKSB7XG4gICAgICAgIHVzZVBTRChnbG9iYWxQU0QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJlZ2luTWljcm9UaWNrU2NvcGUoKSAmJiBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmVnaW5NaWNyb1RpY2tTY29wZSgpIHtcbiAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gaXNPdXRzaWRlTWljcm9UaWNrO1xuICAgICAgICBpc091dHNpZGVNaWNyb1RpY2sgPSBmYWxzZTtcbiAgICAgICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHdhc1Jvb3RFeGVjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbmRNaWNyb1RpY2tTY29wZSgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrcywgaSwgbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgd2hpbGUgKG1pY3JvdGlja1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBtaWNyb3RpY2tRdWV1ZTtcbiAgICAgICAgICAgICAgICBtaWNyb3RpY2tRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGwgPSBjYWxsYmFja3MubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjYWxsYmFja3NbaV07XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bMF0uYXBwbHkobnVsbCwgaXRlbVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChtaWNyb3RpY2tRdWV1ZS5sZW5ndGggPiAwKTtcbiAgICAgICAgaXNPdXRzaWRlTWljcm9UaWNrID0gdHJ1ZTtcbiAgICAgICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5hbGl6ZVBoeXNpY2FsVGljaygpIHtcbiAgICAgICAgdmFyIHVuaGFuZGxlZEVycnMgPSB1bmhhbmRsZWRFcnJvcnM7XG4gICAgICAgIHVuaGFuZGxlZEVycm9ycyA9IFtdO1xuICAgICAgICB1bmhhbmRsZWRFcnJzLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgIHAuX1BTRC5vbnVuaGFuZGxlZC5jYWxsKG51bGwsIHAuX3ZhbHVlLCBwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBmaW5hbGl6ZXJzID0gdGlja0ZpbmFsaXplcnMuc2xpY2UoMCk7XG4gICAgICAgIHZhciBpID0gZmluYWxpemVycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpKVxuICAgICAgICAgICAgZmluYWxpemVyc1stLWldKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bl9hdF9lbmRfb2ZfdGhpc19vcl9uZXh0X3BoeXNpY2FsX3RpY2soZm4pIHtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVyKCkge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIHRpY2tGaW5hbGl6ZXJzLnNwbGljZSh0aWNrRmluYWxpemVycy5pbmRleE9mKGZpbmFsaXplciksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRpY2tGaW5hbGl6ZXJzLnB1c2goZmluYWxpemVyKTtcbiAgICAgICAgKytudW1TY2hlZHVsZWRDYWxscztcbiAgICAgICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZVBoeXNpY2FsVGljaygpO1xuICAgICAgICB9LCBbXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFBvc3NpYmx5VW5oYW5kbGVkRXJyb3IocHJvbWlzZSkge1xuICAgICAgICBpZiAoIXVuaGFuZGxlZEVycm9ycy5zb21lKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLl92YWx1ZSA9PT0gcHJvbWlzZS5fdmFsdWU7IH0pKVxuICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3JzLnB1c2gocHJvbWlzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtFcnJvckFzSGFuZGxlZChwcm9taXNlKSB7XG4gICAgICAgIHZhciBpID0gdW5oYW5kbGVkRXJyb3JzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkpXG4gICAgICAgICAgICBpZiAodW5oYW5kbGVkRXJyb3JzWy0taV0uX3ZhbHVlID09PSBwcm9taXNlLl92YWx1ZSkge1xuICAgICAgICAgICAgICAgIHVuaGFuZGxlZEVycm9ycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBQcm9taXNlUmVqZWN0KHJlYXNvbikge1xuICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShJTlRFUk5BTCwgZmFsc2UsIHJlYXNvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyYXAoZm4sIGVycm9yQ2F0Y2hlcikge1xuICAgICAgICB2YXIgcHNkID0gUFNEO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gYmVnaW5NaWNyb1RpY2tTY29wZSgpLCBvdXRlclNjb3BlID0gUFNEO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hUb1pvbmUocHNkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYXRjaGVyICYmIGVycm9yQ2F0Y2hlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRvWm9uZShvdXRlclNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHdhc1Jvb3RFeGVjKVxuICAgICAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdGFzayA9IHsgYXdhaXRzOiAwLCBlY2hvZXM6IDAsIGlkOiAwIH07XG4gICAgdmFyIHRhc2tDb3VudGVyID0gMDtcbiAgICB2YXIgem9uZVN0YWNrID0gW107XG4gICAgdmFyIHpvbmVFY2hvZXMgPSAwO1xuICAgIHZhciB0b3RhbEVjaG9lcyA9IDA7XG4gICAgdmFyIHpvbmVfaWRfY291bnRlciA9IDA7XG4gICAgZnVuY3Rpb24gbmV3U2NvcGUoZm4sIHByb3BzLCBhMSwgYTIpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IFBTRCwgcHNkID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xuICAgICAgICBwc2QucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBwc2QucmVmID0gMDtcbiAgICAgICAgcHNkLmdsb2JhbCA9IGZhbHNlO1xuICAgICAgICBwc2QuaWQgPSArK3pvbmVfaWRfY291bnRlcjtcbiAgICAgICAgZ2xvYmFsUFNELmVudjtcbiAgICAgICAgcHNkLmVudiA9IHBhdGNoR2xvYmFsUHJvbWlzZSA/IHtcbiAgICAgICAgICAgIFByb21pc2U6IERleGllUHJvbWlzZSxcbiAgICAgICAgICAgIFByb21pc2VQcm9wOiB7IHZhbHVlOiBEZXhpZVByb21pc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIGFsbDogRGV4aWVQcm9taXNlLmFsbCxcbiAgICAgICAgICAgIHJhY2U6IERleGllUHJvbWlzZS5yYWNlLFxuICAgICAgICAgICAgYWxsU2V0dGxlZDogRGV4aWVQcm9taXNlLmFsbFNldHRsZWQsXG4gICAgICAgICAgICBhbnk6IERleGllUHJvbWlzZS5hbnksXG4gICAgICAgICAgICByZXNvbHZlOiBEZXhpZVByb21pc2UucmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogRGV4aWVQcm9taXNlLnJlamVjdCxcbiAgICAgICAgfSA6IHt9O1xuICAgICAgICBpZiAocHJvcHMpXG4gICAgICAgICAgICBleHRlbmQocHNkLCBwcm9wcyk7XG4gICAgICAgICsrcGFyZW50LnJlZjtcbiAgICAgICAgcHNkLmZpbmFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLS10aGlzLnBhcmVudC5yZWYgfHwgdGhpcy5wYXJlbnQuZmluYWxpemUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJ2ID0gdXNlUFNEKHBzZCwgZm4sIGExLCBhMik7XG4gICAgICAgIGlmIChwc2QucmVmID09PSAwKVxuICAgICAgICAgICAgcHNkLmZpbmFsaXplKCk7XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKSB7XG4gICAgICAgIGlmICghdGFzay5pZClcbiAgICAgICAgICAgIHRhc2suaWQgPSArK3Rhc2tDb3VudGVyO1xuICAgICAgICArK3Rhc2suYXdhaXRzO1xuICAgICAgICB0YXNrLmVjaG9lcyArPSBaT05FX0VDSE9fTElNSVQ7XG4gICAgICAgIHJldHVybiB0YXNrLmlkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpIHtcbiAgICAgICAgaWYgKCF0YXNrLmF3YWl0cylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKC0tdGFzay5hd2FpdHMgPT09IDApXG4gICAgICAgICAgICB0YXNrLmlkID0gMDtcbiAgICAgICAgdGFzay5lY2hvZXMgPSB0YXNrLmF3YWl0cyAqIFpPTkVfRUNIT19MSU1JVDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgoJycgKyBuYXRpdmVQcm9taXNlVGhlbikuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpID09PSAtMSkge1xuICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cyA9IGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzID0gbm9wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMocG9zc2libGVQcm9taXNlKSB7XG4gICAgICAgIGlmICh0YXNrLmVjaG9lcyAmJiBwb3NzaWJsZVByb21pc2UgJiYgcG9zc2libGVQcm9taXNlLmNvbnN0cnVjdG9yID09PSBOYXRpdmVQcm9taXNlKSB7XG4gICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvbWlzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gem9uZUVudGVyRWNobyh0YXJnZXRab25lKSB7XG4gICAgICAgICsrdG90YWxFY2hvZXM7XG4gICAgICAgIGlmICghdGFzay5lY2hvZXMgfHwgLS10YXNrLmVjaG9lcyA9PT0gMCkge1xuICAgICAgICAgICAgdGFzay5lY2hvZXMgPSB0YXNrLmF3YWl0cyA9IHRhc2suaWQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHpvbmVTdGFjay5wdXNoKFBTRCk7XG4gICAgICAgIHN3aXRjaFRvWm9uZSh0YXJnZXRab25lLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gem9uZUxlYXZlRWNobygpIHtcbiAgICAgICAgdmFyIHpvbmUgPSB6b25lU3RhY2tbem9uZVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICB6b25lU3RhY2sucG9wKCk7XG4gICAgICAgIHN3aXRjaFRvWm9uZSh6b25lLCBmYWxzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN3aXRjaFRvWm9uZSh0YXJnZXRab25lLCBiRW50ZXJpbmdab25lKSB7XG4gICAgICAgIHZhciBjdXJyZW50Wm9uZSA9IFBTRDtcbiAgICAgICAgaWYgKGJFbnRlcmluZ1pvbmUgPyB0YXNrLmVjaG9lcyAmJiAoIXpvbmVFY2hvZXMrKyB8fCB0YXJnZXRab25lICE9PSBQU0QpIDogem9uZUVjaG9lcyAmJiAoIS0tem9uZUVjaG9lcyB8fCB0YXJnZXRab25lICE9PSBQU0QpKSB7XG4gICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhiRW50ZXJpbmdab25lID8gem9uZUVudGVyRWNoby5iaW5kKG51bGwsIHRhcmdldFpvbmUpIDogem9uZUxlYXZlRWNobyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldFpvbmUgPT09IFBTRClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgUFNEID0gdGFyZ2V0Wm9uZTtcbiAgICAgICAgaWYgKGN1cnJlbnRab25lID09PSBnbG9iYWxQU0QpXG4gICAgICAgICAgICBnbG9iYWxQU0QuZW52ID0gc25hcFNob3QoKTtcbiAgICAgICAgaWYgKHBhdGNoR2xvYmFsUHJvbWlzZSkge1xuICAgICAgICAgICAgdmFyIEdsb2JhbFByb21pc2UgPSBnbG9iYWxQU0QuZW52LlByb21pc2U7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RW52ID0gdGFyZ2V0Wm9uZS5lbnY7XG4gICAgICAgICAgICBpZiAoY3VycmVudFpvbmUuZ2xvYmFsIHx8IHRhcmdldFpvbmUuZ2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9nbG9iYWwsICdQcm9taXNlJywgdGFyZ2V0RW52LlByb21pc2VQcm9wKTtcbiAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLmFsbCA9IHRhcmdldEVudi5hbGw7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yYWNlID0gdGFyZ2V0RW52LnJhY2U7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yZXNvbHZlID0gdGFyZ2V0RW52LnJlc29sdmU7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yZWplY3QgPSB0YXJnZXRFbnYucmVqZWN0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbnYuYWxsU2V0dGxlZClcbiAgICAgICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5hbGxTZXR0bGVkID0gdGFyZ2V0RW52LmFsbFNldHRsZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEVudi5hbnkpXG4gICAgICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UuYW55ID0gdGFyZ2V0RW52LmFueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzbmFwU2hvdCgpIHtcbiAgICAgICAgdmFyIEdsb2JhbFByb21pc2UgPSBfZ2xvYmFsLlByb21pc2U7XG4gICAgICAgIHJldHVybiBwYXRjaEdsb2JhbFByb21pc2UgPyB7XG4gICAgICAgICAgICBQcm9taXNlOiBHbG9iYWxQcm9taXNlLFxuICAgICAgICAgICAgUHJvbWlzZVByb3A6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2dsb2JhbCwgXCJQcm9taXNlXCIpLFxuICAgICAgICAgICAgYWxsOiBHbG9iYWxQcm9taXNlLmFsbCxcbiAgICAgICAgICAgIHJhY2U6IEdsb2JhbFByb21pc2UucmFjZSxcbiAgICAgICAgICAgIGFsbFNldHRsZWQ6IEdsb2JhbFByb21pc2UuYWxsU2V0dGxlZCxcbiAgICAgICAgICAgIGFueTogR2xvYmFsUHJvbWlzZS5hbnksXG4gICAgICAgICAgICByZXNvbHZlOiBHbG9iYWxQcm9taXNlLnJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IEdsb2JhbFByb21pc2UucmVqZWN0LFxuICAgICAgICB9IDoge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZVBTRChwc2QsIGZuLCBhMSwgYTIsIGEzKSB7XG4gICAgICAgIHZhciBvdXRlclNjb3BlID0gUFNEO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoVG9ab25lKHBzZCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gZm4oYTEsIGEyLCBhMyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJTY29wZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAoZm4sIHpvbmUsIHBvc3NpYmxlQXdhaXQsIGNsZWFudXApIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJyA/IGZuIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG91dGVyWm9uZSA9IFBTRDtcbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUF3YWl0KVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUoem9uZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVG9ab25lKG91dGVyWm9uZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKVxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWNJbkdsb2JhbENvbnRleHQoY2IpIHtcbiAgICAgICAgaWYgKFByb21pc2UgPT09IE5hdGl2ZVByb21pc2UgJiYgdGFzay5lY2hvZXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh6b25lRWNob2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVucXVldWVOYXRpdmVNaWNyb1Rhc2soY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChjYiwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlamVjdGlvbiA9IERleGllUHJvbWlzZS5yZWplY3Q7XG5cbiAgICBmdW5jdGlvbiB0ZW1wVHJhbnNhY3Rpb24oZGIsIG1vZGUsIHN0b3JlTmFtZXMsIGZuKSB7XG4gICAgICAgIGlmICghZGIuaWRiZGIgfHwgKCFkYi5fc3RhdGUub3BlbkNvbXBsZXRlICYmICghUFNELmxldFRocm91Z2ggJiYgIWRiLl92aXApKSkge1xuICAgICAgICAgICAgaWYgKGRiLl9zdGF0ZS5vcGVuQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKGRiLl9zdGF0ZS5kYk9wZW5FcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYi5fc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICghZGIuX3N0YXRlLmF1dG9PcGVuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgIGRiLm9wZW4oKS5jYXRjaChub3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRiLl9zdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRlbXBUcmFuc2FjdGlvbihkYiwgbW9kZSwgc3RvcmVOYW1lcywgZm4pOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0cmFucyA9IGRiLl9jcmVhdGVUcmFuc2FjdGlvbihtb2RlLCBzdG9yZU5hbWVzLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0cmFucy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBkYi5fc3RhdGUuUFIxMzk4X21heExvb3AgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09IGVycm5hbWVzLkludmFsaWRTdGF0ZSAmJiBkYi5pc09wZW4oKSAmJiAtLWRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXhpZTogTmVlZCB0byByZW9wZW4gZGInKTtcbiAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGIub3BlbigpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdGVtcFRyYW5zYWN0aW9uKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBmbik7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFucy5fcHJvbWlzZShtb2RlLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgUFNELnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihyZXNvbHZlLCByZWplY3QsIHRyYW5zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zLmNvbW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGUgPT09ICdyZWFkb25seScgPyByZXN1bHQgOiB0cmFucy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc3VsdDsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBERVhJRV9WRVJTSU9OID0gJzQuMC4xMSc7XG4gICAgdmFyIG1heFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzUpO1xuICAgIHZhciBtaW5LZXkgPSAtSW5maW5pdHk7XG4gICAgdmFyIElOVkFMSURfS0VZX0FSR1VNRU5UID0gXCJJbnZhbGlkIGtleSBwcm92aWRlZC4gS2V5cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLCBudW1iZXIsIERhdGUgb3IgQXJyYXk8c3RyaW5nIHwgbnVtYmVyIHwgRGF0ZT4uXCI7XG4gICAgdmFyIFNUUklOR19FWFBFQ1RFRCA9IFwiU3RyaW5nIGV4cGVjdGVkLlwiO1xuICAgIHZhciBjb25uZWN0aW9ucyA9IFtdO1xuICAgIHZhciBEQk5BTUVTX0RCID0gJ19fZGJuYW1lcyc7XG4gICAgdmFyIFJFQURPTkxZID0gJ3JlYWRvbmx5JztcbiAgICB2YXIgUkVBRFdSSVRFID0gJ3JlYWR3cml0ZSc7XG5cbiAgICBmdW5jdGlvbiBjb21iaW5lKGZpbHRlcjEsIGZpbHRlcjIpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlcjEgP1xuICAgICAgICAgICAgZmlsdGVyMiA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpICYmIGZpbHRlcjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSA6XG4gICAgICAgICAgICAgICAgZmlsdGVyMSA6XG4gICAgICAgICAgICBmaWx0ZXIyO1xuICAgIH1cblxuICAgIHZhciBBbnlSYW5nZSA9IHtcbiAgICAgICAgdHlwZTogMyAsXG4gICAgICAgIGxvd2VyOiAtSW5maW5pdHksXG4gICAgICAgIGxvd2VyT3BlbjogZmFsc2UsXG4gICAgICAgIHVwcGVyOiBbW11dLFxuICAgICAgICB1cHBlck9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBrZXlQYXRoID09PSBcInN0cmluZ1wiICYmICEvXFwuLy50ZXN0KGtleVBhdGgpXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2tleVBhdGhdID09PSB1bmRlZmluZWQgJiYgKGtleVBhdGggaW4gb2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmogPSBkZWVwQ2xvbmUob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqOyB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEVudGl0eSgpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9ucy5UeXBlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY21wKGEsIGIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0YSA9IHR5cGUoYSk7XG4gICAgICAgICAgICB2YXIgdGIgPSB0eXBlKGIpO1xuICAgICAgICAgICAgaWYgKHRhICE9PSB0Yikge1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ0FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiID09PSAnQXJyYXknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnYmluYXJ5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiID09PSAnYmluYXJ5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGlmICh0YiA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAodGEgPT09ICdEYXRlJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiICE9PSAnRGF0ZScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0YSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JpbmFyeSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVVaW50OEFycmF5cyhnZXRVaW50OEFycmF5KGEpLCBnZXRVaW50OEFycmF5KGIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZUFycmF5cyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlQXJyYXlzKGEsIGIpIHtcbiAgICAgICAgdmFyIGFsID0gYS5sZW5ndGg7XG4gICAgICAgIHZhciBibCA9IGIubGVuZ3RoO1xuICAgICAgICB2YXIgbCA9IGFsIDwgYmwgPyBhbCA6IGJsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGNtcChhW2ldLCBiW2ldKTtcbiAgICAgICAgICAgIGlmIChyZXMgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWwgPT09IGJsID8gMCA6IGFsIDwgYmwgPyAtMSA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVVaW50OEFycmF5cyhhLCBiKSB7XG4gICAgICAgIHZhciBhbCA9IGEubGVuZ3RoO1xuICAgICAgICB2YXIgYmwgPSBiLmxlbmd0aDtcbiAgICAgICAgdmFyIGwgPSBhbCA8IGJsID8gYWwgOiBibDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBhW2ldIDwgYltpXSA/IC0xIDogMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWwgPT09IGJsID8gMCA6IGFsIDwgYmwgPyAtMSA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHR5cGUoeCkge1xuICAgICAgICB2YXIgdCA9IHR5cGVvZiB4O1xuICAgICAgICBpZiAodCAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh4KSlcbiAgICAgICAgICAgIHJldHVybiAnYmluYXJ5JztcbiAgICAgICAgdmFyIHRzVGFnID0gdG9TdHJpbmdUYWcoeCk7XG4gICAgICAgIHJldHVybiB0c1RhZyA9PT0gJ0FycmF5QnVmZmVyJyA/ICdiaW5hcnknIDogdHNUYWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFVpbnQ4QXJyYXkoYSkge1xuICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhLmJ1ZmZlciwgYS5ieXRlT2Zmc2V0LCBhLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSk7XG4gICAgfVxuXG4gICAgdmFyIFRhYmxlID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFRhYmxlKCkge1xuICAgICAgICB9XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5fdHJhbnMgPSBmdW5jdGlvbiAobW9kZSwgZm4sIHdyaXRlTG9ja2VkKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSB0aGlzLl90eCB8fCBQU0QudHJhbnM7XG4gICAgICAgICAgICB2YXIgdGFibGVOYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgdmFyIHRhc2sgPSBkZWJ1ZyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5jcmVhdGVUYXNrICYmIGNvbnNvbGUuY3JlYXRlVGFzayhcIkRleGllOiBcIi5jb25jYXQobW9kZSA9PT0gJ3JlYWRvbmx5JyA/ICdyZWFkJyA6ICd3cml0ZScsIFwiIFwiKS5jb25jYXQodGhpcy5uYW1lKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1RhYmxlSW5UcmFuc2FjdGlvbihyZXNvbHZlLCByZWplY3QsIHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFucy5zY2hlbWFbdGFibGVOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTm90Rm91bmQoXCJUYWJsZSBcIiArIHRhYmxlTmFtZSArIFwiIG5vdCBwYXJ0IG9mIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cmFucy5pZGJ0cmFucywgdHJhbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gYmVnaW5NaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHRyYW5zICYmIHRyYW5zLmRiLl9ub3ZpcCA9PT0gdGhpcy5kYi5fbm92aXAgP1xuICAgICAgICAgICAgICAgICAgICB0cmFucyA9PT0gUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLl9wcm9taXNlKG1vZGUsIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uLCB3cml0ZUxvY2tlZCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhbnMuX3Byb21pc2UobW9kZSwgY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24sIHdyaXRlTG9ja2VkKTsgfSwgeyB0cmFuczogdHJhbnMsIHRyYW5zbGVzczogUFNELnRyYW5zbGVzcyB8fCBQU0QgfSkgOlxuICAgICAgICAgICAgICAgICAgICB0ZW1wVHJhbnNhY3Rpb24odGhpcy5kYiwgbW9kZSwgW3RoaXMubmFtZV0sIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICBwLl9jb25zb2xlVGFzayA9IHRhc2s7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHdhc1Jvb3RFeGVjKVxuICAgICAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleU9yQ3JpdCwgY2IpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoa2V5T3JDcml0ICYmIGtleU9yQ3JpdC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndoZXJlKGtleU9yQ3JpdCkuZmlyc3QoY2IpO1xuICAgICAgICAgICAgaWYgKGtleU9yQ3JpdCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuVHlwZShcIkludmFsaWQgYXJndW1lbnQgdG8gVGFibGUuZ2V0KClcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkb25seScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLmdldCh7IHRyYW5zOiB0cmFucywga2V5OiBrZXlPckNyaXQgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gX3RoaXMuaG9vay5yZWFkaW5nLmZpcmUocmVzKTsgfSk7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLndoZXJlID0gZnVuY3Rpb24gKGluZGV4T3JDcml0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4T3JDcml0ID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcywgaW5kZXhPckNyaXQpO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoaW5kZXhPckNyaXQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLCBcIltcIi5jb25jYXQoaW5kZXhPckNyaXQuam9pbignKycpLCBcIl1cIikpO1xuICAgICAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhpbmRleE9yQ3JpdCk7XG4gICAgICAgICAgICBpZiAoa2V5UGF0aHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC53aGVyZShrZXlQYXRoc1swXSlcbiAgICAgICAgICAgICAgICAgICAgLmVxdWFscyhpbmRleE9yQ3JpdFtrZXlQYXRoc1swXV0pO1xuICAgICAgICAgICAgdmFyIGNvbXBvdW5kSW5kZXggPSB0aGlzLnNjaGVtYS5pbmRleGVzLmNvbmNhdCh0aGlzLnNjaGVtYS5wcmltS2V5KS5maWx0ZXIoZnVuY3Rpb24gKGl4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGl4LmNvbXBvdW5kICYmXG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGhzLmV2ZXJ5KGZ1bmN0aW9uIChrZXlQYXRoKSB7IHJldHVybiBpeC5rZXlQYXRoLmluZGV4T2Yoa2V5UGF0aCkgPj0gMDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlQYXRocy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVBhdGhzLmluZGV4T2YoaXgua2V5UGF0aFtpXSkgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5rZXlQYXRoLmxlbmd0aCAtIGIua2V5UGF0aC5sZW5ndGg7IH0pWzBdO1xuICAgICAgICAgICAgaWYgKGNvbXBvdW5kSW5kZXggJiYgdGhpcy5kYi5fbWF4S2V5ICE9PSBtYXhTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5UGF0aHNJblZhbGlkT3JkZXIgPSBjb21wb3VuZEluZGV4LmtleVBhdGguc2xpY2UoMCwga2V5UGF0aHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAud2hlcmUoa2V5UGF0aHNJblZhbGlkT3JkZXIpXG4gICAgICAgICAgICAgICAgICAgIC5lcXVhbHMoa2V5UGF0aHNJblZhbGlkT3JkZXIubWFwKGZ1bmN0aW9uIChrcCkgeyByZXR1cm4gaW5kZXhPckNyaXRba3BdOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbXBvdW5kSW5kZXggJiYgZGVidWcpXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhlIHF1ZXJ5IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShpbmRleE9yQ3JpdCksIFwiIG9uIFwiKS5jb25jYXQodGhpcy5uYW1lLCBcIiB3b3VsZCBiZW5lZml0IGZyb20gYSBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcImNvbXBvdW5kIGluZGV4IFtcIi5jb25jYXQoa2V5UGF0aHMuam9pbignKycpLCBcIl1cIikpO1xuICAgICAgICAgICAgdmFyIGlkeEJ5TmFtZSA9IHRoaXMuc2NoZW1hLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtcChhLCBiKSA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IGtleVBhdGhzLnJlZHVjZShmdW5jdGlvbiAoX2EsIGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gX2FbMF0sIHByZXZGaWx0ZXJGbiA9IF9hWzFdO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGlkeEJ5TmFtZVtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmRleE9yQ3JpdFtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXggfHwgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleCB8fCAhaW5kZXggP1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmluZShwcmV2RmlsdGVyRm4sIGluZGV4ICYmIGluZGV4Lm11bHRpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGdldEJ5S2V5UGF0aCh4LCBrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkocHJvcCkgJiYgcHJvcC5zb21lKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBlcXVhbHModmFsdWUsIGl0ZW0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGVxdWFscyh2YWx1ZSwgZ2V0QnlLZXlQYXRoKHgsIGtleVBhdGgpKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcHJldkZpbHRlckZuXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0sIFtudWxsLCBudWxsXSksIGlkeCA9IF9hWzBdLCBmaWx0ZXJGdW5jdGlvbiA9IF9hWzFdO1xuICAgICAgICAgICAgcmV0dXJuIGlkeCA/XG4gICAgICAgICAgICAgICAgdGhpcy53aGVyZShpZHgubmFtZSkuZXF1YWxzKGluZGV4T3JDcml0W2lkeC5rZXlQYXRoXSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmaWx0ZXJGdW5jdGlvbikgOlxuICAgICAgICAgICAgICAgIGNvbXBvdW5kSW5kZXggP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcihmaWx0ZXJGdW5jdGlvbikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZXJlKGtleVBhdGhzKS5lcXVhbHMoJycpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5hbmQoZmlsdGVyRnVuY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAodGhlblNob3J0Y3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5jb3VudCh0aGVuU2hvcnRjdXQpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkub2Zmc2V0KG9mZnNldCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uIChudW1Sb3dzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5saW1pdChudW1Sb3dzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmVhY2goY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICh0aGVuU2hvcnRjdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLnRvQXJyYXkodGhlblNob3J0Y3V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnRvQ29sbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5Db2xsZWN0aW9uKG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLm9yZGVyQnkgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5Db2xsZWN0aW9uKG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMsIGlzQXJyYXkoaW5kZXgpID9cbiAgICAgICAgICAgICAgICBcIltcIi5jb25jYXQoaW5kZXguam9pbignKycpLCBcIl1cIikgOlxuICAgICAgICAgICAgICAgIGluZGV4KSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkucmV2ZXJzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUubWFwVG9DbGFzcyA9IGZ1bmN0aW9uIChjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgZGIgPSBfYS5kYiwgdGFibGVOYW1lID0gX2EubmFtZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hLm1hcHBlZENsYXNzID0gY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IucHJvdG90eXBlIGluc3RhbmNlb2YgRW50aXR5KSB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSAgKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgX19leHRlbmRzKGNsYXNzXzEsIF9zdXBlcik7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsYXNzXzEoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzXzEucHJvdG90eXBlLCBcImRiXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGI7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0YWJsZU5hbWU7IH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc18xO1xuICAgICAgICAgICAgICAgIH0oY29uc3RydWN0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmhlcml0ZWRQcm9wcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3RvID0gY29uc3RydWN0b3IucHJvdG90eXBlOyBwcm90bzsgcHJvdG8gPSBnZXRQcm90byhwcm90bykpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90bykuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHsgcmV0dXJuIGluaGVyaXRlZFByb3BzLmFkZChwcm9wTmFtZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlYWRIb29rID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIGlmICghb2JqKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSBpbiBvYmopXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5oZXJpdGVkUHJvcHMuaGFzKG0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNbbV0gPSBvYmpbbV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGhpcy5zY2hlbWEucmVhZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2sucmVhZGluZy51bnN1YnNjcmliZSh0aGlzLnNjaGVtYS5yZWFkSG9vayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjaGVtYS5yZWFkSG9vayA9IHJlYWRIb29rO1xuICAgICAgICAgICAgdGhpcy5ob29rKFwicmVhZGluZ1wiLCByZWFkSG9vayk7XG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5kZWZpbmVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIENsYXNzKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBUb0NsYXNzKENsYXNzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgIHZhciBvYmpUb0FkZCA9IG9iajtcbiAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGF1dG8pIHtcbiAgICAgICAgICAgICAgICBvYmpUb0FkZCA9IHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2FkZCcsIGtleXM6IGtleSAhPSBudWxsID8gW2tleV0gOiBudWxsLCB2YWx1ZXM6IFtvYmpUb0FkZF0gfSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHJlcy5sYXN0UmVzdWx0OyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIGxhc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChrZXlPck9iamVjdCwgbW9kaWZpY2F0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXlPck9iamVjdCA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXkoa2V5T3JPYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldEJ5S2V5UGF0aChrZXlPck9iamVjdCwgdGhpcy5zY2hlbWEucHJpbUtleS5rZXlQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiR2l2ZW4gb2JqZWN0IGRvZXMgbm90IGNvbnRhaW4gaXRzIHByaW1hcnkga2V5XCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5KS5tb2RpZnkobW9kaWZpY2F0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5T3JPYmplY3QpLm1vZGlmeShtb2RpZmljYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgIHZhciBvYmpUb0FkZCA9IG9iajtcbiAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGF1dG8pIHtcbiAgICAgICAgICAgICAgICBvYmpUb0FkZCA9IHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdwdXQnLCB2YWx1ZXM6IFtvYmpUb0FkZF0sIGtleXM6IGtleSAhPSBudWxsID8gW2tleV0gOiBudWxsIH0pOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHJlcy5sYXN0UmVzdWx0OyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIGxhc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGUnLCBrZXlzOiBba2V5XSB9KTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMubnVtRmFpbHVyZXMgPyBEZXhpZVByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSkgOiB1bmRlZmluZWQ7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnZGVsZXRlUmFuZ2UnLCByYW5nZTogQW55UmFuZ2UgfSk7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtHZXQgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZG9ubHknLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5nZXRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQubWFwKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIF90aGlzLmhvb2sucmVhZGluZy5maXJlKHJlcyk7IH0pOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa0FkZCA9IGZ1bmN0aW9uIChvYmplY3RzLCBrZXlzT3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBBcnJheS5pc0FycmF5KGtleXNPck9wdGlvbnMpID8ga2V5c09yT3B0aW9ucyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IChrZXlzID8gdW5kZWZpbmVkIDoga2V5c09yT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgd2FudFJlc3VsdHMgPSBvcHRpb25zID8gb3B0aW9ucy5hbGxLZXlzIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGtleXMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcImJ1bGtBZGQoKToga2V5cyBhcmd1bWVudCBpbnZhbGlkIG9uIHRhYmxlcyB3aXRoIGluYm91bmQga2V5c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiBrZXlzLmxlbmd0aCAhPT0gb2JqZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkFyZ3VtZW50cyBvYmplY3RzIGFuZCBrZXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICAgICAgICAgICAgdmFyIG51bU9iamVjdHMgPSBvYmplY3RzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0c1RvQWRkID0ga2V5UGF0aCAmJiBhdXRvID9cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5tYXAod29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkpIDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdhZGQnLCBrZXlzOiBrZXlzLCB2YWx1ZXM6IG9iamVjdHNUb0FkZCwgd2FudFJlc3VsdHM6IHdhbnRSZXN1bHRzIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0LCBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gd2FudFJlc3VsdHMgPyByZXN1bHRzIDogbGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrQWRkKCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtT2JqZWN0cywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa1B1dCA9IGZ1bmN0aW9uIChvYmplY3RzLCBrZXlzT3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBBcnJheS5pc0FycmF5KGtleXNPck9wdGlvbnMpID8ga2V5c09yT3B0aW9ucyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IChrZXlzID8gdW5kZWZpbmVkIDoga2V5c09yT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgd2FudFJlc3VsdHMgPSBvcHRpb25zID8gb3B0aW9ucy5hbGxLZXlzIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGtleXMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcImJ1bGtQdXQoKToga2V5cyBhcmd1bWVudCBpbnZhbGlkIG9uIHRhYmxlcyB3aXRoIGluYm91bmQga2V5c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiBrZXlzLmxlbmd0aCAhPT0gb2JqZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkFyZ3VtZW50cyBvYmplY3RzIGFuZCBrZXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICAgICAgICAgICAgdmFyIG51bU9iamVjdHMgPSBvYmplY3RzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0c1RvUHV0ID0ga2V5UGF0aCAmJiBhdXRvID9cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5tYXAod29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkpIDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdwdXQnLCBrZXlzOiBrZXlzLCB2YWx1ZXM6IG9iamVjdHNUb1B1dCwgd2FudFJlc3VsdHM6IHdhbnRSZXN1bHRzIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0LCBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gd2FudFJlc3VsdHMgPyByZXN1bHRzIDogbGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrUHV0KCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtT2JqZWN0cywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa1VwZGF0ZSA9IGZ1bmN0aW9uIChrZXlzQW5kQ2hhbmdlcykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjb3JlVGFibGUgPSB0aGlzLmNvcmU7XG4gICAgICAgICAgICB2YXIga2V5cyA9IGtleXNBbmRDaGFuZ2VzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmtleTsgfSk7XG4gICAgICAgICAgICB2YXIgY2hhbmdlU3BlY3MgPSBrZXlzQW5kQ2hhbmdlcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS5jaGFuZ2VzOyB9KTtcbiAgICAgICAgICAgIHZhciBvZmZzZXRNYXAgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVUYWJsZS5nZXRNYW55KHsgdHJhbnM6IHRyYW5zLCBrZXlzOiBrZXlzLCBjYWNoZTogJ2Nsb25lJyB9KS50aGVuKGZ1bmN0aW9uIChvYmpzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRLZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRPYmpzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGtleXNBbmRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKF9hLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYS5rZXksIGNoYW5nZXMgPSBfYS5jaGFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IG9ianNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9iID0gT2JqZWN0LmtleXMoY2hhbmdlcyk7IF9pIDwgX2IubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0gX2JbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjaGFuZ2VzW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCA9PT0gX3RoaXMuc2NoZW1hLnByaW1LZXkua2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNtcCh2YWx1ZSwga2V5KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkNvbnN0cmFpbnQoXCJDYW5ub3QgdXBkYXRlIHByaW1hcnkga2V5IGluIGJ1bGtVcGRhdGUoKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRNYXAucHVzaChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE9ianMucHVzaChvYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUVudHJpZXMgPSByZXN1bHRLZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLm11dGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHJlc3VsdEtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHJlc3VsdE9ianMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTcGVjczogY2hhbmdlU3BlY3NcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bUVudHJpZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9iID0gT2JqZWN0LmtleXMoZmFpbHVyZXMpOyBfaSA8IF9iLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBfYltfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcHBlZE9mZnNldCA9IG9mZnNldE1hcFtOdW1iZXIob2Zmc2V0KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcHBlZE9mZnNldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlID0gZmFpbHVyZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZhaWx1cmVzW29mZnNldF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzW21hcHBlZE9mZnNldF0gPSBmYWlsdXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBCdWxrRXJyb3IoXCJcIi5jb25jYXQoX3RoaXMubmFtZSwgXCIuYnVsa1VwZGF0ZSgpOiBcIikuY29uY2F0KG51bUZhaWx1cmVzLCBcIiBvZiBcIikuY29uY2F0KG51bUVudHJpZXMsIFwiIG9wZXJhdGlvbnMgZmFpbGVkXCIpLCBmYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrRGVsZXRlID0gZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbnVtS2V5cyA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGUnLCBrZXlzOiBrZXlzIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtEZWxldGUoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1LZXlzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBUYWJsZTtcbiAgICB9KCkpO1xuXG4gICAgZnVuY3Rpb24gRXZlbnRzKGN0eCkge1xuICAgICAgICB2YXIgZXZzID0ge307XG4gICAgICAgIHZhciBydiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkgLSAxKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBldnNbZXZlbnROYW1lXS5zdWJzY3JpYmUuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiAoZXZlbnROYW1lKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZzW2V2ZW50TmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJ2LmFkZEV2ZW50VHlwZSA9IGFkZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBhZGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIGZ1bmN0aW9uIGFkZChldmVudE5hbWUsIGNoYWluRnVuY3Rpb24sIGRlZmF1bHRGdW5jdGlvbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudE5hbWUgPT09ICdvYmplY3QnKVxuICAgICAgICAgICAgICAgIHJldHVybiBhZGRDb25maWd1cmVkRXZlbnRzKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNoYWluRnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgY2hhaW5GdW5jdGlvbiA9IHJldmVyc2VTdG9wcGFibGVFdmVudENoYWluO1xuICAgICAgICAgICAgaWYgKCFkZWZhdWx0RnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZ1bmN0aW9uID0gbm9wO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnM6IFtdLFxuICAgICAgICAgICAgICAgIGZpcmU6IGRlZmF1bHRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5zdWJzY3JpYmVycy5pbmRleE9mKGNiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Vic2NyaWJlcnMucHVzaChjYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpcmUgPSBjaGFpbkZ1bmN0aW9uKGNvbnRleHQuZmlyZSwgY2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Vic2NyaWJlcnMgPSBjb250ZXh0LnN1YnNjcmliZXJzLmZpbHRlcihmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuICE9PSBjYjsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlyZSA9IGNvbnRleHQuc3Vic2NyaWJlcnMucmVkdWNlKGNoYWluRnVuY3Rpb24sIGRlZmF1bHRGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGV2c1tldmVudE5hbWVdID0gcnZbZXZlbnROYW1lXSA9IGNvbnRleHQ7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRDb25maWd1cmVkRXZlbnRzKGNmZykge1xuICAgICAgICAgICAga2V5cyhjZmcpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gY2ZnW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkKGV2ZW50TmFtZSwgY2ZnW2V2ZW50TmFtZV1bMF0sIGNmZ1tldmVudE5hbWVdWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncyA9PT0gJ2FzYXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gYWRkKGV2ZW50TmFtZSwgbWlycm9yLCBmdW5jdGlvbiBmaXJlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzYXAkMShmdW5jdGlvbiBmaXJlRXZlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgZXZlbnQgY29uZmlnXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQ2xhc3NDb25zdHJ1Y3Rvcihwcm90b3R5cGUsIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGRlcml2ZShjb25zdHJ1Y3RvcikuZnJvbSh7IHByb3RvdHlwZTogcHJvdG90eXBlIH0pO1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFibGVDb25zdHJ1Y3RvcihkYikge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzQ29uc3RydWN0b3IoVGFibGUucHJvdG90eXBlLCBmdW5jdGlvbiBUYWJsZShuYW1lLCB0YWJsZVNjaGVtYSwgdHJhbnMpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX3R4ID0gdHJhbnM7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEgPSB0YWJsZVNjaGVtYTtcbiAgICAgICAgICAgIHRoaXMuaG9vayA9IGRiLl9hbGxUYWJsZXNbbmFtZV0gPyBkYi5fYWxsVGFibGVzW25hbWVdLmhvb2sgOiBFdmVudHMobnVsbCwge1xuICAgICAgICAgICAgICAgIFwiY3JlYXRpbmdcIjogW2hvb2tDcmVhdGluZ0NoYWluLCBub3BdLFxuICAgICAgICAgICAgICAgIFwicmVhZGluZ1wiOiBbcHVyZUZ1bmN0aW9uQ2hhaW4sIG1pcnJvcl0sXG4gICAgICAgICAgICAgICAgXCJ1cGRhdGluZ1wiOiBbaG9va1VwZGF0aW5nQ2hhaW4sIG5vcF0sXG4gICAgICAgICAgICAgICAgXCJkZWxldGluZ1wiOiBbaG9va0RlbGV0aW5nQ2hhaW4sIG5vcF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BsYWluS2V5UmFuZ2UoY3R4LCBpZ25vcmVMaW1pdEZpbHRlcikge1xuICAgICAgICByZXR1cm4gIShjdHguZmlsdGVyIHx8IGN0eC5hbGdvcml0aG0gfHwgY3R4Lm9yKSAmJlxuICAgICAgICAgICAgKGlnbm9yZUxpbWl0RmlsdGVyID8gY3R4Lmp1c3RMaW1pdCA6ICFjdHgucmVwbGF5RmlsdGVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRmlsdGVyKGN0eCwgZm4pIHtcbiAgICAgICAgY3R4LmZpbHRlciA9IGNvbWJpbmUoY3R4LmZpbHRlciwgZm4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRSZXBsYXlGaWx0ZXIoY3R4LCBmYWN0b3J5LCBpc0xpbWl0RmlsdGVyKSB7XG4gICAgICAgIHZhciBjdXJyID0gY3R4LnJlcGxheUZpbHRlcjtcbiAgICAgICAgY3R4LnJlcGxheUZpbHRlciA9IGN1cnIgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lKGN1cnIoKSwgZmFjdG9yeSgpKTsgfSA6IGZhY3Rvcnk7XG4gICAgICAgIGN0eC5qdXN0TGltaXQgPSBpc0xpbWl0RmlsdGVyICYmICFjdXJyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRNYXRjaEZpbHRlcihjdHgsIGZuKSB7XG4gICAgICAgIGN0eC5pc01hdGNoID0gY29tYmluZShjdHguaXNNYXRjaCwgZm4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbmRleE9yU3RvcmUoY3R4LCBjb3JlU2NoZW1hKSB7XG4gICAgICAgIGlmIChjdHguaXNQcmltS2V5KVxuICAgICAgICAgICAgcmV0dXJuIGNvcmVTY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGluZGV4ID0gY29yZVNjaGVtYS5nZXRJbmRleEJ5S2V5UGF0aChjdHguaW5kZXgpO1xuICAgICAgICBpZiAoIWluZGV4KVxuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiS2V5UGF0aCBcIiArIGN0eC5pbmRleCArIFwiIG9uIG9iamVjdCBzdG9yZSBcIiArIGNvcmVTY2hlbWEubmFtZSArIFwiIGlzIG5vdCBpbmRleGVkXCIpO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5DdXJzb3IoY3R4LCBjb3JlVGFibGUsIHRyYW5zKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVUYWJsZS5zY2hlbWEpO1xuICAgICAgICByZXR1cm4gY29yZVRhYmxlLm9wZW5DdXJzb3Ioe1xuICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgdmFsdWVzOiAhY3R4LmtleXNPbmx5LFxuICAgICAgICAgICAgcmV2ZXJzZTogY3R4LmRpciA9PT0gJ3ByZXYnLFxuICAgICAgICAgICAgdW5pcXVlOiAhIWN0eC51bmlxdWUsXG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpdGVyKGN0eCwgZm4sIGNvcmVUcmFucywgY29yZVRhYmxlKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBjdHgucmVwbGF5RmlsdGVyID8gY29tYmluZShjdHguZmlsdGVyLCBjdHgucmVwbGF5RmlsdGVyKCkpIDogY3R4LmZpbHRlcjtcbiAgICAgICAgaWYgKCFjdHgub3IpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRlKG9wZW5DdXJzb3IoY3R4LCBjb3JlVGFibGUsIGNvcmVUcmFucyksIGNvbWJpbmUoY3R4LmFsZ29yaXRobSwgZmlsdGVyKSwgZm4sICFjdHgua2V5c09ubHkgJiYgY3R4LnZhbHVlTWFwcGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzZXRfMSA9IHt9O1xuICAgICAgICAgICAgdmFyIHVuaW9uID0gZnVuY3Rpb24gKGl0ZW0sIGN1cnNvciwgYWR2YW5jZSkge1xuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihjdXJzb3IsIGFkdmFuY2UsIGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIGN1cnNvci5zdG9wKHJlc3VsdCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGN1cnNvci5mYWlsKGVycik7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSAnJyArIHByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAnJyArIG5ldyBVaW50OEFycmF5KHByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc093bihzZXRfMSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0XzFba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbihpdGVtLCBjdXJzb3IsIGFkdmFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgY3R4Lm9yLl9pdGVyYXRlKHVuaW9uLCBjb3JlVHJhbnMpLFxuICAgICAgICAgICAgICAgIGl0ZXJhdGUob3BlbkN1cnNvcihjdHgsIGNvcmVUYWJsZSwgY29yZVRyYW5zKSwgY3R4LmFsZ29yaXRobSwgdW5pb24sICFjdHgua2V5c09ubHkgJiYgY3R4LnZhbHVlTWFwcGVyKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXRlcmF0ZShjdXJzb3JQcm9taXNlLCBmaWx0ZXIsIGZuLCB2YWx1ZU1hcHBlcikge1xuICAgICAgICB2YXIgbWFwcGVkRm4gPSB2YWx1ZU1hcHBlciA/IGZ1bmN0aW9uICh4LCBjLCBhKSB7IHJldHVybiBmbih2YWx1ZU1hcHBlcih4KSwgYywgYSk7IH0gOiBmbjtcbiAgICAgICAgdmFyIHdyYXBwZWRGbiA9IHdyYXAobWFwcGVkRm4pO1xuICAgICAgICByZXR1cm4gY3Vyc29yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yLnN0YXJ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJzb3IuY29udGludWUoKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGN1cnNvciwgZnVuY3Rpb24gKGFkdmFuY2VyKSB7IHJldHVybiBjID0gYWR2YW5jZXI7IH0sIGZ1bmN0aW9uICh2YWwpIHsgY3Vyc29yLnN0b3AodmFsKTsgYyA9IG5vcDsgfSwgZnVuY3Rpb24gKGUpIHsgY3Vyc29yLmZhaWwoZSk7IGMgPSBub3A7IH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEZuKGN1cnNvci52YWx1ZSwgY3Vyc29yLCBmdW5jdGlvbiAoYWR2YW5jZXIpIHsgcmV0dXJuIGMgPSBhZHZhbmNlcjsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIFByb3BNb2RpZmljYXRpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gUHJvcE1vZGlmaWNhdGlvbihzcGVjKSB7XG4gICAgICAgICAgICB0aGlzW1wiQEBwcm9wbW9kXCJdID0gc3BlYztcbiAgICAgICAgfVxuICAgICAgICBQcm9wTW9kaWZpY2F0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgc3BlYyA9IHRoaXNbXCJAQHByb3Btb2RcIl07XG4gICAgICAgICAgICBpZiAoc3BlYy5hZGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gc3BlYy5hZGQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkodGVybSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgKGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSksIHRydWUpLCB0ZXJtLCB0cnVlKS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVybSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoTnVtYmVyKHZhbHVlKSB8fCAwKSArIHRlcm07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXJtID09PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSkgKyB0ZXJtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKSArIHRlcm07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGVybSBcIi5jb25jYXQodGVybSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNwZWMucmVtb3ZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VidHJhaGVuZF8xID0gc3BlYy5yZW1vdmU7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoc3VidHJhaGVuZF8xKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuICFzdWJ0cmFoZW5kXzEuaW5jbHVkZXMoaXRlbSk7IH0pLnNvcnQoKSA6IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN1YnRyYWhlbmRfMSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpIC0gc3VidHJhaGVuZF8xO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VidHJhaGVuZF8xID09PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSkgLSBzdWJ0cmFoZW5kXzE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KDApIC0gc3VidHJhaGVuZF8xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN1YnRyYWhlbmQgXCIuY29uY2F0KHN1YnRyYWhlbmRfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZWZpeFRvUmVwbGFjZSA9IChfYSA9IHNwZWMucmVwbGFjZVByZWZpeCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdO1xuICAgICAgICAgICAgaWYgKHByZWZpeFRvUmVwbGFjZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgocHJlZml4VG9SZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGVjLnJlcGxhY2VQcmVmaXhbMV0gKyB2YWx1ZS5zdWJzdHJpbmcocHJlZml4VG9SZXBsYWNlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBQcm9wTW9kaWZpY2F0aW9uO1xuICAgIH0oKSk7XG5cbiAgICB2YXIgQ29sbGVjdGlvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgICAgICB9XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKGZuLCBjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIHJldHVybiBjdHguZXJyb3IgP1xuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMobnVsbCwgcmVqZWN0aW9uLmJpbmQobnVsbCwgY3R4LmVycm9yKSkgOlxuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMoJ3JlYWRvbmx5JywgZm4pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gY3R4LmVycm9yID9cbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKG51bGwsIHJlamVjdGlvbi5iaW5kKG51bGwsIGN0eC5lcnJvcikpIDpcbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKCdyZWFkd3JpdGUnLCBmbiwgXCJsb2NrZWRcIik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGRBbGdvcml0aG0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBjdHguYWxnb3JpdGhtID0gY29tYmluZShjdHguYWxnb3JpdGhtLCBmbik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCBjb3JlVHJhbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyKHRoaXMuX2N0eCwgZm4sIGNvcmVUcmFucywgdGhpcy5fY3R4LnRhYmxlLmNvcmUpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgdmFyIHJ2ID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSksIGN0eCA9IE9iamVjdC5jcmVhdGUodGhpcy5fY3R4KTtcbiAgICAgICAgICAgIGlmIChwcm9wcylcbiAgICAgICAgICAgICAgICBleHRlbmQoY3R4LCBwcm9wcyk7XG4gICAgICAgICAgICBydi5fY3R4ID0gY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHgudmFsdWVNYXBwZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIGl0ZXIoY3R4LCBmbiwgdHJhbnMsIGN0eC50YWJsZS5jb3JlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IF90aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgdmFyIGNvcmVUYWJsZSA9IGN0eC50YWJsZS5jb3JlO1xuICAgICAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmNvdW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVUYWJsZS5zY2hlbWEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoY291bnQpIHsgcmV0dXJuIE1hdGgubWluKGNvdW50LCBjdHgubGltaXQpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVyKGN0eCwgZnVuY3Rpb24gKCkgeyArK2NvdW50OyByZXR1cm4gZmFsc2U7IH0sIHRyYW5zLCBjb3JlVGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBjb3VudDsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIChrZXlQYXRoLCBjYikge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0ga2V5UGF0aC5zcGxpdCgnLicpLnJldmVyc2UoKSwgbGFzdFBhcnQgPSBwYXJ0c1swXSwgbGFzdEluZGV4ID0gcGFydHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldHZhbChvYmosIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHZhbChvYmpbcGFydHNbaV1dLCBpIC0gMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ialtsYXN0UGFydF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3JkZXIgPSB0aGlzLl9jdHguZGlyID09PSBcIm5leHRcIiA/IDEgOiAtMTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNvcnRlcihhLCBiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFWYWwgPSBnZXR2YWwoYSwgbGFzdEluZGV4KSwgYlZhbCA9IGdldHZhbChiLCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbXAoYVZhbCwgYlZhbCkgKiBvcmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5zb3J0KHNvcnRlcik7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSBfdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIGlmIChjdHguZGlyID09PSAnbmV4dCcgJiYgaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkgJiYgY3R4LmxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVNYXBwZXJfMSA9IGN0eC52YWx1ZU1hcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY3R4LnRhYmxlLmNvcmUuc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiBjdHgubGltaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTWFwcGVyXzEgPyByZXN1bHQubWFwKHZhbHVlTWFwcGVyXzEpIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhXzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXIoY3R4LCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gYV8xLnB1c2goaXRlbSk7IH0sIHRyYW5zLCBjdHgudGFibGUuY29yZSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBhXzE7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGN0eC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKGlzUGxhaW5LZXlSYW5nZShjdHgpKSB7XG4gICAgICAgICAgICAgICAgYWRkUmVwbGF5RmlsdGVyKGN0eCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRMZWZ0ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldExlZnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLW9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2Uob2Zmc2V0TGVmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcihjdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAoLS1vZmZzZXRMZWZ0IDwgMCk7IH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbiAobnVtUm93cykge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmxpbWl0ID0gTWF0aC5taW4odGhpcy5fY3R4LmxpbWl0LCBudW1Sb3dzKTtcbiAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93c0xlZnQgPSBudW1Sb3dzO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgtLXJvd3NMZWZ0IDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93c0xlZnQgPj0gMDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudW50aWwgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24sIGJJbmNsdWRlU3RvcEVudHJ5KSB7XG4gICAgICAgICAgICBhZGRGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckZ1bmN0aW9uKGN1cnNvci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJJbmNsdWRlU3RvcEVudHJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3QoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyRnVuY3Rpb24oY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWRkTWF0Y2hGaWx0ZXIodGhpcy5fY3R4LCBmaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuYW5kID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMuX2N0eC50YWJsZSwgaW5kZXhOYW1lLCB0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5kaXIgPSAodGhpcy5fY3R4LmRpciA9PT0gXCJwcmV2XCIgPyBcIm5leHRcIiA6IFwicHJldlwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSlcbiAgICAgICAgICAgICAgICB0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSh0aGlzLl9jdHguZGlyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kZXNjID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoS2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLmtleSwgY3Vyc29yKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hVbmlxdWVLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC51bmlxdWUgPSBcInVuaXF1ZVwiO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaEtleShjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hQcmltYXJ5S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLnByaW1hcnlLZXksIGN1cnNvcik7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGl0ZW0sIGN1cnNvcikge1xuICAgICAgICAgICAgICAgIGEucHVzaChjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnByaW1hcnlLZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgaWYgKGN0eC5kaXIgPT09ICduZXh0JyAmJiBpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSAmJiBjdHgubGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4T3JTdG9yZShjdHgsIGN0eC50YWJsZS5jb3JlLnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5xdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGN0eC5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtLCBjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudW5pcXVlS2V5cyA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdGhpcy5fY3R4LnVuaXF1ZSA9IFwidW5pcXVlXCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlzKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3RLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLmtleXMoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5sYXN0S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3RLZXkoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kaXN0aW5jdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHgsIGlkeCA9IGN0eC5pbmRleCAmJiBjdHgudGFibGUuc2NoZW1hLmlkeEJ5TmFtZVtjdHguaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpZHggfHwgIWlkeC5tdWx0aSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHZhciBzZXQgPSB7fTtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyS2V5ID0gY3Vyc29yLnByaW1hcnlLZXkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBoYXNPd24oc2V0LCBzdHJLZXkpO1xuICAgICAgICAgICAgICAgIHNldFtzdHJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWZvdW5kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubW9kaWZ5ID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZnllcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5nZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBjaGFuZ2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUtleXMgPSBrZXlQYXRocy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmeWVyID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbnl0aGluZ01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUtleXM7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0ga2V5UGF0aHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGNoYW5nZXNba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdWYWwgPSBnZXRCeUtleVBhdGgoaXRlbSwga2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFByb3BNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKGl0ZW0sIGtleVBhdGgsIHZhbC5leGVjdXRlKG9yaWdWYWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmdNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9yaWdWYWwgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaXRlbSwga2V5UGF0aCwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmdNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFueXRoaW5nTW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb3JlVGFibGUgPSBjdHgudGFibGUuY29yZTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBjb3JlVGFibGUuc2NoZW1hLnByaW1hcnlLZXksIG91dGJvdW5kID0gX2Eub3V0Ym91bmQsIGV4dHJhY3RLZXkgPSBfYS5leHRyYWN0S2V5O1xuICAgICAgICAgICAgICAgIHZhciBsaW1pdCA9IDIwMDtcbiAgICAgICAgICAgICAgICB2YXIgbW9kaWZ5Q2h1bmtTaXplID0gX3RoaXMuZGIuX29wdGlvbnMubW9kaWZ5Q2h1bmtTaXplO1xuICAgICAgICAgICAgICAgIGlmIChtb2RpZnlDaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2RpZnlDaHVua1NpemUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0ID0gbW9kaWZ5Q2h1bmtTaXplW2NvcmVUYWJsZS5uYW1lXSB8fCBtb2RpZnlDaHVua1NpemVbJyonXSB8fCAyMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IG1vZGlmeUNodW5rU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG90YWxGYWlsdXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBmYWlsZWRLZXlzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGFwcGx5TXV0YXRlUmVzdWx0ID0gZnVuY3Rpb24gKGV4cGVjdGVkQ291bnQsIHJlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSByZXMuZmFpbHVyZXMsIG51bUZhaWx1cmVzID0gcmVzLm51bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQgKz0gZXhwZWN0ZWRDb3VudCAtIG51bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0ga2V5cyhmYWlsdXJlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxGYWlsdXJlcy5wdXNoKGZhaWx1cmVzW3Bvc10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2xvbmUoKS5wcmltYXJ5S2V5cygpLnRoZW4oZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyaXRlcmlhID0gaXNQbGFpbktleVJhbmdlKGN0eCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5saW1pdCA9PT0gSW5maW5pdHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgY2hhbmdlcyAhPT0gJ2Z1bmN0aW9uJyB8fCBjaGFuZ2VzID09PSBkZWxldGVDYWxsYmFjaykgJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGN0eC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaHVuayA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IE1hdGgubWluKGxpbWl0LCBrZXlzLmxlbmd0aCAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmdldE1hbnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY291bnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBcImltbXV0YWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHB1dFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwdXRLZXlzID0gb3V0Ym91bmQgPyBbXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZUtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdWYWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eF8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRlZXBDbG9uZShvcmlnVmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbUtleToga2V5c1tvZmZzZXQgKyBpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZ5ZXIuY2FsbChjdHhfMSwgY3R4XzEudmFsdWUsIGN0eF8xKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHhfMS52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlS2V5cy5wdXNoKGtleXNbb2Zmc2V0ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW91dGJvdW5kICYmIGNtcChleHRyYWN0S2V5KG9yaWdWYWx1ZSksIGV4dHJhY3RLZXkoY3R4XzEudmFsdWUpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUtleXMucHVzaChrZXlzW29mZnNldCArIGldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRWYWx1ZXMucHVzaChjdHhfMS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYWx1ZXMucHVzaChjdHhfMS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGJvdW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRLZXlzLnB1c2goa2V5c1tvZmZzZXQgKyBpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhZGRWYWx1ZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlVGFibGUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnYWRkJywgdmFsdWVzOiBhZGRWYWx1ZXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBvcyBpbiByZXMuZmFpbHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVLZXlzLnNwbGljZShwYXJzZUludChwb3MpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5TXV0YXRlUmVzdWx0KGFkZFZhbHVlcy5sZW5ndGgsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIChwdXRWYWx1ZXMubGVuZ3RoID4gMCB8fCAoY3JpdGVyaWEgJiYgdHlwZW9mIGNoYW5nZXMgPT09ICdvYmplY3QnKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZVRhYmxlLm11dGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHB1dEtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHB1dFZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhOiBjcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVNwZWM6IHR5cGVvZiBjaGFuZ2VzICE9PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWRkaXRpb25hbENodW5rOiBvZmZzZXQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gYXBwbHlNdXRhdGVSZXN1bHQocHV0VmFsdWVzLmxlbmd0aCwgcmVzKTsgfSk7IH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gKGRlbGV0ZUtleXMubGVuZ3RoID4gMCB8fCAoY3JpdGVyaWEgJiYgY2hhbmdlcyA9PT0gZGVsZXRlQ2FsbGJhY2spKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlVGFibGUubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czogZGVsZXRlS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhOiBjcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWRkaXRpb25hbENodW5rOiBvZmZzZXQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gYXBwbHlNdXRhdGVSZXN1bHQoZGVsZXRlS2V5cy5sZW5ndGgsIHJlcyk7IH0pOyB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXMubGVuZ3RoID4gb2Zmc2V0ICsgY291bnQgJiYgbmV4dENodW5rKG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dENodW5rKDApLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsRmFpbHVyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kaWZ5RXJyb3IoXCJFcnJvciBtb2RpZnlpbmcgb25lIG9yIG1vcmUgb2JqZWN0c1wiLCB0b3RhbEZhaWx1cmVzLCBzdWNjZXNzQ291bnQsIGZhaWxlZEtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4LCByYW5nZSA9IGN0eC5yYW5nZTtcbiAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4KSAmJlxuICAgICAgICAgICAgICAgIChjdHguaXNQcmltS2V5IHx8IHJhbmdlLnR5cGUgPT09IDMgKSlcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleSA9IGN0eC50YWJsZS5jb3JlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29yZVJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5jb3VudCh7IHRyYW5zOiB0cmFucywgcXVlcnk6IHsgaW5kZXg6IHByaW1hcnlLZXksIHJhbmdlOiBjb3JlUmFuZ2UgfSB9KS50aGVuKGZ1bmN0aW9uIChjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2RlbGV0ZVJhbmdlJywgcmFuZ2U6IGNvcmVSYW5nZSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzOyBfYS5sYXN0UmVzdWx0OyBfYS5yZXN1bHRzOyB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RpZnlFcnJvcihcIkNvdWxkIG5vdCBkZWxldGUgc29tZSB2YWx1ZXNcIiwgT2JqZWN0LmtleXMoZmFpbHVyZXMpLm1hcChmdW5jdGlvbiAocG9zKSB7IHJldHVybiBmYWlsdXJlc1twb3NdOyB9KSwgY291bnQgLSBudW1GYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50IC0gbnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RpZnkoZGVsZXRlQ2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ29sbGVjdGlvbjtcbiAgICB9KCkpO1xuICAgIHZhciBkZWxldGVDYWxsYmFjayA9IGZ1bmN0aW9uICh2YWx1ZSwgY3R4KSB7IHJldHVybiBjdHgudmFsdWUgPSBudWxsOyB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29sbGVjdGlvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihDb2xsZWN0aW9uLnByb3RvdHlwZSwgZnVuY3Rpb24gQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwga2V5UmFuZ2VHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHZhciBrZXlSYW5nZSA9IEFueVJhbmdlLCBlcnJvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoa2V5UmFuZ2VHZW5lcmF0b3IpXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAga2V5UmFuZ2UgPSBrZXlSYW5nZUdlbmVyYXRvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd2hlcmVDdHggPSB3aGVyZUNsYXVzZS5fY3R4O1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gd2hlcmVDdHgudGFibGU7XG4gICAgICAgICAgICB2YXIgcmVhZGluZ0hvb2sgPSB0YWJsZS5ob29rLnJlYWRpbmcuZmlyZTtcbiAgICAgICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHdoZXJlQ3R4LmluZGV4LFxuICAgICAgICAgICAgICAgIGlzUHJpbUtleTogKCF3aGVyZUN0eC5pbmRleCB8fCAodGFibGUuc2NoZW1hLnByaW1LZXkua2V5UGF0aCAmJiB3aGVyZUN0eC5pbmRleCA9PT0gdGFibGUuc2NoZW1hLnByaW1LZXkubmFtZSkpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBrZXlSYW5nZSxcbiAgICAgICAgICAgICAgICBrZXlzT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlyOiBcIm5leHRcIixcbiAgICAgICAgICAgICAgICB1bmlxdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgYWxnb3JpdGhtOiBudWxsLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICByZXBsYXlGaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAganVzdExpbWl0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzTWF0Y2g6IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGxpbWl0OiBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgb3I6IHdoZXJlQ3R4Lm9yLFxuICAgICAgICAgICAgICAgIHZhbHVlTWFwcGVyOiByZWFkaW5nSG9vayAhPT0gbWlycm9yID8gcmVhZGluZ0hvb2sgOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmVSZXZlcnNlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPiBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmFpbChjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSwgZXJyLCBUKSB7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uID0gY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UgaW5zdGFuY2VvZiBXaGVyZUNsYXVzZSA/XG4gICAgICAgICAgICBuZXcgY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UuQ29sbGVjdGlvbihjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSkgOlxuICAgICAgICAgICAgY29sbGVjdGlvbk9yV2hlcmVDbGF1c2U7XG4gICAgICAgIGNvbGxlY3Rpb24uX2N0eC5lcnJvciA9IFQgPyBuZXcgVChlcnIpIDogbmV3IFR5cGVFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1wdHlDb2xsZWN0aW9uKHdoZXJlQ2xhdXNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgd2hlcmVDbGF1c2UuQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmFuZ2VFcXVhbChcIlwiKTsgfSkubGltaXQoMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwcGVyRmFjdG9yeShkaXIpIHtcbiAgICAgICAgcmV0dXJuIGRpciA9PT0gXCJuZXh0XCIgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfSA6XG4gICAgICAgICAgICBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b0xvd2VyQ2FzZSgpOyB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb3dlckZhY3RvcnkoZGlyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09IFwibmV4dFwiID9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvTG93ZXJDYXNlKCk7IH0gOlxuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dENhc2luZyhrZXksIGxvd2VyS2V5LCB1cHBlck5lZWRsZSwgbG93ZXJOZWVkbGUsIGNtcCwgZGlyKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihrZXkubGVuZ3RoLCBsb3dlck5lZWRsZS5sZW5ndGgpO1xuICAgICAgICB2YXIgbGxwID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsd3JLZXlDaGFyID0gbG93ZXJLZXlbaV07XG4gICAgICAgICAgICBpZiAobHdyS2V5Q2hhciAhPT0gbG93ZXJOZWVkbGVbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgdXBwZXJOZWVkbGVbaV0pIDwgMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaSkgKyB1cHBlck5lZWRsZVtpXSArIHVwcGVyTmVlZGxlLnN1YnN0cihpICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChrZXlbaV0sIGxvd2VyTmVlZGxlW2ldKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGkpICsgbG93ZXJOZWVkbGVbaV0gKyB1cHBlck5lZWRsZS5zdWJzdHIoaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChsbHAgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgbGxwKSArIGxvd2VyS2V5W2xscF0gKyB1cHBlck5lZWRsZS5zdWJzdHIobGxwICsgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgbHdyS2V5Q2hhcikgPCAwKVxuICAgICAgICAgICAgICAgIGxscCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA8IGxvd2VyTmVlZGxlLmxlbmd0aCAmJiBkaXIgPT09IFwibmV4dFwiKVxuICAgICAgICAgICAgcmV0dXJuIGtleSArIHVwcGVyTmVlZGxlLnN1YnN0cihrZXkubGVuZ3RoKTtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGtleS5sZW5ndGggJiYgZGlyID09PSBcInByZXZcIilcbiAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIHVwcGVyTmVlZGxlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiAobGxwIDwgMCA/IG51bGwgOiBrZXkuc3Vic3RyKDAsIGxscCkgKyBsb3dlck5lZWRsZVtsbHBdICsgdXBwZXJOZWVkbGUuc3Vic3RyKGxscCArIDEpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh3aGVyZUNsYXVzZSwgbWF0Y2gsIG5lZWRsZXMsIHN1ZmZpeCkge1xuICAgICAgICB2YXIgdXBwZXIsIGxvd2VyLCBjb21wYXJlLCB1cHBlck5lZWRsZXMsIGxvd2VyTmVlZGxlcywgZGlyZWN0aW9uLCBuZXh0S2V5U3VmZml4LCBuZWVkbGVzTGVuID0gbmVlZGxlcy5sZW5ndGg7XG4gICAgICAgIGlmICghbmVlZGxlcy5ldmVyeShmdW5jdGlvbiAocykgeyByZXR1cm4gdHlwZW9mIHMgPT09ICdzdHJpbmcnOyB9KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhaWwod2hlcmVDbGF1c2UsIFNUUklOR19FWFBFQ1RFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaW5pdERpcmVjdGlvbihkaXIpIHtcbiAgICAgICAgICAgIHVwcGVyID0gdXBwZXJGYWN0b3J5KGRpcik7XG4gICAgICAgICAgICBsb3dlciA9IGxvd2VyRmFjdG9yeShkaXIpO1xuICAgICAgICAgICAgY29tcGFyZSA9IChkaXIgPT09IFwibmV4dFwiID8gc2ltcGxlQ29tcGFyZSA6IHNpbXBsZUNvbXBhcmVSZXZlcnNlKTtcbiAgICAgICAgICAgIHZhciBuZWVkbGVCb3VuZHMgPSBuZWVkbGVzLm1hcChmdW5jdGlvbiAobmVlZGxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbG93ZXI6IGxvd2VyKG5lZWRsZSksIHVwcGVyOiB1cHBlcihuZWVkbGUpIH07XG4gICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUoYS5sb3dlciwgYi5sb3dlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVwcGVyTmVlZGxlcyA9IG5lZWRsZUJvdW5kcy5tYXAoZnVuY3Rpb24gKG5iKSB7IHJldHVybiBuYi51cHBlcjsgfSk7XG4gICAgICAgICAgICBsb3dlck5lZWRsZXMgPSBuZWVkbGVCb3VuZHMubWFwKGZ1bmN0aW9uIChuYikgeyByZXR1cm4gbmIubG93ZXI7IH0pO1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gZGlyO1xuICAgICAgICAgICAgbmV4dEtleVN1ZmZpeCA9IChkaXIgPT09IFwibmV4dFwiID8gXCJcIiA6IHN1ZmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdERpcmVjdGlvbihcIm5leHRcIik7XG4gICAgICAgIHZhciBjID0gbmV3IHdoZXJlQ2xhdXNlLkNvbGxlY3Rpb24od2hlcmVDbGF1c2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVwcGVyTmVlZGxlc1swXSwgbG93ZXJOZWVkbGVzW25lZWRsZXNMZW4gLSAxXSArIHN1ZmZpeCk7IH0pO1xuICAgICAgICBjLl9vbmRpcmVjdGlvbmNoYW5nZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGluaXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpcnN0UG9zc2libGVOZWVkbGUgPSAwO1xuICAgICAgICBjLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxvd2VyS2V5ID0gbG93ZXIoa2V5KTtcbiAgICAgICAgICAgIGlmIChtYXRjaChsb3dlcktleSwgbG93ZXJOZWVkbGVzLCBmaXJzdFBvc3NpYmxlTmVlZGxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RQb3NzaWJsZU5lZWRsZTsgaSA8IG5lZWRsZXNMZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FzaW5nID0gbmV4dENhc2luZyhrZXksIGxvd2VyS2V5LCB1cHBlck5lZWRsZXNbaV0sIGxvd2VyTmVlZGxlc1tpXSwgY29tcGFyZSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhc2luZyA9PT0gbnVsbCAmJiBsb3dlc3RQb3NzaWJsZUNhc2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVOZWVkbGUgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobG93ZXN0UG9zc2libGVDYXNpbmcgPT09IG51bGwgfHwgY29tcGFyZShsb3dlc3RQb3NzaWJsZUNhc2luZywgY2FzaW5nKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID0gY2FzaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb3dlc3RQb3NzaWJsZUNhc2luZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHsgY3Vyc29yLmNvbnRpbnVlKGxvd2VzdFBvc3NpYmxlQ2FzaW5nICsgbmV4dEtleVN1ZmZpeCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGxvd2VyLCB1cHBlciwgbG93ZXJPcGVuLCB1cHBlck9wZW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLFxuICAgICAgICAgICAgbG93ZXI6IGxvd2VyLFxuICAgICAgICAgICAgdXBwZXI6IHVwcGVyLFxuICAgICAgICAgICAgbG93ZXJPcGVuOiBsb3dlck9wZW4sXG4gICAgICAgICAgICB1cHBlck9wZW46IHVwcGVyT3BlblxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5nZUVxdWFsKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAxICxcbiAgICAgICAgICAgIGxvd2VyOiB2YWx1ZSxcbiAgICAgICAgICAgIHVwcGVyOiB2YWx1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBXaGVyZUNsYXVzZSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBXaGVyZUNsYXVzZSgpIHtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2hlcmVDbGF1c2UucHJvdG90eXBlLCBcIkNvbGxlY3Rpb25cIiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N0eC50YWJsZS5kYi5Db2xsZWN0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmV0d2VlbiA9IGZ1bmN0aW9uIChsb3dlciwgdXBwZXIsIGluY2x1ZGVMb3dlciwgaW5jbHVkZVVwcGVyKSB7XG4gICAgICAgICAgICBpbmNsdWRlTG93ZXIgPSBpbmNsdWRlTG93ZXIgIT09IGZhbHNlO1xuICAgICAgICAgICAgaW5jbHVkZVVwcGVyID0gaW5jbHVkZVVwcGVyID09PSB0cnVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX2NtcChsb3dlciwgdXBwZXIpID4gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX2NtcChsb3dlciwgdXBwZXIpID09PSAwICYmIChpbmNsdWRlTG93ZXIgfHwgaW5jbHVkZVVwcGVyKSAmJiAhKGluY2x1ZGVMb3dlciAmJiBpbmNsdWRlVXBwZXIpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShsb3dlciwgdXBwZXIsICFpbmNsdWRlTG93ZXIsICFpbmNsdWRlVXBwZXIpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiByYW5nZUVxdWFsKHZhbHVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hYm92ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodmFsdWUsIHVuZGVmaW5lZCwgdHJ1ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYWJvdmVPckVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh2YWx1ZSwgdW5kZWZpbmVkLCBmYWxzZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmVsb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVuZGVmaW5lZCwgdmFsdWUsIGZhbHNlLCB0cnVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5iZWxvd09yRXF1YWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVuZGVmaW5lZCwgdmFsdWUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLnN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgU1RSSU5HX0VYUEVDVEVEKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJldHdlZW4oc3RyLCBzdHIgKyBtYXhTdHJpbmcsIHRydWUsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aElnbm9yZUNhc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAoc3RyID09PSBcIlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0c1dpdGgoc3RyKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4LmluZGV4T2YoYVswXSkgPT09IDA7IH0sIFtzdHJdLCBtYXhTdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuZXF1YWxzSWdub3JlQ2FzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4ID09PSBhWzBdOyB9LCBbc3RyXSwgXCJcIik7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hbnlPZklnbm9yZUNhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiBhLmluZGV4T2YoeCkgIT09IC0xOyB9LCBzZXQsIFwiXCIpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mSWdub3JlQ2FzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIGEuc29tZShmdW5jdGlvbiAobikgeyByZXR1cm4geC5pbmRleE9mKG4pID09PSAwOyB9KTsgfSwgc2V0LCBtYXhTdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYW55T2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjb21wYXJlID0gdGhpcy5fY21wO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChjb21wYXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHZhciBjID0gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShzZXRbMF0sIHNldFtzZXQubGVuZ3RoIC0gMV0pOyB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbXBhcmUgPSAoZGlyZWN0aW9uID09PSBcIm5leHRcIiA/XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9hc2NlbmRpbmcgOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGVzY2VuZGluZyk7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQoY29tcGFyZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgYy5fYWRkQWxnb3JpdGhtKGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZShrZXksIHNldFtpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHNldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUoa2V5LCBzZXRbaV0pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7IGN1cnNvci5jb250aW51ZShzZXRbaV0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5ub3RFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5BbnlSYW5nZShbW21pbktleSwgdmFsdWVdLCBbdmFsdWUsIHRoaXMuZGIuX21heEtleV1dLCB7IGluY2x1ZGVMb3dlcnM6IGZhbHNlLCBpbmNsdWRlVXBwZXJzOiBmYWxzZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLm5vbmVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQodGhpcy5fYXNjZW5kaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHNldC5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgdmFsKSB7IHJldHVybiByZXMgP1xuICAgICAgICAgICAgICAgIHJlcy5jb25jYXQoW1tyZXNbcmVzLmxlbmd0aCAtIDFdWzFdLCB2YWxdXSkgOlxuICAgICAgICAgICAgICAgIFtbbWluS2V5LCB2YWxdXTsgfSwgbnVsbCk7XG4gICAgICAgICAgICByYW5nZXMucHVzaChbc2V0W3NldC5sZW5ndGggLSAxXSwgdGhpcy5kYi5fbWF4S2V5XSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHJhbmdlcywgeyBpbmNsdWRlTG93ZXJzOiBmYWxzZSwgaW5jbHVkZVVwcGVyczogZmFsc2UgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5pbkFueVJhbmdlID0gZnVuY3Rpb24gKHJhbmdlcywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjbXAgPSB0aGlzLl9jbXAsIGFzY2VuZGluZyA9IHRoaXMuX2FzY2VuZGluZywgZGVzY2VuZGluZyA9IHRoaXMuX2Rlc2NlbmRpbmcsIG1pbiA9IHRoaXMuX21pbiwgbWF4ID0gdGhpcy5fbWF4O1xuICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2VzLmV2ZXJ5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZVswXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlWzFdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nKHJhbmdlWzBdLCByYW5nZVsxXSkgPD0gMDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgXCJGaXJzdCBhcmd1bWVudCB0byBpbkFueVJhbmdlKCkgbXVzdCBiZSBhbiBBcnJheSBvZiB0d28tdmFsdWUgQXJyYXlzIFtsb3dlcix1cHBlcl0gd2hlcmUgdXBwZXIgbXVzdCBub3QgYmUgbG93ZXIgdGhhbiBsb3dlclwiLCBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5jbHVkZUxvd2VycyA9ICFvcHRpb25zIHx8IG9wdGlvbnMuaW5jbHVkZUxvd2VycyAhPT0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaW5jbHVkZVVwcGVycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbmNsdWRlVXBwZXJzID09PSB0cnVlO1xuICAgICAgICAgICAgZnVuY3Rpb24gYWRkUmFuZ2UocmFuZ2VzLCBuZXdSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgbCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY21wKG5ld1JhbmdlWzBdLCByYW5nZVsxXSkgPCAwICYmIGNtcChuZXdSYW5nZVsxXSwgcmFuZ2VbMF0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbMF0gPSBtaW4ocmFuZ2VbMF0sIG5ld1JhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlWzFdID0gbWF4KHJhbmdlWzFdLCBuZXdSYW5nZVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbClcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3UmFuZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc29ydERpcmVjdGlvbiA9IGFzY2VuZGluZztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJhbmdlU29ydGVyKGEsIGIpIHsgcmV0dXJuIHNvcnREaXJlY3Rpb24oYVswXSwgYlswXSk7IH1cbiAgICAgICAgICAgIHZhciBzZXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNldCA9IHJhbmdlcy5yZWR1Y2UoYWRkUmFuZ2UsIFtdKTtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChyYW5nZVNvcnRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2VQb3MgPSAwO1xuICAgICAgICAgICAgdmFyIGtleUlzQmV5b25kQ3VycmVudEVudHJ5ID0gaW5jbHVkZVVwcGVycyA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXNjZW5kaW5nKGtleSwgc2V0W3JhbmdlUG9zXVsxXSkgPiAwOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhc2NlbmRpbmcoa2V5LCBzZXRbcmFuZ2VQb3NdWzFdKSA+PSAwOyB9O1xuICAgICAgICAgICAgdmFyIGtleUlzQmVmb3JlQ3VycmVudEVudHJ5ID0gaW5jbHVkZUxvd2VycyA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMF0pID4gMDsgfSA6XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMF0pID49IDA7IH07XG4gICAgICAgICAgICBmdW5jdGlvbiBrZXlXaXRoaW5DdXJyZW50UmFuZ2Uoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFrZXlJc0JleW9uZEN1cnJlbnRFbnRyeShrZXkpICYmICFrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICB2YXIgYyA9IG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2Uoc2V0WzBdWzBdLCBzZXRbc2V0Lmxlbmd0aCAtIDFdWzFdLCAhaW5jbHVkZUxvd2VycywgIWluY2x1ZGVVcHBlcnMpOyB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSBhc2NlbmRpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0tleSA9IGtleUlzQmVmb3JlQ3VycmVudEVudHJ5O1xuICAgICAgICAgICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gZGVzY2VuZGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQocmFuZ2VTb3J0ZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNoZWNrS2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgKytyYW5nZVBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlUG9zID09PSBzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXlXaXRoaW5DdXJyZW50UmFuZ2Uoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuX2NtcChrZXksIHNldFtyYW5nZVBvc11bMV0pID09PSAwIHx8IF90aGlzLl9jbXAoa2V5LCBzZXRbcmFuZ2VQb3NdWzBdKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3J0RGlyZWN0aW9uID09PSBhc2NlbmRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKHNldFtyYW5nZVBvc11bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShzZXRbcmFuZ2VQb3NdWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICghc2V0LmV2ZXJ5KGZ1bmN0aW9uIChzKSB7IHJldHVybiB0eXBlb2YgcyA9PT0gJ3N0cmluZyc7IH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgXCJzdGFydHNXaXRoQW55T2YoKSBvbmx5IHdvcmtzIHdpdGggc3RyaW5nc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHNldC5tYXAoZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gW3N0ciwgc3RyICsgbWF4U3RyaW5nXTsgfSkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gV2hlcmVDbGF1c2U7XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVdoZXJlQ2xhdXNlQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFdoZXJlQ2xhdXNlLnByb3RvdHlwZSwgZnVuY3Rpb24gV2hlcmVDbGF1c2UodGFibGUsIGluZGV4LCBvckNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4ID09PSBcIjppZFwiID8gbnVsbCA6IGluZGV4LFxuICAgICAgICAgICAgICAgIG9yOiBvckNvbGxlY3Rpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9jbXAgPSB0aGlzLl9hc2NlbmRpbmcgPSBjbXA7XG4gICAgICAgICAgICB0aGlzLl9kZXNjZW5kaW5nID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChiLCBhKTsgfTtcbiAgICAgICAgICAgIHRoaXMuX21heCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPiAwID8gYSA6IGI7IH07XG4gICAgICAgICAgICB0aGlzLl9taW4gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGEgOiBiOyB9O1xuICAgICAgICAgICAgdGhpcy5fSURCS2V5UmFuZ2UgPSBkYi5fZGVwcy5JREJLZXlSYW5nZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fSURCS2V5UmFuZ2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KSB7XG4gICAgICAgIHJldHVybiB3cmFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICAgICAgcmVqZWN0KGV2ZW50LnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyIERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FID0gJ3N0b3JhZ2VtdXRhdGVkJztcbiAgICB2YXIgU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FID0gJ3gtc3RvcmFnZW11dGF0ZWQtMSc7XG4gICAgdmFyIGdsb2JhbEV2ZW50cyA9IEV2ZW50cyhudWxsLCBERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSk7XG5cbiAgICB2YXIgVHJhbnNhY3Rpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNhY3Rpb24oKSB7XG4gICAgICAgIH1cbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXNzZXJ0KCFQU0QuZ2xvYmFsKTtcbiAgICAgICAgICAgICsrdGhpcy5fcmVjdWxvY2s7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVjdWxvY2sgPT09IDEgJiYgIVBTRC5nbG9iYWwpXG4gICAgICAgICAgICAgICAgUFNELmxvY2tPd25lckZvciA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl91bmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQoIVBTRC5nbG9iYWwpO1xuICAgICAgICAgICAgaWYgKC0tdGhpcy5fcmVjdWxvY2sgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoIVBTRC5nbG9iYWwpXG4gICAgICAgICAgICAgICAgICAgIFBTRC5sb2NrT3duZXJGb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9ibG9ja2VkRnVuY3MubGVuZ3RoID4gMCAmJiAhdGhpcy5fbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuQW5kUFNEID0gdGhpcy5fYmxvY2tlZEZ1bmNzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VQU0QoZm5BbmRQU0RbMV0sIGZuQW5kUFNEWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fbG9ja2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3Vsb2NrICYmIFBTRC5sb2NrT3duZXJGb3IgIT09IHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHZhciBpZGJkYiA9IHRoaXMuZGIuaWRiZGI7XG4gICAgICAgICAgICB2YXIgZGJPcGVuRXJyb3IgPSB0aGlzLmRiLl9zdGF0ZS5kYk9wZW5FcnJvcjtcbiAgICAgICAgICAgIGFzc2VydCghdGhpcy5pZGJ0cmFucyk7XG4gICAgICAgICAgICBpZiAoIWlkYnRyYW5zICYmICFpZGJkYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGJPcGVuRXJyb3IgJiYgZGJPcGVuRXJyb3IubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGF0YWJhc2VDbG9zZWRFcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTWlzc2luZ0FQSUVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKGRiT3BlbkVycm9yLm1lc3NhZ2UsIGRiT3BlbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk9wZW5GYWlsZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVHJhbnNhY3Rpb25JbmFjdGl2ZSgpO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2NvbXBsZXRpb24uX3N0YXRlID09PSBudWxsKTtcbiAgICAgICAgICAgIGlkYnRyYW5zID0gdGhpcy5pZGJ0cmFucyA9IGlkYnRyYW5zIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuZGIuY29yZVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZGIuY29yZS50cmFuc2FjdGlvbih0aGlzLnN0b3JlTmFtZXMsIHRoaXMubW9kZSwgeyBkdXJhYmlsaXR5OiB0aGlzLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSB9KVxuICAgICAgICAgICAgICAgICAgICA6IGlkYmRiLnRyYW5zYWN0aW9uKHRoaXMuc3RvcmVOYW1lcywgdGhpcy5tb2RlLCB7IGR1cmFiaWxpdHk6IHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5IH0pKTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uZXJyb3IgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0KGlkYnRyYW5zLmVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWRidHJhbnMub25hYm9ydCA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXYpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSAmJiBfdGhpcy5fcmVqZWN0KG5ldyBleGNlcHRpb25zLkFib3J0KGlkYnRyYW5zLmVycm9yKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24oXCJhYm9ydFwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWRidHJhbnMub25jb21wbGV0ZSA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCdtdXRhdGVkUGFydHMnIGluIGlkYnRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC5maXJlKGlkYnRyYW5zW1wibXV0YXRlZFBhcnRzXCJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3Byb21pc2UgPSBmdW5jdGlvbiAobW9kZSwgZm4sIGJXcml0ZUxvY2spIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScgJiYgdGhpcy5tb2RlICE9PSAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlJlYWRPbmx5KFwiVHJhbnNhY3Rpb24gaXMgcmVhZG9ubHlcIikpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlRyYW5zYWN0aW9uSW5hY3RpdmUoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ibG9ja2VkRnVuY3MucHVzaChbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wcm9taXNlKG1vZGUsIGZuLCBiV3JpdGVMb2NrKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBQU0RdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJXcml0ZUxvY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGZuKHJlc29sdmUsIHJlamVjdCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ2ICYmIHJ2LnRoZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcC5maW5hbGx5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl91bmxvY2soKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gZm4ocmVzb2x2ZSwgcmVqZWN0LCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydiAmJiBydi50aGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fcm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50Ll9yb290KCkgOiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uIChwcm9taXNlTGlrZSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl9yb290KCk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IERleGllUHJvbWlzZS5yZXNvbHZlKHByb21pc2VMaWtlKTtcbiAgICAgICAgICAgIGlmIChyb290Ll93YWl0aW5nRm9yKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IHJvb3QuX3dhaXRpbmdGb3IudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9taXNlOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdGb3IgPSBwcm9taXNlO1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHJvb3QuaWRidHJhbnMub2JqZWN0U3RvcmUocm9vdC5zdG9yZU5hbWVzWzBdKTtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gc3BpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgKytyb290Ll9zcGluQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyb290Ll93YWl0aW5nUXVldWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHJvb3QuX3dhaXRpbmdRdWV1ZS5zaGlmdCgpKSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0ZvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmdldCgtSW5maW5pdHkpLm9uc3VjY2VzcyA9IHNwaW47XG4gICAgICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50V2FpdFByb21pc2UgPSByb290Ll93YWl0aW5nRm9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByb290Ll93YWl0aW5nUXVldWUucHVzaCh3cmFwKHJlc29sdmUuYmluZChudWxsLCByZXMpKSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJvb3QuX3dhaXRpbmdRdWV1ZS5wdXNoKHdyYXAocmVqZWN0LmJpbmQobnVsbCwgZXJyKSkpOyB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3QuX3dhaXRpbmdGb3IgPT09IGN1cnJlbnRXYWl0UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkYnRyYW5zKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkYnRyYW5zLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG5ldyBleGNlcHRpb25zLkFib3J0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgbWVtb2l6ZWRUYWJsZXMgPSAodGhpcy5fbWVtb2l6ZWRUYWJsZXMgfHwgKHRoaXMuX21lbW9pemVkVGFibGVzID0ge30pKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24obWVtb2l6ZWRUYWJsZXMsIHRhYmxlTmFtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkVGFibGVzW3RhYmxlTmFtZV07XG4gICAgICAgICAgICB2YXIgdGFibGVTY2hlbWEgPSB0aGlzLnNjaGVtYVt0YWJsZU5hbWVdO1xuICAgICAgICAgICAgaWYgKCF0YWJsZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk5vdEZvdW5kKFwiVGFibGUgXCIgKyB0YWJsZU5hbWUgKyBcIiBub3QgcGFydCBvZiB0cmFuc2FjdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkJvdW5kVGFibGUgPSBuZXcgdGhpcy5kYi5UYWJsZSh0YWJsZU5hbWUsIHRhYmxlU2NoZW1hLCB0aGlzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQm91bmRUYWJsZS5jb3JlID0gdGhpcy5kYi5jb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICBtZW1vaXplZFRhYmxlc1t0YWJsZU5hbWVdID0gdHJhbnNhY3Rpb25Cb3VuZFRhYmxlO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uQm91bmRUYWJsZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihUcmFuc2FjdGlvbi5wcm90b3R5cGUsIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBjaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHksIHBhcmVudCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgICAgICB0aGlzLnN0b3JlTmFtZXMgPSBzdG9yZU5hbWVzO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5ID0gY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5O1xuICAgICAgICAgICAgdGhpcy5pZGJ0cmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uID0gRXZlbnRzKHRoaXMsIFwiY29tcGxldGVcIiwgXCJlcnJvclwiLCBcImFib3J0XCIpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vsb2NrID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2NrZWRGdW5jcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0ZvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nUXVldWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc3BpbkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRpb24gPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbi5jb21wbGV0ZS5maXJlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciB3YXNBY3RpdmUgPSBfdGhpcy5hY3RpdmU7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24uZXJyb3IuZmlyZShlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQgP1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQuX3JlamVjdChlKSA6XG4gICAgICAgICAgICAgICAgICAgIHdhc0FjdGl2ZSAmJiBfdGhpcy5pZGJ0cmFucyAmJiBfdGhpcy5pZGJ0cmFucy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhTcGVjKG5hbWUsIGtleVBhdGgsIHVuaXF1ZSwgbXVsdGksIGF1dG8sIGNvbXBvdW5kLCBpc1ByaW1LZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBrZXlQYXRoOiBrZXlQYXRoLFxuICAgICAgICAgICAgdW5pcXVlOiB1bmlxdWUsXG4gICAgICAgICAgICBtdWx0aTogbXVsdGksXG4gICAgICAgICAgICBhdXRvOiBhdXRvLFxuICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgc3JjOiAodW5pcXVlICYmICFpc1ByaW1LZXkgPyAnJicgOiAnJykgKyAobXVsdGkgPyAnKicgOiAnJykgKyAoYXV0byA/IFwiKytcIiA6IFwiXCIpICsgbmFtZUZyb21LZXlQYXRoKGtleVBhdGgpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5hbWVGcm9tS2V5UGF0aChrZXlQYXRoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAga2V5UGF0aCA6XG4gICAgICAgICAgICBrZXlQYXRoID8gKCdbJyArIFtdLmpvaW4uY2FsbChrZXlQYXRoLCAnKycpICsgJ10nKSA6IFwiXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFibGVTY2hlbWEobmFtZSwgcHJpbUtleSwgaW5kZXhlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHByaW1LZXk6IHByaW1LZXksXG4gICAgICAgICAgICBpbmRleGVzOiBpbmRleGVzLFxuICAgICAgICAgICAgbWFwcGVkQ2xhc3M6IG51bGwsXG4gICAgICAgICAgICBpZHhCeU5hbWU6IGFycmF5VG9PYmplY3QoaW5kZXhlcywgZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiBbaW5kZXgubmFtZSwgaW5kZXhdOyB9KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhZmFyaU11bHRpU3RvcmVGaXgoc3RvcmVOYW1lcykge1xuICAgICAgICByZXR1cm4gc3RvcmVOYW1lcy5sZW5ndGggPT09IDEgPyBzdG9yZU5hbWVzWzBdIDogc3RvcmVOYW1lcztcbiAgICB9XG4gICAgdmFyIGdldE1heEtleSA9IGZ1bmN0aW9uIChJZGJLZXlSYW5nZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgSWRiS2V5UmFuZ2Uub25seShbW11dKTtcbiAgICAgICAgICAgIGdldE1heEtleSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtbXV07IH07XG4gICAgICAgICAgICByZXR1cm4gW1tdXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2V0TWF4S2V5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF4U3RyaW5nOyB9O1xuICAgICAgICAgICAgcmV0dXJuIG1heFN0cmluZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aCkge1xuICAgICAgICBpZiAoa2V5UGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGdldFNpbmdsZVBhdGhLZXlFeHRyYWN0b3Ioa2V5UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2luZ2xlUGF0aEtleUV4dHJhY3RvcihrZXlQYXRoKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGtleVBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9ialtrZXlQYXRoXTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKTsgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFycmF5aWZ5KGFycmF5TGlrZSkge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChhcnJheUxpa2UpO1xuICAgIH1cbiAgICB2YXIgX2lkX2NvdW50ZXIgPSAwO1xuICAgIGZ1bmN0aW9uIGdldEtleVBhdGhBbGlhcyhrZXlQYXRoKSB7XG4gICAgICAgIHJldHVybiBrZXlQYXRoID09IG51bGwgP1xuICAgICAgICAgICAgXCI6aWRcIiA6XG4gICAgICAgICAgICB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGtleVBhdGggOlxuICAgICAgICAgICAgICAgIFwiW1wiLmNvbmNhdChrZXlQYXRoLmpvaW4oJysnKSwgXCJdXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVEQkNvcmUoZGIsIElkYktleVJhbmdlLCB0bXBUcmFucykge1xuICAgICAgICBmdW5jdGlvbiBleHRyYWN0U2NoZW1hKGRiLCB0cmFucykge1xuICAgICAgICAgICAgdmFyIHRhYmxlcyA9IGFycmF5aWZ5KGRiLm9iamVjdFN0b3JlTmFtZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzOiB0YWJsZXMubWFwKGZ1bmN0aW9uICh0YWJsZSkgeyByZXR1cm4gdHJhbnMub2JqZWN0U3RvcmUodGFibGUpOyB9KS5tYXAoZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IHN0b3JlLmtleVBhdGgsIGF1dG9JbmNyZW1lbnQgPSBzdG9yZS5hdXRvSW5jcmVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvdW5kID0gaXNBcnJheShrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRib3VuZCA9IGtleVBhdGggPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleEJ5S2V5UGF0aCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdG9yZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRib3VuZDogb3V0Ym91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvdW5kOiBjb21wb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aDoga2V5UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogYXV0b0luY3JlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXM6IGFycmF5aWZ5KHN0b3JlLmluZGV4TmFtZXMpLm1hcChmdW5jdGlvbiAoaW5kZXhOYW1lKSB7IHJldHVybiBzdG9yZS5pbmRleChpbmRleE5hbWUpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGluZGV4Lm5hbWUsIHVuaXF1ZSA9IGluZGV4LnVuaXF1ZSwgbXVsdGlFbnRyeSA9IGluZGV4Lm11bHRpRW50cnksIGtleVBhdGggPSBpbmRleC5rZXlQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG91bmQgPSBpc0FycmF5KGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvdW5kOiBjb21wb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IGtleVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHVuaXF1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpRW50cnk6IG11bHRpRW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhCeUtleVBhdGhbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRJbmRleEJ5S2V5UGF0aDogZnVuY3Rpb24gKGtleVBhdGgpIHsgcmV0dXJuIGluZGV4QnlLZXlQYXRoW2dldEtleVBhdGhBbGlhcyhrZXlQYXRoKV07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleEJ5S2V5UGF0aFtcIjppZFwiXSA9IHJlc3VsdC5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4QnlLZXlQYXRoW2dldEtleVBhdGhBbGlhcyhrZXlQYXRoKV0gPSByZXN1bHQucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYXNHZXRBbGw6IHRhYmxlcy5sZW5ndGggPiAwICYmICgnZ2V0QWxsJyBpbiB0cmFucy5vYmplY3RTdG9yZSh0YWJsZXNbMF0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICEvKENocm9tZVxcL3xFZGdlXFwvKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgW10uY29uY2F0KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVxcLyhcXGQqKS8pKVsxXSA8IDYwNClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUlEQktleVJhbmdlKHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gMyApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gNCApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgbmV2ZXIgdHlwZSB0byBJREJLZXlSYW5nZVwiKTtcbiAgICAgICAgICAgIHZhciBsb3dlciA9IHJhbmdlLmxvd2VyLCB1cHBlciA9IHJhbmdlLnVwcGVyLCBsb3dlck9wZW4gPSByYW5nZS5sb3dlck9wZW4sIHVwcGVyT3BlbiA9IHJhbmdlLnVwcGVyT3BlbjtcbiAgICAgICAgICAgIHZhciBpZGJSYW5nZSA9IGxvd2VyID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgIHVwcGVyID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBudWxsIDpcbiAgICAgICAgICAgICAgICAgICAgSWRiS2V5UmFuZ2UudXBwZXJCb3VuZCh1cHBlciwgISF1cHBlck9wZW4pIDpcbiAgICAgICAgICAgICAgICB1cHBlciA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgSWRiS2V5UmFuZ2UubG93ZXJCb3VuZChsb3dlciwgISFsb3dlck9wZW4pIDpcbiAgICAgICAgICAgICAgICAgICAgSWRiS2V5UmFuZ2UuYm91bmQobG93ZXIsIHVwcGVyLCAhIWxvd2VyT3BlbiwgISF1cHBlck9wZW4pO1xuICAgICAgICAgICAgcmV0dXJuIGlkYlJhbmdlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURiQ29yZVRhYmxlKHRhYmxlU2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVOYW1lID0gdGFibGVTY2hlbWEubmFtZTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG11dGF0ZShfYSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCB0eXBlID0gX2EudHlwZSwga2V5cyA9IF9hLmtleXMsIHZhbHVlcyA9IF9hLnZhbHVlcywgcmFuZ2UgPSBfYS5yYW5nZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dGJvdW5kID0gc3RvcmUua2V5UGF0aCA9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNBZGRPclB1dCA9IHR5cGUgPT09IFwicHV0XCIgfHwgdHlwZSA9PT0gXCJhZGRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0FkZE9yUHV0ICYmIHR5cGUgIT09ICdkZWxldGUnICYmIHR5cGUgIT09ICdkZWxldGVSYW5nZScpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9wZXJhdGlvbiB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gKGtleXMgfHwgdmFsdWVzIHx8IHsgbGVuZ3RoOiAxIH0pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMgJiYgdmFsdWVzICYmIGtleXMubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBrZXlzIGFycmF5IG11c3QgaGF2ZSBzYW1lIGxlbmd0aCBhcyBnaXZlbiB2YWx1ZXMgYXJyYXkuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IG51bUZhaWx1cmVzOiAwLCBmYWlsdXJlczoge30sIHJlc3VsdHM6IFtdLCBsYXN0UmVzdWx0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXE7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXFzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK251bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RlbGV0ZVJhbmdlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnR5cGUgPT09IDQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgbnVtRmFpbHVyZXM6IG51bUZhaWx1cmVzLCBmYWlsdXJlczogZmFpbHVyZXMsIHJlc3VsdHM6IFtdLCBsYXN0UmVzdWx0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gMyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IHN0b3JlLmNsZWFyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXMucHVzaChyZXEgPSBzdG9yZS5kZWxldGUobWFrZUlEQktleVJhbmdlKHJhbmdlKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gaXNBZGRPclB1dCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Ym91bmQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVzLCBrZXlzXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZXMsIG51bGxdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5cywgbnVsbF0sIGFyZ3MxID0gX2FbMF0sIGFyZ3MyID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBZGRPclB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IChhcmdzMiAmJiBhcmdzMltpXSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW3R5cGVdKGFyZ3MxW2ldLCBhcmdzMltpXSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbdHlwZV0oYXJnczFbaV0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IHN0b3JlW3R5cGVdKGFyZ3MxW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RSZXN1bHQgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXEsIGkpIHsgcmV0dXJuIHJlcS5lcnJvciAhPSBudWxsICYmIChmYWlsdXJlc1tpXSA9IHJlcS5lcnJvcik7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtRmFpbHVyZXM6IG51bUZhaWx1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzOiBmYWlsdXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB0eXBlID09PSBcImRlbGV0ZVwiID8ga2V5cyA6IHJlcXMubWFwKGZ1bmN0aW9uIChyZXEpIHsgcmV0dXJuIHJlcS5yZXN1bHQ7IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZXN1bHQ6IGxhc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZG9uZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9wZW5DdXJzb3IoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywgdmFsdWVzID0gX2EudmFsdWVzLCBxdWVyeSA9IF9hLnF1ZXJ5LCByZXZlcnNlID0gX2EucmV2ZXJzZSwgdW5pcXVlID0gX2EudW5pcXVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBxdWVyeS5pbmRleCwgcmFuZ2UgPSBxdWVyeS5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGluZGV4LmlzUHJpbWFyeUtleSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5pbmRleChpbmRleC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHJldmVyc2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZ1bmlxdWVcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5leHR1bmlxdWVcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZXh0XCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSB2YWx1ZXMgfHwgISgnb3BlbktleUN1cnNvcicgaW4gc291cmNlKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbkN1cnNvcihtYWtlSURCS2V5UmFuZ2UocmFuZ2UpLCBkaXJlY3Rpb24pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuS2V5Q3Vyc29yKG1ha2VJREJLZXlSYW5nZShyYW5nZSksIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLl9fX2lkID0gKytfaWRfY291bnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2N1cnNvckNvbnRpbnVlID0gY3Vyc29yLmNvbnRpbnVlLmJpbmQoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5ID0gY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkgPSBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5LmJpbmQoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3Vyc29yQWR2YW5jZSA9IGN1cnNvci5hZHZhbmNlLmJpbmQoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb1Rocm93Q3Vyc29ySXNOb3RTdGFydGVkID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDdXJzb3Igbm90IHN0YXJ0ZWRcIik7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9UaHJvd0N1cnNvcklzU3RvcHBlZCA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ3Vyc29yIG5vdCBzdG9wcGVkXCIpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCA9IGN1cnNvci5jb250aW51ZSA9IGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkgPSBjdXJzb3IuYWR2YW5jZSA9IGRvVGhyb3dDdXJzb3JJc05vdFN0YXJ0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZmFpbCA9IHdyYXAocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdvdE9uZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ290T25lLS0gPyBfdGhpcy5jb250aW51ZSgpIDogX3RoaXMuc3RvcCgpOyB9KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RhcnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlSXRlcmF0aW9uLCByZWplY3RJdGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUl0ZXJhdGlvbiA9IHdyYXAocmVzb2x2ZUl0ZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdEl0ZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5mYWlsID0gcmVqZWN0SXRlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0b3AgPSBjdXJzb3IuY29udGludWUgPSBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5ID0gY3Vyc29yLmFkdmFuY2UgPSBkb1Rocm93Q3Vyc29ySXNTdG9wcGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUl0ZXJhdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGd1YXJkZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZmFpbChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0YXJ0ID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDdXJzb3IgYmVoaW5kIGxhc3QgZW50cnlcIik7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGd1YXJkZWRDYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlID0gX2N1cnNvckNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkgPSBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlID0gX2N1cnNvckFkdmFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdGlvblByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcXVlcnkoaGFzR2V0QWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IHJlcXVlc3QudHJhbnMsIHZhbHVlcyA9IHJlcXVlc3QudmFsdWVzLCBsaW1pdCA9IHJlcXVlc3QubGltaXQsIHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub25JbmZpbml0TGltaXQgPSBsaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBsaW1pdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXJ5LmluZGV4LCByYW5nZSA9IHF1ZXJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBpbmRleC5pc1ByaW1hcnlLZXkgPyBzdG9yZSA6IHN0b3JlLmluZGV4KGluZGV4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkYktleVJhbmdlID0gbWFrZUlEQktleVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzR2V0QWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHZhbHVlcyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5nZXRBbGwoaWRiS2V5UmFuZ2UsIG5vbkluZmluaXRMaW1pdCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0QWxsS2V5cyhpZGJLZXlSYW5nZSwgbm9uSW5maW5pdExpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiBldmVudC50YXJnZXQucmVzdWx0IH0pOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRfMSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcV8xID0gdmFsdWVzIHx8ICEoJ29wZW5LZXlDdXJzb3InIGluIHNvdXJjZSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbkN1cnNvcihpZGJLZXlSYW5nZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbktleUN1cnNvcihpZGJLZXlSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8xID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxXzEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXFfMS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyByZXN1bHQ6IHJlc3VsdF8xIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRfMS5wdXNoKHZhbHVlcyA/IGN1cnNvci52YWx1ZSA6IGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCsrY291bnRfMSA9PT0gbGltaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogcmVzdWx0XzEgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxXzEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0YWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0YWJsZVNjaGVtYSxcbiAgICAgICAgICAgICAgICBtdXRhdGU6IG11dGF0ZSxcbiAgICAgICAgICAgICAgICBnZXRNYW55OiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gX2EudHJhbnMsIGtleXMgPSBfYS5rZXlzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2Vzc0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVzdWx0W3JlcS5fcG9zXSA9IHJlcS5yZXN1bHQpICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytjYWxsYmFja0NvdW50ID09PSBrZXlDb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckhhbmRsZXIgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxID0gc3RvcmUuZ2V0KGtleXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEuX3BvcyA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBzdWNjZXNzSGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsra2V5Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleUNvdW50ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywga2V5ID0gX2Eua2V5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5KGhhc0dldEFsbCksXG4gICAgICAgICAgICAgICAgb3BlbkN1cnNvcjogb3BlbkN1cnNvcixcbiAgICAgICAgICAgICAgICBjb3VudDogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IF9hLnF1ZXJ5LCB0cmFucyA9IF9hLnRyYW5zO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBxdWVyeS5pbmRleCwgcmFuZ2UgPSBxdWVyeS5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gaW5kZXguaXNQcmltYXJ5S2V5ID8gc3RvcmUgOiBzdG9yZS5pbmRleChpbmRleC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZGJLZXlSYW5nZSA9IG1ha2VJREJLZXlSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gaWRiS2V5UmFuZ2UgPyBzb3VyY2UuY291bnQoaWRiS2V5UmFuZ2UpIDogc291cmNlLmNvdW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHJlc29sdmUoZXYudGFyZ2V0LnJlc3VsdCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBleHRyYWN0U2NoZW1hKGRiLCB0bXBUcmFucyksIHNjaGVtYSA9IF9hLnNjaGVtYSwgaGFzR2V0QWxsID0gX2EuaGFzR2V0QWxsO1xuICAgICAgICB2YXIgdGFibGVzID0gc2NoZW1hLnRhYmxlcy5tYXAoZnVuY3Rpb24gKHRhYmxlU2NoZW1hKSB7IHJldHVybiBjcmVhdGVEYkNvcmVUYWJsZSh0YWJsZVNjaGVtYSk7IH0pO1xuICAgICAgICB2YXIgdGFibGVNYXAgPSB7fTtcbiAgICAgICAgdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7IHJldHVybiB0YWJsZU1hcFt0YWJsZS5uYW1lXSA9IHRhYmxlOyB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IGRiLnRyYW5zYWN0aW9uLmJpbmQoZGIpLFxuICAgICAgICAgICAgdGFibGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhYmxlTWFwW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYWJsZSAnXCIuY29uY2F0KG5hbWUsIFwiJyBub3QgZm91bmRcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZU1hcFtuYW1lXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBNSU5fS0VZOiAtSW5maW5pdHksXG4gICAgICAgICAgICBNQVhfS0VZOiBnZXRNYXhLZXkoSWRiS2V5UmFuZ2UpLFxuICAgICAgICAgICAgc2NoZW1hOiBzY2hlbWFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNaWRkbGV3YXJlU3RhY2soc3RhY2tJbXBsLCBtaWRkbGV3YXJlcykge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZXMucmVkdWNlKGZ1bmN0aW9uIChkb3duLCBfYSkge1xuICAgICAgICAgICAgdmFyIGNyZWF0ZSA9IF9hLmNyZWF0ZTtcbiAgICAgICAgICAgIHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd24pLCBjcmVhdGUoZG93bikpKTtcbiAgICAgICAgfSwgc3RhY2tJbXBsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZVN0YWNrcyhtaWRkbGV3YXJlcywgaWRiZGIsIF9hLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTsgX2EuaW5kZXhlZERCO1xuICAgICAgICB2YXIgZGJjb3JlID0gY3JlYXRlTWlkZGxld2FyZVN0YWNrKGNyZWF0ZURCQ29yZShpZGJkYiwgSURCS2V5UmFuZ2UsIHRtcFRyYW5zKSwgbWlkZGxld2FyZXMuZGJjb3JlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRiY29yZTogZGJjb3JlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIGlkYmRiID0gdG1wVHJhbnMuZGI7XG4gICAgICAgIHZhciBzdGFja3MgPSBjcmVhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLl9taWRkbGV3YXJlcywgaWRiZGIsIGRiLl9kZXBzLCB0bXBUcmFucyk7XG4gICAgICAgIGRiLmNvcmUgPSBzdGFja3MuZGJjb3JlO1xuICAgICAgICBkYi50YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZU5hbWUgPSB0YWJsZS5uYW1lO1xuICAgICAgICAgICAgaWYgKGRiLmNvcmUuc2NoZW1hLnRhYmxlcy5zb21lKGZ1bmN0aW9uICh0YmwpIHsgcmV0dXJuIHRibC5uYW1lID09PSB0YWJsZU5hbWU7IH0pKSB7XG4gICAgICAgICAgICAgICAgdGFibGUuY29yZSA9IGRiLmNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZGJbdGFibGVOYW1lXSBpbnN0YW5jZW9mIGRiLlRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiW3RhYmxlTmFtZV0uY29yZSA9IHRhYmxlLmNvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBcGlPblBsYWNlKGRiLCBvYmpzLCB0YWJsZU5hbWVzLCBkYnNjaGVtYSkge1xuICAgICAgICB0YWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgdmFyIHNjaGVtYSA9IGRic2NoZW1hW3RhYmxlTmFtZV07XG4gICAgICAgICAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wRGVzYyA9IGdldFByb3BlcnR5RGVzY3JpcHRvcihvYmosIHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wRGVzYyB8fCAoXCJ2YWx1ZVwiIGluIHByb3BEZXNjICYmIHByb3BEZXNjLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmogPT09IGRiLlRyYW5zYWN0aW9uLnByb3RvdHlwZSB8fCBvYmogaW5zdGFuY2VvZiBkYi5UcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChvYmosIHRhYmxlTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50YWJsZSh0YWJsZU5hbWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMsIHRhYmxlTmFtZSwgeyB2YWx1ZTogdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbdGFibGVOYW1lXSA9IG5ldyBkYi5UYWJsZSh0YWJsZU5hbWUsIHNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVRhYmxlc0FwaShkYiwgb2Jqcykge1xuICAgICAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpba2V5XSBpbnN0YW5jZW9mIGRiLlRhYmxlKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb3dlclZlcnNpb25GaXJzdChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLl9jZmcudmVyc2lvbiAtIGIuX2NmZy52ZXJzaW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5VcGdyYWRlcnMoZGIsIG9sZFZlcnNpb24sIGlkYlVwZ3JhZGVUcmFucywgcmVqZWN0KSB7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWE7XG4gICAgICAgIGlmIChpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnJG1ldGEnKSAmJiAhZ2xvYmFsU2NoZW1hLiRtZXRhKSB7XG4gICAgICAgICAgICBnbG9iYWxTY2hlbWEuJG1ldGEgPSBjcmVhdGVUYWJsZVNjaGVtYShcIiRtZXRhXCIsIHBhcnNlSW5kZXhTeW50YXgoXCJcIilbMF0sIFtdKTtcbiAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzLnB1c2goJyRtZXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKCdyZWFkd3JpdGUnLCBkYi5fc3RvcmVOYW1lcywgZ2xvYmFsU2NoZW1hKTtcbiAgICAgICAgdHJhbnMuY3JlYXRlKGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIHRyYW5zLl9jb21wbGV0aW9uLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIHZhciByZWplY3RUcmFuc2FjdGlvbiA9IHRyYW5zLl9yZWplY3QuYmluZCh0cmFucyk7XG4gICAgICAgIHZhciB0cmFuc2xlc3MgPSBQU0QudHJhbnNsZXNzIHx8IFBTRDtcbiAgICAgICAgbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUFNELnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICBQU0QudHJhbnNsZXNzID0gdHJhbnNsZXNzO1xuICAgICAgICAgICAgaWYgKG9sZFZlcnNpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICBrZXlzKGdsb2JhbFNjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYlVwZ3JhZGVUcmFucywgdGFibGVOYW1lLCBnbG9iYWxTY2hlbWFbdGFibGVOYW1lXS5wcmltS2V5LCBnbG9iYWxTY2hlbWFbdGFibGVOYW1lXS5pbmRleGVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7IHJldHVybiBkYi5vbi5wb3B1bGF0ZS5maXJlKHRyYW5zKTsgfSkuY2F0Y2gocmVqZWN0VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRFeGlzdGluZ1ZlcnNpb24oZGIsIHRyYW5zLCBvbGRWZXJzaW9uKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAob2xkVmVyc2lvbikgeyByZXR1cm4gdXBkYXRlVGFibGVzQW5kSW5kZXhlcyhkYiwgb2xkVmVyc2lvbiwgdHJhbnMsIGlkYlVwZ3JhZGVUcmFucyk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3RUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXRjaEN1cnJlbnRWZXJzaW9uKGRiLCBpZGJVcGdyYWRlVHJhbnMpIHtcbiAgICAgICAgY3JlYXRlTWlzc2luZ1RhYmxlcyhkYi5fZGJTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIGlmIChpZGJVcGdyYWRlVHJhbnMuZGIudmVyc2lvbiAlIDEwID09PSAwICYmICFpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnJG1ldGEnKSkge1xuICAgICAgICAgICAgaWRiVXBncmFkZVRyYW5zLmRiLmNyZWF0ZU9iamVjdFN0b3JlKCckbWV0YScpLmFkZChNYXRoLmNlaWwoKGlkYlVwZ3JhZGVUcmFucy5kYi52ZXJzaW9uIC8gMTApIC0gMSksICd2ZXJzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBkYi5pZGJkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIGRiLl9kYlNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgdmFyIGRpZmYgPSBnZXRTY2hlbWFEaWZmKGdsb2JhbFNjaGVtYSwgZGIuX2RiU2NoZW1hKTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAodGFibGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIGlmICh0YWJsZUNoYW5nZS5jaGFuZ2UubGVuZ3RoIHx8IHRhYmxlQ2hhbmdlLnJlY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIHBhdGNoIGluZGV4ZXMgb2YgdGFibGUgXCIuY29uY2F0KHRhYmxlQ2hhbmdlLm5hbWUsIFwiIGJlY2F1c2UgaXQgaGFzIGNoYW5nZXMgb24gdGhlIHR5cGUgb2YgaW5kZXggb3IgcHJpbWFyeSBrZXkuXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmUodGFibGVDaGFuZ2UubmFtZSk7XG4gICAgICAgICAgICB0YWJsZUNoYW5nZS5hZGQuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiRGV4aWUgdXBncmFkZSBwYXRjaDogQ3JlYXRpbmcgbWlzc2luZyBpbmRleCBcIi5jb25jYXQodGFibGVDaGFuZ2UubmFtZSwgXCIuXCIpLmNvbmNhdChpZHguc3JjKSk7XG4gICAgICAgICAgICAgICAgYWRkSW5kZXgoc3RvcmUsIGlkeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGRpZmYuY2hhbmdlOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRhYmxlQ2hhbmdlID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKHRhYmxlQ2hhbmdlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVfMSA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVfMS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFeGlzdGluZ1ZlcnNpb24oZGIsIHRyYW5zLCBvbGRWZXJzaW9uKSB7XG4gICAgICAgIGlmICh0cmFucy5zdG9yZU5hbWVzLmluY2x1ZGVzKCckbWV0YScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnMudGFibGUoJyRtZXRhJykuZ2V0KCd2ZXJzaW9uJykudGhlbihmdW5jdGlvbiAobWV0YVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0YVZlcnNpb24gIT0gbnVsbCA/IG1ldGFWZXJzaW9uIDogb2xkVmVyc2lvbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKG9sZFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRhYmxlc0FuZEluZGV4ZXMoZGIsIG9sZFZlcnNpb24sIHRyYW5zLCBpZGJVcGdyYWRlVHJhbnMpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG4gICAgICAgIHZhciB2ZXJzaW9ucyA9IGRiLl92ZXJzaW9ucztcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBkYi5pZGJkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgdmFyIHZlcnNUb1J1biA9IHZlcnNpb25zLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi5fY2ZnLnZlcnNpb24gPj0gb2xkVmVyc2lvbjsgfSk7XG4gICAgICAgIGlmICh2ZXJzVG9SdW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2ZXJzVG9SdW4uZm9yRWFjaChmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZFNjaGVtYSA9IGdsb2JhbFNjaGVtYTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NoZW1hID0gdmVyc2lvbi5fY2ZnLmRic2NoZW1hO1xuICAgICAgICAgICAgICAgIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBvbGRTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIG5ld1NjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBuZXdTY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBnZXRTY2hlbWFEaWZmKG9sZFNjaGVtYSwgbmV3U2NoZW1hKTtcbiAgICAgICAgICAgICAgICBkaWZmLmFkZC5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJVcGdyYWRlVHJhbnMsIHR1cGxlWzBdLCB0dXBsZVsxXS5wcmltS2V5LCB0dXBsZVsxXS5pbmRleGVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkaWZmLmNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS5yZWNyZWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVXBncmFkZShcIk5vdCB5ZXQgc3VwcG9ydCBmb3IgY2hhbmdpbmcgcHJpbWFyeSBrZXlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVfMSA9IGlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZShjaGFuZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuYWRkLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gYWRkSW5kZXgoc3RvcmVfMSwgaWR4KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlXzEuZGVsZXRlSW5kZXgoaWR4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEluZGV4KHN0b3JlXzEsIGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5kZWwuZm9yRWFjaChmdW5jdGlvbiAoaWR4TmFtZSkgeyByZXR1cm4gc3RvcmVfMS5kZWxldGVJbmRleChpZHhOYW1lKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudFVwZ3JhZGUgPSB2ZXJzaW9uLl9jZmcuY29udGVudFVwZ3JhZGU7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVcGdyYWRlICYmIHZlcnNpb24uX2NmZy52ZXJzaW9uID4gb2xkVmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLl9tZW1vaXplZFRhYmxlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXBncmFkZVNjaGVtYV8xID0gc2hhbGxvd0Nsb25lKG5ld1NjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYuZGVsLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlU2NoZW1hXzFbdGFibGVdID0gb2xkU2NoZW1hW3RhYmxlXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShkYiwgW2RiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSwga2V5cyh1cGdyYWRlU2NoZW1hXzEpLCB1cGdyYWRlU2NoZW1hXzEpO1xuICAgICAgICAgICAgICAgICAgICB0cmFucy5zY2hlbWEgPSB1cGdyYWRlU2NoZW1hXzE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50VXBncmFkZUlzQXN5bmNfMSA9IGlzQXN5bmNGdW5jdGlvbihjb250ZW50VXBncmFkZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VXBncmFkZUlzQXN5bmNfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWVfMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2VGb2xsb3dlZCA9IERleGllUHJvbWlzZS5mb2xsb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWVfMSA9IGNvbnRlbnRVcGdyYWRlKHRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVcGdyYWRlSXNBc3luY18xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyZW1lbnRvciA9IGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzLmJpbmQobnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlXzEudGhlbihkZWNyZW1lbnRvciwgZGVjcmVtZW50b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAocmV0dXJuVmFsdWVfMSAmJiB0eXBlb2YgcmV0dXJuVmFsdWVfMS50aGVuID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgICAgIERleGllUHJvbWlzZS5yZXNvbHZlKHJldHVyblZhbHVlXzEpIDogcHJvbWlzZUZvbGxvd2VkLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0dXJuVmFsdWVfMTsgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NoZW1hID0gdmVyc2lvbi5fY2ZnLmRic2NoZW1hO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVJlbW92ZWRUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGFibGVzQXBpKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSk7XG4gICAgICAgICAgICAgICAgc2V0QXBpT25QbGFjZShkYiwgW2RiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0sIGRiLl9zdG9yZU5hbWVzLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICAgICAgICAgIHRyYW5zLnNjaGVtYSA9IGRiLl9kYlNjaGVtYTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGIuaWRiZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnJG1ldGEnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5jZWlsKGRiLmlkYmRiLnZlcnNpb24gLyAxMCkgPT09IHZlcnNpb24uX2NmZy52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5pZGJkYi5kZWxldGVPYmplY3RTdG9yZSgnJG1ldGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkYi5fZGJTY2hlbWEuJG1ldGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5fc3RvcmVOYW1lcyA9IGRiLl9zdG9yZU5hbWVzLmZpbHRlcihmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZSAhPT0gJyRtZXRhJzsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJ0cmFucy5vYmplY3RTdG9yZSgnJG1ldGEnKS5wdXQodmVyc2lvbi5fY2ZnLnZlcnNpb24sICd2ZXJzaW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIHJ1blF1ZXVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlLmxlbmd0aCA/IERleGllUHJvbWlzZS5yZXNvbHZlKHF1ZXVlLnNoaWZ0KCkodHJhbnMuaWRidHJhbnMpKS50aGVuKHJ1blF1ZXVlKSA6XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVuUXVldWUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNyZWF0ZU1pc3NpbmdUYWJsZXMoZ2xvYmFsU2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2NoZW1hRGlmZihvbGRTY2hlbWEsIG5ld1NjaGVtYSkge1xuICAgICAgICB2YXIgZGlmZiA9IHtcbiAgICAgICAgICAgIGRlbDogW10sXG4gICAgICAgICAgICBhZGQ6IFtdLFxuICAgICAgICAgICAgY2hhbmdlOiBbXVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGFibGU7XG4gICAgICAgIGZvciAodGFibGUgaW4gb2xkU2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoIW5ld1NjaGVtYVt0YWJsZV0pXG4gICAgICAgICAgICAgICAgZGlmZi5kZWwucHVzaCh0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh0YWJsZSBpbiBuZXdTY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBvbGREZWYgPSBvbGRTY2hlbWFbdGFibGVdLCBuZXdEZWYgPSBuZXdTY2hlbWFbdGFibGVdO1xuICAgICAgICAgICAgaWYgKCFvbGREZWYpIHtcbiAgICAgICAgICAgICAgICBkaWZmLmFkZC5wdXNoKFt0YWJsZSwgbmV3RGVmXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmOiBuZXdEZWYsXG4gICAgICAgICAgICAgICAgICAgIHJlY3JlYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVsOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKChcbiAgICAgICAgICAgICAgICAnJyArIChvbGREZWYucHJpbUtleS5rZXlQYXRoIHx8ICcnKSkgIT09ICgnJyArIChuZXdEZWYucHJpbUtleS5rZXlQYXRoIHx8ICcnKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKG9sZERlZi5wcmltS2V5LmF1dG8gIT09IG5ld0RlZi5wcmltS2V5LmF1dG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZS5yZWNyZWF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYuY2hhbmdlLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRJbmRleGVzID0gb2xkRGVmLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luZGV4ZXMgPSBuZXdEZWYuaWR4QnlOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWR4TmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpZHhOYW1lIGluIG9sZEluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV3SW5kZXhlc1tpZHhOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuZGVsLnB1c2goaWR4TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpZHhOYW1lIGluIG5ld0luZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRJZHggPSBvbGRJbmRleGVzW2lkeE5hbWVdLCBuZXdJZHggPSBuZXdJbmRleGVzW2lkeE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbGRJZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmFkZC5wdXNoKG5ld0lkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvbGRJZHguc3JjICE9PSBuZXdJZHguc3JjKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2UucHVzaChuZXdJZHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UuZGVsLmxlbmd0aCA+IDAgfHwgY2hhbmdlLmFkZC5sZW5ndGggPiAwIHx8IGNoYW5nZS5jaGFuZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZShpZGJ0cmFucywgdGFibGVOYW1lLCBwcmltS2V5LCBpbmRleGVzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IGlkYnRyYW5zLmRiLmNyZWF0ZU9iamVjdFN0b3JlKHRhYmxlTmFtZSwgcHJpbUtleS5rZXlQYXRoID9cbiAgICAgICAgICAgIHsga2V5UGF0aDogcHJpbUtleS5rZXlQYXRoLCBhdXRvSW5jcmVtZW50OiBwcmltS2V5LmF1dG8gfSA6XG4gICAgICAgICAgICB7IGF1dG9JbmNyZW1lbnQ6IHByaW1LZXkuYXV0byB9KTtcbiAgICAgICAgaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHsgcmV0dXJuIGFkZEluZGV4KHN0b3JlLCBpZHgpOyB9KTtcbiAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNaXNzaW5nVGFibGVzKG5ld1NjaGVtYSwgaWRidHJhbnMpIHtcbiAgICAgICAga2V5cyhuZXdTY2hlbWEpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFpZGJ0cmFucy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHRhYmxlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0RleGllOiBDcmVhdGluZyBtaXNzaW5nIHRhYmxlJywgdGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJ0cmFucywgdGFibGVOYW1lLCBuZXdTY2hlbWFbdGFibGVOYW1lXS5wcmltS2V5LCBuZXdTY2hlbWFbdGFibGVOYW1lXS5pbmRleGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZVJlbW92ZWRUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICBbXS5zbGljZS5jYWxsKGlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXMpLmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NjaGVtYVtzdG9yZU5hbWVdID09IG51bGwgJiYgaWRidHJhbnMuZGIuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEluZGV4KHN0b3JlLCBpZHgpIHtcbiAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoaWR4Lm5hbWUsIGlkeC5rZXlQYXRoLCB7IHVuaXF1ZTogaWR4LnVuaXF1ZSwgbXVsdGlFbnRyeTogaWR4Lm11bHRpIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWlsZEdsb2JhbFNjaGVtYShkYiwgaWRiZGIsIHRtcFRyYW5zKSB7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSB7fTtcbiAgICAgICAgdmFyIGRiU3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMsIDApO1xuICAgICAgICBkYlN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSB0bXBUcmFucy5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5rZXlQYXRoO1xuICAgICAgICAgICAgdmFyIHByaW1LZXkgPSBjcmVhdGVJbmRleFNwZWMobmFtZUZyb21LZXlQYXRoKGtleVBhdGgpLCBrZXlQYXRoIHx8IFwiXCIsIHRydWUsIGZhbHNlLCAhIXN0b3JlLmF1dG9JbmNyZW1lbnQsIGtleVBhdGggJiYgdHlwZW9mIGtleVBhdGggIT09IFwic3RyaW5nXCIsIHRydWUpO1xuICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3RvcmUuaW5kZXhOYW1lcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHZhciBpZGJpbmRleCA9IHN0b3JlLmluZGV4KHN0b3JlLmluZGV4TmFtZXNbal0pO1xuICAgICAgICAgICAgICAgIGtleVBhdGggPSBpZGJpbmRleC5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGNyZWF0ZUluZGV4U3BlYyhpZGJpbmRleC5uYW1lLCBrZXlQYXRoLCAhIWlkYmluZGV4LnVuaXF1ZSwgISFpZGJpbmRleC5tdWx0aUVudHJ5LCBmYWxzZSwga2V5UGF0aCAmJiB0eXBlb2Yga2V5UGF0aCAhPT0gXCJzdHJpbmdcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbG9iYWxTY2hlbWFbc3RvcmVOYW1lXSA9IGNyZWF0ZVRhYmxlU2NoZW1hKHN0b3JlTmFtZSwgcHJpbUtleSwgaW5kZXhlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2xvYmFsU2NoZW1hO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgZGIudmVybm8gPSBpZGJkYi52ZXJzaW9uIC8gMTA7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBidWlsZEdsb2JhbFNjaGVtYShkYiwgaWRiZGIsIHRtcFRyYW5zKTtcbiAgICAgICAgZGIuX3N0b3JlTmFtZXMgPSBzbGljZShpZGJkYi5vYmplY3RTdG9yZU5hbWVzLCAwKTtcbiAgICAgICAgc2V0QXBpT25QbGFjZShkYiwgW2RiLl9hbGxUYWJsZXNdLCBrZXlzKGdsb2JhbFNjaGVtYSksIGdsb2JhbFNjaGVtYSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUluc3RhbGxlZFNjaGVtYShkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIGluc3RhbGxlZFNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBkYi5pZGJkYiwgdG1wVHJhbnMpO1xuICAgICAgICB2YXIgZGlmZiA9IGdldFNjaGVtYURpZmYoaW5zdGFsbGVkU2NoZW1hLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICByZXR1cm4gIShkaWZmLmFkZC5sZW5ndGggfHwgZGlmZi5jaGFuZ2Uuc29tZShmdW5jdGlvbiAoY2gpIHsgcmV0dXJuIGNoLmFkZC5sZW5ndGggfHwgY2guY2hhbmdlLmxlbmd0aDsgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgc2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICB2YXIgc3RvcmVOYW1lcyA9IGlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RvcmVOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0b3JlTmFtZSA9IHN0b3JlTmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBpZGJ0cmFucy5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgZGIuX2hhc0dldEFsbCA9ICdnZXRBbGwnIGluIHN0b3JlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdG9yZS5pbmRleE5hbWVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TmFtZSA9IHN0b3JlLmluZGV4TmFtZXNbal07XG4gICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5pbmRleChpbmRleE5hbWUpLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIGRleGllTmFtZSA9IHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/IGtleVBhdGggOiBcIltcIiArIHNsaWNlKGtleVBhdGgpLmpvaW4oJysnKSArIFwiXVwiO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWFbc3RvcmVOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhTcGVjID0gc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2RleGllTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleFNwZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4U3BlYy5uYW1lID0gaW5kZXhOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYVtzdG9yZU5hbWVdLmlkeEJ5TmFtZVtkZXhpZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2luZGV4TmFtZV0gPSBpbmRleFNwZWM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICEvKENocm9tZVxcL3xFZGdlXFwvKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgX2dsb2JhbC5Xb3JrZXJHbG9iYWxTY29wZSAmJiBfZ2xvYmFsIGluc3RhbmNlb2YgX2dsb2JhbC5Xb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgICAgICAgICAgW10uY29uY2F0KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVxcLyhcXGQqKS8pKVsxXSA8IDYwNCkge1xuICAgICAgICAgICAgZGIuX2hhc0dldEFsbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlSW5kZXhTeW50YXgocHJpbUtleUFuZEluZGV4ZXMpIHtcbiAgICAgICAgcmV0dXJuIHByaW1LZXlBbmRJbmRleGVzLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChpbmRleCwgaW5kZXhOdW0pIHtcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXgudHJpbSgpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbmRleC5yZXBsYWNlKC8oWyYqXXxcXCtcXCspL2csIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGtleVBhdGggPSAvXlxcWy8udGVzdChuYW1lKSA/IG5hbWUubWF0Y2goL15cXFsoLiopXFxdJC8pWzFdLnNwbGl0KCcrJykgOiBuYW1lO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUluZGV4U3BlYyhuYW1lLCBrZXlQYXRoIHx8IG51bGwsIC9cXCYvLnRlc3QoaW5kZXgpLCAvXFwqLy50ZXN0KGluZGV4KSwgL1xcK1xcKy8udGVzdChpbmRleCksIGlzQXJyYXkoa2V5UGF0aCksIGluZGV4TnVtID09PSAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIFZlcnNpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVmVyc2lvbigpIHtcbiAgICAgICAgfVxuICAgICAgICBWZXJzaW9uLnByb3RvdHlwZS5fcGFyc2VTdG9yZXNTcGVjID0gZnVuY3Rpb24gKHN0b3Jlcywgb3V0U2NoZW1hKSB7XG4gICAgICAgICAgICBrZXlzKHN0b3JlcykuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3Jlc1t0YWJsZU5hbWVdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGVzID0gcGFyc2VJbmRleFN5bnRheChzdG9yZXNbdGFibGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gaW5kZXhlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBwcmltS2V5LnVuaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5Lm11bHRpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiUHJpbWFyeSBrZXkgY2Fubm90IGJlIG11bHRpLXZhbHVlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHguYXV0bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJPbmx5IHByaW1hcnkga2V5IGNhbiBiZSBtYXJrZWQgYXMgYXV0b0luY3JlbWVudCAoKyspXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpZHgua2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJJbmRleCBtdXN0IGhhdmUgYSBuYW1lIGFuZCBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3V0U2NoZW1hW3RhYmxlTmFtZV0gPSBjcmVhdGVUYWJsZVNjaGVtYSh0YWJsZU5hbWUsIHByaW1LZXksIGluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBWZXJzaW9uLnByb3RvdHlwZS5zdG9yZXMgPSBmdW5jdGlvbiAoc3RvcmVzKSB7XG4gICAgICAgICAgICB2YXIgZGIgPSB0aGlzLmRiO1xuICAgICAgICAgICAgdGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSA9IHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UgP1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLl9jZmcuc3RvcmVzU291cmNlLCBzdG9yZXMpIDpcbiAgICAgICAgICAgICAgICBzdG9yZXM7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSBkYi5fdmVyc2lvbnM7XG4gICAgICAgICAgICB2YXIgc3RvcmVzU3BlYyA9IHt9O1xuICAgICAgICAgICAgdmFyIGRic2NoZW1hID0ge307XG4gICAgICAgICAgICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHN0b3Jlc1NwZWMsIHZlcnNpb24uX2NmZy5zdG9yZXNTb3VyY2UpO1xuICAgICAgICAgICAgICAgIGRic2NoZW1hID0gKHZlcnNpb24uX2NmZy5kYnNjaGVtYSA9IHt9KTtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uLl9wYXJzZVN0b3Jlc1NwZWMoc3RvcmVzU3BlYywgZGJzY2hlbWEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYi5fZGJTY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShkYiwgW2RiLl9hbGxUYWJsZXMsIGRiLCBkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdKTtcbiAgICAgICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5fYWxsVGFibGVzLCBkYiwgZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlLCB0aGlzLl9jZmcudGFibGVzXSwga2V5cyhkYnNjaGVtYSksIGRic2NoZW1hKTtcbiAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzID0ga2V5cyhkYnNjaGVtYSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUudXBncmFkZSA9IGZ1bmN0aW9uICh1cGdyYWRlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2NmZy5jb250ZW50VXBncmFkZSA9IHByb21pc2FibGVDaGFpbih0aGlzLl9jZmcuY29udGVudFVwZ3JhZGUgfHwgbm9wLCB1cGdyYWRlRnVuY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBWZXJzaW9uO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVWZXJzaW9uQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFZlcnNpb24ucHJvdG90eXBlLCBmdW5jdGlvbiBWZXJzaW9uKHZlcnNpb25OdW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX2NmZyA9IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0b3Jlc1NvdXJjZTogbnVsbCxcbiAgICAgICAgICAgICAgICBkYnNjaGVtYToge30sXG4gICAgICAgICAgICAgICAgdGFibGVzOiB7fSxcbiAgICAgICAgICAgICAgICBjb250ZW50VXBncmFkZTogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpIHtcbiAgICAgICAgdmFyIGRiTmFtZXNEQiA9IGluZGV4ZWREQltcIl9kYk5hbWVzREJcIl07XG4gICAgICAgIGlmICghZGJOYW1lc0RCKSB7XG4gICAgICAgICAgICBkYk5hbWVzREIgPSBpbmRleGVkREJbXCJfZGJOYW1lc0RCXCJdID0gbmV3IERleGllJDEoREJOQU1FU19EQiwge1xuICAgICAgICAgICAgICAgIGFkZG9uczogW10sXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBpbmRleGVkREIsXG4gICAgICAgICAgICAgICAgSURCS2V5UmFuZ2U6IElEQktleVJhbmdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYk5hbWVzREIudmVyc2lvbigxKS5zdG9yZXMoeyBkYm5hbWVzOiBcIm5hbWVcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGJOYW1lc0RCLnRhYmxlKFwiZGJuYW1lc1wiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzRGF0YWJhc2VzTmF0aXZlKGluZGV4ZWREQikge1xuICAgICAgICByZXR1cm4gaW5kZXhlZERCICYmIHR5cGVvZiBpbmRleGVkREIuZGF0YWJhc2VzID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGFiYXNlTmFtZXMoX2EpIHtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IF9hLmluZGV4ZWREQiwgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTtcbiAgICAgICAgcmV0dXJuIGhhc0RhdGFiYXNlc05hdGl2ZShpbmRleGVkREIpXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZShpbmRleGVkREIuZGF0YWJhc2VzKCkpLnRoZW4oZnVuY3Rpb24gKGluZm9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZm9zXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGluZm8ubmFtZTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZSAhPT0gREJOQU1FU19EQjsgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBnZXREYk5hbWVzVGFibGUoaW5kZXhlZERCLCBJREJLZXlSYW5nZSkudG9Db2xsZWN0aW9uKCkucHJpbWFyeUtleXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uRGF0YWJhc2VDcmVhdGVkKF9hLCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgICFoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gREJOQU1FU19EQiAmJlxuICAgICAgICAgICAgZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLnB1dCh7IG5hbWU6IG5hbWUgfSkuY2F0Y2gobm9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uRGF0YWJhc2VEZWxldGVkKF9hLCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgICFoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gREJOQU1FU19EQiAmJlxuICAgICAgICAgICAgZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLmRlbGV0ZShuYW1lKS5jYXRjaChub3ApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpcChmbikge1xuICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUFNELmxldFRocm91Z2ggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlkYlJlYWR5KCkge1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSAhbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgJiZcbiAgICAgICAgICAgIC9TYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICEvQ2hyb20oZXxpdW0pXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICBpZiAoIWlzU2FmYXJpIHx8ICFpbmRleGVkREIuZGF0YWJhc2VzKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB2YXIgaW50ZXJ2YWxJZDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgdHJ5SWRiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5kZXhlZERCLmRhdGFiYXNlcygpLmZpbmFsbHkocmVzb2x2ZSk7IH07XG4gICAgICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodHJ5SWRiLCAxMDApO1xuICAgICAgICAgICAgdHJ5SWRiKCk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsgfSk7XG4gICAgfVxuXG4gICAgdmFyIF9hO1xuICAgIGZ1bmN0aW9uIGlzRW1wdHlSYW5nZShub2RlKSB7XG4gICAgICAgIHJldHVybiAhKFwiZnJvbVwiIGluIG5vZGUpO1xuICAgIH1cbiAgICB2YXIgUmFuZ2VTZXQgPSBmdW5jdGlvbiAoZnJvbU9yVHJlZSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMpIHtcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8geyBkOiAxLCBmcm9tOiBmcm9tT3JUcmVlLCB0bzogYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0byA6IGZyb21PclRyZWUgfSA6IHsgZDogMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBSYW5nZVNldCgpO1xuICAgICAgICAgICAgaWYgKGZyb21PclRyZWUgJiYgKFwiZFwiIGluIGZyb21PclRyZWUpKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJ2LCBmcm9tT3JUcmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvcHMoUmFuZ2VTZXQucHJvdG90eXBlLCAoX2EgPSB7XG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChyYW5nZVNldCkge1xuICAgICAgICAgICAgICAgIG1lcmdlUmFuZ2VzKHRoaXMsIHJhbmdlU2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRLZXk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBhZGRSYW5nZSh0aGlzLCBrZXksIGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkS2V5czogZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhZGRSYW5nZShfdGhpcywga2V5LCBrZXkpOyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGdldFJhbmdlU2V0SXRlcmF0b3IodGhpcykubmV4dChrZXkpLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmIGNtcChub2RlLmZyb20sIGtleSkgPD0gMCAmJiBjbXAobm9kZS50bywga2V5KSA+PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfYVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UmFuZ2VTZXRJdGVyYXRvcih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2EpKTtcbiAgICBmdW5jdGlvbiBhZGRSYW5nZSh0YXJnZXQsIGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBkaWZmID0gY21wKGZyb20sIHRvKTtcbiAgICAgICAgaWYgKGlzTmFOKGRpZmYpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZGlmZiA+IDApXG4gICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCk7XG4gICAgICAgIGlmIChpc0VtcHR5UmFuZ2UodGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybiBleHRlbmQodGFyZ2V0LCB7IGZyb206IGZyb20sIHRvOiB0bywgZDogMSB9KTtcbiAgICAgICAgdmFyIGxlZnQgPSB0YXJnZXQubDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gdGFyZ2V0LnI7XG4gICAgICAgIGlmIChjbXAodG8sIHRhcmdldC5mcm9tKSA8IDApIHtcbiAgICAgICAgICAgIGxlZnRcbiAgICAgICAgICAgICAgICA/IGFkZFJhbmdlKGxlZnQsIGZyb20sIHRvKVxuICAgICAgICAgICAgICAgIDogKHRhcmdldC5sID0geyBmcm9tOiBmcm9tLCB0bzogdG8sIGQ6IDEsIGw6IG51bGwsIHI6IG51bGwgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmViYWxhbmNlKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNtcChmcm9tLCB0YXJnZXQudG8pID4gMCkge1xuICAgICAgICAgICAgcmlnaHRcbiAgICAgICAgICAgICAgICA/IGFkZFJhbmdlKHJpZ2h0LCBmcm9tLCB0bylcbiAgICAgICAgICAgICAgICA6ICh0YXJnZXQuciA9IHsgZnJvbTogZnJvbSwgdG86IHRvLCBkOiAxLCBsOiBudWxsLCByOiBudWxsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlYmFsYW5jZSh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAoZnJvbSwgdGFyZ2V0LmZyb20pIDwgMCkge1xuICAgICAgICAgICAgdGFyZ2V0LmZyb20gPSBmcm9tO1xuICAgICAgICAgICAgdGFyZ2V0LmwgPSBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0LmQgPSByaWdodCA/IHJpZ2h0LmQgKyAxIDogMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21wKHRvLCB0YXJnZXQudG8pID4gMCkge1xuICAgICAgICAgICAgdGFyZ2V0LnRvID0gdG87XG4gICAgICAgICAgICB0YXJnZXQuciA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQuZCA9IHRhcmdldC5sID8gdGFyZ2V0LmwuZCArIDEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciByaWdodFdhc0N1dE9mZiA9ICF0YXJnZXQucjtcbiAgICAgICAgaWYgKGxlZnQgJiYgIXRhcmdldC5sKSB7XG4gICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXQsIGxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyaWdodCAmJiByaWdodFdhc0N1dE9mZikge1xuICAgICAgICAgICAgbWVyZ2VSYW5nZXModGFyZ2V0LCByaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VSYW5nZXModGFyZ2V0LCBuZXdTZXQpIHtcbiAgICAgICAgZnVuY3Rpb24gX2FkZFJhbmdlU2V0KHRhcmdldCwgX2EpIHtcbiAgICAgICAgICAgIHZhciBmcm9tID0gX2EuZnJvbSwgdG8gPSBfYS50bywgbCA9IF9hLmwsIHIgPSBfYS5yO1xuICAgICAgICAgICAgYWRkUmFuZ2UodGFyZ2V0LCBmcm9tLCB0byk7XG4gICAgICAgICAgICBpZiAobClcbiAgICAgICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBsKTtcbiAgICAgICAgICAgIGlmIChyKVxuICAgICAgICAgICAgICAgIF9hZGRSYW5nZVNldCh0YXJnZXQsIHIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbXB0eVJhbmdlKG5ld1NldCkpXG4gICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBuZXdTZXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5nZXNPdmVybGFwKHJhbmdlU2V0MSwgcmFuZ2VTZXQyKSB7XG4gICAgICAgIHZhciBpMSA9IGdldFJhbmdlU2V0SXRlcmF0b3IocmFuZ2VTZXQyKTtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQxID0gaTEubmV4dCgpO1xuICAgICAgICBpZiAobmV4dFJlc3VsdDEuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGEgPSBuZXh0UmVzdWx0MS52YWx1ZTtcbiAgICAgICAgdmFyIGkyID0gZ2V0UmFuZ2VTZXRJdGVyYXRvcihyYW5nZVNldDEpO1xuICAgICAgICB2YXIgbmV4dFJlc3VsdDIgPSBpMi5uZXh0KGEuZnJvbSk7XG4gICAgICAgIHZhciBiID0gbmV4dFJlc3VsdDIudmFsdWU7XG4gICAgICAgIHdoaWxlICghbmV4dFJlc3VsdDEuZG9uZSAmJiAhbmV4dFJlc3VsdDIuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGNtcChiLmZyb20sIGEudG8pIDw9IDAgJiYgY21wKGIudG8sIGEuZnJvbSkgPj0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNtcChhLmZyb20sIGIuZnJvbSkgPCAwXG4gICAgICAgICAgICAgICAgPyAoYSA9IChuZXh0UmVzdWx0MSA9IGkxLm5leHQoYi5mcm9tKSkudmFsdWUpXG4gICAgICAgICAgICAgICAgOiAoYiA9IChuZXh0UmVzdWx0MiA9IGkyLm5leHQoYS5mcm9tKSkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmFuZ2VTZXRJdGVyYXRvcihub2RlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGlzRW1wdHlSYW5nZShub2RlKSA/IG51bGwgOiB7IHM6IDAsIG46IG5vZGUgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5UHJvdmlkZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZS5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVByb3ZpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5uLmwgJiYgY21wKGtleSwgc3RhdGUubi5mcm9tKSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLmwsIHM6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5uLmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLmwsIHM6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXlQcm92aWRlZCB8fCBjbXAoa2V5LCBzdGF0ZS5uLnRvKSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogc3RhdGUubiwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUubi5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnMgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLnIsIHM6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGUudXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmViYWxhbmNlKHRhcmdldCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgZGlmZiA9ICgoKF9hID0gdGFyZ2V0LnIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kKSB8fCAwKSAtICgoKF9iID0gdGFyZ2V0LmwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kKSB8fCAwKTtcbiAgICAgICAgdmFyIHIgPSBkaWZmID4gMSA/IFwiclwiIDogZGlmZiA8IC0xID8gXCJsXCIgOiBcIlwiO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgdmFyIGwgPSByID09PSBcInJcIiA/IFwibFwiIDogXCJyXCI7XG4gICAgICAgICAgICB2YXIgcm9vdENsb25lID0gX19hc3NpZ24oe30sIHRhcmdldCk7XG4gICAgICAgICAgICB2YXIgb2xkUm9vdFJpZ2h0ID0gdGFyZ2V0W3JdO1xuICAgICAgICAgICAgdGFyZ2V0LmZyb20gPSBvbGRSb290UmlnaHQuZnJvbTtcbiAgICAgICAgICAgIHRhcmdldC50byA9IG9sZFJvb3RSaWdodC50bztcbiAgICAgICAgICAgIHRhcmdldFtyXSA9IG9sZFJvb3RSaWdodFtyXTtcbiAgICAgICAgICAgIHJvb3RDbG9uZVtyXSA9IG9sZFJvb3RSaWdodFtsXTtcbiAgICAgICAgICAgIHRhcmdldFtsXSA9IHJvb3RDbG9uZTtcbiAgICAgICAgICAgIHJvb3RDbG9uZS5kID0gY29tcHV0ZURlcHRoKHJvb3RDbG9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmQgPSBjb21wdXRlRGVwdGgodGFyZ2V0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcHV0ZURlcHRoKF9hKSB7XG4gICAgICAgIHZhciByID0gX2EuciwgbCA9IF9hLmw7XG4gICAgICAgIHJldHVybiAociA/IChsID8gTWF0aC5tYXgoci5kLCBsLmQpIDogci5kKSA6IGwgPyBsLmQgOiAwKSArIDE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh0YXJnZXQsIG5ld1NldCkge1xuICAgICAgICBrZXlzKG5ld1NldCkuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldFtwYXJ0XSlcbiAgICAgICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXRbcGFydF0sIG5ld1NldFtwYXJ0XSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0W3BhcnRdID0gY2xvbmVTaW1wbGVPYmplY3RUcmVlKG5ld1NldFtwYXJ0XSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9ic1NldHNPdmVybGFwKG9zMSwgb3MyKSB7XG4gICAgICAgIHJldHVybiBvczEuYWxsIHx8IG9zMi5hbGwgfHwgT2JqZWN0LmtleXMob3MxKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9zMltrZXldICYmIHJhbmdlc092ZXJsYXAob3MyW2tleV0sIG9zMVtrZXldKTsgfSk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlID0ge307XG5cbiAgICB2YXIgdW5zaWduYWxlZFBhcnRzID0ge307XG4gICAgdmFyIGlzVGFza0VucXVldWVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocGFydCwgb3B0aW1pc3RpYykge1xuICAgICAgICBleHRlbmRPYnNlcnZhYmlsaXR5U2V0KHVuc2lnbmFsZWRQYXJ0cywgcGFydCk7XG4gICAgICAgIGlmICghaXNUYXNrRW5xdWV1ZWQpIHtcbiAgICAgICAgICAgIGlzVGFza0VucXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlzVGFza0VucXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gdW5zaWduYWxlZFBhcnRzO1xuICAgICAgICAgICAgICAgIHVuc2lnbmFsZWRQYXJ0cyA9IHt9O1xuICAgICAgICAgICAgICAgIHNpZ25hbFN1YnNjcmliZXJzTm93KHBhcnRzLCBmYWxzZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaWduYWxTdWJzY3JpYmVyc05vdyh1cGRhdGVkUGFydHMsIGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgIGlmIChkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyA9PT0gdm9pZCAwKSB7IGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHF1ZXJpZXNUb1NpZ25hbCA9IG5ldyBTZXQoKTtcbiAgICAgICAgaWYgKHVwZGF0ZWRQYXJ0cy5hbGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QudmFsdWVzKGNhY2hlKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgcXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdXBkYXRlZFBhcnRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gL15pZGJcXDpcXC9cXC8oLiopXFwvKC4qKVxcLy8uZXhlYyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGJOYW1lID0gcGFydHNbMV0sIHRhYmxlTmFtZSA9IHBhcnRzWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YmxDYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RUYWJsZVN1YnNjcmliZXJzKHRibENhY2hlLCB1cGRhdGVkUGFydHMsIHF1ZXJpZXNUb1NpZ25hbCwgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWVyaWVzVG9TaWduYWwuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gcmVxdWVyeSgpOyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgb3V0UXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcykge1xuICAgICAgICB2YXIgdXBkYXRlZEVudHJ5TGlzdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIF9iID0gX2FbX2ldLCBpbmRleE5hbWUgPSBfYlswXSwgZW50cmllcyA9IF9iWzFdO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkRW50cmllcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfYyA8IGVudHJpZXNfMS5sZW5ndGg7IF9jKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2NdO1xuICAgICAgICAgICAgICAgIGlmIChvYnNTZXRzT3ZlcmxhcCh1cGRhdGVkUGFydHMsIGVudHJ5Lm9ic1NldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gb3V0UXVlcmllc1RvU2lnbmFsLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpXG4gICAgICAgICAgICAgICAgdXBkYXRlZEVudHJ5TGlzdHMucHVzaChbaW5kZXhOYW1lLCBmaWx0ZXJlZEVudHJpZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9kID0gMCwgdXBkYXRlZEVudHJ5TGlzdHNfMSA9IHVwZGF0ZWRFbnRyeUxpc3RzOyBfZCA8IHVwZGF0ZWRFbnRyeUxpc3RzXzEubGVuZ3RoOyBfZCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9lID0gdXBkYXRlZEVudHJ5TGlzdHNfMVtfZF0sIGluZGV4TmFtZSA9IF9lWzBdLCBmaWx0ZXJlZEVudHJpZXMgPSBfZVsxXTtcbiAgICAgICAgICAgICAgICB0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5W2luZGV4TmFtZV0gPSBmaWx0ZXJlZEVudHJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXhpZU9wZW4oZGIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZGIuX3N0YXRlO1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gZGIuX2RlcHMuaW5kZXhlZERCO1xuICAgICAgICBpZiAoc3RhdGUuaXNCZWluZ09wZW5lZCB8fCBkYi5pZGJkYilcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlLmRiT3BlbkVycm9yID9cbiAgICAgICAgICAgICAgICByZWplY3Rpb24oc3RhdGUuZGJPcGVuRXJyb3IpIDpcbiAgICAgICAgICAgICAgICBkYjsgfSk7XG4gICAgICAgIHN0YXRlLmlzQmVpbmdPcGVuZWQgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IG51bGw7XG4gICAgICAgIHN0YXRlLm9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgb3BlbkNhbmNlbGxlciA9IHN0YXRlLm9wZW5DYW5jZWxsZXI7XG4gICAgICAgIHZhciBuYXRpdmVWZXJUb09wZW4gPSBNYXRoLnJvdW5kKGRiLnZlcm5vICogMTApO1xuICAgICAgICB2YXIgc2NoZW1hUGF0Y2hNb2RlID0gZmFsc2U7XG4gICAgICAgIGZ1bmN0aW9uIHRocm93SWZDYW5jZWxsZWQoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUub3BlbkNhbmNlbGxlciAhPT0gb3BlbkNhbmNlbGxlcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgnZGIub3BlbigpIHdhcyBjYW5jZWxsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x2ZURiUmVhZHkgPSBzdGF0ZS5kYlJlYWR5UmVzb2x2ZSxcbiAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gbnVsbCwgd2FzQ3JlYXRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJ5T3BlbkRCID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBpZiAoIWluZGV4ZWREQilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCk7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gZGIubmFtZTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdGF0ZS5hdXRvU2NoZW1hIHx8ICFuYXRpdmVWZXJUb09wZW4gP1xuICAgICAgICAgICAgICAgIGluZGV4ZWREQi5vcGVuKGRiTmFtZSkgOlxuICAgICAgICAgICAgICAgIGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgbmF0aXZlVmVyVG9PcGVuKTtcbiAgICAgICAgICAgIGlmICghcmVxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoKTtcbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICByZXEub25ibG9ja2VkID0gd3JhcChkYi5fZmlyZU9uQmxvY2tlZCk7XG4gICAgICAgICAgICByZXEub251cGdyYWRlbmVlZGVkID0gd3JhcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbiA9IHJlcS50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXV0b1NjaGVtYSAmJiAhZGIuX29wdGlvbnMuYWxsb3dFbXB0eURCKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gcHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICByZXEucmVzdWx0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxyZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgZGVscmVxLm9uc3VjY2VzcyA9IGRlbHJlcS5vbmVycm9yID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGV4Y2VwdGlvbnMuTm9TdWNoRGF0YWJhc2UoXCJEYXRhYmFzZSBcIi5jb25jYXQoZGJOYW1lLCBcIiBkb2VzbnQgZXhpc3RcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24ub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkVmVyID0gZS5vbGRWZXJzaW9uID4gTWF0aC5wb3coMiwgNjIpID8gMCA6IGUub2xkVmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgd2FzQ3JlYXRlZCA9IG9sZFZlciA8IDE7XG4gICAgICAgICAgICAgICAgICAgIGRiLmlkYmRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVBhdGNoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hDdXJyZW50VmVyc2lvbihkYiwgdXBncmFkZVRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBydW5VcGdyYWRlcnMoZGIsIG9sZFZlciAvIDEwLCB1cGdyYWRlVHJhbnNhY3Rpb24sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBpZGJkYiA9IGRiLmlkYmRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMpO1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3RTdG9yZU5hbWVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wVHJhbnMgPSBpZGJkYi50cmFuc2FjdGlvbihzYWZhcmlNdWx0aVN0b3JlRml4KG9iamVjdFN0b3JlTmFtZXMpLCAncmVhZG9ubHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hdXRvU2NoZW1hKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgZGIuX2RiU2NoZW1hLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2ZXJpZnlJbnN0YWxsZWRTY2hlbWEoZGIsIHRtcFRyYW5zKSAmJiAhc2NoZW1hUGF0Y2hNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkRleGllIFNjaGVtYURpZmY6IFNjaGVtYSB3YXMgZXh0ZW5kZWQgd2l0aG91dCBpbmNyZWFzaW5nIHRoZSBudW1iZXIgcGFzc2VkIHRvIGRiLnZlcnNpb24oKS4gRGV4aWUgd2lsbCBhZGQgbWlzc2luZyBwYXJ0cyBhbmQgaW5jcmVtZW50IG5hdGl2ZSB2ZXJzaW9uIG51bWJlciB0byB3b3JrYXJvdW5kIHRoaXMuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGJkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVWZXJUb09wZW4gPSBpZGJkYi52ZXJzaW9uICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hUGF0Y2hNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ5T3BlbkRCKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgdG1wVHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKGRiKTtcbiAgICAgICAgICAgICAgICBpZGJkYi5vbnZlcnNpb25jaGFuZ2UgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52Y0ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGIub24oXCJ2ZXJzaW9uY2hhbmdlXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlkYmRiLm9uY2xvc2UgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICBkYi5vbihcImNsb3NlXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh3YXNDcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICBfb25EYXRhYmFzZUNyZWF0ZWQoZGIuX2RlcHMsIGRiTmFtZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3dpdGNoIChlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJVbmtub3duRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUFIxMzk4X21heExvb3AtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV4aWU6IFdvcmthcm91bmQgZm9yIENocm9tZSBVbmtub3duRXJyb3Igb24gb3BlbigpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ5T3BlbkRCKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlZlcnNpb25FcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobmF0aXZlVmVyVG9PcGVuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmVyVG9PcGVuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlPcGVuREIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgb3BlbkNhbmNlbGxlcixcbiAgICAgICAgICAgICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyA/IERleGllUHJvbWlzZS5yZXNvbHZlKCkgOiBpZGJSZWFkeSgpKS50aGVuKHRyeU9wZW5EQilcbiAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHZpcChmdW5jdGlvbiAoKSB7IHJldHVybiBkYi5vbi5yZWFkeS5maXJlKGRiLnZpcCk7IH0pKS50aGVuKGZ1bmN0aW9uIGZpcmVSZW1haW5kZXJzKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5kZXJzXzEgPSBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5yZWR1Y2UocHJvbWlzYWJsZUNoYWluLCBub3ApO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUodmlwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbWFpbmRlcnNfMShkYi52aXApOyB9KSkudGhlbihmaXJlUmVtYWluZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm9wZW5DYW5jZWxsZXIgPT09IG9wZW5DYW5jZWxsZXIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RhdGUuaXNCZWluZ09wZW5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IGVycjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uICYmIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7IH1cbiAgICAgICAgICAgIGlmIChvcGVuQ2FuY2VsbGVyID09PSBzdGF0ZS5vcGVuQ2FuY2VsbGVyKSB7XG4gICAgICAgICAgICAgICAgZGIuX2Nsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGVycik7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhdGUub3BlbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc29sdmVEYlJlYWR5KCk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHdhc0NyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlcnl0aGluZ18xID0ge307XG4gICAgICAgICAgICAgICAgZGIudGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnNjaGVtYS5pbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZXJ5dGhpbmdfMVtcImlkYjovL1wiLmNvbmNhdChkYi5uYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlLm5hbWUsIFwiL1wiKS5jb25jYXQoaWR4Lm5hbWUpXSA9IG5ldyBSYW5nZVNldCgtSW5maW5pdHksIFtbW11dXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBldmVyeXRoaW5nXzFbXCJpZGI6Ly9cIi5jb25jYXQoZGIubmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZS5uYW1lLCBcIi9cIildID0gZXZlcnl0aGluZ18xW1wiaWRiOi8vXCIuY29uY2F0KGRiLm5hbWUsIFwiL1wiKS5jb25jYXQodGFibGUubmFtZSwgXCIvOmRlbHNcIildID0gbmV3IFJhbmdlU2V0KC1JbmZpbml0eSwgW1tbXV1dKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUpLmZpcmUoZXZlcnl0aGluZ18xKTtcbiAgICAgICAgICAgICAgICBzaWduYWxTdWJzY3JpYmVyc05vdyhldmVyeXRoaW5nXzEsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRiO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhd2FpdEl0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBjYWxsTmV4dCA9IGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIGl0ZXJhdG9yLm5leHQocmVzdWx0KTsgfSwgZG9UaHJvdyA9IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaXRlcmF0b3IudGhyb3coZXJyb3IpOyB9LCBvblN1Y2Nlc3MgPSBzdGVwKGNhbGxOZXh0KSwgb25FcnJvciA9IHN0ZXAoZG9UaHJvdyk7XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAoZ2V0TmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGdldE5leHQodmFsKSwgdmFsdWUgPSBuZXh0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbmUgPyB2YWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlLnRoZW4gIT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheSh2YWx1ZSkgPyBQcm9taXNlLmFsbCh2YWx1ZSkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpIDogb25TdWNjZXNzKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcikpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RlcChjYWxsTmV4dCkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0VHJhbnNhY3Rpb25BcmdzKG1vZGUsIF90YWJsZUFyZ3NfLCBzY29wZUZ1bmMpIHtcbiAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAoaSA8IDIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJUb28gZmV3IGFyZ3VtZW50c1wiKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSAtIDEpO1xuICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHNjb3BlRnVuYyA9IGFyZ3MucG9wKCk7XG4gICAgICAgIHZhciB0YWJsZXMgPSBmbGF0dGVuKGFyZ3MpO1xuICAgICAgICByZXR1cm4gW21vZGUsIHRhYmxlcywgc2NvcGVGdW5jXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50ZXJUcmFuc2FjdGlvblNjb3BlKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBwYXJlbnRUcmFuc2FjdGlvbiwgc2NvcGVGdW5jKSB7XG4gICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zbGVzcyA9IFBTRC50cmFuc2xlc3MgfHwgUFNEO1xuICAgICAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRiLl9kYlNjaGVtYSwgcGFyZW50VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgdHJhbnMuZXhwbGljaXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHpvbmVQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgdHJhbnNsZXNzOiB0cmFuc2xlc3NcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucyA9IHBhcmVudFRyYW5zYWN0aW9uLmlkYnRyYW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zLl9leHBsaWNpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gZXJybmFtZXMuSW52YWxpZFN0YXRlICYmIGRiLmlzT3BlbigpICYmIC0tZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXhpZTogTmVlZCB0byByZW9wZW4gZGInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5vcGVuKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBlbnRlclRyYW5zYWN0aW9uU2NvcGUoZGIsIG1vZGUsIHN0b3JlTmFtZXMsIG51bGwsIHNjb3BlRnVuYyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzY29wZUZ1bmNJc0FzeW5jID0gaXNBc3luY0Z1bmN0aW9uKHNjb3BlRnVuYyk7XG4gICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZUZvbGxvd2VkID0gRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBzY29wZUZ1bmMuY2FsbCh0cmFucywgdHJhbnMpO1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3JlbWVudG9yID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMuYmluZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4oZGVjcmVtZW50b3IsIGRlY3JlbWVudG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUubmV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gYXdhaXRJdGVyYXRvcihyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB6b25lUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXR1cm5WYWx1ZSAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUocmV0dXJuVmFsdWUpLnRoZW4oZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHRyYW5zLmFjdGl2ZSA/XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgICAgOiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuUHJlbWF0dXJlQ29tbWl0KFwiVHJhbnNhY3Rpb24gY29tbWl0dGVkIHRvbyBlYXJseS4gU2VlIGh0dHA6Ly9iaXQubHkvMmtkY2tNblwiKSk7IH0pXG4gICAgICAgICAgICAgICAgOiBwcm9taXNlRm9sbG93ZWQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXR1cm5WYWx1ZTsgfSkpLnRoZW4oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zLl9yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYWQoYSwgdmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBpc0FycmF5KGEpID8gYS5zbGljZSgpIDogW2FdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpXG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxJbmRleE1pZGRsZXdhcmUoZG93bikge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd24pLCB7IHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gZG93bi50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBzY2hlbWEgPSB0YWJsZS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TG9va3VwID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGFsbFZpcnR1YWxJbmRleGVzID0gW107XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkVmlydHVhbEluZGV4ZXMoa2V5UGF0aCwga2V5VGFpbCwgbG93TGV2ZWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aEFsaWFzID0gZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhMaXN0ID0gKGluZGV4TG9va3VwW2tleVBhdGhBbGlhc10gPSBpbmRleExvb2t1cFtrZXlQYXRoQWxpYXNdIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleUxlbmd0aCA9IGtleVBhdGggPT0gbnVsbCA/IDAgOiB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgPyAxIDoga2V5UGF0aC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ZpcnR1YWwgPSBrZXlUYWlsID4gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpcnR1YWxJbmRleCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBsb3dMZXZlbEluZGV4KSwgeyBuYW1lOiBpc1ZpcnR1YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCIuY29uY2F0KGtleVBhdGhBbGlhcywgXCIodmlydHVhbC1mcm9tOlwiKS5jb25jYXQobG93TGV2ZWxJbmRleC5uYW1lLCBcIilcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxvd0xldmVsSW5kZXgubmFtZSwgbG93TGV2ZWxJbmRleDogbG93TGV2ZWxJbmRleCwgaXNWaXJ0dWFsOiBpc1ZpcnR1YWwsIGtleVRhaWw6IGtleVRhaWwsIGtleUxlbmd0aDoga2V5TGVuZ3RoLCBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aCksIHVuaXF1ZTogIWlzVmlydHVhbCAmJiBsb3dMZXZlbEluZGV4LnVuaXF1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhMaXN0LnB1c2godmlydHVhbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXJ0dWFsSW5kZXguaXNQcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWaXJ0dWFsSW5kZXhlcy5wdXNoKHZpcnR1YWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleUxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsS2V5UGF0aCA9IGtleUxlbmd0aCA9PT0gMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aFswXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aC5zbGljZSgwLCBrZXlMZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpcnR1YWxJbmRleGVzKHZpcnR1YWxLZXlQYXRoLCBrZXlUYWlsICsgMSwgbG93TGV2ZWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEua2V5VGFpbCAtIGIua2V5VGFpbDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXJ0dWFsSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gYWRkVmlydHVhbEluZGV4ZXMoc2NoZW1hLnByaW1hcnlLZXkua2V5UGF0aCwgMCwgc2NoZW1hLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgIGluZGV4TG9va3VwW1wiOmlkXCJdID0gW3ByaW1hcnlLZXldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzY2hlbWEuaW5kZXhlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGRWaXJ0dWFsSW5kZXhlcyhpbmRleC5rZXlQYXRoLCAwLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRCZXN0SW5kZXgoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5kZXhMb29rdXBbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAmJiByZXN1bHRbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVJhbmdlKHJhbmdlLCBrZXlUYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByYW5nZS50eXBlID09PSAxICA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlcjogcGFkKHJhbmdlLmxvd2VyLCByYW5nZS5sb3dlck9wZW4gPyBkb3duLk1BWF9LRVkgOiBkb3duLk1JTl9LRVksIGtleVRhaWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXI6IHBhZChyYW5nZS51cHBlciwgcmFuZ2UudXBwZXJPcGVuID8gZG93bi5NSU5fS0VZIDogZG93bi5NQVhfS0VZLCBrZXlUYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyT3BlbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmFuc2xhdGVSZXF1ZXN0KHJlcSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSByZXEucXVlcnkuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleC5pc1ZpcnR1YWwgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxKSwgeyBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleC5sb3dMZXZlbEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiB0cmFuc2xhdGVSYW5nZShyZXEucXVlcnkucmFuZ2UsIGluZGV4LmtleVRhaWwpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pIDogcmVxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRhYmxlKSwgeyBzY2hlbWE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByaW1hcnlLZXk6IHByaW1hcnlLZXksIGluZGV4ZXM6IGFsbFZpcnR1YWxJbmRleGVzLCBnZXRJbmRleEJ5S2V5UGF0aDogZmluZEJlc3RJbmRleCB9KSwgY291bnQ6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5jb3VudCh0cmFuc2xhdGVSZXF1ZXN0KHJlcSkpO1xuICAgICAgICAgICAgICAgICAgICB9LCBxdWVyeTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLnF1ZXJ5KHRyYW5zbGF0ZVJlcXVlc3QocmVxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wZW5DdXJzb3I6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHJlcS5xdWVyeS5pbmRleCwga2V5VGFpbCA9IF9hLmtleVRhaWwsIGlzVmlydHVhbCA9IF9hLmlzVmlydHVhbCwga2V5TGVuZ3RoID0gX2Eua2V5TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZpcnR1YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLm9wZW5DdXJzb3IocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxDdXJzb3IoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX2NvbnRpbnVlKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgIT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUocGFkKGtleSwgcmVxLnJldmVyc2UgPyBkb3duLk1BWF9LRVkgOiBkb3duLk1JTl9LRVksIGtleVRhaWwpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoY3Vyc29yLmtleS5zbGljZSgwLCBrZXlMZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQocmVxLnJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkb3duLk1JTl9LRVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb3duLk1BWF9LRVksIGtleVRhaWwpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsQ3Vyc29yID0gT2JqZWN0LmNyZWF0ZShjdXJzb3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6IHsgdmFsdWU6IF9jb250aW51ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoa2V5LCBwcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleShwYWQoa2V5LCBkb3duLk1BWF9LRVksIGtleVRhaWwpLCBwcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlMZW5ndGggPT09IDEgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlbMF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkuc2xpY2UoMCwga2V5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlydHVhbEN1cnNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5vcGVuQ3Vyc29yKHRyYW5zbGF0ZVJlcXVlc3QocmVxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY3Vyc29yKSB7IHJldHVybiBjdXJzb3IgJiYgY3JlYXRlVmlydHVhbEN1cnNvcihjdXJzb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgdmFyIHZpcnR1YWxJbmRleE1pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBuYW1lOiBcIlZpcnR1YWxJbmRleE1pZGRsZXdhcmVcIixcbiAgICAgICAgbGV2ZWw6IDEsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlVmlydHVhbEluZGV4TWlkZGxld2FyZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRPYmplY3REaWZmKGEsIGIsIHJ2LCBwcmZ4KSB7XG4gICAgICAgIHJ2ID0gcnYgfHwge307XG4gICAgICAgIHByZnggPSBwcmZ4IHx8ICcnO1xuICAgICAgICBrZXlzKGEpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duKGIsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGFwID0gYVtwcm9wXSwgYnAgPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXAgPT09ICdvYmplY3QnICYmIHR5cGVvZiBicCA9PT0gJ29iamVjdCcgJiYgYXAgJiYgYnApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwVHlwZU5hbWUgPSB0b1N0cmluZ1RhZyhhcCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBicFR5cGVOYW1lID0gdG9TdHJpbmdUYWcoYnApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBUeXBlTmFtZSAhPT0gYnBUeXBlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcFR5cGVOYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T2JqZWN0RGlmZihhcCwgYnAsIHJ2LCBwcmZ4ICsgcHJvcCArICcuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXAgIT09IGJwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFwICE9PSBicClcbiAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGtleXMoYikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd24oYSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKSB7XG4gICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ2RlbGV0ZScpXG4gICAgICAgICAgICByZXR1cm4gcmVxLmtleXM7XG4gICAgICAgIHJldHVybiByZXEua2V5cyB8fCByZXEudmFsdWVzLm1hcChwcmltYXJ5S2V5LmV4dHJhY3RLZXkpO1xuICAgIH1cblxuICAgIHZhciBob29rc01pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBuYW1lOiBcIkhvb2tzTWlkZGxld2FyZVwiLFxuICAgICAgICBsZXZlbDogMixcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoZG93bkNvcmUpIHsgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93bkNvcmUpLCB7IHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvd25UYWJsZSA9IGRvd25Db3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBkb3duVGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlTWlkZGxld2FyZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duVGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR4VHJhbnMgPSBQU0QudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBkeFRyYW5zLnRhYmxlKHRhYmxlTmFtZSkuaG9vaywgZGVsZXRpbmcgPSBfYS5kZWxldGluZywgY3JlYXRpbmcgPSBfYS5jcmVhdGluZywgdXBkYXRpbmcgPSBfYS51cGRhdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVxLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRQdXRPckRlbGV0ZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwdXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmcuZmlyZSA9PT0gbm9wICYmIHVwZGF0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlUmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWxldGVSYW5nZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRQdXRPckRlbGV0ZShyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHhUcmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHJlcS5rZXlzIHx8IGdldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWtleXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIktleXMgbWlzc2luZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSByZXEudHlwZSA9PT0gJ2FkZCcgfHwgcmVxLnR5cGUgPT09ICdwdXQnID8gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsga2V5czoga2V5cyB9KSA6IF9fYXNzaWduKHt9LCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEudHlwZSAhPT0gJ2RlbGV0ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXMgPSBfX3NwcmVhZEFycmF5KFtdLCByZXEudmFsdWVzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLmtleXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5rZXlzID0gX19zcHJlYWRBcnJheShbXSwgcmVxLmtleXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRFeGlzdGluZ1ZhbHVlcyhkb3duVGFibGUsIHJlcSwga2V5cykudGhlbihmdW5jdGlvbiAoZXhpc3RpbmdWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHRzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSBleGlzdGluZ1ZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSB7IG9uZXJyb3I6IG51bGwsIG9uc3VjY2VzczogbnVsbCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0aW5nLmZpcmUuY2FsbChjdHgsIGtleSwgZXhpc3RpbmdWYWx1ZSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXEudHlwZSA9PT0gJ2FkZCcgfHwgZXhpc3RpbmdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZFByaW1hcnlLZXkgPSBjcmVhdGluZy5maXJlLmNhbGwoY3R4LCBrZXksIHJlcS52YWx1ZXNbaV0sIGR4VHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gbnVsbCAmJiBnZW5lcmF0ZWRQcmltYXJ5S2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ2VuZXJhdGVkUHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmtleXNbaV0gPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJpbWFyeUtleS5vdXRib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKHJlcS52YWx1ZXNbaV0sIHByaW1hcnlLZXkua2V5UGF0aCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3REaWZmID0gZ2V0T2JqZWN0RGlmZihleGlzdGluZ1ZhbHVlLCByZXEudmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25hbENoYW5nZXNfMSA9IHVwZGF0aW5nLmZpcmUuY2FsbChjdHgsIG9iamVjdERpZmYsIGtleSwgZXhpc3RpbmdWYWx1ZSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxDaGFuZ2VzXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RlZFZhbHVlXzEgPSByZXEudmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhZGRpdGlvbmFsQ2hhbmdlc18xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHJlcXVlc3RlZFZhbHVlXzEsIGtleVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkVmFsdWVfMVtrZXlQYXRoXSA9IGFkZGl0aW9uYWxDaGFuZ2VzXzFba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgocmVxdWVzdGVkVmFsdWVfMSwga2V5UGF0aCwgYWRkaXRpb25hbENoYW5nZXNfMVtrZXlQYXRoXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1LZXkgPSByZXN1bHRzID8gcmVzdWx0c1tpXSA6IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNvbnRleHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm9uZXJyb3IgJiYgY3R4Lm9uZXJyb3IoZmFpbHVyZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm9uc3VjY2VzcyAmJiBjdHgub25zdWNjZXNzKHJlcS50eXBlID09PSAncHV0JyAmJiBleGlzdGluZ1ZhbHVlc1tpXSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudmFsdWVzW2ldIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1LZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmYWlsdXJlczogZmFpbHVyZXMsIHJlc3VsdHM6IHJlc3VsdHMsIG51bUZhaWx1cmVzOiBudW1GYWlsdXJlcywgbGFzdFJlc3VsdDogbGFzdFJlc3VsdCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRzLmZvckVhY2goZnVuY3Rpb24gKGN0eCkgeyByZXR1cm4gY3R4Lm9uZXJyb3IgJiYgY3R4Lm9uZXJyb3IoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlUmFuZ2UocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZU5leHRDaHVuayhyZXEudHJhbnMsIHJlcS5yYW5nZSwgMTAwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlTmV4dENodW5rKHRyYW5zLCByYW5nZSwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLnF1ZXJ5KHsgdHJhbnM6IHRyYW5zLCB2YWx1ZXM6IGZhbHNlLCBxdWVyeTogeyBpbmRleDogcHJpbWFyeUtleSwgcmFuZ2U6IHJhbmdlIH0sIGxpbWl0OiBsaW1pdCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZFB1dE9yRGVsZXRlKHsgdHlwZTogJ2RlbGV0ZScsIGtleXM6IHJlc3VsdCwgdHJhbnM6IHRyYW5zIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5udW1GYWlsdXJlcyA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZmFpbHVyZXM6IFtdLCBudW1GYWlsdXJlczogMCwgbGFzdFJlc3VsdDogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlTmV4dENodW5rKHRyYW5zLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmFuZ2UpLCB7IGxvd2VyOiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCBsb3dlck9wZW46IHRydWUgfSksIGxpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlTWlkZGxld2FyZTtcbiAgICAgICAgICAgIH0gfSkpOyB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRFeGlzdGluZ1ZhbHVlcyh0YWJsZSwgcmVxLCBlZmZlY3RpdmVLZXlzKSB7XG4gICAgICAgIHJldHVybiByZXEudHlwZSA9PT0gXCJhZGRcIlxuICAgICAgICAgICAgPyBQcm9taXNlLnJlc29sdmUoW10pXG4gICAgICAgICAgICA6IHRhYmxlLmdldE1hbnkoeyB0cmFuczogcmVxLnRyYW5zLCBrZXlzOiBlZmZlY3RpdmVLZXlzLCBjYWNoZTogXCJpbW11dGFibGVcIiB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShrZXlzLCBjYWNoZSwgY2xvbmUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghY2FjaGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAoY2FjaGUua2V5cy5sZW5ndGggPCBrZXlzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IGNhY2hlLmtleXMubGVuZ3RoICYmIGogPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChjYWNoZS5rZXlzW2ldLCBrZXlzW2pdKSAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2xvbmUgPyBkZWVwQ2xvbmUoY2FjaGUudmFsdWVzW2ldKSA6IGNhY2hlLnZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgKytqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IGtleXMubGVuZ3RoID8gcmVzdWx0IDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBjYWNoZUV4aXN0aW5nVmFsdWVzTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgIGxldmVsOiAtMSxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGFibGUpLCB7IGdldE1hbnk6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcS5jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuZ2V0TWFueShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVkUmVzdWx0ID0gZ2V0RnJvbVRyYW5zYWN0aW9uQ2FjaGUocmVxLmtleXMsIHJlcS50cmFuc1tcIl9jYWNoZVwiXSwgcmVxLmNhY2hlID09PSBcImNsb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKGNhY2hlZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5nZXRNYW55KHJlcSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS50cmFuc1tcIl9jYWNoZVwiXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHJlcS5rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiByZXEuY2FjaGUgPT09IFwiY2xvbmVcIiA/IGRlZXBDbG9uZShyZXMpIDogcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlICE9PSBcImFkZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudHJhbnNbXCJfY2FjaGVcIl0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzQ2FjaGFibGVDb250ZXh0KGN0eCwgdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIChjdHgudHJhbnMubW9kZSA9PT0gJ3JlYWRvbmx5JyAmJlxuICAgICAgICAgICAgISFjdHguc3Vic2NyICYmXG4gICAgICAgICAgICAhY3R4LnRyYW5zLmV4cGxpY2l0ICYmXG4gICAgICAgICAgICBjdHgudHJhbnMuZGIuX29wdGlvbnMuY2FjaGUgIT09ICdkaXNhYmxlZCcgJiZcbiAgICAgICAgICAgICF0YWJsZS5zY2hlbWEucHJpbWFyeUtleS5vdXRib3VuZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDYWNoYWJsZVJlcXVlc3QodHlwZSwgcmVxKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgICAgICAgICAgIHJldHVybiByZXEudmFsdWVzICYmICFyZXEudW5pcXVlO1xuICAgICAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdnZXRNYW55JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdjb3VudCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAnb3BlbkN1cnNvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmFiaWxpdHlNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgIG5hbWU6IFwiT2JzZXJ2YWJpbGl0eVwiLFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gY29yZS5zY2hlbWEubmFtZTtcbiAgICAgICAgICAgIHZhciBGVUxMX1JBTkdFID0gbmV3IFJhbmdlU2V0KGNvcmUuTUlOX0tFWSwgY29yZS5NQVhfS0VZKTtcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29yZSksIHsgdHJhbnNhY3Rpb246IGZ1bmN0aW9uIChzdG9yZXMsIG1vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBTRC5zdWJzY3IgJiYgbW9kZSAhPT0gJ3JlYWRvbmx5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuUmVhZE9ubHkoXCJSZWFkd3JpdGUgdHJhbnNhY3Rpb24gaW4gbGl2ZVF1ZXJ5IGNvbnRleHQuIFF1ZXJpZXIgc291cmNlOiBcIi5jb25jYXQoUFNELnF1ZXJpZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZS50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjaGVtYSA9IHRhYmxlLnNjaGVtYTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBzY2hlbWEucHJpbWFyeUtleSwgaW5kZXhlcyA9IHNjaGVtYS5pbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFjdEtleSA9IHByaW1hcnlLZXkuZXh0cmFjdEtleSwgb3V0Ym91bmQgPSBwcmltYXJ5S2V5Lm91dGJvdW5kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhlc1dpdGhBdXRvSW5jUEsgPSBwcmltYXJ5S2V5LmF1dG9JbmNyZW1lbnQgJiYgaW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiBpbmRleC5jb21wb3VuZCAmJiBpbmRleC5rZXlQYXRoLmluY2x1ZGVzKHByaW1hcnlLZXkua2V5UGF0aCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVDbG9uZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0YWJsZSksIHsgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSByZXEudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG11dGF0ZWRQYXJ0cyA9IHJlcS5tdXRhdGVkUGFydHMgfHwgKHJlcS5tdXRhdGVkUGFydHMgPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFJhbmdlU2V0ID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IFwiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUsIFwiL1wiKS5jb25jYXQoaW5kZXhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtdXRhdGVkUGFydHNbcGFydF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtdXRhdGVkUGFydHNbcGFydF0gPSBuZXcgUmFuZ2VTZXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUmFuZ2VTZXQgPSBnZXRSYW5nZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsc1JhbmdlU2V0ID0gZ2V0UmFuZ2VTZXQoXCI6ZGVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHJlcS50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYyA9IHJlcS50eXBlID09PSBcImRlbGV0ZVJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbcmVxLnJhbmdlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlcS50eXBlID09PSBcImRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtyZXEua2V5c11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVxLnZhbHVlcy5sZW5ndGggPCA1MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2dldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpZDsgfSksIHJlcS52YWx1ZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSwga2V5cyA9IF9jWzBdLCBuZXdPYmpzID0gX2NbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZENhY2hlID0gcmVxLnRyYW5zW1wiX2NhY2hlXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGtleXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXQuYWRkS2V5cyhrZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZE9ianMgPSB0eXBlID09PSAnZGVsZXRlJyB8fCBrZXlzLmxlbmd0aCA9PT0gbmV3T2Jqcy5sZW5ndGggPyBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShrZXlzLCBvbGRDYWNoZSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9sZE9ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGRLZXlzKGtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRPYmpzIHx8IG5ld09ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrQWZmZWN0ZWRJbmRleGVzKGdldFJhbmdlU2V0LCBzY2hlbWEsIG9sZE9ianMsIG5ld09ianMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogKF9hID0ga2V5cy5sb3dlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29yZS5NSU5fS0VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86IChfYiA9IGtleXMudXBwZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvcmUuTUFYX0tFWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXQuYWRkKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGQocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS5pbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gZ2V0UmFuZ2VTZXQoaWR4Lm5hbWUpLmFkZChGVUxMX1JBTkdFKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5tdXRhdGUocmVxKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMgJiYgKHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0LmFkZEtleXMocmVzLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ZXNXaXRoQXV0b0luY1BLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1dpdGhBdXRvSW5jUEsuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhWYWxzID0gcmVxLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGlkeC5leHRyYWN0S2V5KHYpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUG9zID0gaWR4LmtleVBhdGguZmluZEluZGV4KGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiBwcm9wID09PSBwcmltYXJ5S2V5LmtleVBhdGg7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzLnJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFZhbHNbaV1bcGtQb3NdID0gcmVzLnJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UmFuZ2VTZXQoaWR4Lm5hbWUpLmFkZEtleXMoaWR4VmFscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMubXV0YXRlZFBhcnRzID0gZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh0cmFucy5tdXRhdGVkUGFydHMgfHwge30sIG11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2QgPSBfYS5xdWVyeSwgaW5kZXggPSBfZC5pbmRleCwgcmFuZ2UgPSBfZC5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlU2V0KChfYiA9IHJhbmdlLmxvd2VyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb3JlLk1JTl9LRVksIChfYyA9IHJhbmdlLnVwcGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjb3JlLk1BWF9LRVkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRTdWJzY3JpYmVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHJlcSkgeyByZXR1cm4gW3ByaW1hcnlLZXksIG5ldyBSYW5nZVNldChyZXEua2V5KV07IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYW55OiBmdW5jdGlvbiAocmVxKSB7IHJldHVybiBbcHJpbWFyeUtleSwgbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhyZXEua2V5cyldOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkN1cnNvcjogZ2V0UmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGtleXMocmVhZFN1YnNjcmliZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xvbmVbbWV0aG9kXSA9IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyID0gUFNELnN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNMaXZlUXVlcnkgPSAhIXN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGFibGUgPSBpc0NhY2hhYmxlQ29udGV4dChQU0QsIHRhYmxlKSAmJiBpc0NhY2hhYmxlUmVxdWVzdChtZXRob2QsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9ic1NldCA9IGNhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVxLm9ic1NldCA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3Vic2NyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xpdmVRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2VTZXQgPSBmdW5jdGlvbiAoaW5kZXhOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IFwiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUsIFwiL1wiKS5jb25jYXQoaW5kZXhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAob2JzU2V0W3BhcnRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9ic1NldFtwYXJ0XSA9IG5ldyBSYW5nZVNldCgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa1JhbmdlU2V0XzEgPSBnZXRSYW5nZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHNSYW5nZVNldF8xID0gZ2V0UmFuZ2VTZXQoXCI6ZGVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcmVhZFN1YnNjcmliZXJzW21ldGhvZF0ocmVxKSwgcXVlcmllZEluZGV4ID0gX2FbMF0sIHF1ZXJpZWRSYW5nZXMgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ3F1ZXJ5JyAmJiBxdWVyaWVkSW5kZXguaXNQcmltYXJ5S2V5ICYmICFyZXEudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGQocXVlcmllZFJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRSYW5nZVNldChxdWVyaWVkSW5kZXgubmFtZSB8fCBcIlwiKS5hZGQocXVlcmllZFJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWVyaWVkSW5kZXguaXNQcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSBcImNvdW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5c1Byb21pc2VfMSA9IG1ldGhvZCA9PT0gXCJxdWVyeVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGJvdW5kICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUucXVlcnkoX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsgdmFsdWVzOiBmYWxzZSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJxdWVyeVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0Ym91bmQgJiYgcmVxLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzUHJvbWlzZV8xLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRpbmdLZXlzID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0XzEuYWRkS2V5cyhyZXN1bHRpbmdLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwS2V5cyA9IHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlcy5yZXN1bHQubWFwKGV4dHJhY3RLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXMucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0XzEuYWRkS2V5cyhwS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGRLZXlzKHBLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtZXRob2QgPT09IFwib3BlbkN1cnNvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yXzEgPSByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FudFZhbHVlc18xID0gcmVxLnZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY3Vyc29yXzEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKGN1cnNvcl8xLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5KGN1cnNvcl8xLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JfMS5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5S2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtleSA9IGN1cnNvcl8xLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5KHBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwa2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbnRWYWx1ZXNfMSAmJiBwa1JhbmdlU2V0XzEuYWRkS2V5KGN1cnNvcl8xLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVDbG9uZTtcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gdHJhY2tBZmZlY3RlZEluZGV4ZXMoZ2V0UmFuZ2VTZXQsIHNjaGVtYSwgb2xkT2JqcywgbmV3T2Jqcykge1xuICAgICAgICBmdW5jdGlvbiBhZGRBZmZlY3RlZEluZGV4KGl4KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VTZXQgPSBnZXRSYW5nZVNldChpeC5uYW1lIHx8IFwiXCIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXh0cmFjdEtleShvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICE9IG51bGwgPyBpeC5leHRyYWN0S2V5KG9iaikgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFkZEtleU9yS2V5cyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGl4Lm11bHRpRW50cnkgJiYgaXNBcnJheShrZXkpXG4gICAgICAgICAgICAgICAgPyBrZXkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiByYW5nZVNldC5hZGRLZXkoa2V5KTsgfSlcbiAgICAgICAgICAgICAgICA6IHJhbmdlU2V0LmFkZEtleShrZXkpOyB9O1xuICAgICAgICAgICAgKG9sZE9ianMgfHwgbmV3T2JqcykuZm9yRWFjaChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRLZXkgPSBvbGRPYmpzICYmIGV4dHJhY3RLZXkob2xkT2Jqc1tpXSk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0tleSA9IG5ld09ianMgJiYgZXh0cmFjdEtleShuZXdPYmpzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoY21wKG9sZEtleSwgbmV3S2V5KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkS2V5ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRLZXlPcktleXMob2xkS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0tleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5T3JLZXlzKG5ld0tleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmluZGV4ZXMuZm9yRWFjaChhZGRBZmZlY3RlZEluZGV4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RPcHRpbWlzdGljRnJvbUZhaWx1cmVzKHRibENhY2hlLCByZXEsIHJlcykge1xuICAgICAgICBpZiAocmVzLm51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHJlcTtcbiAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlUmFuZ2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtQnVsa09wcyA9IHJlcS5rZXlzXG4gICAgICAgICAgICA/IHJlcS5rZXlzLmxlbmd0aFxuICAgICAgICAgICAgOiAndmFsdWVzJyBpbiByZXEgJiYgcmVxLnZhbHVlc1xuICAgICAgICAgICAgICAgID8gcmVxLnZhbHVlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICA6IDE7XG4gICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPT09IG51bUJ1bGtPcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbG9uZSA9IF9fYXNzaWduKHt9LCByZXEpO1xuICAgICAgICBpZiAoaXNBcnJheShjbG9uZS5rZXlzKSkge1xuICAgICAgICAgICAgY2xvbmUua2V5cyA9IGNsb25lLmtleXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7IHJldHVybiAhKGkgaW4gcmVzLmZhaWx1cmVzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd2YWx1ZXMnIGluIGNsb25lICYmIGlzQXJyYXkoY2xvbmUudmFsdWVzKSkge1xuICAgICAgICAgICAgY2xvbmUudmFsdWVzID0gY2xvbmUudmFsdWVzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gIShpIGluIHJlcy5mYWlsdXJlcyk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Fib3ZlTG93ZXIoa2V5LCByYW5nZSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UubG93ZXIgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IHJhbmdlLmxvd2VyT3BlblxuICAgICAgICAgICAgICAgID8gY21wKGtleSwgcmFuZ2UubG93ZXIpID4gMFxuICAgICAgICAgICAgICAgIDogY21wKGtleSwgcmFuZ2UubG93ZXIpID49IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQmVsb3dVcHBlcihrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiByYW5nZS51cHBlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgIDogcmFuZ2UudXBwZXJPcGVuXG4gICAgICAgICAgICAgICAgPyBjbXAoa2V5LCByYW5nZS51cHBlcikgPCAwXG4gICAgICAgICAgICAgICAgOiBjbXAoa2V5LCByYW5nZS51cHBlcikgPD0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNXaXRoaW5SYW5nZShrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBpc0Fib3ZlTG93ZXIoa2V5LCByYW5nZSkgJiYgaXNCZWxvd1VwcGVyKGtleSwgcmFuZ2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5T3B0aW1pc3RpY09wcyhyZXN1bHQsIHJlcSwgb3BzLCB0YWJsZSwgY2FjaGVFbnRyeSwgaW1tdXRhYmxlKSB7XG4gICAgICAgIGlmICghb3BzIHx8IG9wcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSByZXEucXVlcnkuaW5kZXg7XG4gICAgICAgIHZhciBtdWx0aUVudHJ5ID0gaW5kZXgubXVsdGlFbnRyeTtcbiAgICAgICAgdmFyIHF1ZXJ5UmFuZ2UgPSByZXEucXVlcnkucmFuZ2U7XG4gICAgICAgIHZhciBwcmltYXJ5S2V5ID0gdGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBleHRyYWN0UHJpbUtleSA9IHByaW1hcnlLZXkuZXh0cmFjdEtleTtcbiAgICAgICAgdmFyIGV4dHJhY3RJbmRleCA9IGluZGV4LmV4dHJhY3RLZXk7XG4gICAgICAgIHZhciBleHRyYWN0TG93TGV2ZWxJbmRleCA9IChpbmRleC5sb3dMZXZlbEluZGV4IHx8IGluZGV4KS5leHRyYWN0S2V5O1xuICAgICAgICB2YXIgZmluYWxSZXN1bHQgPSBvcHMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIG9wKSB7XG4gICAgICAgICAgICB2YXIgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICAgIHZhciBpbmNsdWRlZFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKG9wLnR5cGUgPT09ICdhZGQnIHx8IG9wLnR5cGUgPT09ICdwdXQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVkUEtzID0gbmV3IFJhbmdlU2V0KCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG9wLnZhbHVlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvcC52YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBwayA9IGV4dHJhY3RQcmltS2V5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVkUEtzLmhhc0tleShwaykpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RJbmRleCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtdWx0aUVudHJ5ICYmIGlzQXJyYXkoa2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBrZXkuc29tZShmdW5jdGlvbiAoaykgeyByZXR1cm4gaXNXaXRoaW5SYW5nZShrLCBxdWVyeVJhbmdlKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXNXaXRoaW5SYW5nZShrZXksIHF1ZXJ5UmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZFBLcy5hZGRLZXkocGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZWRWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhZGQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0tleXNfMSA9IG5ldyBSYW5nZVNldCgpLmFkZEtleXMocmVxLnZhbHVlcyA/IHJlc3VsdC5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGV4dHJhY3RQcmltS2V5KHYpOyB9KSA6IHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmZWRSZXN1bHQgPSByZXN1bHQuY29uY2F0KHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5jbHVkZWRWYWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RQcmltS2V5KHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0tleXNfMS5oYXNLZXkoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nS2V5c18xLmFkZEtleShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jbHVkZWRWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5c18xLmhhc0tleShrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nS2V5c18xLmFkZEtleShrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3B1dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVNldF8xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhvcC52YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIWtleVNldF8xLmhhc0tleShyZXEudmFsdWVzID8gZXh0cmFjdFByaW1LZXkoaXRlbSkgOiBpdGVtKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5jbHVkZWRWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jbHVkZWRWYWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXNUb0RlbGV0ZV8xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhvcC5rZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAha2V5c1RvRGVsZXRlXzEuaGFzS2V5KHJlcS52YWx1ZXMgPyBleHRyYWN0UHJpbUtleShpdGVtKSA6IGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlUmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VfMSA9IG9wLnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIWlzV2l0aGluUmFuZ2UoZXh0cmFjdFByaW1LZXkoaXRlbSksIHJhbmdlXzEpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kaWZlZFJlc3VsdDtcbiAgICAgICAgfSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKGZpbmFsUmVzdWx0ID09PSByZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBmaW5hbFJlc3VsdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY21wKGV4dHJhY3RMb3dMZXZlbEluZGV4KGEpLCBleHRyYWN0TG93TGV2ZWxJbmRleChiKSkgfHxcbiAgICAgICAgICAgICAgICBjbXAoZXh0cmFjdFByaW1LZXkoYSksIGV4dHJhY3RQcmltS2V5KGIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXEubGltaXQgJiYgcmVxLmxpbWl0IDwgSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGlmIChmaW5hbFJlc3VsdC5sZW5ndGggPiByZXEubGltaXQpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFJlc3VsdC5sZW5ndGggPSByZXEubGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQubGVuZ3RoID09PSByZXEubGltaXQgJiYgZmluYWxSZXN1bHQubGVuZ3RoIDwgcmVxLmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltbXV0YWJsZSA/IE9iamVjdC5mcmVlemUoZmluYWxSZXN1bHQpIDogZmluYWxSZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJlUmFuZ2VzRXF1YWwocjEsIHIyKSB7XG4gICAgICAgIHJldHVybiAoY21wKHIxLmxvd2VyLCByMi5sb3dlcikgPT09IDAgJiZcbiAgICAgICAgICAgIGNtcChyMS51cHBlciwgcjIudXBwZXIpID09PSAwICYmXG4gICAgICAgICAgICAhIXIxLmxvd2VyT3BlbiA9PT0gISFyMi5sb3dlck9wZW4gJiZcbiAgICAgICAgICAgICEhcjEudXBwZXJPcGVuID09PSAhIXIyLnVwcGVyT3Blbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGFyZUxvd2Vycyhsb3dlcjEsIGxvd2VyMiwgbG93ZXJPcGVuMSwgbG93ZXJPcGVuMikge1xuICAgICAgICBpZiAobG93ZXIxID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbG93ZXIyICE9PSB1bmRlZmluZWQgPyAtMSA6IDA7XG4gICAgICAgIGlmIChsb3dlcjIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB2YXIgYyA9IGNtcChsb3dlcjEsIGxvd2VyMik7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMSAmJiBsb3dlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKGxvd2VyT3BlbjEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVVcHBlcnModXBwZXIxLCB1cHBlcjIsIHVwcGVyT3BlbjEsIHVwcGVyT3BlbjIpIHtcbiAgICAgICAgaWYgKHVwcGVyMSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHVwcGVyMiAhPT0gdW5kZWZpbmVkID8gMSA6IDA7XG4gICAgICAgIGlmICh1cHBlcjIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgdmFyIGMgPSBjbXAodXBwZXIxLCB1cHBlcjIpO1xuICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHVwcGVyT3BlbjEgJiYgdXBwZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4xKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N1cGVyUmFuZ2UocjEsIHIyKSB7XG4gICAgICAgIHJldHVybiAoY29tcGFyZUxvd2VycyhyMS5sb3dlciwgcjIubG93ZXIsIHIxLmxvd2VyT3BlbiwgcjIubG93ZXJPcGVuKSA8PSAwICYmXG4gICAgICAgICAgICBjb21wYXJlVXBwZXJzKHIxLnVwcGVyLCByMi51cHBlciwgcjEudXBwZXJPcGVuLCByMi51cHBlck9wZW4pID49IDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRDb21wYXRpYmxlUXVlcnkoZGJOYW1lLCB0YWJsZU5hbWUsIHR5cGUsIHJlcSkge1xuICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgIGlmICghdGJsQ2FjaGUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHZhciBxdWVyaWVzID0gdGJsQ2FjaGUucXVlcmllc1t0eXBlXTtcbiAgICAgICAgaWYgKCFxdWVyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBmYWxzZSwgdGJsQ2FjaGUsIG51bGxdO1xuICAgICAgICB2YXIgaW5kZXhOYW1lID0gcmVxLnF1ZXJ5ID8gcmVxLnF1ZXJ5LmluZGV4Lm5hbWUgOiBudWxsO1xuICAgICAgICB2YXIgZW50cmllcyA9IHF1ZXJpZXNbaW5kZXhOYW1lIHx8ICcnXTtcbiAgICAgICAgaWYgKCFlbnRyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBmYWxzZSwgdGJsQ2FjaGUsIG51bGxdO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3F1ZXJ5JzpcbiAgICAgICAgICAgICAgICB2YXIgZXF1YWxFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnJlcS5saW1pdCA9PT0gcmVxLmxpbWl0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5yZXEudmFsdWVzID09PSByZXEudmFsdWVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVSYW5nZXNFcXVhbChlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVxdWFsRW50cnkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVhbEVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcyxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBlbnRyeS5yZXEgPyBlbnRyeS5yZXEubGltaXQgOiBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsaW1pdCA+PSByZXEubGltaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXEudmFsdWVzID8gZW50cnkucmVxLnZhbHVlcyA6IHRydWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1cGVyUmFuZ2UoZW50cnkucmVxLnF1ZXJ5LnJhbmdlLCByZXEucXVlcnkucmFuZ2UpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3N1cGVyRW50cnksIGZhbHNlLCB0YmxDYWNoZSwgZW50cmllc107XG4gICAgICAgICAgICBjYXNlICdjb3VudCc6XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50UXVlcnkgPSBlbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmVSYW5nZXNFcXVhbChlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjb3VudFF1ZXJ5LCAhIWNvdW50UXVlcnksIHRibENhY2hlLCBlbnRyaWVzXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCBjb250YWluZXIsIHJlcXVlcnksIHNpZ25hbCkge1xuICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLmFkZChyZXF1ZXJ5KTtcbiAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLmRlbGV0ZShyZXF1ZXJ5KTtcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbnF1ZUZvckRlbGV0aW9uKGNhY2hlRW50cnksIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZUZvckRlbGV0aW9uKGNhY2hlRW50cnksIGNvbnRhaW5lcikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oY29udGFpbmVyLCBjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6ICdkYmNvcmUnLFxuICAgICAgICBsZXZlbDogMCxcbiAgICAgICAgbmFtZTogJ0NhY2hlJyxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgdmFyIGRiTmFtZSA9IGNvcmUuc2NoZW1hLm5hbWU7XG4gICAgICAgICAgICB2YXIgY29yZU1XID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvcmUpLCB7IHRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoc3RvcmVzLCBtb2RlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZGJ0cmFucyA9IGNvcmUudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNfMSA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWduYWwgPSBhY18xLnNpZ25hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICh3YXNDb21taXR0ZWQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY18xLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZmZlY3RlZFN1YnNjcmliZXJzXzEgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgc3RvcmVzXzEgPSBzdG9yZXM7IF9pIDwgc3RvcmVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gc3RvcmVzXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHN0b3JlTmFtZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRibENhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gY29yZS50YWJsZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHMgPSB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLnRyYW5zID09PSBpZGJ0cmFuczsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkYnRyYW5zLl9leHBsaWNpdCAmJiB3YXNDb21taXR0ZWQgJiYgaWRidHJhbnMubXV0YXRlZFBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBPYmplY3QudmFsdWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJpZXMgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIF9kID0gZW50cmllcy5zbGljZSgpOyBfYyA8IF9kLmxlbmd0aDsgX2MrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IF9kW19jXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JzU2V0c092ZXJsYXAoZW50cnkub2JzU2V0LCBpZGJ0cmFucy5tdXRhdGVkUGFydHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIGFmZmVjdGVkU3Vic2NyaWJlcnNfMS5hZGQocmVxdWVyeSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzID0gdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC50cmFucyAhPT0gaWRidHJhbnM7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IDAsIF9mID0gT2JqZWN0LnZhbHVlcyh0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5KTsgX2UgPCBfZi5sZW5ndGg7IF9lKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyaWVzID0gX2ZbX2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2cgPSAwLCBfaCA9IGVudHJpZXMuc2xpY2UoKTsgX2cgPCBfaC5sZW5ndGg7IF9nKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBfaFtfZ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnJlcyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLm11dGF0ZWRQYXJ0c1xuICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2FzQ29tbWl0dGVkICYmICFlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWV6ZVJlc3VsdHMgPSBPYmplY3QuaXNGcm96ZW4oZW50cnkucmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RSZXMgPSBhcHBseU9wdGltaXN0aWNPcHMoZW50cnkucmVzLCBlbnRyeS5yZXEsIG9wcywgdGFibGUsIGVudHJ5LCBmcmVlemVSZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gYWZmZWN0ZWRTdWJzY3JpYmVyc18xLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RSZXMgIT09IGVudHJ5LnJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnJlcyA9IG1vZFJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5wcm9taXNlID0gRGV4aWVQcm9taXNlLnJlc29sdmUoeyByZXN1bHQ6IG1vZFJlcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiBhZmZlY3RlZFN1YnNjcmliZXJzXzEuYWRkKHJlcXVlcnkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFN1YnNjcmliZXJzXzEuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gcmVxdWVyeSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9OyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlbmRUcmFuc2FjdGlvbihmYWxzZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlbmRUcmFuc2FjdGlvbihmYWxzZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBlbmRUcmFuc2FjdGlvbih0cnVlKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkYnRyYW5zO1xuICAgICAgICAgICAgICAgIH0sIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb3duVGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gZG93blRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVNVyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duVGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpbUtleS5vdXRib3VuZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5kYi5fb3B0aW9ucy5jYWNoZSA9PT0gJ2Rpc2FibGVkJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5leHBsaWNpdCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucy5tb2RlICE9PSAncmVhZHdyaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YmxDYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcpICYmIChyZXEudmFsdWVzLmxlbmd0aCA+PSA1MCB8fCBnZXRFZmZlY3RpdmVLZXlzKHByaW1LZXksIHJlcSkuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkgPT0gbnVsbDsgfSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxV2l0aFJlc29sdmVkS2V5cyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXEpLCB7IHZhbHVlczogcmVxLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5mYWlsdXJlc1tpXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlV2l0aEtleSA9ICgoX2EgPSBwcmltS2V5LmtleVBhdGgpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygnLicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkZWVwQ2xvbmUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF9fYXNzaWduKHt9LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aCh2YWx1ZVdpdGhLZXksIHByaW1LZXkua2V5UGF0aCwgcmVzLnJlc3VsdHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVXaXRoS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkUmVxID0gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxV2l0aFJlc29sdmVkS2V5cywgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLm9wdGltaXN0aWNPcHMucHVzaChhZGp1c3RlZFJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7IHJldHVybiByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2gocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm11dGF0ZWRQYXJ0cyAmJiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShyZXEubXV0YXRlZFBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKHRibENhY2hlLm9wdGltaXN0aWNPcHMsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkUmVxID0gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGp1c3RlZFJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2goYWRqdXN0ZWRSZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0odGJsQ2FjaGUub3B0aW1pc3RpY09wcywgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5tdXRhdGVkUGFydHMgJiYgc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocmVxLm11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHF1ZXJ5OiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDYWNoYWJsZUNvbnRleHQoUFNELCBkb3duVGFibGUpIHx8ICFpc0NhY2hhYmxlUmVxdWVzdChcInF1ZXJ5XCIsIHJlcSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUucXVlcnkocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJlZXplUmVzdWx0cyA9ICgoX2EgPSBQU0QudHJhbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYi5fb3B0aW9ucy5jYWNoZSkgPT09ICdpbW11dGFibGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiA9IFBTRCwgcmVxdWVyeSA9IF9iLnJlcXVlcnksIHNpZ25hbCA9IF9iLnNpZ25hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2MgPSBmaW5kQ29tcGF0aWJsZVF1ZXJ5KGRiTmFtZSwgdGFibGVOYW1lLCAncXVlcnknLCByZXEpLCBjYWNoZUVudHJ5ID0gX2NbMF0sIGV4YWN0TWF0Y2ggPSBfY1sxXSwgdGJsQ2FjaGUgPSBfY1syXSwgY29udGFpbmVyID0gX2NbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkgJiYgZXhhY3RNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5Lm9ic1NldCA9IHJlcS5vYnNTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGRvd25UYWJsZS5xdWVyeShyZXEpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlcy5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVFbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5LnJlcyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVlemVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocmVzdWx0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlc3VsdCA9IGRlZXBDbG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyICYmIGNhY2hlRW50cnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGNvbnRhaW5lciwgY2FjaGVFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic1NldDogcmVxLm9ic1NldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcTogcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlydHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucHVzaChjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IFtjYWNoZUVudHJ5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGJsQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpzOiBuZXcgTWFwKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGltaXN0aWNPcHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25hbGVkUGFydHM6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLnF1ZXJpZXMucXVlcnlbcmVxLnF1ZXJ5LmluZGV4Lm5hbWUgfHwgJyddID0gY29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZVRvQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCBjb250YWluZXIsIHJlcXVlcnksIHNpZ25hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnkucHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXBwbHlPcHRpbWlzdGljT3BzKHJlcy5yZXN1bHQsIHJlcSwgdGJsQ2FjaGUgPT09IG51bGwgfHwgdGJsQ2FjaGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRibENhY2hlLm9wdGltaXN0aWNPcHMsIGRvd25UYWJsZSwgY2FjaGVFbnRyeSwgZnJlZXplUmVzdWx0cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVNVztcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvcmVNVztcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdmlwaWZ5KHRhcmdldCwgdmlwRGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0YXJnZXQsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RiJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcERiO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIERleGllJDEgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gRGV4aWUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX21pZGRsZXdhcmVzID0ge307XG4gICAgICAgICAgICB0aGlzLnZlcm5vID0gMDtcbiAgICAgICAgICAgIHZhciBkZXBzID0gRGV4aWUuZGVwZW5kZW5jaWVzO1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgPSBfX2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWRkb25zOiBEZXhpZS5hZGRvbnMsIGF1dG9PcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogZGVwcy5pbmRleGVkREIsIElEQktleVJhbmdlOiBkZXBzLklEQktleVJhbmdlLCBjYWNoZTogJ2Nsb25lZCcgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9kZXBzID0ge1xuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogb3B0aW9ucy5pbmRleGVkREIsXG4gICAgICAgICAgICAgICAgSURCS2V5UmFuZ2U6IG9wdGlvbnMuSURCS2V5UmFuZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgYWRkb25zID0gb3B0aW9ucy5hZGRvbnM7XG4gICAgICAgICAgICB0aGlzLl9kYlNjaGVtYSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fdmVyc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlTmFtZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2FsbFRhYmxlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5pZGJkYiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ub3ZpcCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgZGJPcGVuRXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgaXNCZWluZ09wZW5lZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25SZWFkeUJlaW5nRmlyZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgb3BlbkNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYlJlYWR5UmVzb2x2ZTogbm9wLFxuICAgICAgICAgICAgICAgIGRiUmVhZHlQcm9taXNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGNhbmNlbE9wZW46IG5vcCxcbiAgICAgICAgICAgICAgICBvcGVuQ2FuY2VsbGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGF1dG9TY2hlbWE6IHRydWUsXG4gICAgICAgICAgICAgICAgUFIxMzk4X21heExvb3A6IDMsXG4gICAgICAgICAgICAgICAgYXV0b09wZW46IG9wdGlvbnMuYXV0b09wZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVByb21pc2UgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuQ2FuY2VsbGVyID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY2FuY2VsT3BlbiA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLm9uID0gRXZlbnRzKHRoaXMsIFwicG9wdWxhdGVcIiwgXCJibG9ja2VkXCIsIFwidmVyc2lvbmNoYW5nZVwiLCBcImNsb3NlXCIsIHsgcmVhZHk6IFtwcm9taXNhYmxlQ2hhaW4sIG5vcF0gfSk7XG4gICAgICAgICAgICB0aGlzLm9uLnJlYWR5LnN1YnNjcmliZSA9IG92ZXJyaWRlKHRoaXMub24ucmVhZHkuc3Vic2NyaWJlLCBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBiU3RpY2t5KSB7XG4gICAgICAgICAgICAgICAgICAgIERleGllLnZpcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBfdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUub3BlbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5kYk9wZW5FcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUoKS50aGVuKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiU3RpY2t5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJTdGlja3kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGJfMSA9IF90aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYlN0aWNreSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJfMS5vbi5yZWFkeS51bnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiXzEub24ucmVhZHkudW5zdWJzY3JpYmUodW5zdWJzY3JpYmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5Db2xsZWN0aW9uID0gY3JlYXRlQ29sbGVjdGlvbkNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5UYWJsZSA9IGNyZWF0ZVRhYmxlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLlRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb25Db25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuVmVyc2lvbiA9IGNyZWF0ZVZlcnNpb25Db25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuV2hlcmVDbGF1c2UgPSBjcmVhdGVXaGVyZUNsYXVzZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcInZlcnNpb25jaGFuZ2VcIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2Lm5ld1ZlcnNpb24gPiAwKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbm90aGVyIGNvbm5lY3Rpb24gd2FudHMgdG8gdXBncmFkZSBkYXRhYmFzZSAnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJy4gQ2xvc2luZyBkYiBub3cgdG8gcmVzdW1lIHRoZSB1cGdyYWRlLlwiKSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbm90aGVyIGNvbm5lY3Rpb24gd2FudHMgdG8gZGVsZXRlIGRhdGFiYXNlICdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInLiBDbG9zaW5nIGRiIG5vdyB0byByZXN1bWUgdGhlIGRlbGV0ZSByZXF1ZXN0LlwiKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uKFwiYmxvY2tlZFwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2Lm5ld1ZlcnNpb24gfHwgZXYubmV3VmVyc2lvbiA8IGV2Lm9sZFZlcnNpb24pXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkRleGllLmRlbGV0ZSgnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJykgd2FzIGJsb2NrZWRcIikpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVXBncmFkZSAnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJyBibG9ja2VkIGJ5IG90aGVyIGNvbm5lY3Rpb24gaG9sZGluZyB2ZXJzaW9uIFwiKS5jb25jYXQoZXYub2xkVmVyc2lvbiAvIDEwKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX21heEtleSA9IGdldE1heEtleShvcHRpb25zLklEQktleVJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBwYXJlbnRUcmFuc2FjdGlvbikgeyByZXR1cm4gbmV3IF90aGlzLlRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBfdGhpcy5fb3B0aW9ucy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHksIHBhcmVudFRyYW5zYWN0aW9uKTsgfTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVPbkJsb2NrZWQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbihcImJsb2NrZWRcIikuZmlyZShldik7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5uYW1lID09PSBfdGhpcy5uYW1lICYmIGMgIT09IF90aGlzICYmICFjLl9zdGF0ZS52Y0ZpcmVkOyB9KVxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm9uKFwidmVyc2lvbmNoYW5nZVwiKS5maXJlKGV2KTsgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51c2UoY2FjaGVFeGlzdGluZ1ZhbHVlc01pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2UoY2FjaGVNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHRoaXMudXNlKG9ic2VydmFiaWxpdHlNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHRoaXMudXNlKHZpcnR1YWxJbmRleE1pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2UoaG9va3NNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHZhciB2aXBEQiA9IG5ldyBQcm94eSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoXywgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdfdmlwJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3RhYmxlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFibGVOYW1lKSB7IHJldHVybiB2aXBpZnkoX3RoaXMudGFibGUodGFibGVOYW1lKSwgdmlwREIpOyB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBSZWZsZWN0LmdldChfLCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydiBpbnN0YW5jZW9mIFRhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcGlmeShydiwgdmlwREIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3RhYmxlcycpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnYubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB2aXBpZnkodCwgdmlwREIpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdfY3JlYXRlVHJhbnNhY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHggPSBydi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXBpZnkodHgsIHZpcERCKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudmlwID0gdmlwREI7XG4gICAgICAgICAgICBhZGRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWRkb24pIHsgcmV0dXJuIGFkZG9uKF90aGlzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk51bWJlcikge1xuICAgICAgICAgICAgaWYgKGlzTmFOKHZlcnNpb25OdW1iZXIpIHx8IHZlcnNpb25OdW1iZXIgPCAwLjEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVHlwZShcIkdpdmVuIHZlcnNpb24gaXMgbm90IGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgICAgICAgICAgdmVyc2lvbk51bWJlciA9IE1hdGgucm91bmQodmVyc2lvbk51bWJlciAqIDEwKSAvIDEwO1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRiZGIgfHwgdGhpcy5fc3RhdGUuaXNCZWluZ09wZW5lZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJDYW5ub3QgYWRkIHZlcnNpb24gd2hlbiBkYXRhYmFzZSBpcyBvcGVuXCIpO1xuICAgICAgICAgICAgdGhpcy52ZXJubyA9IE1hdGgubWF4KHRoaXMudmVybm8sIHZlcnNpb25OdW1iZXIpO1xuICAgICAgICAgICAgdmFyIHZlcnNpb25zID0gdGhpcy5fdmVyc2lvbnM7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbkluc3RhbmNlID0gdmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Ll9jZmcudmVyc2lvbiA9PT0gdmVyc2lvbk51bWJlcjsgfSlbMF07XG4gICAgICAgICAgICBpZiAodmVyc2lvbkluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uSW5zdGFuY2U7XG4gICAgICAgICAgICB2ZXJzaW9uSW5zdGFuY2UgPSBuZXcgdGhpcy5WZXJzaW9uKHZlcnNpb25OdW1iZXIpO1xuICAgICAgICAgICAgdmVyc2lvbnMucHVzaCh2ZXJzaW9uSW5zdGFuY2UpO1xuICAgICAgICAgICAgdmVyc2lvbnMuc29ydChsb3dlclZlcnNpb25GaXJzdCk7XG4gICAgICAgICAgICB2ZXJzaW9uSW5zdGFuY2Uuc3RvcmVzKHt9KTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmF1dG9TY2hlbWEgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uSW5zdGFuY2U7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5fd2hlblJlYWR5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmlkYmRiICYmICh0aGlzLl9zdGF0ZS5vcGVuQ29tcGxldGUgfHwgUFNELmxldFRocm91Z2ggfHwgdGhpcy5fdmlwKSkgPyBmbigpIDogbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdGF0ZS5vcGVuQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZChfdGhpcy5fc3RhdGUuZGJPcGVuRXJyb3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9zdGF0ZS5hdXRvT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wZW4oKS5jYXRjaChub3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSkudGhlbihmbik7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IF9hLnN0YWNrLCBjcmVhdGUgPSBfYS5jcmVhdGUsIGxldmVsID0gX2EubGV2ZWwsIG5hbWUgPSBfYS5uYW1lO1xuICAgICAgICAgICAgaWYgKG5hbWUpXG4gICAgICAgICAgICAgICAgdGhpcy51bnVzZSh7IHN0YWNrOiBzdGFjaywgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgICAgIHZhciBtaWRkbGV3YXJlcyA9IHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSB8fCAodGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdID0gW10pO1xuICAgICAgICAgICAgbWlkZGxld2FyZXMucHVzaCh7IHN0YWNrOiBzdGFjaywgY3JlYXRlOiBjcmVhdGUsIGxldmVsOiBsZXZlbCA9PSBudWxsID8gMTAgOiBsZXZlbCwgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgICAgIG1pZGRsZXdhcmVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEubGV2ZWwgLSBiLmxldmVsOyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudW51c2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IF9hLnN0YWNrLCBuYW1lID0gX2EubmFtZSwgY3JlYXRlID0gX2EuY3JlYXRlO1xuICAgICAgICAgICAgaWYgKHN0YWNrICYmIHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSA9IHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXS5maWx0ZXIoZnVuY3Rpb24gKG13KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGUgPyBtdy5jcmVhdGUgIT09IGNyZWF0ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID8gbXcubmFtZSAhPT0gbmFtZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHVzZVBTRChnbG9iYWxQU0QsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXhpZU9wZW4oX3RoaXMpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLl9jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICAgICAgdmFyIGlkeCA9IGNvbm5lY3Rpb25zLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICBpZiAoaWR4ID49IDApXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pZGJkYikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRiZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgIHRoaXMuaWRiZGIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVByb21pc2UgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuQ2FuY2VsbGVyID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmNhbmNlbE9wZW4gPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHsgZGlzYWJsZUF1dG9PcGVuOiB0cnVlIH0gOiBfYSwgZGlzYWJsZUF1dG9PcGVuID0gX2IuZGlzYWJsZUF1dG9PcGVuO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZUF1dG9PcGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY2FuY2VsT3BlbihuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hdXRvT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiT3BlbkVycm9yID0gbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXV0b09wZW4gPSB0aGlzLl9vcHRpb25zLmF1dG9PcGVuIHx8XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzQmVpbmdPcGVuZWQ7XG4gICAgICAgICAgICAgICAgc3RhdGUub3BlbkNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJPcGVuRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGNsb3NlT3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChjbG9zZU9wdGlvbnMgPT09IHZvaWQgMCkgeyBjbG9zZU9wdGlvbnMgPSB7IGRpc2FibGVBdXRvT3BlbjogdHJ1ZSB9OyB9XG4gICAgICAgICAgICB2YXIgaGFzSW52YWxpZEFyZ3VtZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdvYmplY3QnO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvRGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZShjbG9zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gX3RoaXMuX2RlcHMuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKF90aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb25EYXRhYmFzZURlbGV0ZWQoX3RoaXMuX2RlcHMsIF90aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uYmxvY2tlZCA9IF90aGlzLl9maXJlT25CbG9ja2VkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGhhc0ludmFsaWRBcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgY2xvc2VPcHRpb25zIGFyZ3VtZW50IHRvIGRiLmRlbGV0ZSgpXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlQcm9taXNlLnRoZW4oZG9EZWxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9EZWxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmJhY2tlbmREQiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkYmRiO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRiZGIgIT09IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5oYXNCZWVuQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiT3BlbkVycm9yID0gdGhpcy5fc3RhdGUuZGJPcGVuRXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gZGJPcGVuRXJyb3IgJiYgKGRiT3BlbkVycm9yLm5hbWUgPT09ICdEYXRhYmFzZUNsb3NlZCcpO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuaGFzRmFpbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmRiT3BlbkVycm9yICE9PSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuZHluYW1pY2FsbHlPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuYXV0b1NjaGVtYTtcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERleGllLnByb3RvdHlwZSwgXCJ0YWJsZXNcIiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5cyh0aGlzLl9hbGxUYWJsZXMpLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuX2FsbFRhYmxlc1tuYW1lXTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIERleGllLnByb3RvdHlwZS50cmFuc2FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gZXh0cmFjdFRyYW5zYWN0aW9uQXJncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuX3RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKG1vZGUsIHRhYmxlcywgc2NvcGVGdW5jKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHBhcmVudFRyYW5zYWN0aW9uID0gUFNELnRyYW5zO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnRUcmFuc2FjdGlvbiB8fCBwYXJlbnRUcmFuc2FjdGlvbi5kYiAhPT0gdGhpcyB8fCBtb2RlLmluZGV4T2YoJyEnKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgdmFyIG9ubHlJZkNvbXBhdGlibGUgPSBtb2RlLmluZGV4T2YoJz8nKSAhPT0gLTE7XG4gICAgICAgICAgICBtb2RlID0gbW9kZS5yZXBsYWNlKCchJywgJycpLnJlcGxhY2UoJz8nLCAnJyk7XG4gICAgICAgICAgICB2YXIgaWRiTW9kZSwgc3RvcmVOYW1lcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RvcmVOYW1lcyA9IHRhYmxlcy5tYXAoZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSB0YWJsZSBpbnN0YW5jZW9mIF90aGlzLlRhYmxlID8gdGFibGUubmFtZSA6IHRhYmxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlTmFtZSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0YWJsZSBhcmd1bWVudCB0byBEZXhpZS50cmFuc2FjdGlvbigpLiBPbmx5IFRhYmxlIG9yIFN0cmluZyBhcmUgYWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlTmFtZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PSBcInJcIiB8fCBtb2RlID09PSBSRUFET05MWSlcbiAgICAgICAgICAgICAgICAgICAgaWRiTW9kZSA9IFJFQURPTkxZO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gXCJyd1wiIHx8IG1vZGUgPT0gUkVBRFdSSVRFKVxuICAgICAgICAgICAgICAgICAgICBpZGJNb2RlID0gUkVBRFdSSVRFO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiSW52YWxpZCB0cmFuc2FjdGlvbiBtb2RlOiBcIiArIG1vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24ubW9kZSA9PT0gUkVBRE9OTFkgJiYgaWRiTW9kZSA9PT0gUkVBRFdSSVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob25seUlmQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TdWJUcmFuc2FjdGlvbihcIkNhbm5vdCBlbnRlciBhIHN1Yi10cmFuc2FjdGlvbiB3aXRoIFJFQURXUklURSBtb2RlIHdoZW4gcGFyZW50IHRyYW5zYWN0aW9uIGlzIFJFQURPTkxZXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24gJiYgcGFyZW50VHJhbnNhY3Rpb24uc3RvcmVOYW1lcy5pbmRleE9mKHN0b3JlTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU3ViVHJhbnNhY3Rpb24oXCJUYWJsZSBcIiArIHN0b3JlTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgbm90IGluY2x1ZGVkIGluIHBhcmVudCB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ubHlJZkNvbXBhdGlibGUgJiYgcGFyZW50VHJhbnNhY3Rpb24gJiYgIXBhcmVudFRyYW5zYWN0aW9uLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50VHJhbnNhY3Rpb24gP1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbi5fcHJvbWlzZShudWxsLCBmdW5jdGlvbiAoXywgcmVqZWN0KSB7IHJlamVjdChlKTsgfSkgOlxuICAgICAgICAgICAgICAgICAgICByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZW50ZXJUcmFuc2FjdGlvbiA9IGVudGVyVHJhbnNhY3Rpb25TY29wZS5iaW5kKG51bGwsIHRoaXMsIGlkYk1vZGUsIHN0b3JlTmFtZXMsIHBhcmVudFRyYW5zYWN0aW9uLCBzY29wZUZ1bmMpO1xuICAgICAgICAgICAgcmV0dXJuIChwYXJlbnRUcmFuc2FjdGlvbiA/XG4gICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24uX3Byb21pc2UoaWRiTW9kZSwgZW50ZXJUcmFuc2FjdGlvbiwgXCJsb2NrXCIpIDpcbiAgICAgICAgICAgICAgICBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgICAgICB1c2VQU0QoUFNELnRyYW5zbGVzcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3doZW5SZWFkeShlbnRlclRyYW5zYWN0aW9uKTsgfSkgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93aGVuUmVhZHkoZW50ZXJUcmFuc2FjdGlvbikpO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWhhc093bih0aGlzLl9hbGxUYWJsZXMsIHRhYmxlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkVGFibGUoXCJUYWJsZSBcIi5jb25jYXQodGFibGVOYW1lLCBcIiBkb2VzIG5vdCBleGlzdFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsVGFibGVzW3RhYmxlTmFtZV07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBEZXhpZTtcbiAgICB9KCkpO1xuXG4gICAgdmFyIHN5bWJvbE9ic2VydmFibGUgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFwib2JzZXJ2YWJsZVwiIGluIFN5bWJvbFxuICAgICAgICA/IFN5bWJvbC5vYnNlcnZhYmxlXG4gICAgICAgIDogXCJAQG9ic2VydmFibGVcIjtcbiAgICB2YXIgT2JzZXJ2YWJsZSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICh4LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoIXggfHwgdHlwZW9mIHggPT09IFwiZnVuY3Rpb25cIiA/IHsgbmV4dDogeCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfSA6IHgpO1xuICAgICAgICB9O1xuICAgICAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtzeW1ib2xPYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbiAgICB9KCkpO1xuXG4gICAgdmFyIGRvbURlcHM7XG4gICAgdHJ5IHtcbiAgICAgICAgZG9tRGVwcyA9IHtcbiAgICAgICAgICAgIGluZGV4ZWREQjogX2dsb2JhbC5pbmRleGVkREIgfHwgX2dsb2JhbC5tb3pJbmRleGVkREIgfHwgX2dsb2JhbC53ZWJraXRJbmRleGVkREIgfHwgX2dsb2JhbC5tc0luZGV4ZWREQixcbiAgICAgICAgICAgIElEQktleVJhbmdlOiBfZ2xvYmFsLklEQktleVJhbmdlIHx8IF9nbG9iYWwud2Via2l0SURCS2V5UmFuZ2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZG9tRGVwcyA9IHsgaW5kZXhlZERCOiBudWxsLCBJREJLZXlSYW5nZTogbnVsbCB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpdmVRdWVyeShxdWVyaWVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlO1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHNjb3BlRnVuY0lzQXN5bmMgPSBpc0FzeW5jRnVuY3Rpb24ocXVlcmllcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBleGVjdXRlKGN0eCkge1xuICAgICAgICAgICAgICAgIHZhciB3YXNSb290RXhlYyA9IGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBuZXdTY29wZShxdWVyaWVyLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnYgPSBydi5maW5hbGx5KGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB3YXNSb290RXhlYyAmJiBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhYm9ydENvbnRyb2xsZXI7XG4gICAgICAgICAgICB2YXIgYWNjdW1NdXRzID0ge307XG4gICAgICAgICAgICB2YXIgY3VycmVudE9icyA9IHt9O1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VkO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRlZExpc3RlbmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC51bnN1YnNjcmliZShtdXRhdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9ic2VydmVyLnN0YXJ0ICYmIG9ic2VydmVyLnN0YXJ0KHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB2YXIgc3RhcnRlZExpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGRvUXVlcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBleGVjSW5HbG9iYWxDb250ZXh0KF9kb1F1ZXJ5KTsgfTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3VsZE5vdGlmeSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzU2V0c092ZXJsYXAoY3VycmVudE9icywgYWNjdW1NdXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtdXRhdGlvbkxpc3RlbmVyID0gZnVuY3Rpb24gKHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldChhY2N1bU11dHMsIHBhcnRzKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkTm90aWZ5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9RdWVyeSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgX2RvUXVlcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlZCB8fFxuICAgICAgICAgICAgICAgICAgICAhZG9tRGVwcy5pbmRleGVkREIpXG4gICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhY2N1bU11dHMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgc3Vic2NyID0ge307XG4gICAgICAgICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcilcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcjogc3Vic2NyLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlcnk6IGRvUXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXI6IHF1ZXJpZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gZXhlY3V0ZShjdHgpO1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShyZXQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZCB8fCBjdHguc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY2N1bU11dHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9icyA9IHN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmplY3RJc0VtcHR5KGN1cnJlbnRPYnMpICYmICFzdGFydGVkTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUsIG11dGF0aW9uTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRlZExpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhlY0luR2xvYmFsQ29udGV4dChmdW5jdGlvbiAoKSB7IHJldHVybiAhY2xvc2VkICYmIG9ic2VydmVyLm5leHQgJiYgb2JzZXJ2ZXIubmV4dChyZXN1bHQpOyB9KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghWydEYXRhYmFzZUNsb3NlZEVycm9yJywgJ0Fib3J0RXJyb3InXS5pbmNsdWRlcyhlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xvc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNJbkdsb2JhbENvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvciAmJiBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0VGltZW91dChkb1F1ZXJ5LCAwKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZhYmxlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaGFzVmFsdWU7IH07XG4gICAgICAgIG9ic2VydmFibGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJyZW50VmFsdWU7IH07XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH1cblxuICAgIHZhciBEZXhpZSA9IERleGllJDE7XG4gICAgcHJvcHMoRGV4aWUsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBmdWxsTmFtZUV4Y2VwdGlvbnMpLCB7XG4gICAgICAgIGRlbGV0ZTogZnVuY3Rpb24gKGRhdGFiYXNlTmFtZSkge1xuICAgICAgICAgICAgdmFyIGRiID0gbmV3IERleGllKGRhdGFiYXNlTmFtZSwgeyBhZGRvbnM6IFtdIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRiLmRlbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBleGlzdHM6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllKG5hbWUsIHsgYWRkb25zOiBbXSB9KS5vcGVuKCkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSkuY2F0Y2goJ05vU3VjaERhdGFiYXNlRXJyb3InLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldERhdGFiYXNlTmFtZXM6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGF0YWJhc2VOYW1lcyhEZXhpZS5kZXBlbmRlbmNpZXMpLnRoZW4oY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVDbGFzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gQ2xhc3MoY29udGVudCkge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBDbGFzcztcbiAgICAgICAgfSwgaWdub3JlVHJhbnNhY3Rpb246IGZ1bmN0aW9uIChzY29wZUZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgIHVzZVBTRChQU0QudHJhbnNsZXNzLCBzY29wZUZ1bmMpIDpcbiAgICAgICAgICAgICAgICBzY29wZUZ1bmMoKTtcbiAgICAgICAgfSwgdmlwOiB2aXAsIGFzeW5jOiBmdW5jdGlvbiAoZ2VuZXJhdG9yRm4pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gYXdhaXRJdGVyYXRvcihnZW5lcmF0b3JGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFydiB8fCB0eXBlb2YgcnYudGhlbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShydik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBzcGF3bjogZnVuY3Rpb24gKGdlbmVyYXRvckZuLCBhcmdzLCB0aGl6KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBydiA9IGF3YWl0SXRlcmF0b3IoZ2VuZXJhdG9yRm4uYXBwbHkodGhpeiwgYXJncyB8fCBbXSkpO1xuICAgICAgICAgICAgICAgIGlmICghcnYgfHwgdHlwZW9mIHJ2LnRoZW4gIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShydik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50VHJhbnNhY3Rpb246IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUFNELnRyYW5zIHx8IG51bGw7IH1cbiAgICAgICAgfSwgd2FpdEZvcjogZnVuY3Rpb24gKHByb21pc2VPckZ1bmN0aW9uLCBvcHRpb25hbFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gRGV4aWVQcm9taXNlLnJlc29sdmUodHlwZW9mIHByb21pc2VPckZ1bmN0aW9uID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICBEZXhpZS5pZ25vcmVUcmFuc2FjdGlvbihwcm9taXNlT3JGdW5jdGlvbikgOlxuICAgICAgICAgICAgICAgIHByb21pc2VPckZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgIC50aW1lb3V0KG9wdGlvbmFsVGltZW91dCB8fCA2MDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICBQU0QudHJhbnMud2FpdEZvcihwcm9taXNlKSA6XG4gICAgICAgICAgICAgICAgcHJvbWlzZTtcbiAgICAgICAgfSxcbiAgICAgICAgUHJvbWlzZTogRGV4aWVQcm9taXNlLFxuICAgICAgICBkZWJ1Zzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWJ1ZzsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0RGVidWcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXJpdmU6IGRlcml2ZSwgZXh0ZW5kOiBleHRlbmQsIHByb3BzOiBwcm9wcywgb3ZlcnJpZGU6IG92ZXJyaWRlLFxuICAgICAgICBFdmVudHM6IEV2ZW50cywgb246IGdsb2JhbEV2ZW50cywgbGl2ZVF1ZXJ5OiBsaXZlUXVlcnksIGV4dGVuZE9ic2VydmFiaWxpdHlTZXQ6IGV4dGVuZE9ic2VydmFiaWxpdHlTZXQsXG4gICAgICAgIGdldEJ5S2V5UGF0aDogZ2V0QnlLZXlQYXRoLCBzZXRCeUtleVBhdGg6IHNldEJ5S2V5UGF0aCwgZGVsQnlLZXlQYXRoOiBkZWxCeUtleVBhdGgsIHNoYWxsb3dDbG9uZTogc2hhbGxvd0Nsb25lLCBkZWVwQ2xvbmU6IGRlZXBDbG9uZSwgZ2V0T2JqZWN0RGlmZjogZ2V0T2JqZWN0RGlmZiwgY21wOiBjbXAsIGFzYXA6IGFzYXAkMSxcbiAgICAgICAgbWluS2V5OiBtaW5LZXksXG4gICAgICAgIGFkZG9uczogW10sXG4gICAgICAgIGNvbm5lY3Rpb25zOiBjb25uZWN0aW9ucyxcbiAgICAgICAgZXJybmFtZXM6IGVycm5hbWVzLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IGRvbURlcHMsIGNhY2hlOiBjYWNoZSxcbiAgICAgICAgc2VtVmVyOiBERVhJRV9WRVJTSU9OLCB2ZXJzaW9uOiBERVhJRV9WRVJTSU9OLnNwbGl0KCcuJylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHBhcnNlSW50KG4pOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAocCwgYywgaSkgeyByZXR1cm4gcCArIChjIC8gTWF0aC5wb3coMTAsIGkgKiAyKSk7IH0pIH0pKTtcbiAgICBEZXhpZS5tYXhLZXkgPSBnZXRNYXhLZXkoRGV4aWUuZGVwZW5kZW5jaWVzLklEQktleVJhbmdlKTtcblxuICAgIGlmICh0eXBlb2YgZGlzcGF0Y2hFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbEV2ZW50cyhERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSwgZnVuY3Rpb24gKHVwZGF0ZWRQYXJ0cykge1xuICAgICAgICAgICAgaWYgKCFwcm9wYWdhdGluZ0xvY2FsbHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMTtcbiAgICAgICAgICAgICAgICBldmVudF8xID0gbmV3IEN1c3RvbUV2ZW50KFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSwge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHVwZGF0ZWRQYXJ0c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBkZXRhaWwgPSBfYS5kZXRhaWw7XG4gICAgICAgICAgICBpZiAoIXByb3BhZ2F0aW5nTG9jYWxseSkge1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUxvY2FsbHkoZGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZUxvY2FsbHkodXBkYXRlUGFydHMpIHtcbiAgICAgICAgdmFyIHdhc01lID0gcHJvcGFnYXRpbmdMb2NhbGx5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcHJvcGFnYXRpbmdMb2NhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC5maXJlKHVwZGF0ZVBhcnRzKTtcbiAgICAgICAgICAgIHNpZ25hbFN1YnNjcmliZXJzTm93KHVwZGF0ZVBhcnRzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IHdhc01lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBwcm9wYWdhdGluZ0xvY2FsbHkgPSBmYWxzZTtcblxuICAgIHZhciBiYztcbiAgICB2YXIgY3JlYXRlQkMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgaWYgKHR5cGVvZiBCcm9hZGNhc3RDaGFubmVsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjcmVhdGVCQyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJjID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FKTtcbiAgICAgICAgICAgIGJjLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldikgeyByZXR1cm4gZXYuZGF0YSAmJiBwcm9wYWdhdGVMb2NhbGx5KGV2LmRhdGEpOyB9O1xuICAgICAgICB9O1xuICAgICAgICBjcmVhdGVCQygpO1xuICAgICAgICBpZiAodHlwZW9mIGJjLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBiYy51bnJlZigpO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbEV2ZW50cyhERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSwgZnVuY3Rpb24gKGNoYW5nZWRQYXJ0cykge1xuICAgICAgICAgICAgaWYgKCFwcm9wYWdhdGluZ0xvY2FsbHkpIHtcbiAgICAgICAgICAgICAgICBiYy5wb3N0TWVzc2FnZShjaGFuZ2VkUGFydHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VoaWRlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIURleGllJDEuZGlzYWJsZUJmQ2FjaGUgJiYgZXZlbnQucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEZXhpZTogaGFuZGxpbmcgcGVyc2lzdGVkIHBhZ2VoaWRlJyk7XG4gICAgICAgICAgICAgICAgYmMgPT09IG51bGwgfHwgYmMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJjLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjb25uZWN0aW9uc18xID0gY29ubmVjdGlvbnM7IF9pIDwgY29ubmVjdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gY29ubmVjdGlvbnNfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlc2hvdycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFEZXhpZSQxLmRpc2FibGVCZkNhY2hlICYmIGV2ZW50LnBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRGV4aWU6IGhhbmRsaW5nIHBlcnNpc3RlZCBwYWdlc2hvdycpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZUJDKCk7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRlTG9jYWxseSh7IGFsbDogbmV3IFJhbmdlU2V0KC1JbmZpbml0eSwgW1tdXSkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BNb2RpZmljYXRpb24oeyBhZGQ6IHZhbHVlIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BNb2RpZmljYXRpb24oeyByZW1vdmU6IHZhbHVlIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VQcmVmaXgoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BNb2RpZmljYXRpb24oeyByZXBsYWNlUHJlZml4OiBbYSwgYl0gfSk7XG4gICAgfVxuXG4gICAgRGV4aWVQcm9taXNlLnJlamVjdGlvbk1hcHBlciA9IG1hcEVycm9yO1xuICAgIHNldERlYnVnKGRlYnVnKTtcblxuICAgIHZhciBuYW1lZEV4cG9ydHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICAgICAgRGV4aWU6IERleGllJDEsXG4gICAgICAgIGxpdmVRdWVyeTogbGl2ZVF1ZXJ5LFxuICAgICAgICBFbnRpdHk6IEVudGl0eSxcbiAgICAgICAgY21wOiBjbXAsXG4gICAgICAgIFByb3BNb2RpZmljYXRpb246IFByb3BNb2RpZmljYXRpb24sXG4gICAgICAgIHJlcGxhY2VQcmVmaXg6IHJlcGxhY2VQcmVmaXgsXG4gICAgICAgIGFkZDogYWRkLFxuICAgICAgICByZW1vdmU6IHJlbW92ZSxcbiAgICAgICAgJ2RlZmF1bHQnOiBEZXhpZSQxLFxuICAgICAgICBSYW5nZVNldDogUmFuZ2VTZXQsXG4gICAgICAgIG1lcmdlUmFuZ2VzOiBtZXJnZVJhbmdlcyxcbiAgICAgICAgcmFuZ2VzT3ZlcmxhcDogcmFuZ2VzT3ZlcmxhcFxuICAgIH0pO1xuXG4gICAgX19hc3NpZ24oRGV4aWUkMSwgbmFtZWRFeHBvcnRzLCB7IGRlZmF1bHQ6IERleGllJDEgfSk7XG5cbiAgICByZXR1cm4gRGV4aWUkMTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV4aWUuanMubWFwXG4iLCIvLyBNYWtpbmcgdGhlIG1vZHVsZSB2ZXJzaW9uIGNvbnN1bWFibGUgdmlhIHJlcXVpcmUgLSB0byBwcm9oaWJpdFxuLy8gbXVsdGlwbGUgb2NjdXJyYW5jaWVzIG9mIHRoZSBzYW1lIG1vZHVsZSBpbiB0aGUgc2FtZSBhcHBcbi8vIChkdWFsIHBhY2thZ2UgaGF6YXJkLCBodHRwczovL25vZGVqcy5vcmcvYXBpL3BhY2thZ2VzLmh0bWwjZHVhbC1wYWNrYWdlLWhhemFyZClcbmltcG9ydCBfRGV4aWUgZnJvbSBcIi4vZGlzdC9kZXhpZS5qc1wiO1xuY29uc3QgRGV4aWVTeW1ib2wgPSBTeW1ib2wuZm9yKFwiRGV4aWVcIik7XG5jb25zdCBEZXhpZSA9IGdsb2JhbFRoaXNbRGV4aWVTeW1ib2xdIHx8IChnbG9iYWxUaGlzW0RleGllU3ltYm9sXSA9IF9EZXhpZSk7XG5pZiAoX0RleGllLnNlbVZlciAhPT0gRGV4aWUuc2VtVmVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUd28gZGlmZmVyZW50IHZlcnNpb25zIG9mIERleGllIGxvYWRlZCBpbiB0aGUgc2FtZSBhcHA6ICR7X0RleGllLnNlbVZlcn0gYW5kICR7RGV4aWUuc2VtVmVyfWApO1xufVxuY29uc3QgeyBsaXZlUXVlcnksIG1lcmdlUmFuZ2VzLCByYW5nZXNPdmVybGFwLCBSYW5nZVNldCwgY21wLCBFbnRpdHksXG4gICAgUHJvcE1vZGlmaWNhdGlvbiwgcmVwbGFjZVByZWZpeCwgYWRkLCByZW1vdmUgfSA9IERleGllO1xuZXhwb3J0IHsgbGl2ZVF1ZXJ5LCBtZXJnZVJhbmdlcywgcmFuZ2VzT3ZlcmxhcCwgUmFuZ2VTZXQsIGNtcCwgRGV4aWUsIEVudGl0eSxcbiAgICBQcm9wTW9kaWZpY2F0aW9uLCByZXBsYWNlUHJlZml4LCBhZGQsIHJlbW92ZSB9O1xuZXhwb3J0IGRlZmF1bHQgRGV4aWU7XG4iLCJpbXBvcnQgZSBmcm9tXCJ2b2lkLWVsZW1lbnRzXCI7dmFyIHQ9L1xccyhbXidcIi9cXHM+PF0rPylbXFxzLz5dfChbXlxccz1dKyk9XFxzPyhcIi4qP1wifCcuKj8nKS9nO2Z1bmN0aW9uIG4obil7dmFyIHI9e3R5cGU6XCJ0YWdcIixuYW1lOlwiXCIsdm9pZEVsZW1lbnQ6ITEsYXR0cnM6e30sY2hpbGRyZW46W119LGk9bi5tYXRjaCgvPFxcLz8oW15cXHNdKz8pWy9cXHM+XS8pO2lmKGkmJihyLm5hbWU9aVsxXSwoZVtpWzFdXXx8XCIvXCI9PT1uLmNoYXJBdChuLmxlbmd0aC0yKSkmJihyLnZvaWRFbGVtZW50PSEwKSxyLm5hbWUuc3RhcnRzV2l0aChcIiEtLVwiKSkpe3ZhciBzPW4uaW5kZXhPZihcIi0tXFx4M2VcIik7cmV0dXJue3R5cGU6XCJjb21tZW50XCIsY29tbWVudDotMSE9PXM/bi5zbGljZSg0LHMpOlwiXCJ9fWZvcih2YXIgYT1uZXcgUmVnRXhwKHQpLGM9bnVsbDtudWxsIT09KGM9YS5leGVjKG4pKTspaWYoY1swXS50cmltKCkpaWYoY1sxXSl7dmFyIG89Y1sxXS50cmltKCksbD1bbyxcIlwiXTtvLmluZGV4T2YoXCI9XCIpPi0xJiYobD1vLnNwbGl0KFwiPVwiKSksci5hdHRyc1tsWzBdXT1sWzFdLGEubGFzdEluZGV4LS19ZWxzZSBjWzJdJiYoci5hdHRyc1tjWzJdXT1jWzNdLnRyaW0oKS5zdWJzdHJpbmcoMSxjWzNdLmxlbmd0aC0xKSk7cmV0dXJuIHJ9dmFyIHI9LzxbYS16QS1aMC05XFwtXFwhXFwvXSg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo+L2csaT0vXlxccyokLyxzPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gYShlLHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInRleHRcIjpyZXR1cm4gZSt0LmNvbnRlbnQ7Y2FzZVwidGFnXCI6cmV0dXJuIGUrPVwiPFwiK3QubmFtZSsodC5hdHRycz9mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2gobisnPVwiJytlW25dKydcIicpO3JldHVybiB0Lmxlbmd0aD9cIiBcIit0LmpvaW4oXCIgXCIpOlwiXCJ9KHQuYXR0cnMpOlwiXCIpKyh0LnZvaWRFbGVtZW50P1wiLz5cIjpcIj5cIiksdC52b2lkRWxlbWVudD9lOmUrdC5jaGlsZHJlbi5yZWR1Y2UoYSxcIlwiKStcIjwvXCIrdC5uYW1lK1wiPlwiO2Nhc2VcImNvbW1lbnRcIjpyZXR1cm4gZStcIlxceDNjIS0tXCIrdC5jb21tZW50K1wiLS1cXHgzZVwifX12YXIgYz17cGFyc2U6ZnVuY3Rpb24oZSx0KXt0fHwodD17fSksdC5jb21wb25lbnRzfHwodC5jb21wb25lbnRzPXMpO3ZhciBhLGM9W10sbz1bXSxsPS0xLG09ITE7aWYoMCE9PWUuaW5kZXhPZihcIjxcIikpe3ZhciB1PWUuaW5kZXhPZihcIjxcIik7Yy5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6LTE9PT11P2U6ZS5zdWJzdHJpbmcoMCx1KX0pfXJldHVybiBlLnJlcGxhY2UocixmdW5jdGlvbihyLHMpe2lmKG0pe2lmKHIhPT1cIjwvXCIrYS5uYW1lK1wiPlwiKXJldHVybjttPSExfXZhciB1LGY9XCIvXCIhPT1yLmNoYXJBdCgxKSxoPXIuc3RhcnRzV2l0aChcIlxceDNjIS0tXCIpLHA9cytyLmxlbmd0aCxkPWUuY2hhckF0KHApO2lmKGgpe3ZhciB2PW4ocik7cmV0dXJuIGw8MD8oYy5wdXNoKHYpLGMpOigodT1vW2xdKS5jaGlsZHJlbi5wdXNoKHYpLGMpfWlmKGYmJihsKyssXCJ0YWdcIj09PShhPW4ocikpLnR5cGUmJnQuY29tcG9uZW50c1thLm5hbWVdJiYoYS50eXBlPVwiY29tcG9uZW50XCIsbT0hMCksYS52b2lkRWxlbWVudHx8bXx8IWR8fFwiPFwiPT09ZHx8YS5jaGlsZHJlbi5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6ZS5zbGljZShwLGUuaW5kZXhPZihcIjxcIixwKSl9KSwwPT09bCYmYy5wdXNoKGEpLCh1PW9bbC0xXSkmJnUuY2hpbGRyZW4ucHVzaChhKSxvW2xdPWEpLCghZnx8YS52b2lkRWxlbWVudCkmJihsPi0xJiYoYS52b2lkRWxlbWVudHx8YS5uYW1lPT09ci5zbGljZSgyLC0xKSkmJihsLS0sYT0tMT09PWw/YzpvW2xdKSwhbSYmXCI8XCIhPT1kJiZkKSl7dT0tMT09PWw/YzpvW2xdLmNoaWxkcmVuO3ZhciB4PWUuaW5kZXhPZihcIjxcIixwKSxnPWUuc2xpY2UocCwtMT09PXg/dm9pZCAwOngpO2kudGVzdChnKSYmKGc9XCIgXCIpLCh4Pi0xJiZsK3UubGVuZ3RoPj0wfHxcIiBcIiE9PWcpJiZ1LnB1c2goe3R5cGU6XCJ0ZXh0XCIsY29udGVudDpnfSl9fSksY30sc3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK2EoXCJcIix0KX0sXCJcIil9fTtleHBvcnQgZGVmYXVsdCBjO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbC1wYXJzZS1zdHJpbmdpZnkubW9kdWxlLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmNvbnN0IGRlZmVyID0gKCkgPT4ge1xuICBsZXQgcmVzO1xuICBsZXQgcmVqO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlcyA9IHJlc29sdmU7XG4gICAgcmVqID0gcmVqZWN0O1xuICB9KTtcbiAgcHJvbWlzZS5yZXNvbHZlID0gcmVzO1xuICBwcm9taXNlLnJlamVjdCA9IHJlajtcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuY29uc3QgbWFrZVN0cmluZyA9IG9iamVjdCA9PiB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICcnO1xuICByZXR1cm4gJycgKyBvYmplY3Q7XG59O1xuY29uc3QgY29weSA9IChhLCBzLCB0KSA9PiB7XG4gIGEuZm9yRWFjaChtID0+IHtcbiAgICBpZiAoc1ttXSkgdFttXSA9IHNbbV07XG4gIH0pO1xufTtcbmNvbnN0IGxhc3RPZlBhdGhTZXBhcmF0b3JSZWdFeHAgPSAvIyMjL2c7XG5jb25zdCBjbGVhbktleSA9IGtleSA9PiBrZXkgJiYga2V5LmluZGV4T2YoJyMjIycpID4gLTEgPyBrZXkucmVwbGFjZShsYXN0T2ZQYXRoU2VwYXJhdG9yUmVnRXhwLCAnLicpIDoga2V5O1xuY29uc3QgY2FuTm90VHJhdmVyc2VEZWVwZXIgPSBvYmplY3QgPT4gIW9iamVjdCB8fCBpc1N0cmluZyhvYmplY3QpO1xuY29uc3QgZ2V0TGFzdE9mUGF0aCA9IChvYmplY3QsIHBhdGgsIEVtcHR5KSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gIWlzU3RyaW5nKHBhdGgpID8gcGF0aCA6IHBhdGguc3BsaXQoJy4nKTtcbiAgbGV0IHN0YWNrSW5kZXggPSAwO1xuICB3aGlsZSAoc3RhY2tJbmRleCA8IHN0YWNrLmxlbmd0aCAtIDEpIHtcbiAgICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIob2JqZWN0KSkgcmV0dXJuIHt9O1xuICAgIGNvbnN0IGtleSA9IGNsZWFuS2V5KHN0YWNrW3N0YWNrSW5kZXhdKTtcbiAgICBpZiAoIW9iamVjdFtrZXldICYmIEVtcHR5KSBvYmplY3Rba2V5XSA9IG5ldyBFbXB0eSgpO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0ID0ge307XG4gICAgfVxuICAgICsrc3RhY2tJbmRleDtcbiAgfVxuICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIob2JqZWN0KSkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIG9iajogb2JqZWN0LFxuICAgIGs6IGNsZWFuS2V5KHN0YWNrW3N0YWNrSW5kZXhdKVxuICB9O1xufTtcbmNvbnN0IHNldFBhdGggPSAob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBpZiAob2JqICE9PSB1bmRlZmluZWQgfHwgcGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBvYmpba10gPSBuZXdWYWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGUgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIGxldCBwID0gcGF0aC5zbGljZSgwLCBwYXRoLmxlbmd0aCAtIDEpO1xuICBsZXQgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICB3aGlsZSAobGFzdC5vYmogPT09IHVuZGVmaW5lZCAmJiBwLmxlbmd0aCkge1xuICAgIGUgPSBgJHtwW3AubGVuZ3RoIC0gMV19LiR7ZX1gO1xuICAgIHAgPSBwLnNsaWNlKDAsIHAubGVuZ3RoIC0gMSk7XG4gICAgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICAgIGlmIChsYXN0ICYmIGxhc3Qub2JqICYmIHR5cGVvZiBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxhc3Qub2JqID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSA9IG5ld1ZhbHVlO1xufTtcbmNvbnN0IHB1c2hQYXRoID0gKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUsIGNvbmNhdCkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBvYmpba10gPSBvYmpba10gfHwgW107XG4gIG9ialtrXS5wdXNoKG5ld1ZhbHVlKTtcbn07XG5jb25zdCBnZXRQYXRoID0gKG9iamVjdCwgcGF0aCkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoKTtcbiAgaWYgKCFvYmopIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBvYmpba107XG59O1xuY29uc3QgZ2V0UGF0aFdpdGhEZWZhdWx0cyA9IChkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZ2V0UGF0aChkYXRhLCBrZXkpO1xuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gZ2V0UGF0aChkZWZhdWx0RGF0YSwga2V5KTtcbn07XG5jb25zdCBkZWVwRXh0ZW5kID0gKHRhcmdldCwgc291cmNlLCBvdmVyd3JpdGUpID0+IHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmIChwcm9wICE9PSAnX19wcm90b19fJyAmJiBwcm9wICE9PSAnY29uc3RydWN0b3InKSB7XG4gICAgICBpZiAocHJvcCBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHRhcmdldFtwcm9wXSkgfHwgdGFyZ2V0W3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nIHx8IGlzU3RyaW5nKHNvdXJjZVtwcm9wXSkgfHwgc291cmNlW3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgaWYgKG92ZXJ3cml0ZSkgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0sIG92ZXJ3cml0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCByZWdleEVzY2FwZSA9IHN0ciA9PiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcbnZhciBfZW50aXR5TWFwID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnLFxuICAnLyc6ICcmI3gyRjsnXG59O1xuY29uc3QgZXNjYXBlID0gZGF0YSA9PiB7XG4gIGlmIChpc1N0cmluZyhkYXRhKSkge1xuICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1smPD5cIidcXC9dL2csIHMgPT4gX2VudGl0eU1hcFtzXSk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59O1xuY2xhc3MgUmVnRXhwQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihjYXBhY2l0eSkge1xuICAgIHRoaXMuY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICB0aGlzLnJlZ0V4cE1hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlZ0V4cFF1ZXVlID0gW107XG4gIH1cbiAgZ2V0UmVnRXhwKHBhdHRlcm4pIHtcbiAgICBjb25zdCByZWdFeHBGcm9tQ2FjaGUgPSB0aGlzLnJlZ0V4cE1hcC5nZXQocGF0dGVybik7XG4gICAgaWYgKHJlZ0V4cEZyb21DYWNoZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcmVnRXhwRnJvbUNhY2hlO1xuICAgIH1cbiAgICBjb25zdCByZWdFeHBOZXcgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIGlmICh0aGlzLnJlZ0V4cFF1ZXVlLmxlbmd0aCA9PT0gdGhpcy5jYXBhY2l0eSkge1xuICAgICAgdGhpcy5yZWdFeHBNYXAuZGVsZXRlKHRoaXMucmVnRXhwUXVldWUuc2hpZnQoKSk7XG4gICAgfVxuICAgIHRoaXMucmVnRXhwTWFwLnNldChwYXR0ZXJuLCByZWdFeHBOZXcpO1xuICAgIHRoaXMucmVnRXhwUXVldWUucHVzaChwYXR0ZXJuKTtcbiAgICByZXR1cm4gcmVnRXhwTmV3O1xuICB9XG59XG5jb25zdCBjaGFycyA9IFsnICcsICcsJywgJz8nLCAnIScsICc7J107XG5jb25zdCBsb29rc0xpa2VPYmplY3RQYXRoUmVnRXhwQ2FjaGUgPSBuZXcgUmVnRXhwQ2FjaGUoMjApO1xuY29uc3QgbG9va3NMaWtlT2JqZWN0UGF0aCA9IChrZXksIG5zU2VwYXJhdG9yLCBrZXlTZXBhcmF0b3IpID0+IHtcbiAgbnNTZXBhcmF0b3IgPSBuc1NlcGFyYXRvciB8fCAnJztcbiAga2V5U2VwYXJhdG9yID0ga2V5U2VwYXJhdG9yIHx8ICcnO1xuICBjb25zdCBwb3NzaWJsZUNoYXJzID0gY2hhcnMuZmlsdGVyKGMgPT4gbnNTZXBhcmF0b3IuaW5kZXhPZihjKSA8IDAgJiYga2V5U2VwYXJhdG9yLmluZGV4T2YoYykgPCAwKTtcbiAgaWYgKHBvc3NpYmxlQ2hhcnMubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgY29uc3QgciA9IGxvb2tzTGlrZU9iamVjdFBhdGhSZWdFeHBDYWNoZS5nZXRSZWdFeHAoYCgke3Bvc3NpYmxlQ2hhcnMubWFwKGMgPT4gYyA9PT0gJz8nID8gJ1xcXFw/JyA6IGMpLmpvaW4oJ3wnKX0pYCk7XG4gIGxldCBtYXRjaGVkID0gIXIudGVzdChrZXkpO1xuICBpZiAoIW1hdGNoZWQpIHtcbiAgICBjb25zdCBraSA9IGtleS5pbmRleE9mKGtleVNlcGFyYXRvcik7XG4gICAgaWYgKGtpID4gMCAmJiAhci50ZXN0KGtleS5zdWJzdHJpbmcoMCwga2kpKSkge1xuICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaGVkO1xufTtcbmNvbnN0IGRlZXBGaW5kID0gZnVuY3Rpb24gKG9iaiwgcGF0aCkge1xuICBsZXQga2V5U2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnLic7XG4gIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAob2JqW3BhdGhdKSByZXR1cm4gb2JqW3BhdGhdO1xuICBjb25zdCB0b2tlbnMgPSBwYXRoLnNwbGl0KGtleVNlcGFyYXRvcik7XG4gIGxldCBjdXJyZW50ID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7KSB7XG4gICAgaWYgKCFjdXJyZW50IHx8IHR5cGVvZiBjdXJyZW50ICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IG5leHQ7XG4gICAgbGV0IG5leHRQYXRoID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCB0b2tlbnMubGVuZ3RoOyArK2opIHtcbiAgICAgIGlmIChqICE9PSBpKSB7XG4gICAgICAgIG5leHRQYXRoICs9IGtleVNlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIG5leHRQYXRoICs9IHRva2Vuc1tqXTtcbiAgICAgIG5leHQgPSBjdXJyZW50W25leHRQYXRoXTtcbiAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ10uaW5kZXhPZih0eXBlb2YgbmV4dCkgPiAtMSAmJiBqIDwgdG9rZW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpICs9IGogLSBpICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGN1cnJlbnQgPSBuZXh0O1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufTtcbmNvbnN0IGdldENsZWFuZWRDb2RlID0gY29kZSA9PiBjb2RlICYmIGNvZGUucmVwbGFjZSgnXycsICctJyk7XG5cbmNvbnN0IGNvbnNvbGVMb2dnZXIgPSB7XG4gIHR5cGU6ICdsb2dnZXInLFxuICBsb2coYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdsb2cnLCBhcmdzKTtcbiAgfSxcbiAgd2FybihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ3dhcm4nLCBhcmdzKTtcbiAgfSxcbiAgZXJyb3IoYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdlcnJvcicsIGFyZ3MpO1xuICB9LFxuICBvdXRwdXQodHlwZSwgYXJncykge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0pIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3Rvcihjb25jcmV0ZUxvZ2dlcikge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmluaXQoY29uY3JldGVMb2dnZXIsIG9wdGlvbnMpO1xuICB9XG4gIGluaXQoY29uY3JldGVMb2dnZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnaTE4bmV4dDonO1xuICAgIHRoaXMubG9nZ2VyID0gY29uY3JldGVMb2dnZXIgfHwgY29uc29sZUxvZ2dlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICB9XG4gIGxvZygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ2xvZycsICcnLCB0cnVlKTtcbiAgfVxuICB3YXJuKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJycsIHRydWUpO1xuICB9XG4gIGVycm9yKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdlcnJvcicsICcnKTtcbiAgfVxuICBkZXByZWNhdGUoKSB7XG4gICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnV0FSTklORyBERVBSRUNBVEVEOiAnLCB0cnVlKTtcbiAgfVxuICBmb3J3YXJkKGFyZ3MsIGx2bCwgcHJlZml4LCBkZWJ1Z09ubHkpIHtcbiAgICBpZiAoZGVidWdPbmx5ICYmICF0aGlzLmRlYnVnKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFyZ3NbMF0gPSBgJHtwcmVmaXh9JHt0aGlzLnByZWZpeH0gJHthcmdzWzBdfWA7XG4gICAgcmV0dXJuIHRoaXMubG9nZ2VyW2x2bF0oYXJncyk7XG4gIH1cbiAgY3JlYXRlKG1vZHVsZU5hbWUpIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmxvZ2dlciwge1xuICAgICAgLi4ue1xuICAgICAgICBwcmVmaXg6IGAke3RoaXMucHJlZml4fToke21vZHVsZU5hbWV9OmBcbiAgICAgIH0sXG4gICAgICAuLi50aGlzLm9wdGlvbnNcbiAgICB9KTtcbiAgfVxuICBjbG9uZShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgdGhpcy5vcHRpb25zO1xuICAgIG9wdGlvbnMucHJlZml4ID0gb3B0aW9ucy5wcmVmaXggfHwgdGhpcy5wcmVmaXg7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIodGhpcy5sb2dnZXIsIG9wdGlvbnMpO1xuICB9XG59XG52YXIgYmFzZUxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5vYnNlcnZlcnMgPSB7fTtcbiAgfVxuICBvbihldmVudHMsIGxpc3RlbmVyKSB7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgdGhpcy5vYnNlcnZlcnNbZXZlbnRdID0gbmV3IE1hcCgpO1xuICAgICAgY29uc3QgbnVtTGlzdGVuZXJzID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdLmdldChsaXN0ZW5lcikgfHwgMDtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5zZXQobGlzdGVuZXIsIG51bUxpc3RlbmVycyArIDEpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgcmV0dXJuO1xuICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tldmVudF07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5kZWxldGUobGlzdGVuZXIpO1xuICB9XG4gIGVtaXQoZXZlbnQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkge1xuICAgICAgY29uc3QgY2xvbmVkID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1tldmVudF0uZW50cmllcygpKTtcbiAgICAgIGNsb25lZC5mb3JFYWNoKF9yZWYgPT4ge1xuICAgICAgICBsZXQgW29ic2VydmVyLCBudW1UaW1lc0FkZGVkXSA9IF9yZWY7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVGltZXNBZGRlZDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyonXSkge1xuICAgICAgY29uc3QgY2xvbmVkID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1snKiddLmVudHJpZXMoKSk7XG4gICAgICBjbG9uZWQuZm9yRWFjaChfcmVmMiA9PiB7XG4gICAgICAgIGxldCBbb2JzZXJ2ZXIsIG51bVRpbWVzQWRkZWRdID0gX3JlZjI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVGltZXNBZGRlZDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgLi4uYXJnc10pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUmVzb3VyY2VTdG9yZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgICAgIGRlZmF1bHROUzogJ3RyYW5zbGF0aW9uJ1xuICAgIH07XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgYWRkTmFtZXNwYWNlcyhucykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMucHVzaChucyk7XG4gICAgfVxuICB9XG4gIHJlbW92ZU5hbWVzcGFjZXMobnMpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5vcHRpb25zLm5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIGdldFJlc291cmNlKGxuZywgbnMsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBvcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSA6IHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlO1xuICAgIGxldCBwYXRoO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgIHBhdGgucHVzaCguLi5rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGtleSkgJiYga2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgcGF0aC5wdXNoKC4uLmtleS5zcGxpdChrZXlTZXBhcmF0b3IpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRoLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCk7XG4gICAgaWYgKCFyZXN1bHQgJiYgIW5zICYmICFrZXkgJiYgbG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBsbmcgPSBwYXRoWzBdO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgICAga2V5ID0gcGF0aC5zbGljZSgyKS5qb2luKCcuJyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgfHwgIWlnbm9yZUpTT05TdHJ1Y3R1cmUgfHwgIWlzU3RyaW5nKGtleSkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIGRlZXBGaW5kKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGFbbG5nXSAmJiB0aGlzLmRhdGFbbG5nXVtuc10sIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgfVxuICBhZGRSZXNvdXJjZShsbmcsIG5zLCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgbGV0IHBhdGggPSBbbG5nLCBuc107XG4gICAgaWYgKGtleSkgcGF0aCA9IHBhdGguY29uY2F0KGtleVNlcGFyYXRvciA/IGtleS5zcGxpdChrZXlTZXBhcmF0b3IpIDoga2V5KTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICB2YWx1ZSA9IG5zO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgIH1cbiAgICB0aGlzLmFkZE5hbWVzcGFjZXMobnMpO1xuICAgIHNldFBhdGgodGhpcy5kYXRhLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIGtleSwgdmFsdWUpO1xuICB9XG4gIGFkZFJlc291cmNlcyhsbmcsIG5zLCByZXNvdXJjZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge1xuICAgICAgc2lsZW50OiBmYWxzZVxuICAgIH07XG4gICAgZm9yIChjb25zdCBtIGluIHJlc291cmNlcykge1xuICAgICAgaWYgKGlzU3RyaW5nKHJlc291cmNlc1ttXSkgfHwgQXJyYXkuaXNBcnJheShyZXNvdXJjZXNbbV0pKSB0aGlzLmFkZFJlc291cmNlKGxuZywgbnMsIG0sIHJlc291cmNlc1ttXSwge1xuICAgICAgICBzaWxlbnQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywgcmVzb3VyY2VzKTtcbiAgfVxuICBhZGRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zLCByZXNvdXJjZXMsIGRlZXAsIG92ZXJ3cml0ZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7XG4gICAgICBzaWxlbnQ6IGZhbHNlLFxuICAgICAgc2tpcENvcHk6IGZhbHNlXG4gICAgfTtcbiAgICBsZXQgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICBkZWVwID0gcmVzb3VyY2VzO1xuICAgICAgcmVzb3VyY2VzID0gbnM7XG4gICAgICBucyA9IHBhdGhbMV07XG4gICAgfVxuICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG4gICAgbGV0IHBhY2sgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCkgfHwge307XG4gICAgaWYgKCFvcHRpb25zLnNraXBDb3B5KSByZXNvdXJjZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc291cmNlcykpO1xuICAgIGlmIChkZWVwKSB7XG4gICAgICBkZWVwRXh0ZW5kKHBhY2ssIHJlc291cmNlcywgb3ZlcndyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFjayA9IHtcbiAgICAgICAgLi4ucGFjayxcbiAgICAgICAgLi4ucmVzb3VyY2VzXG4gICAgICB9O1xuICAgIH1cbiAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgcGFjayk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gIH1cbiAgcmVtb3ZlUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSB7XG4gICAgICBkZWxldGUgdGhpcy5kYXRhW2xuZ11bbnNdO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZU5hbWVzcGFjZXMobnMpO1xuICAgIHRoaXMuZW1pdCgncmVtb3ZlZCcsIGxuZywgbnMpO1xuICB9XG4gIGhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKSAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIGdldFJlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICBpZiAoIW5zKSBucyA9IHRoaXMub3B0aW9ucy5kZWZhdWx0TlM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSByZXR1cm4ge1xuICAgICAgLi4ue30sXG4gICAgICAuLi50aGlzLmdldFJlc291cmNlKGxuZywgbnMpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKTtcbiAgfVxuICBnZXREYXRhQnlMYW5ndWFnZShsbmcpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhW2xuZ107XG4gIH1cbiAgaGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKGxuZykge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFCeUxhbmd1YWdlKGxuZyk7XG4gICAgY29uc3QgbiA9IGRhdGEgJiYgT2JqZWN0LmtleXMoZGF0YSkgfHwgW107XG4gICAgcmV0dXJuICEhbi5maW5kKHYgPT4gZGF0YVt2XSAmJiBPYmplY3Qua2V5cyhkYXRhW3ZdKS5sZW5ndGggPiAwKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgfVxufVxuXG52YXIgcG9zdFByb2Nlc3NvciA9IHtcbiAgcHJvY2Vzc29yczoge30sXG4gIGFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKSB7XG4gICAgdGhpcy5wcm9jZXNzb3JzW21vZHVsZS5uYW1lXSA9IG1vZHVsZTtcbiAgfSxcbiAgaGFuZGxlKHByb2Nlc3NvcnMsIHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpIHtcbiAgICBwcm9jZXNzb3JzLmZvckVhY2gocHJvY2Vzc29yID0+IHtcbiAgICAgIGlmICh0aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXSkgdmFsdWUgPSB0aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXS5wcm9jZXNzKHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuY29uc3QgY2hlY2tlZExvYWRlZEZvciA9IHt9O1xuY2xhc3MgVHJhbnNsYXRvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHN1cGVyKCk7XG4gICAgY29weShbJ3Jlc291cmNlU3RvcmUnLCAnbGFuZ3VhZ2VVdGlscycsICdwbHVyYWxSZXNvbHZlcicsICdpbnRlcnBvbGF0b3InLCAnYmFja2VuZENvbm5lY3RvcicsICdpMThuRm9ybWF0JywgJ3V0aWxzJ10sIHNlcnZpY2VzLCB0aGlzKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmICh0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ3RyYW5zbGF0b3InKTtcbiAgfVxuICBjaGFuZ2VMYW5ndWFnZShsbmcpIHtcbiAgICBpZiAobG5nKSB0aGlzLmxhbmd1YWdlID0gbG5nO1xuICB9XG4gIGV4aXN0cyhrZXkpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICB9O1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQucmVzICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgZXh0cmFjdEZyb21LZXkoa2V5LCBvcHRpb25zKSB7XG4gICAgbGV0IG5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc1NlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc1NlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICBpZiAobnNTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkgbnNTZXBhcmF0b3IgPSAnOic7XG4gICAgY29uc3Qga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBsZXQgbmFtZXNwYWNlcyA9IG9wdGlvbnMubnMgfHwgdGhpcy5vcHRpb25zLmRlZmF1bHROUyB8fCBbXTtcbiAgICBjb25zdCB3b3VsZENoZWNrRm9yTnNJbktleSA9IG5zU2VwYXJhdG9yICYmIGtleS5pbmRleE9mKG5zU2VwYXJhdG9yKSA+IC0xO1xuICAgIGNvbnN0IHNlZW1zTmF0dXJhbExhbmd1YWdlID0gIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvciAmJiAhb3B0aW9ucy5rZXlTZXBhcmF0b3IgJiYgIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yICYmICFvcHRpb25zLm5zU2VwYXJhdG9yICYmICFsb29rc0xpa2VPYmplY3RQYXRoKGtleSwgbnNTZXBhcmF0b3IsIGtleVNlcGFyYXRvcik7XG4gICAgaWYgKHdvdWxkQ2hlY2tGb3JOc0luS2V5ICYmICFzZWVtc05hdHVyYWxMYW5ndWFnZSkge1xuICAgICAgY29uc3QgbSA9IGtleS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtcbiAgICAgIGlmIChtICYmIG0ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBuYW1lc3BhY2VzOiBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KG5zU2VwYXJhdG9yKTtcbiAgICAgIGlmIChuc1NlcGFyYXRvciAhPT0ga2V5U2VwYXJhdG9yIHx8IG5zU2VwYXJhdG9yID09PSBrZXlTZXBhcmF0b3IgJiYgdGhpcy5vcHRpb25zLm5zLmluZGV4T2YocGFydHNbMF0pID4gLTEpIG5hbWVzcGFjZXMgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAga2V5ID0gcGFydHMuam9pbihrZXlTZXBhcmF0b3IpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAga2V5LFxuICAgICAgbmFtZXNwYWNlczogaXNTdHJpbmcobmFtZXNwYWNlcykgPyBbbmFtZXNwYWNlc10gOiBuYW1lc3BhY2VzXG4gICAgfTtcbiAgfVxuICB0cmFuc2xhdGUoa2V5cywgb3B0aW9ucywgbGFzdEtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgJiYgdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKSB7XG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwpIHJldHVybiAnJztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIGtleXMgPSBbU3RyaW5nKGtleXMpXTtcbiAgICBjb25zdCByZXR1cm5EZXRhaWxzID0gb3B0aW9ucy5yZXR1cm5EZXRhaWxzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJldHVybkRldGFpbHMgOiB0aGlzLm9wdGlvbnMucmV0dXJuRGV0YWlscztcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IHtcbiAgICAgIGtleSxcbiAgICAgIG5hbWVzcGFjZXNcbiAgICB9ID0gdGhpcy5leHRyYWN0RnJvbUtleShrZXlzW2tleXMubGVuZ3RoIC0gMV0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IG5hbWVzcGFjZXNbbmFtZXNwYWNlcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlO1xuICAgIGNvbnN0IGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlID0gb3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZSB8fCB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU7XG4gICAgaWYgKGxuZyAmJiBsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHtcbiAgICAgIGlmIChhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSkge1xuICAgICAgICBjb25zdCBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXM6IGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWAsXG4gICAgICAgICAgICB1c2VkS2V5OiBrZXksXG4gICAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICAgIHVzZWRMbmc6IGxuZyxcbiAgICAgICAgICAgIHVzZWROUzogbmFtZXNwYWNlLFxuICAgICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWA7XG4gICAgICB9XG4gICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlczoga2V5LFxuICAgICAgICAgIHVzZWRLZXk6IGtleSxcbiAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICB1c2VkTG5nOiBsbmcsXG4gICAgICAgICAgdXNlZE5TOiBuYW1lc3BhY2UsXG4gICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5cywgb3B0aW9ucyk7XG4gICAgbGV0IHJlcyA9IHJlc29sdmVkICYmIHJlc29sdmVkLnJlcztcbiAgICBjb25zdCByZXNVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQudXNlZEtleSB8fCBrZXk7XG4gICAgY29uc3QgcmVzRXhhY3RVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQuZXhhY3RVc2VkS2V5IHx8IGtleTtcbiAgICBjb25zdCByZXNUeXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShyZXMpO1xuICAgIGNvbnN0IG5vT2JqZWN0ID0gWydbb2JqZWN0IE51bWJlcl0nLCAnW29iamVjdCBGdW5jdGlvbl0nLCAnW29iamVjdCBSZWdFeHBdJ107XG4gICAgY29uc3Qgam9pbkFycmF5cyA9IG9wdGlvbnMuam9pbkFycmF5cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5qb2luQXJyYXlzIDogdGhpcy5vcHRpb25zLmpvaW5BcnJheXM7XG4gICAgY29uc3QgaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgPSAhdGhpcy5pMThuRm9ybWF0IHx8IHRoaXMuaTE4bkZvcm1hdC5oYW5kbGVBc09iamVjdDtcbiAgICBjb25zdCBoYW5kbGVBc09iamVjdCA9ICFpc1N0cmluZyhyZXMpICYmIHR5cGVvZiByZXMgIT09ICdib29sZWFuJyAmJiB0eXBlb2YgcmVzICE9PSAnbnVtYmVyJztcbiAgICBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgcmVzICYmIGhhbmRsZUFzT2JqZWN0ICYmIG5vT2JqZWN0LmluZGV4T2YocmVzVHlwZSkgPCAwICYmICEoaXNTdHJpbmcoam9pbkFycmF5cykgJiYgQXJyYXkuaXNBcnJheShyZXMpKSkge1xuICAgICAgaWYgKCFvcHRpb25zLnJldHVybk9iamVjdHMgJiYgIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2FjY2Vzc2luZyBhbiBvYmplY3QgLSBidXQgcmV0dXJuT2JqZWN0cyBvcHRpb25zIGlzIG5vdCBlbmFibGVkIScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyID8gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihyZXNVc2VkS2V5LCByZXMsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgIH0pIDogYGtleSAnJHtrZXl9ICgke3RoaXMubGFuZ3VhZ2V9KScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLmA7XG4gICAgICAgIGlmIChyZXR1cm5EZXRhaWxzKSB7XG4gICAgICAgICAgcmVzb2x2ZWQucmVzID0gcjtcbiAgICAgICAgICByZXNvbHZlZC51c2VkUGFyYW1zID0gdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlc1R5cGVJc0FycmF5ID0gQXJyYXkuaXNBcnJheShyZXMpO1xuICAgICAgICBjb25zdCBjb3B5ID0gcmVzVHlwZUlzQXJyYXkgPyBbXSA6IHt9O1xuICAgICAgICBjb25zdCBuZXdLZXlUb1VzZSA9IHJlc1R5cGVJc0FycmF5ID8gcmVzRXhhY3RVc2VkS2V5IDogcmVzVXNlZEtleTtcbiAgICAgICAgZm9yIChjb25zdCBtIGluIHJlcykge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzLCBtKSkge1xuICAgICAgICAgICAgY29uc3QgZGVlcEtleSA9IGAke25ld0tleVRvVXNlfSR7a2V5U2VwYXJhdG9yfSR7bX1gO1xuICAgICAgICAgICAgY29weVttXSA9IHRoaXMudHJhbnNsYXRlKGRlZXBLZXksIHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgLi4ue1xuICAgICAgICAgICAgICAgIGpvaW5BcnJheXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNvcHlbbV0gPT09IGRlZXBLZXkpIGNvcHlbbV0gPSByZXNbbV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlcyA9IGNvcHk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCAmJiBpc1N0cmluZyhqb2luQXJyYXlzKSAmJiBBcnJheS5pc0FycmF5KHJlcykpIHtcbiAgICAgIHJlcyA9IHJlcy5qb2luKGpvaW5BcnJheXMpO1xuICAgICAgaWYgKHJlcykgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIGxhc3RLZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdXNlZERlZmF1bHQgPSBmYWxzZTtcbiAgICAgIGxldCB1c2VkS2V5ID0gZmFsc2U7XG4gICAgICBjb25zdCBuZWVkc1BsdXJhbEhhbmRsaW5nID0gb3B0aW9ucy5jb3VudCAhPT0gdW5kZWZpbmVkICYmICFpc1N0cmluZyhvcHRpb25zLmNvdW50KTtcbiAgICAgIGNvbnN0IGhhc0RlZmF1bHRWYWx1ZSA9IFRyYW5zbGF0b3IuaGFzRGVmYXVsdFZhbHVlKG9wdGlvbnMpO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlU3VmZml4ID0gbmVlZHNQbHVyYWxIYW5kbGluZyA/IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGxuZywgb3B0aW9ucy5jb3VudCwgb3B0aW9ucykgOiAnJztcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZVN1ZmZpeE9yZGluYWxGYWxsYmFjayA9IG9wdGlvbnMub3JkaW5hbCAmJiBuZWVkc1BsdXJhbEhhbmRsaW5nID8gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgobG5nLCBvcHRpb25zLmNvdW50LCB7XG4gICAgICAgIG9yZGluYWw6IGZhbHNlXG4gICAgICB9KSA6ICcnO1xuICAgICAgY29uc3QgbmVlZHNaZXJvU3VmZml4TG9va3VwID0gbmVlZHNQbHVyYWxIYW5kbGluZyAmJiAhb3B0aW9ucy5vcmRpbmFsICYmIG9wdGlvbnMuY291bnQgPT09IDAgJiYgdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCk7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBuZWVkc1plcm9TdWZmaXhMb29rdXAgJiYgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSB8fCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke2RlZmF1bHRWYWx1ZVN1ZmZpeH1gXSB8fCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke2RlZmF1bHRWYWx1ZVN1ZmZpeE9yZGluYWxGYWxsYmFja31gXSB8fCBvcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkTG9va3VwKHJlcykgJiYgaGFzRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHVzZWREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSkge1xuICAgICAgICB1c2VkS2V5ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0ga2V5O1xuICAgICAgfVxuICAgICAgY29uc3QgbWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5ID0gb3B0aW9ucy5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleTtcbiAgICAgIGNvbnN0IHJlc0Zvck1pc3NpbmcgPSBtaXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgJiYgdXNlZEtleSA/IHVuZGVmaW5lZCA6IHJlcztcbiAgICAgIGNvbnN0IHVwZGF0ZU1pc3NpbmcgPSBoYXNEZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlICE9PSByZXMgJiYgdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7XG4gICAgICBpZiAodXNlZEtleSB8fCB1c2VkRGVmYXVsdCB8fCB1cGRhdGVNaXNzaW5nKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyh1cGRhdGVNaXNzaW5nID8gJ3VwZGF0ZUtleScgOiAnbWlzc2luZ0tleScsIGxuZywgbmFtZXNwYWNlLCBrZXksIHVwZGF0ZU1pc3NpbmcgPyBkZWZhdWx0VmFsdWUgOiByZXMpO1xuICAgICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgY29uc3QgZmsgPSB0aGlzLnJlc29sdmUoa2V5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAga2V5U2VwYXJhdG9yOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChmayAmJiBmay5yZXMpIHRoaXMubG9nZ2VyLndhcm4oJ1NlZW1zIHRoZSBsb2FkZWQgdHJhbnNsYXRpb25zIHdlcmUgaW4gZmxhdCBKU09OIGZvcm1hdCBpbnN0ZWFkIG9mIG5lc3RlZC4gRWl0aGVyIHNldCBrZXlTZXBhcmF0b3I6IGZhbHNlIG9uIGluaXQgb3IgbWFrZSBzdXJlIHlvdXIgdHJhbnNsYXRpb25zIGFyZSBwdWJsaXNoZWQgaW4gbmVzdGVkIGZvcm1hdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbG5ncyA9IFtdO1xuICAgICAgICBjb25zdCBmYWxsYmFja0xuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdmYWxsYmFjaycgJiYgZmFsbGJhY2tMbmdzICYmIGZhbGxiYWNrTG5nc1swXSkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFsbGJhY2tMbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsbmdzLnB1c2goZmFsbGJhY2tMbmdzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdhbGwnKSB7XG4gICAgICAgICAgbG5ncyA9IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkob3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG5ncy5wdXNoKG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbmQgPSAobCwgaywgc3BlY2lmaWNEZWZhdWx0VmFsdWUpID0+IHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0Rm9yTWlzc2luZyA9IGhhc0RlZmF1bHRWYWx1ZSAmJiBzcGVjaWZpY0RlZmF1bHRWYWx1ZSAhPT0gcmVzID8gc3BlY2lmaWNEZWZhdWx0VmFsdWUgOiByZXNGb3JNaXNzaW5nO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcihsLCBuYW1lc3BhY2UsIGssIGRlZmF1bHRGb3JNaXNzaW5nLCB1cGRhdGVNaXNzaW5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFja2VuZENvbm5lY3RvciAmJiB0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhsLCBuYW1lc3BhY2UsIGssIGRlZmF1bHRGb3JNaXNzaW5nLCB1cGRhdGVNaXNzaW5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5lbWl0KCdtaXNzaW5nS2V5JywgbCwgbmFtZXNwYWNlLCBrLCByZXMpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1BsdXJhbHMgJiYgbmVlZHNQbHVyYWxIYW5kbGluZykge1xuICAgICAgICAgICAgbG5ncy5mb3JFYWNoKGxhbmd1YWdlID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ZXMgPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeGVzKGxhbmd1YWdlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCAmJiBvcHRpb25zW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdICYmIHN1ZmZpeGVzLmluZGV4T2YoYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgc3VmZml4ZXMucHVzaChgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdWZmaXhlcy5mb3JFYWNoKHN1ZmZpeCA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZChbbGFuZ3VhZ2VdLCBrZXkgKyBzdWZmaXgsIG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7c3VmZml4fWBdIHx8IGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmQobG5ncywga2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIHJlc29sdmVkLCBsYXN0S2V5KTtcbiAgICAgIGlmICh1c2VkS2V5ICYmIHJlcyA9PT0ga2V5ICYmIHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXkpIHJlcyA9IGAke25hbWVzcGFjZX06JHtrZXl9YDtcbiAgICAgIGlmICgodXNlZEtleSB8fCB1c2VkRGVmYXVsdCkgJiYgdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnKSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIodGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSA/IGAke25hbWVzcGFjZX06JHtrZXl9YCA6IGtleSwgdXNlZERlZmF1bHQgPyByZXMgOiB1bmRlZmluZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcyA9IHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJldHVybkRldGFpbHMpIHtcbiAgICAgIHJlc29sdmVkLnJlcyA9IHJlcztcbiAgICAgIHJlc29sdmVkLnVzZWRQYXJhbXMgPSB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5LCBvcHRpb25zLCByZXNvbHZlZCwgbGFzdEtleSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQucGFyc2UpIHtcbiAgICAgIHJlcyA9IHRoaXMuaTE4bkZvcm1hdC5wYXJzZShyZXMsIHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCByZXNvbHZlZC51c2VkTlMsIHJlc29sdmVkLnVzZWRLZXksIHtcbiAgICAgICAgcmVzb2x2ZWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuc2tpcEludGVycG9sYXRpb24pIHtcbiAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHRoaXMuaW50ZXJwb2xhdG9yLmluaXQoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57XG4gICAgICAgICAgaW50ZXJwb2xhdGlvbjoge1xuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24sXG4gICAgICAgICAgICAuLi5vcHRpb25zLmludGVycG9sYXRpb25cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc2tpcE9uVmFyaWFibGVzID0gaXNTdHJpbmcocmVzKSAmJiAob3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyA6IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyk7XG4gICAgICBsZXQgbmVzdEJlZjtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmIgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIG5lc3RCZWYgPSBuYiAmJiBuYi5sZW5ndGg7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcob3B0aW9ucy5yZXBsYWNlKSA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcykgZGF0YSA9IHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfTtcbiAgICAgIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHJlcywgZGF0YSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCBvcHRpb25zKTtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmEgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIGNvbnN0IG5lc3RBZnQgPSBuYSAmJiBuYS5sZW5ndGg7XG4gICAgICAgIGlmIChuZXN0QmVmIDwgbmVzdEFmdCkgb3B0aW9ucy5uZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMubG5nICYmIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnICYmIHJlc29sdmVkICYmIHJlc29sdmVkLnJlcykgb3B0aW9ucy5sbmcgPSB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmc7XG4gICAgICBpZiAob3B0aW9ucy5uZXN0ICE9PSBmYWxzZSkgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IubmVzdChyZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEtleSAmJiBsYXN0S2V5WzBdID09PSBhcmdzWzBdICYmICFvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihgSXQgc2VlbXMgeW91IGFyZSBuZXN0aW5nIHJlY3Vyc2l2ZWx5IGtleTogJHthcmdzWzBdfSBpbiBrZXk6ICR7a2V5WzBdfWApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcy50cmFuc2xhdGUoLi4uYXJncywga2V5KTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKTtcbiAgICB9XG4gICAgY29uc3QgcG9zdFByb2Nlc3MgPSBvcHRpb25zLnBvc3RQcm9jZXNzIHx8IHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcztcbiAgICBjb25zdCBwb3N0UHJvY2Vzc29yTmFtZXMgPSBpc1N0cmluZyhwb3N0UHJvY2VzcykgPyBbcG9zdFByb2Nlc3NdIDogcG9zdFByb2Nlc3M7XG4gICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkICYmIHJlcyAhPT0gbnVsbCAmJiBwb3N0UHJvY2Vzc29yTmFtZXMgJiYgcG9zdFByb2Nlc3Nvck5hbWVzLmxlbmd0aCAmJiBvcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciAhPT0gZmFsc2UpIHtcbiAgICAgIHJlcyA9IHBvc3RQcm9jZXNzb3IuaGFuZGxlKHBvc3RQcm9jZXNzb3JOYW1lcywgcmVzLCBrZXksIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQgPyB7XG4gICAgICAgIGkxOG5SZXNvbHZlZDoge1xuICAgICAgICAgIC4uLnJlc29sdmVkLFxuICAgICAgICAgIHVzZWRQYXJhbXM6IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucylcbiAgICAgICAgfSxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSA6IG9wdGlvbnMsIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIHJlc29sdmUoa2V5cykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgZm91bmQ7XG4gICAgbGV0IHVzZWRLZXk7XG4gICAgbGV0IGV4YWN0VXNlZEtleTtcbiAgICBsZXQgdXNlZExuZztcbiAgICBsZXQgdXNlZE5TO1xuICAgIGlmIChpc1N0cmluZyhrZXlzKSkga2V5cyA9IFtrZXlzXTtcbiAgICBrZXlzLmZvckVhY2goayA9PiB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0RnJvbUtleShrLCBvcHRpb25zKTtcbiAgICAgIGNvbnN0IGtleSA9IGV4dHJhY3RlZC5rZXk7XG4gICAgICB1c2VkS2V5ID0ga2V5O1xuICAgICAgbGV0IG5hbWVzcGFjZXMgPSBleHRyYWN0ZWQubmFtZXNwYWNlcztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUykgbmFtZXNwYWNlcyA9IG5hbWVzcGFjZXMuY29uY2F0KHRoaXMub3B0aW9ucy5mYWxsYmFja05TKTtcbiAgICAgIGNvbnN0IG5lZWRzUGx1cmFsSGFuZGxpbmcgPSBvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgIWlzU3RyaW5nKG9wdGlvbnMuY291bnQpO1xuICAgICAgY29uc3QgbmVlZHNaZXJvU3VmZml4TG9va3VwID0gbmVlZHNQbHVyYWxIYW5kbGluZyAmJiAhb3B0aW9ucy5vcmRpbmFsICYmIG9wdGlvbnMuY291bnQgPT09IDAgJiYgdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCk7XG4gICAgICBjb25zdCBuZWVkc0NvbnRleHRIYW5kbGluZyA9IG9wdGlvbnMuY29udGV4dCAhPT0gdW5kZWZpbmVkICYmIChpc1N0cmluZyhvcHRpb25zLmNvbnRleHQpIHx8IHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT09ICdudW1iZXInKSAmJiBvcHRpb25zLmNvbnRleHQgIT09ICcnO1xuICAgICAgY29uc3QgY29kZXMgPSBvcHRpb25zLmxuZ3MgPyBvcHRpb25zLmxuZ3MgOiB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UsIG9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcbiAgICAgICAgdXNlZE5TID0gbnM7XG4gICAgICAgIGlmICghY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSAmJiB0aGlzLnV0aWxzICYmIHRoaXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlICYmICF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSh1c2VkTlMpKSB7XG4gICAgICAgICAgY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2Fybihga2V5IFwiJHt1c2VkS2V5fVwiIGZvciBsYW5ndWFnZXMgXCIke2NvZGVzLmpvaW4oJywgJyl9XCIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSBcIiR7dXNlZE5TfVwiIHdhcyBub3QgeWV0IGxvYWRlZGAsICdUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgICAgdXNlZExuZyA9IGNvZGU7XG4gICAgICAgICAgY29uc3QgZmluYWxLZXlzID0gW2tleV07XG4gICAgICAgICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cykge1xuICAgICAgICAgICAgdGhpcy5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMoZmluYWxLZXlzLCBrZXksIGNvZGUsIG5zLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBsdXJhbFN1ZmZpeDtcbiAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSBwbHVyYWxTdWZmaXggPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChjb2RlLCBvcHRpb25zLmNvdW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHplcm9TdWZmaXggPSBgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gO1xuICAgICAgICAgICAgY29uc3Qgb3JkaW5hbFByZWZpeCA9IGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9b3JkaW5hbCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn1gO1xuICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgemVyb1N1ZmZpeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWVkc0NvbnRleHRIYW5kbGluZykge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZXh0S2V5ID0gYCR7a2V5fSR7dGhpcy5vcHRpb25zLmNvbnRleHRTZXBhcmF0b3J9JHtvcHRpb25zLmNvbnRleHR9YDtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHplcm9TdWZmaXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcG9zc2libGVLZXk7XG4gICAgICAgICAgd2hpbGUgKHBvc3NpYmxlS2V5ID0gZmluYWxLZXlzLnBvcCgpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHtcbiAgICAgICAgICAgICAgZXhhY3RVc2VkS2V5ID0gcG9zc2libGVLZXk7XG4gICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5nZXRSZXNvdXJjZShjb2RlLCBucywgcG9zc2libGVLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzOiBmb3VuZCxcbiAgICAgIHVzZWRLZXksXG4gICAgICBleGFjdFVzZWRLZXksXG4gICAgICB1c2VkTG5nLFxuICAgICAgdXNlZE5TXG4gICAgfTtcbiAgfVxuICBpc1ZhbGlkTG9va3VwKHJlcykge1xuICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuTnVsbCAmJiByZXMgPT09IG51bGwpICYmICEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyAmJiByZXMgPT09ICcnKTtcbiAgfVxuICBnZXRSZXNvdXJjZShjb2RlLCBucywga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKSByZXR1cm4gdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlU3RvcmUuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSwgb3B0aW9ucyk7XG4gIH1cbiAgZ2V0VXNlZFBhcmFtc0RldGFpbHMoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IG9wdGlvbnNLZXlzID0gWydkZWZhdWx0VmFsdWUnLCAnb3JkaW5hbCcsICdjb250ZXh0JywgJ3JlcGxhY2UnLCAnbG5nJywgJ2xuZ3MnLCAnZmFsbGJhY2tMbmcnLCAnbnMnLCAna2V5U2VwYXJhdG9yJywgJ25zU2VwYXJhdG9yJywgJ3JldHVybk9iamVjdHMnLCAncmV0dXJuRGV0YWlscycsICdqb2luQXJyYXlzJywgJ3Bvc3RQcm9jZXNzJywgJ2ludGVycG9sYXRpb24nXTtcbiAgICBjb25zdCB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPSBvcHRpb25zLnJlcGxhY2UgJiYgIWlzU3RyaW5nKG9wdGlvbnMucmVwbGFjZSk7XG4gICAgbGV0IGRhdGEgPSB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPyBvcHRpb25zLnJlcGxhY2UgOiBvcHRpb25zO1xuICAgIGlmICh1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgJiYgdHlwZW9mIG9wdGlvbnMuY291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmNvdW50ID0gb3B0aW9ucy5jb3VudDtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb3B0aW9uc0tleXMpIHtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgc3RhdGljIGhhc0RlZmF1bHRWYWx1ZShvcHRpb25zKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ2RlZmF1bHRWYWx1ZSc7XG4gICAgZm9yIChjb25zdCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIHByZWZpeCA9PT0gb3B0aW9uLnN1YnN0cmluZygwLCBwcmVmaXgubGVuZ3RoKSAmJiB1bmRlZmluZWQgIT09IG9wdGlvbnNbb3B0aW9uXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IGNhcGl0YWxpemUgPSBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuY2xhc3MgTGFuZ3VhZ2VVdGlsIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zdXBwb3J0ZWRMbmdzID0gdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MgfHwgZmFsc2U7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnbGFuZ3VhZ2VVdGlscycpO1xuICB9XG4gIGdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKSB7XG4gICAgY29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUpO1xuICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgaWYgKHAubGVuZ3RoID09PSAyKSByZXR1cm4gbnVsbDtcbiAgICBwLnBvcCgpO1xuICAgIGlmIChwW3AubGVuZ3RoIC0gMV0udG9Mb3dlckNhc2UoKSA9PT0gJ3gnKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocC5qb2luKCctJykpO1xuICB9XG4gIGdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICBjb2RlID0gZ2V0Q2xlYW5lZENvZGUoY29kZSk7XG4gICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIGNvZGU7XG4gICAgY29uc3QgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocFswXSk7XG4gIH1cbiAgZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29kZSkgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgSW50bC5nZXRDYW5vbmljYWxMb2NhbGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBmb3JtYXR0ZWRDb2RlID0gSW50bC5nZXRDYW5vbmljYWxMb2NhbGVzKGNvZGUpWzBdO1xuICAgICAgICAgIGlmIChmb3JtYXR0ZWRDb2RlICYmIHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZENvZGUgPSBmb3JtYXR0ZWRDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmb3JtYXR0ZWRDb2RlKSByZXR1cm4gZm9ybWF0dGVkQ29kZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwZWNpYWxDYXNlcyA9IFsnaGFucycsICdoYW50JywgJ2xhdG4nLCAnY3lybCcsICdjYW5zJywgJ21vbmcnLCAnYXJhYiddO1xuICAgICAgbGV0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZykge1xuICAgICAgICBwID0gcC5tYXAocGFydCA9PiBwYXJ0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocFsxXS5sZW5ndGggPT09IDIpIHBbMV0gPSBwWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChwWzBdICE9PSAnc2duJyAmJiBwWzJdLmxlbmd0aCA9PT0gMikgcFsyXSA9IHBbMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMV0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsxXSA9IGNhcGl0YWxpemUocFsxXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMl0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsyXSA9IGNhcGl0YWxpemUocFsyXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwLmpvaW4oJy0nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGVhbkNvZGUgfHwgdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZyA/IGNvZGUudG9Mb3dlckNhc2UoKSA6IGNvZGU7XG4gIH1cbiAgaXNTdXBwb3J0ZWRDb2RlKGNvZGUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgPT09ICdsYW5ndWFnZU9ubHknIHx8IHRoaXMub3B0aW9ucy5ub25FeHBsaWNpdFN1cHBvcnRlZExuZ3MpIHtcbiAgICAgIGNvZGUgPSB0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgIH1cbiAgICByZXR1cm4gIXRoaXMuc3VwcG9ydGVkTG5ncyB8fCAhdGhpcy5zdXBwb3J0ZWRMbmdzLmxlbmd0aCB8fCB0aGlzLnN1cHBvcnRlZExuZ3MuaW5kZXhPZihjb2RlKSA+IC0xO1xuICB9XG4gIGdldEJlc3RNYXRjaEZyb21Db2Rlcyhjb2Rlcykge1xuICAgIGlmICghY29kZXMpIHJldHVybiBudWxsO1xuICAgIGxldCBmb3VuZDtcbiAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICBjb25zdCBjbGVhbmVkTG5nID0gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSk7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGNsZWFuZWRMbmcpKSBmb3VuZCA9IGNsZWFuZWRMbmc7XG4gICAgfSk7XG4gICAgaWYgKCFmb3VuZCAmJiB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncykge1xuICAgICAgY29kZXMuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ09ubHkgPSB0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZENvZGUobG5nT25seSkpIHJldHVybiBmb3VuZCA9IGxuZ09ubHk7XG4gICAgICAgIGZvdW5kID0gdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MuZmluZChzdXBwb3J0ZWRMbmcgPT4ge1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcgPT09IGxuZ09ubHkpIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykgPCAwICYmIGxuZ09ubHkuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpID4gMCAmJiBsbmdPbmx5LmluZGV4T2YoJy0nKSA8IDAgJiYgc3VwcG9ydGVkTG5nLnN1YnN0cmluZygwLCBzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpKSA9PT0gbG5nT25seSkgcmV0dXJuIHN1cHBvcnRlZExuZztcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YobG5nT25seSkgPT09IDAgJiYgbG5nT25seS5sZW5ndGggPiAxKSByZXR1cm4gc3VwcG9ydGVkTG5nO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IHRoaXMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpWzBdO1xuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBnZXRGYWxsYmFja0NvZGVzKGZhbGxiYWNrcywgY29kZSkge1xuICAgIGlmICghZmFsbGJhY2tzKSByZXR1cm4gW107XG4gICAgaWYgKHR5cGVvZiBmYWxsYmFja3MgPT09ICdmdW5jdGlvbicpIGZhbGxiYWNrcyA9IGZhbGxiYWNrcyhjb2RlKTtcbiAgICBpZiAoaXNTdHJpbmcoZmFsbGJhY2tzKSkgZmFsbGJhY2tzID0gW2ZhbGxiYWNrc107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmFsbGJhY2tzKSkgcmV0dXJuIGZhbGxiYWNrcztcbiAgICBpZiAoIWNvZGUpIHJldHVybiBmYWxsYmFja3MuZGVmYXVsdCB8fCBbXTtcbiAgICBsZXQgZm91bmQgPSBmYWxsYmFja3NbY29kZV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrcy5kZWZhdWx0O1xuICAgIHJldHVybiBmb3VuZCB8fCBbXTtcbiAgfVxuICB0b1Jlc29sdmVIaWVyYXJjaHkoY29kZSwgZmFsbGJhY2tDb2RlKSB7XG4gICAgY29uc3QgZmFsbGJhY2tDb2RlcyA9IHRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja0NvZGUgfHwgdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIHx8IFtdLCBjb2RlKTtcbiAgICBjb25zdCBjb2RlcyA9IFtdO1xuICAgIGNvbnN0IGFkZENvZGUgPSBjID0+IHtcbiAgICAgIGlmICghYykgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGMpKSB7XG4gICAgICAgIGNvZGVzLnB1c2goYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGByZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogJHtjfWApO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzU3RyaW5nKGNvZGUpICYmIChjb2RlLmluZGV4T2YoJy0nKSA+IC0xIHx8IGNvZGUuaW5kZXhPZignXycpID4gLTEpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknKSBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2xhbmd1YWdlT25seScgJiYgdGhpcy5vcHRpb25zLmxvYWQgIT09ICdjdXJyZW50T25seScpIGFkZENvZGUodGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY29kZSkpIHtcbiAgICAgIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkpO1xuICAgIH1cbiAgICBmYWxsYmFja0NvZGVzLmZvckVhY2goZmMgPT4ge1xuICAgICAgaWYgKGNvZGVzLmluZGV4T2YoZmMpIDwgMCkgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShmYykpO1xuICAgIH0pO1xuICAgIHJldHVybiBjb2RlcztcbiAgfVxufVxuXG5sZXQgc2V0cyA9IFt7XG4gIGxuZ3M6IFsnYWNoJywgJ2FrJywgJ2FtJywgJ2FybicsICdicicsICdmaWwnLCAnZ3VuJywgJ2xuJywgJ21mZScsICdtZycsICdtaScsICdvYycsICdwdCcsICdwdC1CUicsICd0ZycsICd0bCcsICd0aScsICd0cicsICd1eicsICd3YSddLFxuICBucjogWzEsIDJdLFxuICBmYzogMVxufSwge1xuICBsbmdzOiBbJ2FmJywgJ2FuJywgJ2FzdCcsICdheicsICdiZycsICdibicsICdjYScsICdkYScsICdkZScsICdkZXYnLCAnZWwnLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmknLCAnZm8nLCAnZnVyJywgJ2Z5JywgJ2dsJywgJ2d1JywgJ2hhJywgJ2hpJywgJ2h1JywgJ2h5JywgJ2lhJywgJ2l0JywgJ2trJywgJ2tuJywgJ2t1JywgJ2xiJywgJ21haScsICdtbCcsICdtbicsICdtcicsICduYWgnLCAnbmFwJywgJ25iJywgJ25lJywgJ25sJywgJ25uJywgJ25vJywgJ25zbycsICdwYScsICdwYXAnLCAncG1zJywgJ3BzJywgJ3B0LVBUJywgJ3JtJywgJ3NjbycsICdzZScsICdzaScsICdzbycsICdzb24nLCAnc3EnLCAnc3YnLCAnc3cnLCAndGEnLCAndGUnLCAndGsnLCAndXInLCAneW8nXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydheScsICdibycsICdjZ2cnLCAnZmEnLCAnaHQnLCAnaWQnLCAnamEnLCAnamJvJywgJ2thJywgJ2ttJywgJ2tvJywgJ2t5JywgJ2xvJywgJ21zJywgJ3NhaCcsICdzdScsICd0aCcsICd0dCcsICd1ZycsICd2aScsICd3bycsICd6aCddLFxuICBucjogWzFdLFxuICBmYzogM1xufSwge1xuICBsbmdzOiBbJ2JlJywgJ2JzJywgJ2NucicsICdkeicsICdocicsICdydScsICdzcicsICd1ayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNFxufSwge1xuICBsbmdzOiBbJ2FyJ10sXG4gIG5yOiBbMCwgMSwgMiwgMywgMTEsIDEwMF0sXG4gIGZjOiA1XG59LCB7XG4gIGxuZ3M6IFsnY3MnLCAnc2snXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDZcbn0sIHtcbiAgbG5nczogWydjc2InLCAncGwnXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDdcbn0sIHtcbiAgbG5nczogWydjeSddLFxuICBucjogWzEsIDIsIDMsIDhdLFxuICBmYzogOFxufSwge1xuICBsbmdzOiBbJ2ZyJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiA5XG59LCB7XG4gIGxuZ3M6IFsnZ2EnXSxcbiAgbnI6IFsxLCAyLCAzLCA3LCAxMV0sXG4gIGZjOiAxMFxufSwge1xuICBsbmdzOiBbJ2dkJ10sXG4gIG5yOiBbMSwgMiwgMywgMjBdLFxuICBmYzogMTFcbn0sIHtcbiAgbG5nczogWydpcyddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTJcbn0sIHtcbiAgbG5nczogWydqdiddLFxuICBucjogWzAsIDFdLFxuICBmYzogMTNcbn0sIHtcbiAgbG5nczogWydrdyddLFxuICBucjogWzEsIDIsIDMsIDRdLFxuICBmYzogMTRcbn0sIHtcbiAgbG5nczogWydsdCddLFxuICBucjogWzEsIDIsIDEwXSxcbiAgZmM6IDE1XG59LCB7XG4gIGxuZ3M6IFsnbHYnXSxcbiAgbnI6IFsxLCAyLCAwXSxcbiAgZmM6IDE2XG59LCB7XG4gIGxuZ3M6IFsnbWsnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDE3XG59LCB7XG4gIGxuZ3M6IFsnbW5rJ10sXG4gIG5yOiBbMCwgMSwgMl0sXG4gIGZjOiAxOFxufSwge1xuICBsbmdzOiBbJ210J10sXG4gIG5yOiBbMSwgMiwgMTEsIDIwXSxcbiAgZmM6IDE5XG59LCB7XG4gIGxuZ3M6IFsnb3InXSxcbiAgbnI6IFsyLCAxXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydybyddLFxuICBucjogWzEsIDIsIDIwXSxcbiAgZmM6IDIwXG59LCB7XG4gIGxuZ3M6IFsnc2wnXSxcbiAgbnI6IFs1LCAxLCAyLCAzXSxcbiAgZmM6IDIxXG59LCB7XG4gIGxuZ3M6IFsnaGUnLCAnaXcnXSxcbiAgbnI6IFsxLCAyLCAyMCwgMjFdLFxuICBmYzogMjJcbn1dO1xubGV0IF9ydWxlc1BsdXJhbHNUeXBlcyA9IHtcbiAgMTogbiA9PiBOdW1iZXIobiA+IDEpLFxuICAyOiBuID0+IE51bWJlcihuICE9IDEpLFxuICAzOiBuID0+IDAsXG4gIDQ6IG4gPT4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKSxcbiAgNTogbiA9PiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiBuID09IDIgPyAyIDogbiAlIDEwMCA+PSAzICYmIG4gJSAxMDAgPD0gMTAgPyAzIDogbiAlIDEwMCA+PSAxMSA/IDQgOiA1KSxcbiAgNjogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPj0gMiAmJiBuIDw9IDQgPyAxIDogMiksXG4gIDc6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpLFxuICA4OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gIT0gOCAmJiBuICE9IDExID8gMiA6IDMpLFxuICA5OiBuID0+IE51bWJlcihuID49IDIpLFxuICAxMDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuIDwgNyA/IDIgOiBuIDwgMTEgPyAzIDogNCksXG4gIDExOiBuID0+IE51bWJlcihuID09IDEgfHwgbiA9PSAxMSA/IDAgOiBuID09IDIgfHwgbiA9PSAxMiA/IDEgOiBuID4gMiAmJiBuIDwgMjAgPyAyIDogMyksXG4gIDEyOiBuID0+IE51bWJlcihuICUgMTAgIT0gMSB8fCBuICUgMTAwID09IDExKSxcbiAgMTM6IG4gPT4gTnVtYmVyKG4gIT09IDApLFxuICAxNDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuID09IDMgPyAyIDogMyksXG4gIDE1OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gJSAxMCA+PSAyICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMiksXG4gIDE2OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gIT09IDAgPyAxIDogMiksXG4gIDE3OiBuID0+IE51bWJlcihuID09IDEgfHwgbiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiAxKSxcbiAgMTg6IG4gPT4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogMiksXG4gIDE5OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAwIHx8IG4gJSAxMDAgPiAxICYmIG4gJSAxMDAgPCAxMSA/IDEgOiBuICUgMTAwID4gMTAgJiYgbiAlIDEwMCA8IDIwID8gMiA6IDMpLFxuICAyMDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMCB8fCBuICUgMTAwID4gMCAmJiBuICUgMTAwIDwgMjAgPyAxIDogMiksXG4gIDIxOiBuID0+IE51bWJlcihuICUgMTAwID09IDEgPyAxIDogbiAlIDEwMCA9PSAyID8gMiA6IG4gJSAxMDAgPT0gMyB8fCBuICUgMTAwID09IDQgPyAzIDogMCksXG4gIDIyOiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IChuIDwgMCB8fCBuID4gMTApICYmIG4gJSAxMCA9PSAwID8gMiA6IDMpXG59O1xuY29uc3Qgbm9uSW50bFZlcnNpb25zID0gWyd2MScsICd2MicsICd2MyddO1xuY29uc3QgaW50bFZlcnNpb25zID0gWyd2NCddO1xuY29uc3Qgc3VmZml4ZXNPcmRlciA9IHtcbiAgemVybzogMCxcbiAgb25lOiAxLFxuICB0d286IDIsXG4gIGZldzogMyxcbiAgbWFueTogNCxcbiAgb3RoZXI6IDVcbn07XG5jb25zdCBjcmVhdGVSdWxlcyA9ICgpID0+IHtcbiAgY29uc3QgcnVsZXMgPSB7fTtcbiAgc2V0cy5mb3JFYWNoKHNldCA9PiB7XG4gICAgc2V0LmxuZ3MuZm9yRWFjaChsID0+IHtcbiAgICAgIHJ1bGVzW2xdID0ge1xuICAgICAgICBudW1iZXJzOiBzZXQubnIsXG4gICAgICAgIHBsdXJhbHM6IF9ydWxlc1BsdXJhbHNUeXBlc1tzZXQuZmNdXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJ1bGVzO1xufTtcbmNsYXNzIFBsdXJhbFJlc29sdmVyIHtcbiAgY29uc3RydWN0b3IobGFuZ3VhZ2VVdGlscykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBsYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgncGx1cmFsUmVzb2x2ZXInKTtcbiAgICBpZiAoKCF0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gfHwgaW50bFZlcnNpb25zLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTikpICYmICh0eXBlb2YgSW50bCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUludGwuUGx1cmFsUnVsZXMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gPSAndjMnO1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1lvdXIgZW52aXJvbm1lbnQgc2VlbXMgbm90IHRvIGJlIEludGwgQVBJIGNvbXBhdGlibGUsIHVzZSBhbiBJbnRsLlBsdXJhbFJ1bGVzIHBvbHlmaWxsLiBXaWxsIGZhbGxiYWNrIHRvIHRoZSBjb21wYXRpYmlsaXR5SlNPTiB2MyBmb3JtYXQgaGFuZGxpbmcuJyk7XG4gICAgfVxuICAgIHRoaXMucnVsZXMgPSBjcmVhdGVSdWxlcygpO1xuICAgIHRoaXMucGx1cmFsUnVsZXNDYWNoZSA9IHt9O1xuICB9XG4gIGFkZFJ1bGUobG5nLCBvYmopIHtcbiAgICB0aGlzLnJ1bGVzW2xuZ10gPSBvYmo7XG4gIH1cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGUgPSB7fTtcbiAgfVxuICBnZXRSdWxlKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICBjb25zdCBjbGVhbmVkQ29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUgPT09ICdkZXYnID8gJ2VuJyA6IGNvZGUpO1xuICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMub3JkaW5hbCA/ICdvcmRpbmFsJyA6ICdjYXJkaW5hbCc7XG4gICAgICBjb25zdCBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY2xlYW5lZENvZGUsXG4gICAgICAgIHR5cGVcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhY2hlS2V5IGluIHRoaXMucGx1cmFsUnVsZXNDYWNoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlW2NhY2hlS2V5XTtcbiAgICAgIH1cbiAgICAgIGxldCBydWxlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVsZSA9IG5ldyBJbnRsLlBsdXJhbFJ1bGVzKGNsZWFuZWRDb2RlLCB7XG4gICAgICAgICAgdHlwZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIWNvZGUubWF0Y2goLy18Xy8pKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ1BhcnQgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgICAgIHJ1bGUgPSB0aGlzLmdldFJ1bGUobG5nUGFydCwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGVbY2FjaGVLZXldID0gcnVsZTtcbiAgICAgIHJldHVybiBydWxlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ydWxlc1tjb2RlXSB8fCB0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKV07XG4gIH1cbiAgbmVlZHNQbHVyYWwoY29kZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgcmV0dXJuIHJ1bGUgJiYgcnVsZS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLmxlbmd0aCA+IDE7XG4gICAgfVxuICAgIHJldHVybiBydWxlICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPiAxO1xuICB9XG4gIGdldFBsdXJhbEZvcm1zT2ZLZXkoY29kZSwga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHJldHVybiB0aGlzLmdldFN1ZmZpeGVzKGNvZGUsIG9wdGlvbnMpLm1hcChzdWZmaXggPT4gYCR7a2V5fSR7c3VmZml4fWApO1xuICB9XG4gIGdldFN1ZmZpeGVzKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAoIXJ1bGUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICByZXR1cm4gcnVsZS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLnNvcnQoKHBsdXJhbENhdGVnb3J5MSwgcGx1cmFsQ2F0ZWdvcnkyKSA9PiBzdWZmaXhlc09yZGVyW3BsdXJhbENhdGVnb3J5MV0gLSBzdWZmaXhlc09yZGVyW3BsdXJhbENhdGVnb3J5Ml0pLm1hcChwbHVyYWxDYXRlZ29yeSA9PiBgJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke29wdGlvbnMub3JkaW5hbCA/IGBvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gIDogJyd9JHtwbHVyYWxDYXRlZ29yeX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGUubnVtYmVycy5tYXAobnVtYmVyID0+IHRoaXMuZ2V0U3VmZml4KGNvZGUsIG51bWJlciwgb3B0aW9ucykpO1xuICB9XG4gIGdldFN1ZmZpeChjb2RlLCBjb3VudCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmIChydWxlKSB7XG4gICAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7b3B0aW9ucy5vcmRpbmFsID8gYG9yZGluYWwke3RoaXMub3B0aW9ucy5wcmVwZW5kfWAgOiAnJ30ke3J1bGUuc2VsZWN0KGNvdW50KX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKHJ1bGUsIGNvdW50KTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIud2Fybihgbm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiAke2NvZGV9YCk7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShydWxlLCBjb3VudCkge1xuICAgIGNvbnN0IGlkeCA9IHJ1bGUubm9BYnMgPyBydWxlLnBsdXJhbHMoY291bnQpIDogcnVsZS5wbHVyYWxzKE1hdGguYWJzKGNvdW50KSk7XG4gICAgbGV0IHN1ZmZpeCA9IHJ1bGUubnVtYmVyc1tpZHhdO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXggJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgIGlmIChzdWZmaXggPT09IDIpIHtcbiAgICAgICAgc3VmZml4ID0gJ3BsdXJhbCc7XG4gICAgICB9IGVsc2UgaWYgKHN1ZmZpeCA9PT0gMSkge1xuICAgICAgICBzdWZmaXggPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmV0dXJuU3VmZml4ID0gKCkgPT4gdGhpcy5vcHRpb25zLnByZXBlbmQgJiYgc3VmZml4LnRvU3RyaW5nKCkgPyB0aGlzLm9wdGlvbnMucHJlcGVuZCArIHN1ZmZpeC50b1N0cmluZygpIDogc3VmZml4LnRvU3RyaW5nKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YxJykge1xuICAgICAgaWYgKHN1ZmZpeCA9PT0gMSkgcmV0dXJuICcnO1xuICAgICAgaWYgKHR5cGVvZiBzdWZmaXggPT09ICdudW1iZXInKSByZXR1cm4gYF9wbHVyYWxfJHtzdWZmaXgudG9TdHJpbmcoKX1gO1xuICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjInKSB7XG4gICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXggJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcmVwZW5kICYmIGlkeC50b1N0cmluZygpID8gdGhpcy5vcHRpb25zLnByZXBlbmQgKyBpZHgudG9TdHJpbmcoKSA6IGlkeC50b1N0cmluZygpO1xuICB9XG4gIHNob3VsZFVzZUludGxBcGkoKSB7XG4gICAgcmV0dXJuICFub25JbnRsVmVyc2lvbnMuaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKTtcbiAgfVxufVxuXG5jb25zdCBkZWVwRmluZFdpdGhEZWZhdWx0cyA9IGZ1bmN0aW9uIChkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSB7XG4gIGxldCBrZXlTZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcuJztcbiAgbGV0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XG4gIGxldCBwYXRoID0gZ2V0UGF0aFdpdGhEZWZhdWx0cyhkYXRhLCBkZWZhdWx0RGF0YSwga2V5KTtcbiAgaWYgKCFwYXRoICYmIGlnbm9yZUpTT05TdHJ1Y3R1cmUgJiYgaXNTdHJpbmcoa2V5KSkge1xuICAgIHBhdGggPSBkZWVwRmluZChkYXRhLCBrZXksIGtleVNlcGFyYXRvcik7XG4gICAgaWYgKHBhdGggPT09IHVuZGVmaW5lZCkgcGF0aCA9IGRlZXBGaW5kKGRlZmF1bHREYXRhLCBrZXksIGtleVNlcGFyYXRvcik7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuY29uc3QgcmVnZXhTYWZlID0gdmFsID0+IHZhbC5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcbmNsYXNzIEludGVycG9sYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdpbnRlcnBvbGF0b3InKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgfHwgKHZhbHVlID0+IHZhbHVlKTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKCFvcHRpb25zLmludGVycG9sYXRpb24pIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgIGVzY2FwZVZhbHVlOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCB7XG4gICAgICBlc2NhcGU6IGVzY2FwZSQxLFxuICAgICAgZXNjYXBlVmFsdWUsXG4gICAgICB1c2VSYXdWYWx1ZVRvRXNjYXBlLFxuICAgICAgcHJlZml4LFxuICAgICAgcHJlZml4RXNjYXBlZCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHN1ZmZpeEVzY2FwZWQsXG4gICAgICBmb3JtYXRTZXBhcmF0b3IsXG4gICAgICB1bmVzY2FwZVN1ZmZpeCxcbiAgICAgIHVuZXNjYXBlUHJlZml4LFxuICAgICAgbmVzdGluZ1ByZWZpeCxcbiAgICAgIG5lc3RpbmdQcmVmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ1N1ZmZpeCxcbiAgICAgIG5lc3RpbmdTdWZmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IsXG4gICAgICBtYXhSZXBsYWNlcyxcbiAgICAgIGFsd2F5c0Zvcm1hdFxuICAgIH0gPSBvcHRpb25zLmludGVycG9sYXRpb247XG4gICAgdGhpcy5lc2NhcGUgPSBlc2NhcGUkMSAhPT0gdW5kZWZpbmVkID8gZXNjYXBlJDEgOiBlc2NhcGU7XG4gICAgdGhpcy5lc2NhcGVWYWx1ZSA9IGVzY2FwZVZhbHVlICE9PSB1bmRlZmluZWQgPyBlc2NhcGVWYWx1ZSA6IHRydWU7XG4gICAgdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlID0gdXNlUmF3VmFsdWVUb0VzY2FwZSAhPT0gdW5kZWZpbmVkID8gdXNlUmF3VmFsdWVUb0VzY2FwZSA6IGZhbHNlO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4ID8gcmVnZXhFc2NhcGUocHJlZml4KSA6IHByZWZpeEVzY2FwZWQgfHwgJ3t7JztcbiAgICB0aGlzLnN1ZmZpeCA9IHN1ZmZpeCA/IHJlZ2V4RXNjYXBlKHN1ZmZpeCkgOiBzdWZmaXhFc2NhcGVkIHx8ICd9fSc7XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBmb3JtYXRTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSB1bmVzY2FwZVN1ZmZpeCA/ICcnIDogdW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgIHRoaXMudW5lc2NhcGVTdWZmaXggPSB0aGlzLnVuZXNjYXBlUHJlZml4ID8gJycgOiB1bmVzY2FwZVN1ZmZpeCB8fCAnJztcbiAgICB0aGlzLm5lc3RpbmdQcmVmaXggPSBuZXN0aW5nUHJlZml4ID8gcmVnZXhFc2NhcGUobmVzdGluZ1ByZWZpeCkgOiBuZXN0aW5nUHJlZml4RXNjYXBlZCB8fCByZWdleEVzY2FwZSgnJHQoJyk7XG4gICAgdGhpcy5uZXN0aW5nU3VmZml4ID0gbmVzdGluZ1N1ZmZpeCA/IHJlZ2V4RXNjYXBlKG5lc3RpbmdTdWZmaXgpIDogbmVzdGluZ1N1ZmZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyknKTtcbiAgICB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yID0gbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMubWF4UmVwbGFjZXMgPSBtYXhSZXBsYWNlcyB8fCAxMDAwO1xuICAgIHRoaXMuYWx3YXlzRm9ybWF0ID0gYWx3YXlzRm9ybWF0ICE9PSB1bmRlZmluZWQgPyBhbHdheXNGb3JtYXQgOiBmYWxzZTtcbiAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5pbml0KHRoaXMub3B0aW9ucyk7XG4gIH1cbiAgcmVzZXRSZWdFeHAoKSB7XG4gICAgY29uc3QgZ2V0T3JSZXNldFJlZ0V4cCA9IChleGlzdGluZ1JlZ0V4cCwgcGF0dGVybikgPT4ge1xuICAgICAgaWYgKGV4aXN0aW5nUmVnRXhwICYmIGV4aXN0aW5nUmVnRXhwLnNvdXJjZSA9PT0gcGF0dGVybikge1xuICAgICAgICBleGlzdGluZ1JlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdSZWdFeHA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xuICAgIH07XG4gICAgdGhpcy5yZWdleHAgPSBnZXRPclJlc2V0UmVnRXhwKHRoaXMucmVnZXhwLCBgJHt0aGlzLnByZWZpeH0oLis/KSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5yZWdleHBVbmVzY2FwZSA9IGdldE9yUmVzZXRSZWdFeHAodGhpcy5yZWdleHBVbmVzY2FwZSwgYCR7dGhpcy5wcmVmaXh9JHt0aGlzLnVuZXNjYXBlUHJlZml4fSguKz8pJHt0aGlzLnVuZXNjYXBlU3VmZml4fSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5uZXN0aW5nUmVnZXhwID0gZ2V0T3JSZXNldFJlZ0V4cCh0aGlzLm5lc3RpbmdSZWdleHAsIGAke3RoaXMubmVzdGluZ1ByZWZpeH0oLis/KSR7dGhpcy5uZXN0aW5nU3VmZml4fWApO1xuICB9XG4gIGludGVycG9sYXRlKHN0ciwgZGF0YSwgbG5nLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgcmVwbGFjZXM7XG4gICAgY29uc3QgZGVmYXVsdERhdGEgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24gJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyB8fCB7fTtcbiAgICBjb25zdCBoYW5kbGVGb3JtYXQgPSBrZXkgPT4ge1xuICAgICAgaWYgKGtleS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSA8IDApIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRlZXBGaW5kV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrZXksIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWx3YXlzRm9ybWF0ID8gdGhpcy5mb3JtYXQocGF0aCwgdW5kZWZpbmVkLCBsbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgaW50ZXJwb2xhdGlvbmtleToga2V5XG4gICAgICAgIH0pIDogcGF0aDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHAgPSBrZXkuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpO1xuICAgICAgY29uc3QgayA9IHAuc2hpZnQoKS50cmltKCk7XG4gICAgICBjb25zdCBmID0gcC5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKS50cmltKCk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVlcEZpbmRXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGssIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSwgZiwgbG5nLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGludGVycG9sYXRpb25rZXk6IGtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZXNldFJlZ0V4cCgpO1xuICAgIGNvbnN0IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjtcbiAgICBjb25zdCBza2lwT25WYXJpYWJsZXMgPSBvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzIDogdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzO1xuICAgIGNvbnN0IHRvZG9zID0gW3tcbiAgICAgIHJlZ2V4OiB0aGlzLnJlZ2V4cFVuZXNjYXBlLFxuICAgICAgc2FmZVZhbHVlOiB2YWwgPT4gcmVnZXhTYWZlKHZhbClcbiAgICB9LCB7XG4gICAgICByZWdleDogdGhpcy5yZWdleHAsXG4gICAgICBzYWZlVmFsdWU6IHZhbCA9PiB0aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKHRoaXMuZXNjYXBlKHZhbCkpIDogcmVnZXhTYWZlKHZhbClcbiAgICB9XTtcbiAgICB0b2Rvcy5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgcmVwbGFjZXMgPSAwO1xuICAgICAgd2hpbGUgKG1hdGNoID0gdG9kby5yZWdleC5leGVjKHN0cikpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFZhciA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgdmFsdWUgPSBoYW5kbGVGb3JtYXQobWF0Y2hlZFZhcik7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIoc3RyLCBtYXRjaCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YWx1ZSA9IGlzU3RyaW5nKHRlbXApID8gdGVtcCA6ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgbWF0Y2hlZFZhcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgJHttYXRjaGVkVmFyfSBmb3IgaW50ZXJwb2xhdGluZyAke3N0cn1gKTtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyh2YWx1ZSkgJiYgIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSkge1xuICAgICAgICAgIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FmZVZhbHVlID0gdG9kby5zYWZlVmFsdWUodmFsdWUpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgc2FmZVZhbHVlKTtcbiAgICAgICAgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4ICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB0b2RvLnJlZ2V4Lmxhc3RJbmRleCAtPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9kby5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlcGxhY2VzKys7XG4gICAgICAgIGlmIChyZXBsYWNlcyA+PSB0aGlzLm1heFJlcGxhY2VzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIG5lc3Qoc3RyLCBmYykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IHZhbHVlO1xuICAgIGxldCBjbG9uZWRPcHRpb25zO1xuICAgIGNvbnN0IGhhbmRsZUhhc09wdGlvbnMgPSAoa2V5LCBpbmhlcml0ZWRPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBzZXAgPSB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO1xuICAgICAgaWYgKGtleS5pbmRleE9mKHNlcCkgPCAwKSByZXR1cm4ga2V5O1xuICAgICAgY29uc3QgYyA9IGtleS5zcGxpdChuZXcgUmVnRXhwKGAke3NlcH1bIF0qe2ApKTtcbiAgICAgIGxldCBvcHRpb25zU3RyaW5nID0gYHske2NbMV19YDtcbiAgICAgIGtleSA9IGNbMF07XG4gICAgICBvcHRpb25zU3RyaW5nID0gdGhpcy5pbnRlcnBvbGF0ZShvcHRpb25zU3RyaW5nLCBjbG9uZWRPcHRpb25zKTtcbiAgICAgIGNvbnN0IG1hdGNoZWRTaW5nbGVRdW90ZXMgPSBvcHRpb25zU3RyaW5nLm1hdGNoKC8nL2cpO1xuICAgICAgY29uc3QgbWF0Y2hlZERvdWJsZVF1b3RlcyA9IG9wdGlvbnNTdHJpbmcubWF0Y2goL1wiL2cpO1xuICAgICAgaWYgKG1hdGNoZWRTaW5nbGVRdW90ZXMgJiYgbWF0Y2hlZFNpbmdsZVF1b3Rlcy5sZW5ndGggJSAyID09PSAwICYmICFtYXRjaGVkRG91YmxlUXVvdGVzIHx8IG1hdGNoZWREb3VibGVRdW90ZXMubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICBvcHRpb25zU3RyaW5nID0gb3B0aW9uc1N0cmluZy5yZXBsYWNlKC8nL2csICdcIicpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY2xvbmVkT3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9uc1N0cmluZyk7XG4gICAgICAgIGlmIChpbmhlcml0ZWRPcHRpb25zKSBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAgIC4uLmluaGVyaXRlZE9wdGlvbnMsXG4gICAgICAgICAgLi4uY2xvbmVkT3B0aW9uc1xuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgJHtrZXl9YCwgZSk7XG4gICAgICAgIHJldHVybiBgJHtrZXl9JHtzZXB9JHtvcHRpb25zU3RyaW5nfWA7XG4gICAgICB9XG4gICAgICBpZiAoY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWUgJiYgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWUuaW5kZXhPZih0aGlzLnByZWZpeCkgPiAtMSkgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9O1xuICAgIHdoaWxlIChtYXRjaCA9IHRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKHN0cikpIHtcbiAgICAgIGxldCBmb3JtYXR0ZXJzID0gW107XG4gICAgICBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuICAgICAgY2xvbmVkT3B0aW9ucyA9IGNsb25lZE9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcoY2xvbmVkT3B0aW9ucy5yZXBsYWNlKSA/IGNsb25lZE9wdGlvbnMucmVwbGFjZSA6IGNsb25lZE9wdGlvbnM7XG4gICAgICBjbG9uZWRPcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciA9IGZhbHNlO1xuICAgICAgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgbGV0IGRvUmVkdWNlID0gZmFsc2U7XG4gICAgICBpZiAobWF0Y2hbMF0uaW5kZXhPZih0aGlzLmZvcm1hdFNlcGFyYXRvcikgIT09IC0xICYmICEvey4qfS8udGVzdChtYXRjaFsxXSkpIHtcbiAgICAgICAgY29uc3QgciA9IG1hdGNoWzFdLnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKS5tYXAoZWxlbSA9PiBlbGVtLnRyaW0oKSk7XG4gICAgICAgIG1hdGNoWzFdID0gci5zaGlmdCgpO1xuICAgICAgICBmb3JtYXR0ZXJzID0gcjtcbiAgICAgICAgZG9SZWR1Y2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBmYyhoYW5kbGVIYXNPcHRpb25zLmNhbGwodGhpcywgbWF0Y2hbMV0udHJpbSgpLCBjbG9uZWRPcHRpb25zKSwgY2xvbmVkT3B0aW9ucyk7XG4gICAgICBpZiAodmFsdWUgJiYgbWF0Y2hbMF0gPT09IHN0ciAmJiAhaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkgdmFsdWUgPSBtYWtlU3RyaW5nKHZhbHVlKTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHttYXRjaFsxXX0gZm9yIG5lc3RpbmcgJHtzdHJ9YCk7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZWR1Y2UpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXR0ZXJzLnJlZHVjZSgodiwgZikgPT4gdGhpcy5mb3JtYXQodiwgZiwgb3B0aW9ucy5sbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGludGVycG9sYXRpb25rZXk6IG1hdGNoWzFdLnRyaW0oKVxuICAgICAgICB9KSwgdmFsdWUudHJpbSgpKTtcbiAgICAgIH1cbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB2YWx1ZSk7XG4gICAgICB0aGlzLnJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmNvbnN0IHBhcnNlRm9ybWF0U3RyID0gZm9ybWF0U3RyID0+IHtcbiAgbGV0IGZvcm1hdE5hbWUgPSBmb3JtYXRTdHIudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIGNvbnN0IGZvcm1hdE9wdGlvbnMgPSB7fTtcbiAgaWYgKGZvcm1hdFN0ci5pbmRleE9mKCcoJykgPiAtMSkge1xuICAgIGNvbnN0IHAgPSBmb3JtYXRTdHIuc3BsaXQoJygnKTtcbiAgICBmb3JtYXROYW1lID0gcFswXS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBjb25zdCBvcHRTdHIgPSBwWzFdLnN1YnN0cmluZygwLCBwWzFdLmxlbmd0aCAtIDEpO1xuICAgIGlmIChmb3JtYXROYW1lID09PSAnY3VycmVuY3knICYmIG9wdFN0ci5pbmRleE9mKCc6JykgPCAwKSB7XG4gICAgICBpZiAoIWZvcm1hdE9wdGlvbnMuY3VycmVuY3kpIGZvcm1hdE9wdGlvbnMuY3VycmVuY3kgPSBvcHRTdHIudHJpbSgpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0TmFtZSA9PT0gJ3JlbGF0aXZldGltZScgJiYgb3B0U3RyLmluZGV4T2YoJzonKSA8IDApIHtcbiAgICAgIGlmICghZm9ybWF0T3B0aW9ucy5yYW5nZSkgZm9ybWF0T3B0aW9ucy5yYW5nZSA9IG9wdFN0ci50cmltKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9wdHMgPSBvcHRTdHIuc3BsaXQoJzsnKTtcbiAgICAgIG9wdHMuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgY29uc3QgW2tleSwgLi4ucmVzdF0gPSBvcHQuc3BsaXQoJzonKTtcbiAgICAgICAgICBjb25zdCB2YWwgPSByZXN0LmpvaW4oJzonKS50cmltKCkucmVwbGFjZSgvXicrfCcrJC9nLCAnJyk7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZEtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgaWYgKCFmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gdmFsO1xuICAgICAgICAgIGlmICh2YWwgPT09ICdmYWxzZScpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSBmYWxzZTtcbiAgICAgICAgICBpZiAodmFsID09PSAndHJ1ZScpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSB0cnVlO1xuICAgICAgICAgIGlmICghaXNOYU4odmFsKSkgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IHBhcnNlSW50KHZhbCwgMTApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmb3JtYXROYW1lLFxuICAgIGZvcm1hdE9wdGlvbnNcbiAgfTtcbn07XG5jb25zdCBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIgPSBmbiA9PiB7XG4gIGNvbnN0IGNhY2hlID0ge307XG4gIHJldHVybiAodmFsLCBsbmcsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgb3B0Rm9yQ2FjaGUgPSBvcHRpb25zO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbmtleSAmJiBvcHRpb25zLmZvcm1hdFBhcmFtcyAmJiBvcHRpb25zLmZvcm1hdFBhcmFtc1tvcHRpb25zLmludGVycG9sYXRpb25rZXldICYmIG9wdGlvbnNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSkge1xuICAgICAgb3B0Rm9yQ2FjaGUgPSB7XG4gICAgICAgIC4uLm9wdEZvckNhY2hlLFxuICAgICAgICBbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XTogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBsbmcgKyBKU09OLnN0cmluZ2lmeShvcHRGb3JDYWNoZSk7XG4gICAgbGV0IGZvcm1hdHRlciA9IGNhY2hlW2tleV07XG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcbiAgICAgIGZvcm1hdHRlciA9IGZuKGdldENsZWFuZWRDb2RlKGxuZyksIG9wdGlvbnMpO1xuICAgICAgY2FjaGVba2V5XSA9IGZvcm1hdHRlcjtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlcih2YWwpO1xuICB9O1xufTtcbmNsYXNzIEZvcm1hdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdmb3JtYXR0ZXInKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0cyA9IHtcbiAgICAgIG51bWJlcjogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pLFxuICAgICAgY3VycmVuY3k6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdCxcbiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5J1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIGRhdGV0aW1lOiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIHJlbGF0aXZldGltZTogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsLCBvcHQucmFuZ2UgfHwgJ2RheScpO1xuICAgICAgfSksXG4gICAgICBsaXN0OiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkxpc3RGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pXG4gICAgfTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdChzZXJ2aWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBpbnRlcnBvbGF0aW9uOiB7fVxuICAgIH07XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBvcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgfVxuICBhZGQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBmYztcbiAgfVxuICBhZGRDYWNoZWQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoZmMpO1xuICB9XG4gIGZvcm1hdCh2YWx1ZSwgZm9ybWF0LCBsbmcpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgY29uc3QgZm9ybWF0cyA9IGZvcm1hdC5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgaWYgKGZvcm1hdHMubGVuZ3RoID4gMSAmJiBmb3JtYXRzWzBdLmluZGV4T2YoJygnKSA+IDEgJiYgZm9ybWF0c1swXS5pbmRleE9mKCcpJykgPCAwICYmIGZvcm1hdHMuZmluZChmID0+IGYuaW5kZXhPZignKScpID4gLTEpKSB7XG4gICAgICBjb25zdCBsYXN0SW5kZXggPSBmb3JtYXRzLmZpbmRJbmRleChmID0+IGYuaW5kZXhPZignKScpID4gLTEpO1xuICAgICAgZm9ybWF0c1swXSA9IFtmb3JtYXRzWzBdLCAuLi5mb3JtYXRzLnNwbGljZSgxLCBsYXN0SW5kZXgpXS5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0cy5yZWR1Y2UoKG1lbSwgZikgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXROYW1lLFxuICAgICAgICBmb3JtYXRPcHRpb25zXG4gICAgICB9ID0gcGFyc2VGb3JtYXRTdHIoZik7XG4gICAgICBpZiAodGhpcy5mb3JtYXRzW2Zvcm1hdE5hbWVdKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBtZW07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdmFsT3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSB8fCB7fTtcbiAgICAgICAgICBjb25zdCBsID0gdmFsT3B0aW9ucy5sb2NhbGUgfHwgdmFsT3B0aW9ucy5sbmcgfHwgb3B0aW9ucy5sb2NhbGUgfHwgb3B0aW9ucy5sbmcgfHwgbG5nO1xuICAgICAgICAgIGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0c1tmb3JtYXROYW1lXShtZW0sIGwsIHtcbiAgICAgICAgICAgIC4uLmZvcm1hdE9wdGlvbnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgLi4udmFsT3B0aW9uc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGB0aGVyZSB3YXMgbm8gZm9ybWF0IGZ1bmN0aW9uIGZvciAke2Zvcm1hdE5hbWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmNvbnN0IHJlbW92ZVBlbmRpbmcgPSAocSwgbmFtZSkgPT4ge1xuICBpZiAocS5wZW5kaW5nW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWxldGUgcS5wZW5kaW5nW25hbWVdO1xuICAgIHEucGVuZGluZ0NvdW50LS07XG4gIH1cbn07XG5jbGFzcyBDb25uZWN0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihiYWNrZW5kLCBzdG9yZSwgc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJhY2tlbmQgPSBiYWNrZW5kO1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLnNlcnZpY2VzID0gc2VydmljZXM7XG4gICAgdGhpcy5sYW5ndWFnZVV0aWxzID0gc2VydmljZXMubGFuZ3VhZ2VVdGlscztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2JhY2tlbmRDb25uZWN0b3InKTtcbiAgICB0aGlzLndhaXRpbmdSZWFkcyA9IFtdO1xuICAgIHRoaXMubWF4UGFyYWxsZWxSZWFkcyA9IG9wdGlvbnMubWF4UGFyYWxsZWxSZWFkcyB8fCAxMDtcbiAgICB0aGlzLnJlYWRpbmdDYWxscyA9IDA7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID49IDAgPyBvcHRpb25zLm1heFJldHJpZXMgOiA1O1xuICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gb3B0aW9ucy5yZXRyeVRpbWVvdXQgPj0gMSA/IG9wdGlvbnMucmV0cnlUaW1lb3V0IDogMzUwO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgaWYgKHRoaXMuYmFja2VuZCAmJiB0aGlzLmJhY2tlbmQuaW5pdCkge1xuICAgICAgdGhpcy5iYWNrZW5kLmluaXQoc2VydmljZXMsIG9wdGlvbnMuYmFja2VuZCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIHF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdG9Mb2FkID0ge307XG4gICAgY29uc3QgcGVuZGluZyA9IHt9O1xuICAgIGNvbnN0IHRvTG9hZExhbmd1YWdlcyA9IHt9O1xuICAgIGNvbnN0IHRvTG9hZE5hbWVzcGFjZXMgPSB7fTtcbiAgICBsYW5ndWFnZXMuZm9yRWFjaChsbmcgPT4ge1xuICAgICAgbGV0IGhhc0FsbE5hbWVzcGFjZXMgPSB0cnVlO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke2xuZ318JHtuc31gO1xuICAgICAgICBpZiAoIW9wdGlvbnMucmVsb2FkICYmIHRoaXMuc3RvcmUuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlW25hbWVdIDwgMCkgOyBlbHNlIGlmICh0aGlzLnN0YXRlW25hbWVdID09PSAxKSB7XG4gICAgICAgICAgaWYgKHBlbmRpbmdbbmFtZV0gPT09IHVuZGVmaW5lZCkgcGVuZGluZ1tuYW1lXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IDE7XG4gICAgICAgICAgaGFzQWxsTmFtZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChwZW5kaW5nW25hbWVdID09PSB1bmRlZmluZWQpIHBlbmRpbmdbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmICh0b0xvYWRbbmFtZV0gPT09IHVuZGVmaW5lZCkgdG9Mb2FkW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodG9Mb2FkTmFtZXNwYWNlc1tuc10gPT09IHVuZGVmaW5lZCkgdG9Mb2FkTmFtZXNwYWNlc1tuc10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghaGFzQWxsTmFtZXNwYWNlcykgdG9Mb2FkTGFuZ3VhZ2VzW2xuZ10gPSB0cnVlO1xuICAgIH0pO1xuICAgIGlmIChPYmplY3Qua2V5cyh0b0xvYWQpLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhwZW5kaW5nKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7XG4gICAgICAgIHBlbmRpbmcsXG4gICAgICAgIHBlbmRpbmdDb3VudDogT2JqZWN0LmtleXMocGVuZGluZykubGVuZ3RoLFxuICAgICAgICBsb2FkZWQ6IHt9LFxuICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0b0xvYWQ6IE9iamVjdC5rZXlzKHRvTG9hZCksXG4gICAgICBwZW5kaW5nOiBPYmplY3Qua2V5cyhwZW5kaW5nKSxcbiAgICAgIHRvTG9hZExhbmd1YWdlczogT2JqZWN0LmtleXModG9Mb2FkTGFuZ3VhZ2VzKSxcbiAgICAgIHRvTG9hZE5hbWVzcGFjZXM6IE9iamVjdC5rZXlzKHRvTG9hZE5hbWVzcGFjZXMpXG4gICAgfTtcbiAgfVxuICBsb2FkZWQobmFtZSwgZXJyLCBkYXRhKSB7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICBpZiAoZXJyKSB0aGlzLmVtaXQoJ2ZhaWxlZExvYWRpbmcnLCBsbmcsIG5zLCBlcnIpO1xuICAgIGlmICghZXJyICYmIGRhdGEpIHtcbiAgICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgZGF0YSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICAgICAgc2tpcENvcHk6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlW25hbWVdID0gZXJyID8gLTEgOiAyO1xuICAgIGlmIChlcnIgJiYgZGF0YSkgdGhpcy5zdGF0ZVtuYW1lXSA9IDA7XG4gICAgY29uc3QgbG9hZGVkID0ge307XG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKHEgPT4ge1xuICAgICAgcHVzaFBhdGgocS5sb2FkZWQsIFtsbmddLCBucyk7XG4gICAgICByZW1vdmVQZW5kaW5nKHEsIG5hbWUpO1xuICAgICAgaWYgKGVycikgcS5lcnJvcnMucHVzaChlcnIpO1xuICAgICAgaWYgKHEucGVuZGluZ0NvdW50ID09PSAwICYmICFxLmRvbmUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocS5sb2FkZWQpLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgaWYgKCFsb2FkZWRbbF0pIGxvYWRlZFtsXSA9IHt9O1xuICAgICAgICAgIGNvbnN0IGxvYWRlZEtleXMgPSBxLmxvYWRlZFtsXTtcbiAgICAgICAgICBpZiAobG9hZGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvYWRlZEtleXMuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxvYWRlZFtsXVtuXSA9PT0gdW5kZWZpbmVkKSBsb2FkZWRbbF1bbl0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcS5kb25lID0gdHJ1ZTtcbiAgICAgICAgaWYgKHEuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgIHEuY2FsbGJhY2socS5lcnJvcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHEuY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgbG9hZGVkKTtcbiAgICB0aGlzLnF1ZXVlID0gdGhpcy5xdWV1ZS5maWx0ZXIocSA9PiAhcS5kb25lKTtcbiAgfVxuICByZWFkKGxuZywgbnMsIGZjTmFtZSkge1xuICAgIGxldCB0cmllZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICBsZXQgd2FpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdGhpcy5yZXRyeVRpbWVvdXQ7XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFsbmcubGVuZ3RoKSByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICAgIGlmICh0aGlzLnJlYWRpbmdDYWxscyA+PSB0aGlzLm1heFBhcmFsbGVsUmVhZHMpIHtcbiAgICAgIHRoaXMud2FpdGluZ1JlYWRzLnB1c2goe1xuICAgICAgICBsbmcsXG4gICAgICAgIG5zLFxuICAgICAgICBmY05hbWUsXG4gICAgICAgIHRyaWVkLFxuICAgICAgICB3YWl0LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVhZGluZ0NhbGxzKys7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICB0aGlzLnJlYWRpbmdDYWxscy0tO1xuICAgICAgaWYgKHRoaXMud2FpdGluZ1JlYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMud2FpdGluZ1JlYWRzLnNoaWZ0KCk7XG4gICAgICAgIHRoaXMucmVhZChuZXh0LmxuZywgbmV4dC5ucywgbmV4dC5mY05hbWUsIG5leHQudHJpZWQsIG5leHQud2FpdCwgbmV4dC5jYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBpZiAoZXJyICYmIGRhdGEgJiYgdHJpZWQgPCB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZWFkLmNhbGwodGhpcywgbG5nLCBucywgZmNOYW1lLCB0cmllZCArIDEsIHdhaXQgKiAyLCBjYWxsYmFjayk7XG4gICAgICAgIH0sIHdhaXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgIH07XG4gICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmRbZmNOYW1lXS5iaW5kKHRoaXMuYmFja2VuZCk7XG4gICAgaWYgKGZjLmxlbmd0aCA9PT0gMikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgciA9IGZjKGxuZywgbnMpO1xuICAgICAgICBpZiAociAmJiB0eXBlb2Ygci50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgci50aGVuKGRhdGEgPT4gcmVzb2x2ZXIobnVsbCwgZGF0YSkpLmNhdGNoKHJlc29sdmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlcihudWxsLCByKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlc29sdmVyKGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmYyhsbmcsIG5zLCByZXNvbHZlcik7XG4gIH1cbiAgcHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIGlmICghdGhpcy5iYWNrZW5kKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBiYWNrZW5kIHdhcyBhZGRlZCB2aWEgaTE4bmV4dC51c2UuIFdpbGwgbm90IGxvYWQgcmVzb3VyY2VzLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhsYW5ndWFnZXMpKSBsYW5ndWFnZXMgPSB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGxhbmd1YWdlcyk7XG4gICAgaWYgKGlzU3RyaW5nKG5hbWVzcGFjZXMpKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuICAgIGNvbnN0IHRvTG9hZCA9IHRoaXMucXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIGlmICghdG9Mb2FkLnRvTG9hZC5sZW5ndGgpIHtcbiAgICAgIGlmICghdG9Mb2FkLnBlbmRpbmcubGVuZ3RoKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRvTG9hZC50b0xvYWQuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIHRoaXMubG9hZE9uZShuYW1lKTtcbiAgICB9KTtcbiAgfVxuICBsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge30sIGNhbGxiYWNrKTtcbiAgfVxuICByZWxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBjYWxsYmFjaykge1xuICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7XG4gICAgICByZWxvYWQ6IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH1cbiAgbG9hZE9uZShuYW1lKSB7XG4gICAgbGV0IHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICB0aGlzLnJlYWQobG5nLCBucywgJ3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikgdGhpcy5sb2dnZXIud2FybihgJHtwcmVmaXh9bG9hZGluZyBuYW1lc3BhY2UgJHtuc30gZm9yIGxhbmd1YWdlICR7bG5nfSBmYWlsZWRgLCBlcnIpO1xuICAgICAgaWYgKCFlcnIgJiYgZGF0YSkgdGhpcy5sb2dnZXIubG9nKGAke3ByZWZpeH1sb2FkZWQgbmFtZXNwYWNlICR7bnN9IGZvciBsYW5ndWFnZSAke2xuZ31gLCBkYXRhKTtcbiAgICAgIHRoaXMubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgc2F2ZU1pc3NpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgaXNVcGRhdGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDoge307XG4gICAgbGV0IGNsYiA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogKCkgPT4ge307XG4gICAgaWYgKHRoaXMuc2VydmljZXMudXRpbHMgJiYgdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgXCIke2tleX1cIiBhcyB0aGUgbmFtZXNwYWNlIFwiJHtuYW1lc3BhY2V9XCIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwgJ1RoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwga2V5ID09PSBudWxsIHx8IGtleSA9PT0gJycpIHJldHVybjtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5jcmVhdGUpIHtcbiAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGlzVXBkYXRlXG4gICAgICB9O1xuICAgICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmQuY3JlYXRlLmJpbmQodGhpcy5iYWNrZW5kKTtcbiAgICAgIGlmIChmYy5sZW5ndGggPCA2KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHI7XG4gICAgICAgICAgaWYgKGZjLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgciA9IGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByID0gZmMobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyICYmIHR5cGVvZiByLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHIudGhlbihkYXRhID0+IGNsYihudWxsLCBkYXRhKSkuY2F0Y2goY2xiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xiKG51bGwsIHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2xiKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIGNsYiwgb3B0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbGFuZ3VhZ2VzIHx8ICFsYW5ndWFnZXNbMF0pIHJldHVybjtcbiAgICB0aGlzLnN0b3JlLmFkZFJlc291cmNlKGxhbmd1YWdlc1swXSwgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpO1xuICB9XG59XG5cbmNvbnN0IGdldCA9ICgpID0+ICh7XG4gIGRlYnVnOiBmYWxzZSxcbiAgaW5pdEltbWVkaWF0ZTogdHJ1ZSxcbiAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgZGVmYXVsdE5TOiBbJ3RyYW5zbGF0aW9uJ10sXG4gIGZhbGxiYWNrTG5nOiBbJ2RldiddLFxuICBmYWxsYmFja05TOiBmYWxzZSxcbiAgc3VwcG9ydGVkTG5nczogZmFsc2UsXG4gIG5vbkV4cGxpY2l0U3VwcG9ydGVkTG5nczogZmFsc2UsXG4gIGxvYWQ6ICdhbGwnLFxuICBwcmVsb2FkOiBmYWxzZSxcbiAgc2ltcGxpZnlQbHVyYWxTdWZmaXg6IHRydWUsXG4gIGtleVNlcGFyYXRvcjogJy4nLFxuICBuc1NlcGFyYXRvcjogJzonLFxuICBwbHVyYWxTZXBhcmF0b3I6ICdfJyxcbiAgY29udGV4dFNlcGFyYXRvcjogJ18nLFxuICBwYXJ0aWFsQnVuZGxlZExhbmd1YWdlczogZmFsc2UsXG4gIHNhdmVNaXNzaW5nOiBmYWxzZSxcbiAgdXBkYXRlTWlzc2luZzogZmFsc2UsXG4gIHNhdmVNaXNzaW5nVG86ICdmYWxsYmFjaycsXG4gIHNhdmVNaXNzaW5nUGx1cmFsczogdHJ1ZSxcbiAgbWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI6IGZhbHNlLFxuICBwb3N0UHJvY2VzczogZmFsc2UsXG4gIHBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkOiBmYWxzZSxcbiAgcmV0dXJuTnVsbDogZmFsc2UsXG4gIHJldHVybkVtcHR5U3RyaW5nOiB0cnVlLFxuICByZXR1cm5PYmplY3RzOiBmYWxzZSxcbiAgam9pbkFycmF5czogZmFsc2UsXG4gIHJldHVybmVkT2JqZWN0SGFuZGxlcjogZmFsc2UsXG4gIHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICBhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6IGZhbHNlLFxuICBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZTogZmFsc2UsXG4gIG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOiBhcmdzID0+IHtcbiAgICBsZXQgcmV0ID0ge307XG4gICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnb2JqZWN0JykgcmV0ID0gYXJnc1sxXTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1sxXSkpIHJldC5kZWZhdWx0VmFsdWUgPSBhcmdzWzFdO1xuICAgIGlmIChpc1N0cmluZyhhcmdzWzJdKSkgcmV0LnREZXNjcmlwdGlvbiA9IGFyZ3NbMl07XG4gICAgaWYgKHR5cGVvZiBhcmdzWzJdID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYXJnc1szXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzNdIHx8IGFyZ3NbMl07XG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHJldFtrZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG4gIGludGVycG9sYXRpb246IHtcbiAgICBlc2NhcGVWYWx1ZTogdHJ1ZSxcbiAgICBmb3JtYXQ6IHZhbHVlID0+IHZhbHVlLFxuICAgIHByZWZpeDogJ3t7JyxcbiAgICBzdWZmaXg6ICd9fScsXG4gICAgZm9ybWF0U2VwYXJhdG9yOiAnLCcsXG4gICAgdW5lc2NhcGVQcmVmaXg6ICctJyxcbiAgICBuZXN0aW5nUHJlZml4OiAnJHQoJyxcbiAgICBuZXN0aW5nU3VmZml4OiAnKScsXG4gICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3I6ICcsJyxcbiAgICBtYXhSZXBsYWNlczogMTAwMCxcbiAgICBza2lwT25WYXJpYWJsZXM6IHRydWVcbiAgfVxufSk7XG5jb25zdCB0cmFuc2Zvcm1PcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gIGlmIChpc1N0cmluZyhvcHRpb25zLm5zKSkgb3B0aW9ucy5ucyA9IFtvcHRpb25zLm5zXTtcbiAgaWYgKGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMbmcpKSBvcHRpb25zLmZhbGxiYWNrTG5nID0gW29wdGlvbnMuZmFsbGJhY2tMbmddO1xuICBpZiAoaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja05TKSkgb3B0aW9ucy5mYWxsYmFja05TID0gW29wdGlvbnMuZmFsbGJhY2tOU107XG4gIGlmIChvcHRpb25zLnN1cHBvcnRlZExuZ3MgJiYgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoJ2NpbW9kZScpIDwgMCkge1xuICAgIG9wdGlvbnMuc3VwcG9ydGVkTG5ncyA9IG9wdGlvbnMuc3VwcG9ydGVkTG5ncy5jb25jYXQoWydjaW1vZGUnXSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5jb25zdCBiaW5kTWVtYmVyRnVuY3Rpb25zID0gaW5zdCA9PiB7XG4gIGNvbnN0IG1lbXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5zdCkpO1xuICBtZW1zLmZvckVhY2gobWVtID0+IHtcbiAgICBpZiAodHlwZW9mIGluc3RbbWVtXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5zdFttZW1dID0gaW5zdFttZW1dLmJpbmQoaW5zdCk7XG4gICAgfVxuICB9KTtcbn07XG5jbGFzcyBJMThuIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gdHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLnNlcnZpY2VzID0ge307XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyO1xuICAgIHRoaXMubW9kdWxlcyA9IHtcbiAgICAgIGV4dGVybmFsOiBbXVxuICAgIH07XG4gICAgYmluZE1lbWJlckZ1bmN0aW9ucyh0aGlzKTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgIXRoaXMuaXNJbml0aWFsaXplZCAmJiAhb3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH1cbiAgaW5pdCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmRlZmF1bHROUyAmJiBvcHRpb25zLmRlZmF1bHROUyAhPT0gZmFsc2UgJiYgb3B0aW9ucy5ucykge1xuICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMubnMpKSB7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdE5TID0gb3B0aW9ucy5ucztcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5ucy5pbmRleE9mKCd0cmFuc2xhdGlvbicpIDwgMCkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHROUyA9IG9wdGlvbnMubnNbMF07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlZk9wdHMgPSBnZXQoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5kZWZPcHRzLFxuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4udHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKVxuICAgIH07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgICAgLi4uZGVmT3B0cy5pbnRlcnBvbGF0aW9uLFxuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5uc1NlcGFyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3I7XG4gICAgfVxuICAgIGNvbnN0IGNyZWF0ZUNsYXNzT25EZW1hbmQgPSBDbGFzc09yT2JqZWN0ID0+IHtcbiAgICAgIGlmICghQ2xhc3NPck9iamVjdCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIENsYXNzT3JPYmplY3QgPT09ICdmdW5jdGlvbicpIHJldHVybiBuZXcgQ2xhc3NPck9iamVjdCgpO1xuICAgICAgcmV0dXJuIENsYXNzT3JPYmplY3Q7XG4gICAgfTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmxvZ2dlcikge1xuICAgICAgICBiYXNlTG9nZ2VyLmluaXQoY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubG9nZ2VyKSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VMb2dnZXIuaW5pdChudWxsLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgbGV0IGZvcm1hdHRlcjtcbiAgICAgIGlmICh0aGlzLm1vZHVsZXMuZm9ybWF0dGVyKSB7XG4gICAgICAgIGZvcm1hdHRlciA9IHRoaXMubW9kdWxlcy5mb3JtYXR0ZXI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmb3JtYXR0ZXIgPSBGb3JtYXR0ZXI7XG4gICAgICB9XG4gICAgICBjb25zdCBsdSA9IG5ldyBMYW5ndWFnZVV0aWwodGhpcy5vcHRpb25zKTtcbiAgICAgIHRoaXMuc3RvcmUgPSBuZXcgUmVzb3VyY2VTdG9yZSh0aGlzLm9wdGlvbnMucmVzb3VyY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgcyA9IHRoaXMuc2VydmljZXM7XG4gICAgICBzLmxvZ2dlciA9IGJhc2VMb2dnZXI7XG4gICAgICBzLnJlc291cmNlU3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgcy5sYW5ndWFnZVV0aWxzID0gbHU7XG4gICAgICBzLnBsdXJhbFJlc29sdmVyID0gbmV3IFBsdXJhbFJlc29sdmVyKGx1LCB7XG4gICAgICAgIHByZXBlbmQ6IHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IsXG4gICAgICAgIGNvbXBhdGliaWxpdHlKU09OOiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04sXG4gICAgICAgIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXhcbiAgICAgIH0pO1xuICAgICAgaWYgKGZvcm1hdHRlciAmJiAoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCB8fCB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgPT09IGRlZk9wdHMuaW50ZXJwb2xhdGlvbi5mb3JtYXQpKSB7XG4gICAgICAgIHMuZm9ybWF0dGVyID0gY3JlYXRlQ2xhc3NPbkRlbWFuZChmb3JtYXR0ZXIpO1xuICAgICAgICBzLmZvcm1hdHRlci5pbml0KHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCA9IHMuZm9ybWF0dGVyLmZvcm1hdC5iaW5kKHMuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIHMuaW50ZXJwb2xhdG9yID0gbmV3IEludGVycG9sYXRvcih0aGlzLm9wdGlvbnMpO1xuICAgICAgcy51dGlscyA9IHtcbiAgICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiB0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpXG4gICAgICB9O1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yID0gbmV3IENvbm5lY3RvcihjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5iYWNrZW5kKSwgcy5yZXNvdXJjZVN0b3JlLCBzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSB7XG4gICAgICAgIHMubGFuZ3VhZ2VEZXRlY3RvciA9IGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpO1xuICAgICAgICBpZiAocy5sYW5ndWFnZURldGVjdG9yLmluaXQpIHMubGFuZ3VhZ2VEZXRlY3Rvci5pbml0KHMsIHRoaXMub3B0aW9ucy5kZXRlY3Rpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpIHtcbiAgICAgICAgcy5pMThuRm9ybWF0ID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCk7XG4gICAgICAgIGlmIChzLmkxOG5Gb3JtYXQuaW5pdCkgcy5pMThuRm9ybWF0LmluaXQodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcih0aGlzLnNlcnZpY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGlmIChtLmluaXQpIG0uaW5pdCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmZvcm1hdCA9IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdDtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLm9wdGlvbnMubG5nKSB7XG4gICAgICBjb25zdCBjb2RlcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICBpZiAoY29kZXMubGVuZ3RoID4gMCAmJiBjb2Rlc1swXSAhPT0gJ2RldicpIHRoaXMub3B0aW9ucy5sbmcgPSBjb2Rlc1swXTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMub3B0aW9ucy5sbmcpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2luaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQnKTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmVBcGkgPSBbJ2dldFJlc291cmNlJywgJ2hhc1Jlc291cmNlQnVuZGxlJywgJ2dldFJlc291cmNlQnVuZGxlJywgJ2dldERhdGFCeUxhbmd1YWdlJ107XG4gICAgc3RvcmVBcGkuZm9yRWFjaChmY05hbWUgPT4ge1xuICAgICAgdGhpc1tmY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVbZmNOYW1lXSguLi5hcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBzdG9yZUFwaUNoYWluZWQgPSBbJ2FkZFJlc291cmNlJywgJ2FkZFJlc291cmNlcycsICdhZGRSZXNvdXJjZUJ1bmRsZScsICdyZW1vdmVSZXNvdXJjZUJ1bmRsZSddO1xuICAgIHN0b3JlQXBpQ2hhaW5lZC5mb3JFYWNoKGZjTmFtZSA9PiB7XG4gICAgICB0aGlzW2ZjTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnN0b3JlW2ZjTmFtZV0oLi4uYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbmlzaCA9IChlcnIsIHQpID0+IHtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkICYmICF0aGlzLmluaXRpYWxpemVkU3RvcmVPbmNlKSB0aGlzLmxvZ2dlci53YXJuKCdpbml0OiBpMThuZXh0IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2FsbCBpbml0IGp1c3Qgb25jZSEnKTtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSkgdGhpcy5sb2dnZXIubG9nKCdpbml0aWFsaXplZCcsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW1pdCgnaW5pdGlhbGl6ZWQnLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHQpO1xuICAgICAgICBjYWxsYmFjayhlcnIsIHQpO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJyAmJiAhdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm4gZmluaXNoKG51bGwsIHRoaXMudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UodGhpcy5vcHRpb25zLmxuZywgZmluaXNoKTtcbiAgICB9O1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzb3VyY2VzIHx8ICF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkge1xuICAgICAgbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGxvYWQsIDApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgbG9hZFJlc291cmNlcyhsYW5ndWFnZSkge1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBsZXQgdXNlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY29uc3QgdXNlZExuZyA9IGlzU3RyaW5nKGxhbmd1YWdlKSA/IGxhbmd1YWdlIDogdGhpcy5sYW5ndWFnZTtcbiAgICBpZiAodHlwZW9mIGxhbmd1YWdlID09PSAnZnVuY3Rpb24nKSB1c2VkQ2FsbGJhY2sgPSBsYW5ndWFnZTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXNvdXJjZXMgfHwgdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzKSB7XG4gICAgICBpZiAodXNlZExuZyAmJiB1c2VkTG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnICYmICghdGhpcy5vcHRpb25zLnByZWxvYWQgfHwgdGhpcy5vcHRpb25zLnByZWxvYWQubGVuZ3RoID09PSAwKSkgcmV0dXJuIHVzZWRDYWxsYmFjaygpO1xuICAgICAgY29uc3QgdG9Mb2FkID0gW107XG4gICAgICBjb25zdCBhcHBlbmQgPSBsbmcgPT4ge1xuICAgICAgICBpZiAoIWxuZykgcmV0dXJuO1xuICAgICAgICBpZiAobG5nID09PSAnY2ltb2RlJykgcmV0dXJuO1xuICAgICAgICBjb25zdCBsbmdzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsbmcpO1xuICAgICAgICBsbmdzLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgaWYgKGwgPT09ICdjaW1vZGUnKSByZXR1cm47XG4gICAgICAgICAgaWYgKHRvTG9hZC5pbmRleE9mKGwpIDwgMCkgdG9Mb2FkLnB1c2gobCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGlmICghdXNlZExuZykge1xuICAgICAgICBjb25zdCBmYWxsYmFja3MgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgICBmYWxsYmFja3MuZm9yRWFjaChsID0+IGFwcGVuZChsKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBlbmQodXNlZExuZyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnByZWxvYWQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChsID0+IGFwcGVuZChsKSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IubG9hZCh0b0xvYWQsIHRoaXMub3B0aW9ucy5ucywgZSA9PiB7XG4gICAgICAgIGlmICghZSAmJiAhdGhpcy5yZXNvbHZlZExhbmd1YWdlICYmIHRoaXMubGFuZ3VhZ2UpIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgdXNlZENhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZWRDYWxsYmFjayhudWxsKTtcbiAgICB9XG4gIH1cbiAgcmVsb2FkUmVzb3VyY2VzKGxuZ3MsIG5zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAodHlwZW9mIGxuZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gbG5ncztcbiAgICAgIGxuZ3MgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gbnM7XG4gICAgICBucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFsbmdzKSBsbmdzID0gdGhpcy5sYW5ndWFnZXM7XG4gICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMubnM7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5yZWxvYWQobG5ncywgbnMsIGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICB1c2UobW9kdWxlKSB7XG4gICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKCFtb2R1bGUudHlwZSkgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHBhc3NpbmcgYSB3cm9uZyBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnYmFja2VuZCcpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5iYWNrZW5kID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsb2dnZXInIHx8IG1vZHVsZS5sb2cgJiYgbW9kdWxlLndhcm4gJiYgbW9kdWxlLmVycm9yKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubG9nZ2VyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsYW5ndWFnZURldGVjdG9yJykge1xuICAgICAgdGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2kxOG5Gb3JtYXQnKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAncG9zdFByb2Nlc3NvcicpIHtcbiAgICAgIHBvc3RQcm9jZXNzb3IuYWRkUG9zdFByb2Nlc3Nvcihtb2R1bGUpO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdmb3JtYXR0ZXInKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuZm9ybWF0dGVyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICczcmRQYXJ0eScpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKG1vZHVsZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFJlc29sdmVkTGFuZ3VhZ2UobCkge1xuICAgIGlmICghbCB8fCAhdGhpcy5sYW5ndWFnZXMpIHJldHVybjtcbiAgICBpZiAoWydjaW1vZGUnLCAnZGV2J10uaW5kZXhPZihsKSA+IC0xKSByZXR1cm47XG4gICAgZm9yIChsZXQgbGkgPSAwOyBsaSA8IHRoaXMubGFuZ3VhZ2VzLmxlbmd0aDsgbGkrKykge1xuICAgICAgY29uc3QgbG5nSW5MbmdzID0gdGhpcy5sYW5ndWFnZXNbbGldO1xuICAgICAgaWYgKFsnY2ltb2RlJywgJ2RldiddLmluZGV4T2YobG5nSW5MbmdzKSA+IC0xKSBjb250aW51ZTtcbiAgICAgIGlmICh0aGlzLnN0b3JlLmhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhsbmdJbkxuZ3MpKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IGxuZ0luTG5ncztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNoYW5nZUxhbmd1YWdlKGxuZywgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gbG5nO1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdpbmcnLCBsbmcpO1xuICAgIGNvbnN0IHNldExuZ1Byb3BzID0gbCA9PiB7XG4gICAgICB0aGlzLmxhbmd1YWdlID0gbDtcbiAgICAgIHRoaXMubGFuZ3VhZ2VzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKTtcbiAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZShsKTtcbiAgICB9O1xuICAgIGNvbnN0IGRvbmUgPSAoZXJyLCBsKSA9PiB7XG4gICAgICBpZiAobCkge1xuICAgICAgICBzZXRMbmdQcm9wcyhsKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnQoLi4uYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi50KC4uLmFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldExuZyA9IGxuZ3MgPT4ge1xuICAgICAgaWYgKCFsbmcgJiYgIWxuZ3MgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yKSBsbmdzID0gW107XG4gICAgICBjb25zdCBsID0gaXNTdHJpbmcobG5ncykgPyBsbmdzIDogdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEJlc3RNYXRjaEZyb21Db2RlcyhsbmdzKTtcbiAgICAgIGlmIChsKSB7XG4gICAgICAgIGlmICghdGhpcy5sYW5ndWFnZSkge1xuICAgICAgICAgIHNldExuZ1Byb3BzKGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy50cmFuc2xhdG9yLmxhbmd1YWdlKSB0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UobCk7XG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UobCk7XG4gICAgICB9XG4gICAgICB0aGlzLmxvYWRSZXNvdXJjZXMobCwgZXJyID0+IHtcbiAgICAgICAgZG9uZShlcnIsIGwpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYykge1xuICAgICAgc2V0TG5nKHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKSk7XG4gICAgfSBlbHNlIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmMpIHtcbiAgICAgIGlmICh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkudGhlbihzZXRMbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChzZXRMbmcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRMbmcobG5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGdldEZpeGVkVChsbmcsIG5zLCBrZXlQcmVmaXgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICBjb25zdCBmaXhlZFQgPSBmdW5jdGlvbiAoa2V5LCBvcHRzKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICByZXN0W19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBfdGhpczMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihba2V5LCBvcHRzXS5jb25jYXQocmVzdCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBvcHRpb25zLmxuZyA9IG9wdGlvbnMubG5nIHx8IGZpeGVkVC5sbmc7XG4gICAgICBvcHRpb25zLmxuZ3MgPSBvcHRpb25zLmxuZ3MgfHwgZml4ZWRULmxuZ3M7XG4gICAgICBvcHRpb25zLm5zID0gb3B0aW9ucy5ucyB8fCBmaXhlZFQubnM7XG4gICAgICBpZiAob3B0aW9ucy5rZXlQcmVmaXggIT09ICcnKSBvcHRpb25zLmtleVByZWZpeCA9IG9wdGlvbnMua2V5UHJlZml4IHx8IGtleVByZWZpeCB8fCBmaXhlZFQua2V5UHJlZml4O1xuICAgICAgY29uc3Qga2V5U2VwYXJhdG9yID0gX3RoaXMzLm9wdGlvbnMua2V5U2VwYXJhdG9yIHx8ICcuJztcbiAgICAgIGxldCByZXN1bHRLZXk7XG4gICAgICBpZiAob3B0aW9ucy5rZXlQcmVmaXggJiYgQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIHJlc3VsdEtleSA9IGtleS5tYXAoayA9PiBgJHtvcHRpb25zLmtleVByZWZpeH0ke2tleVNlcGFyYXRvcn0ke2t9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRLZXkgPSBvcHRpb25zLmtleVByZWZpeCA/IGAke29wdGlvbnMua2V5UHJlZml4fSR7a2V5U2VwYXJhdG9yfSR7a2V5fWAgOiBrZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3RoaXMzLnQocmVzdWx0S2V5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGlmIChpc1N0cmluZyhsbmcpKSB7XG4gICAgICBmaXhlZFQubG5nID0gbG5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXhlZFQubG5ncyA9IGxuZztcbiAgICB9XG4gICAgZml4ZWRULm5zID0gbnM7XG4gICAgZml4ZWRULmtleVByZWZpeCA9IGtleVByZWZpeDtcbiAgICByZXR1cm4gZml4ZWRUO1xuICB9XG4gIHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiB0aGlzLnRyYW5zbGF0b3IudHJhbnNsYXRlKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgZXhpc3RzKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IgJiYgdGhpcy50cmFuc2xhdG9yLmV4aXN0cyguLi5hcmd1bWVudHMpO1xuICB9XG4gIHNldERlZmF1bHROYW1lc3BhY2UobnMpIHtcbiAgICB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TID0gbnM7XG4gIH1cbiAgaGFzTG9hZGVkTmFtZXNwYWNlKG5zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG5leHQgd2FzIG5vdCBpbml0aWFsaXplZCcsIHRoaXMubGFuZ3VhZ2VzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmxhbmd1YWdlcyB8fCAhdGhpcy5sYW5ndWFnZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG4ubGFuZ3VhZ2VzIHdlcmUgdW5kZWZpbmVkIG9yIGVtcHR5JywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgfHwgdGhpcy5sYW5ndWFnZXNbMF07XG4gICAgY29uc3QgZmFsbGJhY2tMbmcgPSB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcgOiBmYWxzZTtcbiAgICBjb25zdCBsYXN0TG5nID0gdGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgbG9hZE5vdFBlbmRpbmcgPSAobCwgbikgPT4ge1xuICAgICAgY29uc3QgbG9hZFN0YXRlID0gdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnN0YXRlW2Ake2x9fCR7bn1gXTtcbiAgICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMCB8fCBsb2FkU3RhdGUgPT09IDI7XG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5wcmVjaGVjaykge1xuICAgICAgY29uc3QgcHJlUmVzdWx0ID0gb3B0aW9ucy5wcmVjaGVjayh0aGlzLCBsb2FkTm90UGVuZGluZyk7XG4gICAgICBpZiAocHJlUmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybiBwcmVSZXN1bHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IHRoaXMub3B0aW9ucy5yZXNvdXJjZXMgJiYgIXRoaXMub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGxvYWROb3RQZW5kaW5nKGxuZywgbnMpICYmICghZmFsbGJhY2tMbmcgfHwgbG9hZE5vdFBlbmRpbmcobGFzdExuZywgbnMpKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxvYWROYW1lc3BhY2VzKG5zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5ucykge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gICAgbnMuZm9yRWFjaChuID0+IHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihuKSA8IDApIHRoaXMub3B0aW9ucy5ucy5wdXNoKG4pO1xuICAgIH0pO1xuICAgIHRoaXMubG9hZFJlc291cmNlcyhlcnIgPT4ge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBsb2FkTGFuZ3VhZ2VzKGxuZ3MsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIGlmIChpc1N0cmluZyhsbmdzKSkgbG5ncyA9IFtsbmdzXTtcbiAgICBjb25zdCBwcmVsb2FkZWQgPSB0aGlzLm9wdGlvbnMucHJlbG9hZCB8fCBbXTtcbiAgICBjb25zdCBuZXdMbmdzID0gbG5ncy5maWx0ZXIobG5nID0+IHByZWxvYWRlZC5pbmRleE9mKGxuZykgPCAwICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5pc1N1cHBvcnRlZENvZGUobG5nKSk7XG4gICAgaWYgKCFuZXdMbmdzLmxlbmd0aCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMucHJlbG9hZCA9IHByZWxvYWRlZC5jb25jYXQobmV3TG5ncyk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGRpcihsbmcpIHtcbiAgICBpZiAoIWxuZykgbG5nID0gdGhpcy5yZXNvbHZlZExhbmd1YWdlIHx8ICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLmxhbmd1YWdlcy5sZW5ndGggPiAwID8gdGhpcy5sYW5ndWFnZXNbMF0gOiB0aGlzLmxhbmd1YWdlKTtcbiAgICBpZiAoIWxuZykgcmV0dXJuICdydGwnO1xuICAgIGNvbnN0IHJ0bExuZ3MgPSBbJ2FyJywgJ3NodScsICdzcXInLCAnc3NoJywgJ3hhYScsICd5aGQnLCAneXVkJywgJ2FhbycsICdhYmgnLCAnYWJ2JywgJ2FjbScsICdhY3EnLCAnYWN3JywgJ2FjeCcsICdhY3knLCAnYWRmJywgJ2FkcycsICdhZWInLCAnYWVjJywgJ2FmYicsICdhanAnLCAnYXBjJywgJ2FwZCcsICdhcmInLCAnYXJxJywgJ2FycycsICdhcnknLCAnYXJ6JywgJ2F1eicsICdhdmwnLCAnYXloJywgJ2F5bCcsICdheW4nLCAnYXlwJywgJ2JieicsICdwZ2EnLCAnaGUnLCAnaXcnLCAncHMnLCAncGJ0JywgJ3BidScsICdwc3QnLCAncHJwJywgJ3ByZCcsICd1ZycsICd1cicsICd5ZGQnLCAneWRzJywgJ3lpaCcsICdqaScsICd5aScsICdoYm8nLCAnbWVuJywgJ3htbicsICdmYScsICdqcHInLCAncGVvJywgJ3BlcycsICdwcnMnLCAnZHYnLCAnc2FtJywgJ2NrYiddO1xuICAgIGNvbnN0IGxhbmd1YWdlVXRpbHMgPSB0aGlzLnNlcnZpY2VzICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscyB8fCBuZXcgTGFuZ3VhZ2VVdGlsKGdldCgpKTtcbiAgICByZXR1cm4gcnRsTG5ncy5pbmRleE9mKGxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUobG5nKSkgPiAtMSB8fCBsbmcudG9Mb3dlckNhc2UoKS5pbmRleE9mKCctYXJhYicpID4gMSA/ICdydGwnIDogJ2x0cic7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZUluc3RhbmNlKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IEkxOG4ob3B0aW9ucywgY2FsbGJhY2spO1xuICB9XG4gIGNsb25lSW5zdGFuY2UoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBjb25zdCBmb3JrUmVzb3VyY2VTdG9yZSA9IG9wdGlvbnMuZm9ya1Jlc291cmNlU3RvcmU7XG4gICAgaWYgKGZvcmtSZXNvdXJjZVN0b3JlKSBkZWxldGUgb3B0aW9ucy5mb3JrUmVzb3VyY2VTdG9yZTtcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLntcbiAgICAgICAgaXNDbG9uZTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvbmUgPSBuZXcgSTE4bihtZXJnZWRPcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5kZWJ1ZyAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsb25lLmxvZ2dlciA9IGNsb25lLmxvZ2dlci5jbG9uZShvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgbWVtYmVyc1RvQ29weSA9IFsnc3RvcmUnLCAnc2VydmljZXMnLCAnbGFuZ3VhZ2UnXTtcbiAgICBtZW1iZXJzVG9Db3B5LmZvckVhY2gobSA9PiB7XG4gICAgICBjbG9uZVttXSA9IHRoaXNbbV07XG4gICAgfSk7XG4gICAgY2xvbmUuc2VydmljZXMgPSB7XG4gICAgICAuLi50aGlzLnNlcnZpY2VzXG4gICAgfTtcbiAgICBjbG9uZS5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogY2xvbmUuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoY2xvbmUpXG4gICAgfTtcbiAgICBpZiAoZm9ya1Jlc291cmNlU3RvcmUpIHtcbiAgICAgIGNsb25lLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUodGhpcy5zdG9yZS5kYXRhLCBtZXJnZWRPcHRpb25zKTtcbiAgICAgIGNsb25lLnNlcnZpY2VzLnJlc291cmNlU3RvcmUgPSBjbG9uZS5zdG9yZTtcbiAgICB9XG4gICAgY2xvbmUudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKGNsb25lLnNlcnZpY2VzLCBtZXJnZWRPcHRpb25zKTtcbiAgICBjbG9uZS50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuICAgICAgY2xvbmUuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfSk7XG4gICAgY2xvbmUuaW5pdChtZXJnZWRPcHRpb25zLCBjYWxsYmFjayk7XG4gICAgY2xvbmUudHJhbnNsYXRvci5vcHRpb25zID0gbWVyZ2VkT3B0aW9ucztcbiAgICBjbG9uZS50cmFuc2xhdG9yLmJhY2tlbmRDb25uZWN0b3Iuc2VydmljZXMudXRpbHMgPSB7XG4gICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IGNsb25lLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGNsb25lKVxuICAgIH07XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmUsXG4gICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGxhbmd1YWdlczogdGhpcy5sYW5ndWFnZXMsXG4gICAgICByZXNvbHZlZExhbmd1YWdlOiB0aGlzLnJlc29sdmVkTGFuZ3VhZ2VcbiAgICB9O1xuICB9XG59XG5jb25zdCBpbnN0YW5jZSA9IEkxOG4uY3JlYXRlSW5zdGFuY2UoKTtcbmluc3RhbmNlLmNyZWF0ZUluc3RhbmNlID0gSTE4bi5jcmVhdGVJbnN0YW5jZTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnN0YW5jZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJMThuQ29udGV4dCB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gSTE4bmV4dFByb3ZpZGVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpMThuLFxuICAgIGRlZmF1bHROUyxcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjtcbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgaTE4bixcbiAgICBkZWZhdWx0TlNcbiAgfSksIFtpMThuLCBkZWZhdWx0TlNdKTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSTE4bkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vZGVzVG9TdHJpbmcsIFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuZXhwb3J0IHsgbm9kZXNUb1N0cmluZyB9O1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjb3VudCxcbiAgICBwYXJlbnQsXG4gICAgaTE4bktleSxcbiAgICBjb250ZXh0LFxuICAgIHRPcHRpb25zID0ge30sXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnMsXG4gICAgaTE4bjogaTE4bkZyb21Qcm9wcyxcbiAgICB0OiB0RnJvbVByb3BzLFxuICAgIHNob3VsZFVuZXNjYXBlLFxuICAgIC4uLmFkZGl0aW9uYWxQcm9wc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgY29uc3QgdCA9IHRGcm9tUHJvcHMgfHwgaTE4biAmJiBpMThuLnQuYmluZChpMThuKTtcbiAgcmV0dXJuIFRyYW5zV2l0aG91dENvbnRleHQoe1xuICAgIGNoaWxkcmVuLFxuICAgIGNvdW50LFxuICAgIHBhcmVudCxcbiAgICBpMThuS2V5LFxuICAgIGNvbnRleHQsXG4gICAgdE9wdGlvbnMsXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnM6IG5zIHx8IHQgJiYgdC5ucyB8fCBkZWZhdWx0TlNGcm9tQ29udGV4dCB8fCBpMThuICYmIGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuZGVmYXVsdE5TLFxuICAgIGkxOG4sXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSk7XG59IiwiaW1wb3J0IHsgRnJhZ21lbnQsIGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhUTUwgZnJvbSAnaHRtbC1wYXJzZS1zdHJpbmdpZnknO1xuaW1wb3J0IHsgaXNPYmplY3QsIGlzU3RyaW5nLCB3YXJuLCB3YXJuT25jZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5jb25zdCBoYXNDaGlsZHJlbiA9IChub2RlLCBjaGVja0xlbmd0aCkgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgYmFzZSA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgaWYgKGNoZWNrTGVuZ3RoKSByZXR1cm4gYmFzZS5sZW5ndGggPiAwO1xuICByZXR1cm4gISFiYXNlO1xufTtcbmNvbnN0IGdldENoaWxkcmVuID0gbm9kZSA9PiB7XG4gIGlmICghbm9kZSkgcmV0dXJuIFtdO1xuICBjb25zdCBjaGlsZHJlbiA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgcmV0dXJuIG5vZGUucHJvcHMgJiYgbm9kZS5wcm9wcy5pMThuSXNEeW5hbWljTGlzdCA/IGdldEFzQXJyYXkoY2hpbGRyZW4pIDogY2hpbGRyZW47XG59O1xuY29uc3QgaGFzVmFsaWRSZWFjdENoaWxkcmVuID0gY2hpbGRyZW4gPT4gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZXZlcnkoaXNWYWxpZEVsZW1lbnQpO1xuY29uc3QgZ2V0QXNBcnJheSA9IGRhdGEgPT4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG5jb25zdCBtZXJnZVByb3BzID0gKHNvdXJjZSwgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IG5ld1RhcmdldCA9IHtcbiAgICAuLi50YXJnZXRcbiAgfTtcbiAgbmV3VGFyZ2V0LnByb3BzID0gT2JqZWN0LmFzc2lnbihzb3VyY2UucHJvcHMsIHRhcmdldC5wcm9wcyk7XG4gIHJldHVybiBuZXdUYXJnZXQ7XG59O1xuZXhwb3J0IGNvbnN0IG5vZGVzVG9TdHJpbmcgPSAoY2hpbGRyZW4sIGkxOG5PcHRpb25zKSA9PiB7XG4gIGlmICghY2hpbGRyZW4pIHJldHVybiAnJztcbiAgbGV0IHN0cmluZ05vZGUgPSAnJztcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRyZW4pO1xuICBjb25zdCBrZWVwQXJyYXkgPSBpMThuT3B0aW9ucy50cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlcyAmJiBpMThuT3B0aW9ucy50cmFuc0tlZXBCYXNpY0h0bWxOb2Rlc0ZvciA/IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIDogW107XG4gIGNoaWxkcmVuQXJyYXkuZm9yRWFjaCgoY2hpbGQsIGNoaWxkSW5kZXgpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKSB7XG4gICAgICBzdHJpbmdOb2RlICs9IGAke2NoaWxkfWA7XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBjaGlsZDtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcHNDb3VudCA9IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGg7XG4gICAgICBjb25zdCBzaG91bGRLZWVwQ2hpbGQgPSBrZWVwQXJyYXkuaW5kZXhPZih0eXBlKSA+IC0xO1xuICAgICAgY29uc3QgY2hpbGRDaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKCFjaGlsZENoaWxkcmVuICYmIHNob3VsZEtlZXBDaGlsZCAmJiAhY2hpbGRQcm9wc0NvdW50KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9Lz5gO1xuICAgICAgfSBlbHNlIGlmICghY2hpbGRDaGlsZHJlbiAmJiAoIXNob3VsZEtlZXBDaGlsZCB8fCBjaGlsZFByb3BzQ291bnQpIHx8IHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke2NoaWxkSW5kZXh9PjwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRLZWVwQ2hpbGQgJiYgY2hpbGRQcm9wc0NvdW50ID09PSAxICYmIGlzU3RyaW5nKGNoaWxkQ2hpbGRyZW4pKSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9PiR7Y2hpbGRDaGlsZHJlbn08LyR7dHlwZX0+YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBub2Rlc1RvU3RyaW5nKGNoaWxkQ2hpbGRyZW4sIGkxOG5PcHRpb25zKTtcbiAgICAgICAgc3RyaW5nTm9kZSArPSBgPCR7Y2hpbGRJbmRleH0+JHtjb250ZW50fTwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hpbGQgPT09IG51bGwpIHtcbiAgICAgIHdhcm4oYFRyYW5zOiB0aGUgcGFzc2VkIGluIHZhbHVlIGlzIGludmFsaWQgLSBzZWVtcyB5b3UgcGFzc2VkIGluIGEgbnVsbCBjaGlsZC5gKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXQsXG4gICAgICAgIC4uLmNsb25lXG4gICAgICB9ID0gY2hpbGQ7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY2xvbmUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZm9ybWF0ID8gYCR7a2V5c1swXX0sICR7Zm9ybWF0fWAgOiBrZXlzWzBdO1xuICAgICAgICBzdHJpbmdOb2RlICs9IGB7eyR7dmFsdWV9fX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihgcmVhY3QtaTE4bmV4dDogdGhlIHBhc3NlZCBpbiBvYmplY3QgY29udGFpbmVkIG1vcmUgdGhhbiBvbmUgdmFyaWFibGUgLSB0aGUgb2JqZWN0IHNob3VsZCBsb29rIGxpa2Uge3sgdmFsdWUsIGZvcm1hdCB9fSB3aGVyZSBmb3JtYXQgaXMgb3B0aW9uYWwuYCwgY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBUcmFuczogdGhlIHBhc3NlZCBpbiB2YWx1ZSBpcyBpbnZhbGlkIC0gc2VlbXMgeW91IHBhc3NlZCBpbiBhIHZhcmlhYmxlIGxpa2Uge251bWJlcn0gLSBwbGVhc2UgcGFzcyBpbiB2YXJpYWJsZXMgZm9yIGludGVycG9sYXRpb24gYXMgZnVsbCBvYmplY3RzIGxpa2Uge3tudW1iZXJ9fS5gLCBjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cmluZ05vZGU7XG59O1xuY29uc3QgcmVuZGVyTm9kZXMgPSAoY2hpbGRyZW4sIHRhcmdldFN0cmluZywgaTE4biwgaTE4bk9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKSA9PiB7XG4gIGlmICh0YXJnZXRTdHJpbmcgPT09ICcnKSByZXR1cm4gW107XG4gIGNvbnN0IGtlZXBBcnJheSA9IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIHx8IFtdO1xuICBjb25zdCBlbXB0eUNoaWxkcmVuQnV0TmVlZHNIYW5kbGluZyA9IHRhcmdldFN0cmluZyAmJiBuZXcgUmVnRXhwKGtlZXBBcnJheS5tYXAoa2VlcCA9PiBgPCR7a2VlcH1gKS5qb2luKCd8JykpLnRlc3QodGFyZ2V0U3RyaW5nKTtcbiAgaWYgKCFjaGlsZHJlbiAmJiAhZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgIXNob3VsZFVuZXNjYXBlKSByZXR1cm4gW3RhcmdldFN0cmluZ107XG4gIGNvbnN0IGRhdGEgPSB7fTtcbiAgY29uc3QgZ2V0RGF0YSA9IGNoaWxkcyA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRzKTtcbiAgICBjaGlsZHJlbkFycmF5LmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYgKGlzU3RyaW5nKGNoaWxkKSkgcmV0dXJuO1xuICAgICAgaWYgKGhhc0NoaWxkcmVuKGNoaWxkKSkgZ2V0RGF0YShnZXRDaGlsZHJlbihjaGlsZCkpO2Vsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSBPYmplY3QuYXNzaWduKGRhdGEsIGNoaWxkKTtcbiAgICB9KTtcbiAgfTtcbiAgZ2V0RGF0YShjaGlsZHJlbik7XG4gIGNvbnN0IGFzdCA9IEhUTUwucGFyc2UoYDwwPiR7dGFyZ2V0U3RyaW5nfTwvMD5gKTtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICAuLi5kYXRhLFxuICAgIC4uLmNvbWJpbmVkVE9wdHNcbiAgfTtcbiAgY29uc3QgcmVuZGVySW5uZXIgPSAoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpID0+IHtcbiAgICBjb25zdCBjaGlsZHMgPSBnZXRDaGlsZHJlbihjaGlsZCk7XG4gICAgY29uc3QgbWFwcGVkQ2hpbGRyZW4gPSBtYXBBU1QoY2hpbGRzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICByZXR1cm4gaGFzVmFsaWRSZWFjdENoaWxkcmVuKGNoaWxkcykgJiYgbWFwcGVkQ2hpbGRyZW4ubGVuZ3RoID09PSAwIHx8IGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0ID8gY2hpbGRzIDogbWFwcGVkQ2hpbGRyZW47XG4gIH07XG4gIGNvbnN0IHB1c2hUcmFuc2xhdGVkSlNYID0gKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBpc1ZvaWQpID0+IHtcbiAgICBpZiAoY2hpbGQuZHVtbXkpIHtcbiAgICAgIGNoaWxkLmNoaWxkcmVuID0gaW5uZXI7XG4gICAgICBtZW0ucHVzaChjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAga2V5OiBpXG4gICAgICB9LCBpc1ZvaWQgPyB1bmRlZmluZWQgOiBpbm5lcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW0ucHVzaCguLi5DaGlsZHJlbi5tYXAoW2NoaWxkXSwgYyA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgIC4uLmMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgZGVsZXRlIHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0O1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChjLnR5cGUsIHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgcmVmOiBjLnJlZlxuICAgICAgICB9LCBpc1ZvaWQgPyBudWxsIDogaW5uZXIpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbWFwQVNUID0gKHJlYWN0Tm9kZSwgYXN0Tm9kZSwgcm9vdFJlYWN0Tm9kZSkgPT4ge1xuICAgIGNvbnN0IHJlYWN0Tm9kZXMgPSBnZXRBc0FycmF5KHJlYWN0Tm9kZSk7XG4gICAgY29uc3QgYXN0Tm9kZXMgPSBnZXRBc0FycmF5KGFzdE5vZGUpO1xuICAgIHJldHVybiBhc3ROb2Rlcy5yZWR1Y2UoKG1lbSwgbm9kZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNsYXRpb25Db250ZW50ID0gbm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuWzBdICYmIG5vZGUuY2hpbGRyZW5bMF0uY29udGVudCAmJiBpMThuLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShub2RlLmNoaWxkcmVuWzBdLmNvbnRlbnQsIG9wdHMsIGkxOG4ubGFuZ3VhZ2UpO1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ3RhZycpIHtcbiAgICAgICAgbGV0IHRtcCA9IHJlYWN0Tm9kZXNbcGFyc2VJbnQobm9kZS5uYW1lLCAxMCldO1xuICAgICAgICBpZiAocm9vdFJlYWN0Tm9kZS5sZW5ndGggPT09IDEgJiYgIXRtcCkgdG1wID0gcm9vdFJlYWN0Tm9kZVswXVtub2RlLm5hbWVdO1xuICAgICAgICBpZiAoIXRtcCkgdG1wID0ge307XG4gICAgICAgIGNvbnN0IGNoaWxkID0gT2JqZWN0LmtleXMobm9kZS5hdHRycykubGVuZ3RoICE9PSAwID8gbWVyZ2VQcm9wcyh7XG4gICAgICAgICAgcHJvcHM6IG5vZGUuYXR0cnNcbiAgICAgICAgfSwgdG1wKSA6IHRtcDtcbiAgICAgICAgY29uc3QgaXNFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQoY2hpbGQpO1xuICAgICAgICBjb25zdCBpc1ZhbGlkVHJhbnNsYXRpb25XaXRoQ2hpbGRyZW4gPSBpc0VsZW1lbnQgJiYgaGFzQ2hpbGRyZW4obm9kZSwgdHJ1ZSkgJiYgIW5vZGUudm9pZEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRW1wdHlUcmFuc1dpdGhIVE1MID0gZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgaXNPYmplY3QoY2hpbGQpICYmIGNoaWxkLmR1bW15ICYmICFpc0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzS25vd25Db21wb25lbnQgPSBpc09iamVjdChjaGlsZHJlbikgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2hpbGRyZW4sIG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChpc1N0cmluZyhjaGlsZCkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKGNoaWxkLCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgICBtZW0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hpbGRyZW4oY2hpbGQpIHx8IGlzVmFsaWRUcmFuc2xhdGlvbldpdGhDaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gcmVuZGVySW5uZXIoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VtcHR5VHJhbnNXaXRoSFRNTCkge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gbWFwQVNUKHJlYWN0Tm9kZXMsIG5vZGUuY2hpbGRyZW4sIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VGbG9hdChub2RlLm5hbWUpKSkge1xuICAgICAgICAgIGlmIChpc0tub3duQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IHJlbmRlcklubmVyKGNoaWxkLCBub2RlLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBub2RlLnZvaWRFbGVtZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkxOG5PcHRpb25zLnRyYW5zU3VwcG9ydEJhc2ljSHRtbE5vZGVzICYmIGtlZXBBcnJheS5pbmRleE9mKG5vZGUubmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudm9pZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgbWVtLnB1c2goY3JlYXRlRWxlbWVudChub2RlLm5hbWUsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGAke25vZGUubmFtZX0tJHtpfWBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSBtYXBBU1QocmVhY3ROb2Rlcywgbm9kZS5jaGlsZHJlbiwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgICAgICAgICAgIG1lbS5wdXNoKGNyZWF0ZUVsZW1lbnQobm9kZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAga2V5OiBgJHtub2RlLm5hbWV9LSR7aX1gXG4gICAgICAgICAgICAgIH0sIGlubmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnZvaWRFbGVtZW50KSB7XG4gICAgICAgICAgICBtZW0ucHVzaChgPCR7bm9kZS5uYW1lfSAvPmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IG1hcEFTVChyZWFjdE5vZGVzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIG1lbS5wdXNoKGA8JHtub2RlLm5hbWV9PiR7aW5uZXJ9PC8ke25vZGUubmFtZX0+YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG5vZGUuY2hpbGRyZW5bMF0gPyB0cmFuc2xhdGlvbkNvbnRlbnQgOiBudWxsO1xuICAgICAgICAgIGlmIChjb250ZW50KSBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgdHJhbnNsYXRpb25Db250ZW50LCBtZW0sIGksIG5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8ICF0cmFuc2xhdGlvbkNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnN0IHdyYXBUZXh0Tm9kZXMgPSBpMThuT3B0aW9ucy50cmFuc1dyYXBUZXh0Tm9kZXM7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzaG91bGRVbmVzY2FwZSA/IGkxOG5PcHRpb25zLnVuZXNjYXBlKGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKG5vZGUuY29udGVudCwgb3B0cywgaTE4bi5sYW5ndWFnZSkpIDogaTE4bi5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobm9kZS5jb250ZW50LCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHdyYXBUZXh0Tm9kZXMpIHtcbiAgICAgICAgICBtZW0ucHVzaChjcmVhdGVFbGVtZW50KHdyYXBUZXh0Tm9kZXMsIHtcbiAgICAgICAgICAgIGtleTogYCR7bm9kZS5uYW1lfS0ke2l9YFxuICAgICAgICAgIH0sIGNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LCBbXSk7XG4gIH07XG4gIGNvbnN0IHJlc3VsdCA9IG1hcEFTVChbe1xuICAgIGR1bW15OiB0cnVlLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbiB8fCBbXVxuICB9XSwgYXN0LCBnZXRBc0FycmF5KGNoaWxkcmVuIHx8IFtdKSk7XG4gIHJldHVybiBnZXRDaGlsZHJlbihyZXN1bHRbMF0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBUcmFucyhfcmVmKSB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY291bnQsXG4gICAgcGFyZW50LFxuICAgIGkxOG5LZXksXG4gICAgY29udGV4dCxcbiAgICB0T3B0aW9ucyA9IHt9LFxuICAgIHZhbHVlcyxcbiAgICBkZWZhdWx0cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5zLFxuICAgIGkxOG46IGkxOG5Gcm9tUHJvcHMsXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGdldEkxOG4oKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGkxOG5leHRSZWFjdE1vZHVsZScpO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBjb25zdCB0ID0gdEZyb21Qcm9wcyB8fCBpMThuLnQuYmluZChpMThuKSB8fCAoayA9PiBrKTtcbiAgY29uc3QgcmVhY3RJMThuZXh0T3B0aW9ucyA9IHtcbiAgICAuLi5nZXREZWZhdWx0cygpLFxuICAgIC4uLihpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLnJlYWN0KVxuICB9O1xuICBsZXQgbmFtZXNwYWNlcyA9IG5zIHx8IHQubnMgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBjb25zdCBub2RlQXNTdHJpbmcgPSBub2Rlc1RvU3RyaW5nKGNoaWxkcmVuLCByZWFjdEkxOG5leHRPcHRpb25zKTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlID0gZGVmYXVsdHMgfHwgbm9kZUFzU3RyaW5nIHx8IHJlYWN0STE4bmV4dE9wdGlvbnMudHJhbnNFbXB0eU5vZGVWYWx1ZSB8fCBpMThuS2V5O1xuICBjb25zdCB7XG4gICAgaGFzaFRyYW5zS2V5XG4gIH0gPSByZWFjdEkxOG5leHRPcHRpb25zO1xuICBjb25zdCBrZXkgPSBpMThuS2V5IHx8IChoYXNoVHJhbnNLZXkgPyBoYXNoVHJhbnNLZXkobm9kZUFzU3RyaW5nIHx8IGRlZmF1bHRWYWx1ZSkgOiBub2RlQXNTdHJpbmcgfHwgZGVmYXVsdFZhbHVlKTtcbiAgaWYgKGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzICYmIE9iamVjdC5rZXlzKHZhbHVlcykubGVuZ3RoID4gMCA/IHtcbiAgICAgIC4uLnZhbHVlcyxcbiAgICAgIC4uLmkxOG4ub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXNcbiAgICB9IDoge1xuICAgICAgLi4uaTE4bi5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc1xuICAgIH07XG4gIH1cbiAgY29uc3QgaW50ZXJwb2xhdGlvbk92ZXJyaWRlID0gdmFsdWVzIHx8IGNvdW50ICE9PSB1bmRlZmluZWQgfHwgIWNoaWxkcmVuID8gdE9wdGlvbnMuaW50ZXJwb2xhdGlvbiA6IHtcbiAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAuLi50T3B0aW9ucy5pbnRlcnBvbGF0aW9uLFxuICAgICAgcHJlZml4OiAnIyQ/JyxcbiAgICAgIHN1ZmZpeDogJz8kIydcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbWJpbmVkVE9wdHMgPSB7XG4gICAgLi4udE9wdGlvbnMsXG4gICAgY29udGV4dDogY29udGV4dCB8fCB0T3B0aW9ucy5jb250ZXh0LFxuICAgIGNvdW50LFxuICAgIC4uLnZhbHVlcyxcbiAgICAuLi5pbnRlcnBvbGF0aW9uT3ZlcnJpZGUsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIG5zOiBuYW1lc3BhY2VzXG4gIH07XG4gIGNvbnN0IHRyYW5zbGF0aW9uID0ga2V5ID8gdChrZXksIGNvbWJpbmVkVE9wdHMpIDogZGVmYXVsdFZhbHVlO1xuICBpZiAoY29tcG9uZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNvbXBvbmVudHMpLmZvckVhY2goYyA9PiB7XG4gICAgICBjb25zdCBjb21wID0gY29tcG9uZW50c1tjXTtcbiAgICAgIGlmICh0eXBlb2YgY29tcC50eXBlID09PSAnZnVuY3Rpb24nIHx8ICFjb21wLnByb3BzIHx8ICFjb21wLnByb3BzLmNoaWxkcmVuIHx8IHRyYW5zbGF0aW9uLmluZGV4T2YoYCR7Y30vPmApIDwgMCAmJiB0cmFuc2xhdGlvbi5pbmRleE9mKGAke2N9IC8+YCkgPCAwKSByZXR1cm47XG4gICAgICBmdW5jdGlvbiBDb21wb25lbnRpemVkKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY29tcCk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRzW2NdID0gY3JlYXRlRWxlbWVudChDb21wb25lbnRpemVkKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBjb250ZW50ID0gcmVuZGVyTm9kZXMoY29tcG9uZW50cyB8fCBjaGlsZHJlbiwgdHJhbnNsYXRpb24sIGkxOG4sIHJlYWN0STE4bmV4dE9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKTtcbiAgY29uc3QgdXNlQXNQYXJlbnQgPSBwYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmVudCA6IHJlYWN0STE4bmV4dE9wdGlvbnMuZGVmYXVsdFRyYW5zUGFyZW50O1xuICByZXR1cm4gdXNlQXNQYXJlbnQgPyBjcmVhdGVFbGVtZW50KHVzZUFzUGFyZW50LCBhZGRpdGlvbmFsUHJvcHMsIGNvbnRlbnQpIDogY29udGVudDtcbn0iLCJpbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJy4vdXNlVHJhbnNsYXRpb24uanMnO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zbGF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBucyxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5vcHRpb25zXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3QsIGkxOG4sIHJlYWR5XSA9IHVzZVRyYW5zbGF0aW9uKG5zLCBvcHRpb25zKTtcbiAgcmV0dXJuIGNoaWxkcmVuKHQsIHtcbiAgICBpMThuLFxuICAgIGxuZzogaTE4bi5sYW5ndWFnZVxuICB9LCByZWFkeSk7XG59IiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldERlZmF1bHRzLCBzZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgc2V0STE4biB9IGZyb20gJy4vaTE4bkluc3RhbmNlLmpzJztcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgZ2V0RGVmYXVsdHMsIHNldERlZmF1bHRzLCBnZXRJMThuLCBzZXRJMThuLCBpbml0UmVhY3RJMThuZXh0IH07XG5leHBvcnQgY29uc3QgSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5leHBvcnQgY2xhc3MgUmVwb3J0TmFtZXNwYWNlcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlZE5hbWVzcGFjZXMgPSB7fTtcbiAgfVxuICBhZGRVc2VkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgIGlmICghdGhpcy51c2VkTmFtZXNwYWNlc1tuc10pIHRoaXMudXNlZE5hbWVzcGFjZXNbbnNdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBnZXRVc2VkTmFtZXNwYWNlcyA9ICgpID0+IE9iamVjdC5rZXlzKHRoaXMudXNlZE5hbWVzcGFjZXMpO1xufVxuZXhwb3J0IGNvbnN0IGNvbXBvc2VJbml0aWFsUHJvcHMgPSBGb3JDb21wb25lbnQgPT4gYXN5bmMgY3R4ID0+IHtcbiAgY29uc3QgY29tcG9uZW50c0luaXRpYWxQcm9wcyA9IEZvckNvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMgPyBhd2FpdCBGb3JDb21wb25lbnQuZ2V0SW5pdGlhbFByb3BzKGN0eCkgOiB7fTtcbiAgY29uc3QgaTE4bkluaXRpYWxQcm9wcyA9IGdldEluaXRpYWxQcm9wcygpO1xuICByZXR1cm4ge1xuICAgIC4uLmNvbXBvbmVudHNJbml0aWFsUHJvcHMsXG4gICAgLi4uaTE4bkluaXRpYWxQcm9wc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXRJbml0aWFsUHJvcHMgPSAoKSA9PiB7XG4gIGNvbnN0IGkxOG4gPSBnZXRJMThuKCk7XG4gIGNvbnN0IG5hbWVzcGFjZXMgPSBpMThuLnJlcG9ydE5hbWVzcGFjZXMgPyBpMThuLnJlcG9ydE5hbWVzcGFjZXMuZ2V0VXNlZE5hbWVzcGFjZXMoKSA6IFtdO1xuICBjb25zdCByZXQgPSB7fTtcbiAgY29uc3QgaW5pdGlhbEkxOG5TdG9yZSA9IHt9O1xuICBpMThuLmxhbmd1YWdlcy5mb3JFYWNoKGwgPT4ge1xuICAgIGluaXRpYWxJMThuU3RvcmVbbF0gPSB7fTtcbiAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgaW5pdGlhbEkxOG5TdG9yZVtsXVtuc10gPSBpMThuLmdldFJlc291cmNlQnVuZGxlKGwsIG5zKSB8fCB7fTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldC5pbml0aWFsSTE4blN0b3JlID0gaW5pdGlhbEkxOG5TdG9yZTtcbiAgcmV0LmluaXRpYWxMYW5ndWFnZSA9IGkxOG4ubGFuZ3VhZ2U7XG4gIHJldHVybiByZXQ7XG59OyIsImltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5sZXQgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJpbmRJMThuOiAnbGFuZ3VhZ2VDaGFuZ2VkJyxcbiAgYmluZEkxOG5TdG9yZTogJycsXG4gIHRyYW5zRW1wdHlOb2RlVmFsdWU6ICcnLFxuICB0cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlczogdHJ1ZSxcbiAgdHJhbnNXcmFwVGV4dE5vZGVzOiAnJyxcbiAgdHJhbnNLZWVwQmFzaWNIdG1sTm9kZXNGb3I6IFsnYnInLCAnc3Ryb25nJywgJ2knLCAncCddLFxuICB1c2VTdXNwZW5zZTogdHJ1ZSxcbiAgdW5lc2NhcGVcbn07XG5leHBvcnQgY29uc3Qgc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IGRlZmF1bHRPcHRpb25zOyIsImxldCBpMThuSW5zdGFuY2U7XG5leHBvcnQgY29uc3Qgc2V0STE4biA9IGluc3RhbmNlID0+IHtcbiAgaTE4bkluc3RhbmNlID0gaW5zdGFuY2U7XG59O1xuZXhwb3J0IGNvbnN0IGdldEkxOG4gPSAoKSA9PiBpMThuSW5zdGFuY2U7IiwiZXhwb3J0IHsgVHJhbnMgfSBmcm9tICcuL1RyYW5zLmpzJztcbmV4cG9ydCB7IFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuZXhwb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICcuL3VzZVRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gJy4vd2l0aFRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSAnLi9UcmFuc2xhdGlvbi5qcyc7XG5leHBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICcuL0kxOG5leHRQcm92aWRlci5qcyc7XG5leHBvcnQgeyB3aXRoU1NSIH0gZnJvbSAnLi93aXRoU1NSLmpzJztcbmV4cG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmV4cG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgc2V0RGVmYXVsdHMsIGdldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5leHBvcnQgeyBzZXRJMThuLCBnZXRJMThuIH0gZnJvbSAnLi9pMThuSW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgSTE4bkNvbnRleHQsIGNvbXBvc2VJbml0aWFsUHJvcHMsIGdldEluaXRpYWxQcm9wcyB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgY29uc3QgZGF0ZSA9ICgpID0+ICcnO1xuZXhwb3J0IGNvbnN0IHRpbWUgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBudW1iZXIgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3QgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBwbHVyYWwgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3RPcmRpbmFsID0gKCkgPT4gJyc7IiwiaW1wb3J0IHsgc2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IHNldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5leHBvcnQgY29uc3QgaW5pdFJlYWN0STE4bmV4dCA9IHtcbiAgdHlwZTogJzNyZFBhcnR5JyxcbiAgaW5pdChpbnN0YW5jZSkge1xuICAgIHNldERlZmF1bHRzKGluc3RhbmNlLm9wdGlvbnMucmVhY3QpO1xuICAgIHNldEkxOG4oaW5zdGFuY2UpO1xuICB9XG59OyIsImNvbnN0IG1hdGNoSHRtbEVudGl0eSA9IC8mKD86YW1wfCMzOHxsdHwjNjB8Z3R8IzYyfGFwb3N8IzM5fHF1b3R8IzM0fG5ic3B8IzE2MHxjb3B5fCMxNjl8cmVnfCMxNzR8aGVsbGlwfCM4MjMwfCN4MkZ8IzQ3KTsvZztcbmNvbnN0IGh0bWxFbnRpdGllcyA9IHtcbiAgJyZhbXA7JzogJyYnLFxuICAnJiMzODsnOiAnJicsXG4gICcmbHQ7JzogJzwnLFxuICAnJiM2MDsnOiAnPCcsXG4gICcmZ3Q7JzogJz4nLFxuICAnJiM2MjsnOiAnPicsXG4gICcmYXBvczsnOiBcIidcIixcbiAgJyYjMzk7JzogXCInXCIsXG4gICcmcXVvdDsnOiAnXCInLFxuICAnJiMzNDsnOiAnXCInLFxuICAnJm5ic3A7JzogJyAnLFxuICAnJiMxNjA7JzogJyAnLFxuICAnJmNvcHk7JzogJ8KpJyxcbiAgJyYjMTY5Oyc6ICfCqScsXG4gICcmcmVnOyc6ICfCricsXG4gICcmIzE3NDsnOiAnwq4nLFxuICAnJmhlbGxpcDsnOiAn4oCmJyxcbiAgJyYjODIzMDsnOiAn4oCmJyxcbiAgJyYjeDJGOyc6ICcvJyxcbiAgJyYjNDc7JzogJy8nXG59O1xuY29uc3QgdW5lc2NhcGVIdG1sRW50aXR5ID0gbSA9PiBodG1sRW50aXRpZXNbbV07XG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSB0ZXh0ID0+IHRleHQucmVwbGFjZShtYXRjaEh0bWxFbnRpdHksIHVuZXNjYXBlSHRtbEVudGl0eSk7IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldEkxOG4sIEkxOG5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmV4cG9ydCBjb25zdCB1c2VTU1IgPSBmdW5jdGlvbiAoaW5pdGlhbEkxOG5TdG9yZSwgaW5pdGlhbExhbmd1YWdlKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dFxuICB9ID0gdXNlQ29udGV4dChJMThuQ29udGV4dCkgfHwge307XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGkxOG5Gcm9tQ29udGV4dCB8fCBnZXRJMThuKCk7XG4gIGlmIChpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLmlzQ2xvbmUpIHJldHVybjtcbiAgaWYgKGluaXRpYWxJMThuU3RvcmUgJiYgIWkxOG4uaW5pdGlhbGl6ZWRTdG9yZU9uY2UpIHtcbiAgICBpMThuLnNlcnZpY2VzLnJlc291cmNlU3RvcmUuZGF0YSA9IGluaXRpYWxJMThuU3RvcmU7XG4gICAgaTE4bi5vcHRpb25zLm5zID0gT2JqZWN0LnZhbHVlcyhpbml0aWFsSTE4blN0b3JlKS5yZWR1Y2UoKG1lbSwgbG5nUmVzb3VyY2VzKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhsbmdSZXNvdXJjZXMpLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBpZiAobWVtLmluZGV4T2YobnMpIDwgMCkgbWVtLnB1c2gobnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIGkxOG4ub3B0aW9ucy5ucyk7XG4gICAgaTE4bi5pbml0aWFsaXplZFN0b3JlT25jZSA9IHRydWU7XG4gICAgaTE4bi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaW5pdGlhbExhbmd1YWdlICYmICFpMThuLmluaXRpYWxpemVkTGFuZ3VhZ2VPbmNlKSB7XG4gICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIGkxOG4uaW5pdGlhbGl6ZWRMYW5ndWFnZU9uY2UgPSB0cnVlO1xuICB9XG59OyIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRJMThuLCBnZXREZWZhdWx0cywgUmVwb3J0TmFtZXNwYWNlcywgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgd2Fybk9uY2UsIGxvYWROYW1lc3BhY2VzLCBsb2FkTGFuZ3VhZ2VzLCBoYXNMb2FkZWROYW1lc3BhY2UsIGlzU3RyaW5nLCBpc09iamVjdCB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgdXNlUHJldmlvdXMgPSAodmFsdWUsIGlnbm9yZSkgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGlnbm9yZSA/IHJlZi5jdXJyZW50IDogdmFsdWU7XG4gIH0sIFt2YWx1ZSwgaWdub3JlXSk7XG4gIHJldHVybiByZWYuY3VycmVudDtcbn07XG5jb25zdCBhbHdheXNOZXdUID0gKGkxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeCkgPT4gaTE4bi5nZXRGaXhlZFQobGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KTtcbmNvbnN0IHVzZU1lbW9pemVkVCA9IChpMThuLCBsYW5ndWFnZSwgbmFtZXNwYWNlLCBrZXlQcmVmaXgpID0+IHVzZUNhbGxiYWNrKGFsd2F5c05ld1QoaTE4biwgbGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KSwgW2kxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeF0pO1xuZXhwb3J0IGNvbnN0IHVzZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKG5zKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgaWYgKGkxOG4gJiYgIWkxOG4ucmVwb3J0TmFtZXNwYWNlcykgaTE4bi5yZXBvcnROYW1lc3BhY2VzID0gbmV3IFJlcG9ydE5hbWVzcGFjZXMoKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGluaXRSZWFjdEkxOG5leHQnKTtcbiAgICBjb25zdCBub3RSZWFkeVQgPSAoaywgb3B0c09yRGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNTdHJpbmcob3B0c09yRGVmYXVsdFZhbHVlKSkgcmV0dXJuIG9wdHNPckRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmIChpc09iamVjdChvcHRzT3JEZWZhdWx0VmFsdWUpICYmIGlzU3RyaW5nKG9wdHNPckRlZmF1bHRWYWx1ZS5kZWZhdWx0VmFsdWUpKSByZXR1cm4gb3B0c09yRGVmYXVsdFZhbHVlLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGspID8ga1trLmxlbmd0aCAtIDFdIDogaztcbiAgICB9O1xuICAgIGNvbnN0IHJldE5vdFJlYWR5ID0gW25vdFJlYWR5VCwge30sIGZhbHNlXTtcbiAgICByZXROb3RSZWFkeS50ID0gbm90UmVhZHlUO1xuICAgIHJldE5vdFJlYWR5LmkxOG4gPSB7fTtcbiAgICByZXROb3RSZWFkeS5yZWFkeSA9IGZhbHNlO1xuICAgIHJldHVybiByZXROb3RSZWFkeTtcbiAgfVxuICBpZiAoaTE4bi5vcHRpb25zLnJlYWN0ICYmIGkxOG4ub3B0aW9ucy5yZWFjdC53YWl0ICE9PSB1bmRlZmluZWQpIHdhcm5PbmNlKCdJdCBzZWVtcyB5b3UgYXJlIHN0aWxsIHVzaW5nIHRoZSBvbGQgd2FpdCBvcHRpb24sIHlvdSBtYXkgbWlncmF0ZSB0byB0aGUgbmV3IHVzZVN1c3BlbnNlIGJlaGF2aW91ci4nKTtcbiAgY29uc3QgaTE4bk9wdGlvbnMgPSB7XG4gICAgLi4uZ2V0RGVmYXVsdHMoKSxcbiAgICAuLi5pMThuLm9wdGlvbnMucmVhY3QsXG4gICAgLi4ucHJvcHNcbiAgfTtcbiAgY29uc3Qge1xuICAgIHVzZVN1c3BlbnNlLFxuICAgIGtleVByZWZpeFxuICB9ID0gaTE4bk9wdGlvbnM7XG4gIGxldCBuYW1lc3BhY2VzID0gbnMgfHwgZGVmYXVsdE5TRnJvbUNvbnRleHQgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBpZiAoaTE4bi5yZXBvcnROYW1lc3BhY2VzLmFkZFVzZWROYW1lc3BhY2VzKSBpMThuLnJlcG9ydE5hbWVzcGFjZXMuYWRkVXNlZE5hbWVzcGFjZXMobmFtZXNwYWNlcyk7XG4gIGNvbnN0IHJlYWR5ID0gKGkxOG4uaXNJbml0aWFsaXplZCB8fCBpMThuLmluaXRpYWxpemVkU3RvcmVPbmNlKSAmJiBuYW1lc3BhY2VzLmV2ZXJ5KG4gPT4gaGFzTG9hZGVkTmFtZXNwYWNlKG4sIGkxOG4sIGkxOG5PcHRpb25zKSk7XG4gIGNvbnN0IG1lbW9HZXRUID0gdXNlTWVtb2l6ZWRUKGkxOG4sIHByb3BzLmxuZyB8fCBudWxsLCBpMThuT3B0aW9ucy5uc01vZGUgPT09ICdmYWxsYmFjaycgPyBuYW1lc3BhY2VzIDogbmFtZXNwYWNlc1swXSwga2V5UHJlZml4KTtcbiAgY29uc3QgZ2V0VCA9ICgpID0+IG1lbW9HZXRUO1xuICBjb25zdCBnZXROZXdUID0gKCkgPT4gYWx3YXlzTmV3VChpMThuLCBwcm9wcy5sbmcgfHwgbnVsbCwgaTE4bk9wdGlvbnMubnNNb2RlID09PSAnZmFsbGJhY2snID8gbmFtZXNwYWNlcyA6IG5hbWVzcGFjZXNbMF0sIGtleVByZWZpeCk7XG4gIGNvbnN0IFt0LCBzZXRUXSA9IHVzZVN0YXRlKGdldFQpO1xuICBsZXQgam9pbmVkTlMgPSBuYW1lc3BhY2VzLmpvaW4oKTtcbiAgaWYgKHByb3BzLmxuZykgam9pbmVkTlMgPSBgJHtwcm9wcy5sbmd9JHtqb2luZWROU31gO1xuICBjb25zdCBwcmV2aW91c0pvaW5lZE5TID0gdXNlUHJldmlvdXMoam9pbmVkTlMpO1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYodHJ1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYmluZEkxOG4sXG4gICAgICBiaW5kSTE4blN0b3JlXG4gICAgfSA9IGkxOG5PcHRpb25zO1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAoIXJlYWR5ICYmICF1c2VTdXNwZW5zZSkge1xuICAgICAgaWYgKHByb3BzLmxuZykge1xuICAgICAgICBsb2FkTGFuZ3VhZ2VzKGkxOG4sIHByb3BzLmxuZywgbmFtZXNwYWNlcywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkgc2V0VChnZXROZXdUKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSBzZXRUKGdldE5ld1QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlYWR5ICYmIHByZXZpb3VzSm9pbmVkTlMgJiYgcHJldmlvdXNKb2luZWROUyAhPT0gam9pbmVkTlMgJiYgaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHNldFQoZ2V0TmV3VCk7XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kUmVzZXQgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHNldFQoZ2V0TmV3VCk7XG4gICAgfTtcbiAgICBpZiAoYmluZEkxOG4gJiYgaTE4bikgaTE4bi5vbihiaW5kSTE4biwgYm91bmRSZXNldCk7XG4gICAgaWYgKGJpbmRJMThuU3RvcmUgJiYgaTE4bikgaTE4bi5zdG9yZS5vbihiaW5kSTE4blN0b3JlLCBib3VuZFJlc2V0KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlmIChiaW5kSTE4biAmJiBpMThuKSBiaW5kSTE4bi5zcGxpdCgnICcpLmZvckVhY2goZSA9PiBpMThuLm9mZihlLCBib3VuZFJlc2V0KSk7XG4gICAgICBpZiAoYmluZEkxOG5TdG9yZSAmJiBpMThuKSBiaW5kSTE4blN0b3JlLnNwbGl0KCcgJykuZm9yRWFjaChlID0+IGkxOG4uc3RvcmUub2ZmKGUsIGJvdW5kUmVzZXQpKTtcbiAgICB9O1xuICB9LCBbaTE4biwgam9pbmVkTlNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQgJiYgcmVhZHkpIHtcbiAgICAgIHNldFQoZ2V0VCk7XG4gICAgfVxuICB9LCBbaTE4biwga2V5UHJlZml4LCByZWFkeV0pO1xuICBjb25zdCByZXQgPSBbdCwgaTE4biwgcmVhZHldO1xuICByZXQudCA9IHQ7XG4gIHJldC5pMThuID0gaTE4bjtcbiAgcmV0LnJlYWR5ID0gcmVhZHk7XG4gIGlmIChyZWFkeSkgcmV0dXJuIHJldDtcbiAgaWYgKCFyZWFkeSAmJiAhdXNlU3VzcGVuc2UpIHJldHVybiByZXQ7XG4gIHRocm93IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGlmIChwcm9wcy5sbmcpIHtcbiAgICAgIGxvYWRMYW5ndWFnZXMoaTE4biwgcHJvcHMubG5nLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cbiAgfSk7XG59OyIsImV4cG9ydCBmdW5jdGlvbiB3YXJuKCkge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmdzWzBdKSkgYXJnc1swXSA9IGByZWFjdC1pMThuZXh0OjogJHthcmdzWzBdfWA7XG4gICAgY29uc29sZS53YXJuKC4uLmFyZ3MpO1xuICB9XG59XG5jb25zdCBhbHJlYWR5V2FybmVkID0ge307XG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2UoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkgJiYgYWxyZWFkeVdhcm5lZFthcmdzWzBdXSkgcmV0dXJuO1xuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFscmVhZHlXYXJuZWRbYXJnc1swXV0gPSBuZXcgRGF0ZSgpO1xuICB3YXJuKC4uLmFyZ3MpO1xufVxuY29uc3QgbG9hZGVkQ2xiID0gKGkxOG4sIGNiKSA9PiAoKSA9PiB7XG4gIGlmIChpMThuLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBjYigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGluaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGkxOG4ub2ZmKCdpbml0aWFsaXplZCcsIGluaXRpYWxpemVkKTtcbiAgICAgIH0sIDApO1xuICAgICAgY2IoKTtcbiAgICB9O1xuICAgIGkxOG4ub24oJ2luaXRpYWxpemVkJywgaW5pdGlhbGl6ZWQpO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGxvYWROYW1lc3BhY2VzID0gKGkxOG4sIG5zLCBjYikgPT4ge1xuICBpMThuLmxvYWROYW1lc3BhY2VzKG5zLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZExhbmd1YWdlcyA9IChpMThuLCBsbmcsIG5zLCBjYikgPT4ge1xuICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gIG5zLmZvckVhY2gobiA9PiB7XG4gICAgaWYgKGkxOG4ub3B0aW9ucy5ucy5pbmRleE9mKG4pIDwgMCkgaTE4bi5vcHRpb25zLm5zLnB1c2gobik7XG4gIH0pO1xuICBpMThuLmxvYWRMYW5ndWFnZXMobG5nLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5jb25zdCBvbGRJMThuZXh0SGFzTG9hZGVkTmFtZXNwYWNlID0gZnVuY3Rpb24gKG5zLCBpMThuKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgY29uc3QgbG5nID0gaTE4bi5sYW5ndWFnZXNbMF07XG4gIGNvbnN0IGZhbGxiYWNrTG5nID0gaTE4bi5vcHRpb25zID8gaTE4bi5vcHRpb25zLmZhbGxiYWNrTG5nIDogZmFsc2U7XG4gIGNvbnN0IGxhc3RMbmcgPSBpMThuLmxhbmd1YWdlc1tpMThuLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGxvYWROb3RQZW5kaW5nID0gKGwsIG4pID0+IHtcbiAgICBjb25zdCBsb2FkU3RhdGUgPSBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3Iuc3RhdGVbYCR7bH18JHtufWBdO1xuICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMjtcbiAgfTtcbiAgaWYgKG9wdGlvbnMuYmluZEkxOG4gJiYgb3B0aW9ucy5iaW5kSTE4bi5pbmRleE9mKCdsYW5ndWFnZUNoYW5naW5nJykgPiAtMSAmJiBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvICYmICFsb2FkTm90UGVuZGluZyhpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvLCBucykpIHJldHVybiBmYWxzZTtcbiAgaWYgKGkxOG4uaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHJldHVybiB0cnVlO1xuICBpZiAoIWkxOG4uc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IGkxOG4ub3B0aW9ucy5yZXNvdXJjZXMgJiYgIWkxOG4ub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gIGlmIChsb2FkTm90UGVuZGluZyhsbmcsIG5zKSAmJiAoIWZhbGxiYWNrTG5nIHx8IGxvYWROb3RQZW5kaW5nKGxhc3RMbmcsIG5zKSkpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IGNvbnN0IGhhc0xvYWRlZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChucywgaTE4bikge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGlmICghaTE4bi5sYW5ndWFnZXMgfHwgIWkxOG4ubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgIHdhcm5PbmNlKCdpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eScsIGkxOG4ubGFuZ3VhZ2VzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBpc05ld2VySTE4bmV4dCA9IGkxOG4ub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlICE9PSB1bmRlZmluZWQ7XG4gIGlmICghaXNOZXdlckkxOG5leHQpIHtcbiAgICByZXR1cm4gb2xkSTE4bmV4dEhhc0xvYWRlZE5hbWVzcGFjZShucywgaTE4biwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIGkxOG4uaGFzTG9hZGVkTmFtZXNwYWNlKG5zLCB7XG4gICAgbG5nOiBvcHRpb25zLmxuZyxcbiAgICBwcmVjaGVjazogKGkxOG5JbnN0YW5jZSwgbG9hZE5vdFBlbmRpbmcpID0+IHtcbiAgICAgIGlmIChvcHRpb25zLmJpbmRJMThuICYmIG9wdGlvbnMuYmluZEkxOG4uaW5kZXhPZignbGFuZ3VhZ2VDaGFuZ2luZycpID4gLTEgJiYgaTE4bkluc3RhbmNlLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuSW5zdGFuY2UuaXNMYW5ndWFnZUNoYW5naW5nVG8gJiYgIWxvYWROb3RQZW5kaW5nKGkxOG5JbnN0YW5jZS5pc0xhbmd1YWdlQ2hhbmdpbmdUbywgbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGlzcGxheU5hbWUgPSBDb21wb25lbnQgPT4gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8IChpc1N0cmluZyhDb21wb25lbnQpICYmIENvbXBvbmVudC5sZW5ndGggPiAwID8gQ29tcG9uZW50IDogJ1Vua25vd24nKTtcbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmltcG9ydCB7IGNvbXBvc2VJbml0aWFsUHJvcHMgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU5hbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmV4cG9ydCBjb25zdCB3aXRoU1NSID0gKCkgPT4gZnVuY3Rpb24gRXh0ZW5kKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gSTE4bmV4dFdpdGhTU1IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBpbml0aWFsSTE4blN0b3JlLFxuICAgICAgaW5pdGlhbExhbmd1YWdlLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSBfcmVmO1xuICAgIHVzZVNTUihpbml0aWFsSTE4blN0b3JlLCBpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHtcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxuICBJMThuZXh0V2l0aFNTUi5nZXRJbml0aWFsUHJvcHMgPSBjb21wb3NlSW5pdGlhbFByb3BzKFdyYXBwZWRDb21wb25lbnQpO1xuICBJMThuZXh0V2l0aFNTUi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFNTUigke2dldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpfSlgO1xuICBJMThuZXh0V2l0aFNTUi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgcmV0dXJuIEkxOG5leHRXaXRoU1NSO1xufTsiLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmIGFzIGZvcndhcmRSZWZSZWFjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnLi91c2VUcmFuc2xhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXREaXNwbGF5TmFtZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChucykge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHJldHVybiBmdW5jdGlvbiBFeHRlbmQoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIEkxOG5leHRXaXRoVHJhbnNsYXRpb24oX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgZm9yd2FyZGVkUmVmLFxuICAgICAgICAuLi5yZXN0XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIGNvbnN0IFt0LCBpMThuLCByZWFkeV0gPSB1c2VUcmFuc2xhdGlvbihucywge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBrZXlQcmVmaXg6IG9wdGlvbnMua2V5UHJlZml4XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHBhc3NEb3duUHJvcHMgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIHQsXG4gICAgICAgIGkxOG4sXG4gICAgICAgIHRSZWFkeTogcmVhZHlcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy53aXRoUmVmICYmIGZvcndhcmRlZFJlZikge1xuICAgICAgICBwYXNzRG93blByb3BzLnJlZiA9IGZvcndhcmRlZFJlZjtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMud2l0aFJlZiAmJiBmb3J3YXJkZWRSZWYpIHtcbiAgICAgICAgcGFzc0Rvd25Qcm9wcy5mb3J3YXJkZWRSZWYgPSBmb3J3YXJkZWRSZWY7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBwYXNzRG93blByb3BzKTtcbiAgICB9XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFRyYW5zbGF0aW9uKCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWA7XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgICBjb25zdCBmb3J3YXJkUmVmID0gKHByb3BzLCByZWYpID0+IGNyZWF0ZUVsZW1lbnQoSTE4bmV4dFdpdGhUcmFuc2xhdGlvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIGZvcndhcmRlZFJlZjogcmVmXG4gICAgfSkpO1xuICAgIHJldHVybiBvcHRpb25zLndpdGhSZWYgPyBmb3J3YXJkUmVmUmVhY3QoZm9yd2FyZFJlZikgOiBJMThuZXh0V2l0aFRyYW5zbGF0aW9uO1xuICB9O1xufTsiLCIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcobWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCIlcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlc1wiLFxuICAgICAgICAgICAgaW5mb1swXSxcbiAgICAgICAgICAgIGluZm9bMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgKChwdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yKSAmJlxuICAgICAgICAgIChwdWJsaWNJbnN0YW5jZS5kaXNwbGF5TmFtZSB8fCBwdWJsaWNJbnN0YW5jZS5uYW1lKSkgfHxcbiAgICAgICAgXCJSZWFjdENsYXNzXCI7XG4gICAgICB2YXIgd2FybmluZ0tleSA9IHB1YmxpY0luc3RhbmNlICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgIGNsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC5cIixcbiAgICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICAgIHB1YmxpY0luc3RhbmNlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbiAgICBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KFxuICAgICAgdHlwZSxcbiAgICAgIGtleSxcbiAgICAgIHNlbGYsXG4gICAgICBzb3VyY2UsXG4gICAgICBvd25lcixcbiAgICAgIHByb3BzLFxuICAgICAgZGVidWdTdGFjayxcbiAgICAgIGRlYnVnVGFza1xuICAgICkge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnU3RhY2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdTdGFja1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdUYXNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnVGFza1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICBuZXdLZXkgPSBSZWFjdEVsZW1lbnQoXG4gICAgICAgIG9sZEVsZW1lbnQudHlwZSxcbiAgICAgICAgbmV3S2V5LFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgb2xkRWxlbWVudC5fb3duZXIsXG4gICAgICAgIG9sZEVsZW1lbnQucHJvcHMsXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnU3RhY2ssXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnVGFza1xuICAgICAgKTtcbiAgICAgIG9sZEVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgIChuZXdLZXkuX3N0b3JlLnZhbGlkYXRlZCA9IG9sZEVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCk7XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gICAgICB2YXIgZXNjYXBlckxvb2t1cCA9IHsgXCI9XCI6IFwiPTBcIiwgXCI6XCI6IFwiPTJcIiB9O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIkXCIgK1xuICAgICAgICBrZXkucmVwbGFjZSgvWz06XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50S2V5KGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9IGVsZW1lbnQua2V5XG4gICAgICAgID8gKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oZWxlbWVudC5rZXkpLCBlc2NhcGUoXCJcIiArIGVsZW1lbnQua2V5KSlcbiAgICAgICAgOiBpbmRleC50b1N0cmluZygzNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzXG4gICAgICAgICAgICAgID8gdGhlbmFibGUudGhlbihub29wJDEsIG5vb3AkMSlcbiAgICAgICAgICAgICAgOiAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicGVuZGluZ1wiKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnJlYXNvbiA9IGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB0aGVuYWJsZS5zdGF0dXMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcEludG9BcnJheShjaGlsZHJlbiwgYXJyYXksIGVzY2FwZWRQcmVmaXgsIG5hbWVTb0ZhciwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGUgfHwgXCJib29sZWFuXCIgPT09IHR5cGUpIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9ICExO1xuICAgICAgaWYgKG51bGwgPT09IGNoaWxkcmVuKSBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbi5faW5pdCksXG4gICAgICAgICAgICAgICAgICBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrKGNoaWxkcmVuLl9wYXlsb2FkKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbjtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayhpbnZva2VDYWxsYmFjayk7XG4gICAgICAgIHZhciBjaGlsZEtleSA9XG4gICAgICAgICAgXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgKyBnZXRFbGVtZW50S2V5KGludm9rZUNhbGxiYWNrLCAwKSA6IG5hbWVTb0ZhcjtcbiAgICAgICAgaXNBcnJheUltcGwoY2FsbGJhY2spXG4gICAgICAgICAgPyAoKGVzY2FwZWRQcmVmaXggPSBcIlwiKSxcbiAgICAgICAgICAgIG51bGwgIT0gY2hpbGRLZXkgJiZcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPVxuICAgICAgICAgICAgICAgIGNoaWxkS2V5LnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsIFwiJCYvXCIpICsgXCIvXCIpLFxuICAgICAgICAgICAgbWFwSW50b0FycmF5KGNhbGxiYWNrLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgXCJcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IG51bGwgIT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIChpc1ZhbGlkRWxlbWVudChjYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gY2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgKChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSkgfHxcbiAgICAgICAgICAgICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY2FsbGJhY2sua2V5KSksXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID0gY2xvbmVBbmRSZXBsYWNlS2V5KFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXggK1xuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY2FsbGJhY2sua2V5IHx8XG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICA6IChcIlwiICsgY2FsbGJhY2sua2V5KS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiQmL1wiXG4gICAgICAgICAgICAgICAgICAgICAgKSArIFwiL1wiKSArXG4gICAgICAgICAgICAgICAgICBjaGlsZEtleVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgXCJcIiAhPT0gbmFtZVNvRmFyICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBpbnZva2VDYWxsYmFjayAmJlxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGludm9rZUNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT0gaW52b2tlQ2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2suX3N0b3JlICYmXG4gICAgICAgICAgICAgICAgIWludm9rZUNhbGxiYWNrLl9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeC5fc3RvcmUudmFsaWRhdGVkID0gMiksXG4gICAgICAgICAgICAgIChjYWxsYmFjayA9IGVzY2FwZWRQcmVmaXgpKSxcbiAgICAgICAgICAgIGFycmF5LnB1c2goY2FsbGJhY2spKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpbnZva2VDYWxsYmFjayA9IDA7XG4gICAgICBjaGlsZEtleSA9IFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiIDogbmFtZVNvRmFyICsgXCI6XCI7XG4gICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBjaGlsZHJlbltpXSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkpKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaSA9PT0gY2hpbGRyZW4uZW50cmllcyAmJlxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSksXG4gICAgICAgICAgICBjaGlsZHJlbiA9IGkuY2FsbChjaGlsZHJlbiksXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAhKG5hbWVTb0ZhciA9IGNoaWxkcmVuLm5leHQoKSkuZG9uZTtcblxuICAgICAgICApXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IG5hbWVTb0Zhci52YWx1ZSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkrKykpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2hpbGRyZW4udGhlbilcbiAgICAgICAgICByZXR1cm4gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgcmVzb2x2ZVRoZW5hYmxlKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKTtcbiAgICAgICAgYXJyYXkgPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgICAgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IGFycmF5XG4gICAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgICA6IGFycmF5KSArXG4gICAgICAgICAgICBcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgICAgaWYgKG51bGwgPT0gY2hpbGRyZW4pIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgbWFwSW50b0FycmF5KGNoaWxkcmVuLCByZXN1bHQsIFwiXCIsIFwiXCIsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBjb3VudCsrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUluaXRpYWxpemVyKHBheWxvYWQpIHtcbiAgICAgIGlmICgtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgIHZhciBjdG9yID0gcGF5bG9hZC5fcmVzdWx0O1xuICAgICAgICBjdG9yID0gY3RvcigpO1xuICAgICAgICBjdG9yLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKG1vZHVsZU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMSksIChwYXlsb2FkLl9yZXN1bHQgPSBtb2R1bGVPYmplY3QpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgICAgICAgIChwYXlsb2FkLl9zdGF0dXMgPSAyKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIC0xID09PSBwYXlsb2FkLl9zdGF0dXMgJiZcbiAgICAgICAgICAoKHBheWxvYWQuX3N0YXR1cyA9IDApLCAocGF5bG9hZC5fcmVzdWx0ID0gY3RvcikpO1xuICAgICAgfVxuICAgICAgaWYgKDEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY3RvciA9IHBheWxvYWQuX3Jlc3VsdCksXG4gICAgICAgICAgdm9pZCAwID09PSBjdG9yICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcbkRpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/XCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXCJkZWZhdWx0XCIgaW4gY3RvciB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIixcbiAgICAgICAgICAgICAgY3RvclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjdG9yLmRlZmF1bHRcbiAgICAgICAgKTtcbiAgICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVGFzayh0YXNrKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZW5xdWV1ZVRhc2tJbXBsKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKFwicmVxdWlyZVwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMCwgNyk7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gKG1vZHVsZSAmJiBtb2R1bGVbcmVxdWlyZVN0cmluZ10pLmNhbGwoXG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBcInRpbWVyc1wiXG4gICAgICAgICAgKS5zZXRJbW1lZGlhdGU7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICExID09PSBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAoKGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITApLFxuICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCBzbyBlbnF1ZXVpbmcgdGFza3MgdmlhIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pIHdpbGwgZmFpbC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3VlcyBpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHZvaWQgMCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGVucXVldWVUYXNrSW1wbCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWdncmVnYXRlRXJyb3JzKGVycm9ycykge1xuICAgICAgcmV0dXJuIDEgPCBlcnJvcnMubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgID8gbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycylcbiAgICAgICAgOiBlcnJvcnNbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgIHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHNlZW0gdG8gaGF2ZSBvdmVybGFwcGluZyBhY3QoKSBjYWxscywgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiBcIlxuICAgICAgICApO1xuICAgICAgYWN0U2NvcGVEZXB0aCA9IHByZXZBY3RTY29wZURlcHRoO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKVxuICAgICAgICBpZiAoMCAhPT0gcXVldWUubGVuZ3RoKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGw7XG4gICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICA/ICgocXVldWUgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICByZWplY3QocXVldWUpKVxuICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgICAgaXNGbHVzaGluZyA9ICEwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGNhbGxiYWNrKCExKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvbnRpbnVhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZVtpXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNvbnRpbnVhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkgKyAxKSwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzRmx1c2hpbmcgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX0FDVElWSVRZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuYWN0aXZpdHlcIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fSxcbiAgICAgIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInJlcGxhY2VTdGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJzZXRTdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBlbXB0eU9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBudWxsICE9IHBhcnRpYWxTdGF0ZVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIFwic2V0U3RhdGVcIik7XG4gICAgfTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgIH07XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgICBpc01vdW50ZWQ6IFtcbiAgICAgICAgICBcImlzTW91bnRlZFwiLFxuICAgICAgICAgIFwiSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXCJcbiAgICAgICAgXSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBbXG4gICAgICAgICAgXCJyZXBsYWNlU3RhdGVcIixcbiAgICAgICAgICBcIlJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuXCJcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGZuTmFtZTtcbiAgICBmb3IgKGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcylcbiAgICAgIGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkgJiZcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG4gICAgZGVwcmVjYXRlZEFQSXMuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuICAgIGFzc2lnbihkZXByZWNhdGVkQVBJcywgQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gICAgZGVwcmVjYXRlZEFQSXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDtcbiAgICB2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSB7XG4gICAgICAgIEg6IG51bGwsXG4gICAgICAgIEE6IG51bGwsXG4gICAgICAgIFQ6IG51bGwsXG4gICAgICAgIFM6IG51bGwsXG4gICAgICAgIFY6IG51bGwsXG4gICAgICAgIGFjdFF1ZXVlOiBudWxsLFxuICAgICAgICBpc0JhdGNoaW5nTGVnYWN5OiAhMSxcbiAgICAgICAgZGlkU2NoZWR1bGVMZWdhY3lVcGRhdGU6ICExLFxuICAgICAgICBkaWRVc2VQcm9taXNlOiAhMSxcbiAgICAgICAgdGhyb3duRXJyb3JzOiBbXSxcbiAgICAgICAgZ2V0Q3VycmVudFN0YWNrOiBudWxsLFxuICAgICAgICByZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrczogMFxuICAgICAgfSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGNyZWF0ZVRhc2sgPSBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgPyBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLCBkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBkZXByZWNhdGVkQVBJc1tcbiAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICBdLmJpbmQoZGVwcmVjYXRlZEFQSXMsIFVua25vd25Pd25lcikoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0TWFwcyA9ICExLFxuICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nLFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICExLFxuICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gbnVsbCxcbiAgICAgIGFjdFNjb3BlRGVwdGggPSAwLFxuICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmcgPSAhMSxcbiAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWVNaWNyb3Rhc2soY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGVucXVldWVUYXNrO1xuICAgIGRlcHJlY2F0ZWRBUElzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICBjOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZXhwb3J0cy5DaGlsZHJlbiA9IHtcbiAgICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiAoY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgICAgICBtYXBDaGlsZHJlbihcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3JFYWNoRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yRWFjaENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjb3VudDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0sXG4gICAgICB0b0FycmF5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgZXhwb3J0cy5QdXJlQ29tcG9uZW50ID0gUHVyZUNvbXBvbmVudDtcbiAgICBleHBvcnRzLlN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgIGV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIGV4cG9ydHMuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuX19DT01QSUxFUl9SVU5USU1FID0gZGVwcmVjYXRlZEFQSXM7XG4gICAgZXhwb3J0cy5hY3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwcmV2QWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSxcbiAgICAgICAgcHJldkFjdFNjb3BlRGVwdGggPSBhY3RTY29wZURlcHRoO1xuICAgICAgYWN0U2NvcGVEZXB0aCsrO1xuICAgICAgdmFyIHF1ZXVlID0gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID1cbiAgICAgICAgICBudWxsICE9PSBwcmV2QWN0UXVldWUgPyBwcmV2QWN0UXVldWUgOiBbXSksXG4gICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAocG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCksXG4gICAgICAgICAgKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHJlc3VsdCAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmVzdWx0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3VsdC50aGVuXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlID0gcmVzdWx0O1xuICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgY2FsbGVkIGFjdChhc3luYyAoKSA9PiAuLi4pIHdpdGhvdXQgYXdhaXQuIFRoaXMgY291bGQgbGVhZCB0byB1bmV4cGVjdGVkIHRlc3RpbmcgYmVoYXZpb3VyLCBpbnRlcmxlYXZpbmcgbXVsdGlwbGUgYWN0IGNhbGxzIGFuZCBtaXhpbmcgdGhlaXIgc2NvcGVzLiBZb3Ugc2hvdWxkIC0gYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLik7XCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBwcmV2QWN0U2NvcGVEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvciQwKSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yJDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhyb3duRXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3Rocm93bkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICA/ICgoZXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpKVxuICAgICAgICAgICAgICAgICAgOiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXR1cm5WYWx1ZSRqc2NvbXAkMCA9IHJlc3VsdDtcbiAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGggJiZcbiAgICAgICAgKGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAwICE9PSBxdWV1ZS5sZW5ndGggJiZcbiAgICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgc3VzcGVuZGVkIGluc2lkZSBhbiBgYWN0YCBzY29wZSwgYnV0IHRoZSBgYWN0YCBjYWxsIHdhcyBub3QgYXdhaXRlZC4gV2hlbiB0ZXN0aW5nIFJlYWN0IGNvbXBvbmVudHMgdGhhdCBkZXBlbmQgb24gYXN5bmNocm9ub3VzIGRhdGEsIHlvdSBtdXN0IGF3YWl0IHRoZSByZXN1bHQ6XFxuXFxuYXdhaXQgYWN0KCgpID0+IC4uLilcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gbnVsbCkpO1xuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoXG4gICAgICAgICAgICA/ICgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBxdWV1ZSksXG4gICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlJGpzY29tcCQwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FjaGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FwdHVyZU93bmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZ2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGdldEN1cnJlbnRTdGFjayA/IG51bGwgOiBnZXRDdXJyZW50U3RhY2soKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09PSBlbGVtZW50IHx8IHZvaWQgMCA9PT0gZWxlbWVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICtcbiAgICAgICAgICAgIGVsZW1lbnQgK1xuICAgICAgICAgICAgXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyksXG4gICAgICAgIGtleSA9IGVsZW1lbnQua2V5LFxuICAgICAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJyZWZcIikgJiZcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIFwicmVmXCJcbiAgICAgICAgICAgICkuZ2V0KSAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmlzUmVhY3RXYXJuaW5nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHZvaWQgMCAhPT0gY29uZmlnLnJlZjtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiYgKG93bmVyID0gZ2V0T3duZXIoKSk7XG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpIHx8XG4gICAgICAgICAgICBcImtleVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NlbGZcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIChcInJlZlwiID09PSBwcm9wTmFtZSAmJiB2b2lkIDAgPT09IGNvbmZpZy5yZWYpIHx8XG4gICAgICAgICAgICAocHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBwcm9wTmFtZSkgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBwcm9wTmFtZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBBcnJheShwcm9wTmFtZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWU7IGkrKylcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG93bmVyLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgZWxlbWVudC5fZGVidWdTdGFjayxcbiAgICAgICAgZWxlbWVudC5fZGVidWdUYXNrXG4gICAgICApO1xuICAgICAgZm9yIChrZXkgPSAyOyBrZXkgPCBhcmd1bWVudHMubGVuZ3RoOyBrZXkrKylcbiAgICAgICAgKG93bmVyID0gYXJndW1lbnRzW2tleV0pLFxuICAgICAgICAgIGlzVmFsaWRFbGVtZW50KG93bmVyKSAmJiBvd25lci5fc3RvcmUgJiYgKG93bmVyLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfY3VycmVudFZhbHVlMjogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBDb25zdW1lcjogbnVsbFxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Qcm92aWRlciA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Db25zdW1lciA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlNVTUVSX1RZUEUsXG4gICAgICAgIF9jb250ZXh0OiBkZWZhdWx0VmFsdWVcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlcjIgPSBudWxsO1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZSkgJiYgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgfVxuICAgICAgaSA9IHt9O1xuICAgICAgbm9kZSA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgfHxcbiAgICAgICAgICAhKFwiX19zZWxmXCIgaW4gY29uZmlnKSB8fFxuICAgICAgICAgIFwia2V5XCIgaW4gY29uZmlnIHx8XG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lID0gITApLFxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiWW91ciBhcHAgKG9yIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzKSBpcyB1c2luZyBhbiBvdXRkYXRlZCBKU1ggdHJhbnNmb3JtLiBVcGRhdGUgdG8gdGhlIG1vZGVybiBKU1ggdHJhbnNmb3JtIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbmV3LWpzeC10cmFuc2Zvcm1cIlxuICAgICAgICAgICkpLFxuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChub2RlID0gXCJcIiArIGNvbmZpZy5rZXkpKSxcbiAgICAgICAgY29uZmlnKSlcbiAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmXG4gICAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NlbGZcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIChpW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gY2hpbGRyZW5MZW5ndGgpIGkuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBjaGlsZHJlbkxlbmd0aCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpLCBfaSA9IDA7XG4gICAgICAgICAgX2kgPCBjaGlsZHJlbkxlbmd0aDtcbiAgICAgICAgICBfaSsrXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZEFycmF5W19pXSA9IGFyZ3VtZW50c1tfaSArIDJdO1xuICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRBcnJheSk7XG4gICAgICAgIGkuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKChjaGlsZHJlbkxlbmd0aCA9IHR5cGUuZGVmYXVsdFByb3BzKSwgY2hpbGRyZW5MZW5ndGgpKVxuICAgICAgICAgIHZvaWQgMCA9PT0gaVtwcm9wTmFtZV0gJiYgKGlbcHJvcE5hbWVdID0gY2hpbGRyZW5MZW5ndGhbcHJvcE5hbWVdKTtcbiAgICAgIG5vZGUgJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgaSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wTmFtZSA9IDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBub2RlLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZ2V0T3duZXIoKSxcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcE5hbWUgPyBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKSA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHByb3BOYW1lID8gY3JlYXRlVGFzayhnZXRUYXNrTmFtZSh0eXBlKSkgOiB1bmtub3duT3duZXJEZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZVJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWZPYmplY3QgPSB7IGN1cnJlbnQ6IG51bGwgfTtcbiAgICAgIE9iamVjdC5zZWFsKHJlZk9iamVjdCk7XG4gICAgICByZXR1cm4gcmVmT2JqZWN0O1xuICAgIH07XG4gICAgZXhwb3J0cy5mb3J3YXJkUmVmID0gZnVuY3Rpb24gKHJlbmRlcikge1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCByZWNlaXZlZCBhIGBtZW1vYCBjb21wb25lbnQuIEluc3RlYWQgb2YgZm9yd2FyZFJlZihtZW1vKC4uLikpLCB1c2UgbWVtbyhmb3J3YXJkUmVmKC4uLikpLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlbmRlclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuXCIsXG4gICAgICAgICAgICAgIG51bGwgPT09IHJlbmRlciA/IFwibnVsbFwiIDogdHlwZW9mIHJlbmRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogMCAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgMiAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgYWNjZXB0IGV4YWN0bHkgdHdvIHBhcmFtZXRlcnM6IHByb3BzIGFuZCByZWYuICVzXCIsXG4gICAgICAgICAgICAgIDEgPT09IHJlbmRlci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IFwiRGlkIHlvdSBmb3JnZXQgdG8gdXNlIHRoZSByZWYgcGFyYW1ldGVyP1wiXG4gICAgICAgICAgICAgICAgOiBcIkFueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmXG4gICAgICAgIG51bGwgIT0gcmVuZGVyLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGRvIG5vdCBzdXBwb3J0IGRlZmF1bHRQcm9wcy4gRGlkIHlvdSBhY2NpZGVudGFsbHkgcGFzcyBhIFJlYWN0IGNvbXBvbmVudD9cIlxuICAgICAgICApO1xuICAgICAgdmFyIGVsZW1lbnRUeXBlID0geyAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSwgcmVuZGVyOiByZW5kZXIgfSxcbiAgICAgICAgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHJlbmRlci5uYW1lIHx8XG4gICAgICAgICAgICByZW5kZXIuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkocmVuZGVyLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgIChyZW5kZXIuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnRUeXBlO1xuICAgIH07XG4gICAgZXhwb3J0cy5pc1ZhbGlkRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50O1xuICAgIGV4cG9ydHMubGF6eSA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICBfcGF5bG9hZDogeyBfc3RhdHVzOiAtMSwgX3Jlc3VsdDogY3RvciB9LFxuICAgICAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5tZW1vID0gZnVuY3Rpb24gKHR5cGUsIGNvbXBhcmUpIHtcbiAgICAgIG51bGwgPT0gdHlwZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwibWVtbzogVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBjb21wb25lbnQuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXCIsXG4gICAgICAgICAgbnVsbCA9PT0gdHlwZSA/IFwibnVsbFwiIDogdHlwZW9mIHR5cGVcbiAgICAgICAgKTtcbiAgICAgIGNvbXBhcmUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvbXBhcmU6IHZvaWQgMCA9PT0gY29tcGFyZSA/IG51bGwgOiBjb21wYXJlXG4gICAgICB9O1xuICAgICAgdmFyIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcGFyZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHR5cGUubmFtZSB8fFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgICh0eXBlLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wYXJlO1xuICAgIH07XG4gICAgZXhwb3J0cy5zdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHNjb3BlKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiAmJlxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4obm9vcCwgcmVwb3J0R2xvYmFsRXJyb3IpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICgoc2NvcGUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgIDEwIDwgc2NvcGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3VzZUNhY2hlUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhY2hlUmVmcmVzaCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2UgPSBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2UodXNhYmxlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQWN0aW9uU3RhdGUoXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICBwZXJtYWxpbmtcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNvbnRleHQgPSBmdW5jdGlvbiAoQ29udGV4dCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgICAgQ29udGV4dC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FsbGluZyB1c2VDb250ZXh0KENvbnRleHQuQ29uc3VtZXIpIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgYnVncy4gRGlkIHlvdSBtZWFuIHRvIGNhbGwgdXNlQ29udGV4dChDb250ZXh0KSBpbnN0ZWFkP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWZlcnJlZFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGNyZWF0ZURlcHMsIHVwZGF0ZSkge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1cGRhdGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwidXNlRWZmZWN0IENSVUQgb3ZlcmxvYWQgaXMgbm90IGVuYWJsZWQgaW4gdGhpcyBidWlsZCBvZiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlRWZmZWN0KGNyZWF0ZSwgY3JlYXRlRGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSWQoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZSA9IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlSW5zZXJ0aW9uRWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VMYXlvdXRFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VNZW1vID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVkdWNlciA9IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWYgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3RhdGUgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uIChcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVRyYW5zaXRpb24oKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMS4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwidmFyIFNNQUxMX1dPUkRTID0gL1xcYig/OmFuP2Q/fGFbc3RdfGJlY2F1c2V8YnV0fGJ5fGVufGZvcnxpW2ZuXXxuZWl0aGVyfG5vcnxvW2Zucl18b25seXxvdmVyfHBlcnxzb3xzb21lfHRoYVt0bl18dGhlfHRvfHVwfHVwb258dnM/XFwuP3x2ZXJzdXN8dmlhfHdoZW58d2l0aHx3aXRob3V0fHlldClcXGIvaTtcbnZhciBUT0tFTlMgPSAvW15cXHM64oCT4oCULV0rfC4vZztcbnZhciBXSElURVNQQUNFID0gL1xccy87XG52YXIgSVNfTUFOVUFMX0NBU0UgPSAvLig/PVtBLVpdfFxcLi4pLztcbnZhciBBTFBIQU5VTUVSSUNfUEFUVEVSTiA9IC9bQS1aYS16MC05XFx1MDBDMC1cXHUwMEZGXS87XG5leHBvcnQgZnVuY3Rpb24gdGl0bGVDYXNlKGlucHV0KSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgdmFyIG07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChtID0gVE9LRU5TLmV4ZWMoaW5wdXQpKSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgdG9rZW4gPSBtWzBdLCBpbmRleCA9IG0uaW5kZXg7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gSWdub3JlIGFscmVhZHkgY2FwaXRhbGl6ZWQgd29yZHMuXG4gICAgICAgICFJU19NQU5VQUxfQ0FTRS50ZXN0KHRva2VuKSAmJlxuICAgICAgICAgICAgLy8gSWdub3JlIHNtYWxsIHdvcmRzIGV4Y2VwdCBhdCBiZWdpbm5pbmcgb3IgZW5kLlxuICAgICAgICAgICAgKCFTTUFMTF9XT1JEUy50ZXN0KHRva2VuKSB8fFxuICAgICAgICAgICAgICAgIGluZGV4ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgaW5kZXggKyB0b2tlbi5sZW5ndGggPT09IGlucHV0Lmxlbmd0aCkgJiZcbiAgICAgICAgICAgIC8vIElnbm9yZSBVUkxzLlxuICAgICAgICAgICAgKGlucHV0LmNoYXJBdChpbmRleCArIHRva2VuLmxlbmd0aCkgIT09IFwiOlwiIHx8XG4gICAgICAgICAgICAgICAgV0hJVEVTUEFDRS50ZXN0KGlucHV0LmNoYXJBdChpbmRleCArIHRva2VuLmxlbmd0aCArIDEpKSkpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgYW5kIHVwcGVyY2FzZSBmaXJzdCB3b3JkIGNoYXJhY3Rlciwgc2tpcHMgb3ZlciAqbW9kaWZpZXJzKi5cbiAgICAgICAgICAgIHJlc3VsdCArPSB0b2tlbi5yZXBsYWNlKEFMUEhBTlVNRVJJQ19QQVRURVJOLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbS50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogVGhpcyBmaWxlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZyb20gYHByZS1wdWJsaXNoLmpzYC5cbiAqIERvIG5vdCBtYW51YWxseSBlZGl0LlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBcImFyZWFcIjogdHJ1ZSxcbiAgXCJiYXNlXCI6IHRydWUsXG4gIFwiYnJcIjogdHJ1ZSxcbiAgXCJjb2xcIjogdHJ1ZSxcbiAgXCJlbWJlZFwiOiB0cnVlLFxuICBcImhyXCI6IHRydWUsXG4gIFwiaW1nXCI6IHRydWUsXG4gIFwiaW5wdXRcIjogdHJ1ZSxcbiAgXCJsaW5rXCI6IHRydWUsXG4gIFwibWV0YVwiOiB0cnVlLFxuICBcInBhcmFtXCI6IHRydWUsXG4gIFwic291cmNlXCI6IHRydWUsXG4gIFwidHJhY2tcIjogdHJ1ZSxcbiAgXCJ3YnJcIjogdHJ1ZVxufTtcbiIsIigoKT0+e3ZhciBlPXs4NDc6KGUsdCk9Pnt2YXIgYT17MjM0NjpmdW5jdGlvbihlLHQsYSl7dmFyIG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRNb3N0UmVhZGFibGU9dC5kYXJrZW5Db2xvcj10LmxpZ2h0ZW5Db2xvcj12b2lkIDA7Y29uc3Qgbz1uKGEoNjUzNSkpO3QubGlnaHRlbkNvbG9yPShlLHQpPT5yKGUsXCJsaWdodGVuXCIsdCksdC5kYXJrZW5Db2xvcj0oZSx0KT0+cihlLFwiZGFya2VuXCIsdCk7Y29uc3Qgcj0oZSx0LGEpPT57aWYoYSYmKGE8MHx8YT4xMDApKXRocm93IG5ldyBFcnJvcihgJHthfSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwYCk7cmV0dXJuKDAsby5kZWZhdWx0KShlKVt0XShhKS50b1N0cmluZygpfTt0LmdldE1vc3RSZWFkYWJsZT0oZSx0KT0+by5kZWZhdWx0Lm1vc3RSZWFkYWJsZShlLHQpLnRvSGV4U3RyaW5nKCl9LDIzMTc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lkljb25TaXplPXQuVHJhbnNpdGlvbj10LkxpbmVIZWlnaHQ9dC5Gb250V2VpZ2h0PXQuRm9udFNpemU9dC5Gb250RmFtaWx5PXQuU2hhZG93PXQuUmFkaXVzPXQuVW5pdFB4PXQuVW5pdD10LlNpemVOYW1lPXQuU2l6ZT10LkNvbG9yPXZvaWQgMCx0LkNvbG9yPXt3aGl0ZTpcIiNGRkZGRkZcIixsaWdodEdyYXkxOlwiI0ZBRkJGRVwiLGxpZ2h0R3JheTI6XCIjRjNGNUY4XCIsbGlnaHRHcmF5MzpcIiNFQ0VFRjFcIixsaWdodEdyYXk0OlwiI0REREZFNFwiLGxpZ2h0R3JheTU6XCIjQzlDQkQyXCIsbmV1dHJhbEdyYXk6XCIjN0Q4MDhBXCIsbmV1dHJhbEdyYXk4MDpcInJnYmEoMTI1LDEyOCwxMzgsMC44KVwiLHNpbHZlckdyYXk6XCIjQzBDMUMyXCIsZGFya0dyYXkxOlwiIzUzNTY1RlwiLGRhcmtHcmF5MjpcIiMzODNBNDBcIixkYXJrR3JheTM6XCIjMkYzMTM2XCIsZGFya0dyYXk0OlwiIzI0MjYyQlwiLGRhcmtHcmF5NTpcIiMxRTFGMjNcIixkYXJrR3JheTY6XCIjMTExMjE0XCIsb3BlbkZpbkRhcmtlc3Q6XCIjM0QzOUNEXCIsb3BlbkZpbkRhcmtlcjpcIiM0NjQyRTBcIixvcGVuRmluOlwiIzUwNENGRlwiLG9wZW5GaW5MaWdodDpcIiM1MjU0RkJcIixvcGVuRmluTGlnaHRlcjpcIiM1QzVFRkVcIixvcGVuRmluTGlnaHRlc3Q6XCIjNjg2NEZGXCIsZnVuY3Rpb25hbDE6XCIjMjA3NzM1XCIsZnVuY3Rpb25hbDI6XCIjNDZDOEYxXCIsZnVuY3Rpb25hbDM6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDQ6XCIjNkNBREU1XCIsZnVuY3Rpb25hbDU6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDY6XCIjODgyQkZFXCIsZnVuY3Rpb25hbDc6XCIjRjMxODE4XCIsZnVuY3Rpb25hbDg6XCIjQzkzNDAwXCIsZnVuY3Rpb25hbDk6XCIjRkY1RTYwXCIsZnVuY3Rpb25hbDEwOlwiI0Y0OEYwMFwiLHB1cnBsZTpcIiM4QzYxRkZcIixsaWdodGJsdWU6XCIjMzZDM0ZFXCIsYXF1YTpcIiMwMENDODhcIix5ZWxsb3c6XCIjRkZFQjAwXCIsc2FsbW9uOlwiI0ZGOEM0Q1wiLHBpbms6XCIjRkY1RTYwXCIsbGlnaHRwaW5rOlwiI0ZGOEZCOFwiLHdoaXRlMDA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMClcIix3aGl0ZTEwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjEpXCIsd2hpdGUyMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4yKVwiLHdoaXRlMzA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMylcIix3aGl0ZTQwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjQpXCIsd2hpdGU1MDpcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiLHdoaXRlNjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNilcIix3aGl0ZTcwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCIsd2hpdGU4MDpcInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiLHdoaXRlOTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIixibGFjazAwOlwicmdiYSgwLDAsMCwwLjApXCIsYmxhY2sxMDpcInJnYmEoMCwwLDAsMC4xKVwiLGJsYWNrMjA6XCJyZ2JhKDAsMCwwLDAuMilcIixibGFjazMwOlwicmdiYSgwLDAsMCwwLjMpXCIsYmxhY2s0MDpcInJnYmEoMCwwLDAsMC40KVwiLGJsYWNrNTA6XCJyZ2JhKDAsMCwwLDAuNSlcIixibGFjazYwOlwicmdiYSgwLDAsMCwwLjYpXCIsYmxhY2s3MDpcInJnYmEoMCwwLDAsMC43KVwiLGJsYWNrODA6XCJyZ2JhKDAsMCwwLDAuOClcIixibGFjazkwOlwicmdiYSgwLDAsMCwwLjkpXCIsdHJhbnNwYXJlbnQ6XCJ0cmFuc3BhcmVudFwiLG9wZW5GaW5BY3RpdmU6XCIjNDY0MkZGXCIsb3BlbkZpbkhvdmVyOlwiIzY5NjVGRlwiLGxpZ2h0R3JheTRBY3RpdmU6XCIjRDdEQURGXCIsbGlnaHRHcmF5NEhvdmVyOlwiI0VCRUNFRlwiLGRhcmtHcmF5MkFjdGl2ZTpcIiMzMzM1M0JcIixkYXJrR3JheTJIb3ZlcjpcIiM0NDQ2NEVcIn0sdC5TaXplPXt4c21hbGw6XCJ4c21hbGxcIixzbWFsbDpcInNtYWxsXCIsYmFzZTpcImJhc2VcIixsYXJnZTpcImxhcmdlXCIseGxhcmdlOlwieGxhcmdlXCIseHhsYXJnZTpcInh4bGFyZ2VcIix4eHhsYXJnZTpcInh4eGxhcmdlXCIseHh4eGxhcmdlOlwieHh4eGxhcmdlXCJ9LHQuU2l6ZU5hbWU9e1t0LlNpemUueHNtYWxsXTpcIkV4dHJhIFNtYWxsXCIsW3QuU2l6ZS5zbWFsbF06XCJTbWFsbFwiLFt0LlNpemUuYmFzZV06XCJCYXNlXCIsW3QuU2l6ZS5sYXJnZV06XCJMYXJnZVwiLFt0LlNpemUueGxhcmdlXTpcIkV4dHJhIExhcmdlXCIsW3QuU2l6ZS54eGxhcmdlXTpcIjJYIExhcmdlXCIsW3QuU2l6ZS54eHhsYXJnZV06XCIzWCBMYXJnZVwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjRYIExhcmdlXCJ9LHQuVW5pdD17W3QuU2l6ZS54c21hbGxdOjQsW3QuU2l6ZS5zbWFsbF06OCxbdC5TaXplLmJhc2VdOjEyLFt0LlNpemUubGFyZ2VdOjE2LFt0LlNpemUueGxhcmdlXToyMCxbdC5TaXplLnh4bGFyZ2VdOjI0LFt0LlNpemUueHh4bGFyZ2VdOjMyLFt0LlNpemUueHh4eGxhcmdlXTo0OH0sdC5Vbml0UHg9e1t0LlNpemUueHNtYWxsXTpcIjRweFwiLFt0LlNpemUuc21hbGxdOlwiOHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjEycHhcIixbdC5TaXplLmxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eGxhcmdlXTpcIjI0cHhcIixbdC5TaXplLnh4eGxhcmdlXTpcIjMycHhcIixbdC5TaXplLnh4eHhsYXJnZV06XCI0OHB4XCJ9LHQuUmFkaXVzPXtbdC5TaXplLnhzbWFsbF06XCIycHhcIixbdC5TaXplLnNtYWxsXTpcIjRweFwiLFt0LlNpemUuYmFzZV06XCI4cHhcIixbdC5TaXplLmxhcmdlXTpcIjI0cHhcIixwaWxsOlwiMTAwdmhcIixyb3VuZDpcIjUwJVwiLG5vbmU6XCIwXCJ9LHQuU2hhZG93PXtbdC5TaXplLmJhc2VdOlwiMCA0cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSlcIn0sdC5Gb250RmFtaWx5PVtcIkludGVyXCIsXCJzeXN0ZW0tdWlcIixcIkJsaW5rTWFjU3lzdGVtRm9udFwiLFwiU2Vnb2UgVUlcIixcIlJvYm90b1wiLFwiT3h5Z2VuLVNhbnNcIixcIlVidW50dVwiLFwiQ2FudGFyZWxsXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLFwic2Fucy1zZXJpZlwiXS5qb2luKFwiLFwiKSx0LkZvbnRTaXplPXtbdC5TaXplLnhzbWFsbF06XCI4cHhcIixbdC5TaXplLnNtYWxsXTpcIjEwcHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTRweFwiLFt0LlNpemUueGxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMThweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMjBweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQwcHhcIn0sdC5Gb250V2VpZ2h0PXtub3JtYWw6NDAwLGJvbGQ6NjAwfSx0LkxpbmVIZWlnaHQ9e3VpOjEsaGVhZGluZzoxLjIsdGV4dDoxLjV9LHQuVHJhbnNpdGlvbj17YmFzZTpcIjIwMG1zIGN1YmljLWJlemllcigwLjE2LCAxLCAwLjMsIDEpXCIsbm9uZTpcIjBtc1wifSx0Lkljb25TaXplPXtbdC5TaXplLnhzbWFsbF06dC5Vbml0UHguc21hbGwsW3QuU2l6ZS5zbWFsbF06dC5Vbml0UHguYmFzZSxbdC5TaXplLmJhc2VdOlwiMTVweFwiLFt0LlNpemUubGFyZ2VdOnQuVW5pdFB4LnhsYXJnZSxbdC5TaXplLnhsYXJnZV06dC5Vbml0UHgueHhsYXJnZSxbdC5TaXplLnh4bGFyZ2VdOnQuVW5pdFB4Lnh4eGxhcmdlLFt0LlNpemUueHh4bGFyZ2VdOnQuVW5pdFB4Lnh4eHhsYXJnZX19LDY4OTM6KGUsdCxhKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlVGhlbWU9dm9pZCAwO2NvbnN0IG49YSgyMzE3KSxvPWEoMjM0Nikscj1hKDU5MzkpLGk9e2ZvbnRGYW1pbHk6bi5Gb250RmFtaWx5LGZvbnRTaXplOm4uRm9udFNpemUsZm9udFdlaWdodDpuLkZvbnRXZWlnaHQsbGluZUhlaWdodDpuLkxpbmVIZWlnaHQsaWNvblNpemU6bi5JY29uU2l6ZSxyYWRpdXM6bi5SYWRpdXMsc2hhZG93Om4uU2hhZG93LHRyYW5zaXRpb246bi5UcmFuc2l0aW9uLHVuaXQ6bi5Vbml0LHB4Om4uVW5pdFB4fSxzPShlLHQpPT4oe1tgJHtlfUFjdGl2ZWBdOigwLG8uZGFya2VuQ29sb3IpKHQsMiksW2Ake2V9SG92ZXJgXTooMCxvLmxpZ2h0ZW5Db2xvcikodCw1KSxbYCR7ZX1Gb2N1c2VkYF06KDAsby5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKSxbYCR7ZX1UZXh0YF06KDAsby5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKX0pO3QuY3JlYXRlVGhlbWU9ZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtwYWxldHRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMoci5QYWxldHRlLmJyYW5kUHJpbWFyeSxlLmJyYW5kUHJpbWFyeSkpLHMoci5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5LGUuYnJhbmRTZWNvbmRhcnkpKSxlKX0pfSw1OTM5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYWxldHRlPXZvaWQgMCx0LlBhbGV0dGU9e2JhY2tncm91bmQxOlwiYmFja2dyb3VuZDFcIixiYWNrZ3JvdW5kMjpcImJhY2tncm91bmQyXCIsYmFja2dyb3VuZDM6XCJiYWNrZ3JvdW5kM1wiLGJhY2tncm91bmQ0OlwiYmFja2dyb3VuZDRcIixiYWNrZ3JvdW5kNTpcImJhY2tncm91bmQ1XCIsYmFja2dyb3VuZDY6XCJiYWNrZ3JvdW5kNlwiLGJyYW5kUHJpbWFyeTpcImJyYW5kUHJpbWFyeVwiLGJyYW5kU2Vjb25kYXJ5OlwiYnJhbmRTZWNvbmRhcnlcIixicmFuZFByaW1hcnlBY3RpdmU6XCJicmFuZFByaW1hcnlBY3RpdmVcIixicmFuZFByaW1hcnlIb3ZlcjpcImJyYW5kUHJpbWFyeUhvdmVyXCIsYnJhbmRQcmltYXJ5Rm9jdXNlZDpcImJyYW5kUHJpbWFyeUZvY3VzZWRcIixicmFuZFByaW1hcnlUZXh0OlwiYnJhbmRQcmltYXJ5VGV4dFwiLGJyYW5kU2Vjb25kYXJ5QWN0aXZlOlwiYnJhbmRTZWNvbmRhcnlBY3RpdmVcIixicmFuZFNlY29uZGFyeUhvdmVyOlwiYnJhbmRTZWNvbmRhcnlIb3ZlclwiLGJyYW5kU2Vjb25kYXJ5Rm9jdXNlZDpcImJyYW5kU2Vjb25kYXJ5Rm9jdXNlZFwiLGJyYW5kU2Vjb25kYXJ5VGV4dDpcImJyYW5kU2Vjb25kYXJ5VGV4dFwiLGlucHV0QmFja2dyb3VuZDpcImlucHV0QmFja2dyb3VuZFwiLGlucHV0Q29sb3I6XCJpbnB1dENvbG9yXCIsaW5wdXRQbGFjZWhvbGRlcjpcImlucHV0UGxhY2Vob2xkZXJcIixpbnB1dERpc2FibGVkOlwiaW5wdXREaXNhYmxlZFwiLGlucHV0Rm9jdXNlZDpcImlucHV0Rm9jdXNlZFwiLGlucHV0Qm9yZGVyOlwiaW5wdXRCb3JkZXJcIixzdGF0dXNTdWNjZXNzOlwic3RhdHVzU3VjY2Vzc1wiLHN0YXR1c1dhcm5pbmc6XCJzdGF0dXNXYXJuaW5nXCIsc3RhdHVzQ3JpdGljYWw6XCJzdGF0dXNDcml0aWNhbFwiLHN0YXR1c0FjdGl2ZTpcInN0YXR1c0FjdGl2ZVwiLHRleHREZWZhdWx0OlwidGV4dERlZmF1bHRcIix0ZXh0SGVscDpcInRleHRIZWxwXCIsdGV4dEluYWN0aXZlOlwidGV4dEluYWN0aXZlXCIsYm9yZGVyTmV1dHJhbDpcImJvcmRlck5ldXRyYWxcIixjb250ZW50QmFja2dyb3VuZDE6XCJjb250ZW50QmFja2dyb3VuZDFcIixjb250ZW50QmFja2dyb3VuZDI6XCJjb250ZW50QmFja2dyb3VuZDJcIixjb250ZW50QmFja2dyb3VuZDM6XCJjb250ZW50QmFja2dyb3VuZDNcIixjb250ZW50QmFja2dyb3VuZDQ6XCJjb250ZW50QmFja2dyb3VuZDRcIixjb250ZW50QmFja2dyb3VuZDU6XCJjb250ZW50QmFja2dyb3VuZDVcIixsaW5rRGVmYXVsdDpcImxpbmtEZWZhdWx0XCIsbGlua0hvdmVyOlwibGlua0hvdmVyXCJ9fSw2NTM1OmZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJuKGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKHQpfXZhciB0PS9eXFxzKy8sYT0vXFxzKyQvO2Z1bmN0aW9uIG4obyxyKXtpZihyPXJ8fHt9LChvPW98fFwiXCIpaW5zdGFuY2VvZiBuKXJldHVybiBvO2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbihvLHIpO3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciBvLHIsaSxzPXtyOjAsZzowLGI6MH0sYz0xLGw9bnVsbCxkPW51bGwsdT1udWxsLHA9ITEsdz0hMTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbiYmKG49ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UodCxcIlwiKS5yZXBsYWNlKGEsXCJcIikudG9Mb3dlckNhc2UoKTt2YXIgbixvPSExO2lmKHlbZV0pZT15W2VdLG89ITA7ZWxzZSBpZihcInRyYW5zcGFyZW50XCI9PWUpcmV0dXJue3I6MCxnOjAsYjowLGE6MCxmb3JtYXQ6XCJuYW1lXCJ9O3JldHVybihuPVIucmdiLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXX06KG49Ui5yZ2JhLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXSxhOm5bNF19OihuPVIuaHNsLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXX06KG49Ui5oc2xhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXSxhOm5bNF19OihuPVIuaHN2LmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXX06KG49Ui5oc3ZhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXSxhOm5bNF19OihuPVIuaGV4OC5leGVjKGUpKT97cjpNKG5bMV0pLGc6TShuWzJdKSxiOk0oblszXSksYTpXKG5bNF0pLGZvcm1hdDpvP1wibmFtZVwiOlwiaGV4OFwifToobj1SLmhleDYuZXhlYyhlKSk/e3I6TShuWzFdKSxnOk0oblsyXSksYjpNKG5bM10pLGZvcm1hdDpvP1wibmFtZVwiOlwiaGV4XCJ9OihuPVIuaGV4NC5leGVjKGUpKT97cjpNKG5bMV0rXCJcIituWzFdKSxnOk0oblsyXStcIlwiK25bMl0pLGI6TShuWzNdK1wiXCIrblszXSksYTpXKG5bNF0rXCJcIituWzRdKSxmb3JtYXQ6bz9cIm5hbWVcIjpcImhleDhcIn06ISEobj1SLmhleDMuZXhlYyhlKSkmJntyOk0oblsxXStcIlwiK25bMV0pLGc6TShuWzJdK1wiXCIrblsyXSksYjpNKG5bM10rXCJcIituWzNdKSxmb3JtYXQ6bz9cIm5hbWVcIjpcImhleFwifX0obikpLFwib2JqZWN0XCI9PWUobikmJihFKG4ucikmJkUobi5nKSYmRShuLmIpPyhvPW4ucixyPW4uZyxpPW4uYixzPXtyOjI1NSpQKG8sMjU1KSxnOjI1NSpQKHIsMjU1KSxiOjI1NSpQKGksMjU1KX0scD0hMCx3PVwiJVwiPT09U3RyaW5nKG4ucikuc3Vic3RyKC0xKT9cInByZ2JcIjpcInJnYlwiKTpFKG4uaCkmJkUobi5zKSYmRShuLnYpPyhsPUkobi5zKSxkPUkobi52KSxzPWZ1bmN0aW9uKGUsdCxhKXtlPTYqUChlLDM2MCksdD1QKHQsMTAwKSxhPVAoYSwxMDApO3ZhciBuPU1hdGguZmxvb3IoZSksbz1lLW4scj1hKigxLXQpLGk9YSooMS1vKnQpLHM9YSooMS0oMS1vKSp0KSxjPW4lNjtyZXR1cm57cjoyNTUqW2EsaSxyLHIscyxhXVtjXSxnOjI1NSpbcyxhLGEsaSxyLHJdW2NdLGI6MjU1KltyLHIscyxhLGEsaV1bY119fShuLmgsbCxkKSxwPSEwLHc9XCJoc3ZcIik6RShuLmgpJiZFKG4ucykmJkUobi5sKSYmKGw9SShuLnMpLHU9SShuLmwpLHM9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuLG8scjtmdW5jdGlvbiBpKGUsdCxhKXtyZXR1cm4gYTwwJiYoYSs9MSksYT4xJiYoYS09MSksYTwxLzY/ZSs2Kih0LWUpKmE6YTwuNT90OmE8Mi8zP2UrKHQtZSkqKDIvMy1hKSo2OmV9aWYoZT1QKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCksMD09PXQpbj1vPXI9YTtlbHNle3ZhciBzPWE8LjU/YSooMSt0KTphK3QtYSp0LGM9MiphLXM7bj1pKGMscyxlKzEvMyksbz1pKGMscyxlKSxyPWkoYyxzLGUtMS8zKX1yZXR1cm57cjoyNTUqbixnOjI1NSpvLGI6MjU1KnJ9fShuLmgsbCx1KSxwPSEwLHc9XCJoc2xcIiksbi5oYXNPd25Qcm9wZXJ0eShcImFcIikmJihjPW4uYSkpLGM9dihjKSx7b2s6cCxmb3JtYXQ6bi5mb3JtYXR8fHcscjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5yLDApKSxnOk1hdGgubWluKDI1NSxNYXRoLm1heChzLmcsMCkpLGI6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuYiwwKSksYTpjfX0obyk7dGhpcy5fb3JpZ2luYWxJbnB1dD1vLHRoaXMuX3I9aS5yLHRoaXMuX2c9aS5nLHRoaXMuX2I9aS5iLHRoaXMuX2E9aS5hLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpcy5fZm9ybWF0PXIuZm9ybWF0fHxpLmZvcm1hdCx0aGlzLl9ncmFkaWVudFR5cGU9ci5ncmFkaWVudFR5cGUsdGhpcy5fcjwxJiYodGhpcy5fcj1NYXRoLnJvdW5kKHRoaXMuX3IpKSx0aGlzLl9nPDEmJih0aGlzLl9nPU1hdGgucm91bmQodGhpcy5fZykpLHRoaXMuX2I8MSYmKHRoaXMuX2I9TWF0aC5yb3VuZCh0aGlzLl9iKSksdGhpcy5fb2s9aS5va31mdW5jdGlvbiBvKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixvLHI9TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9KHIraSkvMjtpZihyPT1pKW49bz0wO2Vsc2V7dmFyIGM9ci1pO3N3aXRjaChvPXM+LjU/Yy8oMi1yLWkpOmMvKHIraSkscil7Y2FzZSBlOm49KHQtYSkvYysodDxhPzY6MCk7YnJlYWs7Y2FzZSB0Om49KGEtZSkvYysyO2JyZWFrO2Nhc2UgYTpuPShlLXQpL2MrNH1uLz02fXJldHVybntoOm4sczpvLGw6c319ZnVuY3Rpb24gcihlLHQsYSl7ZT1QKGUsMjU1KSx0PVAodCwyNTUpLGE9UChhLDI1NSk7dmFyIG4sbyxyPU1hdGgubWF4KGUsdCxhKSxpPU1hdGgubWluKGUsdCxhKSxzPXIsYz1yLWk7aWYobz0wPT09cj8wOmMvcixyPT1pKW49MDtlbHNle3N3aXRjaChyKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOm8sdjpzfX1mdW5jdGlvbiBpKGUsdCxhLG4pe3ZhciBvPVt4KE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV07cmV0dXJuIG4mJm9bMF0uY2hhckF0KDApPT1vWzBdLmNoYXJBdCgxKSYmb1sxXS5jaGFyQXQoMCk9PW9bMV0uY2hhckF0KDEpJiZvWzJdLmNoYXJBdCgwKT09b1syXS5jaGFyQXQoMSk/b1swXS5jaGFyQXQoMCkrb1sxXS5jaGFyQXQoMCkrb1syXS5jaGFyQXQoMCk6by5qb2luKFwiXCIpfWZ1bmN0aW9uIHMoZSx0LGEsbil7cmV0dXJuW3goQShuKSkseChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSldLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucy09dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGwoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLnMrPXQvMTAwLGEucz1DKGEucyksbihhKX1mdW5jdGlvbiBkKGUpe3JldHVybiBuKGUpLmRlc2F0dXJhdGUoMTAwKX1mdW5jdGlvbiB1KGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sKz10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gcChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvUmdiKCk7cmV0dXJuIGEucj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLnItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuZz1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmctTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuYj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLG4oYSl9ZnVuY3Rpb24gdyhlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEubC09dC8xMDAsYS5sPUMoYS5sKSxuKGEpfWZ1bmN0aW9uIGcoZSx0KXt2YXIgYT1uKGUpLnRvSHNsKCksbz0oYS5oK3QpJTM2MDtyZXR1cm4gYS5oPW88MD8zNjArbzpvLG4oYSl9ZnVuY3Rpb24gaChlKXt2YXIgdD1uKGUpLnRvSHNsKCk7cmV0dXJuIHQuaD0odC5oKzE4MCklMzYwLG4odCl9ZnVuY3Rpb24gbShlLHQpe2lmKGlzTmFOKHQpfHx0PD0wKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IHRvIHBvbHlhZCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO2Zvcih2YXIgYT1uKGUpLnRvSHNsKCksbz1bbihlKV0scj0zNjAvdCxpPTE7aTx0O2krKylvLnB1c2gobih7aDooYS5oK2kqciklMzYwLHM6YS5zLGw6YS5sfSkpO3JldHVybiBvfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9bihlKS50b0hzbCgpLGE9dC5oO3JldHVybltuKGUpLG4oe2g6KGErNzIpJTM2MCxzOnQucyxsOnQubH0pLG4oe2g6KGErMjE2KSUzNjAsczp0LnMsbDp0Lmx9KV19ZnVuY3Rpb24gYihlLHQsYSl7dD10fHw2LGE9YXx8MzA7dmFyIG89bihlKS50b0hzbCgpLHI9MzYwL2EsaT1bbihlKV07Zm9yKG8uaD0oby5oLShyKnQ+PjEpKzcyMCklMzYwOy0tdDspby5oPShvLmgrciklMzYwLGkucHVzaChuKG8pKTtyZXR1cm4gaX1mdW5jdGlvbiBmKGUsdCl7dD10fHw2O2Zvcih2YXIgYT1uKGUpLnRvSHN2KCksbz1hLmgscj1hLnMsaT1hLnYscz1bXSxjPTEvdDt0LS07KXMucHVzaChuKHtoOm8sczpyLHY6aX0pKSxpPShpK2MpJTE7cmV0dXJuIHN9bi5wcm90b3R5cGU9e2lzRGFyazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKTwxMjh9LGlzTGlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0RhcmsoKX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9va30sZ2V0T3JpZ2luYWxJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmlnaW5hbElucHV0fSxnZXRGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9ybWF0fSxnZXRBbHBoYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hfSxnZXRCcmlnaHRuZXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50b1JnYigpO3JldHVybigyOTkqZS5yKzU4NyplLmcrMTE0KmUuYikvMWUzfSxnZXRMdW1pbmFuY2U6ZnVuY3Rpb24oKXt2YXIgZSx0LGEsbj10aGlzLnRvUmdiKCk7cmV0dXJuIGU9bi5yLzI1NSx0PW4uZy8yNTUsYT1uLmIvMjU1LC4yMTI2KihlPD0uMDM5Mjg/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpKSsuNzE1MioodDw9LjAzOTI4P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KSkrLjA3MjIqKGE8PS4wMzkyOD9hLzEyLjkyOk1hdGgucG93KChhKy4wNTUpLzEuMDU1LDIuNCkpfSxzZXRBbHBoYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYT12KGUpLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpc30sdG9Ic3Y6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLHY6ZS52LGE6dGhpcy5fYX19LHRvSHN2U3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9cih0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUudik7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc3YoXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHN2YShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9Ic2w6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLGw6ZS5sLGE6dGhpcy5fYX19LHRvSHNsU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9byh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUubCk7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc2woXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHNsYShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsZSl9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXgoZSl9LHRvSGV4ODpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGEsbixvKXt2YXIgcj1beChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSkseChBKG4pKV07cmV0dXJuIG8mJnJbMF0uY2hhckF0KDApPT1yWzBdLmNoYXJBdCgxKSYmclsxXS5jaGFyQXQoMCk9PXJbMV0uY2hhckF0KDEpJiZyWzJdLmNoYXJBdCgwKT09clsyXS5jaGFyQXQoMSkmJnJbM10uY2hhckF0KDApPT1yWzNdLmNoYXJBdCgxKT9yWzBdLmNoYXJBdCgwKStyWzFdLmNoYXJBdCgwKStyWzJdLmNoYXJBdCgwKStyWzNdLmNoYXJBdCgwKTpyLmpvaW4oXCJcIil9KHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EsZSl9LHRvSGV4OFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4OChlKX0sdG9SZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpNYXRoLnJvdW5kKHRoaXMuX3IpLGc6TWF0aC5yb3VuZCh0aGlzLl9nKSxiOk1hdGgucm91bmQodGhpcy5fYiksYTp0aGlzLl9hfX0sdG9SZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvUGVyY2VudGFnZVJnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiVcIixnOk1hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiVcIixiOk1hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiVcIixhOnRoaXMuX2F9fSx0b1BlcmNlbnRhZ2VSZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvTmFtZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fYT9cInRyYW5zcGFyZW50XCI6ISh0aGlzLl9hPDEpJiYoU1tpKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLCEwKV18fCExKX0sdG9GaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9XCIjXCIrcyh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hKSxhPXQsbz10aGlzLl9ncmFkaWVudFR5cGU/XCJHcmFkaWVudFR5cGUgPSAxLCBcIjpcIlwiO2lmKGUpe3ZhciByPW4oZSk7YT1cIiNcIitzKHIuX3Isci5fZyxyLl9iLHIuX2EpfXJldHVyblwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK28rXCJzdGFydENvbG9yc3RyPVwiK3QrXCIsZW5kQ29sb3JzdHI9XCIrYStcIilcIn0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlO2U9ZXx8dGhpcy5fZm9ybWF0O3ZhciBhPSExLG49dGhpcy5fYTwxJiZ0aGlzLl9hPj0wO3JldHVybiB0fHwhbnx8XCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZSYmXCJoZXgzXCIhPT1lJiZcImhleDRcIiE9PWUmJlwiaGV4OFwiIT09ZSYmXCJuYW1lXCIhPT1lPyhcInJnYlwiPT09ZSYmKGE9dGhpcy50b1JnYlN0cmluZygpKSxcInByZ2JcIj09PWUmJihhPXRoaXMudG9QZXJjZW50YWdlUmdiU3RyaW5nKCkpLFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWV8fChhPXRoaXMudG9IZXhTdHJpbmcoKSksXCJoZXgzXCI9PT1lJiYoYT10aGlzLnRvSGV4U3RyaW5nKCEwKSksXCJoZXg0XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZyghMCkpLFwiaGV4OFwiPT09ZSYmKGE9dGhpcy50b0hleDhTdHJpbmcoKSksXCJuYW1lXCI9PT1lJiYoYT10aGlzLnRvTmFtZSgpKSxcImhzbFwiPT09ZSYmKGE9dGhpcy50b0hzbFN0cmluZygpKSxcImhzdlwiPT09ZSYmKGE9dGhpcy50b0hzdlN0cmluZygpKSxhfHx0aGlzLnRvSGV4U3RyaW5nKCkpOlwibmFtZVwiPT09ZSYmMD09PXRoaXMuX2E/dGhpcy50b05hbWUoKTp0aGlzLnRvUmdiU3RyaW5nKCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy50b1N0cmluZygpKX0sX2FwcGx5TW9kaWZpY2F0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0KSkpO3JldHVybiB0aGlzLl9yPWEuX3IsdGhpcy5fZz1hLl9nLHRoaXMuX2I9YS5fYix0aGlzLnNldEFscGhhKGEuX2EpLHRoaXN9LGxpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24odSxhcmd1bWVudHMpfSxicmlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihwLGFyZ3VtZW50cyl9LGRhcmtlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih3LGFyZ3VtZW50cyl9LGRlc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oYyxhcmd1bWVudHMpfSxzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihsLGFyZ3VtZW50cyl9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihkLGFyZ3VtZW50cyl9LHNwaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZyxhcmd1bWVudHMpfSxfYXBwbHlDb21iaW5hdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSl9LGFuYWxvZ291czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGIsYXJndW1lbnRzKX0sY29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGgsYXJndW1lbnRzKX0sbW9ub2Nocm9tYXRpYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGYsYXJndW1lbnRzKX0sc3BsaXRjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oayxhcmd1bWVudHMpfSx0cmlhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG0sWzNdKX0sdGV0cmFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbNF0pfX0sbi5mcm9tUmF0aW89ZnVuY3Rpb24odCxhKXtpZihcIm9iamVjdFwiPT1lKHQpKXt2YXIgbz17fTtmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYob1tyXT1cImFcIj09PXI/dFtyXTpJKHRbcl0pKTt0PW99cmV0dXJuIG4odCxhKX0sbi5lcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHwhdCkmJm4oZSkudG9SZ2JTdHJpbmcoKT09bih0KS50b1JnYlN0cmluZygpfSxuLnJhbmRvbT1mdW5jdGlvbigpe3JldHVybiBuLmZyb21SYXRpbyh7cjpNYXRoLnJhbmRvbSgpLGc6TWF0aC5yYW5kb20oKSxiOk1hdGgucmFuZG9tKCl9KX0sbi5taXg9ZnVuY3Rpb24oZSx0LGEpe2E9MD09PWE/MDphfHw1MDt2YXIgbz1uKGUpLnRvUmdiKCkscj1uKHQpLnRvUmdiKCksaT1hLzEwMDtyZXR1cm4gbih7cjooci5yLW8ucikqaStvLnIsZzooci5nLW8uZykqaStvLmcsYjooci5iLW8uYikqaStvLmIsYTooci5hLW8uYSkqaStvLmF9KX0sbi5yZWFkYWJpbGl0eT1mdW5jdGlvbihlLHQpe3ZhciBhPW4oZSksbz1uKHQpO3JldHVybihNYXRoLm1heChhLmdldEx1bWluYW5jZSgpLG8uZ2V0THVtaW5hbmNlKCkpKy4wNSkvKE1hdGgubWluKGEuZ2V0THVtaW5hbmNlKCksby5nZXRMdW1pbmFuY2UoKSkrLjA1KX0sbi5pc1JlYWRhYmxlPWZ1bmN0aW9uKGUsdCxhKXt2YXIgbyxyLGkscyxjLGw9bi5yZWFkYWJpbGl0eShlLHQpO3N3aXRjaChyPSExLChpPWEsXCJBQVwiIT09KHM9KChpPWl8fHtsZXZlbDpcIkFBXCIsc2l6ZTpcInNtYWxsXCJ9KS5sZXZlbHx8XCJBQVwiKS50b1VwcGVyQ2FzZSgpKSYmXCJBQUFcIiE9PXMmJihzPVwiQUFcIiksXCJzbWFsbFwiIT09KGM9KGkuc2l6ZXx8XCJzbWFsbFwiKS50b0xvd2VyQ2FzZSgpKSYmXCJsYXJnZVwiIT09YyYmKGM9XCJzbWFsbFwiKSxvPXtsZXZlbDpzLHNpemU6Y30pLmxldmVsK28uc2l6ZSl7Y2FzZVwiQUFzbWFsbFwiOmNhc2VcIkFBQWxhcmdlXCI6cj1sPj00LjU7YnJlYWs7Y2FzZVwiQUFsYXJnZVwiOnI9bD49MzticmVhaztjYXNlXCJBQUFzbWFsbFwiOnI9bD49N31yZXR1cm4gcn0sbi5tb3N0UmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciBvLHIsaSxzLGM9bnVsbCxsPTA7cj0oYT1hfHx7fSkuaW5jbHVkZUZhbGxiYWNrQ29sb3JzLGk9YS5sZXZlbCxzPWEuc2l6ZTtmb3IodmFyIGQ9MDtkPHQubGVuZ3RoO2QrKykobz1uLnJlYWRhYmlsaXR5KGUsdFtkXSkpPmwmJihsPW8sYz1uKHRbZF0pKTtyZXR1cm4gbi5pc1JlYWRhYmxlKGUsYyx7bGV2ZWw6aSxzaXplOnN9KXx8IXI/YzooYS5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ITEsbi5tb3N0UmVhZGFibGUoZSxbXCIjZmZmXCIsXCIjMDAwXCJdLGEpKX07dmFyIHk9bi5uYW1lcz17YWxpY2VibHVlOlwiZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiZmFlYmQ3XCIsYXF1YTpcIjBmZlwiLGFxdWFtYXJpbmU6XCI3ZmZmZDRcIixhenVyZTpcImYwZmZmZlwiLGJlaWdlOlwiZjVmNWRjXCIsYmlzcXVlOlwiZmZlNGM0XCIsYmxhY2s6XCIwMDBcIixibGFuY2hlZGFsbW9uZDpcImZmZWJjZFwiLGJsdWU6XCIwMGZcIixibHVldmlvbGV0OlwiOGEyYmUyXCIsYnJvd246XCJhNTJhMmFcIixidXJseXdvb2Q6XCJkZWI4ODdcIixidXJudHNpZW5uYTpcImVhN2U1ZFwiLGNhZGV0Ymx1ZTpcIjVmOWVhMFwiLGNoYXJ0cmV1c2U6XCI3ZmZmMDBcIixjaG9jb2xhdGU6XCJkMjY5MWVcIixjb3JhbDpcImZmN2Y1MFwiLGNvcm5mbG93ZXJibHVlOlwiNjQ5NWVkXCIsY29ybnNpbGs6XCJmZmY4ZGNcIixjcmltc29uOlwiZGMxNDNjXCIsY3lhbjpcIjBmZlwiLGRhcmtibHVlOlwiMDAwMDhiXCIsZGFya2N5YW46XCIwMDhiOGJcIixkYXJrZ29sZGVucm9kOlwiYjg4NjBiXCIsZGFya2dyYXk6XCJhOWE5YTlcIixkYXJrZ3JlZW46XCIwMDY0MDBcIixkYXJrZ3JleTpcImE5YTlhOVwiLGRhcmtraGFraTpcImJkYjc2YlwiLGRhcmttYWdlbnRhOlwiOGIwMDhiXCIsZGFya29saXZlZ3JlZW46XCI1NTZiMmZcIixkYXJrb3JhbmdlOlwiZmY4YzAwXCIsZGFya29yY2hpZDpcIjk5MzJjY1wiLGRhcmtyZWQ6XCI4YjAwMDBcIixkYXJrc2FsbW9uOlwiZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiOGZiYzhmXCIsZGFya3NsYXRlYmx1ZTpcIjQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIyZjRmNGZcIixkYXJrc2xhdGVncmV5OlwiMmY0ZjRmXCIsZGFya3R1cnF1b2lzZTpcIjAwY2VkMVwiLGRhcmt2aW9sZXQ6XCI5NDAwZDNcIixkZWVwcGluazpcImZmMTQ5M1wiLGRlZXBza3libHVlOlwiMDBiZmZmXCIsZGltZ3JheTpcIjY5Njk2OVwiLGRpbWdyZXk6XCI2OTY5NjlcIixkb2RnZXJibHVlOlwiMWU5MGZmXCIsZmlyZWJyaWNrOlwiYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCJmZmZhZjBcIixmb3Jlc3RncmVlbjpcIjIyOGIyMlwiLGZ1Y2hzaWE6XCJmMGZcIixnYWluc2Jvcm86XCJkY2RjZGNcIixnaG9zdHdoaXRlOlwiZjhmOGZmXCIsZ29sZDpcImZmZDcwMFwiLGdvbGRlbnJvZDpcImRhYTUyMFwiLGdyYXk6XCI4MDgwODBcIixncmVlbjpcIjAwODAwMFwiLGdyZWVueWVsbG93OlwiYWRmZjJmXCIsZ3JleTpcIjgwODA4MFwiLGhvbmV5ZGV3OlwiZjBmZmYwXCIsaG90cGluazpcImZmNjliNFwiLGluZGlhbnJlZDpcImNkNWM1Y1wiLGluZGlnbzpcIjRiMDA4MlwiLGl2b3J5OlwiZmZmZmYwXCIsa2hha2k6XCJmMGU2OGNcIixsYXZlbmRlcjpcImU2ZTZmYVwiLGxhdmVuZGVyYmx1c2g6XCJmZmYwZjVcIixsYXduZ3JlZW46XCI3Y2ZjMDBcIixsZW1vbmNoaWZmb246XCJmZmZhY2RcIixsaWdodGJsdWU6XCJhZGQ4ZTZcIixsaWdodGNvcmFsOlwiZjA4MDgwXCIsbGlnaHRjeWFuOlwiZTBmZmZmXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCJmYWZhZDJcIixsaWdodGdyYXk6XCJkM2QzZDNcIixsaWdodGdyZWVuOlwiOTBlZTkwXCIsbGlnaHRncmV5OlwiZDNkM2QzXCIsbGlnaHRwaW5rOlwiZmZiNmMxXCIsbGlnaHRzYWxtb246XCJmZmEwN2FcIixsaWdodHNlYWdyZWVuOlwiMjBiMmFhXCIsbGlnaHRza3libHVlOlwiODdjZWZhXCIsbGlnaHRzbGF0ZWdyYXk6XCI3ODlcIixsaWdodHNsYXRlZ3JleTpcIjc4OVwiLGxpZ2h0c3RlZWxibHVlOlwiYjBjNGRlXCIsbGlnaHR5ZWxsb3c6XCJmZmZmZTBcIixsaW1lOlwiMGYwXCIsbGltZWdyZWVuOlwiMzJjZDMyXCIsbGluZW46XCJmYWYwZTZcIixtYWdlbnRhOlwiZjBmXCIsbWFyb29uOlwiODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIjY2Y2RhYVwiLG1lZGl1bWJsdWU6XCIwMDAwY2RcIixtZWRpdW1vcmNoaWQ6XCJiYTU1ZDNcIixtZWRpdW1wdXJwbGU6XCI5MzcwZGJcIixtZWRpdW1zZWFncmVlbjpcIjNjYjM3MVwiLG1lZGl1bXNsYXRlYmx1ZTpcIjdiNjhlZVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiMDBmYTlhXCIsbWVkaXVtdHVycXVvaXNlOlwiNDhkMWNjXCIsbWVkaXVtdmlvbGV0cmVkOlwiYzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiMTkxOTcwXCIsbWludGNyZWFtOlwiZjVmZmZhXCIsbWlzdHlyb3NlOlwiZmZlNGUxXCIsbW9jY2FzaW46XCJmZmU0YjVcIixuYXZham93aGl0ZTpcImZmZGVhZFwiLG5hdnk6XCIwMDAwODBcIixvbGRsYWNlOlwiZmRmNWU2XCIsb2xpdmU6XCI4MDgwMDBcIixvbGl2ZWRyYWI6XCI2YjhlMjNcIixvcmFuZ2U6XCJmZmE1MDBcIixvcmFuZ2VyZWQ6XCJmZjQ1MDBcIixvcmNoaWQ6XCJkYTcwZDZcIixwYWxlZ29sZGVucm9kOlwiZWVlOGFhXCIscGFsZWdyZWVuOlwiOThmYjk4XCIscGFsZXR1cnF1b2lzZTpcImFmZWVlZVwiLHBhbGV2aW9sZXRyZWQ6XCJkYjcwOTNcIixwYXBheWF3aGlwOlwiZmZlZmQ1XCIscGVhY2hwdWZmOlwiZmZkYWI5XCIscGVydTpcImNkODUzZlwiLHBpbms6XCJmZmMwY2JcIixwbHVtOlwiZGRhMGRkXCIscG93ZGVyYmx1ZTpcImIwZTBlNlwiLHB1cnBsZTpcIjgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCI2NjMzOTlcIixyZWQ6XCJmMDBcIixyb3N5YnJvd246XCJiYzhmOGZcIixyb3lhbGJsdWU6XCI0MTY5ZTFcIixzYWRkbGVicm93bjpcIjhiNDUxM1wiLHNhbG1vbjpcImZhODA3MlwiLHNhbmR5YnJvd246XCJmNGE0NjBcIixzZWFncmVlbjpcIjJlOGI1N1wiLHNlYXNoZWxsOlwiZmZmNWVlXCIsc2llbm5hOlwiYTA1MjJkXCIsc2lsdmVyOlwiYzBjMGMwXCIsc2t5Ymx1ZTpcIjg3Y2VlYlwiLHNsYXRlYmx1ZTpcIjZhNWFjZFwiLHNsYXRlZ3JheTpcIjcwODA5MFwiLHNsYXRlZ3JleTpcIjcwODA5MFwiLHNub3c6XCJmZmZhZmFcIixzcHJpbmdncmVlbjpcIjAwZmY3ZlwiLHN0ZWVsYmx1ZTpcIjQ2ODJiNFwiLHRhbjpcImQyYjQ4Y1wiLHRlYWw6XCIwMDgwODBcIix0aGlzdGxlOlwiZDhiZmQ4XCIsdG9tYXRvOlwiZmY2MzQ3XCIsdHVycXVvaXNlOlwiNDBlMGQwXCIsdmlvbGV0OlwiZWU4MmVlXCIsd2hlYXQ6XCJmNWRlYjNcIix3aGl0ZTpcImZmZlwiLHdoaXRlc21va2U6XCJmNWY1ZjVcIix5ZWxsb3c6XCJmZjBcIix5ZWxsb3dncmVlbjpcIjlhY2QzMlwifSxTPW4uaGV4TmFtZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHRbZVthXV09YSk7cmV0dXJuIHR9KHkpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGU9cGFyc2VGbG9hdChlKSwoaXNOYU4oZSl8fGU8MHx8ZT4xKSYmKGU9MSksZX1mdW5jdGlvbiBQKGUsdCl7KGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiLlwiKSYmMT09PXBhcnNlRmxvYXQoZSl9KShlKSYmKGU9XCIxMDAlXCIpO3ZhciBhPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiJVwiKX0oZSk7cmV0dXJuIGU9TWF0aC5taW4odCxNYXRoLm1heCgwLHBhcnNlRmxvYXQoZSkpKSxhJiYoZT1wYXJzZUludChlKnQsMTApLzEwMCksTWF0aC5hYnMoZS10KTwxZS02PzE6ZSV0L3BhcnNlRmxvYXQodCl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gTWF0aC5taW4oMSxNYXRoLm1heCgwLGUpKX1mdW5jdGlvbiBNKGUpe3JldHVybiBwYXJzZUludChlLDE2KX1mdW5jdGlvbiB4KGUpe3JldHVybiAxPT1lLmxlbmd0aD9cIjBcIitlOlwiXCIrZX1mdW5jdGlvbiBJKGUpe3JldHVybiBlPD0xJiYoZT0xMDAqZStcIiVcIiksZX1mdW5jdGlvbiBBKGUpe3JldHVybiBNYXRoLnJvdW5kKDI1NSpwYXJzZUZsb2F0KGUpKS50b1N0cmluZygxNil9ZnVuY3Rpb24gVyhlKXtyZXR1cm4gTShlKS8yNTV9dmFyIEQsVCxCLFI9KFQ9XCJbXFxcXHN8XFxcXChdKyhcIisoRD1cIig/OlstXFxcXCtdP1xcXFxkKlxcXFwuXFxcXGQrJT8pfCg/OlstXFxcXCtdP1xcXFxkKyU/KVwiKStcIilbLHxcXFxcc10rKFwiK0QrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVxcXFxzKlxcXFwpP1wiLEI9XCJbXFxcXHN8XFxcXChdKyhcIitEK1wiKVssfFxcXFxzXSsoXCIrRCtcIilbLHxcXFxcc10rKFwiK0QrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVxcXFxzKlxcXFwpP1wiLHtDU1NfVU5JVDpuZXcgUmVnRXhwKEQpLHJnYjpuZXcgUmVnRXhwKFwicmdiXCIrVCkscmdiYTpuZXcgUmVnRXhwKFwicmdiYVwiK0IpLGhzbDpuZXcgUmVnRXhwKFwiaHNsXCIrVCksaHNsYTpuZXcgUmVnRXhwKFwiaHNsYVwiK0IpLGhzdjpuZXcgUmVnRXhwKFwiaHN2XCIrVCksaHN2YTpuZXcgUmVnRXhwKFwiaHN2YVwiK0IpLGhleDM6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDY6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLGhleDQ6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg4Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC99KTtmdW5jdGlvbiBFKGUpe3JldHVybiEhUi5DU1NfVU5JVC5leGVjKGUpfXJldHVybiBufSgpfX0sbj17fTtmdW5jdGlvbiBvKGUpe3ZhciB0PW5bZV07aWYodm9pZCAwIT09dClyZXR1cm4gdC5leHBvcnRzO3ZhciByPW5bZV09e2V4cG9ydHM6e319O3JldHVybiBhW2VdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG8pLHIuZXhwb3J0c312YXIgcj17fTsoKCk9Pnt2YXIgZT1yO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuY3JlYXRlVGhlbWU9ZS5QYWxldHRlPWUuQ29sb3I9dm9pZCAwO3ZhciB0PW8oMjMxNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJDb2xvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LkNvbG9yfX0pO3ZhciBhPW8oNTkzOSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJQYWxldHRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuUGFsZXR0ZX19KTt2YXIgbj1vKDY4OTMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY3JlYXRlVGhlbWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcmVhdGVUaGVtZX19KX0pKCk7dmFyIGk9dDtmb3IodmFyIHMgaW4gcilpW3NdPXJbc107ci5fX2VzTW9kdWxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sODc3OigpPT57fSw2NzooKT0+e319LHQ9e307ZnVuY3Rpb24gYShuKXt2YXIgbz10W25dO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgcj10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXShyLHIuZXhwb3J0cyxhKSxyLmV4cG9ydHN9YS5uPWU9Pnt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gYS5kKHQse2E6dH0pLHR9LGEuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWEubyh0LG4pJiYhYS5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sYS5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxhLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBuPXt9OygoKT0+e1widXNlIHN0cmljdFwiO2EucihuKSxhLmQobix7QXBwTWFuaWZlc3RUeXBlOigpPT5sLEJvb2ttYXJrSXRlbUNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+eSxCcm93c2VyQnV0dG9uVHlwZTooKT0+dixDb2xvclNjaGVtZU9wdGlvblR5cGU6KCk9PmssQ3VzdG9tQWN0aW9uQ2FsbGVyVHlwZTooKT0+TSxEb2NrOigpPT51LEVudGVycHJpc2VNYWluQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5mLEdsb2JhbENvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+bSxQYWdlQ2hhbmdlRXZlbnRUeXBlOigpPT5oLFBhZ2VUYWJDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PmIsUGFuZWxQb3NpdGlvbjooKT0+ZyxTVVBQT1JURURfTEFOR1VBR0VTOigpPT54LFNhdmVCdXR0b25Db250ZXh0TWVudU9wdGlvblR5cGU6KCk9PlAsU2F2ZU1vZGFsVHlwZTooKT0+SSxWaWV3VGFiTWVudU9wdGlvblR5cGU6KCk9PlMsV2luZG93VHlwZTooKT0+QyxnZXRDdXJyZW50U3luYzooKT0+Ym4saW5pdDooKT0+SHMsd3JhcFN5bmM6KCk9PmtufSk7dmFyIGU9e307YS5yKGUpLGEuZChlLHtjcmVhdGVOYW1lc3BhY2VkTG9jYWxTdG9yYWdlOigpPT5QdCxnZXRJdGVtOigpPT54dCxyZW1vdmVJdGVtOigpPT5JdCxzZXRJdGVtOigpPT5NdH0pO3ZhciB0LG8scixpLHMsYyxsLGQsdT17fTthLnIodSksYS5kKHUse2luaXQ6KCk9Pkd0fSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifSh0fHwodD17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0obHx8KGw9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KGR8fChkPXt9KSk7dmFyIHAsdyxnLGgsbSxrLGIsZix5LFMsdixQLEMsTTshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3Rpb25CdXR0b249XCJBY3Rpb25CdXR0b25cIixlLkRyb3Bkb3duQnV0dG9uPVwiRHJvcGRvd25CdXR0b25cIn0od3x8KHc9e30pKSxmdW5jdGlvbihlKXtlLkxlZnQ9XCJMZWZ0XCIsZS5SaWdodD1cIlJpZ2h0XCIsZS5Ub3A9XCJUb3BcIixlLkJvdHRvbT1cIkJvdHRvbVwifShnfHwoZz17fSkpLGZ1bmN0aW9uKGUpe2UuVXJsQ2hhbmdlPVwiVVJMX0NIQU5HRVwiLGUuVmlld0FkZGVkPVwiVklFV19BRERFRFwiLGUuVmlld1JlbW92ZWQ9XCJWSUVXX1JFTU9WRURcIixlLlBhZ2VDb250ZXh0QWRkZWQ9XCJQQUdFX0NPTlRFWFRfQURERURcIixlLlBhZ2VDb250ZXh0UmVtb3ZlZD1cIlBBR0VfQ09OVEVYVF9SRU1PVkVEXCJ9KGh8fChoPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuUmVzdG9yZUNoYW5nZXM9XCJSZXN0b3JlQ2hhbmdlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVuYW1lV29ya3NwYWNlPVwiUmVuYW1lV29ya3NwYWNlXCIsZS5Td2l0Y2hXb3Jrc3BhY2U9XCJTd2l0Y2hXb3Jrc3BhY2VcIixlLkRlbGV0ZVdvcmtzcGFjZT1cIkRlbGV0ZVdvcmtzcGFjZVwiLGUuRG93bmxvYWRzPVwiRG93bmxvYWRzXCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5NYW5hZ2VEZXNrdG9wU2lnbmFscz1cIk1hbmFnZURlc2t0b3BTaWduYWxzXCIsZS5BcHBlYXJhbmNlPVwiQXBwZWFyYW5jZVwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifShtfHwobT17fSkpLGZ1bmN0aW9uKGUpe2UuTGlnaHQ9XCJsaWdodFwiLGUuRGFyaz1cImRhcmtcIixlLlN5c3RlbT1cInN5c3RlbVwifShrfHwoaz17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5OZXdQYWdlPVwiTmV3IFBhZ2VcIixlLkRlbGV0ZVBhZ2U9XCJEZWxldGUgUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZWZyZXNoPVwiUmVmcmVzaFwiLGUuQ2xvc2VPdGhlcnM9XCJDbG9zZSBvdGhlcnNcIixlLkRlbGV0ZT1cIkRlbGV0ZVwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuTWFuYWdlRGVza3RvcFNpZ25hbHM9XCJNYW5hZ2VEZXNrdG9wU2lnbmFsc1wiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5DdXN0b209XCJDdXN0b21cIn0oYnx8KGI9e30pKSxmdW5jdGlvbihlKXtlLkxvY2s9XCJMb2NrXCIsZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkFkZFRvQ2hhbmVsPVwiQWRkVG9DaGFubmVsXCIsZS5NYW5hZ2VEZXNrdG9wU2lnbmFscz1cIk1hbmFnZURlc2t0b3BTaWduYWxzXCIsZS5QcmludD1cIlByaW50XCIsZS5QaW49XCJQaW5cIn0oZnx8KGY9e30pKSxmdW5jdGlvbihlKXtlLkVkaXROYW1lPVwiRWRpdCBOYW1lXCIsZS5Nb3ZlPVwiTW92ZVwiLGUuRGVsZXRlPVwiRGVsZXRlXCJ9KHl8fCh5PXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdWaWV3PVwiTmV3Vmlld1wiLGUuRHVwbGljYXRlVmlld3M9XCJEdXBsaWNhdGVWaWV3XCIsZS5PcGVuV2l0aERlZmF1bHRCcm93c2VyPVwiT3BlbldpdGhEZWZhdWx0QnJvd3NlclwiLGUuUmVsb2FkVmlld3M9XCJSZWxvYWRUYWJcIixlLkNsb3NlVmlld3M9XCJDbG9zZVRhYlwiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cIlJlbW92ZUZyb21DaGFubmVsXCIsZS5CYWNrPVwiQmFja1wiLGUuRm9yd2FyZD1cIkZvcndhcmRcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkN1c3RvbT1cIkN1c3RvbVwifShTfHwoUz17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5Db2xvckxpbmtpbmc9XCJDb2xvckxpbmtpbmdcIixlLlByZXNldExheW91dHM9XCJQcmVzZXRMYXlvdXRzXCIsZS5Mb2NrVW5sb2NrUGFnZT1cIkxvY2tVbmxvY2tQYWdlXCIsZS5TYXZlTWVudT1cIlNhdmVNZW51XCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5NaW5pbWlzZT1cIk1pbmltaXNlXCIsZS5NYXhpbWlzZT1cIk1heGltaXNlXCIsZS5DbG9zZT1cIkNsb3NlXCIsZS5DdXN0b209XCJDdXN0b21cIn0odnx8KHY9e30pKSxmdW5jdGlvbihlKXtlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5DdXN0b209XCJDdXN0b21cIn0oUHx8KFA9e30pKSxmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJicm93c2VyXCIsZS5QbGF0Zm9ybT1cInBsYXRmb3JtXCJ9KEN8fChDPXt9KSksZnVuY3Rpb24oZSl7ZS5DdXN0b21CdXR0b249XCJDdXN0b21CdXR0b25cIixlLlN0b3JlQ3VzdG9tQnV0dG9uPVwiU3RvcmVDdXN0b21CdXR0b25cIixlLkN1c3RvbURyb3Bkb3duSXRlbT1cIkN1c3RvbURyb3Bkb3duSXRlbVwiLGUuR2xvYmFsQ29udGV4dE1lbnU9XCJHbG9iYWxDb250ZXh0TWVudVwiLGUuVmlld1RhYkNvbnRleHRNZW51PVwiVmlld1RhYkNvbnRleHRNZW51XCIsZS5QYWdlVGFiQ29udGV4dE1lbnU9XCJQYWdlVGFiQ29udGV4dE1lbnVcIixlLlNhdmVCdXR0b25Db250ZXh0TWVudT1cIlNhdmVCdXR0b25Db250ZXh0TWVudVwiLGUuQVBJPVwiQVBJXCJ9KE18fChNPXt9KSk7Y29uc3QgeD1bXCJlbi1VU1wiLFwiamEtSlBcIixcInpoLUNOXCIsXCJrby1LUlwiLFwicnUtUlVcIixcImRlLURFXCIsXCJ6aC1IYW50XCJdO3ZhciBJLEE7IWZ1bmN0aW9uKGUpe2UuU0FWRV9QQUdFPVwiU0FWRV9QQUdFXCIsZS5TQVZFX1dPUktTUEFDRT1cIlNBVkVfV09SS1NQQUNFXCIsZS5TQVZFX1BBR0VfQVM9XCJTQVZFX1BBR0VfQVNcIixlLlNBVkVfV09SS1NQQUNFX0FTPVwiU0FWRV9XT1JLU1BBQ0VfQVNcIixlLlJFTkFNRV9QQUdFPVwiUkVOQU1FX1BBR0VcIixlLlJFTkFNRV9XT1JLU1BBQ0U9XCJSRU5BTUVfV09SS1NQQUNFXCJ9KEl8fChJPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NhbD1cImxvY2FsXCIsZS5EZXY9XCJkZXZcIixlLlN0YWdpbmc9XCJzdGFnaW5nXCIsZS5Qcm9kPVwicHJvZFwifShBfHwoQT17fSkpO2NvbnN0IFc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbixEPShcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8cHJvY2Vzcy5lbnYsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyksVD1EJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW5kZXhlZERCLEI9RD93aW5kb3cub3JpZ2luOkEuTG9jYWwsUj1XJiZmaW4ubWUudXVpZCxFPVcmJmZpbi5tZS5uYW1lLEY9VyYmZmluLm1lLmVudGl0eVR5cGUsVj0oQS5Mb2NhbCxBLkRldixBLlN0YWdpbmcsXCJwcm9kXCI9PT1BLlByb2QpLE49ZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpCK2UsTD1OKFwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjIuMy45XCIpLF89TihcImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlLzIyLjMuOVwiKSxVPShcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZOKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJk4oV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI0Mi4xMzguMTAwLjEwMVwiKSxPPVwiMjIuMy45XCI7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9CVUlMRF9TSEEmJldPUktTUEFDRV9CVUlMRF9TSEE7dmFyIEcsSDshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvP2RlZXBsaW5rPXNlYXJjaFwiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9kb2NrL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCIsZS5BbmFseXRpY3M9XCIvcHJvdmlkZXIvYW5hbHl0aWNzL1wiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXIvXCJ9KEd8fChHPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL3BvcHVwLW1lbnUvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2F2ZU1vZGFsPVwiL3BvcHVwLW1lbnUvc2F2ZS1tb2RhbC9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9wb3B1cC1tZW51L2NvbG9yLWxpbmtpbmcvY29sb3ItbGlua2luZy9cIixlLkJyb3dzZXJJbmRpY2F0b3I9XCIvaW5kaWNhdG9yL1wiLGUuQnJvd3NlclBvcHVwTWVudUFkZHJlc3NTZWFyY2hSZXN1bHRzVmlldz1cIi9wb3B1cC1tZW51L2FkZHJlc3Mtc2VhcmNoLXJlc3VsdHMtdmlldy9cIixlLlJlc3BvbnNlTW9kYWw9XCIvcG9wdXAtbWVudS9yZXNwb25zZS1tb2RhbC9cIixlLkNsb3NlQ29uZmlybWF0aW9uTW9kYWw9XCIvcG9wdXAtbWVudS9jbG9zZS1jb25maXJtYXRpb24tbW9kYWwvXCIsZS5FbnRlcnByaXNlQnJvd3Nlcj1cIi9lbnRlcnByaXNlL1wiLGUuRW50ZXJwcmlzZUxhbmRpbmdQYWdlPVwiL2VudGVycHJpc2UvbGFuZGluZy9cIixlLkVudGVycHJpc2VDb250ZXh0TWVudT1cIi9jb250ZXh0LW1lbnUvXCIsZS5FbnRlcnByaXNlQm9va21hcmtEaWFsb2c9XCIvYm9va21hcmstZGlhbG9nL1wiLGUuRW50ZXJwcmlzZUFib3V0UGFnZT1cIi9wb3B1cC1tZW51L2Fib3V0L1wiLGUuRHJvcGRvd25NZW51PVwiL2Ryb3Bkb3duLW1lbnUvXCIsZS5FbnRlcnByaXNlRG9jaz1cIi9kb2NrL1wiLGUuWm9vbUNvbnRyb2xzRGlhbG9nPVwiL3pvb20tY29udHJvbHMtZGlhbG9nL1wiLGUuRGVza3RvcFNpZ25hbHNNb2RhbD1cIi9wb3B1cC1tZW51L2Rlc2t0b3Atc2lnbmFscy1tb2RhbC9cIn0oSHx8KEg9e30pKTtjb25zdCAkPXsuLi5HLC4uLkh9O3ZhciB6OyFmdW5jdGlvbihlKXtlLlNlYXJjaD1cInNlYXJjaFwifSh6fHwoej17fSkpO2NvbnN0IEs9JDthc3luYyBmdW5jdGlvbiBKKCl7Y29uc3QgZT1cImdldE1hbmlmZXN0T3ZlcnJpZGVzXCIse21hbmlmZXN0OnQsaW5pdGlhbE9wdGlvbnM6YX09YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0SW5mbygpO3JldHVybiB0Py5wbGF0Zm9ybS53b3Jrc3BhY2V8fHQ/LnBsYXRmb3JtLmhvbWV8fGE/LndvcmtzcGFjZXx8YT8uaG9tZXx8Y29uc29sZS53YXJuKGAke2V9OiBNaXNzaW5nIEhvbWUgZGV2ZWxvcG1lbnQgbWFuaWZlc3Qgb3ZlcnJpZGVzLCB1c2luZyBEZXNrdG9wIE93bmVyIFNldHRpbmdzLmApLHQ/LnBsYXRmb3JtLndvcmtzcGFjZT8oSlNPTi5zdHJpbmdpZnkodD8ucGxhdGZvcm0ud29ya3NwYWNlKSx0Py5wbGF0Zm9ybS53b3Jrc3BhY2UpOnQ/LnBsYXRmb3JtLmhvbWU/KEpTT04uc3RyaW5naWZ5KHQ/LnBsYXRmb3JtLmhvbWUpLHQ/LnBsYXRmb3JtLmhvbWUpOmE/LndvcmtzcGFjZT8oSlNPTi5zdHJpbmdpZnkoYT8ud29ya3NwYWNlKSxhPy53b3Jrc3BhY2UpOmE/LmhvbWU/KEpTT04uc3RyaW5naWZ5KGE/LmhvbWUpLGE/LmhvbWUpOnt9fWNvbnN0IFo9ZT0+ZmluLlN5c3RlbS5nZXRTeXN0ZW1BcHBDb25maWcoZSk7YXN5bmMgZnVuY3Rpb24gcSgpe2NvbnN0IGU9XCJnZXRET1NPdmVycmlkZXNcIjtpZighVylyZXR1cm4gY29uc29sZS53YXJuKGAke2V9OiB0aGUgZmluIEFQSSB3YXMgbm90IGF2YWlsYWJsZSwgcmV0dXJuaW5nIG5vIHJlc3VsdGApLHt9O3RyeXtsZXQgdD1hd2FpdCBaKFwid29ya3NwYWNlXCIpLmNhdGNoKCh0PT57Y29uc29sZS53YXJuKGAke2V9OiBjdXN0b21Db25maWcgZW50cnkgZm9yIFN5c3RlbUFwcCB3b3Jrc3BhY2Ugbm90IGF2YWlsYWJsZSBpbiBEZXNrdG9wIE93bmVyIFNldHRpbmdzLiAke3Q/Lm1lc3NhZ2V9YCl9KSk7cmV0dXJuIHR8fCh0PWF3YWl0IFooXCJob21lXCIpKSxKU09OLnN0cmluZ2lmeSh0KSx0fWNhdGNoKHQpe2lmKCFWKXJldHVybnt9O2lmKCEodCBpbnN0YW5jZW9mIEVycm9yKSl0aHJvdyB0O2NvbnNvbGUud2FybihgJHtlfTogTWlzc2luZyBXb3Jrc3BhY2UgRGVza3RvcCBPd25lciBTZXR0aW5ncyBjb25maWd1cmF0aW9uLCB1c2luZyBkZWZhdWx0cy4gJHt0Py5tZXNzYWdlfWApfXJldHVybnt9fWxldCBqLFE7YXN5bmMgZnVuY3Rpb24gWSgpe2lmKGopcmV0dXJuIGo7Y29uc3QgZT1cImdldE92ZXJyaWRlc1wiO2lmKCFXKXJldHVybiBEJiZjb25zb2xlLndhcm4oYCR7ZX06IFRoZSBGaW4gQVBJIHdhcyBub3QgYXZhaWxhYmxlLiBSZXR1cm5pbmcgYW4gZW1wdHkgcmVzdWx0LmApLHt9O2NvbnN0W3QsYV09YXdhaXQgUHJvbWlzZS5hbGwoW3EoKSxKKCldKTtyZXR1cm4gaj17Li4uYSwuLi50LGRpc2FibGVSdW50aW1lVmFsaWRhdGlvbjphLmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbnx8dC5kaXNhYmxlUnVudGltZVZhbGlkYXRpb259LGp9ZnVuY3Rpb24gWChlKXtRPWV9Y29uc3QgZWU9ZT0+ZS5yZXBsYWNlKC9cXC8kLyxcIlwiKTthc3luYyBmdW5jdGlvbiB0ZSgpe2NvbnN0IGU9KGF3YWl0IFkoKSkuYnJvd3NlckJhc2VVcmw7aWYoZSl0cnl7Y29uc3QgdD1uZXcgVVJMKGUpO2lmKHQucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpKXQucGF0aG5hbWU9ZWUodC5wYXRobmFtZSk7ZWxzZXtpZihcIi93b3Jrc3BhY2VcIj09PXQucGF0aG5hbWUpcmV0dXJuIHQucGF0aG5hbWUrPWAvJHtPfWAsdC50b1N0cmluZygpO2NvbnNvbGUud2FybihgQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtOiBicm93c2VyT3ZlcnJpZGVCYXNlVXJsIG11c3QgYmUgYSB2YWxpZCB1cmwsIHdpdGggcGF0aDogL3dvcmtzcGFjZS4gRXhwZWN0ZWQgPHByb3RvY29sPjovLzxvcHRpb25hbCBzdWJkb21haW4+Ljxkb21haW4+L3dvcmtzcGFjZSBidXQgZ290ICR7ZX1gKX19Y2F0Y2godCl7Y29uc29sZS53YXJuKGBAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm06IGJyb3dzZXJPdmVycmlkZUJhc2VVcmwgbXVzdCBiZSBhIHZhbGlkIHVybC4gRXhwZWN0ZWQgPHByb3RvY29sPjovLzxvcHRpb25hbCBzdWJkb21haW4+Ljxkb21haW4+L3dvcmtzcGFjZSBidXQgZ290ICR7ZX1gKX1yZXR1cm4gUT8/X31hc3luYyBmdW5jdGlvbiBhZShlPSExKXtjb25zdCB0PWF3YWl0IHRlKCkrSy5Ccm93c2VyO3JldHVybiBlP3Q6ZWUodCl9YXN5bmMgZnVuY3Rpb24gbmUoZT0hMSl7Y29uc3QgdD1hd2FpdCB0ZSgpK0suRW50ZXJwcmlzZUJyb3dzZXI7cmV0dXJuIGU/dDplZSh0KX1hc3luYyBmdW5jdGlvbiBvZSgpe3JldHVybiBhd2FpdCBuZSgpK1wiL2xhbmRpbmcvXCJ9Y29uc3QgcmU9YXN5bmMoZSx0PSExKT0+ZT9uZSh0KTphZSh0KSxpZT01NixzZT03MjgsY2U9MTUwLGxlPVwiZG9jazNcIixkZT1lPT57Y29uc3QgdD1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4ubWUuaWRlbnRpdHkudXVpZDtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJVVUlEIGlzIHJlcXVpcmVkIHRvIGdldCB0aGUgRG9jazMgY2hhbm5lbCBuYW1lLlwiKTtyZXR1cm5gJHt0fS1kb2NrM2B9O3ZhciB1ZSxwZTshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLXdvcmtzcGFjZVwiLGUuT2xkV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KHVlfHwodWU9e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KHBlfHwocGU9e30pKTtjb25zdCB3ZT17dXVpZDpSfSxnZT0odWUuV29ya3NwYWNlLGU9PntpZighVyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBcHBsaWNhdGlvbiBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKX0pLGhlPSgpPT5nZSh3ZSk7dmFyIG1lOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlclNhdmVNZW51PVwib3BlbmZpbi1icm93c2VyLXNhdmUtbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCIsZS5DbGFzc2ljV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLWNsYXNzaWMtd2luZG93XCIsZS5FbnRlcnByaXNlQ29udGV4dE1lbnU9XCJvcGVuZmluLWVudGVycHJpc2UtY29udGV4dC1tZW51XCIsZS5Ccm93c2VyQWRkcmVzc1NlYXJjaFByZWZpeD1cIm9wZW5maW4tYnJvd3Nlci1tZW51LWFkZHJlc3Mtc2VhcmNoLVwiLGUuRW50ZXJwcmlzZUJvb2ttYXJrRGlhbG9nV2luZG93PVwib3BlbmZpbi1lbnRlcnByaXNlLWJvb2ttYXJrLWRpYWxvZ1wiLGUuRHJvcGRvd25NZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWRyb3Bkb3duLW1lbnVcIixlLkRvY2tDb21wYW5pb249XCJvcGVuZmluLWRvY2stY29tcGFuaW9uXCIsZS5BSUNvbXBhbmlvblByZWZpeD1cIm9wZW5maW4tYWktY29tcGFuaW9uLVwiLGUuVXBkYXRlVmVyc2lvbk1vZGFsPVwiaGVyZS11cGRhdGUtdmVyc2lvbi1tb2RhbFwiLGUuWm9vbUNvbnRyb2xzRGlhbG9nPVwiaGVyZS16b29tLWNvbnRyb2xzLWRpYWxvZ1wiLGUuQWJvdXRQYWdlV2luZG93PVwiaGVyZS1hYm91dC1wYWdlXCIsZS5EZXNrdG9wU2lnbmFsc01vZGFsPVwiaGVyZS1kZXNrdG9wLXNpZ25hbHMtbW9kYWxcIn0obWV8fChtZT17fSkpO2NvbnN0IGtlPWU9Pih7bGVmdDooZS5sZWZ0KyhlLnJpZ2h0Pz9lLmxlZnQrZS53aWR0aCkpLzIsdG9wOihlLnRvcCsoZS5ib3R0b20/P2UudG9wK2UuaGVpZ2h0KSkvMn0pLGJlPShlLHQpPT57Y29uc3QgYT10LndpZHRoLzIsbj10LmhlaWdodC8yO3JldHVybntsZWZ0Ok1hdGgucm91bmQoZS5sZWZ0LWEpLHRvcDpNYXRoLnJvdW5kKGUudG9wLW4pLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fX07ZnVuY3Rpb24gZmUoZSl7aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgeWU9e25hbWU6RSx1dWlkOlJ9O2Z1bmN0aW9uIFNlKCl7cmV0dXJuIGZlKHllKX1tZS5Ib21lLHVlLldvcmtzcGFjZSxtZS5Eb2NrLHVlLldvcmtzcGFjZTtjb25zdCB2ZT17bmFtZTptZS5TdG9yZWZyb250LHV1aWQ6dWUuV29ya3NwYWNlfTt1ZS5Xb3Jrc3BhY2UsdWUuV29ya3NwYWNlO2FzeW5jIGZ1bmN0aW9uIFBlKGUpe2NvbnN0IHQ9ZmUoZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5mb2N1cygpfWNvbnN0IENlPWFzeW5jIGU9Pnt0cnl7Y29uc3QgdD1hd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKHtuYW1lOmUubmFtZSx1dWlkOmUudXVpZD8/ZmluLm1lLnV1aWR9KS5nZXRPcHRpb25zKCk7cmV0dXJuKFwiYnJvd3NlclwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlKSYmdC53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXN9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImlzQnJvd3NlcldpbmRvdyBlcnJvcjogXCIsZSksITF9fTthc3luYyBmdW5jdGlvbiBNZSgpe2NvbnN0IGU9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCksdD1hd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+Q2UoZS5pZGVudGl0eSkpKSk7cmV0dXJuIGUuZmlsdGVyKCgoZSxhKT0+dFthXSkpfWFzeW5jIGZ1bmN0aW9uIHhlKCl7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PmUuaWRlbnRpdHkubmFtZS5zdGFydHNXaXRoKG1lLkJyb3dzZXJNZW51KSkpfWNvbnN0IEllPWU9PmZlKGUpLmdldEluZm8oKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSksQWU9KCk9PkllKHZlKTtmdW5jdGlvbiBXZShlLHQpe2NvbnN0IGE9ZS50b3Asbj1lLmxlZnQsbz1lLnRvcCtlLmhlaWdodCxyPWUubGVmdCtlLndpZHRoLGk9dC5tb25pdG9yUmVjdC50b3Ascz10Lm1vbml0b3JSZWN0LmxlZnQsYz10Lm1vbml0b3JSZWN0LmJvdHRvbSxsPXQubW9uaXRvclJlY3QucmlnaHQ7aWYoYT5jfHxvPGl8fG4+bHx8cjxzKXJldHVybiAwO2NvbnN0IGQ9TWF0aC5tYXgoYSxpKSx1PU1hdGgubWF4KG4scyk7cmV0dXJuKE1hdGgubWluKG8sYyktZCkqKE1hdGgubWluKHIsbCktdSkvKGUuaGVpZ2h0KmUud2lkdGgpfWFzeW5jIGZ1bmN0aW9uIERlKGUpe2NvbnN0IHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpO3JldHVyblt0LnByaW1hcnlNb25pdG9yLC4uLnQubm9uUHJpbWFyeU1vbml0b3JzXS5yZWR1Y2UoKCh0LGEpPT57Y29uc3Qgbj1XZShlLGEpO3JldHVybiBuPnQucGVyY2VudGFnZT97cGVyY2VudGFnZTpuLG1vbml0b3I6YX06dH0pLHtwZXJjZW50YWdlOjAsbW9uaXRvcjp0LnByaW1hcnlNb25pdG9yfSkubW9uaXRvcn1jb25zdCBUZT0oZSx0KT0+e2NvbnN0IGE9ZTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybXx8KGEud29ya3NwYWNlUGxhdGZvcm09e30pLGEud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz17c2V0QXNGb3JlZ3JvdW5kOiEhdCxkZWZlclNob3dFbmFibGVkOiEwLGF1dG9TaG93OmEud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHxhLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPy5hdXRvU2hvd3x8dm9pZCAwPT09YS5hdXRvU2hvd3x8YS5hdXRvU2hvd30sYS5hdXRvU2hvdz0hMSxhfTtjb25zdCBCZT0oZSx0PTApPT57bGV0IGEsbixvPSExO2NvbnN0IHI9YXN5bmMgbj0+e2NvbnN0IGk9YXdhaXQgZSguLi5uKTtpZihvKXthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLHQpKSk7Y29uc3QgZT1hO3JldHVybiBhPXZvaWQgMCxvPSExLHIoZSl9cmV0dXJuIGl9O3JldHVybiguLi5lKT0+KG4/KG89ITAsYT1lKTpuPXIoZSkuY2F0Y2goKGU9Pnt0aHJvdyBjb25zb2xlLmVycm9yKFwibWFrZURlYm91bmNlZEZ1bmNcIixlKSxlfSkpLmZpbmFsbHkoKCgpPT57bj12b2lkIDB9KSksbil9O3ZhciBSZTshZnVuY3Rpb24oZSl7ZS5Ub3A9XCJ0b3BcIixlLkJlbG93PVwiYmVsb3dcIn0oUmV8fChSZT17fSkpO2NvbnN0IEVlPWFzeW5jIGU9Pnt0cnl7cmV0dXJuISFlJiZcIm1heGltaXplZFwiPT09YXdhaXQgZS5nZXRTdGF0ZSgpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJwYXJlbnRXaW5kb3dNYXhpbWl6ZWQgLSBGYWlsZWQgdG8gZ2V0IHBhcmVudCB3aW5kb3cgc3RhdGVcIixlKSwhMX19O2FzeW5jIGZ1bmN0aW9uIEZlKGUsdCxhLG4sbyxyKXtjb25zdCBpPSEhZSYmZmUoZSkscz1hd2FpdChhc3luYyhlLHQpPT57dHJ5e3JldHVybiBlP2F3YWl0IGUuZ2V0Qm91bmRzKCk6dH1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiZ2V0UGFyZW50V2luZG93Qm91bmRzIC0gRmFpbGVkIHRvIGdldCBwYXJlbnQgd2luZG93IGJvdW5kc1wiLGUpLHR9fSkoaSxyKTtpZihuPT09UmUuQmVsb3cpe2lmKCFpfHxhd2FpdCBFZShpKSl7Y29uc3QgZT1pPyhhd2FpdCBEZShzKSkuYXZhaWxhYmxlUmVjdDooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0O3JldHVybntsZWZ0OmtlKGUpLmxlZnQtdC8yLHRvcDpvP2UuYm90dG9tLTEyODplLmJvdHRvbSsxMix3aWR0aDp0LGhlaWdodDphfX1yZXR1cm57bGVmdDprZShzKS5sZWZ0LXQvMix0b3A6bz9zLmJvdHRvbS0xMjg6cy5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19aWYoIWl8fGF3YWl0IEVlKGkpKXtjb25zdCBlPWk/KGF3YWl0IERlKHMpKS5hdmFpbGFibGVSZWN0Oihhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCkpLnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3Q7cmV0dXJue2xlZnQ6a2UoZSkubGVmdC10LzIsdG9wOmUudG9wKzIwLHdpZHRoOnQsaGVpZ2h0OmF9fXJldHVybntsZWZ0OmtlKHMpLmxlZnQtdC8yLHRvcDpzLnRvcCsyMCx3aWR0aDp0LGhlaWdodDphfX1CZSgoYXN5bmMgZnVuY3Rpb24oZSx0LGEsbixvKXtjb25zdCByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1hd2FpdCBGZShlLHIud2lkdGgsci5oZWlnaHQsYSxuLG8pO2lmKDA9PT1pLndpZHRofHwwPT09aS5oZWlnaHQpcmV0dXJuO2NvbnN0IHM9U2UoKTthd2FpdCBzLnNldEJvdW5kcyhpKSxhd2FpdCBzLnNob3coKTtjb25zdCBjPXNldFRpbWVvdXQoKCgpPT5zLmNsb3NlKCkpLG4/NWUzOjNlMyksbD0oKT0+e2NsZWFyVGltZW91dChjKSxzLmNsb3NlKCl9O2lmKGUpe2NvbnN0IHQ9ZmUoZSk7dC5vbihcImJvdW5kcy1jaGFuZ2luZ1wiLCgoKT0+bCgpKSksdC5vbihcImJsdXJyZWRcIiwoKCk9PmwoKSkpLHQub24oXCJtYXhpbWl6ZWRcIiwoKCk9PmwoKSkpLHQub24oXCJtaW5pbWl6ZWRcIiwoKCk9PmwoKSkpLHQub24oXCJyZXN0b3JlZFwiLCgoKT0+bCgpKSl9fSksMTApO2NvbnN0IFZlPWFzeW5jIGU9Pntjb25zdCB0PWUmJmF3YWl0IGZlKGUpLmdldEJvdW5kcygpLGE9ZT9hd2FpdCBEZSh0KTooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvcjtyZXR1cm57bGVmdDooKG49YS5hdmFpbGFibGVSZWN0KS5sZWZ0K24ucmlnaHQpLzIsdG9wOihuLnRvcCtuLmJvdHRvbSkvMn07dmFyIG59LE5lPWFzeW5jKGUsdCxhPSExKT0+e2xldCBuO2lmKGEpbj1hd2FpdCBWZSh0KTtlbHNle2NvbnN0IGU9ZmUodCksYT1hd2FpdCBlLmdldEJvdW5kcygpO249a2UoYSl9Y29uc3R7ZGVmYXVsdEhlaWdodDpvLGRlZmF1bHRXaWR0aDpyfT1lO3JldHVybiBiZShuLHtoZWlnaHQ6byx3aWR0aDpyfSl9O2FzeW5jIGZ1bmN0aW9uIExlKGUsdCxhPSExKXtjb25zdCBuPXQmJlwibWF4aW1pemVkXCI9PT1hd2FpdCBmZSh0KS5nZXRTdGF0ZSgpLG89YXx8bnx8IXQscj1hd2FpdCBOZShlLHQsbyk7cmV0dXJuIGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxhPVt0LnByaW1hcnlNb25pdG9yLC4uLnQubm9uUHJpbWFyeU1vbml0b3JzXTtmb3IoY29uc3QgdCBvZiBhKWlmKDE9PT1XZShlLHQpKXJldHVybiExO3JldHVybiEwfSkocik/KGF3YWl0IGZlKHQpLmNlbnRlcigpLE5lKGUsdCxvKSk6KGNvbnNvbGUud2FybihcIlJlc3BvbnNlIG1vZGFsIGlzbid0IG9mZiBzY3JlZW4sIG5vdCBjZW50ZXJpbmcgcGFyZW50IHdpbmRvd1wiKSxyKX1jb25zdCBfZT0oKT0+ZT0+ZTt2YXIgVWU9YSg4NDcpO2NvbnN0IE9lPWU9PmUucmVwbGFjZSgvW15cXGQsXS9nLFwiXCIpLnNwbGl0KFwiLFwiKSxHZT1lPT57aWYoZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbG9yIG9iamVjdCwgY2Fubm90IGNvbnZlcnQgdG8gSFNMLlwiKTtjb25zdCB0PWVbMF0vMjU1LGE9ZVsxXS8yNTUsbj1lWzJdLzI1NSxvPU1hdGgubWluKHQsYSxuKSxyPU1hdGgubWF4KHQsYSxuKSxpPXItbztsZXQgcz0wLGM9MCxsPTA7cmV0dXJuIHM9MD09PWk/MDpyPT09dD8oYS1uKS9pJTY6cj09PWE/KG4tdCkvaSsyOih0LWEpL2krNCxzPU1hdGgucm91bmQoNjAqcyksczwwJiYocys9MzYwKSxsPShyK28pLzIsYz0wPT1pPzA6aS8oMS1NYXRoLmFicygyKmwtMSkpLGM9KygxMDAqYykudG9GaXhlZCgxKSxsPSsoMTAwKmwpLnRvRml4ZWQoMSkse2hzbDpgaHNsKCR7c30sICR7Y30lLCAke2x9JSlgLGhzbGE6YGhzbCgke3N9LCAke2N9JSwgJHtsfSUsIDEpYCxodWU6cyxsaWdodG5lc3M6bCxzYXR1cmF0aW9uOmN9fSxIZT1lPT57aWYoIWUuaW5jbHVkZXMoXCIjXCIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHZhbHVlLCBjYW5ub3QgY29udmVydCB0byBSR0IuIEhleCB2YWx1ZSBiZWdpbnMgd2l0aCBhIGhhc2h0YWcuXCIpO2xldCB0PTAsYT0wLG49MDtpZig0PT09ZS5sZW5ndGgpdD1gMHgke2VbMV19JHtlWzFdfWAsYT1gMHgke2VbMl19JHtlWzJdfWAsbj1gMHgke2VbM119JHtlWzNdfWA7ZWxzZXtpZig3IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nIGxlbmd0aCwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLlwiKTt0PWAweCR7ZVsxXX0ke2VbMl19YCxhPWAweCR7ZVszXX0ke2VbNF19YCxuPWAweCR7ZVs1XX0ke2VbNl19YH1yZXR1cm5bK3QsK2EsK25dfSwkZT1lPT57Y29uc3QgdD1lO2lmKHQuc3RhcnRzV2l0aChcIiNcIikpe3JldHVybntyZ2I6SGUodCkuam9pbihcIiwgXCIpLGFscGhhOjF9fWNvbnN0IGE9dC5tYXRjaCgvXFxkezEsM30oXFwuXFxkKyk/L2cpO2lmKGEpe2NvbnN0W2UsdCxuLG9dPWE7cmV0dXJue3JnYjpgJHtlfSwgJHt0fSwgJHtufWAsYWxwaGE6dm9pZCAwIT09bz9wYXJzZUZsb2F0KG8pOjF9fXJldHVybntyZ2I6SGUoZSkuam9pbihcIiwgXCIpLGFscGhhOjF9fSx6ZT0oZSx0PSExKT0+e2NvbnN0IGE9KGU9PntpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDb2xvciBpcyBub3QgZGVmaW5lZFwiKTtjb25zdCB0PWUudG9Mb3dlckNhc2UoKTtsZXQgYTtpZih0LmluY2x1ZGVzKFwicmdiXCIpKXtjb25zdCBlPU9lKHQpO2UubGVuZ3RoPjMmJmUucG9wKCksYT1HZShlKS5odWV9aWYodC5pbmNsdWRlcyhcIiNcIikpe2NvbnN0IGU9SGUodCk7YT1HZShlKS5odWV9dC5pbmNsdWRlcyhcImhzbFwiKSYmKGE9T2UodClbMF0pO2NvbnN0IG49YT8udG9TdHJpbmcoKTtpZighbil0aHJvdyBuZXcgRXJyb3IoYEh1ZSB3YXMgdW5hYmxlIHRvIGJlIGV4dHJhY3RlZCBmcm9tIFwiJHt0fVwiLCBjaGVjayBjb2xvciBmb3JtYXQuIEFjY2VwdGVkIGZvcm1hdHMgYXJlOiByZ2IoKSwgcmdiYSgpLCBoZXgsIGhzbCgpLCBhbmQgaHNsYSgpYCk7cmV0dXJuIG59KShlKTtyZXR1cm4gdD97YmFja2dyb3VuZDE6YGhzbGEoJHthfSwgMCUsIDEwMCUsIDEpYCxiYWNrZ3JvdW5kMjpgaHNsYSgke2F9LCA2NyUsIDk5JSwgMSlgLGJhY2tncm91bmQzOmBoc2xhKCR7YX0sIDI2JSwgOTYlLCAxKWAsYmFja2dyb3VuZDQ6YGhzbGEoJHthfSwgMTUlLCA5NCUsIDEpYCxiYWNrZ3JvdW5kNTpgaHNsYSgke2F9LCAxMCUsIDg4JSwgMSlgLGJhY2tncm91bmQ2OmBoc2xhKCR7YX0sIDgwJSwgODAlLCAxKWB9OntiYWNrZ3JvdW5kMTpgaHNsYSgke2F9LCA4JSwgNyUsIDEpYCxiYWNrZ3JvdW5kMjpgaHNsYSgke2F9LCA4JSwgMTMlLCAxKWAsYmFja2dyb3VuZDM6YGhzbGEoJHthfSwgOSUsIDE1JSwgMSlgLGJhY2tncm91bmQ0OmBoc2xhKCR7YX0sIDYlLCAyMyUsIDEpYCxiYWNrZ3JvdW5kNTpgaHNsYSgke2F9LCAyMSUsIDI4JSwgMSlgLGJhY2tncm91bmQ2OmBoc2xhKCR7YX0sIDUlLCA1MSUsIDEpYH19LEtlPShlLHQpPT57Y29uc3QgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgobj0+e2Fbbl09dFtuXT90W25dOmVbbl19KSksYX07dmFyIEplPWEoODc3KSxaZT1hLm4oSmUpLHFlPWEoNjcpLGplPWEubihxZSk7Y29uc3QgUWU9e2xpZ2h0OntzeW1ib2w6amUoKT8uc3JjfHxcIlwifSxkYXJrOntzeW1ib2w6WmUoKT8uc3JjfHxcIlwifX0sWWU9RCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7ZnVuY3Rpb24gWGUoZSl7bGV0IHQ7Y29uc3QgYT1uZXcgU2V0O3JldHVybigpPT57aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgWWU7Y29uc3Qgbj17Y2xpZW50QVBJVmVyc2lvbjpPfSxvPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHtwYXlsb2FkOm59KTtyZXR1cm4gby5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9PnthLmZvckVhY2goKGU9PmUoKSkpLGEuY2xlYXIoKSxjb25zb2xlLndhcm4oYGRpc2Nvbm5lY3RlZCBmcm9tIGNoYW5uZWwgcHJvdmlkZXIgJHtlfWApLHQ9dm9pZCAwfSkpLG99KSgpLnRoZW4oKGU9PihlLmFkZERpc2Nvbm5lY3Rpb25MaXN0ZW5lcj1lPT57YS5hZGQoZSl9LGUpKSkuY2F0Y2goKGE9Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHthfWApfSkpKSx0fX12YXIgZXQsdHQ7IWZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0oZXR8fChldD17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Jbml0aWFsPTBdPVwiSW5pdGlhbFwiLGVbZS5PcGVuPTFdPVwiT3BlblwiLGVbZS5DbG9zZT0yXT1cIkNsb3NlXCJ9KHR0fHwodHQ9e30pKTtjb25zdCBhdD1YZShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksbnQ9YXQ7WGUoXCJfX3NlYXJjaC1vcGVuZmluLWJyb3dzZXItaG9tZS10b3BpY19fXCIpO3ZhciBvdDshZnVuY3Rpb24oZSl7ZS5MYXVuY2hBcHA9XCJsYXVuY2hBcHBcIixlLlNhdmVQYWdlPVwic2F2ZVBhZ2VcIixlLkdldFNhdmVkUGFnZT1cImdldFNhdmVkUGFnZVwiLGUuQ3JlYXRlU2F2ZWRQYWdlPVwiY3JlYXRlU2F2ZWRQYWdlXCIsZS5VcGRhdGVTYXZlZFBhZ2U9XCJ1cGRhdGVTYXZlZFBhZ2VcIixlLkRlbGV0ZVNhdmVkUGFnZT1cImRlbGV0ZVNhdmVkUGFnZVwiLGUuR2V0U2F2ZWRQYWdlcz1cImdldFNhdmVkUGFnZXNcIixlLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsPVwiY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsPVwidXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsPVwiZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5BZGRQYWdlPVwiYWRkUGFnZVwiLGUuQWRkRGVmYXVsdFBhZ2U9XCJhZGREZWZhdWx0UGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRQYWdlQnlWaWV3SWRlbnRpdHk9XCJnZXRQYWdlQnlWaWV3SWRlbnRpdHlcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuR2V0U2VsZWN0ZWRTY2hlbWU9XCJnZXRTZWxlY3RlZFNjaGVtZVwiLGUuU2V0U2VsZWN0ZWRTY2hlbWU9XCJzZXRTZWxlY3RlZFNjaGVtZVwiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9XCJpbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbFwiLGUuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPVwicmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsXCIsZS5HZXRTYXZlZFdvcmtzcGFjZT1cImdldFNhdmVkV29ya3NwYWNlXCIsZS5DcmVhdGVTYXZlZFdvcmtzcGFjZT1cImNyZWF0ZVNhdmVkV29ya3NwYWNlXCIsZS5VcGRhdGVTYXZlZFdvcmtzcGFjZT1cInVwZGF0ZVNhdmVkV29ya3NwYWNlXCIsZS5EZWxldGVTYXZlZFdvcmtzcGFjZT1cImRlbGV0ZVNhdmVkV29ya3NwYWNlXCIsZS5HZXRTYXZlZFdvcmtzcGFjZXM9XCJnZXRTYXZlZFdvcmtzcGFjZXNcIixlLkdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzTWV0YWRhdGFcIixlLlNhdmVXb3Jrc3BhY2U9XCJzYXZlV29ya3NwYWNlXCIsZS5HZXRDdXJyZW50V29ya3NwYWNlPVwiZ2V0Q3VycmVudFdvcmtzcGFjZVwiLGUuQXBwbHlXb3Jrc3BhY2U9XCJhcHBseVdvcmtzcGFjZVwiLGUuUmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsPVwicmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsXCIsZS5TZXRBY3RpdmVXb3Jrc3BhY2U9XCJzZXRBY3RpdmVXb3Jrc3BhY2VcIixlLklzQnJvd3NlckluaXRpYWxpemVkPVwiaXNCcm93c2VySW5pdGlhbGl6ZWRcIixlLkFuYWx5dGljcz1cImFuYWx5dGljc0ludGVybmFsXCIsZS5HZXRMYW5ndWFnZT1cImdldExhbmd1YWdlXCIsZS5HZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsPVwiZ2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbFwiLGUuU2V0TGFuZ3VhZ2U9XCJzZXRMYW5ndWFnZVwiLGUuR2V0RG9ja1Byb3ZpZGVyQ29uZmlnPVwiZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnXCIsZS5TYXZlRG9ja1Byb3ZpZGVyQ29uZmlnPVwic2F2ZURvY2tQcm92aWRlckNvbmZpZ1wiLGUuSGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2U9XCJoYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZVwiLGUuU2hvdWxkUGFnZUNsb3NlPVwic2hvdWxkUGFnZUNsb3NlXCIsZS5TaG91bGRXaW5kb3dDbG9zZT1cInNob3VsZFdpbmRvd0Nsb3NlXCIsZS5Db3B5UGFnZT1cImNvcHlQYWdlXCIsZS5IYW5kbGVQYWdlQ2hhbmdlcz1cImhhbmRsZVBhZ2VDaGFuZ2VzXCIsZS5NYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsPVwibWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbFwiLGUuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWw9XCJ0cmFja1JlbW92ZWRUYWJJbnRlcm5hbFwiLGUuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbD1cInJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbD1cInRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbFwiLGUuR2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD1cImdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLkdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD1cImdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbFwiLGUuU2VhcmNoU2l0ZXNJbnRlcm5hbD1cInNlYXJjaFNpdGVzSW50ZXJuYWxcIixlLkdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsPVwiZ2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWxcIixlLkdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWw9XCJnZXRDdXJhdGVkQ29udGVudEludGVybmFsXCIsZS5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsPVwiaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbFwiLGUuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPVwicmVmcmVzaEJvb2ttYXJrc0ludGVybmFsXCIsZS5MYXVuY2hCb29rbWFya0ludGVybmFsPVwibGF1bmNoQm9va21hcmtJbnRlcm5hbFwiLGUuR2V0Tm90aWZpY2F0aW9uc0NvbmZpZz1cImdldE5vdGlmaWNhdGlvbnNDb25maWdcIixlLlVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbD1cInVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbFwiLGUuVXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbD1cInVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLkxhdW5jaERvY2tFbnRyeUludGVybmFsPVwibGF1bmNoRG9ja0VudHJ5SW50ZXJuYWxcIixlLlNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsPVwic2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWxcIixlLk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbD1cIm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbFwiLGUuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbD1cInNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWxcIixlLkdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbD1cImdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbD1cImhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWxcIixlLlJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsPVwicmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWxcIixlLkFkZERvY2tGYXZvcml0ZUludGVybmFsPVwiYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWxcIixlLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9XCJmb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsXCIsZS5TZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbD1cInNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsXCIsZS5TaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWw9XCJzaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWxcIn0ob3R8fChvdD17fSkpO2NvbnN0IHJ0PWFzeW5jIGU9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRDbGllbnQoKSxpdD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBydChlKSxhPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG47dHJ5e249YXdhaXQgdC5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGEpfWlmKFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbilyZXR1cm4gY29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uIFBsZWFzZSB1cGRhdGUgeW91ciB3b3Jrc3BhY2UgcGxhdGZvcm0uXCIpLG47aWYoXCJvYmplY3RcIj09dHlwZW9mIG4mJm4uaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoYSl9LHN0PWFzeW5jIGU9Pihhd2FpdCBpdChlKSxydChlKSksY3Q9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgaXQoZSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEwIT09dD8uaXNCcm93c2VySW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGlzIG5vdCBhIEJyb3dzZXItZW5hYmxlZCBXb3Jrc3BhY2UgUGxhdGZvcm0uXCIpO3JldHVybiBydChlKX0sbHQ9XCJkYXJrXCIsZHQ9e1tVZS5QYWxldHRlLmJyYW5kUHJpbWFyeV06XCIjMEE3NkQzXCIsW1VlLlBhbGV0dGUuYnJhbmRQcmltYXJ5QWN0aXZlXTpcIiMwQTcxQzlcIixbVWUuUGFsZXR0ZS5icmFuZFByaW1hcnlIb3Zlcl06XCIjMEI4NEVCXCIsW1VlLlBhbGV0dGUuYnJhbmRQcmltYXJ5Rm9jdXNlZF06VWUuQ29sb3Iud2hpdGUsW1VlLlBhbGV0dGUuYnJhbmRQcmltYXJ5VGV4dF06VWUuQ29sb3Iud2hpdGUsW1VlLlBhbGV0dGUuc3RhdHVzU3VjY2Vzc106VWUuQ29sb3IuZnVuY3Rpb25hbDEsW1VlLlBhbGV0dGUuc3RhdHVzV2FybmluZ106VWUuQ29sb3IuZnVuY3Rpb25hbDEwLFtVZS5QYWxldHRlLnN0YXR1c0NyaXRpY2FsXTpVZS5Db2xvci5mdW5jdGlvbmFsNyxbVWUuUGFsZXR0ZS5zdGF0dXNBY3RpdmVdOlVlLkNvbG9yLmZ1bmN0aW9uYWwzLFtVZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMV06XCIjMEE3NkQzXCIsW1VlLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQyXTpcIiMwMDAwMDBcIixbVWUuUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDNdOlwiIzAwMDAwMFwiLFtVZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNF06XCIjMDAwMDAwXCIsW1VlLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ1XTpcIiMwMDAwMDBcIixbVWUuUGFsZXR0ZS5ib3JkZXJOZXV0cmFsXTpVZS5Db2xvci5zaWx2ZXJHcmF5fSx1dD17Li4uZHQsW1VlLlBhbGV0dGUuYmFja2dyb3VuZDFdOlVlLkNvbG9yLndoaXRlLFtVZS5QYWxldHRlLmJhY2tncm91bmQyXTpVZS5Db2xvci5saWdodEdyYXkxLFtVZS5QYWxldHRlLmJhY2tncm91bmQzXTpVZS5Db2xvci5saWdodEdyYXkyLFtVZS5QYWxldHRlLmJhY2tncm91bmQ0XTpVZS5Db2xvci5saWdodEdyYXkzLFtVZS5QYWxldHRlLmJhY2tncm91bmQ1XTpVZS5Db2xvci5saWdodEdyYXk0LFtVZS5QYWxldHRlLmJhY2tncm91bmQ2XTpVZS5Db2xvci5saWdodEdyYXk1LFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5XTpVZS5Db2xvci5saWdodEdyYXk0LFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5QWN0aXZlXTpVZS5Db2xvci5saWdodEdyYXk0QWN0aXZlLFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5SG92ZXJdOlVlLkNvbG9yLmxpZ2h0R3JheTRIb3ZlcixbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeUZvY3VzZWRdOlVlLkNvbG9yLmRhcmtHcmF5NSxbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeVRleHRdOlVlLkNvbG9yLmRhcmtHcmF5NSxbVWUuUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOlVlLkNvbG9yLmxpZ2h0R3JheTMsW1VlLlBhbGV0dGUuaW5wdXRDb2xvcl06VWUuQ29sb3IuZGFya0dyYXk1LFtVZS5QYWxldHRlLmlucHV0UGxhY2Vob2xkZXJdOlVlLkNvbG9yLmRhcmtHcmF5MixbVWUuUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpVZS5Db2xvci5uZXV0cmFsR3JheSxbVWUuUGFsZXR0ZS5pbnB1dEZvY3VzZWRdOlVlLkNvbG9yLmxpZ2h0R3JheTUsW1VlLlBhbGV0dGUuaW5wdXRCb3JkZXJdOlVlLkNvbG9yLm5ldXRyYWxHcmF5LFtVZS5QYWxldHRlLnRleHREZWZhdWx0XTpVZS5Db2xvci5kYXJrR3JheTUsW1VlLlBhbGV0dGUudGV4dEhlbHBdOlVlLkNvbG9yLmRhcmtHcmF5MyxbVWUuUGFsZXR0ZS50ZXh0SW5hY3RpdmVdOlVlLkNvbG9yLm5ldXRyYWxHcmF5fSxwdD17Li4uZHQsW1VlLlBhbGV0dGUuYmFja2dyb3VuZDFdOlVlLkNvbG9yLmRhcmtHcmF5NixbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kMl06VWUuQ29sb3IuZGFya0dyYXk1LFtVZS5QYWxldHRlLmJhY2tncm91bmQzXTpVZS5Db2xvci5kYXJrR3JheTQsW1VlLlBhbGV0dGUuYmFja2dyb3VuZDRdOlVlLkNvbG9yLmRhcmtHcmF5MyxbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kNV06VWUuQ29sb3IuZGFya0dyYXkyLFtVZS5QYWxldHRlLmJhY2tncm91bmQ2XTpVZS5Db2xvci5kYXJrR3JheTEsW1VlLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnldOlVlLkNvbG9yLmRhcmtHcmF5MixbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeUFjdGl2ZV06VWUuQ29sb3IuZGFya0dyYXkyQWN0aXZlLFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5SG92ZXJdOlVlLkNvbG9yLmRhcmtHcmF5MkhvdmVyLFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5Rm9jdXNlZF06VWUuQ29sb3Iud2hpdGUsW1VlLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlUZXh0XTpVZS5Db2xvci53aGl0ZSxbVWUuUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOlVlLkNvbG9yLmRhcmtHcmF5MSxbVWUuUGFsZXR0ZS5pbnB1dENvbG9yXTpVZS5Db2xvci53aGl0ZSxbVWUuUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTpVZS5Db2xvci5saWdodEdyYXk1LFtVZS5QYWxldHRlLmlucHV0RGlzYWJsZWRdOlVlLkNvbG9yLm5ldXRyYWxHcmF5LFtVZS5QYWxldHRlLmlucHV0Rm9jdXNlZF06VWUuQ29sb3IubGlnaHRHcmF5NSxbVWUuUGFsZXR0ZS5pbnB1dEJvcmRlcl06VWUuQ29sb3IubmV1dHJhbEdyYXksW1VlLlBhbGV0dGUudGV4dERlZmF1bHRdOlVlLkNvbG9yLndoaXRlLFtVZS5QYWxldHRlLnRleHRIZWxwXTpVZS5Db2xvci5saWdodEdyYXk1LFtVZS5QYWxldHRlLnRleHRJbmFjdGl2ZV06VWUuQ29sb3IubmV1dHJhbEdyYXl9LHd0PVt7bGFiZWw6XCJPcGVuRmluIERlZmF1bHQgTGlnaHQgYW5kIERhcmsgVGhlbWVcIixwYWxldHRlczp7bGlnaHQ6ey4uLnV0LGJhY2tncm91bmRQcmltYXJ5OlVlLkNvbG9yLmRhcmtHcmF5NX0sZGFyazp7Li4ucHQsYmFja2dyb3VuZFByaW1hcnk6VWUuQ29sb3IuZGFya0dyYXk1fX19XSxndD1lPT57Y29uc3R7YmFja2dyb3VuZDp0LGZvcmVncm91bmQ6YX09ZTtyZXR1cm57YmFja2dyb3VuZDp0LGZvcmVncm91bmQ6YT8/XCIjRkZGRkZGXCJ9fSxodD0oZSx0KT0+KHtpY29uczp7c3ltYm9sOmUuYnJhbmQ/Lmljb25zPy5bdF0/LnN5bWJvbHx8UWVbdF0uc3ltYm9sfX0pLG10PWU9Pntjb25zdHtsaWdodDp0LGRhcms6YX09XCJwYWxldHRlc1wiaW4gZT9lLnBhbGV0dGVzOntsaWdodDplLnBhbGV0dGUsZGFyazplLnBhbGV0dGV9LG49S2UocHQsYSksbz1LZSh1dCx0KSxyPSgoZSx0KT0+e2NvbnN0IGE9ey4uLmV9LG49ey4uLnR9O2xldCBvPXQuYmFja2dyb3VuZFByaW1hcnk/emUodC5iYWNrZ3JvdW5kUHJpbWFyeSwhMCk6e30scj1lLmJhY2tncm91bmRQcmltYXJ5P3plKGUuYmFja2dyb3VuZFByaW1hcnkpOnt9O3JldHVybiBvPXsuLi5vLC4uLm59LHI9ey4uLnIsLi4uYX0se2xpZ2h0OnsuLi50LC4uLm99LGRhcms6ey4uLmUsLi4ucn19fSkoYSx0KSxpPXsuLi4oMCxVZS5jcmVhdGVUaGVtZSkoey4uLm4sLi4ucj8uZGFya30pLGJyYW5kOmh0KGUsXCJkYXJrXCIpfSxzPXsuLi4oMCxVZS5jcmVhdGVUaGVtZSkoey4uLm8sLi4ucj8ubGlnaHR9KSxicmFuZDpodChlLFwibGlnaHRcIil9LHtsaWdodDpjLGRhcms6bH09KGU9Pntjb25zdCB0PU9iamVjdC5rZXlzKGUubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzPz97fSk7aWYodD8ubGVuZ3RoKXtjb25zdCBhPXt9LG49e307cmV0dXJuIHQuZm9yRWFjaCgodD0+e2NvbnN0IG89ZS5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnNbdF07XCJiYWNrZ3JvdW5kXCJpbiBvPyhhW3RdPWd0KG8pLG5bdF09Z3QobykpOihhW3RdPWd0KG8uZGFyaz8/by5saWdodCksblt0XT1ndChvLmxpZ2h0Pz9vLmRhcmspKX0pKSx7bGlnaHQ6bixkYXJrOmF9fXJldHVybntsaWdodDpudWxsLGRhcms6bnVsbH19KShlKTtyZXR1cm4gaS5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM9bCxzLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9ycz1jLHtkYXJrOmksbGlnaHQ6c319LGt0PWFzeW5jIGU9Pntjb25zdHt0aGVtZXM6dCxzZWxlY3RlZFNjaGVtZTphfT1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1maW4/Ll9faW50ZXJuYWxfPy5pbml0aWFsT3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/Ll90aGVtZURhdGE7aWYoIXR8fGUudXVpZCE9PXllLnV1aWQpcmV0dXJue3RoZW1lczphd2FpdCBrbihlKS5UaGVtZS5nZXRUaGVtZXMoKSxzZWxlY3RlZFNjaGVtZTphd2FpdCBrbihlKS5UaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpfTtyZXR1cm4gdH0pKGUpO3ZhciBuLG87cmV0dXJuKG49dD8ubGVuZ3RoP3Q6d3Qsbz1hLG4ubWFwKChlPT57Y29uc3QgdD1cInBhbGV0dGVzXCJpbiBlP2UuZGVmYXVsdDpsdCx7bGlnaHQ6YSxkYXJrOm59PW10KGUpO3JldHVybntsYWJlbDplLmxhYmVsLGxvZ29Vcmw6ZS5sb2dvVXJsLHRoZW1lOntkYXJrOm4sbGlnaHQ6YX0sZGVmYXVsdFNjaGVtZTpvPz90fX0pKSlbMF19LGJ0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHN0KGV8fGZpbi5tZS5pZGVudGl0eSksYT1hd2FpdCB0LmRpc3BhdGNoKG90LkdldFNlbGVjdGVkU2NoZW1lLHZvaWQgMCk7cmV0dXJuIGE9PT1rLlN5c3RlbT93aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcz9cImRhcmtcIjpcImxpZ2h0XCI6YX0sZnQ9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQga3QoZmluLm1lLmlkZW50aXR5KSxuPWF3YWl0IGJ0KGZpbi5tZS5pZGVudGl0eSk9PT1rLkRhcmssbz1hPy50aGVtZTtyZXR1cm4gbz8uW24/ay5EYXJrOmsuTGlnaHRdPy5wYWxldHRlPy5bZV18fHR9O2Z1bmN0aW9uIHl0KGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IGE9e307Zm9yKGNvbnN0IG4gb2YgdCluIGluIGUmJihhW25dPWVbbl0pO3JldHVybiBhfShlLF9lKCkoW1wiZGVmYXVsdExlZnRcIixcImRlZmF1bHRUb3BcIixcImRlZmF1bHRDZW50ZXJlZFwiLFwic2F2ZVdpbmRvd1N0YXRlXCIsXCJ0YXNrYmFySWNvbkdyb3VwXCJdKSl9ZnVuY3Rpb24gU3QoKXtsZXQgZSx0O3JldHVybntwcm9taXNlOm5ldyBQcm9taXNlKCgoYSxuKT0+e2U9YSx0PW59KSkscmVzb2x2ZTplLHJlamVjdDp0fX1jb25zdCB2dD1yZXF1aXJlKFwiZGV4aWVcIiksUHQ9ZT0+KHtzZXRJdGVtOih0LGEpPT57bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7ZX0tJHt0fWAsYSl9LGdldEl0ZW06dD0+bG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7ZX0tJHt0fWApLHJlbW92ZUl0ZW06dD0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7ZX0tJHt0fWApfSksQ3Q9UHQoUiksTXQ9Q3Quc2V0SXRlbSx4dD1DdC5nZXRJdGVtLEl0PUN0LnJlbW92ZUl0ZW07dmFyIEF0OyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCIsZS5TZWxlY3RlZENvbG9yU2NoZW1lPVwiU2VsZWN0ZWRDb2xvclNjaGVtZVwiLGUuVGhlbWVQYWxldHRlU2hlZXQ9XCJUaGVtZVBhbGV0dGVTaGVldFwiLGUuSGFzTW92ZWRTdG9yZT1cIkhhc01vdmVkU3RvcmVcIixlLlBhZ2VEcmFnU3RhdGU9XCJCcm93c2VyUGFnZURyYWdTdGF0ZVwifShBdHx8KEF0PXt9KSk7Y29uc3QgV3Q9QXQsRHQ9ZT0+ZStcIi1cIitmaW4ubWUudXVpZCxUdD0oZSx0KT0+e2NvbnN0IGE9VCYmVyYmbmV3IHZ0LkRleGllKGUpO3JldHVybiBhJiZhLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3RdOlwiXCJ9KSxhfSxCdD0oZSx0KT0+e2NvbnN0IGE9VHQoRHQoZSksdCksbj1UdChlLHQpO2lmKCFhfHwhbil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbWlncmF0ZSBzdG9yZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4oYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj14dChXdC5IYXNNb3ZlZFN0b3JlKSxvPW4/SlNPTi5wYXJzZShuKTp7fTtpZihvJiZvW2FdKXJldHVybjtvW2FdPSEwLE10KFd0Lkhhc01vdmVkU3RvcmUsSlNPTi5zdHJpbmdpZnkobykpO2NvbnN0IHI9YXdhaXQgZVthXS50b0FycmF5KCk7YXdhaXQgdFthXS5idWxrUHV0KHIpfSkobixhLGUpLGF9LFJ0PVwiZG9jazMtcHJvdmlkZXItY29uZmlnXCIsRXQ9VCYmVyYmbmV3IHZ0LkRleGllKER0KFwiZG9jazMtcHJvdmlkZXItY29uZmlnXCIpKTtFdCYmRXQudmVyc2lvbiguMSkuc3RvcmVzKHtbUnRdOlwiXCJ9KTt2YXIgRnQsVnQsTnQsTHQsX3Q9ZnVuY3Rpb24oZSx0LGEsbixvKXtpZihcIm1cIj09PW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtpZihcImFcIj09PW4mJiFvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IW86IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cImFcIj09PW4/by5jYWxsKGUsYSk6bz9vLnZhbHVlPWE6dC5zZXQoZSxhKSxhfSxVdD1mdW5jdGlvbihlLHQsYSxuKXtpZihcImFcIj09PWEmJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IW46IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT1hP246XCJhXCI9PT1hP24uY2FsbChlKTpuP24udmFsdWU6dC5nZXQoZSl9O2NsYXNzIE90e3N0YXRpYyBnZXRPdmVycmlkZUNvbnN0cnVjdG9yKC4uLmUpe3JldHVybiBjbGFzcyBleHRlbmRzIE90e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uZSl9fX1jb25zdHJ1Y3RvcihlLHQpe2lmKEZ0LnNldCh0aGlzLHZvaWQgMCksVnQuc2V0KHRoaXMsdm9pZCAwKSxOdC5zZXQodGhpcyxudWxsKSxMdC5zZXQodGhpcyxTdCgpKSxPdC5pbnN0YW5jZSl0aHJvdyBuZXcgRXJyb3IoXCJEb2NrM1Byb3ZpZGVyIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO090Lmluc3RhbmNlPXRoaXMsX3QodGhpcyxGdCxlLFwiZlwiKSxfdCh0aGlzLFZ0LHQsXCJmXCIpLHRoaXMucmVnaXN0ZXJDaGFubmVsQWN0aW9ucygpfWFzeW5jIGxhdW5jaEVudHJ5KGUpe31nZXQgcmVhZHkoKXtyZXR1cm4gVXQodGhpcyxMdCxcImZcIikucHJvbWlzZX1hc3luYyBib29rbWFya0NvbnRlbnRNZW51RW50cnkoZSl7fWdldCBjb25maWcoKXtyZXR1cm4gVXQodGhpcyxGdCxcImZcIil9c2V0IGNvbmZpZyhlKXtfdCh0aGlzLEZ0LGUsXCJmXCIpfWFzeW5jIHVwZGF0ZUNvbmZpZyhlKXthd2FpdCB0aGlzLmhhbmRsZUNvbmZpZ0NoYW5nZShlKX1hc3luYyBzaHV0ZG93bigpe2F3YWl0IFByb21pc2UuYWxsKFtVdCh0aGlzLFZ0LFwiZlwiKS5kZXN0cm95KCksdGhpcy5nZXRXaW5kb3dTeW5jKCkuY2xvc2UoITApXSksT3QuaW5zdGFuY2U9bnVsbH1hc3luYyBzYXZlQ29uZmlnKHtjb25maWc6ZX0pe190KHRoaXMsRnQsZSxcImZcIiksYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7aWYoIUV0KXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzYXZlIERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhlZERiIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgRXRbUnRdLnB1dChlLFwibGF0ZXN0XCIpfShlKX1hc3luYyBoYW5kbGVDb25maWdDaGFuZ2UoZSl7VXQodGhpcyxOdCxcImZcIikmJmF3YWl0IFV0KHRoaXMsVnQsXCJmXCIpLmRpc3BhdGNoKFV0KHRoaXMsTnQsXCJmXCIpLFwiaGFuZGxlLWRvY2stY29uZmlnLXVwZGF0ZWRcIixlKX1hc3luYyBsb2FkQ29uZmlnKCl7Y29uc3QgZT1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2lmKCFFdCl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhlZERCIG5vdCBzdXBwb3J0ZWRcIik7dHJ5e3JldHVybiBhd2FpdCBFdFtSdF0uZ2V0KFwibGF0ZXN0XCIpfWNhdGNoKGUpe3JldHVybiB2b2lkIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byByZXRyaWV2ZSBEb2NrIHByb3ZpZGVyIGNvbmZpZyBmcm9tIEluZGV4ZWREQlwiLGUpfX0oKTtyZXR1cm4gZSYmX3QodGhpcyxGdCxlLFwiZlwiKSxVdCh0aGlzLEZ0LFwiZlwiKX1nZXRXaW5kb3dTeW5jKCl7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLmlkZW50aXR5LnV1aWQsbmFtZTpsZX0pfXJlZ2lzdGVyQ2hhbm5lbEFjdGlvbnMoKXtVdCh0aGlzLFZ0LFwiZlwiKS5yZWdpc3RlcihcImxhdW5jaC1lbnRyeVwiLHRoaXMubGF1bmNoRW50cnkuYmluZCh0aGlzKSksVXQodGhpcyxWdCxcImZcIikucmVnaXN0ZXIoXCJzYXZlLWNvbmZpZ1wiLHRoaXMuc2F2ZUNvbmZpZy5iaW5kKHRoaXMpKSxVdCh0aGlzLFZ0LFwiZlwiKS5yZWdpc3RlcihcImJvb2ttYXJrLWNvbnRlbnQtbWVudS1lbnRyeVwiLHRoaXMuYm9va21hcmtDb250ZW50TWVudUVudHJ5LmJpbmQodGhpcykpLFV0KHRoaXMsVnQsXCJmXCIpLm9uQ29ubmVjdGlvbigoZT0+e2UubmFtZT09PWxlJiZfdCh0aGlzLE50LGUsXCJmXCIpfSkpLFV0KHRoaXMsVnQsXCJmXCIpLnJlZ2lzdGVyKFwicmVhZHlcIiwoYXN5bmMoZSx0KT0+e2lmKFV0KHRoaXMsTnQsXCJmXCIpPy5lbmRwb2ludElkIT09dC5lbmRwb2ludElkKXRocm93IG5ldyBFcnJvcihgRG9jazNQcm92aWRlcjogJ3JlYWR5JyBhY3Rpb24gcmVjZWl2ZWQgZnJvbSB1bmV4cGVjdGVkIGNsaWVudCAke3QubmFtZX0gKCR7dC51dWlkfSlgKTtVdCh0aGlzLEx0LFwiZlwiKS5yZXNvbHZlKCl9KSksVXQodGhpcyxWdCxcImZcIikub25EaXNjb25uZWN0aW9uKChlPT57VXQodGhpcyxOdCxcImZcIik/LmVuZHBvaW50SWQ9PT1lLmVuZHBvaW50SWQmJihfdCh0aGlzLE50LG51bGwsXCJmXCIpLF90KHRoaXMsTHQsU3QoKSxcImZcIikpfSkpfX1hc3luYyBmdW5jdGlvbiBHdChlKXtjb25zdHtjb25maWc6dCxvdmVycmlkZTphfT1lO2lmKE90Lmluc3RhbmNlKXRocm93IG5ldyBFcnJvcihcIkRvY2szUHJvdmlkZXIgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZC5cIik7Y29uc3Qgbj1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNyZWF0ZShkZSgpKSxvPW5ldyhhKE90LmdldE92ZXJyaWRlQ29uc3RydWN0b3IodCxuKSkpO3JldHVybiBhd2FpdCBvLmxvYWRDb25maWcoKSxhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsYSxuKXtpZighYXdhaXQgSWUoe3V1aWQ6eWUudXVpZCxuYW1lOmV9KSl7bGV0IG87bz1cIm51bWJlclwiPT10eXBlb2YgYS5kb2NrUG9zaXRpb24/LmxlZnR8fFwibnVtYmVyXCI9PXR5cGVvZiBuPy5kZWZhdWx0TGVmdD9hLmRvY2tQb3NpdGlvbj8ubGVmdDooYXdhaXQgVmUoeWUpKS5sZWZ0LXNlLzI7Y29uc3Qgcj17bmFtZTplLHVybDp0K0suRW50ZXJwcmlzZURvY2ssYXV0b1Nob3c6ITAsZnJhbWU6ITEsc21hbGxXaW5kb3c6ITAsc2F2ZVdpbmRvd1N0YXRlOiExLGRlZmF1bHRIZWlnaHQ6aWUsZGVmYXVsdFdpZHRoOnNlLGluY2x1ZGVJblNuYXBzaG90czohMSxkZWZhdWx0VG9wOmEuZG9ja1Bvc2l0aW9uPy50b3A/P2NlLGRlZmF1bHRMZWZ0Om8sd29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1R5cGU6YS53aW5kb3dUeXBlLC4uLmF9LHRocm90dGxpbmc6XCJkaXNhYmxlZFwiLHJlc2l6YWJsZTohMSxtYXhpbWl6YWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6YXdhaXQgZnQoXCJiYWNrZ3JvdW5kMVwiKSwuLi55dChuPz97fSl9O2F3YWl0IGZpbi5XaW5kb3cuY3JlYXRlKFRlKHIpKX19KGxlLGF3YWl0IGFlKCksby5jb25maWcsZS53aW5kb3dPcHRpb25zKSxhd2FpdCBvLnJlYWR5LG99RnQ9bmV3IFdlYWtNYXAsVnQ9bmV3IFdlYWtNYXAsTnQ9bmV3IFdlYWtNYXAsTHQ9bmV3IFdlYWtNYXAsT3QuaW5zdGFuY2U9bnVsbDtjb25zdCBIdD1hc3luYyBlPT57Y29uc3QgdD1lP2Zpbi5XaW5kb3cud3JhcFN5bmMoZSk6ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLGE9YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUmJlwiZW50ZXJwcmlzZVwiPT09YS53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlfSwkdD1lPT57Y29uc3QgdD1lPy5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU7cmV0dXJuXCJlbnRlcnByaXNlXCI9PT10fTtsZXQgenQ7Y29uc3QgS3Q9ZT0+e2lmKGUpdHJ5e3JldHVybiBuZXcgVVJMKGUpLnBhdGhuYW1lLmluY2x1ZGVzKEsuRW50ZXJwcmlzZUxhbmRpbmdQYWdlLnJlcGxhY2UoL1xcLyQvLFwiXCIpKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwiZXJyb3IgcGFyc2luZyB1cmw6ICVPXCIsZSl9cmV0dXJuITF9O3ZhciBKdDshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkVudGVycHJpc2VEb2NrPVwiRW50ZXJwcmlzZURvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wiLGUuTWljcm9mbG93PVwiTWljcm9mbG93XCJ9KEp0fHwoSnQ9e30pKTtjb25zdCBadD1hc3luYyhlLHQsYT1cIndvcmtzcGFjZS1saWNlbnNpbmdcIik9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8Tyxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fE8sYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTphLGRhdGE6bn0pfTtsZXQgcXQ9ITE7Y29uc3QganQ9bmV3IE1hcCxRdD1lPT57bGV0IHQ9anQuZ2V0KGUudXVpZCk7cmV0dXJuIHR8fCh0PWtuKGUpLHQub25jZShcImNsb3NlZFwiLCgoKT0+e2p0LmRlbGV0ZShlLnV1aWQpfSkpLGp0LnNldChlLnV1aWQsdCkpLHR9LFl0PWFzeW5jKGUsdCk9Pnt0cnl7YXdhaXQgZS5fcmFpc2VBbmFseXRpY3MoW3RdKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHJhaXNlIGFuYWx5dGljcyBldmVudFwiLGUpfX0sWHQ9YXN5bmMgZT0+e2F3YWl0IFl0KFF0KGZpbi5tZS5pZGVudGl0eSkse3NvdXJjZTpcIkJyb3dzZXJcIiwuLi5lfSl9O2xldCBlYTtjb25zdCB0YT1hc3luYyBlPT57ZWF8fChlYT1uZXcgVGV4dEVuY29kZXIpO2NvbnN0IHQ9ZWEuZW5jb2RlKGUpLGE9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLHQpO3JldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGEpKS5tYXAoKGU9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKSkuam9pbihcIlwiKX07ZnVuY3Rpb24gYWEoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBuYShlLC4uLnQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gZTtjb25zdCBhPXQuc2hpZnQoKTtyZXR1cm4gYWEoZSkmJmFhKGEpJiZPYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKCgoW3QsYV0pPT57aWYoYWEoYSkpcmV0dXJuIGVbdF18fChlW3RdPXt9KSxuYShlW3RdLGEpO2VbdF09YX0pKSxuYShlLC4uLnQpfWNvbnN0IG9hPXJlcXVpcmUoXCJsb2Rhc2guZGVib3VuY2VcIik7dmFyIHJhPWEubihvYSk7ZnVuY3Rpb24gaWEoKXtyZXR1cm4gdm9pZCAwIT09dHlwZW9mIGNyeXB0byYmXCJyYW5kb21VVUlEXCJpbiBjcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNyeXB0by5yYW5kb21VVUlEP2NyeXB0by5yYW5kb21VVUlEKCk6XCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLChlPT4oZV5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSYxNT4+ZS80KS50b1N0cmluZygxNikpKX1mdW5jdGlvbiBzYSgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShXdC5NYWNoaW5lTmFtZSk/P1widW5rbm93blwifWxldCBjYTthc3luYyBmdW5jdGlvbiBsYSgpe3JldHVybiBjYXx8KGNhPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TWFjaGluZUlkKCkpLGNhfWNvbnN0IGRhPWU9PntpZihBcnJheS5pc0FycmF5KGUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzKSYmKGUubGF5b3V0U25hcHNob3R8fGUubGF5b3V0KSl7Y29uc3QgdD1lLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtpZih0KXtjb25zdCBhPWUubGF5b3V0U25hcHNob3Q/ZS5sYXlvdXRTbmFwc2hvdC5sYXlvdXRzW3QubGF5b3V0Q29udGFpbmVyS2V5XTplLmxheW91dDtpZihhKWlmKHQuaXNMb2NrZWQpe2NvbnN0IG49V24oYSx0LmxheW91dCk7dC5sYXlvdXQ9bixlLmxheW91dD1ufWVsc2UgdC5sYXlvdXQ9YSxlLmxheW91dD1hfX1yZXR1cm4gZX07YXN5bmMgZnVuY3Rpb24gdWEoZSl7Y29uc3QgdD1lfHxhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5nZXRTbmFwc2hvdCgpO2lmKHQuc25hcHNob3REZXRhaWxzPy5tYWNoaW5lSWQpcmV0dXJuIHQ7Y29uc3QgYT1zYSgpO3JldHVybnsuLi50LHNuYXBzaG90RGV0YWlsczp7Li4udC5zbmFwc2hvdERldGFpbHMsbWFjaGluZUlkOmF3YWl0IGxhKCksbWFjaGluZU5hbWU6YX19fWNvbnN0IHBhPWFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgbGEoKSxtYWNoaW5lTmFtZTpzYSgpfX0pLHdhPWFzeW5jKGUsdCk9Pih7cGFnZUlkOmlhKCksdGl0bGU6ZSxsYXlvdXQ6YXdhaXQgcGEodCksaXNSZWFkT25seTohMX0pLGdhPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHdhKGUudGl0bGUsTW4oZS5sYXlvdXQpKTtyZXR1cm4gZS5wYW5lbHMmJih0LnBhbmVscz1lLnBhbmVscy5tYXAoKGU9Pih7Li4uZSx2aWV3T3B0aW9uczpDbihlLnZpZXdPcHRpb25zKX0pKSkpLHsuLi5lLC4uLnR9fSxoYT1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKGUpO3JldHVybntzaG93OmFzeW5jKCk9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpvfT1hLHI9YXdhaXQgSHQoZSk7YXdhaXQgdC5yZXBsYWNlKHsuLi5hLHNldHRpbmdzOnsuLi5uLGhhc0hlYWRlcnM6ITAscmVvcmRlckVuYWJsZWQ6ITB9LGRpbWVuc2lvbnM6ey4uLm8saGVhZGVySGVpZ2h0OnI/Mjg6MzB9fSl9LGhpZGU6YXN5bmMgZT0+e2NvbnN0IGE9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6bixkaW1lbnNpb25zOm99PWF3YWl0IGE7YXdhaXQgdC5yZXBsYWNlKHsuLi5hLHNldHRpbmdzOnsuLi5uLGhhc0hlYWRlcnM6ITEscmVvcmRlckVuYWJsZWQ6ZT8uc2V0dGluZ3M/LnJlb3JkZXJFbmFibGVkPz8hMX0sZGltZW5zaW9uczp7Li4ubyxoZWFkZXJIZWlnaHQ6MH19KX0saXNTaG93aW5nVGFiczphc3luYygpPT57dHJ5e2NvbnN0IGU9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6YX09YXdhaXQgZTtyZXR1cm4gYS5oYXNIZWFkZXJzfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCBsYXlvdXQgY29uZmlnOiBcIixlKSwhMH19fX0sbWE9XCJvZi13b3Jrc3BhY2UtXCI7Y29uc3Qga2E9bmV3IGNsYXNze21hcmsoZSl7cGVyZm9ybWFuY2UubWFyayhgJHttYX0ke2V9YCl9bWFya1N0YXJ0KGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bWF9JHtlfS1zdGFydGApfW1hcmtFbmQoZSl7cGVyZm9ybWFuY2UubWFyayhgJHttYX0ke2V9LWVuZGApfW1hcmtFbmRBbmRNZWFzdXJlKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bWF9JHtlfS1lbmRgKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7bWF9JHtlfWAsYCR7bWF9JHtlfS1zdGFydGAsYCR7bWF9JHtlfS1lbmRgKX1jYXRjaChlKXswfX1tYXJrQW5kTWVhc3VyZShlLHQpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bWF9JHtlfWApO3RyeXtyZXR1cm4gcGVyZm9ybWFuY2UubWVhc3VyZShgJHttYX0ke2V9LW1lYXN1cmVgLGAke21hfSR7dH0tc3RhcnRgLGAke21hfSR7ZX1gKX1jYXRjaChlKXswfX1yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKXtyZXR1cm4gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1lYXN1cmVcIikuZmlsdGVyKChlPT5lLm5hbWUuc3RhcnRzV2l0aChtYSkpKX1yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZSgpe3JldHVybiB0aGlzLnJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlRW50cmllcygpLm1hcCgoZT0+KHtuYW1lOmUubmFtZS5yZXBsYWNlKGAke21hfWAsXCJcIikucmVwbGFjZShcIi1tZWFzdXJlXCIsXCJcIiksZHVyYXRpb246ZS5kdXJhdGlvbn0pKSl9fSxiYT0oKT0+e2NvbnN0IGU9YGJyb3dzZXItY29udGV4dC1tZW51LXN0YXJ0dXAtJHtpYSgpfWA7cmV0dXJuIGthLm1hcmtTdGFydChlKSxlfSxmYT1lPT57a2EubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLWNvbnRleHQtbWVudS1jYWxsZWRcIixlKX0seWE9ZT0+e2Zpbi5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0pLm9uY2UoXCJ3aW5kb3ctc2hvd25cIiwoKCk9PnsoZT0+e2thLm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci1jb250ZXh0LW1lbnUtc2hvd25cIixlKX0pKGUpfSkpfSxTYT0oZSx0KT0+dD9gJHt0fS0ke2UudXVpZH0tJHtlLm5hbWV9YDpgX19icm93c2VyX3dpbmRvd19fLSR7ZS51dWlkfS0ke2UubmFtZX1gLHZhPW5ldyBNYXAsUGE9ZT0+KHZhLmhhcyhlKXx8dmEuc2V0KGUsWGUoZSkpLHZhLmdldChlKSgpKSxDYT0oZSx0KT0+e2NvbnN0IGE9U2EoZSx0KTtyZXR1cm4gUGEoYSl9O3ZhciBNYSx4YSxJYSxBYSxXYSxEYTshZnVuY3Rpb24oZSl7ZS5DbG9zZUJyb3dzZXJXaW5kb3c9XCJjbG9zZS1icm93c2VyLXdpbmRvd1wiLGUuUXVpdFBsYXRmb3JtPVwicXVpdC1wbGF0Zm9ybVwiLGUuQ2xvc2VQYWdlPVwiY2xvc2UtcGFnZVwiLGUuQWRkVG9DaGFubmVsPVwiYWRkLXRvLWNoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwicmVtb3ZlLWZyb20tY2hhbm5lbFwiLGUuT3BlblNhdmVNb2RhbEludGVybmFsPVwib3Blbi1zYXZlLW1vZGFsLWludGVybmFsXCIsZS5EdXBsaWNhdGVQYWdlPVwiZHVwbGljYXRlLXBhZ2VcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0LXNlbGVjdGVkLXNjaGVtZVwiLGUuU2hvd0Jyb3dzZXJJbmRpY2F0b3I9XCJzaG93LWJyb3dzZXItaW5kaWNhdG9yXCIsZS5TZXRTZWxlY3RlZExhbmd1YWdlPVwic2V0LXNlbGVjdGVkLWxhbmd1YWdlXCIsZS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWw9XCJyZWZyZXNoLWJvb2ttYXJrc1wiLGUuR2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzSW50ZXJuYWw9XCJnZXQtbGF5b3V0cy13aXRoLXNlbGVjdGVkLXZpZXdzXCIsZS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPVwiZm9jdXMtYW5kLWV4cGFuZC1zZWFyY2hcIn0oTWF8fChNYT17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifSh4YXx8KHhhPXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRBcHBzPVwiZ2V0LWFwcHNcIixlLkdldEN1cmF0ZWRDb250ZW50PVwiZ2V0LWN1cmF0ZWQtY29udGVudFwiLGUuR2V0UmVjZW50bHlWaXNpdGVkPVwiZ2V0LXJlY2VudGx5LXZpc2l0ZWRcIixlLkdldFNlYXJjaFByb3ZpZGVycz1cImdldC1zZWFyY2gtcHJvdmlkZXJzXCJ9KElhfHwoSWE9e30pKSxmdW5jdGlvbihlKXtlLkNyZWF0ZUJvb2ttYXJrTm9kZT1cImNyZWF0ZS1ib29rbWFyay1ub2RlXCIsZS5HZXRCb29rbWFya05vZGU9XCJnZXQtYm9va21hcmstbm9kZVwiLGUuU2VhcmNoQm9va21hcmtOb2Rlcz1cInNlYXJjaC1ib29rbWFyay1ub2Rlc1wiLGUuVXBkYXRlQm9va21hcmtOb2RlPVwidXBkYXRlLWJvb2ttYXJrLW5vZGVcIixlLkRlbGV0ZUJvb2ttYXJrTm9kZT1cImRlbGV0ZS1ib29rbWFyay1ub2RlXCJ9KEFhfHwoQWE9e30pKSxmdW5jdGlvbihlKXtlLlVwZGF0ZUZhdm9yaXRlRW50cmllcz1cInVwZGF0ZS1mYXZvcml0ZS1lbnRyaWVzXCIsZS5VcGRhdGVDb250ZW50TWVudT1cInVwZGF0ZS1jb250ZW50LW1lbnVcIixlLk5hdmlnYXRlQ29udGVudE1lbnU9XCJuYXZpZ2F0ZS1jb250ZW50LW1lbnVcIn0oV2F8fChXYT17fSkpLGZ1bmN0aW9uKGUpe2UuU2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlPVwic2VuZC11cGRhdGUtdmVyc2lvbi1tb2RhbC1yZXNwb25zZVwifShEYXx8KERhPXt9KSk7Y29uc3QgVGE9ey4uLk1hLC4uLnhhLC4uLldhfSxCYT1YZShgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4/Lm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtYm9va21hcmtzYCksUmE9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxfYm9va21hcmtzOntfY3JlYXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgQmEoKSkuZGlzcGF0Y2goQWEuQ3JlYXRlQm9va21hcmtOb2RlLGUpKShlKSxfZ2V0Qm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgQmEoKSkuZGlzcGF0Y2goQWEuR2V0Qm9va21hcmtOb2RlLGUpKShlKSxfc2VhcmNoQm9va21hcmtOb2Rlczphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEJhKCkpLmRpc3BhdGNoKEFhLlNlYXJjaEJvb2ttYXJrTm9kZXMsZSkpKGUpLF91cGRhdGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBCYSgpKS5kaXNwYXRjaChBYS5VcGRhdGVCb29rbWFya05vZGUsZSkpKGUpLF9kZWxldGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBCYSgpKS5kaXNwYXRjaChBYS5EZWxldGVCb29rbWFya05vZGUsZSkpKGUpfSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LkdldFBhZ2VzRm9yV2luZG93LGUpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRQYWdlRm9yV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZDp0fSksYWRkUGFnZTphc3luYyB0PT5ibigpLkJyb3dzZXIud3JhcFN5bmMoZSkuX2FkZFBhZ2UodCksX2FkZFBhZ2U6YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQgY3QoZSksbz17aWRlbnRpdHk6ZSxwYWdlOnQsaW5zZXJ0aW9uSW5kZXg6YT8uaW5kZXgsbXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcjphPy5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yfTtyZXR1cm4gbi5kaXNwYXRjaChvdC5BZGRQYWdlLG8pfSxfYWRkUGFnZXM6YXN5bmModCxhLG4pPT57Y29uc3Qgbz1hd2FpdCBjdChlKSxyPXQubWFwKCgoe3BhZ2U6ZSxvcHRzOnR9KT0+KHsuLi5lLG11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I6dD8ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcnx8XCJkdXBsaWNhdGVcIn0pKSksaT17aWRlbnRpdHk6ZSxwYWdlczpyLGluc2VydGlvbkluZGV4OmEscmVwbGFjZUFjdGl2ZVBhZ2U6bn07cmV0dXJuIG8uZGlzcGF0Y2gob3QuQXR0YWNoUGFnZXNUb1dpbmRvdyxpKX0scmVtb3ZlUGFnZTphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHJlcGFyZW50UGFnZTphc3luYyB0PT5ibigpLkJyb3dzZXIud3JhcFN5bmMoZSkuX3JlcGFyZW50UGFnZSh0KSxfcmVwYXJlbnRQYWdlOmFzeW5jIHQ9Pntjb25zdHtwYWdlSWQ6YX09dCxuPWF3YWl0IGN0KGUpLG89KGF3YWl0IG4uZGlzcGF0Y2gob3QuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApKS5maW5kKCgoe3BhZ2VJZDplfSk9PmU9PT1hKSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKGBSZXBhcmVudCBQYWdlIEVycm9yOiBUYXJnZXQgcGFnZSB3aXRoIHBhZ2VJZCAke2F9IG5vdCBmb3VuZGApO28ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcj1cInJlcGFyZW50XCI7Y29uc3Qgcj17aWRlbnRpdHk6ZSxwYWdlczpbb10saW5zZXJ0aW9uSW5kZXg6dC5pbmRleH07cmV0dXJuIG4uZGlzcGF0Y2gob3QuQXR0YWNoUGFnZXNUb1dpbmRvdyxyKX0sc2V0QWN0aXZlUGFnZTphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LlNldEFjdGl2ZVBhZ2Use2lkZW50aXR5OmUscGFnZUlkOnR9KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGN0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvdC5VcGRhdGVQYWdlRm9yV2luZG93LHQpfSxyZW9yZGVyUGFnZXM6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY3QoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG90LlJlb3JkZXJQYWdlc0ZvcldpbmRvdyx0KX0sX29wZW5HbG9iYWxDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjdChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob3QuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwsdCl9LHJlcGxhY2VUb29sYmFyT3B0aW9uczphc3luYyB0PT57YXdhaXQgY3QoZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3Rvb2xiYXJPcHRpb25zOnR9fSl9LHJlcGxhY2VXaW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IGN0KGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6dH19KX0sdXBkYXRlQnJvd3NlcldpbmRvd1RpdGxlOmFzeW5jIHQ9Pntjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7XCJzdHJpbmdcIiE9dHlwZW9mIHQ/YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dGl0bGU6dH19KTpjb25zb2xlLndhcm4oXCJUeXBlIHN0cmluZyBmb3Igd2luZG93IHRpdGxlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgV2luZG93VGl0bGUgdHlwZSBpbnN0ZWFkXCIsdCl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGN0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvdC5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuUGFnZVRhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGN0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvdC5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pnthd2FpdCBjdChlKTtyZXR1cm4oYXdhaXQgQ2EoZSkpLmRpc3BhdGNoKFRhLk9wZW5TYXZlTW9kYWxJbnRlcm5hbCx0KX0sX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3czphc3luYygpPT4oYXdhaXQgQ2EoZSkpLmRpc3BhdGNoKFRhLkdldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3c0ludGVybmFsLGUpLF9vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGN0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvdC5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9hZGREZWZhdWx0UGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjdChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob3QuQWRkRGVmYXVsdFBhZ2UsdCl9LF90cmFja1JlbW92ZWRUYWI6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5UcmFja1JlbW92ZWRUYWJJbnRlcm5hbCx0KSxfcmVzdG9yZVJlbW92ZWRUYWI6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5SZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsLHQpLF90cmFja1Zpc2l0ZWRTaXRlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuVHJhY2tWaXNpdGVkU2l0ZUludGVybmFsLHQpLF9nZXRSZWNlbnRseVZpc2l0ZWRTaXRlczphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwsdCksX2dldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXM6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwsdCksX3NlYXJjaFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuU2VhcmNoU2l0ZXNJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6dH0pLF9nZXRTZWFyY2hQcm92aWRlcnM6YXN5bmMoKT0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbCx7aWRlbnRpdHk6ZX0pLF9nZXRDdXJhdGVkQ29udGVudDphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LkdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWwse2lkZW50aXR5OmUscmVxOnR9KSxfaGFuZGxlUmVxdWVzdE5hdmlnYXRpb246YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsLHQpLF9zZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5TZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbCx0KX0pLEVhPWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm57d3JhcFN5bmM6ZT0+UmEoZSksY3JlYXRlV2luZG93OmFzeW5jIGE9Pntjb25zdCBuPSgoKT0+e2NvbnN0IGU9YGJyb3dzZXItd2luZG93LXN0YXJ0dXAtJHtpYSgpfWA7cmV0dXJuIGthLm1hcmtTdGFydChlKSxlfSkoKTsoZT0+e2Zpbi5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0pLm9uY2UoXCJ3aW5kb3ctc2hvd25cIiwoKCk9PntrYS5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItd2luZG93LXNob3duXCIsZSl9KSl9KShuKSxhd2FpdCBjdChlKTtjb25zdCBvPWF3YWl0IHQuY3JlYXRlV2luZG93KGEpO3JldHVybihlPT57a2EubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zdGFydGVkXCIsZSl9KShuKSxSYShvLmlkZW50aXR5KX0sZ2V0QWxsQXR0YWNoZWRQYWdlczphc3luYygpPT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSxnZXRBbGxXaW5kb3dzOmFzeW5jKCk9Pnthd2FpdCBjdChlKTtyZXR1cm4oYXdhaXQgTWUoKSkubWFwKChlPT5SYShlLmlkZW50aXR5KSkpfSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRVbmlxdWVQYWdlVGl0bGUsdCksZ2V0TGFzdEZvY3VzZWRXaW5kb3c6YXN5bmMoKT0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKSxnZXRQYWdlQnlWaWV3SWRlbnRpdHk6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRQYWdlQnlWaWV3SWRlbnRpdHksdCl9fTt2YXIgRmE7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLkVudGVycHJpc2U9XCIvZW50ZXJwcmlzZVwiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXJcIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udFwiLGUuRG9jaz1cIi9kb2NrXCJ9KEZhfHwoRmE9e30pKTtmdW5jdGlvbiBWYShlLHQpe3JldHVybiBhc3luYyhhLC4uLm4pPT57ZS5oYXMoYSkmJmUuZ2V0KGEpLmZvckVhY2goKGU9PmUoLi4ubikpKSx0JiZhd2FpdCB0KHtldmVudDphLHBheWxvYWQ6bn0pfX1mdW5jdGlvbiBOYShlLHQpe3JldHVybiB0JiZ0KCh0PT57Y29uc3R7ZXZlbnQ6YSxwYXlsb2FkOm59PXQ7ZS5oYXMoYSkmJmUuZ2V0KGEpLmZvckVhY2goKGU9PmUoLi4ubikpKX0pKSwodCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpLGUuZ2V0KHQpLmFkZChhKX19ZnVuY3Rpb24gTGEoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KTtjb25zdCBuPWUuZ2V0KHQpLG89KC4uLmUpPT57YSguLi5lKSxuLmRlbGV0ZShvKX07bi5hZGQobyl9fWZ1bmN0aW9uIF9hKGUpe3JldHVybih0LGEpPT57ZS5oYXModCkmJmUuZ2V0KHQpLmRlbGV0ZShhKX19Y29uc3QgVWE9e25hbWU6bWUuQnJvd3Nlck1lbnUsYWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITAsZnJhbWU6ITEscmVzaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjpcIiMyZjMxMzZcIixzbWFsbFdpbmRvdzohMCxzaG93VGFza2Jhckljb246ITEsYmFja2dyb3VuZFRocm90dGxpbmc6ITEsc2F2ZVdpbmRvd1N0YXRlOiExfTtmdW5jdGlvbiBPYShlKXtjb25zdCB0PXsuLi5VYSwuLi5lfTtyZXR1cm4gdC51cmw9ZnVuY3Rpb24oZSx0KXtpZighRCl0aHJvdyBuZXcgRXJyb3IoXCJyZXNvbHZlQWJzb2x1dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7Y29uc3QgYT10Pz93aW5kb3cubG9jYXRpb247aWYoL14oPzpbYS16XSs6KT9cXC9cXC8vaS50ZXN0KGUpKXJldHVybiBlO2NvbnN0IG49YCR7YS5wcm90b2NvbH0vLyR7YS5ob3N0bmFtZX1gO3JldHVybiBuZXcgVVJMKGUsbikuaHJlZn0odC51cmw/P1wiXCIpLHR9Y29uc3QgR2E9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybntlbWl0OlZhKHQsKHQ9PlcmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goZSx0KSkpLGFkZExpc3RlbmVyOk5hKHQsKHQ9PlcmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSx0KSkpLGFkZExpc3RlbmVyV2l0aFVVSUQ6YT0+TmEodCwodD0+VyYmZmluLkludGVyQXBwbGljYXRpb25CdXMuc3Vic2NyaWJlKHt1dWlkOmF9LGUsdCkpKSxyZW1vdmVMaXN0ZW5lcjpfYSh0KSxvbmNlOkxhKHQpfX0oXCJ3aW5kb3cubWVudVwiKSxIYT0oZSx0KT0+ZmluLldpbmRvdy53cmFwU3luYyhlKS51cGRhdGVPcHRpb25zKHtvcGFjaXR5OnR9KSwkYT1lPT5HYS5lbWl0KFwicmVzcG9uc2VcIixlKSx6YT1CZSgoKCk9PmhlKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLDUwMCk7Y29uc3QgS2E9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBKYShlLHQsYSl7Y29uc3Qgbj1PYShlKSxvPWF3YWl0IGt0KGZpbi5tZS5pZGVudGl0eSkscj1hd2FpdCBidChmaW4ubWUuaWRlbnRpdHkpPT09ay5EYXJrLGk9bz8udGhlbWU7aWYobi5iYWNrZ3JvdW5kQ29sb3I9aT8uW3I/ay5EYXJrOmsuTGlnaHRdPy5wYWxldHRlPy5pbnB1dEJhY2tncm91bmR8fG4uYmFja2dyb3VuZENvbG9yLCFLYS5oYXMobi5uYW1lKSl7cmV0dXJuIG5ldyBQcm9taXNlKChvPT57R2Eub25jZShcInJlYWR5XCIsKGFzeW5jIGU9PntpZihlLm5hbWU9PT1uLm5hbWUpe2NvbnN0IHQ9YXdhaXQgS2EuZ2V0KG4ubmFtZSk7bi5wcmV2ZW50Qmx1cnx8dC5vbmNlKFwiYmx1cnJlZFwiLChhc3luYygpPT57aWYoSGEoZSwwKSx0LmhpZGUoKSwkYSh7bmFtZTpuLm5hbWUsZGF0YTp7YWN0aW9uTmFtZTpcIkNhbmNlbFwifX0pLGE9dC5pZGVudGl0eS5uYW1lLFttZS5Ccm93c2VyU2F2ZU1lbnUsbWUuRGVza3RvcFNpZ25hbHNNb2RhbF0uaW5jbHVkZXMoYSkpe2NvbnN0IGU9YXdhaXQgdC5nZXRPcHRpb25zKCk7XCJzdWJtaXR0aW5nXCIhPT1lLmN1c3RvbUNvbnRleHQmJlwiZXJyb3JcIiE9PWUuY3VzdG9tQ29udGV4dCYmdC5jbG9zZSgpfWVsc2UgdC5pZGVudGl0eS5uYW1lLnN0YXJ0c1dpdGgobWUuQnJvd3Nlck1lbnUpJiZ0LmNsb3NlKCk7dmFyIGF9KSksc2V0VGltZW91dCgoYXN5bmMoKT0+e2F3YWl0IEhhKGUsMSk7MSE9PShhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldE9wdGlvbnMoKSkub3BhY2l0eSYmSGEoZSwxKX0pKSxvKHQpfX0pKTtjb25zdCByPShhc3luYygpPT57Y29uc3Qgbz1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coVGUoey4uLm4sb3BhY2l0eTowLHVybDp0fHxuLnVybCxkZWZhdWx0TGVmdDphPy5sZWZ0LGRlZmF1bHRUb3A6YT8udG9wLGRlZmF1bHRXaWR0aDphPy53aWR0aCxkZWZhdWx0SGVpZ2h0OmE/LmhlaWdodCx3b3Jrc3BhY2VQbGF0Zm9ybTp7cHJldmVudEJsdXI6ZS5wcmV2ZW50Qmx1cn19LCEwKSk7cmV0dXJuIG8ub25jZShcImNsb3NlZFwiLCgoKT0+e0thLmRlbGV0ZShuLm5hbWUpfSkpLG99KSgpO0thLnNldChuLm5hbWUscil9KSl9cmV0dXJuIEthLmdldChuLm5hbWUpfWFzeW5jIGZ1bmN0aW9uIFphKGUsdCl7Y29uc3QgYT1PYShlKSxuPXt0b3A6YS50b3AsbGVmdDphLmxlZnQsd2lkdGg6YS5kZWZhdWx0V2lkdGh8fGEud2lkdGgsaGVpZ2h0OmEuZGVmYXVsdEhlaWdodHx8YS5oZWlnaHR9O3JldHVybiB0LnNldChcInBhcmVudE5hbWVcIixmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHkubmFtZSkse25hbWU6YS5uYW1lLGJvdW5kczpuLHJvdXRlOmAke2EudXJsfSMke3QudG9TdHJpbmcoKX1gfX1hc3luYyBmdW5jdGlvbiBxYSh7b3B0aW9uczplLHBhcmFtZXRlcnM6dH0pe2NvbnN0IGE9dD8/bmV3IFVSTFNlYXJjaFBhcmFtcyxuPU9hKGUpLHtuYW1lOm8sbW9kYWxQYXJlbnRJZGVudGl0eTpyfT1uO2lmKCFhLmhhcyhcImlzRW50ZXJwcmlzZVwiKSl7Y29uc3QgZT1gJHthd2FpdChhc3luYyBlPT4oenR8fCh6dD1hd2FpdCBIdChlKSksenQpKShyKX1gO2Euc2V0KFwiaXNFbnRlcnByaXNlXCIsZSl9bGV0IGk9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7cmV0dXJuKGF3YWl0IHphKCkpLmZpbmQoKHQ9PnQuaWRlbnRpdHkubmFtZT09PWUpKX0obyk7aWYoaSlhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0e25hbWU6YSxib3VuZHM6bixyb3V0ZTpvfT1hd2FpdCBaYShlLHQpLHI9e3V1aWQ6ZmluLm1lLmlkZW50aXR5LnV1aWQsbmFtZTphfSxpPWZpbi5XaW5kb3cud3JhcFN5bmMocik7YXdhaXQgUHJvbWlzZS5hbGwoW2kuaGlkZSgpLEhhKHIsMCksaS5zZXRCb3VuZHMobildKSxlLnByZXZlbnRCbHVyfHxpLm9uY2UoXCJibHVycmVkXCIsKCgpPT57SGEociwwKSxpLmhpZGUoKSwkYSh7bmFtZTpyLm5hbWUsZGF0YTp7YWN0aW9uTmFtZTpcIkNhbmNlbFwifX0pfSkpLEdhLmVtaXQoXCJ1cGRhdGVcIixhLG4sbyksYXdhaXQgJGEoe25hbWU6YSxkYXRhOnthY3Rpb25OYW1lOlwiQ2FuY2VsXCJ9fSl9KG4sYSk7ZWxzZXtjb25zdHtyb3V0ZTp0LGJvdW5kczpvfT1hd2FpdCBaYShlLGEpO2k9YXdhaXQgSmEoey4uLm59LHQsbyl9cmV0dXJuIGl9Y29uc3QgamE9YXN5bmMoe29wdGlvbnM6ZSxjb250ZW50OnQscGFyYW1ldGVyczphfSk9Pntjb25zdCBuPWE/P25ldyBVUkxTZWFyY2hQYXJhbXM7bi5zZXQoXCJjb250ZW50XCIsSlNPTi5zdHJpbmdpZnkoey4uLnQsaW52b2NhdGlvbklkOmlhKCl9KSk7Y29uc3Qgbz17Li4uZSxuYW1lOmAke2UubmFtZX0tLSR7ZS5tb2RhbFBhcmVudElkZW50aXR5Py5uYW1lPz9cIlwifWB9LHI9YXdhaXQgcWEoe29wdGlvbnM6byxwYXJhbWV0ZXJzOm59KTtyZXR1cm4gbmV3IFByb21pc2UoKGU9PntHYS5vbmNlKFwicmVzcG9uc2VcIiwoYXN5bmMgdD0+e3QubmFtZT09PW8ubmFtZSYmKGUoe2RhdGE6dC5kYXRhfSksbz8uY2xvc2VPblJlc3BvbnNlJiZyLmNsb3NlKCkpfSkpfSkpfTtsZXQgUWE7YXN5bmMgZnVuY3Rpb24gWWEoZSl7cmV0dXJuKGF3YWl0KFFhfHwoUWE9WGUoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluLm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtbW9kYWxgKSgpKSxRYSkpLmRpc3BhdGNoKERhLlNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZSxlKX1jb25zdCBYYT1hc3luYyBlPT57Y29uc3QgdD1mZShlKSxhPWF3YWl0IHQuZ2V0Qm91bmRzKCksbj1rZShhKSxvPWJlKG4se2hlaWdodDoyNDAsd2lkdGg6NDMyfSk7cmV0dXJuIHFhKHtvcHRpb25zOntzbWFsbFdpbmRvdzohMCxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiEwLGluY2x1ZGVJblNuYXBzaG90czohMSx3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93VHlwZTpcImVudGVycHJpc2VcIn0scmVzaXphYmxlOiExLG5hbWU6bWUuRGVza3RvcFNpZ25hbHNNb2RhbCx1cmw6YXdhaXQgbmUoKStLLkRlc2t0b3BTaWduYWxzTW9kYWwsZGVmYXVsdFdpZHRoOjQzMixkZWZhdWx0SGVpZ2h0OjI0MCxwcmV2ZW50Qmx1cjohMSwuLi5vfSxwYXJhbWV0ZXJzOm5ldyBVUkxTZWFyY2hQYXJhbXMoe3RpdGxlOlwiRGVza3RvcCBTaWduYWxzIE1vZGFsXCJ9KX0pfSxlbj1lPT4oe2NyZWF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksdXBkYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LlVwZGF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFBhZ2VzLHQpLHNhdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuU2F2ZVBhZ2UsdCksY3JlYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZGVsZXRlV29ya3NwYWNlOmFzeW5jIHQ9Pntjb25zdCBhPWJuKCksbj1hd2FpdCBhLmdldEN1cnJlbnRXb3Jrc3BhY2UoKTtpZihuLndvcmtzcGFjZUlkPT09dCl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZWxldGUgY3VycmVudCBhY3RpdmUgd29ya3NwYWNlICR7bi50aXRsZX1gKTtyZXR1cm4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkRlbGV0ZVNhdmVkV29ya3NwYWNlLHQpfSx1cGRhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5VcGRhdGVTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2VzOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRXb3Jrc3BhY2VzLHQpLGdldFdvcmtzcGFjZXNNZXRhZGF0YTphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhLHQpLHNhdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5TYXZlV29ya3NwYWNlLHQpLGdldERvY2tQcm92aWRlckNvbmZpZzphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldERvY2tQcm92aWRlckNvbmZpZyx0KSxzYXZlRG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuU2F2ZURvY2tQcm92aWRlckNvbmZpZyx0KX0pO3ZhciB0bjshZnVuY3Rpb24oZSl7ZS5VcGRhdGVQbGF0Zm9ybVRoZW1lU2NoZW1lPVwidXBkYXRlLXBsYXRmb3JtLXRoZW1lLXNjaGVtZVwifSh0bnx8KHRuPXt9KSk7Y29uc3QgYW49WGUoXCJvZi13b3Jrc3BhY2Utbm90aWZpY2F0aW9ucy1zeW5jXCIpLG5uPWsuU3lzdGVtLG9uPWU9Pk9iamVjdC5lbnRyaWVzKGUpLnJlZHVjZSgoKGUsW3QsYV0pPT5gJHtlfS0td29ya3NwYWNlLXBhbGV0dGUtJHt0fTogJHthfTtgKSxcIlwiKSxybj0oZSx0KT0+e2NvbnN0IGE9ISFlLmNvbnRlbnRCYWNrZ3JvdW5kNSYmXCIjMDAwMDAwXCIhPT1lLmNvbnRlbnRCYWNrZ3JvdW5kNSxuPSEhZS5jb250ZW50QmFja2dyb3VuZDQmJlwiIzAwMDAwMFwiIT09ZS5jb250ZW50QmFja2dyb3VuZDQsbz0kZShlLnRleHREZWZhdWx0KSxyPSRlKGUudGV4dEluYWN0aXZlKSxpPW8ucmdiLHM9ci5yZ2IsYz1vLmFscGhhP3BhcnNlRmxvYXQoby5hbHBoYS50b1N0cmluZygpKToxLGw9ci5hbHBoYT9wYXJzZUZsb2F0KHIuYWxwaGEudG9TdHJpbmcoKSk6MTtyZXR1cm57ZG9ja0V4cGFuZGVkQ29udGFpbmVyQm9yZGVyQ29sb3I6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0LGRvY2tFeHBhbmRlZENvbnRhaW5lckJvcmRlclJhZGl1czphJiZ0P1wiMFwiOlwiMTBweFwiLGRvY2tFeHBhbmRlZENvbnRhaW5lckJhY2tncm91bmQ6bj9lLmNvbnRlbnRCYWNrZ3JvdW5kNDplLmJhY2tncm91bmQxLGZpbGxlckJhY2tncm91bmRDb2xvcjpuP2UuY29udGVudEJhY2tncm91bmQ0OlwiaW5oZXJpdFwiLGRvY2tDb21wYW5pb25Db250YWluZXJCYWNrZ3JvdW5kOm4/ZS5jb250ZW50QmFja2dyb3VuZDQ6XCJpbmhlcml0XCIsZG9ja0NvbXBvbmVudENvbnRhaW5lckJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ1LHN0eWxlZERyb3Bkb3duQWN0aXZlQmFja2dyb3VuZDpgJHthP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDR9YCxjb250ZW50TWVudVdyYXBwZXJJbnRlcm5hbERpdkJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNSxjb250ZW50TWVudUl0ZW1Db250YWluZXJBY3RpdmVCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kMyxjb250ZW50TWVudUl0ZW1Db250YWluZXJIb3ZlckJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQyLGNvbnRlbnRNZW51SGVhZGVyQm9yZGVyQ29sb3I6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ1LGRvY2tDb21wYW5pb25TZXBhcmF0b3JCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDMsZG9ja0NvbXBvbmVudENvbnRhaW5lckJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNSxjb21wYW5pb25Eb2NrQnV0dG9uQWN0aXZlQmFja2dyb3VuZDphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDQsY29tcGFuaW9uRG9ja0J1dHRvbkhvdmVyQmFja2dyb3VuZDphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDQsXCJjb21wdXRlZC1zY3JvbGxiYXItdGh1bWItYWxwaGFcIjpjLFwiY29tcHV0ZWQtc2Nyb2xsYmFyLXRyYWNrLWFscGhhXCI6bCxcInNjcm9sbGJhci10aHVtYi1yZ2JcIjppLFwic2Nyb2xsYmFyLXRyYWNrLXJnYlwiOnN9fSxzbj0oZSx0LGEpPT4oe3NlbGVjdGVkVGFiOlwiZGFya1wiPT09dD9lLmJhY2tncm91bmQzOmUuYmFja2dyb3VuZDEsLi4ucm4oZSxhKX0pO2NvbnN0IGNuPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3ZpZGVyU3RvcmFnZT1lLHRoaXMuZ2V0VmFyc0J5U2NoZW1lPWU9PlwiZGFya1wiPT09ZT90aGlzLmRhcmtQYWxldHRlVmFyczp0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMsdGhpcy5zZXRXb3Jrc3BhY2VTdG9yYWdlPWU9Pnt0aGlzLndvcmtzcGFjZVN0b3JhZ2U9ZX0sdGhpcy50cnlTeW5jaHJvbml6ZVdvcmtzcGFjZVN0b3JhZ2U9KCk9PntpZih0aGlzLndvcmtzcGFjZVN0b3JhZ2Upe2NvbnN0IGU9dGhpcy5nZXRTY2hlbWUoKTtpZih0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShXdC5TZWxlY3RlZENvbG9yU2NoZW1lLGUpLHRoaXMuZGFya1BhbGV0dGVWYXJzJiZ0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMpaWYoXCJkYXJrXCI9PT1lfHxcImxpZ2h0XCI9PT1lKXRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKFd0LlRoZW1lUGFsZXR0ZVNoZWV0LGA6cm9vdHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKGUpfX1gKTtlbHNle2NvbnN0IGU9YEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspezpyb290IHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKFwiZGFya1wiKX19fWAsdD1gQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpezpyb290eyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoXCJsaWdodFwiKX19fWA7dGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0oV3QuVGhlbWVQYWxldHRlU2hlZXQsYCR7dH0ke2V9YCl9fX0sdGhpcy5zZXRQYWxldHRlcz1hc3luYyh7bGlnaHQ6ZSxkYXJrOnR9LGEpPT57dGhpcy5saWdodFBhbGV0dGVWYXJzPW9uKHsuLi5lLC4uLnNuKGUsXCJsaWdodFwiLGEpfSksdGhpcy5kYXJrUGFsZXR0ZVZhcnM9b24oey4uLnQsLi4uc24odCxcImRhcmtcIixhKX0pfX1zZXRTY2hlbWUoZSl7dGhpcy5wcm92aWRlclN0b3JhZ2Uuc2V0SXRlbShXdC5TZWxlY3RlZENvbG9yU2NoZW1lLGUpfWdldFNjaGVtZSgpe3JldHVybiBudWxsPT09dGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShXdC5TZWxlY3RlZENvbG9yU2NoZW1lKSYmdGhpcy5wcm92aWRlclN0b3JhZ2Uuc2V0SXRlbShXdC5TZWxlY3RlZENvbG9yU2NoZW1lLG5uKSx0aGlzLnByb3ZpZGVyU3RvcmFnZS5nZXRJdGVtKFd0LlNlbGVjdGVkQ29sb3JTY2hlbWUpfX0oZSksbG49KCk9PmNuLGRuPWU9Pih7Z2V0VGhlbWVzOmFzeW5jKCk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuR2V0VGhlbWVzLHZvaWQgMCksc2V0U2VsZWN0ZWRTY2hlbWU6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5TZXRTZWxlY3RlZFNjaGVtZSx0KSxnZXRTZWxlY3RlZFNjaGVtZTphc3luYygpPT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldFNlbGVjdGVkU2NoZW1lLHZvaWQgMCl9KSx1bj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBudCgpO2F3YWl0IHQuZGlzcGF0Y2goXCJzZXQtc2VsZWN0ZWQtc2NoZW1lXCIsZSl9LHBuPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGFuKCk7YXdhaXQgdC5kaXNwYXRjaCh0bi5VcGRhdGVQbGF0Zm9ybVRoZW1lU2NoZW1lLHtzY2hlbWU6ZX0pfSx3bj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBNZSgpO3JldHVybiBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgQ2EodC5pZGVudGl0eSk7YXdhaXQgYS5kaXNwYXRjaChUYS5TZXRTZWxlY3RlZFNjaGVtZSxlKX0pKSl9LGduPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHhlKCk7cmV0dXJuIFByb21pc2UuYWxsKHQubWFwKChhc3luYyB0PT57Y29uc3QgYT1hd2FpdCBDYSh0LmlkZW50aXR5KTthd2FpdCBhLmRpc3BhdGNoKFRhLlNldFNlbGVjdGVkU2NoZW1lLGUpfSkpKX0saG49YXN5bmMgZT0+e3RyeXtjb25zdCB0PWxuKCk7dC5zZXRTY2hlbWUoZSksYXdhaXQgUHJvbWlzZS5hbGwoW2F3YWl0IHQudHJ5U3luY2hyb25pemVXb3Jrc3BhY2VTdG9yYWdlKCkscG4oZSksd24oZSksZ24oZSksdW4oZSldKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHNldCB0aGUgc2VsZWN0ZWQgc2NoZW1lOiBcIixlKX19LG1uPSgpPT57dHJ5e3JldHVybiBsbigpLmdldFNjaGVtZSgpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZ2V0IHRoZSBzZWxlY3RlZCBzY2hlbWU6IFwiLGUpfX0sa249ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO2xldCBhO3JldHVybiBPYmplY3QuYXNzaWduKHQse2FwcGx5U25hcHNob3Q6YXN5bmModCxhKT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYhdD8ud2luZG93cyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBicm93c2VyIHNuYXBzaG90XCIpO3JldHVybiBmaW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuYXBwbHlTbmFwc2hvdCh0LGEpfSxnZXRTbmFwc2hvdDooKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFNuYXBzaG90KCkudGhlbigoZT0+ZSkpLGdldFZpZXdTbmFwc2hvdDp0PT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0Vmlld1NuYXBzaG90KHQpLGNyZWF0ZVZpZXc6KHQsYSxuKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmNyZWF0ZVZpZXcodCxhLG4pLGxhdW5jaEFwcDphc3luYyB0PT57Y29uc29sZS53YXJuKFwibGF1bmNoQXBwIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBJdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgY3JlYXRlVmlldyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5vcGVuZmluLmNvL29mLWRvY3MvZG9jcy9wbGF0Zm9ybS1nZXR0aW5nLXN0YXJ0ZWQjYWRkLWEtdmlldy10by1hbi1leGlzdGluZy13aW5kb3cgb3IgIGNyZWF0ZVdpbmRvdyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5vcGVuZmluLmNvL29mLWRvY3MvZG9jcy9wbGF0Zm9ybS1nZXR0aW5nLXN0YXJ0ZWQjY3JlYXRlLWEtcGxhdGZvcm0td2luZG93IGluc3RlYWQuXCIpLHQudGFyZ2V0fHwodC50YXJnZXQ9e3V1aWQ6UixuYW1lOkUsZW50aXR5VHlwZTpGfHxcInVua25vd25cIn0pO3JldHVybihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuTGF1bmNoQXBwLHQpfSxfaW52b2tlQ3VzdG9tQWN0aW9uOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IHN0KGUpLG89e2FjdGlvbklkOnQscGF5bG9hZDp7Li4uYSxjYWxsZXJUeXBlOmEuY2FsbGVyVHlwZXx8TS5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChvdC5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sX3JlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2c6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWwsdCksX3Nob3dVcGRhdGVWZXJzaW9uTW9kYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5TaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWwsdCksZ2V0Q3VycmVudFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldEN1cnJlbnRXb3Jrc3BhY2UsdCksYXBwbHlXb3Jrc3BhY2U6YXN5bmModCxhKT0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5BcHBseVdvcmtzcGFjZSx7Li4udCxvcHRpb25zOmF9KSxyZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuUmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsLHQpLHNldEFjdGl2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlNldEFjdGl2ZVdvcmtzcGFjZSx0KSxnZXRMYW5ndWFnZTphc3luYygpPT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldExhbmd1YWdlKSxfZ2V0TGFuZ3VhZ2VSZXNvdXJjZXM6YXN5bmMoKT0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsKSxzZXRMYW5ndWFnZTphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlNldExhbmd1YWdlLHQpLF9yYWlzZUFuYWx5dGljczphc3luYyB0PT57aWYoYXx8KGE9YXdhaXQgaXQoZSkpLFwib2JqZWN0XCI9PXR5cGVvZiBhJiZhPy5hbmFseXRpY3M/LmlzU3VwcG9ydGVkKXtyZXR1cm4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkFuYWx5dGljcyx0KX1lLnV1aWR9LGdldE5vdGlmaWNhdGlvbnNDb25maWc6YXN5bmMoKT0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXROb3RpZmljYXRpb25zQ29uZmlnKSxfcmVmcmVzaEJvb2ttYXJrc0ludGVybmFsOmFzeW5jKCk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKSxfbGF1bmNoQm9va21hcmtJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkxhdW5jaEJvb2ttYXJrSW50ZXJuYWwsdCksX3VwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbCx0KSxfdXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwsdCksX2xhdW5jaERvY2tFbnRyeUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuTGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwsdCksX3NldERvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsLHQpLF9zZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbCx0KSxfcmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5BZGREb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfbmF2aWdhdGVDb250ZW50TWVudUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuTmF2aWdhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9vcGVuRG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsOmFzeW5jKCk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuR2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsKSxfaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWwsdCksX2ZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw6YXN5bmMoKT0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKSxfc2hvd0Fib3V0UGFnZVBvcHVwOmFzeW5jIGU9Pihhc3luYyBlPT57Y29uc3QgdD1uZXcgVVJMU2VhcmNoUGFyYW1zKHsuLi5lLHRpdGxlOlwiQWJvdXRcIn0pLGE9YXdhaXQgVmUoZmluLm1lLmlkZW50aXR5KSxuPWUuY29weXJpZ2h0TWVzc2FnZT8zMjA6Mjg2LG89YmUoYSx7aGVpZ2h0Om4sd2lkdGg6MzYwfSk7cmV0dXJuIHFhKHtvcHRpb25zOntmcmFtZTohMCxzbWFsbFdpbmRvdzohMCxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiEwLGluY2x1ZGVJblNuYXBzaG90czohMSx3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93VHlwZTpcImVudGVycHJpc2VcIn0scmVzaXphYmxlOiExLG5hbWU6bWUuQWJvdXRQYWdlV2luZG93LHVybDphd2FpdCBuZSgpK0suRW50ZXJwcmlzZUFib3V0UGFnZSxkZWZhdWx0V2lkdGg6MzYwLGRlZmF1bHRIZWlnaHQ6bixwcmV2ZW50Qmx1cjohMCwuLi5vfSxwYXJhbWV0ZXJzOnR9KX0pKGUpLFRoZW1lOmRuKGUpLEJyb3dzZXI6RWEoZSksU3RvcmFnZTplbihlKX0pfSxibj0oKT0+a24oZmluLm1lLmlkZW50aXR5KSxmbj17Y29udGV4dE1lbnVPcHRpb25zOntlbmFibGVkOiEwLHRlbXBsYXRlOltcInNwZWxsQ2hlY2tcIixcInNlcGFyYXRvclwiLFwicHJpbnRcIixcInNlcGFyYXRvclwiLFwiY3V0XCIsXCJjb3B5XCIsXCJwYXN0ZVwiLFwidW5kb1wiLFwicmVkb1wiLFwic2VsZWN0QWxsXCIsXCJpbnNwZWN0XCIsXCJyZWxvYWRcIl19LGRvd25sb2FkU2hlbGY6e2VuYWJsZWQ6ITB9fTtmdW5jdGlvbiB5bihlLHQpe3JldHVybiBuYSh7fSxmbix0LGUpfWNvbnN0IFNuPVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXZpZXctXCIsdm49KGUsdCk9PmUuY29udGVudD97Li4uZSxjb250ZW50OmUuY29udGVudC5tYXAoKGU9PnZuKGUsdCkpKX06ey4uLmUsY29tcG9uZW50U3RhdGU6dChlLmNvbXBvbmVudFN0YXRlKX0sUG49KGUsdCk9PntyZXR1cm4gYT15bihlLHQpLHsuLi5hLG5hbWU6YS5uYW1lP2EubmFtZTpgaW50ZXJuYWwtZ2VuZXJhdGVkLXZpZXctJHtpYSgpfWAsX2ludGVybmFsV29ya3NwYWNlRGF0YTp7Li4uYS5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhLHZpZXdJZGVudGlmaWVyOmEuX2ludGVybmFsV29ya3NwYWNlRGF0YT8udmlld0lkZW50aWZpZXJ8fGlhKCl9fTt2YXIgYX0sQ249ZT0+KHsuLi5lLG5hbWU6dm9pZCAwfSksTW49ZT0+e2NvbnN0IHQ9ey4uLmV9O3JldHVybiB2bih0LENuKX0seG49ZT0+e2NvbnN0IHQ9ey4uLmV9O3JldHVybiB2bih0LChlPT5lLm5hbWUmJmUubmFtZS5zdGFydHNXaXRoKFNuKT9DbihlKTplKSl9LEluPWU9Pntjb25zdCB0PVtdO3JldHVybihlJiZBcnJheS5pc0FycmF5KGUpP2U6W10pLmZvckVhY2goKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiB0LnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgYT1JbihlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fSxBbj1hc3luYyhlLHQsYT15ZSk9PntsZXQgbjtpZihhd2FpdCBDZShhKSl7bj0oYXdhaXQgZmUoYSkuZ2V0T3B0aW9ucygpKS5sYXlvdXR8fHtzZXR0aW5nczp7fX19cmV0dXJuey4uLm4sY29udGVudDpbe3R5cGU6XCJzdGFja1wiLGNvbnRlbnQ6W3t0eXBlOlwiY29tcG9uZW50XCIsY29tcG9uZW50TmFtZTpcInZpZXdcIixjb21wb25lbnRTdGF0ZTp7dGl0bGU6ZSx1cmw6dH19XX1dfX07bmV3IE1hcCxuZXcgTWFwO2NvbnN0IFduPShlLHQpPT57Y29uc3QgYT1Jbih0LmNvbnRlbnQpO3JldHVybnsuLi52bihlLChlPT57Y29uc3QgdD1hLmZpbmQoKHQ9PnQuX2ludGVybmFsV29ya3NwYWNlRGF0YT8udmlld0lkZW50aWZpZXI9PT1lLl9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LnZpZXdJZGVudGlmaWVyKSksbj10P3QuaXNDbG9zYWJsZTplLmlzQ2xvc2FibGU7cmV0dXJuey4uLmUsaXNDbG9zYWJsZTpufX0pKSxzZXR0aW5nczp0LnNldHRpbmdzfX0sRG49ZT0+ZT9JbihlKS5sZW5ndGg6MCxUbj0ocmEoKSgoYXN5bmMgZT0+e3RyeXtpZighZXx8IWUubGF5b3V0Q29udGFpbmVyS2V5KXJldHVybjtjb25zdCB0PWF3YWl0KGFzeW5jIGU9PmZpbi5QbGF0Zm9ybS5MYXlvdXQud3JhcFN5bmMoey4uLmZpbi5tZS5pZGVudGl0eSxsYXlvdXROYW1lOmV9KS5nZXRDb25maWcoKSkoZS5sYXlvdXRDb250YWluZXJLZXkpLGE9dC5jb250ZW50P0luKHQuY29udGVudCk6W10sbj1hLmxlbmd0aDtuPjE/KGFzeW5jIGU9PntpZihcIm11bHRpVmlld1wiIT09ZS5hdHRhY2hlZFBhZ2VUeXBlKXtjb25zdCB0PWF3YWl0IGJuKCkuQnJvd3Nlci5nZXRVbmlxdWVQYWdlVGl0bGUoKTtibigpLkJyb3dzZXIud3JhcFN5bmMoeWUpLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOnt0aXRsZTplLnRpdGxlPz90LHNpbmdsZVZpZXdOYW1lOm51bGwsYXR0YWNoZWRQYWdlVHlwZTpcIm11bHRpVmlld1wifX0pfX0pKGUpOjE9PT1uJiYoYXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKS5Ccm93c2VyLndyYXBTeW5jKHllKTtpZihcInNpbmdsZVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSl7Y29uc3Qgbj1hd2FpdCBnYShlKTtkZWxldGUgbi5sYXlvdXQsZGVsZXRlIG4ucGFnZUlkO2NvbnN0IG89ZmluLlZpZXcud3JhcFN5bmMoe3V1aWQ6eWUudXVpZCxuYW1lOnR9KSxyPWF3YWl0IG8uZ2V0SW5mbygpLGk9ey4uLm4sdGl0bGU6bnVsbCxzaW5nbGVWaWV3TmFtZTp0LGhhc1Vuc2F2ZWRDaGFuZ2VzOiExLGF0dGFjaGVkUGFnZVR5cGU6XCJzaW5nbGVWaWV3XCIscGFnZUljb246ci5mYXZpY29uc1swXX07YXdhaXQgYS51cGRhdGVQYWdlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTppfSl9fSkoZSxhWzBdLm5hbWUpLGF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWhhKHsuLi55ZSxsYXlvdXROYW1lOmUubGF5b3V0Q29udGFpbmVyS2V5fSksbj1hd2FpdCBhLmlzU2hvd2luZ1RhYnMoKTt0PjE/bnx8YXdhaXQgYS5zaG93KCk6MT09PXQmJm4mJmF3YWl0IGEuaGlkZSh7c2V0dGluZ3M6e3Jlb3JkZXJFbmFibGVkOiEwfX0pfSkoZSxuKX1jYXRjaChlKXt9fSksNTAse2xlYWRpbmc6ITEsdHJhaWxpbmc6ITB9KSxyZXF1aXJlKFwicmVhY3QtaTE4bmV4dFwiKSksQm49cmVxdWlyZShcImkxOG5leHRcIik7dmFyIFJuPWEubihCbik7Y29uc3QgRW49SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCLmlrDlu7rnqpflj6NcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIuaWsOW7uumhtemdolwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwi6L+Y5Y6f5Yiw5LiK5qyh5L+d5a2Y55qE5pu05pS5XCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIuWIh+aNouW3peS9nOWMulwiLFwiY29udGV4dE1lbnUubWFuYWdlRGVza3RvcFNpZ25hbHNcIjpcIk1hbmFnZSBEZXNrdG9wIFNpZ25hbHNcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIuWkluinglwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwi5L+d5a2Y5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuWwhuW3peS9nOWMuuWPpuWtmOS4ui4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCLph43lkb3lkI3lt6XkvZzljLpcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwi5Yig6Zmk5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIuS4i+i9vVwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIuS/neWtmOmhtemdolwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwi5bCG6aG16Z2i5Y+m5a2Y5Li6Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwi5omT5Y2wLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwi5omT5Y2w5bGP5bmVXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwi5YWz6Zet56qX5Y+jXCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwi5byA5pS+5byP5bqX6Z2iXCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIumAgOWHuuW5s+WPsFwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi5paw5bu66KeG5Zu+XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi5L2/55So6buY6K6kIFdlYiDmtY/op4jlmajmiZPlvIDop4blm75cIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwi5L2/55So6buY6K6kIFdlYiDmtY/op4jlmajmiZPlvIDop4blm75cIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIENOXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLph43mlrDliqDovb3op4blm75cIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLph43mlrDliqDovb3op4blm75cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIENOXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLlpI3liLbop4blm75cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLlpI3liLbop4blm75cIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIuWwhuinhuWbvua3u+WKoOWIsOmikemBk1wiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuWwhuinhuWbvua3u+WKoOWIsOmikemBk1wiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi5LuO6aKR6YGT5Lit56e76Zmk6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi5LuO6aKR6YGT5Lit56e76Zmk6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIuWFs+mXreinhuWbvlwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi5YWz6Zet6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIENOXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLlpI3liLbpobXpnaJcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuaJk+WNsFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi5YWo6YOo5omT5Y2wXCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuWwhuW3peS9nOWMuuWPpuWtmOS4ulwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi5bCG6aG16Z2i5Y+m5a2Y5Li6XCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgQ05cIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0g5bey5a2Y5Zyo44CCXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuivt+i+k+WFpeacieaViOWQjeensFwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIumHjeaWsOWRveWQjemhtemdolwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi5YWz6Zet6aG16Z2iXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuaUvuW8g+abtOaUuVwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuWFqOmDqOaUvuW8g1wiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuWFqOmDqOS/neWtmFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLlhbPpl63liY3kv53lrZggKHt7Y291bnR9fSkg5Liq6aG16Z2i77yfXCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIENOXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgQ05cIixcImFkZE5ld1BhZ2VcIjpcIua3u+WKoOaWsOmhtemdolwiLFwiYWRkTmV3VGFiXCI6XCLmt7vliqDmlrDpgInpobnljaFcIixcImFkZE5ld1ZpZXdcIjpcIuaWsOW7uuinhuWbvlwiLFwicmVzdG9yZU1vZGFsXCI6XCLmgqjnoa7lrpropoHov5jljp/liLDkuIrmrKHkv53lrZjnmoTmm7TmlLnlkJfvvJ9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLku7vkvZXmnKrkv53lrZjnmoTmm7TmlLnpg73lsIbkuKLlpLFcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi5a+55q2k6aG155qE5Lu75L2V5pyq5L+d5a2Y55qE5pu05pS56YO95bCG5Lii5aSx44CCXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi5YWz6Zet5YmN5L+d5a2Y5pu05pS577yfXCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIuWFs+mXremhtemdolwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIuaCqOehruWumuimgeWIh+aNouWIsCB7e3dvcmtzcGFjZX19IOWQl++8n1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi5Lu75L2V5pyq5L+d5a2Y55qE5pu05pS56YO95bCG5Lii5aSxXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi5oKo56Gu5a6a6KaB5rC45LmF5Yig6Zmk5q2k5bel5L2c5Yy65ZCX77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi5ZCN56ew5Li6IHt7d29ya3NwYWNlfX0g55qE5bel5L2c5Yy65bey5a2Y5Zyo44CC5oKo5piv5ZCm6KaB5pu/5o2i5a6D77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZy5ib2R5XCI6XCLlt7LlrZjlnKjlkIzlkI3nmoTlt6XkvZzljLrjgILmm7/mjaLlroPlsIbopobnm5blhbblvZPliY3lhoXlrrnjgIJcIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC5yZXBsYWNlXCI6XCLmm7/mjaJcIixcImNsb3NlUGxhdGZvcm1cIjpcIuWFs+mXreW5s+WPsFwiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcIuWFs+mXrSB7e3dvcmtzcGFjZX19IOW5s+WPsFwiLFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCI6XCLlhbPpl63lubPlj7DlsIblhbPpl63miYDmnInlt6XkvZzljLrjgIHlupTnlKjmiJbku7vkvZXmraPlnKjov5DooYznmoTov5vnqIvjgIJcIixcImJhY2tcIjpcIuWQjumAgFwiLFwiZm9yd2FyZFwiOlwi5YmN6L+bXCIsXCJyZWxvYWRcIjpcIumHjeaWsOWKoOi9vVwiLFwiZ3JlZW5cIjpcIue7v+iJslwiLFwicHVycGxlXCI6XCLntKvoibJcIixcIm9yYW5nZVwiOlwi5qmZ6ImyXCIsXCJyZWRcIjpcIue6ouiJslwiLFwicGlua1wiOlwi57KJ57qi6ImyXCIsXCJ5ZWxsb3dcIjpcIum7hOiJslwiLFwidGhlbWUubGlnaHRcIjpcIua1heiJslwiLFwidGhlbWUuZGFya1wiOlwi5rex6ImyXCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIuS4juaTjeS9nOezu+e7n+iuvue9ruWQjOatpVwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi6ZqQ6JeP6YCJ6aG55Y2hXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLmmL7npLrpgInpobnljaFcIixcInRvb2xiYXIubG9ja1wiOlwi6ZSB5a6aXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi6Kej6ZSBXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi6aKc6Imy6ZO+5o6lXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi5pu05pS55biD5bGAXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLkv53lrZjoj5zljZVcIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIuacgOWkp+WMlueql+WPo1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLov5jljp/nqpflj6NcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIuacgOWwj+WMlueql+WPo1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi5YWo5a69XCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi5YiX5pWwXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi6KGM5pWwXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi572R5qC8XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLlt7LliIfmjaLlt6XkvZzljLpcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLpgInpobnljaHlt7LpmpDol49cIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIumAiemhueWNoeW3suaYvuekulwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIumhtemdouW3sumUgeWumlwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi6aG16Z2i5bey6Kej6ZSBXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLlt6XkvZzljLrlt7Lkv53lrZhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi5bel5L2c5Yy65bey5Y+m5a2Y5Li6IHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi5bel5L2c5Yy65bey6YeN5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi6aG16Z2i5bey5L+d5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gQ05cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi6aG16Z2i5bey5Y+m5a2Y5Li6IHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi6aG16Z2i5bey6YeN5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIuW3suW6lOeUqOS4iuS4i+aWh+e7hFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcIuW3suW6lOeUqCB7e2NvbG9yTmFtZX19IOS4iuS4i+aWh+e7hFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi5LuO5LiK5LiL5paH57uE5Lit56e76Zmk6KeG5Zu+XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi5LuO5LiK5LiL5paH57uE5Lit56e76Zmk6KeG5Zu+XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcIuW3suW6lOeUqCB7e2xheW91dE5hbWV9fSDluIPlsYBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwi5bel5L2c5Yy65bey5Yig6ZmkXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwi6aG16Z2i5L+d5a2Y5aSx6LSlXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCLlt6XkvZzljLrkv53lrZjlpLHotKVcIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwi5aSN5Yi26aG16Z2i5aSx6LSlXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIuaIkeS7rOWwneivleWvueatpOmAiemhueWNoei/m+ihjOminOiJsumTvuaOpe+8jOS9hue9keermS/lhoXlrrnmiYDmnInogIXlsJrmnKrlkK/nlKjor6Xlip/og71cIixcImdsb2JhbC5jYW5jZWxcIjpcIuWPlua2iFwiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcIuehruiupFwiLFwiZ2xvYmFsLnNhdmVcIjpcIuS/neWtmFwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIENOXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudCBDTlwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgQ05cIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgQ05cIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIuaJk+W8gOa1j+iniOWZqOiPnOWNlVwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwi5rWP6KeI5Zmo6YCJ6aG55Y2hXCIsXCJhcmlhLnZpZXdUYWJcIjpcIuafpeeciyB7e3RpdGxlfX0g55qE6YCJ6aG55Y2hXCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwi5YWz6ZetIHt7dGl0bGV9fSDnmoTpobXpnaLpgInpobnljaHmjInpkq5cIixcImFyaWEuY2xvc2VUYWJcIjpcIuWFs+mXremAiemhueWNoSB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcIuagh+mimFwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi5L2/55So6L2s5LmJ5YWz6Zet5LiK5LiL5paH57uE6YCJ5oup5a+56K+d5qGGXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi5pi+56S65oiW6ZqQ6JeP6aKc6Imy6ZO+5o6lXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLor7fpgInmi6nkuIDkuKrop4blm77ku6XlupTnlKjpopzoibLpk77mjqVcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIuWIhumFjee7mSB7e25hbWV9fSDkuIrkuIvmlofnu4TnmoTlvZPliY3op4blm75cIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCLliIbphY3nu5kge3tuYW1lfX0g5LiK5LiL5paH57uE55qE5b2T5YmN6KeG5Zu+XCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIuWwhua0u+WKqOinhuWbvuiuvue9ruS4uiB7e25hbWV9fSDkuIrkuIvmlofnu4RcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIuWwhua0u+WKqOinhuWbvuiuvue9ruS4uiB7e25hbWV9fSDkuIrkuIvmlofnu4RcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLkvb/nlKjovazkuYnlhbPpl63mm7TmlLnluIPlsYDlr7nor53moYZcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgQ05cIixcImdsb2JhbC50YWJcIjpcIlRhYiBDTlwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIENOXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBDTlwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIENOXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIENOXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIENOXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgQ05cIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgQ05cIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgQ05cIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIENOXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgQ05cIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgQ05cIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIENOXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgQ05cIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIENOXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgQ05cIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBDTlwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgQ05cIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgQ05cIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBDTlwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIENOXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIENOXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBDTlwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIENOXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIENOXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgQ05cIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIENOXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWxcIjp7XCJzYXZlU3VwZXJ0YWJDb3VudF9vbmVcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFiIGJlZm9yZSBjbG9zaW5nPyBDTlwiLFwic2F2ZVN1cGVydGFiQ291bnRfb3RoZXJcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz8gQ05cIn0sXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBsb3N0LiBDTlwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj8gQ05cIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LiBDTlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWQgQ05cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuIENOXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkRlbGV0ZWRcIjpcIlN1cGVydGFiIERlbGV0ZWQgQ05cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlbkRlbGV0ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBkZWxldGVkLiBDTlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlVGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFRhYiBDTlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlU3VwZXJ0YWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgU3VwZXJ0YWIgQ05cIixcImVudGVycHJpc2VDb21tYW5kQmFyLnN3aXRjaFRvU3VwZXJ0YWJcIjpcIlN3aXRjaCB0byBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuZ29Ub1wiOlwiR28gdG8ge3t0eXBlfX0gQ05cIixcImVudGVycHJpc2VDb21tYW5kQmFyLnZpZXdNb3JlXCI6XCJWaWV3IE1vcmUgQ05cIixcInNpZGVQYW5lbC5haUNlbnRlclwiOlwiQUkgQ2VudGVyIENOXCIsXCJzaWRlUGFuZWwubmV3Q2hhdFwiOlwiTmV3IENoYXQgQ05cIixcInNpZGVQYW5lbC50b2dnbGVTaWRlUGFuZWxcIjpcIlRvZ2dsZSBTaWRlIFBhbmVsIENOXCIsXCJzaWRlUGFuZWwuY2xvc2VTaWRlUGFuZWxcIjpcIkNsb3NlIFNpZGUgUGFuZWwgQ05cIixcInNpZGVQYW5lbC5vcGVuQWlDZW50ZXJcIjpcIk9wZW4gQUkgQ2VudGVyIENOXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgQ05cIixcImRvY2sucmVtb3ZlRmF2b3JpdGVcIjpcIlJlbW92ZSBDTlwifScpLEZuPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwi5paw6KaW56qXXCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCLmlrDpoIHpnaJcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIumChOWOn+WIsOS4iuasoeWEsuWtmOeahOiuiuabtFwiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCLliIfmj5vlt6XkvZznqbrplpNcIixcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCI6XCJNYW5hZ2UgRGVza3RvcCBTaWduYWxzXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLlpJbop4BcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuWEsuWtmOW3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLlsIflt6XkvZznqbrplpPlj6blrZjngrouLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi6YeN5paw5ZG95ZCN5bel5L2c56m66ZaTXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuWIqumZpOW3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLkuIvovIlcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLlhLLlrZjpoIHpnaJcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuWwh+mggemdouWPpuWtmOeCui4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuWIl+WNsC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIuaTt+WPlueVq+mdolwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIumXnOmWieimlueql1wiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIuaJk+mWiyBTdG9yZWZyb250XCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIumAgOWHuuW5s+WPsFwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi5paw6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi5L2/55So6aCQ6Kit57ay6aCB54CP6Ka95Zmo5omT6ZaL6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIuS9v+eUqOmgkOioree2sumggeeAj+imveWZqOaJk+mWi+imluWcllwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgWkhcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIumHjeaWsOi8ieWFpeimluWcllwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld3NcIjpcIumHjeaWsOi8ieWFpeimluWcllwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgWkhcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIuikh+Wvq+imluWcllwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIuikh+Wvq+imluWcllwiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwi5bCH6KaW5ZyW5paw5aKe6Iez6aC76YGTXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3c1wiOlwi5bCH6KaW5ZyW5paw5aKe6Iez6aC76YGTXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCLlvp7poLvpgZPkuK3np7vpmaToppblnJZcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCLlvp7poLvpgZPkuK3np7vpmaToppblnJZcIixcImNvbnRleHRNZW51LmNsb3NlVmlld1wiOlwi6Zec6ZaJ6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCLpl5zplonoppblnJZcIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgWkhcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIuikh+Wvq+mggemdolwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwi5YiX5Y2wXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCLliJfljbDlhajpg6hcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi5bCH5bel5L2c56m66ZaT5Y+m5a2Y54K6XCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCLpoIHpnaLlj6blrZjngrpcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBaSFwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9fSDlt7LntpPlrZjlnKjjgIJcIixcInNhdmVNb2RhbC5wbGVhc2VFbnRlclZhbGlkTmFtZVwiOlwi6KuL6Ly45YWl5LiA5YCL5pyJ5pWI55qE5ZCN56ixXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwi6YeN5paw5ZG95ZCN6aCB6Z2iXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLpl5zplonpoIHpnaJcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwi5o2o5qOE6K6K5pu0XCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi5YWo6YOo5o2o5qOEXCIsXCJzYXZlTW9kYWwuc2F2ZUFsbFwiOlwi5YSy5a2Y5YWo6YOoXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIuimgeWFiOWEsuWtmCAoe3tjb3VudH19KSDlgIvpoIHpnaLlho3pl5zplonll47vvJ9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgWkhcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBaSFwiLFwiYWRkTmV3UGFnZVwiOlwi5paw5aKe5paw6aCB6Z2iXCIsXCJhZGROZXdUYWJcIjpcIuaWsOWinuaWsOe0ouW8leaomeexpFwiLFwiYWRkTmV3Vmlld1wiOlwi5paw6KaW5ZyWXCIsXCJyZXN0b3JlTW9kYWxcIjpcIuaCqOeiuuWumuimgemChOWOn+WIsOS4iuasoeWEsuWtmOeahOiuiuabtOWXju+8n1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIuS7u+S9leacquWEsuWtmOeahOiuiuabtOmDveWwh+iiq+aNqOajhFwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLlnKjmraTpoIHpnaLku7vkvZXmnKrlhLLlrZjnmoTorormm7Tpg73lsIfpgbrlpLHjgIJcIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLopoHlhYjlhLLlrZjorormm7Tlho3pl5zplonll47vvJ9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi6aCB6Z2i6Zec6ZaJXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwi5oKo56K65a6a6KaB5YiH5o+b5YiwIHt7d29ya3NwYWNlfX3vvJ9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuS7u+S9leacquWEsuWtmOeahOiuiuabtOmDveWwh+iiq+aNqOajhFwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIuaCqOeiuuWumuimgeawuOS5heWIqumZpOatpOW3peS9nOepuumWk+WXju+8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuWFt+acieWQjeeosSB7e3dvcmtzcGFjZX19IOeahOW3peS9nOepuumWk+W3sue2k+WtmOWcqOOAguS9oOimgeabtOaPm+Wug+WXju+8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi55u45ZCM5ZCN56ix55qE5bel5L2c56m66ZaT5bey57aT5a2Y5Zyo44CC5pu05o+b5a6D5b6M77yM5bCH5pyD6KaG6JOL55uu5YmN5YWn5a6544CCXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi5pu05o+bXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLpl5zplonlubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCLpl5zplokge3t3b3Jrc3BhY2V9fSDlubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi6Zec6ZaJ5bmz5Y+w5b6M77yM5bCH6Zec6ZaJ5q2j5Zyo5Z+36KGM55qE5Lu75L2V5bel5L2c56m66ZaT44CBQVBQIOaIlua1geeoi+OAglwiLFwiYmFja1wiOlwi5LiK5LiA6aCBXCIsXCJmb3J3YXJkXCI6XCLkuIvkuIDpoIFcIixcInJlbG9hZFwiOlwi6YeN5paw6LyJ5YWlXCIsXCJncmVlblwiOlwi57agXCIsXCJwdXJwbGVcIjpcIue0q1wiLFwib3JhbmdlXCI6XCLmqZhcIixcInJlZFwiOlwi57SF6ImyXCIsXCJwaW5rXCI6XCLnsonntIVcIixcInllbGxvd1wiOlwi6buDXCIsXCJ0aGVtZS5saWdodFwiOlwi5re6XCIsXCJ0aGVtZS5kYXJrXCI6XCLmt7FcIixcInRoZW1lLnN5c3RlbVwiOlwi6IiHIE9TIOioreWumuWQjOatpVwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi6Zqx6JeP57Si5byV5qiZ57GkXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLpoa/npLrntKLlvJXmqJnnsaRcIixcInRvb2xiYXIubG9ja1wiOlwi5LiK6Y6WXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi6Kej6Y6WXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi6aGP6Imy6YCj57WQXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi6K6K5pu054mI6Z2iXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLlhLLlrZjpgbjllq5cIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIuacgOWkp+WMluimlueql1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLpgoTljp/oppbnqpdcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIuacgOWwj+WMluimlueql1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi5YWo6J6i5bmV5a+s5bqmXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi6KGMXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi5YiXXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi57ay5qC8XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLlt6XkvZznqbrplpPlt7LliIfmj5tcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLntKLlvJXmqJnnsaTlt7LpmrHol49cIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIue0ouW8leaomeexpOW3sumhr+ekulwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIumggemdouW3suS4iumOllwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi6aCB6Z2i5bey6Kej6Y6WXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLlt6XkvZznqbrplpPlt7LlhLLlrZhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi5bel5L2c56m66ZaT5bey5Y+m5a2Y54K6IHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi5bel5L2c56m66ZaT5bey6YeN5paw5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi6aCB6Z2i5bey5YSy5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gWkhcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi6aCB6Z2i5bey5Y+m5a2Y54K6IHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi6aCB6Z2i5bey6YeN5paw5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIuiEiOe1oee+pOe1hOW3suWll+eUqFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0g6ISI57Wh576k57WE5bey5aWX55SoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCLlvp7ohIjntaHnvqTntYTkuK3np7vpmaTnmoToppblnJZcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCLlvp7ohIjntaHnvqTntYTkuK3np7vpmaTnmoToppblnJZcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX0g54mI6Z2i5bey5aWX55SoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuW3peS9nOepuumWk+W3suWIqumZpFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIumggemdoueEoeazleWEsuWtmFwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi5bel5L2c56m66ZaT54Sh5rOV5YSy5a2YXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIueEoeazleikh+Wvq+mggemdolwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLmiJHlgJHlmJfoqablsI3mraTntKLlvJXmqJnnsaTpgLLooYzpoY/oibLpgKPntZDvvIzkvYbntrLnq5kv5YWn5a655omA5pyJ6ICF5bCa5pyq5ZWf55So6Kmy5Yqf6IO9XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLlj5bmtohcIixcImdsb2JhbC5jb25maXJtXCI6XCLnorroqo1cIixcImdsb2JhbC5zYXZlXCI6XCLlhLLlrZhcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBaSFwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgWkhcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIFpIXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIFpIXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLplovllZ/ngI/opr3lmajpgbjllq5cIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIueAj+imveWZqOe0ouW8leaomeexpFwiLFwiYXJpYS52aWV3VGFiXCI6XCJ7e3RpdGxlfX0g55qE6KaW5ZyW57Si5byV5qiZ57GkXCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwi6Zec6ZaJIHt7dGl0bGV9fSDnmoTpoIHpnaLntKLlvJXmqJnnsaTmjInpiJVcIixcImFyaWEuY2xvc2VUYWJcIjpcIumXnOmWiee0ouW8leaomeexpCB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcIuaomemhjFwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi5L2/55SoIEVzYyDpjbXpl5zplonohIjntaHnvqTntYTpgbjlj5blsI3oqbHmoYZcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCLpoa/npLrmiJbpmrHol4/poY/oibLpgKPntZBcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIuiri+mBuOWPluimgeWll+eUqOmhj+iJsumAo+e1kOeahOimluWcllwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwi55uu5YmN6KaW5ZyW5YiG6YWN57WmIHt7bmFtZX19IOiEiOe1oee+pOe1hFwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcIuebruWJjeimluWcluWIhumFjee1piB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwi5bCH5ZWf55So6KaW5ZyW6Kit5a6a54K6IHt7bmFtZX19IOiEiOe1oee+pOe1hFwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3c1wiOlwi5bCH5ZWf55So6KaW5ZyW6Kit5a6a54K6IHt7bmFtZX19IOiEiOe1oee+pOe1hFwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIuS9v+eUqCBFc2Mg6Y216Zec6ZaJ6K6K5pu054mI6Z2i5bCN6Kmx5qGGXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIFpIXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgWkhcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBaSFwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgWkhcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBaSFwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBaSFwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIFpIXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIFpIXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IFpIXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIFpIXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIFpIXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIFpIXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBaSFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIFpIXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggWkhcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IFpIXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIFpIXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gWkhcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBaSFwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBaSFwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgWkhcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBaSFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFpIXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBaSFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsXCI6e1wic2F2ZVN1cGVydGFiQ291bnRfb25lXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYiBiZWZvcmUgY2xvc2luZz8gWkhcIixcInNhdmVTdXBlcnRhYkNvdW50X290aGVyXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IFpIXCJ9LFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgWkhcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdC4gWkhcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IFpIXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gWkhcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIFpIXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBaSFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIFpIXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gWkhcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgWkhcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIFpIXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IFpIXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIFpIXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlciBaSFwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0IFpIXCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbCBaSFwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsIFpIXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlciBaSFwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IFpIXCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmUgWkhcIn0nKSxWbj1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIk5ldyBXaW5kb3dcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIk5ldyBQYWdlXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCJSZXN0b3JlIHRvIExhc3QgU2F2ZWQgQ2hhbmdlc1wiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCJTd2l0Y2ggV29ya3NwYWNlXCIsXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiOlwiTWFuYWdlIERlc2t0b3AgU2lnbmFsc1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwiQXBwZWFyYW5jZVwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwiU2F2ZSBXb3Jrc3BhY2VcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiU2F2ZSBXb3Jrc3BhY2UgQXMuLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwiUmVuYW1lIFdvcmtzcGFjZVwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCJEZWxldGUgV29ya3NwYWNlXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIkRvd25sb2Fkc1wiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIlNhdmUgUGFnZVwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2F2ZSBQYWdlIEFzLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwiUHJpbnQuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCJQcmludCBTY3JlZW5cIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCJDbG9zZSBXaW5kb3dcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCJPcGVuIFN0b3JlZnJvbnRcIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwiUXVpdCB7e3BsYXRmb3JtTGFiZWx9fVwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwiTmV3IFZpZXdcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCJPcGVuIFZpZXcgd2l0aCBEZWZhdWx0IFdlYiBCcm93c2VyXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIk9wZW4gVmlld3Mgd2l0aCBEZWZhdWx0IFdlYiBCcm93c2VyXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZFwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwiUmVsb2FkIFZpZXdcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCJSZWxvYWQgVmlld3NcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCJEdXBsaWNhdGUgVmlld1wiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIkR1cGxpY2F0ZSBWaWV3c1wiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwiQWRkIFZpZXcgdG8gQ2hhbm5lbFwiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIkFkZCBWaWV3cyB0byBDaGFubmVsXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCJSZW1vdmUgVmlldyBmcm9tIENoYW5uZWxcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCJSZW1vdmUgVmlld3MgZnJvbSBDaGFubmVsXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIkNsb3NlIFZpZXdcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIkNsb3NlIFZpZXdzXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCJEdXBsaWNhdGUgUGFnZVwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwiUHJpbnRcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIlByaW50IEFsbFwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCJTYXZlIFdvcmtzcGFjZSBBc1wiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2F2ZSBQYWdlIEFzXCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWVcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0gYWxyZWFkeSBleGlzdHMuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbGlkIG5hbWVcIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCJSZW5hbWUgUGFnZVwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwiQ2xvc2UgUGFnZVwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCJEaXNjYXJkIENoYW5nZXNcIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCJEaXNjYXJkIEFsbFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIlNhdmUgQWxsXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIlNhdmUgKHt7Y291bnR9fSkgcGFnZXMgYmVmb3JlIGNsb3Npbmc/XCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWJcIixcImFkZE5ld1BhZ2VcIjpcIk5ldyBQYWdlXCIsXCJhZGROZXdUYWJcIjpcIkFkZCBOZXcgVGFiXCIsXCJhZGROZXdWaWV3XCI6XCJOZXcgVmlld1wiLFwicmVzdG9yZU1vZGFsXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzdG9yZSB0byBsYXN0IHNhdmVkIGNoYW5nZXM/XCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGRpc2NhcmRlZFwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHRvIHRoaXMgcGFnZSB3aWxsIGJlIGxvc3QuXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwiU2F2ZSBjaGFuZ2VzIGJlZm9yZSBjbG9zaW5nP1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCJQYWdlIENsb3NlXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHN3aXRjaCB0byB7e3dvcmtzcGFjZX19P1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGRpc2NhcmRlZFwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwZXJtYW5lbnRseSBkZWxldGUgdGhpcyB3b3Jrc3BhY2U/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiQSBXb3Jrc3BhY2Ugd2l0aCB0aGUgbmFtZSB7e3dvcmtzcGFjZX19IGFscmVhZHkgZXhpc3RzLiBEbyB5b3Ugd2FudCB0byByZXBsYWNlIGl0P1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwiQSB3b3Jrc3BhY2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzLiBSZXBsYWNpbmcgaXQgd2lsbCBvdmVyd3JpdGUgaXRzIGN1cnJlbnQgY29udGVudHMuXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwiUmVwbGFjZVwiLFwiY2xvc2VQbGF0Zm9ybVwiOlwiQ2xvc2UgdGhlIHBsYXRmb3JtXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwiQ2xvc2UgdGhlIHt7d29ya3NwYWNlfX0gUGxhdGZvcm1cIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwiQ2xvc2luZyBhIHBsYXRmb3JtIHdpbGwgY2xvc2UgYW55IHdvcmtzcGFjZXMsIGFwcHMgb3IgYW55IHByb2Nlc3NlcyB0aGF0IGFyZSBydW5uaW5nLlwiLFwiYmFja1wiOlwiQmFja1wiLFwiZm9yd2FyZFwiOlwiRm9yd2FyZFwiLFwicmVsb2FkXCI6XCJSZWxvYWRcIixcImdyZWVuXCI6XCJHcmVlblwiLFwicHVycGxlXCI6XCJQdXJwbGVcIixcIm9yYW5nZVwiOlwiT3JhbmdlXCIsXCJyZWRcIjpcIlJlZFwiLFwicGlua1wiOlwiUGlua1wiLFwieWVsbG93XCI6XCJZZWxsb3dcIixcInRoZW1lLmxpZ2h0XCI6XCJMaWdodFwiLFwidGhlbWUuZGFya1wiOlwiRGFya1wiLFwidGhlbWUuc3lzdGVtXCI6XCJTeW5jIHdpdGggT1Mgc2V0dGluZ1wiLFwidG9vbGJhci5oaWRlVGFic1wiOlwiSGlkZSBUYWJzXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCJTaG93IFRhYnNcIixcInRvb2xiYXIubG9ja1wiOlwiTG9ja1wiLFwidG9vbGJhci51bmxvY2tcIjpcIlVubG9ja1wiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIkNvbG9yIExpbmtpbmdcIixcInRvb2xiYXIuY2hhbmdlTGF5b3V0XCI6XCJDaGFuZ2UgTGF5b3V0XCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCJTYXZlIE1lbnVcIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIk1heGltaXplIFdpbmRvd1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCJSZXN0b3JlIFdpbmRvd1wiLFwidG9vbGJhci5taW5pbWl6ZVdpbmRvd1wiOlwiTWluaW1pemUgV2luZG93XCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCJGdWxsIFdpZHRoXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwiQ29sdW1uc1wiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIlJvd3NcIixcImNoYW5nZUxheW91dC5HcmlkXCI6XCJHcmlkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCJXb3Jrc3BhY2UgU3dpdGNoZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCJUYWJzIGFyZSBIaWRkZW5cIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIlRhYnMgYXJlIFNob3duXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxvY2tlZFwiOlwiUGFnZSBpcyBMb2NrZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIlBhZ2UgaXMgVW5sb2NrZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcIldvcmtzcGFjZSBzYXZlZFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCJXb3Jrc3BhY2Ugc2F2ZWQgYXMge3t3b3Jrc3BhY2V9fVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCJXb3Jrc3BhY2UgcmVuYW1lZFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIlBhZ2UgU2F2ZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLlwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCJQYWdlIHNhdmVkIGFzIHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwiUGFnZSByZW5hbWVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIkNvbnRleHQgZ3JvdXAgYXBwbGllZFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0gY29udGV4dCBncm91cCBhcHBsaWVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCJWaWV3IHJlbW92ZWQgZnJvbSBjb250ZXh0IGdyb3VwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwiVmlld3MgcmVtb3ZlZCBmcm9tIGNvbnRleHQgZ3JvdXBcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX0gbGF5b3V0IGFwcGxpZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwiV29ya3NwYWNlIGRlbGV0ZWRcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCJQYWdlIGZhaWxlZCB0byBzYXZlXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCJXb3Jrc3BhY2UgZmFpbGVkIHRvIHNhdmVcIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBQYWdlXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIldlIGF0dGVtcHRlZCB0byBjb2xvciBsaW5rIHRoaXMgdGFiLCBidXQgdGhlIHNpdGUvY29udGVudCBvd25lciBoYXMgbm90IGVuYWJsZWQgaXQgeWV0XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCJDYW5jZWxcIixcImdsb2JhbC5jb25maXJtXCI6XCJDb25maXJtXCIsXCJnbG9iYWwuc2F2ZVwiOlwiU2F2ZVwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudFwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWRcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmVcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIk9wZW4gQnJvd3NlciBNZW51XCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCJCcm93c2VyIFRhYnNcIixcImFyaWEudmlld1RhYlwiOlwiVmlldyBUYWIgZm9yIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIkNsb3NlIFBhZ2UgVGFiIEJ1dHRvbiBmb3Ige3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCJUaXRsZVwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwiVXNlIGVzY2FwZSB0byBjbG9zZSBjb250ZXh0IGdyb3VwIHNlbGVjdGlvbiBkaWFsb2dcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCJTaG93IG9yIGhpZGUgY29sb3IgbGlua2luZ1wiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwiUGxlYXNlIHNlbGVjdCBhIHZpZXcgdG8gYXBwbHkgY29sb3IgbGlua2luZ1wiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwiQ3VycmVudCB2aWV3IGFzc2lnbmVkIHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCJDdXJyZW50IHZpZXdzIGFzc2lnbmVkIHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwiU2V0IGFjdGl2ZSB2aWV3IHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIlNldCBhY3RpdmUgdmlld3MgdG8ge3tuYW1lfX0gY29udGV4dCBncm91cFwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIlVzZSBlc2NhcGUgdG8gY2xvc2UgY2hhbmdlIGxheW91dCBkaWFsb2dcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWJcIixcImdsb2JhbC50YWJcIjpcIlRhYlwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFya1wiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZVwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXNcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3NcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXRcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXJcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXJcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3NcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmRcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaFwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXRcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXJcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fVwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZVwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIlwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXNcIixcImVudGVycHJpc2VTYXZlTW9kYWxcIjp7XCJzYXZlU3VwZXJ0YWJDb3VudF9vbmVcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFiIGJlZm9yZSBjbG9zaW5nP1wiLFwic2F2ZVN1cGVydGFiQ291bnRfb3RoZXJcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz9cIn0sXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWVcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi5cIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBsb3N0LlwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj9cIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWRcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkRlbGV0ZWRcIjpcIlN1cGVydGFiIERlbGV0ZWRcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlbkRlbGV0ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBkZWxldGVkLlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlVGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFRhYlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlU3VwZXJ0YWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgU3VwZXJ0YWJcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnN3aXRjaFRvU3VwZXJ0YWJcIjpcIlN3aXRjaCB0byBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuZ29Ub1wiOlwiR28gdG8ge3t0eXBlfX1cIixcImVudGVycHJpc2VDb21tYW5kQmFyLnZpZXdNb3JlXCI6XCJWaWV3IE1vcmVcIixcInNpZGVQYW5lbC5haUNlbnRlclwiOlwiQUkgQ2VudGVyXCIsXCJzaWRlUGFuZWwubmV3Q2hhdFwiOlwiTmV3IENoYXRcIixcInNpZGVQYW5lbC50b2dnbGVTaWRlUGFuZWxcIjpcIlRvZ2dsZSBTaWRlIFBhbmVsXCIsXCJzaWRlUGFuZWwuY2xvc2VTaWRlUGFuZWxcIjpcIkNsb3NlIFNpZGUgUGFuZWxcIixcInNpZGVQYW5lbC5vcGVuQWlDZW50ZXJcIjpcIk9wZW4gQUkgQ2VudGVyXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXRcIixcImRvY2sucmVtb3ZlRmF2b3JpdGVcIjpcIlJlbW92ZVwifScpLE5uPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwiTmV1ZXMgRmVuc3RlclwiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwiTmV1ZSBTZWl0ZVwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwiV2llZGVyaGVyc3RlbGxlbiBkZXIgenVsZXR6dCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIldvcmtzcGFjZSB3ZWNoc2VsblwiLFwiY29udGV4dE1lbnUubWFuYWdlRGVza3RvcFNpZ25hbHNcIjpcIk1hbmFnZSBEZXNrdG9wIFNpZ25hbHNcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIkVyc2NoZWludW5nc2JpbGRcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIldvcmtzcGFjZSBzcGVpY2hlcm5cIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiV29ya3NwYWNlIHNwZWljaGVybiB1bnRlci4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2UgdW1iZW5lbm5lblwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2UgbMO2c2NoZW5cIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwiRG93bmxvYWRzXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwiU2VpdGUgc3BlaWNoZXJuXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCJTZWl0ZSBzcGVpY2hlcm4gdW50ZXIuLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCJEcnVja2VuLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwiQmlsZHNjaGlybWFuc2ljaHQgZHJ1Y2tlblwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIkZlbnN0ZXIgc2NobGllw59lblwiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIlNjaGF1ZmVuc3RlciDDtmZmbmVuXCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIlBsYXR0Zm9ybSB2ZXJsYXNzZW5cIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIk5ldWUgQW5zaWNodFwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIkFuc2ljaHQgbWl0IFN0YW5kYXJkLVdlYmJyb3dzZXIgw7ZmZm5lblwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCJBbnNpY2h0ZW4gbWl0IFN0YW5kYXJkLVdlYmJyb3dzZXIgw7ZmZm5lblwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgREVcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIkFuc2ljaHQgbmV1IGxhZGVuXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwiQW5zaWNodGVuIG5ldSBsYWRlblwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgREVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIkFuc2ljaHQgZHVwbGl6aWVyZW5cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCJBbnNpY2h0ZW4gZHVwbGl6aWVyZW5cIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIkFuc2ljaHQgenVtIENoYW5uZWwgaGluenVmw7xnZW5cIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCJBbnNpY2h0ZW4genVtIENoYW5uZWwgaGluenVmw7xnZW5cIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIkFuc2ljaHQgYXVzIGRlbSBDaGFubmVsIGVudGZlcm5lblwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIkFuc2ljaHRlbiBhdXMgZGVtIENoYW5uZWwgZW50ZmVybmVuXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIkFuc2ljaHQgc2NobGllw59lblwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwiQW5zaWNodGVuIHNjaGxpZcOfZW5cIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgREVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIlNlaXRlIGR1cGxpemllcmVuXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCJEcnVja2VuXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCJBbGxlIGRydWNrZW5cIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiV29ya3NwYWNlIHNwZWljaGVybiB1bnRlclwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2VpdGUgc3BlaWNoZXJuIHVudGVyXCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgREVcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0gZXhpc3RpZXJ0IGJlcmVpdHMuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIkJpdHRlIGdlYmVuIFNpZSBlaW5lbiBnw7xsdGlnZW4gTmFtZW4gZWluXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwiU2VpdGUgdW1iZW5lbm5lblwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwiU2VpdGUgc2NobGllw59lblwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLDhG5kZXJ1bmdlbiB2ZXJ3ZXJmZW5cIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCJBbGxlIHZlcndlcmZlblwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIkFsbGUgc3BlaWNoZXJuXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIih7e2NvdW50fX0pIFNlaXRlbiB2b3IgZGVtIFNjaGxpZcOfZW4gc3BlaWNoZXJuP1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBERVwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIERFXCIsXCJhZGROZXdQYWdlXCI6XCJOZXVlIFNlaXRlIGhpbnp1ZsO8Z2VuXCIsXCJhZGROZXdUYWJcIjpcIk5ldWVuIFRhYiBoaW56dWbDvGdlblwiLFwiYWRkTmV3Vmlld1wiOlwiTmV1ZSBBbnNpY2h0XCIsXCJyZXN0b3JlTW9kYWxcIjpcIlNpbmQgU2llIHNpY2hlciwgZGFzcyBTaWUgZGllIHp1bGV0enQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlbiB3aWVkZXJoZXJzdGVsbGVuIHdvbGxlbj9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCJBbGxlIG5pY2h0IGdlc3BlaWNoZXJ0ZW4gw4RuZGVydW5nZW4gd2VyZGVuIHZlcndvcmZlblwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCJBbGxlIG5pY2h0IGdlc3BlaWNoZXJ0ZW4gw4RuZGVydW5nZW4gYXVmIGRpZXNlciBTZWl0ZSBnZWhlbiB2ZXJsb3Jlbi5cIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLDhG5kZXJ1bmdlbiB2b3IgZGVtIFNjaGxpZcOfZW4gc3BlaWNoZXJuP1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCJTZWl0ZSBzY2hsaWXDn2VuXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwiU2luZCBTaWUgc2ljaGVyLCBkYXNzIFNpZSB6dSB7e3dvcmtzcGFjZX19d2VjaHNlbG4gd29sbGVuP1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiQWxsZSBuaWNodCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuIHdlcmRlbiB2ZXJ3b3JmZW5cIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCJTaW5kIFNpZSBzaWNoZXIsIGRhc3MgU2llIGRpZXNlbiBXb3Jrc3BhY2UgZGF1ZXJoYWZ0IGzDtnNjaGVuIHdvbGxlbj9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCJFaW4gV29ya3NwYWNlIG1pdCBkZW0gTmFtZW4ge3t3b3Jrc3BhY2V9fSBleGlzdGllcnQgYmVyZWl0cy4gTcO2Y2h0ZW4gU2llIGlobiBlcnNldHplbj9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIkVpbiBXb3Jrc3BhY2UgbWl0IGRlbXNlbGJlbiBOYW1lbiBleGlzdGllcnQgYmVyZWl0cy4gV2VubiBTaWUgaWhuIGVyc2V0emVuLCB3aXJkIGRlciBha3R1ZWxsZSBJbmhhbHQgw7xiZXJzY2hyaWViZW4uXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwiRXJzZXR6ZW5cIixcImNsb3NlUGxhdGZvcm1cIjpcIlBsYXR0Zm9ybSBzY2hsaWXDn2VuXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwiRGllIHt7d29ya3NwYWNlfX0gUGxhdHRmb3JtIHNjaGxpZcOfZW5cIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwiV2VubiBTaWUgZWluZSBQbGF0dGZvcm0gc2NobGllw59lbiwgd2VyZGVuIGFsbGUgV29ya3NwYWNlcywgQXBwcyB1bmQgbGF1ZmVuZGVuIFByb3plc3NlIGJlZW5kZXQuXCIsXCJiYWNrXCI6XCJadXLDvGNrXCIsXCJmb3J3YXJkXCI6XCJXZWl0ZXJcIixcInJlbG9hZFwiOlwiTmV1IGxhZGVuXCIsXCJncmVlblwiOlwiR3LDvG5cIixcInB1cnBsZVwiOlwiTGlsYVwiLFwib3JhbmdlXCI6XCJPcmFuZ2VcIixcInJlZFwiOlwiUm90XCIsXCJwaW5rXCI6XCJQaW5rXCIsXCJ5ZWxsb3dcIjpcIkdlbGJcIixcInRoZW1lLmxpZ2h0XCI6XCJIZWxsXCIsXCJ0aGVtZS5kYXJrXCI6XCJEdW5rZWxcIixcInRoZW1lLnN5c3RlbVwiOlwiU3luY2hyb25pc2llcnVuZyBtaXQgT1MtRWluc3RlbGx1bmdcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIlRhYnMgYXVzYmxlbmRlblwiLFwidG9vbGJhci5zaG93VGFic1wiOlwiVGFicyBhbnplaWdlblwiLFwidG9vbGJhci5sb2NrXCI6XCJTcGVycmVuXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwiRnJlaXNjaGFsdGVuXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwiRmFyYnZlcmtuw7xwZnVuZ1wiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIkxheW91dCDDpG5kZXJuXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCJNZW7DvCBzcGVpY2hlcm5cIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIkZlbnN0ZXIgbWF4aW1pZXJlblwiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCJGZW5zdGVyIHdpZWRlcmhlcnN0ZWxsZW5cIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIkZlbnN0ZXIgbWluaW1pZXJlblwiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwiVm9sbGUgQnJlaXRlXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwiU3BhbHRlblwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIlplaWxlblwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIlJhc3RlclwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwiV29ya3NwYWNlIGdld2VjaHNlbHRcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCJUYWJzIHNpbmQgYXVzZ2VibGVuZGV0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCJUYWJzIHdlcmRlbiBhbmdlemVpZ3RcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCJTZWl0ZSBpc3QgZ2VzcGVycnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIlNlaXRlIGlzdCBmcmVpZ2VzY2hhbHRldFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwiV29ya3NwYWNlIGdlc3BlaWNoZXJ0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIldvcmtzcGFjZSBnZXNwZWljaGVydCBhbHMge3t3b3Jrc3BhY2V9fVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCJXb3Jrc3BhY2UgdW1iZW5hbm50XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwiU2VpdGUgZ2VzcGVpY2hlcnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLiBERVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCJTZWl0ZSBnZXNwZWljaGVydCBhbHMge3t0aXRsZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCJTZWl0ZSB1bWJlbmFubnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwiQW5nZXdhbmR0ZSBLb250ZXh0Z3J1cHBlXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwie3tjb2xvck5hbWV9fSBhbmdld2FuZHRlIEtvbnRleHRncnVwcGVcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIkFuc2ljaHQgYXVzIGRlciBLb250ZXh0Z3J1cHBlIGVudGZlcm50XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwiQW5zaWNodGVuIGF1cyBkZXIgS29udGV4dGdydXBwZSBlbnRmZXJudFwiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCJ7e2xheW91dE5hbWV9fSBhbmdld2FuZHRlcyBMYXlvdXRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwiV29ya3NwYWNlIGdlbMO2c2NodFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIlNlaXRlIGtvbm50ZSBuaWNodCBnZXNwZWljaGVydCB3ZXJkZW5cIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIldvcmtzcGFjZSBrb25udGUgbmljaHQgZ2VzcGVpY2hlcnQgd2VyZGVuXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIlNlaXRlIGthbm4gbmljaHQgZHVwbGl6aWVydCB3ZXJkZW5cIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwiV2lyIGhhYmVuIHZlcnN1Y2h0LCBkaWVzZW0gVGFiIGVpbmUgRmFyYmUgenVvcmRuZW4sIGFiZXIgZGVyIEVpZ2VudMO8bWVyIGRlciBXZWJzaXRlL2RlcyBJbmhhbHRzIGhhdCBzaWUgbm9jaCBuaWNodCBha3RpdmllcnRcIixcImdsb2JhbC5jYW5jZWxcIjpcIkFiYnJlY2hlblwiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcIkJlc3TDpHRpZ2VuXCIsXCJnbG9iYWwuc2F2ZVwiOlwiU3BlaWNoZXJuXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgREVcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IERDXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBEQ1wiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBERVwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwiQnJvd3Nlci1NZW7DvCDDtmZmbmVuXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCJCcm93c2VyLVRhYlwiLFwiYXJpYS52aWV3VGFiXCI6XCJUYWIg4oCeQW5zaWNodOKAnCBmw7xyIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIkJ1dHRvbiDigJ5TZWl0ZSBzY2hsaWXDn2Vu4oCcIGbDvHIge3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlVGFiXCI6XCJUYWIgc2NobGllw59lbiB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcIkJlemVpY2hudW5nXCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCJWZXJ3ZW5kZW4gU2llIGRpZSBFc2NhcGUtVGFzdGUsIHVtIGRlbiBEaWFsb2cgenVyIEF1c3dhaGwgdm9uIEtvbnRleHRncnVwcGVuIHp1IHNjaGxpZcOfZW5cIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCJGYXJidmVya27DvHBmdW5nIGVpbi0gb2RlciBhdXNibGVuZGVuXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCJCaXR0ZSB3w6RobGVuIFNpZSBlaW5lIEFuc2ljaHQsIHVtIGRpZSBGYXJidmVya27DvHBmdW5nIGFuenV3ZW5kZW5cIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIkFrdHVlbGxlIEFuc2ljaHQsIGRpZSBkZXIgS29udGV4dGdydXBwZSB7e25hbWV9fSB6dWdlb3JkbmV0IGlzdFwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcIkFrdHVlbGxlIEFuc2ljaHRlbiwgZGllIGRlciBLb250ZXh0Z3J1cHBlIHt7bmFtZX19IHp1Z2VvcmRuZXQgc2luZFwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCJBa3RpdmUgQW5zaWNodCBhdWYgZGllIEtvbnRleHRncnVwcGUge3tuYW1lfX0gc2V0emVuXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCJBa3RpdmUgQW5zaWNodGVuIGF1ZiBkaWUgS29udGV4dGdydXBwZSB7e25hbWV9fSBzZXR6ZW5cIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCJWZXJ3ZW5kZW4gU2llIGRpZSBFc2NhcGUtVGFzdGUsIHVtIGRlbiBEaWFsb2cgenVyIExheW91dMOkbmRlcnVuZyB6dSBzY2hsaWXDn2VuXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIERFXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgREVcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgREVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBERVwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgREVcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgREVcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBERVwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBERVwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIERFXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIERFXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IERFXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBERVwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIERFXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIERFXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIERFXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBERVwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIERFXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggREVcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IERFXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIERFXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gREVcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBERVwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBERVwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgREVcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIERFXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgREVcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIERFXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBERVwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsXCI6e1wic2F2ZVN1cGVydGFiQ291bnRfb25lXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYiBiZWZvcmUgY2xvc2luZz8gREVcIixcInNhdmVTdXBlcnRhYkNvdW50X290aGVyXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IERFXCJ9LFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgREVcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgREVcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdC4gREVcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IERFXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gREVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIERFXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBERVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIERFXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gREVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgREVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgREVcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IERFXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIERFXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlciBERVwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0IERFXCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbCBERVwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsIERFXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlciBERVwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IERFXCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmUgREVcIn0nKSxMbj1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuaWsOOBl+OBhOOCpuOCo+ODs+ODieOCplwiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi5paw44GX44GE44Oa44O844K4XCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLmnIDlvozjgavkv53lrZjjgZXjgozjgZ/lpInmm7TjgavmiLvjgZlcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi44Ov44O844Kv44K544Oa44O844K544Gr5YiH44KK5pu/44GI44KLXCIsXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiOlwiTWFuYWdlIERlc2t0b3AgU2lnbmFsc1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwi5aSW6KazXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLkv53lrZhcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi44Ov44O844Kv44K544Oa44O844K544KS5Yil5ZCN44Gn5L+d5a2YLi4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueWQjeOCkuWkieabtFwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLliYrpmaRcIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwi44OA44Km44Oz44Ot44O844OJXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwi44Oa44O844K444KS5L+d5a2YXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCLjg5rjg7zjgrjjgpLliKXlkI3jgafkv53lrZguLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCLljbDliLcuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCLjg5fjg6rjg7Pjg4jjgrnjgq/jg6rjg7zjg7NcIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLplonjgZjjgotcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLjgrnjg4jjgqLjg5Xjg63jg7Pjg4jjgpLplovjgY9cIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwi44OX44Op44OD44OI44OV44Kp44O844Og44KS57WC5LqG44GZ44KLXCIsXCJjb250ZXh0TWVudS5uZXdWaWV3XCI6XCLmlrDjgZfjgYTjg5Pjg6Xjg7xcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCLjg4fjg5Xjgqnjg6vjg4jjga7jgqbjgqfjg5bjg5bjg6njgqbjgrbjg7zjgafjg5Pjg6Xjg7zjgpLplovjgY9cIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwi44OH44OV44Kp44Or44OI44Gu44Km44Kn44OW44OW44Op44Km44K244O844Gn44OT44Ol44O844KS6ZaL44GPXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBKUFwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi44OT44Ol44O844KS44Oq44Ot44O844OJXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi44OT44Ol44O844KS44Oq44Ot44O844OJXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBKUFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwi44OT44Ol44O844KS6KSH6KO9XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi44OT44Ol44O844KS6KSH6KO9XCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLjg5Pjg6Xjg7zjgpLjg4Hjg6Pjg43jg6vjgavov73liqBcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLjg5Pjg6Xjg7zjgpLjg4Hjg6Pjg43jg6vjgavov73liqBcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIuODgeODo+ODjeODq+OBi+OCieODk+ODpeODvOOCkuWJiumZpFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIuODgeODo+ODjeODq+OBi+OCieODk+ODpeODvOOCkuWJiumZpFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLjg5Pjg6Xjg7zjgpLplonjgZjjgotcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIuODk+ODpeODvOOCkumWieOBmOOCi1wiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBKUFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwi44Oa44O844K444KS6KSH6KO9XCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCLljbDliLdcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIuOBmeOBueOBpuOCkuWNsOWIt1wiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLliKXlkI3jgafkv53lrZhcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIuODmuODvOOCuOOCkuWIpeWQjeOBp+S/neWtmFwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIEpQXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX1944Gv44GZ44Gn44Gr5a2Y5Zyo44GX44Gm44GE44G+44GZ44CCXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuacieWKueOBquWQjeWJjeOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhFwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIuODmuODvOOCuOWQjeOCkuWkieabtFwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi44Oa44O844K444KS6ZaJ44GY44KLXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuWkieabtOOCkuegtOajhFwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuOBmeOBueOBpuegtOajhFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuOBmeOBueOBpuS/neWtmFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLplonjgZjjgovliY3jgavvvIh7e2NvdW50fX3vvInjgaTjga7jg5rjg7zjgrjjgpLkv53lrZjjgZfjgb7jgZnjgYvvvJ9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgSlBcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBKUFwiLFwiYWRkTmV3UGFnZVwiOlwi5paw44GX44GE44Oa44O844K444KS6L+95YqgXCIsXCJhZGROZXdUYWJcIjpcIuaWsOOBl+OBhOOCv+ODluOCkui/veWKoFwiLFwiYWRkTmV3Vmlld1wiOlwi5paw44GX44GE44OT44Ol44O8XCIsXCJyZXN0b3JlTW9kYWxcIjpcIuacrOW9k+OBq+acgOW+jOOBq+S/neWtmOOBleOCjOOBn+WkieabtOOBq+aIu+OBl+OBvuOBmeOBi++8n1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIuS/neWtmOOBleOCjOOBpuOBhOOBquOBhOWkieabtOOBr+egtOajhOOBleOCjOOBvuOBmVwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLkv53lrZjjgZXjgozjgabjgYTjgarjgYTjgZPjga7jg5rjg7zjgrjjgbjjga7lpInmm7Tjga/lpLHjgo/jgozjgb7jgZnjgIJcIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLplonjgZjjgovliY3jgavlpInmm7TjgpLkv53lrZjjgZfjgb7jgZnjgYvvvJ9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi44Oa44O844K444KS6ZaJ44GY44KLXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwi5pys5b2T44Gre3t3b3Jrc3BhY2V9feOBq+WIh+OCiuabv+OBiOOBvuOBmeOBi++8n1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi5L+d5a2Y44GV44KM44Gm44GE44Gq44GE5aSJ5pu044Gv56C05qOE44GV44KM44G+44GZXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi44GT44Gu44Ov44O844Kv44K544Oa44O844K544KS5rC45LmF44Gr5YmK6Zmk44GX44Gm44KC44KI44KN44GX44GE44Gn44GZ44GL77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwie3t3b3Jrc3BhY2V9feOBqOOBhOOBhuWQjeWJjeOBruODr+ODvOOCr+OCueODmuODvOOCueOBjOOBmeOBp+OBq+WtmOWcqOOBl+OBvuOBmeOAgue9ruOBjeaPm+OBiOOBvuOBmeOBi++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi5ZCM44GY5ZCN5YmN44Gu44Ov44O844Kv44K544Oa44O844K544GM44GZ44Gn44Gr5a2Y5Zyo44GX44G+44GZ44CC572u44GN5o+b44GI44KL44Go44CB54++5Zyo44Gu5YaF5a6544Gv5LiK5pu444GN44GV44KM44G+44GZ44CCXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi572u44GN5o+b44GI44KLXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLjg5fjg6njg4Pjg4jjg5Xjgqnjg7zjg6DjgpLplonjgZjjgotcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCJ7e3dvcmtzcGFjZX1944OX44Op44OD44OI44OV44Kp44O844Og44KS6ZaJ44GY44KLXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIuODl+ODqeODg+ODiOODleOCqeODvOODoOOCkumWieOBmOOCi+OBqOOAgeWun+ihjOS4reOBruODr+ODvOOCr+OCueODmuODvOOCueOAgeOCouODl+ODquOAgeODl+ODreOCu+OCueOBjOOBmeOBueOBpumWieOBmOOBvuOBmeOAglwiLFwiYmFja1wiOlwi5oi744KLXCIsXCJmb3J3YXJkXCI6XCLpgLLjgoBcIixcInJlbG9hZFwiOlwi44Oq44Ot44O844OJXCIsXCJncmVlblwiOlwi44Kw44Oq44O844OzXCIsXCJwdXJwbGVcIjpcIuODkeODvOODl+ODq1wiLFwib3JhbmdlXCI6XCLjgqrjg6zjg7PjgrhcIixcInJlZFwiOlwi44Os44OD44OJXCIsXCJwaW5rXCI6XCLjg5Tjg7Pjgq9cIixcInllbGxvd1wiOlwi44Kk44Ko44Ot44O8XCIsXCJ0aGVtZS5saWdodFwiOlwi44Op44Kk44OIXCIsXCJ0aGVtZS5kYXJrXCI6XCLjg4Djg7zjgq9cIixcInRoZW1lLnN5c3RlbVwiOlwiT1Pjga7oqK3lrprjgajlkIzmnJ9cIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIuOCv+ODluOCkumdnuihqOekulwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi44K/44OW44KS6KGo56S6XCIsXCJ0b29sYmFyLmxvY2tcIjpcIuODreODg+OCr1wiLFwidG9vbGJhci51bmxvY2tcIjpcIuODreODg+OCr+ino+mZpFwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIuOCq+ODqeODvOODquODs+OCr1wiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuODrOOCpOOCouOCpuODiOOCkuWkieabtFwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi44Oh44OL44Ol44O844KS5L+d5a2YXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLmnIDlpKfljJbjgZnjgotcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi44Km44Kj44Oz44OJ44Km44KS5b6p5YWDXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLmnIDlsI/ljJbjgZnjgotcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuWFqOW5hVwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuWIl1wiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIuihjFwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIuOCsOODquODg+ODiVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544GM5YiH44KK5pu/44KP44KK44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi44K/44OW44GM6Z2e6KGo56S644Gr44Gq44Gj44Gm44GE44G+44GZXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLjgr/jg5bjgYzooajnpLrjgZXjgozjgabjgYTjgb7jgZlcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLjg5rjg7zjgrjjgYzjg63jg4Pjgq/jgZXjgozjgabjgYTjgb7jgZlcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIuODmuODvOOCuOOBruODreODg+OCr+OBjOino+mZpOOBleOCjOOBpuOBhOOBvuOBmVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544GM5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBjHt7d29ya3NwYWNlfX3jgajjgZfjgabkv53lrZjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi44Ov44O844Kv44K544Oa44O844K55ZCN44GM5aSJ5pu044GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi44Oa44O844K444GM5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gSlBcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi44Oa44O844K444GMe3t0aXRsZX1944Go44GX44Gm5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCLjg5rjg7zjgrjlkI3jgYzlpInmm7TjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwi44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GM6YGp55So44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwie3tjb2xvck5hbWV9feOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBjOmBqeeUqOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GL44KJ44OT44Ol44O844GM5YmK6Zmk44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GL44KJ44OT44Ol44O844GM5YmK6Zmk44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX1944Os44Kk44Ki44Km44OI44GM6YGp55So44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBjOWJiumZpOOBleOCjOOBvuOBl+OBn1wiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIuODmuODvOOCuOOCkuS/neWtmOOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn1wiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544KS5L+d5a2Y44Gn44GN44G+44Gb44KT44Gn44GX44GfXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIuODmuODvOOCuOOCkuikh+ijveOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn1wiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLjgZPjga7jgr/jg5bjgpLjgqvjg6njg7zjg6rjg7Pjgq/jgZfjgojjgYbjgajjgZfjgb7jgZfjgZ/jgYzjgIHjgrXjgqTjg4gv44Kz44Oz44OG44Oz44OE44Gu44Kq44O844OK44O844GM44G+44Gg44GT44KM44KS5pyJ5Yq544Gr44GX44Gm44GE44G+44Gb44KTXCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLjgq3jg6Pjg7Pjgrvjg6tcIixcImdsb2JhbC5jb25maXJtXCI6XCLnorroqo1cIixcImdsb2JhbC5zYXZlXCI6XCLkv53lrZhcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBKUFwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIGNvbnRlbnQgSlBcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIEpQXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIEpQXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLjg5bjg6njgqbjgrbjg7zjg6Hjg4vjg6Xjg7zjgpLplovjgY9cIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIuODluODqeOCpuOCtuODvOOCv+ODllwiLFwiYXJpYS52aWV3VGFiXCI6XCJ7e3RpdGxlfX3jga7jgr/jg5bjgpLooajnpLpcIixcImFyaWEuY2xvc2VQYWdlXCI6XCJ7e3RpdGxlfX3jga7jg5rjg7zjgrjjgr/jg5bjg5zjgr/jg7PjgpLplonjgZjjgotcIixcImFyaWEuY2xvc2VUYWJcIjpcInt7dGl0bGV9feOCv+ODluOCkumWieOBmOOCi1wiLFwiYXJpYS50aXRsZVwiOlwi44K/44Kk44OI44OrXCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCLjgqjjgrnjgrHjg7zjg5fjgpLkvb/nlKjjgZfjgabjgIHjgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fpgbjmip7jg4DjgqTjgqLjg63jgrDjgpLplonjgZjjgotcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCLjgqvjg6njg7zjg6rjg7Pjgq/jga7ooajnpLov6Z2e6KGo56S6XCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLjgqvjg6njg7zjg6rjg7Pjgq/jgpLpgannlKjjgZnjgovjg5Pjg6Xjg7zjgpLpgbjmip7jgZfjgabjgY/jgaDjgZXjgYRcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIuePvuWcqOOBruODk+ODpeODvOOBr3t7bmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44Gr5Ymy44KK5b2T44Gm44KJ44KM44Gm44GE44G+44GZXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwi54++5Zyo44Gu44OT44Ol44O844Gve3tuYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgavlibLjgorlvZPjgabjgonjgozjgabjgYTjgb7jgZlcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwi44Ki44Kv44OG44Kj44OW44OT44Ol44O844KSe3tuYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgavoqK3lrppcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIuOCouOCr+ODhuOCo+ODluODk+ODpeODvOOCknt7bmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44Gr6Kit5a6aXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi44Ko44K544Kx44O844OX44KS5L2/55So44GX44Gm44CB44Os44Kk44Ki44Km44OI5aSJ5pu06YG45oqe44OA44Kk44Ki44Ot44Kw44KS6ZaJ44GY44KLXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIEpQXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgSlBcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBKUFwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgSlBcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBKUFwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBKUFwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIEpQXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIEpQXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IEpQXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBKUFwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIEpQXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIEpQXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIEpQXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBKUFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIEpQXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggSlBcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IEpQXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIEpQXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gSlBcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBKUFwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBKUFwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgSlBcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIEpQXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsXCI6e1wic2F2ZVN1cGVydGFiQ291bnRfb25lXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYiBiZWZvcmUgY2xvc2luZz8gSlBcIixcInNhdmVTdXBlcnRhYkNvdW50X290aGVyXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IEpQXCJ9LFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgSlBcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgSlBcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdC4gSlBcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IEpQXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gSlBcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIEpQXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBKUFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIEpQXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gSlBcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgSlBcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgSlBcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IEpQXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIEpQXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlciBKUFwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0IEpQXCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbCBKUFwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsIEpQXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlciBKUFwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IEpQXCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmUgSlBcIn0nKSxfbj1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuyDiCDssL1cIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIuyDiCDtjpjsnbTsp4BcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIuuniOyngOunieycvOuhnCDsoIDsnqXtlZwg67OA6rK9IOyCrO2VreycvOuhnCDrs7Xsm5BcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi7J6R7JeFIOqzteqwhCDsoITtmZhcIixcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCI6XCJNYW5hZ2UgRGVza3RvcCBTaWduYWxzXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLrqqjslpFcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7KCA7J6lXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuuLpOuluCDsnbTrpoTsnLzroZwg7J6R7JeFIOqzteqwhCDsoIDsnqUuLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi7J6R7JeFIOqzteqwhCDsnbTrpoQg67CU6r646riwXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7IKt7KCcXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIuuLpOyatOuhnOuTnFwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIu2OmOydtOyngCDsoIDsnqVcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuuLpOuluCDsnbTrpoTsnLzroZwg7Y6Y7J207KeAIOyggOyepS4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuyduOyHhC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIu2ZlOuptCDsnbjsh4RcIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLssL0g64ur6riwXCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwi66ek7J6lIOyXtOq4sFwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLtlIzrnqvtj7wg7KKF66OMXCIsXCJjb250ZXh0TWVudS5uZXdWaWV3XCI6XCLsg4gg67ewXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi6riw67O4IOybuSDruIzrnbzsmrDsoIDroZwg67ewIOyXtOq4sFwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLquLDrs7gg7Ju5IOu4jOudvOyasOyggOuhnCDrt7Ag7Je06riwXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBLUlwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi67ewIOuLpOyLnCDroZzrk5xcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLrt7Ag64uk7IucIOuhnOuTnFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgS1JcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIuu3sCDrs7XsoJxcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLrt7Ag67O17KCcXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLssYTrhJDsl5Ag67ewIOy2lOqwgFwiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuyxhOuEkOyXkCDrt7Ag7LaU6rCAXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCLssYTrhJDsl5DshJwg67ewIOygnOqxsFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIuyxhOuEkOyXkOyEnCDrt7Ag7KCc6rGwXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIuu3sCDri6vquLBcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIuu3sCDri6vquLBcIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgS1JcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIu2OmOydtOyngCDrs7XsoJxcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuyduOyHhFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi66qo65GQIOyduOyHhFwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLri6Trpbgg7J2066aE7Jy866GcIOyekeyXhSDqs7XqsIQg7KCA7J6lXCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCLri6Trpbgg7J2066aE7Jy866GcIO2OmOydtOyngCDsoIDsnqVcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBLUlwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9feydtCjqsIApIOydtOuvuCDsobTsnqztlanri4jri6QuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuycoO2aqO2VnCDsnbTrpoTsnYQg7J6F66Cl7ZWY7Iut7Iuc7JikLlwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIu2OmOydtOyngCDsnbTrpoQg67CU6r646riwXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLtjpjsnbTsp4Ag64ur6riwXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuuzgOqyvSDsgqztla0g7Y+Q6riwXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi66qo65GQIO2PkOq4sFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuuqqOuRkCDsoIDsnqVcIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwi64ur6riwIOyghOyXkCDtjpjsnbTsp4Aoe3tjb3VudH196rCcKeulvCDsoIDsnqXtlZjsi5zqsqDsirXri4jquYw/XCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIEtSXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgS1JcIixcImFkZE5ld1BhZ2VcIjpcIuyDiCDtjpjsnbTsp4Ag7LaU6rCAXCIsXCJhZGROZXdUYWJcIjpcIuyDiCDtg60g7LaU6rCAXCIsXCJhZGROZXdWaWV3XCI6XCLsg4gg67ewXCIsXCJyZXN0b3JlTW9kYWxcIjpcIuuniOyngOunieycvOuhnCDsoIDsnqXtlZwg67OA6rK9IOyCrO2VreycvOuhnCDrs7Xsm5DtlZjsi5zqsqDsirXri4jquYw/XCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwi7KCA7J6l7ZWY7KeAIOyViuydgCDrs4Dqsr0g7IKs7ZWt7J2AIOuqqOuRkCDtj5DquLDrkKnri4jri6RcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi7J20IO2OmOydtOyngOydmCDsoIDsnqXtlZjsp4Ag7JWK7J2AIOuzgOqyvSDsgqztla3snYAg66qo65GQIOyGkOyLpOuQqeuLiOuLpC5cIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLri6vquLAg7KCE7JeQIOuzgOqyvSDsgqztla3snYQg7KCA7J6l7ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCLtjpjsnbTsp4Ag64ur6riwXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwie3t3b3Jrc3BhY2V9fSjsnLwp66GcIOyghO2ZmO2VmOyLnOqyoOyKteuLiOq5jD9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuyggOyepe2VmOyngCDslYrsnYAg67OA6rK9IOyCrO2VreydgCDrqqjrkZAg7Y+Q6riw65Cp64uI64ukXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi7J20IOyekeyXhSDqs7XqsITsnYQg7JiB6rWs7KCB7Jy866GcIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCJ7e3dvcmtzcGFjZX19KOydtCnrnbzripQg7J2066aE7J2YIOyekeyXhSDqs7XqsITsnbQg7J2066+4IOyhtOyerO2VqeuLiOuLpC4g6rWQ7LK07ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi6rCZ7J2AIOydtOumhOydmCDsnpHsl4Ug6rO16rCE7J20IOydtOuvuCDsobTsnqztlanri4jri6QuIOq1kOyytO2VmOuptCDtmITsnqwg64K07Jqp7J2EIOuNruyWtOyTsOqyjCDrkKnri4jri6QuXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi6rWQ7LK0XCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLtlIzrnqvtj7wg64ur6riwXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwie3t3b3Jrc3BhY2V9fSDtlIzrnqvtj7wg64ur6riwXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIu2UjOueq+2PvOydhCDri6vsnLzrqbQg7Iuk7ZaJIOykkeyduCDrqqjrk6Ag7J6R7JeFIOqzteqwhCwg7JWxIOuYkOuKlCDtlITroZzshLjsiqTqsIAg64ur7Z6Z64uI64ukLlwiLFwiYmFja1wiOlwi65Kk66GcIOqwgOq4sFwiLFwiZm9yd2FyZFwiOlwi7JWe7Jy866GcIOqwgOq4sFwiLFwicmVsb2FkXCI6XCLsg4jroZzqs6DsuahcIixcImdyZWVuXCI6XCLrhbnsg4lcIixcInB1cnBsZVwiOlwi67O065287IOJXCIsXCJvcmFuZ2VcIjpcIuyYpOugjOyngOyDiVwiLFwicmVkXCI6XCLruajqsITsg4lcIixcInBpbmtcIjpcIu2Vke2BrOyDiVwiLFwieWVsbG93XCI6XCLrhbjrnoDsg4lcIixcInRoZW1lLmxpZ2h0XCI6XCLrsJ3snYBcIixcInRoZW1lLmRhcmtcIjpcIuyWtOuRkOyatFwiLFwidGhlbWUuc3lzdGVtXCI6XCJPUyDshKTsoJXqs7wg64+Z6riw7ZmUXCIsXCJ0b29sYmFyLmhpZGVUYWJzXCI6XCLtg60g7Iio6riw6riwXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLtg60g7ZGc7IucXCIsXCJ0b29sYmFyLmxvY2tcIjpcIuyeoOq4iFwiLFwidG9vbGJhci51bmxvY2tcIjpcIuyeoOq4iCDtlbTsoJxcIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCLsg4nsg4Eg7Jew6rKwXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi66CI7J207JWE7JuDIOuzgOqyvVwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi7KCA7J6lIOuplOuJtFwiLFwidG9vbGJhci5tYXhpbWl6ZVdpbmRvd1wiOlwi7LC9IOy1nOuMgO2ZlFwiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLssL0g67O17JuQXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLssL0g7LWc7IaM7ZmUXCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCLsoITssrQg64SI67mEXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi7Je0XCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi7ZaJXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi6re466as65OcXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLsnpHsl4Ug6rO16rCEIOyghO2ZmFwiLFwic3VjY2Vzc0luZGljYXRvci5oaWRkZW5cIjpcIu2DrSDsiKjquYBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIu2DrSDtkZzsi5xcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLtjpjsnbTsp4Ag7J6g6riIXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCLtjpjsnbTsp4Ag7J6g6riIIO2VtOygnOuQqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi7J6R7JeFIOqzteqwhCDsoIDsnqXrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi7J6R7JeFIOqzteqwhOydtCB7e3dvcmtzcGFjZX19KOycvCnroZwg7KCA7J6l65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuyekeyXhSDqs7XqsIQg7J2066aEIOuzgOqyveuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIu2OmOydtOyngCDsoIDsnqXrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLiBLUlwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCLtjpjsnbTsp4DqsIAge3t0aXRsZX19KOycvCnroZwg7KCA7J6l65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCLtjpjsnbTsp4Ag7J2066aEIOuzgOqyveuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLsu6jthY3siqTtirgg6re466O5IOyggeyaqeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujuSDsoIHsmqnrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIuy7qO2FjeyKpO2KuCDqt7jro7nsl5DshJwg67ewIOygnOqxsOuQqFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIuy7qO2FjeyKpO2KuCDqt7jro7nsl5DshJwg67ewIOygnOqxsOuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCJ7e2xheW91dE5hbWV9fSDroIjsnbTslYTsm4Mg7KCB7Jqp65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuyekeyXhSDqs7XqsIQg7IKt7KCc65CoXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwi7Y6Y7J207KeAIOyggOyepSDsi6TtjKhcIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIuyekeyXhSDqs7XqsIQg7KCA7J6lIOyLpO2MqFwiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCLtjpjsnbTsp4Ag67O17KCcIOyLpO2MqFwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLsnbQg7YOt7J2YIOyDieyDgSDrp4Htgazrpbwg7Iuc64+E7ZaI7KeA66eMIOyCrOydtO2KuC/svZjthZDsuKAg7IaM7Jyg7J6Q6rCAIOyVhOyngSDtmZzshLHtmZTtlZjsp4Ag7JWK7JWY7Iq164uI64ukLlwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwi7Leo7IaMXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi7ZmV7J24XCIsXCJnbG9iYWwuc2F2ZVwiOlwi7KCA7J6lXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgS1JcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IEtSXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBLUlwiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBLUlwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwi67iM65287Jqw7KCAIOuplOuJtCDsl7TquLBcIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIuu4jOudvOyasOyggCDtg61cIixcImFyaWEudmlld1RhYlwiOlwie3t0aXRsZX197J2YIOu3sCDtg61cIixcImFyaWEuY2xvc2VQYWdlXCI6XCJ7e3RpdGxlfX3snZgg7Y6Y7J207KeAIOuLq+q4sCDtg61cIixcImFyaWEuY2xvc2VUYWJcIjpcIu2DrSB7e3RpdGxlfX0g64ur6riwXCIsXCJhcmlhLnRpdGxlXCI6XCLsoJzrqqlcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuydtOyKpOy8gOydtO2UhOulvCDsgqzsmqntlZjsl6wg7Luo7YWN7Iqk7Yq4IOq3uOujuSDshKDtg50g64yA7ZmU7IOB7J6QIOuLq+q4sFwiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcIuyDieyDgSDsl7DqsrAg7ZGc7IucIOuYkOuKlCDsiKjquLDquLBcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIuyDieyDgSDsl7DqsrDsnYQg7KCB7Jqp7ZWY66Ck66m0IOu3sOulvCDshKDtg53tlZjsi63si5zsmKQuXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCJ7e25hbWV9fSDsu6jthY3siqTtirgg6re466O57JeQIO2VoOuLueuQnCDtmITsnqwg67ewXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwie3tuYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujueyXkCDtlaDri7nrkJwg7ZiE7J6sIOu3sFwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCLtmZzshLEg67ew66W8IHt7bmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7nsnLzroZwg7ISk7KCVXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCLtmZzshLEg67ew66W8IHt7bmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7nsnLzroZwg7ISk7KCVXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi7J207Iqk7LyA7J207ZSE66W8IOyCrOyaqe2VmOyXrCDroIjsnbTslYTsm4Mg67OA6rK9IOuMgO2ZlOyDgeyekCDri6vquLBcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgS1JcIixcImdsb2JhbC50YWJcIjpcIlRhYiBLUlwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIEtSXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBLUlwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIEtSXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIEtSXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgS1JcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgS1JcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgS1JcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIEtSXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgS1JcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgS1JcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgS1JcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIEtSXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgS1JcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBLUlwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgS1JcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgS1JcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBLUlwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIEtSXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIEtSXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBLUlwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgS1JcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWxcIjp7XCJzYXZlU3VwZXJ0YWJDb3VudF9vbmVcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFiIGJlZm9yZSBjbG9zaW5nPyBLUlwiLFwic2F2ZVN1cGVydGFiQ291bnRfb3RoZXJcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz8gS1JcIn0sXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBLUlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBLUlwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBsb3N0LiBLUlwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj8gS1JcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LiBLUlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWQgS1JcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuIEtSXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkRlbGV0ZWRcIjpcIlN1cGVydGFiIERlbGV0ZWQgS1JcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlbkRlbGV0ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBkZWxldGVkLiBLUlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlVGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFRhYiBLUlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlU3VwZXJ0YWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnN3aXRjaFRvU3VwZXJ0YWJcIjpcIlN3aXRjaCB0byBTdXBlcnRhYiBLUlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuZ29Ub1wiOlwiR28gdG8ge3t0eXBlfX0gS1JcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnZpZXdNb3JlXCI6XCJWaWV3IE1vcmUgS1JcIixcInNpZGVQYW5lbC5haUNlbnRlclwiOlwiQUkgQ2VudGVyIEtSXCIsXCJzaWRlUGFuZWwubmV3Q2hhdFwiOlwiTmV3IENoYXQgS1JcIixcInNpZGVQYW5lbC50b2dnbGVTaWRlUGFuZWxcIjpcIlRvZ2dsZSBTaWRlIFBhbmVsIEtSXCIsXCJzaWRlUGFuZWwuY2xvc2VTaWRlUGFuZWxcIjpcIkNsb3NlIFNpZGUgUGFuZWwgS1JcIixcInNpZGVQYW5lbC5vcGVuQWlDZW50ZXJcIjpcIk9wZW4gQUkgQ2VudGVyIEtSXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgS1JcIixcImRvY2sucmVtb3ZlRmF2b3JpdGVcIjpcIlJlbW92ZSBLUlwifScpLFVuPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwi0J3QvtCy0L7QtSDQvtC60L3QvlwiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi0J3QvtCy0LDRjyDRgdGC0YDQsNC90LjRhtCwXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLQktC+0YHRgdGC0LDQvdC+0LLQuNGC0Ywg0L/QvtGB0LvQtdC00L3QuNC1INGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcItCf0LXRgNC10LrQu9GO0YfQuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0YxcIixcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCI6XCJNYW5hZ2UgRGVza3RvcCBTaWduYWxzXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLQktC90LXRiNC90LjQuSDQstC40LRcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjFwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0Ywg0LrQsNC6Li4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcItCf0LXRgNC10LjQvNC10L3QvtCy0LDRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcItCj0LTQsNC70LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcItCX0LDQs9GA0YPQt9C60LhcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YMg0LrQsNC6Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwi0J/QtdGH0LDRgtGMLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwi0KDQsNGB0L/QtdGH0LDRgtCw0YLRjCDRjdC60YDQsNC9XCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwi0JfQsNC60YDRi9GC0Ywg0L7QutC90L5cIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLQntGC0LrRgNGL0YLRjCBTdG9yZWZyb250XCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcItCS0YvQudGC0Lgg0LjQtyDQv9C70LDRgtGE0L7RgNC80YtcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcItCd0L7QstC+0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCLQntGC0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDRgSDQv9C+0LzQvtGJ0YzRjiDQstC10LEt0LHRgNCw0YPQt9C10YDQsCDQv9C+INGD0LzQvtC70YfQsNC90LjRjlwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLQntGC0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDRgSDQv9C+0LzQvtGJ0YzRjiDQstC10LEt0LHRgNCw0YPQt9C10YDQsCDQv9C+INGD0LzQvtC70YfQsNC90LjRjlwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgUlVcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcItCf0LXRgNC10LfQsNCz0YDRg9C30LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi0J/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y9cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFJVXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLQlNGD0LHQu9C40YDQvtCy0LDRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi0JTRg9Cx0LvQuNGA0L7QstCw0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRj1wiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwi0JTQvtCx0LDQstC40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDQvdCwINC60LDQvdCw0LtcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLQlNC+0LHQsNCy0LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPINC90LAg0LrQsNC90LDQu1wiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi0KPQtNCw0LvQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0LjQtyDQutCw0L3QsNC70LBcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCLQo9C00LDQu9C40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDQuNC3INC60LDQvdCw0LvQsFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLQl9Cw0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi0JfQsNC60YDRi9GC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y9cIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgUlVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcItCU0YPQsdC70LjRgNC+0LLQsNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwi0J/QtdGH0LDRgtCw0YLRjFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi0J/QtdGH0LDRgtCw0YLRjCDQstGB0LVcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMINC60LDQulwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YMg0LrQsNC6XCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgUlVcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0g0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLlwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCLQktCy0LXQtNC40YLQtSDQv9C+0LTRhdC+0LTRj9GJ0LXQtSDQuNC80Y9cIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCLQn9C10YDQtdC40LzQtdC90L7QstCw0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLQl9Cw0LrRgNGL0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcItCe0YLQvNC10L3QuNGC0Ywg0LjQt9C80LXQvdC10L3QuNGPXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi0J7RgtC80LXQvdC40YLRjCDQstGB0LVcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0LLRgdC1XCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcItCh0L7RhdGA0LDQvdC40YLRjCAoe3tjb3VudH19KSDRgdGC0YDQsNC90LjRhiDQv9C10YDQtdC0INC30LDQutGA0YvRgtC40LXQvD9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgUlVcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBSVVwiLFwiYWRkTmV3UGFnZVwiOlwi0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRg9GOINGB0YLRgNCw0L3QuNGG0YNcIixcImFkZE5ld1RhYlwiOlwi0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRg9GOINCy0LrQu9Cw0LTQutGDXCIsXCJhZGROZXdWaWV3XCI6XCLQndC+0LLQvtC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJyZXN0b3JlTW9kYWxcIjpcItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0LLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMINC/0L7RgdC70LXQtNC90LjQtSDRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRjz9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLQktGB0LUg0L3QtdGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPINCx0YPQtNGD0YIg0L7RgtC80LXQvdC10L3Ri1wiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLQktGB0LUg0L3QtdGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPINC90LAg0Y3RgtC+0Lkg0YHRgtGA0LDQvdC40YbQtSDQsdGD0LTRg9GCINC/0L7RgtC10YDRj9C90YsuXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi0KHQvtGF0YDQsNC90LjRgtGMINC40LfQvNC10L3QtdC90LjRjyDQv9C10YDQtdC0INC30LDQutGA0YvRgtC40LXQvD9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi0JfQsNC60YDRi9GC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0L/QtdGA0LXQudGC0Lgg0LIge3t3b3Jrc3BhY2V9fT9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcItCS0YHQtSDQvdC10YHQvtGF0YDQsNC90LXQvdC90YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0LHRg9C00YPRgiDQvtGC0LzQtdC90LXQvdGLXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDQvdCw0LLRgdC10LPQtNCwINGD0LTQsNC70LjRgtGMINGN0YLRgyDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRgSDQuNC80LXQvdC10Lwge3t3b3Jrc3BhY2V9fSDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIuINCS0Ysg0YXQvtGC0LjRgtC1INC30LDQvNC10L3QuNGC0Ywg0LXQtT9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGBINGC0LDQutC40Lwg0LbQtSDQuNC80LXQvdC10Lwg0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLiDQn9GA0Lgg0LXQtSDQt9Cw0LzQtdC90LUg0YLQtdC60YPRidC10LUg0YHQvtC00LXRgNC20LjQvNC+0LUg0LHRg9C00LXRgiDQv9C10YDQtdC30LDQv9C40YHQsNC90L4uXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi0JfQsNC80LXQvdC40YLRjFwiLFwiY2xvc2VQbGF0Zm9ybVwiOlwi0JfQsNC60YDRi9GC0Ywg0L/Qu9Cw0YLRhNC+0YDQvNGDXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwi0JfQsNC60YDRi9GC0Ywg0L/Qu9Cw0YLRhNC+0YDQvNGDIHt7d29ya3NwYWNlfX1cIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi0JfQsNC60YDRi9GC0LjQtSDQv9C70LDRgtGE0L7RgNC80Ysg0L/RgNC40LLQtdC00LXRgiDQuiDQt9Cw0LrRgNGL0YLQuNGOINCy0YHQtdGFINGA0LDQsdC+0YfQuNGFINC+0LHQu9Cw0YHRgtC10LksINC/0YDQuNC70L7QttC10L3QuNC5INC4INC30LDQv9GD0YnQtdC90L3Ri9GFINC/0YDQvtGG0LXRgdGB0L7Qsi5cIixcImJhY2tcIjpcItCd0LDQt9Cw0LRcIixcImZvcndhcmRcIjpcItCS0L/QtdGA0LXQtFwiLFwicmVsb2FkXCI6XCLQn9C10YDQtdC30LDQs9GA0YPQt9C40YLRjMKgXCIsXCJncmVlblwiOlwi0JfQtdC70LXQvdGL0LlcIixcInB1cnBsZVwiOlwi0KTQuNC+0LvQtdGC0L7QstGL0LlcIixcIm9yYW5nZVwiOlwi0J7RgNCw0L3QttC10LLRi9C5XCIsXCJyZWRcIjpcItCa0YDQsNGB0L3Ri9C5XCIsXCJwaW5rXCI6XCLQoNC+0LfQvtCy0YvQuVwiLFwieWVsbG93XCI6XCLQltC10LvRgtGL0LlcIixcInRoZW1lLmxpZ2h0XCI6XCLQodCy0LXRgtC70YvQuVwiLFwidGhlbWUuZGFya1wiOlwi0KLQtdC80L3Ri9C5XCIsXCJ0aGVtZS5zeXN0ZW1cIjpcItCh0LjQvdGF0YDQvtC90LjQt9C40YDQvtCy0LDRgtGMINGBINC90LDRgdGC0YDQvtC50LrQsNC80Lgg0J7QoVwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi0KHQutGA0YvRgtGMINCy0LrQu9Cw0LTQutC4XCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLQn9C+0LrQsNC30LDRgtGMINCy0LrQu9Cw0LTQutC4XCIsXCJ0b29sYmFyLmxvY2tcIjpcItCX0LDQsdC70L7QutC40YDQvtCy0LDRgtGMXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi0KDQsNC30LHQu9C+0LrQuNGA0L7QstCw0YLRjFwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcItCf0YDQuNCy0Y/Qt9C60LAg0Log0YbQstC10YLRg1wiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcItCY0LfQvNC10L3QuNGC0Ywg0LzQsNC60LXRglwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi0JzQtdC90Y4g0YHQvtGF0YDQsNC90LXQvdC40Y9cIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcItCj0LLQtdC70LjRh9C40YLRjCDQvtC60L3QvlwiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLQktC+0YHRgdGC0LDQvdC+0LLQuNGC0Ywg0L7QutC90L5cIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcItCh0LLQtdGA0L3Rg9GC0Ywg0L7QutC90L5cIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcItCf0L7Qu9C90LDRjyDRiNC40YDQuNC90LBcIixcImNoYW5nZUxheW91dC5jb2x1bW5zXCI6XCLQodGC0L7Qu9Cx0YbRi1wiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcItCh0YLRgNC+0LrQuFwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcItCh0LXRgtC60LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU3dpdGNoZWRcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINC/0LXRgNC10LrQu9GO0YfQtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLQktC60LvQsNC00LrQuCDRgdC60YDRi9GC0YtcIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcItCS0LrQu9Cw0LTQutC4INC/0L7QutCw0LfQsNC90YtcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLQodGC0YDQsNC90LjRhtCwINC30LDQsdC70L7QutC40YDQvtCy0LDQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCLQodGC0YDQsNC90LjRhtCwINGA0LDQt9Cx0LvQvtC60LjRgNC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGB0L7RhdGA0LDQvdC10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRgdC+0YXRgNCw0L3QtdC90LAg0LrQsNC6IHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0L/QtdGA0LXQuNC80LXQvdC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCLQodGC0YDQsNC90LjRhtCwINGB0L7RhdGA0LDQvdC10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIFJVXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0YHQvtGF0YDQsNC90LXQvdCwINC60LDQuiB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0L/QtdGA0LXQuNC80LXQvdC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwi0JrQvtC90YLQtdC60YHRgtC90LDRjyDQs9GA0YPQv9C/0LAg0L/RgNC40LzQtdC90LXQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwi0JrQvtC90YLQtdC60YHRgtC90LDRjyDQs9GA0YPQv9C/0LAge3tjb2xvck5hbWV9fSDQv9GA0LjQvNC10L3QtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcItCf0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INGD0LTQsNC70LXQvdC+INC40Lcg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0YtcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCLQn9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDRg9C00LDQu9C10L3RiyDQuNC3INC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9GLXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcItCc0LDQutC10YIge3tsYXlvdXROYW1lfX0g0L/RgNC40LzQtdC90LXQvVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRg9C00LDQu9C10L3QsFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtGF0YDQsNC90LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/RgNC+0LTRg9Cx0LvQuNGA0L7QstCw0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcItCc0Ysg0L/QvtC/0YvRgtCw0LvQuNGB0Ywg0L/RgNC40LLRj9C30LDRgtGMINGG0LLQtdGCINC6INGN0YLQvtC5INCy0LrQu9Cw0LTQutC1LCDQvdC+INCy0LvQsNC00LXQu9C10YYg0YHQsNC50YLQsC/QutC+0L3RgtC10L3RgtCwINC10YnQtSDQvdC1INCy0LrQu9GO0YfQuNC7INGN0YLRgyDQstC+0LfQvNC+0LbQvdC+0YHRgtGMXCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLQntGC0LzQtdC90LjRgtGMXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi0J/QvtC00YLQstC10YDQtNC40YLRjFwiLFwiZ2xvYmFsLnNhdmVcIjpcItCh0L7RhdGA0LDQvdC40YLRjFwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIFJVXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudCBSVVwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgUlVcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgUlVcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcItCe0YLQutGA0YvRgtGMINC80LXQvdGOINCx0YDQsNGD0LfQtdGA0LBcIixcImFyaWEuYnJvd3NlclRhYnNcIjpcItCS0LrQu9Cw0LTQutC4INCx0YDQsNGD0LfQtdGA0LBcIixcImFyaWEudmlld1RhYlwiOlwi0JLQutC70LDQtNC60LAg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8ge3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwi0JrQvdC+0L/QutCwIMKr0JfQsNC60YDRi9GC0YzCuyDQvdCwINCy0LrQu9Cw0LTQutC1INC00LvRjyDRgdGC0YDQsNC90LjRhtGLIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVRhYlwiOlwi0JfQsNC60YDRi9GC0Ywg0LLQutC70LDQtNC60YMge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCLQndCw0LfQstCw0L3QuNC1XCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCLQp9GC0L7QsdGLINC30LDQutGA0YvRgtGMINC00LjQsNC70L7QsyDQstGL0LHQvtGA0LAg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0YssINC40YHQv9C+0LvRjNC30YPQudGC0LUgZXNjYXBlXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi0J/QvtC60LDQt9Cw0YLRjCDQuNC70Lgg0YHQutGA0YvRgtGMINC/0YDQuNCy0Y/Qt9C60YMg0Log0YbQstC10YLRg1wiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwi0JLRi9Cx0LXRgNC40YLQtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSwg0YfRgtC+0LHRiyDQv9GA0LjQvNC10L3QuNGC0Ywg0L/RgNC40LLRj9C30LrRgyDQuiDRhtCy0LXRgtGDXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCLQotC10LrRg9GJ0LXQtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSwg0L3QsNC30L3QsNGH0LXQvdC90L7QtSDQutC+0L3RgtC10LrRgdGC0L3QvtC5INCz0YDRg9C/0L/QtSB7e25hbWV9fVwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcItCi0LXQutGD0YnQuNC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPLCDQvdCw0LfQvdCw0YfQtdC90L3Ri9C1INC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9C1IHt7bmFtZX19XCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcItCj0YHRgtCw0L3QvtCy0LjRgtGMINCw0LrRgtC40LLQvdC+0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0LIg0LrQvtC90YLQtdC60YHRgtC90YPRjiDQs9GA0YPQv9C/0YMge3tuYW1lfX1cIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcItCj0YHRgtCw0L3QvtCy0LjRgtGMINCw0LrRgtC40LLQvdGL0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0LIg0LrQvtC90YLQtdC60YHRgtC90YPRjiDQs9GA0YPQv9C/0YMge3tuYW1lfX1cIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLQp9GC0L7QsdGLINC30LDQutGA0YvRgtGMINC00LjQsNC70L7QsyDQuNC30LzQtdC90LXQvdC40Y8g0LzQsNC60LXRgtCwLCDQuNGB0L/QvtC70YzQt9GD0LnRgtC1IGVzY2FwZVwiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBSVVwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIFJVXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgUlVcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIFJVXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgUlVcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgUlVcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBSVVwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBSVVwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBSVVwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgUlVcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBSVVwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBSVVwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBSVVwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgUlVcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBSVVwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIFJVXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBSVVwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBSVVwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IFJVXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgUlVcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gUlVcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIFJVXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBSVVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgUlVcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbFwiOntcInNhdmVTdXBlcnRhYkNvdW50X29uZVwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWIgYmVmb3JlIGNsb3Npbmc/IFJVXCIsXCJzYXZlU3VwZXJ0YWJDb3VudF9vdGhlclwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBSVVwifSxcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIFJVXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QuIFJVXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBSVVwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIFJVXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBSVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC5SVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIFJVXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gUlVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgUlVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgUlVcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IFJVXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIFJVXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlciBSVVwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0IFJVXCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbCBSVVwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsIFJVXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlciBSVVwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IFJVXCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmUgUlVcIn0nKTtjb25zdCBPbj1SbigpLnQsR249YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgQ2EoZSk7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goVGEuR2V0UGFnZXMpfSxIbj1hc3luYyBlPT4oYXdhaXQgQ2EoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFRhLlVwZGF0ZVBhZ2VGb3JXaW5kb3csZSk7bGV0ICRuLHpuPSExO2NvbnN0IEtuPSgpPT56bixKbj0oKT0+JG58fHtlbmFibGVkOiExfTthc3luYyBmdW5jdGlvbiBabihlLHQpe2NvbnN0IGE9ISF0O2xldCBuPW5ldyBTZXQ7aWYoYSl7Y29uc3R7aWRlbnRpdHk6ZSxwYWdlSWQ6YX09dCxvPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxyPWF3YWl0IG8uZ2V0UGFnZShhKTtyPy5wYW5lbHMmJihuPW5ldyBTZXQoci5wYW5lbHMubWFwKCgoe3ZpZXdPcHRpb25zOmV9KT0+ZS5uYW1lKSkpKX1yZXR1cm4gZS5tYXAoKGU9Pntjb25zdCB0PWUudmlld09wdGlvbnMubmFtZSxvPXQ/LnN0YXJ0c1dpdGgoU24pO28mJighYXx8YSYmIW4uaGFzKHQpKSYmZGVsZXRlIGUudmlld09wdGlvbnMubmFtZTtjb25zdCByPShpPWUudmlld09wdGlvbnMsaS5uYW1lfHw9YCR7U259JHtpYSgpfWAsaSk7dmFyIGk7cmV0dXJuey4uLmUsdmlld09wdGlvbnM6ey4uLnIsdXVpZDp5ZS51dWlkfX19KSl9YXN5bmMgZnVuY3Rpb24gcW4oZSl7Zm9yKGNvbnN0IHQgb2YgZSl0LnBhbmVscyYmYXdhaXQgUW4odC5wYW5lbHMpfWNvbnN0IGpuPWU9Pm51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJtZXNzYWdlXCJpbiBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5tZXNzYWdlJiYvRVJSXyhbQS1aXStfKikrLy50ZXN0KGUubWVzc2FnZSk7YXN5bmMgZnVuY3Rpb24gUW4oZSl7Y29uc3QgdD1lLm1hcCgoZT0+ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlVmlldyhlLnZpZXdPcHRpb25zLGZpbi5tZS5pZGVudGl0eSkuY2F0Y2goKGU9PntpZigham4oZSkpdGhyb3cgZTtjb25zb2xlLmVycm9yKGUpfSkpKSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQpfWNvbnN0IFluPShlLHQpPT4hdC5maW5kKCh0PT50PT09ZSkpLFhuPShlLHQpPT5gJHtlfSAoJHt0fSlgLGVvPShlLHQpPT57aWYoWW4oZSx0KSlyZXR1cm4gZTtsZXQgYT0xO2NvbnN0IG49ZS5yZXBsYWNlKC8gKlxcKFxcZCtcXCkkLyxcIlwiKTtmb3IoOyFZbihYbihuLGEpLHQpOylhKz0xO3JldHVybiBYbihuLGEpfSx0bz1hc3luYygpPT57Y29uc3QgZT1hd2FpdCBNZSgpO3JldHVybihhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+e3RyeXtyZXR1cm4gR24oZS5pZGVudGl0eSl9Y2F0Y2godCl7SlNPTi5zdHJpbmdpZnkoZS5pZGVudGl0eSk7Y29uc3QgYT1hd2FpdCBlLmdldE9wdGlvbnMoKTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXN8fFtdfX0pKSkpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQpKSxbXSl9LGFvPWFzeW5jKCk9Pihhd2FpdCBzdCh5ZSkpLmRpc3BhdGNoKG90LkdldFNhdmVkUGFnZXMsdm9pZCAwKSxubz1hc3luYyBlPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFBhZ2UsZSksb289YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHRvKCkpLmZpbmQoKHQ9PnQucGFnZUlkPT09ZSkpKShlKTtyZXR1cm4hYXx8YS50aXRsZT09PXQudGl0bGUmJmU9PT10LnBhZ2VJZHx8YXdhaXQgSG4oe2lkZW50aXR5OmEucGFyZW50SWRlbnRpdHkscGFnZUlkOmUscGFnZTp7cGFnZUlkOnQucGFnZUlkLHRpdGxlOnQudGl0bGV9fSksYX0scm89YXN5bmMoe3BhZ2U6ZX0pPT57YXdhaXQgb28oZS5wYWdlSWQsZSksYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuQ3JlYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZTplfSl9LGlvPWFzeW5jIGU9Pnthd2FpdCBubyhlKSYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuRGVsZXRlU2F2ZWRQYWdlLGUpKShlKX0sc289YXN5bmMoe3BhZ2VJZDplLHBhZ2U6dH0pPT57YXdhaXQgb28oZSx0KTtyZXR1cm4gYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuVXBkYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZUlkOmUscGFnZTp0fSl9LGNvPWFzeW5jIGU9PmF3YWl0IG5vKGUucGFnZUlkKT9zbyh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6ZX0pOnJvKHtwYWdlOmV9KSxsbz1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IENhKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChUYS5BdHRhY2hQYWdlc1RvV2luZG93LGUpKShlKX0sdW89YXN5bmMgZT0+e2NvbnN0IHQ9ey4uLmUucGFnZSxwYW5lbHM6ZS5wYWdlLnBhbmVscyYmYXdhaXQgWm4oZS5wYWdlLnBhbmVscyxlKX07dC5wYW5lbHMmJmF3YWl0IFFuKHQucGFuZWxzKSxhd2FpdCBIbih7Li4uZSxwYWdlOnR9KX0scG89YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBDYShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVGEuRGV0YWNoUGFnZXNGcm9tV2luZG93LGUpKShlKX0sd289YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBDYShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVGEuU2V0QWN0aXZlUGFnZUZvcldpbmRvdyxlKSkoZSl9LGdvPWU9PkduKGUpLGhvPWFzeW5jKHtpZGVudGl0eTplLHBhZ2VJZDp0fSk9Pihhd2FpdCBnbyhlKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSksbW89YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBDYShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVGEuUmVvcmRlclBhZ2VzRm9yV2luZG93LGUpKShlKX0sa289bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5xdWV1ZT1bXSx0aGlzLmxvY2tlZD0hMX1sb2NrKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlPT57dGhpcy5sb2NrZWQ/dGhpcy5xdWV1ZS5wdXNoKGUpOih0aGlzLmxvY2tlZD0hMCxlKCkpfSkpfXVubG9jaygpe2lmKHRoaXMucXVldWUubGVuZ3RoPjApe2NvbnN0IGU9dGhpcy5xdWV1ZS5zaGlmdCgpO2UmJmUoKX1lbHNlIHRoaXMubG9ja2VkPSExfX07YXN5bmMgZnVuY3Rpb24gYm8oZSl7YXdhaXQga28ubG9jaygpO3RyeXtjb25zdCB0PUtuKCk/T24oXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiKTpPbihcImRlZmF1bHRQYWdlVGl0bGVcIiksYT1lPz90LFtuLG9dPWF3YWl0IFByb21pc2UuYWxsKFthbygpLHRvKCldKSxyPVsuLi5uLC4uLm9dLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtyZXR1cm4gZW8oYSxyKX1maW5hbGx5e2tvLnVubG9jaygpfX1hc3luYyBmdW5jdGlvbiBmbyh7cGFnZTplfSl7cmV0dXJue3Nob3VsZFNob3dNb2RhbDohKCFlfHwhZS5oYXNVbnNhdmVkQ2hhbmdlcyl9fWFzeW5jIGZ1bmN0aW9uIHlvKHtwYWdlOmUsaWRlbnRpdHk6dH0pe2NvbnN0IGE9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7aWYoKGF3YWl0IGEuZ2V0SW5mbygpKS5pbml0aWFsT3B0aW9ucy5lbmFibGVCZWZvcmVVbmxvYWQpe2NvbnN0IGE9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Vmlld3MoKSxuPUluKGUubGF5b3V0LmNvbnRlbnQpLmZpbHRlcigoZT0+ZS5uYW1lJiZhLnNvbWUoKHQ9PnQuaWRlbnRpdHkubmFtZT09PWUubmFtZSkpKSkubWFwKChlPT5maW4uVmlldy53cmFwU3luYyh7bmFtZTplLm5hbWUsdXVpZDp0LnV1aWR9KSkpLG89YXdhaXQgdGhpcy5jaGVja1ZpZXdzRm9yUHJldmVudFVubG9hZChuKTtpZihvLnZpZXdzUHJldmVudGluZ1VubG9hZC5sZW5ndGg+MCl7aWYoKGF3YWl0IHRoaXMuZ2V0VXNlckRlY2lzaW9uRm9yQmVmb3JlVW5sb2FkKHsuLi5vLHdpbmRvd0lkOnQsd2luZG93U2hvdWxkQ2xvc2U6ITEsY2xvc2VUeXBlOlwicGFnZVwifSkpLnZpZXdzVG9DbG9zZS5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm4gZS5wYWdlSWQse3Nob3VsZFBhZ2VDbG9zZTohMX19fXJldHVybntzaG91bGRQYWdlQ2xvc2U6ITB9fWFzeW5jIGZ1bmN0aW9uIFNvKHtwYWdlczplLGlkZW50aXR5OnR9KXtjb25zdCBhPWF3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT50aGlzLnNob3VsZFBhZ2VDbG9zZSh7cGFnZTplLGNsb3NlVHlwZTpcIndpbmRvd1wiLGlkZW50aXR5OnR9KSkpKSx7cGFnZXNQcmV2ZW50aW5nQ2xvc2U6bixwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpvfT1lLnJlZHVjZSgoKGUsdCxuKT0+IWFbbl0uc2hvdWxkUGFnZUNsb3NlP3twYWdlc05vdFByZXZlbnRpbmdDbG9zZTplLnBhZ2VzTm90UHJldmVudGluZ0Nsb3NlLHBhZ2VzUHJldmVudGluZ0Nsb3NlOlsuLi5lLnBhZ2VzUHJldmVudGluZ0Nsb3NlLHRdfTp7cGFnZXNQcmV2ZW50aW5nQ2xvc2U6ZS5wYWdlc1ByZXZlbnRpbmdDbG9zZSxwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpbLi4uZS5wYWdlc05vdFByZXZlbnRpbmdDbG9zZSx0XX0pLHtwYWdlc1ByZXZlbnRpbmdDbG9zZTpbXSxwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpbXX0pO3JldHVybiB0aGlzLmhhbmRsZVBhZ2VzQW5kV2luZG93Q2xvc2Uoe3BhZ2VzTm90UHJldmVudGluZ0Nsb3NlOm8scGFnZXNQcmV2ZW50aW5nQ2xvc2U6bixpZGVudGl0eTp0fSl9YXN5bmMgZnVuY3Rpb24gdm8oe3BhZ2VzUHJldmVudGluZ0Nsb3NlOmUscGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6dCxpZGVudGl0eTphfSl7cmV0dXJue3Nob3VsZFdpbmRvd0Nsb3NlOjA9PT1lLmxlbmd0aH19YXN5bmMgZnVuY3Rpb24gUG8oe3BhZ2U6ZX0pe3JldHVybiBnYShlKX1hc3luYyBmdW5jdGlvbiBDbyhlKXtyZXR1cm57aGFzVW5zYXZlZENoYW5nZXM6ITB9fWNvbnN0IE1vPWFzeW5jKCk9Pntjb25zdCBlPWJuKCksdD0oYXdhaXQgTWUoKSkubWFwKCh0PT5lLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSkpKTthd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZS5nZXRQYWdlcygpO2F3YWl0IFByb21pc2UuYWxsKHQubWFwKChhc3luYyB0PT57dC50aXRsZSxhd2FpdCBlLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDp0LnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMX19KSx0LnBhZ2VJZCx0LnRpdGxlLGF3YWl0IGNvKHsuLi50LGhhc1Vuc2F2ZWRDaGFuZ2VzOiExfSl9KSkpfSkpKX0seG89bmV3IE1hcCxJbz0oKT0+eG8sQW89ZT0+eG8uZGVsZXRlKGUpO2xldCBXbz0hMTtjb25zdCBEbz0oKT0+e1dvfHwoV289ITAsZmluLldpbmRvdy53cmFwU3luYyh2ZSkub25jZShcImNsb3NlZFwiLCgoKT0+e1dvPSExLChhc3luYyhlLHQpPT57YXdhaXQgWXQoUXQoZSkse3NvdXJjZTpcIlN0b3JlXCIsLi4udH0pfSkoZmluLm1lLmlkZW50aXR5LHt0eXBlOlwiTmF2aWdhdGlvblwiLGFjdGlvbjpcIkNsb3NlIFN0b3JlXCIsc2tpcFZhbHVlSGFzaGluZzohMH0pfSkpKX07bGV0IFRvLEJvLFJvO2NvbnN0IEVvPWFzeW5jKCk9Pih2b2lkIDA9PT1SbyYmKFJvPSEhKGF3YWl0IFkoKSkuZGlzYWJsZU9wZW5GaW5BbmFseXRpY3MpLFJvKTthc3luYyBmdW5jdGlvbiBGbyhlKXtlLmZvckVhY2goKGU9Pnt2YXIgdCxhO1wiUGFnZVwiPT09ZS50eXBlP1wiT3BlbiBQYWdlXCI9PT1lLmFjdGlvbj8odD1lLmRhdGEudXVpZCxhPWUseG8uc2V0KHQsYSkpOlwiQ2xvc2UgUGFnZVwiPT09ZS5hY3Rpb24mJkFvKGUuZGF0YS51dWlkKTpcIlN0b3JlXCI9PT1lLnNvdXJjZSYmXCJDbG9zZVwiIT09ZS5hY3Rpb24mJkRvKCl9KSksYXdhaXQoYXN5bmMgZT0+e1RvPy5zZW5kVG9PcGVuRmluJiYoYXdhaXQgRW8oKXx8ZS5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1uYSh7fSxlKTt0LmVudGl0eUlkJiYodC5lbnRpdHlJZC51dWlkPWF3YWl0IHRhKHQuZW50aXR5SWQudXVpZCksdC5lbnRpdHlJZC5uYW1lPWF3YWl0IHRhKHQuZW50aXR5SWQubmFtZSkpLCFlLnNraXBWYWx1ZUhhc2hpbmcmJlwidmFsdWVcImluIHQmJih0LnZhbHVlPWF3YWl0IHRhKHQudmFsdWUpKSxCbyh0KX0pKSl9KShlKTtjb25zdCB0PWUubWFwKCgoe3NraXBWYWx1ZUhhc2hpbmc6ZSwuLi50fSk9PnQpKTt0aGlzLmhhbmRsZUFuYWx5dGljcyh0KX1jb25zdCBWbz1hc3luYyBlPT57VG89ZTtUbz8uc2VuZFRvT3BlbkZpbiYmIWF3YWl0IEVvKCkmJigoKT0+e2NvbnN0IGU9TCx0PWUrSy5BbmFseXRpY3MsYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSUZSQU1FXCIpO2Euc2V0QXR0cmlidXRlKFwic3JjXCIsdCksYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDBweCAhaW1wb3J0YW50XCIpLGEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImhlaWdodDogMHB4ICFpbXBvcnRhbnRcIiksYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTogbm9uZSAhaW1wb3J0YW50XCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksQm89YXN5bmMgdD0+e2EuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh0LGUpfX0pKCk7Y29uc3QgdD1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTt0LmFkZExpc3RlbmVyKFwidmlldy1jcmVhdGVkXCIsKGFzeW5jIGU9Pnt2YXIgdDtYdCh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJPcGVuIFZpZXdcIix2YWx1ZTplLnZpZXdJZGVudGl0eS5uYW1lLGRhdGE6e3V1aWQ6ZS52aWV3SWRlbnRpdHkudXVpZCx1cmw6YXdhaXQodD1lLnZpZXdJZGVudGl0eSxmaW4uVmlldy53cmFwU3luYyh0KS5nZXRJbmZvKCkudGhlbigoZT0+ZS51cmwpKSl9fSl9KSksdC5hZGRMaXN0ZW5lcihcInZpZXctZGVzdHJveWVkXCIsKGFzeW5jIGU9PntYdCh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJDbG9zZSBWaWV3XCIsdmFsdWU6ZS52aWV3SWRlbnRpdHkubmFtZSxkYXRhOnt1dWlkOmUudmlld0lkZW50aXR5LnV1aWR9fSl9KSksdC5hZGRMaXN0ZW5lcihcIndpbmRvdy1jbG9zZWRcIiwoZT0+e2UubmFtZS5zdGFydHNXaXRoKG1lLkJyb3dzZXJNZW51KXx8KFh0KHt0eXBlOlwiV2luZG93XCIsYWN0aW9uOlwiQ2xvc2UgV2luZG93XCIsdmFsdWU6ZS5uYW1lLGRhdGE6e3V1aWQ6ZS51dWlkfX0pLChhc3luYygpPT57Y29uc3QgZT1JbygpLHQ9YXdhaXQgdG8oKTtpZih0Lmxlbmd0aD09PWUuc2l6ZSlyZXR1cm47Y29uc3QgYT10LnJlZHVjZSgoKGUsdCk9PmUuc2V0KHQucGFnZUlkLDEpKSxuZXcgTWFwKTtmb3IoY29uc3RbdCxuXW9mIGUpYS5oYXModCl8fChuLmFjdGlvbj1cIkNsb3NlIFBhZ2VcIixYdChuKSxBbyh0KSl9KSgpKX0pKX0sTm89VGUoe2Fsd2F5c09uVG9wOiEwLGF1dG9TaG93OiExLGZyYW1lOiExLHJlc2l6YWJsZTohMSxzaG93VGFza2Jhckljb246ITF9KTtjb25zdCBMbz1mdW5jdGlvbihlPU5vKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGFzeW5jKGEsbixvLHIsaSk9PntpZih0LmhhcyhhKSl7Y29uc3R7Y3VycmVudFVybDplLGN1cnJlbnROYW1lOm99PXQuZ2V0KGEpO2lmKGU9PT1uKXJldHVybjtjb25zdCByPWZpbi5XaW5kb3cud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLnV1aWQsbmFtZTpvfSk7YXdhaXQgci5jbG9zZSgpfWNvbnN0IHM9YCR7bWUuQnJvd3NlckluZGljYXRvcn0tJHtEYXRlLm5vdygpfSR7TWF0aC5yYW5kb20oKX1gO3Quc2V0KGEse2N1cnJlbnRVcmw6bixjdXJyZW50TmFtZTpzfSk7Y29uc3QgYz1gTmV3ICR7cn0gaW5kaWNhdG9yOiAke299ICR7aX1gLGw9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KHsuLi5lLG5hbWU6cyx1cmw6bn0pOygoZSx0KT0+e2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLGEuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsdHx8XCJwb2xpdGVcIiksKGU9PntlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLndpZHRoPVwiMXB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIxcHhcIixlLnN0eWxlLnBhZGRpbmc9XCIwXCIsZS5zdHlsZS5tYXJnaW49XCItMXB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiLGUuc3R5bGUuYm9yZGVyPVwiMFwifSkoYSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxzZXRUaW1lb3V0KCgoKT0+e2EuaW5uZXJIVE1MPWV9KSwzMDApLHNldFRpbWVvdXQoKCgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKX0pLDFlMyl9KShjKSxsLm9uY2UoXCJjbG9zZWRcIiwoKCk9Pnt0LmRlbGV0ZShhKX0pKX19KCk7YXN5bmMgZnVuY3Rpb24gX28oZSx0LGEsbixvLHIpe2lmKGEmJmZpbi5tZS5uYW1lIT09YSl7Y29uc3QgaT17dHlwZTplLG1lc3NhZ2U6dCxwYXJlbnRCcm93c2VyTmFtZTphLHNlY29uZGFyeU1lc3NhZ2U6bixpY29uOm8saXNFbnRlcnByaXNlOnJ9O3JldHVybihhd2FpdCBDYSh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOmF9KSkuZGlzcGF0Y2goVGEuU2hvd0Jyb3dzZXJJbmRpY2F0b3IsaSl9Y29uc3QgaT1uZXcgVVJMU2VhcmNoUGFyYW1zO2lmKGkuYXBwZW5kKFwidHlwZVwiLGUpLGkuYXBwZW5kKFwibWVzc2FnZVwiLHQpLGkuYXBwZW5kKFwicGFyZW50TmFtZVwiLGF8fFwiXCIpLGkuYXBwZW5kKFwic2Vjb25kYXJ5TWVzc2FnZVwiLG58fFwiXCIpLGkuYXBwZW5kKFwiaWNvblwiLG98fFwiXCIpLGkuYXBwZW5kKFwiaXNFbnRlcnByaXNlXCIsYCR7cn1gfHxcIlwiKSxhKXtjb25zdCBlPWZlKGE/e3V1aWQ6UixuYW1lOmF9OnZvaWQgMCksdD1gJHsocz1hd2FpdCBlLmdldEJvdW5kcygpKS50b3B9LCR7cy5sZWZ0fSwke3MuaGVpZ2h0fSwke3Mud2lkdGh9LCR7cy5ib3R0b219LCR7cy5yaWdodH0sJHtzLmNvbnRlbnQudG9wfSwke3MuY29udGVudC5sZWZ0fSwke3MuY29udGVudC5oZWlnaHR9LCR7cy5jb250ZW50LndpZHRofWA7aS5hcHBlbmQoXCJwYXJlbnRCb3VuZHNcIix0KX12YXIgcztjb25zdCBjPWAkeyhyP2F3YWl0IG5lKCk6YXdhaXQgYWUoKSkrSy5Ccm93c2VySW5kaWNhdG9yfSMke2kudG9TdHJpbmcoKX1gO3JldHVybiBMbyhcImJyb3dzZXJcIithLGMsdCxlLG4pfWFzeW5jIGZ1bmN0aW9uIFVvKGUsdCxhLG4pe2NvbnN0IG89YXdhaXQgSHQodCk7cmV0dXJuIF9vKFwic3VjY2Vzc1wiLGUsdC5uYW1lLGEsbixvKX1jb25zdCBPbz1hc3luYyhlPXllKT0+e2NvbnN0e3dvcmtzcGFjZVBsYXRmb3JtOnR9PWF3YWl0IGZlKGUpLmdldE9wdGlvbnMoKSxhPXQ/Lm5ld1BhZ2VVcmwsbj10Py5uZXdUYWJVcmw7cmV0dXJue25ld1BhZ2VVcmw6YSxuZXdUYWJVcmw6bn19LEdvPWFzeW5jKGU9eWUpPT57Y29uc3QgdD1hd2FpdCBIdChlKXx8S24oKSxhPXQ/bnVsbDphd2FpdCBibigpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKCk7bGV0IG47aWYoZSYmYXdhaXQgQ2UoZSkpbj1hd2FpdChhc3luYyhlLHQ9eWUpPT57Y29uc3R7bmV3UGFnZVVybDphfT1hd2FpdCBPbyh0KTtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO3JldHVybiBBbihlLGEsdCl9KShhLGUpO2Vsc2UgaWYodCl7Y29uc3QgZT1hd2FpdCBvZSgpO249YXdhaXQgQW4oYSxlKX10JiYobi5zZXR0aW5ncz1uLnNldHRpbmdzPz97fSxuLmRpbWVuc2lvbnM9bi5kaW1lbnNpb25zPz97fSxuLnNldHRpbmdzLmhhc0hlYWRlcnM9ITEsbi5zZXR0aW5ncy5yZW9yZGVyRW5hYmxlZD0hMCxuLmRpbWVuc2lvbnMuaGVhZGVySGVpZ2h0PTApO2NvbnN0IG89YXdhaXQgd2EoYSxuKTtyZXR1cm4gdCYmKG8uaGFzVW5zYXZlZENoYW5nZXM9ITEpLG99LEhvPWFzeW5jKGUsdCxhKT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6bixjb250ZW50Om99PWF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEh0KHQpO3JldHVybnt0aXRsZTpcIlN3aXRjaCBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6YXdhaXQgcmUoYSwhMSkrSy5SZXNwb25zZU1vZGFsLG5hbWU6bWUuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMzQsZGVmYXVsdFdpZHRoOjQxMCxtb2RhbFBhcmVudElkZW50aXR5OnR9LGNvbnRlbnQ6e3RpdGxlOk9uKFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIix7d29ya3NwYWNlOmV9KSxib2R5Ok9uKFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiKSxidXR0b25zOntyaWdodDpbe2xhYmVsOk9uKFwiZ2xvYmFsLmNhbmNlbFwiKSx0eXBlOlwic2Vjb25kYXJ5XCIsaWQ6XCJDYW5jZWxcIn0se2xhYmVsOk9uKFwiZ2xvYmFsLmNvbmZpcm1cIiksdHlwZTpcInByaW1hcnlcIixpZDpcIkNvbmZpcm1cIn1dfX19fSkodCxhP3ZvaWQgMDplKSxyPWF3YWl0IExlKG4sZSxhKSxpPXsuLi5uLHRvcDpyLnRvcCxsZWZ0OnIubGVmdH07cmV0dXJuXCJDb25maXJtXCI9PT0oYXdhaXQgamEoe29wdGlvbnM6aSxjb250ZW50Om99KSkuZGF0YS5hY3Rpb25OYW1lfSwkbz1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgSHQoZSk7cmV0dXJue3RpdGxlOlwiRGVsZXRlIFdvcmtzcGFjZVwiLHdpbmRvd09wdGlvbnM6e3VybDphd2FpdCByZShhLCExKStLLlJlc3BvbnNlTW9kYWwsbmFtZTptZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjE0NCxkZWZhdWx0V2lkdGg6NDEwLG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6T24oXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiKSxib2R5OmAke3R9YCxidXR0b25zOntyaWdodDpbe2xhYmVsOk9uKFwiZ2xvYmFsLmNhbmNlbFwiKSx0eXBlOlwic2Vjb25kYXJ5XCIsaWQ6XCJDYW5jZWxcIn0se2xhYmVsOk9uKFwiZ2xvYmFsLmNvbmZpcm1cIiksdHlwZTpcInByaW1hcnlcIixpZDpcIkNvbmZpcm1cIn1dfX19fSkoZSx0KSxvPWF3YWl0IExlKGEsYS5tb2RhbFBhcmVudElkZW50aXR5KSxyPXsuLi5hLHRvcDpvLnRvcCxsZWZ0Om8ubGVmdH07cmV0dXJuXCJDb25maXJtXCI9PT0oYXdhaXQgamEoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YS5hY3Rpb25OYW1lfSx6bz1hc3luYyhlLHQsYSk9Pntjb25zdHt3aW5kb3dPcHRpb25zOm4sY29udGVudDpvfT1hd2FpdChhc3luYyhlLHQsYSk9Pntjb25zdCBuPWF3YWl0IEh0KGUpO3JldHVybnt0aXRsZTpcIlBsYXRmb3JtIFF1aXRcIix3aW5kb3dPcHRpb25zOnt1cmw6YXdhaXQgcmUobiwhMSkrSy5SZXNwb25zZU1vZGFsLG5hbWU6bWUuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMzQsZGVmYXVsdFdpZHRoOjQxMCxtb2RhbFBhcmVudElkZW50aXR5OmE/dm9pZCAwOmV9LGNvbnRlbnQ6e3RpdGxlOk9uKFwiUGxhdGZvcm1cIj09PXQ/XCJjbG9zZVBsYXRmb3JtXCI6XCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiLHt3b3Jrc3BhY2U6dH0pLGJvZHk6T24oXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIiksYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpPbihcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCJ9LHtsYWJlbDpPbihcImdsb2JhbC5jb25maXJtXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJDb25maXJtXCJ9XX19fX0pKGUsdCxhKSxyPWF3YWl0IExlKG4sZSxhKSxpPXsuLi5uLHRvcDpyLnRvcCxsZWZ0OnIubGVmdH07cmV0dXJuXCJDb25maXJtXCI9PT0oYXdhaXQgamEoe29wdGlvbnM6aSxjb250ZW50Om99KSkuZGF0YS5hY3Rpb25OYW1lfSxLbz1hc3luYyBlPT57Y29uc3R7d2luZG93T3B0aW9uczp0LGNvbnRlbnQ6YX09YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgSHQoZSk7cmV0dXJue3RpdGxlOlwiUmVzdG9yZSBDaGFuZ2VzXCIsd2luZG93T3B0aW9uczp7dXJsOmF3YWl0IHJlKHQsITEpK0suUmVzcG9uc2VNb2RhbCxuYW1lOm1lLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTM0LGRlZmF1bHRXaWR0aDo0MTAsbW9kYWxQYXJlbnRJZGVudGl0eTplfSxjb250ZW50Ont0aXRsZTpPbihcInJlc3RvcmVNb2RhbFwiKSxib2R5Ok9uKFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIiksYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpPbihcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCJ9LHtsYWJlbDpPbihcImdsb2JhbC5jb25maXJtXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJDb25maXJtXCJ9XX19fX0pKGUpLG49YXdhaXQgTGUodCx0Lm1vZGFsUGFyZW50SWRlbnRpdHkpLG89ey4uLnQsdG9wOm4udG9wLGxlZnQ6bi5sZWZ0fTtyZXR1cm5cIkNvbmZpcm1cIj09PShhd2FpdCBqYSh7b3B0aW9uczpvLGNvbnRlbnQ6YX0pKS5kYXRhLmFjdGlvbk5hbWV9LEpvPWFzeW5jKGUsdCk9Pntjb25zdHt3aW5kb3dPcHRpb25zOmEsY29udGVudDpufT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBIdChlKTtyZXR1cm57dGl0bGU6XCJEZWxldGUgUGFnZVwiLHdpbmRvd09wdGlvbnM6e3VybDpuZXcgVVJMKGF3YWl0IHJlKGEsITEpK0suUmVzcG9uc2VNb2RhbCkudG9TdHJpbmcoKSxuYW1lOm1lLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTcyLGRlZmF1bHRXaWR0aDo0NjQsbW9kYWxQYXJlbnRJZGVudGl0eTplfSxjb250ZW50Ont0aXRsZTpPbihcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiLHt0aXRsZTp0fSksYm9keTpPbihcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIiksYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpPbihcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCIsdmFyaWFudDphP1wib3V0bGluZVwiOnZvaWQgMH0se2xhYmVsOk9uKFwiZ2xvYmFsLmRlbGV0ZVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiRGVsZXRlXCIsdmFyaWFudDphP1wic3VibWl0XCI6dm9pZCAwfV19fX19KShlLHQpLG89YXdhaXQgTGUoYSxhLm1vZGFsUGFyZW50SWRlbnRpdHkpLHI9ey4uLmEsdG9wOm8udG9wLGxlZnQ6by5sZWZ0fTtyZXR1cm5cIkRlbGV0ZVwiPT09KGF3YWl0IGphKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGEuYWN0aW9uTmFtZX0sWm89YXN5bmMoe2lkZW50aXR5OmUsdGl0bGU6dCxkZXNjcmlwdGlvbjphfSk9Pntjb25zdHt3aW5kb3dPcHRpb25zOm4sY29udGVudDpvfT1hd2FpdChhc3luYyhlLHQsYSk9Pih7dGl0bGU6XCJVcGRhdGUgVmVyc2lvblwiLHdpbmRvd09wdGlvbnM6e3VybDphd2FpdCBuZSgpK0suUmVzcG9uc2VNb2RhbCxuYW1lOm1lLlVwZGF0ZVZlcnNpb25Nb2RhbCxkZWZhdWx0SGVpZ2h0OjE3MixkZWZhdWx0V2lkdGg6NDY0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZSxwcmV2ZW50Qmx1cjohMCxjbG9zZU9uUmVzcG9uc2U6ITAsaW5jbHVkZUluU25hcHNob3RzOiExfSxjb250ZW50Ont0aXRsZTp0LGJvZHk6YSxidXR0b25zOntyaWdodDpbe2xhYmVsOlwiU25vb3plXCIsdHlwZTpcInNlY29uZGFyeVwiLGlkOlwic25vb3plXCJ9LHtsYWJlbDpcIlJlc3RhcnRcIix0eXBlOlwicHJpbWFyeVwiLGlkOlwicmVzdGFydFwifV19fX0pKShlLHQsYSkscj1maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmUudXVpZCxuYW1lOmAke24ubmFtZX0tLSR7bi5tb2RhbFBhcmVudElkZW50aXR5Py5uYW1lfWB9KTt0cnl7aWYoYXdhaXQocj8uaXNTaG93aW5nKCkpKXJldHVybn1jYXRjaChlKXt9Y29uc3QgaT1hd2FpdCBMZShuLG4ubW9kYWxQYXJlbnRJZGVudGl0eSkscz17Li4ubix0b3A6aS50b3AsbGVmdDppLmxlZnR9O3JldHVybihhd2FpdCBqYSh7b3B0aW9uczpzLGNvbnRlbnQ6b30pKS5kYXRhfTthc3luYyBmdW5jdGlvbiBxbyh7b3B0aW9uczplLC4uLnR9KXtpZighKCEhZT8uc2tpcFByb21wdHx8YXdhaXQgSG8oZT8ucHJvbXB0Q29udGFpbmVyV2luZG93SWRlbnRpdHksdC50aXRsZSxlPy5zaG91bGRDZW50ZXJNb2RhbE9uTW9uaXRvcikpKXJldHVybiExO2NvbnN0IGE9ISEoYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKCh7aWRlbnRpdHk6ZX0pPT5lLm5hbWU9PT1tZS5Eb2NrQ29tcGFuaW9ufHxlLm5hbWU9PT1sZSkpO0tuKCk7Y29uc3Qgbj1hfHxLbigpP3tjbG9zZUV4aXN0aW5nV2luZG93czohMSxjbG9zZVNuYXBzaG90V2luZG93czohMH06e2Nsb3NlRXhpc3RpbmdXaW5kb3dzOmU/LmFwcGx5U25hcHNob3RPcHRpb25zPy5jbG9zZUV4aXN0aW5nV2luZG93cz8/ITB9LG89Ym4oKTtyZXR1cm4gYXdhaXQgby5hcHBseVNuYXBzaG90KHQuc25hcHNob3Qsey4uLmU/LmFwcGx5U25hcHNob3RPcHRpb25zPz97fSwuLi5ufSksWW8odCksX28oXCJzdWNjZXNzXCIsT24oXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCIpKS5jYXRjaChjb25zb2xlLndhcm4pLCEwfWFzeW5jIGZ1bmN0aW9uIGpvKGUpe3RyeXtyZXR1cm4gYXdhaXQgcW8oZSl9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gYXBwbHkgdGhlIGN1cnJlbnQgd29ya3NwYWNlOiBcIixlKSwhMX19YXN5bmMgZnVuY3Rpb24gUW8oZSl7dHJ5e2NvbnN0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWJuKCksdD1hd2FpdCBlLmdldEN1cnJlbnRXb3Jrc3BhY2Uoe3NraXBTbmFwc2hvdFVwZGF0ZTohMH0pO3JldHVybihhd2FpdCBlLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpfSgpO2lmKCF0KXJldHVyblwibm90LXNhdmVkLXdvcmtzcGFjZVwiO3JldHVybiEhZT8uc2tpcFByb21wdHx8YXdhaXQgS28oZT8ucHJvbXB0Q29udGFpbmVyV2luZG93SWRlbnRpdHkpPyhhd2FpdCBxbyh7b3B0aW9uczp7c2tpcFByb21wdDohMCxhcHBseVNuYXBzaG90T3B0aW9uczplPy5hcHBseVNuYXBzaG90T3B0aW9uc30sLi4udH0pLFwic3VjY2Vzc1wiKTpcInVzZXItZGVjbGluZWRcIn1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHJlc3RvcmUgbGFzdCBzYXZlZCB3b3Jrc3BhY2U6IFwiLGUpLGV9fWZ1bmN0aW9uIFlvKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7TXQoV3QuQ3VycmVudFdvcmtzcGFjZUlkLHQpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2V0IHRoZSBhY3RpdmUgd29ya3NwYWNlOiBcIixlKX19YXN5bmMgZnVuY3Rpb24gWG8oKXtjb25zdCBlPWJuKCksdD1hd2FpdCBlLmdldFNuYXBzaG90KCk7cmV0dXJue3dvcmtzcGFjZUlkOmlhKCksdGl0bGU6YXdhaXQgbnIoKSxtZXRhZGF0YTp7QVBJVmVyc2lvbjpPfSxzbmFwc2hvdDp0fX1hc3luYyBmdW5jdGlvbiBlcihlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybiBYbygpO2NvbnN0IHQ9eHQoV3QuQ3VycmVudFdvcmtzcGFjZUlkKTtpZighdClyZXR1cm4gWG8oKTtjb25zdCBhPUpTT04ucGFyc2UodCk7aWYoZT8uc2tpcFNuYXBzaG90VXBkYXRlKXJldHVybiBhO2NvbnN0IG49Ym4oKSxvPWF3YWl0IG4uZ2V0U25hcHNob3QoKTtyZXR1cm57Li4uYSxtZXRhZGF0YTp7QVBJVmVyc2lvbjpPfSxzbmFwc2hvdDpvfX1jb25zdCB0cj1hc3luYygpPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFdvcmtzcGFjZXMsdm9pZCAwKSxhcj1hc3luYyBlPT5hd2FpdChhc3luYyBlPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFdvcmtzcGFjZSxlKSkoZS53b3Jrc3BhY2VJZCk/KGFzeW5jIGU9Pihhd2FpdCBzdCh5ZSkpLmRpc3BhdGNoKG90LlVwZGF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlSWQ6ZS53b3Jrc3BhY2VJZCx3b3Jrc3BhY2U6ZX0pOihhc3luYyBlPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5DcmVhdGVTYXZlZFdvcmtzcGFjZSxlKSkoe3dvcmtzcGFjZTplfSk7YXN5bmMgZnVuY3Rpb24gbnIoZT1cIlVudGl0bGVkIFdvcmtzcGFjZVwiKXtjb25zdCB0PShhd2FpdCB0cigpKS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIGVvKGUsdCl9Y29uc3Qgb3I9ZT0+KHsuLi5lLHNuYXBzaG90OnsuLi5lLnNuYXBzaG90LHdpbmRvd3M6ZS5zbmFwc2hvdC53aW5kb3dzLm1hcCgoZT0+KHsuLi5lLHdvcmtzcGFjZVBsYXRmb3JtOnsuLi5lLndvcmtzcGFjZVBsYXRmb3JtLHBhZ2VzOmUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5tYXAoKGU9Pih7Li4uZSxoYXNVbnNhdmVkQ2hhbmdlczohMX0pKSl9fSkpKX19KSxycj1hc3luYyhlLHQpPT57Y29uc3QgYT10Pz9ibigpO2F3YWl0IGEuU3RvcmFnZS5zYXZlV29ya3NwYWNlKG9yKGUpKSxhd2FpdChhc3luYygpPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5NYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsLHZvaWQgMCkpKCl9LGlyPWFzeW5jIGU9Pntjb25zdCB0PWJuKCksYT1hd2FpdCB0LmdldEN1cnJlbnRXb3Jrc3BhY2UoKSxuPWF3YWl0IHQuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzTWV0YWRhdGEoKSxvPWEud29ya3NwYWNlSWQ7aWYobi5zb21lKChlPT5lLndvcmtzcGFjZUlkPT09bykpKWF3YWl0IHJyKGEsdCksYXdhaXQgdC5zZXRBY3RpdmVXb3Jrc3BhY2UoYSksYXdhaXQgVW8oT24oXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCIpLGUpO2Vsc2V7Y29uc3QgYT10LkJyb3dzZXIud3JhcFN5bmMoZSk7YXdhaXQgYS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6SS5TQVZFX1dPUktTUEFDRX0pfX0sc3I9ZT0+e2JuKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6SS5TQVZFX1dPUktTUEFDRV9BU30pfSxjcj1hc3luYyBlPT57Y29uc3QgdD1ibigpLkJyb3dzZXIud3JhcFN5bmMoZSkse25ld1BhZ2VVcmw6YX09YXdhaXQgT28oKSxuPWF3YWl0IEdvKGUpLG89YXx8dm9pZCAwO2F3YWl0IHQuX2FkZERlZmF1bHRQYWdlKHtpZGVudGl0eTplLHBhZ2U6bixuZXdQYWdlVXJsOm99KX0sbHI9YXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49YXdhaXQgYm4oKS5TdG9yYWdlLmdldFBhZ2VzKCksbz0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSkscj1uLnNvbWUoKGU9Pm8ucGFnZUlkPT09ZS5wYWdlSWQpKSxpPWF3YWl0IEh0KGUpO2lmKHIpdHJ5e2F3YWl0IGJuKCkuU3RvcmFnZS5zYXZlUGFnZSgoZD1vLHsuLi5kLGhhc1Vuc2F2ZWRDaGFuZ2VzOnZvaWQgMCxwYXJlbnRJZGVudGl0eTp2b2lkIDAsaXNBY3RpdmU6dm9pZCAwLGxheW91dDp4bihkLmxheW91dCl9KSksYXdhaXQgYS51cGRhdGVQYWdlKHtwYWdlSWQ6by5wYWdlSWQscGFnZTp7aGFzVW5zYXZlZENoYW5nZXM6ITF9fSksVW8oT24oaT9cImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCIpLGUsT24oaT9cImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIix7dGl0bGU6by50aXRsZX0pKX1jYXRjaHtzPU9uKFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIiksYz1vLnBhcmVudElkZW50aXR5Lm5hbWUsX28oXCJlcnJvclwiLHMsYyxsKX1lbHNlIGEuX29wZW5TYXZlTW9kYWwoe2lkOm8ucGFnZUlkLG1lbnVUeXBlOkkuU0FWRV9QQUdFfSk7dmFyIHMsYyxsLGR9LGRyPWFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKTthLl9vcGVuU2F2ZU1vZGFsKHtpZDpuLnBhZ2VJZCxtZW51VHlwZTpJLlNBVkVfUEFHRV9BU30pLFh0KHt0eXBlOlwiUGFnZSBNb2RhbFwiLGFjdGlvbjpcIlNlbGVjdCBTYXZlIEFzXCIsdmFsdWU6bi50aXRsZSxza2lwVmFsdWVIYXNoaW5nOiEwfSl9LHVyPXt0aXRsZTpcIkRvd25sb2Fkc1wiLHBhZ2VJZDpcImRvd25sb2Fkcy1wYWdlLWlkXCIsbGF5b3V0Ontjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOntuYW1lOlwic2hvdy1kb3dubG9hZC12aWV3XCIsdXJsOlwiY2hyb21lOi8vZG93bmxvYWRzL1wifX1dfV19fSxwcj1hc3luYyBlPT57Y29uc3QgdD1mZShlKSxhPWF3YWl0IHQuZ2V0Q3VycmVudFZpZXdzKCksbj0oYXdhaXQgYm4oKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTt0cnl7Y29uc3QgdD0oYXdhaXQgUHJvbWlzZS5hbGwoYS5tYXAoKGFzeW5jIGU9Pih7aWRlbnRpdHk6ZS5pZGVudGl0eSxpbmZvOmF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKGUuaWRlbnRpdHkpLmdldEluZm8oKX0pKSkpKS5maW5kKChlPT5cImNocm9tZTovL2Rvd25sb2Fkcy9cIj09PWUuaW5mby51cmwpKTtpZih0KWF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKHQuaWRlbnRpdHkpLmZvY3VzKCk7ZWxzZXtjb25zdCB0PWJuKCk7aWYobj8uaXNMb2NrZWQpe2NvbnN0IGU9KGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maW5kKChlPT5cInNob3ctZG93bmxvYWQtd2luZG93XCI9PT1lLmlkZW50aXR5Lm5hbWUpKTtyZXR1cm4gdm9pZChlP2F3YWl0IGUuZm9jdXMoKTp0LkJyb3dzZXIuY3JlYXRlV2luZG93KHtuYW1lOlwic2hvdy1kb3dubG9hZC13aW5kb3dcIix3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W3VyXX19KSl9KGF3YWl0IGJuKCkuY3JlYXRlVmlldyh7bmFtZTpcInNob3ctZG93bmxvYWQtdmlld1wiLHVybDpcImNocm9tZTovL2Rvd25sb2Fkcy9cIix0YXJnZXQ6ZX0sZSkpLmZvY3VzKCl9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBvcGVuIGRvd25sb2FkcyB2aWV3XCIsZSl9fSx3cj1hc3luYyBlPT57Y29uc3QgdD1lLm1hcCgoZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkucHJpbnQoKSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfSxncj1lPT57Y29uc3RbdCxhLG5dPWUuc3BsaXQoXCIuXCIpLm1hcCgoZT0+XCJ4XCI9PT1lPzA6MSkpO3JldHVybiAxMDAqdCsxMCphKzEqbn07Y2xhc3MgaHIgZXh0ZW5kcyBFcnJvcnt9Y29uc3QgbXI9YXN5bmMgZT0+e3RyeXtjb25zdCBhPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCBZKCksdD1lPy50cmFuc2xhdGlvbk92ZXJyaWRlc1VybD8/XCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS9hc3NldHMvdHJhbnNsYXRpb24tb3ZlcnJpZGUuanNvblwiO2lmKFwiXCI9PT10KXRocm93IG5ldyBocihcIkVtcHR5IHN0cmluZyBwcm92aWRlZCBhcyB1cmwgdG8gdHJhbnNsYXRpb25PdmVycmlkZXNVcmwsIG92ZXJyaWRlcyB3aWxsIG5vdCBiZSBmZXRjaGVkLlwiKTtyZXR1cm4gYXdhaXQgZmV0Y2godCkudGhlbigoZT0+ZS5qc29uKCkpKX0oKTsodD0oZT0+e2NvbnN0IHQ9Ty5zcGxpdChcIi5cIik7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZT0+e2NvbnN0IGE9ZS5zcGxpdChcIi5cIik7aWYoMyE9PWEubGVuZ3RoKXJldHVybiBjb25zb2xlLndhcm4oYEVuY291bnRlcmVkIGEgdHJhbnNsYXRpb24gb3ZlcnJpZGUgdmVyc2lvbiBzdHJpbmcgaW4gYW4gdW5zdXBwb3J0ZWQgZm9ybWF0OiAke2V9LiBWZXJzaW9ucyBtdXN0IGJlIGluIEEuQi5DIGZvcm1hdCB3aGVyZSBBLCBCLCBDIGFyZSBlaXRoZXIgaW50ZWdlcnMgb3IgdGhlIHdpbGRjYXJkIHN5bWJvbCAneCcuYCksITE7Y29uc3RbbixvLHJdPWE7cmV0dXJuIShuIT09dFswXSYmXCJ4XCIhPT1ufHxvIT09dFsxXSYmXCJ4XCIhPT1vfHxyIT09dFsyXSYmXCJ4XCIhPT1yKX0pKX0pKGEpLFsuLi50XS5zb3J0KCgoZSx0KT0+Z3IoZSktZ3IodCkpKSkuZm9yRWFjaCgodD0+e2NvbnN0IG49YVt0XTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKCh0PT57ZS5hZGRSZXNvdXJjZUJ1bmRsZSh0LFwidHJhbnNsYXRpb25cIixuW3RdLCEwLCEwKX0pKX0pKX1jYXRjaChlKXtlIGluc3RhbmNlb2YgaHI/Y29uc29sZS53YXJuKGUubWVzc2FnZSk6Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcGx5aW5nIGEgdHJhbnNsYXRpb24gb3ZlcnJpZGU6IFwiLGUpfXZhciB0fTtmdW5jdGlvbiBrcigpe3JldHVybiBSbigpLmxhbmd1YWdlfWNvbnN0IGJyPWFzeW5jIGU9PntTcihlKSwoZT0+e1JuKCkuY2hhbmdlTGFuZ3VhZ2UoZSl9KShlKSxhd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBNZSgpO3JldHVybiBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgQ2EodC5pZGVudGl0eSk7YXdhaXQgYS5kaXNwYXRjaChUYS5TZXRTZWxlY3RlZExhbmd1YWdlLGUpfSkpKX0pKGUpfTtmdW5jdGlvbiBmcigpe2lmKCFSbigpLm9wdGlvbnMucmVzb3VyY2VzKXRocm93IG5ldyBFcnJvcihcIk5vIGxhbmd1YWdlIHJlc291cmNlcyBmb3VuZFwiKTtyZXR1cm57Y3VycmVudExhbmd1YWdlOmtyKCkscmVzb3VyY2VzOlJuKCkub3B0aW9ucy5yZXNvdXJjZXN9fWFzeW5jIGZ1bmN0aW9uIHlyKGU9XCJlbi1VU1wiKXtTcihlKSxmdW5jdGlvbihlPVwiZW4tVVNcIil7Um4oKS51c2UoVG4uaW5pdFJlYWN0STE4bmV4dCkuaW5pdCh7bG5nOmUsZmFsbGJhY2tMbmc6XCJlbi1VU1wiLHJlc291cmNlczp7XCJlbi1VU1wiOnt0cmFuc2xhdGlvbjpWbn0sXCJqYS1KUFwiOnt0cmFuc2xhdGlvbjpMbn0sXCJ6aC1DTlwiOnt0cmFuc2xhdGlvbjpFbn0sXCJrby1LUlwiOnt0cmFuc2xhdGlvbjpfbn0sXCJydS1SVVwiOnt0cmFuc2xhdGlvbjpVbn0sXCJkZS1ERVwiOnt0cmFuc2xhdGlvbjpObn0sXCJ6aC1IYW50XCI6e3RyYW5zbGF0aW9uOkZufX0saW50ZXJwb2xhdGlvbjp7ZXNjYXBlVmFsdWU6ITF9fSl9KGUpLGF3YWl0IG1yKFJuKCkpfWZ1bmN0aW9uIFNyKGUpe2lmKCF4LmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgVGhlIElTTyBsYW5ndWFnZSBwcm92aWRlZCAke2V9IGlzIG5vdCBzdXBwb3J0ZWRgKX1jb25zdCB2cj1uZXcgTWFwO2xldCBQcj1EYXRlLm5vdygpO2Z1bmN0aW9uIENyKCl7Y29uc3QgZT1EYXRlLm5vdygpO3JldHVybiBQcj1NYXRoLm1heChlLFByKzEpLFByfWFzeW5jIGZ1bmN0aW9uIE1yKCl7Y29uc3QgZT1BcnJheS5mcm9tKHZyLnZhbHVlcygpKS5zb3J0KCgoZSx0KT0+dC5sYXN0Rm9jdXNlZFRpbWUtZS5sYXN0Rm9jdXNlZFRpbWUpKTtpZihlLmxlbmd0aD4wKXJldHVybiBlWzBdLmlkZW50aXR5O3RyeXtjb25zdCBlPXh0KFd0Lkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9SlNPTi5wYXJzZShlKTtpZihhd2FpdCBJZSh0KSlyZXR1cm4gYXdhaXQgQXIodCksdH1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCBsYXN0IGZvY3VzZWQgYnJvd3NlciB3aW5kb3cgZnJvbSBsb2NhbFN0b3JhZ2U6XCIsZSl9fWFzeW5jIGZ1bmN0aW9uIHhyKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTtyZXR1cm4oYXdhaXQgZS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5lLmlkZW50aXR5Lm5hbWUuc3RhcnRzV2l0aChtZS5Ccm93c2VyV2luZG93KSkpfWFzeW5jIGZ1bmN0aW9uIElyKCl7Y29uc3QgZT1ibigpLHQ9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOm1lLkRvY2tDb21wYW5pb259KSxhPWF3YWl0IERlKGF3YWl0IHQuZ2V0Qm91bmRzKCkpLG49YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGEpe2NvbnN0IG49YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpLG89YT8uYXZhaWxhYmxlUmVjdD8/bi5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LHI9e3dpZHRoOm8ucmlnaHQtby5sZWZ0LGhlaWdodDpvLmJvdHRvbS1vLnRvcH0saT1NYXRoLm1pbihlLHIuaGVpZ2h0KSxzPU1hdGgubWluKHQsci53aWR0aCksYz1vLnRvcCtNYXRoLmZsb29yKChyLmhlaWdodC1pKS8yKTtyZXR1cm57aGVpZ2h0Omksd2lkdGg6cyxsZWZ0Om8ubGVmdCtNYXRoLmZsb29yKChyLndpZHRoLXMpLzIpLHRvcDpjfX0oNjAwLDkwMCxhKSxvPWF3YWl0IEdvKCk7cmV0dXJuKGF3YWl0IGUuQnJvd3Nlci5jcmVhdGVXaW5kb3coe2RlZmF1bHRIZWlnaHQ6NjAwLGRlZmF1bHRXaWR0aDo5MDAsZGVmYXVsdExlZnQ6bi5sZWZ0LGRlZmF1bHRUb3A6bi50b3Asd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOltvXX19KSkuaWRlbnRpdHl9YXN5bmMgZnVuY3Rpb24gQXIoZSx0LGE9ITEpe2lmKCFhd2FpdCBDZShlKSlyZXR1cm47Y29uc3Qgbj1maW4uV2luZG93LndyYXBTeW5jKGUpLG89dD8/YXdhaXQgbi5pc1Nob3dpbmcoKSxyPXZyLmdldChlLm5hbWUpLGk9e2lkZW50aXR5OmUsbGFzdEZvY3VzZWRUaW1lOmE/Q3IoKTpyPy5sYXN0Rm9jdXNlZFRpbWU/P0NyKCksaXNWaXNpYmxlOm99O3ZyLnNldChlLm5hbWUsaSksYSYmZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtNdChXdC5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byBzYXZlIGxhc3QgZm9jdXNlZCBicm93c2VyIHdpbmRvdzogXCIsZSl9fShlKX1hc3luYyBmdW5jdGlvbiBXcihlPWZpbi5tZS5pZGVudGl0eSl7dnIuZGVsZXRlKGUubmFtZSl9Y29uc3QgRHI9cmEoKSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuQXBwbGljYXRpb24uZ2V0Q2hpbGRXaW5kb3dzKCk7bGV0IHQsYT0hMTtmb3IoY29uc3QgbiBvZiBlKWlmKG4uaWRlbnRpdHkubmFtZT09PW1lLkJyb3dzZXJNZW51fHxuLmlkZW50aXR5Lm5hbWU9PT1tZS5Ccm93c2VyU2F2ZU1lbnU/dD1uOmF3YWl0IENlKG4uaWRlbnRpdHkpJiYoYT0hMCksYSlicmVhazshYSYmdCYmdC5jbG9zZSgpfSksMTAwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSk7bGV0IFRyPXt9O2NvbnN0IEJyPWFzeW5jKHthY3Rpb25JZDplLHBheWxvYWQ6dH0pPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgVHJbZV0pdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGNvbmZpZ3VyZWQgZnVuY3Rpb24gZm9yIHRoZSBhY3Rpb24gJyR7ZX0nYCk7cmV0dXJuIFRyW2VdKHQpfTtsZXQgUnI7Y29uc3QgRXI9KCk9PmBjdXN0b20tY29udGV4dC1tZW51LSR7Ym4oKS5pZGVudGl0eS51dWlkfS0ke099YCxGcj0oKT0+YGN1c3RvbS1ib29rbWFyay1jb250ZXh0LW1lbnUtJHtibigpLmlkZW50aXR5LnV1aWR9LSR7T31gLFZyPWFzeW5jKCk9PihScnx8KFJyPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChFcigpKSksUnIpO3ZhciBOcixMcjshZnVuY3Rpb24oZSl7ZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZUFzXCJ9KE5yfHwoTnI9e30pKSxmdW5jdGlvbihlKXtlLkdsb2JhbE1lbnU9XCJnbG9iYWwtbWVudVwiLGUuQ29udGV4dE1lbnU9XCJjb250ZXh0LW1lbnVcIixlLlJlbmFtZVN1cGVydGFiPVwicmVuYW1lLXN1cGVydGFiXCIsZS5BZGRFZGl0Qm9va21hcms9XCJhZGQtZWRpdC1ib29rbWFya1wiLGUuRHJvcGRvd25NZW51PVwiZHJvcGRvd24tbWVudVwiLGUuWm9vbUNvbnRyb2xzPVwiem9vbS1jb250cm9sc1wifShMcnx8KExyPXt9KSk7Y29uc3QgX3I9KGUsdD1cIlwiKT0+ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSksVXI9XCJ2aXNpdGVkLXNpdGVzXCIsT3I9XCJyZW1vdmVkLXRhYi1zdGFja1wiLEdyPVQmJlcmJkJ0KFwib3BlbmZpbi1ob21lLXBhZ2VzXCIsXCJwYWdlc1wiKSxIcj1UJiZXJiZuZXcgdnQuRGV4aWUoRHQoXCJvcGVuZmluLWVudGVycHJpc2Utc2l0ZS1oaXN0b3J5XCIpKTtIciYmSHIudmVyc2lvbiguMSkuc3RvcmVzKHtbVXJdOlwiaWQsIHVybFwifSk7Y29uc3QgJHI9VCYmVyYmbmV3IHZ0LkRleGllKER0KFwib3BlbmZpbi1lbnRlcnByaXNlLXRhYi1oaXN0b3J5XCIpKTthc3luYyBmdW5jdGlvbiB6cihlKXtpZighR3IpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBwYWdlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgR3IucGFnZXMuZ2V0KGUpO2lmKHQpcmV0dXJuIHQucGFnZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQucGFnZUlkLHR9YXN5bmMgZnVuY3Rpb24gS3IoZSl7aWYoIUdyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgcGFnZSBsaXN0IC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgR3IucGFnZXMudG9Db2xsZWN0aW9uKCkua2V5cygpLGE9KGF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT56cihlLnRvU3RyaW5nKCkpKSkpKS5maWx0ZXIoKGU9PiEhZSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT5fcih0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiBKcih7cGFnZTplfSl7aWYoIUdyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgcGFnZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTthd2FpdCBHci5wYWdlcy5wdXQoZSxlLnBhZ2VJZCl9YXN5bmMgZnVuY3Rpb24gWnIoZSl7aWYoIUdyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWxldGUgcGFnZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTthd2FpdCBHci5wYWdlcy5kZWxldGUoZSl9YXN5bmMgZnVuY3Rpb24gcXIoe3BhZ2VJZDplLHBhZ2U6dH0pe2lmKCFHcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIHBhZ2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7aWYodm9pZCAwPT09YXdhaXQgenIoZSkpdGhyb3cgbmV3IEVycm9yKFwicGFnZSBub3QgZm91bmRcIik7YXdhaXQgSnIoe3BhZ2U6dH0pLGUhPT10LnBhZ2VJZCYmYXdhaXQgWnIoZSl9JHImJiRyLnZlcnNpb24oLjEpLnN0b3Jlcyh7W09yXTpcIlwifSk7Y29uc3QganI9YXN5bmMgZT0+e2lmKCEkcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gYWRkIHJlbW92ZWQgdGFiIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9RGF0ZS5ub3coKS50b1N0cmluZygpLGE9ey4uLmUsaWQ6dH07YXdhaXQgJHJbT3JdLnB1dChhLHQpfTtmdW5jdGlvbiBRcihlKXtyZXR1cm5cImFwcFwiPT09ZS50eXBlfHxcIndlYnNpdGVcIj09PWUudHlwZX1jb25zdCBZcj1hc3luYyBlPT57aWYoXCJ3ZWJzaXRlXCI9PT1lLnR5cGUpe2NvbnN0IHQ9ZSxhPXQudXJsfHxcIlwiO2xldCBuPWF3YWl0IEhyW1VyXS5nZXQoYSk7biYmUXIobik/KG4uaWNvbj10Lmljb24sbi50aXRsZT10LnRpdGxlLG4udHlwZT10LnR5cGUsbi52aXNpdENvdW50PShuLnZpc2l0Q291bnR8fDApKzEsbi51cmw9dC51cmwpOm49ey4uLnQsaWQ6YSx2aXNpdENvdW50OjEsYWNjZXNzVGltZTp2b2lkIDB9LG4uYWNjZXNzVGltZT1EYXRlLm5vdygpLGF3YWl0IEhyW1VyXS5wdXQobixhKX19LFhyPWFzeW5jKCk9PntpZighSHIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBmcmVxdWVudGx5IHZpc2l0ZWQgc2l0ZXMgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgZT1IcltVcl0sdD1hd2FpdCBlLnRvQ29sbGVjdGlvbigpLnRvQXJyYXkoKTt0LnNvcnQoKChlLHQpPT4odC52aXNpdENvdW50fHwwKS0oZS52aXNpdENvdW50fHwwKSkpO3JldHVybih0Lmxlbmd0aD41P3Quc2xpY2UoMCw1KTp0KS5tYXAoKCh7aWQ6ZSwuLi50fSk9PnQpKX07Y29uc3QgZWk9YXN5bmMoKT0+KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0SG9zdFNwZWNzKCkpLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIndpbmRvd3NcIiksdGk9YXN5bmMoe2Jyb3dzZXJJZGVudGl0eTplLHVybDp0LHNoaWZ0S2V5OmEsYWN0aXZlUGFnZTpuLHBhZ2VzOm99KT0+e2NvbnN0IHI9Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUpLGk9YXdhaXQgQW4odCx0LGUpLHM9ey4uLmF3YWl0IHdhKHQsaSksYXR0YWNoZWRQYWdlVHlwZTpcInNpbmdsZVZpZXdcIixzaW5nbGVWaWV3TmFtZTp0fSxjPW8uZmluZEluZGV4KChlPT5lLnBhZ2VJZD09PW4ucGFnZUlkKSk7YXdhaXQgci5fYWRkUGFnZShzLHtpbmRleDpjKzF9KSxhJiZhd2FpdCByLnNldEFjdGl2ZVBhZ2Uocy5wYWdlSWQpfSxhaT1hc3luYyBlPT57Y29uc3R7dXJsOnR9PWUuYm9va21hcmsse3NvdXJjZUlkZW50aXR5OmEsc291cmNlRXZlbnQ6bn09ZSxvPWF3YWl0IGVpKCkscj1ibigpO2xldCBpPSExLHM9YTtpZighYXdhaXQgQ2UoYSkpe2NvbnN0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPUFycmF5LmZyb20odnIudmFsdWVzKCkpO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGVbdF0uaXNWaXNpYmxlKXJldHVybiBlW3RdLmlkZW50aXR5fSgpO2lmKCF0KXJldHVybiBhd2FpdChhc3luYyBlPT57Y29uc3QgdD1ibigpLGE9YXdhaXQgQW4oZS51cmwsZS51cmwpLG49YXdhaXQgd2EoZS51cmwsYSk7UGUoKGF3YWl0IHQuQnJvd3Nlci5jcmVhdGVXaW5kb3coe3dvcmtzcGFjZVBsYXRmb3JtOntwYWdlczpbbl19fSkpLmlkZW50aXR5KX0pKGUuYm9va21hcmspO2k9ITAscz10fWNvbnN0IGM9ci5Ccm93c2VyLndyYXBTeW5jKHMpLGw9YXdhaXQgYy5nZXRQYWdlcygpLGQ9KGF3YWl0IGMuX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3cygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSk7aWYoIWQpdGhyb3cgRXJyb3IoYEJyb3dzZXIgJHtzfSBkb2VzIG5vdCBoYXZlIGFueSBhY3RpdmUgbGF5b3V0c2ApO2NvbnN0IHU9bC5maW5kKChlPT5lLmlzQWN0aXZlKSkscD0xPT09RG4odS5sYXlvdXQuY29udGVudCksdz1kLnNlbGVjdGVkVmlld3NbMF07aT9hd2FpdCB0aSh7YnJvd3NlcklkZW50aXR5OnMsdXJsOnQsc2hpZnRLZXk6ITAsYWN0aXZlUGFnZTp1LHBhZ2VzOmx9KTpwP2F3YWl0KGFzeW5jKHtpc1dpbmRvd3M6ZSxjdXJyZW50Vmlld0lkOnQsYnJvd3NlcklkZW50aXR5OmEsdXJsOm4sYWN0aXZlUGFnZTpvLHBhZ2VzOnIsc291cmNlRXZlbnQ6aX0pPT57Y29uc3R7Y3RybEtleTpzLG1ldGFLZXk6YyxzaGlmdEtleTpsfT1pOyhlP3M6Yyk/YXdhaXQgdGkoe2Jyb3dzZXJJZGVudGl0eTphLHVybDpuLHNoaWZ0S2V5OmwsYWN0aXZlUGFnZTpvLHBhZ2VzOnJ9KTphd2FpdCBmaW4uVmlldy53cmFwU3luYyh0KS5uYXZpZ2F0ZShuKX0pKHtpc1dpbmRvd3M6byxjdXJyZW50Vmlld0lkOncsYnJvd3NlcklkZW50aXR5OnMsdXJsOnQsYWN0aXZlUGFnZTp1LHBhZ2VzOmwsc291cmNlRXZlbnQ6bn0pOmF3YWl0KGFzeW5jKHtpc1dpbmRvd3M6ZSxjdXJyZW50Vmlld0lkOnQsYnJvd3NlcklkZW50aXR5OmEsdXJsOm4sYWN0aXZlTGF5b3V0Om8sc291cmNlRXZlbnQ6cn0pPT57Y29uc3R7Y3RybEtleTppLG1ldGFLZXk6cyxzaGlmdEtleTpjfT1yO2lmKGU/aTpzKXtjb25zdCBlPWZpbi5WaWV3LndyYXBTeW5jKHQpLG89YXdhaXQgZS5nZXRDdXJyZW50U3RhY2soKSxyPShhd2FpdCBvLmdldFZpZXdzKCkpLmZpbmRJbmRleCgoZT0+ZS5uYW1lPT09dC5uYW1lKSksaT17dXJsOm4sYnJvd3NlcklkZW50aXR5OmEsdGl0bGU6bn07YXdhaXQgby5hZGRWaWV3KGkse2luZGV4OnIrMX0pfWVsc2UgYXdhaXQgZmluLlZpZXcud3JhcFN5bmMoby5zZWxlY3RlZFZpZXdzWzBdKS5uYXZpZ2F0ZShuKX0pKHtpc1dpbmRvd3M6byxjdXJyZW50Vmlld0lkOncsYnJvd3NlcklkZW50aXR5OnMsdXJsOnQsYWN0aXZlTGF5b3V0OmQsc291cmNlRXZlbnQ6bn0pfTt2YXIgbmk7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0obml8fChuaT17fSkpO2xldCBvaT17bG9ja2VkOiExLHg6LTEseTotMX07Y29uc3Qgcmk9YXN5bmMoZSx0LGEsbik9PntpZighVyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93RW50ZXJwcmlzZUNvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYSBIZXJlIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7aWYoIW4mJiFmaW4ubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwic2hvd0VudGVycHJpc2VDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGEgSGVyZSB3aW5kb3cuXCIpO2NvbnN0e3g6byx5OnIsdGVtcGxhdGU6aX09ZTtpZigoKGUsdCk9Pntjb25zdHt4OmEseTpuLGxvY2tlZDpvfT1vaTtyZXR1cm4gbyYmZT09PWEmJnQ9PT1ufSkobyxyKSlyZXR1cm4gbmV3IFByb21pc2UoKChlLHQpPT5lKHtkYXRhOnZvaWQgMH0pKSk7b2k9e2xvY2tlZDohMCx4Om8seTpyfTtjb25zdCBzPWF3YWl0IFZyKCksYz1pYSgpLGw9bmV3IFByb21pc2UoKChlLHQpPT57cy5yZWdpc3RlcihgcmVzcG9uc2UtJHtjfWAsKHQ9PntvaS5sb2NrZWQ9ITEscy5yZW1vdmUoYHJlc3BvbnNlLSR7Y31gKSxlKHQpfSkpfSkpO3JldHVybiBhd2FpdCBzLmRpc3BhdGNoKFwib3BlblwiLHtwYXJlbnRJZGVudGl0eTpuLmlkZW50aXR5LHJlc3BvbnNlSWRlbnRpdHk6eWUscmVxdWVzdElkOmMsdHlwZTp0LGFuY2hvckJlaGF2aW9yOmEseDpvLHk6cixwYXlsb2FkOnt0ZW1wbGF0ZTppfX0pLGx9LGlpPXt0eXBlOm5pLlNlcGFyYXRvcixkYXRhOnZvaWQgMH0sc2k9YXN5bmMoKT0+KHt0eXBlOm5pLlN1Ym1lbnUsbGFiZWw6T24oXCJjb250ZXh0TWVudS5wcmludFwiKSxzdWJtZW51Olt7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIiksZGF0YTp7dHlwZTpTLlByaW50fX0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCIpLGRhdGE6e3R5cGU6Uy5QcmludEFsbH19LGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIiksZGF0YTp7dHlwZTpTLlByaW50U2NyZWVufX1dfSksY2k9KCk9Pih7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCIpLGRhdGE6e3R5cGU6bS5DbG9zZVdpbmRvd319KSxsaT1lPT4oe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oZT9cImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCIpLGRhdGE6e3R5cGU6bS5RdWl0fX0pLGRpPSgpPT4oe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIiksZGF0YTp7dHlwZTptLk5ld1dpbmRvd319KSx1aT1lPT4oe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oZT9cImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcImNvbnRleHRNZW51LnNhdmVQYWdlXCIpLGRhdGE6e3R5cGU6bS5TYXZlUGFnZX19KSxwaT1lPT4oe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oZT9cImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiKSxkYXRhOnt0eXBlOm0uU2F2ZVBhZ2VBc319KSx3aT0oZSx0KT0+KHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKHQ/XCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJjb250ZXh0TWVudS5uZXdQYWdlXCIpLGRhdGE6e3R5cGU6bS5OZXdQYWdlfSxlbmFibGVkOmV9KSxnaT0oKT0+KHtsYWJlbDpPbihcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiKX0pLGhpPSgpPT4oe2xhYmVsOk9uKFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCIpfSksbWk9KCk9Pih7bGFiZWw6T24oXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCIpfSksa2k9KGUsdCxhKT0+dC5tYXAoKHQ9Pntjb25zdCBuPXQud29ya3NwYWNlSWQ9PT1lLndvcmtzcGFjZUlkO3JldHVybntsYWJlbDp0LnRpdGxlLHR5cGU6bmkuQ2hlY2tib3gsZW5hYmxlZDohbixjaGVja2VkOm4sZGF0YTp7dHlwZTphLHdvcmtzcGFjZUlkOnQud29ya3NwYWNlSWR9fX0pKSxiaT1hc3luYygpPT57Y29uc3QgZT1hd2FpdCBibigpLlRoZW1lLmdldFNlbGVjdGVkU2NoZW1lKCk7cmV0dXJuW3tsYWJlbDpPbihcInRoZW1lLmxpZ2h0XCIpLHR5cGU6bmkuQ2hlY2tib3gsY2hlY2tlZDplPT09ay5MaWdodCxkYXRhOnt0eXBlOm0uQXBwZWFyYW5jZSxzY2hlbWU6ay5MaWdodH19LHtsYWJlbDpPbihcInRoZW1lLmRhcmtcIiksdHlwZTpuaS5DaGVja2JveCxjaGVja2VkOmU9PT1rLkRhcmssZGF0YTp7dHlwZTptLkFwcGVhcmFuY2Usc2NoZW1lOmsuRGFya319LHtsYWJlbDpPbihcInRoZW1lLnN5c3RlbVwiKSx0eXBlOm5pLkNoZWNrYm94LGNoZWNrZWQ6ZT09PWsuU3lzdGVtLGRhdGE6e3R5cGU6bS5BcHBlYXJhbmNlLHNjaGVtZTprLlN5c3RlbX19XX0sZmk9YXN5bmMoZSx0PVtdKT0+e2NvbnN0IGE9YXdhaXQgQWUoKSx7bmV3UGFnZVVybDpufT1hd2FpdCBPbyhlKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWZlKGUpLHt3b3Jrc3BhY2VQbGF0Zm9ybTphfT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYT8uZGlzYWJsZU11bHRpcGxlUGFnZXN9KShlKSxyPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWZlKGUpLHt3b3Jrc3BhY2VQbGF0Zm9ybTphfT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYT8uaXNMb2NrZWR9KShlKSxpPWF3YWl0IEh0KGUpLHM9W10sYz10Lmxlbmd0aD4wO24mJihzLnB1c2goZGkoKSksb3x8cy5wdXNoKHdpKCFyLGkpKSkscy5wdXNoKGlpKTtjb25zdCBsPWJuKCksZD1hd2FpdCBsLmdldEN1cnJlbnRXb3Jrc3BhY2Uoe3NraXBTbmFwc2hvdFVwZGF0ZTohMH0pLHU9YXdhaXQgbC5TdG9yYWdlLmdldFdvcmtzcGFjZXNNZXRhZGF0YSgpLHA9dS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09ZC53b3Jrc3BhY2VJZCkpO3MucHVzaCh7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnJlc3RvcmVcIiksZGF0YTp7dHlwZTptLlJlc3RvcmVDaGFuZ2VzfSxlbmFibGVkOiEhcH0pLHMucHVzaCh7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIiksZGF0YTp7dHlwZTptLlNhdmVXb3Jrc3BhY2V9LGVuYWJsZWQ6ISFwfSkscy5wdXNoKHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCIpLGRhdGE6e3R5cGU6bS5TYXZlV29ya3NwYWNlQXN9fSkscy5wdXNoKHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCIpLGRhdGE6e3R5cGU6bS5SZW5hbWVXb3Jrc3BhY2V9LGVuYWJsZWQ6ISFwfSksdS5zb21lKChlPT5lLndvcmtzcGFjZUlkIT09ZC53b3Jrc3BhY2VJZCkpP3MucHVzaCh7bGFiZWw6Z2koKS5sYWJlbCxzdWJtZW51OmtpKGQsdSxtLlN3aXRjaFdvcmtzcGFjZSksZGF0YTp2b2lkIDB9LHtsYWJlbDpoaSgpLmxhYmVsLHN1Ym1lbnU6a2koZCx1LG0uRGVsZXRlV29ya3NwYWNlKSxkYXRhOnZvaWQgMH0pOnMucHVzaCh7bGFiZWw6Z2koKS5sYWJlbCxlbmFibGVkOiExLGRhdGE6dm9pZCAwfSx7bGFiZWw6aGkoKS5sYWJlbCxlbmFibGVkOiExLGRhdGE6dm9pZCAwfSkscy5wdXNoKHtsYWJlbDpPbihcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiKSxkYXRhOnt0eXBlOm0uRG93bmxvYWRzfX0pO2NvbnN0IHc9YXdhaXQgbC5UaGVtZS5nZXRUaGVtZXMoKTtyZXR1cm4odyYmd1swXSYmXCJwYWxldHRlc1wiaW4gd1swXXx8IXdbMF18fDA9PT13Lmxlbmd0aCkmJnMucHVzaCh7bGFiZWw6bWkoKS5sYWJlbCxzdWJtZW51OmF3YWl0IGJpKCksZGF0YTp2b2lkIDB9KSxzLnB1c2goaWksdWkoaSkscGkoaSksYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZWkoKTtyZXR1cm57bGFiZWw6T24oXCJjb250ZXh0TWVudS5wcmludFwiKSxzdWJtZW51Olt7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIiksZGF0YTp7dHlwZTptLlByaW50fSxlbmFibGVkOmV9LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiKSxkYXRhOnt0eXBlOm0uUHJpbnRBbGx9fSwuLi50P1tpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCIpLGRhdGE6e3R5cGU6bS5QcmludFNjcmVlbn19XTpbXV0sZGF0YTp2b2lkIDB9fSkoYykpLGE/Wy4uLnMsY2koKSxpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCIpLGRhdGE6e3R5cGU6bS5PcGVuU3RvcmVmcm9udH19LGlpLGxpKCldOlsuLi5zLGlpLGNpKCksaWksbGkoKV19LHlpPWFzeW5jKGUsdCk9Pntjb25zdCBhPXQuc2VsZWN0ZWRWaWV3c1swXSxuPWZpbi5WaWV3LndyYXBTeW5jKGEpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0e25ld1RhYlVybDp0fT1hd2FpdCBPbyhlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1RhYlVybCBzZXRcIik7cmV0dXJue3VybDp0LHRhcmdldDplLHRpdGxlOlwiTmV3IFRhYlwifX0pKGUpO2F3YWl0IGJuKCkuY3JlYXRlVmlldyhvLGUsbi5pZGVudGl0eSl9LFNpPWFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKSxvPWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoZSkuZ2V0Q3VycmVudFZpZXdzKCk7aWYodC5sZW5ndGg9PT1vLmxlbmd0aC0obi5wYW5lbHM/P1tdKS5sZW5ndGgpe3JldHVybiB2b2lkKGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5DbG9zZVBhZ2Use3BhZ2VJZDpuPy5wYWdlSWR9KX1jb25zdCByPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3QuZm9yRWFjaCgoYXN5bmMgdD0+e2NvbnN0IG89YXdhaXQgZmluLlZpZXcud3JhcFN5bmModCkuZ2V0UGFyZW50TGF5b3V0KCk7YXdhaXQgci5jbG9zZVZpZXcodCk7Y29uc3R7aGFzVW5zYXZlZENoYW5nZXM6aX09YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGN0KHllKSkuZGlzcGF0Y2gob3QuSGFuZGxlUGFnZUNoYW5nZXMsZSkpKHtwYWdlOnsuLi5uLGxheW91dDphd2FpdCBvLmdldENvbmZpZygpfSxpZGVudGl0eTplLGV2ZW50RGV0YWlsczp7dHlwZTpoLlZpZXdSZW1vdmVkLHZpZXdJZGVudGl0eTp0fX0pO2kmJmF3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOm4ucGFnZUlkLHBhZ2U6e2hhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0pfSkpfSx2aT1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChlPT5Qcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkuZ2V0SW5mbygpKSkpKSh0KSx7bmV3UGFnZVVybDpuLG5ld1RhYlVybDpvfT1hd2FpdCBPbyhlKTthLmZvckVhY2goKGFzeW5jIGU9PntlLnVybCE9PW4mJmUudXJsIT09byYmYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZS51cmwpfSkpfSxQaT0oZSx0KT0+e3QuZm9yRWFjaCgoYXN5bmMgdD0+e2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCk7YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0e3VybDphfT1hd2FpdCB0LmdldEluZm8oKSxuPXsuLi5hd2FpdCB0LmdldE9wdGlvbnMoKSx1cmw6YSx0YXJnZXQ6ZSxuYW1lOnZvaWQgMH07YXdhaXQgYm4oKS5jcmVhdGVWaWV3KG4sZSx0LmlkZW50aXR5KX0pKGUsYSl9KSl9LENpPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49e25ld0NoYW5uZWxJZDp0LHNlbGVjdGVkVmlld3M6YX07KGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5BZGRUb0NoYW5uZWwsbil9LE1pPWFzeW5jKGUsdCk9PnsoYXdhaXQgQ2EoZSkpLmRpc3BhdGNoKFRhLlJlbW92ZUZyb21DaGFubmVsLHQpfSx4aT1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eSxuPWZpbi5XaW5kb3cud3JhcFN5bmMoYSk7c3dpdGNoKFh0KHt0eXBlOlwiVmlldyBUYWIgTWVudVwiLGFjdGlvbjpcIlNlbGVjdCBNZW51IEl0ZW1cIix2YWx1ZTplLnR5cGUsc2tpcFZhbHVlSGFzaGluZzohMH0pLGUudHlwZSl7Y2FzZSBTLkJhY2s6YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9ZS5tYXAoKGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLm5hdmlnYXRlQmFjaygpKSk7YXdhaXQgUHJvbWlzZS5hbGwodCl9KSh0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgUy5Gb3J3YXJkOmF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWUubWFwKChlPT5maW4uVmlldy53cmFwU3luYyhlKS5uYXZpZ2F0ZUZvcndhcmQoKSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfSkodC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuUHJpbnQ6YXdhaXQgd3IodC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuUHJpbnRBbGw6YXdhaXQgbi5wcmludCh7Y29udGVudDpcInZpZXdzXCIsaW5jbHVkZVNlbGY6ITF9KTticmVhaztjYXNlIFMuUHJpbnRTY3JlZW46YXdhaXQgbi5wcmludCh7Y29udGVudDpcInNjcmVlbnNob3RcIn0pO2JyZWFrO2Nhc2UgUy5DbG9zZVZpZXdzOmF3YWl0IFNpKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcjphd2FpdCB2aShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBTLlJlbG9hZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cy5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LnJlbG9hZCgpfSkpO2JyZWFrO2Nhc2UgUy5OZXdWaWV3OmF3YWl0IHlpKGEsdCk7YnJlYWs7Y2FzZSBTLkR1cGxpY2F0ZVZpZXdzOlBpKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuQWRkVG9DaGFubmVsOkNpKGEsZS5vcHRpb24sdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuUmVtb3ZlRnJvbUNoYW5uZWw6TWkoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgUy5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IG49e2NhbGxlclR5cGU6TS5WaWV3VGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxzZWxlY3RlZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cyxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O2JuKCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxuKX19fSxJaT0ocmVxdWlyZShcInRpdGxlLWNhc2VcIiksbmV3IE1hcChbW1wiYmx1ZVwiLHtuYW1lOlwiQmx1ZVwiLGNvbG9yOlwiIzAwOTFFQlwifV0sW1wiaW5kaWdvXCIse25hbWU6XCJJbmRpZ29cIixjb2xvcjpcIiM2NDUwRkZcIn1dLFtcInBpbmtcIix7bmFtZTpcIlBpbmtcIixjb2xvcjpcIiNFODc4Q0ZcIn1dLFtcInRlYWxcIix7bmFtZTpcIlRlYWxcIixjb2xvcjpcIiMyNEQxRDFcIn1dLFtcImdyZWVuXCIse25hbWU6XCJHcmVlblwiLGNvbG9yOlwiIzAwQUY3OFwifV0sW1wib3JhbmdlXCIse25hbWU6XCJPcmFuZ2VcIixjb2xvcjpcIiNGRjdEMzdcIn1dLFtcInJlZFwiLHtuYW1lOlwiUmVkXCIsY29sb3I6XCIjRjk0MTQ0XCJ9XSxbXCJ5ZWxsb3dcIix7bmFtZTpcIlllbGxvd1wiLGNvbG9yOlwiI0Y5Qzc0RlwifV0sW1wiZ3JheVwiLHtuYW1lOlwiR3JheVwiLGNvbG9yOlwiIzgyODc4OFwifV1dKSk7ZnVuY3Rpb24gQWkoKXtyZXR1cm57dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCIpLGRhdGE6e3R5cGU6Yi5NYW5hZ2VEZXNrdG9wU2lnbmFsc319fWZ1bmN0aW9uIFdpKGUpe2NvbnN0IHQ9QXJyYXkuZnJvbShJaS5lbnRyaWVzKCkpLGE9ZS5jb250ZXh0R3JvdXA7cmV0dXJue3R5cGU6XCJ3aWRnZXRcIixjb25maWc6e3R5cGU6XCJhZGQtdG8tY2hhbm5lbFwiLGNoYW5uZWxzOlsuLi50Lm1hcCgoKFtlLHRdKT0+KHtsYWJlbDp0Lm5hbWUsZGF0YTp7dHlwZTpiLkFkZFRvQ2hhbm5lbCxvcHRpb246ZX0sY29sb3I6dC5jb2xvcixjaGVja2VkOmE9PT1lfSkpKSx7bGFiZWw6XCJ1bmxpbmtcIixkYXRhOnt0eXBlOmIuQWRkVG9DaGFubmVsLG9wdGlvbjpcInVubGlua1wifSxpc05vbmU6ITB9XX0sbGFiZWw6XCJMaW5rIHRvIENoYW5uZWxcIn19bGV0IERpPVwiUGxhdGZvcm1cIjtjb25zdCBUaT1hc3luYygpPT5EaTtjb25zdCBCaT1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eSxuPWF3YWl0IENhKGEpLG89Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGEpLHI9ZmluLldpbmRvdy53cmFwU3luYyhhKTtpZihYdCh7dHlwZTpcIkdsb2JhbCBNZW51XCIsYWN0aW9uOlwiU2VsZWN0IE1lbnUgSXRlbVwiLHZhbHVlOmUudHlwZSxza2lwVmFsdWVIYXNoaW5nOiEwLGRhdGE6e2FjdGlvbjplLmFjdGlvbj8uaWR9fSksYXdhaXQgSHQoYSkpe2NvbnN0IGE9YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9dC5pZGVudGl0eSxuPWJuKCkuQnJvd3Nlci53cmFwU3luYyhhKSxvPShhd2FpdCBuLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKSxyPWhhKHsuLi5hLGxheW91dE5hbWU6by5sYXlvdXRDb250YWluZXJLZXl9KSxpPXQuc2VsZWN0ZWRWaWV3cztzd2l0Y2goZT8udHlwZSl7Y2FzZSBmLkxvY2s6YXdhaXQgbi51cGRhdGVQYWdlKHtwYWdlSWQ6by5wYWdlSWQscGFnZTp7aXNMb2NrZWQ6IW8uaXNMb2NrZWR9fSk7YnJlYWs7Y2FzZSBmLkFkZFRvQ2hhbmVsOmUub3B0aW9uP2F3YWl0IENpKGEsZS5vcHRpb24saSk6bnVsbD09PWUub3B0aW9uJiZhd2FpdCBNaShhLGkpO2JyZWFrO2Nhc2UgZi5NYW5hZ2VEZXNrdG9wU2lnbmFsczphd2FpdCBYYShhKTticmVhaztjYXNlIG0uTmV3V2luZG93Ontjb25zdCBlPWF3YWl0IEdvKGEpO2F3YWl0IGJuKCkuQnJvd3Nlci5jcmVhdGVXaW5kb3coe3dvcmtzcGFjZVBsYXRmb3JtOntwYWdlczpbZV0sd2luZG93VHlwZTpcImVudGVycHJpc2VcIn19KTticmVha31jYXNlIGYuUGluOntjb25zdHthbHdheXNPblRvcDplfT1hd2FpdCBuLm9wZW5maW5XaW5kb3cuZ2V0T3B0aW9ucygpO2F3YWl0IG4ub3BlbmZpbldpbmRvdy51cGRhdGVPcHRpb25zKHthbHdheXNPblRvcDohZX0pO2JyZWFrfWNhc2UgZi5TaG93SGlkZVRhYnM6YXdhaXQgci5pc1Nob3dpbmdUYWJzKCk/YXdhaXQgci5oaWRlKCk6YXdhaXQgci5zaG93KCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4hMH0pKGUsdCk7aWYoYSlyZXR1cm59c3dpdGNoKGUudHlwZSl7Y2FzZSBtLk5ld1dpbmRvdzp7Y29uc3R7bmV3UGFnZVVybDplfT1hd2FpdCBPbyhhKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IGVtcHR5IHdpbmRvdyB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7Ym4oKS5jcmVhdGVWaWV3KHt0YXJnZXQ6dm9pZCAwLHVybDplfSk7YnJlYWt9Y2FzZSBtLk5ld1BhZ2U6YXdhaXQgY3IoYSk7YnJlYWs7Y2FzZSBtLkNsb3NlV2luZG93Om4uZGlzcGF0Y2goVGEuQ2xvc2VCcm93c2VyV2luZG93KTticmVhaztjYXNlIG0uU2F2ZVdvcmtzcGFjZTphd2FpdCBpcihhKTticmVhaztjYXNlIG0uU2F2ZVBhZ2U6YXdhaXQgbHIoYSk7YnJlYWs7Y2FzZSBtLlNhdmVQYWdlQXM6YXdhaXQgZHIoYSk7YnJlYWs7Y2FzZSBtLlNhdmVXb3Jrc3BhY2VBczphd2FpdCBzcihhKTticmVhaztjYXNlIG0uUmVuYW1lV29ya3NwYWNlOm8uX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOkkuUkVOQU1FX1dPUktTUEFDRX0pO2JyZWFrO2Nhc2UgbS5Td2l0Y2hXb3Jrc3BhY2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKSxuPShhd2FpdCBhLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO2EuYXBwbHlXb3Jrc3BhY2Uobix7c2tpcFByb21wdDohMSxwcm9tcHRDb250YWluZXJXaW5kb3dJZGVudGl0eTplfSl9KShhLGUpO2JyZWFrO2Nhc2UgbS5EZWxldGVXb3Jrc3BhY2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKSxuPShhd2FpdCBhLlN0b3JhZ2UuZ2V0V29ya3NwYWNlc01ldGFkYXRhKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7biYmYXdhaXQgJG8oZSxuLnRpdGxlKSYmKGF3YWl0IGEuU3RvcmFnZS5kZWxldGVXb3Jrc3BhY2UodC53b3Jrc3BhY2VJZCksVW8oT24oXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIiksZSkpfSkoYSxlKTticmVhaztjYXNlIG0uRG93bmxvYWRzOmF3YWl0IHByKGEpO2JyZWFrO2Nhc2UgbS5BcHBlYXJhbmNlOmF3YWl0IGJuKCkuVGhlbWUuc2V0U2VsZWN0ZWRTY2hlbWUoZS5zY2hlbWUpO2JyZWFrO2Nhc2UgbS5RdWl0Ontjb25zdCBlPVRpKCk7YXdhaXQgem8oYSxhd2FpdCBlKSYmZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpfWJyZWFrO2Nhc2UgbS5PcGVuU3RvcmVmcm9udDooYXN5bmMoKT0+e2F3YWl0IEFlKCkmJlBlKHZlKX0pKCk7YnJlYWs7Y2FzZSBtLlJlc3RvcmVDaGFuZ2VzOmF3YWl0IFFvKCk7YnJlYWs7Y2FzZSBtLlByaW50OmF3YWl0IHdyKHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBtLlByaW50QWxsOmF3YWl0IHIucHJpbnQoe2NvbnRlbnQ6XCJ2aWV3c1wiLGluY2x1ZGVTZWxmOiExfSk7YnJlYWs7Y2FzZSBtLlByaW50U2NyZWVuOmF3YWl0IHIucHJpbnQoe2NvbnRlbnQ6XCJzY3JlZW5zaG90XCJ9KTticmVhaztjYXNlIG0uQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCB0PXtjYWxsZXJUeXBlOk0uR2xvYmFsQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O2JuKCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCx0KX1lbHNlIGNvbnNvbGUud2FybihgRW5jb3VudGVyZWQgYSBDdXN0b20gY29udGV4dCBtZW51IG9wdGlvbiB3aXRoIGFuIFwiYWN0aW9uXCIgcHJvcGVydHkgd2l0aCB2YWx1ZSBcIiR7ZS5hY3Rpb259XCJgKX19LFJpPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49Ym4oKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLG89ZmluLldpbmRvdy53cmFwU3luYyh0LmlkZW50aXR5KSxyPWF3YWl0IENhKHQuaWRlbnRpdHkpLGk9YXdhaXQgSHQoKTtzd2l0Y2goZSYmWHQoe3R5cGU6XCJQYWdlIFRhYiBNZW51XCIsYWN0aW9uOlwiU2VsZWN0IE1lbnUgSXRlbVwiLHZhbHVlOmUudHlwZSxza2lwVmFsdWVIYXNoaW5nOiEwfSksZT8udHlwZSl7Y2FzZSBiLlNhdmU6YXdhaXQgbHIodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBiLlNhdmVBczphd2FpdCBkcih0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGIuTmV3UGFnZTphd2FpdCBjcih0LmlkZW50aXR5KTticmVhaztjYXNlIGIuRGVsZXRlUGFnZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1ibigpLG49YS5Ccm93c2VyLndyYXBTeW5jKGUpLG89KGF3YWl0IGEuU3RvcmFnZS5nZXRQYWdlcygpKS5maW5kKChlPT5lLnBhZ2VJZD09PXQpKTtvJiZhd2FpdCBKbyhlLG8udGl0bGUpJiYoYXdhaXQgYS5TdG9yYWdlLmRlbGV0ZVBhZ2Uoby5wYWdlSWQpLGF3YWl0IG4ucmVtb3ZlUGFnZSh0KSxVbyhPbihcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiKSxlLE9uKFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiLHt0aXRsZTpvLnRpdGxlfSkpKX0pKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2UgYi5SZW5hbWU6aWYoYXdhaXQgSHQodC5pZGVudGl0eSkpe2F3YWl0IG4uc2V0QWN0aXZlUGFnZSh0LnBhZ2VJZCk7Y29uc3QgZT1hd2FpdCBWcigpO2F3YWl0IGUuZGlzcGF0Y2goXCJvcGVuXCIse3BhcmVudElkZW50aXR5OnQuaWRlbnRpdHkscmVzcG9uc2VJZGVudGl0eTp5ZSx0eXBlOkxyLlJlbmFtZVN1cGVydGFiLGFuY2hvckJlaGF2aW9yOkZpLkNlbnRlcix4OmEubGVmdCthLndpZHRoLzItMTY0LHk6YS5ib3R0b20tOCxwYXlsb2FkOntwYWdlSWQ6dC5wYWdlSWR9fSl9ZWxzZSBhd2FpdCBuLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTpJLlJFTkFNRV9QQUdFLGlkOnQucGFnZUlkfSk7YnJlYWs7Y2FzZSBiLkR1cGxpY2F0ZTpyLmRpc3BhdGNoKFRhLkR1cGxpY2F0ZVBhZ2UsdC5wYWdlSWQpO2JyZWFrO2Nhc2UgYi5DbG9zZTppP2F3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPWF3YWl0IGEuZ2V0UGFnZXMoKTtmb3IoY29uc3QgbyBvZiBuKWlmKG8ucGFnZUlkPT09dCl7YXdhaXQgYS5yZW1vdmVQYWdlKG8ucGFnZUlkKSxhd2FpdCBhLl90cmFja1JlbW92ZWRUYWIoe2lkZW50aXR5OmUscGFnZTpvfSk7YnJlYWt9fSkodC5pZGVudGl0eSx0LnBhZ2VJZCk6ci5kaXNwYXRjaChUYS5DbG9zZVBhZ2Use3BhZ2VJZDp0LnBhZ2VJZH0pO2JyZWFrO2Nhc2UgYi5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IGE9e2NhbGxlclR5cGU6TS5QYWdlVGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6dC5pZGVudGl0eSxwYWdlSWQ6dC5wYWdlSWQsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtibigpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsYSl9ZWxzZSBjb25zb2xlLndhcm4oYEVuY291bnRlcmVkIGEgQ3VzdG9tIGNvbnRleHQgbWVudSBvcHRpb24gd2l0aCBhbiBcImFjdGlvblwiIHByb3BlcnR5IHdpdGggdmFsdWUgXCIke2UuYWN0aW9ufVwiYCk7YnJlYWs7Y2FzZSBiLlJlZnJlc2g6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKSxuPWEuQnJvd3Nlci53cmFwU3luYyhlKSxvPShhd2FpdCBuLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKTtvPy5sYXlvdXQ/LmNvbnRlbnQmJkluKG8ubGF5b3V0LmNvbnRlbnQpLmZvckVhY2goKGFzeW5jIGU9PnsoYXdhaXQgZmluLlZpZXcud3JhcCh7dXVpZDphLmlkZW50aXR5LnV1aWQsbmFtZTplLm5hbWV9KSkucmVsb2FkKCl9KSl9KSh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGIuQ2xvc2VPdGhlcnM6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49YXdhaXQgYS5nZXRQYWdlcygpO2Zvcihjb25zdCBvIG9mIG4pby5wYWdlSWQhPT10JiYoYXdhaXQgYS5yZW1vdmVQYWdlKG8ucGFnZUlkKSxhd2FpdCBhLl90cmFja1JlbW92ZWRUYWIoe2lkZW50aXR5OmUscGFnZTpvfSkpfSkodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBiLlNhdmVXb3Jrc3BhY2VBczphd2FpdCBzcih0LmlkZW50aXR5KTticmVhaztjYXNlIGIuUHJpbnQ6e2NvbnN0IGU9YXdhaXQgbi5fZ2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzKCkse3NlbGVjdGVkVmlld3M6YX09ZS5maW5kKChlPT5lLnBhZ2VJZD09PXQucGFnZUlkKSk7YXdhaXQgd3IoYSk7YnJlYWt9Y2FzZSBiLlByaW50QWxsOmF3YWl0IG4uc2V0QWN0aXZlUGFnZSh0LnBhZ2VJZCksYXdhaXQgby5wcmludCh7Y29udGVudDpcInZpZXdzXCIsaW5jbHVkZVNlbGY6ITF9KTticmVhaztjYXNlIGIuUHJpbnRTY3JlZW46YXdhaXQgbi5zZXRBY3RpdmVQYWdlKHQucGFnZUlkKSxhd2FpdCBvLnByaW50KHtjb250ZW50Olwic2NyZWVuc2hvdFwifSk7YnJlYWs7Y2FzZSBiLkFkZFRvQ2hhbm5lbDphd2FpdCBuLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDp0LnBhZ2VJZCxwYWdlOntjb250ZXh0R3JvdXA6XCJ1bmxpbmtcIj09PWUub3B0aW9uP251bGw6ZS5vcHRpb259fSk7YnJlYWs7Y2FzZSBiLk1hbmFnZURlc2t0b3BTaWduYWxzOmF3YWl0IFhhKHQuaWRlbnRpdHkpfX0sRWk9YXN5bmMoZSx0KT0+e2lmKGU/LnR5cGUpe2NvbnN0IGE9dC5pZGVudGl0eTtzd2l0Y2goZS50eXBlKXtjYXNlIFAuU2F2ZVBhZ2U6YXdhaXQgbHIoYSk7YnJlYWs7Y2FzZSBQLlNhdmVXb3Jrc3BhY2U6YXdhaXQgaXIoYSk7YnJlYWs7Y2FzZSBQLlNhdmVQYWdlQXM6YXdhaXQgZHIoYSk7YnJlYWs7Y2FzZSBQLlNhdmVXb3Jrc3BhY2VBczphd2FpdCBzcihhKTticmVhaztjYXNlIFAuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOk0uU2F2ZUJ1dHRvbkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07Ym4oKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfWVsc2UgY29uc29sZS53YXJuKGBFbmNvdW50ZXJlZCBhIEN1c3RvbSBjb250ZXh0IG1lbnUgb3B0aW9uIHdpdGggYW4gXCJhY3Rpb25cIiBwcm9wZXJ0eSB3aXRoIHZhbHVlIFwiJHtlLmFjdGlvbn1cImApfX19O3ZhciBGaTshZnVuY3Rpb24oZSl7ZVtlLlRvcExlZnQ9MF09XCJUb3BMZWZ0XCIsZVtlLlRvcFJpZ2h0PTFdPVwiVG9wUmlnaHRcIixlW2UuQm90dG9tTGVmdD0yXT1cIkJvdHRvbUxlZnRcIixlW2UuQm90dG9tUmlnaHQ9M109XCJCb3R0b21SaWdodFwiLGVbZS5DZW50ZXI9NF09XCJDZW50ZXJcIn0oRml8fChGaT17fSkpO2NvbnN0IFZpPWFzeW5jKGUsdCxhLG4pPT57Y29uc3R7eDpvLHk6cixpZGVudGl0eTppLHRlbXBsYXRlOnMsY2FsbGJhY2s6Y309ZSxsPWF3YWl0IEh0KGkpLHtkYXRhOmR9PWw/YXdhaXQgcmkoe3g6byx5OnIsdGVtcGxhdGU6c30sYSxuLGZpbi5XaW5kb3cud3JhcFN5bmMoaSkpOmF3YWl0IGZ1bmN0aW9uKGUsdCl7aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO2lmKCF0JiYhZmluLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gd2luZG93LlwiKTtyZXR1cm4odHx8ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpKS5zaG93UG9wdXBNZW51KGUpfSh7eDpvLHk6cix0ZW1wbGF0ZTpzfSxmaW4uV2luZG93LndyYXBTeW5jKGkpKTtjKGQsZSl9O2FzeW5jIGZ1bmN0aW9uIE5pKGUsdCl7Y29uc3QgYT1iYSgpLG49YXdhaXQgSHQoZS5pZGVudGl0eSk7biYmeWEoYSk7Y29uc3Qgbz1uP2F3YWl0KGFzeW5jKHtpZGVudGl0eTplLHNlbGVjdGVkVmlld3M6dH0pPT57Y29uc3QgYT1ibigpLG49YS5Ccm93c2VyLndyYXBTeW5jKGUpLG89KGF3YWl0IG4uZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpLHI9YXdhaXQgYS5TdG9yYWdlLmdldFBhZ2Uoby5wYWdlSWQpLGk9RG4oby5sYXlvdXQuY29udGVudCk+MSxzPWF3YWl0IEh0KGUpLGM9YXdhaXQgYS5UaGVtZS5nZXRUaGVtZXMoKSxsPWNbMF0mJlwicGFsZXR0ZXNcImluIGNbMF18fCFjWzBdfHwwPT09Yy5sZW5ndGgsZD17Li4udWkocyksZW5hYmxlZDohIXJ9LHU9ey4uLnBpKHMpLGVuYWJsZWQ6aX07cmV0dXJuW2RpKCksd2koITAscykse3R5cGU6bmkuU2VwYXJhdG9yfSxkLHUse3R5cGU6bmkuU2VwYXJhdG9yfSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCIpLGRhdGE6e3R5cGU6bS5NYW5hZ2VEZXNrdG9wU2lnbmFsc319LHt0eXBlOm5pLlNlcGFyYXRvcn0sLi4ubD9be3R5cGU6bmkuU3VibWVudSxsYWJlbDptaSgpLmxhYmVsLHN1Ym1lbnU6YXdhaXQgYmkoKX1dOltdLHt0eXBlOm5pLlNlcGFyYXRvcn0sY2koKSx7dHlwZTpuaS5TZXBhcmF0b3J9LGxpKCEwKV19KSh7aWRlbnRpdHk6ZS5pZGVudGl0eSxzZWxlY3RlZFZpZXdzOmUuc2VsZWN0ZWRWaWV3c30pOmF3YWl0IGZpKGUuaWRlbnRpdHksZS5zZWxlY3RlZFZpZXdzKSxyPWF3YWl0IFRpKCk7bnx8KG8uZmluZCgoZT0+ZS5kYXRhPy50eXBlPT09bS5RdWl0KSkubGFiZWw9YFF1aXQgJHtyfWApO2NvbnN0e3JlY3Q6aSwuLi5zfT1lLHt4OmMseTpsfT1uP3t4OmkubGVmdCtpLndpZHRoLHk6aS5ib3R0b219OmUsZD17Li4ucyx4OmMseTpsLHRlbXBsYXRlOm8sY2FsbGJhY2s6Qml9O2ZhKGEpLGF3YWl0IHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51KGQsdCl9YXN5bmMgZnVuY3Rpb24gTGkoZSx0KXtjb25zdCBhPXsuLi5lLGNhbGxiYWNrOnhpfTthd2FpdCB0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUoYSx0KX1hc3luYyBmdW5jdGlvbiBfaShlLHQpe2NvbnN0IGE9YmEoKSxuPWF3YWl0IEh0KGUuaWRlbnRpdHkpO24mJnlhKGEpO2NvbnN0IG89YXdhaXQoYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1hd2FpdCBibigpLlN0b3JhZ2UuZ2V0UGFnZShlKSxvPShhd2FpdCB0bygpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSxyPURuKG8ubGF5b3V0LmNvbnRlbnQpPjEse3dvcmtzcGFjZVBsYXRmb3JtOml9PWF3YWl0IGZlKHQpLmdldE9wdGlvbnMoKSxzPSEoaS5pc0xvY2tlZHx8aS5wcmV2ZW50UGFnZUNsb3NlfHxvLmNsb3NlQnV0dG9uPy5kaXNhYmxlZHx8by5jbG9zZUJ1dHRvbj8uaGlkZGVuKSxjPVt7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIiksZGF0YTp7dHlwZTpiLk5ld1BhZ2V9fSxpaSxXaShvKSxBaSgpLGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwicmVsb2FkXCIpLGRhdGE6e3R5cGU6Yi5SZWZyZXNofX0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCIpLGRhdGE6e3R5cGU6Yi5EdXBsaWNhdGV9LGVuYWJsZWQ6IWkuaXNMb2NrZWR9LGF3YWl0IHNpKCksaWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24ocj9cImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiKSxkYXRhOnt0eXBlOmIuQ2xvc2V9LGVuYWJsZWQ6c31dLGw9W3t0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiKSxkYXRhOnt0eXBlOmIuTmV3UGFnZX19LGlpLFdpKG8pLEFpKCksaWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCIpLGRhdGE6e3R5cGU6Yi5SZW5hbWV9LGVuYWJsZWQ6IWkuaXNMb2NrZWQmJiEhbiYmcn0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCIpLGRhdGE6e3R5cGU6Yi5EdXBsaWNhdGV9LGVuYWJsZWQ6IWkuaXNMb2NrZWR9LGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiKSxkYXRhOnt0eXBlOmIuU2F2ZX0sZW5hYmxlZDpyJiYhIW59LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCIpLGRhdGE6e3R5cGU6Yi5TYXZlQXN9LGVuYWJsZWQ6cn0saWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIiksZGF0YTp7dHlwZTpiLkRlbGV0ZVBhZ2V9LGVuYWJsZWQ6ISFufSxpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihyP1wiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCIpLGRhdGE6e3R5cGU6Yi5DbG9zZX0sZW5hYmxlZDpzfV0sZD1be3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiKSxkYXRhOnt0eXBlOmIuU2F2ZX0sZW5hYmxlZDohMH0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJzYXZlTWVudS5zYXZlUGFnZUFzXCIpLGRhdGE6e3R5cGU6Yi5TYXZlQXN9LGVuYWJsZWQ6ITB9LHt0eXBlOm5pLkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2UgQXNcIixkYXRhOnt0eXBlOmIuU2F2ZVdvcmtzcGFjZUFzfX0se3R5cGU6bmkuTGFiZWwsbGFiZWw6XCJSZWZyZXNoXCIsZGF0YTp7dHlwZTpiLlJlZnJlc2h9fSxpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCIpLGRhdGE6e3R5cGU6Yi5SZW5hbWV9LGVuYWJsZWQ6ISFufSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIiksZGF0YTp7dHlwZTpiLkR1cGxpY2F0ZX0sZW5hYmxlZDohaS5pc0xvY2tlZH0saWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCIpLGRhdGE6e3R5cGU6Yi5DbG9zZX0sZW5hYmxlZDpzfV07cmV0dXJuIGE/cj9sOmM6ZH0pKGUucGFnZUlkLGUuaWRlbnRpdHksbikscj17Li4uZSx0ZW1wbGF0ZTpvLGNhbGxiYWNrOih0LGEpPT57UmkodCxhLGUucmVjdCl9fTtmYShhKSxhd2FpdCB0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnUocix0KX1hc3luYyBmdW5jdGlvbiBVaShlLHQpe2NvbnN0IGE9ey4uLmUsdGVtcGxhdGU6YXdhaXQoYXN5bmMoKT0+e2NvbnN0IGU9Ym4oKSx0PWF3YWl0IGUuZ2V0Q3VycmVudFdvcmtzcGFjZSh7c2tpcFNuYXBzaG90VXBkYXRlOiEwfSksYT0oYXdhaXQgZS5TdG9yYWdlLmdldFdvcmtzcGFjZXNNZXRhZGF0YSgpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO3JldHVyblt7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIiksZW5hYmxlZDohIWEsZGF0YTp7dHlwZTpQLlNhdmVXb3Jrc3BhY2V9fSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiKSxkYXRhOnt0eXBlOlAuU2F2ZVdvcmtzcGFjZUFzfX0se3R5cGU6bmkuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnNhdmVQYWdlXCIpLGRhdGE6e3R5cGU6UC5TYXZlUGFnZX19LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiKSxkYXRhOnt0eXBlOlAuU2F2ZVBhZ2VBc319XX0pKCksY2FsbGJhY2s6RWl9O2F3YWl0IHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudShhLHQpfWNvbnN0IE9pPVwiZG9jay1jb21wYW5pb24tdXBkYXRlc1wiLEdpPWFzeW5jKCk9Pihhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmluZCgoZT0+ZS5pZGVudGl0eS5uYW1lPT09bWUuRG9ja0NvbXBhbmlvbikpLEhpPVhlKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1kb2NrYCksJGk9YXN5bmMoKT0+e2NvbnN0IGU9Ym4oKSx0PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCB4cigpO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT57YXdhaXQgQXIoZS5pZGVudGl0eSl9KSkpO2NvbnN0IHQ9QXJyYXkuZnJvbSh2ci52YWx1ZXMoKSkuc29ydCgoKGUsdCk9PnQubGFzdEZvY3VzZWRUaW1lLWUubGFzdEZvY3VzZWRUaW1lKSksYT10LmZpbmQoKGU9PmUuaXNWaXNpYmxlKSk7aWYoYSl7Y29uc3QgZT1maW4uV2luZG93LndyYXBTeW5jKGEuaWRlbnRpdHkpO3JldHVybiBhd2FpdCBlLmZvY3VzKCksYS5pZGVudGl0eX1jb25zdCBuPXRbMF07aWYobil7Y29uc3QgZT1maW4uV2luZG93LndyYXBTeW5jKG4uaWRlbnRpdHkpO3JldHVybiBhd2FpdCBlLnJlc3RvcmUoKSxhd2FpdCBlLmZvY3VzKCksbi5pZGVudGl0eX1yZXR1cm4gSXIoKX0oKSxhPWUuQnJvd3Nlci53cmFwU3luYyh0KSxuPShhd2FpdCBhLmdldFBhZ2VzKCkpLmF0KC0xKSxvPUluKG4ubGF5b3V0LmNvbnRlbnQpO2lmKDE9PT1vLmxlbmd0aCYmS3Qob1swXS51cmwpKWF3YWl0IGEuc2V0QWN0aXZlUGFnZShuLnBhZ2VJZCk7ZWxzZXtjb25zdCBlPWF3YWl0IEdvKHQpLHtuZXdQYWdlVXJsOm59PWF3YWl0IE9vKCk7YXdhaXQgYS5fYWRkRGVmYXVsdFBhZ2Uoe2lkZW50aXR5OmEuaWRlbnRpdHkscGFnZTplLG5ld1BhZ2VVcmw6bnx8dm9pZCAwfSl9KGF3YWl0IENhKHQpKS5kaXNwYXRjaChUYS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKX0semk9XCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIixLaT1UJiZXJiZuZXcgdnQuRGV4aWUoRHQoXCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIikpO2FzeW5jIGZ1bmN0aW9uIEppKGUpe2lmKCFLaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhlZERCIG5vdCBzdXBwb3J0ZWRcIik7dHJ5e3JldHVybiBhd2FpdCBLaVt6aV0uZ2V0KGUpfWNhdGNoKGUpe3JldHVybiB2b2lkIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byByZXRyaWV2ZSBEb2NrIHByb3ZpZGVyIGNvbmZpZyBmcm9tIEluZGV4ZWREYlwiLGUpfX1hc3luYyBmdW5jdGlvbiBaaShlKXtpZighS2kpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHNhdmUgRG9jayBwcm92aWRlciBjb25maWcgLSBJbmRleGVkRGIgbm90IHN1cHBvcnRlZFwiKTthd2FpdCBLaVt6aV0ucHV0KGUsZS5pZCl9S2kmJktpLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3ppXTpcIlwifSk7Y29uc3QgcWk9XCJ3b3Jrc3BhY2VzXCIsamk9VCYmVyYmQnQoXCJvcGVuZmluLXdvcmtzcGFjZS1wbGF0Zm9ybS13b3Jrc3BhY2VzXCIscWkpO2FzeW5jIGZ1bmN0aW9uIFFpKGUpe2lmKCFqaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHdvcmtzcGFjZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PWF3YWl0IGppW3FpXS5nZXQoZSk7cmV0dXJuIHQmJih0LndvcmtzcGFjZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQud29ya3NwYWNlSWQpLHR9YXN5bmMgZnVuY3Rpb24gWWkoZSl7aWYoIWppKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgd29ya3NwYWNlcyAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PWF3YWl0IGppW3FpXS50b0NvbGxlY3Rpb24oKS5rZXlzKCksYT0oYXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGU9PlFpKGUudG9TdHJpbmcoKSkpKSkpLmZpbHRlcigoZT0+ISFlKSk7cmV0dXJuIGU/YS5maWx0ZXIoKHQ9Pl9yKHQudGl0bGUsZSkpKTphfWFzeW5jIGZ1bmN0aW9uIFhpKHt3b3Jrc3BhY2U6ZX0pe2lmKCFqaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHdvcmtzcGFjZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PShhd2FpdCBZaSgpKS5maW5kKCh0PT50LnRpdGxlPT09ZS50aXRsZSkpO2lmKHQmJnQud29ya3NwYWNlSWQhPT1lLndvcmtzcGFjZUlkKXRocm93IG5ldyBFcnJvcihgV29ya3NwYWNlIHdpdGggdGl0bGUgJyR7ZS50aXRsZX0nIGFscmVhZHkgZXhpc3RzLmApO2F3YWl0IGppW3FpXS5wdXQoZSxlLndvcmtzcGFjZUlkKX1hc3luYyBmdW5jdGlvbiBlcyhlKXtpZighamkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGRlbGV0ZSB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgamlbcWldLmRlbGV0ZShlKX1hc3luYyBmdW5jdGlvbiB0cyh7d29ya3NwYWNlSWQ6ZSx3b3Jrc3BhY2U6dH0pe2lmKCFqaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIHdvcmtzcGFjZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtpZighYXdhaXQgUWkoZSkpdGhyb3cgbmV3IEVycm9yKFwid29ya3NwYWNlIG5vdCBmb3VuZFwiKTthd2FpdCBYaSh7d29ya3NwYWNlOnR9KSxlIT09dC53b3Jrc3BhY2VJZCYmYXdhaXQgZXMoZSl9Y29uc3QgYXM9ZT0+e2NvbnN0IHQ9ZS5sYXlvdXQsYT10LmNvbnRlbnQ/SW4odC5jb250ZW50KTpbXSxuPWEubGVuZ3RoO3JldHVybiBuPjE/ey4uLmUsc2luZ2xlVmlld05hbWU6bnVsbH06MT09PW4/ey4uLmUsc2luZ2xlVmlld05hbWU6YVswXS5uYW1lfTp2b2lkIDB9LG5zPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49YXdhaXQgYm4oKS5Ccm93c2VyLmdldEFsbEF0dGFjaGVkUGFnZXMoKSxvPW5ldyBTZXQobi5tYXAoKGU9PmUudGl0bGUpKS5maWx0ZXIoKGU9PiEhZSkpKSxyPW5ldyBTZXQobi5tYXAoKGU9PmUucGFnZUlkKSkuZmlsdGVyKChlPT4hIWUpKSksaT10Py5kZWZhdWx0UGFnZU9wdGlvbnMscz1cImVudGVycHJpc2VcIj09PWE/LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlfHxcImVudGVycHJpc2VcIj09PXQ/LmRlZmF1bHRXaW5kb3dPcHRpb25zPy53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSxjPWF3YWl0KGFzeW5jKGUsdCxhKT0+e2lmKGEpcmV0dXJuIG9lKCk7Y29uc3Qgbj10Py53b3Jrc3BhY2VQbGF0Zm9ybT8ubmV3VGFiVXJsO2lmKG4pcmV0dXJuIG47Y29uc3Qgbz1lPy5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/Lm5ld1RhYlVybDtyZXR1cm4gb3x8dm9pZCAwfSkodCxhLHMpO3JldHVybiBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+e2lmKFwicmVwYXJlbnRcIj09PWUubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcilyZXR1cm57Li4uZSxsYXlvdXRDb250YWluZXJLZXk6aWEoKX07KChlLHQpPT57ZS5wYWdlSWR8fD1pYSgpLHQuaGFzKGUucGFnZUlkKSYmKGNvbnNvbGUud2FybihcIlBhZ2VJRCBjb2xsaXNpb24gZGV0ZWN0ZWQuIEFsbCBQYWdlIElEcyBzaG91bGQgYmUgdW5pcXVlLiBBIHJhbmRvbSBuZXcgcGFnZUlkIHdpbGwgYmUgZ2VuZXJhdGVkXCIpLGUucGFnZUlkPWlhKCkpLHQuYWRkKGUucGFnZUlkKX0pKGUsciksc3x8KGUudGl0bGU9ZW8oZS50aXRsZSxBcnJheS5mcm9tKG8ua2V5cygpKSkpLG8uYWRkKGUudGl0bGUpLGUucGFuZWxzPy5yZWR1Y2UoKChlLHQpPT57Y29uc3QgYT1PYmplY3QudmFsdWVzKGcpO2lmKCFhLmluY2x1ZGVzKHQucG9zaXRpb24pKXRocm93IG5ldyBFcnJvcihgRW5jb3VudGVyZWQgYSBwYW5lbCB3aXRoIHVuc3VwcG9ydGVkIHBvc2l0aW9uIFwiJHt0LnBvc2l0aW9ufVwiLiBTdXBwb3J0ZWQgcG9zaXRpb25zIGFyZTogJHthLnRvU3RyaW5nKCl9YCk7aWYoMT09ZVt0LnBvc2l0aW9uXSl0aHJvdyBuZXcgRXJyb3IoYEZvdW5kIG1vcmUgdGhhbiAxIHBhbmVsIGF0IHBvc2l0aW9uOiAke3QucG9zaXRpb259LiBPbmx5IDEgcGFuZWwgYXQgYSBnaXZlbiBwb3NpdGlvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLmApO3JldHVybnsuLi5lLFt0LnBvc2l0aW9uXTplW3QucG9zaXRpb25dKzF9fSkse1tnLkxlZnRdOjAsW2cuUmlnaHRdOjAsW2cuVG9wXTowLFtnLkJvdHRvbV06MH0pO2NvbnN0IGE9XCJwYW5lbHNcImluIGU/ZS5wYW5lbHM6aT8ucGFuZWxzO2xldCBuPShsPWUubGF5b3V0LGQ9dD8uZGVmYXVsdFZpZXdPcHRpb25zLHZuKHsuLi5sfSwoZT0+UG4oZSxkKSkpKTt2YXIgbCxkO2MmJiFuPy5zZXR0aW5ncz8ubmV3VGFiQnV0dG9uJiYobj17Li4ubixzZXR0aW5nczp7Li4ubj8uc2V0dGluZ3MsbmV3VGFiQnV0dG9uOnt1cmw6Y319fSk7cmV0dXJuey4uLmksLi4uZSxwYW5lbHM6YSYmYXdhaXQgWm4oYSksbGF5b3V0Q29udGFpbmVyS2V5OmlhKCksbGF5b3V0Om4saXNMYXlvdXRDcmVhdGVkOiExfX0pKSl9LG9zPWFzeW5jKGUsdCk9Pnt0cnl7YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlVmlldyh7bmFtZTplLHVybDp0LHRhcmdldDpmaW4ubWUuaWRlbnRpdHksYm91bmRzOnt0b3A6MCxsZWZ0OjAsd2lkdGg6MCxoZWlnaHQ6MH19LGZpbi5tZS5pZGVudGl0eSl9Y2F0Y2goZSl7fX0scnM9ZT0+e2NvbnN0IHQ9ZS5uYW1lPT09bWUuSG9tZSxhPWUubmFtZT8uc3RhcnRzV2l0aChtZS5Ib21lSW50ZXJuYWwpLG49ZS5uYW1lPy5zdGFydHNXaXRoKG1lLkJyb3dzZXJNZW51KXx8ZS5uYW1lPy5zdGFydHNXaXRoKG1lLkJyb3dzZXJTYXZlTWVudSk7cmV0dXJuIXQmJiFhJiYhbn07Y29uc3QgaXM9ZT0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7YXN5bmMgZnVuY3Rpb24gc3MoZSl7cmV0dXJuIGU/XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09XCI6KGF3YWl0IFkoKSkuZGlzcGxheVZpZXdUYWJEZWZhdWx0SWNvbj9cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI6XCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIwc3R5bGUlM0QlMjJiYWNrZ3JvdW5kLWNvbG9yJTNBJTIzN0Q4MDhBJTIyJTIwd2lkdGglM0QlMjIxMCUyMiUyMGhlaWdodCUzRCUyMjEwJTIyJTIwdmlld0JveCUzRCUyMjAlMjAwJTIwMTAlMjAxMCUyMiUyMGZpbGwlM0QlMjJub25lJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlM0UlM0NwYXRoJTIwZmlsbC1ydWxlJTNEJTIyZXZlbm9kZCUyMiUyMGNsaXAtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMjBkJTNEJTIyTTQuNjQ2NDglMjAwLjg3NDk2MkM0Ljg0MTc0JTIwMC42Nzk3JTIwNS4xNTgzMyUyMDAuNjc5NyUyMDUuMzUzNTklMjAwLjg3NDk2Mkw5LjEyNDgyJTIwNC42NDYyQzkuMzIwMDklMjA0Ljg0MTQ2JTIwOS4zMjAwOSUyMDUuMTU4MDQlMjA5LjEyNDgyJTIwNS4zNTMzTDUuMzUzNTklMjA5LjEyNDU0QzUuMTU4MzMlMjA5LjMxOTglMjA0Ljg0MTc0JTIwOS4zMTk4JTIwNC42NDY0OCUyMDkuMTI0NTRMMC44NzUyNDUlMjA1LjM1MzNDMC42Nzk5ODIlMjA1LjE1ODA0JTIwMC42Nzk5ODIlMjA0Ljg0MTQ2JTIwMC44NzUyNDUlMjA0LjY0NjJMNC42NDY0OCUyMDAuODc0OTYyWk01LjAwMDAzJTIwMS45MzU2MkwxLjkzNTklMjA0Ljk5OTc1TDUuMDAwMDMlMjA4LjA2Mzg4TDguMDY0MTYlMjA0Ljk5OTc1TDUuMDAwMDMlMjAxLjkzNTYyWiUyMiUyMGZpbGwlM0QlMjJ3aGl0ZSUyMiUyRiUzRSUzQyUyRnN2ZyUzRVwifWNvbnN0IGNzPXtkaW1lbnNpb25zOntib3JkZXJXaWR0aDozLGhlYWRlckhlaWdodDozMH19O2FzeW5jIGZ1bmN0aW9uIGxzKGUsdCxhKXtsZXQgbj1lO2NvbnN0IG89XCJlbnRlcnByaXNlXCI9PT1uLndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlfHxcImVudGVycHJpc2VcIj09PXQ/LmRlZmF1bHRXaW5kb3dPcHRpb25zPy53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZTtpZihuLmxheW91dCYmIW4ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgYm8oKSxhPXsuLi5hd2FpdCB3YShlLG4ubGF5b3V0KSxpc0FjdGl2ZTohMH07bi53b3Jrc3BhY2VQbGF0Zm9ybXx8PXt9LG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM9YXdhaXQgbnMoW2FdLHQsbil9dD8uYnJvd3Nlckljb25TaXplJiYobi53b3Jrc3BhY2VQbGF0Zm9ybXx8PXt9LG4ud29ya3NwYWNlUGxhdGZvcm0uYnJvd3Nlckljb25TaXplPXQuYnJvd3Nlckljb25TaXplKTtjb25zdCByPWE/LnRoZW1lcz8uWzBdO2lmKG4ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgbnMobi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcyx0LG4pLGk9ZSxzPShlPT57aWYoIWUpcmV0dXJuO2xldCB0PWUuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO3JldHVybiF0JiZlLmxlbmd0aD4wJiYoZVswXS5pc0FjdGl2ZT0hMCx0PWVbMF0pLHR9KShpKTtpZihpLmZvckVhY2goKGU9PntlLnBhZ2VJZCE9PXM/LnBhZ2VJZCYmKGUuaXNBY3RpdmU9ITEpfSkpLGF3YWl0IHFuKGkpLG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM9ZSxuPW5hKHt9LGF3YWl0KGFzeW5jIGU9Pih7Y29udGV4dE1lbnVPcHRpb25zOntlbmFibGVkOiExfSxleHBlcmltZW50YWw6e3Nob3dGYXZpY29uczohMCxkZWZhdWx0RmF2aWNvblVybDphd2FpdCBzcyhlKX0sdmlld1Zpc2liaWxpdHk6e3Nob3dWaWV3c09uU3BsaXR0ZXJEcmFnOntlbmFibGVkOiEwfSxzaG93Vmlld3NPbldpbmRvd1Jlc2l6ZTp7ZW5hYmxlZDohMH19fSkpKG8pLHQ/LmRlZmF1bHRXaW5kb3dPcHRpb25zLG4sYXdhaXQoYXN5bmMgZT0+KHtiYWNrZ3JvdW5kVGhyb3R0bGluZzohMCx1cmw6YXdhaXQgcmUoZSwhMCksY29udGV4dE1lbnU6ITAsY2xvc2VPbkxhc3RWaWV3UmVtb3ZlZDohMSxwZXJtaXNzaW9uczp7U3lzdGVtOntvcGVuVXJsV2l0aEJyb3dzZXI6e2VuYWJsZWQ6ITAscHJvdG9jb2xzOltcIm1haWx0b1wiXX19fX0pKShvKSkscy5sYXlvdXQ9bmEocy5sYXlvdXQsY3MpLGFzeW5jIGZ1bmN0aW9uKGUpe2lmKGUuaWNvbnx8ZS50YXNrYmFySWNvbil7Y29uc3QgdD1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKSxhPWF3YWl0KGF3YWl0IHQuZ2V0V2luZG93KCkpLmdldE9wdGlvbnMoKTtlLnRhc2tiYXJJY29uR3JvdXB8fD1hLnRhc2tiYXJJY29uR3JvdXB8fGZpbi5tZS5pZGVudGl0eS51dWlkfWlmKGUud29ya3NwYWNlUGxhdGZvcm0uaWNvbilpZihcIm9iamVjdFwiPT10eXBlb2YgZS53b3Jrc3BhY2VQbGF0Zm9ybS5pY29uKXtjb25zdCB0PXdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKTtlLmljb249dC5tYXRjaGVzP2Uud29ya3NwYWNlUGxhdGZvcm0uaWNvbi5kYXJrOmUud29ya3NwYWNlUGxhdGZvcm0uaWNvbi5saWdodH1lbHNlIGUuaWNvbj1lLndvcmtzcGFjZVBsYXRmb3JtLmljb259KG4pLCFuLmJhY2tncm91bmRDb2xvciYmcilpZihcInBhbGV0dGVcImluIHIpbi5iYWNrZ3JvdW5kQ29sb3I9cj8ucGFsZXR0ZT8uYmFja2dyb3VuZDJ8fHI/LnBhbGV0dGU/LmJhY2tncm91bmRQcmltYXJ5O2Vsc2V7Y29uc3QgZT1hLnNlbGVjdGVkU2NoZW1lPT09ay5EYXJrfHxhLnNlbGVjdGVkU2NoZW1lPT09ay5TeXN0ZW0mJndpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKT9yPy5wYWxldHRlcy5kYXJrOnI/LnBhbGV0dGVzLmxpZ2h0O24uYmFja2dyb3VuZENvbG9yPWU/LmJhY2tncm91bmQyfHxlPy5iYWNrZ3JvdW5kUHJpbWFyeX1uPVRlKG4sITApO2NvbnN0IGM9YXdhaXQgcmUobywhMCk7aWYoYyYmKG4udXJsPWMpLG4ubGF5b3V0PXMubGF5b3V0LG4ubGF5b3V0U25hcHNob3Q9KChlLHQpPT4oe2xheW91dHM6ZS5yZWR1Y2UoKChlLGEpPT57aWYoIWEuaXNBY3RpdmUpe2lmKCF0KXJldHVybiBlO2lmKCFhcyhhKS5zaW5nbGVWaWV3TmFtZSlyZXR1cm4gZX1yZXR1cm4gZVthLmxheW91dENvbnRhaW5lcktleV09YS5sYXlvdXQsZX0pLHt9KSxwYWdlczplfSkpKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMsbyksbi53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlPW4ud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZT8/Qy5Ccm93c2VyLG8pe2NvbnN0IGU9YXdhaXQgb2UoKTtuLndvcmtzcGFjZVBsYXRmb3JtLm5ld1BhZ2VVcmw9ZSxuLndvcmtzcGFjZVBsYXRmb3JtLm5ld1RhYlVybD1lLG4ubGF5b3V0JiYobi5sYXlvdXQuZGltZW5zaW9ucy5ib3JkZXJXaWR0aD00LG4ubGF5b3V0LmRpbWVuc2lvbnMuaGVhZGVySGVpZ2h0PTI4KSxuLm5hbWU9bi5uYW1lfHxgJHttZS5Ccm93c2VyV2luZG93fS0ke2lhKCl9YCwoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgbmUoKSxhPW1lLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4K2UubmFtZSxuPXQrSy5Ccm93c2VyUG9wdXBNZW51QWRkcmVzc1NlYXJjaFJlc3VsdHNWaWV3LG89W10scj1vcyhhLG4pO28ucHVzaChyKTtjb25zdCBpPW1lLkFJQ29tcGFuaW9uUHJlZml4K2UubmFtZSx7dXJsOnMsZW5hYmxlZDpjfT1KbigpO2lmKGMpe2NvbnN0IGU9b3MoaSxzKTtvLnB1c2goZSl9YXdhaXQgUHJvbWlzZS5hbGwobyl9KShuKTtjb25zdHtlbmFibGVkOnR9PUpuKCk7bi53b3Jrc3BhY2VQbGF0Zm9ybS5pc0FpRW5hYmxlZD10LG4ubWluV2lkdGg9TWF0aC5tYXgoNjU0LG4ubWluV2lkdGg/PzApLG4ubWluSGVpZ2h0PU1hdGgubWF4KDQ4OCxuLm1pbkhlaWdodD8/MCl9ZWxzZSBuLm1pbldpZHRoPU1hdGgubWF4KDIzMixuLm1pbldpZHRoPz8wKSxmdW5jdGlvbihlKXtjb25zdCB0PWUud29ya3NwYWNlUGxhdGZvcm0/LnZpZXdUYWJEaW1lbnNpb25zLGE9ZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZVRhYkRpbWVuc2lvbnMsbj0vXlswLTldKyhweHwlKSQvO2lmKHQpe2lmKHQubWluV2lkdGgmJiFuLnRlc3QodC5taW5XaWR0aCkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCB2aWV3VGFiRGltZW5zaW9ucy5taW4gdmFsdWUgXCIke3QubWluV2lkdGh9XCIgaXMgbm90IGluIGEgc3VwcG9ydGVkIGZvcm1hdC5gKTtpZih0Lm1heFdpZHRoJiYhbi50ZXN0KHQubWF4V2lkdGgpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgdmlld1RhYkRpbWVuc2lvbnMubWF4IHZhbHVlIFwiJHt0Lm1heFdpZHRofVwiIGlzIG5vdCBpbiBhIHN1cHBvcnRlZCBmb3JtYXQuYCl9aWYoYSl7aWYoYS5taW5XaWR0aCYmIW4udGVzdChhLm1pbldpZHRoKSl0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIHBhZ2VUYWJEaW1lbnNpb25zLm1pbiB2YWx1ZSBcIiR7YS5taW5XaWR0aH1cIiBpcyBub3QgaW4gYSBzdXBwb3J0ZWQgZm9ybWF0LmApO2lmKGEubWF4V2lkdGgmJiFuLnRlc3QoYS5tYXhXaWR0aCkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBwYWdlVGFiRGltZW5zaW9ucy5tYXggdmFsdWUgXCIke2EubWF4V2lkdGh9XCIgaXMgbm90IGluIGEgc3VwcG9ydGVkIGZvcm1hdC5gKX19KG4pfXJldHVybiBuLmNvcm5lclJvdW5kaW5nJiZkZWxldGUgbi5jb3JuZXJSb3VuZGluZyxuLm5hbWV8fG4ubGF5b3V0U25hcHNob3Q/bi5jb250ZXh0TWVudU9wdGlvbnM/LnRlbXBsYXRlPy5sZW5ndGg+MD9uLmNvbnRleHRNZW51T3B0aW9ucy50ZW1wbGF0ZT1uLmNvbnRleHRNZW51T3B0aW9ucy50ZW1wbGF0ZS5maWx0ZXIoKGU9PlwicHJpbnRcIiE9PWUpKTpuLmNvbnRleHRNZW51T3B0aW9ucz17dGVtcGxhdGU6W10sZW5hYmxlZDohMX06bi5uYW1lPWAke21lLkNsYXNzaWNXaW5kb3d9LSR7aWEoKX1gLG4ud29ya3NwYWNlUGxhdGZvcm0mJmEmJihuLndvcmtzcGFjZVBsYXRmb3JtLl90aGVtZURhdGE9YSksbn1jb25zdCBkcz1hc3luYyhlLHQpPT57Y29uc3QgYT17dXVpZDp0LnV1aWQsbmFtZTp0Lm5hbWV9O2F3YWl0IHpvKGEsZS50aXRsZT8/YXdhaXQgVGkoKSxlLnNob3VsZENlbnRlck9uTW9uaXRvcikmJmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKX0sdXM9YXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKSxuPWF3YWl0IGEuQnJvd3Nlci5nZXRMYXN0Rm9jdXNlZFdpbmRvdygpO2lmKCFuKXJldHVybjtjb25zdCBvPWEuQnJvd3Nlci53cmFwU3luYyhuKSx7dGl0bGU6cixkZXNjcmlwdGlvbjppfT1lLHM9YXdhaXQgWm8oe3RpdGxlOnIsZGVzY3JpcHRpb246aSxpZGVudGl0eTpvLmlkZW50aXR5fSk7cyYmby5fc2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlKHtpZGVudGl0eTp0LHJlc3BvbnNlOnN9KX07YXN5bmMgZnVuY3Rpb24gcHMoZSx0LGEpe2NvbnN0IG49ZS5tYW5pZmVzdFVybD9hd2FpdCB0KHttYW5pZmVzdFVybDplLm1hbmlmZXN0VXJsfSxhKTp2b2lkIDA7aWYobj8uaW50ZXJvcCYmZS5pbnRlcm9wKXtjb25zdCB0PXsuLi5lLC4uLm4saW50ZXJvcDplLmludGVyb3B9O3JldHVybiBkZWxldGUgdC5tYW5pZmVzdFVybCx0fXJldHVybiBlfWNvbnN0IHdzPWU9Pntjb25zdCB0PWlzKGUpO3JldHVybiB0Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LmJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9ucyYmKHQud29ya3NwYWNlUGxhdGZvcm09ey4uLnQud29ya3NwYWNlUGxhdGZvcm0sYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zOnQuX2ludGVybmFsV29ya3NwYWNlRGF0YS5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnN9LGRlbGV0ZSB0Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGEuYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zKSx0fSxncz1lPT57Y29uc3QgdD1pcyhlKTtyZXR1cm4gdC53b3Jrc3BhY2VQbGF0Zm9ybSYmKHQuX2ludGVybmFsV29ya3NwYWNlRGF0YT17Li4udC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhLC4uLnQud29ya3NwYWNlUGxhdGZvcm19LGRlbGV0ZSB0LndvcmtzcGFjZVBsYXRmb3JtKSx0fSxocz17cmVsb2FkOlt7a2V5czpcIkN0cmwrUlwiLHByZXZlbnREZWZhdWx0OiEwfV0sYmFjazpbe2tleXM6XCJBbHQrTGVmdFwiLHByZXZlbnREZWZhdWx0OiEwfV0sZm9yd2FyZDpbe2tleXM6XCJBbHQrUmlnaHRcIixwcmV2ZW50RGVmYXVsdDohMH1dfSxtcz17cmVsb2FkOlt7a2V5czpcIkNtZCtSXCIscHJldmVudERlZmF1bHQ6ITB9XSxiYWNrOlt7a2V5czpcIkNtZCtbXCIscHJldmVudERlZmF1bHQ6ITB9LHtrZXlzOlwiQ21kK0xlZnRcIixwcmV2ZW50RGVmYXVsdDohMH1dLGZvcndhcmQ6W3trZXlzOlwiQ21kK11cIixwcmV2ZW50RGVmYXVsdDohMH0se2tleXM6XCJDbWQrUmlnaHRcIixwcmV2ZW50RGVmYXVsdDohMH1dfSxrcz1hc3luYygpPT5hd2FpdCBlaSgpP2hzOm1zLGJzPShlLHQpPT57Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyhlKTtpZighdClyZXR1cm47Y29uc3Qgbj1lPT57KGFzeW5jKGUsdCxhKT0+e2lmKFwia2V5RG93blwiIT09YS5pbnB1dFR5cGUpcmV0dXJuO2NvbnN0IG49YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZS5nZXRDdXJyZW50V2luZG93KCksYT1hd2FpdCB0LmdldE9wdGlvbnMoKSxuPWEud29ya3NwYWNlUGxhdGZvcm0/Lm5hdmlnYXRpb25CdXR0b25zO3JldHVybiBuLmVuYWJsZWQmJiFuLmhvdGtleXNEaXNhYmxlZH0pKGUpLG89YXdhaXQgZWkoKTtpZihuKXtpZih0LnJlbG9hZCl7Y29uc3Qgbj1hLmN0cmxLZXkmJiFhLmFsdEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiclwiPT09YS5rZXkscj0hYS5jdHJsS2V5JiYhYS5hbHRLZXkmJmEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiclwiPT09YS5rZXk7KG8/bjpyKSYmdD8ucmVsb2FkJiYoZS5yZWxvYWQoKSxYdCh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJSZWxvYWRcIix2YWx1ZTplLmlkZW50aXR5Lm5hbWV9KSl9aWYodC5iYWNrKXtjb25zdCBuPSFhLmN0cmxLZXkmJmEuYWx0S2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd0xlZnRcIj09PWEua2V5LHI9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIkFycm93TGVmdFwiPT09YS5rZXksaT0hYS5jdHJsS2V5JiYhYS5hbHRLZXkmJmEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiW1wiPT09YS5rZXk7KG8/bjpyfHxpKSYmdD8uYmFjayYmKGUubmF2aWdhdGVCYWNrKCksWHQoe3R5cGU6XCJWaWV3XCIsYWN0aW9uOlwiQmFja1wiLHZhbHVlOmUuaWRlbnRpdHkubmFtZX0pKX1pZih0LmZvcndhcmQpe2NvbnN0IG49IWEuY3RybEtleSYmYS5hbHRLZXkmJiFhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIkFycm93UmlnaHRcIj09PWEua2V5LHI9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIkFycm93UmlnaHRcIj09PWEua2V5LGk9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIl1cIj09PWEua2V5OyhvP246cnx8aSkmJnQ/LmZvcndhcmQmJihlLm5hdmlnYXRlRm9yd2FyZCgpLFh0KHt0eXBlOlwiVmlld1wiLGFjdGlvbjpcIkZvcndhcmRcIix2YWx1ZTplLmlkZW50aXR5Lm5hbWV9KSl9fX0pKGEsdCxlKX07YS5hZGRMaXN0ZW5lcihcImhvdGtleVwiLG4pLGEub25jZShcImRlc3Ryb3llZFwiLCgoKT0+e2EucmVtb3ZlTGlzdGVuZXIoXCJob3RrZXlcIixuKX0pKX0sZnM9KGUsdCk9PmlzKGUpLm1hcCgoZT0+KFwiY29tcG9uZW50U3RhdGVcImluIGU/ZS5jb21wb25lbnRTdGF0ZT10KGUuY29tcG9uZW50U3RhdGUpOlwiY29udGVudFwiaW4gZSYmKGUuY29udGVudD1mcyhlLmNvbnRlbnQsdCkpLGUpKSkseXM9ZT0+e2lmKGUpe2NvbnN0IHQ9aXMoZSk7cmV0dXJuIHQuY29udGVudCYmKHQuY29udGVudD1mcyh0LmNvbnRlbnQsd3MpKSx0fXJldHVybiBlfSxTcz1lPT57aWYoZSl7Y29uc3QgdD1pcyhlKTtyZXR1cm4gdC5jb250ZW50JiYodC5jb250ZW50PWZzKHQuY29udGVudCxncykpLHR9cmV0dXJuIGV9O2FzeW5jIGZ1bmN0aW9uIHZzKHthcHA6ZSx0YXJnZXQ6dH0pe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7c3dpdGNoKGUubWFuaWZlc3RUeXBlKXtjYXNlIGwuU25hcHNob3Q6cmV0dXJuIGEuYXBwbHlTbmFwc2hvdChlLm1hbmlmZXN0KTtjYXNlIGwuVmlldzpyZXR1cm4gYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKFwidmlld1wiPT09dC5lbnRpdHlUeXBlKXtjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpLG49YXdhaXQgYS5nZXRQYXJlbnRMYXlvdXQoKTtyZXR1cm4gYXdhaXQgbi5yZXBsYWNlVmlldyh0LHttYW5pZmVzdFVybDplLm1hbmlmZXN0LHVybDp2b2lkIDAsdGFyZ2V0OnZvaWQgMH0pLGEuZGVzdHJveSgpfXJldHVybiBhLmNyZWF0ZVZpZXcoe25hbWU6dm9pZCAwLHVybDp2b2lkIDAsbWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx0YXJnZXQ6dm9pZCAwfSl9KGUsdCk7Y2FzZSBsLkV4dGVybmFsOnJldHVybiBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7cGF0aDplLm1hbmlmZXN0LHV1aWQ6ZS5hcHBJZH0pO2RlZmF1bHQ6cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChlLm1hbmlmZXN0KX19bGV0IFBzO2NvbnN0IENzPSgpPT57aWYoIVBzKXtjb25zdCBlPVhlKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbi5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWFwcC1kaXJlY3RvcnlgKTtQcz1lKCl9cmV0dXJuIFBzfTthc3luYyBmdW5jdGlvbiBNcyhlKXtpZighYXdhaXQgSHQoZS5pZGVudGl0eSkpcmV0dXJuW107cmV0dXJuKGF3YWl0IENzKCkpLmRpc3BhdGNoKElhLkdldEFwcHMsZS5yZXEpfWFzeW5jIGZ1bmN0aW9uIHhzKGUpe2lmKCFhd2FpdCBIdChlLmlkZW50aXR5KSlyZXR1cm5bXTtyZXR1cm4oYXdhaXQgQ3MoKSkuZGlzcGF0Y2goSWEuR2V0U2VhcmNoUHJvdmlkZXJzLGUpfWFzeW5jIGZ1bmN0aW9uIElzKGUpe3JldHVybihhd2FpdCBDcygpKS5kaXNwYXRjaChJYS5HZXRDdXJhdGVkQ29udGVudCxlKX1hc3luYyBmdW5jdGlvbiBBcyhlKXtyZXR1cm4oYXdhaXQgQ3MoKSkuZGlzcGF0Y2goSWEuR2V0UmVjZW50bHlWaXNpdGVkLGUpfWFzeW5jIGZ1bmN0aW9uIFdzKGUpe2NvbnN0IHQ9KGF3YWl0IE1lKCkpLm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZS5nZXRPcHRpb25zKCk7dC53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMmJnQubGF5b3V0JiZhd2FpdChhc3luYyBlPT4oYXdhaXQgQ2EoZSkpLmRpc3BhdGNoKFRhLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucykpKGUuaWRlbnRpdHkpfSkpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbCh0KSxlP2UoKTp1YSgpfWxldCBEcz1bXTtjb25zdCBUcz0oKT0+RHM7YXN5bmMgZnVuY3Rpb24gQnMoZSl7Y29uc3QgdD1lPT57aWYoIWUuaW5jbHVkZXMoXCIjXCIpJiYhZS5pbmNsdWRlcyhcInJnYlwiKSYmIWUuaW5jbHVkZXMoXCJoc2xcIikpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBwcmltYXJ5IGNvbG9yIGlzIG5vdCB0aGUgcmlnaHQgZm9ybWF0LlwiKX07ZT8uZm9yRWFjaCgoZT0+e1wicGFsZXR0ZVwiaW4gZSYmdChlLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnkpLFwicGFsZXR0ZXNcImluIGUmJih0KGUucGFsZXR0ZXMuZGFyay5iYWNrZ3JvdW5kUHJpbWFyeSksdChlLnBhbGV0dGVzLmxpZ2h0LmJhY2tncm91bmRQcmltYXJ5KSl9KSk7Y29uc3QgYT0oKGUsdCk9PntpZighZXx8IWVbMF0pe2NvbnN0e2Rhcms6ZSxsaWdodDphfT13dFswXS5wYWxldHRlcztyZXR1cm4gY24uc2V0UGFsZXR0ZXMoe2Rhcms6ZSxsaWdodDphfSx0KSx3dH17Y29uc3QgYT1lWzBdO2lmKFwicGFsZXR0ZVwiaW4gYSl7Y29uc3R7cGFsZXR0ZTpufT1hLG89ey4uLnB0LC4uLm59O3JldHVybiBjbi5zZXRQYWxldHRlcyh7ZGFyazpvLGxpZ2h0Om99LHQpLGEucGFsZXR0ZT1vLGV9aWYoXCJwYWxldHRlc1wiaW4gYSl7Y29uc3R7ZGFyazpuLGxpZ2h0Om99PWEucGFsZXR0ZXMscj17Li4ucHQsLi4ubn0saT17Li4udXQsLi4ub307cmV0dXJuIGNuLnNldFBhbGV0dGVzKHtkYXJrOnIsbGlnaHQ6aX0sdCksYS5wYWxldHRlcz17ZGFyazpyLGxpZ2h0Oml9LGV9fX0pKGUsYXdhaXQgZWkoKSk7RHM9YX1jb25zdCBScz0oZSx0KT0+YT0+e2NvbnN0IG49bnVsbCE9PWU7cmV0dXJuIGNsYXNzIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4oe2lzV29ya3NwYWNlUGxhdGZvcm06ITAsaXNCcm93c2VySW5pdGlhbGl6ZWQ6ISFlLGFuYWx5dGljczp7aXNTdXBwb3J0ZWQ6ITB9fSksdGhpcy5kZXRhY2hQYWdlc0Zyb21XaW5kb3c9cG8sdGhpcy5nZXRBbGxBdHRhY2hlZFBhZ2VzPXRvLHRoaXMuZ2V0UGFnZXNGb3JXaW5kb3c9Z28sdGhpcy5nZXRQYWdlRm9yV2luZG93PWhvLHRoaXMubWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD1Nbyx0aGlzLmxhdW5jaEFwcD12cyx0aGlzLnNhdmVQYWdlPWNvLHRoaXMuc2F2ZVdvcmtzcGFjZT1hcix0aGlzLmNyZWF0ZVNhdmVkUGFnZUludGVybmFsPXJvLHRoaXMudXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9c28sdGhpcy5kZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1pbyx0aGlzLnJlb3JkZXJQYWdlc0ZvcldpbmRvdz1tbyx0aGlzLmdldFVuaXF1ZVBhZ2VUaXRsZT1ibyx0aGlzLnVwZGF0ZVBhZ2VGb3JXaW5kb3c9dW8sdGhpcy5nZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9TXIsdGhpcy5nZXRUaGVtZXM9VHMsdGhpcy5pbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbD1Ccix0aGlzLnJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1kcyx0aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2U9ZXIsdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9WW8sdGhpcy5nZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsPWZyLHRoaXMuZ2V0UGFnZUJ5Vmlld0lkZW50aXR5PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5QbGF0Zm9ybS5MYXlvdXQuZ2V0TGF5b3V0QnlWaWV3SWRlbnRpdHkoZSksYT10LmlkZW50aXR5O2lmKCEoXCJsYXlvdXROYW1lXCJpbiBhKSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IGxheW91dCdzIGlkZW50aXR5XCIpO2NvbnN0IG49YXdhaXQgYm4oKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLmdldFBhZ2VzKCksbz1uLmZpbmRJbmRleCgoZT0+ZS5sYXlvdXROYW1lPT09YS5sYXlvdXROYW1lKSk7aWYoLTE9PT1vKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgcGFnZSdzIGluZGV4XCIpO3JldHVybnt3aW5kb3dJZGVudGl0eTp7bmFtZTp0LmlkZW50aXR5Lm5hbWUsdXVpZDp0LmlkZW50aXR5LnV1aWR9LHBhZ2U6bltvXSxwYWdlSW5kZXg6b319LHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51PXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2VzPXRoaXMuZ2V0U2F2ZWRQYWdlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlPXRoaXMuZ2V0U2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFBhZ2U9dGhpcy5jcmVhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkUGFnZT10aGlzLnVwZGF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRQYWdlPXRoaXMuZGVsZXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5oYW5kbGVQYWdlQ2hhbmdlcz10aGlzLmhhbmRsZVBhZ2VDaGFuZ2VzLmJpbmQodGhpcyksdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93PXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdy5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51PXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51PXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YT10aGlzLmdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZT10aGlzLmdldFNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZT10aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZT10aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZT10aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnPXRoaXMuZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnLmJpbmQodGhpcyksdGhpcy5zYXZlRG9ja1Byb3ZpZGVyQ29uZmlnPXRoaXMuc2F2ZURvY2tQcm92aWRlckNvbmZpZy5iaW5kKHRoaXMpLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dGhpcy5hcHBseVdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMucmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsPXRoaXMucmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9dGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldFNlbGVjdGVkU2NoZW1lPXRoaXMuZ2V0U2VsZWN0ZWRTY2hlbWUuYmluZCh0aGlzKSx0aGlzLnNldFNlbGVjdGVkU2NoZW1lPXRoaXMuc2V0U2VsZWN0ZWRTY2hlbWUuYmluZCh0aGlzKSx0aGlzLmFuYWx5dGljc0ludGVybmFsPXRoaXMuYW5hbHl0aWNzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmhhbmRsZUFuYWx5dGljcz10aGlzLmhhbmRsZUFuYWx5dGljcy5iaW5kKHRoaXMpLHRoaXMuZ2V0TGFuZ3VhZ2U9dGhpcy5nZXRMYW5ndWFnZS5iaW5kKHRoaXMpLHRoaXMuc2V0TGFuZ3VhZ2U9dGhpcy5zZXRMYW5ndWFnZS5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2U9dGhpcy5oYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZS5iaW5kKHRoaXMpLHRoaXMuc2hvdWxkUGFnZUNsb3NlPXRoaXMuc2hvdWxkUGFnZUNsb3NlLmJpbmQodGhpcyksdGhpcy5zaG91bGRXaW5kb3dDbG9zZT10aGlzLnNob3VsZFdpbmRvd0Nsb3NlLmJpbmQodGhpcyksdGhpcy5oYW5kbGVQYWdlc0FuZFdpbmRvd0Nsb3NlPXRoaXMuaGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZS5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlUGFnZT10aGlzLnNldEFjdGl2ZVBhZ2UuYmluZCh0aGlzKSx0aGlzLmhhbmRsZVBhZ2VDaGFuZ2VzPXRoaXMuaGFuZGxlUGFnZUNoYW5nZXMuYmluZCh0aGlzKSx0aGlzLmNvcHlQYWdlPXRoaXMuY29weVBhZ2UuYmluZCh0aGlzKSx0aGlzLmFkZFBhZ2U9dGhpcy5hZGRQYWdlLmJpbmQodGhpcyksdGhpcy5hZGREZWZhdWx0UGFnZT10aGlzLmFkZERlZmF1bHRQYWdlLmJpbmQodGhpcyksdGhpcy5tYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsPXRoaXMubWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMudHJhY2tSZW1vdmVkVGFiSW50ZXJuYWw9dGhpcy50cmFja1JlbW92ZWRUYWJJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMucmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbD10aGlzLnJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbD10aGlzLnRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD10aGlzLmdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD10aGlzLmdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2VhcmNoU2l0ZXNJbnRlcm5hbD10aGlzLnNlYXJjaFNpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsPXRoaXMuZ2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWw9dGhpcy5nZXRDdXJhdGVkQ29udGVudEludGVybmFsLmJpbmQodGhpcyksdGhpcy5oYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsPXRoaXMuaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMucmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPXRoaXMucmVmcmVzaEJvb2ttYXJrc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5sYXVuY2hCb29rbWFya0ludGVybmFsPXRoaXMubGF1bmNoQm9va21hcmtJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZz10aGlzLmdldE5vdGlmaWNhdGlvbnNDb25maWcuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbD10aGlzLnVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMudXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbD10aGlzLnVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmxhdW5jaERvY2tFbnRyeUludGVybmFsPXRoaXMubGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsPXRoaXMuc2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbD10aGlzLm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbD10aGlzLnNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLmdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbD10aGlzLmhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsPXRoaXMucmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmFkZERvY2tGYXZvcml0ZUludGVybmFsPXRoaXMuYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9dGhpcy5mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsLmJpbmQodGhpcyksdGhpcy5zZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbD10aGlzLnNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9ZHMuYmluZCh0aGlzKSx0aGlzLnNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbD11cy5iaW5kKHRoaXMpfWFzeW5jIGFwcGx5V29ya3NwYWNlKC4uLmUpe3JldHVybiBqby5hcHBseSh0aGlzLGUpfWFzeW5jIHJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbCguLi5lKXtyZXR1cm4gUW8uYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTbmFwc2hvdCgpe2NvbnN0IGU9bj9hd2FpdCBXcygoYXN5bmMoKT0+dWEoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpKSk6YXdhaXQgdWEoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpO2xldCB0PXsuLi5lLHdpbmRvd3M6ZS53aW5kb3dzLmZpbHRlcihycykubWFwKGRhKX07cmV0dXJuIHQ9KGU9Pntjb25zdCB0PWlzKGUpO3JldHVybiB0LndpbmRvd3MuZm9yRWFjaCgoZT0+e2UubGF5b3V0JiYoZS5sYXlvdXQ9eXMoZS5sYXlvdXQpKSxlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8uZm9yRWFjaCgoZT0+e2U/LmxheW91dCYmKGUubGF5b3V0PXlzKGUubGF5b3V0KSl9KSl9KSksdH0pKHQpLHR9YXN5bmMgZ2V0Vmlld1NuYXBzaG90KGUpe2xldCB0PWF3YWl0IHN1cGVyLmdldFZpZXdTbmFwc2hvdChlKTtyZXR1cm4gdD13cyh0KSx0fWFzeW5jIGFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp0fSl7bGV0IGE9ZTtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9YXdhaXQgc3VwZXIuZmV0Y2hNYW5pZmVzdCh7bWFuaWZlc3RVcmw6YX0sZmluLm1lLmlkZW50aXR5KSk7Y29uc3Qgbz1mdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlLndpbmRvd3MpaWYodC53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hMX0oYSk7aWYoIW4mJm8pdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzbmFwc2hvdCBjYW5ub3QgYmUgYXBwbGllZCBhcyB0aGUgcGxhdGZvcm0gaGFzIGJlZW4gaW5pdGlhbGl6ZWQgd2l0aG91dCB0aGUgYnJvd3Nlci5cIik7cmV0dXJuIGE9KGU9Pntjb25zdCB0PWlzKGUpO3JldHVybiB0LndpbmRvd3MuZm9yRWFjaCgoZT0+e2UubGF5b3V0PVNzKGUubGF5b3V0KSxlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8uZm9yRWFjaCgoZT0+e2UubGF5b3V0PVNzKGUubGF5b3V0KX0pKX0pKSx0fSkoYSksc3VwZXIuYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6YSxvcHRpb25zOnR9KX1hc3luYyBjcmVhdGVXaW5kb3codCxhKXtpZihuJiZcInRlYXJvdXRcIj09PXQucmVhc29uKXtjb25zdCBlPWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoYSkuZ2V0T3B0aW9ucygpLG49ZS53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZTt0LnRhc2tiYXJJY29uR3JvdXA9ZS50YXNrYmFySWNvbkdyb3VwLG4mJih0LndvcmtzcGFjZVBsYXRmb3JtfHw9e30sdC53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlPWUud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZSxuPT09Qy5QbGF0Zm9ybSYmKHQudXJsPWUudXJsKSl9aWYoIW58fHQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU9PT1DLlBsYXRmb3JtKXtjb25zdCBlPWF3YWl0IHN1cGVyLmNyZWF0ZVdpbmRvdyh0LGEpO3JldHVybiBYdCh7dHlwZTpcIldpbmRvd1wiLGFjdGlvbjpcIk9wZW4gV2luZG93XCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lLGRhdGE6e3V1aWQ6ZS5pZGVudGl0eS51dWlkfX0pLGV9dmFyIG87bz17YWxsb3dlZDohMH0scXR8fChxdD0hMCxadChKdC5Ccm93c2VyLG8pKSwoKGU9W10pPT57Y29uc3QgdD1lLmZpbHRlcigoZT0+ZS50eXBlIT09di5DdXN0b20pKSxhPW5ldyBTZXQsbj1bXTtmb3IoY29uc3QgZSBvZiB0KWEuaGFzKGUudHlwZSkmJm4ucHVzaChlLnR5cGUpLGEuYWRkKGUudHlwZSk7aWYobi5sZW5ndGg+MCl7Y29uc3QgZT1uLmpvaW4oXCIsIFwiKTt0aHJvdyBuZXcgRXJyb3IoYEVuY291bnRlcmVkIGEgZHVwbGljYXRlIFwiJHtlfVwiIHRvb2xiYXIgYnV0dG9uLiBObyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIG9mIGEgYnV0dG9uIHR5cGUgbWF5IGJlIHByb3ZpZGVkLmApfX0pKHQud29ya3NwYWNlUGxhdGZvcm0/LnRvb2xiYXJPcHRpb25zPy5idXR0b25zKTtsZXQgcj0oZT0+XCJ3b3Jrc3BhY2VQbGF0Zm9ybVwiaW4gZT9lOigoe3dvcmtzdGFja3M6ZSxwYWdlczp0LC4uLmF9KT0+KHsuLi5hLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczp0fHxlfHxudWxsfX0pKShlKSkodCk7cj1hd2FpdCBscyhyLGUse3RoZW1lczpUcygpLHNlbGVjdGVkU2NoZW1lOnRoaXMuZ2V0U2VsZWN0ZWRTY2hlbWUoKX0pLHI9YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpO2xldCBhPXQucHJpbWFyeU1vbml0b3I7Y29uc3Qgbj1lLmRlZmF1bHRMZWZ0LG89ZS5kZWZhdWx0VG9wO3Qubm9uUHJpbWFyeU1vbml0b3JzLmZvckVhY2goKGU9Pntjb25zdHt0b3A6dCxib3R0b206cixsZWZ0OmkscmlnaHQ6c309ZS5hdmFpbGFibGVSZWN0O24+PWkmJm48PXMmJm8+PXQmJm88PXImJihhPWUpfSkpO2NvbnN0IHI9YS5hdmFpbGFibGVSZWN0LmJvdHRvbS1hLmF2YWlsYWJsZVJlY3QudG9wLGk9YS5hdmFpbGFibGVSZWN0LnJpZ2h0LWEuYXZhaWxhYmxlUmVjdC5sZWZ0O3JldHVybiBlLmRlZmF1bHRIZWlnaHQ9TWF0aC5taW4oZS5kZWZhdWx0SGVpZ2h0fHw4MDAsciksZS5kZWZhdWx0V2lkdGg9TWF0aC5taW4oZS5kZWZhdWx0V2lkdGh8fDgwMCxpKSxlfSkocik7Y29uc3QgaT1hd2FpdChlPT5hc3luYyh0LGEpPT57bGV0IG49ITE7Y29uc3Qgbz1hd2FpdCBlKHQsYSk7cmV0dXJuIHQ/LndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPy5kZWZlclNob3dFbmFibGVkPyhhd2FpdCBvLmFkZExpc3RlbmVyKFwic2hvdy1yZXF1ZXN0ZWRcIiwoYXN5bmMoKT0+e2lmKG4pcmV0dXJuO2NvbnN0IGU9YXdhaXQgby5nZXRPcHRpb25zKCk7YXdhaXQgby51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybSxfaW50ZXJuYWxEZWZlclNob3dPcHRpb25zOnsuLi5lLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnMsYXV0b1Nob3c6ITB9fX0pLG49ITB9KSksbyk6b30pKCgoZSx0KT0+c3VwZXIuY3JlYXRlV2luZG93KGUsdCkpKShyLGEpO3JldHVybiBYdCh7dHlwZTpcIldpbmRvd1wiLGFjdGlvbjpcIk9wZW4gV2luZG93XCIsdmFsdWU6aS5pZGVudGl0eS5uYW1lLGRhdGE6e3V1aWQ6aS5pZGVudGl0eS51dWlkfX0pLGl9YXN5bmMgY3JlYXRlVmlldyh0LGEpe3Qub3B0cz15bih0Lm9wdHMsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHM9YXdhaXQgcHModC5vcHRzLHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSx0Lm9wdHM9YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9aXMoZSksYT10LndvcmtzcGFjZVBsYXRmb3JtPy5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnM7aWYoYSl7Y29uc3QgZT1PYmplY3Qua2V5cyhhKTtmb3IoY29uc3QgbiBvZiBlKWlmKGFbbl0pe2NvbnN0IGU9KGF3YWl0IGtzKCkpW25dO3QuaG90a2V5cz90LmhvdGtleXMucHVzaCguLi5lKTp0LmhvdGtleXM9Wy4uLmVdfX1yZXR1cm4gdH0pKHQub3B0cyksdC5vcHRzPWdzKHQub3B0cyk7Y29uc3Qgbj1hd2FpdCBzdXBlci5jcmVhdGVWaWV3KHQsYSk7cmV0dXJuIGJzKG4uaWRlbnRpdHksdC5vcHRzLl9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LmJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9ucyksbn1hc3luYyByZXBsYWNlVmlldyh0LGEpe3JldHVybiB0Lm9wdHMubmV3Vmlldz1hd2FpdCB5bih0Lm9wdHMubmV3VmlldyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cy5uZXdWaWV3PWF3YWl0IHBzKHQub3B0cy5uZXdWaWV3LHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSxzdXBlci5yZXBsYWNlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VMYXlvdXQoZSx0KXtyZXR1cm4gYXdhaXQgSHQodCl8fGRlbGV0ZSBlLm9wdHMubGF5b3V0Py5kaW1lbnNpb25zLHN1cGVyLnJlcGxhY2VMYXlvdXQoZSx0KX1hc3luYyBnZXRTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIHpyLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRQYWdlcyguLi5lKXtyZXR1cm4gS3IuYXBwbHkodGhpcyxlKX1hc3luYyBjcmVhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIEpyLmFwcGx5KHRoaXMsZSl9YXN5bmMgZGVsZXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBaci5hcHBseSh0aGlzLGUpfWFzeW5jIHVwZGF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gcXIuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gUWkuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFdvcmtzcGFjZXMoLi4uZSl7cmV0dXJuIFlpLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2VzTWV0YWRhdGEoLi4uZSl7cmV0dXJuKGF3YWl0IHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzKC4uLmUpKS5tYXAoKGU9Pih7d29ya3NwYWNlSWQ6ZS53b3Jrc3BhY2VJZCx0aXRsZTplLnRpdGxlfSkpKX1hc3luYyBjcmVhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gWGkuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gZXMuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gdHMuYXBwbHkodGhpcyxlKX1hc3luYyBnZXREb2NrUHJvdmlkZXJDb25maWcoLi4uZSl7cmV0dXJuIEppLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2F2ZURvY2tQcm92aWRlckNvbmZpZyguLi5lKXtyZXR1cm4gWmkuYXBwbHkodGhpcyxlKX1hc3luYyBhdHRhY2hQYWdlc1RvV2luZG93KHQpe2NvbnN0IGE9YXdhaXQgbnModC5wYWdlcyxlKTthd2FpdCBxbihhKSxhd2FpdCBsbyh7Li4udCxwYWdlczphfSl9YXN5bmMgYWRkUGFnZShlKXtjb25zdCB0PWF3YWl0IEh0KGUuaWRlbnRpdHkpLGE9YXdhaXQgY3QoZS5pZGVudGl0eSkse3BhZ2U6bixpbnNlcnRpb25JbmRleDpvfT1lO24/LnRpdGxlfHx0fHwobi50aXRsZT1hd2FpdCBhLmRpc3BhdGNoKG90LkdldFVuaXF1ZVBhZ2VUaXRsZSx2b2lkIDApKTtjb25zdCByPShhd2FpdCB0aGlzLmdldEFsbEF0dGFjaGVkUGFnZXMoKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT1uLnBhZ2VJZHx8ZS50aXRsZT09PW4udGl0bGUpKTtpZihyKXtpZihyLnBhZ2VJZD09PW4ucGFnZUlkKXRocm93IG5ldyBFcnJvcihgcGFnZSB3aXRoIGlkICR7bi5wYWdlSWR9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke3IucGFyZW50SWRlbnRpdHkubmFtZX1gKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYGFkZFBhZ2UgdGl0bGUgY29sbGlzaW9uLCBwYWdlIHdpdGggdGl0bGUgJHtuLnRpdGxlfSBhbHJlYWR5IGV4aXN0cywgY29uZmxpY3RpbmcgcGFnZSBpZDogJHtyLnBhZ2VJZH0gd2l0aCB0aXRsZSAke3IudGl0bGV9YCl9Y29uc3QgaT17aWRlbnRpdHk6ZS5pZGVudGl0eSxwYWdlczpbey4uLm4sbXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcjplLm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J8fFwiZHVwbGljYXRlXCJ9XSxpbnNlcnRpb25JbmRleDpvfTthd2FpdCB0aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3coaSl9YXN5bmMgYWRkRGVmYXVsdFBhZ2UoZSl7YXdhaXQgdGhpcy5hZGRQYWdlKGUpLGF3YWl0IHRoaXMuc2V0QWN0aXZlUGFnZSh7aWRlbnRpdHk6ZS5pZGVudGl0eSxwYWdlSWQ6ZS5wYWdlLnBhZ2VJZH0pfWFzeW5jIHNldEFjdGl2ZVBhZ2UoLi4uZSl7cmV0dXJuIHdvLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIE5pLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51KC4uLmUpe3JldHVybiBWaS5hcHBseSh0aGlzLFsuLi5lLExyLkdsb2JhbE1lbnUsRmkuQm90dG9tUmlnaHRdKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIExpLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gVmkuYXBwbHkodGhpcyxbLi4uZSxMci5Db250ZXh0TWVudV0pfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gX2kuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBWaS5hcHBseSh0aGlzLFsuLi5lLExyLkNvbnRleHRNZW51XSl9YXN5bmMgb3BlblNhdmVCdXR0b25Db250ZXh0TWVudSguLi5lKXtyZXR1cm4gVmkuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIFVpLmFwcGx5KHRoaXMsZSl9Z2V0U2VsZWN0ZWRTY2hlbWUoLi4uZSl7cmV0dXJuIG1uLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2V0U2VsZWN0ZWRTY2hlbWUoLi4uZSl7cmV0dXJuIGhuLmFwcGx5KHRoaXMsZSl9YXN5bmMgaGFuZGxlUGFnZUNoYW5nZXMoLi4uZSl7cmV0dXJuIENvLmFwcGx5KHRoaXMsZSl9YXN5bmMgYW5hbHl0aWNzSW50ZXJuYWwoLi4uZSl7cmV0dXJuIEZvLmFwcGx5KHRoaXMsZSl9YXN5bmMgaGFuZGxlQW5hbHl0aWNzKC4uLmUpe31hc3luYyBoYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZSguLi5lKXtyZXR1cm4gZm8uYXBwbHkodGhpcyxlKX1hc3luYyBzaG91bGRQYWdlQ2xvc2UoLi4uZSl7cmV0dXJuIHlvLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2hvdWxkV2luZG93Q2xvc2UoLi4uZSl7cmV0dXJuIFNvLmFwcGx5KHRoaXMsZSl9aGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZSguLi5lKXtyZXR1cm4gdm8uYXBwbHkodGhpcyxlKX1hc3luYyBjb3B5UGFnZSguLi5lKXtyZXR1cm4gUG8uYXBwbHkodGhpcyxlKX1hc3luYyBnZXROb3RpZmljYXRpb25zQ29uZmlnKCl7cmV0dXJuIHR9YXN5bmMgc2V0TGFuZ3VhZ2UoLi4uZSl7cmV0dXJuIGJyLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0TGFuZ3VhZ2UoKXtyZXR1cm4ga3IuYXBwbHkodGhpcyl9YXN5bmMgdHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwoLi4uZSl7cmV0dXJuIGpyLmFwcGx5KHRoaXMsZSl9YXN5bmMgcmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbCgpe2NvbnN0IGU9YXdhaXQoYXN5bmMoKT0+e2lmKCEkcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcG9wIGxhc3QgcmVtb3ZlZCB0YWIgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgZT0kcltPcl0sdD1hd2FpdCBlLnRvQ29sbGVjdGlvbigpLmtleXMoKTtpZih0Lmxlbmd0aD4wKXtjb25zdCBhPU1hdGgubWF4KC4uLnQubWFwKChlPT5OdW1iZXIoZSkpKSkudG9TdHJpbmcoKSxuPWF3YWl0IGUuZ2V0KGEpO2lmKG4pe2F3YWl0IGUuZGVsZXRlKGEpO2NvbnN0e2lkOnQsLi4ub309bjtyZXR1cm4gb319fSkoKTtpZihcInBhZ2VcImluIGUpaWYoYXdhaXQgSWUoZS5pZGVudGl0eSkpe2NvbnN0IHQ9Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUuaWRlbnRpdHkpO2F3YWl0IHQuYWRkUGFnZShlLnBhZ2UpLGF3YWl0IHQuc2V0QWN0aXZlUGFnZShlLnBhZ2UucGFnZUlkKX1lbHNlIGJuKCkuY3JlYXRlV2luZG93KHtuYW1lOmUuaWRlbnRpdHkubmFtZSx3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W2UucGFnZV0sd2luZG93VHlwZTpDLkJyb3dzZXJ9fSk7ZWxzZShmdW5jdGlvbihlKXtyZXR1cm5cIndpbmRvd1wiaW4gZX0pKGUpJiZibigpLmNyZWF0ZVdpbmRvdyh7d29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOmUud2luZG93LnBhZ2VzLHdpbmRvd1R5cGU6Qy5Ccm93c2VyfX0pfWFzeW5jIHRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbCguLi5lKXtyZXR1cm4gWXIuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCBBcy5hcHBseSh0aGlzLGUpfWFzeW5jIGdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCguLi5lKXtyZXR1cm4gWHIuYXBwbHkodGhpcyxlKX1hc3luYyBzZWFyY2hTaXRlc0ludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCBNcy5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCB4cy5hcHBseSh0aGlzLGUpfWFzeW5jIGdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWwoLi4uZSl7cmV0dXJuIGF3YWl0IElzLmFwcGx5KHRoaXMsZSl9YXN5bmMgaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbCguLi5lKXt9YXN5bmMgbGF1bmNoQm9va21hcmtJbnRlcm5hbChlKXtyZXR1cm4gYWkoZSl9YXN5bmMgcmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKCl7KGF3YWl0IGJuKCkuQnJvd3Nlci5nZXRBbGxXaW5kb3dzKCkpLmZvckVhY2goKGFzeW5jKHtpZGVudGl0eTplfSk9PnsoYXdhaXQgQ2EoZSkpLmRpc3BhdGNoKFRhLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCl9KSk7KGF3YWl0IFBhKEZyKCkpKS5kaXNwYXRjaChUYS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWwpLGF3YWl0KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IEdpKCk7aWYoZSl7Y29uc3QgdD1hd2FpdCBDYShlLmlkZW50aXR5LE9pKTthd2FpdCB0LmRpc3BhdGNoKFRhLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCl9fSkoKX1hc3luYyB1cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEdpKCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFuaW9uIERvY2sgd2luZG93IG5vdCBmb3VuZFwiKTt7Y29uc3QgYT1hd2FpdCBDYSh0LmlkZW50aXR5LE9pKTthd2FpdCBhLmRpc3BhdGNoKFdhLlVwZGF0ZUZhdm9yaXRlRW50cmllcyxlKX19KShlKX1hc3luYyB1cGRhdGVDb250ZW50TWVudUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBHaSgpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNvbXBhbmlvbiBEb2NrIHdpbmRvdyBub3QgZm91bmRcIik7e2NvbnN0IGE9YXdhaXQgQ2EodC5pZGVudGl0eSxPaSk7YXdhaXQgYS5kaXNwYXRjaChXYS5VcGRhdGVDb250ZW50TWVudSxlKX19KShlKX1hc3luYyBsYXVuY2hEb2NrRW50cnlJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IEhpKCkpLmRpc3BhdGNoKFwibGF1bmNoLWVudHJ5XCIsZSkpKGUpfWFzeW5jIHNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBIaSgpKS5kaXNwYXRjaChcInNldC1kZWZhdWx0LWRvY2stYnV0dG9ucy1vcmRlclwiLGUpKShlKX1hc3luYyBzZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IEhpKCkpLmRpc3BhdGNoKFwic2V0LWRvY2stZmF2b3JpdGVzLW9yZGVyXCIsZSkpKGUpfWFzeW5jIGFkZERvY2tGYXZvcml0ZUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goXCJhZGQtZmF2b3JpdGUtZW50cnlcIixlKSkoZSl9YXN5bmMgcmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBIaSgpKS5kaXNwYXRjaChcInJlbW92ZS1mYXZvcml0ZS1lbnRyeVwiLGUpKShlKX1hc3luYyBuYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEdpKCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFuaW9uIERvY2sgd2luZG93IG5vdCBmb3VuZFwiKTt7Y29uc3QgYT1hd2FpdCBDYSh0LmlkZW50aXR5LE9pKTthd2FpdCBhLmRpc3BhdGNoKFdhLk5hdmlnYXRlQ29udGVudE1lbnUsZSl9fSkoZSl9YXN5bmMgZ2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsKCl7cmV0dXJuKGFzeW5jKCk9Pihhd2FpdCBIaSgpKS5kaXNwYXRjaChcImdldC1kb2NrLXdvcmtzcGFjZXMtY29udGV4dC1tZW51XCIsdm9pZCAwKSkoKX1hc3luYyBoYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goXCJoYW5kbGUtZG9jay13b3Jrc3BhY2VzLW1lbnUtcmVzcG9uc2VcIixlKSkoZSl9YXN5bmMgZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbCgpe3JldHVybiAkaSgpfWFzeW5jIHNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsKGUpe3JldHVybiBZYShlKX1hc3luYyBzaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWwoZSx0KXtyZXR1cm4gdXMoZSx0KX19fTtmdW5jdGlvbiBFcyhlLHQsYSl7Y29uc3Qgbj1ScyhlLGEpO3RyeXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2U9PnQobihlKSk6QXJyYXkuaXNBcnJheSh0KT9bLi4udCxuXTplPT5uZXcobihlKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiV29ya3NwYWNlUGxhdGZvcm0uaW5pdCBFcnJvcjpcIixlKX19Y29uc3QgRnM9W1wiZ3JlZW5cIixcInB1cnBsZVwiLFwib3JhbmdlXCIsXCJyZWRcIixcInBpbmtcIixcInllbGxvd1wiXSxWcz1cIkNPTlRFWFRfR1JPVVBfUEFHRVwiLE5zPSgpPT5lPT5jbGFzcyBleHRlbmRzIGV7Z2V0Q29udGV4dEdyb3Vwcygpe3JldHVybiBzdXBlci5nZXRDb250ZXh0R3JvdXBzKCkubWFwKChlPT5Gcy5pbmNsdWRlcyhlLmRpc3BsYXlNZXRhZGF0YT8ubmFtZSk/ey4uLmUsZGlzcGxheU1ldGFkYXRhOnsuLi5lLmRpc3BsYXlNZXRhZGF0YSxuYW1lOk9uKGUuZGlzcGxheU1ldGFkYXRhPy5uYW1lKX19OmUpKX19LExzPSgpPT57Y29uc3QgZT1uZXcgU2V0KElpLmtleXMoKSk7cmV0dXJuIHQ9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5vbkNsaWVudENvbm5lY3RlZD1hc3luYyBlPT57aWYoZS5uYW1lLnN0YXJ0c1dpdGgoXCJpbnRlcm5hbC1nZW5lcmF0ZWQtdmlld1wiKSl7Y29uc3R7cGFnZTp0fT1hd2FpdCBibigpLkJyb3dzZXIuZ2V0UGFnZUJ5Vmlld0lkZW50aXR5KGUpLGE9dC5jb250ZXh0R3JvdXA7dGhpcy5qb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDphPz9Wcyx0YXJnZXQ6ZX0se3V1aWQ6dGhpcy5maW4ubWUudXVpZCxuYW1lOnRoaXMuZmluLm1lLm5hbWV9KX19O2NvbnN0IGU9dGhpcy5pbnRlcm9wQ2xpZW50cy5zZXQ7dGhpcy5pbnRlcm9wQ2xpZW50cy5zZXQ9KHQsYSk9PntlLmNhbGwodGhpcy5pbnRlcm9wQ2xpZW50cyx0LGEpLHRoaXMub25DbGllbnRDb25uZWN0ZWQoYS5jbGllbnRJZGVudGl0eSl9fWFzeW5jIGpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOnQsdGFyZ2V0OmF9LG4pe2lmKHQhPT1WcylyZXR1cm4gc3VwZXIuam9pbkNvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6dCx0YXJnZXQ6YX0sbik7dHJ5e2NvbnN0IHQ9KGF3YWl0IGJuKCkuQnJvd3Nlci5nZXRQYWdlQnlWaWV3SWRlbnRpdHkoYSkpLnBhZ2UubGF5b3V0TmFtZTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJWaWV3IGRvZXMgbm90IGJlbG9uZyB0byBhIHBhZ2VcIik7aWYoIWUuaGFzKHQpJiYoZS5hZGQodCksIXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuaGFzKHQpKSl7Y29uc3QgZT1uZXcgTWFwO3RoaXMuY29udGV4dEdyb3Vwc0J5SWQuc2V0KHQsZSl9YXdhaXQgc3VwZXIuam9pbkNvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6dCx0YXJnZXQ6YX0sbiksYS5uYW1lfWNhdGNoKGUpe0pTT04uc3RyaW5naWZ5KGEpLGUuc3RhY2t9fWdldENvbnRleHRHcm91cHMoKXtyZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoKGU9Pih7aWQ6ZSxkaXNwbGF5TWV0YWRhdGE6SWkuZ2V0KGUpPz97fX0pKSl9c2V0Q29udGV4dEZvckdyb3VwKGUsdCl7aWYoIXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuaGFzKHQpKXtjb25zdCBlPW5ldyBNYXA7dGhpcy5jb250ZXh0R3JvdXBzQnlJZC5zZXQodCxlKX1yZXR1cm4gc3VwZXIuc2V0Q29udGV4dEZvckdyb3VwKGUsdCl9fX0sX3M9KGUsdCk9Pntjb25zdCBhPShlPT4kdChlKT9McygpOk5zKCkpKHQpO3RyeXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3Q9PmUoYSh0KSk6QXJyYXkuaXNBcnJheShlKT9bLi4uZSxhXTplPT5uZXcoYShlKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiV29ya3NwYWNlUGxhdGZvcm0uaW5pdCBFcnJvcjpcIixlKX19O2FzeW5jIGZ1bmN0aW9uIFVzKCl7KGFzeW5jKCk9PntoZSgpLm9uKFwid2luZG93LWNsb3NlZFwiLERyKX0pKCksYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLHQ9YXdhaXQgeHIoKTthd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgZT0+e2F3YWl0IEFyKGUuaWRlbnRpdHksdm9pZCAwLCEwKX0pKSk7Y29uc3QgYT1hd2FpdCBmaW4uU3lzdGVtLmdldEZvY3VzZWRXaW5kb3coKTthJiZhLm5hbWUuc3RhcnRzV2l0aChtZS5Ccm93c2VyV2luZG93KSYmYXdhaXQgQXIoYSx2b2lkIDAsITApLGF3YWl0IGUuYWRkTGlzdGVuZXIoXCJ3aW5kb3ctZm9jdXNlZFwiLChhc3luYyBlPT57YXdhaXQgQXIoZSx2b2lkIDAsITApfSkpLGF3YWl0IGUuYWRkTGlzdGVuZXIoXCJ3aW5kb3ctbWluaW1pemVkXCIsKGFzeW5jIGU9Pnthd2FpdCBBcihlLCExKX0pKSxhd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LXJlc3RvcmVkXCIsKGFzeW5jIGU9Pnthd2FpdCBBcihlLCEwKX0pKSxhd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWNsb3NlZFwiLFdyKX0oKTtZbyhhd2FpdCBYbygpKX1sZXQgT3M7ZnVuY3Rpb24gR3Moe292ZXJyaWRlQ2FsbGJhY2s6ZSxpbnRlcm9wT3ZlcnJpZGU6dCxicm93c2VyOmEsbm90aWZpY2F0aW9uczpuLGFuYWx5dGljczpvLGludGVncmF0aW9uczpyPVtdLHdvcmtzcGFjZUFzYXI6aX0pe2lmKCFXKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuXCIpO3JldHVybiBPc3x8KE9zPShhc3luYygpPT57Y29uc3Qgcz1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTt2YXIgYyxsO2lmKHMub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+VXMoKSkpLHMub24oXCJ3aW5kb3ctc2hvdy1hbGwtZG93bmxvYWRzXCIsKCh7bmFtZTplLHV1aWQ6dH0pPT57cHIoe25hbWU6ZSx1dWlkOnR9KX0pKSxhPy50aXRsZSYmKGM9YS50aXRsZSxEaT1jKSxWbyhvKSxpKXtjb25zdCBlPWB3b3Jrc3BhY2UtJHtlbmNvZGVVUklDb21wb25lbnQoZmluLm1lLnV1aWQpfWAse2Jhc2VVcmw6dH09YXdhaXQgZmluLlN5c3RlbS5zZXJ2ZUFzc2V0KHsuLi5pLGhvc3ROYW1lOmV9KTtYKHQpfWE/LmJyb3dzZXJCYXNlVXJsJiZYKGEuYnJvd3NlckJhc2VVcmwpLCR0KGEpJiYoem49ITAsbD1hLCRuPWw/LmFpUGFuZWxPcHRpb25zLEpuKCkpO2NvbnN0IGQ9bG4oKTt2YXIgdTtyZXR1cm4gZC5zZXRXb3Jrc3BhY2VTdG9yYWdlKFB0KGAke1J9LXdvcmtzcGFjZWApKSxkLnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZSgpLGF3YWl0IGZpbi5QbGF0Zm9ybS5pbml0KHtvdmVycmlkZUNhbGxiYWNrOkVzKGEsZXx8YT8ub3ZlcnJpZGVDYWxsYmFjayxuKSxpbnRlcm9wT3ZlcnJpZGU6X3ModHx8YT8uaW50ZXJvcE92ZXJyaWRlLGEpfSksdT17YWxsb3dlZDohMH0sWnQoSnQuUGxhdGZvcm0sdSksYXdhaXQgUHJvbWlzZS5hbGwoci5tYXAoKGFzeW5jIGU9PnsoKGUsdCk9PntadChgJHtKdC5NaWNyb2Zsb3d9OiR7ZX1gLHQsXCJpbnRlZ3JhdGlvbi1mZWF0dXJlXCIpfSkoZS53b3JrZmxvd0ludGVncmF0aW9uTmFtZSx7YWxsb3dlZDohMCxhcGlWZXJzaW9uOlV9KSxhd2FpdCBlLl9pbml0aWFsaXplV29ya2Zsb3dzKCl9KSkpLHN9KSgpKSxPc31jb25zdCBIcz1hc3luYyh7dGhlbWU6ZSxjdXN0b21BY3Rpb25zOnQsbGFuZ3VhZ2U6YSwuLi5ufSk9Pntjb25zdCBvPVUuc3BsaXQoXCIuXCIpLm1hcCgoZT0+cGFyc2VJbnQoZSkpKSxyPWF3YWl0KGFzeW5jIGU9PntpZigoYXdhaXQgWSgpKS5kaXNhYmxlUnVudGltZVZhbGlkYXRpb24pcmV0dXJuITA7aWYoYXdhaXQgSHQoKSlyZXR1cm4hMDtjb25zdCB0PShhd2FpdCBmaW4uU3lzdGVtLmdldFZlcnNpb24oKSkuc3BsaXQoXCIuXCIpLm1hcCgoZT0+cGFyc2VJbnQoZSkpKTtyZXR1cm4gZS5ldmVyeSgoKGEsbik9PiEobjwzKXx8dFtuXT09PWVbbl0pKX0pKG8pO2lmKCFyKXRocm93IG5ldyBFcnJvcihgUnVudGltZSB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0ZWQuICAke29bMF19LiR7b1sxXX0uJHtvWzJdfS4qIGlzIHJlcXVpcmVkYCk7dmFyIGk7cmV0dXJuIEJzKGUpLGUmJihpPXthbGxvd2VkOiEwfSxadChKdC5UaGVtaW5nLGkpKSx0JiYoVHI9dCksYXdhaXQgeXIoYT8uaW5pdGlhbExhbmd1YWdlKSxHcyhuKX19KSgpLG1vZHVsZS5leHBvcnRzPW59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiKCgpPT57dmFyIGU9ezg0NzooZSx0KT0+e3ZhciBhPXsyMzQ2OmZ1bmN0aW9uKGUsdCxhKXt2YXIgbj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldE1vc3RSZWFkYWJsZT10LmRhcmtlbkNvbG9yPXQubGlnaHRlbkNvbG9yPXZvaWQgMDtjb25zdCByPW4oYSg2NTM1KSk7dC5saWdodGVuQ29sb3I9KGUsdCk9Pm8oZSxcImxpZ2h0ZW5cIix0KSx0LmRhcmtlbkNvbG9yPShlLHQpPT5vKGUsXCJkYXJrZW5cIix0KTtjb25zdCBvPShlLHQsYSk9PntpZihhJiYoYTwwfHxhPjEwMCkpdGhyb3cgbmV3IEVycm9yKGAke2F9IG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBgKTtyZXR1cm4oMCxyLmRlZmF1bHQpKGUpW3RdKGEpLnRvU3RyaW5nKCl9O3QuZ2V0TW9zdFJlYWRhYmxlPShlLHQpPT5yLmRlZmF1bHQubW9zdFJlYWRhYmxlKGUsdCkudG9IZXhTdHJpbmcoKX0sMjMxNzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuSWNvblNpemU9dC5UcmFuc2l0aW9uPXQuTGluZUhlaWdodD10LkZvbnRXZWlnaHQ9dC5Gb250U2l6ZT10LkZvbnRGYW1pbHk9dC5TaGFkb3c9dC5SYWRpdXM9dC5Vbml0UHg9dC5Vbml0PXQuU2l6ZU5hbWU9dC5TaXplPXQuQ29sb3I9dm9pZCAwLHQuQ29sb3I9e3doaXRlOlwiI0ZGRkZGRlwiLGxpZ2h0R3JheTE6XCIjRkFGQkZFXCIsbGlnaHRHcmF5MjpcIiNGM0Y1RjhcIixsaWdodEdyYXkzOlwiI0VDRUVGMVwiLGxpZ2h0R3JheTQ6XCIjRERERkU0XCIsbGlnaHRHcmF5NTpcIiNDOUNCRDJcIixuZXV0cmFsR3JheTpcIiM3RDgwOEFcIixuZXV0cmFsR3JheTgwOlwicmdiYSgxMjUsMTI4LDEzOCwwLjgpXCIsc2lsdmVyR3JheTpcIiNDMEMxQzJcIixkYXJrR3JheTE6XCIjNTM1NjVGXCIsZGFya0dyYXkyOlwiIzM4M0E0MFwiLGRhcmtHcmF5MzpcIiMyRjMxMzZcIixkYXJrR3JheTQ6XCIjMjQyNjJCXCIsZGFya0dyYXk1OlwiIzFFMUYyM1wiLGRhcmtHcmF5NjpcIiMxMTEyMTRcIixvcGVuRmluRGFya2VzdDpcIiMzRDM5Q0RcIixvcGVuRmluRGFya2VyOlwiIzQ2NDJFMFwiLG9wZW5GaW46XCIjNTA0Q0ZGXCIsb3BlbkZpbkxpZ2h0OlwiIzUyNTRGQlwiLG9wZW5GaW5MaWdodGVyOlwiIzVDNUVGRVwiLG9wZW5GaW5MaWdodGVzdDpcIiM2ODY0RkZcIixmdW5jdGlvbmFsMTpcIiMyMDc3MzVcIixmdW5jdGlvbmFsMjpcIiM0NkM4RjFcIixmdW5jdGlvbmFsMzpcIiMwQTc2RDNcIixmdW5jdGlvbmFsNDpcIiM2Q0FERTVcIixmdW5jdGlvbmFsNTpcIiMwQTc2RDNcIixmdW5jdGlvbmFsNjpcIiM4ODJCRkVcIixmdW5jdGlvbmFsNzpcIiNGMzE4MThcIixmdW5jdGlvbmFsODpcIiNDOTM0MDBcIixmdW5jdGlvbmFsOTpcIiNGRjVFNjBcIixmdW5jdGlvbmFsMTA6XCIjRjQ4RjAwXCIscHVycGxlOlwiIzhDNjFGRlwiLGxpZ2h0Ymx1ZTpcIiMzNkMzRkVcIixhcXVhOlwiIzAwQ0M4OFwiLHllbGxvdzpcIiNGRkVCMDBcIixzYWxtb246XCIjRkY4QzRDXCIscGluazpcIiNGRjVFNjBcIixsaWdodHBpbms6XCIjRkY4RkI4XCIsd2hpdGUwMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4wKVwiLHdoaXRlMTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMSlcIix3aGl0ZTIwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjIpXCIsd2hpdGUzMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4zKVwiLHdoaXRlNDA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNClcIix3aGl0ZTUwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCIsd2hpdGU2MDpcInJnYmEoMjU1LDI1NSwyNTUsMC42KVwiLHdoaXRlNzA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNylcIix3aGl0ZTgwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCIsd2hpdGU5MDpcInJnYmEoMjU1LDI1NSwyNTUsMC45KVwiLGJsYWNrMDA6XCJyZ2JhKDAsMCwwLDAuMClcIixibGFjazEwOlwicmdiYSgwLDAsMCwwLjEpXCIsYmxhY2syMDpcInJnYmEoMCwwLDAsMC4yKVwiLGJsYWNrMzA6XCJyZ2JhKDAsMCwwLDAuMylcIixibGFjazQwOlwicmdiYSgwLDAsMCwwLjQpXCIsYmxhY2s1MDpcInJnYmEoMCwwLDAsMC41KVwiLGJsYWNrNjA6XCJyZ2JhKDAsMCwwLDAuNilcIixibGFjazcwOlwicmdiYSgwLDAsMCwwLjcpXCIsYmxhY2s4MDpcInJnYmEoMCwwLDAsMC44KVwiLGJsYWNrOTA6XCJyZ2JhKDAsMCwwLDAuOSlcIix0cmFuc3BhcmVudDpcInRyYW5zcGFyZW50XCIsb3BlbkZpbkFjdGl2ZTpcIiM0NjQyRkZcIixvcGVuRmluSG92ZXI6XCIjNjk2NUZGXCIsbGlnaHRHcmF5NEFjdGl2ZTpcIiNEN0RBREZcIixsaWdodEdyYXk0SG92ZXI6XCIjRUJFQ0VGXCIsZGFya0dyYXkyQWN0aXZlOlwiIzMzMzUzQlwiLGRhcmtHcmF5MkhvdmVyOlwiIzQ0NDY0RVwifSx0LlNpemU9e3hzbWFsbDpcInhzbWFsbFwiLHNtYWxsOlwic21hbGxcIixiYXNlOlwiYmFzZVwiLGxhcmdlOlwibGFyZ2VcIix4bGFyZ2U6XCJ4bGFyZ2VcIix4eGxhcmdlOlwieHhsYXJnZVwiLHh4eGxhcmdlOlwieHh4bGFyZ2VcIix4eHh4bGFyZ2U6XCJ4eHh4bGFyZ2VcIn0sdC5TaXplTmFtZT17W3QuU2l6ZS54c21hbGxdOlwiRXh0cmEgU21hbGxcIixbdC5TaXplLnNtYWxsXTpcIlNtYWxsXCIsW3QuU2l6ZS5iYXNlXTpcIkJhc2VcIixbdC5TaXplLmxhcmdlXTpcIkxhcmdlXCIsW3QuU2l6ZS54bGFyZ2VdOlwiRXh0cmEgTGFyZ2VcIixbdC5TaXplLnh4bGFyZ2VdOlwiMlggTGFyZ2VcIixbdC5TaXplLnh4eGxhcmdlXTpcIjNYIExhcmdlXCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNFggTGFyZ2VcIn0sdC5Vbml0PXtbdC5TaXplLnhzbWFsbF06NCxbdC5TaXplLnNtYWxsXTo4LFt0LlNpemUuYmFzZV06MTIsW3QuU2l6ZS5sYXJnZV06MTYsW3QuU2l6ZS54bGFyZ2VdOjIwLFt0LlNpemUueHhsYXJnZV06MjQsW3QuU2l6ZS54eHhsYXJnZV06MzIsW3QuU2l6ZS54eHh4bGFyZ2VdOjQ4fSx0LlVuaXRQeD17W3QuU2l6ZS54c21hbGxdOlwiNHB4XCIsW3QuU2l6ZS5zbWFsbF06XCI4cHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTZweFwiLFt0LlNpemUueGxhcmdlXTpcIjIwcHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMjRweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMzJweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQ4cHhcIn0sdC5SYWRpdXM9e1t0LlNpemUueHNtYWxsXTpcIjJweFwiLFt0LlNpemUuc21hbGxdOlwiNHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjhweFwiLFt0LlNpemUubGFyZ2VdOlwiMjRweFwiLHBpbGw6XCIxMDB2aFwiLHJvdW5kOlwiNTAlXCIsbm9uZTpcIjBcIn0sdC5TaGFkb3c9e1t0LlNpemUuYmFzZV06XCIwIDRweCA0cHggcmdiYSgwLCAwLCAwLCAwLjI1KVwifSx0LkZvbnRGYW1pbHk9W1wiSW50ZXJcIixcInN5c3RlbS11aVwiLFwiQmxpbmtNYWNTeXN0ZW1Gb250XCIsXCJTZWdvZSBVSVwiLFwiUm9ib3RvXCIsXCJPeHlnZW4tU2Fuc1wiLFwiVWJ1bnR1XCIsXCJDYW50YXJlbGxcIixcIkhlbHZldGljYSBOZXVlXCIsXCJzYW5zLXNlcmlmXCJdLmpvaW4oXCIsXCIpLHQuRm9udFNpemU9e1t0LlNpemUueHNtYWxsXTpcIjhweFwiLFt0LlNpemUuc21hbGxdOlwiMTBweFwiLFt0LlNpemUuYmFzZV06XCIxMnB4XCIsW3QuU2l6ZS5sYXJnZV06XCIxNHB4XCIsW3QuU2l6ZS54bGFyZ2VdOlwiMTZweFwiLFt0LlNpemUueHhsYXJnZV06XCIxOHB4XCIsW3QuU2l6ZS54eHhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNDBweFwifSx0LkZvbnRXZWlnaHQ9e25vcm1hbDo0MDAsYm9sZDo2MDB9LHQuTGluZUhlaWdodD17dWk6MSxoZWFkaW5nOjEuMix0ZXh0OjEuNX0sdC5UcmFuc2l0aW9uPXtiYXNlOlwiMjAwbXMgY3ViaWMtYmV6aWVyKDAuMTYsIDEsIDAuMywgMSlcIixub25lOlwiMG1zXCJ9LHQuSWNvblNpemU9e1t0LlNpemUueHNtYWxsXTp0LlVuaXRQeC5zbWFsbCxbdC5TaXplLnNtYWxsXTp0LlVuaXRQeC5iYXNlLFt0LlNpemUuYmFzZV06XCIxNXB4XCIsW3QuU2l6ZS5sYXJnZV06dC5Vbml0UHgueGxhcmdlLFt0LlNpemUueGxhcmdlXTp0LlVuaXRQeC54eGxhcmdlLFt0LlNpemUueHhsYXJnZV06dC5Vbml0UHgueHh4bGFyZ2UsW3QuU2l6ZS54eHhsYXJnZV06dC5Vbml0UHgueHh4eGxhcmdlfX0sNjg5MzooZSx0LGEpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVUaGVtZT12b2lkIDA7Y29uc3Qgbj1hKDIzMTcpLHI9YSgyMzQ2KSxvPWEoNTkzOSksaT17Zm9udEZhbWlseTpuLkZvbnRGYW1pbHksZm9udFNpemU6bi5Gb250U2l6ZSxmb250V2VpZ2h0Om4uRm9udFdlaWdodCxsaW5lSGVpZ2h0Om4uTGluZUhlaWdodCxpY29uU2l6ZTpuLkljb25TaXplLHJhZGl1czpuLlJhZGl1cyxzaGFkb3c6bi5TaGFkb3csdHJhbnNpdGlvbjpuLlRyYW5zaXRpb24sdW5pdDpuLlVuaXQscHg6bi5Vbml0UHh9LHM9KGUsdCk9Pih7W2Ake2V9QWN0aXZlYF06KDAsci5kYXJrZW5Db2xvcikodCwyKSxbYCR7ZX1Ib3ZlcmBdOigwLHIubGlnaHRlbkNvbG9yKSh0LDUpLFtgJHtlfUZvY3VzZWRgXTooMCxyLmdldE1vc3RSZWFkYWJsZSkodCxbbi5Db2xvci53aGl0ZSxuLkNvbG9yLmRhcmtHcmF5NV0pLFtgJHtlfVRleHRgXTooMCxyLmdldE1vc3RSZWFkYWJsZSkodCxbbi5Db2xvci53aGl0ZSxuLkNvbG9yLmRhcmtHcmF5NV0pfSk7dC5jcmVhdGVUaGVtZT1lPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse3BhbGV0dGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scyhvLlBhbGV0dGUuYnJhbmRQcmltYXJ5LGUuYnJhbmRQcmltYXJ5KSkscyhvLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnksZS5icmFuZFNlY29uZGFyeSkpLGUpfSl9LDU5Mzk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlBhbGV0dGU9dm9pZCAwLHQuUGFsZXR0ZT17YmFja2dyb3VuZDE6XCJiYWNrZ3JvdW5kMVwiLGJhY2tncm91bmQyOlwiYmFja2dyb3VuZDJcIixiYWNrZ3JvdW5kMzpcImJhY2tncm91bmQzXCIsYmFja2dyb3VuZDQ6XCJiYWNrZ3JvdW5kNFwiLGJhY2tncm91bmQ1OlwiYmFja2dyb3VuZDVcIixiYWNrZ3JvdW5kNjpcImJhY2tncm91bmQ2XCIsYnJhbmRQcmltYXJ5OlwiYnJhbmRQcmltYXJ5XCIsYnJhbmRTZWNvbmRhcnk6XCJicmFuZFNlY29uZGFyeVwiLGJyYW5kUHJpbWFyeUFjdGl2ZTpcImJyYW5kUHJpbWFyeUFjdGl2ZVwiLGJyYW5kUHJpbWFyeUhvdmVyOlwiYnJhbmRQcmltYXJ5SG92ZXJcIixicmFuZFByaW1hcnlGb2N1c2VkOlwiYnJhbmRQcmltYXJ5Rm9jdXNlZFwiLGJyYW5kUHJpbWFyeVRleHQ6XCJicmFuZFByaW1hcnlUZXh0XCIsYnJhbmRTZWNvbmRhcnlBY3RpdmU6XCJicmFuZFNlY29uZGFyeUFjdGl2ZVwiLGJyYW5kU2Vjb25kYXJ5SG92ZXI6XCJicmFuZFNlY29uZGFyeUhvdmVyXCIsYnJhbmRTZWNvbmRhcnlGb2N1c2VkOlwiYnJhbmRTZWNvbmRhcnlGb2N1c2VkXCIsYnJhbmRTZWNvbmRhcnlUZXh0OlwiYnJhbmRTZWNvbmRhcnlUZXh0XCIsaW5wdXRCYWNrZ3JvdW5kOlwiaW5wdXRCYWNrZ3JvdW5kXCIsaW5wdXRDb2xvcjpcImlucHV0Q29sb3JcIixpbnB1dFBsYWNlaG9sZGVyOlwiaW5wdXRQbGFjZWhvbGRlclwiLGlucHV0RGlzYWJsZWQ6XCJpbnB1dERpc2FibGVkXCIsaW5wdXRGb2N1c2VkOlwiaW5wdXRGb2N1c2VkXCIsaW5wdXRCb3JkZXI6XCJpbnB1dEJvcmRlclwiLHN0YXR1c1N1Y2Nlc3M6XCJzdGF0dXNTdWNjZXNzXCIsc3RhdHVzV2FybmluZzpcInN0YXR1c1dhcm5pbmdcIixzdGF0dXNDcml0aWNhbDpcInN0YXR1c0NyaXRpY2FsXCIsc3RhdHVzQWN0aXZlOlwic3RhdHVzQWN0aXZlXCIsdGV4dERlZmF1bHQ6XCJ0ZXh0RGVmYXVsdFwiLHRleHRIZWxwOlwidGV4dEhlbHBcIix0ZXh0SW5hY3RpdmU6XCJ0ZXh0SW5hY3RpdmVcIixib3JkZXJOZXV0cmFsOlwiYm9yZGVyTmV1dHJhbFwiLGNvbnRlbnRCYWNrZ3JvdW5kMTpcImNvbnRlbnRCYWNrZ3JvdW5kMVwiLGNvbnRlbnRCYWNrZ3JvdW5kMjpcImNvbnRlbnRCYWNrZ3JvdW5kMlwiLGNvbnRlbnRCYWNrZ3JvdW5kMzpcImNvbnRlbnRCYWNrZ3JvdW5kM1wiLGNvbnRlbnRCYWNrZ3JvdW5kNDpcImNvbnRlbnRCYWNrZ3JvdW5kNFwiLGNvbnRlbnRCYWNrZ3JvdW5kNTpcImNvbnRlbnRCYWNrZ3JvdW5kNVwiLGxpbmtEZWZhdWx0OlwibGlua0RlZmF1bHRcIixsaW5rSG92ZXI6XCJsaW5rSG92ZXJcIn19LDY1MzU6ZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4oZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkodCl9dmFyIHQ9L15cXHMrLyxhPS9cXHMrJC87ZnVuY3Rpb24gbihyLG8pe2lmKG89b3x8e30sKHI9cnx8XCJcIilpbnN0YW5jZW9mIG4pcmV0dXJuIHI7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIG5ldyBuKHIsbyk7dmFyIGk9ZnVuY3Rpb24obil7dmFyIHIsbyxpLHM9e3I6MCxnOjAsYjowfSxjPTEsZD1udWxsLGw9bnVsbCx1PW51bGwscD0hMSxoPSExO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1mdW5jdGlvbihlKXtlPWUucmVwbGFjZSh0LFwiXCIpLnJlcGxhY2UoYSxcIlwiKS50b0xvd2VyQ2FzZSgpO3ZhciBuLHI9ITE7aWYoa1tlXSllPWtbZV0scj0hMDtlbHNlIGlmKFwidHJhbnNwYXJlbnRcIj09ZSlyZXR1cm57cjowLGc6MCxiOjAsYTowLGZvcm1hdDpcIm5hbWVcIn07cmV0dXJuKG49RC5yZ2IuZXhlYyhlKSk/e3I6blsxXSxnOm5bMl0sYjpuWzNdfToobj1ELnJnYmEuZXhlYyhlKSk/e3I6blsxXSxnOm5bMl0sYjpuWzNdLGE6bls0XX06KG49RC5oc2wuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sbDpuWzNdfToobj1ELmhzbGEuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sbDpuWzNdLGE6bls0XX06KG49RC5oc3YuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sdjpuWzNdfToobj1ELmhzdmEuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sdjpuWzNdLGE6bls0XX06KG49RC5oZXg4LmV4ZWMoZSkpP3tyOngoblsxXSksZzp4KG5bMl0pLGI6eChuWzNdKSxhOkYobls0XSksZm9ybWF0OnI/XCJuYW1lXCI6XCJoZXg4XCJ9OihuPUQuaGV4Ni5leGVjKGUpKT97cjp4KG5bMV0pLGc6eChuWzJdKSxiOngoblszXSksZm9ybWF0OnI/XCJuYW1lXCI6XCJoZXhcIn06KG49RC5oZXg0LmV4ZWMoZSkpP3tyOngoblsxXStcIlwiK25bMV0pLGc6eChuWzJdK1wiXCIrblsyXSksYjp4KG5bM10rXCJcIituWzNdKSxhOkYobls0XStcIlwiK25bNF0pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4OFwifTohIShuPUQuaGV4My5leGVjKGUpKSYme3I6eChuWzFdK1wiXCIrblsxXSksZzp4KG5bMl0rXCJcIituWzJdKSxiOngoblszXStcIlwiK25bM10pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4XCJ9fShuKSksXCJvYmplY3RcIj09ZShuKSYmKE8obi5yKSYmTyhuLmcpJiZPKG4uYik/KHI9bi5yLG89bi5nLGk9bi5iLHM9e3I6MjU1KlAociwyNTUpLGc6MjU1KlAobywyNTUpLGI6MjU1KlAoaSwyNTUpfSxwPSEwLGg9XCIlXCI9PT1TdHJpbmcobi5yKS5zdWJzdHIoLTEpP1wicHJnYlwiOlwicmdiXCIpOk8obi5oKSYmTyhuLnMpJiZPKG4udik/KGQ9SShuLnMpLGw9SShuLnYpLHM9ZnVuY3Rpb24oZSx0LGEpe2U9NipQKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCk7dmFyIG49TWF0aC5mbG9vcihlKSxyPWUtbixvPWEqKDEtdCksaT1hKigxLXIqdCkscz1hKigxLSgxLXIpKnQpLGM9biU2O3JldHVybntyOjI1NSpbYSxpLG8sbyxzLGFdW2NdLGc6MjU1KltzLGEsYSxpLG8sb11bY10sYjoyNTUqW28sbyxzLGEsYSxpXVtjXX19KG4uaCxkLGwpLHA9ITAsaD1cImhzdlwiKTpPKG4uaCkmJk8obi5zKSYmTyhuLmwpJiYoZD1JKG4ucyksdT1JKG4ubCkscz1mdW5jdGlvbihlLHQsYSl7dmFyIG4scixvO2Z1bmN0aW9uIGkoZSx0LGEpe3JldHVybiBhPDAmJihhKz0xKSxhPjEmJihhLT0xKSxhPDEvNj9lKzYqKHQtZSkqYTphPC41P3Q6YTwyLzM/ZSsodC1lKSooMi8zLWEpKjY6ZX1pZihlPVAoZSwzNjApLHQ9UCh0LDEwMCksYT1QKGEsMTAwKSwwPT09dCluPXI9bz1hO2Vsc2V7dmFyIHM9YTwuNT9hKigxK3QpOmErdC1hKnQsYz0yKmEtcztuPWkoYyxzLGUrMS8zKSxyPWkoYyxzLGUpLG89aShjLHMsZS0xLzMpfXJldHVybntyOjI1NSpuLGc6MjU1KnIsYjoyNTUqb319KG4uaCxkLHUpLHA9ITAsaD1cImhzbFwiKSxuLmhhc093blByb3BlcnR5KFwiYVwiKSYmKGM9bi5hKSksYz1TKGMpLHtvazpwLGZvcm1hdDpuLmZvcm1hdHx8aCxyOk1hdGgubWluKDI1NSxNYXRoLm1heChzLnIsMCkpLGc6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuZywwKSksYjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5iLDApKSxhOmN9fShyKTt0aGlzLl9vcmlnaW5hbElucHV0PXIsdGhpcy5fcj1pLnIsdGhpcy5fZz1pLmcsdGhpcy5fYj1pLmIsdGhpcy5fYT1pLmEsdGhpcy5fcm91bmRBPU1hdGgucm91bmQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzLl9mb3JtYXQ9by5mb3JtYXR8fGkuZm9ybWF0LHRoaXMuX2dyYWRpZW50VHlwZT1vLmdyYWRpZW50VHlwZSx0aGlzLl9yPDEmJih0aGlzLl9yPU1hdGgucm91bmQodGhpcy5fcikpLHRoaXMuX2c8MSYmKHRoaXMuX2c9TWF0aC5yb3VuZCh0aGlzLl9nKSksdGhpcy5fYjwxJiYodGhpcy5fYj1NYXRoLnJvdW5kKHRoaXMuX2IpKSx0aGlzLl9vaz1pLm9rfWZ1bmN0aW9uIHIoZSx0LGEpe2U9UChlLDI1NSksdD1QKHQsMjU1KSxhPVAoYSwyNTUpO3ZhciBuLHIsbz1NYXRoLm1heChlLHQsYSksaT1NYXRoLm1pbihlLHQsYSkscz0obytpKS8yO2lmKG89PWkpbj1yPTA7ZWxzZXt2YXIgYz1vLWk7c3dpdGNoKHI9cz4uNT9jLygyLW8taSk6Yy8obytpKSxvKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOnIsbDpzfX1mdW5jdGlvbiBvKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixyLG89TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9byxjPW8taTtpZihyPTA9PT1vPzA6Yy9vLG89PWkpbj0wO2Vsc2V7c3dpdGNoKG8pe2Nhc2UgZTpuPSh0LWEpL2MrKHQ8YT82OjApO2JyZWFrO2Nhc2UgdDpuPShhLWUpL2MrMjticmVhaztjYXNlIGE6bj0oZS10KS9jKzR9bi89Nn1yZXR1cm57aDpuLHM6cix2OnN9fWZ1bmN0aW9uIGkoZSx0LGEsbil7dmFyIHI9W0EoTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLEEoTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpLEEoTWF0aC5yb3VuZChhKS50b1N0cmluZygxNikpXTtyZXR1cm4gbiYmclswXS5jaGFyQXQoMCk9PXJbMF0uY2hhckF0KDEpJiZyWzFdLmNoYXJBdCgwKT09clsxXS5jaGFyQXQoMSkmJnJbMl0uY2hhckF0KDApPT1yWzJdLmNoYXJBdCgxKT9yWzBdLmNoYXJBdCgwKStyWzFdLmNoYXJBdCgwKStyWzJdLmNoYXJBdCgwKTpyLmpvaW4oXCJcIil9ZnVuY3Rpb24gcyhlLHQsYSxuKXtyZXR1cm5bQShNKG4pKSxBKE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV0uam9pbihcIlwiKX1mdW5jdGlvbiBjKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5zLT10LzEwMCxhLnM9QyhhLnMpLG4oYSl9ZnVuY3Rpb24gZChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucys9dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIG4oZSkuZGVzYXR1cmF0ZSgxMDApfWZ1bmN0aW9uIHUoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLmwrPXQvMTAwLGEubD1DKGEubCksbihhKX1mdW5jdGlvbiBwKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9SZ2IoKTtyZXR1cm4gYS5yPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuci1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksYS5nPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuZy1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksYS5iPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuYi1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksbihhKX1mdW5jdGlvbiBoKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sLT10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gZyhlLHQpe3ZhciBhPW4oZSkudG9Ic2woKSxyPShhLmgrdCklMzYwO3JldHVybiBhLmg9cjwwPzM2MCtyOnIsbihhKX1mdW5jdGlvbiBmKGUpe3ZhciB0PW4oZSkudG9Ic2woKTtyZXR1cm4gdC5oPSh0LmgrMTgwKSUzNjAsbih0KX1mdW5jdGlvbiBtKGUsdCl7aWYoaXNOYU4odCl8fHQ8PTApdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgdG8gcG9seWFkIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7Zm9yKHZhciBhPW4oZSkudG9Ic2woKSxyPVtuKGUpXSxvPTM2MC90LGk9MTtpPHQ7aSsrKXIucHVzaChuKHtoOihhLmgraSpvKSUzNjAsczphLnMsbDphLmx9KSk7cmV0dXJuIHJ9ZnVuY3Rpb24gdyhlKXt2YXIgdD1uKGUpLnRvSHNsKCksYT10Lmg7cmV0dXJuW24oZSksbih7aDooYSs3MiklMzYwLHM6dC5zLGw6dC5sfSksbih7aDooYSsyMTYpJTM2MCxzOnQucyxsOnQubH0pXX1mdW5jdGlvbiB5KGUsdCxhKXt0PXR8fDYsYT1hfHwzMDt2YXIgcj1uKGUpLnRvSHNsKCksbz0zNjAvYSxpPVtuKGUpXTtmb3Ioci5oPShyLmgtKG8qdD4+MSkrNzIwKSUzNjA7LS10OylyLmg9KHIuaCtvKSUzNjAsaS5wdXNoKG4ocikpO3JldHVybiBpfWZ1bmN0aW9uIGIoZSx0KXt0PXR8fDY7Zm9yKHZhciBhPW4oZSkudG9Ic3YoKSxyPWEuaCxvPWEucyxpPWEudixzPVtdLGM9MS90O3QtLTspcy5wdXNoKG4oe2g6cixzOm8sdjppfSkpLGk9KGkrYyklMTtyZXR1cm4gc31uLnByb3RvdHlwZT17aXNEYXJrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnJpZ2h0bmVzcygpPDEyOH0saXNMaWdodDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRGFyaygpfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29rfSxnZXRPcmlnaW5hbElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWdpbmFsSW5wdXR9LGdldEZvcm1hdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JtYXR9LGdldEFscGhhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F9LGdldEJyaWdodG5lc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvUmdiKCk7cmV0dXJuKDI5OSplLnIrNTg3KmUuZysxMTQqZS5iKS8xZTN9LGdldEx1bWluYW5jZTpmdW5jdGlvbigpe3ZhciBlLHQsYSxuPXRoaXMudG9SZ2IoKTtyZXR1cm4gZT1uLnIvMjU1LHQ9bi5nLzI1NSxhPW4uYi8yNTUsLjIxMjYqKGU8PS4wMzkyOD9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCkpKy43MTUyKih0PD0uMDM5Mjg/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpKSsuMDcyMiooYTw9LjAzOTI4P2EvMTIuOTI6TWF0aC5wb3coKGErLjA1NSkvMS4wNTUsMi40KSl9LHNldEFscGhhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hPVMoZSksdGhpcy5fcm91bmRBPU1hdGgucm91bmQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzfSx0b0hzdjpmdW5jdGlvbigpe3ZhciBlPW8odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsdjplLnYsYTp0aGlzLl9hfX0sdG9Ic3ZTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PU1hdGgucm91bmQoMzYwKmUuaCksYT1NYXRoLnJvdW5kKDEwMCplLnMpLG49TWF0aC5yb3VuZCgxMDAqZS52KTtyZXR1cm4gMT09dGhpcy5fYT9cImhzdihcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUpXCI6XCJoc3ZhKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hzbDpmdW5jdGlvbigpe3ZhciBlPXIodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsbDplLmwsYTp0aGlzLl9hfX0sdG9Ic2xTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PU1hdGgucm91bmQoMzYwKmUuaCksYT1NYXRoLnJvdW5kKDEwMCplLnMpLG49TWF0aC5yb3VuZCgxMDAqZS5sKTtyZXR1cm4gMT09dGhpcy5fYT9cImhzbChcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUpXCI6XCJoc2xhKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hleDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYixlKX0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrdGhpcy50b0hleChlKX0sdG9IZXg4OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsYSxuLHIpe3ZhciBvPVtBKE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKSxBKE0obikpXTtyZXR1cm4gciYmb1swXS5jaGFyQXQoMCk9PW9bMF0uY2hhckF0KDEpJiZvWzFdLmNoYXJBdCgwKT09b1sxXS5jaGFyQXQoMSkmJm9bMl0uY2hhckF0KDApPT1vWzJdLmNoYXJBdCgxKSYmb1szXS5jaGFyQXQoMCk9PW9bM10uY2hhckF0KDEpP29bMF0uY2hhckF0KDApK29bMV0uY2hhckF0KDApK29bMl0uY2hhckF0KDApK29bM10uY2hhckF0KDApOm8uam9pbihcIlwiKX0odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsdGhpcy5fYSxlKX0sdG9IZXg4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXg4KGUpfSx0b1JnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQodGhpcy5fciksZzpNYXRoLnJvdW5kKHRoaXMuX2cpLGI6TWF0aC5yb3VuZCh0aGlzLl9iKSxhOnRoaXMuX2F9fSx0b1JnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiAxPT10aGlzLl9hP1wicmdiKFwiK01hdGgucm91bmQodGhpcy5fcikrXCIsIFwiK01hdGgucm91bmQodGhpcy5fZykrXCIsIFwiK01hdGgucm91bmQodGhpcy5fYikrXCIpXCI6XCJyZ2JhKFwiK01hdGgucm91bmQodGhpcy5fcikrXCIsIFwiK01hdGgucm91bmQodGhpcy5fZykrXCIsIFwiK01hdGgucm91bmQodGhpcy5fYikrXCIsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9QZXJjZW50YWdlUmdiOmZ1bmN0aW9uKCl7cmV0dXJue3I6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9yLDI1NSkpK1wiJVwiLGc6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9nLDI1NSkpK1wiJVwiLGI6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9iLDI1NSkpK1wiJVwiLGE6dGhpcy5fYX19LHRvUGVyY2VudGFnZVJnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiAxPT10aGlzLl9hP1wicmdiKFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiUpXCI6XCJyZ2JhKFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9OYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9hP1widHJhbnNwYXJlbnRcIjohKHRoaXMuX2E8MSkmJih2W2kodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsITApXXx8ITEpfSx0b0ZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1cIiNcIitzKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EpLGE9dCxyPXRoaXMuX2dyYWRpZW50VHlwZT9cIkdyYWRpZW50VHlwZSA9IDEsIFwiOlwiXCI7aWYoZSl7dmFyIG89bihlKTthPVwiI1wiK3Moby5fcixvLl9nLG8uX2Isby5fYSl9cmV0dXJuXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoXCIrcitcInN0YXJ0Q29sb3JzdHI9XCIrdCtcIixlbmRDb2xvcnN0cj1cIithK1wiKVwifSx0b1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD0hIWU7ZT1lfHx0aGlzLl9mb3JtYXQ7dmFyIGE9ITEsbj10aGlzLl9hPDEmJnRoaXMuX2E+PTA7cmV0dXJuIHR8fCFufHxcImhleFwiIT09ZSYmXCJoZXg2XCIhPT1lJiZcImhleDNcIiE9PWUmJlwiaGV4NFwiIT09ZSYmXCJoZXg4XCIhPT1lJiZcIm5hbWVcIiE9PWU/KFwicmdiXCI9PT1lJiYoYT10aGlzLnRvUmdiU3RyaW5nKCkpLFwicHJnYlwiPT09ZSYmKGE9dGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKSksXCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZXx8KGE9dGhpcy50b0hleFN0cmluZygpKSxcImhleDNcIj09PWUmJihhPXRoaXMudG9IZXhTdHJpbmcoITApKSxcImhleDRcIj09PWUmJihhPXRoaXMudG9IZXg4U3RyaW5nKCEwKSksXCJoZXg4XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZygpKSxcIm5hbWVcIj09PWUmJihhPXRoaXMudG9OYW1lKCkpLFwiaHNsXCI9PT1lJiYoYT10aGlzLnRvSHNsU3RyaW5nKCkpLFwiaHN2XCI9PT1lJiYoYT10aGlzLnRvSHN2U3RyaW5nKCkpLGF8fHRoaXMudG9IZXhTdHJpbmcoKSk6XCJuYW1lXCI9PT1lJiYwPT09dGhpcy5fYT90aGlzLnRvTmFtZSgpOnRoaXMudG9SZ2JTdHJpbmcoKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLnRvU3RyaW5nKCkpfSxfYXBwbHlNb2RpZmljYXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgYT1lLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSk7cmV0dXJuIHRoaXMuX3I9YS5fcix0aGlzLl9nPWEuX2csdGhpcy5fYj1hLl9iLHRoaXMuc2V0QWxwaGEoYS5fYSksdGhpc30sbGlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih1LGFyZ3VtZW50cyl9LGJyaWdodGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHAsYXJndW1lbnRzKX0sZGFya2VuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGgsYXJndW1lbnRzKX0sZGVzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihjLGFyZ3VtZW50cyl9LHNhdHVyYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGQsYXJndW1lbnRzKX0sZ3JleXNjYWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGwsYXJndW1lbnRzKX0sc3BpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihnLGFyZ3VtZW50cyl9LF9hcHBseUNvbWJpbmF0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXBwbHkobnVsbCxbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwodCkpKX0sYW5hbG9nb3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oeSxhcmd1bWVudHMpfSxjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oZixhcmd1bWVudHMpfSxtb25vY2hyb21hdGljOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oYixhcmd1bWVudHMpfSxzcGxpdGNvbXBsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbih3LGFyZ3VtZW50cyl9LHRyaWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbM10pfSx0ZXRyYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihtLFs0XSl9fSxuLmZyb21SYXRpbz1mdW5jdGlvbih0LGEpe2lmKFwib2JqZWN0XCI9PWUodCkpe3ZhciByPXt9O2Zvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJihyW29dPVwiYVwiPT09bz90W29dOkkodFtvXSkpO3Q9cn1yZXR1cm4gbih0LGEpfSxuLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiEoIWV8fCF0KSYmbihlKS50b1JnYlN0cmluZygpPT1uKHQpLnRvUmdiU3RyaW5nKCl9LG4ucmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZnJvbVJhdGlvKHtyOk1hdGgucmFuZG9tKCksZzpNYXRoLnJhbmRvbSgpLGI6TWF0aC5yYW5kb20oKX0pfSxuLm1peD1mdW5jdGlvbihlLHQsYSl7YT0wPT09YT8wOmF8fDUwO3ZhciByPW4oZSkudG9SZ2IoKSxvPW4odCkudG9SZ2IoKSxpPWEvMTAwO3JldHVybiBuKHtyOihvLnItci5yKSppK3IucixnOihvLmctci5nKSppK3IuZyxiOihvLmItci5iKSppK3IuYixhOihvLmEtci5hKSppK3IuYX0pfSxuLnJlYWRhYmlsaXR5PWZ1bmN0aW9uKGUsdCl7dmFyIGE9bihlKSxyPW4odCk7cmV0dXJuKE1hdGgubWF4KGEuZ2V0THVtaW5hbmNlKCksci5nZXRMdW1pbmFuY2UoKSkrLjA1KS8oTWF0aC5taW4oYS5nZXRMdW1pbmFuY2UoKSxyLmdldEx1bWluYW5jZSgpKSsuMDUpfSxuLmlzUmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciByLG8saSxzLGMsZD1uLnJlYWRhYmlsaXR5KGUsdCk7c3dpdGNoKG89ITEsKGk9YSxcIkFBXCIhPT0ocz0oKGk9aXx8e2xldmVsOlwiQUFcIixzaXplOlwic21hbGxcIn0pLmxldmVsfHxcIkFBXCIpLnRvVXBwZXJDYXNlKCkpJiZcIkFBQVwiIT09cyYmKHM9XCJBQVwiKSxcInNtYWxsXCIhPT0oYz0oaS5zaXplfHxcInNtYWxsXCIpLnRvTG93ZXJDYXNlKCkpJiZcImxhcmdlXCIhPT1jJiYoYz1cInNtYWxsXCIpLHI9e2xldmVsOnMsc2l6ZTpjfSkubGV2ZWwrci5zaXplKXtjYXNlXCJBQXNtYWxsXCI6Y2FzZVwiQUFBbGFyZ2VcIjpvPWQ+PTQuNTticmVhaztjYXNlXCJBQWxhcmdlXCI6bz1kPj0zO2JyZWFrO2Nhc2VcIkFBQXNtYWxsXCI6bz1kPj03fXJldHVybiBvfSxuLm1vc3RSZWFkYWJsZT1mdW5jdGlvbihlLHQsYSl7dmFyIHIsbyxpLHMsYz1udWxsLGQ9MDtvPShhPWF8fHt9KS5pbmNsdWRlRmFsbGJhY2tDb2xvcnMsaT1hLmxldmVsLHM9YS5zaXplO2Zvcih2YXIgbD0wO2w8dC5sZW5ndGg7bCsrKShyPW4ucmVhZGFiaWxpdHkoZSx0W2xdKSk+ZCYmKGQ9cixjPW4odFtsXSkpO3JldHVybiBuLmlzUmVhZGFibGUoZSxjLHtsZXZlbDppLHNpemU6c30pfHwhbz9jOihhLmluY2x1ZGVGYWxsYmFja0NvbG9ycz0hMSxuLm1vc3RSZWFkYWJsZShlLFtcIiNmZmZcIixcIiMwMDBcIl0sYSkpfTt2YXIgaz1uLm5hbWVzPXthbGljZWJsdWU6XCJmMGY4ZmZcIixhbnRpcXVld2hpdGU6XCJmYWViZDdcIixhcXVhOlwiMGZmXCIsYXF1YW1hcmluZTpcIjdmZmZkNFwiLGF6dXJlOlwiZjBmZmZmXCIsYmVpZ2U6XCJmNWY1ZGNcIixiaXNxdWU6XCJmZmU0YzRcIixibGFjazpcIjAwMFwiLGJsYW5jaGVkYWxtb25kOlwiZmZlYmNkXCIsYmx1ZTpcIjAwZlwiLGJsdWV2aW9sZXQ6XCI4YTJiZTJcIixicm93bjpcImE1MmEyYVwiLGJ1cmx5d29vZDpcImRlYjg4N1wiLGJ1cm50c2llbm5hOlwiZWE3ZTVkXCIsY2FkZXRibHVlOlwiNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIjdmZmYwMFwiLGNob2NvbGF0ZTpcImQyNjkxZVwiLGNvcmFsOlwiZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCI2NDk1ZWRcIixjb3Juc2lsazpcImZmZjhkY1wiLGNyaW1zb246XCJkYzE0M2NcIixjeWFuOlwiMGZmXCIsZGFya2JsdWU6XCIwMDAwOGJcIixkYXJrY3lhbjpcIjAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCJiODg2MGJcIixkYXJrZ3JheTpcImE5YTlhOVwiLGRhcmtncmVlbjpcIjAwNjQwMFwiLGRhcmtncmV5OlwiYTlhOWE5XCIsZGFya2toYWtpOlwiYmRiNzZiXCIsZGFya21hZ2VudGE6XCI4YjAwOGJcIixkYXJrb2xpdmVncmVlbjpcIjU1NmIyZlwiLGRhcmtvcmFuZ2U6XCJmZjhjMDBcIixkYXJrb3JjaGlkOlwiOTkzMmNjXCIsZGFya3JlZDpcIjhiMDAwMFwiLGRhcmtzYWxtb246XCJlOTk2N2FcIixkYXJrc2VhZ3JlZW46XCI4ZmJjOGZcIixkYXJrc2xhdGVibHVlOlwiNDgzZDhiXCIsZGFya3NsYXRlZ3JheTpcIjJmNGY0ZlwiLGRhcmtzbGF0ZWdyZXk6XCIyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiMDBjZWQxXCIsZGFya3Zpb2xldDpcIjk0MDBkM1wiLGRlZXBwaW5rOlwiZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIwMGJmZmZcIixkaW1ncmF5OlwiNjk2OTY5XCIsZGltZ3JleTpcIjY5Njk2OVwiLGRvZGdlcmJsdWU6XCIxZTkwZmZcIixmaXJlYnJpY2s6XCJiMjIyMjJcIixmbG9yYWx3aGl0ZTpcImZmZmFmMFwiLGZvcmVzdGdyZWVuOlwiMjI4YjIyXCIsZnVjaHNpYTpcImYwZlwiLGdhaW5zYm9ybzpcImRjZGNkY1wiLGdob3N0d2hpdGU6XCJmOGY4ZmZcIixnb2xkOlwiZmZkNzAwXCIsZ29sZGVucm9kOlwiZGFhNTIwXCIsZ3JheTpcIjgwODA4MFwiLGdyZWVuOlwiMDA4MDAwXCIsZ3JlZW55ZWxsb3c6XCJhZGZmMmZcIixncmV5OlwiODA4MDgwXCIsaG9uZXlkZXc6XCJmMGZmZjBcIixob3RwaW5rOlwiZmY2OWI0XCIsaW5kaWFucmVkOlwiY2Q1YzVjXCIsaW5kaWdvOlwiNGIwMDgyXCIsaXZvcnk6XCJmZmZmZjBcIixraGFraTpcImYwZTY4Y1wiLGxhdmVuZGVyOlwiZTZlNmZhXCIsbGF2ZW5kZXJibHVzaDpcImZmZjBmNVwiLGxhd25ncmVlbjpcIjdjZmMwMFwiLGxlbW9uY2hpZmZvbjpcImZmZmFjZFwiLGxpZ2h0Ymx1ZTpcImFkZDhlNlwiLGxpZ2h0Y29yYWw6XCJmMDgwODBcIixsaWdodGN5YW46XCJlMGZmZmZcIixsaWdodGdvbGRlbnJvZHllbGxvdzpcImZhZmFkMlwiLGxpZ2h0Z3JheTpcImQzZDNkM1wiLGxpZ2h0Z3JlZW46XCI5MGVlOTBcIixsaWdodGdyZXk6XCJkM2QzZDNcIixsaWdodHBpbms6XCJmZmI2YzFcIixsaWdodHNhbG1vbjpcImZmYTA3YVwiLGxpZ2h0c2VhZ3JlZW46XCIyMGIyYWFcIixsaWdodHNreWJsdWU6XCI4N2NlZmFcIixsaWdodHNsYXRlZ3JheTpcIjc4OVwiLGxpZ2h0c2xhdGVncmV5OlwiNzg5XCIsbGlnaHRzdGVlbGJsdWU6XCJiMGM0ZGVcIixsaWdodHllbGxvdzpcImZmZmZlMFwiLGxpbWU6XCIwZjBcIixsaW1lZ3JlZW46XCIzMmNkMzJcIixsaW5lbjpcImZhZjBlNlwiLG1hZ2VudGE6XCJmMGZcIixtYXJvb246XCI4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiNjZjZGFhXCIsbWVkaXVtYmx1ZTpcIjAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcImJhNTVkM1wiLG1lZGl1bXB1cnBsZTpcIjkzNzBkYlwiLG1lZGl1bXNlYWdyZWVuOlwiM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiN2I2OGVlXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIwMGZhOWFcIixtZWRpdW10dXJxdW9pc2U6XCI0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCJjNzE1ODVcIixtaWRuaWdodGJsdWU6XCIxOTE5NzBcIixtaW50Y3JlYW06XCJmNWZmZmFcIixtaXN0eXJvc2U6XCJmZmU0ZTFcIixtb2NjYXNpbjpcImZmZTRiNVwiLG5hdmFqb3doaXRlOlwiZmZkZWFkXCIsbmF2eTpcIjAwMDA4MFwiLG9sZGxhY2U6XCJmZGY1ZTZcIixvbGl2ZTpcIjgwODAwMFwiLG9saXZlZHJhYjpcIjZiOGUyM1wiLG9yYW5nZTpcImZmYTUwMFwiLG9yYW5nZXJlZDpcImZmNDUwMFwiLG9yY2hpZDpcImRhNzBkNlwiLHBhbGVnb2xkZW5yb2Q6XCJlZWU4YWFcIixwYWxlZ3JlZW46XCI5OGZiOThcIixwYWxldHVycXVvaXNlOlwiYWZlZWVlXCIscGFsZXZpb2xldHJlZDpcImRiNzA5M1wiLHBhcGF5YXdoaXA6XCJmZmVmZDVcIixwZWFjaHB1ZmY6XCJmZmRhYjlcIixwZXJ1OlwiY2Q4NTNmXCIscGluazpcImZmYzBjYlwiLHBsdW06XCJkZGEwZGRcIixwb3dkZXJibHVlOlwiYjBlMGU2XCIscHVycGxlOlwiODAwMDgwXCIscmViZWNjYXB1cnBsZTpcIjY2MzM5OVwiLHJlZDpcImYwMFwiLHJvc3licm93bjpcImJjOGY4ZlwiLHJveWFsYmx1ZTpcIjQxNjllMVwiLHNhZGRsZWJyb3duOlwiOGI0NTEzXCIsc2FsbW9uOlwiZmE4MDcyXCIsc2FuZHlicm93bjpcImY0YTQ2MFwiLHNlYWdyZWVuOlwiMmU4YjU3XCIsc2Vhc2hlbGw6XCJmZmY1ZWVcIixzaWVubmE6XCJhMDUyMmRcIixzaWx2ZXI6XCJjMGMwYzBcIixza3libHVlOlwiODdjZWViXCIsc2xhdGVibHVlOlwiNmE1YWNkXCIsc2xhdGVncmF5OlwiNzA4MDkwXCIsc2xhdGVncmV5OlwiNzA4MDkwXCIsc25vdzpcImZmZmFmYVwiLHNwcmluZ2dyZWVuOlwiMDBmZjdmXCIsc3RlZWxibHVlOlwiNDY4MmI0XCIsdGFuOlwiZDJiNDhjXCIsdGVhbDpcIjAwODA4MFwiLHRoaXN0bGU6XCJkOGJmZDhcIix0b21hdG86XCJmZjYzNDdcIix0dXJxdW9pc2U6XCI0MGUwZDBcIix2aW9sZXQ6XCJlZTgyZWVcIix3aGVhdDpcImY1ZGViM1wiLHdoaXRlOlwiZmZmXCIsd2hpdGVzbW9rZTpcImY1ZjVmNVwiLHllbGxvdzpcImZmMFwiLHllbGxvd2dyZWVuOlwiOWFjZDMyXCJ9LHY9bi5oZXhOYW1lcz1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIGEgaW4gZSllLmhhc093blByb3BlcnR5KGEpJiYodFtlW2FdXT1hKTtyZXR1cm4gdH0oayk7ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZT1wYXJzZUZsb2F0KGUpLChpc05hTihlKXx8ZTwwfHxlPjEpJiYoZT0xKSxlfWZ1bmN0aW9uIFAoZSx0KXsoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIuXCIpJiYxPT09cGFyc2VGbG9hdChlKX0pKGUpJiYoZT1cIjEwMCVcIik7dmFyIGE9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIlXCIpfShlKTtyZXR1cm4gZT1NYXRoLm1pbih0LE1hdGgubWF4KDAscGFyc2VGbG9hdChlKSkpLGEmJihlPXBhcnNlSW50KGUqdCwxMCkvMTAwKSxNYXRoLmFicyhlLXQpPDFlLTY/MTplJXQvcGFyc2VGbG9hdCh0KX1mdW5jdGlvbiBDKGUpe3JldHVybiBNYXRoLm1pbigxLE1hdGgubWF4KDAsZSkpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIHBhcnNlSW50KGUsMTYpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIDE9PWUubGVuZ3RoP1wiMFwiK2U6XCJcIitlfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGU8PTEmJihlPTEwMCplK1wiJVwiKSxlfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIE1hdGgucm91bmQoMjU1KnBhcnNlRmxvYXQoZSkpLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBGKGUpe3JldHVybiB4KGUpLzI1NX12YXIgVyxfLEIsRD0oXz1cIltcXFxcc3xcXFxcKF0rKFwiKyhXPVwiKD86Wy1cXFxcK10/XFxcXGQqXFxcXC5cXFxcZCslPyl8KD86Wy1cXFxcK10/XFxcXGQrJT8pXCIpK1wiKVssfFxcXFxzXSsoXCIrVytcIilbLHxcXFxcc10rKFwiK1crXCIpXFxcXHMqXFxcXCk/XCIsQj1cIltcXFxcc3xcXFxcKF0rKFwiK1crXCIpWyx8XFxcXHNdKyhcIitXK1wiKVssfFxcXFxzXSsoXCIrVytcIilbLHxcXFxcc10rKFwiK1crXCIpXFxcXHMqXFxcXCk/XCIse0NTU19VTklUOm5ldyBSZWdFeHAoVykscmdiOm5ldyBSZWdFeHAoXCJyZ2JcIitfKSxyZ2JhOm5ldyBSZWdFeHAoXCJyZ2JhXCIrQiksaHNsOm5ldyBSZWdFeHAoXCJoc2xcIitfKSxoc2xhOm5ldyBSZWdFeHAoXCJoc2xhXCIrQiksaHN2Om5ldyBSZWdFeHAoXCJoc3ZcIitfKSxoc3ZhOm5ldyBSZWdFeHAoXCJoc3ZhXCIrQiksaGV4MzovXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8saGV4NjovXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC8saGV4NDovXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDg6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkL30pO2Z1bmN0aW9uIE8oZSl7cmV0dXJuISFELkNTU19VTklULmV4ZWMoZSl9cmV0dXJuIG59KCl9fSxuPXt9O2Z1bmN0aW9uIHIoZSl7dmFyIHQ9bltlXTtpZih2b2lkIDAhPT10KXJldHVybiB0LmV4cG9ydHM7dmFyIG89bltlXT17ZXhwb3J0czp7fX07cmV0dXJuIGFbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5leHBvcnRzfXZhciBvPXt9OygoKT0+e3ZhciBlPW87T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5jcmVhdGVUaGVtZT1lLlBhbGV0dGU9ZS5Db2xvcj12b2lkIDA7dmFyIHQ9cigyMzE3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkNvbG9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29sb3J9fSk7dmFyIGE9cig1OTM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlBhbGV0dGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5QYWxldHRlfX0pO3ZhciBuPXIoNjg5Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjcmVhdGVUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmNyZWF0ZVRoZW1lfX0pfSkoKTt2YXIgaT10O2Zvcih2YXIgcyBpbiBvKWlbc109b1tzXTtvLl9fZXNNb2R1bGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSw4Nzc6KCk9Pnt9LDY3OigpPT57fSwyNTQ6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtOdDooKT0+TGUsQWc6KCk9PlZlfSk7dmFyIG49e307YS5yKG4pLGEuZChuLHtjcmVhdGVOYW1lc3BhY2VkTG9jYWxTdG9yYWdlOigpPT5BLGdldEl0ZW06KCk9PkYscmVtb3ZlSXRlbTooKT0+VyxzZXRJdGVtOigpPT5NfSk7dmFyIHI9YSg2NzUpLG89YSg3MjMpLGk9YSgxODEpO2FzeW5jIGZ1bmN0aW9uIHMoKXtjb25zdCBlPVwiZ2V0TWFuaWZlc3RPdmVycmlkZXNcIix7bWFuaWZlc3Q6dCxpbml0aWFsT3B0aW9uczphfT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRJbmZvKCk7cmV0dXJuIHQ/LnBsYXRmb3JtLndvcmtzcGFjZXx8dD8ucGxhdGZvcm0uaG9tZXx8YT8ud29ya3NwYWNlfHxhPy5ob21lfHxjb25zb2xlLndhcm4oYCR7ZX06IE1pc3NpbmcgSG9tZSBkZXZlbG9wbWVudCBtYW5pZmVzdCBvdmVycmlkZXMsIHVzaW5nIERlc2t0b3AgT3duZXIgU2V0dGluZ3MuYCksdD8ucGxhdGZvcm0ud29ya3NwYWNlPyhKU09OLnN0cmluZ2lmeSh0Py5wbGF0Zm9ybS53b3Jrc3BhY2UpLHQ/LnBsYXRmb3JtLndvcmtzcGFjZSk6dD8ucGxhdGZvcm0uaG9tZT8oSlNPTi5zdHJpbmdpZnkodD8ucGxhdGZvcm0uaG9tZSksdD8ucGxhdGZvcm0uaG9tZSk6YT8ud29ya3NwYWNlPyhKU09OLnN0cmluZ2lmeShhPy53b3Jrc3BhY2UpLGE/LndvcmtzcGFjZSk6YT8uaG9tZT8oSlNPTi5zdHJpbmdpZnkoYT8uaG9tZSksYT8uaG9tZSk6e319Y29uc3QgYz1lPT5maW4uU3lzdGVtLmdldFN5c3RlbUFwcENvbmZpZyhlKTthc3luYyBmdW5jdGlvbiBkKCl7Y29uc3QgZT1cImdldERPU092ZXJyaWRlc1wiO2lmKCFvLmNJKXJldHVybiBjb25zb2xlLndhcm4oYCR7ZX06IHRoZSBmaW4gQVBJIHdhcyBub3QgYXZhaWxhYmxlLCByZXR1cm5pbmcgbm8gcmVzdWx0YCkse307dHJ5e2xldCB0PWF3YWl0IGMoXCJ3b3Jrc3BhY2VcIikuY2F0Y2goKHQ9Pntjb25zb2xlLndhcm4oYCR7ZX06IGN1c3RvbUNvbmZpZyBlbnRyeSBmb3IgU3lzdGVtQXBwIHdvcmtzcGFjZSBub3QgYXZhaWxhYmxlIGluIERlc2t0b3AgT3duZXIgU2V0dGluZ3MuICR7dD8ubWVzc2FnZX1gKX0pKTtyZXR1cm4gdHx8KHQ9YXdhaXQgYyhcImhvbWVcIikpLEpTT04uc3RyaW5naWZ5KHQpLHR9Y2F0Y2godCl7aWYoIW8uSGQpcmV0dXJue307aWYoISh0IGluc3RhbmNlb2YgRXJyb3IpKXRocm93IHQ7Y29uc29sZS53YXJuKGAke2V9OiBNaXNzaW5nIFdvcmtzcGFjZSBEZXNrdG9wIE93bmVyIFNldHRpbmdzIGNvbmZpZ3VyYXRpb24sIHVzaW5nIGRlZmF1bHRzLiAke3Q/Lm1lc3NhZ2V9YCl9cmV0dXJue319bGV0IGwsdTtjb25zdCBwPWU9PmUucmVwbGFjZSgvXFwvJC8sXCJcIik7YXN5bmMgZnVuY3Rpb24gaCgpe2NvbnN0IGU9KGF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7aWYobClyZXR1cm4gbDtjb25zdCBlPVwiZ2V0T3ZlcnJpZGVzXCI7aWYoIW8uY0kpcmV0dXJuIG8uWVkmJmNvbnNvbGUud2FybihgJHtlfTogVGhlIEZpbiBBUEkgd2FzIG5vdCBhdmFpbGFibGUuIFJldHVybmluZyBhbiBlbXB0eSByZXN1bHQuYCkse307Y29uc3RbdCxhXT1hd2FpdCBQcm9taXNlLmFsbChbZCgpLHMoKV0pO3JldHVybiBsPXsuLi5hLC4uLnQsZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9uOmEuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9ufHx0LmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbn0sbH0oKSkuYnJvd3NlckJhc2VVcmw7aWYoZSl0cnl7Y29uc3QgdD1uZXcgVVJMKGUpO2lmKHQucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpKXQucGF0aG5hbWU9cCh0LnBhdGhuYW1lKTtlbHNle2lmKFwiL3dvcmtzcGFjZVwiPT09dC5wYXRobmFtZSlyZXR1cm4gdC5wYXRobmFtZSs9YC8ke28uZXR9YCx0LnRvU3RyaW5nKCk7Y29uc29sZS53YXJuKGBAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm06IGJyb3dzZXJPdmVycmlkZUJhc2VVcmwgbXVzdCBiZSBhIHZhbGlkIHVybCwgd2l0aCBwYXRoOiAvd29ya3NwYWNlLiBFeHBlY3RlZCA8cHJvdG9jb2w+Oi8vPG9wdGlvbmFsIHN1YmRvbWFpbj4uPGRvbWFpbj4vd29ya3NwYWNlIGJ1dCBnb3QgJHtlfWApfX1jYXRjaCh0KXtjb25zb2xlLndhcm4oYEBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybTogYnJvd3Nlck92ZXJyaWRlQmFzZVVybCBtdXN0IGJlIGEgdmFsaWQgdXJsLiBFeHBlY3RlZCA8cHJvdG9jb2w+Oi8vPG9wdGlvbmFsIHN1YmRvbWFpbj4uPGRvbWFpbj4vd29ya3NwYWNlIGJ1dCBnb3QgJHtlfWApfXJldHVybiB1Pz9vLmJEfWFzeW5jIGZ1bmN0aW9uIGcoZT0hMSl7Y29uc3QgdD1hd2FpdCBoKCkraS5BeS5FbnRlcnByaXNlQnJvd3NlcjtyZXR1cm4gZT90OnAodCl9dmFyIGY9YSg3MCk7Y29uc3QgbT0oZSx0KT0+e2NvbnN0IGE9ZTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybXx8KGEud29ya3NwYWNlUGxhdGZvcm09e30pLGEud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz17c2V0QXNGb3JlZ3JvdW5kOiEhdCxkZWZlclNob3dFbmFibGVkOiEwLGF1dG9TaG93OmEud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHxhLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPy5hdXRvU2hvd3x8dm9pZCAwPT09YS5hdXRvU2hvd3x8YS5hdXRvU2hvd30sYS5hdXRvU2hvdz0hMSxhfTtjb25zdCB3PShlLHQ9MCk9PntsZXQgYSxuLHI9ITE7Y29uc3Qgbz1hc3luYyBuPT57Y29uc3QgaT1hd2FpdCBlKC4uLm4pO2lmKHIpe2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsdCkpKTtjb25zdCBlPWE7cmV0dXJuIGE9dm9pZCAwLHI9ITEsbyhlKX1yZXR1cm4gaX07cmV0dXJuKC4uLmUpPT4obj8ocj0hMCxhPWUpOm49byhlKS5jYXRjaCgoZT0+e3Rocm93IGNvbnNvbGUuZXJyb3IoXCJtYWtlRGVib3VuY2VkRnVuY1wiLGUpLGV9KSkuZmluYWxseSgoKCk9PntuPXZvaWQgMH0pKSxuKX07dmFyIHk7IWZ1bmN0aW9uKGUpe2UuVG9wPVwidG9wXCIsZS5CZWxvdz1cImJlbG93XCJ9KHl8fCh5PXt9KSk7Y29uc3QgYj1hc3luYyBlPT57dHJ5e3JldHVybiEhZSYmXCJtYXhpbWl6ZWRcIj09PWF3YWl0IGUuZ2V0U3RhdGUoKX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwicGFyZW50V2luZG93TWF4aW1pemVkIC0gRmFpbGVkIHRvIGdldCBwYXJlbnQgd2luZG93IHN0YXRlXCIsZSksITF9fTthc3luYyBmdW5jdGlvbiBrKGUsdCxhLG4scixvKXtjb25zdCBpPSEhZSYmKDAsZi5JcSkoZSkscz1hd2FpdChhc3luYyhlLHQpPT57dHJ5e3JldHVybiBlP2F3YWl0IGUuZ2V0Qm91bmRzKCk6dH1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiZ2V0UGFyZW50V2luZG93Qm91bmRzIC0gRmFpbGVkIHRvIGdldCBwYXJlbnQgd2luZG93IGJvdW5kc1wiLGUpLHR9fSkoaSxvKTtpZihuPT09eS5CZWxvdyl7aWYoIWl8fGF3YWl0IGIoaSkpe2NvbnN0IGU9aT8oYXdhaXQoMCxmLnVyKShzKSkuYXZhaWxhYmxlUmVjdDooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0O3JldHVybntsZWZ0OigwLGYuVjEpKGUpLmxlZnQtdC8yLHRvcDpyP2UuYm90dG9tLTEyODplLmJvdHRvbSsxMix3aWR0aDp0LGhlaWdodDphfX1yZXR1cm57bGVmdDooMCxmLlYxKShzKS5sZWZ0LXQvMix0b3A6cj9zLmJvdHRvbS0xMjg6cy5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19aWYoIWl8fGF3YWl0IGIoaSkpe2NvbnN0IGU9aT8oYXdhaXQoMCxmLnVyKShzKSkuYXZhaWxhYmxlUmVjdDooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0O3JldHVybntsZWZ0OigwLGYuVjEpKGUpLmxlZnQtdC8yLHRvcDplLnRvcCsyMCx3aWR0aDp0LGhlaWdodDphfX1yZXR1cm57bGVmdDooMCxmLlYxKShzKS5sZWZ0LXQvMix0b3A6cy50b3ArMjAsd2lkdGg6dCxoZWlnaHQ6YX19dygoYXN5bmMgZnVuY3Rpb24oZSx0LGEsbixyKXtjb25zdCBvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1hd2FpdCBrKGUsby53aWR0aCxvLmhlaWdodCxhLG4scik7aWYoMD09PWkud2lkdGh8fDA9PT1pLmhlaWdodClyZXR1cm47Y29uc3Qgcz0oMCxmLlR2KSgpO2F3YWl0IHMuc2V0Qm91bmRzKGkpLGF3YWl0IHMuc2hvdygpO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PnMuY2xvc2UoKSksbj81ZTM6M2UzKSxkPSgpPT57Y2xlYXJUaW1lb3V0KGMpLHMuY2xvc2UoKX07aWYoZSl7Y29uc3QgdD0oMCxmLklxKShlKTt0Lm9uKFwiYm91bmRzLWNoYW5naW5nXCIsKCgpPT5kKCkpKSx0Lm9uKFwiYmx1cnJlZFwiLCgoKT0+ZCgpKSksdC5vbihcIm1heGltaXplZFwiLCgoKT0+ZCgpKSksdC5vbihcIm1pbmltaXplZFwiLCgoKT0+ZCgpKSksdC5vbihcInJlc3RvcmVkXCIsKCgpPT5kKCkpKX19KSwxMCk7Y29uc3Qgdj1hc3luYyBlPT57Y29uc3QgdD1lJiZhd2FpdCgwLGYuSXEpKGUpLmdldEJvdW5kcygpLGE9ZT9hd2FpdCgwLGYudXIpKHQpOihhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCkpLnByaW1hcnlNb25pdG9yO3JldHVybigwLGYuVkUpKGEuYXZhaWxhYmxlUmVjdCl9O3ZhciBTPWEoOTU3KTtmdW5jdGlvbiBQKCl7bGV0IGUsdDtyZXR1cm57cHJvbWlzZTpuZXcgUHJvbWlzZSgoKGEsbik9PntlPWEsdD1ufSkpLHJlc29sdmU6ZSxyZWplY3Q6dH19Y29uc3QgQz1cImRvY2szXCIseD1yZXF1aXJlKFwiZGV4aWVcIiksQT1lPT4oe3NldEl0ZW06KHQsYSk9Pntsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtlfS0ke3R9YCxhKX0sZ2V0SXRlbTp0PT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtlfS0ke3R9YCkscmVtb3ZlSXRlbTp0PT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgJHtlfS0ke3R9YCl9KSxJPUEoby4kaCksTT1JLnNldEl0ZW0sRj1JLmdldEl0ZW0sVz1JLnJlbW92ZUl0ZW07dmFyIF87IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIixlLlNlbGVjdGVkQ29sb3JTY2hlbWU9XCJTZWxlY3RlZENvbG9yU2NoZW1lXCIsZS5UaGVtZVBhbGV0dGVTaGVldD1cIlRoZW1lUGFsZXR0ZVNoZWV0XCIsZS5IYXNNb3ZlZFN0b3JlPVwiSGFzTW92ZWRTdG9yZVwiLGUuUGFnZURyYWdTdGF0ZT1cIkJyb3dzZXJQYWdlRHJhZ1N0YXRlXCJ9KF98fChfPXt9KSk7Y29uc3QgQj1fLEQ9ZT0+ZStcIi1cIitmaW4ubWUudXVpZCxPPShlLHQpPT57Y29uc3QgYT1vLkFUJiZvLmNJJiZuZXcgeC5EZXhpZShlKTtyZXR1cm4gYSYmYS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t0XTpcIlwifSksYX0sVD0oZSx0KT0+e2NvbnN0IGE9TyhEKGUpLHQpLG49TyhlLHQpO2lmKCFhfHwhbil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbWlncmF0ZSBzdG9yZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4oYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1GKEIuSGFzTW92ZWRTdG9yZSkscj1uP0pTT04ucGFyc2Uobik6e307aWYociYmclthXSlyZXR1cm47clthXT0hMCxNKEIuSGFzTW92ZWRTdG9yZSxKU09OLnN0cmluZ2lmeShyKSk7Y29uc3Qgbz1hd2FpdCBlW2FdLnRvQXJyYXkoKTthd2FpdCB0W2FdLmJ1bGtQdXQobyl9KShuLGEsZSksYX0sRT1cImRvY2szLXByb3ZpZGVyLWNvbmZpZ1wiLFI9by5BVCYmby5jSSYmbmV3IHguRGV4aWUoRChcImRvY2szLXByb3ZpZGVyLWNvbmZpZ1wiKSk7UiYmUi52ZXJzaW9uKC4xKS5zdG9yZXMoe1tFXTpcIlwifSk7dmFyIE4sRywkLFYsTD1mdW5jdGlvbihlLHQsYSxuLHIpe2lmKFwibVwiPT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO2lmKFwiYVwiPT09biYmIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhcjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwiYVwiPT09bj9yLmNhbGwoZSxhKTpyP3IudmFsdWU9YTp0LnNldChlLGEpLGF9LEg9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTtjbGFzcyBVe3N0YXRpYyBnZXRPdmVycmlkZUNvbnN0cnVjdG9yKC4uLmUpe3JldHVybiBjbGFzcyBleHRlbmRzIFV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5lKX19fWNvbnN0cnVjdG9yKGUsdCl7aWYoTi5zZXQodGhpcyx2b2lkIDApLEcuc2V0KHRoaXMsdm9pZCAwKSwkLnNldCh0aGlzLG51bGwpLFYuc2V0KHRoaXMsUCgpKSxVLmluc3RhbmNlKXRocm93IG5ldyBFcnJvcihcIkRvY2szUHJvdmlkZXIgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZC5cIik7VS5pbnN0YW5jZT10aGlzLEwodGhpcyxOLGUsXCJmXCIpLEwodGhpcyxHLHQsXCJmXCIpLHRoaXMucmVnaXN0ZXJDaGFubmVsQWN0aW9ucygpfWFzeW5jIGxhdW5jaEVudHJ5KGUpe31nZXQgcmVhZHkoKXtyZXR1cm4gSCh0aGlzLFYsXCJmXCIpLnByb21pc2V9YXN5bmMgYm9va21hcmtDb250ZW50TWVudUVudHJ5KGUpe31nZXQgY29uZmlnKCl7cmV0dXJuIEgodGhpcyxOLFwiZlwiKX1zZXQgY29uZmlnKGUpe0wodGhpcyxOLGUsXCJmXCIpfWFzeW5jIHVwZGF0ZUNvbmZpZyhlKXthd2FpdCB0aGlzLmhhbmRsZUNvbmZpZ0NoYW5nZShlKX1hc3luYyBzaHV0ZG93bigpe2F3YWl0IFByb21pc2UuYWxsKFtIKHRoaXMsRyxcImZcIikuZGVzdHJveSgpLHRoaXMuZ2V0V2luZG93U3luYygpLmNsb3NlKCEwKV0pLFUuaW5zdGFuY2U9bnVsbH1hc3luYyBzYXZlQ29uZmlnKHtjb25maWc6ZX0pe0wodGhpcyxOLGUsXCJmXCIpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2lmKCFSKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzYXZlIERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhlZERiIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgUltFXS5wdXQoZSxcImxhdGVzdFwiKX0oZSl9YXN5bmMgaGFuZGxlQ29uZmlnQ2hhbmdlKGUpe0godGhpcywkLFwiZlwiKSYmYXdhaXQgSCh0aGlzLEcsXCJmXCIpLmRpc3BhdGNoKEgodGhpcywkLFwiZlwiKSxcImhhbmRsZS1kb2NrLWNvbmZpZy11cGRhdGVkXCIsZSl9YXN5bmMgbG9hZENvbmZpZygpe2NvbnN0IGU9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtpZighUil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhlZERCIG5vdCBzdXBwb3J0ZWRcIik7dHJ5e3JldHVybiBhd2FpdCBSW0VdLmdldChcImxhdGVzdFwiKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gcmV0cmlldmUgRG9jayBwcm92aWRlciBjb25maWcgZnJvbSBJbmRleGVkREJcIixlKX19KCk7cmV0dXJuIGUmJkwodGhpcyxOLGUsXCJmXCIpLEgodGhpcyxOLFwiZlwiKX1nZXRXaW5kb3dTeW5jKCl7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLmlkZW50aXR5LnV1aWQsbmFtZTpDfSl9cmVnaXN0ZXJDaGFubmVsQWN0aW9ucygpe0godGhpcyxHLFwiZlwiKS5yZWdpc3RlcihcImxhdW5jaC1lbnRyeVwiLHRoaXMubGF1bmNoRW50cnkuYmluZCh0aGlzKSksSCh0aGlzLEcsXCJmXCIpLnJlZ2lzdGVyKFwic2F2ZS1jb25maWdcIix0aGlzLnNhdmVDb25maWcuYmluZCh0aGlzKSksSCh0aGlzLEcsXCJmXCIpLnJlZ2lzdGVyKFwiYm9va21hcmstY29udGVudC1tZW51LWVudHJ5XCIsdGhpcy5ib29rbWFya0NvbnRlbnRNZW51RW50cnkuYmluZCh0aGlzKSksSCh0aGlzLEcsXCJmXCIpLm9uQ29ubmVjdGlvbigoZT0+e2UubmFtZT09PUMmJkwodGhpcywkLGUsXCJmXCIpfSkpLEgodGhpcyxHLFwiZlwiKS5yZWdpc3RlcihcInJlYWR5XCIsKGFzeW5jKGUsdCk9PntpZihIKHRoaXMsJCxcImZcIik/LmVuZHBvaW50SWQhPT10LmVuZHBvaW50SWQpdGhyb3cgbmV3IEVycm9yKGBEb2NrM1Byb3ZpZGVyOiAncmVhZHknIGFjdGlvbiByZWNlaXZlZCBmcm9tIHVuZXhwZWN0ZWQgY2xpZW50ICR7dC5uYW1lfSAoJHt0LnV1aWR9KWApO0godGhpcyxWLFwiZlwiKS5yZXNvbHZlKCl9KSksSCh0aGlzLEcsXCJmXCIpLm9uRGlzY29ubmVjdGlvbigoZT0+e0godGhpcywkLFwiZlwiKT8uZW5kcG9pbnRJZD09PWUuZW5kcG9pbnRJZCYmKEwodGhpcywkLG51bGwsXCJmXCIpLEwodGhpcyxWLFAoKSxcImZcIikpfSkpfX1OPW5ldyBXZWFrTWFwLEc9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFUuaW5zdGFuY2U9bnVsbDtjb25zdCB6PWFzeW5jIGU9Pntjb25zdCB0PWU/ZmluLldpbmRvdy53cmFwU3luYyhlKTpmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCksYT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSYmXCJlbnRlcnByaXNlXCI9PT1hLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGV9O2xldCBxO2EoMjc3KTt2YXIgaj1hKDQzOCk7Y29uc3QgSz1yZXF1aXJlKFwibG9kYXNoLmRlYm91bmNlXCIpO3ZhciBRPWEubihLKTtmdW5jdGlvbiBZKCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKEIuTWFjaGluZU5hbWUpPz9cInVua25vd25cIn1sZXQgWDthc3luYyBmdW5jdGlvbiBKKCl7cmV0dXJuIFh8fChYPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TWFjaGluZUlkKCkpLFh9dmFyIFo9YSgzMzMpO2NvbnN0IGVlPWFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgSigpLG1hY2hpbmVOYW1lOlkoKX19KSx0ZT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdChhc3luYyhlLHQpPT4oe3BhZ2VJZDooMCxaLk4pKCksdGl0bGU6ZSxsYXlvdXQ6YXdhaXQgZWUodCksaXNSZWFkT25seTohMX0pKShlLnRpdGxlLHplKGUubGF5b3V0KSk7cmV0dXJuIGUucGFuZWxzJiYodC5wYW5lbHM9ZS5wYW5lbHMubWFwKChlPT4oey4uLmUsdmlld09wdGlvbnM6VWUoZS52aWV3T3B0aW9ucyl9KSkpKSx7Li4uZSwuLi50fX07dmFyIGFlPWEoNzkpLG5lPWEoNzg2KTt2YXIgcmU9YSgxMDIpO2NvbnN0IG9lPShlLHQpPT50P2Ake3R9LSR7ZS51dWlkfS0ke2UubmFtZX1gOmBfX2Jyb3dzZXJfd2luZG93X18tJHtlLnV1aWR9LSR7ZS5uYW1lfWAsaWU9bmV3IE1hcCxzZT0oZSx0KT0+e2NvbnN0IGE9b2UoZSx0KTtyZXR1cm4gbj1hLGllLmhhcyhuKXx8aWUuc2V0KG4sKDAscmUuQSkobikpLGllLmdldChuKSgpO3ZhciBufTt2YXIgY2UsZGUsbGUsdWUscGUsaGU7IWZ1bmN0aW9uKGUpe2UuQ2xvc2VCcm93c2VyV2luZG93PVwiY2xvc2UtYnJvd3Nlci13aW5kb3dcIixlLlF1aXRQbGF0Zm9ybT1cInF1aXQtcGxhdGZvcm1cIixlLkNsb3NlUGFnZT1cImNsb3NlLXBhZ2VcIixlLkFkZFRvQ2hhbm5lbD1cImFkZC10by1jaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cInJlbW92ZS1mcm9tLWNoYW5uZWxcIixlLk9wZW5TYXZlTW9kYWxJbnRlcm5hbD1cIm9wZW4tc2F2ZS1tb2RhbC1pbnRlcm5hbFwiLGUuRHVwbGljYXRlUGFnZT1cImR1cGxpY2F0ZS1wYWdlXCIsZS5TZXRTZWxlY3RlZFNjaGVtZT1cInNldC1zZWxlY3RlZC1zY2hlbWVcIixlLlNob3dCcm93c2VySW5kaWNhdG9yPVwic2hvdy1icm93c2VyLWluZGljYXRvclwiLGUuU2V0U2VsZWN0ZWRMYW5ndWFnZT1cInNldC1zZWxlY3RlZC1sYW5ndWFnZVwiLGUuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPVwicmVmcmVzaC1ib29rbWFya3NcIixlLkdldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3c0ludGVybmFsPVwiZ2V0LWxheW91dHMtd2l0aC1zZWxlY3RlZC12aWV3c1wiLGUuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbD1cImZvY3VzLWFuZC1leHBhbmQtc2VhcmNoXCJ9KGNlfHwoY2U9e30pKSxmdW5jdGlvbihlKXtlLkdldFBhZ2VzPVwiZ2V0LXBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlRm9yV2luZG93PVwiZ2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2gtcGFnZXMtdG8td2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2gtcGFnZXMtZnJvbS13aW5kb3dcIixlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJzZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuUmVuYW1lUGFnZT1cInJlbmFtZS1wYWdlXCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyLXBhZ2VzLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGUtcGFnZS1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnM9XCJ1cGRhdGUtcGFnZXMtd2luZG93LW9wdGlvbnNcIixlLklzRGV0YWNoaW5nUGFnZXM9XCJpcy1kZXRhY2hpbmctcGFnZXNcIixlLklzQWN0aXZlUGFnZUNoYW5naW5nPVwiaXMtYWN0aXZlLXBhZ2UtY2hhbmdpbmdcIn0oZGV8fChkZT17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0QXBwcz1cImdldC1hcHBzXCIsZS5HZXRDdXJhdGVkQ29udGVudD1cImdldC1jdXJhdGVkLWNvbnRlbnRcIixlLkdldFJlY2VudGx5VmlzaXRlZD1cImdldC1yZWNlbnRseS12aXNpdGVkXCIsZS5HZXRTZWFyY2hQcm92aWRlcnM9XCJnZXQtc2VhcmNoLXByb3ZpZGVyc1wifShsZXx8KGxlPXt9KSksZnVuY3Rpb24oZSl7ZS5DcmVhdGVCb29rbWFya05vZGU9XCJjcmVhdGUtYm9va21hcmstbm9kZVwiLGUuR2V0Qm9va21hcmtOb2RlPVwiZ2V0LWJvb2ttYXJrLW5vZGVcIixlLlNlYXJjaEJvb2ttYXJrTm9kZXM9XCJzZWFyY2gtYm9va21hcmstbm9kZXNcIixlLlVwZGF0ZUJvb2ttYXJrTm9kZT1cInVwZGF0ZS1ib29rbWFyay1ub2RlXCIsZS5EZWxldGVCb29rbWFya05vZGU9XCJkZWxldGUtYm9va21hcmstbm9kZVwifSh1ZXx8KHVlPXt9KSksZnVuY3Rpb24oZSl7ZS5VcGRhdGVGYXZvcml0ZUVudHJpZXM9XCJ1cGRhdGUtZmF2b3JpdGUtZW50cmllc1wiLGUuVXBkYXRlQ29udGVudE1lbnU9XCJ1cGRhdGUtY29udGVudC1tZW51XCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51PVwibmF2aWdhdGUtY29udGVudC1tZW51XCJ9KHBlfHwocGU9e30pKSxmdW5jdGlvbihlKXtlLlNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZT1cInNlbmQtdXBkYXRlLXZlcnNpb24tbW9kYWwtcmVzcG9uc2VcIn0oaGV8fChoZT17fSkpO2NvbnN0IGdlPXsuLi5jZSwuLi5kZSwuLi5wZX0sZmU9KDAscmUuQSkoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluPy5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWJvb2ttYXJrc2ApLG1lPWU9Pih7aWRlbnRpdHk6ZSxvcGVuZmluV2luZG93OmZpbi5XaW5kb3cud3JhcFN5bmMoZSksX2Jvb2ttYXJrczp7X2NyZWF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IGZlKCkpLmRpc3BhdGNoKHVlLkNyZWF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2dldEJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IGZlKCkpLmRpc3BhdGNoKHVlLkdldEJvb2ttYXJrTm9kZSxlKSkoZSksX3NlYXJjaEJvb2ttYXJrTm9kZXM6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBmZSgpKS5kaXNwYXRjaCh1ZS5TZWFyY2hCb29rbWFya05vZGVzLGUpKShlKSxfdXBkYXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgZmUoKSkuZGlzcGF0Y2godWUuVXBkYXRlQm9va21hcmtOb2RlLGUpKShlKSxfZGVsZXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgZmUoKSkuZGlzcGF0Y2godWUuRGVsZXRlQm9va21hcmtOb2RlLGUpKShlKX0sZ2V0UGFnZXM6YXN5bmMoKT0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRQYWdlc0ZvcldpbmRvdyxlKSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0UGFnZUZvcldpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLGFkZFBhZ2U6YXN5bmMgdD0+TGUoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9hZGRQYWdlKHQpLF9hZGRQYWdlOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0KDAsYWUuYlcpKGUpLHI9e2lkZW50aXR5OmUscGFnZTp0LGluc2VydGlvbkluZGV4OmE/LmluZGV4LG11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I6YT8ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcn07cmV0dXJuIG4uZGlzcGF0Y2goYWUuT0YuQWRkUGFnZSxyKX0sX2FkZFBhZ2VzOmFzeW5jKHQsYSxuKT0+e2NvbnN0IHI9YXdhaXQoMCxhZS5iVykoZSksbz10Lm1hcCgoKHtwYWdlOmUsb3B0czp0fSk9Pih7Li4uZSxtdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yOnQ/Lm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J8fFwiZHVwbGljYXRlXCJ9KSkpLGk9e2lkZW50aXR5OmUscGFnZXM6byxpbnNlcnRpb25JbmRleDphLHJlcGxhY2VBY3RpdmVQYWdlOm59O3JldHVybiByLmRpc3BhdGNoKGFlLk9GLkF0dGFjaFBhZ2VzVG9XaW5kb3csaSl9LHJlbW92ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5EZXRhY2hQYWdlc0Zyb21XaW5kb3cse2lkZW50aXR5OmUscGFnZUlkczpbdF19KSxyZXBhcmVudFBhZ2U6YXN5bmMgdD0+TGUoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9yZXBhcmVudFBhZ2UodCksX3JlcGFyZW50UGFnZTphc3luYyB0PT57Y29uc3R7cGFnZUlkOmF9PXQsbj1hd2FpdCgwLGFlLmJXKShlKSxyPShhd2FpdCBuLmRpc3BhdGNoKGFlLk9GLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSkuZmluZCgoKHtwYWdlSWQ6ZX0pPT5lPT09YSkpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgUmVwYXJlbnQgUGFnZSBFcnJvcjogVGFyZ2V0IHBhZ2Ugd2l0aCBwYWdlSWQgJHthfSBub3QgZm91bmRgKTtyLm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I9XCJyZXBhcmVudFwiO2NvbnN0IG89e2lkZW50aXR5OmUscGFnZXM6W3JdLGluc2VydGlvbkluZGV4OnQuaW5kZXh9O3JldHVybiBuLmRpc3BhdGNoKGFlLk9GLkF0dGFjaFBhZ2VzVG9XaW5kb3csbyl9LHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLGFlLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goYWUuT0YuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsYWUuYlcpKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChhZS5PRi5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGFlLk9GLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0KDAsYWUuYlcpKGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCgwLGFlLmJXKShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LHVwZGF0ZUJyb3dzZXJXaW5kb3dUaXRsZTphc3luYyB0PT57Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO1wic3RyaW5nXCIhPXR5cGVvZiB0P2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3RpdGxlOnR9fSk6Y29uc29sZS53YXJuKFwiVHlwZSBzdHJpbmcgZm9yIHdpbmRvdyB0aXRsZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFdpbmRvd1RpdGxlIHR5cGUgaW5zdGVhZFwiLHQpfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLGFlLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goYWUuT0YuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblBhZ2VUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLGFlLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goYWUuT0YuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblNhdmVNb2RhbDphc3luYyB0PT57YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuKGF3YWl0IHNlKGUpKS5kaXNwYXRjaChnZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWwsdCl9LF9nZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3M6YXN5bmMoKT0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChnZS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbCxlKSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLGFlLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goYWUuT0YuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLHQpfSxfYWRkRGVmYXVsdFBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGFlLk9GLkFkZERlZmF1bHRQYWdlLHQpfSxfdHJhY2tSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwsdCksX3Jlc3RvcmVSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbCx0KSxfdHJhY2tWaXNpdGVkU2l0ZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLlRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbCx0KSxfZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXM6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9zZWFyY2hTaXRlczphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLlNlYXJjaFNpdGVzSW50ZXJuYWwse2lkZW50aXR5OmUscmVxOnR9KSxfZ2V0U2VhcmNoUHJvdmlkZXJzOmFzeW5jKCk9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwse2lkZW50aXR5OmV9KSxfZ2V0Q3VyYXRlZENvbnRlbnQ6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRDdXJhdGVkQ29udGVudEludGVybmFsLHtpZGVudGl0eTplLHJlcTp0fSksX2hhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbCx0KSxfc2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuU2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWwsdCl9KSx3ZT1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJue3dyYXBTeW5jOmU9Pm1lKGUpLGNyZWF0ZVdpbmRvdzphc3luYyBhPT57Y29uc3Qgbj0oKCk9Pntjb25zdCBlPWBicm93c2VyLXdpbmRvdy1zdGFydHVwLSR7KDAsWi5OKSgpfWA7cmV0dXJuIG5lLkEubWFya1N0YXJ0KGUpLGV9KSgpOyhlPT57ZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkfSkub25jZShcIndpbmRvdy1zaG93blwiLCgoKT0+e25lLkEubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zaG93blwiLGUpfSkpfSkobiksYXdhaXQoMCxhZS5iVykoZSk7Y29uc3Qgcj1hd2FpdCB0LmNyZWF0ZVdpbmRvdyhhKTtyZXR1cm4oZT0+e25lLkEubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zdGFydGVkXCIsZSl9KShuKSxtZShyLmlkZW50aXR5KX0sZ2V0QWxsQXR0YWNoZWRQYWdlczphc3luYygpPT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSxnZXRBbGxXaW5kb3dzOmFzeW5jKCk9Pnthd2FpdCgwLGFlLmJXKShlKTtyZXR1cm4oYXdhaXQoMCxmLklvKSgpKS5tYXAoKGU9Pm1lKGUuaWRlbnRpdHkpKSl9LGdldFVuaXF1ZVBhZ2VUaXRsZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApLGdldFBhZ2VCeVZpZXdJZGVudGl0eTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFBhZ2VCeVZpZXdJZGVudGl0eSx0KX19O3ZhciB5ZT1hKDUyMyk7ZnVuY3Rpb24gYmUoZSx0KXtyZXR1cm4gYXN5bmMoYSwuLi5uKT0+e2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSksdCYmYXdhaXQgdCh7ZXZlbnQ6YSxwYXlsb2FkOm59KX19ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4gdCYmdCgodD0+e2NvbnN0e2V2ZW50OmEscGF5bG9hZDpufT10O2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSl9KSksKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KS5hZGQoYSl9fWZ1bmN0aW9uIHZlKGUpe3JldHVybih0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCk7Y29uc3Qgbj1lLmdldCh0KSxyPSguLi5lKT0+e2EoLi4uZSksbi5kZWxldGUocil9O24uYWRkKHIpfX1mdW5jdGlvbiBTZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5kZWxldGUoYSl9fWNvbnN0IFBlPXtuYW1lOmYuUS5Ccm93c2VyTWVudSxhbHdheXNPblRvcDohMCxhdXRvU2hvdzohMCxmcmFtZTohMSxyZXNpemFibGU6ITEsYmFja2dyb3VuZENvbG9yOlwiIzJmMzEzNlwiLHNtYWxsV2luZG93OiEwLHNob3dUYXNrYmFySWNvbjohMSxiYWNrZ3JvdW5kVGhyb3R0bGluZzohMSxzYXZlV2luZG93U3RhdGU6ITF9O2Z1bmN0aW9uIENlKGUpe2NvbnN0IHQ9ey4uLlBlLC4uLmV9O3JldHVybiB0LnVybD0oMCx5ZS5UdCkodC51cmw/P1wiXCIpLHR9Y29uc3QgeGU9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybntlbWl0OmJlKHQsKHQ9Pm8uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goZSx0KSkpLGFkZExpc3RlbmVyOmtlKHQsKHQ9Pm8uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSx0KSkpLGFkZExpc3RlbmVyV2l0aFVVSUQ6YT0+a2UodCwodD0+by5jSSYmZmluLkludGVyQXBwbGljYXRpb25CdXMuc3Vic2NyaWJlKHt1dWlkOmF9LGUsdCkpKSxyZW1vdmVMaXN0ZW5lcjpTZSh0KSxvbmNlOnZlKHQpfX0oXCJ3aW5kb3cubWVudVwiKSxBZT0oZSx0KT0+ZmluLldpbmRvdy53cmFwU3luYyhlKS51cGRhdGVPcHRpb25zKHtvcGFjaXR5OnR9KSxJZT1lPT54ZS5lbWl0KFwicmVzcG9uc2VcIixlKSxNZT13KCgoKT0+KDAsai52MSkoKS5nZXRDaGlsZFdpbmRvd3MoKSksNTAwKTtjb25zdCBGZT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIFdlKGUsdCxhKXtjb25zdCBuPUNlKGUpLG89YXdhaXQoMCxTLnFxKShmaW4ubWUuaWRlbnRpdHkpLGk9YXdhaXQoMCxTLmw1KShmaW4ubWUuaWRlbnRpdHkpPT09ci5xVC5EYXJrLHM9bz8udGhlbWU7aWYobi5iYWNrZ3JvdW5kQ29sb3I9cz8uW2k/ci5xVC5EYXJrOnIucVQuTGlnaHRdPy5wYWxldHRlPy5pbnB1dEJhY2tncm91bmR8fG4uYmFja2dyb3VuZENvbG9yLCFGZS5oYXMobi5uYW1lKSl7cmV0dXJuIG5ldyBQcm9taXNlKChyPT57eGUub25jZShcInJlYWR5XCIsKGFzeW5jIGU9PntpZihlLm5hbWU9PT1uLm5hbWUpe2NvbnN0IHQ9YXdhaXQgRmUuZ2V0KG4ubmFtZSk7bi5wcmV2ZW50Qmx1cnx8dC5vbmNlKFwiYmx1cnJlZFwiLChhc3luYygpPT57aWYoQWUoZSwwKSx0LmhpZGUoKSxJZSh7bmFtZTpuLm5hbWUsZGF0YTp7YWN0aW9uTmFtZTpcIkNhbmNlbFwifX0pLGE9dC5pZGVudGl0eS5uYW1lLFtmLlEuQnJvd3NlclNhdmVNZW51LGYuUS5EZXNrdG9wU2lnbmFsc01vZGFsXS5pbmNsdWRlcyhhKSl7Y29uc3QgZT1hd2FpdCB0LmdldE9wdGlvbnMoKTtcInN1Ym1pdHRpbmdcIiE9PWUuY3VzdG9tQ29udGV4dCYmXCJlcnJvclwiIT09ZS5jdXN0b21Db250ZXh0JiZ0LmNsb3NlKCl9ZWxzZSB0LmlkZW50aXR5Lm5hbWUuc3RhcnRzV2l0aChmLlEuQnJvd3Nlck1lbnUpJiZ0LmNsb3NlKCk7dmFyIGF9KSksc2V0VGltZW91dCgoYXN5bmMoKT0+e2F3YWl0IEFlKGUsMSk7MSE9PShhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldE9wdGlvbnMoKSkub3BhY2l0eSYmQWUoZSwxKX0pKSxyKHQpfX0pKTtjb25zdCBvPShhc3luYygpPT57Y29uc3Qgcj1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3cobSh7Li4ubixvcGFjaXR5OjAsdXJsOnR8fG4udXJsLGRlZmF1bHRMZWZ0OmE/LmxlZnQsZGVmYXVsdFRvcDphPy50b3AsZGVmYXVsdFdpZHRoOmE/LndpZHRoLGRlZmF1bHRIZWlnaHQ6YT8uaGVpZ2h0LHdvcmtzcGFjZVBsYXRmb3JtOntwcmV2ZW50Qmx1cjplLnByZXZlbnRCbHVyfX0sITApKTtyZXR1cm4gci5vbmNlKFwiY2xvc2VkXCIsKCgpPT57RmUuZGVsZXRlKG4ubmFtZSl9KSkscn0pKCk7RmUuc2V0KG4ubmFtZSxvKX0pKX1yZXR1cm4gRmUuZ2V0KG4ubmFtZSl9YXN5bmMgZnVuY3Rpb24gX2UoZSx0KXtjb25zdCBhPUNlKGUpLG49e3RvcDphLnRvcCxsZWZ0OmEubGVmdCx3aWR0aDphLmRlZmF1bHRXaWR0aHx8YS53aWR0aCxoZWlnaHQ6YS5kZWZhdWx0SGVpZ2h0fHxhLmhlaWdodH07cmV0dXJuIHQuc2V0KFwicGFyZW50TmFtZVwiLGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKS5pZGVudGl0eS5uYW1lKSx7bmFtZTphLm5hbWUsYm91bmRzOm4scm91dGU6YCR7YS51cmx9IyR7dC50b1N0cmluZygpfWB9fWFzeW5jIGZ1bmN0aW9uIEJlKHtvcHRpb25zOmUscGFyYW1ldGVyczp0fSl7Y29uc3QgYT10Pz9uZXcgVVJMU2VhcmNoUGFyYW1zLG49Q2UoZSkse25hbWU6cixtb2RhbFBhcmVudElkZW50aXR5Om99PW47aWYoIWEuaGFzKFwiaXNFbnRlcnByaXNlXCIpKXtjb25zdCBlPWAke2F3YWl0KGFzeW5jIGU9PihxfHwocT1hd2FpdCB6KGUpKSxxKSkobyl9YDthLnNldChcImlzRW50ZXJwcmlzZVwiLGUpfWxldCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCBNZSgpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lKSl9KHIpO2lmKGkpYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdHtuYW1lOmEsYm91bmRzOm4scm91dGU6cn09YXdhaXQgX2UoZSx0KSxvPXt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkLG5hbWU6YX0saT1maW4uV2luZG93LndyYXBTeW5jKG8pO2F3YWl0IFByb21pc2UuYWxsKFtpLmhpZGUoKSxBZShvLDApLGkuc2V0Qm91bmRzKG4pXSksZS5wcmV2ZW50Qmx1cnx8aS5vbmNlKFwiYmx1cnJlZFwiLCgoKT0+e0FlKG8sMCksaS5oaWRlKCksSWUoe25hbWU6by5uYW1lLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KX0pKSx4ZS5lbWl0KFwidXBkYXRlXCIsYSxuLHIpLGF3YWl0IEllKHtuYW1lOmEsZGF0YTp7YWN0aW9uTmFtZTpcIkNhbmNlbFwifX0pfShuLGEpO2Vsc2V7Y29uc3R7cm91dGU6dCxib3VuZHM6cn09YXdhaXQgX2UoZSxhKTtpPWF3YWl0IFdlKHsuLi5ufSx0LHIpfXJldHVybiBpfWNvbnN0IERlPWU9Pih7Y3JlYXRlUGFnZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGRlbGV0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNhdmVkUGFnZSx0KSxnZXRQYWdlczphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNhdmVkUGFnZXMsdCksc2F2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5TYXZlUGFnZSx0KSxjcmVhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkNyZWF0ZVNhdmVkV29ya3NwYWNlLHQpLGRlbGV0ZVdvcmtzcGFjZTphc3luYyB0PT57Y29uc3QgYT1MZSgpLG49YXdhaXQgYS5nZXRDdXJyZW50V29ya3NwYWNlKCk7aWYobi53b3Jrc3BhY2VJZD09PXQpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVsZXRlIGN1cnJlbnQgYWN0aXZlIHdvcmtzcGFjZSAke24udGl0bGV9YCk7cmV0dXJuKGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkRlbGV0ZVNhdmVkV29ya3NwYWNlLHQpfSx1cGRhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlVwZGF0ZVNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0U2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlczphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0U2F2ZWRXb3Jrc3BhY2VzLHQpLGdldFdvcmtzcGFjZXNNZXRhZGF0YTphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0U2F2ZWRXb3Jrc3BhY2VzTWV0YWRhdGEsdCksc2F2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuU2F2ZVdvcmtzcGFjZSx0KSxnZXREb2NrUHJvdmlkZXJDb25maWc6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldERvY2tQcm92aWRlckNvbmZpZyx0KSxzYXZlRG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5TYXZlRG9ja1Byb3ZpZGVyQ29uZmlnLHQpfSk7dmFyIE9lOyFmdW5jdGlvbihlKXtlLlVwZGF0ZVBsYXRmb3JtVGhlbWVTY2hlbWU9XCJ1cGRhdGUtcGxhdGZvcm0tdGhlbWUtc2NoZW1lXCJ9KE9lfHwoT2U9e30pKTsoMCxyZS5BKShcIm9mLXdvcmtzcGFjZS1ub3RpZmljYXRpb25zLXN5bmNcIik7YSg2OTUpO3ZhciBUZT1hKDg5OCk7Y29uc3QgRWU9ci5xVC5TeXN0ZW0sUmU9ZT0+T2JqZWN0LmVudHJpZXMoZSkucmVkdWNlKCgoZSxbdCxhXSk9PmAke2V9LS13b3Jrc3BhY2UtcGFsZXR0ZS0ke3R9OiAke2F9O2ApLFwiXCIpLE5lPShlLHQpPT57Y29uc3QgYT0hIWUuY29udGVudEJhY2tncm91bmQ1JiZcIiMwMDAwMDBcIiE9PWUuY29udGVudEJhY2tncm91bmQ1LG49ISFlLmNvbnRlbnRCYWNrZ3JvdW5kNCYmXCIjMDAwMDAwXCIhPT1lLmNvbnRlbnRCYWNrZ3JvdW5kNCxyPSgwLFRlLmI0KShlLnRleHREZWZhdWx0KSxvPSgwLFRlLmI0KShlLnRleHRJbmFjdGl2ZSksaT1yLnJnYixzPW8ucmdiLGM9ci5hbHBoYT9wYXJzZUZsb2F0KHIuYWxwaGEudG9TdHJpbmcoKSk6MSxkPW8uYWxwaGE/cGFyc2VGbG9hdChvLmFscGhhLnRvU3RyaW5nKCkpOjE7cmV0dXJue2RvY2tFeHBhbmRlZENvbnRhaW5lckJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNCxkb2NrRXhwYW5kZWRDb250YWluZXJCb3JkZXJSYWRpdXM6YSYmdD9cIjBcIjpcIjEwcHhcIixkb2NrRXhwYW5kZWRDb250YWluZXJCYWNrZ3JvdW5kOm4/ZS5jb250ZW50QmFja2dyb3VuZDQ6ZS5iYWNrZ3JvdW5kMSxmaWxsZXJCYWNrZ3JvdW5kQ29sb3I6bj9lLmNvbnRlbnRCYWNrZ3JvdW5kNDpcImluaGVyaXRcIixkb2NrQ29tcGFuaW9uQ29udGFpbmVyQmFja2dyb3VuZDpuP2UuY29udGVudEJhY2tncm91bmQ0OlwiaW5oZXJpdFwiLGRvY2tDb21wb25lbnRDb250YWluZXJCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNSxzdHlsZWREcm9wZG93bkFjdGl2ZUJhY2tncm91bmQ6YCR7YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0fWAsY29udGVudE1lbnVXcmFwcGVySW50ZXJuYWxEaXZCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDUsY29udGVudE1lbnVJdGVtQ29udGFpbmVyQWN0aXZlQmFja2dyb3VuZDphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDMsY29udGVudE1lbnVJdGVtQ29udGFpbmVySG92ZXJCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kMixjb250ZW50TWVudUhlYWRlckJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNSxkb2NrQ29tcGFuaW9uU2VwYXJhdG9yQm9yZGVyQ29sb3I6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQzLGRvY2tDb21wb25lbnRDb250YWluZXJCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDUsY29tcGFuaW9uRG9ja0J1dHRvbkFjdGl2ZUJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0LGNvbXBhbmlvbkRvY2tCdXR0b25Ib3ZlckJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0LFwiY29tcHV0ZWQtc2Nyb2xsYmFyLXRodW1iLWFscGhhXCI6YyxcImNvbXB1dGVkLXNjcm9sbGJhci10cmFjay1hbHBoYVwiOmQsXCJzY3JvbGxiYXItdGh1bWItcmdiXCI6aSxcInNjcm9sbGJhci10cmFjay1yZ2JcIjpzfX0sR2U9KGUsdCxhKT0+KHtzZWxlY3RlZFRhYjpcImRhcmtcIj09PXQ/ZS5iYWNrZ3JvdW5kMzplLmJhY2tncm91bmQxLC4uLk5lKGUsYSl9KTtuZXcgY2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5wcm92aWRlclN0b3JhZ2U9ZSx0aGlzLmdldFZhcnNCeVNjaGVtZT1lPT5cImRhcmtcIj09PWU/dGhpcy5kYXJrUGFsZXR0ZVZhcnM6dGhpcy5saWdodFBhbGV0dGVWYXJzLHRoaXMuc2V0V29ya3NwYWNlU3RvcmFnZT1lPT57dGhpcy53b3Jrc3BhY2VTdG9yYWdlPWV9LHRoaXMudHJ5U3luY2hyb25pemVXb3Jrc3BhY2VTdG9yYWdlPSgpPT57aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlKXtjb25zdCBlPXRoaXMuZ2V0U2NoZW1lKCk7aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0oQi5TZWxlY3RlZENvbG9yU2NoZW1lLGUpLHRoaXMuZGFya1BhbGV0dGVWYXJzJiZ0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMpaWYoXCJkYXJrXCI9PT1lfHxcImxpZ2h0XCI9PT1lKXRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKEIuVGhlbWVQYWxldHRlU2hlZXQsYDpyb290eyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoZSl9fWApO2Vsc2V7Y29uc3QgZT1gQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7OnJvb3QgeyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoXCJkYXJrXCIpfX19YCx0PWBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCl7OnJvb3R7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShcImxpZ2h0XCIpfX19YDt0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShCLlRoZW1lUGFsZXR0ZVNoZWV0LGAke3R9JHtlfWApfX19LHRoaXMuc2V0UGFsZXR0ZXM9YXN5bmMoe2xpZ2h0OmUsZGFyazp0fSxhKT0+e3RoaXMubGlnaHRQYWxldHRlVmFycz1SZSh7Li4uZSwuLi5HZShlLFwibGlnaHRcIixhKX0pLHRoaXMuZGFya1BhbGV0dGVWYXJzPVJlKHsuLi50LC4uLkdlKHQsXCJkYXJrXCIsYSl9KX19c2V0U2NoZW1lKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oQi5TZWxlY3RlZENvbG9yU2NoZW1lLGUpfWdldFNjaGVtZSgpe3JldHVybiBudWxsPT09dGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShCLlNlbGVjdGVkQ29sb3JTY2hlbWUpJiZ0aGlzLnByb3ZpZGVyU3RvcmFnZS5zZXRJdGVtKEIuU2VsZWN0ZWRDb2xvclNjaGVtZSxFZSksdGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShCLlNlbGVjdGVkQ29sb3JTY2hlbWUpfX0obik7Y29uc3QgJGU9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFRoZW1lcyx2b2lkIDApLHNldFNlbGVjdGVkU2NoZW1lOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5TZXRTZWxlY3RlZFNjaGVtZSx0KSxnZXRTZWxlY3RlZFNjaGVtZTphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKX0pLFZlPWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtsZXQgYTtjb25zdCBuPU9iamVjdC5hc3NpZ24odCx7YXBwbHlTbmFwc2hvdDphc3luYyh0LGEpPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiF0Py53aW5kb3dzKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIGJyb3dzZXIgc25hcHNob3RcIik7cmV0dXJuIGZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5hcHBseVNuYXBzaG90KHQsYSl9LGdldFNuYXBzaG90OigpPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0U25hcHNob3QoKS50aGVuKChlPT5lKSksZ2V0Vmlld1NuYXBzaG90OnQ9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRWaWV3U25hcHNob3QodCksY3JlYXRlVmlldzoodCxhLG4pPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuY3JlYXRlVmlldyh0LGEsbiksbGF1bmNoQXBwOmFzeW5jIHQ9Pntjb25zb2xlLndhcm4oXCJsYXVuY2hBcHAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBjcmVhdGVWaWV3IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNhZGQtYS12aWV3LXRvLWFuLWV4aXN0aW5nLXdpbmRvdyBvciAgY3JlYXRlV2luZG93IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNjcmVhdGUtYS1wbGF0Zm9ybS13aW5kb3cgaW5zdGVhZC5cIiksdC50YXJnZXR8fCh0LnRhcmdldD17dXVpZDpvLiRoLG5hbWU6by52TCxlbnRpdHlUeXBlOm8uZlR8fFwidW5rbm93blwifSk7cmV0dXJuKGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkxhdW5jaEFwcCx0KX0sX2ludm9rZUN1c3RvbUFjdGlvbjphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCgwLGFlLk4pKGUpLG89e2FjdGlvbklkOnQscGF5bG9hZDp7Li4uYSxjYWxsZXJUeXBlOmEuY2FsbGVyVHlwZXx8ci52Yy5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChhZS5PRi5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sX3JlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2c6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbCx0KSxfc2hvd1VwZGF0ZVZlcnNpb25Nb2RhbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuU2hvd1VwZGF0ZVZlcnNpb25Nb2RhbEludGVybmFsLHQpLGdldEN1cnJlbnRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldEN1cnJlbnRXb3Jrc3BhY2UsdCksYXBwbHlXb3Jrc3BhY2U6YXN5bmModCxhKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkFwcGx5V29ya3NwYWNlLHsuLi50LG9wdGlvbnM6YX0pLHJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbCx0KSxzZXRBY3RpdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlNldEFjdGl2ZVdvcmtzcGFjZSx0KSxnZXRMYW5ndWFnZTphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0TGFuZ3VhZ2UpLF9nZXRMYW5ndWFnZVJlc291cmNlczphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbCksc2V0TGFuZ3VhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlNldExhbmd1YWdlLHQpLF9yYWlzZUFuYWx5dGljczphc3luYyB0PT57aWYoYXx8KGE9YXdhaXQoMCxhZS5LWikoZSkpLFwib2JqZWN0XCI9PXR5cGVvZiBhJiZhPy5hbmFseXRpY3M/LmlzU3VwcG9ydGVkKXtyZXR1cm4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuQW5hbHl0aWNzLHQpfWUudXVpZH0sZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZzphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0Tm90aWZpY2F0aW9uc0NvbmZpZyksX3JlZnJlc2hCb29rbWFya3NJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKSxfbGF1bmNoQm9va21hcmtJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuTGF1bmNoQm9va21hcmtJbnRlcm5hbCx0KSxfdXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwsdCksX3VwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwsdCksX2xhdW5jaERvY2tFbnRyeUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5MYXVuY2hEb2NrRW50cnlJbnRlcm5hbCx0KSxfc2V0RG9ja0Zhdm9yaXRlc0ludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbCx0KSxfc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbCx0KSxfcmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsLHQpLF9hZGREb2NrRmF2b3JpdGVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwsdCksX25hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuTmF2aWdhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9vcGVuRG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsOmFzeW5jKCk9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5HZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWwpLF9oYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5IYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsLHQpLF9mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsOmFzeW5jKCk9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKSxfc2hvd0Fib3V0UGFnZVBvcHVwOmFzeW5jIGU9Pihhc3luYyBlPT57Y29uc3QgdD1uZXcgVVJMU2VhcmNoUGFyYW1zKHsuLi5lLHRpdGxlOlwiQWJvdXRcIn0pLGE9YXdhaXQgdihmaW4ubWUuaWRlbnRpdHkpLG49ZS5jb3B5cmlnaHRNZXNzYWdlPzMyMDoyODYscj0oMCxmLlhxKShhLHtoZWlnaHQ6bix3aWR0aDozNjB9KTtyZXR1cm4gQmUoe29wdGlvbnM6e2ZyYW1lOiEwLHNtYWxsV2luZG93OiEwLHNhdmVXaW5kb3dTdGF0ZTohMSxzaG93VGFza2Jhckljb246ITAsaW5jbHVkZUluU25hcHNob3RzOiExLHdvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dUeXBlOlwiZW50ZXJwcmlzZVwifSxyZXNpemFibGU6ITEsbmFtZTpmLlEuQWJvdXRQYWdlV2luZG93LHVybDphd2FpdCBnKCkraS5BeS5FbnRlcnByaXNlQWJvdXRQYWdlLGRlZmF1bHRXaWR0aDozNjAsZGVmYXVsdEhlaWdodDpuLHByZXZlbnRCbHVyOiEwLC4uLnJ9LHBhcmFtZXRlcnM6dH0pfSkoZSksVGhlbWU6JGUoZSksQnJvd3Nlcjp3ZShlKSxTdG9yYWdlOkRlKGUpfSk7cmV0dXJuIG59LExlPSgpPT5WZShmaW4ubWUuaWRlbnRpdHkpO2NvbnN0IEhlPShlLHQpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKChlPT5IZShlLHQpKSl9OnsuLi5lLGNvbXBvbmVudFN0YXRlOnQoZS5jb21wb25lbnRTdGF0ZSl9LFVlPWU9Pih7Li4uZSxuYW1lOnZvaWQgMH0pLHplPWU9Pntjb25zdCB0PXsuLi5lfTtyZXR1cm4gSGUodCxVZSl9LHFlPWU9Pntjb25zdCB0PVtdO3JldHVybihlJiZBcnJheS5pc0FycmF5KGUpP2U6W10pLmZvckVhY2goKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiB0LnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgYT1xZShlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fTtuZXcgTWFwLG5ldyBNYXA7Y29uc3QgamU9YXN5bmMoZSx0KT0+e2NvbnN0IGE9KGU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS5MYXlvdXQud3JhcFN5bmMoZSk7cmV0dXJue3Nob3c6YXN5bmMoKT0+e2NvbnN0IGE9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6bixkaW1lbnNpb25zOnJ9PWEsbz1hd2FpdCB6KGUpO2F3YWl0IHQucmVwbGFjZSh7Li4uYSxzZXR0aW5nczp7Li4ubixoYXNIZWFkZXJzOiEwLHJlb3JkZXJFbmFibGVkOiEwfSxkaW1lbnNpb25zOnsuLi5yLGhlYWRlckhlaWdodDpvPzI4OjMwfX0pfSxoaWRlOmFzeW5jIGU9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpyfT1hd2FpdCBhO2F3YWl0IHQucmVwbGFjZSh7Li4uYSxzZXR0aW5nczp7Li4ubixoYXNIZWFkZXJzOiExLHJlb3JkZXJFbmFibGVkOmU/LnNldHRpbmdzPy5yZW9yZGVyRW5hYmxlZD8/ITF9LGRpbWVuc2lvbnM6ey4uLnIsaGVhZGVySGVpZ2h0OjB9fSl9LGlzU2hvd2luZ1RhYnM6YXN5bmMoKT0+e3RyeXtjb25zdCBlPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOmF9PWF3YWl0IGU7cmV0dXJuIGEuaGFzSGVhZGVyc31jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBnZXQgbGF5b3V0IGNvbmZpZzogXCIsZSksITB9fX19KSh7Li4uZi4kcCxsYXlvdXROYW1lOmUubGF5b3V0Q29udGFpbmVyS2V5fSksbj1hd2FpdCBhLmlzU2hvd2luZ1RhYnMoKTt0PjE/bnx8YXdhaXQgYS5zaG93KCk6MT09PXQmJm4mJmF3YWl0IGEuaGlkZSh7c2V0dGluZ3M6e3Jlb3JkZXJFbmFibGVkOiEwfX0pfSxLZT0oUSgpKChhc3luYyBlPT57dHJ5e2lmKCFlfHwhZS5sYXlvdXRDb250YWluZXJLZXkpcmV0dXJuO2NvbnN0IHQ9YXdhaXQoYXN5bmMgZT0+ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyh7Li4uZmluLm1lLmlkZW50aXR5LGxheW91dE5hbWU6ZX0pLmdldENvbmZpZygpKShlLmxheW91dENvbnRhaW5lcktleSksYT10LmNvbnRlbnQ/cWUodC5jb250ZW50KTpbXSxuPWEubGVuZ3RoO24+MT8oYXN5bmMgZT0+e2lmKFwibXVsdGlWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUpe2NvbnN0IHQ9YXdhaXQgTGUoKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZSgpO0xlKCkuQnJvd3Nlci53cmFwU3luYyhmLiRwKS51cGRhdGVQYWdlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTp7dGl0bGU6ZS50aXRsZT8/dCxzaW5nbGVWaWV3TmFtZTpudWxsLGF0dGFjaGVkUGFnZVR5cGU6XCJtdWx0aVZpZXdcIn19KX19KShlKToxPT09biYmKGFzeW5jKGUsdCk9Pntjb25zdCBhPUxlKCkuQnJvd3Nlci53cmFwU3luYyhmLiRwKTtpZihcInNpbmdsZVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSl7Y29uc3Qgbj1hd2FpdCB0ZShlKTtkZWxldGUgbi5sYXlvdXQsZGVsZXRlIG4ucGFnZUlkO2NvbnN0IHI9ZmluLlZpZXcud3JhcFN5bmMoe3V1aWQ6Zi4kcC51dWlkLG5hbWU6dH0pLG89YXdhaXQgci5nZXRJbmZvKCksaT17Li4ubix0aXRsZTpudWxsLHNpbmdsZVZpZXdOYW1lOnQsaGFzVW5zYXZlZENoYW5nZXM6ITEsYXR0YWNoZWRQYWdlVHlwZTpcInNpbmdsZVZpZXdcIixwYWdlSWNvbjpvLmZhdmljb25zWzBdfTthd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOml9KX19KShlLGFbMF0ubmFtZSksYXdhaXQgamUoZSxuKX1jYXRjaChlKXt9fSksNTAse2xlYWRpbmc6ITEsdHJhaWxpbmc6ITB9KSxyZXF1aXJlKFwicmVhY3QtaTE4bmV4dFwiKSxyZXF1aXJlKFwiaTE4bmV4dFwiKSk7YS5uKEtlKSgpLnQ7bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5xdWV1ZT1bXSx0aGlzLmxvY2tlZD0hMX1sb2NrKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlPT57dGhpcy5sb2NrZWQ/dGhpcy5xdWV1ZS5wdXNoKGUpOih0aGlzLmxvY2tlZD0hMCxlKCkpfSkpfXVubG9jaygpe2lmKHRoaXMucXVldWUubGVuZ3RoPjApe2NvbnN0IGU9dGhpcy5xdWV1ZS5zaGlmdCgpO2UmJmUoKX1lbHNlIHRoaXMubG9ja2VkPSExfX07bmV3IE1hcDtjb25zdCBRZT1tKHthbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExfSk7IWZ1bmN0aW9uKGU9UWUpe2NvbnN0IHQ9bmV3IE1hcH0oKTtuZXcgTWFwO0RhdGUubm93KCk7USgpKChhc3luYygpPT57Y29uc3QgZT1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5BcHBsaWNhdGlvbi5nZXRDaGlsZFdpbmRvd3MoKTtsZXQgdCxhPSExO2Zvcihjb25zdCBuIG9mIGUpaWYobi5pZGVudGl0eS5uYW1lPT09Zi5RLkJyb3dzZXJNZW51fHxuLmlkZW50aXR5Lm5hbWU9PT1mLlEuQnJvd3NlclNhdmVNZW51P3Q9bjphd2FpdCgwLGYuaGIpKG4uaWRlbnRpdHkpJiYoYT0hMCksYSlicmVhazshYSYmdCYmdC5jbG9zZSgpfSksMTAwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSk7dmFyIFllLFhlOyFmdW5jdGlvbihlKXtlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlQXNcIn0oWWV8fChZZT17fSkpLGZ1bmN0aW9uKGUpe2UuR2xvYmFsTWVudT1cImdsb2JhbC1tZW51XCIsZS5Db250ZXh0TWVudT1cImNvbnRleHQtbWVudVwiLGUuUmVuYW1lU3VwZXJ0YWI9XCJyZW5hbWUtc3VwZXJ0YWJcIixlLkFkZEVkaXRCb29rbWFyaz1cImFkZC1lZGl0LWJvb2ttYXJrXCIsZS5Ecm9wZG93bk1lbnU9XCJkcm9wZG93bi1tZW51XCIsZS5ab29tQ29udHJvbHM9XCJ6b29tLWNvbnRyb2xzXCJ9KFhlfHwoWGU9e30pKTtjb25zdCBKZT1cInZpc2l0ZWQtc2l0ZXNcIixaZT1cInJlbW92ZWQtdGFiLXN0YWNrXCIsZXQ9KG8uQVQmJm8uY0kmJlQoXCJvcGVuZmluLWhvbWUtcGFnZXNcIixcInBhZ2VzXCIpLG8uQVQmJm8uY0kmJm5ldyB4LkRleGllKEQoXCJvcGVuZmluLWVudGVycHJpc2Utc2l0ZS1oaXN0b3J5XCIpKSk7ZXQmJmV0LnZlcnNpb24oLjEpLnN0b3Jlcyh7W0plXTpcImlkLCB1cmxcIn0pO2NvbnN0IHR0PW8uQVQmJm8uY0kmJm5ldyB4LkRleGllKEQoXCJvcGVuZmluLWVudGVycHJpc2UtdGFiLWhpc3RvcnlcIikpO3R0JiZ0dC52ZXJzaW9uKC4xKS5zdG9yZXMoe1taZV06XCJcIn0pO3ZhciBhdDshZnVuY3Rpb24oZSl7ZS5MYWJlbD1cIm5vcm1hbFwiLGUuU2VwYXJhdG9yPVwic2VwYXJhdG9yXCIsZS5TdWJtZW51PVwic3VibWVudVwiLGUuQ2hlY2tib3g9XCJjaGVja2JveFwifShhdHx8KGF0PXt9KSk7YXQuU2VwYXJhdG9yO2EoOTk1KTtuZXcgTWFwKFtbXCJibHVlXCIse25hbWU6XCJCbHVlXCIsY29sb3I6XCIjMDA5MUVCXCJ9XSxbXCJpbmRpZ29cIix7bmFtZTpcIkluZGlnb1wiLGNvbG9yOlwiIzY0NTBGRlwifV0sW1wicGlua1wiLHtuYW1lOlwiUGlua1wiLGNvbG9yOlwiI0U4NzhDRlwifV0sW1widGVhbFwiLHtuYW1lOlwiVGVhbFwiLGNvbG9yOlwiIzI0RDFEMVwifV0sW1wiZ3JlZW5cIix7bmFtZTpcIkdyZWVuXCIsY29sb3I6XCIjMDBBRjc4XCJ9XSxbXCJvcmFuZ2VcIix7bmFtZTpcIk9yYW5nZVwiLGNvbG9yOlwiI0ZGN0QzN1wifV0sW1wicmVkXCIse25hbWU6XCJSZWRcIixjb2xvcjpcIiNGOTQxNDRcIn1dLFtcInllbGxvd1wiLHtuYW1lOlwiWWVsbG93XCIsY29sb3I6XCIjRjlDNzRGXCJ9XSxbXCJncmF5XCIse25hbWU6XCJHcmF5XCIsY29sb3I6XCIjODI4Nzg4XCJ9XV0pO3ZhciBudDshZnVuY3Rpb24oZSl7ZVtlLlRvcExlZnQ9MF09XCJUb3BMZWZ0XCIsZVtlLlRvcFJpZ2h0PTFdPVwiVG9wUmlnaHRcIixlW2UuQm90dG9tTGVmdD0yXT1cIkJvdHRvbUxlZnRcIixlW2UuQm90dG9tUmlnaHQ9M109XCJCb3R0b21SaWdodFwiLGVbZS5DZW50ZXI9NF09XCJDZW50ZXJcIn0obnR8fChudD17fSkpOygwLHJlLkEpKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1kb2NrYCk7Y29uc3QgcnQ9XCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIixvdD1vLkFUJiZvLmNJJiZuZXcgeC5EZXhpZShEKFwiZG9jay1wcm92aWRlci1jb25maWdzXCIpKTtvdCYmb3QudmVyc2lvbiguMSkuc3RvcmVzKHtbcnRdOlwiXCJ9KTtjb25zdCBpdD1cIndvcmtzcGFjZXNcIjtvLkFUJiZvLmNJJiZUKFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLGl0KTthKDI1MCk7YSgxNzkpfSw2NzU6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtxVDooKT0+byx2YzooKT0+aH0pO3ZhciBuLHIsbyxpLHMsYyxkLGwsdSxwLGg7YSgxNzkpLGEoMjUwKTshZnVuY3Rpb24oZSl7ZS5VcmxDaGFuZ2U9XCJVUkxfQ0hBTkdFXCIsZS5WaWV3QWRkZWQ9XCJWSUVXX0FEREVEXCIsZS5WaWV3UmVtb3ZlZD1cIlZJRVdfUkVNT1ZFRFwiLGUuUGFnZUNvbnRleHRBZGRlZD1cIlBBR0VfQ09OVEVYVF9BRERFRFwiLGUuUGFnZUNvbnRleHRSZW1vdmVkPVwiUEFHRV9DT05URVhUX1JFTU9WRURcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLk5ld1dpbmRvdz1cIk5ld1dpbmRvd1wiLGUuTmV3UGFnZT1cIk5ld1BhZ2VcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5DbG9zZVdpbmRvdz1cIkNsb3NlV2luZG93XCIsZS5SZXN0b3JlQ2hhbmdlcz1cIlJlc3RvcmVDaGFuZ2VzXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZW5hbWVXb3Jrc3BhY2U9XCJSZW5hbWVXb3Jrc3BhY2VcIixlLlN3aXRjaFdvcmtzcGFjZT1cIlN3aXRjaFdvcmtzcGFjZVwiLGUuRGVsZXRlV29ya3NwYWNlPVwiRGVsZXRlV29ya3NwYWNlXCIsZS5Eb3dubG9hZHM9XCJEb3dubG9hZHNcIixlLk9wZW5TdG9yZWZyb250PVwiT3BlblN0b3JlZnJvbnRcIixlLk1hbmFnZURlc2t0b3BTaWduYWxzPVwiTWFuYWdlRGVza3RvcFNpZ25hbHNcIixlLkFwcGVhcmFuY2U9XCJBcHBlYXJhbmNlXCIsZS5RdWl0PVwiUXVpdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5MaWdodD1cImxpZ2h0XCIsZS5EYXJrPVwiZGFya1wiLGUuU3lzdGVtPVwic3lzdGVtXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5DbG9zZT1cIkNsb3NlXCIsZS5EdXBsaWNhdGU9XCJEdXBsaWNhdGVcIixlLlJlbmFtZT1cIlJlbmFtZVwiLGUuU2F2ZT1cIlNhdmVcIixlLlNhdmVBcz1cIlNhdmUgQXNcIixlLk5ld1BhZ2U9XCJOZXcgUGFnZVwiLGUuRGVsZXRlUGFnZT1cIkRlbGV0ZSBQYWdlXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLlJlZnJlc2g9XCJSZWZyZXNoXCIsZS5DbG9zZU90aGVycz1cIkNsb3NlIG90aGVyc1wiLGUuRGVsZXRlPVwiRGVsZXRlXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5NYW5hZ2VEZXNrdG9wU2lnbmFscz1cIk1hbmFnZURlc2t0b3BTaWduYWxzXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLkN1c3RvbT1cIkN1c3RvbVwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jaz1cIkxvY2tcIixlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQWRkVG9DaGFuZWw9XCJBZGRUb0NoYW5uZWxcIixlLk1hbmFnZURlc2t0b3BTaWduYWxzPVwiTWFuYWdlRGVza3RvcFNpZ25hbHNcIixlLlByaW50PVwiUHJpbnRcIixlLlBpbj1cIlBpblwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuRWRpdE5hbWU9XCJFZGl0IE5hbWVcIixlLk1vdmU9XCJNb3ZlXCIsZS5EZWxldGU9XCJEZWxldGVcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLk5ld1ZpZXc9XCJOZXdWaWV3XCIsZS5EdXBsaWNhdGVWaWV3cz1cIkR1cGxpY2F0ZVZpZXdcIixlLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI9XCJPcGVuV2l0aERlZmF1bHRCcm93c2VyXCIsZS5SZWxvYWRWaWV3cz1cIlJlbG9hZFRhYlwiLGUuQ2xvc2VWaWV3cz1cIkNsb3NlVGFiXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwiUmVtb3ZlRnJvbUNoYW5uZWxcIixlLkJhY2s9XCJCYWNrXCIsZS5Gb3J3YXJkPVwiRm9yd2FyZFwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGR8fChkPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkNvbG9yTGlua2luZz1cIkNvbG9yTGlua2luZ1wiLGUuUHJlc2V0TGF5b3V0cz1cIlByZXNldExheW91dHNcIixlLkxvY2tVbmxvY2tQYWdlPVwiTG9ja1VubG9ja1BhZ2VcIixlLlNhdmVNZW51PVwiU2F2ZU1lbnVcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLk1pbmltaXNlPVwiTWluaW1pc2VcIixlLk1heGltaXNlPVwiTWF4aW1pc2VcIixlLkNsb3NlPVwiQ2xvc2VcIixlLkN1c3RvbT1cIkN1c3RvbVwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cImJyb3dzZXJcIixlLlBsYXRmb3JtPVwicGxhdGZvcm1cIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbUJ1dHRvbj1cIkN1c3RvbUJ1dHRvblwiLGUuU3RvcmVDdXN0b21CdXR0b249XCJTdG9yZUN1c3RvbUJ1dHRvblwiLGUuQ3VzdG9tRHJvcGRvd25JdGVtPVwiQ3VzdG9tRHJvcGRvd25JdGVtXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PVwiU2F2ZUJ1dHRvbkNvbnRleHRNZW51XCIsZS5BUEk9XCJBUElcIn0oaHx8KGg9e30pKTt2YXIgZzshZnVuY3Rpb24oZSl7ZS5TQVZFX1BBR0U9XCJTQVZFX1BBR0VcIixlLlNBVkVfV09SS1NQQUNFPVwiU0FWRV9XT1JLU1BBQ0VcIixlLlNBVkVfUEFHRV9BUz1cIlNBVkVfUEFHRV9BU1wiLGUuU0FWRV9XT1JLU1BBQ0VfQVM9XCJTQVZFX1dPUktTUEFDRV9BU1wiLGUuUkVOQU1FX1BBR0U9XCJSRU5BTUVfUEFHRVwiLGUuUkVOQU1FX1dPUktTUEFDRT1cIlJFTkFNRV9XT1JLU1BBQ0VcIn0oZ3x8KGc9e30pKX0sMTI5OigpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsdCxhOyFmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KGV8fChlPXt9KSksZnVuY3Rpb24oZSl7ZS5Vc2VyQWN0aW9uPVwidXNlci1hY3Rpb25cIixlLkZvY3VzQ2hhbmdlPVwiZm9jdXMtY2hhbmdlXCIsZS5SZWxvYWQ9XCJyZWxvYWRcIn0odHx8KHQ9e30pKSxmdW5jdGlvbihlKXtlLkFjdGl2ZT1cImFjdGl2ZVwiLGUuRGVmYXVsdD1cImRlZmF1bHRcIn0oYXx8KGE9e30pKX0sNjAwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjshZnVuY3Rpb24oZSl7ZS5BY3Rpb25CdXR0b249XCJBY3Rpb25CdXR0b25cIixlLkRyb3Bkb3duQnV0dG9uPVwiRHJvcGRvd25CdXR0b25cIn0obnx8KG49e30pKX0sODcyOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbixyLG87IWZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0ob3x8KG89e30pKX0sMTc5OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthKDEyOSksYSg4NzIpLGEoNzEwKSxhKDE4NCksYSg2MDApfSw3MTA6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuLHI7IWZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHJ8fChyPXt9KSl9LDE4NDooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShufHwobj17fSkpfSwyNTA6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuOyFmdW5jdGlvbihlKXtlLkxlZnQ9XCJMZWZ0XCIsZS5SaWdodD1cIlJpZ2h0XCIsZS5Ub3A9XCJUb3BcIixlLkJvdHRvbT1cIkJvdHRvbVwifShufHwobj17fSkpfSw3OTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47YS5kKHQse0taOigpPT5vLE46KCk9PmksT0Y6KCk9Pm4sYlc6KCk9PnN9KSxmdW5jdGlvbihlKXtlLkxhdW5jaEFwcD1cImxhdW5jaEFwcFwiLGUuU2F2ZVBhZ2U9XCJzYXZlUGFnZVwiLGUuR2V0U2F2ZWRQYWdlPVwiZ2V0U2F2ZWRQYWdlXCIsZS5DcmVhdGVTYXZlZFBhZ2U9XCJjcmVhdGVTYXZlZFBhZ2VcIixlLlVwZGF0ZVNhdmVkUGFnZT1cInVwZGF0ZVNhdmVkUGFnZVwiLGUuRGVsZXRlU2F2ZWRQYWdlPVwiZGVsZXRlU2F2ZWRQYWdlXCIsZS5HZXRTYXZlZFBhZ2VzPVwiZ2V0U2F2ZWRQYWdlc1wiLGUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJjcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJ1cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJkZWxldGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZVBhZ2VGb3JXaW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hQYWdlc1RvV2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2hQYWdlc0Zyb21XaW5kb3dcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXJQYWdlc0ZvcldpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZT1cInNldEFjdGl2ZVBhZ2VcIixlLkFkZFBhZ2U9XCJhZGRQYWdlXCIsZS5BZGREZWZhdWx0UGFnZT1cImFkZERlZmF1bHRQYWdlXCIsZS5HZXRBbGxBdHRhY2hlZFBhZ2VzPVwiZ2V0QWxsQXR0YWNoZWRQYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUlkRm9yV2luZG93PVwiZ2V0QWN0aXZlUGFnZUlkRm9yV2luZG93XCIsZS5HZXRQYWdlc0ZvcldpbmRvdz1cImdldFBhZ2VzRm9yV2luZG93XCIsZS5HZXRQYWdlRm9yV2luZG93PVwiZ2V0UGFnZUZvcldpbmRvd1wiLGUuR2V0U2F2ZWRQYWdlTWV0YWRhdGE9XCJnZXRTYXZlZFBhZ2VNZXRhZGF0YVwiLGUuR2V0VW5pcXVlUGFnZVRpdGxlPVwiZ2V0VW5pcXVlUGFnZVRpdGxlXCIsZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJnZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLkdldFBhZ2VCeVZpZXdJZGVudGl0eT1cImdldFBhZ2VCeVZpZXdJZGVudGl0eVwiLGUuR2V0VGhlbWVzPVwiZ2V0VGhlbWVzXCIsZS5HZXRTZWxlY3RlZFNjaGVtZT1cImdldFNlbGVjdGVkU2NoZW1lXCIsZS5TZXRTZWxlY3RlZFNjaGVtZT1cInNldFNlbGVjdGVkU2NoZW1lXCIsZS5PcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPVwib3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsXCIsZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbD1cImludm9rZUN1c3RvbUFjdGlvbkludGVybmFsXCIsZS5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9XCJyZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWxcIixlLkdldFNhdmVkV29ya3NwYWNlPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VcIixlLkNyZWF0ZVNhdmVkV29ya3NwYWNlPVwiY3JlYXRlU2F2ZWRXb3Jrc3BhY2VcIixlLlVwZGF0ZVNhdmVkV29ya3NwYWNlPVwidXBkYXRlU2F2ZWRXb3Jrc3BhY2VcIixlLkRlbGV0ZVNhdmVkV29ya3NwYWNlPVwiZGVsZXRlU2F2ZWRXb3Jrc3BhY2VcIixlLkdldFNhdmVkV29ya3NwYWNlcz1cImdldFNhdmVkV29ya3NwYWNlc1wiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzTWV0YWRhdGE9XCJnZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YVwiLGUuU2F2ZVdvcmtzcGFjZT1cInNhdmVXb3Jrc3BhY2VcIixlLkdldEN1cnJlbnRXb3Jrc3BhY2U9XCJnZXRDdXJyZW50V29ya3NwYWNlXCIsZS5BcHBseVdvcmtzcGFjZT1cImFwcGx5V29ya3NwYWNlXCIsZS5SZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWw9XCJyZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWxcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwiLGUuSXNCcm93c2VySW5pdGlhbGl6ZWQ9XCJpc0Jyb3dzZXJJbml0aWFsaXplZFwiLGUuQW5hbHl0aWNzPVwiYW5hbHl0aWNzSW50ZXJuYWxcIixlLkdldExhbmd1YWdlPVwiZ2V0TGFuZ3VhZ2VcIixlLkdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWw9XCJnZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsXCIsZS5TZXRMYW5ndWFnZT1cInNldExhbmd1YWdlXCIsZS5HZXREb2NrUHJvdmlkZXJDb25maWc9XCJnZXREb2NrUHJvdmlkZXJDb25maWdcIixlLlNhdmVEb2NrUHJvdmlkZXJDb25maWc9XCJzYXZlRG9ja1Byb3ZpZGVyQ29uZmlnXCIsZS5IYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZT1cImhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlXCIsZS5TaG91bGRQYWdlQ2xvc2U9XCJzaG91bGRQYWdlQ2xvc2VcIixlLlNob3VsZFdpbmRvd0Nsb3NlPVwic2hvdWxkV2luZG93Q2xvc2VcIixlLkNvcHlQYWdlPVwiY29weVBhZ2VcIixlLkhhbmRsZVBhZ2VDaGFuZ2VzPVwiaGFuZGxlUGFnZUNoYW5nZXNcIixlLk1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWw9XCJtYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsXCIsZS5UcmFja1JlbW92ZWRUYWJJbnRlcm5hbD1cInRyYWNrUmVtb3ZlZFRhYkludGVybmFsXCIsZS5SZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsPVwicmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbFwiLGUuVHJhY2tWaXNpdGVkU2l0ZUludGVybmFsPVwidHJhY2tWaXNpdGVkU2l0ZUludGVybmFsXCIsZS5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsPVwiZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbFwiLGUuR2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsPVwiZ2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsXCIsZS5TZWFyY2hTaXRlc0ludGVybmFsPVwic2VhcmNoU2l0ZXNJbnRlcm5hbFwiLGUuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWw9XCJnZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbFwiLGUuR2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbD1cImdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWxcIixlLkhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWw9XCJoYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsXCIsZS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWw9XCJyZWZyZXNoQm9va21hcmtzSW50ZXJuYWxcIixlLkxhdW5jaEJvb2ttYXJrSW50ZXJuYWw9XCJsYXVuY2hCb29rbWFya0ludGVybmFsXCIsZS5HZXROb3RpZmljYXRpb25zQ29uZmlnPVwiZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZ1wiLGUuVXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsPVwidXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsXCIsZS5VcGRhdGVDb250ZW50TWVudUludGVybmFsPVwidXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbFwiLGUuTGF1bmNoRG9ja0VudHJ5SW50ZXJuYWw9XCJsYXVuY2hEb2NrRW50cnlJbnRlcm5hbFwiLGUuU2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWw9XCJzZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbFwiLGUuTmF2aWdhdGVDb250ZW50TWVudUludGVybmFsPVwibmF2aWdhdGVDb250ZW50TWVudUludGVybmFsXCIsZS5TZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsPVwic2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbFwiLGUuR2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsPVwiZ2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsXCIsZS5IYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsPVwiaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbFwiLGUuUmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw9XCJyZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbFwiLGUuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw9XCJhZGREb2NrRmF2b3JpdGVJbnRlcm5hbFwiLGUuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbD1cImZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWxcIixlLlNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsPVwic2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWxcIixlLlNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbD1cInNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbFwifShufHwobj17fSkpO2NvbnN0IHI9YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLG89YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcihlKSxhPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG47dHJ5e249YXdhaXQgdC5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGEpfWlmKFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbilyZXR1cm4gY29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uIFBsZWFzZSB1cGRhdGUgeW91ciB3b3Jrc3BhY2UgcGxhdGZvcm0uXCIpLG47aWYoXCJvYmplY3RcIj09dHlwZW9mIG4mJm4uaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoYSl9LGk9YXN5bmMgZT0+KGF3YWl0IG8oZSkscihlKSkscz1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBvKGUpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhMCE9PXQ/LmlzQnJvd3NlckluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlRhcmdldCBpcyBub3QgYSBCcm93c2VyLWVuYWJsZWQgV29ya3NwYWNlIFBsYXRmb3JtLlwiKTtyZXR1cm4gcihlKX19LDY5NTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49YSgxMDIpLHI9KGEoNzIzKSxhKDcwKSxhKDkwNSkpOygwLG4uQSkoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLCgwLG4uQSkoci5CVCl9LDkwNTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse0JUOigpPT5ufSk7Y29uc3Qgbj1cIl9fc2VhcmNoLW9wZW5maW4tYnJvd3Nlci1ob21lLXRvcGljX19cIjt2YXIgcixvOyFmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0ob3x8KG89e30pKX0sOTU3OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7cXE6KCk9PlMsbDU6KCk9PlB9KTt2YXIgbj1hKDg0Nykscj1hKDg5OCksbz1hKDcwKSxpPWEoMjU0KSxzPWEoNjc1KSxjPWEoODc3KSxkPWEubihjKSxsPWEoNjcpLHU9YS5uKGwpO2NvbnN0IHA9e2xpZ2h0OntzeW1ib2w6dSgpPy5zcmN8fFwiXCJ9LGRhcms6e3N5bWJvbDpkKCk/LnNyY3x8XCJcIn19O2EoNjk1KTt2YXIgaD1hKDc5KTtjb25zdCBnPVwiZGFya1wiLGY9e1tuLlBhbGV0dGUuYnJhbmRQcmltYXJ5XTpcIiMwQTc2RDNcIixbbi5QYWxldHRlLmJyYW5kUHJpbWFyeUFjdGl2ZV06XCIjMEE3MUM5XCIsW24uUGFsZXR0ZS5icmFuZFByaW1hcnlIb3Zlcl06XCIjMEI4NEVCXCIsW24uUGFsZXR0ZS5icmFuZFByaW1hcnlGb2N1c2VkXTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuYnJhbmRQcmltYXJ5VGV4dF06bi5Db2xvci53aGl0ZSxbbi5QYWxldHRlLnN0YXR1c1N1Y2Nlc3NdOm4uQ29sb3IuZnVuY3Rpb25hbDEsW24uUGFsZXR0ZS5zdGF0dXNXYXJuaW5nXTpuLkNvbG9yLmZ1bmN0aW9uYWwxMCxbbi5QYWxldHRlLnN0YXR1c0NyaXRpY2FsXTpuLkNvbG9yLmZ1bmN0aW9uYWw3LFtuLlBhbGV0dGUuc3RhdHVzQWN0aXZlXTpuLkNvbG9yLmZ1bmN0aW9uYWwzLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQxXTpcIiMwQTc2RDNcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMl06XCIjMDAwMDAwXCIsW24uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDNdOlwiIzAwMDAwMFwiLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ0XTpcIiMwMDAwMDBcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNV06XCIjMDAwMDAwXCIsW24uUGFsZXR0ZS5ib3JkZXJOZXV0cmFsXTpuLkNvbG9yLnNpbHZlckdyYXl9LG09ey4uLmYsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMV06bi5Db2xvci53aGl0ZSxbbi5QYWxldHRlLmJhY2tncm91bmQyXTpuLkNvbG9yLmxpZ2h0R3JheTEsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kM106bi5Db2xvci5saWdodEdyYXkyLFtuLlBhbGV0dGUuYmFja2dyb3VuZDRdOm4uQ29sb3IubGlnaHRHcmF5Myxbbi5QYWxldHRlLmJhY2tncm91bmQ1XTpuLkNvbG9yLmxpZ2h0R3JheTQsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNl06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnldOm4uQ29sb3IubGlnaHRHcmF5NCxbbi5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5QWN0aXZlXTpuLkNvbG9yLmxpZ2h0R3JheTRBY3RpdmUsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUhvdmVyXTpuLkNvbG9yLmxpZ2h0R3JheTRIb3Zlcixbbi5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5Rm9jdXNlZF06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeVRleHRdOm4uQ29sb3IuZGFya0dyYXk1LFtuLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpuLkNvbG9yLmxpZ2h0R3JheTMsW24uUGFsZXR0ZS5pbnB1dENvbG9yXTpuLkNvbG9yLmRhcmtHcmF5NSxbbi5QYWxldHRlLmlucHV0UGxhY2Vob2xkZXJdOm4uQ29sb3IuZGFya0dyYXkyLFtuLlBhbGV0dGUuaW5wdXREaXNhYmxlZF06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLmlucHV0Rm9jdXNlZF06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuaW5wdXRCb3JkZXJdOm4uQ29sb3IubmV1dHJhbEdyYXksW24uUGFsZXR0ZS50ZXh0RGVmYXVsdF06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS50ZXh0SGVscF06bi5Db2xvci5kYXJrR3JheTMsW24uUGFsZXR0ZS50ZXh0SW5hY3RpdmVdOm4uQ29sb3IubmV1dHJhbEdyYXl9LHc9ey4uLmYsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMV06bi5Db2xvci5kYXJrR3JheTYsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMl06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kM106bi5Db2xvci5kYXJrR3JheTQsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNF06bi5Db2xvci5kYXJrR3JheTMsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNV06bi5Db2xvci5kYXJrR3JheTIsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNl06bi5Db2xvci5kYXJrR3JheTEsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeV06bi5Db2xvci5kYXJrR3JheTIsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUFjdGl2ZV06bi5Db2xvci5kYXJrR3JheTJBY3RpdmUsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUhvdmVyXTpuLkNvbG9yLmRhcmtHcmF5MkhvdmVyLFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlGb2N1c2VkXTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlUZXh0XTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpuLkNvbG9yLmRhcmtHcmF5MSxbbi5QYWxldHRlLmlucHV0Q29sb3JdOm4uQ29sb3Iud2hpdGUsW24uUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpuLkNvbG9yLm5ldXRyYWxHcmF5LFtuLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dEJvcmRlcl06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLnRleHREZWZhdWx0XTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUudGV4dEhlbHBdOm4uQ29sb3IubGlnaHRHcmF5NSxbbi5QYWxldHRlLnRleHRJbmFjdGl2ZV06bi5Db2xvci5uZXV0cmFsR3JheX0seT1be2xhYmVsOlwiT3BlbkZpbiBEZWZhdWx0IExpZ2h0IGFuZCBEYXJrIFRoZW1lXCIscGFsZXR0ZXM6e2xpZ2h0OnsuLi5tLGJhY2tncm91bmRQcmltYXJ5Om4uQ29sb3IuZGFya0dyYXk1fSxkYXJrOnsuLi53LGJhY2tncm91bmRQcmltYXJ5Om4uQ29sb3IuZGFya0dyYXk1fX19XSxiPWU9Pntjb25zdHtiYWNrZ3JvdW5kOnQsZm9yZWdyb3VuZDphfT1lO3JldHVybntiYWNrZ3JvdW5kOnQsZm9yZWdyb3VuZDphPz9cIiNGRkZGRkZcIn19LGs9KGUsdCk9Pih7aWNvbnM6e3N5bWJvbDplLmJyYW5kPy5pY29ucz8uW3RdPy5zeW1ib2x8fHBbdF0uc3ltYm9sfX0pLHY9ZT0+e2NvbnN0e2xpZ2h0OnQsZGFyazphfT1cInBhbGV0dGVzXCJpbiBlP2UucGFsZXR0ZXM6e2xpZ2h0OmUucGFsZXR0ZSxkYXJrOmUucGFsZXR0ZX0sbz0oMCxyLktEKSh3LGEpLGk9KDAsci5LRCkobSx0KSxzPSgoZSx0KT0+e2NvbnN0IGE9ey4uLmV9LG49ey4uLnR9O2xldCBvPXQuYmFja2dyb3VuZFByaW1hcnk/KDAsci5wdSkodC5iYWNrZ3JvdW5kUHJpbWFyeSwhMCk6e30saT1lLmJhY2tncm91bmRQcmltYXJ5PygwLHIucHUpKGUuYmFja2dyb3VuZFByaW1hcnkpOnt9O3JldHVybiBvPXsuLi5vLC4uLm59LGk9ey4uLmksLi4uYX0se2xpZ2h0OnsuLi50LC4uLm99LGRhcms6ey4uLmUsLi4uaX19fSkoYSx0KSxjPXsuLi4oMCxuLmNyZWF0ZVRoZW1lKSh7Li4ubywuLi5zPy5kYXJrfSksYnJhbmQ6ayhlLFwiZGFya1wiKX0sZD17Li4uKDAsbi5jcmVhdGVUaGVtZSkoey4uLmksLi4ucz8ubGlnaHR9KSxicmFuZDprKGUsXCJsaWdodFwiKX0se2xpZ2h0OmwsZGFyazp1fT0oZT0+e2NvbnN0IHQ9T2JqZWN0LmtleXMoZS5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM/P3t9KTtpZih0Py5sZW5ndGgpe2NvbnN0IGE9e30sbj17fTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3Qgcj1lLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9yc1t0XTtcImJhY2tncm91bmRcImluIHI/KGFbdF09YihyKSxuW3RdPWIocikpOihhW3RdPWIoci5kYXJrPz9yLmxpZ2h0KSxuW3RdPWIoci5saWdodD8/ci5kYXJrKSl9KSkse2xpZ2h0Om4sZGFyazphfX1yZXR1cm57bGlnaHQ6bnVsbCxkYXJrOm51bGx9fSkoZSk7cmV0dXJuIGMubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzPXUsZC5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM9bCx7ZGFyazpjLGxpZ2h0OmR9fSxTPWFzeW5jIGU9Pntjb25zdHt0aGVtZXM6dCxzZWxlY3RlZFNjaGVtZTphfT1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1maW4/Ll9faW50ZXJuYWxfPy5pbml0aWFsT3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/Ll90aGVtZURhdGE7aWYoIXR8fGUudXVpZCE9PW8uJHAudXVpZClyZXR1cm57dGhlbWVzOmF3YWl0KDAsaS5BZykoZSkuVGhlbWUuZ2V0VGhlbWVzKCksc2VsZWN0ZWRTY2hlbWU6YXdhaXQoMCxpLkFnKShlKS5UaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpfTtyZXR1cm4gdH0pKGUpO3ZhciBuLHI7cmV0dXJuKG49dD8ubGVuZ3RoP3Q6eSxyPWEsbi5tYXAoKGU9Pntjb25zdCB0PVwicGFsZXR0ZXNcImluIGU/ZS5kZWZhdWx0Omcse2xpZ2h0OmEsZGFyazpufT12KGUpO3JldHVybntsYWJlbDplLmxhYmVsLGxvZ29Vcmw6ZS5sb2dvVXJsLHRoZW1lOntkYXJrOm4sbGlnaHQ6YX0sZGVmYXVsdFNjaGVtZTpyPz90fX0pKSlbMF19LFA9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxoLk4pKGV8fGZpbi5tZS5pZGVudGl0eSksYT1hd2FpdCB0LmRpc3BhdGNoKGguT0YuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKTtyZXR1cm4gYT09PXMucVQuU3lzdGVtP3dpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzP1wiZGFya1wiOlwibGlnaHRcIjphfX0sNDM4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7TVc6KCk9Pm4sdjE6KCk9PmN9KTt2YXIgbixyLG89YSg3MjMpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4td29ya3NwYWNlXCIsZS5PbGRXb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KHJ8fChyPXt9KSk7Y29uc3QgaT17dXVpZDpvLiRofSxzPShuLldvcmtzcGFjZSxlPT57aWYoIW8uY0kpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KSxjPSgpPT5zKGkpfSwxMDI6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtBOigpPT5vfSk7dmFyIG49YSg3MjMpO2NvbnN0IHI9bi5ZWSYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7ZnVuY3Rpb24gbyhlKXtsZXQgdDtjb25zdCBhPW5ldyBTZXQ7cmV0dXJuKCk9PntpZighbi5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCByO2NvbnN0IG89e2NsaWVudEFQSVZlcnNpb246bi5ldH0saT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpvfSk7cmV0dXJuIGkub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57YS5mb3JFYWNoKChlPT5lKCkpKSxhLmNsZWFyKCksY29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSx0PXZvaWQgMH0pKSxpfSkoKS50aGVuKChlPT4oZS5hZGREaXNjb25uZWN0aW9uTGlzdGVuZXI9ZT0+e2EuYWRkKGUpfSxlKSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19fSw3MjM6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuO2EuZCh0LHskaDooKT0+YyxBVDooKT0+aSxIZDooKT0+dSxZWTooKT0+byxiRDooKT0+aCxjSTooKT0+cixldDooKT0+ZyxmVDooKT0+bCx2TDooKT0+ZH0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0obnx8KG49e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sbz0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLGk9byYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixzPW8/d2luZG93Lm9yaWdpbjpuLkxvY2FsLGM9ciYmZmluLm1lLnV1aWQsZD1yJiZmaW4ubWUubmFtZSxsPXImJmZpbi5tZS5lbnRpdHlUeXBlLHU9KG4uTG9jYWwsbi5EZXYsbi5TdGFnaW5nLFwicHJvZFwiPT09bi5Qcm9kKSxwPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLGg9KHAoXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMi4zLjlcIikscChcImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlLzIyLjMuOVwiKSksZz0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmcChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZwKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiMjIuMy45XCIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfQlVJTERfU0hBJiZXT1JLU1BBQ0VfQlVJTERfU0hBfSw3ODY6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtBOigpPT5yfSk7Y29uc3Qgbj1cIm9mLXdvcmtzcGFjZS1cIjtjb25zdCByPW5ldyBjbGFzc3ttYXJrKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9YCl9bWFya1N0YXJ0KGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9LXN0YXJ0YCl9bWFya0VuZChlKXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfS1lbmRgKX1tYXJrRW5kQW5kTWVhc3VyZShlKXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfS1lbmRgKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7bn0ke2V9YCxgJHtufSR7ZX0tc3RhcnRgLGAke259JHtlfS1lbmRgKX1jYXRjaChlKXswfX1tYXJrQW5kTWVhc3VyZShlLHQpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9YCk7dHJ5e3JldHVybiBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke259JHtlfS1tZWFzdXJlYCxgJHtufSR7dH0tc3RhcnRgLGAke259JHtlfWApfWNhdGNoKGUpezB9fXJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlRW50cmllcygpe3JldHVybiBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWVhc3VyZVwiKS5maWx0ZXIoKGU9PmUubmFtZS5zdGFydHNXaXRoKG4pKSl9cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2UoKXtyZXR1cm4gdGhpcy5yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKS5tYXAoKGU9Pih7bmFtZTplLm5hbWUucmVwbGFjZShgJHtufWAsXCJcIikucmVwbGFjZShcIi1tZWFzdXJlXCIsXCJcIiksZHVyYXRpb246ZS5kdXJhdGlvbn0pKSl9fX0sMTgxOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbixyO2EuZCh0LHtBeTooKT0+c30pLGZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lL1wiLGUuSG9tZVNlYXJjaD1cIi9ob21lLz9kZWVwbGluaz1zZWFyY2hcIixlLkhvbWVQYWdlc1JlbmFtZT1cIi9ob21lL3BhZ2VzL3JlbmFtZS9cIixlLkRvY2s9XCIvZG9jay9cIixlLkRvY3M9XCIvcHJvdmlkZXIvZG9jcy9cIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udC9cIixlLkRlcHJlY2F0ZWRBbGVydD1cIi9wcm92aWRlci9kZXByZWNhdGVkLWFsZXJ0L1wiLGUuQW5hbHl0aWNzPVwiL3Byb3ZpZGVyL2FuYWx5dGljcy9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIi9icm93c2VyL1wiLGUuQnJvd3NlclBvcHVwTWVudT1cIi9wb3B1cC1tZW51L1wiLGUuQnJvd3NlclBvcHVwTWVudVNhdmVNb2RhbD1cIi9wb3B1cC1tZW51L3NhdmUtbW9kYWwvXCIsZS5Ccm93c2VyUG9wdXBNZW51TGF5b3V0cz1cIi9wb3B1cC1tZW51L2xheW91dHMvbGF5b3V0cy9cIixlLkJyb3dzZXJQb3B1cE1lbnVDb2xvckxpbmtpbmc9XCIvcG9wdXAtbWVudS9jb2xvci1saW5raW5nL2NvbG9yLWxpbmtpbmcvXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwiL2luZGljYXRvci9cIixlLkJyb3dzZXJQb3B1cE1lbnVBZGRyZXNzU2VhcmNoUmVzdWx0c1ZpZXc9XCIvcG9wdXAtbWVudS9hZGRyZXNzLXNlYXJjaC1yZXN1bHRzLXZpZXcvXCIsZS5SZXNwb25zZU1vZGFsPVwiL3BvcHVwLW1lbnUvcmVzcG9uc2UtbW9kYWwvXCIsZS5DbG9zZUNvbmZpcm1hdGlvbk1vZGFsPVwiL3BvcHVwLW1lbnUvY2xvc2UtY29uZmlybWF0aW9uLW1vZGFsL1wiLGUuRW50ZXJwcmlzZUJyb3dzZXI9XCIvZW50ZXJwcmlzZS9cIixlLkVudGVycHJpc2VMYW5kaW5nUGFnZT1cIi9lbnRlcnByaXNlL2xhbmRpbmcvXCIsZS5FbnRlcnByaXNlQ29udGV4dE1lbnU9XCIvY29udGV4dC1tZW51L1wiLGUuRW50ZXJwcmlzZUJvb2ttYXJrRGlhbG9nPVwiL2Jvb2ttYXJrLWRpYWxvZy9cIixlLkVudGVycHJpc2VBYm91dFBhZ2U9XCIvcG9wdXAtbWVudS9hYm91dC9cIixlLkRyb3Bkb3duTWVudT1cIi9kcm9wZG93bi1tZW51L1wiLGUuRW50ZXJwcmlzZURvY2s9XCIvZG9jay9cIixlLlpvb21Db250cm9sc0RpYWxvZz1cIi96b29tLWNvbnRyb2xzLWRpYWxvZy9cIixlLkRlc2t0b3BTaWduYWxzTW9kYWw9XCIvcG9wdXAtbWVudS9kZXNrdG9wLXNpZ25hbHMtbW9kYWwvXCJ9KHJ8fChyPXt9KSk7Y29uc3Qgbz17Li4ubiwuLi5yfTt2YXIgaTshZnVuY3Rpb24oZSl7ZS5TZWFyY2g9XCJzZWFyY2hcIn0oaXx8KGk9e30pKTtjb25zdCBzPW99LDUyMzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse1R0OigpPT5vfSk7dmFyIG4scj1hKDcyMyk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLkVudGVycHJpc2U9XCIvZW50ZXJwcmlzZVwiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXJcIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udFwiLGUuRG9jaz1cIi9kb2NrXCJ9KG58fChuPXt9KSk7ZnVuY3Rpb24gbyhlLHQpe2lmKCFyLllZKXRocm93IG5ldyBFcnJvcihcInJlc29sdmVBYnNvbHV0ZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtjb25zdCBhPXQ/P3dpbmRvdy5sb2NhdGlvbjtpZigvXig/OlthLXpdKzopP1xcL1xcLy9pLnRlc3QoZSkpcmV0dXJuIGU7Y29uc3Qgbj1gJHthLnByb3RvY29sfS8vJHthLmhvc3RuYW1lfWA7cmV0dXJuIG5ldyBVUkwoZSxuKS5ocmVmfX0sODk4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7S0Q6KCk9PmMsYjQ6KCk9PmkscHU6KCk9PnN9KTtjb25zdCBuPWU9PmUucmVwbGFjZSgvW15cXGQsXS9nLFwiXCIpLnNwbGl0KFwiLFwiKSxyPWU9PntpZihlLmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29sb3Igb2JqZWN0LCBjYW5ub3QgY29udmVydCB0byBIU0wuXCIpO2NvbnN0IHQ9ZVswXS8yNTUsYT1lWzFdLzI1NSxuPWVbMl0vMjU1LHI9TWF0aC5taW4odCxhLG4pLG89TWF0aC5tYXgodCxhLG4pLGk9by1yO2xldCBzPTAsYz0wLGQ9MDtyZXR1cm4gcz0wPT09aT8wOm89PT10PyhhLW4pL2klNjpvPT09YT8obi10KS9pKzI6KHQtYSkvaSs0LHM9TWF0aC5yb3VuZCg2MCpzKSxzPDAmJihzKz0zNjApLGQ9KG8rcikvMixjPTA9PWk/MDppLygxLU1hdGguYWJzKDIqZC0xKSksYz0rKDEwMCpjKS50b0ZpeGVkKDEpLGQ9KygxMDAqZCkudG9GaXhlZCgxKSx7aHNsOmBoc2woJHtzfSwgJHtjfSUsICR7ZH0lKWAsaHNsYTpgaHNsKCR7c30sICR7Y30lLCAke2R9JSwgMSlgLGh1ZTpzLGxpZ2h0bmVzczpkLHNhdHVyYXRpb246Y319LG89ZT0+e2lmKCFlLmluY2x1ZGVzKFwiI1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCB2YWx1ZSwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLiBIZXggdmFsdWUgYmVnaW5zIHdpdGggYSBoYXNodGFnLlwiKTtsZXQgdD0wLGE9MCxuPTA7aWYoND09PWUubGVuZ3RoKXQ9YDB4JHtlWzFdfSR7ZVsxXX1gLGE9YDB4JHtlWzJdfSR7ZVsyXX1gLG49YDB4JHtlWzNdfSR7ZVszXX1gO2Vsc2V7aWYoNyE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZyBsZW5ndGgsIGNhbm5vdCBjb252ZXJ0IHRvIFJHQi5cIik7dD1gMHgke2VbMV19JHtlWzJdfWAsYT1gMHgke2VbM119JHtlWzRdfWAsbj1gMHgke2VbNV19JHtlWzZdfWB9cmV0dXJuWyt0LCthLCtuXX0saT1lPT57Y29uc3QgdD1lO2lmKHQuc3RhcnRzV2l0aChcIiNcIikpe3JldHVybntyZ2I6byh0KS5qb2luKFwiLCBcIiksYWxwaGE6MX19Y29uc3QgYT10Lm1hdGNoKC9cXGR7MSwzfShcXC5cXGQrKT8vZyk7aWYoYSl7Y29uc3RbZSx0LG4scl09YTtyZXR1cm57cmdiOmAke2V9LCAke3R9LCAke259YCxhbHBoYTp2b2lkIDAhPT1yP3BhcnNlRmxvYXQocik6MX19cmV0dXJue3JnYjpvKGUpLmpvaW4oXCIsIFwiKSxhbHBoYToxfX0scz0oZSx0PSExKT0+e2NvbnN0IGE9KGU9PntpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDb2xvciBpcyBub3QgZGVmaW5lZFwiKTtjb25zdCB0PWUudG9Mb3dlckNhc2UoKTtsZXQgYTtpZih0LmluY2x1ZGVzKFwicmdiXCIpKXtjb25zdCBlPW4odCk7ZS5sZW5ndGg+MyYmZS5wb3AoKSxhPXIoZSkuaHVlfWlmKHQuaW5jbHVkZXMoXCIjXCIpKXtjb25zdCBlPW8odCk7YT1yKGUpLmh1ZX10LmluY2x1ZGVzKFwiaHNsXCIpJiYoYT1uKHQpWzBdKTtjb25zdCBpPWE/LnRvU3RyaW5nKCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBIdWUgd2FzIHVuYWJsZSB0byBiZSBleHRyYWN0ZWQgZnJvbSBcIiR7dH1cIiwgY2hlY2sgY29sb3IgZm9ybWF0LiBBY2NlcHRlZCBmb3JtYXRzIGFyZTogcmdiKCksIHJnYmEoKSwgaGV4LCBoc2woKSwgYW5kIGhzbGEoKWApO3JldHVybiBpfSkoZSk7cmV0dXJuIHQ/e2JhY2tncm91bmQxOmBoc2xhKCR7YX0sIDAlLCAxMDAlLCAxKWAsYmFja2dyb3VuZDI6YGhzbGEoJHthfSwgNjclLCA5OSUsIDEpYCxiYWNrZ3JvdW5kMzpgaHNsYSgke2F9LCAyNiUsIDk2JSwgMSlgLGJhY2tncm91bmQ0OmBoc2xhKCR7YX0sIDE1JSwgOTQlLCAxKWAsYmFja2dyb3VuZDU6YGhzbGEoJHthfSwgMTAlLCA4OCUsIDEpYCxiYWNrZ3JvdW5kNjpgaHNsYSgke2F9LCA4MCUsIDgwJSwgMSlgfTp7YmFja2dyb3VuZDE6YGhzbGEoJHthfSwgOCUsIDclLCAxKWAsYmFja2dyb3VuZDI6YGhzbGEoJHthfSwgOCUsIDEzJSwgMSlgLGJhY2tncm91bmQzOmBoc2xhKCR7YX0sIDklLCAxNSUsIDEpYCxiYWNrZ3JvdW5kNDpgaHNsYSgke2F9LCA2JSwgMjMlLCAxKWAsYmFja2dyb3VuZDU6YGhzbGEoJHthfSwgMjElLCAyOCUsIDEpYCxiYWNrZ3JvdW5kNjpgaHNsYSgke2F9LCA1JSwgNTElLCAxKWB9fSxjPShlLHQpPT57Y29uc3QgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgobj0+e2Fbbl09dFtuXT90W25dOmVbbl19KSksYX19LDI3NzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse29zOigpPT5pfSk7dmFyIG4scj1hKDcyMyk7YSg3MCksYSgyNTQpOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJCcm93c2VyXCIsZS5Eb2NrPVwiRG9ja1wiLGUuRW50ZXJwcmlzZURvY2s9XCJFbnRlcnByaXNlRG9ja1wiLGUuSG9tZT1cIkhvbWVcIixlLk5vdGlmaWNhdGlvbj1cIk5vdGlmaWNhdGlvblwiLGUuU3RvcmVmcm9udD1cIlN0b3JlZnJvbnRcIixlLlBsYXRmb3JtPVwiUGxhdGZvcm1cIixlLlRoZW1pbmc9XCJUaGVtaW5nXCIsZS5NaWNyb2Zsb3c9XCJNaWNyb2Zsb3dcIn0obnx8KG49e30pKTtjb25zdCBvPWFzeW5jKGUsdCxhPVwid29ya3NwYWNlLWxpY2Vuc2luZ1wiKT0+e2NvbnN0IG49e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxyLmV0LGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOnQuY29tcG9uZW50VmVyc2lvbnx8ci5ldCxhbGxvd2VkOnQuYWxsb3dlZCxyZWplY3Rpb25Db2RlOnQucmVqZWN0aW9uQ29kZX07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOmEsZGF0YTpufSl9O2NvbnN0IGk9ZT0+e28obi5Ob3RpZmljYXRpb24sZSl9O25ldyBNYXB9LDMzMzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3JldHVybiB2b2lkIDAhPT10eXBlb2YgY3J5cHRvJiZcInJhbmRvbVVVSURcImluIGNyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcIjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMFwiLnJlcGxhY2UoL1swMThdL2csKGU9PihlXmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj5lLzQpLnRvU3RyaW5nKDE2KSkpfWEuZCh0LHtOOigpPT5ufSl9LDcwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7JHA6KCk9PmwsSW86KCk9PmgsSXE6KCk9PmQsUTooKT0+bixUdjooKT0+dSxWMTooKT0+aSxWRTooKT0+cyxYcTooKT0+YyxoYjooKT0+cCx1cjooKT0+Z30pO3ZhciBuLHI9YSg0MzgpLG89YSg3MjMpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlclNhdmVNZW51PVwib3BlbmZpbi1icm93c2VyLXNhdmUtbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCIsZS5DbGFzc2ljV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLWNsYXNzaWMtd2luZG93XCIsZS5FbnRlcnByaXNlQ29udGV4dE1lbnU9XCJvcGVuZmluLWVudGVycHJpc2UtY29udGV4dC1tZW51XCIsZS5Ccm93c2VyQWRkcmVzc1NlYXJjaFByZWZpeD1cIm9wZW5maW4tYnJvd3Nlci1tZW51LWFkZHJlc3Mtc2VhcmNoLVwiLGUuRW50ZXJwcmlzZUJvb2ttYXJrRGlhbG9nV2luZG93PVwib3BlbmZpbi1lbnRlcnByaXNlLWJvb2ttYXJrLWRpYWxvZ1wiLGUuRHJvcGRvd25NZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWRyb3Bkb3duLW1lbnVcIixlLkRvY2tDb21wYW5pb249XCJvcGVuZmluLWRvY2stY29tcGFuaW9uXCIsZS5BSUNvbXBhbmlvblByZWZpeD1cIm9wZW5maW4tYWktY29tcGFuaW9uLVwiLGUuVXBkYXRlVmVyc2lvbk1vZGFsPVwiaGVyZS11cGRhdGUtdmVyc2lvbi1tb2RhbFwiLGUuWm9vbUNvbnRyb2xzRGlhbG9nPVwiaGVyZS16b29tLWNvbnRyb2xzLWRpYWxvZ1wiLGUuQWJvdXRQYWdlV2luZG93PVwiaGVyZS1hYm91dC1wYWdlXCIsZS5EZXNrdG9wU2lnbmFsc01vZGFsPVwiaGVyZS1kZXNrdG9wLXNpZ25hbHMtbW9kYWxcIn0obnx8KG49e30pKTtjb25zdCBpPWU9Pih7bGVmdDooZS5sZWZ0KyhlLnJpZ2h0Pz9lLmxlZnQrZS53aWR0aCkpLzIsdG9wOihlLnRvcCsoZS5ib3R0b20/P2UudG9wK2UuaGVpZ2h0KSkvMn0pLHM9ZT0+KHtsZWZ0OihlLmxlZnQrZS5yaWdodCkvMix0b3A6KGUudG9wK2UuYm90dG9tKS8yfSksYz0oZSx0KT0+e2NvbnN0IGE9dC53aWR0aC8yLG49dC5oZWlnaHQvMjtyZXR1cm57bGVmdDpNYXRoLnJvdW5kKGUubGVmdC1hKSx0b3A6TWF0aC5yb3VuZChlLnRvcC1uKSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH19O2Z1bmN0aW9uIGQoZSl7aWYoIW8uY0kpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgbD17bmFtZTpvLnZMLHV1aWQ6by4kaH07ZnVuY3Rpb24gdSgpe3JldHVybiBkKGwpfW4uSG9tZSxyLk1XLldvcmtzcGFjZSxuLkRvY2ssci5NVy5Xb3Jrc3BhY2Usbi5TdG9yZWZyb250LHIuTVcuV29ya3NwYWNlLHIuTVcuV29ya3NwYWNlLHIuTVcuV29ya3NwYWNlO2NvbnN0IHA9YXN5bmMgZT0+e3RyeXtjb25zdCB0PWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoe25hbWU6ZS5uYW1lLHV1aWQ6ZS51dWlkPz9maW4ubWUudXVpZH0pLmdldE9wdGlvbnMoKTtyZXR1cm4oXCJicm93c2VyXCI9PT10LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlfHxcImVudGVycHJpc2VcIj09PXQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUpJiZ0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlc31jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiaXNCcm93c2VyV2luZG93IGVycm9yOiBcIixlKSwhMX19O2FzeW5jIGZ1bmN0aW9uIGgoKXtjb25zdCBlPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpLHQ9YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PnAoZS5pZGVudGl0eSkpKSk7cmV0dXJuIGUuZmlsdGVyKCgoZSxhKT0+dFthXSkpfWFzeW5jIGZ1bmN0aW9uIGcoZSl7Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCk7cmV0dXJuW3QucHJpbWFyeU1vbml0b3IsLi4udC5ub25QcmltYXJ5TW9uaXRvcnNdLnJlZHVjZSgoKHQsYSk9Pntjb25zdCBuPWZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1lLnRvcCxuPWUubGVmdCxyPWUudG9wK2UuaGVpZ2h0LG89ZS5sZWZ0K2Uud2lkdGgsaT10Lm1vbml0b3JSZWN0LnRvcCxzPXQubW9uaXRvclJlY3QubGVmdCxjPXQubW9uaXRvclJlY3QuYm90dG9tLGQ9dC5tb25pdG9yUmVjdC5yaWdodDtpZihhPmN8fHI8aXx8bj5kfHxvPHMpcmV0dXJuIDA7Y29uc3QgbD1NYXRoLm1heChhLGkpLHU9TWF0aC5tYXgobixzKTtyZXR1cm4oTWF0aC5taW4ocixjKS1sKSooTWF0aC5taW4obyxkKS11KS8oZS5oZWlnaHQqZS53aWR0aCl9KGUsYSk7cmV0dXJuIG4+dC5wZXJjZW50YWdlP3twZXJjZW50YWdlOm4sbW9uaXRvcjphfTp0fSkse3BlcmNlbnRhZ2U6MCxtb25pdG9yOnQucHJpbWFyeU1vbml0b3J9KS5tb25pdG9yfX0sNDMyOmU9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9cmVxdWlyZShcIm9wZW5maW4tbm90aWZpY2F0aW9ucy9kaXN0L2NsaWVudC93aXRob3V0LWF1dG8tbGF1bmNoXCIpfSw5OTU6ZT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1yZXF1aXJlKFwidGl0bGUtY2FzZVwiKX19LHQ9e307ZnVuY3Rpb24gYShuKXt2YXIgcj10W25dO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHIuZXhwb3J0czt2YXIgbz10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXShvLG8uZXhwb3J0cyxhKSxvLmV4cG9ydHN9YS5uPWU9Pnt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gYS5kKHQse2E6dH0pLHR9LGEuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWEubyh0LG4pJiYhYS5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sYS5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxhLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBuPXt9OygoKT0+e1widXNlIHN0cmljdFwiO2EucihuKSxhLmQobix7ZGVyZWdpc3RlcjooKT0+aCxyZWdpc3RlcjooKT0+cH0pO3ZhciBlPWEoNDMyKSx0PWEoMjc3KSxyPWEoOTU3KSxvPXt9O2Zvcihjb25zdCB0IGluIGUpW1wiZGVmYXVsdFwiLFwicmVnaXN0ZXJcIixcImRlcmVnaXN0ZXJcIl0uaW5kZXhPZih0KTwwJiYob1t0XT0oKT0+ZVt0XSk7YS5kKG4sbyk7Y29uc3QgaT1hc3luYyB0PT57aWYodCBpbnN0YW5jZW9mIEVycm9yKXtsZXQgYT10Lm1lc3NhZ2U7aWYodC5tZXNzYWdlLmluY2x1ZGVzKFwicmVnaXN0ZXItbm90aWZpY2F0aW9ucy1wbGF0Zm9ybVwiKSl7aWYoYT1cIk5vdGlmaWNhdGlvbnMgcGxhdGZvcm1zIGFyZSBub3Qgc3VwcG9ydGVkIGluIHZlcnNpb25zIGJlbG93IDEuMTMuMCwgdHJ5IHVwZGF0aW5nIHlvdXIgbm90aWZpY2F0aW9ucy1zZXJ2aWNlLlwiLGU/LnByb3ZpZGVyPy5nZXRTdGF0dXMpe2NvbnN0e3ZlcnNpb246dH09YXdhaXQgZS5wcm92aWRlci5nZXRTdGF0dXMoKTthKz1gIFlvdXIgdmVyc2lvbiBpczogJHt0fWB9cmV0dXJuIGF9cmV0dXJuIHQubWVzc2FnZX1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OlwidW5rbm93biBlcnJvciByZWdpc3RlcmluZyBOb3RpZmljYXRpb25zXCJ9LHM9YXN5bmMgZT0+e2lmKGUgaW5zdGFuY2VvZiBFcnJvciYmZS5tZXNzYWdlLmluY2x1ZGVzKFwicmVnaXN0ZXItbm90aWZpY2F0aW9ucy1wbGF0Zm9ybVwiKSl0aHJvdyBuZXcgRXJyb3IoYXdhaXQgaShlKSk7dGhyb3cgZX0sYz1cIm9mLW5vdGlmaWNhdGlvbnMtc2VydmljZS12MVwiLGQ9XCJvZi13b3Jrc3BhY2Utbm90aWZpY2F0aW9ucy1zeW5jXCIsbD17Y2hhbm5lbE5hbWU6ZH0sdT1hc3luYyhlLHQpPT57Y29uc3QgYT10Lm5vdGlmaWNhdGlvbnNWZXJzaW9uLnN0YXJ0c1dpdGgoXCIyXCIpP2wuY2hhbm5lbE5hbWU6YyxuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChhLHt3YWl0OiExfSkscj10Lm5vdGlmaWNhdGlvbnNWZXJzaW9uLnN0YXJ0c1dpdGgoXCIyXCIpP1wicmVnaXN0ZXItcGxhdGZvcm1cIjpcInJlZ2lzdGVyLW5vdGlmaWNhdGlvbnMtcGxhdGZvcm1cIjthd2FpdCBuLmRpc3BhdGNoKHIsZSl9O2FzeW5jIGZ1bmN0aW9uIHAoYSl7dHJ5e2NvbnN0IG49YSYmXCJub3RpZmljYXRpb25zQ3VzdG9tTWFuaWZlc3RcImluIGE/e2N1c3RvbU1hbmlmZXN0OmEubm90aWZpY2F0aW9uc0N1c3RvbU1hbmlmZXN0fTp2b2lkIDA7biYmbi5jdXN0b21NYW5pZmVzdD8ubWFuaWZlc3RVdWlkJiYobC5jaGFubmVsTmFtZT1gJHtuLmN1c3RvbU1hbmlmZXN0Lm1hbmlmZXN0VXVpZH0tJHtkfWApO2NvbnN0IG89YXdhaXQgZS5yZWdpc3RlcihuKTtpZihhKXtjb25zdCBlPWF3YWl0KDAsci5xcSkoZmluLm1lLmlkZW50aXR5KSx0PVwibm90aWZpY2F0aW9uc1BsYXRmb3JtT3B0aW9uc1wiaW4gYT9hLm5vdGlmaWNhdGlvbnNQbGF0Zm9ybU9wdGlvbnM6YTthd2FpdCB1KHt0aGVtZTplLnRoZW1lLHNjaGVtZTplLmRlZmF1bHRTY2hlbWUsLi4udCx3b3Jrc3BhY2VQbGF0Zm9ybTp7aWRlbnRpdHk6ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHksYW5hbHl0aWNzOntpc1N1cHBvcnRlZDohMH19fSx7bm90aWZpY2F0aW9uc1ZlcnNpb246by5ub3RpZmljYXRpb25zVmVyc2lvbn0pfXJldHVybigwLHQub3MpKHthbGxvd2VkOiEwLGFwaVZlcnNpb246ZS5WRVJTSU9OLGNvbXBvbmVudFZlcnNpb246by5ub3RpZmljYXRpb25zVmVyc2lvbn0pLG99Y2F0Y2goYSl7KDAsdC5vcykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTphd2FpdCBpKGEpLGFwaVZlcnNpb246ZS5WRVJTSU9OfSksYXdhaXQgcyhhKX19Y29uc3QgaD1hc3luYyB0PT57dHJ5e2NvbnN0e3ZlcnNpb246YX09YXdhaXQgZS5wcm92aWRlci5nZXRTdGF0dXMoKTtpZihudWxsPT09YSl0aHJvdyBuZXcgRXJyb3IoXCJOb3RpZmljYXRpb25zIHNlcnZpY2UgaXMgbm90IGN1cnJlbnRseSBydW5uaW5nLlwiKTthd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT10Lm5vdGlmaWNhdGlvbnNWZXJzaW9uLnN0YXJ0c1dpdGgoXCIyXCIpP2wuY2hhbm5lbE5hbWU6YyxuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChhLHt3YWl0OiExfSkscj10Lm5vdGlmaWNhdGlvbnNWZXJzaW9uLnN0YXJ0c1dpdGgoXCIyXCIpP1wiZGVyZWdpc3Rlci1wbGF0Zm9ybVwiOlwiZGVyZWdpc3Rlci1ub3RpZmljYXRpb25zLXBsYXRmb3JtXCI7YXdhaXQgbi5kaXNwYXRjaChyLGUpfSkoe2lkOnR9LHtub3RpZmljYXRpb25zVmVyc2lvbjphfSl9Y2F0Y2goZSl7YXdhaXQgcyhlKX19fSkoKSxtb2R1bGUuZXhwb3J0cz1ufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdGlmaWNhdGlvbnMuanMubWFwIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5ub3RpZmljYXRpb25zPXQoKTplLm5vdGlmaWNhdGlvbnM9dCgpfSh0aGlzLCgoKT0+e3JldHVybiBlPXszMDg5OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5EZWZlcnJlZFByb21pc2U9Y2xhc3N7Y29uc3RydWN0b3IoKXtjb25zdCBlPW5ldyBQcm9taXNlKCgoZSx0KT0+e3RoaXMuX3Jlc29sdmU9ZSx0aGlzLl9yZWplY3Q9dH0pKTt0aGlzLl9wcm9taXNlPWV9Z2V0IHByb21pc2UoKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX1nZXQgcmVzb2x2ZSgpe3JldHVybiB0aGlzLl9yZXNvbHZlfWdldCByZWplY3QoKXtyZXR1cm4gdGhpcy5fcmVqZWN0fX19LDU4Nzk6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucmVnaXN0ZXI9dC5DaGFubmVsQ2xpZW50SGFuZGxlcnM9dm9pZCAwO2NvbnN0IGk9big1OTYwMykscj1uKDMzNjU3KSxvPW4oNzU3NjIpLGE9bigyNzE2Nykscz1uKDQ2NDUxKSxjPW4oNTIzMTUpO2NsYXNzIHV7fXQuQ2hhbm5lbENsaWVudEhhbmRsZXJzPXUsdS5oYW5kbGVEZWZhdWx0QWN0aW9uPSgpPT4hMSx1LmhhbmRsZUV2ZW50QWN0aW9uPWU9PnsoMCxyLmdldEV2ZW50Um91dGVyKSgpLmRpc3BhdGNoRXZlbnQoZSl9LHUuaGFuZGxlV2FybkFjdGlvbj1hc3luYyBlPT57YXdhaXQgby5Mb2cud2FybihlKX0sdS5oYW5kbGVEaXNjb25uZWN0aW9uPWFzeW5jKCk9PnsoMCxhLmdldENoYW5uZWxDbGllbnQpKCkmJihhd2FpdCBvLkxvZy53YXJuKFwiRGlzY29ubmVjdGVkIGZyb20gTm90aWZpY2F0aW9ucy4gUmVjb25uZWN0aW5nLi4uXCIpLCgwLGEuY2xlYXJBd2FpdGVkQ2hhbm5lbENsaWVudCkoKSxhd2FpdCBkKCksYXdhaXQgcCgpKX07bGV0IGw9bnVsbDt0LnJlZ2lzdGVyPWFzeW5jIGU9PntpZihsKXJldHVybiBsO3RyeXtyZXR1cm4gbD1mKGUpLGF3YWl0IGx9ZmluYWxseXtsPW51bGx9fTtjb25zdCBmPWFzeW5jIGU9PntpZihudWxsPT1lP3ZvaWQgMDplLmN1c3RvbU1hbmlmZXN0KXtpZighZS5jdXN0b21NYW5pZmVzdC5tYW5pZmVzdFVybCl0aHJvdyBuZXcgRXJyb3IoXCJtYW5pZmVzdFVybCBtdXN0IGJlIHByb3ZpZGVkLlwiKTtpZighZS5jdXN0b21NYW5pZmVzdC5tYW5pZmVzdFV1aWQpdGhyb3cgbmV3IEVycm9yKFwibWFuaWZlc3RVdWlkIG11c3QgYmUgcHJvdmlkZWQgYW5kIG11c3Qgbm90IGJlIGFuIGVtcHR5IHN0cmluZy5cIik7aWYoZS5jdXN0b21NYW5pZmVzdC5tYW5pZmVzdFV1aWQ9PT1pLlNFUlZJQ0VfQ0hBTk5FTCl0aHJvdyBuZXcgRXJyb3IoYG1hbmlmZXN0VXVpZCBtdXN0IG5vdCBiZSAke2kuU0VSVklDRV9DSEFOTkVMfWApO2EuQ2hhbm5lbENsaWVudENvbmZpZy5zZXJ2aWNlQ2hhbm5lbD1gJHtlLmN1c3RvbU1hbmlmZXN0Lm1hbmlmZXN0VXVpZH0tJHtpLlNFUlZJQ0VfQ0hBTk5FTH1gLGF3YWl0IGQoZS5jdXN0b21NYW5pZmVzdC5tYW5pZmVzdFVybCl9ZWxzZSBhLkNoYW5uZWxDbGllbnRDb25maWcuc2VydmljZUNoYW5uZWw9aS5TRVJWSUNFX0NIQU5ORUwsYXdhaXQgZCgpO3JldHVybiBhd2FpdCBwKCkse2NsaWVudEFQSVZlcnNpb246XCIyLjEyLjAtYWxwaGEtNDA3OVwiLG5vdGlmaWNhdGlvbnNWZXJzaW9uOihhd2FpdCgwLHMuZ2V0U3RhdHVzKSgpKS52ZXJzaW9ufHxcInVua25vd25cIn19LGQ9YXN5bmMgZT0+e3RyeXtjb25zdCB0PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ3aW5kb3dzXCIpLG49ZXx8XCJmaW5zOi8vc3lzdGVtLWFwcHMvbm90aWZpY2F0aW9uLWNlbnRlclwiO3Q/KGF3YWl0IG8uTG9nLmluZm8oXCJMYXVuY2hpbmcgTm90aWZpY2F0aW9ucyB2aWEgZmluLlN5c3RlbS5sYXVuY2hNYW5pZmVzdC4uLlwiKSxhd2FpdCBjLmZpbkNvbnRleHQuU3lzdGVtLmxhdW5jaE1hbmlmZXN0KG4se25vVWk6ITB9KSk6KGF3YWl0IG8uTG9nLmluZm8oXCJMYXVuY2hpbmcgTm90aWZpY2F0aW9ucyB2aWEgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIuLi5cIiksYXdhaXQgYy5maW5Db250ZXh0LlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIobikpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBFcnJvcj9hd2FpdCBvLkxvZy5lcnJvcihgRmFpbGVkIHRvIGxhdW5jaCBOb3RpZmljYXRpb25zIC0gJHtlLm5hbWV9OiAke2UubWVzc2FnZX1gKTphd2FpdCBvLkxvZy5lcnJvcihgRmFpbGVkIHRvIGxhdW5jaCBOb3RpZmljYXRpb25zIC0gJHtKU09OLnN0cmluZ2lmeShlKX1gKSxlfX0scD1hc3luYygpPT57dHJ5e2NvbnN0e2NoYW5uZWxDbGllbnRQcm9taXNlOmUsaXNJbml0OnR9PSgwLGEuaW5pdEF3YWl0ZWRDaGFubmVsQ2xpZW50KSgpLG49YXdhaXQgZTt0JiYobi5zZXREZWZhdWx0QWN0aW9uKHUuaGFuZGxlRGVmYXVsdEFjdGlvbiksbi5yZWdpc3RlcihcImV2ZW50XCIsdS5oYW5kbGVFdmVudEFjdGlvbiksbi5yZWdpc3RlcihcIldBUk5cIix1LmhhbmRsZVdhcm5BY3Rpb24pLG4ub25EaXNjb25uZWN0aW9uKHUuaGFuZGxlRGlzY29ubmVjdGlvbiksYy5maW5Db250ZXh0LldpbmRvdy53cmFwU3luYyhpLlNFUlZJQ0VfSURFTlRJVFkpLm9uY2UoXCJjbG9zZWRcIix1LmhhbmRsZURpc2Nvbm5lY3Rpb24pKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgRXJyb3I/YXdhaXQgby5Mb2cuZXJyb3IoYEZhaWxlZCB0byBjb25uZWN0IHRvIE5vdGlmaWNhdGlvbnMgLSAke2UubmFtZX06ICR7ZS5tZXNzYWdlfWApOmF3YWl0IG8uTG9nLmVycm9yKGBGYWlsZWQgdG8gY29ubmVjdCB0byBOb3RpZmljYXRpb25zIC0gJHtKU09OLnN0cmluZ2lmeShlKX1gKSxlfX19LDEzMTU0OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDE1OTE1OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDIyNzc3OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oMzA4OSk7YXN5bmMgZnVuY3Rpb24gcihlLHQpe2xldCBuPTA7Zm9yKGNvbnN0IGkgb2YgZSlhd2FpdCB0KGksbixlKSxuKyt9YXN5bmMgZnVuY3Rpb24gbyhlLHQpe2F3YWl0IFByb21pc2UuYWxsKGUubWFwKHQpKX1mdW5jdGlvbiBhKGUsdCxuKXtjb25zdCByPW5ldyBpLkRlZmVycmVkUHJvbWlzZSxvPWUuYWRkKCgoLi4uZSk9Pnt0KC4uLmUpJiYoby5yZW1vdmUoKSxyLnJlc29sdmUoKSl9KSk7cmV0dXJuIG4mJm4uY2F0Y2goKGU9PntvLnJlbW92ZSgpLHIucmVqZWN0KGUpfSkpLHMoci5wcm9taXNlKX1mdW5jdGlvbiBzKGUpe3JldHVybiBlLmNhdGNoKCgoKT0+e30pKSxlfXQuc2VyaWFsRm9yRWFjaD1yLHQuc2VyaWFsTWFwPWFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXTtyZXR1cm4gYXdhaXQgcihlLChhc3luYyhlLGkscik9PntuLnB1c2goYXdhaXQgdChlLGkscikpfSkpLG59LHQuc2VyaWFsRmlsdGVyPWFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXTtyZXR1cm4gYXdhaXQgcihlLChhc3luYyhlLGkscik9Pnthd2FpdCB0KGUsaSxyKSYmbi5wdXNoKGUpfSkpLG59LHQucGFyYWxsZWxGb3JFYWNoPW8sdC5wYXJhbGxlbE1hcD1hc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IG49W107cmV0dXJuIGF3YWl0IG8oZSwoYXN5bmMoZSxpLHIpPT57bltpXT1hd2FpdCB0KGUsaSxyKX0pKSxufSx0LnBhcmFsbGVsRmlsdGVyPWFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXTtyZXR1cm4gYXdhaXQgbyhlLChhc3luYyhlLGkscik9PntuW2ldPWF3YWl0IHQoZSxpLHIpfSkpLGUuZmlsdGVyKCgoZSx0KT0+blt0XSkpfSx0LndpdGhTdHJpY3RUaW1lb3V0PWZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPW5ldyBQcm9taXNlKCgodCxpKT0+c2V0VGltZW91dCgoKCk9PmkobmV3IEVycm9yKG4pKSksZSkpKTtyZXR1cm4gcyhQcm9taXNlLnJhY2UoW2ksdF0pKX0sdC53aXRoVGltZW91dD1mdW5jdGlvbihlLHQpe2NvbnN0IG49bmV3IFByb21pc2UoKHQ9PnNldFRpbWVvdXQoKCgpPT50KFshMCx2b2lkIDBdKSksZSkpKSxpPXQudGhlbigoZT0+WyExLGVdKSk7cmV0dXJuIFByb21pc2UucmFjZShbbixpXSl9LHQudW50aWxUcnVlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCgpP1Byb21pc2UucmVzb2x2ZSgpOmEoZSx0LG4pfSx0LnVudGlsU2lnbmFsPWEsdC5hbGxvd1JlamVjdD1zfSwyNzE2NzooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRDaGFubmVsQ2xpZW50PXQuY2xlYXJBd2FpdGVkQ2hhbm5lbENsaWVudD10LmluaXRBd2FpdGVkQ2hhbm5lbENsaWVudD10LkNoYW5uZWxDbGllbnRDb25maWc9dm9pZCAwO2NvbnN0IGk9big1OTYwMykscj1uKDc1NzYyKSxvPW4oNTIzMTUpO3QuQ2hhbm5lbENsaWVudENvbmZpZz17c2VydmljZUNoYW5uZWw6aS5TRVJWSUNFX0NIQU5ORUx9O2NvbnN0IGE9YXN5bmMoe3dhaXQ6ZX0pPT57YXdhaXQgci5Mb2cuaW5mbyhcIkNvbm5lY3RpbmcgdG8gTm90aWZpY2F0aW9ucy4uLlwiKTtjb25zdCBuPWF3YWl0IG8uZmluQ29udGV4dC5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdCh0LkNoYW5uZWxDbGllbnRDb25maWcuc2VydmljZUNoYW5uZWwse3dhaXQ6ZSxwYXlsb2FkOnt2ZXJzaW9uOlwiMi4xMi4wLWFscGhhLTQwNzlcIn19KTtyZXR1cm4gYXdhaXQgci5Mb2cuaW5mbyhcIlN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gTm90aWZpY2F0aW9ucy5cIiksbn07bGV0IHMsYzt0LmluaXRBd2FpdGVkQ2hhbm5lbENsaWVudD0oKT0+cz97Y2hhbm5lbENsaWVudFByb21pc2U6cyxpc0luaXQ6ITF9OihzPWEoe3dhaXQ6ITB9KSxzLmNhdGNoKChlPT4oMCx0LmNsZWFyQXdhaXRlZENoYW5uZWxDbGllbnQpKCkpKSx7Y2hhbm5lbENsaWVudFByb21pc2U6cyxpc0luaXQ6ITB9KSx0LmNsZWFyQXdhaXRlZENoYW5uZWxDbGllbnQ9KCk9PntzPW51bGx9LHQuZ2V0Q2hhbm5lbENsaWVudD1hc3luYygpPT5zfHwoYXN5bmMoKT0+e2lmKCFjKXt0cnl7Yz1hd2FpdCBhKHt3YWl0OiExfSksYy5zZXREZWZhdWx0QWN0aW9uKCgoKT0+ITEpKX1jYXRjaChlKXt0aHJvdyBhd2FpdCByLkxvZy5lcnJvcignQ291bGQgbm90IGZpbmQgY2hhbm5lbCBwcm92aWRlci4gRGlkIHlvdSBjYWxsIFwibm90aWZpY2F0aW9ucy5yZWdpc3RlcigpXCI/JyksZX1jLm9uRGlzY29ubmVjdGlvbigoKCk9PntjPW51bGx9KSl9cmV0dXJuIGN9KSgpfSwyODE3MzooZSx0KT0+e1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtsZXQgbjt0cnl7bj1KU09OLnN0cmluZ2lmeShlKX1jYXRjaChlKXtuPXR9cmV0dXJuIG59T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zZXRWYWxpZGF0aW9uTWV0aG9kPXQudmFsaWRhdGVFbnZpcm9ubWVudD10LnNhZmVTdHJpbmdpZnk9dC5zYW5pdGl6ZUV2ZW50VHlwZT10LnNhbml0aXplRnVuY3Rpb249dm9pZCAwLHQuc2FuaXRpemVGdW5jdGlvbj1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcmd1bWVudCBwYXNzZWQ6ICR7bihlLFwiVGhlIHByb3ZpZGVkIHZhbHVlXCIpfSBpcyBub3QgYSB2YWxpZCBmdW5jdGlvbmApO3JldHVybiBlfSx0LnNhbml0aXplRXZlbnRUeXBlPWZ1bmN0aW9uKGUpe2lmKFwibm90aWZpY2F0aW9uLWFjdGlvblwiPT09ZXx8XCJub3RpZmljYXRpb24tY3JlYXRlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tdG9hc3QtZGlzbWlzc2VkXCI9PT1lfHxcIm5vdGlmaWNhdGlvbi1jbG9zZWRcIj09PWV8fFwibm90aWZpY2F0aW9ucy1jb3VudC1jaGFuZ2VkXCI9PT1lfHxcIm5vdGlmaWNhdGlvbi1mb3JtLXN1Ym1pdHRlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tcmVtaW5kZXItY3JlYXRlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tcmVtaW5kZXItcmVtb3ZlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tZm9ybS12YWx1ZXMtY2hhbmdlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tc291bmQtdG9nZ2xlZFwiPT09ZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXJndW1lbnQgcGFzc2VkOiAke24oZSxcIlRoZSBwcm92aWRlZCBldmVudCB0eXBlXCIpfSBpcyBub3QgYSB2YWxpZCBOb3RpZmljYXRpb25zIGV2ZW50IHR5cGVgKX0sdC5zYWZlU3RyaW5naWZ5PW4sdC52YWxpZGF0ZUVudmlyb25tZW50PSgpPT57dGhyb3cgbmV3IEVycm9yKFwiZmluIGlzIG5vdCBkZWZpbmVkLiBUaGUgb3BlbmZpbi1ub3RpZmljYXRpb25zIG1vZHVsZSBpcyBvbmx5IGludGVuZGVkIGZvciB1c2UgaW4gYW4gT3BlbkZpbiBhcHBsaWNhdGlvbi5cIil9LHQuc2V0VmFsaWRhdGlvbk1ldGhvZD1lPT57dC52YWxpZGF0ZUVudmlyb25tZW50PWV9fSwzMzY1NzpmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciBpIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJnQuaW5kZXhPZihpKTwwJiYobltpXT1lW2ldKTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj0wO2ZvcihpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7cjxpLmxlbmd0aDtyKyspdC5pbmRleE9mKGlbcl0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGlbcl0pJiYobltpW3JdXT1lW2lbcl1dKX1yZXR1cm4gbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRFdmVudFJvdXRlcj10LmV2ZW50RW1pdHRlcj10LkV2ZW50Um91dGVyPXZvaWQgMDtjb25zdCByPW4oMzcwMDcpLG89big0MzgxNiksYT1uKDU5NjAzKTtjbGFzcyBze2NvbnN0cnVjdG9yKGUpe3RoaXMuX2VtaXR0ZXJQcm92aWRlcnM9e30sdGhpcy5fZGVzZXJpYWxpemVycz17fSx0aGlzLl9kZWZhdWx0RW1pdHRlcj1lfXJlZ2lzdGVyRW1pdHRlclByb3ZpZGVyKGUsdCl7dGhpcy5fZW1pdHRlclByb3ZpZGVyc1tlXT10fXJlZ2lzdGVyRGVzZXJpYWxpemVyKGUsdCl7dGhpcy5fZGVzZXJpYWxpemVyc1tlXT10fWRpc3BhdGNoRXZlbnQoZSl7Y29uc3R7dHlwZTp0LHRhcmdldDpufT1lLHI9aShlLFtcInR5cGVcIixcInRhcmdldFwiXSk7bGV0IHM7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBldmVudCwgbm8gdGFyZ2V0IHNwZWNpZmllZFwiKTtpZihcImRlZmF1bHRcIj09PW4pcz10aGlzLl9kZWZhdWx0RW1pdHRlcjtlbHNle2lmKCF0aGlzLl9lbWl0dGVyUHJvdmlkZXJzW24udHlwZV0pdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhcmdldCwgbm8gcHJvdmlkZXIgcmVnaXN0ZXJlZCBmb3IgJyR7bi50eXBlfSdgKTtzPXRoaXMuX2VtaXR0ZXJQcm92aWRlcnNbbi50eXBlXShuLmlkKX1jb25zdCBjPU9iamVjdC5hc3NpZ24oe3R5cGU6dH0sciksdT10aGlzLl9kZXNlcmlhbGl6ZXJzW3RdO3U/cy5lbWl0KHQsdShjKSk6XCJub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWRcIj09PXQ/ZnVuY3Rpb24oZSx0KXtsZXQgbj0hMTtlLnByZXZlbnREZWZhdWx0PSgpPT5uPSEwLHQuZW1pdChcIm5vdGlmaWNhdGlvbi1mb3JtLXN1Ym1pdHRlZFwiLGUpLG58fCgwLG8udHJ5U2VydmljZURpc3BhdGNoKShhLkFQSVRvcGljLlNFVF9GT1JNX1NUQVRVU19PUFRJT05TLHtmb3JtU3RhdHVzOlwic3VibWl0dGVkXCIsX25vdGlmaWNhdGlvbklkOmUubm90aWZpY2F0aW9uLmlkfSl9KGMscyk6cy5lbWl0KHQsYyl9fWxldCBjO3QuRXZlbnRSb3V0ZXI9cyx0LmV2ZW50RW1pdHRlcj1uZXcgci5FdmVudEVtaXR0ZXIsdC5nZXRFdmVudFJvdXRlcj1mdW5jdGlvbigpe3JldHVybiBjfHwoYz1uZXcgcyh0LmV2ZW50RW1pdHRlcikpLGN9fSwzMzcxMzooZSx0KT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuV2lkZ2V0VHlwZT10LlRpbWVXaWRnZXRUeXBlPXQuRGF0ZVdpZGdldFR5cGU9dC5SYWRpb0dyb3VwV2lkZ2V0VHlwZT10LkNoZWNrYm94R3JvdXBXaWRnZXRUeXBlPXQuQm9vbGVhbldpZGdldFR5cGU9dC5OdW1iZXJXaWRnZXRUeXBlPXQuU3RyaW5nV2lkZ2V0VHlwZT12b2lkIDAsdC5TdHJpbmdXaWRnZXRUeXBlPXtUZXh0OlwiVGV4dFwiLERyb3Bkb3duOlwiRHJvcGRvd25cIn0sdC5OdW1iZXJXaWRnZXRUeXBlPXtOdW1iZXI6XCJOdW1iZXJcIn0sdC5Cb29sZWFuV2lkZ2V0VHlwZT17VG9nZ2xlOlwiVG9nZ2xlXCIsQ2hlY2tib3g6XCJDaGVja2JveFwifSx0LkNoZWNrYm94R3JvdXBXaWRnZXRUeXBlPXtDaGVja2JveEdyb3VwOlwiQ2hlY2tib3hHcm91cFwifSx0LlJhZGlvR3JvdXBXaWRnZXRUeXBlPXtSYWRpb0dyb3VwOlwiUmFkaW9Hcm91cFwifSx0LkRhdGVXaWRnZXRUeXBlPXtEYXRlOlwiRGF0ZVwifSx0LlRpbWVXaWRnZXRUeXBlPXtUaW1lOlwiVGltZVwifSx0LldpZGdldFR5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LlN0cmluZ1dpZGdldFR5cGUpLHQuTnVtYmVyV2lkZ2V0VHlwZSksdC5Cb29sZWFuV2lkZ2V0VHlwZSksdC5DaGVja2JveEdyb3VwV2lkZ2V0VHlwZSksdC5SYWRpb0dyb3VwV2lkZ2V0VHlwZSksdC5EYXRlV2lkZ2V0VHlwZSksdC5UaW1lV2lkZ2V0VHlwZSl9LDM3MDA3OmU9PntcInVzZSBzdHJpY3RcIjt2YXIgdCxuPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxpPW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uYXBwbHk/bi5hcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsdCxuKX07dD1uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm93bktleXM/bi5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgcj1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiBvKCl7by5pbml0LmNhbGwodGhpcyl9ZS5leHBvcnRzPW8sZS5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7ZnVuY3Rpb24gcihuKXtlLnJlbW92ZUxpc3RlbmVyKHQsbyksaShuKX1mdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsciksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWgoZSx0LG8se29uY2U6ITB9KSxcImVycm9yXCIhPT10JiZmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUub24mJmgoZSxcImVycm9yXCIsdCx7b25jZTohMH0pfShlLHIpfSkpfSxvLkV2ZW50RW1pdHRlcj1vLG8ucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLG8ucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLG8ucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBhPTEwO2Z1bmN0aW9uIHMoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKX1mdW5jdGlvbiBjKGUpe3JldHVybiB2b2lkIDA9PT1lLl9tYXhMaXN0ZW5lcnM/by5kZWZhdWx0TWF4TGlzdGVuZXJzOmUuX21heExpc3RlbmVyc31mdW5jdGlvbiB1KGUsdCxuLGkpe3ZhciByLG8sYSx1O2lmKHMobiksdm9pZCAwPT09KG89ZS5fZXZlbnRzKT8obz1lLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSxlLl9ldmVudHNDb3VudD0wKToodm9pZCAwIT09by5uZXdMaXN0ZW5lciYmKGUuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksbz1lLl9ldmVudHMpLGE9b1t0XSksdm9pZCAwPT09YSlhPW9bdF09biwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYT9hPW9bdF09aT9bbixhXTpbYSxuXTppP2EudW5zaGlmdChuKTphLnB1c2gobiksKHI9YyhlKSk+MCYmYS5sZW5ndGg+ciYmIWEud2FybmVkKXthLndhcm5lZD0hMDt2YXIgbD1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK2EubGVuZ3RoK1wiIFwiK1N0cmluZyh0KStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO2wubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGwuZW1pdHRlcj1lLGwudHlwZT10LGwuY291bnQ9YS5sZW5ndGgsdT1sLGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKHUpfXJldHVybiBlfWZ1bmN0aW9uIGwoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciBpPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDplLHR5cGU6dCxsaXN0ZW5lcjpufSxyPWwuYmluZChpKTtyZXR1cm4gci5saXN0ZW5lcj1uLGkud3JhcEZuPXIscn1mdW5jdGlvbiBkKGUsdCxuKXt2YXIgaT1lLl9ldmVudHM7aWYodm9pZCAwPT09aSlyZXR1cm5bXTt2YXIgcj1pW3RdO3JldHVybiB2b2lkIDA9PT1yP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIHI/bj9bci5saXN0ZW5lcnx8cl06W3JdOm4/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7KytuKXRbbl09ZVtuXS5saXN0ZW5lcnx8ZVtuXTtyZXR1cm4gdH0ocik6dihyLHIubGVuZ3RoKX1mdW5jdGlvbiBwKGUpe3ZhciB0PXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT10KXt2YXIgbj10W2VdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIDE7aWYodm9pZCAwIT09bilyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbj1uZXcgQXJyYXkodCksaT0wO2k8dDsrK2kpbltpXT1lW2ldO3JldHVybiBufWZ1bmN0aW9uIGgoZSx0LG4saSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbilpLm9uY2U/ZS5vbmNlKHQsbik6ZS5vbih0LG4pO2Vsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpO2UuYWRkRXZlbnRMaXN0ZW5lcih0LChmdW5jdGlvbiByKG8pe2kub25jZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsciksbihvKX0pKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldDpmdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxyKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTthPWV9fSksby5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0sby5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fHIoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxvLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzKX0sby5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7dmFyIHI9XCJlcnJvclwiPT09ZSxvPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1vKXI9ciYmdm9pZCAwPT09by5lcnJvcjtlbHNlIGlmKCFyKXJldHVybiExO2lmKHIpe3ZhciBhO2lmKHQubGVuZ3RoPjAmJihhPXRbMF0pLGEgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBhO3ZhciBzPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisoYT9cIiAoXCIrYS5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBzLmNvbnRleHQ9YSxzfXZhciBjPW9bZV07aWYodm9pZCAwPT09YylyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjKWkoYyx0aGlzLHQpO2Vsc2V7dmFyIHU9Yy5sZW5ndGgsbD12KGMsdSk7Zm9yKG49MDtuPHU7KytuKWkobFtuXSx0aGlzLHQpfXJldHVybiEwfSxvLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB1KHRoaXMsZSx0LCExKX0sby5wcm90b3R5cGUub249by5wcm90b3R5cGUuYWRkTGlzdGVuZXIsby5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUodGhpcyxlLHQsITApfSxvLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHModCksdGhpcy5vbihlLGYodGhpcyxlLHQpKSx0aGlzfSxvLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHModCksdGhpcy5wcmVwZW5kTGlzdGVuZXIoZSxmKHRoaXMsZSx0KSksdGhpc30sby5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIsbyxhO2lmKHModCksdm9pZCAwPT09KGk9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obj1pW2VdKSlyZXR1cm4gdGhpcztpZihuPT09dHx8bi5saXN0ZW5lcj09PXQpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIGlbZV0saS5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLG4ubGlzdGVuZXJ8fHQpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pe2ZvcihyPS0xLG89bi5sZW5ndGgtMTtvPj0wO28tLSlpZihuW29dPT09dHx8bltvXS5saXN0ZW5lcj09PXQpe2E9bltvXS5saXN0ZW5lcixyPW87YnJlYWt9aWYocjwwKXJldHVybiB0aGlzOzA9PT1yP24uc2hpZnQoKTpmdW5jdGlvbihlLHQpe2Zvcig7dCsxPGUubGVuZ3RoO3QrKyllW3RdPWVbdCsxXTtlLnBvcCgpfShuLHIpLDE9PT1uLmxlbmd0aCYmKGlbZV09blswXSksdm9pZCAwIT09aS5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLGF8fHQpfXJldHVybiB0aGlzfSxvLnByb3RvdHlwZS5vZmY9by5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsby5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4saTtpZih2b2lkIDA9PT0obj10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PW4ucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTp2b2lkIDAhPT1uW2VdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgbltlXSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHIsbz1PYmplY3Qua2V5cyhuKTtmb3IoaT0wO2k8by5sZW5ndGg7KytpKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShyPW9baV0pJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhyKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YodD1uW2VdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCk7ZWxzZSBpZih2b2lkIDAhPT10KWZvcihpPXQubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHRbaV0pO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGQodGhpcyxlLCEwKX0sby5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBkKHRoaXMsZSwhMSl9LG8ubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUubGlzdGVuZXJDb3VudD9lLmxpc3RlbmVyQ291bnQodCk6cC5jYWxsKGUsdCl9LG8ucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9cCxvLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/dCh0aGlzLl9ldmVudHMpOltdfX0sNDA2NTE6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwiLlwiKSxpPXQuc3BsaXQoXCIuXCIpLHI9MDtyPDM7cisrKXt2YXIgbz1OdW1iZXIobltyXSksYT1OdW1iZXIoaVtyXSk7aWYobz5hKXJldHVybiAxO2lmKGE+bylyZXR1cm4tMTtpZighaXNOYU4obykmJmlzTmFOKGEpKXJldHVybiAxO2lmKGlzTmFOKG8pJiYhaXNOYU4oYSkpcmV0dXJuLTF9cmV0dXJuIDB9fSw0MDcwNzpmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pO3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTtyJiYhKFwiZ2V0XCJpbiByPyF0Ll9fZXNNb2R1bGU6ci53cml0YWJsZXx8ci5jb25maWd1cmFibGUpfHwocj17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHIpfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KX06ZnVuY3Rpb24oZSx0KXtlLmRlZmF1bHQ9dH0pLG89dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiIT09biYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJmkodCxlLG4pO3JldHVybiByKHQsZSksdH0sYT10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pfHxpKHQsZSxuKX0scz10aGlzJiZ0aGlzLl9fcmVzdHx8ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyPGkubGVuZ3RoO3IrKyl0LmluZGV4T2YoaVtyXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtyXSkmJihuW2lbcl1dPWVbaVtyXV0pfXJldHVybiBufTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNldEFsbG93ZWRPcmlnaW5zPXQuZ2V0VXNlclNldHRpbmdTdGF0dXM9dC5Vc2VyU2V0dGluZ3M9dC5nZXROb3RpZmljYXRpb25zQ291bnQ9dC5oaWRlPXQuc2hvdz10LnNldERlZmF1bHRQbGF0Zm9ybVNob3J0Y3V0PXQudG9nZ2xlTm90aWZpY2F0aW9uQ2VudGVyPXQuY2xlYXJBbGw9dC5nZXRBbGw9dC5jbGVhcj10LnVwZGF0ZT10LmNyZWF0ZT10LnJlbW92ZUV2ZW50TGlzdGVuZXI9dC5hZGRFdmVudExpc3RlbmVyPXQuVkVSU0lPTj10Lk5vdGlmaWNhdGlvbkluZGljYXRvclR5cGU9dC5JbmRpY2F0b3JDb2xvcj10Lk5vdGlmaWNhdGlvbkluZGljYXRvcldpdGhDdXN0b21Db2xvcj10Lk5vdGlmaWNhdGlvbkluZGljYXRvcj10Lk5vdGlmaWNhdGlvbk9wdGlvbnM9dC5wcm92aWRlcj10LmFjdGlvbnM9dm9pZCAwO2NvbnN0IGM9big4NjQ1NSksdT1uKDQzODE2KSxsPW4oNTk2MDMpLGY9bigzMzY1NyksZD1vKG4oNDY0NTEpKTt0LnByb3ZpZGVyPWQ7Y29uc3QgcD1uKDI4MTczKSx2PW4oNDY4NjUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiTm90aWZpY2F0aW9uSW5kaWNhdG9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYuTm90aWZpY2F0aW9uSW5kaWNhdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiTm90aWZpY2F0aW9uSW5kaWNhdG9yV2l0aEN1c3RvbUNvbG9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHYuTm90aWZpY2F0aW9uSW5kaWNhdG9yV2l0aEN1c3RvbUNvbG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiTm90aWZpY2F0aW9uSW5kaWNhdG9yVHlwZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2LkluZGljYXRvclR5cGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJJbmRpY2F0b3JDb2xvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2LkluZGljYXRvckNvbG9yfX0pO2NvbnN0IGg9big0NDQxNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJOb3RpZmljYXRpb25PcHRpb25zXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguTm90aWZpY2F0aW9uT3B0aW9uc319KTtjb25zdCBnPW8obig4NjQ1NSkpO3QuYWN0aW9ucz1nLGEobig4NjQ1NSksdCksYShuKDg3MjA0KSx0KSxhKG4oNTAyOTUpLHQpLGEobig2ODkxMiksdCksYShuKDEzMTU0KSx0KSxhKG4oNzUwNTApLHQpLGEobig5MDUxMiksdCksdC5WRVJTSU9OPVwiMi4xMi4wLWFscGhhLTQwNzlcIjtjb25zdCBtPSgwLGYuZ2V0RXZlbnRSb3V0ZXIpKCk7ZnVuY3Rpb24geShlKXtjb25zdHtub3RpZmljYXRpb246dH09ZTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtub3RpZmljYXRpb246T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtkYXRlOm5ldyBEYXRlKHQuZGF0ZSksZXhwaXJlczpudWxsIT09dC5leHBpcmVzP25ldyBEYXRlKHQuZXhwaXJlcyk6bnVsbH0pfSl9bS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1jcmVhdGVkXCIsKGU9PnkoZSkpKSxtLnJlZ2lzdGVyRGVzZXJpYWxpemVyKFwibm90aWZpY2F0aW9uLXRvYXN0LWRpc21pc3NlZFwiLChlPT55KGUpKSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1jbG9zZWRcIiwoZT0+eShlKSkpLG0ucmVnaXN0ZXJEZXNlcmlhbGl6ZXIoXCJub3RpZmljYXRpb24tYWN0aW9uXCIsKGU9Pnt2YXIgdDtjb25zdCBuPXkoZSkse2NvbnRyb2xTb3VyY2U6aSxjb250cm9sSW5kZXg6cn09bixvPXMobixbXCJjb250cm9sU291cmNlXCIsXCJjb250cm9sSW5kZXhcIl0pO3JldHVybiBlLnRyaWdnZXI9PT1jLkFjdGlvblRyaWdnZXIuQ09OVFJPTD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbykse2NvbnRyb2w6bnVsbD09PSh0PWUubm90aWZpY2F0aW9uW2ldKXx8dm9pZCAwPT09dD92b2lkIDA6dFtyXX0pOm99KSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbnMtY291bnQtY2hhbmdlZFwiLChlPT5lKSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1yZW1pbmRlci1jcmVhdGVkXCIsKGU9Pntjb25zdCB0PXkoZSkse3JlbWluZGVyRGF0ZTpufT10LGk9cyh0LFtcInJlbWluZGVyRGF0ZVwiXSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7cmVtaW5kZXJEYXRlOm5ldyBEYXRlKG4pfSl9KSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1yZW1pbmRlci1yZW1vdmVkXCIsKGU9PnkoZSkpKSxtLnJlZ2lzdGVyRGVzZXJpYWxpemVyKFwibm90aWZpY2F0aW9uLXNvdW5kLXRvZ2dsZWRcIiwoZT0+ZSkpLHQuYWRkRXZlbnRMaXN0ZW5lcj1hc3luYyBmdW5jdGlvbihlLHQpeygwLHAudmFsaWRhdGVFbnZpcm9ubWVudCkoKSxlPSgwLHAuc2FuaXRpemVFdmVudFR5cGUpKGUpLHQ9KDAscC5zYW5pdGl6ZUZ1bmN0aW9uKSh0KTtjb25zdCBuPWYuZXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQoZSk7XCJub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWRcIj09PWUmJih0PWZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj10Lm5vdGlmaWNhdGlvbi5pZDt0LnNldEZvcm1TdGF0dXM9ZT0+KDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuU0VUX0ZPUk1fU1RBVFVTX09QVElPTlMsT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtfbm90aWZpY2F0aW9uSWQ6bn0pKSxlKHQpfX0odCkpLFwibm90aWZpY2F0aW9uLWZvcm0tdmFsdWVzLWNoYW5nZWRcIj09PWUmJih0PWZ1bmN0aW9uKGUpe3JldHVybiB0PT57dC5zZXRFcnJvcnM9ZT0+KDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuU0VUX0ZPUk1fVkFMSURBVElPTl9FUlJPUlMse2Vycm9yczplLG5vdGlmaWNhdGlvbklkOnQubm90aWZpY2F0aW9uLmlkfSksZSh0KX19KHQpKSxmLmV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcihlLHQpLDA9PT1uJiYxPT09Zi5ldmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudChlKSYmYXdhaXQoMCx1LnRyeVNlcnZpY2VEaXNwYXRjaCkobC5BUElUb3BpYy5BRERfRVZFTlRfTElTVEVORVIsZSl9LHQucmVtb3ZlRXZlbnRMaXN0ZW5lcj1hc3luYyBmdW5jdGlvbihlLHQpeygwLHAudmFsaWRhdGVFbnZpcm9ubWVudCkoKSxlPSgwLHAuc2FuaXRpemVFdmVudFR5cGUpKGUpLHQ9KDAscC5zYW5pdGl6ZUZ1bmN0aW9uKSh0KSwxPT09Zi5ldmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudChlKSYmZi5ldmVudEVtaXR0ZXIubGlzdGVuZXJzKGUpWzBdPT09dCYmYXdhaXQoMCx1LnRyeVNlcnZpY2VEaXNwYXRjaCkobC5BUElUb3BpYy5SRU1PVkVfRVZFTlRfTElTVEVORVIsZSksZi5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZSx0KX0sdC5jcmVhdGU9YXN5bmMgZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlOiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBhbmQgbXVzdCBub3QgYmUgbnVsbFwiKTtpZih2b2lkIDAhPT1lLmRhdGUmJiEoZS5kYXRlIGluc3RhbmNlb2YgRGF0ZSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGU6IFwiZGF0ZVwiIG11c3QgYmUgYSB2YWxpZCBEYXRlIG9iamVjdCcpO2lmKHZvaWQgMCE9PWUuZXhwaXJlcyYmbnVsbCE9PWUuZXhwaXJlcyYmIShlLmV4cGlyZXMgaW5zdGFuY2VvZiBEYXRlKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZTogXCJleHBpcmVzXCIgbXVzdCBiZSBudWxsIG9yIGEgdmFsaWQgRGF0ZSBvYmplY3QnKTtpZih0JiZ0LnJlbWluZGVyRGF0ZSl7aWYoITE9PT1lLmFsbG93UmVtaW5kZXIpdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBub3Qgc3BlY2lmeSBhIHJlbWluZGVyIGRhdGUgZm9yIGEgbm90aWZpY2F0aW9uIHdpdGggXCJhbGxvd1JlbWluZGVyXCIgb3B0aW9uIHNldCB0byBmYWxzZS4nKTtpZighKHQucmVtaW5kZXJEYXRlIGluc3RhbmNlb2YgRGF0ZSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byByZW1pbmRlciBPcHRpb25zOiBcImRhdGVcIiBtdXN0IGEgdmFsaWQgRGF0ZSBvYmplY3QnKTtpZihlLmV4cGlyZXMmJmUuZXhwaXJlcy5nZXRUaW1lKCk8dC5yZW1pbmRlckRhdGUuZ2V0VGltZSgpKXRocm93IG5ldyBFcnJvcihcIkV4cGlyYXRpb24gZGF0ZSBtdXN0IG5vdCBiZSBlYXJsaWVyIHRoYW4gcmVtaW5kZXIgZGF0ZS5cIil9dm9pZCAwIT09ZS5jYXRlZ29yeSYmbnVsbCE9PWUuY2F0ZWdvcnl8fChlLmNhdGVnb3J5PVwiZGVmYXVsdFwiKTtjb25zdCBuPWF3YWl0KDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuQ1JFQVRFX05PVElGSUNBVElPTixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2RhdGU6ZS5kYXRlJiZlLmRhdGUudmFsdWVPZigpLGV4cGlyZXM6ZS5leHBpcmVzJiZlLmV4cGlyZXMudmFsdWVPZigpLHJlbWluZGVyOihudWxsPT10P3ZvaWQgMDp0LnJlbWluZGVyRGF0ZSkmJnQucmVtaW5kZXJEYXRlLnZhbHVlT2YoKX0pKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtkYXRlOm5ldyBEYXRlKG4uZGF0ZSksZXhwaXJlczpudWxsIT09bi5leHBpcmVzP25ldyBEYXRlKG4uZXhwaXJlcyk6bnVsbH0pfSx0LnVwZGF0ZT1hc3luYyBmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlOiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBhbmQgbXVzdCBub3QgYmUgbnVsbFwiKTtpZighZS5pZCl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZTogXCJpZFwiIG11c3QgYmUgSWQgb2YgcHJldmlvdXNseSBjcmVhdGVkIE5vdGlmaWNhdGlvbicpO2NvbnN0IHQ9YXdhaXQoMCx1LnRyeVNlcnZpY2VEaXNwYXRjaCkobC5BUElUb3BpYy5VUERBVEVfTk9USUZJQ0FUSU9OLE9iamVjdC5hc3NpZ24oe30sZSkpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHQpfSx0LmNsZWFyPWFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybigwLHUudHJ5U2VydmljZURpc3BhdGNoKShsLkFQSVRvcGljLkNMRUFSX05PVElGSUNBVElPTix7aWQ6ZX0pfSx0LmdldEFsbD1hc3luYyBmdW5jdGlvbigpe3JldHVybihhd2FpdCgwLHUudHJ5U2VydmljZURpc3BhdGNoKShsLkFQSVRvcGljLkdFVF9BUFBfTk9USUZJQ0FUSU9OUyx2b2lkIDApKS5tYXAoKGU9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7aW5kaWNhdG9yOmUuaW5kaWNhdG9yfHxudWxsLGRhdGU6bmV3IERhdGUoZS5kYXRlKSxleHBpcmVzOm51bGwhPT1lLmV4cGlyZXM/bmV3IERhdGUoZS5leHBpcmVzKTpudWxsfSkpKX0sdC5jbGVhckFsbD1hc3luYyBmdW5jdGlvbigpe3JldHVybigwLHUudHJ5U2VydmljZURpc3BhdGNoKShsLkFQSVRvcGljLkNMRUFSX0FQUF9OT1RJRklDQVRJT05TLHZvaWQgMCl9LHQudG9nZ2xlTm90aWZpY2F0aW9uQ2VudGVyPWFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuVE9HR0xFX05PVElGSUNBVElPTl9DRU5URVIsdm9pZCAwKX0sdC5zZXREZWZhdWx0UGxhdGZvcm1TaG9ydGN1dD1mdW5jdGlvbihlKXtyZXR1cm4oMCx1LnRyeVNlcnZpY2VEaXNwYXRjaCkobC5BUElUb3BpYy5TRVRfREVGQVVMVF9QTEFURk9STV9TSE9SVENVVCxlKX0sdC5zaG93PWFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybigwLHUudHJ5U2VydmljZURpc3BhdGNoKShsLkFQSVRvcGljLlNIT1dfTk9USUZJQ0FUSU9OX0NFTlRFUixlKX0sdC5oaWRlPWFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuSElERV9OT1RJRklDQVRJT05fQ0VOVEVSLHZvaWQgMCl9LHQuZ2V0Tm90aWZpY2F0aW9uc0NvdW50PWFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuR0VUX05PVElGSUNBVElPTlNfQ09VTlQsdm9pZCAwKX0sKHQuVXNlclNldHRpbmdzfHwodC5Vc2VyU2V0dGluZ3M9e30pKS5TT1VORF9FTkFCTEVEPVwic291bmRFbmFibGVkXCIsdC5nZXRVc2VyU2V0dGluZ1N0YXR1cz1hc3luYyBmdW5jdGlvbihlKXtyZXR1cm4oMCx1LnRyeVNlcnZpY2VEaXNwYXRjaCkobC5BUElUb3BpYy5HRVRfVVNFUl9TRVRUSU5HU19TVEFUVVMsZSl9LHQuc2V0QWxsb3dlZE9yaWdpbnM9YXN5bmMgZT0+KDAsdS50cnlTZXJ2aWNlRGlzcGF0Y2gpKGwuQVBJVG9waWMuU0VUX05PVElGSUNBVElPTl9TRUNVUklUWV9SVUxFLHthbGxvd2VkT3JpZ2luczplfSl9LDQzODE2OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zZXREaXNwYXRjaE1ldGhvZD10LnRyeVNlcnZpY2VEaXNwYXRjaD12b2lkIDAsdC50cnlTZXJ2aWNlRGlzcGF0Y2g9YXN5bmMoZSx0KT0+e3Rocm93IG5ldyBFcnJvcihcIkVudmlyb25tZW50IGlzIG5vdCBpbml0aWFsaXplZC4uXCIpfSx0LnNldERpc3BhdGNoTWV0aG9kPWU9Pnt0LnRyeVNlcnZpY2VEaXNwYXRjaD1lfX0sNDQ0MTU6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRlbXBsYXRlRnJhZ21lbnROYW1lcz10LlByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lcz10LkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lcz10LlRlbXBsYXRlTmFtZXM9dm9pZCAwLHQuVGVtcGxhdGVOYW1lcz17bWFya2Rvd246XCJtYXJrZG93blwiLGxpc3Q6XCJsaXN0XCIsY3VzdG9tOlwiY3VzdG9tXCJ9LHQuQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzPXtjb250YWluZXI6XCJjb250YWluZXJcIn0sdC5QcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM9e3RleHQ6XCJ0ZXh0XCIsaW1hZ2U6XCJpbWFnZVwiLGxpc3Q6XCJsaXN0XCIsYWN0aW9uYWJsZVRleHQ6XCJhY3Rpb25hYmxlVGV4dFwifSx0LlRlbXBsYXRlRnJhZ21lbnROYW1lcz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5Db250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXMpLHQuUHJlc2VudGF0aW9uVGVtcGxhdGVGcmFnbWVudE5hbWVzKX0sNDY0NTE6ZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXNDb25uZWN0ZWRUb0F0TGVhc3Q9dC5nZXRTdGF0dXM9dm9pZCAwO2NvbnN0IHI9aShuKDQwNjUxKSksbz1uKDk1Nzg1KSxhPW4oNDM4MTYpLHM9big1OTYwMyk7ZnVuY3Rpb24gYygpe3JldHVybigwLG8ud2l0aFN0cmljdFRpbWVvdXQpKDUwMCwoMCxhLnRyeVNlcnZpY2VEaXNwYXRjaCkocy5BUElUb3BpYy5HRVRfUFJPVklERVJfU1RBVFVTLHZvaWQgMCksXCJcIikuY2F0Y2goKCgpPT4oe2Nvbm5lY3RlZDohMSx2ZXJzaW9uOm51bGwsdGVtcGxhdGVBUElWZXJzaW9uOm51bGx9KSkpfXQuZ2V0U3RhdHVzPWMsdC5pc0Nvbm5lY3RlZFRvQXRMZWFzdD1hc3luYyBmdW5jdGlvbihlKXtjb25zdCB0PWF3YWl0IGMoKTtpZih0LmNvbm5lY3RlZCYmbnVsbCE9PXQudmVyc2lvbil7Y29uc3Qgbj0oMCxyLmRlZmF1bHQpKHQudmVyc2lvbixlKTtpZigwPT09bnx8MT09PW4pcmV0dXJuITB9cmV0dXJuITF9fSw0Njg2NTooZSx0KT0+e1widXNlIHN0cmljdFwiO3ZhciBuLGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbmRpY2F0b3JDb2xvcj10LkluZGljYXRvclR5cGU9dm9pZCAwLChpPXQuSW5kaWNhdG9yVHlwZXx8KHQuSW5kaWNhdG9yVHlwZT17fSkpLkZBSUxVUkU9XCJmYWlsdXJlXCIsaS5XQVJOSU5HPVwid2FybmluZ1wiLGkuU1VDQ0VTUz1cInN1Y2Nlc3NcIiwobj10LkluZGljYXRvckNvbG9yfHwodC5JbmRpY2F0b3JDb2xvcj17fSkpLlJFRD1cInJlZFwiLG4uR1JFRU49XCJncmVlblwiLG4uWUVMTE9XPVwieWVsbG93XCIsbi5CTFVFPVwiYmx1ZVwiLG4uUFVSUExFPVwicHVycGxlXCIsbi5HUkFZPVwiZ3JheVwiLG4uT1JBTkdFPVwib3JhbmdlXCIsbi5NQUdFTlRBPVwibWFnZW50YVwiLG4uVEVBTD1cInRlYWxcIn0sNTAyOTU6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sNTIzMTU6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNldEZpbkNvbnRleHQ9dC5maW5Db250ZXh0PXZvaWQgMCx0LnNldEZpbkNvbnRleHQ9ZT0+e3QuZmluQ29udGV4dD1lfX0sNTk2MDM6KGUsdCk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkFQSVRvcGljPXQuZ2V0Q2hhbm5lbE5hbWU9dC5TRVJWSUNFX0NIQU5ORUw9dC5TRVJWSUNFX0lERU5USVRZPXZvaWQgMCx0LlNFUlZJQ0VfSURFTlRJVFk9e3V1aWQ6XCJub3RpZmljYXRpb25zLXNlcnZpY2VcIixuYW1lOlwibm90aWZpY2F0aW9ucy1zZXJ2aWNlXCJ9LHQuU0VSVklDRV9DSEFOTkVMPVwib2Ytbm90aWZpY2F0aW9ucy1zZXJ2aWNlLXYxXCIsdC5nZXRDaGFubmVsTmFtZT1lPT5lPT09dC5TRVJWSUNFX0lERU5USVRZLnV1aWQ/dC5TRVJWSUNFX0NIQU5ORUw6YCR7ZX0tJHt0LlNFUlZJQ0VfQ0hBTk5FTH1gLChuPXQuQVBJVG9waWN8fCh0LkFQSVRvcGljPXt9KSkuQ1JFQVRFX05PVElGSUNBVElPTj1cImNyZWF0ZS1ub3RpZmljYXRpb25cIixuLlVQREFURV9OT1RJRklDQVRJT049XCJ1cGRhdGUtbm90aWZpY2F0aW9uXCIsbi5DTEVBUl9OT1RJRklDQVRJT049XCJjbGVhci1ub3RpZmljYXRpb25cIixuLkdFVF9BUFBfTk9USUZJQ0FUSU9OUz1cImZldGNoLWFwcC1ub3RpZmljYXRpb25zXCIsbi5DTEVBUl9BUFBfTk9USUZJQ0FUSU9OUz1cImNsZWFyLWFwcC1ub3RpZmljYXRpb25zXCIsbi5UT0dHTEVfTk9USUZJQ0FUSU9OX0NFTlRFUj1cInRvZ2dsZS1ub3RpZmljYXRpb24tY2VudGVyXCIsbi5BRERfRVZFTlRfTElTVEVORVI9XCJhZGQtZXZlbnQtbGlzdGVuZXJcIixuLlJFTU9WRV9FVkVOVF9MSVNURU5FUj1cInJlbW92ZS1ldmVudC1saXN0ZW5lclwiLG4uR0VUX1BST1ZJREVSX1NUQVRVUz1cImdldC1wcm92aWRlci1zdGF0dXNcIixuLkdFVF9OT1RJRklDQVRJT05TX0NPVU5UPVwiZ2V0LW5vdGlmaWNhdGlvbnMtY291bnRcIixuLlNIT1dfTk9USUZJQ0FUSU9OX0NFTlRFUj1cInNob3ctbm90aWZpY2F0aW9uLWNlbnRlclwiLG4uSElERV9OT1RJRklDQVRJT05fQ0VOVEVSPVwiaGlkZS1ub3RpZmljYXRpb24tY2VudGVyXCIsbi5SRUdJU1RFUl9QTEFURk9STT1cInJlZ2lzdGVyLW5vdGlmaWNhdGlvbnMtcGxhdGZvcm1cIixuLkRFUkVHSVNURVJfUExBVEZPUk09XCJkZXJlZ2lzdGVyLW5vdGlmaWNhdGlvbnMtcGxhdGZvcm1cIixuLlNFVF9GT1JNX1NUQVRVU19PUFRJT05TPVwic2V0LWZvcm0tc3RhdHVzLW9wdGlvbnNcIixuLlNFVF9GT1JNX1ZBTElEQVRJT05fRVJST1JTPVwic2V0LWZvcm0tdmFsaWRhdGlvbi1lcnJvcnNcIixuLkdFVF9VU0VSX1NFVFRJTkdTX1NUQVRVUz1cImdldC11c2VyLXNldHRpbmdzLXN0YXR1c1wiLG4uU0VUX0RFRkFVTFRfUExBVEZPUk1fU0hPUlRDVVQ9XCJzZXQtZGVmYXVsdC1wbGF0Zm9ybS1zaG9ydGN1dFwiLG4uU0VUX05PVElGSUNBVElPTl9TRUNVUklUWV9SVUxFPVwic2V0LW5vdGlmaWNhdGlvbi1zZWN1cml0eS1ydWxlXCJ9LDY4OTEyOmZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9bik7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO3ImJiEoXCJnZXRcImluIHI/IXQuX19lc01vZHVsZTpyLndyaXRhYmxlfHxyLmNvbmZpZ3VyYWJsZSl8fChyPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscil9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIobig5Mzk1NSksdCkscihuKDMzNzEzKSx0KX0sNzE0NzQ6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sNzUwNTA6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sNzU3NjI6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTG9nPXZvaWQgMDtjb25zdCBpPW4oNTIzMTUpO2NsYXNzIHJ7c3RhdGljIGFzeW5jIGVycm9yKGUpe3RyeXtjb25zdCB0PXIuZ2V0UHJlZml4ZWRNZXNzYWdlKGUpO2NvbnNvbGUuZXJyb3IodCksYXdhaXQgaS5maW5Db250ZXh0LlN5c3RlbS5sb2coXCJlcnJvclwiLHQpfWNhdGNoKGUpe3IuaGFuZGxlRXJyb3IoZSxcIkZhaWxlZCB0byBsb2cgZXJyb3JcIil9fXN0YXRpYyBhc3luYyB3YXJuKGUpe3RyeXtjb25zdCB0PXIuZ2V0UHJlZml4ZWRNZXNzYWdlKGUpO2NvbnNvbGUud2Fybih0KSxhd2FpdCBpLmZpbkNvbnRleHQuU3lzdGVtLmxvZyhcIndhcm5pbmdcIix0KX1jYXRjaChlKXtyLmhhbmRsZUVycm9yKGUsXCJGYWlsZWQgdG8gbG9nIHdhcm5pbmdcIil9fXN0YXRpYyBhc3luYyBpbmZvKGUpe3RyeXtjb25zdCB0PXIuZ2V0UHJlZml4ZWRNZXNzYWdlKGUpO2NvbnNvbGUuaW5mbyh0KSxhd2FpdCBpLmZpbkNvbnRleHQuU3lzdGVtLmxvZyhcImluZm9cIix0KX1jYXRjaChlKXtyLmhhbmRsZUVycm9yKGUsXCJGYWlsZWQgdG8gbG9nIGluZm9cIil9fXN0YXRpYyBnZXRQcmVmaXhlZE1lc3NhZ2UoZSl7cmV0dXJuYCR7ci5MT0dfUFJFRklYfSAke2V9YH1zdGF0aWMgaGFuZGxlRXJyb3IoZSx0KXtlIGluc3RhbmNlb2YgRXJyb3I/Y29uc29sZS5lcnJvcihgJHt0fSAtICR7ZS5uYW1lfTogJHtlLm1lc3NhZ2V9YCk6Y29uc29sZS5lcnJvcihgJHt0fSAtICR7SlNPTi5zdHJpbmdpZnkoZSl9YCl9fXQuTG9nPXIsci5MT0dfUFJFRklYPVwiW29wZW5maW4tbm90aWZpY2F0aW9uc11cIn0sNzgzNjQ6KGUsdCk9PntcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sODA2NjQ6ZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKTt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7ciYmIShcImdldFwiaW4gcj8hdC5fX2VzTW9kdWxlOnIud3JpdGFibGV8fHIuY29uZmlndXJhYmxlKXx8KHI9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxyKX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pfHxpKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Ob3RpZmljYXRpb25zUmVnaXN0cmF0aW9uPXQucmVnaXN0ZXI9dm9pZCAwO2NvbnN0IG89big1MjMxNSksYT1uKDg2MzA4KSxzPW4oNDM4MTYpLGM9bigyODE3Myk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmKDAsby5zZXRGaW5Db250ZXh0KShmaW4pLCgwLGMuc2V0VmFsaWRhdGlvbk1ldGhvZCkoYS5kZWZhdWx0VmFsaWRhdGVFbnZpcm9ubWVudCksKDAscy5zZXREaXNwYXRjaE1ldGhvZCkoYS5kZWZhdWx0RGlzcGF0Y2gpLHIobig0MDcwNyksdCk7dmFyIHU9big1ODc5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlZ2lzdGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUucmVnaXN0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJOb3RpZmljYXRpb25zUmVnaXN0cmF0aW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuTm90aWZpY2F0aW9uc1JlZ2lzdHJhdGlvbn19KX0sODYzMDg6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdFZhbGlkYXRlRW52aXJvbm1lbnQ9dC5kZWZhdWx0RGlzcGF0Y2g9dm9pZCAwO2NvbnN0IGk9bigyNzE2Nykscj1uKDUyMzE1KTt0LmRlZmF1bHREaXNwYXRjaD1hc3luYyBmdW5jdGlvbihlLHQpe3JldHVybihhd2FpdCgwLGkuZ2V0Q2hhbm5lbENsaWVudCkoKSkuZGlzcGF0Y2goZSx0KX0sdC5kZWZhdWx0VmFsaWRhdGVFbnZpcm9ubWVudD1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXIuZmluQ29udGV4dCl0aHJvdyBuZXcgRXJyb3IoXCJmaW4gaXMgbm90IGRlZmluZWQuIFRoZSBvcGVuZmluLW5vdGlmaWNhdGlvbnMgbW9kdWxlIGlzIG9ubHkgaW50ZW5kZWQgZm9yIHVzZSBpbiBhbiBPcGVuRmluIGFwcGxpY2F0aW9uLlwiKX19LDg2NDU1OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5BY3Rpb25Cb2R5Q2xpY2tUeXBlPXQuQWN0aW9uTm9vcFR5cGU9dC5BY3Rpb25UcmlnZ2VyPXZvaWQgMCwobj10LkFjdGlvblRyaWdnZXJ8fCh0LkFjdGlvblRyaWdnZXI9e30pKS5DT05UUk9MPVwiY29udHJvbFwiLG4uU0VMRUNUPVwic2VsZWN0XCIsbi5DTE9TRT1cImNsb3NlXCIsbi5FWFBJUkU9XCJleHBpcmVcIixuLlBST0dSQU1NQVRJQz1cInByb2dyYW1tYXRpY1wiLCh0LkFjdGlvbk5vb3BUeXBlfHwodC5BY3Rpb25Ob29wVHlwZT17fSkpLkVWRU5UX0RJU01JU1M9XCJldmVudF9kaXNtaXNzXCIsKHQuQWN0aW9uQm9keUNsaWNrVHlwZXx8KHQuQWN0aW9uQm9keUNsaWNrVHlwZT17fSkpLkRJU01JU1NfRVZFTlQ9XCJkaXNtaXNzX2V2ZW50XCJ9LDg3MjA0OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDkwNTEyOmZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9bik7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO3ImJiEoXCJnZXRcImluIHI/IXQuX19lc01vZHVsZTpyLndyaXRhYmxlfHxyLmNvbmZpZ3VyYWJsZSl8fChyPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscil9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIobig3ODM2NCksdCkscihuKDcxNDc0KSx0KSxyKG4oNDQ0MTUpLHQpLHIobigxNTkxNSksdCl9LDkzOTU1OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5GaWVsZFR5cGU9dm9pZCAwLHQuRmllbGRUeXBlPXtzdHJpbmc6XCJzdHJpbmdcIixudW1iZXI6XCJudW1iZXJcIixib29sZWFuOlwiYm9vbGVhblwiLGRhdGU6XCJkYXRlXCIsY2hlY2tib3hHcm91cDpcImNoZWNrYm94R3JvdXBcIixyYWRpb0dyb3VwOlwicmFkaW9Hcm91cFwiLHRpbWU6XCJ0aW1lXCJ9fSw5NTc4NTooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtmb3IodmFyIG4gaW4gZSl0Lmhhc093blByb3BlcnR5KG4pfHwodFtuXT1lW25dKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKG4oMjI3NzcpKSxpKG4oMzA4OSkpfX0sdD17fSxmdW5jdGlvbiBuKGkpe3ZhciByPXRbaV07aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBvPXRbaV09e2V4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8uZXhwb3J0c30oODA2NjQpO3ZhciBlLHR9KSk7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2F3YWl0LXRoZW5hYmxlICovXG5pbXBvcnQgeyBDb2xvclNjaGVtZU9wdGlvblR5cGUsIGdldEN1cnJlbnRTeW5jLCBpbml0IH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9ucyBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlL25vdGlmaWNhdGlvbnNcIjtcblxuY29uc3QgUExBVEZPUk1fSUQgPSBcInVzZS1ub3RpZmljYXRpb25zXCI7XG5jb25zdCBQTEFURk9STV9JQ09OID0gXCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL2ljb24tZG90LnBuZ1wiO1xuY29uc3QgUExBVEZPUk1fVElUTEUgPSBcIlVzZSBOb3RpZmljYXRpb25zXCI7XG5cbmNvbnN0IE5PVElGSUNBVElPTl9TT1VORF9VUkwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hc3NldHMvbm90aWZpY2F0aW9uLm1wM1wiO1xuXG4vLyBLZWVwIHRyYWNrIG9mIG5vdGlmaWNhdGlvbnMgd2UgYXJlIHVwZGF0aW5nXG5jb25zdCB1cGRhdGFibGVOb3RpZmljYXRpb25zOiB7XG5cdFtpZDogc3RyaW5nXTogTm90aWZpY2F0aW9ucy5UZW1wbGF0ZU1hcmtkb3duICYgeyBjdXN0b21EYXRhOiB7IGNvdW50OiBudW1iZXIgfSB9O1xufSA9IHt9O1xubGV0IHVwZGF0YWJsZU5vdGlmaWNhdGlvblRpbWVyOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbmxldCBsb2dnaW5nRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsO1xubGV0IGNvZGVFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50IHwgbnVsbDtcblxubGV0IGNvbm5lY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGNvbm5lY3RlZFZlcnNpb246IHN0cmluZyB8IG51bGw7XG5sZXQgc3RhdHVzSW50ZXJ2YWxJZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xubGV0IGxhc3RDb25uZWN0aW9uU3RhdHVzOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIFdhaXQgZm9yIHRoZSBET00gdG8gaGF2ZSBiZWVuIGxvYWRlZCBiZWZvcmUgd2UgY29ubmVjdCB0aGUgVUkgZWxlbWVudHMgYW5kIGxpc3RlbmVycy5cbiAqL1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcblx0YXdhaXQgaW5pdGlhbGl6ZURvbSgpO1xuXG5cdC8vIFRoZSBET00gaXMgcmVhZHkgc28gaW5pdGlhbGl6ZSB0aGUgcGxhdGZvcm1cblx0Ly8gUHJvdmlkZSBkZWZhdWx0IGljb25zIGFuZCBkZWZhdWx0IHRoZW1lIGZvciB0aGUgYnJvd3NlciB3aW5kb3dzXG5cdGF3YWl0IGluaXRpYWxpemVXb3Jrc3BhY2VQbGF0Zm9ybSgpO1xuXG5cdGF3YWl0IGluaXRpYWxpemVOb3RpZmljYXRpb25zKCk7XG59KTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVXb3Jrc3BhY2VQbGF0Zm9ybSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgd29ya3NwYWNlIHBsYXRmb3JtXCIpO1xuXHRhd2FpdCBpbml0KHtcblx0XHRicm93c2VyOiB7XG5cdFx0XHRkZWZhdWx0V2luZG93T3B0aW9uczoge1xuXHRcdFx0XHRpY29uOiBQTEFURk9STV9JQ09OLFxuXHRcdFx0XHR3b3Jrc3BhY2VQbGF0Zm9ybToge1xuXHRcdFx0XHRcdHBhZ2VzOiBbXSxcblx0XHRcdFx0XHRmYXZpY29uOiBQTEFURk9STV9JQ09OXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHRoZW1lOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiBcIkRlZmF1bHRcIixcblx0XHRcdFx0ZGVmYXVsdDogXCJkYXJrXCIsXG5cdFx0XHRcdHBhbGV0dGVzOiB7XG5cdFx0XHRcdFx0ZGFyazoge1xuXHRcdFx0XHRcdFx0YnJhbmRQcmltYXJ5OiBcIiMwQTc2RDNcIixcblx0XHRcdFx0XHRcdGJyYW5kU2Vjb25kYXJ5OiBcIiMzODNBNDBcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiMxRTFGMjNcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bGlnaHQ6IHtcblx0XHRcdFx0XHRcdGJyYW5kUHJpbWFyeTogXCIjMEE3NkQzXCIsXG5cdFx0XHRcdFx0XHRicmFuZFNlY29uZGFyeTogXCIjMUUxRjIzXCIsXG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kUHJpbWFyeTogXCIjRkFGQkZFXCIsXG5cdFx0XHRcdFx0XHQvLyBEZW1vbnN0cmF0ZSBjaGFuZ2luZyB0aGUgbGluayBjb2xvciBmb3Igbm90aWZpY2F0aW9uc1xuXHRcdFx0XHRcdFx0bGlua0RlZmF1bHQ6IFwiI0ZGMDAwMFwiLFxuXHRcdFx0XHRcdFx0bGlua0hvdmVyOiBcIiMwMEZGMDBcIlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0bm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzOiB7XG5cdFx0XHRcdFx0Ly8gVGhpcyBjdXN0b20gaW5kaWNhdG9yIGNvbG9yIHdpbGwgYmUgdXNlZCBpbiB0aGUgTm90aWZpY2F0aW9uIHdpdGggQ3VzdG9tIEluZGljYXRvclxuXHRcdFx0XHRcdFwiY3VzdG9tLWluZGljYXRvclwiOiB7XG5cdFx0XHRcdFx0XHRkYXJrOiB7XG5cdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwiI0ZGMDAwMFwiLFxuXHRcdFx0XHRcdFx0XHRmb3JlZ3JvdW5kOiBcIiNGRkZGRERcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGxpZ2h0OiB7XG5cdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwiI0ZGMDAwMFwiLFxuXHRcdFx0XHRcdFx0XHRmb3JlZ3JvdW5kOiBcIiNGRkZGRERcIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0fSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgbm90aWZpY2F0aW9ucy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMucmVnaXN0ZXIoe1xuXHRcdG5vdGlmaWNhdGlvbnNQbGF0Zm9ybU9wdGlvbnM6IHtcblx0XHRcdGlkOiBQTEFURk9STV9JRCxcblx0XHRcdGljb246IFBMQVRGT1JNX0lDT04sXG5cdFx0XHR0aXRsZTogUExBVEZPUk1fVElUTEVcblx0XHR9XG5cdH0pO1xuXG5cdHNob3dOb3RpZmljYXRpb25Db3VudChhd2FpdCBOb3RpZmljYXRpb25zLmdldE5vdGlmaWNhdGlvbnNDb3VudCgpKTtcblxuXHRhd2FpdCBpbml0aWFsaXplTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgRE9NIGVsZW1lbnRzLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRG9tKCk6IFByb21pc2U8dm9pZD4ge1xuXHRsb2dnaW5nRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nZ2luZ1wiKTtcblx0Y29kZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvZGVcIik7XG5cdGNvbnN0IGxvZ2dpbmdDb250YWluZXI6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nZ2luZy1jb250YWluZXJcIik7XG5cdGNvbnN0IGNvZGVDb250YWluZXI6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29kZS1jb250YWluZXJcIik7XG5cblx0aWYgKCFjb2RlRWxlbWVudCB8fCAhbG9nZ2luZ0VsZW1lbnQgfHwgIWxvZ2dpbmdDb250YWluZXIgfHwgIWNvZGVDb250YWluZXIpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRsb2dnaW5nQWRkRW50cnkoYExpYnJhcnkgVmVyc2lvbjogJHtOb3RpZmljYXRpb25zLlZFUlNJT059YCk7XG5cblx0Y29uc3QgYnRuTG9nZ2luZ0NsZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Mb2dnaW5nQ2xlYXJcIik7XG5cdGlmIChidG5Mb2dnaW5nQ2xlYXIpIHtcblx0XHRidG5Mb2dnaW5nQ2xlYXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGlmIChsb2dnaW5nRWxlbWVudCkge1xuXHRcdFx0XHRsb2dnaW5nRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRjb25zdCBidG5Db2RlQ29weSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuQ29kZUNvcHlcIik7XG5cdGlmIChidG5Db2RlQ29weSkge1xuXHRcdGJ0bkNvZGVDb3B5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoY29kZUVsZW1lbnQpIHtcblx0XHRcdFx0YXdhaXQgZmluLkNsaXBib2FyZC53cml0ZVRleHQoeyBkYXRhOiBjb2RlRWxlbWVudC52YWx1ZSB9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0IGJ0bkNvZGVOb3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bkNvZGVOb3RpZmljYXRpb25cIik7XG5cdGlmIChidG5Db2RlTm90aWZpY2F0aW9uKSB7XG5cdFx0YnRuQ29kZU5vdGlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKGNvZGVFbGVtZW50KSB7XG5cdFx0XHRcdFx0Y29uc3Qgbm90aWZpY2F0aW9uT3B0aW9uczogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0gSlNPTi5wYXJzZShjb2RlRWxlbWVudC52YWx1ZSk7XG5cdFx0XHRcdFx0bm90aWZpY2F0aW9uT3B0aW9ucy5pZCA9IHJhbmRvbVVVSUQoKTtcblx0XHRcdFx0XHRjb2RlU2hvd0V4YW1wbGUobm90aWZpY2F0aW9uT3B0aW9ucyk7XG5cdFx0XHRcdFx0YXdhaXQgTm90aWZpY2F0aW9ucy5jcmVhdGUobm90aWZpY2F0aW9uT3B0aW9ucyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge31cblx0XHR9KTtcblx0fVxuXG5cdGNvZGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG5cdFx0aWYgKGNvZGVFbGVtZW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRKU09OLnBhcnNlKGNvZGVFbGVtZW50LnZhbHVlKTtcblx0XHRcdFx0Y29kZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdGNvZGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdGNvZGVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG5cdGNvbnN0IGJ0blRvZ2dsZVRoZW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5QbGF0Zm9ybVRvZ2dsZVRoZW1lXCIpO1xuXHRpZiAoYnRuVG9nZ2xlVGhlbWUpIHtcblx0XHRidG5Ub2dnbGVUaGVtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuXHRcdFx0Y29uc3QgY3VycmVudFNjaGVtZSA9IGF3YWl0IHBsYXRmb3JtLlRoZW1lLmdldFNlbGVjdGVkU2NoZW1lKCk7XG5cdFx0XHRpZiAoY3VycmVudFNjaGVtZSA9PT0gQ29sb3JTY2hlbWVPcHRpb25UeXBlLkxpZ2h0KSB7XG5cdFx0XHRcdHdpbmRvdy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJ0aGVtZS1saWdodFwiKTtcblx0XHRcdFx0YXdhaXQgcGxhdGZvcm0uVGhlbWUuc2V0U2VsZWN0ZWRTY2hlbWUoQ29sb3JTY2hlbWVPcHRpb25UeXBlLkRhcmspO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93LmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcInRoZW1lLWxpZ2h0XCIpO1xuXHRcdFx0XHRhd2FpdCBwbGF0Zm9ybS5UaGVtZS5zZXRTZWxlY3RlZFNjaGVtZShDb2xvclNjaGVtZU9wdGlvblR5cGUuTGlnaHQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Y29uc3QgYnRuVmlld0xvZ2dpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0blZpZXdMb2dnaW5nXCIpO1xuXHRpZiAoYnRuVmlld0xvZ2dpbmcpIHtcblx0XHRidG5WaWV3TG9nZ2luZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdFx0bG9nZ2luZ0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cdFx0XHRjb2RlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0IGJ0blZpZXdDb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5WaWV3Q29kZVwiKTtcblx0aWYgKGJ0blZpZXdDb2RlKSB7XG5cdFx0YnRuVmlld0NvZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGxvZ2dpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0Y29kZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cdFx0fSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25TaW1wbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvblNpbXBsZVwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvblNpbXBsZSkge1xuXHRcdGJ0bk5vdGlmaWNhdGlvblNpbXBsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4gc2hvd1NpbXBsZU5vdGlmaWNhdGlvbigpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25Cb2R5RGlzbWlzc1wiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uQm9keURpc21pc3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHNob3dTaW1wbGVOb3RpZmljYXRpb25Cb2R5RGlzbWlzcygpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzQWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25Cb2R5RGlzbWlzc0FjdGlvblwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzQWN0aW9uKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uQm9keURpc21pc3NBY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+XG5cdFx0XHRzaG93U2ltcGxlTm90aWZpY2F0aW9uQm9keURpc21pc3NBY3Rpb24oKVxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25BY3Rpb25hYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25BY3Rpb25hYmxlXCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uQWN0aW9uYWJsZSkge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbkFjdGlvbmFibGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHNob3dBY3Rpb25hYmxlTm90aWZpY2F0aW9uKCkpO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uRm9ybVwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkZvcm0pIHtcblx0XHRidG5Ob3RpZmljYXRpb25Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiBzaG93Rm9ybU5vdGlmaWNhdGlvbigpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbkZvcm1BZHZhbmNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uRm9ybUFkdmFuY2VkXCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uRm9ybUFkdmFuY2VkKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uRm9ybUFkdmFuY2VkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiBzaG93Rm9ybUFkdmFuY2VkTm90aWZpY2F0aW9uKCkpO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uVXBkYXRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25VcGRhdGFibGVcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25VcGRhdGFibGUpIHtcblx0XHRidG5Ob3RpZmljYXRpb25VcGRhdGFibGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHNob3dVcGRhdGFibGVOb3RpZmljYXRpb24oKSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25DdXN0b20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbkN1c3RvbVwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkN1c3RvbSkge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbkN1c3RvbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4gc2hvd0N1c3RvbU5vdGlmaWNhdGlvbigpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbldpdGhTb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uV2l0aFNvdW5kXCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uV2l0aFNvdW5kKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uV2l0aFNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PlxuXHRcdFx0c2hvd1NvdW5kTm90aWZpY2F0aW9uKE5PVElGSUNBVElPTl9TT1VORF9VUkwpXG5cdFx0KTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbkNlbnRlclVzZXJTZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uQ2VudGVyVXNlclNldHRpbmdzXCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uQ2VudGVyVXNlclNldHRpbmdzKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uQ2VudGVyVXNlclNldHRpbmdzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PlxuXHRcdFx0Z2V0Tm90aWZpY2F0aW9uQ2VudGVyVXNlclNldHRpbmdzKClcblx0XHQpO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uV2l0aEluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uV2l0aEluZGljYXRvclwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbldpdGhJbmRpY2F0b3IpIHtcblx0XHRidG5Ob3RpZmljYXRpb25XaXRoSW5kaWNhdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiBzaG93SW5kaWNhdG9yTm90aWZpY2F0aW9uKCkpO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uV2l0aEN1c3RvbUluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uV2l0aEN1c3RvbUluZGljYXRvclwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbldpdGhDdXN0b21JbmRpY2F0b3IpIHtcblx0XHRidG5Ob3RpZmljYXRpb25XaXRoQ3VzdG9tSW5kaWNhdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PlxuXHRcdFx0c2hvd0N1c3RvbUluZGljYXRvck5vdGlmaWNhdGlvbigpXG5cdFx0KTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjYnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3dcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvdykge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJTaG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvdy5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRcdGF3YWl0IE5vdGlmaWNhdGlvbnMuc2hvdygpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGxvZ2dpbmdBZGRFbnRyeShgJHtlcnJ9YCk7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvdy5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uc0NlbnRlckhpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5Ob3RpZmljYXRpb25zQ2VudGVySGlkZVwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJIaWRlKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uc0NlbnRlckhpZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJIaWRlLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdFx0YXdhaXQgTm90aWZpY2F0aW9ucy5oaWRlKCk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0bG9nZ2luZ0FkZEVudHJ5KGAke2Vycn1gKTtcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJIaWRlLmRpc2FibGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25TdHVkaW9PcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjYnRuTm90aWZpY2F0aW9uU3R1ZGlvT3BlblwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvblN0dWRpb09wZW4pIHtcblx0XHRidG5Ob3RpZmljYXRpb25TdHVkaW9PcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRidG5Ob3RpZmljYXRpb25TdHVkaW9PcGVuLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdFx0YXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9zdHVkaW8vbm90aWZpY2F0aW9uL2FwcC5qc29uXCIpO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0YnRuTm90aWZpY2F0aW9uU3R1ZGlvT3Blbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgbGlzdGVuZXJzIGZvciB0aGUgZXZlbnRzIGZyb20gdGhlIG5vdGlmaWNhdGlvbiBjZW50ZXIuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVMaXN0ZW5lcnMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdC8vIExpc3RlbiBmb3IgbmV3IG5vdGlmaWNhdGlvbnMgYmVpbmcgY3JlYXRlZFxuXHRhd2FpdCBOb3RpZmljYXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb24tY3JlYXRlZFwiLCAoZXZlbnQpID0+IHtcblx0XHRsb2dnaW5nQWRkRW50cnkoYENyZWF0ZWQ6ICR7ZXZlbnQubm90aWZpY2F0aW9uLmlkfWApO1xuXHR9KTtcblxuXHRhd2FpdCBOb3RpZmljYXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb24tY2xvc2VkXCIsIChldmVudCkgPT4ge1xuXHRcdGxvZ2dpbmdBZGRFbnRyeShgQ2xvc2VkOiAke2V2ZW50Lm5vdGlmaWNhdGlvbi5pZH1gKTtcblxuXHRcdGlmICh1cGRhdGFibGVOb3RpZmljYXRpb25zW2V2ZW50Lm5vdGlmaWNhdGlvbi5pZF0pIHtcblx0XHRcdGRlbGV0ZSB1cGRhdGFibGVOb3RpZmljYXRpb25zW2V2ZW50Lm5vdGlmaWNhdGlvbi5pZF07XG5cdFx0XHRpZiAoT2JqZWN0LmtleXModXBkYXRhYmxlTm90aWZpY2F0aW9ucykubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhckludGVydmFsKHVwZGF0YWJsZU5vdGlmaWNhdGlvblRpbWVyKTtcblx0XHRcdFx0dXBkYXRhYmxlTm90aWZpY2F0aW9uVGltZXIgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRhd2FpdCBOb3RpZmljYXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb24tYWN0aW9uXCIsIGFzeW5jIChldmVudCkgPT4ge1xuXHRcdGlmIChldmVudD8ucmVzdWx0Py5hY3Rpb25JZCA9PT0gXCJvcGVuLXdlYi1zaXRlXCIpIHtcblx0XHRcdGF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGV2ZW50Py5yZXN1bHQ/LnVybCBhcyBzdHJpbmcpO1xuXHRcdH0gZWxzZSBpZiAoZXZlbnQ/LnJlc3VsdD8uQk9EWV9DTElDSyA9PT0gXCJkaXNtaXNzX2V2ZW50XCIpIHtcblx0XHRcdGlmIChldmVudC5ub3RpZmljYXRpb24/LmN1c3RvbURhdGE/LmFjdGlvbikge1xuXHRcdFx0XHRsb2dnaW5nQWRkRW50cnkoXG5cdFx0XHRcdFx0YFxcdERhdGE6ICR7XG5cdFx0XHRcdFx0XHRldmVudD8ubm90aWZpY2F0aW9uPy5jdXN0b21EYXRhID8gSlNPTi5zdHJpbmdpZnkoZXZlbnQubm90aWZpY2F0aW9uLmN1c3RvbURhdGEpIDogXCJOb25lXCJcblx0XHRcdFx0XHR9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9nZ2luZ0FkZEVudHJ5KFwiXFx0Tm8gYWN0aW9uXCIpO1xuXHRcdFx0fVxuXHRcdFx0bG9nZ2luZ0FkZEVudHJ5KFwiXFx0Qm9keSBjbGljayBkaXNtaXNzXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb2dnaW5nQWRkRW50cnkoXG5cdFx0XHRcdGBcXHREYXRhOiAke2V2ZW50Py5yZXN1bHQ/LmN1c3RvbURhdGEgPyBKU09OLnN0cmluZ2lmeShldmVudC5yZXN1bHQuY3VzdG9tRGF0YSkgOiBcIk5vbmVcIn1gXG5cdFx0XHQpO1xuXHRcdFx0bG9nZ2luZ0FkZEVudHJ5KGBcXHRUYXNrOiAke2V2ZW50Py5yZXN1bHQ/LnRhc2sgPz8gXCJOb25lXCJ9YCk7XG5cdFx0XHRsb2dnaW5nQWRkRW50cnkoYEFjdGlvbjogJHtldmVudC5ub3RpZmljYXRpb24uaWR9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHR9KTtcblxuXHRhd2FpdCBOb3RpZmljYXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb24tdG9hc3QtZGlzbWlzc2VkXCIsIChldmVudCkgPT4ge1xuXHRcdGxvZ2dpbmdBZGRFbnRyeShgVG9hc3QgRGlzbWlzc2VkOiAke2V2ZW50Lm5vdGlmaWNhdGlvbi5pZH1gKTtcblx0fSk7XG5cblx0YXdhaXQgTm90aWZpY2F0aW9ucy5hZGRFdmVudExpc3RlbmVyKFwibm90aWZpY2F0aW9uLWZvcm0tc3VibWl0dGVkXCIsIChldmVudCkgPT4ge1xuXHRcdGxvZ2dpbmdBZGRFbnRyeShgXFx0RGF0YTogJHtldmVudD8uZm9ybSA/IEpTT04uc3RyaW5naWZ5KGV2ZW50LmZvcm0pIDogXCJOb25lXCJ9YCk7XG5cdFx0bG9nZ2luZ0FkZEVudHJ5KGBGb3JtOiAke2V2ZW50Lm5vdGlmaWNhdGlvbi5pZH1gKTtcblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdH0pO1xuXG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm5vdGlmaWNhdGlvbnMtY291bnQtY2hhbmdlZFwiLCAoZXZlbnQpID0+IHtcblx0XHRzaG93Tm90aWZpY2F0aW9uQ291bnQoZXZlbnQuY291bnQpO1xuXHR9KTtcblxuXHRhd2FpdCBOb3RpZmljYXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb24tc291bmQtdG9nZ2xlZFwiLCAoZXZlbnQpID0+IHtcblx0XHRsb2dnaW5nQWRkRW50cnkoYFNvdW5kIEVuYWJsZWQ6ICR7ZXZlbnQubm90aWZpY2F0aW9uU291bmRFbmFibGVkfWApO1xuXHR9KTtcblxuXHRhZGRDb25uZWN0aW9uQ2hhbmdlZEV2ZW50TGlzdGVuZXIoKHN0YXR1cykgPT4ge1xuXHRcdGlmIChzdGF0dXMuY29ubmVjdGVkICE9PSBjb25uZWN0ZWQpIHtcblx0XHRcdGNvbm5lY3RlZCA9IHN0YXR1cy5jb25uZWN0ZWQ7XG5cdFx0XHRjb25uZWN0ZWRWZXJzaW9uID0gc3RhdHVzLnZlcnNpb247XG5cdFx0XHR1cGRhdGVDb25uZWN0ZWRTdGF0ZSgpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGVudHJ5IGluIHRvIHRoZSBsb2dnaW5nIHdpbmRvdy5cbiAqIEBwYXJhbSBlbnRyeSBUaGUgZW50cnkgdG8gYWRkLlxuICovXG5mdW5jdGlvbiBsb2dnaW5nQWRkRW50cnkoZW50cnk6IHN0cmluZyk6IHZvaWQge1xuXHRpZiAobG9nZ2luZ0VsZW1lbnQpIHtcblx0XHRsb2dnaW5nRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2VudHJ5fVxcblxcbiR7bG9nZ2luZ0VsZW1lbnQudGV4dENvbnRlbnR9YDtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgY29kZSBleGFtcGxlIHdpdGggdGhlIG5vdGlmaWNhdGlvbi5cbiAqIEBwYXJhbSBub3RpZmljYXRpb25PcHRpb25zIFRoZSBvcHRpb25zIHRvIHNob3cgaW4gdGhlIGNvZGUgZXhhbXBsZS5cbiAqL1xuZnVuY3Rpb24gY29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbk9wdGlvbnM6IE5vdGlmaWNhdGlvbk9wdGlvbnMpOiB2b2lkIHtcblx0aWYgKGNvZGVFbGVtZW50KSB7XG5cdFx0Y29kZUVsZW1lbnQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb25PcHRpb25zLCB1bmRlZmluZWQsIFwiICBcIik7XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNvbm5lY3RlZCBzdGF0ZSBvbiB0aGUgdmlldy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlQ29ubmVjdGVkU3RhdGUoKTogdm9pZCB7XG5cdGxvZ2dpbmdBZGRFbnRyeShgSXMgQ29ubmVjdGVkOiAke2Nvbm5lY3RlZH1gKTtcblx0aWYgKGNvbm5lY3RlZCkge1xuXHRcdGxvZ2dpbmdBZGRFbnRyeShgQ29ubmVjdGVkIFZlcnNpb246ICR7Y29ubmVjdGVkVmVyc2lvbn1gKTtcblx0fVxuXG5cdGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYnV0dG9uXCIpO1xuXHRmb3IgKGNvbnN0IGJ1dHRvbiBvZiBidXR0b25zKSB7XG5cdFx0YnV0dG9uLmRpc2FibGVkID0gIWNvbm5lY3RlZDtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgbm90aWZpY2F0aW9uIGNvdW50IG9uIHRoZSB2aWV3LlxuICogQHBhcmFtIGNvdW50IFRoZSBuZXcgY291bnQgdG8gZGlzcGxheS5cbiAqL1xuZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbkNvdW50KGNvdW50OiBudW1iZXIpOiB2b2lkIHtcblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbnNDZW50ZXJTaG93XCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3cpIHtcblx0XHRidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvdy50ZXh0Q29udGVudCA9IGBTaG93IFske2NvdW50fV1gO1xuXHR9XG59XG5cbi8qKlxuICogRGlzcGxheSBhIHZlcnkgYmFzaWMgc2ltcGxlIG5vdGlmaWNhdGlvbi5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd1NpbXBsZU5vdGlmaWNhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3Qgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7XG5cdFx0dGl0bGU6IFwiU2ltcGxlIE5vdGlmaWNhdGlvblwiLFxuXHRcdGJvZHk6IFwiVGhpcyBpcyBhIHNpbXBsZSBub3RpZmljYXRpb25cIixcblx0XHR0b2FzdDogXCJ0cmFuc2llbnRcIixcblx0XHRjYXRlZ29yeTogXCJkZWZhdWx0XCIsXG5cdFx0dGVtcGxhdGU6IFwibWFya2Rvd25cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHNvdW5kT3B0aW9uczoge1xuXHRcdFx0bW9kZTogXCJzaWxlbnRcIlxuXHRcdH0sXG5cdFx0cGxhdGZvcm06IFBMQVRGT1JNX0lEXG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogU2hvdyBhIG5vdGlmaWNhdGlvbiB3aGljaCBjYW4gYmUgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIG9uIHRoZSBib2R5LlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93U2ltcGxlTm90aWZpY2F0aW9uQm9keURpc21pc3MoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIlNpbXBsZSBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBzaW1wbGUgbm90aWZpY2F0aW9uIHRoYXQgYmUgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIHRoZSBib2R5XCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0aWQ6IHJhbmRvbVVVSUQoKSxcblx0XHRwbGF0Zm9ybTogUExBVEZPUk1fSUQsXG5cdFx0b25TZWxlY3Q6IHsgQk9EWV9DTElDSzogTm90aWZpY2F0aW9ucy5BY3Rpb25Cb2R5Q2xpY2tUeXBlLkRJU01JU1NfRVZFTlQgfVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2hpY2ggY2FuIGJlIGRpc21pc3NlZCBieSBjbGlja2luZyBvbiB0aGUgYm9keSBhbmQgdGhlbiB0cmlnZ2VyIGEgY3VzdG9tIGFjdGlvbi5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd1NpbXBsZU5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzQWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJTaW1wbGUgTm90aWZpY2F0aW9uXCIsXG5cdFx0Ym9keTogXCJUaGlzIGlzIGEgc2ltcGxlIG5vdGlmaWNhdGlvbiB0aGF0IGJlIGRpc21pc3NlZCBieSBjbGlja2luZyB0aGUgYm9keSBhbmQgdHJpZ2dlciBjdXN0b20gYWN0aW9uXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0aWQ6IHJhbmRvbVVVSUQoKSxcblx0XHRwbGF0Zm9ybTogUExBVEZPUk1fSUQsXG5cdFx0b25TZWxlY3Q6IHsgQk9EWV9DTElDSzogTm90aWZpY2F0aW9ucy5BY3Rpb25Cb2R5Q2xpY2tUeXBlLkRJU01JU1NfRVZFTlQgfSxcblx0XHRjdXN0b21EYXRhOiB7XG5cdFx0XHRhY3Rpb246IFwiY3VzdG9tLWFjdGlvblwiLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRtZXNzYWdlOiBcIkJvZHkgY2xpY2sgY3VzdG9tIGFjdGlvblwiXG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2hpY2ggaGFzIGFjdGlvbiBidXR0b25zLCB0aGUgZXZlbnRzIHJldHVybmVkIHdpbGxcbiAqIGJlIGhhbmRsZWQgdGhlIHRoZSBub3RpZmljYXRpb24tYWN0aW9uIGxpc3RlbmVyLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93QWN0aW9uYWJsZU5vdGlmaWNhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3Qgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7XG5cdFx0dGl0bGU6IFwiQWN0aW9uYWJsZSBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBub3RpZmljYXRpb24gdGhhdCBoYXMgYW4gYWN0aW9uXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0aWQ6IHJhbmRvbVVVSUQoKSxcblx0XHRwbGF0Zm9ybTogUExBVEZPUk1fSUQsXG5cdFx0YnV0dG9uczogW1xuXHRcdFx0e1xuXHRcdFx0XHR0aXRsZTogXCJBY2tub3dsZWRnZWRcIixcblx0XHRcdFx0dHlwZTogXCJidXR0b25cIixcblx0XHRcdFx0Y3RhOiB0cnVlLFxuXHRcdFx0XHRvbkNsaWNrOiB7XG5cdFx0XHRcdFx0dGFzazogXCJhY2tub3dsZWRnZS10YXNrXCIsXG5cdFx0XHRcdFx0Y3VzdG9tRGF0YToge1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogXCJUaGlzIGlzIHRoZSByZXNwb25zZSBkYXRhXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBcIkNhbmNlbFwiLFxuXHRcdFx0XHR0eXBlOiBcImJ1dHRvblwiXG5cdFx0XHR9XG5cdFx0XVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2hpY2ggaGFzIGZvcm0gZmllbGRzLCB0aGUgZGF0YSBmcm9tIHRoZSBmb3JtIHdpbGxcbiAqIGJlIHJldHVybmVkIHRvIHRoZSBub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWQgbGlzdGVuZXIuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dGb3JtTm90aWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJGb3JtIE5vdGlmaWNhdGlvblwiLFxuXHRcdGJvZHk6IFwiVGhpcyBpcyBhIG5vdGlmaWNhdGlvbiB0aGF0IGhhcyBmb3JtIGRhdGFcIixcblx0XHR0b2FzdDogXCJ0cmFuc2llbnRcIixcblx0XHRjYXRlZ29yeTogXCJkZWZhdWx0XCIsXG5cdFx0dGVtcGxhdGU6IFwibWFya2Rvd25cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHBsYXRmb3JtOiBQTEFURk9STV9JRCxcblx0XHRmb3JtOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGtleTogXCJhbW91bnRcIixcblx0XHRcdFx0bGFiZWw6IFwiQW1vdW50XCIsXG5cdFx0XHRcdHR5cGU6IFwibnVtYmVyXCIsXG5cdFx0XHRcdHdpZGdldDoge1xuXHRcdFx0XHRcdHR5cGU6IFwiTnVtYmVyXCIsXG5cdFx0XHRcdFx0bWF4OiAxMDAsXG5cdFx0XHRcdFx0bWluOiAxXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHZhbGlkYXRpb246IHtcblx0XHRcdFx0XHRtaW46IHtcblx0XHRcdFx0XHRcdGFyZzogMSxcblx0XHRcdFx0XHRcdGludmFsaWRNZXNzYWdlOiBcIk11c3QgYmUgYXQgbGVhc3QgMVwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtYXg6IHtcblx0XHRcdFx0XHRcdGFyZzogMTAwLFxuXHRcdFx0XHRcdFx0aW52YWxpZE1lc3NhZ2U6IFwiQ2Fubm90IGJlIG1vcmUgdGhhbiAxMDBcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHtcblx0XHRcdFx0XHRcdGFyZzogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0YnV0dG9uczogW1xuXHRcdFx0e1xuXHRcdFx0XHR0aXRsZTogXCJTYXZlXCIsXG5cdFx0XHRcdHR5cGU6IFwiYnV0dG9uXCIsXG5cdFx0XHRcdGN0YTogdHJ1ZSxcblx0XHRcdFx0c3VibWl0OiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0aXRsZTogXCJDYW5jZWxcIixcblx0XHRcdFx0dHlwZTogXCJidXR0b25cIlxuXHRcdFx0fVxuXHRcdF1cblx0fTtcblxuXHRjb2RlU2hvd0V4YW1wbGUobm90aWZpY2F0aW9uKTtcblx0YXdhaXQgTm90aWZpY2F0aW9ucy5jcmVhdGUobm90aWZpY2F0aW9uKTtcbn1cblxuLyoqXG4gKiBTaG93IGEgbm90aWZpY2F0aW9uIHdoaWNoIGhhcyBmb3JtIGZpZWxkcywgdGhlIGRhdGEgZnJvbSB0aGUgZm9ybSB3aWxsXG4gKiBiZSByZXR1cm5lZCB0byB0aGUgbm90aWZpY2F0aW9uLWZvcm0tc3VibWl0dGVkIGxpc3RlbmVyLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93Rm9ybUFkdmFuY2VkTm90aWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJGb3JtIEFkdmFuY2VkIE5vdGlmaWNhdGlvblwiLFxuXHRcdGJvZHk6IFwiVGhpcyBpcyBhIG5vdGlmaWNhdGlvbiB0aGF0IGhhcyBmb3JtIGRhdGFcIixcblx0XHR0b2FzdDogXCJ0cmFuc2llbnRcIixcblx0XHRjYXRlZ29yeTogXCJkZWZhdWx0XCIsXG5cdFx0dGVtcGxhdGU6IFwibWFya2Rvd25cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHBsYXRmb3JtOiBQTEFURk9STV9JRCxcblx0XHRmb3JtOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0XHRcdGtleTogXCJib29rXCIsXG5cdFx0XHRcdGxhYmVsOiBcIkJvb2tcIixcblx0XHRcdFx0aGVscGVyVGV4dDogXCJUaGlzIGlzIHVzZWQgdG8gbG9vayB1cCBmb3IgYm9va1wiLFxuXHRcdFx0XHR3aWRnZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcIlRleHRcIixcblx0XHRcdFx0XHRwbGFjZWhvbGRlcjogXCJCb29rIG5hbWVcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR2YWxpZGF0aW9uOiB7XG5cdFx0XHRcdFx0bWluOiB7XG5cdFx0XHRcdFx0XHRhcmc6IDcsXG5cdFx0XHRcdFx0XHRpbnZhbGlkTWVzc2FnZTogXCJNdXN0IGJlIGF0IGxlYXN0IDcgY2hhcnMgbG9uZ1wiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtYXg6IHtcblx0XHRcdFx0XHRcdGFyZzogOSxcblx0XHRcdFx0XHRcdGludmFsaWRNZXNzYWdlOiBcIk11c3QgYmUgYXQgbW9zdCA5IGNoYXJzIGxvbmdcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHtcblx0XHRcdFx0XHRcdGFyZzogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0dmFsdWU6IFwiMTIzNDU1NFwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInRpbWVcIixcblx0XHRcdFx0a2V5OiBcIndoYXRfdGltZVwiLFxuXHRcdFx0XHRsYWJlbDogXCJDaG9zZSB0aW1lP1wiLFxuXHRcdFx0XHRoZWxwZXJUZXh0OiBcIlNvbWUgdGltZSBjaG9vc2luZyBoZWxwZXIgdGV4dFwiLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdGhvdXI6IDEyXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHZhbGlkYXRpb246IHtcblx0XHRcdFx0XHRyZXF1aXJlZDoge1xuXHRcdFx0XHRcdFx0YXJnOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3aWRnZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcIlRpbWVcIlxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcImRhdGVcIixcblx0XHRcdFx0a2V5OiBcImRhdGVfcGlja3VwXCIsXG5cdFx0XHRcdGxhYmVsOiBcIldoZW4gdG8gcGljayB1cD9cIixcblx0XHRcdFx0aGVscGVyVGV4dDogXCJTb21lIGRhdGUgY2hvb3NpbmcgaGVscGVyIHRleHRcIixcblx0XHRcdFx0dmFsaWRhdGlvbjoge1xuXHRcdFx0XHRcdHJlcXVpcmVkOiB7XG5cdFx0XHRcdFx0XHRhcmc6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdpZGdldDoge1xuXHRcdFx0XHRcdHR5cGU6IFwiRGF0ZVwiXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0XHRcdGtleTogXCJib29rMlwiLFxuXHRcdFx0XHRsYWJlbDogXCJCb29rIFR5cGVcIixcblx0XHRcdFx0aGVscGVyVGV4dDogXCJUaGlzIGlzIHVzZWQgdG8gbG9vayB1cCBmb3IgYm9va1wiLFxuXHRcdFx0XHR2YWxpZGF0aW9uOiB7XG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHtcblx0XHRcdFx0XHRcdGFyZzogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJEcm9wZG93blwiLFxuXHRcdFx0XHRcdG9wdGlvbnM6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiYm9vazFcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiQm9vayAxXCJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcImJvb2syXCIsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIkJvb2sgMlwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJib29rM1wiLFxuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJCb29rIDNcIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogXCJyYWRpb0dyb3VwXCIsXG5cdFx0XHRcdGtleTogXCJyYWRpb0dyb3VwRGVtb1wiLFxuXHRcdFx0XHRsYWJlbDogXCJDaG9zZSBvbmVcIixcblx0XHRcdFx0aGVscGVyVGV4dDogXCJTb21lIHJhZGlvIGNob29zaW5nIGhlbHBlciB0ZXh0XCIsXG5cdFx0XHRcdHZhbHVlOiBcIm9wdGlvbl8xXCIsXG5cdFx0XHRcdHZhbGlkYXRpb246IHtcblx0XHRcdFx0XHRyZXF1aXJlZDoge1xuXHRcdFx0XHRcdFx0YXJnOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3aWRnZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcIlJhZGlvR3JvdXBcIixcblx0XHRcdFx0XHRncm91cDogW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcHRpb24gMVwiLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fMVwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcHRpb24gMlwiLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fMlwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcHRpb24gM1wiLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fM1wiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcImNoZWNrYm94R3JvdXBcIixcblx0XHRcdFx0a2V5OiBcImNoZWNrYm94R3JvdXBEZW1vXCIsXG5cdFx0XHRcdGxhYmVsOiBcIkNob3NlIE11bHRpcGxlXCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiU29tZSBjaGVja2JveCBjaG9vc2luZyBoZWxwZXIgdGV4dFwiLFxuXHRcdFx0XHR2YWx1ZTogW1wib3B0aW9uXzFcIiwgXCJvcHRpb25fMlwiXSxcblx0XHRcdFx0dmFsaWRhdGlvbjoge1xuXHRcdFx0XHRcdHJlcXVpcmVkOiB7XG5cdFx0XHRcdFx0XHRhcmc6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdpZGdldDoge1xuXHRcdFx0XHRcdHR5cGU6IFwiQ2hlY2tib3hHcm91cFwiLFxuXHRcdFx0XHRcdGdyb3VwOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk9wdGlvbiAxXCIsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIm9wdGlvbl8xXCJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk9wdGlvbiAyXCIsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIm9wdGlvbl8yXCJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk9wdGlvbiAzXCIsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIm9wdGlvbl8zXCJcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRdXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0XHRcdGtleTogXCJkZXNjcmlwdGlvblwiLFxuXHRcdFx0XHRsYWJlbDogXCJEZXNjcmlwdGlvblwiLFxuXHRcdFx0XHR2YWx1ZTogXCJ2ZXJ5IGxvbmcgdGV4dC4uLi5cIixcblx0XHRcdFx0aGVscGVyVGV4dDogXCJUaGlzIGlzIHVzZWQgdG8gbG9vayB1cCBmb3IgYm9va1wiLFxuXHRcdFx0XHR3aWRnZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcIlRleHRcIixcblx0XHRcdFx0XHRtdWx0aWxpbmU6IHRydWUsXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwiV3JpdGUgZGVzY3JpcHRpb25cIixcblx0XHRcdFx0XHRyb3dzOiA1XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwibnVtYmVyXCIsXG5cdFx0XHRcdGtleTogXCJhZ2VcIixcblx0XHRcdFx0bGFiZWw6IFwiQWdlXCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiVGhpcyBpcyB1c2VkIHRvIGxvb2sgdXAgZm9yIGJvb2tcIixcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJOdW1iZXJcIixcblx0XHRcdFx0XHRwbGFjZWhvbGRlcjogXCJFbnRlciBhZ2VcIixcblx0XHRcdFx0XHRtaW46IDEsXG5cdFx0XHRcdFx0bWF4OiA4XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHZhbGlkYXRpb246IHtcblx0XHRcdFx0XHRtaW46IHtcblx0XHRcdFx0XHRcdGFyZzogMFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bWF4OiB7XG5cdFx0XHRcdFx0XHRhcmc6IDlcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlcXVpcmVkOiB7XG5cdFx0XHRcdFx0XHRhcmc6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdLFxuXHRcdGJ1dHRvbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0dGl0bGU6IFwiU2F2ZVwiLFxuXHRcdFx0XHR0eXBlOiBcImJ1dHRvblwiLFxuXHRcdFx0XHRjdGE6IHRydWUsXG5cdFx0XHRcdHN1Ym1pdDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dGl0bGU6IFwiQ2FuY2VsXCIsXG5cdFx0XHRcdHR5cGU6IFwiYnV0dG9uXCJcblx0XHRcdH1cblx0XHRdXG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogU2hvdyBhIG5vdGlmaWNhdGlvbiB0aGF0IGNhbiBiZSB1cGRhdGVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93VXBkYXRhYmxlTm90aWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcblx0Y29uc3Qgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbk9wdGlvbnMgJiB7IGN1c3RvbURhdGE6IHsgY291bnQ6IG51bWJlciB9IH0gPSB7XG5cdFx0dGl0bGU6IFwiVXBkYXRhYmxlIE5vdGlmaWNhdGlvblwiLFxuXHRcdGJvZHk6IFwiVGhpcyBpcyBhbiB1cGRhdGFibGUgbm90aWZpY2F0aW9uXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0Y3VzdG9tRGF0YToge1xuXHRcdFx0Y291bnQ6IDBcblx0XHR9LFxuXHRcdGlkLFxuXHRcdHBsYXRmb3JtOiBQTEFURk9STV9JRFxuXHR9O1xuXG5cdGlmIChPYmplY3Qua2V5cyh1cGRhdGFibGVOb3RpZmljYXRpb25zKS5sZW5ndGggPT09IDApIHtcblx0XHR1cGRhdGFibGVOb3RpZmljYXRpb25UaW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG5cdFx0XHRmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbklkIGluIHVwZGF0YWJsZU5vdGlmaWNhdGlvbnMpIHtcblx0XHRcdFx0dXBkYXRhYmxlTm90aWZpY2F0aW9uc1tub3RpZmljYXRpb25JZF0uY3VzdG9tRGF0YS5jb3VudCsrO1xuXHRcdFx0XHRjb25zdCBub3RpZmljYXRpb25VcGRhdGU6IE5vdGlmaWNhdGlvbnMuVXBkYXRhYmxlTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZTogXCJtYXJrZG93blwiLFxuXHRcdFx0XHRcdGJvZHk6IGBUaGlzIGlzIGFuIHVwZGF0YWJsZSBub3RpZmljYXRpb24gJHt1cGRhdGFibGVOb3RpZmljYXRpb25zW25vdGlmaWNhdGlvbklkXS5jdXN0b21EYXRhLmNvdW50fWAsXG5cdFx0XHRcdFx0aWQ6IG5vdGlmaWNhdGlvbklkXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0YXdhaXQgTm90aWZpY2F0aW9ucy51cGRhdGUobm90aWZpY2F0aW9uVXBkYXRlKTtcblx0XHRcdH1cblx0XHR9LCAxMDAwKTtcblx0fVxuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xuXG5cdHVwZGF0YWJsZU5vdGlmaWNhdGlvbnNbaWRdID0gbm90aWZpY2F0aW9uO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2l0aCBjdXN0b20gY29udGVudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd0N1c3RvbU5vdGlmaWNhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3Qgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7XG5cdFx0dGl0bGU6IFwiQ3VzdG9tIE5vdGlmaWNhdGlvblwiLFxuXHRcdHRvYXN0OiBcInRyYW5zaWVudFwiLFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJjdXN0b21cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHBsYXRmb3JtOiBQTEFURk9STV9JRCxcblx0XHR0ZW1wbGF0ZU9wdGlvbnM6IHtcblx0XHRcdGJvZHk6IHtcblx0XHRcdFx0Y29tcG9zaXRpb25zOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bWluVGVtcGxhdGVBUElWZXJzaW9uOiBcIjFcIixcblx0XHRcdFx0XHRcdGxheW91dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG5cdFx0XHRcdFx0XHRcdFx0Z2FwOiBcIjEwcHhcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogW1xuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJzdWJUaXRsZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTJweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb250V2VpZ2h0OiBcImJvbGRcIlxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJjb250YWluZXJcIixcblx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IFwiMTBweFwiXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiZmlyc3RWYWx1ZVRpdGxlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEycHhcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiZmlyc3RWYWx1ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxNHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogXCJ2YXIoLS1vcGVuZmluLXVpLWJyYW5kUHJpbWFyeSlcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJjb250YWluZXJcIixcblx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IFwiMTBweFwiXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwic2Vjb25kVmFsdWVUaXRsZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMnB4XCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcInNlY29uZFZhbHVlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjE0cHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBcInZhcigtLW9wZW5maW4tdWktYnJhbmRQcmltYXJ5KVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImV4YW1wbGVJbWFnZVVybFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMHB4XCJcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWN0aW9uYWJsZVRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiYWN0aW9uYWJsZVVybFRpdGxlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHR0b29sdGlwS2V5OiBcImFjdGlvbmFibGVVcmxUb29sdGlwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGlvbklkOiBcIm9wZW4td2ViLXNpdGVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dXJsOiBcImh0dHBzOi8vb3BlbmZpbi5jb1wiXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJncmlkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMWZyIDFmciAxZnJcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3ZlcmZsb3c6IFwiYXV0b1wiXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiYzBcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tb3BlbmZpbi11aS1icmFuZFByaW1hcnkpXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImMxXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjNweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBcInZhcigtLW9wZW5maW4tdWktYnJhbmRQcmltYXJ5KVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJjMlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFkZGluZzogXCIzcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250V2VpZ2h0OiBcImJvbGRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1vcGVuZmluLXVpLWJyYW5kUHJpbWFyeSlcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiZDAwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJkMDFcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFkZGluZzogXCIzcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImQwMlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjNweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiZDEwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJkMTFcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFkZGluZzogXCIzcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImQxMlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjNweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGVtcGxhdGVEYXRhOiB7XG5cdFx0XHRzdWJUaXRsZTogXCJTdWIgVGl0bGUg8J+agFwiLFxuXHRcdFx0Zmlyc3RWYWx1ZVRpdGxlOiBcIkZpcnN0IFZhbHVlXCIsXG5cdFx0XHRmaXJzdFZhbHVlOiBcIjEwMFwiLFxuXHRcdFx0c2Vjb25kVmFsdWVUaXRsZTogXCJTZWNvbmQgVmFsdWVcIixcblx0XHRcdHNlY29uZFZhbHVlOiBcIjIwMFwiLFxuXHRcdFx0YzA6IFwiQ29sIDFcIixcblx0XHRcdGMxOiBcIkNvbCAyXCIsXG5cdFx0XHRjMjogXCJDb2wgM1wiLFxuXHRcdFx0ZDAwOiBcIjUwXCIsXG5cdFx0XHRkMDE6IFwiMTUwXCIsXG5cdFx0XHRkMDI6IFwiMjUwXCIsXG5cdFx0XHRkMTA6IFwiNTUwXCIsXG5cdFx0XHRkMTE6IFwiNjUwXCIsXG5cdFx0XHRkMTI6IFwiNzUwXCIsXG5cdFx0XHRleGFtcGxlSW1hZ2VVcmw6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9leGFtcGxlLnBuZ1wiLFxuXHRcdFx0YWN0aW9uYWJsZVVybFRpdGxlOiBcIk9wZW5GaW4gV2Vic2l0ZVwiLFxuXHRcdFx0YWN0aW9uYWJsZVVybFRvb2x0aXA6IFwiaHR0cDovL3d3dy5vcGVuZmluLmNvXCJcblx0XHR9XG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogU2hvdyBhIG5vdGlmaWNhdGlvbiBhbmQgcGxheSBhIHNvdW5kIHdpdGggaXQuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uU291bmRVcmwgVGhlIHVybCBvZiB0aGUgc291bmRzIGZpbGUgdG8gcGxheS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd1NvdW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvblNvdW5kVXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0Ly8gd2UgZGlzYWJsZSB0aGUgc291bmQgaWYgaXQgaXMgZW5hYmxlZCBhdCB0aGUgTm90aWZpY2F0aW9uIENlbnRlciBsZXZlbFxuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJTb3VuZCBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBub3RpZmljYXRpb24gd2l0aCBzb3VuZCDwn5SJXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0c291bmRPcHRpb25zOiB7IG1vZGU6IFwic2lsZW50XCIgfSxcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHBsYXRmb3JtOiBQTEFURk9STV9JRFxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBwbGF5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvblNvdW5kVXJsKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHVzZXIgc2V0dGluZ3MgZm9yIHRoZSBub3RpZmljYXRpb24gY2VudGVyLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25DZW50ZXJVc2VyU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IHN0YXR1cyA9IGF3YWl0IE5vdGlmaWNhdGlvbnMuZ2V0VXNlclNldHRpbmdTdGF0dXMoTm90aWZpY2F0aW9ucy5Vc2VyU2V0dGluZ3MuU09VTkRfRU5BQkxFRCk7XG5cdGxvZ2dpbmdBZGRFbnRyeShgU291bmQgRW5hYmxlZDogJHtzdGF0dXN9YCk7XG59XG5cbi8qKlxuICogRGlzcGxheSBhIG5vdGlmaWNhdGlvbiB0aGF0IGhhcyBhbiBpbmRpY2F0b3IgYmFyIG9uIHRoZSBsZWZ0LlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93SW5kaWNhdG9yTm90aWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJJbmRpY2F0b3IgTm90aWZpY2F0aW9uXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0aW5kaWNhdG9yOiB7XG5cdFx0XHR0ZXh0OiBcIkxpbWl0XCJcblx0XHR9LFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJjdXN0b21cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHBsYXRmb3JtOiBQTEFURk9STV9JRCxcblx0XHR0ZW1wbGF0ZU9wdGlvbnM6IHtcblx0XHRcdGJvZHk6IHtcblx0XHRcdFx0Y29tcG9zaXRpb25zOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bWluVGVtcGxhdGVBUElWZXJzaW9uOiBcIjFcIixcblx0XHRcdFx0XHRcdGxheW91dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG5cdFx0XHRcdFx0XHRcdFx0Z2FwOiBcIjEwcHhcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogW1xuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJjb250ZW50XCJcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdF1cblx0XHRcdH0sXG5cdFx0XHRpbmRpY2F0b3I6IHtcblx0XHRcdFx0YWxpZ246IFwibGVmdFwiLFxuXHRcdFx0XHRjb2xvcjogTm90aWZpY2F0aW9ucy5JbmRpY2F0b3JDb2xvci5SRURcblx0XHRcdH1cblx0XHR9LFxuXHRcdHRlbXBsYXRlRGF0YToge1xuXHRcdFx0Y29udGVudDogXCJUaGlzIGlzIGEgY3VzdG9tIG5vdGlmaWNhdGlvbiB3aXRoIGEgcmVkIGluZGljYXRvciBzaG93aW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSB0b2FzdFwiXG5cdFx0fVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIERpc3BsYXkgYSBub3RpZmljYXRpb24gdGhhdCBoYXMgYW4gY3VzdG9tIGluZGljYXRvciBiYXIgY29sb3IgdGhlbWUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dDdXN0b21JbmRpY2F0b3JOb3RpZmljYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIkN1c3RvbSBJbmRpY2F0b3IgTm90aWZpY2F0aW9uXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcImN1c3RvbVwiLFxuXHRcdGlkOiByYW5kb21VVUlEKCksXG5cdFx0cGxhdGZvcm06IFBMQVRGT1JNX0lELFxuXHRcdHRlbXBsYXRlT3B0aW9uczoge1xuXHRcdFx0Ym9keToge1xuXHRcdFx0XHRjb21wb3NpdGlvbnM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRtaW5UZW1wbGF0ZUFQSVZlcnNpb246IFwiMVwiLFxuXHRcdFx0XHRcdFx0bGF5b3V0OiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY29udGFpbmVyXCIsXG5cdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRcdFx0XHRcdFx0ZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcblx0XHRcdFx0XHRcdFx0XHRnYXA6IFwiMTBweFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImNvbnRlbnRcIlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fSxcblx0XHRcdGluZGljYXRvcjoge1xuXHRcdFx0XHRhbGlnbjogXCJyaWdodFwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbmRpY2F0b3I6IHtcblx0XHRcdGNvbG9yOiBcImN1c3RvbS1pbmRpY2F0b3JcIixcblx0XHRcdGZhbGxiYWNrOiBOb3RpZmljYXRpb25zLkluZGljYXRvckNvbG9yLlJFRCxcblx0XHRcdHRleHQ6IFwiQUxFUlQhISFcIlxuXHRcdH0sXG5cdFx0dGVtcGxhdGVEYXRhOiB7XG5cdFx0XHRjb250ZW50OiBcIlRoaXMgaXMgYSBjdXN0b20gbm90aWZpY2F0aW9uIHdpdGggY3VzdG9tIGluZGljYXRvciBzdHlsaW5nXCJcblx0XHR9XG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogUGxheSBhIHNvdW5kLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvblNvdW5kVXJsIFRoZSB1cmwgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBwbGF5LlxuICovXG5hc3luYyBmdW5jdGlvbiBwbGF5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvblNvdW5kVXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgYXVkaW8gPSBuZXcgQXVkaW8obm90aWZpY2F0aW9uU291bmRVcmwpO1xuXHRhd2FpdCBhdWRpby5wbGF5KCk7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgd2hpY2ggY2hlY2tzIGZvciB0aGUgY29ubmVjdGlvbiBjaGFuZ2VkIGV2ZW50LlxuICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW4gdGhlIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gYWRkQ29ubmVjdGlvbkNoYW5nZWRFdmVudExpc3RlbmVyKFxuXHRjYWxsYmFjazogKHN0YXR1czogTm90aWZpY2F0aW9ucy5wcm92aWRlci5Qcm92aWRlclN0YXR1cykgPT4gdm9pZFxuKTogdm9pZCB7XG5cdGlmIChzdGF0dXNJbnRlcnZhbElkID09PSB1bmRlZmluZWQpIHtcblx0XHRzdGF0dXNJbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IHN0YXR1cyA9IGF3YWl0IE5vdGlmaWNhdGlvbnMucHJvdmlkZXIuZ2V0U3RhdHVzKCk7XG5cdFx0XHRpZiAoc3RhdHVzLmNvbm5lY3RlZCAhPT0gbGFzdENvbm5lY3Rpb25TdGF0dXMpIHtcblx0XHRcdFx0bGFzdENvbm5lY3Rpb25TdGF0dXMgPSBzdGF0dXMuY29ubmVjdGVkO1xuXHRcdFx0XHRjYWxsYmFjayhzdGF0dXMpO1xuXHRcdFx0fVxuXHRcdH0sIDEwMDApO1xuXHR9XG59XG5cbi8qKlxuICogUG9seWZpbGxzIHJhbmRvbVVVSUQgaWYgcnVubmluZyBpbiBhIG5vbi1zZWN1cmUgY29udGV4dC5cbiAqIEByZXR1cm5zIFRoZSByYW5kb20gVVVJRC5cbiAqL1xuZnVuY3Rpb24gcmFuZG9tVVVJRCgpOiBzdHJpbmcge1xuXHRpZiAoXCJyYW5kb21VVUlEXCIgaW4gd2luZG93LmNyeXB0bykge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuXHRcdHJldHVybiB3aW5kb3cuY3J5cHRvLnJhbmRvbVVVSUQoKTtcblx0fVxuXHQvLyBQb2x5ZmlsbCB0aGUgd2luZG93LmNyeXB0by5yYW5kb21VVUlEIGlmIHdlIGFyZSBydW5uaW5nIGluIGEgbm9uIHNlY3VyZSBjb250ZXh0IHRoYXQgZG9lc24ndCBoYXZlIGl0XG5cdC8vIHdlIGFyZSBzdGlsbCB1c2luZyB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB3aGljaCBpcyBhbHdheXMgYXZhaWxhYmxlXG5cdC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzI4MDAyMThcblx0LyoqXG5cdCAqIEdldCByYW5kb20gaGV4IHZhbHVlLlxuXHQgKiBAcGFyYW0gYyBUaGUgbnVtYmVyIHRvIGJhc2UgdGhlIHJhbmRvbSB2YWx1ZSBvbi5cblx0ICogQHJldHVybnMgVGhlIHJhbmRvbSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGdldFJhbmRvbUhleChjOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG5cdFx0Y29uc3Qgcm5kID0gd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgKDE1ID4+IChOdW1iZXIoYykgLyA0KSk7XG5cdFx0cmV0dXJuIChcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG5cdFx0XHQoTnVtYmVyKGMpIF4gcm5kKS50b1N0cmluZygxNilcblx0XHQpO1xuXHR9XG5cdHJldHVybiBcIjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMFwiLnJlcGxhY2UoL1swMThdL2csIGdldFJhbmRvbUhleCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=