var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{l:()=>n,G:()=>i});var n={};t.r(n),t.d(n,{mapInteropFromFDC3:()=>p,mapToAppMetaData:()=>c,mapToFDC3App:()=>a,mapToPlatformApp:()=>o});var i={};function s(t){return null==t}function r(t){return function(t){return null!=t&&"string"==typeof t}(t)&&t.trim().length>0}function o(t){return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,manifestType:t.manifestType,manifest:g(t),description:t.description,customConfig:t.customConfig,intents:t.intents,interop:p(t.intents),tags:h(t),version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:l(t.icons),images:d(t.images),private:v(t),autostart:b(t),instanceMode:t.customConfig?.instanceMode,tooltip:t.tooltip,launchPreference:t.customConfig?.launchPreference}}function a(t){const e=`${t.manifestType}`;return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,manifestType:e,manifest:t.manifest,description:t.description,customConfig:f(t),intents:u(t),categories:t.tags??[],version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:m(t),images:y(t),tooltip:t.tooltip}}function c(t){const e=[],n=[];if(Array.isArray(t.icons))for(const n of t.icons)s(n.src)||e.push(n.src);if(Array.isArray(t.images))for(const e of t.images)s(e.src)||n.push(e.src);return{appId:t.appId,description:t.description,icons:e,images:n,name:t.appId,title:t.title,tooltip:t.tooltip,version:t.version}}function p(t){if(s(t))return;const e={};for(const n of t)e[n.name]={contexts:n.contexts,customConfig:n.customConfig,displayName:n.displayName};return{intents:{listensFor:e}}}function u(t){const e=[],n=t.interop?.intents?.listensFor;if(!s(n)){const t=Object.keys(n);for(const i of t){const t=n[i].displayName??i;e.push({name:i,displayName:t,contexts:n[i].contexts,customConfig:n[i].customConfig})}}return 0!==e.length||s(t.intents)?e:t.intents}function f(t){return{autostart:A(t?.autostart,!1).toString(),instanceMode:t.instanceMode,private:A(t.private,!1).toString(),launchPreference:t.launchPreference}}function l(t){if(!Array.isArray(t))return[];const e=[];for(const n of t)e.push({src:n.icon});return e}function m(t){if(!Array.isArray(t.icons))return[];const e=[];for(const n of t.icons)e.push({icon:n.src});return e}function d(t){if(!Array.isArray(t))return[];const e=[];for(const n of t)e.push({src:n.url});return e}function y(t){if(!Array.isArray(t.images))return[];const e=[];for(const n of t.images)e.push({url:n.src});return e}function g(t){return r(t.manifest)&&t.manifest.startsWith("{")?JSON.parse(t.manifest):t.manifest}function h(t){const e=t.tags??t.categories??[];return 0===e.length&&e.push(t.manifestType),e}function v(t){return A(t?.customConfig?.private,!1)}function b(t){return A(t?.customConfig?.autostart,!1)}function A(t,e){if(r(t)||null!=(n=t)&&"boolean"==typeof n)switch(t){case"False":case"false":case!1:return!1;case"True":case"true":case!0:return!0;default:return!e}var n;return e}function M(t){return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,manifestType:E(t),manifest:P(t),description:t.description,instanceMode:t?.hostManifests?.OpenFin?.config?.instanceMode,intents:T(t.interop),interop:t.interop,customConfig:t.customConfig,tags:t.categories,version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:t.icons??[],images:t.screenshots,private:t?.hostManifests?.OpenFin?.config?.private,autostart:t?.hostManifests?.OpenFin?.config?.autostart,launchPreference:t?.hostManifests?.OpenFin?.config?.launchPreference}}function I(t){return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,type:O(t),details:{},description:t.description,categories:t.tags??[],version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:t.icons,screenshots:t.images,tooltip:t.tooltip,interop:C(t),hostManifests:k(t)}}function F(t,e){return{appId:t.appId,description:t.description,icons:t.icons,name:t.name,screenshots:t.images,title:t.title,tooltip:t.tooltip,version:t.version,resultType:e}}function T(t){const e=[],n=t?.intents?.listensFor;if(s(n))return e;const i=Object.keys(n);for(const t of i)e.push({name:t,displayName:n[t].displayName??"",contexts:n[t].contexts});return e}function C(t){if(!s(t.interop))return t.interop;const e={intents:{listensFor:{}}};if(Array.isArray(t.intents)&&t.intents.length>0){const n={};for(const e of t.intents)n[e.name]={displayName:e.displayName,contexts:e.contexts};s(e.intents)||(e.intents.listensFor=n)}return e}function E(t){let e;switch(t.type){case"web":e="inline-view";break;case"native":e="inline-external";break;case"onlineNative":e="desktop-browser";break;case"other":e=t.hostManifests?.OpenFin?.type??"";break;default:e=t.type}return e}function O(t){let e="other";if(s(t.manifestType))return e;switch(t.manifestType){case"inline-view":e="web";break;case"inline-external":e="native";break;case"desktop-browser":e="onlineNative"}return e}function P(t){let e;switch(t.type){case"web":if(!s(t?.details)){const i=t.hostManifests?.OpenFin?.details;e=null==(n=i)||"object"!=typeof n||Array.isArray(n)?{url:(t?.details).url,fdc3InteropApi:"2.0"}:{url:(t?.details).url,fdc3InteropApi:"2.0",...i}}break;case"native":s(t?.details)||(e=t.details);break;case"onlineNative":s(t?.details)||(e=(t?.details).url);break;case"other":e=t.hostManifests?.OpenFin?.details;break;default:e=t.details}var n;return e}function k(t){return{OpenFin:{type:t.manifestType,details:t.manifest,config:{autostart:t.autostart,private:t.private,instanceMode:t.instanceMode,launchPreference:t.launchPreference}}}}t.r(i),t.d(i,{mapIntentsFromFDC3:()=>T,mapToAppMetaData:()=>F,mapToFDC3App:()=>I,mapToPlatformApp:()=>M});var w=e.l,N=e.G;export{w as fdc3Mapper1Point2,N as fdc3Mapper2Point0};
//# sourceMappingURL=fdc3.mapper.bundle.js.map