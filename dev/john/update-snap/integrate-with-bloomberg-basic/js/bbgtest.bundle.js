/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.mjs":
/*!*******************************************************************!*\
  !*** ../../node_modules/@openfin/bloomberg/openfin.bloomberg.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AdapterError: () => (/* binding */ oe),
/* harmony export */   ApiError: () => (/* binding */ ae),
/* harmony export */   InitializationError: () => (/* binding */ ie),
/* harmony export */   InteropError: () => (/* binding */ se),
/* harmony export */   TerminalConnectRequestError: () => (/* binding */ ce),
/* harmony export */   TerminalConnectionError: () => (/* binding */ ue),
/* harmony export */   connect: () => (/* binding */ le),
/* harmony export */   disableLogging: () => (/* binding */ pe),
/* harmony export */   enableLogging: () => (/* binding */ de),
/* harmony export */   getSecurityFromInstrumentContext: () => (/* binding */ ge)
/* harmony export */ });
var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{AdapterError:()=>AdapterError,ApiError:()=>ApiError,InitializationError:()=>InitializationError,InteropError:()=>InteropError,TerminalConnectRequestError:()=>TerminalConnectRequestError,TerminalConnectionError:()=>TerminalConnectionError,connect:()=>te,disableLogging:()=>I,enableLogging:()=>A,getSecurityFromInstrumentContext:()=>b});class ApiError extends Error{constructor(e="An unexpected error has occurred",t){super(e),this.name=this.constructor.name,this.stack=this.stack?.replace(/^(\w*Error)/,`${this.constructor.name}`),t&&(this.data=t)}}class AdapterError extends ApiError{constructor(e="Failed to execute adapter function",t){super(e,t)}}class InitializationError extends ApiError{constructor(e="Failed to initialize adapter",t){super(e,t)}}class InteropError extends ApiError{constructor(e="Failed to execute the interop function",t){super(e,t)}}class ParameterError extends ApiError{constructor(e){super(e=e??"Invalid parameter detected")}}class TerminalConnectionError extends ApiError{constructor(e="Failed to connect to the terminal",t){super(e,t)}}class TerminalConnectRequestError extends ApiError{constructor(e="Terminal Connect request failed",t){super(e,t)}}function n(e){return{arrayItems:e}}function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function o(e,t){return{props:e,additional:t}}function a(e){return{props:[],additional:e}}function i(e){return{ref:e}}var s,c,u,l,p;Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date;!function(e){e.AppNotFound="AppNotFound",e.ErrorOnLaunch="ErrorOnLaunch",e.AppTimeout="AppTimeout",e.ResolverUnavailable="ResolverUnavailable",e.MalformedContext="MalformedContext",e.DesktopAgentNotFound="DesktopAgentNotFound"}(s||(s={})),function(e){e.NoAppsFound="NoAppsFound",e.ResolverUnavailable="ResolverUnavailable",e.UserCancelled="UserCancelledResolution",e.ResolverTimeout="ResolverTimeout",e.TargetAppUnavailable="TargetAppUnavailable",e.TargetInstanceUnavailable="TargetInstanceUnavailable",e.IntentDeliveryFailed="IntentDeliveryFailed",e.MalformedContext="MalformedContext",e.DesktopAgentNotFound="DesktopAgentNotFound"}(c||(c={})),function(e){e.NoResultReturned="NoResultReturned",e.IntentHandlerRejected="IntentHandlerRejected"}(u||(u={})),function(e){e.NoChannelFound="NoChannelFound",e.AccessDenied="AccessDenied",e.CreationFailed="CreationFailed",e.MalformedContext="MalformedContext"}(l||(l={})),function(e){e.ResponseTimedOut="ResponseToBridgeTimedOut",e.AgentDisconnected="AgentDisconnected",e.NotConnectedToBridge="NotConnectedToBridge",e.MalformedMessage="MalformedMessage"}(p||(p={}));var d;!function(e){e.Chart="fdc3.chart",e.ChatInitSettings="fdc3.chat.initSettings",e.ChatRoom="fdc3.chat.room",e.Contact="fdc3.contact",e.ContactList="fdc3.contactList",e.Country="fdc3.country",e.Currency="fdc3.currency",e.Email="fdc3.email",e.Instrument="fdc3.instrument",e.InstrumentList="fdc3.instrumentList",e.Interaction="fdc3.interaction",e.Nothing="fdc3.nothing",e.Organization="fdc3.organization",e.Portfolio="fdc3.portfolio",e.Position="fdc3.position",e.ChatSearchCriteria="fdc3.chat.searchCriteria",e.TimeRange="fdc3.timerange",e.TransactionResult="fdc3.transactionResult",e.Valuation="fdc3.valuation"}(d||(d={}));function g(e){return{arrayItems:e}}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function f(e,t){return{props:e,additional:t}}function w(e){return{props:[],additional:e}}function h(e){return{ref:e}}var y;Date,Date,Date,Date,Date,Date;!function(e){e.CreateInteraction="CreateInteraction",e.SendChatMessage="SendChatMessage",e.StartCall="StartCall",e.StartChat="StartChat",e.StartEmail="StartEmail",e.ViewAnalysis="ViewAnalysis",e.ViewChat="ViewChat",e.ViewChart="ViewChart",e.ViewContact="ViewContact",e.ViewHoldings="ViewHoldings",e.ViewInstrument="ViewInstrument",e.ViewInteractions="ViewInteractions",e.ViewMessages="ViewMessages",e.ViewNews="ViewNews",e.ViewOrders="ViewOrders",e.ViewProfile="ViewProfile",e.ViewQuote="ViewQuote",e.ViewResearch="ViewResearch"}(y||(y={}));const C=e=>{const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t)},E=e=>{let t=/\s+([\w-]+$)/.exec(e)?.[1];if(t)return t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase().replace("-m","-M"),t},b=e=>{if(e.type!==d.Instrument)return;const{id:t,market:n}=e,{BBG:r,FIGI:o,ticker:a}=t;if(r||o)return r??o;if(!a)return;return`${a} ${n?.BBG?n.BBG:"US"} Equity`};let v=!1;const D="[@openfin/bloomberg]",I=()=>{v=!1},A=()=>{v=!0,N("v2.0.0")},R=(e,t)=>{if(!v)return;const n=t?`${D} ${t}`:D;e instanceof ApiError&&e.data?console.error(n,e,e.data):console.error(n,e)},N=(...e)=>{v&&console.log(D,...e)},x=(...e)=>{v&&console.warn(D,...e)};var T,S,M;"undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Bloomberg:{enableLogging:A,disableLogging:I}}}),function(e){e.CancelSubscription="CancelSubscription",e.Connect="Connect",e.CreateSubscription="CreateSubscription",e.Disconnect="Disconnect",e.ExecuteRequest="ExecuteRequest",e.LogMessage="LogMessage",e.SubscriptionEvent="SubscriptionEvent"}(T||(T={})),function(e){e[e.Error=0]="Error",e[e.Info=1]="Info",e[e.Warn=2]="Warn"}(S||(S={})),function(e){e.Local="Local",e.Remote="Remote"}(M||(M={}));const V=e=>async()=>{N("Retrieving launchpad groups");const t={query:"query {\n          groups {\n            ... on Groups {\n              items {\n                id\n                name\n                type\n                value\n              }\n            }\n            ... on Error {\n              errorCategory\n              errorMessage\n            }\n          }\n        }"};let n;try{n=await e(T.ExecuteRequest,t)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!n.success){const e=new TerminalConnectRequestError(n.error?.message,n.error);throw R(e),e}if(!n.data){const e=new TerminalConnectRequestError("Unexpected empty response data",n);throw R(e),e}const{groups:r}=JSON.parse(n.data);if(r.items)return r.items;const o=new TerminalConnectRequestError(r.errorMessage,r);throw R(o),o},$=e=>async(t,n)=>{if(null==t||"number"!=typeof t||Number.isNaN(t))throw new ParameterError("Group ID must be a valid number");if(!n?.trim())throw new ParameterError("Group value must be a non-empty string");N("Setting group value",{groupId:t,newValue:n});const r={query:`mutation {\n          setGroupValue(\n            filter: {id: [${t}]},\n            value: "${n}") {\n            ... on GroupResults {\n              results {\n                result {\n                  succeeded\n                  details\n                }\n              }\n            }\n            ... on Error {\n              errorCategory\n              errorMessage\n            }\n          }\n        }`};let o;try{o=await e(T.ExecuteRequest,r)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!o.success){const e=new TerminalConnectRequestError(o.error?.message,o.error);throw R(e),e}if(!o.data){const e=new TerminalConnectRequestError("Unexpected empty response data",o);throw R(e),e}const{setGroupValue:a}=JSON.parse(o.data);if("errorMessage"in a){const e=new TerminalConnectRequestError(a.errorMessage,a);throw R(e),e}},q=new Map,B=async(e,t,n,r)=>{const o=await O(e)(t);if(!o)return;const a=await(e=>async(t=[])=>{N("Creating group subscription",{groupIdFilter:t});const n={query:`subscription {\n        subscribeGroupEvents (\n          filter:{\n            event: [\n              VALUE_CHANGED\n            ]\n            ${t.length?`,group: {id: ${JSON.stringify(t)}}`:""}\n          }){\n          type\n          group{\n            id\n            name\n            value\n          }\n        }\n      }`};let r;try{r=await e(T.CreateSubscription,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectRequestError(r.error?.message,r.error);throw R(e),e}if(!r.data){const e=new TerminalConnectRequestError("Unexpected empty response data",r);throw R(e),e}const{subscriptionId:o}=JSON.parse(r.data);return o})(e)(o),i={id:a,listener:U(n,r),unsubscribe:F(e,a)};return q.set(a,i),i},F=(e,t)=>async()=>{N("Unsubscribing group events",{subscriptionId:t});try{await(e=>async t=>{const n={subscriptionId:t};let r;try{r=await e(T.CancelSubscription,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectRequestError(r.error?.message,r.error);throw R(e),e}})(e)(t)}catch(e){R(e)}q.delete(t)},U=(e,t)=>async n=>{try{e?.(n),N("Setting new context: ",n),await fin.me.interop.setContext(n)}catch(e){const n=new InteropError(void 0,e);R(n),t?.(n)}},P=async(e,t)=>{N("Group event received",{data:t,subscriptionId:e});const{group:n}=t.subscribeGroupEvents;if(!n)return void x("Received group event with no group",{subscriptionId:e});if(!q.has(e))return void x("Received group event for unknown subscription",{subscriptionId:e});const r=q.get(e),o=(e=>{const t={type:d.Instrument,id:{BBG:e}};if("Equity"===E(e)){const[n,r]=e.split(/\s+/);t.id.ticker=n?.toUpperCase(),t.market={BBG:r?.toUpperCase()}}return t})(n.value);o.openfinBbgApi=!0,r?.listener(o)},O=e=>async t=>{if(!t)return;if("*"===t)return[];Array.isArray(t)||(t=[t]);const n=await V(e)(),r=t.map((e=>{const t=n.find((t=>t.name?.toUpperCase()===e.toUpperCase()))?.id;return t||x(`Group not found: ${e}`),t})).filter(Boolean);return r.length?r:void 0},G="bloomberg-adapter",L=`bloomberg-adapter-${void 0!==crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>{const t=crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4;return(Number(e)^t).toString(16)}))}`;let k;const z=async(e=!1)=>{try{if(!await(async e=>(await fin.InterApplicationBus.Channel.getAllChannels()).some((t=>t.channelName===e)))(L)){const{port:t,securityRealm:n}=await fin.System.getRuntimeInfo(),{licenseKey:r}=await fin.Application.getCurrentSync().getManifest(),o=fin.me.uuid;N("Initializing adapter",{channelName:L,licenseKey:r,port:t,securityRealm:n,uuid:o,adapterLoggingEnabled:e}),await(async()=>{const e=await fin.Application.getCurrentSync().getManifest(),t=e.appAssets?.find((e=>e.alias===G));if(t)return void x("Detected adapter package in app manifest appAssets",t);if(await j())return void N("Using existing adapter package");const n={alias:G,src:"https://cdn.openfin.co/release/integrations/bloomberg/2.0.0/OpenFin.Bloomberg.zip",target:"OpenFin.Bloomberg.exe",version:"2.0.0"};N("Downloading adapter package",n);try{await fin.System.downloadAsset(n,(()=>{}))}catch(e){throw R("Unable to download adapter package"),e}})(),fin.System.launchExternalProcess({alias:G,arguments:`"${o}" "${r??""}" "${t}" "${n??""}" "${L}" "${e}"`,lifetime:"application"})}const n=fin.InterApplicationBus.Channel.connect(L,{payload:{version:"2.0.0"}}),r=new Promise((e=>{setTimeout(e,2e4)})).then((()=>{throw new ApiError("Connection to adapter timed out")}));return k=await Promise.race([n,r]),k.register(T.LogMessage,H),k.register(T.SubscriptionEvent,J),N("Connected to adapter",{uuid:k.providerIdentity.uuid}),{channelName:L,dispatch:(...e)=>k.dispatch(...e),initTerminal:(t=k,async e=>{const n={apiKey:e};let r;try{r=await t.dispatch(T.Connect,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectionError(r.error?.message,r.error);throw R(e),e}}),version:"2.0.0"}}catch(e){const t=e instanceof ApiError?new InitializationError(e.message):new InitializationError(void 0,e);throw R(t),t}var t},H=e=>{const{level:t,message:n}=e,r="[adapter]";switch(t){case S.Error:R(n,r);break;case S.Warn:x(r,n);break;case S.Info:default:N(r,n)}},J=async e=>{const{data:t,error:n,subscriptionId:r}=e;if(!r||!t){const t=new TerminalConnectRequestError("Invalid subscription event",e);throw R(t),t}if(n){const e=new TerminalConnectRequestError(void 0,n);throw R(e),e}const o=JSON.parse(t);if(!0===Boolean(o.subscribeGroupEvents))await P(r,o);else x("Received unknown subscription event",t)},j=async()=>{try{return"2.0.0"===(await fin.System.getAppAssetInfo({alias:G})).version}catch(e){return!1}},Q=async(e,t)=>{if(!e)return void x("No action specified, ignoring");if("group"in e){const{group:n,security:r}=e;return void await(e=>async(t,n)=>{if(!n)return;N(`Setting ${"*"===t?"every group":`group ${t}`} security to ${n}`);const r=await V(e)();if("*"===t)await Promise.all(r.map((t=>t.id?$(e)(t.id,n):Promise.resolve())));else{const o=r.find((e=>e.name?.toUpperCase()===t.toUpperCase()))?.id;null==o?x(`Unable to update group security for ${t}: group not found`):await $(e)(o,n)}})(t)(n,r)}const{mnemonic:n,securities:r,target:o,tail:a}=e,[i,s]=r??[];await(e=>async(t,n,r,o,a)=>{if(!t?.trim())throw new ParameterError("Mnemonic must be a non-empty string");if(null==n||"string"==typeof n&&!n?.trim())throw new ParameterError("Target must be a number (0-3) or non-empty string");N("Running terminal function",{mnemonic:t,target:n,security1:r,security2:o,tail:a});const i=t.trim().toUpperCase();let s,c;"number"==typeof n?(s="runFunctionInPanel",c="panel: "+(1===n?"ONE":2===n?"TWO":3===n?"THREE":"ZERO")):(s="runFunctionInTab",c=`tabName: "${n.trim()}"`);const u={query:`mutation {\n        ${s}(input: {\n          mnemonic: "${i}",\n          ${c},\n          ${r?`security1: "${r}"`:""}\n          ${o?`security2: "${o}"`:""}\n          ${a?`tail: "${a}"`:""}\n        }) {\n          ... on Result {\n            succeeded\n            details\n          }\n          ... on Error {\n            errorCategory\n            errorMessage\n          }\n        }\n      }`};let l;try{l=await e(T.ExecuteRequest,u)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!l.success){const e=new TerminalConnectRequestError(l.error?.message,l.error);throw R(e),e}if(l.data){const e=JSON.parse(l.data);let t;if("runFunctionInTab"in e?t=e.runFunctionInTab.errorMessage:"runFunctionInPanel"in e&&(t=e.runFunctionInPanel.errorMessage),t){const n=new TerminalConnectRequestError(t,e);throw R(n),n}}})(t)(n,o,i,s,a)},W=()=>e=>{const t=e,{name:n,id:r}=t,o=r?.BBG??n;if(o)return{mnemonic:"BIO",target:0,tail:o};x("No valid identifier provided in context, ignoring")},Y=e=>t=>{const n=b(t);if(n)return{mnemonic:e,securities:[n],target:0};x("No security provided in context, ignoring")},K=async(e,t,n,r)=>{const o=(()=>{const e=[],t=[];return e.push([d.Instrument,Y("DES")]),e.push([d.Contact,W()]),e.push([d.Organization,_()]),t.push([y.StartChat,[[d.Nothing,Z("IB")],[d.Contact,e=>{const{id:t,name:n}=e;return{mnemonic:"IB",target:0,tail:t.email??n}}]]]),t.push([y.ViewAnalysis,[[d.Nothing,Z("ANR")],[d.Instrument,e=>{const t=b(e);if(!t)return void x("No security provided in context, ignoring");let n;switch(E(t)){case"Equity":case"Index":n="FA";break;case"Corp":case"Govt":case"Mtge":case"Muni":case"Pfd":n="YAS";break;default:n="ANR"}return{mnemonic:n,securities:[t],target:0}}]]]),t.push([y.ViewChart,[[d.Nothing,Z("GIP")],[d.Instrument,Y("GIP")],[d.Chart,e=>{const{interval:t,instruments:n,range:r,style:o}=e,a={mnemonic:"GIP",target:0};let i=!0;const s=b(n?.[0]??e);s&&(a.securities=[s]);const{endTime:c,startTime:u}=r??{};if(u){const e=C(u.toString());if(e&&(a.tail=`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`,i=!1,c)){const e=C(c.toString());e&&(a.tail+=` ${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`)}}switch(o?.toLowerCase()){case"bar":a.mnemonic=i?"IGPO":"GPO";break;case"candle":a.mnemonic=i?"IGPC":"GPC";break;default:a.mnemonic=i?"GIP":"GP"}if(!i&&t)switch(t.toLowerCase()){case"daily":a.tail+=" D";break;case"weekly":a.tail+=" W";break;case"monthly":a.tail+="M";break;case"quarterly":a.tail+=" Q";break;case"yearly":a.tail+=" Y"}return a}]]]),t.push([y.ViewChat,[[d.Nothing,Z("IB")],[d.Contact,e=>{const{id:t,name:n}=e;return{mnemonic:"IB",target:0,tail:t.email??n}}]]]),t.push([y.ViewContact,[[d.Nothing,Z("BIO")],[d.Contact,W()]]]),t.push([y.ViewInstrument,[[d.Nothing,Z("DES")],[d.Instrument,Y("DES")]]]),t.push([y.ViewNews,[[d.Nothing,Z("CN")],[d.Instrument,Y("CN")]]]),t.push([y.ViewProfile,[[d.Nothing,Z("DES")],[d.Contact,W()],[d.Organization,_()]]]),t.push([y.ViewQuote,[[d.Nothing,Z("ALLQ")],[d.Instrument,Y("ALLQ")]]]),t.push([y.ViewResearch,[[d.Nothing,Z("BRC")],[d.Instrument,Y("BRC")]]]),{contexts:e,intents:t}})(),a=(e=>{const t=([e])=>!!(e??"").trim();return{contexts:[...e?.contexts??[]].filter(t),intents:[...e?.intents??[]].filter((([e,n])=>{const r=[...n??[]].filter(t);return!!(e??"").trim()&&r.length>0}))}})(t),i=new Map(o.contexts);a.contexts?.forEach((([e])=>{i.has(e)&&i.delete(e)})),o.contexts=Array.from(i);const s=new Map(o.intents);a.intents?.forEach((([e])=>{s.has(e)&&s.delete(e)})),o.intents=Array.from(s);const c=[...o.contexts,...a.contexts??[]],u=[...o.intents,...a.intents??[]],l=[];let p;c.length&&l.push(fin.me.interop.addContextHandler(((e,t,n,r)=>async o=>{o?!0!==o.openfinBbgApi&&(N("Context received",o),o.type!==d.Nothing?await X(e,o,t,n,r):N("Null context received, ignoring")):N("No context info provided, ignoring")})(e,c,n,r))),u.length&&u.forEach((([t,o])=>{l.push(fin.me.interop.registerIntentHandler(((e,t,n,r)=>async o=>{N("Intent received",o),t?await X(e,o.context,t,n,r):x(`No actions have been provided for intent ${o.name}, ignoring`)})(e,o,n,r),t))}));try{p=await Promise.all(l)}catch(e){const t=new InteropError("Failed to register interop handlers",e);throw R(t),t}return p},Z=e=>t=>({mnemonic:e,target:0}),_=()=>e=>{const{name:t}=e;if(t)return{mnemonic:"SEAR",target:0,tail:t};x("No valid identifier provided in context, ignoring")},X=async(e,t,n,r,o)=>{r?.(t),N("Processing context",t),n.some((([e])=>e===t.type))?await Promise.all(n.filter((([e])=>e===t.type)).map((async([,n])=>{let r;try{r=await n(t)}catch(e){const t=new ApiError("Unexpected error in context action handler",e);return R(t),void o?.(t)}try{await Q(r,e)}catch(e){const t=e instanceof ApiError?e:new ApiError(void 0,e);R(t),o?.(t)}}))):x(`No action has been defined for context type ${t.type}, ignoring`)};var ee;!function(e){e.Bloomberg="BLOOMBERG"}(ee||(ee={}));const te=async(e,t)=>{N("Creating connection",{config:t}),re(ee.Bloomberg);const n=await z(v);await n.initTerminal(e);const{actions:r,interopDisabled:o,onContextChanged:a,onError:i}=t??{},s=void 0===t?.groups?"*":t.groups,c=[];if(!0!==o){c.push(...await K(n.dispatch,r,a,i));const e=await B(n.dispatch,s,a,i);e&&c.push(e)}return{disconnect:ne(n.dispatch,c),executeApiRequest:(u=n.dispatch,async(e,t)=>{N("Executing API request",{query:e});const n={query:e};let r;t&&(n.service=t);try{r=await u(T.ExecuteRequest,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectRequestError(r.error?.message,r.error);throw R(e),e}if(!r.data){const e=new TerminalConnectRequestError("Unexpected empty response data",r);throw R(e),e}const o=JSON.parse(r.data);if("errorMessage"in o){const e=new TerminalConnectRequestError(o.errorMessage,o);throw R(e),e}return o})};var u},ne=(e,t=[])=>async()=>{N("Disconnecting");try{await Promise.all(t.map((async e=>{await e.unsubscribe()}))),await(e=>async()=>{let t;try{t=await e(T.Disconnect,null)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!t.success){const e=new TerminalConnectionError("Failed to disconnect terminal",t.error);throw R(e),e}})(e)()}catch(e){const t=new ApiError("Disconnection failed",e);throw R(t),t}},re=async e=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:"2.0.0",componentName:e}})}catch(t){x(`Unable to register usage for feature ${e}: ${t?.message}`)}};var oe=t.AdapterError,ae=t.ApiError,ie=t.InitializationError,se=t.InteropError,ce=t.TerminalConnectRequestError,ue=t.TerminalConnectionError,le=t.connect,pe=t.disableLogging,de=t.enableLogging,ge=t.getSecurityFromInstrumentContext;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
/*!*******************************!*\
  !*** ./client/src/bbgtest.ts ***!
  \*******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/bloomberg */ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.mjs");

let bbgConnection;
let selectedIntentType = "";
let selectedIntentValue = "";
let fdc3Denomination = "";
let bbgMnemonic = "";
let btnConnect;
let btnDisconnect;
let btnClearLogs;
let btnQuery;
let intentTypeElement;
let intentValueElement;
let logOutput;
const API_KEY = "<Please insert your API key here>";
window.addEventListener("DOMContentLoaded", async () => {
    // Enable logging in the BBG package
    (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    // Initialize the DOM elements.
    initializeDOM();
});
/**
 * Initialize the DOM.
 */
function initializeDOM() {
    btnConnect = document.querySelector("#btnConnect");
    btnDisconnect = document.querySelector("#btnDisconnect");
    btnClearLogs = document.querySelector("#btnClear");
    btnQuery = document.querySelector("#btnQuery");
    intentTypeElement = document.querySelector("#intentType");
    intentValueElement = document.querySelector("#intentValue");
    logOutput = document.querySelector("#logOutput");
    if (btnConnect) {
        btnConnect.addEventListener("click", async () => {
            if (btnConnect) {
                btnConnect.disabled = true;
            }
            await connectToBBGTerminal();
            updateState();
        });
    }
    if (btnDisconnect) {
        btnDisconnect.addEventListener("click", async () => {
            if (btnDisconnect) {
                btnDisconnect.disabled = true;
            }
            await disconnectFromBBGTerminal();
            updateState();
        });
    }
    if (btnClearLogs) {
        btnClearLogs.addEventListener("click", clearLogs);
    }
    if (btnQuery) {
        btnQuery.addEventListener("click", fireIntentForBBG);
    }
    if (intentTypeElement) {
        intentTypeElement.addEventListener("change", (event) => {
            if (intentTypeElement?.value) {
                if (btnQuery) {
                    btnQuery.disabled = true;
                }
                switch (intentTypeElement?.value) {
                    case "ViewChart":
                        logInformation("Intent to be fired is ViewChart. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: GP");
                        selectedIntentType = "ViewChart";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "GP";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                    case "ViewContact":
                        logInformation("Intent to be fired is ViewContact. Content Type is fdc3.contact. Bloomberg Terminal Mnemonic: BIO");
                        selectedIntentType = "ViewContact";
                        fdc3Denomination = "fdc3.contact";
                        bbgMnemonic = "BIO";
                        populateSelect(intentValueElement, [
                            {
                                value: "William Henry Gates",
                                label: "William Henry Gates"
                            },
                            {
                                value: "Larry Ellison",
                                label: "Larry Ellison"
                            },
                            {
                                value: "Robert Iger",
                                label: "Robert Iger"
                            }
                        ]);
                        break;
                    case "ViewInstrument":
                        logInformation("Intent to be fired is ViewInstrument. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: DES");
                        selectedIntentType = "ViewInstrument";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "DES";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                    case "ViewQuote":
                        logInformation("Intent to be fired is ViewQuote. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: Q");
                        selectedIntentType = "ViewQuote";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "Q";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                }
                updateState();
            }
        });
    }
    if (intentValueElement) {
        intentValueElement.addEventListener("change", () => {
            if (intentValueElement) {
                selectedIntentValue = intentValueElement.value;
                if (selectedIntentValue.length > 0) {
                    logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
                }
                updateState();
            }
        });
    }
    updateState();
}
/**
 * Connect to Bloomberg Terminal.
 */
async function connectToBBGTerminal() {
    try {
        logInformation("Checking Bloomberg Terminal Status");
        bbgConnection = await (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.connect)(API_KEY);
        logInformation("Connection successful");
    }
    catch (error) {
        bbgConnection = undefined;
        console.log(error);
        logInformation(errorToString(error));
    }
}
/**
 * Disconnect from Bloomberg Terminal.
 */
async function disconnectFromBBGTerminal() {
    if (bbgConnection) {
        try {
            logInformation("Disconnecting from Bloomberg Terminal");
            await bbgConnection.disconnect();
        }
        finally {
            bbgConnection = undefined;
            logInformation("Disconnected from Bloomberg Terminal");
        }
    }
}
/**
 * Fire an intent.
 */
async function fireIntentForBBG() {
    if (bbgConnection) {
        try {
            logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
            let intent;
            switch (selectedIntentType) {
                case "ViewContact":
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            name: selectedIntentValue,
                            id: {}
                        }
                    };
                    break;
                default:
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            id: {
                                ticker: selectedIntentValue
                            }
                        }
                    };
                    break;
            }
            await fin.me.interop.fireIntent(intent);
        }
        catch (error) {
            logInformation(`Error while trying to raise intent: ${errorToString(error)}`);
        }
    }
    else {
        logInformation("Not connected to the Bloomberg Terminal. Please check your status or log in again.");
    }
}
/**
 * Update the state of the DOM.
 */
function updateState() {
    const isConnected = bbgConnection !== undefined;
    if (btnConnect) {
        btnConnect.disabled = isConnected;
    }
    if (btnDisconnect) {
        btnDisconnect.disabled = !isConnected;
    }
    if (intentTypeElement) {
        intentTypeElement.disabled = !isConnected;
    }
    if (intentValueElement) {
        intentValueElement.disabled = !isConnected || selectedIntentType.length === 0;
    }
    if (btnQuery) {
        btnQuery.disabled = !isConnected || selectedIntentValue.length === 0;
    }
}
/**
 * Log information to the output element.
 * @param info The information to log.
 */
function logInformation(info) {
    if (logOutput) {
        logOutput.textContent = `${logOutput.textContent}${info}\n\n`;
        logOutput.scrollTop = logOutput.scrollHeight;
    }
}
/**
 * Convert and error to a string.
 * @param err The error to convert.
 * @returns The error as a string.
 */
function errorToString(err) {
    if (err instanceof Error) {
        return err.message;
    }
    else if (typeof err === "string") {
        return err;
    }
    return JSON.stringify(err);
}
/**
 * Clear the logs.
 */
function clearLogs() {
    if (logOutput) {
        logOutput.textContent = "";
        logOutput.scrollTop = 0;
    }
}
/**
 * Populate a select control with a list of items.
 * @param select The select element to populate.
 * @param values The values to populate the element with.
 */
function populateSelect(select, values) {
    if (select) {
        select.innerHTML = "";
        const opt = document.createElement("option");
        opt.value = "";
        opt.text = "Please select value";
        opt.disabled = true;
        opt.selected = true;
        select.append(opt);
        for (const val of values) {
            const optVal = document.createElement("option");
            optVal.value = val.value;
            optVal.text = val.label;
            select.append(optVal);
        }
    }
}

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxHQUFHLENBQUMsQ0FBQztJQUN6QixDQUFDO0FBQ0YsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFTLGNBQWMsQ0FBQyxNQUFnQyxFQUFFLE1BQTBDO0lBQ25HLElBQUksTUFBTSxFQUFFLENBQUM7UUFDWixNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUN0QixNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2YsR0FBRyxDQUFDLElBQUksR0FBRyxxQkFBcUIsQ0FBQztRQUNqQyxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNwQixHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNwQixNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRW5CLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7WUFDMUIsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDekIsTUFBTSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO1lBQ3hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdkIsQ0FBQztJQUNGLENBQUM7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9ibG9vbWJlcmcvb3BlbmZpbi5ibG9vbWJlcmcubWpzIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9pbnRlZ3JhdGUtd2l0aC1ibG9vbWJlcmctYmFzaWMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy8uL2NsaWVudC9zcmMvYmJndGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT17ZDoodCxuKT0+e2Zvcih2YXIgciBpbiBuKWUubyhuLHIpJiYhZS5vKHQscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2VudW1lcmFibGU6ITAsZ2V0Om5bcl19KX0sbzooZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQ9e307ZS5kKHQse0FkYXB0ZXJFcnJvcjooKT0+QWRhcHRlckVycm9yLEFwaUVycm9yOigpPT5BcGlFcnJvcixJbml0aWFsaXphdGlvbkVycm9yOigpPT5Jbml0aWFsaXphdGlvbkVycm9yLEludGVyb3BFcnJvcjooKT0+SW50ZXJvcEVycm9yLFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcjooKT0+VGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yLFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yOigpPT5UZXJtaW5hbENvbm5lY3Rpb25FcnJvcixjb25uZWN0OigpPT50ZSxkaXNhYmxlTG9nZ2luZzooKT0+SSxlbmFibGVMb2dnaW5nOigpPT5BLGdldFNlY3VyaXR5RnJvbUluc3RydW1lbnRDb250ZXh0OigpPT5ifSk7Y2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIix0KXtzdXBlcihlKSx0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMuc3RhY2s9dGhpcy5zdGFjaz8ucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCksdCYmKHRoaXMuZGF0YT10KX19Y2xhc3MgQWRhcHRlckVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZT1cIkZhaWxlZCB0byBleGVjdXRlIGFkYXB0ZXIgZnVuY3Rpb25cIix0KXtzdXBlcihlLHQpfX1jbGFzcyBJbml0aWFsaXphdGlvbkVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZT1cIkZhaWxlZCB0byBpbml0aWFsaXplIGFkYXB0ZXJcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBJbnRlcm9wRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGV4ZWN1dGUgdGhlIGludGVyb3AgZnVuY3Rpb25cIix0KXtzdXBlcihlLHQpfX1jbGFzcyBQYXJhbWV0ZXJFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGU9ZT8/XCJJbnZhbGlkIHBhcmFtZXRlciBkZXRlY3RlZFwiKX19Y2xhc3MgVGVybWluYWxDb25uZWN0aW9uRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIHRlcm1pbmFsXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZT1cIlRlcm1pbmFsIENvbm5lY3QgcmVxdWVzdCBmYWlsZWRcIix0KXtzdXBlcihlLHQpfX1mdW5jdGlvbiBuKGUpe3JldHVybnthcnJheUl0ZW1zOmV9fWZ1bmN0aW9uIHIoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm57dW5pb25NZW1iZXJzOnR9fWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm57cHJvcHM6ZSxhZGRpdGlvbmFsOnR9fWZ1bmN0aW9uIGEoZSl7cmV0dXJue3Byb3BzOltdLGFkZGl0aW9uYWw6ZX19ZnVuY3Rpb24gaShlKXtyZXR1cm57cmVmOmV9fXZhciBzLGMsdSxsLHA7RGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZTshZnVuY3Rpb24oZSl7ZS5BcHBOb3RGb3VuZD1cIkFwcE5vdEZvdW5kXCIsZS5FcnJvck9uTGF1bmNoPVwiRXJyb3JPbkxhdW5jaFwiLGUuQXBwVGltZW91dD1cIkFwcFRpbWVvdXRcIixlLlJlc29sdmVyVW5hdmFpbGFibGU9XCJSZXNvbHZlclVuYXZhaWxhYmxlXCIsZS5NYWxmb3JtZWRDb250ZXh0PVwiTWFsZm9ybWVkQ29udGV4dFwiLGUuRGVza3RvcEFnZW50Tm90Rm91bmQ9XCJEZXNrdG9wQWdlbnROb3RGb3VuZFwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuTm9BcHBzRm91bmQ9XCJOb0FwcHNGb3VuZFwiLGUuUmVzb2x2ZXJVbmF2YWlsYWJsZT1cIlJlc29sdmVyVW5hdmFpbGFibGVcIixlLlVzZXJDYW5jZWxsZWQ9XCJVc2VyQ2FuY2VsbGVkUmVzb2x1dGlvblwiLGUuUmVzb2x2ZXJUaW1lb3V0PVwiUmVzb2x2ZXJUaW1lb3V0XCIsZS5UYXJnZXRBcHBVbmF2YWlsYWJsZT1cIlRhcmdldEFwcFVuYXZhaWxhYmxlXCIsZS5UYXJnZXRJbnN0YW5jZVVuYXZhaWxhYmxlPVwiVGFyZ2V0SW5zdGFuY2VVbmF2YWlsYWJsZVwiLGUuSW50ZW50RGVsaXZlcnlGYWlsZWQ9XCJJbnRlbnREZWxpdmVyeUZhaWxlZFwiLGUuTWFsZm9ybWVkQ29udGV4dD1cIk1hbGZvcm1lZENvbnRleHRcIixlLkRlc2t0b3BBZ2VudE5vdEZvdW5kPVwiRGVza3RvcEFnZW50Tm90Rm91bmRcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLk5vUmVzdWx0UmV0dXJuZWQ9XCJOb1Jlc3VsdFJldHVybmVkXCIsZS5JbnRlbnRIYW5kbGVyUmVqZWN0ZWQ9XCJJbnRlbnRIYW5kbGVyUmVqZWN0ZWRcIn0odXx8KHU9e30pKSxmdW5jdGlvbihlKXtlLk5vQ2hhbm5lbEZvdW5kPVwiTm9DaGFubmVsRm91bmRcIixlLkFjY2Vzc0RlbmllZD1cIkFjY2Vzc0RlbmllZFwiLGUuQ3JlYXRpb25GYWlsZWQ9XCJDcmVhdGlvbkZhaWxlZFwiLGUuTWFsZm9ybWVkQ29udGV4dD1cIk1hbGZvcm1lZENvbnRleHRcIn0obHx8KGw9e30pKSxmdW5jdGlvbihlKXtlLlJlc3BvbnNlVGltZWRPdXQ9XCJSZXNwb25zZVRvQnJpZGdlVGltZWRPdXRcIixlLkFnZW50RGlzY29ubmVjdGVkPVwiQWdlbnREaXNjb25uZWN0ZWRcIixlLk5vdENvbm5lY3RlZFRvQnJpZGdlPVwiTm90Q29ubmVjdGVkVG9CcmlkZ2VcIixlLk1hbGZvcm1lZE1lc3NhZ2U9XCJNYWxmb3JtZWRNZXNzYWdlXCJ9KHB8fChwPXt9KSk7dmFyIGQ7IWZ1bmN0aW9uKGUpe2UuQ2hhcnQ9XCJmZGMzLmNoYXJ0XCIsZS5DaGF0SW5pdFNldHRpbmdzPVwiZmRjMy5jaGF0LmluaXRTZXR0aW5nc1wiLGUuQ2hhdFJvb209XCJmZGMzLmNoYXQucm9vbVwiLGUuQ29udGFjdD1cImZkYzMuY29udGFjdFwiLGUuQ29udGFjdExpc3Q9XCJmZGMzLmNvbnRhY3RMaXN0XCIsZS5Db3VudHJ5PVwiZmRjMy5jb3VudHJ5XCIsZS5DdXJyZW5jeT1cImZkYzMuY3VycmVuY3lcIixlLkVtYWlsPVwiZmRjMy5lbWFpbFwiLGUuSW5zdHJ1bWVudD1cImZkYzMuaW5zdHJ1bWVudFwiLGUuSW5zdHJ1bWVudExpc3Q9XCJmZGMzLmluc3RydW1lbnRMaXN0XCIsZS5JbnRlcmFjdGlvbj1cImZkYzMuaW50ZXJhY3Rpb25cIixlLk5vdGhpbmc9XCJmZGMzLm5vdGhpbmdcIixlLk9yZ2FuaXphdGlvbj1cImZkYzMub3JnYW5pemF0aW9uXCIsZS5Qb3J0Zm9saW89XCJmZGMzLnBvcnRmb2xpb1wiLGUuUG9zaXRpb249XCJmZGMzLnBvc2l0aW9uXCIsZS5DaGF0U2VhcmNoQ3JpdGVyaWE9XCJmZGMzLmNoYXQuc2VhcmNoQ3JpdGVyaWFcIixlLlRpbWVSYW5nZT1cImZkYzMudGltZXJhbmdlXCIsZS5UcmFuc2FjdGlvblJlc3VsdD1cImZkYzMudHJhbnNhY3Rpb25SZXN1bHRcIixlLlZhbHVhdGlvbj1cImZkYzMudmFsdWF0aW9uXCJ9KGR8fChkPXt9KSk7ZnVuY3Rpb24gZyhlKXtyZXR1cm57YXJyYXlJdGVtczplfX1mdW5jdGlvbiBtKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJue3VuaW9uTWVtYmVyczp0fX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJue3Byb3BzOmUsYWRkaXRpb25hbDp0fX1mdW5jdGlvbiB3KGUpe3JldHVybntwcm9wczpbXSxhZGRpdGlvbmFsOmV9fWZ1bmN0aW9uIGgoZSl7cmV0dXJue3JlZjplfX12YXIgeTtEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZTshZnVuY3Rpb24oZSl7ZS5DcmVhdGVJbnRlcmFjdGlvbj1cIkNyZWF0ZUludGVyYWN0aW9uXCIsZS5TZW5kQ2hhdE1lc3NhZ2U9XCJTZW5kQ2hhdE1lc3NhZ2VcIixlLlN0YXJ0Q2FsbD1cIlN0YXJ0Q2FsbFwiLGUuU3RhcnRDaGF0PVwiU3RhcnRDaGF0XCIsZS5TdGFydEVtYWlsPVwiU3RhcnRFbWFpbFwiLGUuVmlld0FuYWx5c2lzPVwiVmlld0FuYWx5c2lzXCIsZS5WaWV3Q2hhdD1cIlZpZXdDaGF0XCIsZS5WaWV3Q2hhcnQ9XCJWaWV3Q2hhcnRcIixlLlZpZXdDb250YWN0PVwiVmlld0NvbnRhY3RcIixlLlZpZXdIb2xkaW5ncz1cIlZpZXdIb2xkaW5nc1wiLGUuVmlld0luc3RydW1lbnQ9XCJWaWV3SW5zdHJ1bWVudFwiLGUuVmlld0ludGVyYWN0aW9ucz1cIlZpZXdJbnRlcmFjdGlvbnNcIixlLlZpZXdNZXNzYWdlcz1cIlZpZXdNZXNzYWdlc1wiLGUuVmlld05ld3M9XCJWaWV3TmV3c1wiLGUuVmlld09yZGVycz1cIlZpZXdPcmRlcnNcIixlLlZpZXdQcm9maWxlPVwiVmlld1Byb2ZpbGVcIixlLlZpZXdRdW90ZT1cIlZpZXdRdW90ZVwiLGUuVmlld1Jlc2VhcmNoPVwiVmlld1Jlc2VhcmNoXCJ9KHl8fCh5PXt9KSk7Y29uc3QgQz1lPT57Y29uc3QgdD1EYXRlLnBhcnNlKGUpO2lmKCFOdW1iZXIuaXNOYU4odCkpcmV0dXJuIG5ldyBEYXRlKHQpfSxFPWU9PntsZXQgdD0vXFxzKyhbXFx3LV0rJCkvLmV4ZWMoZSk/LlsxXTtpZih0KXJldHVybiB0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXCItbVwiLFwiLU1cIiksdH0sYj1lPT57aWYoZS50eXBlIT09ZC5JbnN0cnVtZW50KXJldHVybjtjb25zdHtpZDp0LG1hcmtldDpufT1lLHtCQkc6cixGSUdJOm8sdGlja2VyOmF9PXQ7aWYocnx8bylyZXR1cm4gcj8/bztpZighYSlyZXR1cm47cmV0dXJuYCR7YX0gJHtuPy5CQkc/bi5CQkc6XCJVU1wifSBFcXVpdHlgfTtsZXQgdj0hMTtjb25zdCBEPVwiW0BvcGVuZmluL2Jsb29tYmVyZ11cIixJPSgpPT57dj0hMX0sQT0oKT0+e3Y9ITAsTihcInYyLjAuMFwiKX0sUj0oZSx0KT0+e2lmKCF2KXJldHVybjtjb25zdCBuPXQ/YCR7RH0gJHt0fWA6RDtlIGluc3RhbmNlb2YgQXBpRXJyb3ImJmUuZGF0YT9jb25zb2xlLmVycm9yKG4sZSxlLmRhdGEpOmNvbnNvbGUuZXJyb3IobixlKX0sTj0oLi4uZSk9Pnt2JiZjb25zb2xlLmxvZyhELC4uLmUpfSx4PSguLi5lKT0+e3YmJmNvbnNvbGUud2FybihELC4uLmUpfTt2YXIgVCxTLE07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGZpbiYmT2JqZWN0LmFzc2lnbih3aW5kb3cse2Zpbjp7fX0pLE9iamVjdC5hc3NpZ24oZmluLHtJbnRlZ3JhdGlvbnM6e0Jsb29tYmVyZzp7ZW5hYmxlTG9nZ2luZzpBLGRpc2FibGVMb2dnaW5nOkl9fX0pLGZ1bmN0aW9uKGUpe2UuQ2FuY2VsU3Vic2NyaXB0aW9uPVwiQ2FuY2VsU3Vic2NyaXB0aW9uXCIsZS5Db25uZWN0PVwiQ29ubmVjdFwiLGUuQ3JlYXRlU3Vic2NyaXB0aW9uPVwiQ3JlYXRlU3Vic2NyaXB0aW9uXCIsZS5EaXNjb25uZWN0PVwiRGlzY29ubmVjdFwiLGUuRXhlY3V0ZVJlcXVlc3Q9XCJFeGVjdXRlUmVxdWVzdFwiLGUuTG9nTWVzc2FnZT1cIkxvZ01lc3NhZ2VcIixlLlN1YnNjcmlwdGlvbkV2ZW50PVwiU3Vic2NyaXB0aW9uRXZlbnRcIn0oVHx8KFQ9e30pKSxmdW5jdGlvbihlKXtlW2UuRXJyb3I9MF09XCJFcnJvclwiLGVbZS5JbmZvPTFdPVwiSW5mb1wiLGVbZS5XYXJuPTJdPVwiV2FyblwifShTfHwoUz17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJMb2NhbFwiLGUuUmVtb3RlPVwiUmVtb3RlXCJ9KE18fChNPXt9KSk7Y29uc3QgVj1lPT5hc3luYygpPT57TihcIlJldHJpZXZpbmcgbGF1bmNocGFkIGdyb3Vwc1wiKTtjb25zdCB0PXtxdWVyeTpcInF1ZXJ5IHtcXG4gICAgICAgICAgZ3JvdXBzIHtcXG4gICAgICAgICAgICAuLi4gb24gR3JvdXBzIHtcXG4gICAgICAgICAgICAgIGl0ZW1zIHtcXG4gICAgICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgICAgICB0eXBlXFxuICAgICAgICAgICAgICAgIHZhbHVlXFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIC4uLiBvbiBFcnJvciB7XFxuICAgICAgICAgICAgICBlcnJvckNhdGVnb3J5XFxuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cIn07bGV0IG47dHJ5e249YXdhaXQgZShULkV4ZWN1dGVSZXF1ZXN0LHQpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSk7dGhyb3cgUih0KSx0fWlmKCFuLnN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihuLmVycm9yPy5tZXNzYWdlLG4uZXJyb3IpO3Rocm93IFIoZSksZX1pZighbi5kYXRhKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IoXCJVbmV4cGVjdGVkIGVtcHR5IHJlc3BvbnNlIGRhdGFcIixuKTt0aHJvdyBSKGUpLGV9Y29uc3R7Z3JvdXBzOnJ9PUpTT04ucGFyc2Uobi5kYXRhKTtpZihyLml0ZW1zKXJldHVybiByLml0ZW1zO2NvbnN0IG89bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihyLmVycm9yTWVzc2FnZSxyKTt0aHJvdyBSKG8pLG99LCQ9ZT0+YXN5bmModCxuKT0+e2lmKG51bGw9PXR8fFwibnVtYmVyXCIhPXR5cGVvZiB0fHxOdW1iZXIuaXNOYU4odCkpdGhyb3cgbmV3IFBhcmFtZXRlckVycm9yKFwiR3JvdXAgSUQgbXVzdCBiZSBhIHZhbGlkIG51bWJlclwiKTtpZighbj8udHJpbSgpKXRocm93IG5ldyBQYXJhbWV0ZXJFcnJvcihcIkdyb3VwIHZhbHVlIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpO04oXCJTZXR0aW5nIGdyb3VwIHZhbHVlXCIse2dyb3VwSWQ6dCxuZXdWYWx1ZTpufSk7Y29uc3Qgcj17cXVlcnk6YG11dGF0aW9uIHtcXG4gICAgICAgICAgc2V0R3JvdXBWYWx1ZShcXG4gICAgICAgICAgICBmaWx0ZXI6IHtpZDogWyR7dH1dfSxcXG4gICAgICAgICAgICB2YWx1ZTogXCIke259XCIpIHtcXG4gICAgICAgICAgICAuLi4gb24gR3JvdXBSZXN1bHRzIHtcXG4gICAgICAgICAgICAgIHJlc3VsdHMge1xcbiAgICAgICAgICAgICAgICByZXN1bHQge1xcbiAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZFxcbiAgICAgICAgICAgICAgICAgIGRldGFpbHNcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAuLi4gb24gRXJyb3Ige1xcbiAgICAgICAgICAgICAgZXJyb3JDYXRlZ29yeVxcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9YH07bGV0IG87dHJ5e289YXdhaXQgZShULkV4ZWN1dGVSZXF1ZXN0LHIpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSk7dGhyb3cgUih0KSx0fWlmKCFvLnN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihvLmVycm9yPy5tZXNzYWdlLG8uZXJyb3IpO3Rocm93IFIoZSksZX1pZighby5kYXRhKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IoXCJVbmV4cGVjdGVkIGVtcHR5IHJlc3BvbnNlIGRhdGFcIixvKTt0aHJvdyBSKGUpLGV9Y29uc3R7c2V0R3JvdXBWYWx1ZTphfT1KU09OLnBhcnNlKG8uZGF0YSk7aWYoXCJlcnJvck1lc3NhZ2VcImluIGEpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihhLmVycm9yTWVzc2FnZSxhKTt0aHJvdyBSKGUpLGV9fSxxPW5ldyBNYXAsQj1hc3luYyhlLHQsbixyKT0+e2NvbnN0IG89YXdhaXQgTyhlKSh0KTtpZighbylyZXR1cm47Y29uc3QgYT1hd2FpdChlPT5hc3luYyh0PVtdKT0+e04oXCJDcmVhdGluZyBncm91cCBzdWJzY3JpcHRpb25cIix7Z3JvdXBJZEZpbHRlcjp0fSk7Y29uc3Qgbj17cXVlcnk6YHN1YnNjcmlwdGlvbiB7XFxuICAgICAgICBzdWJzY3JpYmVHcm91cEV2ZW50cyAoXFxuICAgICAgICAgIGZpbHRlcjp7XFxuICAgICAgICAgICAgZXZlbnQ6IFtcXG4gICAgICAgICAgICAgIFZBTFVFX0NIQU5HRURcXG4gICAgICAgICAgICBdXFxuICAgICAgICAgICAgJHt0Lmxlbmd0aD9gLGdyb3VwOiB7aWQ6ICR7SlNPTi5zdHJpbmdpZnkodCl9fWA6XCJcIn1cXG4gICAgICAgICAgfSl7XFxuICAgICAgICAgIHR5cGVcXG4gICAgICAgICAgZ3JvdXB7XFxuICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICBuYW1lXFxuICAgICAgICAgICAgdmFsdWVcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIH1gfTtsZXQgcjt0cnl7cj1hd2FpdCBlKFQuQ3JlYXRlU3Vic2NyaXB0aW9uLG4pfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSk7dGhyb3cgUih0KSx0fWlmKCFyLnN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihyLmVycm9yPy5tZXNzYWdlLHIuZXJyb3IpO3Rocm93IFIoZSksZX1pZighci5kYXRhKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IoXCJVbmV4cGVjdGVkIGVtcHR5IHJlc3BvbnNlIGRhdGFcIixyKTt0aHJvdyBSKGUpLGV9Y29uc3R7c3Vic2NyaXB0aW9uSWQ6b309SlNPTi5wYXJzZShyLmRhdGEpO3JldHVybiBvfSkoZSkobyksaT17aWQ6YSxsaXN0ZW5lcjpVKG4sciksdW5zdWJzY3JpYmU6RihlLGEpfTtyZXR1cm4gcS5zZXQoYSxpKSxpfSxGPShlLHQpPT5hc3luYygpPT57TihcIlVuc3Vic2NyaWJpbmcgZ3JvdXAgZXZlbnRzXCIse3N1YnNjcmlwdGlvbklkOnR9KTt0cnl7YXdhaXQoZT0+YXN5bmMgdD0+e2NvbnN0IG49e3N1YnNjcmlwdGlvbklkOnR9O2xldCByO3RyeXtyPWF3YWl0IGUoVC5DYW5jZWxTdWJzY3JpcHRpb24sbil9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQWRhcHRlckVycm9yKHZvaWQgMCxlKTt0aHJvdyBSKHQpLHR9aWYoIXIuc3VjY2Vzcyl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKHIuZXJyb3I/Lm1lc3NhZ2Usci5lcnJvcik7dGhyb3cgUihlKSxlfX0pKGUpKHQpfWNhdGNoKGUpe1IoZSl9cS5kZWxldGUodCl9LFU9KGUsdCk9PmFzeW5jIG49Pnt0cnl7ZT8uKG4pLE4oXCJTZXR0aW5nIG5ldyBjb250ZXh0OiBcIixuKSxhd2FpdCBmaW4ubWUuaW50ZXJvcC5zZXRDb250ZXh0KG4pfWNhdGNoKGUpe2NvbnN0IG49bmV3IEludGVyb3BFcnJvcih2b2lkIDAsZSk7UihuKSx0Py4obil9fSxQPWFzeW5jKGUsdCk9PntOKFwiR3JvdXAgZXZlbnQgcmVjZWl2ZWRcIix7ZGF0YTp0LHN1YnNjcmlwdGlvbklkOmV9KTtjb25zdHtncm91cDpufT10LnN1YnNjcmliZUdyb3VwRXZlbnRzO2lmKCFuKXJldHVybiB2b2lkIHgoXCJSZWNlaXZlZCBncm91cCBldmVudCB3aXRoIG5vIGdyb3VwXCIse3N1YnNjcmlwdGlvbklkOmV9KTtpZighcS5oYXMoZSkpcmV0dXJuIHZvaWQgeChcIlJlY2VpdmVkIGdyb3VwIGV2ZW50IGZvciB1bmtub3duIHN1YnNjcmlwdGlvblwiLHtzdWJzY3JpcHRpb25JZDplfSk7Y29uc3Qgcj1xLmdldChlKSxvPShlPT57Y29uc3QgdD17dHlwZTpkLkluc3RydW1lbnQsaWQ6e0JCRzplfX07aWYoXCJFcXVpdHlcIj09PUUoZSkpe2NvbnN0W24scl09ZS5zcGxpdCgvXFxzKy8pO3QuaWQudGlja2VyPW4/LnRvVXBwZXJDYXNlKCksdC5tYXJrZXQ9e0JCRzpyPy50b1VwcGVyQ2FzZSgpfX1yZXR1cm4gdH0pKG4udmFsdWUpO28ub3BlbmZpbkJiZ0FwaT0hMCxyPy5saXN0ZW5lcihvKX0sTz1lPT5hc3luYyB0PT57aWYoIXQpcmV0dXJuO2lmKFwiKlwiPT09dClyZXR1cm5bXTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IG49YXdhaXQgVihlKSgpLHI9dC5tYXAoKGU9Pntjb25zdCB0PW4uZmluZCgodD0+dC5uYW1lPy50b1VwcGVyQ2FzZSgpPT09ZS50b1VwcGVyQ2FzZSgpKSk/LmlkO3JldHVybiB0fHx4KGBHcm91cCBub3QgZm91bmQ6ICR7ZX1gKSx0fSkpLmZpbHRlcihCb29sZWFuKTtyZXR1cm4gci5sZW5ndGg/cjp2b2lkIDB9LEc9XCJibG9vbWJlcmctYWRhcHRlclwiLEw9YGJsb29tYmVyZy1hZGFwdGVyLSR7dm9pZCAwIT09Y3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcIjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMFwiLnJlcGxhY2UoL1swMThdL2csKGU9Pntjb25zdCB0PWNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj5OdW1iZXIoZSkvNDtyZXR1cm4oTnVtYmVyKGUpXnQpLnRvU3RyaW5nKDE2KX0pKX1gO2xldCBrO2NvbnN0IHo9YXN5bmMoZT0hMSk9Pnt0cnl7aWYoIWF3YWl0KGFzeW5jIGU9Pihhd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmdldEFsbENoYW5uZWxzKCkpLnNvbWUoKHQ9PnQuY2hhbm5lbE5hbWU9PT1lKSkpKEwpKXtjb25zdHtwb3J0OnQsc2VjdXJpdHlSZWFsbTpufT1hd2FpdCBmaW4uU3lzdGVtLmdldFJ1bnRpbWVJbmZvKCkse2xpY2Vuc2VLZXk6cn09YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0TWFuaWZlc3QoKSxvPWZpbi5tZS51dWlkO04oXCJJbml0aWFsaXppbmcgYWRhcHRlclwiLHtjaGFubmVsTmFtZTpMLGxpY2Vuc2VLZXk6cixwb3J0OnQsc2VjdXJpdHlSZWFsbTpuLHV1aWQ6byxhZGFwdGVyTG9nZ2luZ0VuYWJsZWQ6ZX0pLGF3YWl0KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldE1hbmlmZXN0KCksdD1lLmFwcEFzc2V0cz8uZmluZCgoZT0+ZS5hbGlhcz09PUcpKTtpZih0KXJldHVybiB2b2lkIHgoXCJEZXRlY3RlZCBhZGFwdGVyIHBhY2thZ2UgaW4gYXBwIG1hbmlmZXN0IGFwcEFzc2V0c1wiLHQpO2lmKGF3YWl0IGooKSlyZXR1cm4gdm9pZCBOKFwiVXNpbmcgZXhpc3RpbmcgYWRhcHRlciBwYWNrYWdlXCIpO2NvbnN0IG49e2FsaWFzOkcsc3JjOlwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9yZWxlYXNlL2ludGVncmF0aW9ucy9ibG9vbWJlcmcvMi4wLjAvT3BlbkZpbi5CbG9vbWJlcmcuemlwXCIsdGFyZ2V0OlwiT3BlbkZpbi5CbG9vbWJlcmcuZXhlXCIsdmVyc2lvbjpcIjIuMC4wXCJ9O04oXCJEb3dubG9hZGluZyBhZGFwdGVyIHBhY2thZ2VcIixuKTt0cnl7YXdhaXQgZmluLlN5c3RlbS5kb3dubG9hZEFzc2V0KG4sKCgpPT57fSkpfWNhdGNoKGUpe3Rocm93IFIoXCJVbmFibGUgdG8gZG93bmxvYWQgYWRhcHRlciBwYWNrYWdlXCIpLGV9fSkoKSxmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7YWxpYXM6Ryxhcmd1bWVudHM6YFwiJHtvfVwiIFwiJHtyPz9cIlwifVwiIFwiJHt0fVwiIFwiJHtuPz9cIlwifVwiIFwiJHtMfVwiIFwiJHtlfVwiYCxsaWZldGltZTpcImFwcGxpY2F0aW9uXCJ9KX1jb25zdCBuPWZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChMLHtwYXlsb2FkOnt2ZXJzaW9uOlwiMi4wLjBcIn19KSxyPW5ldyBQcm9taXNlKChlPT57c2V0VGltZW91dChlLDJlNCl9KSkudGhlbigoKCk9Pnt0aHJvdyBuZXcgQXBpRXJyb3IoXCJDb25uZWN0aW9uIHRvIGFkYXB0ZXIgdGltZWQgb3V0XCIpfSkpO3JldHVybiBrPWF3YWl0IFByb21pc2UucmFjZShbbixyXSksay5yZWdpc3RlcihULkxvZ01lc3NhZ2UsSCksay5yZWdpc3RlcihULlN1YnNjcmlwdGlvbkV2ZW50LEopLE4oXCJDb25uZWN0ZWQgdG8gYWRhcHRlclwiLHt1dWlkOmsucHJvdmlkZXJJZGVudGl0eS51dWlkfSkse2NoYW5uZWxOYW1lOkwsZGlzcGF0Y2g6KC4uLmUpPT5rLmRpc3BhdGNoKC4uLmUpLGluaXRUZXJtaW5hbDoodD1rLGFzeW5jIGU9Pntjb25zdCBuPXthcGlLZXk6ZX07bGV0IHI7dHJ5e3I9YXdhaXQgdC5kaXNwYXRjaChULkNvbm5lY3Qsbil9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQWRhcHRlckVycm9yKHZvaWQgMCxlKTt0aHJvdyBSKHQpLHR9aWYoIXIuc3VjY2Vzcyl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0aW9uRXJyb3Ioci5lcnJvcj8ubWVzc2FnZSxyLmVycm9yKTt0aHJvdyBSKGUpLGV9fSksdmVyc2lvbjpcIjIuMC4wXCJ9fWNhdGNoKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEFwaUVycm9yP25ldyBJbml0aWFsaXphdGlvbkVycm9yKGUubWVzc2FnZSk6bmV3IEluaXRpYWxpemF0aW9uRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH12YXIgdH0sSD1lPT57Y29uc3R7bGV2ZWw6dCxtZXNzYWdlOm59PWUscj1cIlthZGFwdGVyXVwiO3N3aXRjaCh0KXtjYXNlIFMuRXJyb3I6UihuLHIpO2JyZWFrO2Nhc2UgUy5XYXJuOngocixuKTticmVhaztjYXNlIFMuSW5mbzpkZWZhdWx0Ok4ocixuKX19LEo9YXN5bmMgZT0+e2NvbnN0e2RhdGE6dCxlcnJvcjpuLHN1YnNjcmlwdGlvbklkOnJ9PWU7aWYoIXJ8fCF0KXtjb25zdCB0PW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbiBldmVudFwiLGUpO3Rocm93IFIodCksdH1pZihuKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Iodm9pZCAwLG4pO3Rocm93IFIoZSksZX1jb25zdCBvPUpTT04ucGFyc2UodCk7aWYoITA9PT1Cb29sZWFuKG8uc3Vic2NyaWJlR3JvdXBFdmVudHMpKWF3YWl0IFAocixvKTtlbHNlIHgoXCJSZWNlaXZlZCB1bmtub3duIHN1YnNjcmlwdGlvbiBldmVudFwiLHQpfSxqPWFzeW5jKCk9Pnt0cnl7cmV0dXJuXCIyLjAuMFwiPT09KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0QXBwQXNzZXRJbmZvKHthbGlhczpHfSkpLnZlcnNpb259Y2F0Y2goZSl7cmV0dXJuITF9fSxRPWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm4gdm9pZCB4KFwiTm8gYWN0aW9uIHNwZWNpZmllZCwgaWdub3JpbmdcIik7aWYoXCJncm91cFwiaW4gZSl7Y29uc3R7Z3JvdXA6bixzZWN1cml0eTpyfT1lO3JldHVybiB2b2lkIGF3YWl0KGU9PmFzeW5jKHQsbik9PntpZighbilyZXR1cm47TihgU2V0dGluZyAke1wiKlwiPT09dD9cImV2ZXJ5IGdyb3VwXCI6YGdyb3VwICR7dH1gfSBzZWN1cml0eSB0byAke259YCk7Y29uc3Qgcj1hd2FpdCBWKGUpKCk7aWYoXCIqXCI9PT10KWF3YWl0IFByb21pc2UuYWxsKHIubWFwKCh0PT50LmlkPyQoZSkodC5pZCxuKTpQcm9taXNlLnJlc29sdmUoKSkpKTtlbHNle2NvbnN0IG89ci5maW5kKChlPT5lLm5hbWU/LnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkpKT8uaWQ7bnVsbD09bz94KGBVbmFibGUgdG8gdXBkYXRlIGdyb3VwIHNlY3VyaXR5IGZvciAke3R9OiBncm91cCBub3QgZm91bmRgKTphd2FpdCAkKGUpKG8sbil9fSkodCkobixyKX1jb25zdHttbmVtb25pYzpuLHNlY3VyaXRpZXM6cix0YXJnZXQ6byx0YWlsOmF9PWUsW2ksc109cj8/W107YXdhaXQoZT0+YXN5bmModCxuLHIsbyxhKT0+e2lmKCF0Py50cmltKCkpdGhyb3cgbmV3IFBhcmFtZXRlckVycm9yKFwiTW5lbW9uaWMgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIik7aWYobnVsbD09bnx8XCJzdHJpbmdcIj09dHlwZW9mIG4mJiFuPy50cmltKCkpdGhyb3cgbmV3IFBhcmFtZXRlckVycm9yKFwiVGFyZ2V0IG11c3QgYmUgYSBudW1iZXIgKDAtMykgb3Igbm9uLWVtcHR5IHN0cmluZ1wiKTtOKFwiUnVubmluZyB0ZXJtaW5hbCBmdW5jdGlvblwiLHttbmVtb25pYzp0LHRhcmdldDpuLHNlY3VyaXR5MTpyLHNlY3VyaXR5MjpvLHRhaWw6YX0pO2NvbnN0IGk9dC50cmltKCkudG9VcHBlckNhc2UoKTtsZXQgcyxjO1wibnVtYmVyXCI9PXR5cGVvZiBuPyhzPVwicnVuRnVuY3Rpb25JblBhbmVsXCIsYz1cInBhbmVsOiBcIisoMT09PW4/XCJPTkVcIjoyPT09bj9cIlRXT1wiOjM9PT1uP1wiVEhSRUVcIjpcIlpFUk9cIikpOihzPVwicnVuRnVuY3Rpb25JblRhYlwiLGM9YHRhYk5hbWU6IFwiJHtuLnRyaW0oKX1cImApO2NvbnN0IHU9e3F1ZXJ5OmBtdXRhdGlvbiB7XFxuICAgICAgICAke3N9KGlucHV0OiB7XFxuICAgICAgICAgIG1uZW1vbmljOiBcIiR7aX1cIixcXG4gICAgICAgICAgJHtjfSxcXG4gICAgICAgICAgJHtyP2BzZWN1cml0eTE6IFwiJHtyfVwiYDpcIlwifVxcbiAgICAgICAgICAke28/YHNlY3VyaXR5MjogXCIke299XCJgOlwiXCJ9XFxuICAgICAgICAgICR7YT9gdGFpbDogXCIke2F9XCJgOlwiXCJ9XFxuICAgICAgICB9KSB7XFxuICAgICAgICAgIC4uLiBvbiBSZXN1bHQge1xcbiAgICAgICAgICAgIHN1Y2NlZWRlZFxcbiAgICAgICAgICAgIGRldGFpbHNcXG4gICAgICAgICAgfVxcbiAgICAgICAgICAuLi4gb24gRXJyb3Ige1xcbiAgICAgICAgICAgIGVycm9yQ2F0ZWdvcnlcXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2VcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIH1gfTtsZXQgbDt0cnl7bD1hd2FpdCBlKFQuRXhlY3V0ZVJlcXVlc3QsdSl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQWRhcHRlckVycm9yKHZvaWQgMCxlKTt0aHJvdyBSKHQpLHR9aWYoIWwuc3VjY2Vzcyl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKGwuZXJyb3I/Lm1lc3NhZ2UsbC5lcnJvcik7dGhyb3cgUihlKSxlfWlmKGwuZGF0YSl7Y29uc3QgZT1KU09OLnBhcnNlKGwuZGF0YSk7bGV0IHQ7aWYoXCJydW5GdW5jdGlvbkluVGFiXCJpbiBlP3Q9ZS5ydW5GdW5jdGlvbkluVGFiLmVycm9yTWVzc2FnZTpcInJ1bkZ1bmN0aW9uSW5QYW5lbFwiaW4gZSYmKHQ9ZS5ydW5GdW5jdGlvbkluUGFuZWwuZXJyb3JNZXNzYWdlKSx0KXtjb25zdCBuPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IodCxlKTt0aHJvdyBSKG4pLG59fX0pKHQpKG4sbyxpLHMsYSl9LFc9KCk9PmU9Pntjb25zdCB0PWUse25hbWU6bixpZDpyfT10LG89cj8uQkJHPz9uO2lmKG8pcmV0dXJue21uZW1vbmljOlwiQklPXCIsdGFyZ2V0OjAsdGFpbDpvfTt4KFwiTm8gdmFsaWQgaWRlbnRpZmllciBwcm92aWRlZCBpbiBjb250ZXh0LCBpZ25vcmluZ1wiKX0sWT1lPT50PT57Y29uc3Qgbj1iKHQpO2lmKG4pcmV0dXJue21uZW1vbmljOmUsc2VjdXJpdGllczpbbl0sdGFyZ2V0OjB9O3goXCJObyBzZWN1cml0eSBwcm92aWRlZCBpbiBjb250ZXh0LCBpZ25vcmluZ1wiKX0sSz1hc3luYyhlLHQsbixyKT0+e2NvbnN0IG89KCgpPT57Y29uc3QgZT1bXSx0PVtdO3JldHVybiBlLnB1c2goW2QuSW5zdHJ1bWVudCxZKFwiREVTXCIpXSksZS5wdXNoKFtkLkNvbnRhY3QsVygpXSksZS5wdXNoKFtkLk9yZ2FuaXphdGlvbixfKCldKSx0LnB1c2goW3kuU3RhcnRDaGF0LFtbZC5Ob3RoaW5nLFooXCJJQlwiKV0sW2QuQ29udGFjdCxlPT57Y29uc3R7aWQ6dCxuYW1lOm59PWU7cmV0dXJue21uZW1vbmljOlwiSUJcIix0YXJnZXQ6MCx0YWlsOnQuZW1haWw/P259fV1dXSksdC5wdXNoKFt5LlZpZXdBbmFseXNpcyxbW2QuTm90aGluZyxaKFwiQU5SXCIpXSxbZC5JbnN0cnVtZW50LGU9Pntjb25zdCB0PWIoZSk7aWYoIXQpcmV0dXJuIHZvaWQgeChcIk5vIHNlY3VyaXR5IHByb3ZpZGVkIGluIGNvbnRleHQsIGlnbm9yaW5nXCIpO2xldCBuO3N3aXRjaChFKHQpKXtjYXNlXCJFcXVpdHlcIjpjYXNlXCJJbmRleFwiOm49XCJGQVwiO2JyZWFrO2Nhc2VcIkNvcnBcIjpjYXNlXCJHb3Z0XCI6Y2FzZVwiTXRnZVwiOmNhc2VcIk11bmlcIjpjYXNlXCJQZmRcIjpuPVwiWUFTXCI7YnJlYWs7ZGVmYXVsdDpuPVwiQU5SXCJ9cmV0dXJue21uZW1vbmljOm4sc2VjdXJpdGllczpbdF0sdGFyZ2V0OjB9fV1dXSksdC5wdXNoKFt5LlZpZXdDaGFydCxbW2QuTm90aGluZyxaKFwiR0lQXCIpXSxbZC5JbnN0cnVtZW50LFkoXCJHSVBcIildLFtkLkNoYXJ0LGU9Pntjb25zdHtpbnRlcnZhbDp0LGluc3RydW1lbnRzOm4scmFuZ2U6cixzdHlsZTpvfT1lLGE9e21uZW1vbmljOlwiR0lQXCIsdGFyZ2V0OjB9O2xldCBpPSEwO2NvbnN0IHM9YihuPy5bMF0/P2UpO3MmJihhLnNlY3VyaXRpZXM9W3NdKTtjb25zdHtlbmRUaW1lOmMsc3RhcnRUaW1lOnV9PXI/P3t9O2lmKHUpe2NvbnN0IGU9Qyh1LnRvU3RyaW5nKCkpO2lmKGUmJihhLnRhaWw9YCR7ZS5nZXRNb250aCgpKzF9LyR7ZS5nZXREYXRlKCl9LyR7ZS5nZXRGdWxsWWVhcigpfWAsaT0hMSxjKSl7Y29uc3QgZT1DKGMudG9TdHJpbmcoKSk7ZSYmKGEudGFpbCs9YCAke2UuZ2V0TW9udGgoKSsxfS8ke2UuZ2V0RGF0ZSgpfS8ke2UuZ2V0RnVsbFllYXIoKX1gKX19c3dpdGNoKG8/LnRvTG93ZXJDYXNlKCkpe2Nhc2VcImJhclwiOmEubW5lbW9uaWM9aT9cIklHUE9cIjpcIkdQT1wiO2JyZWFrO2Nhc2VcImNhbmRsZVwiOmEubW5lbW9uaWM9aT9cIklHUENcIjpcIkdQQ1wiO2JyZWFrO2RlZmF1bHQ6YS5tbmVtb25pYz1pP1wiR0lQXCI6XCJHUFwifWlmKCFpJiZ0KXN3aXRjaCh0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcImRhaWx5XCI6YS50YWlsKz1cIiBEXCI7YnJlYWs7Y2FzZVwid2Vla2x5XCI6YS50YWlsKz1cIiBXXCI7YnJlYWs7Y2FzZVwibW9udGhseVwiOmEudGFpbCs9XCJNXCI7YnJlYWs7Y2FzZVwicXVhcnRlcmx5XCI6YS50YWlsKz1cIiBRXCI7YnJlYWs7Y2FzZVwieWVhcmx5XCI6YS50YWlsKz1cIiBZXCJ9cmV0dXJuIGF9XV1dKSx0LnB1c2goW3kuVmlld0NoYXQsW1tkLk5vdGhpbmcsWihcIklCXCIpXSxbZC5Db250YWN0LGU9Pntjb25zdHtpZDp0LG5hbWU6bn09ZTtyZXR1cm57bW5lbW9uaWM6XCJJQlwiLHRhcmdldDowLHRhaWw6dC5lbWFpbD8/bn19XV1dKSx0LnB1c2goW3kuVmlld0NvbnRhY3QsW1tkLk5vdGhpbmcsWihcIkJJT1wiKV0sW2QuQ29udGFjdCxXKCldXV0pLHQucHVzaChbeS5WaWV3SW5zdHJ1bWVudCxbW2QuTm90aGluZyxaKFwiREVTXCIpXSxbZC5JbnN0cnVtZW50LFkoXCJERVNcIildXV0pLHQucHVzaChbeS5WaWV3TmV3cyxbW2QuTm90aGluZyxaKFwiQ05cIildLFtkLkluc3RydW1lbnQsWShcIkNOXCIpXV1dKSx0LnB1c2goW3kuVmlld1Byb2ZpbGUsW1tkLk5vdGhpbmcsWihcIkRFU1wiKV0sW2QuQ29udGFjdCxXKCldLFtkLk9yZ2FuaXphdGlvbixfKCldXV0pLHQucHVzaChbeS5WaWV3UXVvdGUsW1tkLk5vdGhpbmcsWihcIkFMTFFcIildLFtkLkluc3RydW1lbnQsWShcIkFMTFFcIildXV0pLHQucHVzaChbeS5WaWV3UmVzZWFyY2gsW1tkLk5vdGhpbmcsWihcIkJSQ1wiKV0sW2QuSW5zdHJ1bWVudCxZKFwiQlJDXCIpXV1dKSx7Y29udGV4dHM6ZSxpbnRlbnRzOnR9fSkoKSxhPShlPT57Y29uc3QgdD0oW2VdKT0+ISEoZT8/XCJcIikudHJpbSgpO3JldHVybntjb250ZXh0czpbLi4uZT8uY29udGV4dHM/P1tdXS5maWx0ZXIodCksaW50ZW50czpbLi4uZT8uaW50ZW50cz8/W11dLmZpbHRlcigoKFtlLG5dKT0+e2NvbnN0IHI9Wy4uLm4/P1tdXS5maWx0ZXIodCk7cmV0dXJuISEoZT8/XCJcIikudHJpbSgpJiZyLmxlbmd0aD4wfSkpfX0pKHQpLGk9bmV3IE1hcChvLmNvbnRleHRzKTthLmNvbnRleHRzPy5mb3JFYWNoKCgoW2VdKT0+e2kuaGFzKGUpJiZpLmRlbGV0ZShlKX0pKSxvLmNvbnRleHRzPUFycmF5LmZyb20oaSk7Y29uc3Qgcz1uZXcgTWFwKG8uaW50ZW50cyk7YS5pbnRlbnRzPy5mb3JFYWNoKCgoW2VdKT0+e3MuaGFzKGUpJiZzLmRlbGV0ZShlKX0pKSxvLmludGVudHM9QXJyYXkuZnJvbShzKTtjb25zdCBjPVsuLi5vLmNvbnRleHRzLC4uLmEuY29udGV4dHM/P1tdXSx1PVsuLi5vLmludGVudHMsLi4uYS5pbnRlbnRzPz9bXV0sbD1bXTtsZXQgcDtjLmxlbmd0aCYmbC5wdXNoKGZpbi5tZS5pbnRlcm9wLmFkZENvbnRleHRIYW5kbGVyKCgoZSx0LG4scik9PmFzeW5jIG89PntvPyEwIT09by5vcGVuZmluQmJnQXBpJiYoTihcIkNvbnRleHQgcmVjZWl2ZWRcIixvKSxvLnR5cGUhPT1kLk5vdGhpbmc/YXdhaXQgWChlLG8sdCxuLHIpOk4oXCJOdWxsIGNvbnRleHQgcmVjZWl2ZWQsIGlnbm9yaW5nXCIpKTpOKFwiTm8gY29udGV4dCBpbmZvIHByb3ZpZGVkLCBpZ25vcmluZ1wiKX0pKGUsYyxuLHIpKSksdS5sZW5ndGgmJnUuZm9yRWFjaCgoKFt0LG9dKT0+e2wucHVzaChmaW4ubWUuaW50ZXJvcC5yZWdpc3RlckludGVudEhhbmRsZXIoKChlLHQsbixyKT0+YXN5bmMgbz0+e04oXCJJbnRlbnQgcmVjZWl2ZWRcIixvKSx0P2F3YWl0IFgoZSxvLmNvbnRleHQsdCxuLHIpOngoYE5vIGFjdGlvbnMgaGF2ZSBiZWVuIHByb3ZpZGVkIGZvciBpbnRlbnQgJHtvLm5hbWV9LCBpZ25vcmluZ2ApfSkoZSxvLG4sciksdCkpfSkpO3RyeXtwPWF3YWl0IFByb21pc2UuYWxsKGwpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEludGVyb3BFcnJvcihcIkZhaWxlZCB0byByZWdpc3RlciBpbnRlcm9wIGhhbmRsZXJzXCIsZSk7dGhyb3cgUih0KSx0fXJldHVybiBwfSxaPWU9PnQ9Pih7bW5lbW9uaWM6ZSx0YXJnZXQ6MH0pLF89KCk9PmU9Pntjb25zdHtuYW1lOnR9PWU7aWYodClyZXR1cm57bW5lbW9uaWM6XCJTRUFSXCIsdGFyZ2V0OjAsdGFpbDp0fTt4KFwiTm8gdmFsaWQgaWRlbnRpZmllciBwcm92aWRlZCBpbiBjb250ZXh0LCBpZ25vcmluZ1wiKX0sWD1hc3luYyhlLHQsbixyLG8pPT57cj8uKHQpLE4oXCJQcm9jZXNzaW5nIGNvbnRleHRcIix0KSxuLnNvbWUoKChbZV0pPT5lPT09dC50eXBlKSk/YXdhaXQgUHJvbWlzZS5hbGwobi5maWx0ZXIoKChbZV0pPT5lPT09dC50eXBlKSkubWFwKChhc3luYyhbLG5dKT0+e2xldCByO3RyeXtyPWF3YWl0IG4odCl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQXBpRXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIGluIGNvbnRleHQgYWN0aW9uIGhhbmRsZXJcIixlKTtyZXR1cm4gUih0KSx2b2lkIG8/Lih0KX10cnl7YXdhaXQgUShyLGUpfWNhdGNoKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEFwaUVycm9yP2U6bmV3IEFwaUVycm9yKHZvaWQgMCxlKTtSKHQpLG8/Lih0KX19KSkpOngoYE5vIGFjdGlvbiBoYXMgYmVlbiBkZWZpbmVkIGZvciBjb250ZXh0IHR5cGUgJHt0LnR5cGV9LCBpZ25vcmluZ2ApfTt2YXIgZWU7IWZ1bmN0aW9uKGUpe2UuQmxvb21iZXJnPVwiQkxPT01CRVJHXCJ9KGVlfHwoZWU9e30pKTtjb25zdCB0ZT1hc3luYyhlLHQpPT57TihcIkNyZWF0aW5nIGNvbm5lY3Rpb25cIix7Y29uZmlnOnR9KSxyZShlZS5CbG9vbWJlcmcpO2NvbnN0IG49YXdhaXQgeih2KTthd2FpdCBuLmluaXRUZXJtaW5hbChlKTtjb25zdHthY3Rpb25zOnIsaW50ZXJvcERpc2FibGVkOm8sb25Db250ZXh0Q2hhbmdlZDphLG9uRXJyb3I6aX09dD8/e30scz12b2lkIDA9PT10Py5ncm91cHM/XCIqXCI6dC5ncm91cHMsYz1bXTtpZighMCE9PW8pe2MucHVzaCguLi5hd2FpdCBLKG4uZGlzcGF0Y2gscixhLGkpKTtjb25zdCBlPWF3YWl0IEIobi5kaXNwYXRjaCxzLGEsaSk7ZSYmYy5wdXNoKGUpfXJldHVybntkaXNjb25uZWN0Om5lKG4uZGlzcGF0Y2gsYyksZXhlY3V0ZUFwaVJlcXVlc3Q6KHU9bi5kaXNwYXRjaCxhc3luYyhlLHQpPT57TihcIkV4ZWN1dGluZyBBUEkgcmVxdWVzdFwiLHtxdWVyeTplfSk7Y29uc3Qgbj17cXVlcnk6ZX07bGV0IHI7dCYmKG4uc2VydmljZT10KTt0cnl7cj1hd2FpdCB1KFQuRXhlY3V0ZVJlcXVlc3Qsbil9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQWRhcHRlckVycm9yKHZvaWQgMCxlKTt0aHJvdyBSKHQpLHR9aWYoIXIuc3VjY2Vzcyl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKHIuZXJyb3I/Lm1lc3NhZ2Usci5lcnJvcik7dGhyb3cgUihlKSxlfWlmKCFyLmRhdGEpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihcIlVuZXhwZWN0ZWQgZW1wdHkgcmVzcG9uc2UgZGF0YVwiLHIpO3Rocm93IFIoZSksZX1jb25zdCBvPUpTT04ucGFyc2Uoci5kYXRhKTtpZihcImVycm9yTWVzc2FnZVwiaW4gbyl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKG8uZXJyb3JNZXNzYWdlLG8pO3Rocm93IFIoZSksZX1yZXR1cm4gb30pfTt2YXIgdX0sbmU9KGUsdD1bXSk9PmFzeW5jKCk9PntOKFwiRGlzY29ubmVjdGluZ1wiKTt0cnl7YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIGU9Pnthd2FpdCBlLnVuc3Vic2NyaWJlKCl9KSkpLGF3YWl0KGU9PmFzeW5jKCk9PntsZXQgdDt0cnl7dD1hd2FpdCBlKFQuRGlzY29ubmVjdCxudWxsKX1jYXRjaChlKXtjb25zdCB0PW5ldyBBZGFwdGVyRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH1pZighdC5zdWNjZXNzKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3Rpb25FcnJvcihcIkZhaWxlZCB0byBkaXNjb25uZWN0IHRlcm1pbmFsXCIsdC5lcnJvcik7dGhyb3cgUihlKSxlfX0pKGUpKCl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQXBpRXJyb3IoXCJEaXNjb25uZWN0aW9uIGZhaWxlZFwiLGUpO3Rocm93IFIodCksdH19LHJlPWFzeW5jIGU9Pnt0cnl7YXdhaXQgZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwiaW50ZWdyYXRpb24tZmVhdHVyZVwiLGRhdGE6e2FwaVZlcnNpb246XCIyLjAuMFwiLGNvbXBvbmVudE5hbWU6ZX19KX1jYXRjaCh0KXt4KGBVbmFibGUgdG8gcmVnaXN0ZXIgdXNhZ2UgZm9yIGZlYXR1cmUgJHtlfTogJHt0Py5tZXNzYWdlfWApfX07dmFyIG9lPXQuQWRhcHRlckVycm9yLGFlPXQuQXBpRXJyb3IsaWU9dC5Jbml0aWFsaXphdGlvbkVycm9yLHNlPXQuSW50ZXJvcEVycm9yLGNlPXQuVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yLHVlPXQuVGVybWluYWxDb25uZWN0aW9uRXJyb3IsbGU9dC5jb25uZWN0LHBlPXQuZGlzYWJsZUxvZ2dpbmcsZGU9dC5lbmFibGVMb2dnaW5nLGdlPXQuZ2V0U2VjdXJpdHlGcm9tSW5zdHJ1bWVudENvbnRleHQ7ZXhwb3J0e29lIGFzIEFkYXB0ZXJFcnJvcixhZSBhcyBBcGlFcnJvcixpZSBhcyBJbml0aWFsaXphdGlvbkVycm9yLHNlIGFzIEludGVyb3BFcnJvcixjZSBhcyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IsdWUgYXMgVGVybWluYWxDb25uZWN0aW9uRXJyb3IsbGUgYXMgY29ubmVjdCxwZSBhcyBkaXNhYmxlTG9nZ2luZyxkZSBhcyBlbmFibGVMb2dnaW5nLGdlIGFzIGdldFNlY3VyaXR5RnJvbUluc3RydW1lbnRDb250ZXh0fTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGNvbm5lY3QsIGVuYWJsZUxvZ2dpbmcsIHR5cGUgQmxvb21iZXJnQ29ubmVjdGlvbiB9IGZyb20gXCJAb3BlbmZpbi9ibG9vbWJlcmdcIjtcbmltcG9ydCB0eXBlIE9wZW5GaW4gZnJvbSBcIkBvcGVuZmluL2NvcmVcIjtcblxubGV0IGJiZ0Nvbm5lY3Rpb246IEJsb29tYmVyZ0Nvbm5lY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmxldCBzZWxlY3RlZEludGVudFR5cGU6IHN0cmluZyA9IFwiXCI7XG5sZXQgc2VsZWN0ZWRJbnRlbnRWYWx1ZTogc3RyaW5nID0gXCJcIjtcbmxldCBmZGMzRGVub21pbmF0aW9uOiBzdHJpbmcgPSBcIlwiO1xubGV0IGJiZ01uZW1vbmljOiBzdHJpbmcgPSBcIlwiO1xuXG5sZXQgYnRuQ29ubmVjdDogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xubGV0IGJ0bkRpc2Nvbm5lY3Q6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbmxldCBidG5DbGVhckxvZ3M6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbmxldCBidG5RdWVyeTogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xubGV0IGludGVudFR5cGVFbGVtZW50OiBIVE1MU2VsZWN0RWxlbWVudCB8IG51bGw7XG5sZXQgaW50ZW50VmFsdWVFbGVtZW50OiBIVE1MU2VsZWN0RWxlbWVudCB8IG51bGw7XG5sZXQgbG9nT3V0cHV0OiBIVE1MUHJlRWxlbWVudCB8IG51bGw7XG5cbmNvbnN0IEFQSV9LRVkgPSBcIjxQbGVhc2UgaW5zZXJ0IHlvdXIgQVBJIGtleSBoZXJlPlwiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHQvLyBFbmFibGUgbG9nZ2luZyBpbiB0aGUgQkJHIHBhY2thZ2Vcblx0ZW5hYmxlTG9nZ2luZygpO1xuXG5cdC8vIEluaXRpYWxpemUgdGhlIERPTSBlbGVtZW50cy5cblx0aW5pdGlhbGl6ZURPTSgpO1xufSk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplRE9NKCk6IHZvaWQge1xuXHRidG5Db25uZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjYnRuQ29ubmVjdFwiKTtcblx0YnRuRGlzY29ubmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bkRpc2Nvbm5lY3RcIik7XG5cdGJ0bkNsZWFyTG9ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bkNsZWFyXCIpO1xuXHRidG5RdWVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0blF1ZXJ5XCIpO1xuXHRpbnRlbnRUeXBlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFNlbGVjdEVsZW1lbnQ+KFwiI2ludGVudFR5cGVcIik7XG5cdGludGVudFZhbHVlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFNlbGVjdEVsZW1lbnQ+KFwiI2ludGVudFZhbHVlXCIpO1xuXHRsb2dPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxQcmVFbGVtZW50PihcIiNsb2dPdXRwdXRcIik7XG5cblx0aWYgKGJ0bkNvbm5lY3QpIHtcblx0XHRidG5Db25uZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoYnRuQ29ubmVjdCkge1xuXHRcdFx0XHRidG5Db25uZWN0LmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IGNvbm5lY3RUb0JCR1Rlcm1pbmFsKCk7XG5cdFx0XHR1cGRhdGVTdGF0ZSgpO1xuXHRcdH0pO1xuXHR9XG5cdGlmIChidG5EaXNjb25uZWN0KSB7XG5cdFx0YnRuRGlzY29ubmVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKGJ0bkRpc2Nvbm5lY3QpIHtcblx0XHRcdFx0YnRuRGlzY29ubmVjdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBkaXNjb25uZWN0RnJvbUJCR1Rlcm1pbmFsKCk7XG5cdFx0XHR1cGRhdGVTdGF0ZSgpO1xuXHRcdH0pO1xuXHR9XG5cdGlmIChidG5DbGVhckxvZ3MpIHtcblx0XHRidG5DbGVhckxvZ3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsZWFyTG9ncyk7XG5cdH1cblx0aWYgKGJ0blF1ZXJ5KSB7XG5cdFx0YnRuUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZpcmVJbnRlbnRGb3JCQkcpO1xuXHR9XG5cblx0aWYgKGludGVudFR5cGVFbGVtZW50KSB7XG5cdFx0aW50ZW50VHlwZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChpbnRlbnRUeXBlRWxlbWVudD8udmFsdWUpIHtcblx0XHRcdFx0aWYgKGJ0blF1ZXJ5KSB7XG5cdFx0XHRcdFx0YnRuUXVlcnkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN3aXRjaCAoaW50ZW50VHlwZUVsZW1lbnQ/LnZhbHVlKSB7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdDaGFydFwiOlxuXHRcdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFwiSW50ZW50IHRvIGJlIGZpcmVkIGlzIFZpZXdDaGFydC4gQ29udGVudCBUeXBlIGlzIGZkYzMuaW5zdHJ1bWVudC4gQmxvb21iZXJnIFRlcm1pbmFsIE1uZW1vbmljOiBHUFwiXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWRJbnRlbnRUeXBlID0gXCJWaWV3Q2hhcnRcIjtcblx0XHRcdFx0XHRcdGZkYzNEZW5vbWluYXRpb24gPSBcImZkYzMuaW5zdHJ1bWVudFwiO1xuXHRcdFx0XHRcdFx0YmJnTW5lbW9uaWMgPSBcIkdQXCI7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZVNlbGVjdChpbnRlbnRWYWx1ZUVsZW1lbnQsIFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcmFjbGUgQ29ycFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJNU0ZUXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiTWljcm9zb2Z0XCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIklCTVwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdDb250YWN0XCI6XG5cdFx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld0NvbnRhY3QuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmNvbnRhY3QuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogQklPXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdDb250YWN0XCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmNvbnRhY3RcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJCSU9cIjtcblx0XHRcdFx0XHRcdHBvcHVsYXRlU2VsZWN0KGludGVudFZhbHVlRWxlbWVudCwgW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiV2lsbGlhbSBIZW5yeSBHYXRlc1wiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIldpbGxpYW0gSGVucnkgR2F0ZXNcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiTGFycnkgRWxsaXNvblwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIkxhcnJ5IEVsbGlzb25cIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiUm9iZXJ0IElnZXJcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJSb2JlcnQgSWdlclwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdJbnN0cnVtZW50XCI6XG5cdFx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld0luc3RydW1lbnQuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmluc3RydW1lbnQuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogREVTXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdJbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmluc3RydW1lbnRcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJERVNcIjtcblx0XHRcdFx0XHRcdHBvcHVsYXRlU2VsZWN0KGludGVudFZhbHVlRWxlbWVudCwgW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiT1JDTFwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk9yYWNsZSBDb3JwXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk1TRlRcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJNaWNyb3NvZnRcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiSUJNXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiSUJNXCJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiVmlld1F1b3RlXCI6XG5cdFx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld1F1b3RlLiBDb250ZW50IFR5cGUgaXMgZmRjMy5pbnN0cnVtZW50LiBCbG9vbWJlcmcgVGVybWluYWwgTW5lbW9uaWM6IFFcIlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHNlbGVjdGVkSW50ZW50VHlwZSA9IFwiVmlld1F1b3RlXCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmluc3RydW1lbnRcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJRXCI7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZVNlbGVjdChpbnRlbnRWYWx1ZUVsZW1lbnQsIFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcmFjbGUgQ29ycFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJNU0ZUXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiTWljcm9zb2Z0XCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIklCTVwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGlmIChpbnRlbnRWYWx1ZUVsZW1lbnQpIHtcblx0XHRpbnRlbnRWYWx1ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRpZiAoaW50ZW50VmFsdWVFbGVtZW50KSB7XG5cdFx0XHRcdHNlbGVjdGVkSW50ZW50VmFsdWUgPSBpbnRlbnRWYWx1ZUVsZW1lbnQudmFsdWU7XG5cdFx0XHRcdGlmIChzZWxlY3RlZEludGVudFZhbHVlLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdGBhY3Rpb246ICR7c2VsZWN0ZWRJbnRlbnRUeXBlfSwgdHlwZTogJHtmZGMzRGVub21pbmF0aW9ufSwgYmJnIG1uZW1vbmljOiAke2JiZ01uZW1vbmljfSwgc2VhcmNoIHZhbHVlOiAke3NlbGVjdGVkSW50ZW50VmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHVwZGF0ZVN0YXRlKCk7XG59XG5cbi8qKlxuICogQ29ubmVjdCB0byBCbG9vbWJlcmcgVGVybWluYWwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0JCR1Rlcm1pbmFsKCk6IFByb21pc2U8dm9pZD4ge1xuXHR0cnkge1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiQ2hlY2tpbmcgQmxvb21iZXJnIFRlcm1pbmFsIFN0YXR1c1wiKTtcblxuXHRcdGJiZ0Nvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KEFQSV9LRVkpO1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiQ29ubmVjdGlvbiBzdWNjZXNzZnVsXCIpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGJiZ0Nvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XG5cdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdGxvZ0luZm9ybWF0aW9uKGVycm9yVG9TdHJpbmcoZXJyb3IpKTtcblx0fVxufVxuXG4vKipcbiAqIERpc2Nvbm5lY3QgZnJvbSBCbG9vbWJlcmcgVGVybWluYWwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRpc2Nvbm5lY3RGcm9tQkJHVGVybWluYWwoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmIChiYmdDb25uZWN0aW9uKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGxvZ0luZm9ybWF0aW9uKFwiRGlzY29ubmVjdGluZyBmcm9tIEJsb29tYmVyZyBUZXJtaW5hbFwiKTtcblx0XHRcdGF3YWl0IGJiZ0Nvbm5lY3Rpb24uZGlzY29ubmVjdCgpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRiYmdDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuXHRcdFx0bG9nSW5mb3JtYXRpb24oXCJEaXNjb25uZWN0ZWQgZnJvbSBCbG9vbWJlcmcgVGVybWluYWxcIik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmlyZSBhbiBpbnRlbnQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZpcmVJbnRlbnRGb3JCQkcoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmIChiYmdDb25uZWN0aW9uKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGxvZ0luZm9ybWF0aW9uKFxuXHRcdFx0XHRgYWN0aW9uOiAke3NlbGVjdGVkSW50ZW50VHlwZX0sIHR5cGU6ICR7ZmRjM0Rlbm9taW5hdGlvbn0sIGJiZyBtbmVtb25pYzogJHtiYmdNbmVtb25pY30sIHNlYXJjaCB2YWx1ZTogJHtzZWxlY3RlZEludGVudFZhbHVlfWBcblx0XHRcdCk7XG5cblx0XHRcdGxldCBpbnRlbnQ6IE9wZW5GaW4uSW50ZW50O1xuXG5cdFx0XHRzd2l0Y2ggKHNlbGVjdGVkSW50ZW50VHlwZSkge1xuXHRcdFx0XHRjYXNlIFwiVmlld0NvbnRhY3RcIjpcblx0XHRcdFx0XHRpbnRlbnQgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBzZWxlY3RlZEludGVudFR5cGUsXG5cdFx0XHRcdFx0XHRjb250ZXh0OiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IGZkYzNEZW5vbWluYXRpb24sXG5cdFx0XHRcdFx0XHRcdG5hbWU6IHNlbGVjdGVkSW50ZW50VmFsdWUsXG5cdFx0XHRcdFx0XHRcdGlkOiB7fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0aW50ZW50ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogc2VsZWN0ZWRJbnRlbnRUeXBlLFxuXHRcdFx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBmZGMzRGVub21pbmF0aW9uLFxuXHRcdFx0XHRcdFx0XHRpZDoge1xuXHRcdFx0XHRcdFx0XHRcdHRpY2tlcjogc2VsZWN0ZWRJbnRlbnRWYWx1ZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgZmluLm1lLmludGVyb3AuZmlyZUludGVudChpbnRlbnQpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRsb2dJbmZvcm1hdGlvbihgRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHJhaXNlIGludGVudDogJHtlcnJvclRvU3RyaW5nKGVycm9yKX1gKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0bG9nSW5mb3JtYXRpb24oXCJOb3QgY29ubmVjdGVkIHRvIHRoZSBCbG9vbWJlcmcgVGVybWluYWwuIFBsZWFzZSBjaGVjayB5b3VyIHN0YXR1cyBvciBsb2cgaW4gYWdhaW4uXCIpO1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZSgpOiB2b2lkIHtcblx0Y29uc3QgaXNDb25uZWN0ZWQgPSBiYmdDb25uZWN0aW9uICE9PSB1bmRlZmluZWQ7XG5cdGlmIChidG5Db25uZWN0KSB7XG5cdFx0YnRuQ29ubmVjdC5kaXNhYmxlZCA9IGlzQ29ubmVjdGVkO1xuXHR9XG5cdGlmIChidG5EaXNjb25uZWN0KSB7XG5cdFx0YnRuRGlzY29ubmVjdC5kaXNhYmxlZCA9ICFpc0Nvbm5lY3RlZDtcblx0fVxuXHRpZiAoaW50ZW50VHlwZUVsZW1lbnQpIHtcblx0XHRpbnRlbnRUeXBlRWxlbWVudC5kaXNhYmxlZCA9ICFpc0Nvbm5lY3RlZDtcblx0fVxuXHRpZiAoaW50ZW50VmFsdWVFbGVtZW50KSB7XG5cdFx0aW50ZW50VmFsdWVFbGVtZW50LmRpc2FibGVkID0gIWlzQ29ubmVjdGVkIHx8IHNlbGVjdGVkSW50ZW50VHlwZS5sZW5ndGggPT09IDA7XG5cdH1cblx0aWYgKGJ0blF1ZXJ5KSB7XG5cdFx0YnRuUXVlcnkuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQgfHwgc2VsZWN0ZWRJbnRlbnRWYWx1ZS5sZW5ndGggPT09IDA7XG5cdH1cbn1cblxuLyoqXG4gKiBMb2cgaW5mb3JtYXRpb24gdG8gdGhlIG91dHB1dCBlbGVtZW50LlxuICogQHBhcmFtIGluZm8gVGhlIGluZm9ybWF0aW9uIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gbG9nSW5mb3JtYXRpb24oaW5mbzogc3RyaW5nKTogdm9pZCB7XG5cdGlmIChsb2dPdXRwdXQpIHtcblx0XHRsb2dPdXRwdXQudGV4dENvbnRlbnQgPSBgJHtsb2dPdXRwdXQudGV4dENvbnRlbnR9JHtpbmZvfVxcblxcbmA7XG5cdFx0bG9nT3V0cHV0LnNjcm9sbFRvcCA9IGxvZ091dHB1dC5zY3JvbGxIZWlnaHQ7XG5cdH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuZCBlcnJvciB0byBhIHN0cmluZy5cbiAqIEBwYXJhbSBlcnIgVGhlIGVycm9yIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyBUaGUgZXJyb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVycm9yVG9TdHJpbmcoZXJyOiB1bmtub3duKTogc3RyaW5nIHtcblx0aWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0cmV0dXJuIGVyci5tZXNzYWdlO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBlcnIgPT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gZXJyO1xuXHR9XG5cblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycik7XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIGxvZ3MuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyTG9ncygpOiB2b2lkIHtcblx0aWYgKGxvZ091dHB1dCkge1xuXHRcdGxvZ091dHB1dC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0bG9nT3V0cHV0LnNjcm9sbFRvcCA9IDA7XG5cdH1cbn1cblxuLyoqXG4gKiBQb3B1bGF0ZSBhIHNlbGVjdCBjb250cm9sIHdpdGggYSBsaXN0IG9mIGl0ZW1zLlxuICogQHBhcmFtIHNlbGVjdCBUaGUgc2VsZWN0IGVsZW1lbnQgdG8gcG9wdWxhdGUuXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcG9wdWxhdGUgdGhlIGVsZW1lbnQgd2l0aC5cbiAqL1xuZnVuY3Rpb24gcG9wdWxhdGVTZWxlY3Qoc2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudCB8IG51bGwsIHZhbHVlczogeyB2YWx1ZTogc3RyaW5nOyBsYWJlbDogc3RyaW5nIH1bXSk6IHZvaWQge1xuXHRpZiAoc2VsZWN0KSB7XG5cdFx0c2VsZWN0LmlubmVySFRNTCA9IFwiXCI7XG5cdFx0Y29uc3Qgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcblx0XHRvcHQudmFsdWUgPSBcIlwiO1xuXHRcdG9wdC50ZXh0ID0gXCJQbGVhc2Ugc2VsZWN0IHZhbHVlXCI7XG5cdFx0b3B0LmRpc2FibGVkID0gdHJ1ZTtcblx0XHRvcHQuc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdHNlbGVjdC5hcHBlbmQob3B0KTtcblxuXHRcdGZvciAoY29uc3QgdmFsIG9mIHZhbHVlcykge1xuXHRcdFx0Y29uc3Qgb3B0VmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcblx0XHRcdG9wdFZhbC52YWx1ZSA9IHZhbC52YWx1ZTtcblx0XHRcdG9wdFZhbC50ZXh0ID0gdmFsLmxhYmVsO1xuXHRcdFx0c2VsZWN0LmFwcGVuZChvcHRWYWwpO1xuXHRcdH1cblx0fVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9