/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/salesforce/openfin.salesforce.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@openfin/salesforce/openfin.salesforce.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiError": () => (/* binding */ r),
/* harmony export */   "AuthorizationError": () => (/* binding */ o),
/* harmony export */   "ConnectionError": () => (/* binding */ s),
/* harmony export */   "ObjectDataError": () => (/* binding */ a),
/* harmony export */   "ParameterError": () => (/* binding */ c),
/* harmony export */   "QueryError": () => (/* binding */ d),
/* harmony export */   "RestApiError": () => (/* binding */ h),
/* harmony export */   "SearchError": () => (/* binding */ l),
/* harmony export */   "WorkspaceError": () => (/* binding */ u),
/* harmony export */   "connect": () => (/* binding */ p),
/* harmony export */   "disableLogging": () => (/* binding */ w),
/* harmony export */   "enableLogging": () => (/* binding */ f),
/* harmony export */   "getConnection": () => (/* binding */ y)
/* harmony export */ });
var e={9421:(e,t,n)=>{e.exports=n(8448)},994:(e,t,n)=>{var i=n(8446),r=n(8322),o=n(2058),s=n(8982),a=n(5063),c=n(9541),d=n(6497),h=n(2751),l=n(8916),u=n(5142),p=n(5822);e.exports=function(e){return new Promise((function(t,n){var w,f=e.data,y=e.headers,g=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(w),e.signal&&e.signal.removeEventListener("abort",w)}i.isFormData(f)&&i.isStandardBrowserEnv()&&delete y["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var C=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(C+":"+E)}var x=a(e.baseURL,e.url);function A(){if(v){var i="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:i,config:e,request:v};r((function(e){t(e),m()}),(function(e){n(e),m()}),o),v=null}}if(v.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=A:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(A)},v.onabort=function(){v&&(n(new l("Request aborted",l.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new l("Network Error",l.ERR_NETWORK,e,v,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new l(t,i.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,e,v)),v=null},i.isStandardBrowserEnv()){var I=(e.withCredentials||d(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;I&&(y[e.xsrfHeaderName]=I)}"setRequestHeader"in v&&i.forEach(y,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete y[t]:v.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&"json"!==g&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(w=function(e){v&&(n(!e||e&&e.type?new u:e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(w),e.signal&&(e.signal.aborted?w():e.signal.addEventListener("abort",w))),f||(f=null);var b=p(x);b&&-1===["http","https","file"].indexOf(b)?n(new l("Unsupported protocol "+b+":",l.ERR_BAD_REQUEST,e)):v.send(f)}))}},8448:(e,t,n)=>{var i=n(8446),r=n(8962),o=n(5495),s=n(6149),a=function e(t){var n=new o(t),a=r(o.prototype.request,n);return i.extend(a,o.prototype,n),i.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(1586));a.Axios=o,a.CanceledError=n(5142),a.CancelToken=n(543),a.isCancel=n(3452),a.VERSION=n(4474).version,a.toFormData=n(7452),a.AxiosError=n(8916),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(9067),a.isAxiosError=n(1726),e.exports=a,e.exports.default=a},543:(e,t,n)=>{var i=n(5142);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},5142:(e,t,n)=>{var i=n(8916);function r(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}n(8446).inherits(r,i,{__CANCEL__:!0}),e.exports=r},3452:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},5495:(e,t,n)=>{var i=n(8446),r=n(8982),o=n(9582),s=n(6862),a=n(6149),c=n(5063),d=n(1166),h=d.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&d.assertOptions(n,{silentJSONParsing:h.transitional(h.boolean),forcedJSONParsing:h.transitional(h.boolean),clarifyTimeoutError:h.transitional(h.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(c),o=Promise.resolve(t);l.length;)o=o.then(l.shift(),l.shift());return o}for(var u=t;i.length;){var p=i.shift(),w=i.shift();try{u=p(u)}catch(e){w(e);break}}try{o=s(u)}catch(e){return Promise.reject(e)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},l.prototype.getUri=function(e){e=a(this.defaults,e);var t=c(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(a(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}l.prototype[e]=t(),l.prototype[e+"Form"]=t(!0)})),e.exports=l},8916:(e,t,n)=>{var i=n(8446);function r(e,t,n,i,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=function(e,t,n,s,a,c){var d=Object.create(o);return i.toFlatObject(e,d,(function(e){return e!==Error.prototype})),r.call(d,e.message,t,n,s,a),d.name=e.name,c&&Object.assign(d,c),d},e.exports=r},9582:(e,t,n)=>{var i=n(8446);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},5063:(e,t,n)=>{var i=n(6452),r=n(1123);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},6862:(e,t,n)=>{var i=n(8446),r=n(5255),o=n(3452),s=n(1586),a=n(5142);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6149:(e,t,n)=>{var i=n(8446);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function c(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var d={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=d[e]||o,r=t(e);i.isUndefined(r)&&t!==c||(n[e]=r)})),n}},8322:(e,t,n)=>{var i=n(8916);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},5255:(e,t,n)=>{var i=n(8446),r=n(1586);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},1586:(e,t,n)=>{var i=n(8446),r=n(1964),o=n(8916),s=n(2751),a=n(7452),c={"Content-Type":"application/x-www-form-urlencoded"};function d(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,l={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(h=n(994)),h),transformRequest:[function(e,t){if(r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return d(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=i.isObject(e),s=t&&t["Content-Type"];if((n=i.isFileList(e))||o&&"multipart/form-data"===s){var c=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,c&&new c)}return o||"application/json"===s?(d(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3313)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(c)})),e.exports=l},2751:e=>{e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},4474:e=>{e.exports={version:"0.27.2"}},8962:e=>{e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},8982:(e,t,n)=>{var i=n(8446);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},1123:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},2058:(e,t,n)=>{var i=n(8446);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},6452:e=>{e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},1726:(e,t,n)=>{var i=n(8446);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},6497:(e,t,n)=>{var i=n(8446);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},1964:(e,t,n)=>{var i=n(8446);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},3313:e=>{e.exports=null},9541:(e,t,n)=>{var i=n(8446),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},5822:e=>{e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},9067:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},7452:(e,t,n)=>{var i=n(8446);e.exports=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(i.isPlainObject(o)||i.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+s);n.push(o),i.forEach(o,(function(n,o){if(!i.isUndefined(n)){var a,c=s?s+"."+o:o;if(n&&!s&&"object"==typeof n)if(i.endsWith(o,"{}"))n=JSON.stringify(n);else if(i.endsWith(o,"[]")&&(a=i.toArray(n)))return void a.forEach((function(e){!i.isUndefined(e)&&t.append(c,r(e))}));e(n,c)}})),n.pop()}else t.append(s,r(o))}(e),t}},1166:(e,t,n)=>{var i=n(4474).version,r=n(8916),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new r(o(i," has been removed"+(t?" in "+t:"")),r.ERR_DEPRECATED);return t&&!s[i]&&(s[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),o=i.length;o-- >0;){var s=i[o],a=t[s];if(a){var c=e[s],d=void 0===c||a(c,s,e);if(!0!==d)throw new r("option "+s+" must be "+d,r.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r("Unknown option "+s,r.ERR_BAD_OPTION)}},validators:o}},8446:(e,t,n)=>{var i,r=n(8962),o=Object.prototype.toString,s=(i=Object.create(null),function(e){var t=o.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function c(e){return Array.isArray(e)}function d(e){return void 0===e}var h=a("ArrayBuffer");function l(e){return null!==e&&"object"==typeof e}function u(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),w=a("File"),f=a("Blob"),y=a("FileList");function g(e){return"[object Function]"===o.call(e)}var m=a("URLSearchParams");function v(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var C,E=(C="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return C&&e instanceof C});e.exports={isArray:c,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:u,isUndefined:d,isDate:p,isFile:w,isBlob:f,isFunction:g,isStream:function(e){return l(e)&&g(e.pipe)},isURLSearchParams:m,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:v,merge:function e(){var t={};function n(n,i){u(t[i])&&u(n)?t[i]=e(t[i],n):u(n)?t[i]=e({},n):c(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)v(arguments[i],n);return t},extend:function(e,t,n){return v(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,r,o,s={};t=t||{};do{for(r=(i=Object.getOwnPropertyNames(e)).length;r-- >0;)s[o=i[r]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;var t=e.length;if(d(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:E,isFileList:y}},3885:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(4794);class s extends i.Base{async wrap(e){this.wire.sendAction("wrap-application").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.Application(this.wire,e)}wrapSync(e){this.wire.sendAction("wrap-application-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.Application(this.wire,e)}async _create(e){return void 0===e.waitForPageLoad&&(e.waitForPageLoad=!1),void 0===e.autoShow&&void 0===e.isPlatformController&&(e.autoShow=!0),await this.wire.sendAction("create-application",e),this.wrap({uuid:e.uuid})}create(e){return console.warn("Deprecation Warning: fin.Application.create is deprecated. Please use fin.Application.start"),this.wire.sendAction("application-create").catch((e=>{})),this._create(e)}async start(e){this.wire.sendAction("start-application").catch((e=>{}));const t=await this._create(e);return await this.wire.sendAction("run-application",{uuid:e.uuid}),t}async startManyManifests(e){return this.wire.sendAction("run-applications",{applications:e}).then((()=>{}))}getCurrent(){return this.wire.sendAction("get-current-application").catch((e=>{})),this.wrap({uuid:this.wire.me.uuid})}getCurrentSync(){return this.wire.sendAction("get-current-application-sync").catch((e=>{})),this.wrapSync({uuid:this.wire.me.uuid})}async startFromManifest(e,t){this.wire.sendAction("application-start-from-manifest").catch((e=>{}));const n=await this._createFromManifest(e);return await n._run(t),n}createFromManifest(e){return console.warn("Deprecation Warning: fin.Application.createFromManifest is deprecated. Please use fin.Application.startFromManifest"),this.wire.sendAction("application-create-from-manifest").catch((e=>{})),this._createFromManifest(e)}_createFromManifest(e){return this.wire.sendAction("get-application-manifest",{manifestUrl:e}).then((({payload:e})=>{const t=e.data.platform?e.data.platform.uuid:e.data.startup_app.uuid;return this.wrap({uuid:t})})).then((t=>(t._manifestUrl=e,t)))}}t.default=s},4794:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;const i=n(9659),r=n(4997),o=n(4169);class s extends i.EmitterBase{constructor(e,t){super(e,"application",t.uuid),this.identity=t,this.window=new r._Window(this.wire,{uuid:this.identity.uuid,name:this.identity.uuid})}windowListFromIdentityList(e){const t=[];return e.forEach((e=>{t.push(new r._Window(this.wire,{uuid:e.uuid,name:e.name}))})),t}isRunning(){return this.wire.sendAction("is-application-running",this.identity).then((({payload:e})=>e.data))}async quit(e=!1){await this._close(e),await this.wire.sendAction("destroy-application",{force:e,...this.identity})}_close(e=!1){return this.wire.sendAction("close-application",{force:e,...this.identity}).then((()=>{}))}close(e=!1){return console.warn("Deprecation Warning: Application.close is deprecated Please use Application.quit"),this.wire.sendAction("application-close",this.identity).catch((e=>{})),this._close(e)}getChildWindows(){return this.wire.sendAction("get-child-windows",this.identity).then((({payload:e})=>{const t=[];return e.data.forEach((e=>{t.push({uuid:this.identity.uuid,name:e})})),this.windowListFromIdentityList(t)}))}getManifest(){return this.wire.sendAction("get-application-manifest",this.identity).then((({payload:e})=>e.data))}getParentUuid(){return this.wire.sendAction("get-parent-application",this.identity).then((({payload:e})=>e.data))}getShortcuts(){return this.wire.sendAction("get-shortcuts",this.identity).then((({payload:e})=>e.data))}async getViews(){const{payload:e}=await this.wire.sendAction("application-get-views",this.identity);return e.data.map((e=>new o.View(this.wire,e)))}getZoomLevel(){return this.wire.sendAction("get-application-zoom-level",this.identity).then((({payload:e})=>e.data))}getWindow(){return this.wire.sendAction("application-get-window",this.identity).catch((e=>{})),Promise.resolve(this.window)}registerUser(e,t){return this.wire.sendAction("register-user",{userName:e,appName:t,...this.identity}).then((()=>{}))}removeTrayIcon(){return this.wire.sendAction("remove-tray-icon",this.identity).then((()=>{}))}restart(){return this.wire.sendAction("restart-application",this.identity).then((()=>{}))}run(){return console.warn("Deprecation Warning: Application.run is deprecated Please use fin.Application.start"),this.wire.sendAction("application-run",this.identity).catch((e=>{})),this._run()}_run(e={}){return this.wire.sendAction("run-application",{manifestUrl:this._manifestUrl,opts:e,...this.identity}).then((()=>{}))}scheduleRestart(){return this.wire.sendAction("relaunch-on-close",this.identity).then((()=>{}))}async sendApplicationLog(){const{payload:e}=await this.wire.sendAction("send-application-log",this.identity);return e.data}async setJumpList(e){await this.wire.sendAction("set-jump-list",{config:e,...this.identity})}setTrayIcon(e){return this.wire.sendAction("set-tray-icon",{enabledIcon:e,...this.identity}).then((()=>{}))}setShortcuts(e){return this.wire.sendAction("set-shortcuts",{data:e,...this.identity}).then((()=>{}))}async setShortcutQueryParams(e){await this.wire.sendAction("set-shortcut-query-args",{data:e,...this.identity})}setZoomLevel(e){return this.wire.sendAction("set-application-zoom-level",{level:e,...this.identity}).then((()=>{}))}async setAppLogUsername(e){await this.wire.sendAction("set-app-log-username",{data:e,...this.identity})}getTrayIconInfo(){return this.wire.sendAction("get-tray-icon-info",this.identity).then((({payload:e})=>e.data))}terminate(){return this.wire.sendAction("terminate-application",this.identity).then((()=>{}))}wait(){return this.wire.sendAction("wait-for-hung-application",this.identity).then((()=>{}))}getInfo(){return this.wire.sendAction("get-info",this.identity).then((({payload:e})=>e.data))}async getProcessInfo(){const{payload:{data:e}}=await this.wire.sendAction("application-get-process-info",this.identity);return e}async setFileDownloadLocation(e){await this.wire.sendAction("set-file-download-location",{downloadLocation:e,...this.identity})}}t.Application=s},7264:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3885);r(n(4794),t),t.default=o.default},9659:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Reply=t.EmitterBase=t.Base=void 0;const s=n(3442),a=n(8068);class c{constructor(e){this.isNodeEnvironment=()=>"NodeEnvironment"===this.wire.environment.constructor.name,this.isOpenFinEnvironment=()=>"OpenFinEnvironment"===this.wire.environment.constructor.name,this.wire=e}get fin(){return a.getFin(this.wire)}get me(){return this.wire.me}}t.Base=c,t.EmitterBase=class extends c{constructor(e,t,...n){super(e),this.topic=t,i.set(this,void 0),this.eventNames=()=>this.hasEmitter()?this.getOrCreateEmitter().eventNames():[],this.emit=(e,t,...n)=>!!this.hasEmitter()&&this.getOrCreateEmitter().emit(e,t,...n),this.hasEmitter=()=>this.wire.eventAggregator.has(o(this,i)),this.getOrCreateEmitter=()=>this.wire.eventAggregator.getOrCreate(o(this,i)),this.listeners=e=>this.hasEmitter()?this.getOrCreateEmitter().listeners(e):[],this.listenerCount=e=>this.hasEmitter()?this.getOrCreateEmitter().listenerCount(e):0,this.registerEventListener=async(e,t={},n,i)=>{const r={...this.identity,timestamp:t.timestamp||Date.now(),topic:this.topic,type:e},o=this.getOrCreateEmitter();n(o);try{await this.wire.sendAction("subscribe-to-desktop-event",r)}catch(e){throw i(o),this.deleteEmitterIfNothingRegistered(o),e}},this.deregisterEventListener=async(e,t={})=>{if(this.hasEmitter()){const n={...this.identity,timestamp:t.timestamp||Date.now(),topic:this.topic,type:e};return await this.wire.sendAction("unsubscribe-to-desktop-event",n).catch((()=>null)),this.getOrCreateEmitter()}return Promise.resolve()},this.on=async(e,t,n)=>(await this.registerEventListener(e,n,(n=>{n.on(e,t)}),(n=>{n.removeListener(e,t)})),this),this.addListener=this.on,this.once=async(e,t,n)=>{const i=()=>this.deregisterEventListener(e);return await this.registerEventListener(e,n,(n=>{n.once(e,i),n.once(e,t)}),(n=>{n.removeListener(e,i),n.removeListener(e,t)})),this},this.prependListener=async(e,t,n)=>(await this.registerEventListener(e,n,(n=>{n.prependListener(e,t)}),(n=>{n.removeListener(e,t)})),this),this.prependOnceListener=async(e,t,n)=>{const i=()=>this.deregisterEventListener(e);return await this.registerEventListener(e,n,(n=>{n.prependOnceListener(e,t),n.once(e,i)}),(n=>{n.removeListener(e,t),n.removeListener(e,i)})),this},this.removeListener=async(e,t,n)=>{const i=await this.deregisterEventListener(e,n);return i&&(i.removeListener(e,t),this.deleteEmitterIfNothingRegistered(i)),this},this.deregisterAllListeners=async e=>{const t={...this.identity,type:e,topic:this.topic};if(this.hasEmitter()){const e=this.getOrCreateEmitter(),n=e.listenerCount(t.type),i=[];for(let e=0;e<n;e++)i.push(this.wire.sendAction("unsubscribe-to-desktop-event",t).catch((()=>null)));return await Promise.all(i),e}},this.removeAllListeners=async e=>{const t=async e=>{const t=await this.deregisterAllListeners(e);t&&(t.removeAllListeners(e),this.deleteEmitterIfNothingRegistered(t))};if(e)await t(e);else if(this.hasEmitter()){const e=this.getOrCreateEmitter().eventNames();await s.promiseMap(e,t)}return this},r(this,i,[t,...n]),this.listeners=e=>this.hasEmitter()?this.getOrCreateEmitter().listeners(e):[]}deleteEmitterIfNothingRegistered(e){0===e.eventNames().length&&this.wire.eventAggregator.delete(o(this,i))}},i=new WeakMap,t.Reply=class{}},3427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659);class r extends i.Base{writeText(e){return this.wire.sendAction("clipboard-write-text",e).then((()=>{}))}readText(e){return this.wire.sendAction("clipboard-read-text",e).then((({payload:e})=>e.data))}writeHtml(e){return this.wire.sendAction("clipboard-write-html",e).then((()=>{}))}readHtml(e){return this.wire.sendAction("clipboard-read-html",e).then((({payload:e})=>e.data))}writeRtf(e){return this.wire.sendAction("clipboard-write-rtf",e).then((()=>{}))}readRtf(e){return this.wire.sendAction("clipboard-read-rtf",e).then((({payload:e})=>e.data))}write(e){return this.wire.sendAction("clipboard-write",e).then((()=>{}))}getAvailableFormats(e){return this.wire.sendAction("clipboard-read-formats",e).then((({payload:e})=>e.data))}}t.default=r},7813:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmitterMap=void 0;const i=n(6465);function r(e){return Buffer.from(e).toString("base64")}t.EmitterMap=class{constructor(){this.storage=new Map}hashKeys(e){return e.map(r).join("/")}getOrCreate(e){const t=this.hashKeys(e);return this.storage.has(t)||this.storage.set(t,new i.EventEmitter),this.storage.get(t)}has(e){return this.storage.has(this.hashKeys(e))}delete(e){const t=this.hashKeys(e);return this.storage.delete(t)}}},2734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(7813);class r extends i.EmitterMap{constructor(){super(...arguments),this.dispatchEvent=e=>{if(function(e){return"process-desktop-event"===e.action}(e)){const{payload:t}=e,n=function(e){const{topic:t}=e;if("frame"===t){const{uuid:n,name:i}=e;return[t,n,i]}if("window"===t){const{uuid:n,name:i}=e;return[t,n,i]}if("application"===t){const{uuid:n}=e;return[t,n]}if("view"===t){const{uuid:n,name:i}=e;return[t,n,i]}return[t]}(t);if(this.has(n))return this.getOrCreate(n).emit(t.type,t),!0}return!1}}}t.default=r},7168:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(8298);class o extends i.Base{wrap(e){return this.wire.sendAction("external-application-wrap").catch((e=>{})),Promise.resolve(new r.ExternalApplication(this.wire,{uuid:e}))}wrapSync(e){return this.wire.sendAction("external-application-wrap-sync").catch((e=>{})),new r.ExternalApplication(this.wire,{uuid:e})}}t.default=o},8298:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalApplication=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e,t){super(e,"external-application",t.uuid),this.identity=t}getInfo(){return this.wire.sendAction("get-external-application-info",this.identity).then((({payload:e})=>e.data))}}t.ExternalApplication=r},9021:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(7168);t.default=o.default,r(n(8298),t)},6545:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(6465),r=n(3641),o=n(4997),s=n(7264),a=n(8347),c=n(3427),d=n(9021),h=n(6720),l=n(9211),u=n(4169),p=n(609),w=n(9641),f=n(8068),y=n(8706),g=n(7153);class m extends i.EventEmitter{constructor(e){super(),f.registerFin(e,this),this.wire=e,this.System=new r.default(e),this.Window=new o.default(e),this.Application=new s.default(e),this.InterApplicationBus=new a.default(e),this.Clipboard=new c.default(e),this.ExternalApplication=new d.default(e),this.Frame=new h.default(e),this.GlobalHotkey=new l.default(e),this.Platform=new p.default(e,this.InterApplicationBus.Channel),this.View=new u.default(e),this.Interop=new y.default(e),this.SnapshotSource=new g.default(e),this.me=w.getMe(e),e.on("disconnected",(()=>{this.emit("disconnected")}))}}t.default=m},1778:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(8161);class s extends i.Base{async wrap(e){this.wire.sendAction("frame-wrap").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Frame(this.wire,e)}wrapSync(e){this.wire.sendAction("frame-wrap-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Frame(this.wire,e)}getCurrent(){return this.wire.sendAction("frame-get-current").catch((e=>{})),Promise.resolve(new o._Frame(this.wire,this.wire.environment.getCurrentEntityIdentity()))}getCurrentSync(){return this.wire.sendAction("frame-get-current-sync").catch((e=>{})),new o._Frame(this.wire,this.wire.environment.getCurrentEntityIdentity())}}t.default=s},8161:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._Frame=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e,t){super(e,"frame",t.uuid,t.name),this.identity=t}getInfo(){return this.wire.sendAction("get-frame-info",this.identity).then((({payload:e})=>e.data))}getParentWindow(){return this.wire.sendAction("get-parent-window",this.identity).then((({payload:e})=>e.data))}}t._Frame=r},6720:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1778);t.default=o.default,r(n(8161),t)},9211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659);class r extends i.EmitterBase{constructor(e){super(e,"global-hotkey")}async register(e,t){await this.on(e,t),await this.wire.sendAction("global-hotkey-register",{hotkey:e})}async unregister(e){await this.removeAllListeners(e),await this.wire.sendAction("global-hotkey-unregister",{hotkey:e})}async unregisterAll(){await Promise.all(this.eventNames().filter((e=>!("registered"===e||"unregistered"===e))).map((e=>this.removeAllListeners(e)))),await this.wire.sendAction("global-hotkey-unregister-all",{})}async isRegistered(e){const{payload:{data:t}}=await this.wire.sendAction("global-hotkey-is-registered",{hotkey:e});return t}}t.default=r},7539:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelBase=t.ProtectedItems=void 0;const n=e=>(t,n,i)=>{const r=e(t,n,i);return void 0===r?n:r};t.ProtectedItems=class{constructor(e,t){this.providerIdentity=e,this.wire=t}};class i{constructor(){this.subscriptions=new Map}static defaultAction(e){throw new Error(`No action registered at target for ${e}`)}async processAction(e,t,n){try{const r=this.subscriptions.has(e)?this.subscriptions.get(e):(t,n)=>{var r;return(null!==(r=this.defaultAction)&&void 0!==r?r:i.defaultAction)(e,t,n)},o=this.preAction?await this.preAction(e,t,n):t,s=await r(o,n);return this.postAction?await this.postAction(e,s,n):s}catch(t){if(this.errorMiddleware)return this.errorMiddleware(e,t,n);throw t}}beforeAction(e){if(this.preAction)throw new Error("Already registered beforeAction middleware");this.preAction=n(e)}onError(e){if(this.errorMiddleware)throw new Error("Already registered error middleware");this.errorMiddleware=e}afterAction(e){if(this.postAction)throw new Error("Already registered afterAction middleware");this.postAction=n(e)}remove(e){this.subscriptions.delete(e)}setDefaultAction(e){if(this.defaultAction)throw new Error("default action can only be set once");this.defaultAction=e}register(e,t){if(this.subscriptions.has(e))throw new Error(`Subscription already registered for action: ${e}. Unsubscribe before adding new subscription`);return this.subscriptions.set(e,t),!0}}t.ChannelBase=i},8378:function(e,t,n){var i,r,o,s=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const c=n(7539),d=new Map;class h extends c.ChannelBase{constructor(e,t,n){super(),i.set(this,void 0),r.set(this,void 0),this.processAction=(e,t,n)=>super.processAction(e,t,n),o.set(this,(()=>{d.delete(this.endpointId),a(this,r).close()})),s(this,i,new c.ProtectedItems(e,t)),this.disconnectListener=()=>{},this.endpointId=e.endpointId,s(this,r,n),d.set(this.endpointId,this),n.receive(this.processAction)}static closeChannelByEndpointId(e){const t=d.get(e);t&&a(t,o).call(t)}static handleProviderDisconnect(e,t){e.disconnectListener(t),a(e,o).call(e)}get providerIdentity(){return a(this,i).providerIdentity}async dispatch(e,t){if(a(this,r).isEndpointConnected(this.providerIdentity.channelId))return a(this,r).send(this.providerIdentity.channelId,e,t);throw new Error("The client you are trying to dispatch from is disconnected from the target provider.")}onDisconnection(e){this.disconnectListener=t=>{try{e(t)}catch(e){throw new Error(`Error while calling the onDisconnection callback: ${e.message}`)}finally{this.disconnectListener=()=>{}}}}async disconnect(){const e=a(this,i),{channelName:t,uuid:n,name:r}=e.providerIdentity;await e.wire.sendAction("disconnect-from-channel",{channelName:t,uuid:n,name:r,endpointId:this.endpointId}),a(this,o).call(this)}}t.default=h,i=new WeakMap,r=new WeakMap,o=new WeakMap},6711:function(e,t,n){var i,r,o=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;const a=n(3917),c=n(9659),d=n(1046),h=n(3870),l=n(569),u=n(2942),p=n(3749),w=n(3037),f=n(7113);class y extends c.Base{constructor(e){super(e),i.set(this,void 0),r.set(this,void 0),this.removeChannelFromProviderMap=e=>{this.providerMap.delete(e)},this.onmessage=e=>"process-channel-connection"===e.action&&(this.processChannelConnection(e),!0),this.providerMap=new Map,this.protocolManager=new w.ProtocolManager(this.isNodeEnvironment()?["classic"]:["rtc","classic"]),o(this,i,new p.MessageReceiver(e)),o(this,r,new l.RTCICEManager(e)),e.registerMessageHandler(this.onmessage.bind(this))}static getProtocolOptionsFromStrings(e){return e.map((e=>{switch(e){case"rtc":return h.RTCInfo;case"classic":return d.ClassicInfo;default:return a.exhaustiveCheck(e,["rtc","classic"])}}))}createProvider(e,t){const n=Object.assign(this.wire.environment.getDefaultChannelOptions().create,e||{}),r=this.protocolManager.getProviderProtocols(null==n?void 0:n.protocols),o=r.map((e=>{switch(e){case"rtc":return new h.RTCStrategy;case"classic":return new d.ClassicStrategy(this.wire,s(this,i),t.channelId,t);default:return a.exhaustiveCheck(e,["rtc","classic"])}}));let c;if(2===o.length){const[e,t]=o;c=f.default.combine(e,t)}else{if(1!==o.length)throw new Error("failed to combine strategies");[c]=o}const l=new u.ChannelProvider(t,this.wire,c),p=t.channelId;return this.providerMap.set(p,{provider:l,strategy:c,supportedProtocols:y.getProtocolOptionsFromStrings(r)}),u.ChannelProvider.setProviderRemoval(l,this.removeChannelFromProviderMap.bind(this)),l}async createClientOffer(e){const t=this.protocolManager.getClientProtocols(null==e?void 0:e.protocols);let n;return{offer:{supportedProtocols:await Promise.all(t.map((async e=>{switch(e){case"rtc":{const{rtcClient:e,channels:t,offer:i,rtcConnectionId:o,channelsOpened:a}=await s(this,r).startClientOffer();return n={rtcClient:e,channels:t,channelsOpened:a},{type:"rtc",version:h.RTCInfo.version,payload:{offer:i,rtcConnectionId:o}}}case"classic":return{type:"classic",version:d.ClassicInfo.version};default:return a.exhaustiveCheck(e,["rtc","classic"])}}))),maxProtocols:2},rtc:n}}async createClientStrategy(e,t){var n;t.endpointId||(t.endpointId=this.wire.environment.getNextMessageId(),s(this,i).checkForPreviousClientConnection(t.channelId));const o=null!==(n=t.answer)&&void 0!==n?n:{supportedProtocols:[{type:"classic",version:1}]},a=(await Promise.all(o.supportedProtocols.map((async n=>"rtc"===n.type&&e?(await s(this,r).finishClientOffer(e.rtcClient,n.payload.answer,e.channelsOpened),new h.RTCStrategy):"classic"===n.type?new d.ClassicStrategy(this.wire,s(this,i),t.endpointId,t):null)))).filter((e=>null!==e));let c;if(e&&!a.some((e=>e instanceof h.RTCStrategy))&&e&&e.rtcClient.close(),a.length>=2)c=f.default.combine(a[0],a[1]);else{if(!a.length)throw new Error("No compatible protocols");[c]=a}const l={endpointIdentity:t,rtc:e};return c.addEndpoint(t.channelId,l),c}async processChannelConnection(e){const{clientIdentity:t,providerIdentity:n,ackToSender:i,payload:o,offer:a}=e.payload;t.endpointId?t.isLocalEndpointId=!1:(t.endpointId=this.wire.environment.getNextMessageId(),t.isLocalEndpointId=!0);const c=n.channelId,l=this.providerMap.get(c);if(!l)return i.payload.success=!1,i.payload.reason=`Channel "${n.channelName}" has been destroyed.`,this.wire.sendRaw(i);const{provider:p,strategy:w,supportedProtocols:f}=l;try{if(!(p instanceof u.ChannelProvider))throw Error("Cannot connect to a channel client");const e=null!=a?a:{supportedProtocols:[{type:"classic",version:1}],maxProtocols:1},n=this.protocolManager.getCompatibleProtocols(f,e);if(!n.length)throw new Error("This provider does not support any of the offered protocols.");const c=await p.processConnection(t,o);i.payload.payload=i.payload.payload||{};let l={supportedProtocols:[],endpointPayloadPromise:Promise.resolve({endpointIdentity:t})};return l=await n.reduce((async(e,t)=>{const n=await e;if("rtc"===t.type){const{answer:e,rtcClient:i,channels:o}=await s(this,r).createProviderAnswer(t.payload.rtcConnectionId,t.payload.offer);n.supportedProtocols.push({type:"rtc",version:h.RTCInfo.version,payload:{answer:e}}),n.endpointPayloadPromise=n.endpointPayloadPromise.then((e=>o.then((t=>({...e,rtc:{rtcClient:i,channels:t}})))))}else n.supportedProtocols.push({type:"classic",version:d.ClassicInfo.version});return n}),Promise.resolve(l)),l.endpointPayloadPromise.then((e=>w.addEndpoint(t.endpointId,e))),i.payload.payload.result=c,i.payload.payload.answer=l,this.wire.sendRaw(i)}catch(e){return i.payload.success=!1,i.payload.reason=e.message,this.wire.sendRaw(i)}}}t.ConnectionManager=y,i=new WeakMap,r=new WeakMap},7722:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;const s=n(8378),a=n(2942),c=n(9659),d=n(6711),h=()=>{};class l extends c.EmitterBase{constructor(e){super(e,"channel"),i.set(this,void 0),r(this,i,new d.ConnectionManager(e))}async getAllChannels(){return this.wire.sendAction("get-all-channels").then((({payload:e})=>e.data))}async onChannelConnect(e){await this.on("connected",e)}async onChannelDisconnect(e){await this.on("disconnected",e)}async connect(e,t){if(!e||"string"!=typeof e)throw new Error("Please provide a channelName string to connect to a channel.");const n=Object.assign(this.wire.environment.getDefaultChannelOptions().connect,t||{});let r=h,a=h;const c=new Promise((t=>{r=t,a=i=>{e===i.channelName&&(this.removeListener("connected",a),t(this.connect(e,n)))},this.on("connected",a)}));try{const{offer:t,rtc:c}=await o(this,i).createClientOffer(n),d=await this.wire.sendAction("connect-to-channel",{channelName:e,...n,offer:t}),{payload:{data:h}}=d;r&&r(),this.removeListener("connected",a);const l=await o(this,i).createClientStrategy(c,h),u=new s.default(h,this.wire,l);return l.onEndpointDisconnect(h.channelId,(async()=>{try{await u.disconnect()}catch(e){console.warn(`Something went wrong during disconnect for client with uuid: ${h.uuid} / name: ${h.name} / endpointId: ${h.endpointId}.`)}finally{s.default.handleProviderDisconnect(u,h)}})),this.on("disconnected",(t=>{t.channelName===e&&s.default.handleProviderDisconnect(u,t)})),u}catch(t){const i="internal-nack";if({wait:!0,...n}.wait&&t.message&&t.message.includes(i))return console.warn(`Channel not found for channelName: ${e}, waiting for channel connection.`),c;throw t.message===i?new Error(`No channel found for channelName: ${e}`):new Error(t)}}async create(e,t){if(!e)throw new Error("Please provide a channelName to create a channel");const{payload:{data:n}}=await this.wire.sendAction("create-channel",{channelName:e}),r=o(this,i).createProvider(t,n);return this.on("client-disconnected",(t=>{t.channelName===e&&a.ChannelProvider.handleClientDisconnection(r,t)})),r}}t.Channel=l,i=new WeakMap},3749:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageReceiver=void 0;const i=n(8378),r=n(9659);class o extends r.Base{constructor(e){super(e),this.onmessage=e=>"process-channel-message"===e.action&&(this.processChannelMessage(e),!0),this.endpointMap=new Map,this.latestEndpointIdByChannelId=new Map,e.registerMessageHandler(this.onmessage.bind(this))}async processChannelMessage(e){var t,n;const{senderIdentity:i,providerIdentity:r,action:o,ackToSender:s,payload:a,intendedTargetIdentity:c}=e.payload,d=null!==(n=null!==(t=c.channelId)&&void 0!==t?t:c.endpointId)&&void 0!==n?n:this.latestEndpointIdByChannelId.get(r.channelId),h=this.endpointMap.get(d);if(!h)return s.payload.success=!1,s.payload.reason=`Client connection with identity uuid: ${this.wire.me.uuid} / name: ${this.wire.me.name} / endpointId: ${d} no longer connected.`,this.wire.sendRaw(s);try{const e=await h(o,a,i);return s.payload.payload=s.payload.payload||{},s.payload.payload.result=e,this.wire.sendRaw(s)}catch(e){return s.payload.success=!1,s.payload.reason=e.message,this.wire.sendRaw(s)}}addEndpoint(e,t,n){this.endpointMap.set(n,e),t!==n&&this.latestEndpointIdByChannelId.set(t,n)}removeEndpoint(e,t){this.endpointMap.delete(t),this.latestEndpointIdByChannelId.get(e)===t&&this.latestEndpointIdByChannelId.delete(e)}checkForPreviousClientConnection(e){const t=this.latestEndpointIdByChannelId.get(e);t&&(i.default.closeChannelByEndpointId(t),console.warn("You have created a second connection to an older provider. First connection has been removed from the clientMap"),console.warn("If the provider calls publish(), you may receive multiple messages."))}}t.MessageReceiver=o},1046:function(e,t){var n,i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ClassicInfo=t.ClassicStrategy=void 0,t.ClassicStrategy=class{constructor(e,t,s,a){this.messageReceiver=t,this.endpointId=s,this.providerIdentity=a,n.set(this,void 0),i.set(this,new Map),this.send=async(e,t,r)=>{const s=o(this,i).get(e);if(!s)throw new Error(`Could not locate routing info for endpoint ${e}`);const a={...s};return a.isLocalEndpointId&&delete a.endpointId,delete a.isLocalEndpointId,(await o(this,n).sendAction("send-channel-message",{...a,providerIdentity:this.providerIdentity,action:t,payload:r}).catch((e=>{throw new Error(e.message)}))).payload.data.result},this.close=async()=>{this.messageReceiver.removeEndpoint(this.providerIdentity.channelId,this.endpointId),r(this,i,new Map)},r(this,n,e)}onEndpointDisconnect(e,t){}receive(e){this.messageReceiver.addEndpoint(e,this.providerIdentity.channelId,this.endpointId)}async closeEndpoint(e){o(this,i).delete(e)}isEndpointConnected(e){return o(this,i).has(e)}addEndpoint(e,t){o(this,i).set(e,t.endpointIdentity)}isValidEndpointPayload(e){var t,n;return"string"==typeof(null===(t=null==e?void 0:e.endpointIdentity)||void 0===t?void 0:t.endpointId)||"string"==typeof(null===(n=null==e?void 0:e.endpointIdentity)||void 0===n?void 0:n.channelId)}},n=new WeakMap,i=new WeakMap,t.ClassicInfo={version:5,minimumVersion:0,type:"classic"}},7113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.primary=e,this.secondary=t}static combine(e,t){return new n(e,t)}onEndpointDisconnect(e,t){this.primary.onEndpointDisconnect(e,(()=>{this.secondary.isEndpointConnected(e)||t()})),this.secondary.onEndpointDisconnect(e,(()=>{this.primary.isEndpointConnected(e)||t()}))}isValidEndpointPayload(e){return this.primary.isValidEndpointPayload(e)||this.secondary.isValidEndpointPayload(e)}async closeEndpoint(e){await this.primary.closeEndpoint(e),await this.secondary.closeEndpoint(e)}isEndpointConnected(e){return this.primary.isEndpointConnected(e)||this.secondary.isEndpointConnected(e)}async addEndpoint(e,t){this.primary.isValidEndpointPayload(t)&&await this.primary.addEndpoint(e,t),this.secondary.isValidEndpointPayload(t)&&await this.secondary.addEndpoint(e,t)}receive(e){this.primary.receive(e),this.secondary.receive(e)}send(e,t,n){return this.primary.isEndpointConnected(e)?this.primary.send(e,t,n):this.secondary.send(e,t,n)}async close(){await Promise.all([this.primary.close(),this.secondary.close()])}}t.default=n},3037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolManager=void 0,t.ProtocolManager=class{constructor(e){this.ProtocolsInPreferenceOrder=e,this.DefaultClientProtocols=["classic"],this.DefaultProviderProtocols=["classic"],this.getClientProtocols=e=>{const t=e?this.ProtocolsInPreferenceOrder.filter((t=>e.includes(t))):this.DefaultClientProtocols;if(!t.length)throw new Error(`No valid protocols were passed in. Accepted values are: ${this.ProtocolsInPreferenceOrder.join(", ")}.`);return t},this.getProviderProtocols=e=>{const t=e?this.ProtocolsInPreferenceOrder.filter((t=>e.includes(t))):this.DefaultProviderProtocols;if(!t.length)throw new Error(`No valid protocols were passed in. Accepted values are: ${this.ProtocolsInPreferenceOrder.join(", ")}.`);return t},this.getCompatibleProtocols=(e,t)=>t.supportedProtocols.filter((t=>e.some((e=>{var n;return e.type===t.type&&t.version>=e.minimumVersion&&e.version>=(null!==(n=t.minimumVersion)&&void 0!==n?n:0)})))).slice(0,t.maxProtocols)}}},8776:function(e,t,n){var i,r,o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.RTCEndpoint=void 0;const a=n(2366);t.RTCEndpoint=class{constructor(e,t){this.rtc=e,this.endpointIdentity=t,this.responseMap=new Map,i.set(this,null),r.set(this,void 0),this.connectionStateChangeHandler=e=>{"connected"!==this.rtc.rtcClient.connectionState&&(this.rtc.rtcClient.removeEventListener("connectionstatechange",this.connectionStateChangeHandler),this.close(),o(this,r)&&o(this,r).call(this))},this.send=async(e,t)=>{const n=`message-${Math.random()}`,i=new Promise(((e,t)=>{this.responseMap.set(n,{resolve:e,reject:t})}));return this.rtc.channels.request.send(JSON.stringify({action:e,payload:t,messageId:n})),i},this.close=()=>{this.responseMap.forEach((e=>e.reject("Connection has closed."))),this.responseMap=new Map,this.rtc.channels.request.close(),this.rtc.channels.response.close(),this.rtc.rtcClient.close()},this.rtc.channels.response.addEventListener("message",(e=>{var t;const{messageId:n,payload:i,success:r,error:o}=JSON.parse(e.data),{resolve:s,reject:a}=null!==(t=this.responseMap.get(n))&&void 0!==t?t:{};s&&a?(this.responseMap.delete(n),r?s(i):a(o)):(console.log("Could not find id in responseMap."),console.log(e))})),this.rtc.channels.request.addEventListener("message",(async e=>{const{messageId:n,action:r,payload:s}=JSON.parse(e.data);if(o(this,i))try{const e=await o(this,i).call(this,r,s,t);this.rtc.channels.response.send(JSON.stringify({messageId:n,payload:e,success:!0}))}catch(e){"open"===this.rtc.channels.response.readyState&&this.rtc.channels.response.send(JSON.stringify({messageId:n,error:a.errorToPOJO(e),success:!1}))}else"open"===this.rtc.channels.response.readyState&&this.rtc.channels.response.send(JSON.stringify({messageId:n,success:!1,error:"Connection not ready."}))})),this.rtc.rtcClient.addEventListener("connectionstatechange",this.connectionStateChangeHandler),Object.values(this.rtc.channels).forEach((e=>{e.onclose=e=>{[...this.responseMap.values()].forEach((e=>e.reject(new Error("RTCDataChannel closed unexpectedly, this is most commonly caused by message size. Note: RTC Channels have a message size limit of ~255kB.")))),this.close(),o(this,r)&&o(this,r).call(this)}}))}onDisconnect(e){if(o(this,r))throw new Error("RTCEndpoint disconnectListener cannot be set twice.");s(this,r,e)}receive(e){if(o(this,i))throw new Error("You have already set a listener for this RTC Endpoint.");s(this,i,e)}get connected(){return"connected"===this.rtc.rtcClient.connectionState}},i=new WeakMap,r=new WeakMap},569:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RTCICEManager=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e){super(e,"channel"),this.ensureChannelOpened=e=>new Promise(((t,n)=>{if("open"===e.readyState)t();else if("connecting"===e.readyState){const n=()=>{e.removeEventListener("open",n),t()};e.addEventListener("open",n)}else n(new Error("This Channel has already closed"))}))}static createDataChannelPromise(e,t){let n;const i=new Promise((e=>{n=e})),r=i=>{const o=()=>{i.channel.removeEventListener("open",o),n(i.channel)};i.channel.label===e&&(i.channel.addEventListener("open",o),t.removeEventListener("datachannel",r))};return t.addEventListener("datachannel",r),i}async listenForProviderIce(e,t){await this.on(this.createProviderEventName(e),t,{timestamp:Date.now()})}async raiseProviderIce(e,t){await this.wire.environment.raiseEvent(this.createRouteString(this.createProviderEventName(e)),t)}async listenForClientIce(e,t){await this.on(this.createClientEventName(e),t,{timestamp:Date.now()})}async raiseClientIce(e,t){await this.wire.environment.raiseEvent(this.createRouteString(this.createClientEventName(e)),t)}cleanupIceListeners(e){this.removeAllListeners(this.createClientEventName(e)),this.removeAllListeners(this.createProviderEventName(e))}createClientEventName(e){return`ice-client-${e}`}createProviderEventName(e){return`ice-provider-${e}`}createRouteString(e){return`channel/${e}`}createRtcPeer(){return this.wire.environment.getRtcPeer()}async startClientOffer(){const e=Math.random().toString(),t=this.createRtcPeer();t.addEventListener("icecandidate",(async t=>{var n;t.candidate&&await this.raiseClientIce(e,{candidate:null===(n=t.candidate)||void 0===n?void 0:n.toJSON()})})),await this.listenForProviderIce(e,(async e=>{await t.addIceCandidate(e.candidate)}));const n={request:t.createDataChannel("request"),response:t.createDataChannel("response")},i=await t.createOffer();await t.setLocalDescription(i);const r=Promise.all([n.request,n.response].map(this.ensureChannelOpened)).then((()=>{}));return{rtcClient:t,channels:n,offer:i,rtcConnectionId:e,channelsOpened:r}}async finishClientOffer(e,t,n){return await e.setRemoteDescription(t),await n,!0}async createProviderAnswer(e,t){const n=this.createRtcPeer(),i=r.createDataChannelPromise("request",n),o=r.createDataChannelPromise("response",n);n.addEventListener("icecandidate",(async t=>{var n;t.candidate&&await this.raiseProviderIce(e,{candidate:null===(n=t.candidate)||void 0===n?void 0:n.toJSON()})})),await this.listenForClientIce(e,(async e=>{await n.addIceCandidate(e.candidate)})),await n.setRemoteDescription(t);const s=await n.createAnswer();await n.setLocalDescription(s);const a=Promise.all([i,o]).then((([t,n])=>(this.cleanupIceListeners(e),{request:t,response:n})));return{rtcClient:n,answer:s,channels:a}}}t.RTCICEManager=r},3870:function(e,t,n){var i,r,o,s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.RTCInfo=t.RTCStrategy=void 0;const c=n(8776);t.RTCStrategy=class{constructor(){i.set(this,null),r.set(this,new Map),o.set(this,!0),this.send=async(e,t,n)=>this.getEndpointById(e).send(t,n),this.close=async()=>{s(this,o)&&(s(this,r).forEach((e=>e.close())),a(this,r,new Map)),a(this,o,!1)}}onEndpointDisconnect(e,t){this.getEndpointById(e).onDisconnect(t)}receive(e){if(s(this,i))throw new Error("You have already set a listener for this RTC Strategy");a(this,i,e),s(this,r).forEach((e=>e.receive(s(this,i))))}getEndpointById(e){const t=s(this,r).get(e);if(!t)throw new Error(`Client with endpoint id ${e} is not connected`);return t}get connected(){return s(this,o)}isEndpointConnected(e){return s(this,r).has(e)}addEndpoint(e,t){if(!s(this,o))return void console.warn("Adding endpoint to disconnected RTC Strategy");const n=new c.RTCEndpoint(t.rtc,t.endpointIdentity);s(this,i)&&n.receive(s(this,i)),s(this,r).set(e,n)}async closeEndpoint(e){s(this,r).delete(e)}isValidEndpointPayload(e){const t=e=>"object"==typeof e&&null!==e;return t(e)&&t(e.endpointIdentity)&&t(e.rtc)&&"string"==typeof e.endpointIdentity.endpointId}},i=new WeakMap,r=new WeakMap,o=new WeakMap,t.RTCInfo={version:1,minimumVersion:0,type:"rtc"}},2942:function(e,t,n){var i=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelProvider=void 0;const o=n(7539),s=n(2300);let a=(()=>{var e,t,n,a,c;class d extends o.ChannelBase{constructor(h,l,u){super(),e.set(this,void 0),t.set(this,void 0),n.set(this,void 0),a.set(this,(t=>{const o=this.connections.filter((e=>e.endpointId!==t.endpointId));r(this,n).closeEndpoint(t.endpointId),i(this,e,o)})),this.processAction=async(e,t,n)=>(d.clientIsMultiRuntime(n)&&!s.runtimeUuidMeetsMinimumRuntimeVersion(n.runtimeUuid,"18.87.56.0")?this.handleMultiRuntimeLegacyClient(n):this.checkForClientConnection(n),super.processAction(e,t,n)),c.set(this,(()=>{r(this,n).close();const e=d.removalMap.get(this);e&&e()})),i(this,t,new o.ProtectedItems(h,l)),this.connectListener=()=>{},this.disconnectListener=()=>{},i(this,e,[]),i(this,n,u),u.receive(this.processAction)}get connections(){return[...r(this,e)]}static handleClientDisconnection(e,t){const n=e.connections.find((e=>e.endpointId===t.endpointId));n?r(e,a).call(e,n):e.connections.filter((e=>e.uuid===t.uuid&&e.name===t.name)).forEach(r(e,a)),e.disconnectListener(t)}static setProviderRemoval(e,t){d.removalMap.set(e,t)}dispatch(e,t,i){var o;const s=null!==(o=e.endpointId)&&void 0!==o?o:this.getEndpointIdForOpenFinId(e,t);return s&&r(this,n).isEndpointConnected(s)?r(this,n).send(s,t,i):Promise.reject(new Error(`Client connection with identity uuid: ${e.uuid} / name: ${e.name} / endpointId: ${s} no longer connected.`))}async processConnection(t,n){return r(this,e).push(t),this.connectListener(t,n)}publish(e,t){return this.connections.map((i=>r(this,n).send(i.endpointId,e,t)))}onConnection(e){this.connectListener=e}onDisconnection(e){this.disconnectListener=e}async destroy(){const n=r(this,t),{channelName:o}=n.providerIdentity;i(this,e,[]),await n.wire.sendAction("destroy-channel",{channelName:o}),r(this,c).call(this)}checkForClientConnection(e){if(!this.isClientConnected(e))throw new Error(`This action was sent from a client that is not connected to the provider.\n                    Client Identity: {uuid: ${e.uuid}, name: ${e.name}, endpointId: ${e.endpointId}}`)}isClientConnected(e){return d.clientIdentityIncludesEndpointId(e)?this.connections.some((t=>t.endpointId===e.endpointId&&t.uuid===e.uuid&&t.name===e.name)):this.isLegacyClientConnected(e)}isLegacyClientConnected(e){return this.connections.some((t=>t.uuid===e.uuid&&t.name===e.name))}handleMultiRuntimeLegacyClient(e){if(!this.isLegacyClientConnected(e))throw new Error(`This action was sent from a client that is not connected to the provider. Client Identity:\n                    {uuid: ${e.uuid}, name: ${e.name}, endpointId: ${e.endpointId}}`)}getEndpointIdForOpenFinId(e,n){var i;const o=this.connections.filter((t=>t.name===e.name&&t.uuid===e.uuid));if(o.length>=2){const i=r(this,t),{uuid:o,name:s}=e,a=null==i?void 0:i.providerIdentity.uuid,c=null==i?void 0:i.providerIdentity.name;console.warn(`WARNING: Dispatch call may have unintended results. The "to" argument of your dispatch call is missing the\n                "endpointId" parameter. The identity you are dispatching to ({uuid: ${o}, name: ${s}})\n                has multiple channelClients for this channel. Your dispatched action: (${n}) from the provider:\n                ({uuid: ${a}, name: ${c}}) will only be processed by the most recently-created client.`)}return null===(i=o.pop())||void 0===i?void 0:i.endpointId}static clientIdentityIncludesEndpointId(e){return void 0!==e.endpointId}static clientIsMultiRuntime(e){return void 0!==e.runtimeUuid}}return e=new WeakMap,t=new WeakMap,n=new WeakMap,a=new WeakMap,c=new WeakMap,d.removalMap=new WeakMap,d})();t.ChannelProvider=a},8347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InterAppPayload=void 0;const i=n(6465),r=n(9659),o=n(3127),s=n(7722),a=n(4999);class c extends r.Base{constructor(e){super(e),this.events={subscriberAdded:"subscriber-added",subscriberRemoved:"subscriber-removed"},this.refCounter=new o.default,this.Channel=new s.Channel(e),this.emitter=new i.EventEmitter,e.registerMessageHandler(this.onmessage.bind(this)),this.on=this.emitter.on.bind(this.emitter),this.removeAllListeners=this.emitter.removeAllListeners.bind(this.emitter)}publish(e,t){return this.wire.sendAction("publish-message",{topic:e,message:t,sourceWindowName:this.me.name}).then((()=>{}))}async send(e,t,n){const i=a.validateIdentity(e);if(i)throw new Error(i);await this.wire.sendAction("send-message",{destinationUuid:e.uuid,destinationWindowName:e.name,topic:t,message:n,sourceWindowName:this.me.name})}subscribe(e,t,n){const i=this.createSubscriptionKey(e.uuid,e.name||"*",t);return this.emitter.on(i,n),this.refCounter.actOnFirst(i,(()=>this.wire.sendAction("subscribe",{sourceUuid:e.uuid,sourceWindowName:e.name||"*",topic:t,destinationWindowName:this.me.name})),(()=>Promise.resolve()))}unsubscribe(e,t,n){const i=e.name||"*",r=this.createSubscriptionKey(e.uuid,i,t);return this.emitter.removeListener(r,n),this.refCounter.actOnLast(r,(()=>this.wire.sendAction("unsubscribe",{sourceUuid:e.uuid,sourceWindowName:i,topic:t,destinationWindowName:this.me.name})),(()=>new Promise((e=>e)).then((()=>{}))))}processMessage(e){const{payload:{message:t,sourceWindowName:n,sourceUuid:i,topic:r}}=e,o=[this.createSubscriptionKey(i,n,r),this.createSubscriptionKey(i,"*",r),this.createSubscriptionKey("*","*",r)],s={uuid:i,name:n};o.forEach((e=>{this.emitter.emit(e,t,s)}))}emitSubscriverEvent(e,t){const{payload:{targetName:n,uuid:i,topic:r}}=t,o={name:n,uuid:i,topic:r};this.emitter.emit(e,o)}createSubscriptionKey(e,t,n){const i=t||"*";if(!(e&&i&&n))throw new Error("Missing uuid, name, or topic string");return function(...e){return e.map((e=>Buffer.from(`${e}`).toString("base64"))).join("/")}(e,i,n)}onmessage(e){const{action:t}=e;switch(t){case"process-message":this.processMessage(e);break;case this.events.subscriberAdded:this.emitSubscriverEvent(this.events.subscriberAdded,e);break;case this.events.subscriberRemoved:this.emitSubscriverEvent(this.events.subscriberRemoved,e)}return!0}}t.default=c,t.InterAppPayload=class{}},2977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(2057),o=n(7138),s=(e,...t)=>new e(...t);class a extends i.Base{async init(e,t=s){this.wire.sendAction("interop-init").catch((e=>{}));const n=await this.fin.InterApplicationBus.Channel.create(`interop-broker-${e}`),i=await this.fin.Application.getCurrentSync().getInfo();return t(r.InteropBroker,this.wire,n,i.initialOptions.interopBrokerConfiguration||{})}connectSync(e,t){return this.wire.sendAction("interop-connect-sync").catch((e=>{})),new o.InteropClient(this.wire,e,t)}}t.default=a},2057:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InteropBroker=void 0;const i=n(9659),r=n(7115),o=n(1787);let s=[{id:"green",displayMetadata:{color:"#00CC88",name:"green"}},{id:"purple",displayMetadata:{color:"#8C61FF",name:"purple"}},{id:"orange",displayMetadata:{color:"#FF8C4C",name:"orange"}},{id:"red",displayMetadata:{color:"#FF5E60",name:"red"}},{id:"pink",displayMetadata:{color:"#FF8FB8",name:"pink"}},{id:"yellow",displayMetadata:{color:"#E9FF8F",name:"yellow"}}];class a extends i.Base{constructor(e,t,n){super(e),this.channel=t,this.interopClients=new Map,this.contextGroupsById=new Map,n.contextGroups&&(s=n.contextGroups),this.intentClientMap=new Map,this.lastContextMap=new Map,this.sessionContextGroupMap=new Map,this.setContextGroupMap(),this.wireChannel(t)}setContext({context:e},t){this.wire.sendAction("interop-broker-set-context").catch((e=>{}));const n=this.getClientState(t);if(!n||!n.contextGroupId)throw n?new Error("You must join a context group before you can set context."):new Error(`Client with Identity: ${t.uuid} ${t.name} not in Client State Map`);{const{contextGroupId:t}=n;if(!this.contextGroupsById.has(t))throw new Error(`Client has a context group that isn't in the context group mapping: ${t}.`);const i=a.checkContextIntegrity(e);if(!1===i.isValid)throw new Error(`Failed to set Context - bad Context. Reason: ${i.reason}. Context: ${JSON.stringify(e)}`);const r=this.contextGroupsById.get(t),o=e.type;r.set(o,e),this.lastContextMap.set(t,o),Array.from(this.interopClients.values()).filter((e=>e.contextGroupId===t)).forEach((t=>{for(const[,n]of t.contextHandlers)a.isContextTypeCompatible(o,n.contextType)&&this.invokeContextHandler(t.clientIdentity,n.handlerId,e)}))}}getCurrentContext(e,t){var n;this.wire.sendAction("interop-broker-get-current-context").catch((e=>{}));const i=this.getClientState(t);if(!(null==i?void 0:i.contextGroupId))throw new Error("You must be a member of a context group to call getCurrentContext");const{contextGroupId:r}=i,o=this.contextGroupsById.get(r),s=this.lastContextMap.get(r),a=null!==(n=null==e?void 0:e.contextType)&&void 0!==n?n:s;return o&&a?o.get(a):void 0}async joinContextGroup({contextGroupId:e,target:t},n){if(this.wire.sendAction("interop-broker-join-context-group").catch((e=>{})),t){a.hasEndpointId(t)&&await this.addClientToContextGroup({contextGroupId:e},t);const n=this.channel.connections.filter((e=>e.uuid===t.uuid&&e.name===t.name));if(!n.length)throw new Error(`Given Identity ${t.uuid} ${t.name} is not connected to the Interop Broker.`);n.length>1&&console.warn(`More than one connection found for identity ${t.uuid} ${t.name}`);const i=[];for(const t of n)i.push(this.addClientToContextGroup({contextGroupId:e},t));await Promise.all(i)}else await this.addClientToContextGroup({contextGroupId:e},n)}async addClientToContextGroup({contextGroupId:e},t){this.wire.sendAction("interop-broker-add-client-to-context-group").catch((e=>{}));const n=this.getClientState(t);if(!n)throw new Error(`Client with Identity: ${t.uuid} ${t.name} not in Client State Map`);if(!this.getContextGroups().find((t=>t.id===e)))throw new Error(`Attempting to join a context group that does not exist: ${e}. You may only join existing context groups.`);if(n.contextGroupId!==e){n.contextGroupId=e,await a.setCurrentContextGroupInClientOptions(t,e);const i=this.contextGroupsById.get(e);for(const[,e]of n.contextHandlers){const{contextType:n,handlerId:r}=e;if(void 0===n)i.forEach(((e,n)=>{this.invokeContextHandler(t,r,e)}));else if(i.has(n)){const e=i.get(n);e&&this.invokeContextHandler(t,r,e)}}}}async removeFromContextGroup({target:e},t){if(this.wire.sendAction("interop-broker-remove-from-context-group").catch((e=>{})),e){a.hasEndpointId(e)&&await this.removeClientFromContextGroup(e);const t=this.channel.connections.filter((t=>t.uuid===e.uuid&&t.name===e.name));if(!t.length)throw new Error(`No connection found for given Identity ${e.uuid} ${e.name}`);t.length>1&&console.warn(`More than one connection found for identity ${e.uuid} ${e.name}`);const n=[];for(const e of t)n.push(this.removeClientFromContextGroup(e));await Promise.all(n)}else await this.removeClientFromContextGroup(t)}async removeClientFromContextGroup(e){this.wire.sendAction("interop-broker-remove-client-from-context-group").catch((e=>{}));const t=this.getClientState(e);t&&(t.contextGroupId=void 0),await a.setCurrentContextGroupInClientOptions(e,null)}getContextGroups(){return this.wire.sendAction("interop-broker-get-context-groups").catch((e=>{})),s.map((e=>({...e})))}getInfoForContextGroup({contextGroupId:e}){return this.wire.sendAction("interop-broker-get-info-for-context-group").catch((e=>{})),this.getContextGroups().find((t=>t.id===e))}getAllClientsInContextGroup({contextGroupId:e}){return this.wire.sendAction("interop-broker-get-all-clients-in-context-group").catch((e=>{})),Array.from(this.interopClients.values()).filter((t=>t.contextGroupId===e)).map((e=>e.clientIdentity))}async handleFiredIntent(e,t){const n=o.generateOverrideWarning("interopClient.fireIntent","fdc3.raiseIntent","InteropBroker.handleFiredIntent",t);throw console.warn(n),new Error(o.BROKER_ERRORS.fireIntent)}async setIntentTarget(e,t){this.wire.sendAction("interop-broker-set-intent-target").catch((e=>{}));const n=this.intentClientMap.get(t.name),i=`intent-handler-${e.name}`;if(n){const t=n.get(i);if(t){if(t.pendingIntents.push(e),t.clientIdentity&&t.isReady){const{clientIdentity:e,pendingIntents:n}=t;try{const r=n[n.length-1];await this.channel.dispatch(e,i,r),t.pendingIntents=[]}catch(n){console.error(`Error invoking intent handler for client ${e.uuid}/${e.name}/${e.endpointId}`),t.isReady=!1}}}else n.set(i,{isReady:!1,pendingIntents:[e]})}else{this.intentClientMap.set(t.name,new Map);const n=this.intentClientMap.get(t.name);n&&n.set(i,{isReady:!1,pendingIntents:[e]})}}async handleInfoForIntent(e,t){const n=o.generateOverrideWarning("interopClient.getInfoForIntent","fdc3.findIntent","InteropBroker.handleInfoForIntent",t);throw console.warn(n),new Error(o.BROKER_ERRORS.getInfoForIntent)}async handleInfoForIntentsByContext(e,t){const n=o.generateOverrideWarning("interopClient.getInfoForIntentsByContext","fdc3.findIntentsByContext","InteropBroker.handleInfoForIntentsByContext",t);throw console.warn(n),new Error(o.BROKER_ERRORS.getInfoForIntentsByContext)}async handleFiredIntentForContext(e,t){const n=o.generateOverrideWarning("interopClient.fireIntentForContext","fdc3.raiseIntentForContext","InteropBroker.handleFiredIntentForContext",t);throw console.warn(n),new Error(o.BROKER_ERRORS.fireIntentForContext)}decorateSnapshot(e){return{...e,interopSnapshotDetails:{contextGroupStates:this.getContextGroupStates()}}}applySnapshot(e,t){var n;const i=null===(n=null==e?void 0:e.interopSnapshotDetails)||void 0===n?void 0:n.contextGroupStates;i&&((null==t?void 0:t.closeExistingWindows)||this.updateExistingClients(i),this.rehydrateContextGroupStates(i))}updateExistingClients(e){this.interopClients.forEach((t=>{const{clientIdentity:n,contextGroupId:i,contextHandlers:r}=t;if(i){const t=e[i];for(const[,e]of Object.entries(t))r.forEach((t=>{const{handlerId:i,contextType:r}=t;a.isContextTypeCompatible(e.type,r)&&this.invokeContextHandler(n,i,e)}))}}))}getContextGroupStates(){return a.toObject(this.contextGroupsById)}rehydrateContextGroupStates(e){const t=Object.entries(e);for(const[e,n]of t){const t=Object.entries(n);for(const[n,i]of t)this.contextGroupsById.has(e)?this.contextGroupsById.get(e).set(n,i):console.warn(`Attempting to set a context group that isn't in the context group mapping. Skipping context group rehydration for: ${e}`)}}contextHandlerRegistered({contextType:e,handlerId:t},n){const i={contextType:e,handlerId:t},r=this.getClientState(n);if(null==r||r.contextHandlers.set(t,i),r&&r.contextGroupId){const{contextGroupId:i}=r,o=this.contextGroupsById.get(i);if(void 0===e)o.forEach(((e,i)=>{this.invokeContextHandler(n,t,e)}));else if(o.has(e)){const i=o.get(e);i&&this.invokeContextHandler(n,t,i)}}}async intentHandlerRegistered(e,t){const{handlerId:n}=e,i=this.intentClientMap.get(t.name),r=null==i?void 0:i.get(n);if(i)if(r){const{pendingIntents:e}=r;r.clientIdentity=t,r.isReady=!0;try{if(e.length>0){const i=e[e.length-1];await this.channel.dispatch(t,n,i),r.pendingIntents=[]}}catch(e){console.error(`Error invoking intent handler: ${n} for client ${t.uuid}/${t.name}/${t.endpointId}`)}}else i.set(n,{isReady:!0,pendingIntents:[],clientIdentity:t});else{this.intentClientMap.set(t.name,new Map);const e=this.intentClientMap.get(t.name);e&&e.set(n,{isReady:!0,pendingIntents:[],clientIdentity:t})}}invokeContextHandler(e,t,n){this.channel.dispatch(e,t,n).catch((i=>{console.error(`Error invoking context handler ${t} for context type ${n.type} in client ${e.uuid}/${e.name}/${e.endpointId}`,i)}))}removeContextHandler({handlerId:e},t){const n=this.getClientState(t);n&&n.contextHandlers.delete(e)}handleJoinSessionContextGroup({sessionContextGroupId:e},t){try{if(!e)throw new Error("Failed to join session context group: must specify group id.");const n=this.sessionContextGroupMap.get(e);if(n)n.registerNewClient(t);else{const n=new r.default(this.channel,e);n.registerNewClient(t),this.sessionContextGroupMap.set(e,n)}return{hasConflict:this.contextGroupsById.has(e)}}catch(e){throw new Error(e)}}getClientState(e){return this.interopClients.get(e.endpointId)}static toObject(e){const t=Object.fromEntries(e),n={};return Object.entries(t).forEach((([e,t])=>{const i=Object.fromEntries(t);n[e]=i})),n}static checkContextIntegrity(e){if(!e)return{isValid:!1,reason:"No context supplied"};if("object"!=typeof e)return{isValid:!1,reason:"Context must be an Object"};if(!e.type)return{isValid:!1,reason:"Context must have a type property"};if(e.id&&"object"!=typeof e.id)return{isValid:!1,reason:"Context id must be an Object populated with key-value identifiers (if set)"};if(e.id){const{id:t}=e,n=Object.keys(t);let i=!1;if(!n.length)return{isValid:!1,reason:"Context id must have at least one key-value identifier"};if(n.forEach((e=>{"string"==typeof e&&"string"==typeof t[e]||(i=!0)})),i)return{isValid:!1,reason:"Context id key-value identifiers must be of type string"}}return e.name&&"string"!=typeof e.name?{isValid:!1,reason:"Context name must be of string type (if set)"}:{isValid:!0}}static hasEndpointId(e){return void 0!==e.endpointId}static isContextTypeCompatible(e,t){return void 0===t||e===t}setContextGroupMap(){for(const e of this.getContextGroups())this.contextGroupsById.set(e.id,new Map)}static async setCurrentContextGroupInClientOptions(e,t){const n=await fin.System.getEntityInfo(e.uuid,e.name);let i;"view"===n.entityType?i=await fin.View.wrap(e):"window"===n.entityType&&(i=await fin.Window.wrap(e)),i?await i.updateOptions({interop:{currentContextGroup:t}}):console.warn(`Setting Current Context Group: Entity with identity ${e.uuid}, ${e.name} is not a window or view. It is a ${n.entityType} instead.`)}wireChannel(e){e.onConnection(((e,t)=>{if(!this.isConnectionAuthorized(e,t))throw new Error(`Connection not authorized for ${e.uuid}, ${e.name}`);if(!e.endpointId)throw new Error("Version too old to be compatible with Interop. Please upgrade your runtime to a more recent version.");const n={contextGroupId:void 0,contextHandlers:new Map,clientIdentity:e};(null==t?void 0:t.currentContextGroup)&&this.contextGroupsById.has(t.currentContextGroup)&&(n.contextGroupId=null==t?void 0:t.currentContextGroup),this.interopClients.set(e.endpointId,n)})),e.onDisconnection((e=>{this.interopClients.delete(e.endpointId);const t=this.intentClientMap.get(e.name);t&&e.uuid===fin.me.identity.uuid&&t.forEach((e=>{e.isReady=!1})),this.sessionContextGroupMap.forEach((t=>{t.onDisconnection(e)}))})),e.beforeAction(((e,t,n)=>{if(!this.isActionAuthorized(e,t,n))throw new Error(`Action (${e}) not authorized for ${n.uuid}, ${n.name}`);console.log(e,t,n)})),e.afterAction(console.log),e.register("setContext",this.setContext.bind(this)),e.register("fireIntent",this.handleFiredIntent.bind(this)),e.register("getCurrentContext",this.getCurrentContext.bind(this)),e.register("getInfoForIntent",this.handleInfoForIntent.bind(this)),e.register("getInfoForIntentsByContext",this.handleInfoForIntentsByContext.bind(this)),e.register("fireIntentForContext",this.handleFiredIntentForContext.bind(this)),e.register("getContextGroups",this.getContextGroups.bind(this)),e.register("joinContextGroup",this.joinContextGroup.bind(this)),e.register("removeFromContextGroup",this.removeFromContextGroup.bind(this)),e.register("getAllClientsInContextGroup",this.getAllClientsInContextGroup.bind(this)),e.register("getInfoForContextGroup",this.getInfoForContextGroup.bind(this)),e.register("contextHandlerRegistered",this.contextHandlerRegistered.bind(this)),e.register("intentHandlerRegistered",this.intentHandlerRegistered.bind(this)),e.register("removeContextHandler",this.removeContextHandler.bind(this)),e.register("sessionContextGroup:createIfNeeded",this.handleJoinSessionContextGroup.bind(this))}async isConnectionAuthorized(e,t){return this.wire.sendAction("interop-broker-is-connection-authorized").catch((e=>{})),!0}async isActionAuthorized(e,t,n){return this.wire.sendAction("interop-broker-is-action-authorized").catch((e=>{})),!0}}t.InteropBroker=a},7138:function(e,t,n){var i,r,o=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.InteropClient=void 0;const a=n(9659),c=n(822),d=n(1787);class h extends a.Base{constructor(e,t,n){super(e),i.set(this,void 0),r.set(this,void 0),o(this,r,new Map),o(this,i,this.wire.environment.whenReady().then((()=>this.fin.InterApplicationBus.Channel.connect(`interop-broker-${t}`,{payload:n}))))}async setContext(e){return this.wire.sendAction("interop-client-set-context").catch((e=>{})),(await s(this,i)).dispatch("setContext",{context:e})}async addContextHandler(e,t){this.wire.sendAction("interop-client-add-context-handler").catch((e=>{}));const n=await s(this,i);let r;t?(r=`invokeContextHandler-${t}-${d.generateId()}`,console.warn(`Warning: By providing a contextType (${t}), you are using the experimental addContextHandler. To avoid issues, make sure you are adding your context handlers at the top level in your application.`)):r="invokeContextHandler";const o=d.wrapContextHandler(e,r);return n.register(r,o),await n.dispatch("contextHandlerRegistered",{handlerId:r,contextType:t}),{unsubscribe:async()=>{n.remove(r),await n.dispatch("removeContextHandler",{handlerId:r})}}}async getContextGroups(){return this.wire.sendAction("interop-client-get-context-groups").catch((e=>{})),(await s(this,i)).dispatch("getContextGroups")}async joinContextGroup(e,t){this.wire.sendAction("interop-client-join-context-group").catch((e=>{}));const n=await s(this,i);if(!e)throw new Error("No contextGroupId specified for joinContextGroup.");return n.dispatch("joinContextGroup",{contextGroupId:e,target:t})}async removeFromContextGroup(e){return this.wire.sendAction("interop-client-remove-from-context-group").catch((e=>{})),(await s(this,i)).dispatch("removeFromContextGroup",{target:e})}async getAllClientsInContextGroup(e){this.wire.sendAction("interop-client-get-all-clients-in-context-group").catch((e=>{}));const t=await s(this,i);if(!e)throw new Error("No contextGroupId specified for getAllClientsInContextGroup.");return t.dispatch("getAllClientsInContextGroup",{contextGroupId:e})}async getInfoForContextGroup(e){this.wire.sendAction("interop-client-get-info-for-context-group").catch((e=>{}));const t=await s(this,i);if(!e)throw new Error("No contextGroupId specified for getInfoForContextGroup.");return t.dispatch("getInfoForContextGroup",{contextGroupId:e})}async fireIntent(e){return this.wire.sendAction("interop-client-fire-intent").catch((e=>{})),(await s(this,i)).dispatch("fireIntent",e)}async registerIntentHandler(e,t){this.wire.sendAction("interop-client-register-intent-handler").catch((e=>{}));const n=await s(this,i),r=`intent-handler-${t}`,o=this.wrapIntentHandler(e,r);try{await n.register(r,o),await n.dispatch("intentHandlerRegistered",{handlerId:r})}catch(e){throw new Error("Unable to register intent handler")}return{unsubscribe:async()=>{n.remove(r)}}}async getCurrentContext(e){return this.wire.sendAction("interop-client-get-current-context").catch((e=>{})),(await s(this,i)).dispatch("getCurrentContext",{contextType:e})}async getInfoForIntent(e){return this.wire.sendAction("interop-client-get-info-for-intent").catch((e=>{})),(await s(this,i)).dispatch("getInfoForIntent",e)}async getInfoForIntentsByContext(e){return this.wire.sendAction("interop-client-get-info-for-intents-by-context").catch((e=>{})),(await s(this,i)).dispatch("getInfoForIntentsByContext",e)}async fireIntentForContext(e){return this.wire.sendAction("interop-client-fire-intent-for-context").catch((e=>{})),(await s(this,i)).dispatch("fireIntentForContext",e)}async joinSessionContextGroup(e){try{const t=s(this,r).get(e);if(t)return t.getUserInstance();const n=await s(this,i),{hasConflict:o}=await n.dispatch("sessionContextGroup:createIfNeeded",{sessionContextGroupId:e});o&&console.warn(`A (non-session) context group with the name "${e}" already exists. If you are trying to join a Context Group, call joinContextGroup instead.`);const a=new c.default(this.wire,s(this,i),e);return s(this,r).set(e,a),a.getUserInstance()}catch(t){throw console.error(`Error thrown trying to create Session Context Group with id "${e}": ${t}`),t}}wrapIntentHandler(e,t){return async n=>{try{await e(n)}catch(e){throw console.error(`Error thrown by handler ${t}: ${e}`),e}}}}t.InteropClient=h,i=new WeakMap,r=new WeakMap},7115:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(8706);t.default=class{constructor(e,t){this.provider=e,this.id=t,this.lastContext=void 0,this.contextGroupMap=new Map,this.clients=new Map,this.registerListeners()}registerListeners(){this.provider.register(`sessionContextGroup:getContext-${this.id}`,this.getCurrentContext.bind(this)),this.provider.register(`sessionContextGroup:setContext-${this.id}`,this.setContext.bind(this)),this.provider.register(`sessionContextGroup:handlerAdded-${this.id}`,this.handlerAdded.bind(this)),this.provider.register(`sessionContextGroup:handlerRemoved-${this.id}`,this.handlerRemoved.bind(this))}getCurrentContext(e){return e.type?this.contextGroupMap.get(e.type):this.lastContext}setContext(e,t){const{context:n}=e,r=i.InteropBroker.checkContextIntegrity(n);if(!1===r.isValid)throw new Error(`Failed to set Context - bad Context. Reason: ${r.reason}. Context: ${JSON.stringify(n)}`);if(!this.getClientState(t))throw new Error(`Client with Identity: ${t.uuid} ${t.name} not in Session Client State Map`);this.contextGroupMap.set(n.type,n),this.lastContext=n,Array.from(this.clients.values()).forEach((e=>{var t;null===(t=e.contextHandlers.get(n.type))||void 0===t||t.forEach((t=>{this.provider.dispatch(e.clientIdentity,t,n)})),e.globalHandler&&this.provider.dispatch(e.clientIdentity,e.globalHandler,n)}))}getClientState(e){return this.clients.get(e.endpointId)}handlerAdded(e,t){const{handlerId:n,contextType:i}=e,r=this.getClientState(t);if(!r)throw new Error(`Client with Identity: ${t.uuid} ${t.name} not in Client State Map`);if(i){const e=r.contextHandlers.get(i)||[];r.contextHandlers.set(i,[...e,n]);const o=this.contextGroupMap.get(i);o&&this.provider.dispatch(t,n,o)}else r.globalHandler=n,[...this.contextGroupMap.keys()].forEach((e=>{const i=this.contextGroupMap.get(e);i&&this.provider.dispatch(t,n,i)}))}handlerRemoved(e,t){const{handlerId:n}=e,i=this.clients.get(t.endpointId);i?(Array.from(i.contextHandlers).forEach((([,e])=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)})),i.globalHandler===n&&(i.globalHandler=void 0)):console.warn(`Trying to remove a handler from a client that isn't mapped. handlerId: ${n}. clientIdentity: ${t}`)}registerNewClient(e){if(!this.clients.has(e.endpointId)){const t={contextHandlers:new Map,clientIdentity:e,globalHandler:void 0};this.clients.set(e.endpointId,t)}}onDisconnection(e){this.clients.delete(e.endpointId)}}},822:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const s=n(9659),a=n(1787);class c extends s.Base{constructor(e,t,n){super(e),i.set(this,void 0),this.id=n,r(this,i,t)}async setContext(e){return this.wire.sendAction("interop-session-context-group-set-context").catch((e=>{})),(await o(this,i)).dispatch(`sessionContextGroup:setContext-${this.id}`,{sessionContextGroupId:this.id,context:e})}async getCurrentContext(e){return this.wire.sendAction("interop-session-context-group-get-context").catch((e=>{})),(await o(this,i)).dispatch(`sessionContextGroup:getContext-${this.id}`,{sessionContextGroupId:this.id,type:e})}async addContextHandler(e,t){this.wire.sendAction("interop-session-context-group-add-handler").catch((e=>{}));const n=await o(this,i);let r;return r=t?`sessionContextHandler:invoke-${this.id}-${t}-${a.generateId()}`:`sessionContextHandler:invoke-${this.id}`,n.register(r,a.wrapContextHandler(e,r)),n.dispatch(`sessionContextGroup:handlerAdded-${this.id}`,{handlerId:r,contextType:t}),{unsubscribe:await this.createUnsubscribeCb(r)}}async createUnsubscribeCb(e){const t=await o(this,i);return async()=>{t.remove(e),await t.dispatch(`sessionContextGroup:handlerRemoved-${this.id}`,{handlerId:e})}}getUserInstance(){return{id:this.id,setContext:a.wrapInTryCatch(this.setContext.bind(this),"Failed to set context: "),getCurrentContext:a.wrapInTryCatch(this.getCurrentContext.bind(this),"Failed to get context: "),addContextHandler:a.wrapInTryCatch(this.addContextHandler.bind(this),"Failed to add context handler: ")}}}t.default=c,i=new WeakMap},8706:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2977);t.default=o.default,r(n(7138),t),r(n(2057),t)},1787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BROKER_ERRORS=t.generateOverrideWarning=t.generateOverrideError=t.wrapContextHandler=t.wrapInTryCatch=t.generateId=void 0,t.generateId=()=>`${Math.random()}${Date.now()}`,t.wrapInTryCatch=(e,t)=>(...n)=>{try{return e(...n)}catch(e){throw new Error((t||"")+e)}},t.wrapContextHandler=(e,t)=>async n=>{try{await e(n)}catch(e){throw console.error(`Error thrown by handler ${t} for context type ${n.type}: ${e}`),e}},t.generateOverrideError=(e,t)=>`You have tried to to use ${e} but ${t} has not been overridden in the Interop Broker. Please override this function. Refer to our documentation for more info.`,t.generateOverrideWarning=(e,t,n,i)=>{const{uuid:r,name:o}=i;return`Entity with identity: ${r}/${o} has called ${e} or ${t} but ${n} has not been overridden.`},t.BROKER_ERRORS={fireIntent:t.generateOverrideError("fireIntent","handleFiredIntent"),fireIntentForContext:t.generateOverrideError("fireIntentForContext","handleFiredIntentForContext"),getInfoForIntent:t.generateOverrideError("getInfoForIntent","handleInfoForIntent"),getInfoForIntentsByContext:t.generateOverrideError("getInfoForIntentsByContext","handleInfoForIntentsByContext")}},9641:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMe=t.getBaseMe=t.environmentUnsupportedMessage=void 0;const i=n(4169),r=n(6720),o=n(4997);function s(e,t,n){return{isView:"view"===e,isWindow:"window"===e,isFrame:"iframe"===e,isExternal:"external connection"===e,uuid:t,name:n,entityType:e}}t.environmentUnsupportedMessage="You are not running in OpenFin.",t.getBaseMe=s,t.getMe=function(e){const{uuid:n,name:a,entityType:c}=e.me,d={setContext(){throw new Error(t.environmentUnsupportedMessage)},addContextHandler(){throw new Error(t.environmentUnsupportedMessage)},getContextGroups(){throw new Error(t.environmentUnsupportedMessage)},joinContextGroup(){throw new Error(t.environmentUnsupportedMessage)},removeFromContextGroup(){throw new Error(t.environmentUnsupportedMessage)},getAllClientsInContextGroup(){throw new Error(t.environmentUnsupportedMessage)},getInfoForContextGroup(){throw new Error(t.environmentUnsupportedMessage)}},h="Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.",l={setContext(){throw new Error(h)},addContextHandler(){throw new Error(h)},getContextGroups(){throw new Error(h)},joinContextGroup(){throw new Error(h)},removeFromContextGroup(){throw new Error(h)},getAllClientsInContextGroup(){throw new Error(h)},getInfoForContextGroup(){throw new Error(h)}},u={eventNames:()=>{throw new Error(t.environmentUnsupportedMessage)},emit:()=>{throw new Error(t.environmentUnsupportedMessage)},listeners:()=>{throw new Error(t.environmentUnsupportedMessage)},listenerCount:()=>{throw new Error(t.environmentUnsupportedMessage)},on:()=>{throw new Error(t.environmentUnsupportedMessage)},addListener:()=>{throw new Error(t.environmentUnsupportedMessage)},once:()=>{throw new Error(t.environmentUnsupportedMessage)},prependListener:()=>{throw new Error(t.environmentUnsupportedMessage)},prependOnceListener:()=>{throw new Error(t.environmentUnsupportedMessage)},removeListener:()=>{throw new Error(t.environmentUnsupportedMessage)},removeAllListeners:()=>{throw new Error(t.environmentUnsupportedMessage)}};switch(c){case"view":return Object.assign(new i.View(e,{uuid:n,name:a}),s(c,n,a),{interop:l,isOpenFin:!0});case"window":return Object.assign(new o._Window(e,{uuid:n,name:a}),s(c,n,a),{interop:l,isOpenFin:!0});case"iframe":return Object.assign(new r._Frame(e,{uuid:n,name:a}),s(c,n,a),{interop:l,isOpenFin:!0});default:return{...s(c,n,a),...u,interop:d,isOpenFin:!1}}}},7283:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(6394),o=n(9872);class s extends i.Base{constructor(e,t){super(e),this._channel=t,this._initializer=(...e)=>this.wire.environment.getProviderInitializer().then((t=>t(this.wire.environment)(...e))),this.Layout=new r.LayoutModule(this.wire)}async init(e){const t=null==e?void 0:e.overrideCallback,n=await this.fin.Interop.init(this.fin.me.uuid,null==e?void 0:e.interopOverride);return window.interopBroker=n,this._initializer(t,n)}async wrap(e){return this.wire.sendAction("platform-wrap").catch((e=>{})),new o.Platform({uuid:e.uuid},this._channel)}wrapSync(e){return this.wire.sendAction("platform-wrap-sync").catch((e=>{})),new o.Platform({uuid:e.uuid},this._channel)}async getCurrent(){return this.wire.sendAction("platform-get-current").catch((e=>{})),this.wrap({uuid:this.wire.me.uuid})}getCurrentSync(){return this.wire.sendAction("platform-get-current-sync").catch((e=>{})),this.wrapSync({uuid:this.wire.me.uuid})}start(e){return this.wire.sendAction("platform-start").catch((e=>{})),new Promise((async(t,n)=>{try{const{uuid:n}=e,i=await this.fin.Application._create({...e,isPlatformController:!0});i.once("platform-api-ready",(()=>t(this.wrapSync({uuid:n})))),i._run({uuid:n})}catch(e){n(e)}}))}startFromManifest(e,t){return this.wire.sendAction("platform-start-from-manifest").catch((e=>{})),new Promise((async(n,i)=>{try{const i=await this.fin.Application._createFromManifest(e);i.once("platform-api-ready",(()=>n(this.wrapSync({uuid:i.identity.uuid})))),i._run(t)}catch(e){i(e)}}))}}t.default=s},9872:function(e,t,n){var i,r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;const o=n(9659),s=n(4999),a=new Map;class c extends o.EmitterBase{constructor(e,t){super(t.wire,"application",e.uuid),this.getClient=e=>{this.wire.sendAction("platform-get-client",this.identity).catch((e=>{}));const t=e||this.identity,{uuid:n}=t;if(!a.has(n)){const e=r(this,i).call(this,n);a.set(n,e)}return a.get(n)},i.set(this,(async e=>{try{const t=`custom-frame-${e}`,n=await this._channel.connect(t,{wait:!1});return n.onDisconnection((()=>{a.delete(e)})),n}catch(t){throw a.delete(e),new Error("The targeted Platform is not currently running. Listen for application-started event for the given Uuid.")}})),this.launchLegacyManifest=this.launchContentManifest;const n=s.validateIdentity(e);if(n)throw new Error(n);this._channel=t,this.identity={uuid:e.uuid},this.Layout=this.fin.Platform.Layout,this.Application=this.fin.Application.wrapSync(this.identity)}async createView(e,t,n){this.wire.sendAction("platform-create-view",this.identity).catch((e=>{}));const i=await this.getClient(),r=await i.dispatch("create-view",{target:t,opts:e,targetView:n});if(!r||s.validateIdentity(r.identity))throw new Error(`When overwriting the createView call, please return an object that has a valid 'identity' property: ${JSON.stringify(r)}`);return this.fin.View.wrapSync(r.identity)}async createWindow(e){this.wire.sendAction("platform-create-window",this.identity).catch((e=>{}));const t=await this.getClient();e.reason||(e.reason="api-call");const n=await t.dispatch("create-view-container",e);if(!n||s.validateIdentity(n.identity))throw new Error(`When overwriting the createWindow call, please return an object that has a valid 'identity' property: ${JSON.stringify(n)}`);const{identity:i}=n,r=this.fin.Window.wrapSync(i);return r.name=i.name,r.uuid=i.uuid,r}async quit(){return this.wire.sendAction("platform-quit",this.identity).catch((e=>{})),(await this.getClient()).dispatch("quit")}async closeView(e){this.wire.sendAction("platform-close-view",this.identity).catch((e=>{}));const t=await this.getClient();await t.dispatch("close-view",{view:e})}async reparentView(e,t){var n;console.warn("Platform.reparentView has been deprecated, please use Platform.createView"),this.wire.sendAction("platform-reparent-view",this.identity).catch((e=>{}));const i={...e,uuid:null!==(n=e.uuid)&&void 0!==n?n:this.identity.uuid},r=await this.fin.View.wrap(i),o=await r.getOptions();return this.createView(o,t)}async getSnapshot(){return this.wire.sendAction("platform-get-snapshot",this.identity).catch((e=>{})),(await this.getClient()).dispatch("get-snapshot")}async applySnapshot(e,t){this.wire.sendAction("platform-apply-snapshot",this.identity).catch((e=>{}));const n="Requested snapshot must be a valid Snapshot object, or a url or filepath to such an object.";let i;if("string"==typeof e)try{i=(await this._channel.wire.sendAction("get-application-manifest",{manifestUrl:e})).payload.data}catch(e){throw new Error(`${n}: ${e}`)}else i=e;if(!i.windows)throw new Error(n);const r=await this.getClient();return await r.dispatch("apply-snapshot",{snapshot:i,options:t}),this}async fetchManifest(e){return(await this.getClient()).dispatch("platform-fetch-manifest",{manifestUrl:e})}async launchContentManifest(e){this.wire.sendAction("platform-launch-content-manifest",this.identity).catch((e=>{}));const t=await this.getClient(),n=await this.fetchManifest(e);return t.dispatch("launch-into-platform",{manifest:n}),this}async setWindowContext(e={},t){if(this.wire.sendAction("platform-set-window-context",this.identity).catch((e=>{})),!e)throw new Error("Please provide a serializable object or string to set the context.");const n=await this.getClient(),{entityType:i}=t?await this.fin.System.getEntityInfo(t.uuid,t.name):this.fin.me;await n.dispatch("set-window-context",{context:e,entityType:i,target:t||{uuid:this.fin.me.uuid,name:this.fin.me.name}})}async getWindowContext(e){this.wire.sendAction("platform-get-window-context",this.identity).catch((e=>{}));const t=await this.getClient(),{entityType:n}=e?await this.fin.System.getEntityInfo(e.uuid,e.name):this.fin.me;return t.dispatch("get-window-context",{target:e||{uuid:this.fin.me.uuid,name:this.fin.me.name},entityType:n})}async closeWindow(e,t={skipBeforeUnload:!1}){return this.wire.sendAction("platform-close-window",this.identity).catch((e=>{})),(await this.getClient()).dispatch("close-window",{windowId:e,options:t})}}t.Platform=c,i=new WeakMap},4386:(e,t)=>{function n(e){switch(e){case"columns":case"grid":case"rows":case"tabs":return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPresetType=void 0,t.isValidPresetType=n,t.default={isValidPresetType:n}},609:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(7283);t.default=o.default,r(n(9872),t)},4210:function(e,t,n){var i,r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutModule=void 0;const s=n(8111),a=n(9659);class c extends a.Base{constructor(){super(...arguments),i.set(this,void 0),this.init=async(e={})=>{if(this.wire.sendAction("layout-init").catch((e=>{})),!this.fin.me.isWindow)throw new Error("Layout.init can only be called from a Window context.");if(r(this,i))throw new Error("Layout for this window already initialized, please use Layout.replace call to replace the layout.");const t=await this.wire.environment.getManagerConstructor();o(this,i,new t);let{layout:n,containerId:s}=e;n&&console.warn("We recommend using a layout in window options.\n                This layout has not been sanitized and unexpected behavior can occur."),n=n||(await this.fin.Window.getCurrentSync().getOptions()).layout,s=s||"layout-container";const a=document.getElementById(s);return await r(this,i).initManager(),await r(this,i).createLayout(n,a),Object.assign(this.getCurrentSync(),{layoutManager:r(this,i)})}}async wrap(e){return this.wire.sendAction("layout-wrap").catch((e=>{})),new s.Layout(e,this.wire)}wrapSync(e){return this.wire.sendAction("layout-wrap-sync").catch((e=>{})),new s.Layout(e,this.wire)}async getCurrent(){if(this.wire.sendAction("layout-get-current").catch((e=>{})),!this.fin.me.isWindow)throw new Error("You are not in a Window context.  Only Windows can have a Layout.");const{uuid:e,name:t}=this.fin.me;return this.wrap({uuid:e,name:t})}getCurrentSync(){if(this.wire.sendAction("layout-get-current-sync").catch((e=>{})),!this.fin.me.isWindow)throw new Error("You are not in a Window context.  Only Windows can have a Layout.");const{uuid:e,name:t}=this.fin.me;return this.wrapSync({uuid:e,name:t})}}t.LayoutModule=c,i=new WeakMap},8111:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;const i=n(4999),r=n(4386),o=n(9659);class s extends o.Base{constructor(e,t){super(t),this.replace=async e=>{this.wire.sendAction("layout-replace").catch((e=>{}));const t=await this.platform.getClient();await t.dispatch("replace-layout",{target:this.identity,opts:{layout:e}})},this.replaceView=async(e,t)=>{this.wire.sendAction("layout-replace-view").catch((e=>{}));const n=await this.platform.getClient();await n.dispatch("replace-view",{target:this.identity,opts:{viewToReplace:e,newView:t}})},this.applyPreset=async e=>{this.wire.sendAction("layout-apply-preset").catch((e=>{}));const t=await this.platform.getClient(),{presetType:n}=e;if(!n||!r.isValidPresetType(n))throw new Error("Cannot apply preset layout, please include an applicable presetType property in the PresetLayoutOptions.");await t.dispatch("apply-preset-layout",{target:this.identity,opts:{presetType:n}})};const n=i.validateIdentity(e);if(n)throw new Error(n);this.identity=e,this.platform=this.fin.Platform.wrapSync({uuid:e.uuid}),e.uuid===this.fin.me.uuid&&e.name===this.fin.me.name&&(this.init=this.fin.Platform.Layout.init)}async getConfig(){return this.wire.sendAction("layout-get-config").catch((e=>{})),(await this.platform.getClient()).dispatch("get-frame-snapshot",{target:this.identity})}}t.Layout=s},6394:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4210),t),r(n(8111),t)},1746:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(2878),o=n(6215);class s extends i.Base{async init(e){if(this.wire.sendAction("snapshot-source-init").catch((e=>{})),"object"!=typeof e||"function"!=typeof e.getSnapshot||"function"!=typeof e.applySnapshot)throw new Error("you must pass in a valid SnapshotProvider");const t=await this.fin.InterApplicationBus.Channel.create(o.getSnapshotSourceChannelName(fin.me.identity));t.register("get-snapshot",(async()=>({snapshot:await e.getSnapshot()}))),t.register("apply-snapshot",(({snapshot:t})=>e.applySnapshot(t)))}wrapSync(e){return this.wire.sendAction("snapshot-source-wrap-sync").catch((e=>{})),new r.SnapshotSource(this.wire,e)}async wrap(e){return this.wire.sendAction("snapshot-source-wrap").catch((e=>{})),this.wrapSync(e)}}t.default=s},2878:function(e,t,n){var i,r,o,s,a,c=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},d=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.SnapshotSource=void 0;const h=n(9659),l=n(6215),u=new Map;class p extends h.Base{constructor(e,t){super(e),i.set(this,void 0),r.set(this,(()=>(u.has(this.identity.uuid)||u.set(this.identity.uuid,{eventFired:null,clientPromise:null}),u.get(this.identity.uuid)))),o.set(this,(()=>(d(this,r).call(this).clientPromise||(d(this,r).call(this).clientPromise=d(this,s).call(this)),d(this,r).call(this).clientPromise))),s.set(this,(async()=>{const e=l.getSnapshotSourceChannelName(this.identity);try{d(this,r).call(this).eventFired||await d(this,a).call(this);const t=await this.fin.InterApplicationBus.Channel.connect(e,{wait:!1});return t.onDisconnection((()=>{d(this,r).call(this).clientPromise=null,d(this,r).call(this).eventFired=null})),t}catch(e){throw d(this,r).call(this).clientPromise=null,new Error("The targeted SnapshotSource is not currently initialized. Await this object's ready() method.")}})),a.set(this,(async()=>{const e=l.getSnapshotSourceChannelName(this.identity);let t,n;const i=new Promise(((e,i)=>{t=e,n=i}));d(this,r).call(this).eventFired=i;const o=async i=>{try{i.channelName===e&&(t(),await this.fin.InterApplicationBus.Channel.removeListener("connected",o))}catch(e){n(e)}};await this.fin.InterApplicationBus.Channel.on("connected",o)})),c(this,i,t)}get identity(){return d(this,i)}async ready(){this.wire.sendAction("snapshot-source-ready").catch((e=>{}));try{await d(this,o).call(this)}catch(e){await d(this,r).call(this).eventFired}}async getSnapshot(){this.wire.sendAction("snapshot-source-get-snapshot").catch((e=>{}));const e=await d(this,o).call(this),t=await e.dispatch("get-snapshot");return(await t).snapshot}async applySnapshot(e){return this.wire.sendAction("snapshot-source-apply-snapshot").catch((e=>{})),(await d(this,o).call(this)).dispatch("apply-snapshot",{snapshot:e})}}t.SnapshotSource=p,i=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap},7153:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1746);t.default=o.default,r(n(2878),t)},6215:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSnapshotSourceChannelName=void 0,t.getSnapshotSourceChannelName=e=>`snapshot-source-provider-${e.uuid}`},3641:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(5007),o=n(4997);class s extends i.EmitterBase{constructor(e){super(e,"system")}sendExternalProcessRequest(e,t){return new Promise(((n,i)=>{const r="external-process-exited";let s,a,c,d;"function"==typeof t.listener&&(c=e=>{const n=e||{};a={topic:"exited",uuid:n.processUuid||"",exitCode:n.exitCode||0},s===e.processUuid&&(t.listener(a),d.removeListener(r,c))},this.wire.me.name||(this.wire.me.name=this.wire.me.uuid),d=new o._Window(this.wire,this.wire.me),d.on(r,c)),this.wire.sendAction(e,t).then((({payload:e})=>{s=e.data.uuid,n(e.data),a&&s===a.uuid&&(t.listener(a),d.removeListener(r,c))})).catch((e=>{d&&d.removeListener(r,c),i(e)}))}))}getVersion(){return this.wire.sendAction("get-version").then((({payload:e})=>e.data))}clearCache(e){return this.wire.sendAction("clear-cache",e).then((()=>{}))}deleteCacheOnExit(){return this.wire.sendAction("delete-cache-request").then((()=>{}))}exit(){return this.wire.sendAction("exit-desktop").then((()=>{}))}async fetchManifest(e){const{payload:{data:t}}=await this.wire.sendAction("fetch-manifest",{manifestUrl:e});return t}flushCookieStore(){return this.wire.sendAction("flush-cookie-store").then((()=>{}))}getAllWindows(){return this.wire.sendAction("get-all-windows").then((({payload:e})=>e.data))}getAllApplications(){return this.wire.sendAction("get-all-applications").then((({payload:e})=>e.data))}getCommandLineArguments(){return this.wire.sendAction("get-command-line-arguments").then((({payload:e})=>e.data))}async getCrashReporterState(){const{payload:{data:{diagnosticMode:e,isRunning:t}}}=await this.wire.sendAction("get-crash-reporter-state");return console.warn("diagnosticMode property is deprecated. It will be removed in a future version"),{diagnosticMode:e,diagnosticsMode:e,isRunning:t}}async startCrashReporter(e){const t=e,n={...t,diagnosticMode:t.diagnosticsMode||t.diagnosticMode},{payload:{data:{diagnosticMode:i,isRunning:r}}}=await this.wire.sendAction("start-crash-reporter",n);return{diagnosticMode:i,diagnosticsMode:i,isRunning:r}}getUniqueUserId(){return this.wire.sendAction("get-unique-user-id").then((({payload:e})=>e.data))}getEntityInfo(e,t){return this.wire.sendAction("get-entity-info",{uuid:e,name:t}).then((({payload:e})=>e.data))}getEnvironmentVariable(e){return this.wire.sendAction("get-environment-variable",{environmentVariables:e}).then((({payload:e})=>e.data))}getFocusedWindow(){return this.wire.sendAction("get-focused-window").then((({payload:e})=>e.data))}async isAppCertified(e){const{payload:{data:{certifiedInfo:t}}}=await this.wire.sendAction("is-app-certified",{manifestUrl:e});return t}getInstalledRuntimes(){return this.wire.sendAction("get-installed-runtimes").then((({payload:e})=>e.data.runtimes))}async getInstalledApps(){const{payload:{data:{installedApps:e}}}=await this.wire.sendAction("get-installed-apps");return e}getLog(e){return this.wire.sendAction("view-log",e).then((({payload:e})=>e.data))}getMachineId(){return this.wire.sendAction("get-machine-id").then((({payload:e})=>e.data))}getMinLogLevel(){return this.wire.sendAction("get-min-log-level").then((({payload:e})=>e.data))}getLogList(){return this.wire.sendAction("list-logs").then((({payload:e})=>e.data))}getMonitorInfo(){return this.wire.sendAction("get-monitor-info").then((({payload:e})=>e.data))}getMousePosition(){return this.wire.sendAction("get-mouse-position").then((({payload:e})=>e.data))}getProcessList(){return console.warn("System.getProcessList has been deprecated. Please consider using our new process APIs: Window.getProcessInfo, View.getProcessInfo, Application.getProcessInfo, System.getAllProcessInfo"),this.wire.sendAction("process-snapshot").then((({payload:e})=>e.data))}async getAllProcessInfo(){const{payload:{data:e}}=await this.wire.sendAction("get-all-process-info",this.identity);return e}getProxySettings(){return this.wire.sendAction("get-proxy-settings").then((({payload:e})=>e.data))}getRuntimeInfo(){return this.wire.sendAction("get-runtime-info").then((({payload:e})=>e.data))}getRvmInfo(){return this.wire.sendAction("get-rvm-info").then((({payload:e})=>e.data))}getHostSpecs(){return this.wire.sendAction("get-host-specs").then((({payload:e})=>e.data))}launchExternalProcess(e){return this.sendExternalProcessRequest("launch-external-process",e)}monitorExternalProcess(e){return this.sendExternalProcessRequest("monitor-external-process",e)}log(e,t){return this.wire.sendAction("write-to-log",{level:e,message:t}).then((()=>{}))}openUrlWithBrowser(e){return this.wire.sendAction("open-url-with-browser",{url:e}).then((()=>{}))}releaseExternalProcess(e){return this.wire.sendAction("release-external-process",{uuid:e}).then((()=>{}))}showDeveloperTools(e){return this.wire.sendAction("show-developer-tools",e).then((()=>{}))}terminateExternalProcess(e){return this.wire.sendAction("terminate-external-process",e).then((()=>{}))}updateProxySettings(e){return this.wire.sendAction("update-proxy",e).then((()=>{}))}downloadAsset(e,t){return new Promise(((n,i)=>{if("NodeEnvironment"===this.wire.environment.constructor.name)return void i(new r.NotSupportedError("downloadAsset only supported in an OpenFin Render process"));const o=this.wire.environment.getNextMessageId().toString(),s=`asset-download-progress-${o}`,a=`asset-download-error-${o}`,c=`asset-download-complete-${o}`,d=e=>{const n={downloadedBytes:e.downloadedBytes,totalBytes:e.totalBytes};t(n)},h=()=>{this.removeListener(s,d)};this.on(s,d),this.once(a,((e,t)=>{const n=t||e;h(),i(new r.RuntimeError(n))})),this.once(c,(()=>{h(),n()}));const l=Object.assign(e,{downloadId:o});this.wire.sendAction("download-asset",l).catch((e=>{h(),i(e)}))}))}downloadRuntime(e,t){return new Promise(((n,i)=>{if("NodeEnvironment"===this.wire.environment.constructor.name)return void i(new r.NotSupportedError("downloadRuntime only supported in an OpenFin Render process"));const o=this.wire.environment.getNextMessageId().toString(),s=`runtime-download-progress-${o}`,a=`runtime-download-error-${o}`,c=`runtime-download-complete-${o}`,d=e=>{const n={downloadedBytes:e.downloadedBytes,totalBytes:e.totalBytes};t(n)},h=()=>{this.removeListener(s,d)};this.on(s,d),this.once(a,((e,t)=>{const n=t||e;h(),i(new r.RuntimeError(n))})),this.once(c,(()=>{h(),n()}));const l=Object.assign(e,{downloadId:o});this.wire.sendAction("download-runtime",l).catch((e=>{h(),i(e)}))}))}downloadPreloadScripts(e){return this.wire.sendAction("download-preload-scripts",{scripts:e}).then((({payload:e})=>e.data))}getAllExternalApplications(){return this.wire.sendAction("get-all-external-applications").then((({payload:e})=>e.data))}getAppAssetInfo(e){return this.wire.sendAction("get-app-asset-info",e).then((({payload:e})=>e.data))}getCookies(e){const t=this.wire.environment.getUrl(),n=Object.assign(e,{url:t});return this.wire.sendAction("get-cookies",n).then((({payload:e})=>e.data))}setMinLogLevel(e){return this.wire.sendAction("set-min-log-level",{level:e}).then((()=>{}))}resolveUuid(e){return this.wire.sendAction("resolve-uuid",{entityKey:e}).then((({payload:e})=>e.data))}executeOnRemote(e,t){return t.requestingIdentity=e,this.wire.ferryAction(t)}readRegistryValue(e,t,n){return this.wire.sendAction("read-registry-value",{rootKey:e,subkey:t,value:n}).then((({payload:e})=>e.data))}registerExternalConnection(e){return this.wire.sendAction("register-external-connection",{uuid:e}).then((({payload:e})=>e.data))}async getServiceConfiguration(e){if("string"!=typeof e.name)throw new Error("Must provide an object with a `name` property having a string value");const{name:t}=e;return this.wire.sendAction("get-service-configuration",{name:t}).then((({payload:e})=>e.data))}async getSystemAppConfig(e){if("string"!=typeof e)throw new Error("Must provide a string value for name of system app");return this.wire.sendAction("get-system-app-configuration",{name:e}).then((({payload:e})=>e.data))}runRvmHealthCheck(){return this.wire.sendAction("run-rvm-health-check").then((({payload:e})=>e.data))}async launchManifest(e,t){return(await this.wire.sendAction("launch-manifest",{manifestUrl:e,opts:t})).payload.data.manifest}async queryPermissionForCurrentContext(e){const t={uuid:this.wire.me.uuid,name:this.wire.me.name};return(await this.wire.sendAction("query-permission-for-current-context",{apiName:e,identity:t})).payload.data}async enableNativeWindowIntegrationProvider(e){const{payload:t}=await this.wire.sendAction("enable-native-window-integration-provider",{permissions:e});return t.data}async registerUsage({data:e,type:t}){await this.wire.sendAction("register-usage",{data:e,type:t})}}t.default=s},240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(4169);class s extends i.Base{async create(e){const{uuid:t}=this.wire.me;if(!e.name||"string"!=typeof e.name)throw new Error("Please provide a name property as a string in order to create a View.");return this.wire.environment.childViews?await this.wire.environment.createChildContent({entityType:"view",options:{...e,uuid:t}}):await this.wire.sendAction("create-view",{...e,uuid:t}),this.wrapSync({uuid:t,name:e.name})}async wrap(e){this.wire.sendAction("view-wrap");const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.View(this.wire,e)}wrapSync(e){this.wire.sendAction("view-wrap-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.View(this.wire,e)}getCurrent(){if(this.wire.sendAction("view-get-current").catch((e=>{})),!this.wire.me.isView)throw new Error("You are not in a View context");const{uuid:e,name:t}=this.wire.me;return this.wrap({uuid:e,name:t})}getCurrentSync(){if(this.wire.sendAction("view-get-current-sync").catch((e=>{})),!this.wire.me.isView)throw new Error("You are not in a View context");const{uuid:e,name:t}=this.wire.me;return this.wrapSync({uuid:e,name:t})}}t.default=s},3163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const i=n(4636),r=n(4997);class o extends i.WebContents{constructor(e,t){super(e,t,"view"),this.identity=t,this.attach=async e=>{await this.wire.sendAction("attach-view",{target:e,...this.identity})},this.destroy=async()=>{await this.wire.sendAction("destroy-view",{...this.identity})},this.show=async()=>{await this.wire.sendAction("show-view",{...this.identity})},this.hide=async()=>{await this.wire.sendAction("hide-view",{...this.identity})},this.setBounds=async e=>{await this.wire.sendAction("set-view-bounds",{bounds:e,...this.identity})},this.getBounds=async()=>(await this.wire.sendAction("get-view-bounds",{...this.identity})).payload.data,this.getInfo=async()=>(await this.wire.sendAction("get-view-info",{...this.identity})).payload.data,this.getParentLayout=async()=>(this.wire.sendAction("view-get-parent-layout",{...this.identity}).catch((()=>{})),(await this.getCurrentWindow()).getLayout()),this.getOptions=async()=>this.wire.sendAction("get-view-options",{...this.identity}).then((({payload:e})=>e.data)),this.updateOptions=async e=>this.wire.sendAction("update-view-options",{options:e,...this.identity}).then((()=>{})),this.getCurrentWindow=async()=>{const{payload:{data:e}}=await this.wire.sendAction("get-view-window",{...this.identity});return new r._Window(this.wire,e)},this.triggerBeforeUnload=async()=>(await this.wire.sendAction("trigger-before-unload",{...this.identity})).payload.data}async focus({emitSynthFocused:e}={emitSynthFocused:!0}){const t=await this.getCurrentWindow();await t.focusedWebViewWasChanged(),await super.focus({emitSynthFocused:e})}}t.View=o},4169:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(240);t.default=o.default,r(n(3163),t)},4636:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebContents=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e,t,n){super(e,n,t.uuid,t.name),this.entityType=n}capturePage(e){return this.wire.sendAction("capture-page",{options:e,...this.identity}).then((({payload:e})=>e.data))}executeJavaScript(e){return this.wire.sendAction("execute-javascript-in-window",{...this.identity,code:e}).then((({payload:e})=>e.data))}getZoomLevel(){return this.wire.sendAction("get-zoom-level",this.identity).then((({payload:e})=>e.data))}setZoomLevel(e){return this.wire.sendAction("set-zoom-level",{...this.identity,level:e}).then((()=>{}))}navigate(e){return this.wire.sendAction("navigate-window",{...this.identity,url:e}).then((()=>{}))}navigateBack(){return this.wire.sendAction("navigate-window-back",{...this.identity}).then((()=>{}))}async navigateForward(){await this.wire.sendAction("navigate-window-forward",{...this.identity})}stopNavigation(){return this.wire.sendAction("stop-window-navigation",{...this.identity}).then((()=>{}))}reload(e=!1){return this.wire.sendAction("reload-window",{ignoreCache:e,...this.identity}).then((()=>{}))}print(e){return this.wire.sendAction("print",{...this.identity,options:e}).then((()=>{}))}findInPage(e,t){return this.wire.sendAction("find-in-page",{...this.identity,searchTerm:e,options:t}).then((({payload:e})=>e.data))}stopFindInPage(e){return this.wire.sendAction("stop-find-in-page",{...this.identity,action:e}).then((()=>{}))}getPrinters(){return this.wire.sendAction("get-printers",{...this.identity}).then((({payload:e})=>e.data))}async focus({emitSynthFocused:e}={emitSynthFocused:!0}){await this.wire.sendAction("focus-window",{emitSynthFocused:e,...this.identity})}async showDeveloperTools(){await this.wire.sendAction("show-developer-tools",this.identity)}async getProcessInfo(){const{payload:{data:e}}=await this.wire.sendAction("get-process-info",this.identity);return e}async getSharedWorkers(){return this.wire.sendAction("get-shared-workers",this.identity).then((({payload:e})=>e.data))}async inspectSharedWorker(){await this.wire.sendAction("inspect-shared-worker",{...this.identity})}async inspectSharedWorkerById(e){await this.wire.sendAction("inspect-shared-worker-by-id",{...this.identity,workerId:e})}async inspectServiceWorker(){await this.wire.sendAction("inspect-service-worker",{...this.identity})}async showPopupWindow(e){if(this.wire.sendAction(`${this.entityType}-show-popup-window`,this.identity).catch((()=>{})),null==e?void 0:e.onPopupReady){const t=async({popupName:t})=>{try{const n=this.fin.Window.wrapSync({uuid:this.fin.me.uuid,name:t});await e.onPopupReady(n)}catch(e){throw new Error(`Something went wrong during onPopupReady execution: ${e}`)}};await this.once("popup-ready",t)}const{payload:t}=await this.wire.sendAction("try-create-popup-window",{options:{...e,hasResultCallback:!!(null==e?void 0:e.onPopupResult),hasReadyCallback:!!(null==e?void 0:e.onPopupReady)},...this.identity}),{data:{willOpen:n,options:i}}=t;if(n&&await this.wire.environment.createChildContent({options:i.initialOptions,entityType:"window"}),null==e?void 0:e.onPopupResult){const t=async t=>{await e.onPopupResult((e=>{const{name:t,uuid:n,result:i,data:r}=e,o={identity:{name:t,uuid:n},result:i};return r&&(o.data=r),o})(t))},n=async()=>{await this.removeListener("popup-result",t)};await this.on("popup-result",t),await this.once("popup-teardown",n)}const{payload:r}=await this.wire.sendAction("show-popup-window",{options:i,...this.identity});return r.data}}t.WebContents=r},2163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(5047);class s extends i.Base{async wrap(e){this.wire.sendAction("window-wrap").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Window(this.wire,e)}wrapSync(e){this.wire.sendAction("window-wrap-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Window(this.wire,e)}create(e){return this.wire.sendAction("create-window").catch((e=>{})),new o._Window(this.wire,{uuid:this.me.uuid,name:e.name}).createWindow(e)}getCurrent(){if(this.wire.sendAction("get-current-window").catch((e=>{})),!this.wire.me.isWindow)throw new Error("You are not in a Window context");const{uuid:e,name:t}=this.wire.me;return this.wrap({uuid:e,name:t})}getCurrentSync(){if(this.wire.sendAction("get-current-window-sync").catch((e=>{})),!this.wire.me.isWindow)throw new Error("You are not in a Window context");const{uuid:e,name:t}=this.wire.me;return this.wrapSync({uuid:e,name:t})}}t.default=s},5047:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._Window=void 0;const i=n(7264),r=n(4636),o=n(4169);class s extends r.WebContents{constructor(e,t){super(e,t,"window"),this.identity=t}createWindow(e){return this.wire.sendAction("window-create-window",this.identity).catch((e=>{})),new Promise(((t,n)=>{const i="fire-constructor-callback",r=new Promise((e=>{this.on(i,(function t(n){let r;const{success:o}=n,s=n.data,{message:a}=s;r=o?{httpResponseCode:s.httpResponseCode,apiInjected:s.apiInjected}:{message:s.message,networkErrorCode:s.networkErrorCode,stack:s.stack},this.removeListener(i,t),e({message:a,cbPayload:r,success:o})}))}));void 0===e.waitForPageLoad&&(e.waitForPageLoad=!1),void 0===e.autoShow&&(e.autoShow=!0);const o=this.wire.environment.createChildContent({entityType:"window",options:e});Promise.all([r,o]).then((e=>{const i=e[0];i.success?t(this):n(i);try{this.getWebWindow().fin.__internal_.openerSuccessCBCalled()}catch(e){}})).catch(n)}))}getAllFrames(){return this.wire.sendAction("get-all-frames",this.identity).then((({payload:e})=>e.data))}getBounds(){return this.wire.sendAction("get-window-bounds",this.identity).then((({payload:e})=>e.data))}center(){return this.wire.sendAction("center-window",this.identity).then((()=>{}))}blur(){return this.wire.sendAction("blur-window",this.identity).then((()=>{}))}bringToFront(){return this.wire.sendAction("bring-window-to-front",this.identity).then((()=>{}))}animate(e,t){return this.wire.sendAction("animate-window",{transitions:e,options:t,...this.identity}).then((()=>{}))}hide(){return this.wire.sendAction("hide-window",this.identity).then((()=>{}))}close(e=!1){return this.wire.sendAction("close-window",{force:e,...this.identity}).then((()=>{Object.setPrototypeOf(this,null)}))}focusedWebViewWasChanged(){return this.wire.sendAction("focused-webview-changed",this.identity).then((()=>{}))}getNativeId(){return this.wire.sendAction("get-window-native-id",this.identity).then((({payload:e})=>e.data))}async getCurrentViews(){const{payload:e}=await this.wire.sendAction("window-get-views",this.identity);return e.data.map((e=>new o.View(this.wire,e)))}disableFrame(){return console.warn("Function is deprecated; use disableUserMovement instead."),this.wire.sendAction("disable-window-frame",this.identity).then((()=>{}))}disableUserMovement(){return this.wire.sendAction("disable-window-frame",this.identity).then((()=>{}))}enableFrame(){return console.warn("Function is deprecated; use enableUserMovement instead."),this.wire.sendAction("enable-window-frame",this.identity).then((()=>{}))}enableUserMovement(){return this.wire.sendAction("enable-window-frame",this.identity).then((()=>{}))}flash(){return this.wire.sendAction("flash-window",this.identity).then((()=>{}))}stopFlashing(){return this.wire.sendAction("stop-flash-window",this.identity).then((()=>{}))}getInfo(){return this.wire.sendAction("get-window-info",this.identity).then((({payload:e})=>e.data))}async getLayout(){if(this.wire.sendAction("window-get-layout",this.identity).catch((e=>{})),!(await this.getOptions()).layout)throw new Error("Window does not have a Layout");return this.fin.Platform.Layout.wrap(this.identity)}getOptions(){return this.wire.sendAction("get-window-options",this.identity).then((({payload:e})=>e.data))}getParentApplication(){return this.wire.sendAction("window-get-parent-application",this.identity).catch((e=>{})),Promise.resolve(new i.Application(this.wire,this.identity))}getParentWindow(){return this.wire.sendAction("window-get-parent-window",this.identity).catch((e=>{})),Promise.resolve(new i.Application(this.wire,this.identity)).then((e=>e.getWindow()))}async getSnapshot(e){const t={area:e,...this.identity};return console.warn("Window.getSnapshot has been deprecated, please use Window.capturePage"),(await this.wire.sendAction("get-window-snapshot",t)).payload.data}getState(){return this.wire.sendAction("get-window-state",this.identity).then((({payload:e})=>e.data))}getWebWindow(){return this.wire.sendAction("window-get-web-window",this.identity).catch((e=>{})),this.wire.environment.getWebWindow(this.identity)}isMainWindow(){return this.wire.sendAction("window-is-main-window",this.identity).catch((e=>{})),this.me.uuid===this.me.name}isShowing(){return this.wire.sendAction("is-window-showing",this.identity).then((({payload:e})=>e.data))}maximize(){return this.wire.sendAction("maximize-window",this.identity).then((()=>{}))}minimize(){return this.wire.sendAction("minimize-window",this.identity).then((()=>{}))}moveBy(e,t){return this.wire.sendAction("move-window-by",{deltaLeft:e,deltaTop:t,...this.identity}).then((()=>{}))}moveTo(e,t){return this.wire.sendAction("move-window",{left:e,top:t,...this.identity}).then((()=>{}))}resizeBy(e,t,n){return this.wire.sendAction("resize-window-by",{deltaWidth:Math.floor(e),deltaHeight:Math.floor(t),anchor:n,...this.identity}).then((()=>{}))}resizeTo(e,t,n){return this.wire.sendAction("resize-window",{width:Math.floor(e),height:Math.floor(t),anchor:n,...this.identity}).then((()=>{}))}restore(){return this.wire.sendAction("restore-window",this.identity).then((()=>{}))}setAsForeground(){return this.wire.sendAction("set-foreground-window",this.identity).then((()=>{}))}setBounds(e){return this.wire.sendAction("set-window-bounds",{...e,...this.identity}).then((()=>{}))}show(e=!1){return this.wire.sendAction("show-window",{force:e,...this.identity}).then((()=>{}))}showAt(e,t,n=!1){return this.wire.sendAction("show-at-window",{force:n,left:Math.floor(e),top:Math.floor(t),...this.identity}).then((()=>{}))}updateOptions(e){return this.wire.sendAction("update-window-options",{options:e,...this.identity}).then((()=>{}))}authenticate(e,t){return this.wire.sendAction("window-authenticate",{userName:e,password:t,...this.identity}).then((()=>{}))}async showPopupMenu(e){const{payload:t}=await this.wire.sendAction("show-popup-menu",{options:e,...this.identity});return t.data}async closePopupMenu(){return this.wire.sendAction("close-popup-menu",{...this.identity}).then((()=>{}))}async dispatchPopupResult(e){this.wire.sendAction("window-dispatch-popup-result",this.identity).catch((e=>{})),await this.wire.sendAction("dispatch-popup-result",{data:e,...this.identity})}}t._Window=s},4997:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2163);t.default=o.default,r(n(5047),t)},1681:(e,t,n)=>{var i;t.H=void 0;const r=n(6465),o=n(6545),s=n(9298),a=n(9641);class c extends r.EventEmitter{connect(e){throw new Error("You are not running in OpenFin.")}connectSync(){throw new Error("You are not running in OpenFin.")}send(e){throw new Error("You are not running in OpenFin.")}shutdown(){throw new Error("You are not running in OpenFin.")}constructor(){super()}}class d{constructor(){this.childViews=!0}getDefaultChannelOptions(){throw new Error(a.environmentUnsupportedMessage)}getRtcPeer(){throw new Error(a.environmentUnsupportedMessage)}getManagerConstructor(){throw new Error(a.environmentUnsupportedMessage)}getProviderInitializer(){throw new Error(a.environmentUnsupportedMessage)}writeToken(e,t){throw new Error(a.environmentUnsupportedMessage)}retrievePort(e){throw new Error(a.environmentUnsupportedMessage)}getNextMessageId(){throw new Error(a.environmentUnsupportedMessage)}getRandomId(){throw new Error(a.environmentUnsupportedMessage)}createChildContent(e){throw new Error(a.environmentUnsupportedMessage)}getWebWindow(e){throw new Error(a.environmentUnsupportedMessage)}getCurrentEntityIdentity(){throw new Error(a.environmentUnsupportedMessage)}getCurrentEntityType(){return"unknown"}raiseEvent(e,t){throw new Error(a.environmentUnsupportedMessage)}getUrl(){throw new Error(a.environmentUnsupportedMessage)}whenReady(){throw new Error(a.environmentUnsupportedMessage)}}t.H="undefined"!=typeof window&&(null===(i=window)||void 0===i?void 0:i.fin)||(()=>{const e=new d,t=new s.default(c,e,{uuid:"",name:""});return new o.default(t)})()},8068:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFin=t.registerFin=void 0;const n=new WeakMap;t.registerFin=function(e,t){n.set(e,t)},t.getFin=function(e){const t=n.get(e);if(!t)throw new Error("Could not locate fin api for given transport");return t}},5007:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeError=t.NotSupportedError=t.NotImplementedError=t.NoAckError=t.DuplicateCorrelationError=t.UnexpectedActionError=t.DisconnectedError=void 0;class n extends Error{constructor(e){super(`Expected websocket state OPEN but found ${e}`),this.readyState=e}}t.DisconnectedError=n;class i extends Error{}t.UnexpectedActionError=i;class r extends Error{}t.DuplicateCorrelationError=r;class o extends Error{}t.NoAckError=o;class s extends Error{}t.NotImplementedError=s;class a extends Error{}t.NotSupportedError=a;class c extends Error{constructor(e){const t=e.payload||e,{reason:n,error:i}=t;super(n),this.name="RuntimeError",(null==i?void 0:i.stack)&&(this.stack=i.stack)}}t.RuntimeError=c},9298:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const s=n(6465),a=n(8624),c=n(5007),d=n(2734),h=n(9641);class l extends s.EventEmitter{constructor(e,t,n){super(),this.wireListeners=new Map,this.topicRefMap=new Map,this.eventAggregator=new d.default,this.messageHandlers=[this.eventAggregator.dispatchEvent],i.set(this,void 0),this.connectSync=()=>{o(this,i).connectSync()},this.getPort=()=>{if("NodeEnvironment"!==this.environment.constructor.name)throw new c.NotImplementedError("Not Implemented");return o(this,i).wire.url.split(":").slice(-1)[0]},r(this,i,new e(this.onmessage.bind(this))),this.environment=t,this.sendRaw=o(this,i).send.bind(o(this,i)),this.registerMessageHandler(this.handleMessage.bind(this)),o(this,i).on("disconnected",(()=>{for(const[,{reject:e}]of this.wireListeners)e("Remote connection has closed");this.wireListeners.clear(),this.emit("disconnected")}));const{uuid:s,name:a}=n,l=this.environment.getCurrentEntityType();this.me=h.getBaseMe(l,s,a)}shutdown(){return o(this,i).shutdown()}async connect(e){if(a.isExistingConnectConfig(e))return this.connectByPort(e);if(a.isNewConnectConfig(e)){const t=await this.environment.retrievePort(e);return this.connectByPort({...e,address:`ws://localhost:${t}`})}}async connectByPort(e){const{address:t,uuid:n}=e,r={...e,type:"file-token"},s=o(this,i);await s.connect(t);const a=await this.sendAction("request-external-authorization",{uuid:n,type:"file-token"},!0);if("external-authorization-response"!==a.action)throw new c.UnexpectedActionError(a.action);const{token:d}=a.payload;await this.environment.writeToken(a.payload.file,a.payload.token);const h=await this.sendAction("request-authorization",r,!0);if("authorization-response"!==h.action)throw new c.UnexpectedActionError(h.action);if(!0!==h.payload.success)throw new c.RuntimeError(h.payload);return d}sendAction(e,t={},n=!1){return new Promise(((r,s)=>{const a=this.environment.getNextMessageId(),c={action:e,payload:t,messageId:a},d=o(this,i);return this.addWireListener(a,r,s,n),d.send(c).catch(s)}))}ferryAction(e){return new Promise(((t,n)=>{const r=this.environment.getNextMessageId();e.messageId=r;const s=e=>{t(e.payload)};return o(this,i).send(e).then((()=>this.addWireListener(r,s,n,!1))).catch(n)}))}registerMessageHandler(e){this.messageHandlers.push(e)}addWireListener(e,t,n,i){i?this.uncorrelatedListener=t:this.wireListeners.has(e)?n(new c.DuplicateCorrelationError(String(e))):this.wireListeners.set(e,{resolve:t,reject:n})}onmessage(e){for(const t of this.messageHandlers)t.call(null,e)}handleMessage(e){const t=e.correlationId||NaN;if("correlationId"in e){if(!this.wireListeners.has(t))return!1;{const{resolve:n,reject:i}=this.wireListeners.get(t);"ack"!==e.action?i(new c.NoAckError(e.action)):"payload"in e?e.payload.success?n.call(null,e):i(new c.RuntimeError(e.payload)):i(new c.RuntimeError(e)),this.wireListeners.delete(t)}}else this.uncorrelatedListener&&this.uncorrelatedListener.call(null,e),this.uncorrelatedListener=()=>{};return!0}}i=new WeakMap,t.default=l},8624:(e,t)=>{function n(e){return"string"==typeof e.manifestUrl}function i(e){return r(e)&&"string"==typeof e.address}function r(e){return"string"==typeof e.uuid}function o(e){return e.runtime&&"string"==typeof e.runtime.version}function s(e){return r(e)&&o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isInternalConnectConfig=t.isPortDiscoveryConfig=t.isNewConnectConfig=t.isExistingConnectConfig=t.isExternalConfig=void 0,t.isExternalConfig=n,t.isExistingConnectConfig=i,t.isNewConnectConfig=s,t.isPortDiscoveryConfig=function(e){return n(e)&&o(e)||s(e)},t.isInternalConnectConfig=function(e){return i(e)||s(e)}},2366:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorToPOJO=void 0,t.errorToPOJO=function(e){return{stack:e.stack,message:e.message,toString:e.toString}}},3917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustiveCheck=void 0,t.exhaustiveCheck=function(e,t){throw new Error(`Unsupported value: ${e}${t?`\n Supported values are: ${t.join("")}`:""}`)}},3442:(e,t)=>{async function n(e){const t=[];for(const n of e){const e=await n();t.push(e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.promiseMapSerial=t.serial=t.promiseMap=t.promisify=void 0,t.promisify=function(e){return(...t)=>new Promise(((n,i)=>{e(...t,((e,t)=>e?i(e):n(t)))}))},t.promiseMap=async function(e,t){return Promise.all(e.map(t))},t.serial=n,t.promiseMapSerial=async function(e,t){return n(e.map(((e,n,i)=>()=>t(e,n,i))))}},3127:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.topicRefMap=new Map}incRefCount(e){const t=this.topicRefMap.get(e);let n;if(t){const i=t+1;n=i,this.topicRefMap.set(e,i)}else this.topicRefMap.set(e,1),n=1;return n}decRefCount(e){const t=this.topicRefMap.get(e);let n;if(t){const i=t-1;this.topicRefMap.set(e,i),n=i}else n=-1;return n}actOnFirst(e,t,n){return 1===this.incRefCount(e)?t():n()}actOnLast(e,t,n){return 0===this.decRefCount(e)?t():n()}}},2300:(e,t)=>{function n(e){return[...e.split(".").reverse().entries()].reduce(((e,[t,n])=>e+ +n*1e4**t),0)}function i(e,t){return n(e)>=n(t)}function r(e){return e.split("/")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeUuidMeetsMinimumRuntimeVersion=t.parseRuntimeUuid=t.meetsMinimumRuntimeVersion=void 0,t.meetsMinimumRuntimeVersion=i,t.parseRuntimeUuid=r,t.runtimeUuidMeetsMinimumRuntimeVersion=function(e,t){return i(r(e),t)}},4999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateIdentity=void 0,t.validateIdentity=function(e){let t;return"object"==typeof e&&"string"==typeof e.uuid||(t="Not a valid identity object"),t}},6465:e=>{var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}f(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&f(e,"error",t,{once:!0})}(e,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,d;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=s.length,d=h,console&&console.warn&&console.warn(d)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function u(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):w(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function w(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function f(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var d=c.length,h=w(c,d);for(n=0;n<d;++n)i(h[n],this,t)}return!0},o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,s;if(a(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return u(this,e,!0)},o.prototype.rawListeners=function(e){return u(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{n.d(i,{MS:()=>o,M_:()=>s,hY:()=>a,G4:()=>c,_W:()=>d,o:()=>h,C3:()=>u,fB:()=>l,if:()=>p,$j:()=>_,U$:()=>y,U7:()=>g,B5:()=>T});var e=n(1681),t=n(9421),r=n.n(t);class o extends Error{constructor(e="An unexpected error has occurred",t){var n;super(e),t&&(this.innerError=t&&t),this.stack=null===(n=this.stack)||void 0===n?void 0:n.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class s extends o{constructor(e="Unable to authorize connection to Salesforce",t){var n,i,r;super(e,t),t&&t.isAxiosError&&(t.message=null!==(r=null===(i=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===i?void 0:i.error_description)&&void 0!==r?r:t.message)}}class a extends o{constructor(e="Not connected to Salesforce",t){super(e,t)}}class c extends o{constructor(e="Retrieve Salesforce object data failed",t){super(e,t)}}class d extends o{constructor(e="Invalid parameter detected",t){super(e,t)}}class h extends o{constructor(e="Execute Salesforce query failed",t){super(e,t)}}class l extends o{constructor(e="Unable to retrieve search results from Salesforce",t){super(e,t)}}class u extends o{constructor(e,t="Execute Salesforce REST API request failed"){var n,i,r,o,s;super(t,null!=e?e:void 0),this.restApiErrorCode="",this.restApiErrorDescription="",this.restApiResponseStatus=void 0;const a=e;if(null==a?void 0:a.isAxiosError){if(this.restApiResponseStatus=null===(n=a.response)||void 0===n?void 0:n.status,!(null===(r=null===(i=a.response)||void 0===i?void 0:i.data)||void 0===r?void 0:r.length))return;const e=null===(s=null===(o=a.response)||void 0===o?void 0:o.data)||void 0===s?void 0:s[0];if(e){const{errorCode:t,message:n}=e;this.restApiErrorCode=t,this.restApiErrorDescription=n}}}}class p extends o{constructor(e="An unexpected error occurred",t){super(e,t)}}let w=!1;const f="[@openfin/salesforce]",y=()=>{w=!1},g=()=>{w=!0,v("v2.1.5")},m=e=>{if(w&&(e.innerError?console.error(f,e,"\n\n(inner)",e.innerError):console.error(f,e),e instanceof u)){const{restApiErrorCode:t,restApiErrorDescription:n}=e;if(n){const e=n.replace(/\n/g," ").trim(),i=t?`${t}: ${e}`:e;console.warn(f,i)}}},v=(...e)=>{w&&console.log(f,...e)},C=(...e)=>{w&&console.warn(f,...e)};e.H||Object.assign(window,{fin:{}}),Object.assign(e.H,{Integrations:{Salesforce:{enableLogging:g,disableLogging:y}}});const E="54.0",x=/vXX\.X/i,A=e=>(Array.isArray(e)?e:Object.entries(e)).reduce(((e,t)=>{const n=Array.isArray(e)?t:t[1];let i;switch(!0){case null==n:i=n;break;case"string"==typeof n:i=n.replace(x,"v54.0");break;case Array.isArray(n):case"object"==typeof n:i=A(n);break;default:i=n}return Array.isArray(e)?e.push(i):e[t[0]]=i,e}),Array.isArray(e)?[]:{}),I="salesforce-auth",b="https://login.salesforce.com/services/oauth2/success",P=(e,t,n)=>{e.accessToken&&window.localStorage.setItem(k(t,n),e.accessToken),e.refreshToken&&window.localStorage.setItem(F(t,n),e.refreshToken)},_=async(t,n)=>{let i;try{i=new URL(t).origin}catch(e){throw new d("Invalid Salesforce URL")}if(!/salesforce.com$/i.test(i))throw new d("Invalid Salesforce URL");if(void 0===(null!=n?n:void 0)||""===n.trim())throw new d("Consumer key not provided");v(`Connecting to ${i} using key ${n}`);const r=await T(t,n);if(r)return r;v("No existing connection found, starting auth flow");const o=(await e.H.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===I));o&&await o.close(!0);const c=(new Date).getTime().toString(),h=R(),l=await S(h),u=`${i}/services/oauth2/authorize?\n    client_id=${n}&\n    redirect_uri=${b}&\n    response_type=code&\n    scope=api+refresh_token&\n    state=${c}&\n    code_challenge=${l}&\n    display=popup&\n    prompt=select_account\n    `.replace(/\s/g,""),p=await e.H.Window.create({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:700,defaultWidth:600,includeInSnapshots:!1,name:I,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:u}),w=await new Promise(((e,t)=>{let n;const i=window.setTimeout((()=>{window.clearInterval(n),window.clearTimeout(i),p.removeAllListeners(),p.close(!0);const e=new s("Authorization timed out");m(e),t(e)}),3e5);p.addListener("closing",(async()=>{v("User closed auth window"),window.clearInterval(n),window.clearTimeout(i),p.removeAllListeners();const e=new s("Failed to complete authorization");m(e),t(e)})),n=window.setInterval((()=>(async(e,t,n,i,r,o)=>{let a;try{a=await e.getInfo()}catch(e){window.clearInterval(t),window.clearTimeout(n);const i=new s("Could not locate oauth flow window");return m(i),o(i)}const c=new URL(a.url);if(0===new URL(a.url).href.toLowerCase().indexOf(b.toLowerCase())){if(window.clearInterval(t),window.clearTimeout(n),e.removeAllListeners(),e.close(!0),c.searchParams.get("state")!==i){const e=new s("State mismatch");return m(e),o(e)}const a=c.searchParams.get("code");if(!a){const e=new s("Authorization code missing");return m(e),o(e)}return v("Authorization code received"),r(a)}const d=await e.executeJavaScript("window.document.body.innerText"),h=new URLSearchParams(d).get("error_description");if(h){window.clearInterval(t),window.clearTimeout(n),e.removeAllListeners(),e.close(!0);const i=h[0].toUpperCase()+h.slice(1),r=new s(i);m(r),o(r)}else await e.isShowing()||(v("Showing auth window"),await e.show(!0),await e.focus())})(p,n,i,c,e,t)),500)})),f=await O(w,h,i,n);if(v("Checking connection with new access token"),!await U(f.accessToken,i)){const e=new a("Invalid Salesforce org URL or access token");throw m(e),e}return v("Connection established"),P(f,i,n),{consumerKey:n,disconnect:M(i,n),getAuthTokens:()=>L(i,n),orgUrl:i,executeApiRequest:j(i,n)}},M=(e,t)=>async()=>{v("Disconnecting from Salesforce");let n=window.localStorage.getItem(F(e,t));if(n)v("Revoking refresh token");else{if(n=window.localStorage.getItem(k(e,t)),!n)return void v("No tokens found in storage");v("Revoking access token")}try{await r().get(`${e}/services/oauth2/revoke?token=${n}`)}catch(e){C("Failed to revoke tokens",null==e?void 0:e.message)}N(e,t)},O=async(e,t,n,i)=>{v("Exchanging auth code for tokens");const o=`${n}/services/oauth2/token`,a=`\n    grant_type=authorization_code&\n    client_id=${i}&\n    code=${e}&\n    code_verifier=${t}&\n    redirect_uri=${b}\n    `.replace(/\s/g,"");let c;try{c=(await r().post(o,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){const t=new s("Failed to exchange authorization code for auth tokens",e);throw m(t),t}const{access_token:d,refresh_token:h}=c;if(!d||!h)throw new s("Missing access token or refresh token during code exchange");return v("Tokens received"),{accessToken:d,refreshToken:h}},S=async e=>{const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(n)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+\$/,"")},R=()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.substr(-2))).join("")},k=(e,t)=>`access-token_#_${new URL(e).hostname}_#_${t}`,L=(e,t)=>({accessToken:window.localStorage.getItem(k(e,t)),refreshToken:window.localStorage.getItem(F(e,t))}),T=async(e,t)=>{let n;if(v("Checking for existing connection"),!e||!t)return null;try{n=new URL(e).origin}catch(e){return null}const{accessToken:i}=L(n,t);if(!i)return null;if(!await U(i,n))try{await B(n,t)}catch(e){return null}return v(`Connection exists to ${e}`),{consumerKey:t,disconnect:M(n,t),getAuthTokens:()=>L(n,t),orgUrl:n,executeApiRequest:j(n,t)}},j=(e,t)=>async(n,i,o,s,c)=>{const{accessToken:h}=L(e,t);if(!h){const e=new a;throw m(e),e}const l=t=>(async(e,t,n,i="GET",o={},s={},a=!0)=>{var c,h;if(!n)throw new d("API endpoint not provided");let l;if(n=(h=n).startsWith("/")?h:`/${h}`,/^\/services\/data\/\w+/i.test(n)){const e=null===(c=/\/v(\w{2}\.\w)\//.exec(n))||void 0===c?void 0:c[1];if(!e)throw new u(null,"REST API version not specified");x.test(n)?n=n.replace(e,E):e!==E&&C(`Requested REST API version (${e}) is different to the current supported version (54.0). Using an API version other than current supported version may cause errors.`),l=new RegExp("/services/data/v54.0/composite","i").test(n)?A(o):o}else l=o;v(`Executing ${i.toUpperCase()} API request to ${n}`,l,s),a&&Object.assign(s,{Authorization:`Bearer ${t}`});try{let t;switch(i.toUpperCase()){case"DELETE":t=await r().delete(`${e}${n}`,{headers:s});break;case"GET":t=await r().get(`${e}${n}`,{headers:s});break;case"HEAD":t=await r().head(`${e}${n}`,{headers:s});break;case"PATCH":t=await r().patch(`${e}${n}`,o,{headers:s});break;case"POST":t=await r().post(`${e}${n}`,l,{headers:s});break;default:throw new u(null,"Invalid HTTP method")}return{data:t.data,status:t.status}}catch(e){if(e instanceof u)throw e;throw new u(e)}})(e,t,n,i,o,s,c);let p;try{p=await l(h)}catch(n){if(!(n instanceof u))throw m(n),n;return await $(n,e,t,h,l)}return p},F=(e,t)=>`refresh-token_#_${new URL(e).hostname}_#_${t}`,$=async(e,t,n,i,r)=>{if(m(e),await G(e,t,i))try{const e=await B(t,n);return v("Retrying request"),await r(e.accessToken)}catch(e){throw m(e),e}throw e},B=async(e,t)=>{var n,i;const{refreshToken:o}=L(e,t);if(!o)throw N(e,t),new a("No refresh token available");v("Refreshing access token");const s=`${e}/services/oauth2/token`,c=`\n    grant_type=refresh_token&\n    client_id=${t}&\n    refresh_token=${o}\n    `.replace(/\s/g,"");let d;try{d=(await r().post(s,c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(r){const o=null===(i=null===(n=r.response)||void 0===n?void 0:n.data)||void 0===i?void 0:i.error_description,s="Failed to refresh access token";throw v(o?`${s}: ${o}`:s),N(e,t),new a(s)}const{access_token:h}=d;if(!h)throw new a("Missing access token after refreshing");const l={accessToken:h,refreshToken:o};return P(l,e,t),l},N=(e,t)=>{window.localStorage.removeItem(k(e,t)),window.localStorage.removeItem(F(e,t))},G=async(e,t,n)=>{var i;return("Network Error"===(null===(i=e.innerError)||void 0===i?void 0:i.message)||"Network Error"===e.message)&&!await U(n,t)},U=async(e,t)=>{try{await r().get(`${t}/services/oauth2/userinfo?oauth_token=${e}`)}catch(e){return!1}return!0}})();var r=i.MS,o=i.M_,s=i.hY,a=i.G4,c=i._W,d=i.o,h=i.C3,l=i.fB,u=i.if,p=i.$j,w=i.U$,f=i.U7,y=i.B5;

/***/ }),

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module) => {

/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={525:e=>{var t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var i,s,c=o(e),d=1;d<arguments.length;d++){for(var p in i=Object(arguments[d]))a.call(i,p)&&(c[p]=i[p]);if(t){s=t(i);for(var l=0;l<s.length;l++)n.call(i,s[l])&&(c[s[l]]=i[s[l]])}}return c}},535:(e,t,a)=>{var n=a(525),o=60103,r=60106;var i=60109,s=60110,c=60112;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var l=Symbol.for;o=l("react.element"),r=l("react.portal"),l("react.fragment"),l("react.strict_mode"),l("react.profiler"),i=l("react.provider"),s=l("react.context"),c=l("react.forward_ref"),l("react.suspense"),d=l("react.memo"),p=l("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}function h(){}function m(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(w(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=y.prototype;var v=m.prototype=new h;v.constructor=m,n(v,y.prototype),v.isPureReactComponent=!0;var S={current:null},P=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var n,r={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)P.call(t,n)&&!b.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];r.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:o,type:e,key:i,ref:s,props:r,_owner:S.current}}function W(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var C=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case r:c=!0}}if(c)return i=i(c=e),e=""===n?"."+I(c,0):n,Array.isArray(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(W(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){var p=n+I(s=e[d],d);c+=A(s,t,a,p,i)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),d=0;!(s=e.next()).done;)c+=A(s=s.value,t,a,p=n+I(s,d++),i);else if("object"===s)throw t=""+e,Error(w(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function M(e,t,a){if(null==e)return e;var n=[],o=0;return A(e,n,"","",(function(e){return t.call(a,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function E(){var e=T.current;if(null===e)throw Error(w(321));return e}},378:(e,t,a)=>{a(535)}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{var e,t,o,r,i,s,c,d;a.r(n),a.d(n,{AppManifestType:()=>c,BrowserButtonType:()=>g,CustomActionCallerType:()=>h,GlobalContextMenuOptionType:()=>u,PageTabContextMenuOptionType:()=>w,SaveButtonContextMenuOptionType:()=>y,SaveModalType:()=>m,ViewTabMenuOptionType:()=>f,getCurrentSync:()=>Ft,init:()=>In,wrapSync:()=>Ut}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(o||(o={})),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(i||(i={})),function(e){e.MultiSelect="MultiSelect"}(s||(s={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(c||(c={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(d||(d={}));var p,l,u,w,f,g,y,h,m,v;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(l||(l={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(u||(u={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(f||(f={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(g||(g={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(y||(y={})),function(e){e.CustomButton="CustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={})),function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(m||(m={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(v||(v={}));const S="undefined"!=typeof window&&"undefined"!=typeof fin,P=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),b=P&&"undefined"!=typeof indexedDB,k=P?window.origin:v.Local,W=S&&fin.me.uuid,C=S&&fin.me.name,I=S&&fin.me.entityType,A=(v.Local,v.Dev,v.Staging,v.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:k+e),M=(A("https://cdn.openfin.co/workspace/9.0.14"),A("https://cdn.openfin.co/workspace/9.0.14")),O=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&A(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&A(WORKSPACE_DOCS_CLIENT_URL),"26.102.71.7"),T="9.0.14";var E,B,x;!function(e){e.Workspace="openfin-browser"}(E||(E={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(B||(B={})),function(e){e.FinProtocol="fin-protocol"}(x||(x={}));const R={uuid:W},_=(E.Workspace,e=>{if(!S)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),L=()=>_(R);var V,D,U;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(V||(V={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(D||(D={})),function(e){e.BeforeUnload="beforeunload"}(U||(U={}));function F(e){if(!S)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const G={name:C,uuid:W};function $(){return F(G)}V.Home,E.Workspace,V.Dock,E.Workspace;const N={name:V.Storefront,uuid:E.Workspace};E.Workspace,E.Workspace;async function j(e){const t=F(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.setAsForeground()}const H=e=>e.startsWith(V.BrowserWindow);async function q(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>H(e.identity.name)))}const K=e=>F(e).getOptions().then((()=>!0)).catch((()=>!1)),Q=()=>K(N);var z;!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(z||(z={}));const J=async(e,t)=>{const a={apiVersion:t.apiVersion||T,componentName:e,componentVersion:t.componentVersion||T,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:a})};a(378);const X=e=>fin.System.getSystemAppConfig(e);let Y;async function Z(){if(Y)return Y;if(!S)return{};const e=await async function(){if(S)try{let e=await X("workspace").catch((e=>{}));return e||(e=await X("home")),e}catch(e){}}(),t=await async function(){const{manifest:e,initialOptions:t}=await fin.Application.getCurrentSync().getInfo();return e?.workspace||e?.home||t?.workspace||t?.home,e?.workspace?e?.workspace:e?.home?e?.home:t?.workspace?t?.workspace:t?.home?t?.home:void 0}();return Y={...t,...e},Y}var ee;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(ee||(ee={}));const te=ee,ae=(e,t)=>{localStorage.setItem(`${W}-${e}`,t)},ne=e=>localStorage.getItem(`${W}-${e}`);var oe;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized"}(oe||(oe={}));const re=async e=>fin.Platform.wrapSync(e).getClient(),ie=async e=>{const t=await re(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&!0!==n||"object"==typeof n&&!0!==n?.isWorkspacePlatform)throw new Error(a);return n},se=async e=>(await ie(e),re(e)),ce=async e=>{const t=await ie(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return re(e)},de=(e,t)=>!t.find((t=>t===e)),pe=(e,t)=>`${e} (${t})`,le=(e,t)=>{let a=1;const n=e.replace(/ \(.+\)$/,"");for(;!de(pe(n,a),t);)a+=1;return pe(n,a)};async function ue(e){try{const t=Ft();await t.applySnapshot(e.snapshot,{closeExistingWindows:!0}),we(e)}catch(e){}}function we(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);ae(te.CurrentWorkspaceId,t)}catch(e){}}async function fe(){if("undefined"==typeof localStorage)return;const e=Ft(),t=await e.getSnapshot();return{workspaceId:crypto.randomUUID(),title:await he(),metadata:{APIVersion:T},snapshot:t}}async function ge(){if("undefined"==typeof localStorage)return;const e=ne(te.CurrentWorkspaceId);if(!e)return fe();const t=JSON.parse(e),a=Ft(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:T},snapshot:n}}const ye=async e=>await(async e=>(await se(G)).dispatch(oe.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await se(G)).dispatch(oe.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await se(G)).dispatch(oe.CreateSavedWorkspace,e))({workspace:e});async function he(e="Untitled Workspace"){const t=(await(async()=>(await se(G)).dispatch(oe.GetSavedWorkspaces,void 0))()).map((({title:e})=>e));return t.find((t=>t===e))?le(e,t):e}async function me(){if("undefined"!=typeof localStorage)try{const e=ne(te.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await K(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function ve(e=fin.me.identity){H(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);ae(te.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const Se=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw e})).finally((()=>{n=void 0})),n)};var Pe;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Pe||(Pe={}));const be=(e,t)=>e.content?{...e,content:e.content.map((e=>be(e,t)))}:{...e,componentState:t(e.componentState)},ke=e=>({...e,name:e.name?e.name:crypto.randomUUID()}),We=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=We(e.content);t.push(...a)})),t},Ce=async(e,t,a=G)=>{let n;if(H(a.name)){n=(await F(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;function Ie(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Ae(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Me(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function Oe(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Te=P&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Ee(e){let t;return()=>{if(!S)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Te;const a={clientAPIVersion:T},n=await fin.InterApplicationBus.Channel.connect(e,{payload:a});return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Be=e=>`__browser_window__-${e.uuid}-${e.name}`,xe=new Map,Re=e=>{const t=Be(e);return xe.has(t)||xe.set(t,Ee(t)),xe.get(t)()};var _e,Le;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page"}(_e||(_e={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(Le||(Le={}));const Ve={..._e,...Le};var De;!function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(De||(De={}));new Map;const Ue=async e=>{const t=await Re(e);return await t.dispatch(Ve.GetPages)},Fe=async e=>(await Re(e.identity)).dispatch(Ve.UpdatePageForWindow,e),Ge=async()=>{const e=await q();return(await Promise.all(e.map((async({identity:e})=>Ue(e))))).reduce(((e,t)=>e.concat(t)),[])},$e=async()=>(await se(G)).dispatch(oe.GetSavedPages,void 0),Ne=async e=>(await se(G)).dispatch(oe.GetSavedPage,e),je=async(e,t)=>{const a=await(async e=>(await Ge()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Fe({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},He=async({page:e})=>{await je(e.pageId,e),await(async e=>(await se(G)).dispatch(oe.CreateSavedPage,e))({page:e})},qe=async e=>{await Ne(e)&&await(async e=>(await se(G)).dispatch(oe.DeleteSavedPage,e))(e)},Ke=async({pageId:e,page:t})=>{await je(e,t);return await(async e=>(await se(G)).dispatch(oe.UpdateSavedPage,e))({pageId:e,page:t})},Qe=async e=>await Ne(e.pageId)?Ke({pageId:e.pageId,page:e}):He({page:e}),ze=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.AttachPagesToWindow,e))(e)},Je=async e=>{await Fe(e)},Xe=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.DetachPagesFromWindow,e))(e)},Ye=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.SetActivePageForWindow,e))(e)},Ze=e=>Ue(e),et=async({identity:e,pageId:t})=>(await Ze(e)).find((e=>e.pageId===t)),tt=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.ReorderPagesForWindow,e))(e)};async function at(e="Untitled Page"){const[t,a]=await Promise.all([$e(),Ge()]),n=[...t,...a].map((({title:e})=>e));return n.find((t=>t===e))?le(e,n):e}const nt=new Map,ot=e=>`${e.uuid}-${e.name}`;const rt=Se((async function(){let e=[];try{e=await Ge()}catch(e){return void nt.forEach(((e,t)=>{clearTimeout(e),nt.delete(t)}))}const t=new Set;e.forEach((e=>{We(e.layout.content).forEach((e=>{if(e.name){const a=ot(e);t.add(a)}}))}));const a=$();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=ot(e);if(t.has(a)||nt.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),nt.delete(a)}),5e3);nt.set(a,n)})),nt.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),nt.delete(a))}))}),2500),it=({name:e})=>{e&&H(e)&&rt().catch((()=>{}))};let st={};const ct=({actionId:e,payload:t})=>{if("function"!=typeof st[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return st[e](t)};function dt(){return localStorage.getItem(te.MachineName)}let pt;async function lt(){return pt||(pt=await fin.System.getMachineId()),pt}const ut=e=>{if(e.layout&&Array.isArray(e.workspacePlatform?.pages)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t)if(t.isLocked){const a=((e,t)=>{const a=We(t.content);return{...be(e,(e=>{const t=a.find((t=>t.name===e.name&&t.uuid===e.uuid)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}})(e.layout,t.layout);t.layout=a,e.layout=a}else t.layout=e.layout}return e};async function wt(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=dt();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await lt(),machineName:a}}}function ft(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function gt(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=ft(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}let yt;function ht(){return yt||(yt=gt("keyval-store","keyval")),yt}function mt(e,t=ht()){return t("readonly",(t=>ft(t.get(e))))}function vt(e,t,a=ht()){return a("readwrite",(a=>(a.put(t,e),ft(a.transaction))))}function St(e,t=ht()){return t("readwrite",(t=>(t.delete(e),ft(t.transaction))))}function Pt(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ft(e.transaction)}function bt(e=ht()){return e("readonly",(e=>{if(e.getAllKeys)return ft(e.getAllKeys());const t=[];return Pt(e,(e=>t.push(e.key))).then((()=>t))}))}const kt=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),Wt=b&&gt("openfin-home-pages","pages");async function Ct(e){const t=await mt(e,Wt);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function It(e){const t=await bt(Wt),a=await Promise.all(t.map((e=>Ct(e.toString()))));return e?a.filter((t=>kt(t.title,e))):a}async function At({page:e}){await vt(e.pageId,e,Wt)}async function Mt(e){await St(e,Wt)}async function Ot({pageId:e,page:t}){if(void 0===await Ct(e))throw new Error("page not found");await At({page:t}),e!==t.pageId&&await Mt(e)}var Tt;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Tt||(Tt={}));const Et={type:Tt.Separator,data:void 0};var Bt;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(Bt||(Bt={}));Ee("__of_workspace_protocol__");const xt=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await lt(),machineName:dt()}}))(t);return{pageId:crypto.randomUUID(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},Rt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await ce(e)).dispatch(oe.GetPagesForWindow,e),getPage:async t=>(await ce(e)).dispatch(oe.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await ce(e);t?.title||(t.title=await a.dispatch(oe.GetUniquePageTitle,void 0));const n=(await a.dispatch(oe.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(oe.AttachPagesToWindow,o)},removePage:async t=>(await ce(e)).dispatch(oe.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await ce(e)).dispatch(oe.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await ce(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await ce(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await ce(e);return(await Re(e)).dispatch(Ve.OpenSaveModalInternal,t)},_openSaveButtonContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenSaveButtonContextMenuInternal,t)}});let _t=!1;const Lt=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Rt(e),createWindow:async a=>{await ce(e),_t||(_t=!0,(async e=>{J(z.Browser,e)})({allowed:!0}));const n=await t.createWindow(a);return Rt(n.identity)},getAllAttachedPages:async()=>(await ce(e)).dispatch(oe.GetAllAttachedPages,void 0),getAllWindows:async()=>{await ce(e);return(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>Rt(e.identity)))},getUniquePageTitle:async t=>(await ce(e)).dispatch(oe.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await ce(e)).dispatch(oe.GetLastFocusedBrowserWindow,void 0)}},Vt=e=>({createPage:async t=>(await ce(e)).dispatch(oe.CreateSavedPageInternal,t),deletePage:async t=>(await ce(e)).dispatch(oe.DeleteSavedPageInternal,t),updatePage:async t=>(await ce(e)).dispatch(oe.UpdateSavedPageInternal,t),getPage:async t=>(await ce(e)).dispatch(oe.GetSavedPage,t),getPages:async t=>(await ce(e)).dispatch(oe.GetSavedPages,t),savePage:async t=>(await ce(e)).dispatch(oe.SavePage,t),createWorkspace:async t=>(await se(e)).dispatch(oe.CreateSavedWorkspace,t),deleteWorkspace:async t=>(await se(e)).dispatch(oe.DeleteSavedWorkspace,t),updateWorkspace:async t=>(await se(e)).dispatch(oe.UpdateSavedWorkspace,t),getWorkspace:async t=>(await se(e)).dispatch(oe.GetSavedWorkspace,t),getWorkspaces:async t=>(await se(e)).dispatch(oe.GetSavedWorkspaces,t),saveWorkspace:async t=>(await se(e)).dispatch(oe.SaveWorkspace,t)}),Dt=e=>({getThemes:async()=>(await se(e)).dispatch(oe.GetThemes,void 0)}),Ut=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:W,name:C,entityType:I||"unknown"});return(await se(e)).dispatch(oe.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await se(e),o={actionId:t,payload:{...a,callerType:a.callerType||h.API}};return n.dispatch(oe.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await se(e)).dispatch(oe.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await se(e)).dispatch(oe.GetCurrentWorkspace,void 0),applyWorkspace:async t=>(await se(e)).dispatch(oe.ApplyWorkspace,t),setActiveWorkspace:async t=>(await se(e)).dispatch(oe.SetActiveWorkspace,t),Theme:Dt(e),Browser:Lt(e),Storage:Vt(e)})},Ft=()=>Ut(fin.me.identity),Gt=async(e=G)=>{const{workspacePlatform:t}=await F(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},$t=async(e=G)=>{const t=await Ft().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=G)=>{const{newPageUrl:t}=await Gt(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return Ce("New Tab",t,e)})(e);return xt(t,a)},Nt={type:Tt.Label,label:"Close Window",data:{type:u.CloseWindow}},jt={type:Tt.Label,label:"Open Storefront",data:{type:u.OpenStorefront}},Ht={type:Tt.Label,label:"Quit Platform",data:{type:u.Quit}},qt={type:Tt.Label,label:"New Window",data:{type:u.NewWindow}},Kt={type:Tt.Label,label:"Save Page",data:{type:u.SavePage}},Qt={type:Tt.Label,label:"Save Page As...",data:{type:u.SavePageAs}},zt={type:Tt.Label,label:"Restore to Last Saved Changes",data:{type:u.RestoreChanges}},Jt={type:Tt.Label,label:"Save Workspace",data:{type:u.SaveWorkspace}},Xt={type:Tt.Label,label:"Save Workspace As...",data:{type:u.SaveWorkspaceAs}},Yt={type:Tt.Label,label:"Rename Workspace",data:{type:u.RenameWorkspace}},Zt="Switch Workspace",ea="Delete Workspace",ta=[Nt,Et,jt,Et,Ht],aa=[Et,Nt,Et,Ht],na=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Tt.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),oa=async e=>{const t=await Q(),{newPageUrl:a}=await Gt(e),n=await(async e=>{const t=F(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=await(async e=>{const t=F(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),r=[];var i;a&&(r.push(qt),n||r.push((i=!o,{type:Tt.Label,label:"New Page",data:{type:u.NewPage},enabled:i}))),r.push(Et);const s=Ft(),c=await s.getCurrentWorkspace(),d=await s.Storage.getWorkspaces(),p=d.find((e=>e.workspaceId===c.workspaceId));return p?r.push(zt):r.push({label:zt.label,enabled:!1}),r.push(Jt,Xt),p?r.push(Yt):r.push({label:Yt.label,enabled:!1}),d.some((e=>e.workspaceId!==c.workspaceId))?r.push({label:Zt,submenu:na(c,d,u.SwitchWorkspace)},{label:ea,submenu:na(c,d,u.DeleteWorkspace)}):r.push({label:Zt,enabled:!1},{label:ea,enabled:!1}),r.push(Et,Kt,Qt),t?[...r,...ta]:[...r,...aa]};let ra="Platform";const ia=async()=>ra;var sa,ca,da;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSaveModal="/browser/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(sa||(sa={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(ca||(ca={})),function(e){e.Search="search"}(da||(da={}));const pa={...ca,...sa};var la;!function(e){e.Home="/home",e.Browser="/browser",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(la||(la={}));const ua="/workspace/9.0.14";function wa(){return ua.substring(0,ua.length-"".length)}function fa(e){if(!P)throw new Error("getAbsoluteRoutePath can only be used in a window");return function(){if(!window)throw new Error("getAbsoluteBasePath can only be used in a window");return`${window.origin}${wa()}`}()+e}const ga={name:V.BrowserMenu,alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!0};function ya(e){const t={...ga,...e};return t.url=function(e){if(!P)throw new Error("resolveAbsolutePath can only be used in a window");return e.startsWith("http")?e:`${window.origin}${e}`}(t.url),t}var ha,ma;!function(e){e.Update="update",e.Response="response"}(ha||(ha={})),function(e){e.Canceled="canceled",e.Negative="negative",e.Affirmative="affirmative"}(ma||(ma={}));const va=function(e){const t=new Map;return{emit:Ie(t,(t=>S&&fin.InterApplicationBus.publish(e,t))),addListener:Ae(t,(t=>S&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),removeListener:Oe(t),once:Me(t)}}("window.menu"),Sa=e=>va.emit(ha.Response,e),Pa=Se((()=>L().getChildWindows()),500);const ba=new Map;async function ka({options:e,parameters:t},a){const n=ya(e),{name:o}=n;let r=await async function(e){return(await Pa()).find((t=>t.identity.name===e))}(o);return r||(r=await async function(e){const t=ya(e);if(!ba.has(t.name)){const e=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(t);return e.once("closed",(()=>{ba.delete(t.name)})),e})();ba.set(t.name,e)}return ba.get(t.name)}(n)),await async function(e,t){const a=ya(e),{top:n,left:o,defaultWidth:r,defaultHeight:i}=a,s={top:n,left:o,width:r,height:i},c={parentName:fin.Window.getCurrentSync().identity.name};for(const[e,a]of Object.entries(c))t.set(e,a);const d=t.toString(),p=`${a.url}?${d}`;va.emit(ha.Update,a.name,s,p),await Sa({name:a.name,data:ma.Canceled})}(e,t||new URLSearchParams),a&&r.center(),r}const Wa=async(e,t,a)=>{const n=t?F(t):$();if(!a){await(async(e=fin.me.identity)=>{const t=F(e),a=await t.getBounds();(a.right>screen.availLeft+screen.width||a.left<screen.availLeft||a.bottom>screen.availTop+screen.height||a.top<screen.availTop)&&await t.center()})(n.identity);const t=(e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}))(await n.getBounds()),{defaultHeight:a,defaultWidth:o}=e;return((e,t)=>{const{height:a,width:n}=t,o=n/2,r=a/2;return{left:e.left-o,top:e.top-r}})(t,{height:a,width:o})}return await n.getBounds()},Ca=async({options:e,content:t},a)=>{const n=new URLSearchParams({...t});return await ka({options:e,parameters:n},a),new Promise((t=>{va.once(ha.Response,(a=>{a.name===e.name&&t(a)}))}))},Ia=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Switch Workspace",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:`Are you sure you want to switch to ${t}`,body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await Wa(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Ca({options:r,content:n})).data===ma.Affirmative},Aa=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Delete Workspace",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:144,defaultWidth:372,modalParentIdentity:e},content:{title:"Are you sure you want to permanently delete this workspace?",body:`${t}`,affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await Wa(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Ca({options:r,content:n})).data===ma.Affirmative},Ma=async(e,t,a)=>{const n=a?void 0:e,{windowOptions:o,content:r}=await(async(e,t)=>({title:"Platform Quit",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:134,defaultWidth:474,modalParentIdentity:t},content:{title:`Close the ${"Platform"===e?"platform":`${e} Platform`}?`,body:"Closing a platform will close any workspaces, apps or any processes that are running.",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(t,n),i=await Wa(o,o.modalParentIdentity),s={...o,top:i.top,left:i.left};return(await Ca({options:s,content:r},a)).data===ma.Affirmative},Oa=async e=>{const{windowOptions:t,content:a}=await(async e=>({title:"Restore Changes",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:"Are you sure you want to restore to last saved changes?",body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e),n=await Wa(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return(await Ca({options:o,content:a})).data===ma.Affirmative};var Ta;!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(Ta||(Ta={}));const Ea={alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1};var Ba;!function(e){e.Locked="LockClosedIcon",e.Unlocked="LockOpen1Icon"}(Ba||(Ba={}));const xa=function(e=Ea){const t=new Map;return async(a,n,o,r)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const i=`${V.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:i});const s=await fin.Platform.getCurrentSync().createWindow({...e,name:i,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),100),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(`New ${r} indicator: ${o}`),s.once("closed",(()=>{t.delete(a)}))}}();async function Ra(e,t,a,n){const o=new URLSearchParams;o.append("type",e),o.append("message",t),o.append("parentName",a||""),o.append("icon",n||"");const r=`${fa(pa.BrowserIndicator)}?${o.toString()}`;return xa("browser"+a,r,t,e)}function _a(e,t,a){return Ra(Ta.SUCCESS,e,t,a)}const La=async e=>{const t=Ft(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))t.Storage.saveWorkspace(a),t.setActiveWorkspace(a),_a("Workspace Saved",e.name);else{t.Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE})}},Va=e=>{Ft().Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE_AS})},Da=async(e,t)=>{const a=Ft().Browser.wrapSync(e),n=await Ft().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId));if(r)try{await Ft().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),_a("Page saved",o.parentIdentity.name)}catch{i="Page failed to save",s=o.parentIdentity.name,Ra(Ta.ERROR,i,s,c)}else a._openSaveModal({id:o.pageId,menuType:m.SAVE_PAGE});var i,s,c,d},Ua=async(e,t)=>{const a=Ft().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:m.SAVE_PAGE_AS})},Fa=async(e,t)=>{if(!e)return;const a=t.identity,n=await Re(a),o=Ft().Browser.wrapSync(t.identity);switch(e.type){case u.NewWindow:const{newPageUrl:t}=await Gt(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");Ft().createView({target:void 0,url:t});break;case u.NewPage:await(async e=>{const t=Ft().Browser.wrapSync(e),a=await $t(e);await t.addPage(a),await t.setActivePage(a.pageId)})(a);break;case u.CloseWindow:n.dispatch(Ve.CloseBrowserWindow);break;case u.SaveWorkspace:await La(a);break;case u.SavePage:await Da(a);break;case u.SavePageAs:await Ua(a);break;case u.SaveWorkspaceAs:await Va(a);break;case u.RenameWorkspace:o._openSaveModal({menuType:m.RENAME_WORKSPACE});break;case u.SwitchWorkspace:await(async(e,t)=>{const a=Ft(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Ia(e,n.title)&&(await a.applyWorkspace(n),_a("Workspace Switched!",null))})(a,e);break;case u.DeleteWorkspace:await(async(e,t)=>{const a=Ft(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Aa(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),_a("Workspace Deleted!",e.name))})(a,e);break;case u.Quit:const r=await ia();await Ma(a,r)&&fin.Platform.getCurrentSync().quit();break;case u.OpenStorefront:(async()=>{await Q()&&j(N)})();break;case u.RestoreChanges:const i=await async function(){const e=Ft(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();await Oa(a)&&await ue(i);break;case u.Custom:if(e.action){const t={callerType:h.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,t)}}},Ga=async(e,t)=>{const a=await Re(t.identity),n=Ft();switch(e?.type){case w.Save:await Da(t.identity,t.pageId);break;case w.SaveAs:await Ua(t.identity,t.pageId);break;case w.Rename:await n.Browser.wrapSync(t.identity)._openSaveModal({menuType:m.RENAME_PAGE,id:t.pageId});break;case w.Duplicate:a.dispatch(Ve.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(Ve.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:h.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,a)}}},$a=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case y.SavePage:await Da(a);break;case y.SaveWorkspace:await La(a);break;case y.SavePageAs:await Ua(a);break;case y.SaveWorkspaceAs:await Va(a);break;case y.Custom:if(e.action){const a={callerType:h.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,a)}}}},Na=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Gt(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...Ce("New View",t),url:t,target:e}})(e);await Ft().createView(o,e,n.identity)},ja=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Gt(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},Ha=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Ft().createView(n,e,t.identity)})(e,a)}))},qa=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case f.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await Ft().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await Re(e)).dispatch(Ve.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case f.OpenWithDefaultBrowser:await ja(a,t.selectedViews);break;case f.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case f.NewView:await Na(a,t);break;case f.DuplicateViews:Ha(a,t.selectedViews);break;case f.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Re(e)).dispatch(Ve.AddToChannel,n)})(a,e.option,t.selectedViews);break;case f.RemoveFromChannel:(async(e,t)=>{(await Re(e)).dispatch(Ve.RemoveFromChannel,t)})(a,t.selectedViews);break;case f.Custom:if(e.action){const n={callerType:h.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,n)}}};async function Ka(e,t){const a=await oa(e.identity),n=await ia();a.find((e=>e.data?.type===u.Quit)).label=`Quit ${n}`;const o={...e,template:a,callback:Fa};await this.openGlobalContextMenu(o,t)}const Qa=async(e,t)=>{const{x:a,y:n,identity:o,template:r,callback:i}=e,{data:s}=await function(e,t){if(!S)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:r},fin.Window.wrapSync(o));i(s,e)};async function za(e,t){const a={...e,callback:qa};await this.openViewTabContextMenu(a,t)}async function Ja(e,t){const a=await(async(e,t)=>{const a=await Ft().Storage.getPage(e),n=(await Ge()).find((t=>t.pageId===e)),{workspacePlatform:o}=await F(t).getOptions(),r=!(o.isLocked||o.preventPageClose||n.closeButton?.disabled||n.closeButton?.hidden);return[{type:Tt.Label,label:"Save Page",data:{type:w.Save}},{type:Tt.Label,label:"Save Page As",data:{type:w.SaveAs}},Et,{type:Tt.Label,label:"Rename Page",data:{type:w.Rename},enabled:!!a},{type:Tt.Label,label:"Duplicate Page",data:{type:w.Duplicate},enabled:!o.isLocked},Et,{type:Tt.Label,label:"Close Page",data:{type:w.Close},enabled:r}]})(e.pageId,e.identity),n={...e,template:a,callback:Ga};await this.openPageTabContextMenu(n,t)}async function Xa(e,t){const a={...e,template:await(async()=>[{type:Tt.Label,label:"Save Workspace",data:{type:y.SaveWorkspace}},{type:Tt.Label,label:"Save Workspace As",data:{type:y.SaveWorkspaceAs}},{type:Tt.Separator,data:void 0},{type:Tt.Label,label:"Save Page",data:{type:y.SavePage}},{type:Tt.Label,label:"Save Page As",data:{type:y.SavePageAs}}])(),callback:$a};await this.openSaveButtonContextMenu(a,t)}const Ya=b&&gt("openfin-workspace-platform-workspaces","workspaces");async function Za(e){const t=await mt(e,Ya);return t?(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId,t):null}async function en(e){const t=await bt(Ya),a=await Promise.all(t.map((e=>Za(e.toString()))));return e?a.filter((t=>kt(t.title,e))):a}async function tn({workspace:e}){await vt(e.workspaceId,e,Ya)}async function an(e){await St(e,Ya)}async function nn({workspaceId:e,workspace:t}){if(void 0===await Za(e))throw new Error("workspace not found");await tn({workspace:t}),e!==t.workspaceId&&await an(e)}async function on({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case c.Snapshot:return a.applySnapshot(e.manifest);case c.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case c.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const rn=e=>e&&"object"==typeof e&&!Array.isArray(e);function sn(e,...t){if(!t.length)return e;const a=t.shift();return rn(e)&&rn(a)&&Object.entries(a).forEach((([t,a])=>{if(rn(a))return e[t]||(e[t]={}),sn(e[t],a);e[t]=a})),sn(e,...t)}const cn=M+pa.Browser;function dn(e,t){const a=sn({},t,e);return a.detachOnClose=!0,a}async function pn(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const ln=e=>{const t=e.name===V.Home,a=e.name?.startsWith(V.HomeInternal),n=e.name?.startsWith(V.BrowserMenu);return!t&&!a&&!n},un=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),wn={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:cn,contextMenu:!0,closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${M}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},fn={dimensions:{borderWidth:3,headerHeight:30}},gn=async(e,t)=>{const a=await Ft().Storage.getPages(),n=await Ft().Browser.getAllAttachedPages();return e.map((e=>{let o=e.title;void 0===e.pageId&&(e.pageId=crypto.randomUUID());const r=a.find((e=>e.title===o));return(r&&r.pageId!==e.pageId||n.find((e=>e.title===o)))&&(o=le(e.title,[...a,...n].map((e=>e.title)))),n.push({...e,title:o}),{...t,...e,title:o,layout:(i=e.layout,be({...i},ke))};var i}))};var yn;!function(e){e.Browser="browser",e.Platform="platform",e.Classic="classic",e.Mixed="mixed"}(yn||(yn={}));const hn=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function mn(e){const t=(await q()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await Re(e)).dispatch(Ve.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():wt()}const vn=async e=>{await Ma(fin.me.identity,e.title??await ia(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()};let Sn=[];const Pn=()=>Sn;const bn=(e,t)=>async a=>{const n=null!==e;class o extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e}),this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=Xe,this.getAllAttachedPages=Ge,this.getPagesForWindow=Ze,this.getPageForWindow=et,this.setActivePage=Ye,this.launchApp=on,this.savePage=Qe,this.saveWorkspace=ye,this.createSavedPageInternal=He,this.updateSavedPageInternal=Ke,this.deleteSavedPageInternal=qe,this.reorderPagesForWindow=tt,this.getUniquePageTitle=at,this.updatePageForWindow=Je,this.getLastFocusedBrowserWindow=me,this.getThemes=Pn,this.invokeCustomActionInternal=ct,this.requestQuitPlatformDialogInternal=vn,this.getCurrentWorkspace=ge,this.applyWorkspace=ue,this.setActiveWorkspace=we,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this)}async getSnapshot(){const e=n?await mn((async()=>wt(await super.getSnapshot(void 0,fin.me.identity)))):await wt(await super.getSnapshot(void 0,fin.me.identity));return{...e,windows:e.windows.filter(ln).map(ut)}}async applySnapshot({snapshot:e,options:t}){const a=e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}});let o=e;"string"==typeof o&&(o=await super.fetchManifest({manifestUrl:o},fin.me.identity));const r=function(e){let t=!1,a=!1;for(const n of e.windows){if(t&&a)break;n.workspacePlatform?.pages?.length?a=!0:n.layout&&(t=!0)}return t&&a?yn.Mixed:t?yn.Platform:a?yn.Browser:e.windows.length?yn.Classic:null}(o);if(r===yn.Mixed)throw new Error("This snapshot cannot be applied as it contains a mixture of browser and platform windows.");if(n)yn.Platform;else if(r===yn.Browser)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return t?.closeExistingWindows&&await async function(){const e=await q();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}(),n?async function(e,t){const a=await Ge(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),[o,r]=(e.windows||[]).reduce((([e,t],a)=>a?.workspacePlatform?.pages?.length?[[...e,a],t]:[e,[...t,a]]),[[],[]]),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const s=[],c=o.map((async e=>{const t=un(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await at();a.push(await xt(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Ye({identity:o.parentIdentity,pageId:o.pageId}),hn(o.parentIdentity)]),a.length&&s.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(c),!s.length&&!r.length)return;const d=fin.Platform.getCurrentSync();return(t||d.applySnapshot.bind(d))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:[...s,...r]})}(o,a):a(o)}async createWindow(t,a){t.workspacePlatform?.toolbarOptions?.buttons&&(e=>{const t=e.filter((e=>e.type!==g.Custom)),a=new Set;for(const e of t){if(a.has(e.type))throw new Error(`Encountered a duplicate of ${e.type} button. No more than one instance of a button type may be provided.`);a.add(e.type)}})(t.workspacePlatform.toolbarOptions.buttons);let o=un(t);if(n){const t=this.getThemes();o=await(async(e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=sn({},t.defaultWindowOptions,n,wn),n.layout=sn(n.layout,fn),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;if(e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=((e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a})(n,!0),!n.workspacePlatform.pages?.length){const e=await at("Untitled Page"),t={...await xt(e,n.layout),isActive:!0};n.workspacePlatform.pages=[t]}}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=await gn(n.workspacePlatform.pages,t?.defaultPageOptions)),n.cornerRounding&&delete n.cornerRounding,n})(o,e,t[0])}o=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(o);const r=(e,t)=>super.createWindow(e,t),i=n?(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener(D.ShowRequested,(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(r):r;return i(o,a)}async createView(t,a){return t.opts=dn(t.opts,e?.defaultViewOptions),t.opts=await pn(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await dn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await pn(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return Ct.apply(this,e)}async getSavedPages(...e){return It.apply(this,e)}async createSavedPage(...e){return At.apply(this,e)}async deleteSavedPage(...e){return Mt.apply(this,e)}async updateSavedPage(...e){return Ot.apply(this,e)}async getSavedWorkspace(...e){return Za.apply(this,e)}async getSavedWorkspaces(...e){return en.apply(this,e)}async createSavedWorkspace(...e){return tn.apply(this,e)}async deleteSavedWorkspace(...e){return an.apply(this,e)}async updateSavedWorkspace(...e){return nn.apply(this,e)}async attachPagesToWindow(t){t.pages=await gn(t.pages,e?.defaultPageOptions),await ze(t)}async openGlobalContextMenuInternal(...e){return Ka.apply(this,e)}async openGlobalContextMenu(...e){return Qa.apply(this,e)}async openViewTabContextMenuInternal(...e){return za.apply(this,e)}async openViewTabContextMenu(...e){return Qa.apply(this,e)}async openPageTabContextMenuInternal(...e){return Ja.apply(this,e)}async openPageTabContextMenu(...e){return Qa.apply(this,e)}async openSaveButtonContextMenu(...e){return Qa.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Xa.apply(this,e)}}return"function"==typeof t?t(o):new o};async function kn(){!function(){const e=L();e.addListener(B.WindowOptionsChanged,rt),e.addListener(B.WindowClosed,it),e.addListener(B.WindowCreated,it),fin.InterApplicationBus.subscribe({uuid:fin.me.identity.uuid},"browser-window-ready",it)}(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",ve)}();we(await fe())}let Wn;function Cn({overrideCallback:e,interopOverride:t,browser:a}){if(!S)throw new Error("Cannot be used outside an OpenFin env.");if(!Wn){fin.Platform.getCurrentSync().once("platform-api-ready",(()=>kn())),a?.title&&(n=a.title,ra=n),Wn=fin.Platform.init({overrideCallback:bn(a,e||a?.overrideCallback),interopOverride:t||a?.interopOverride}),(async e=>{J(z.Platform,e)})({allowed:!0})}var n;return Wn}const In=async({theme:e,customActions:t,...a})=>{const n=O.split(".").map((e=>parseInt(e))),o=await(async e=>new Promise((async t=>{(await Z()).disableRuntimeValidation&&t(!0);const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(n);var r;if(e&&((r=e).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),Sn=r,(async e=>{J(z.Theming,e)})({allowed:!0})),t&&(st=t),o)return Cn(a);throw new Error(`Runtime version is not supported.  ${n[0]}.${n[1]}.${n[2]}.* is required`)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={703:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,deregister:()=>et,hide:()=>nt,register:()=>Ye,show:()=>tt});var o={};n.r(o),n.d(o,{subscribe:()=>ae});var r={};n.r(r),n.d(r,{create:()=>He});var i=n(678),s=n(532),a=n(436);const c="home";var d;!function(e){e.Commands="home-commands"}(d||(d={}));var u,p=n(806),l=(n(298),n(758));n(114),n(109),n(427);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(u||(u={}));var f=n(316);const w="all",g="0",h="5",y="6",v=()=>{};function m(e,t){return e?`${e}-${t}`:t}function S(e){return`__search-${e}-topic__`}const P=new Map;function C(e,t){P.has(e)||P.set(e,new Set),P.get(e).add(t)}function k(e,t){const n=P.get(e);n&&n.delete(t)}const W=new Map;function R(e,t){W.has(e)||W.set(e,new Set),W.get(e).add(t)}function T(e,t){const n=W.get(e);n&&n.delete(t)}const I=new Map;async function b(e,t){I.has(e)||I.set(e,new Map),I.get(e).set(t.id,t);const n=P.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function D(e,t){const n=I.get(e);if(!n)return;n.delete(t);const o=W.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function B(e){return I.get(e)?[...I.get(e).values()]:[]}function F(e){const t=I.get(e);t&&t.clear()}function L(e,t){const n=I.get(e);return n?n.get(t):null}function A(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function O(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function x(e){const t={};let n=[];let o=[];let r=u.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=v;const i={};return t.res=i,i.close=()=>{r!==u.Close&&(r=u.Close,t.onChange())},i.open=()=>{r!==u.Open&&(r=u.Open,t.onChange())},i.respond=n=>{const o=O(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function E(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function V(){return{name:fin.me.name,uuid:fin.me.uuid}}function M(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const _="deregistered or does not exist",$=new Error(`provider ${_}`),q=new Error("provider with name already exists"),G=new Error("bad payload"),H=new Error("subscription rejected"),N=new Error(`channel ${_}`),U=new Map;function j(e){const t=X(e);if(t)return t;throw N}function X(e){const t=U.get(e);if(t)return t}function K(e,t){U.set(e,t)}const J=new Map;function z(e){J.has(e)||J.set(e,new Map);const t=J.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function Z(e,t){return(await j(e)).dispatch(g,t)}function Q({namespacedTopic:e,topic:t}){const n=L.bind(null,e),o=z(e),r=Z.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=G;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=$;return{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=E(t,s,e),d.set(e.id,u));const p=x(),l=()=>{const e=p.getResultBuffer();p.setResultBuffer([]);const t=p.getRevokedBuffer();p.setRevokedBuffer([]);const n=p.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let f=!0,w=!1;p.onChange=()=>{if(f)return f=!1,void l();w||(w=!0,setTimeout((()=>{w=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,p.res),n=p.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function Y(e,t,n){const o=n||await j(e),r=V(),i={identity:r,...t,onUserInput:void 0,onResultDispatch:void 0},s=await o.dispatch("2",i);return await b(e,{identity:r,...t}),s}async function ee(e,t){const n=await j(e);return await n.dispatch("3",t),D(e,t)}async function te(e,t,n,o){const r=A(n,V(),o),i=L(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await j(e)).dispatch(h,s)}async function ne(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await j(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id,o.close=()=>{!async function(e,t){(await j(e)).dispatch(y,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function oe(e){return(await j(e)).dispatch("4",null)}async function re(e){const t=await j(e);var n;n=e,U.delete(n),F(e),await t.disconnect()}function ie(e){const{namespacedTopic:t}=e,n=z(t);return async o=>{if(!X(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);K(t,(async e=>{const{namespacedTopic:t}=e,n=await se(e);for(const e of B(t))await Y(t,e,n);return n})(e))}}async function se(e){const{namespacedTopic:t}=e,n=S(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(g,Q(e)),o.register(y,function(e){const t=z(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=L(e,t.providerId);if(!o)return;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(ie(e)),o}async function ae(e){const t=("string"==typeof e?e:e?.topic)||w,n=("string"==typeof e?null:e?.uuid)||M(),o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=X(o);return i||(i=se(r),K(o,i),await i),{getAllProviders:oe.bind(null,o),register:Y.bind(null,o),search:ne.bind(null,o),deregister:ee.bind(null,o),dispatch:te.bind(null,o),disconnect:re.bind(null,o)}}const ce=new Map;function de(e){const t=ue(e);if(t)return t;throw N}function ue(e){const t=ce.get(e);if(t)return t}const pe=new Map;function le(e,t){pe.has(e)||pe.set(e,new Set),pe.get(e).add(t)}function fe(e,t){const n=pe.get(e);n&&n.delete(t)}function we(e){return[...B(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function ge(e,t){if(L(e,t.id))throw new Error("provider with name already exists");const n=V();await b(e,{identity:n,...t})}function he(e,t){D(e,t)}async function ye(e,t,n,o){const r=L(e,t);if(!r)throw $;const{onResultDispatch:i}=r;if(!i)return;return i(A(n,V(),o))}async function*ve(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=x(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=O(a.results,n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>L(e,t))).filter((e=>!!e)):[...B(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const d=e=>{c=e,n.setState(c)};let p,l=!1;t.onClose((()=>{l=!0,p&&p()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(d(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},w=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===u.Open||c===f.De.Fetching&&a===u.Initial)&&(w.push(t),n.onChange=o);const d=n.getResultBuffer();d.length&&(n.setResultBuffer([]),s.results=O(s.results,d),e=!0);const p=n.getRevokedBuffer();if(p.length){n.setRevokedBuffer([]);const t=new Set(p);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=w,e&&(yield r),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{p=e}))])}while(s.length||a.length);return d(f.De.Complete),r}let me=0;function Se({namespacedTopic:e,topic:t},n){me+=1;const o=E(t,me.toString(),n),r=ve(e,o.req,{setState:e=>{r.state=e}});return r.id=me.toString(),r.close=o.close,r.state=f.De.Fetching,r}const Pe=new Map;function Ce(e,t){return`${e}:${t}`}function ke(e){return async(t,...n)=>{if(!t)return{error:G.message};let o;if(t.id)o=Ce(e.namespacedTopic,t.id);else{const n=Se(e,t);o=Ce(e.namespacedTopic,n.id),t.id=n.id,Pe.set(o,{generator:n})}const r=Pe.get(o);clearTimeout(r.timeout);const i=await r.generator.next();return r.timeout=function(e){return window.setTimeout((()=>{Pe.delete(e)}),1e4)}(o),{...i,id:t.id,state:r.generator.state}}}function We(e,t,n){return de(e).dispatch(t,y,{id:n})}function Re(e){return t=>function(e,t){const n=Ce(e,t),o=Pe.get(n);o&&o.generator.close()}(e,t.id)}async function Te(e,t,{id:n,query:o,context:r,targets:i}){const s=de(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,g,a),d=c.error;if(d)throw new Error(d);return c}const Ie=new Map;function be(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const De=new Map;function Be(e,t,n){return`${e}:${t}:${n}`}function Fe(e,t){const n=be.bind(null,e,t.identity),o=We.bind(null,e,t.identity),r=Te.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Ie.has(a)){const e=()=>{o(i.id),Ie.delete(a)};Ie.set(a,e),i.onClose(e)}const c=Be(e,t.id,i.id),d=()=>{De.delete(c),s.close()};i.onClose(d),De.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===u.Open&&s.open(),e.status===u.Close&&d()}));const p=await r(i);return p.status===u.Open&&s.open(),p.status!==u.Close&&p.status!==u.Initial||d(),p}}function Le(e,t){return async n=>{const o=de(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,h,r)}}const Ae=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function xe(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(L(e,t.id))throw q;return t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Ae.has(n)||Ae.set(n,[]),Ae.get(n).push(t.id),await b(e,{...t,onUserInput:Fe(e,t),onResultDispatch:Le(e,t)})}(e,t),{workspaceVersion:i.u0,clientAPIVersion:t.clientAPIVersion}}}function Ee(e){return t=>{t&&function(e,t){const n=L(e,t);if(!n)return;const o=Oe(e,n.identity),r=Ae.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),D(e,t))}}(e,t)}}const Ve=new Map;function Me(e,t){Ve.has(e)||Ve.set(e,new Set),Ve.get(e).add(t)}function _e(e,t){const n=Ve.get(e);n&&n.delete(t)}function $e(e){return async t=>{!function(e,t){const n=Oe(e,t),o=Ae.get(n);if(o){for(const t of o)D(e,t);Ae.delete(n)}}(e,t);const n=Ve.get(e);n&&n.forEach((e=>e(t)))}}async function qe(e){const{namespacedTopic:t}=e,n=S(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=pe.get(e);if(n)for(const e of n)if(!await e(t))throw H}}(e)),o.onDisconnection($e(t)),o.register(y,Re(t)),o.register(g,function(e){return t=>{const n=Be(e,t.providerId,t.id),o=De.get(n);o&&o(t)}}(t)),o.register("2",xe(t)),o.register("3",Ee(t)),o.register("4",function(e){return async()=>we(e)}(t)),o.register("1",ke(e)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=L(e,t.providerId);if(!o)throw $;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function Ge(e){const t=de(e);var n;n=e,ce.delete(n),await t.destroy(),F(e)}async function He(e){const t=("string"==typeof e?e:e?.topic)||w,n=M(),o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=ue(o);i||(i=await qe(r),function(e,t){ce.set(e,t)}(o,i));const s=fe.bind(null,o),a=_e.bind(null,o),c=k.bind(null,o),d=T.bind(null,o);return{getAllProviders:we.bind(null,o),search:Se.bind(null,r),register:ge.bind(null,o),deregister:he.bind(null,o),onSubscription:le.bind(null,o),onDisconnect:Me.bind(null,o),onRegister:C.bind(null,o),onDeregister:R.bind(null,o),dispatch:ye.bind(null,r),disconnect:Ge.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=r,{subscribe:Ue}=o,je={create:Ne,subscribe:Ue,defaultTopic:"all"},Xe=()=>{window.search=je},Ke=e=>{const t=()=>{Xe(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Xe();const e="load",t=Ke(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=Ke(n);window.addEventListener(n,o)}const Je=new Map;async function ze(){await async function(e){Je.set(e,await Ue({topic:e,uuid:p.q9.Workspace}))}(c)}let Ze;async function Qe(e){return await async function(){return Ze||(Ze=ze()),Ze}(),Je.get(e)}const Ye=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,a.aB)();const t=await Qe(c);try{e.clientAPIVersion=i.u0;const n=await t.register(e);return(0,s.ck)({allowed:!0,componentVersion:n?.workspaceVersion}),n}catch(e){throw(0,s.ck)({allowed:!1,rejectionCode:e.message}),e}},et=async e=>{await(0,a.aB)();return(await Qe(c)).deregister(e)};async function tt(){return(await(0,a.Xl)()).dispatch(a.WF.ShowHome,void 0)}async function nt(){return(await(0,a.Xl)()).dispatch(a.WF.HideHome,void 0)}},298:(e,t,n)=>{n.d(t,{p:()=>o.px,w:()=>o.wt});var o=n(316)},427:(e,t,n)=>{var o;n.d(t,{v:()=>o}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,el:()=>i,yW:()=>r}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},109:(e,t,n)=>{n.d(t,{Go:()=>r,ZJ:()=>s,bI:()=>i,p6:()=>o});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},528:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>s.L,StorefrontTemplate:()=>s.T,deregister:()=>g,hide:()=>h,register:()=>w,show:()=>y});var o=n(532),r=n(436),i=n(82),s=n(114),a=n(678);let c,d=!1;async function u(e,t,n){const o=await(0,r.Dm)();try{return await o.dispatch(e.action,e.payload)}catch(r){if(-1!==r.toString().indexOf(e.action))return d=!0,await o.dispatch(t.action,t.payload),n;throw r}}const p=new Map,l=e=>{if(!p.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return p.get(e)},f=async e=>{const t=await(0,r.Xl)();if(p.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return p.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.WF.GetStorefrontProviderApps,(e=>l(e).getApps())),e.register(r.WF.GetStorefrontProviderFooter,(e=>l(e).getFooter())),e.register(r.WF.GetStorefrontProviderLandingPage,(e=>l(e).getLandingPage())),e.register(r.WF.GetStorefrontProviderNavigation,(e=>l(e).getNavigation())),e.register(r.WF.LaunchStorefrontProviderApp,(({id:e,app:t})=>l(e).launchApp(t))))})(t),e.clientAPIVersion=a.u0,u({action:r.WF.RegisterProvider,payload:{providerType:i.lP.Storefront,info:e}},{action:r.WF.RegisterStorefrontProvider,payload:e},{workspaceVersion:"unknown"})},w=e=>(c=new Promise((async(t,n)=>{try{const n=await f(e);(0,o.d9)({allowed:!0,componentVersion:n?.workspaceVersion}),t({clientAPIVersion:a.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,o.d9)({allowed:!1,rejectionCode:e.message}),n(e)}})),c),g=async e=>(await c,p.delete(e),await(0,r.aB)(),u({action:r.WF.DeregisterProvider,payload:{providerType:i.lP.Storefront,id:e}},{action:r.WF.DeregisterStorefrontProvider,payload:e})),h=async()=>(await c,await(0,r.aB)(),u({action:r.WF.HideProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.HideStorefront})),y=async()=>(await c,await(0,r.aB)(),u({action:r.WF.ShowProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.ShowStorefront}))},436:(e,t,n)=>{n.d(t,{WF:()=>s,Dm:()=>a,Xl:()=>p,aB:()=>u});var o=n(678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n={clientAPIVersion:o.u0},i=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return i.onDisconnection((async()=>{t=void 0})),i})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),fin.System.openUrlWithBrowser(d(o.GX))},p=async()=>(await u(),a())},82:(e,t,n)=>{n.d(t,{R8:()=>s,X_:()=>i,lP:()=>o});var o,r=n(436);!function(e){e.Storefront="storefront",e.Dock="dock"}(o||(o={}));const i=async e=>(await(0,r.Dm)()).dispatch(r.WF.ShowProviderWindow,{providerType:e}),s=async e=>(await(0,r.Dm)()).dispatch(r.WF.HideProviderWindow,{providerType:e})},806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,o.Workspace},678:(e,t,n)=>{var o;n.d(t,{AB:()=>a,Ax:()=>i,GX:()=>u,ZK:()=>d,aW:()=>p,oC:()=>c,sS:()=>r,u0:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),p="https://cdn.openfin.co/workspace/9.0.14/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,f=(l("https://cdn.openfin.co/workspace/9.0.14"),l("https://cdn.openfin.co/workspace/9.0.14"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"9.0.14")},532:(e,t,n)=>{n.d(t,{Wn:()=>d,ck:()=>a,d9:()=>c});var o,r=n(678),i=n(121);!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:t.componentVersion||r.u0,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)},d=async e=>{s(o.Dock,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>d,JV:()=>l,OI:()=>u,iW:()=>p});var o,r,i,s=n(806),a=n(678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={})),function(e){e.BeforeUnload="beforeunload"}(i||(i={}));function c(e){if(!a.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const d={name:a.oC,uuid:a.AB};const u={name:o.Home,uuid:s.q9.Workspace},p=(o.Dock,s.q9.Workspace,o.Storefront,s.q9.Workspace,{name:s.q9.Workspace,uuid:s.q9.Workspace});const l=e=>c(e).getOptions().then((()=>!0)).catch((()=>!1))},316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{ActionTrigger:()=>P.p,AppManifestType:()=>W.L,ButtonStyle:()=>C.ZJ,CLIAction:()=>k.Pt,CLIFilterOptionType:()=>k.el,CLITemplate:()=>k.yW,ContainerTemplateFragmentNames:()=>C.p6,Dock:()=>e,DockButtonNames:()=>c.v,Home:()=>h,Legacy:()=>t,PresentationTemplateFragmentNames:()=>C.Go,SearchTagBackground:()=>P.w,Storefront:()=>S,StorefrontTemplate:()=>W.T,TemplateFragmentTypes:()=>C.bI});var e={};n.r(e),n.d(e,{DockButtonNames:()=>c.v,deregister:()=>l,minimize:()=>f,register:()=>p,show:()=>w});var t={};n.r(t),n.d(t,{getPages:()=>v,getWorkspaces:()=>m});var r=n(678),i=n(532),s=n(436),a=n(82),c=n(427);let d,u=!1;const p=e=>(d=new Promise((async(t,n)=>{try{const n=await(async e=>{const t=await(0,s.Xl)();if(u)throw new Error("A dock provider for the platform is already registered.");return u=!0,e.clientAPIVersion=r.u0,t.dispatch(s.WF.RegisterProvider,{providerType:a.lP.Dock,info:e})})(e);(0,i.Wn)({allowed:!0,componentVersion:n?.workspaceVersion}),t({clientAPIVersion:r.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,i.Wn)({allowed:!1,rejectionCode:e.message}),n(e),d=null}})),d),l=async()=>{await d,u=!1;return(await(0,s.Xl)()).dispatch(s.WF.DeregisterProvider,{providerType:a.lP.Dock})},f=async()=>{await d,await(0,s.aB)(),await(0,a.R8)(a.lP.Dock)},w=async()=>{await d,await(0,s.aB)(),await(0,a.X_)(a.lP.Dock)};var g,h=n(703);n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(g||(g={}));new Map;var y;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(y||(y={}));const v=()=>async function(){return(await(0,s.Dm)()).dispatch(s.WF.GetLegacyPages,void 0)}(),m=()=>(async()=>(await(0,s.Dm)()).dispatch(s.WF.GetLegacyWorkspaces,void 0))();var S=n(528),P=n(298),C=n(109),k=n(758),W=n(114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/bootstrapper.ts":
/*!************************************!*\
  !*** ./client/src/bootstrapper.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home */ "./client/src/home.ts");

async function init() {
    // you can kick off your bootstrapping process here where you may decide to prompt for authentication,
    // gather reference data etc before starting workspace and interacting with it.
    console.log("Initialising the bootstrapper");
    // only register search logic once workspace is running
    await (0,_home__WEBPACK_IMPORTED_MODULE_0__.register)();
    await (0,_home__WEBPACK_IMPORTED_MODULE_0__.show)();
    const providerWindow = fin.Window.getCurrentSync();
    await providerWindow.once("close-requested", async (event) => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_0__.deregister)();
        await fin.Platform.getCurrentSync().quit();
    });
}


/***/ }),

/***/ "./client/src/browser.ts":
/*!*******************************!*\
  !*** ./client/src/browser.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "launchView": () => (/* binding */ launchView)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);

let windowIdentity;
async function launchView(url) {
    const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
    let createWindow = true;
    if (windowIdentity) {
        const childWindows = await fin.Application.getCurrentSync().getChildWindows();
        const existingWindow = childWindows.find((window) => window.identity.name === windowIdentity.name);
        if (existingWindow) {
            createWindow = false;
        }
    }
    if (createWindow) {
        const win = await platform.createWindow({
            defaultHeight: 700,
            defaultWidth: 1200,
            layout: {
                content: [
                    {
                        type: "stack",
                        content: []
                    }
                ]
            }
        });
        windowIdentity = win.identity;
    }
    const salesforceLwcPreloadScript = {
        url: `${window.location.origin}/js/preload.js`
    };
    await platform.createView({ preloadScripts: [salesforceLwcPreloadScript], target: null, url }, windowIdentity);
}


/***/ }),

/***/ "./client/src/home.ts":
/*!****************************!*\
  !*** ./client/src/home.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/salesforce */ "../../node_modules/@openfin/salesforce/openfin.salesforce.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./browser */ "./client/src/browser.ts");
/* harmony import */ var _salesforce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./salesforce */ "./client/src/salesforce.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");





const BROWSE_SEARCH_RESULT_KEY = "browse-salesforce";
const PROVIDER_ID = "integrate-with-salesforce";
const NOT_CONNECTED_SEARCH_RESULT_KEY = "not-connected-result";
const OBJECTS_FILTER_ID = "objects";
function getSearchFilters(objects) {
    if (Array.isArray(objects)) {
        const filters = [];
        const uniqueObjects = [...new Set(objects.sort())];
        const objectFilter = {
            id: OBJECTS_FILTER_ID,
            title: "Objects",
            type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLIFilterOptionType.MultiSelect,
            options: []
        };
        for (const object of uniqueObjects) {
            if (Array.isArray(objectFilter.options)) {
                objectFilter.options.push({
                    value: object,
                    isSelected: false
                });
            }
        }
        filters.push(objectFilter);
        return filters;
    }
    return [];
}
async function getResults(query, queryMinLength = 3, filters) {
    // Define the default "browse" search result displayed when no query provided
    const salesforceConnection = (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getConnection)();
    const { orgUrl } = salesforceConnection;
    const { icon, iconMap } = await (0,_settings__WEBPACK_IMPORTED_MODULE_4__.getSettings)();
    const browseResult = {
        actions: [{ name: "Browse", hotkey: "enter" }],
        data: {
            pageUrl: orgUrl
        },
        icon,
        key: BROWSE_SEARCH_RESULT_KEY,
        template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain,
        templateContent: undefined,
        title: "Browse Salesforce"
    };
    // Return default browse result if query less than minimum char length or starts with /
    const searchQuery = query.trim();
    if (searchQuery.length < queryMinLength || searchQuery.startsWith("/")) {
        return { results: [browseResult] };
    }
    // Retrieve search results from Salesforce
    let searchResults;
    try {
        let selectedObjects = [];
        if (Array.isArray(filters) && filters.length > 0) {
            const objectsFilter = filters.find((x) => x.id === OBJECTS_FILTER_ID);
            if (objectsFilter) {
                selectedObjects = (Array.isArray(objectsFilter.options) ? objectsFilter.options : [objectsFilter.options])
                    .filter((x) => Boolean(x.isSelected))
                    .map((x) => (x.value === "Note" ? "ContentNote" : x.value));
            }
        }
        searchResults = await (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getSearchResults)(searchQuery, selectedObjects);
    }
    catch (err) {
        if (err instanceof _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.ConnectionError) {
            return {
                results: [
                    {
                        actions: [{ name: "Reconnect", hotkey: "enter" }],
                        key: NOT_CONNECTED_SEARCH_RESULT_KEY,
                        icon,
                        title: "Reconnect to Salesforce"
                    }
                ]
            };
        }
        return { results: [] };
    }
    const results = searchResults.map((searchResult) => {
        if ("Website" in searchResult) {
            return {
                actions: [{ name: "View", hotkey: "enter" }],
                label: searchResult.attributes.type,
                key: searchResult.Id,
                title: searchResult.Name,
                icon: iconMap.account,
                data: {
                    pageUrl: (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getObjectUrl)(searchResult.Id, orgUrl)
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                templateContent: {
                    name: searchResult.Name,
                    title: searchResult.Industry,
                    details: [
                        [
                            ["Phone", searchResult.Phone],
                            ["Type", searchResult.Type],
                            ["Website", searchResult.Website]
                        ]
                    ]
                }
            };
        }
        else if ("Email" in searchResult) {
            return {
                actions: [{ name: "View", hotkey: "enter" }],
                label: searchResult.attributes.type,
                key: searchResult.Id,
                title: searchResult.Name,
                icon: iconMap.contact,
                data: {
                    pageUrl: (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getObjectUrl)(searchResult.Id, orgUrl)
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                templateContent: {
                    name: searchResult.Name,
                    title: searchResult.Title,
                    useInitials: true,
                    details: [
                        [
                            ["Department", searchResult.Department],
                            ["Email", searchResult.Email],
                            ["Work #", searchResult.Phone]
                        ]
                    ]
                }
            };
        }
        else if ("Description" in searchResult) {
            return {
                actions: [{ name: "View", hotkey: "enter" }],
                label: searchResult.attributes.type,
                key: searchResult.Id,
                title: searchResult.Subject,
                icon: iconMap.task,
                data: {
                    pageUrl: (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getObjectUrl)(searchResult.Id, orgUrl)
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.List,
                templateContent: [
                    ["Subject", searchResult.Subject],
                    ["Comments", searchResult.Description]
                ]
            };
        }
        else if ("TextPreview" in searchResult) {
            return {
                actions: [{ name: "View", hotkey: "enter" }],
                label: "Note",
                key: searchResult.Id,
                title: searchResult.Title,
                icon: iconMap.note,
                data: {
                    pageUrl: (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getObjectUrl)(searchResult.Id, orgUrl)
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.List,
                templateContent: [
                    ["Title", searchResult.Title],
                    ["Content", searchResult?.TextPreview]
                ]
            };
        }
        else if ("actor" in searchResult &&
            (searchResult.type === "TextPost" || searchResult.type === "ContentPost")) {
            return {
                actions: [{ name: "View", hotkey: "enter" }],
                label: "Chatter",
                key: searchResult.id,
                title: searchResult.actor?.displayName,
                icon: iconMap.chatter,
                data: {
                    pageUrl: (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.getObjectUrl)(searchResult.id, orgUrl)
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                templateContent: {
                    name: searchResult.actor?.displayName,
                    useInitials: true,
                    details: [
                        [
                            ["Header", searchResult?.header?.text],
                            ["Note", searchResult?.body?.text]
                        ]
                    ]
                }
            };
        }
    });
    const filteredResults = results.filter(Boolean);
    const objects = searchResults.map((result) => getItemType(result));
    return {
        results: filteredResults,
        context: {
            filters: getSearchFilters(objects.map((c) => (c === "ContentNote" ? "Note" : c)))
        }
    };
}
function getItemType(item) {
    return "attributes" in item ? item.attributes.type : "Chatter";
}
async function register() {
    console.log("Initialising home");
    const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_4__.getSettings)();
    const queryMinLength = settings.queryMinLength || 3;
    let lastResponse;
    let query;
    let filters;
    const onUserInput = async (request, response) => {
        query = request.query.toLowerCase();
        if (query.startsWith("/")) {
            return { results: [] };
        }
        filters = request?.context?.selectedFilters;
        if (lastResponse !== undefined) {
            lastResponse.close();
        }
        lastResponse = response;
        lastResponse.open();
        const results = await getResults(query, queryMinLength, filters);
        return results;
    };
    const onSelection = async (result) => {
        // if the user clicked the reconnect result, reconnect to salesforce and re-run query
        if (result.key === NOT_CONNECTED_SEARCH_RESULT_KEY) {
            await (0,_salesforce__WEBPACK_IMPORTED_MODULE_3__.connectToSalesforce)();
            const results = await getResults(query, queryMinLength, filters);
            lastResponse.revoke(NOT_CONNECTED_SEARCH_RESULT_KEY);
            lastResponse.respond(results.results);
            await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.show();
            return;
        }
        // otherwise open the result page url in browser
        const data = result.data;
        if (data !== undefined) {
            await (0,_browser__WEBPACK_IMPORTED_MODULE_2__.launchView)(data.pageUrl);
        }
        else {
            console.warn("Unable to execute result without data being passed");
        }
    };
    const cliProvider = {
        title: settings.title,
        id: PROVIDER_ID,
        icon: settings.icon,
        onUserInput,
        onResultDispatch: onSelection
    };
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.register(cliProvider);
    console.log("Home configured");
}
async function show() {
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.show();
}
async function hide() {
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.hide();
}
async function deregister() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.deregister(PROVIDER_ID);
}


/***/ }),

/***/ "./client/src/platform.ts":
/*!********************************!*\
  !*** ./client/src/platform.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _salesforce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./salesforce */ "./client/src/salesforce.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");



async function init() {
    console.log("Initialising salesforce");
    await (0,_salesforce__WEBPACK_IMPORTED_MODULE_1__.connectToSalesforce)();
    console.log("Initialising platform");
    const { icon, title } = await (0,_settings__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
    const browser = {};
    browser.defaultWindowOptions = {
        icon,
        workspacePlatform: {
            favicon: icon,
            pages: null,
            title
        }
    };
    console.log("Specifying following browser options:", browser);
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser,
        theme: [
            {
                label: "Salesforce Theme",
                palette: {
                    brandPrimary: "#0070D2",
                    brandSecondary: "#0070D2",
                    backgroundPrimary: "#265A78",
                    background1: "#0C4362",
                    background2: "#105998",
                    background3: "#265A78",
                    background4: "#0070D2",
                    background5: "#0070D2",
                    background6: "#0070D2"
                }
            }
        ]
    });
}


/***/ }),

/***/ "./client/src/salesforce.ts":
/*!**********************************!*\
  !*** ./client/src/salesforce.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "connectToSalesforce": () => (/* binding */ connectToSalesforce),
/* harmony export */   "getBatchedResults": () => (/* binding */ getBatchedResults),
/* harmony export */   "getConnection": () => (/* binding */ getConnection),
/* harmony export */   "getObjectUrl": () => (/* binding */ getObjectUrl),
/* harmony export */   "getSearchResults": () => (/* binding */ getSearchResults)
/* harmony export */ });
/* harmony import */ var _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/salesforce */ "../../node_modules/@openfin/salesforce/openfin.salesforce.js");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");


let sfConn;
function getConnection() {
    return sfConn;
}
const getObjectUrl = (objectId, salesforceOrgOrigin) => `${salesforceOrgOrigin}/${objectId}`;
async function getSearchResults(query, selectedObjects) {
    const accountFieldSpec = "Account(Id, Industry, Name, Phone, Type, Website)";
    const contactFieldSpec = "Contact(Department, Email, Id, Name, Phone, Title)";
    const taskFieldSpec = "Task(Id, Subject, Description)";
    const contentNoteFieldSpec = "ContentNote(Id, Title, Content, TextPreview)";
    const fieldSpecMap = new Map([
        ["Account", accountFieldSpec],
        ["Contact", contactFieldSpec],
        ["Task", taskFieldSpec],
        ["ContentNote", contentNoteFieldSpec]
    ]);
    const fieldSpecs = [...fieldSpecMap]
        .filter((x) => {
        if (selectedObjects?.length > 0) {
            return selectedObjects.includes(x[0]);
        }
        return true;
    })
        .map((f) => f[1]);
    const batch = fieldSpecs.map((fieldSpec) => {
        const salesforceSearchQuery = `FIND {${escapeQuery(query)}} IN ALL FIELDS RETURNING ${fieldSpec} LIMIT 10`;
        return {
            method: "GET",
            url: `/services/data/vXX.X/search?q=${encodeURIComponent(salesforceSearchQuery)}`
        };
    });
    const includeChatter = !selectedObjects?.length || selectedObjects.includes("Chatter");
    if (includeChatter) {
        batch.push({
            method: "GET",
            url: `/services/data/vXX.X/chatter/feed-elements?q=${query}&pageSize=25&sort=LastModifiedDateDesc`
        });
    }
    const batchedResults = await getBatchedResults(batch);
    let results = [];
    if (batchedResults.length) {
        let idx = 0;
        for (; idx < fieldSpecs.length; idx++) {
            const searchResponse = batchedResults[idx];
            if (searchResponse?.searchRecords?.length) {
                results = results.concat(searchResponse.searchRecords);
            }
        }
        if (includeChatter) {
            const chatterResponse = batchedResults[idx++];
            if (chatterResponse?.elements?.length) {
                results = results.concat(chatterResponse.elements);
            }
        }
    }
    return results;
}
async function getBatchedResults(batchRequests) {
    if (batchRequests.length === 0) {
        return [];
    }
    const batch = { batchRequests, haltOnError: false };
    const response = await sfConn.executeApiRequest("/services/data/vXX.X/composite/batch/", "POST", batch, { "Content-Type": "application/json" });
    return response.data?.results.map((r) => r.result) ?? [];
}
async function connectToSalesforce() {
    (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    const { orgUrl, consumerKey } = await (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getSettings)();
    sfConn = await (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.connect)(orgUrl, consumerKey);
}
function escapeQuery(query) {
    // There are some reserved characters for queries so we need to escape them
    // https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_sosl_find.htm#i1423105
    return query.replace(/[!"&'()*+:?[\\\]^{|}~-]/gm, "\\$&");
}


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSettings": () => (/* binding */ getSettings)
/* harmony export */ });
let settings;
async function getConfiguredSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    if (manifest.customSettings !== undefined) {
        settings = manifest.customSettings;
    }
    else {
        settings = {};
    }
    return settings;
}
async function getSettings() {
    if (settings === undefined) {
        settings = await getConfiguredSettings();
    }
    return settings;
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrapper */ "./client/src/bootstrapper.ts");
/* harmony import */ var _platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform */ "./client/src/platform.ts");


window.addEventListener("DOMContentLoaded", async () => {
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => (0,_bootstrapper__WEBPACK_IMPORTED_MODULE_0__.init)());
    await (0,_platform__WEBPACK_IMPORTED_MODULE_1__.init)();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1dBQ0E7V0FDQTtXQUNBLGlDQUFpQyxXQUFXO1dBQzVDO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQTs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7Ozs7Ozs7Ozs7O0FDTm1EO0FBQ0s7QUFFeEQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLEtBQUssSUFBSSxFQUFFO0lBQ3RELE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDL0MsTUFBTSxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLEtBQUssSUFBSSxFQUFFLENBQUMsbURBQVMsRUFBRSxDQUFDLENBQUM7SUFDbkUsTUFBTSwrQ0FBa0IsRUFBRSxDQUFDO0FBQzVCLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXNhbGVzZm9yY2UvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3NhbGVzZm9yY2Uvb3BlbmZpbi5zYWxlc2ZvcmNlLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1zYWxlc2ZvcmNlLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXNhbGVzZm9yY2UvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtc2FsZXNmb3JjZS8uL2NsaWVudC9zcmMvYm9vdHN0cmFwcGVyLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1zYWxlc2ZvcmNlLy4vY2xpZW50L3NyYy9icm93c2VyLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1zYWxlc2ZvcmNlLy4vY2xpZW50L3NyYy9ob21lLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1zYWxlc2ZvcmNlLy4vY2xpZW50L3NyYy9wbGF0Zm9ybS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtc2FsZXNmb3JjZS8uL2NsaWVudC9zcmMvc2FsZXNmb3JjZS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtc2FsZXNmb3JjZS8uL2NsaWVudC9zcmMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXNhbGVzZm9yY2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXNhbGVzZm9yY2Uvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXNhbGVzZm9yY2Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1zYWxlc2ZvcmNlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXNhbGVzZm9yY2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtc2FsZXNmb3JjZS8uL2NsaWVudC9zcmMvcHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGU9ezk0MjE6KGUsdCxuKT0+e2UuZXhwb3J0cz1uKDg0NDgpfSw5OTQ6KGUsdCxuKT0+e3ZhciBpPW4oODQ0Nikscj1uKDgzMjIpLG89bigyMDU4KSxzPW4oODk4MiksYT1uKDUwNjMpLGM9big5NTQxKSxkPW4oNjQ5NyksaD1uKDI3NTEpLGw9big4OTE2KSx1PW4oNTE0MikscD1uKDU4MjIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7dmFyIHcsZj1lLmRhdGEseT1lLmhlYWRlcnMsZz1lLnJlc3BvbnNlVHlwZTtmdW5jdGlvbiBtKCl7ZS5jYW5jZWxUb2tlbiYmZS5jYW5jZWxUb2tlbi51bnN1YnNjcmliZSh3KSxlLnNpZ25hbCYmZS5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdyl9aS5pc0Zvcm1EYXRhKGYpJiZpLmlzU3RhbmRhcmRCcm93c2VyRW52KCkmJmRlbGV0ZSB5W1wiQ29udGVudC1UeXBlXCJdO3ZhciB2PW5ldyBYTUxIdHRwUmVxdWVzdDtpZihlLmF1dGgpe3ZhciBDPWUuYXV0aC51c2VybmFtZXx8XCJcIixFPWUuYXV0aC5wYXNzd29yZD91bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS5hdXRoLnBhc3N3b3JkKSk6XCJcIjt5LkF1dGhvcml6YXRpb249XCJCYXNpYyBcIitidG9hKEMrXCI6XCIrRSl9dmFyIHg9YShlLmJhc2VVUkwsZS51cmwpO2Z1bmN0aW9uIEEoKXtpZih2KXt2YXIgaT1cImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiaW4gdj9jKHYuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpOm51bGwsbz17ZGF0YTpnJiZcInRleHRcIiE9PWcmJlwianNvblwiIT09Zz92LnJlc3BvbnNlOnYucmVzcG9uc2VUZXh0LHN0YXR1czp2LnN0YXR1cyxzdGF0dXNUZXh0OnYuc3RhdHVzVGV4dCxoZWFkZXJzOmksY29uZmlnOmUscmVxdWVzdDp2fTtyKChmdW5jdGlvbihlKXt0KGUpLG0oKX0pLChmdW5jdGlvbihlKXtuKGUpLG0oKX0pLG8pLHY9bnVsbH19aWYodi5vcGVuKGUubWV0aG9kLnRvVXBwZXJDYXNlKCkscyh4LGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplciksITApLHYudGltZW91dD1lLnRpbWVvdXQsXCJvbmxvYWRlbmRcImluIHY/di5vbmxvYWRlbmQ9QTp2Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3YmJjQ9PT12LnJlYWR5U3RhdGUmJigwIT09di5zdGF0dXN8fHYucmVzcG9uc2VVUkwmJjA9PT12LnJlc3BvbnNlVVJMLmluZGV4T2YoXCJmaWxlOlwiKSkmJnNldFRpbWVvdXQoQSl9LHYub25hYm9ydD1mdW5jdGlvbigpe3YmJihuKG5ldyBsKFwiUmVxdWVzdCBhYm9ydGVkXCIsbC5FQ09OTkFCT1JURUQsZSx2KSksdj1udWxsKX0sdi5vbmVycm9yPWZ1bmN0aW9uKCl7bihuZXcgbChcIk5ldHdvcmsgRXJyb3JcIixsLkVSUl9ORVRXT1JLLGUsdix2KSksdj1udWxsfSx2Lm9udGltZW91dD1mdW5jdGlvbigpe3ZhciB0PWUudGltZW91dD9cInRpbWVvdXQgb2YgXCIrZS50aW1lb3V0K1wibXMgZXhjZWVkZWRcIjpcInRpbWVvdXQgZXhjZWVkZWRcIixpPWUudHJhbnNpdGlvbmFsfHxoO2UudGltZW91dEVycm9yTWVzc2FnZSYmKHQ9ZS50aW1lb3V0RXJyb3JNZXNzYWdlKSxuKG5ldyBsKHQsaS5jbGFyaWZ5VGltZW91dEVycm9yP2wuRVRJTUVET1VUOmwuRUNPTk5BQk9SVEVELGUsdikpLHY9bnVsbH0saS5pc1N0YW5kYXJkQnJvd3NlckVudigpKXt2YXIgST0oZS53aXRoQ3JlZGVudGlhbHN8fGQoeCkpJiZlLnhzcmZDb29raWVOYW1lP28ucmVhZChlLnhzcmZDb29raWVOYW1lKTp2b2lkIDA7SSYmKHlbZS54c3JmSGVhZGVyTmFtZV09SSl9XCJzZXRSZXF1ZXN0SGVhZGVyXCJpbiB2JiZpLmZvckVhY2goeSwoZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1mJiZcImNvbnRlbnQtdHlwZVwiPT09dC50b0xvd2VyQ2FzZSgpP2RlbGV0ZSB5W3RdOnYuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLGkuaXNVbmRlZmluZWQoZS53aXRoQ3JlZGVudGlhbHMpfHwodi53aXRoQ3JlZGVudGlhbHM9ISFlLndpdGhDcmVkZW50aWFscyksZyYmXCJqc29uXCIhPT1nJiYodi5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Eb3dubG9hZFByb2dyZXNzJiZ2LmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGUub25Eb3dubG9hZFByb2dyZXNzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uVXBsb2FkUHJvZ3Jlc3MmJnYudXBsb2FkJiZ2LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixlLm9uVXBsb2FkUHJvZ3Jlc3MpLChlLmNhbmNlbFRva2VufHxlLnNpZ25hbCkmJih3PWZ1bmN0aW9uKGUpe3YmJihuKCFlfHxlJiZlLnR5cGU/bmV3IHU6ZSksdi5hYm9ydCgpLHY9bnVsbCl9LGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKHcpLGUuc2lnbmFsJiYoZS5zaWduYWwuYWJvcnRlZD93KCk6ZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdykpKSxmfHwoZj1udWxsKTt2YXIgYj1wKHgpO2ImJi0xPT09W1wiaHR0cFwiLFwiaHR0cHNcIixcImZpbGVcIl0uaW5kZXhPZihiKT9uKG5ldyBsKFwiVW5zdXBwb3J0ZWQgcHJvdG9jb2wgXCIrYitcIjpcIixsLkVSUl9CQURfUkVRVUVTVCxlKSk6di5zZW5kKGYpfSkpfX0sODQ0ODooZSx0LG4pPT57dmFyIGk9big4NDQ2KSxyPW4oODk2Miksbz1uKDU0OTUpLHM9big2MTQ5KSxhPWZ1bmN0aW9uIGUodCl7dmFyIG49bmV3IG8odCksYT1yKG8ucHJvdG90eXBlLnJlcXVlc3Qsbik7cmV0dXJuIGkuZXh0ZW5kKGEsby5wcm90b3R5cGUsbiksaS5leHRlbmQoYSxuKSxhLmNyZWF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gZShzKHQsbikpfSxhfShuKDE1ODYpKTthLkF4aW9zPW8sYS5DYW5jZWxlZEVycm9yPW4oNTE0MiksYS5DYW5jZWxUb2tlbj1uKDU0MyksYS5pc0NhbmNlbD1uKDM0NTIpLGEuVkVSU0lPTj1uKDQ0NzQpLnZlcnNpb24sYS50b0Zvcm1EYXRhPW4oNzQ1MiksYS5BeGlvc0Vycm9yPW4oODkxNiksYS5DYW5jZWw9YS5DYW5jZWxlZEVycm9yLGEuYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLmFsbChlKX0sYS5zcHJlYWQ9big5MDY3KSxhLmlzQXhpb3NFcnJvcj1uKDE3MjYpLGUuZXhwb3J0cz1hLGUuZXhwb3J0cy5kZWZhdWx0PWF9LDU0MzooZSx0LG4pPT57dmFyIGk9big1MTQyKTtmdW5jdGlvbiByKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIHQ7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt0PWV9KSk7dmFyIG49dGhpczt0aGlzLnByb21pc2UudGhlbigoZnVuY3Rpb24oZSl7aWYobi5fbGlzdGVuZXJzKXt2YXIgdCxpPW4uX2xpc3RlbmVycy5sZW5ndGg7Zm9yKHQ9MDt0PGk7dCsrKW4uX2xpc3RlbmVyc1t0XShlKTtuLl9saXN0ZW5lcnM9bnVsbH19KSksdGhpcy5wcm9taXNlLnRoZW49ZnVuY3Rpb24oZSl7dmFyIHQsaT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7bi5zdWJzY3JpYmUoZSksdD1lfSkpLnRoZW4oZSk7cmV0dXJuIGkuY2FuY2VsPWZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZSh0KX0saX0sZSgoZnVuY3Rpb24oZSl7bi5yZWFzb258fChuLnJlYXNvbj1uZXcgaShlKSx0KG4ucmVhc29uKSl9KSl9ci5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufSxyLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV19LHIucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xpc3RlbmVycyl7dmFyIHQ9dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKHQsMSl9fSxyLnNvdXJjZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybnt0b2tlbjpuZXcgcigoZnVuY3Rpb24odCl7ZT10fSkpLGNhbmNlbDplfX0sZS5leHBvcnRzPXJ9LDUxNDI6KGUsdCxuKT0+e3ZhciBpPW4oODkxNik7ZnVuY3Rpb24gcihlKXtpLmNhbGwodGhpcyxudWxsPT1lP1wiY2FuY2VsZWRcIjplLGkuRVJSX0NBTkNFTEVEKSx0aGlzLm5hbWU9XCJDYW5jZWxlZEVycm9yXCJ9big4NDQ2KS5pbmhlcml0cyhyLGkse19fQ0FOQ0VMX186ITB9KSxlLmV4cG9ydHM9cn0sMzQ1MjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLl9fQ0FOQ0VMX18pfX0sNTQ5NTooZSx0LG4pPT57dmFyIGk9big4NDQ2KSxyPW4oODk4Miksbz1uKDk1ODIpLHM9big2ODYyKSxhPW4oNjE0OSksYz1uKDUwNjMpLGQ9bigxMTY2KSxoPWQudmFsaWRhdG9ycztmdW5jdGlvbiBsKGUpe3RoaXMuZGVmYXVsdHM9ZSx0aGlzLmludGVyY2VwdG9ycz17cmVxdWVzdDpuZXcgbyxyZXNwb25zZTpuZXcgb319bC5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiBlPyh0PXR8fHt9KS51cmw9ZTp0PWV8fHt9LCh0PWEodGhpcy5kZWZhdWx0cyx0KSkubWV0aG9kP3QubWV0aG9kPXQubWV0aG9kLnRvTG93ZXJDYXNlKCk6dGhpcy5kZWZhdWx0cy5tZXRob2Q/dC5tZXRob2Q9dGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTp0Lm1ldGhvZD1cImdldFwiO3ZhciBuPXQudHJhbnNpdGlvbmFsO3ZvaWQgMCE9PW4mJmQuYXNzZXJ0T3B0aW9ucyhuLHtzaWxlbnRKU09OUGFyc2luZzpoLnRyYW5zaXRpb25hbChoLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOmgudHJhbnNpdGlvbmFsKGguYm9vbGVhbiksY2xhcmlmeVRpbWVvdXRFcnJvcjpoLnRyYW5zaXRpb25hbChoLmJvb2xlYW4pfSwhMSk7dmFyIGk9W10scj0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUucnVuV2hlbiYmITE9PT1lLnJ1bldoZW4odCl8fChyPXImJmUuc3luY2hyb25vdXMsaS51bnNoaWZ0KGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpKX0pKTt2YXIgbyxjPVtdO2lmKHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2MucHVzaChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKSwhcil7dmFyIGw9W3Msdm9pZCAwXTtmb3IoQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkobCxpKSxsPWwuY29uY2F0KGMpLG89UHJvbWlzZS5yZXNvbHZlKHQpO2wubGVuZ3RoOylvPW8udGhlbihsLnNoaWZ0KCksbC5zaGlmdCgpKTtyZXR1cm4gb31mb3IodmFyIHU9dDtpLmxlbmd0aDspe3ZhciBwPWkuc2hpZnQoKSx3PWkuc2hpZnQoKTt0cnl7dT1wKHUpfWNhdGNoKGUpe3coZSk7YnJlYWt9fXRyeXtvPXModSl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWZvcig7Yy5sZW5ndGg7KW89by50aGVuKGMuc2hpZnQoKSxjLnNoaWZ0KCkpO3JldHVybiBvfSxsLnByb3RvdHlwZS5nZXRVcmk9ZnVuY3Rpb24oZSl7ZT1hKHRoaXMuZGVmYXVsdHMsZSk7dmFyIHQ9YyhlLmJhc2VVUkwsZS51cmwpO3JldHVybiByKHQsZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKX0saS5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJvcHRpb25zXCJdLChmdW5jdGlvbihlKXtsLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLnJlcXVlc3QoYShufHx7fSx7bWV0aG9kOmUsdXJsOnQsZGF0YToobnx8e30pLmRhdGF9KSl9fSkpLGkuZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbihuLGkscil7cmV0dXJuIHRoaXMucmVxdWVzdChhKHJ8fHt9LHttZXRob2Q6ZSxoZWFkZXJzOnQ/e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJ9Ont9LHVybDpuLGRhdGE6aX0pKX19bC5wcm90b3R5cGVbZV09dCgpLGwucHJvdG90eXBlW2UrXCJGb3JtXCJdPXQoITApfSkpLGUuZXhwb3J0cz1sfSw4OTE2OihlLHQsbik9Pnt2YXIgaT1uKDg0NDYpO2Z1bmN0aW9uIHIoZSx0LG4saSxyKXtFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT1lLHRoaXMubmFtZT1cIkF4aW9zRXJyb3JcIix0JiYodGhpcy5jb2RlPXQpLG4mJih0aGlzLmNvbmZpZz1uKSxpJiYodGhpcy5yZXF1ZXN0PWkpLHImJih0aGlzLnJlc3BvbnNlPXIpfWkuaW5oZXJpdHMocixFcnJvcix7dG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJue21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOnRoaXMuY29uZmlnLGNvZGU6dGhpcy5jb2RlLHN0YXR1czp0aGlzLnJlc3BvbnNlJiZ0aGlzLnJlc3BvbnNlLnN0YXR1cz90aGlzLnJlc3BvbnNlLnN0YXR1czpudWxsfX19KTt2YXIgbz1yLnByb3RvdHlwZSxzPXt9O1tcIkVSUl9CQURfT1BUSU9OX1ZBTFVFXCIsXCJFUlJfQkFEX09QVElPTlwiLFwiRUNPTk5BQk9SVEVEXCIsXCJFVElNRURPVVRcIixcIkVSUl9ORVRXT1JLXCIsXCJFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTXCIsXCJFUlJfREVQUkVDQVRFRFwiLFwiRVJSX0JBRF9SRVNQT05TRVwiLFwiRVJSX0JBRF9SRVFVRVNUXCIsXCJFUlJfQ0FOQ0VMRURcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlXT17dmFsdWU6ZX19KSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocixzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImlzQXhpb3NFcnJvclwiLHt2YWx1ZTohMH0pLHIuZnJvbT1mdW5jdGlvbihlLHQsbixzLGEsYyl7dmFyIGQ9T2JqZWN0LmNyZWF0ZShvKTtyZXR1cm4gaS50b0ZsYXRPYmplY3QoZSxkLChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PUVycm9yLnByb3RvdHlwZX0pKSxyLmNhbGwoZCxlLm1lc3NhZ2UsdCxuLHMsYSksZC5uYW1lPWUubmFtZSxjJiZPYmplY3QuYXNzaWduKGQsYyksZH0sZS5leHBvcnRzPXJ9LDk1ODI6KGUsdCxuKT0+e3ZhciBpPW4oODQ0Nik7ZnVuY3Rpb24gcigpe3RoaXMuaGFuZGxlcnM9W119ci5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6ZSxyZWplY3RlZDp0LHN5bmNocm9ub3VzOiEhbiYmbi5zeW5jaHJvbm91cyxydW5XaGVuOm4/bi5ydW5XaGVuOm51bGx9KSx0aGlzLmhhbmRsZXJzLmxlbmd0aC0xfSxyLnByb3RvdHlwZS5lamVjdD1mdW5jdGlvbihlKXt0aGlzLmhhbmRsZXJzW2VdJiYodGhpcy5oYW5kbGVyc1tlXT1udWxsKX0sci5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtpLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24odCl7bnVsbCE9PXQmJmUodCl9KSl9LGUuZXhwb3J0cz1yfSw1MDYzOihlLHQsbik9Pnt2YXIgaT1uKDY0NTIpLHI9bigxMTIzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmIWkodCk/cihlLHQpOnR9fSw2ODYyOihlLHQsbik9Pnt2YXIgaT1uKDg0NDYpLHI9big1MjU1KSxvPW4oMzQ1Mikscz1uKDE1ODYpLGE9big1MTQyKTtmdW5jdGlvbiBjKGUpe2lmKGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpLGUuc2lnbmFsJiZlLnNpZ25hbC5hYm9ydGVkKXRocm93IG5ldyBhfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gYyhlKSxlLmhlYWRlcnM9ZS5oZWFkZXJzfHx7fSxlLmRhdGE9ci5jYWxsKGUsZS5kYXRhLGUuaGVhZGVycyxlLnRyYW5zZm9ybVJlcXVlc3QpLGUuaGVhZGVycz1pLm1lcmdlKGUuaGVhZGVycy5jb21tb258fHt9LGUuaGVhZGVyc1tlLm1ldGhvZF18fHt9LGUuaGVhZGVycyksaS5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCIsXCJjb21tb25cIl0sKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmhlYWRlcnNbdF19KSksKGUuYWRhcHRlcnx8cy5hZGFwdGVyKShlKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gYyhlKSx0LmRhdGE9ci5jYWxsKGUsdC5kYXRhLHQuaGVhZGVycyxlLnRyYW5zZm9ybVJlc3BvbnNlKSx0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBvKHQpfHwoYyhlKSx0JiZ0LnJlc3BvbnNlJiYodC5yZXNwb25zZS5kYXRhPXIuY2FsbChlLHQucmVzcG9uc2UuZGF0YSx0LnJlc3BvbnNlLmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSkpKSxQcm9taXNlLnJlamVjdCh0KX0pKX19LDYxNDk6KGUsdCxuKT0+e3ZhciBpPW4oODQ0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgbj17fTtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIGkuaXNQbGFpbk9iamVjdChlKSYmaS5pc1BsYWluT2JqZWN0KHQpP2kubWVyZ2UoZSx0KTppLmlzUGxhaW5PYmplY3QodCk/aS5tZXJnZSh7fSx0KTppLmlzQXJyYXkodCk/dC5zbGljZSgpOnR9ZnVuY3Rpb24gbyhuKXtyZXR1cm4gaS5pc1VuZGVmaW5lZCh0W25dKT9pLmlzVW5kZWZpbmVkKGVbbl0pP3ZvaWQgMDpyKHZvaWQgMCxlW25dKTpyKGVbbl0sdFtuXSl9ZnVuY3Rpb24gcyhlKXtpZighaS5pc1VuZGVmaW5lZCh0W2VdKSlyZXR1cm4gcih2b2lkIDAsdFtlXSl9ZnVuY3Rpb24gYShuKXtyZXR1cm4gaS5pc1VuZGVmaW5lZCh0W25dKT9pLmlzVW5kZWZpbmVkKGVbbl0pP3ZvaWQgMDpyKHZvaWQgMCxlW25dKTpyKHZvaWQgMCx0W25dKX1mdW5jdGlvbiBjKG4pe3JldHVybiBuIGluIHQ/cihlW25dLHRbbl0pOm4gaW4gZT9yKHZvaWQgMCxlW25dKTp2b2lkIDB9dmFyIGQ9e3VybDpzLG1ldGhvZDpzLGRhdGE6cyxiYXNlVVJMOmEsdHJhbnNmb3JtUmVxdWVzdDphLHRyYW5zZm9ybVJlc3BvbnNlOmEscGFyYW1zU2VyaWFsaXplcjphLHRpbWVvdXQ6YSx0aW1lb3V0TWVzc2FnZTphLHdpdGhDcmVkZW50aWFsczphLGFkYXB0ZXI6YSxyZXNwb25zZVR5cGU6YSx4c3JmQ29va2llTmFtZTphLHhzcmZIZWFkZXJOYW1lOmEsb25VcGxvYWRQcm9ncmVzczphLG9uRG93bmxvYWRQcm9ncmVzczphLGRlY29tcHJlc3M6YSxtYXhDb250ZW50TGVuZ3RoOmEsbWF4Qm9keUxlbmd0aDphLGJlZm9yZVJlZGlyZWN0OmEsdHJhbnNwb3J0OmEsaHR0cEFnZW50OmEsaHR0cHNBZ2VudDphLGNhbmNlbFRva2VuOmEsc29ja2V0UGF0aDphLHJlc3BvbnNlRW5jb2Rpbmc6YSx2YWxpZGF0ZVN0YXR1czpjfTtyZXR1cm4gaS5mb3JFYWNoKE9iamVjdC5rZXlzKGUpLmNvbmNhdChPYmplY3Qua2V5cyh0KSksKGZ1bmN0aW9uKGUpe3ZhciB0PWRbZV18fG8scj10KGUpO2kuaXNVbmRlZmluZWQocikmJnQhPT1jfHwobltlXT1yKX0pKSxufX0sODMyMjooZSx0LG4pPT57dmFyIGk9big4OTE2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4uY29uZmlnLnZhbGlkYXRlU3RhdHVzO24uc3RhdHVzJiZyJiYhcihuLnN0YXR1cyk/dChuZXcgaShcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrbi5zdGF0dXMsW2kuRVJSX0JBRF9SRVFVRVNULGkuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihuLnN0YXR1cy8xMDApLTRdLG4uY29uZmlnLG4ucmVxdWVzdCxuKSk6ZShuKX19LDUyNTU6KGUsdCxuKT0+e3ZhciBpPW4oODQ0Nikscj1uKDE1ODYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpc3x8cjtyZXR1cm4gaS5mb3JFYWNoKG4sKGZ1bmN0aW9uKG4pe2U9bi5jYWxsKG8sZSx0KX0pKSxlfX0sMTU4NjooZSx0LG4pPT57dmFyIGk9big4NDQ2KSxyPW4oMTk2NCksbz1uKDg5MTYpLHM9bigyNzUxKSxhPW4oNzQ1MiksYz17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifTtmdW5jdGlvbiBkKGUsdCl7IWkuaXNVbmRlZmluZWQoZSkmJmkuaXNVbmRlZmluZWQoZVtcIkNvbnRlbnQtVHlwZVwiXSkmJihlW1wiQ29udGVudC1UeXBlXCJdPXQpfXZhciBoLGw9e3RyYW5zaXRpb25hbDpzLGFkYXB0ZXI6KChcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3R8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSkmJihoPW4oOTk0KSksaCksdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oZSx0KXtpZihyKHQsXCJBY2NlcHRcIikscih0LFwiQ29udGVudC1UeXBlXCIpLGkuaXNGb3JtRGF0YShlKXx8aS5pc0FycmF5QnVmZmVyKGUpfHxpLmlzQnVmZmVyKGUpfHxpLmlzU3RyZWFtKGUpfHxpLmlzRmlsZShlKXx8aS5pc0Jsb2IoZSkpcmV0dXJuIGU7aWYoaS5pc0FycmF5QnVmZmVyVmlldyhlKSlyZXR1cm4gZS5idWZmZXI7aWYoaS5pc1VSTFNlYXJjaFBhcmFtcyhlKSlyZXR1cm4gZCh0LFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIiksZS50b1N0cmluZygpO3ZhciBuLG89aS5pc09iamVjdChlKSxzPXQmJnRbXCJDb250ZW50LVR5cGVcIl07aWYoKG49aS5pc0ZpbGVMaXN0KGUpKXx8byYmXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI9PT1zKXt2YXIgYz10aGlzLmVudiYmdGhpcy5lbnYuRm9ybURhdGE7cmV0dXJuIGEobj97XCJmaWxlc1tdXCI6ZX06ZSxjJiZuZXcgYyl9cmV0dXJuIG98fFwiYXBwbGljYXRpb24vanNvblwiPT09cz8oZCh0LFwiYXBwbGljYXRpb24vanNvblwiKSxmdW5jdGlvbihlLHQsbil7aWYoaS5pc1N0cmluZyhlKSl0cnl7cmV0dXJuKDAsSlNPTi5wYXJzZSkoZSksaS50cmltKGUpfWNhdGNoKGUpe2lmKFwiU3ludGF4RXJyb3JcIiE9PWUubmFtZSl0aHJvdyBlfXJldHVybigwLEpTT04uc3RyaW5naWZ5KShlKX0oZSkpOmV9XSx0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFuc2l0aW9uYWx8fGwudHJhbnNpdGlvbmFsLG49dCYmdC5zaWxlbnRKU09OUGFyc2luZyxyPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcscz0hbiYmXCJqc29uXCI9PT10aGlzLnJlc3BvbnNlVHlwZTtpZihzfHxyJiZpLmlzU3RyaW5nKGUpJiZlLmxlbmd0aCl0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7aWYocyl7aWYoXCJTeW50YXhFcnJvclwiPT09ZS5uYW1lKXRocm93IG8uZnJvbShlLG8uRVJSX0JBRF9SRVNQT05TRSx0aGlzLG51bGwsdGhpcy5yZXNwb25zZSk7dGhyb3cgZX19cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6XCJYU1JGLVRPS0VOXCIseHNyZkhlYWRlck5hbWU6XCJYLVhTUkYtVE9LRU5cIixtYXhDb250ZW50TGVuZ3RoOi0xLG1heEJvZHlMZW5ndGg6LTEsZW52OntGb3JtRGF0YTpuKDMzMTMpfSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihlKXtyZXR1cm4gZT49MjAwJiZlPDMwMH0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIn19fTtpLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIl0sKGZ1bmN0aW9uKGUpe2wuaGVhZGVyc1tlXT17fX0pKSxpLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7bC5oZWFkZXJzW2VdPWkubWVyZ2UoYyl9KSksZS5leHBvcnRzPWx9LDI3NTE6ZT0+e2UuZXhwb3J0cz17c2lsZW50SlNPTlBhcnNpbmc6ITAsZm9yY2VkSlNPTlBhcnNpbmc6ITAsY2xhcmlmeVRpbWVvdXRFcnJvcjohMX19LDQ0NzQ6ZT0+e2UuZXhwb3J0cz17dmVyc2lvbjpcIjAuMjcuMlwifX0sODk2MjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxpPTA7aTxuLmxlbmd0aDtpKyspbltpXT1hcmd1bWVudHNbaV07cmV0dXJuIGUuYXBwbHkodCxuKX19fSw4OTgyOihlLHQsbik9Pnt2YXIgaT1uKDg0NDYpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKS5yZXBsYWNlKC8lNUIvZ2ksXCJbXCIpLnJlcGxhY2UoLyU1RC9naSxcIl1cIil9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZighdClyZXR1cm4gZTt2YXIgbztpZihuKW89bih0KTtlbHNlIGlmKGkuaXNVUkxTZWFyY2hQYXJhbXModCkpbz10LnRvU3RyaW5nKCk7ZWxzZXt2YXIgcz1bXTtpLmZvckVhY2godCwoZnVuY3Rpb24oZSx0KXtudWxsIT1lJiYoaS5pc0FycmF5KGUpP3QrPVwiW11cIjplPVtlXSxpLmZvckVhY2goZSwoZnVuY3Rpb24oZSl7aS5pc0RhdGUoZSk/ZT1lLnRvSVNPU3RyaW5nKCk6aS5pc09iamVjdChlKSYmKGU9SlNPTi5zdHJpbmdpZnkoZSkpLHMucHVzaChyKHQpK1wiPVwiK3IoZSkpfSkpKX0pKSxvPXMuam9pbihcIiZcIil9aWYobyl7dmFyIGE9ZS5pbmRleE9mKFwiI1wiKTstMSE9PWEmJihlPWUuc2xpY2UoMCxhKSksZSs9KC0xPT09ZS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrb31yZXR1cm4gZX19LDExMjM6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXFwvKyQvLFwiXCIpK1wiL1wiK3QucmVwbGFjZSgvXlxcLysvLFwiXCIpOmV9fSwyMDU4OihlLHQsbik9Pnt2YXIgaT1uKDg0NDYpO2UuZXhwb3J0cz1pLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/e3dyaXRlOmZ1bmN0aW9uKGUsdCxuLHIsbyxzKXt2YXIgYT1bXTthLnB1c2goZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkpLGkuaXNOdW1iZXIobikmJmEucHVzaChcImV4cGlyZXM9XCIrbmV3IERhdGUobikudG9HTVRTdHJpbmcoKSksaS5pc1N0cmluZyhyKSYmYS5wdXNoKFwicGF0aD1cIityKSxpLmlzU3RyaW5nKG8pJiZhLnB1c2goXCJkb21haW49XCIrbyksITA9PT1zJiZhLnB1c2goXCJzZWN1cmVcIiksZG9jdW1lbnQuY29va2llPWEuam9pbihcIjsgXCIpfSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKF58O1xcXFxzKikoXCIrZStcIik9KFteO10qKVwiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLndyaXRlKGUsXCJcIixEYXRlLm5vdygpLTg2NGU1KX19Ont3cml0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fX0sNjQ1MjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybi9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KGUpfX0sMTcyNjooZSx0LG4pPT57dmFyIGk9big4NDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNPYmplY3QoZSkmJiEwPT09ZS5pc0F4aW9zRXJyb3J9fSw2NDk3OihlLHQsbik9Pnt2YXIgaT1uKDg0NDYpO2UuZXhwb3J0cz1pLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXt2YXIgZSx0PS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtmdW5jdGlvbiByKGUpe3ZhciBpPWU7cmV0dXJuIHQmJihuLnNldEF0dHJpYnV0ZShcImhyZWZcIixpKSxpPW4uaHJlZiksbi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsaSkse2hyZWY6bi5ocmVmLHByb3RvY29sOm4ucHJvdG9jb2w/bi5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0Om4uaG9zdCxzZWFyY2g6bi5zZWFyY2g/bi5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOm4uaGFzaD9uLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0Om4ucG9ydCxwYXRobmFtZTpcIi9cIj09PW4ucGF0aG5hbWUuY2hhckF0KDApP24ucGF0aG5hbWU6XCIvXCIrbi5wYXRobmFtZX19cmV0dXJuIGU9cih3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24odCl7dmFyIG49aS5pc1N0cmluZyh0KT9yKHQpOnQ7cmV0dXJuIG4ucHJvdG9jb2w9PT1lLnByb3RvY29sJiZuLmhvc3Q9PT1lLmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSwxOTY0OihlLHQsbik9Pnt2YXIgaT1uKDg0NDYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2kuZm9yRWFjaChlLChmdW5jdGlvbihuLGkpe2khPT10JiZpLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPW4sZGVsZXRlIGVbaV0pfSkpfX0sMzMxMzplPT57ZS5leHBvcnRzPW51bGx9LDk1NDE6KGUsdCxuKT0+e3ZhciBpPW4oODQ0Nikscj1bXCJhZ2VcIixcImF1dGhvcml6YXRpb25cIixcImNvbnRlbnQtbGVuZ3RoXCIsXCJjb250ZW50LXR5cGVcIixcImV0YWdcIixcImV4cGlyZXNcIixcImZyb21cIixcImhvc3RcIixcImlmLW1vZGlmaWVkLXNpbmNlXCIsXCJpZi11bm1vZGlmaWVkLXNpbmNlXCIsXCJsYXN0LW1vZGlmaWVkXCIsXCJsb2NhdGlvblwiLFwibWF4LWZvcndhcmRzXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJyZWZlcmVyXCIsXCJyZXRyeS1hZnRlclwiLFwidXNlci1hZ2VudFwiXTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHM9e307cmV0dXJuIGU/KGkuZm9yRWFjaChlLnNwbGl0KFwiXFxuXCIpLChmdW5jdGlvbihlKXtpZihvPWUuaW5kZXhPZihcIjpcIiksdD1pLnRyaW0oZS5zdWJzdHIoMCxvKSkudG9Mb3dlckNhc2UoKSxuPWkudHJpbShlLnN1YnN0cihvKzEpKSx0KXtpZihzW3RdJiZyLmluZGV4T2YodCk+PTApcmV0dXJuO3NbdF09XCJzZXQtY29va2llXCI9PT10PyhzW3RdP3NbdF06W10pLmNvbmNhdChbbl0pOnNbdF0/c1t0XStcIiwgXCIrbjpufX0pKSxzKTpzfX0sNTgyMjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS9eKFstK1xcd117MSwyNX0pKDo/XFwvXFwvfDopLy5leGVjKGUpO3JldHVybiB0JiZ0WzFdfHxcIlwifX0sOTA2NzplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX19LDc0NTI6KGUsdCxuKT0+e3ZhciBpPW4oODQ0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dD10fHxuZXcgRm9ybURhdGE7dmFyIG49W107ZnVuY3Rpb24gcihlKXtyZXR1cm4gbnVsbD09PWU/XCJcIjppLmlzRGF0ZShlKT9lLnRvSVNPU3RyaW5nKCk6aS5pc0FycmF5QnVmZmVyKGUpfHxpLmlzVHlwZWRBcnJheShlKT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9iP25ldyBCbG9iKFtlXSk6QnVmZmVyLmZyb20oZSk6ZX1yZXR1cm4gZnVuY3Rpb24gZShvLHMpe2lmKGkuaXNQbGFpbk9iamVjdChvKXx8aS5pc0FycmF5KG8pKXtpZigtMSE9PW4uaW5kZXhPZihvKSl0aHJvdyBFcnJvcihcIkNpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiBcIitzKTtuLnB1c2gobyksaS5mb3JFYWNoKG8sKGZ1bmN0aW9uKG4sbyl7aWYoIWkuaXNVbmRlZmluZWQobikpe3ZhciBhLGM9cz9zK1wiLlwiK286bztpZihuJiYhcyYmXCJvYmplY3RcIj09dHlwZW9mIG4paWYoaS5lbmRzV2l0aChvLFwie31cIikpbj1KU09OLnN0cmluZ2lmeShuKTtlbHNlIGlmKGkuZW5kc1dpdGgobyxcIltdXCIpJiYoYT1pLnRvQXJyYXkobikpKXJldHVybiB2b2lkIGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IWkuaXNVbmRlZmluZWQoZSkmJnQuYXBwZW5kKGMscihlKSl9KSk7ZShuLGMpfX0pKSxuLnBvcCgpfWVsc2UgdC5hcHBlbmQocyxyKG8pKX0oZSksdH19LDExNjY6KGUsdCxuKT0+e3ZhciBpPW4oNDQ3NCkudmVyc2lvbixyPW4oODkxNiksbz17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7b1tlXT1mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG49PT1lfHxcImFcIisodDwxP1wibiBcIjpcIiBcIikrZX19KSk7dmFyIHM9e307by50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm5cIltBeGlvcyB2XCIraStcIl0gVHJhbnNpdGlvbmFsIG9wdGlvbiAnXCIrZStcIidcIit0KyhuP1wiLiBcIituOlwiXCIpfXJldHVybiBmdW5jdGlvbihuLGksYSl7aWYoITE9PT1lKXRocm93IG5ldyByKG8oaSxcIiBoYXMgYmVlbiByZW1vdmVkXCIrKHQ/XCIgaW4gXCIrdDpcIlwiKSksci5FUlJfREVQUkVDQVRFRCk7cmV0dXJuIHQmJiFzW2ldJiYoc1tpXT0hMCxjb25zb2xlLndhcm4obyhpLFwiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdlwiK3QrXCIgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmVcIikpKSwhZXx8ZShuLGksYSl9fSxlLmV4cG9ydHM9e2Fzc2VydE9wdGlvbnM6ZnVuY3Rpb24oZSx0LG4pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyByKFwib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdFwiLHIuRVJSX0JBRF9PUFRJT05fVkFMVUUpO2Zvcih2YXIgaT1PYmplY3Qua2V5cyhlKSxvPWkubGVuZ3RoO28tLSA+MDspe3ZhciBzPWlbb10sYT10W3NdO2lmKGEpe3ZhciBjPWVbc10sZD12b2lkIDA9PT1jfHxhKGMscyxlKTtpZighMCE9PWQpdGhyb3cgbmV3IHIoXCJvcHRpb24gXCIrcytcIiBtdXN0IGJlIFwiK2Qsci5FUlJfQkFEX09QVElPTl9WQUxVRSl9ZWxzZSBpZighMCE9PW4pdGhyb3cgbmV3IHIoXCJVbmtub3duIG9wdGlvbiBcIitzLHIuRVJSX0JBRF9PUFRJT04pfX0sdmFsaWRhdG9yczpvfX0sODQ0NjooZSx0LG4pPT57dmFyIGkscj1uKDg5NjIpLG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPShpPU9iamVjdC5jcmVhdGUobnVsbCksZnVuY3Rpb24oZSl7dmFyIHQ9by5jYWxsKGUpO3JldHVybiBpW3RdfHwoaVt0XT10LnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkpfSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7cmV0dXJuIHModCk9PT1lfX1mdW5jdGlvbiBjKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIHZvaWQgMD09PWV9dmFyIGg9YShcIkFycmF5QnVmZmVyXCIpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX1mdW5jdGlvbiB1KGUpe2lmKFwib2JqZWN0XCIhPT1zKGUpKXJldHVybiExO3ZhciB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gbnVsbD09PXR8fHQ9PT1PYmplY3QucHJvdG90eXBlfXZhciBwPWEoXCJEYXRlXCIpLHc9YShcIkZpbGVcIiksZj1hKFwiQmxvYlwiKSx5PWEoXCJGaWxlTGlzdFwiKTtmdW5jdGlvbiBnKGUpe3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09PW8uY2FsbChlKX12YXIgbT1hKFwiVVJMU2VhcmNoUGFyYW1zXCIpO2Z1bmN0aW9uIHYoZSx0KXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT1bZV0pLGMoZSkpZm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKXQuY2FsbChudWxsLGVbbl0sbixlKTtlbHNlIGZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmNhbGwobnVsbCxlW3JdLHIsZSl9dmFyIEMsRT0oQz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpLGZ1bmN0aW9uKGUpe3JldHVybiBDJiZlIGluc3RhbmNlb2YgQ30pO2UuZXhwb3J0cz17aXNBcnJheTpjLGlzQXJyYXlCdWZmZXI6aCxpc0J1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJiFkKGUpJiZudWxsIT09ZS5jb25zdHJ1Y3RvciYmIWQoZS5jb25zdHJ1Y3RvcikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29uc3RydWN0b3IuaXNCdWZmZXImJmUuY29uc3RydWN0b3IuaXNCdWZmZXIoZSl9LGlzRm9ybURhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJbb2JqZWN0IEZvcm1EYXRhXVwiO3JldHVybiBlJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgRm9ybURhdGEmJmUgaW5zdGFuY2VvZiBGb3JtRGF0YXx8by5jYWxsKGUpPT09dHx8ZyhlLnRvU3RyaW5nKSYmZS50b1N0cmluZygpPT09dCl9LGlzQXJyYXlCdWZmZXJWaWV3OmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyhlKTplJiZlLmJ1ZmZlciYmaChlLmJ1ZmZlcil9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0saXNPYmplY3Q6bCxpc1BsYWluT2JqZWN0OnUsaXNVbmRlZmluZWQ6ZCxpc0RhdGU6cCxpc0ZpbGU6dyxpc0Jsb2I6Zixpc0Z1bmN0aW9uOmcsaXNTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSkmJmcoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6bSxpc1N0YW5kYXJkQnJvd3NlckVudjpmdW5jdGlvbigpe3JldHVybihcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yfHxcIlJlYWN0TmF0aXZlXCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOYXRpdmVTY3JpcHRcIiE9PW5hdmlnYXRvci5wcm9kdWN0JiZcIk5TXCIhPT1uYXZpZ2F0b3IucHJvZHVjdCkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudH0sZm9yRWFjaDp2LG1lcmdlOmZ1bmN0aW9uIGUoKXt2YXIgdD17fTtmdW5jdGlvbiBuKG4saSl7dSh0W2ldKSYmdShuKT90W2ldPWUodFtpXSxuKTp1KG4pP3RbaV09ZSh7fSxuKTpjKG4pP3RbaV09bi5zbGljZSgpOnRbaV09bn1mb3IodmFyIGk9MCxyPWFyZ3VtZW50cy5sZW5ndGg7aTxyO2krKyl2KGFyZ3VtZW50c1tpXSxuKTtyZXR1cm4gdH0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0LChmdW5jdGlvbih0LGkpe2VbaV09biYmXCJmdW5jdGlvblwiPT10eXBlb2YgdD9yKHQsbik6dH0pKSxlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfSxzdHJpcEJPTTpmdW5jdGlvbihlKXtyZXR1cm4gNjUyNzk9PT1lLmNoYXJDb2RlQXQoMCkmJihlPWUuc2xpY2UoMSkpLGV9LGluaGVyaXRzOmZ1bmN0aW9uKGUsdCxuLGkpe2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsaSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxuJiZPYmplY3QuYXNzaWduKGUucHJvdG90eXBlLG4pfSx0b0ZsYXRPYmplY3Q6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbyxzPXt9O3Q9dHx8e307ZG97Zm9yKHI9KGk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkpLmxlbmd0aDtyLS0gPjA7KXNbbz1pW3JdXXx8KHRbb109ZVtvXSxzW29dPSEwKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX13aGlsZShlJiYoIW58fG4oZSx0KSkmJmUhPT1PYmplY3QucHJvdG90eXBlKTtyZXR1cm4gdH0sa2luZE9mOnMsa2luZE9mVGVzdDphLGVuZHNXaXRoOmZ1bmN0aW9uKGUsdCxuKXtlPVN0cmluZyhlKSwodm9pZCAwPT09bnx8bj5lLmxlbmd0aCkmJihuPWUubGVuZ3RoKSxuLT10Lmxlbmd0aDt2YXIgaT1lLmluZGV4T2YodCxuKTtyZXR1cm4tMSE9PWkmJmk9PT1ufSx0b0FycmF5OmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciB0PWUubGVuZ3RoO2lmKGQodCkpcmV0dXJuIG51bGw7Zm9yKHZhciBuPW5ldyBBcnJheSh0KTt0LS0gPjA7KW5bdF09ZVt0XTtyZXR1cm4gbn0saXNUeXBlZEFycmF5OkUsaXNGaWxlTGlzdDp5fX0sMzg4NTooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDk2NTkpLHI9big0OTk5KSxvPW4oNDc5NCk7Y2xhc3MgcyBleHRlbmRzIGkuQmFzZXthc3luYyB3cmFwKGUpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwid3JhcC1hcHBsaWNhdGlvblwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uQXBwbGljYXRpb24odGhpcy53aXJlLGUpfXdyYXBTeW5jKGUpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwid3JhcC1hcHBsaWNhdGlvbi1zeW5jXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9ci52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKHQpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBuZXcgby5BcHBsaWNhdGlvbih0aGlzLndpcmUsZSl9YXN5bmMgX2NyZWF0ZShlKXtyZXR1cm4gdm9pZCAwPT09ZS53YWl0Rm9yUGFnZUxvYWQmJihlLndhaXRGb3JQYWdlTG9hZD0hMSksdm9pZCAwPT09ZS5hdXRvU2hvdyYmdm9pZCAwPT09ZS5pc1BsYXRmb3JtQ29udHJvbGxlciYmKGUuYXV0b1Nob3c9ITApLGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY3JlYXRlLWFwcGxpY2F0aW9uXCIsZSksdGhpcy53cmFwKHt1dWlkOmUudXVpZH0pfWNyZWF0ZShlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRGVwcmVjYXRpb24gV2FybmluZzogZmluLkFwcGxpY2F0aW9uLmNyZWF0ZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpbi5BcHBsaWNhdGlvbi5zdGFydFwiKSx0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLWNyZWF0ZVwiKS5jYXRjaCgoZT0+e30pKSx0aGlzLl9jcmVhdGUoZSl9YXN5bmMgc3RhcnQoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzdGFydC1hcHBsaWNhdGlvblwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHRoaXMuX2NyZWF0ZShlKTtyZXR1cm4gYXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJydW4tYXBwbGljYXRpb25cIix7dXVpZDplLnV1aWR9KSx0fWFzeW5jIHN0YXJ0TWFueU1hbmlmZXN0cyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJydW4tYXBwbGljYXRpb25zXCIse2FwcGxpY2F0aW9uczplfSkudGhlbigoKCk9Pnt9KSl9Z2V0Q3VycmVudCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1jdXJyZW50LWFwcGxpY2F0aW9uXCIpLmNhdGNoKChlPT57fSkpLHRoaXMud3JhcCh7dXVpZDp0aGlzLndpcmUubWUudXVpZH0pfWdldEN1cnJlbnRTeW5jKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWN1cnJlbnQtYXBwbGljYXRpb24tc3luY1wiKS5jYXRjaCgoZT0+e30pKSx0aGlzLndyYXBTeW5jKHt1dWlkOnRoaXMud2lyZS5tZS51dWlkfSl9YXN5bmMgc3RhcnRGcm9tTWFuaWZlc3QoZSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLXN0YXJ0LWZyb20tbWFuaWZlc3RcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLl9jcmVhdGVGcm9tTWFuaWZlc3QoZSk7cmV0dXJuIGF3YWl0IG4uX3J1bih0KSxufWNyZWF0ZUZyb21NYW5pZmVzdChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRGVwcmVjYXRpb24gV2FybmluZzogZmluLkFwcGxpY2F0aW9uLmNyZWF0ZUZyb21NYW5pZmVzdCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdFwiKSx0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLWNyZWF0ZS1mcm9tLW1hbmlmZXN0XCIpLmNhdGNoKChlPT57fSkpLHRoaXMuX2NyZWF0ZUZyb21NYW5pZmVzdChlKX1fY3JlYXRlRnJvbU1hbmlmZXN0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1hcHBsaWNhdGlvbi1tYW5pZmVzdFwiLHttYW5pZmVzdFVybDplfSkudGhlbigoKHtwYXlsb2FkOmV9KT0+e2NvbnN0IHQ9ZS5kYXRhLnBsYXRmb3JtP2UuZGF0YS5wbGF0Zm9ybS51dWlkOmUuZGF0YS5zdGFydHVwX2FwcC51dWlkO3JldHVybiB0aGlzLndyYXAoe3V1aWQ6dH0pfSkpLnRoZW4oKHQ9Pih0Ll9tYW5pZmVzdFVybD1lLHQpKSl9fXQuZGVmYXVsdD1zfSw0Nzk0OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkFwcGxpY2F0aW9uPXZvaWQgMDtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTcpLG89big0MTY5KTtjbGFzcyBzIGV4dGVuZHMgaS5FbWl0dGVyQmFzZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsXCJhcHBsaWNhdGlvblwiLHQudXVpZCksdGhpcy5pZGVudGl0eT10LHRoaXMud2luZG93PW5ldyByLl9XaW5kb3codGhpcy53aXJlLHt1dWlkOnRoaXMuaWRlbnRpdHkudXVpZCxuYW1lOnRoaXMuaWRlbnRpdHkudXVpZH0pfXdpbmRvd0xpc3RGcm9tSWRlbnRpdHlMaXN0KGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e3QucHVzaChuZXcgci5fV2luZG93KHRoaXMud2lyZSx7dXVpZDplLnV1aWQsbmFtZTplLm5hbWV9KSl9KSksdH1pc1J1bm5pbmcoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpcy1hcHBsaWNhdGlvbi1ydW5uaW5nXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgcXVpdChlPSExKXthd2FpdCB0aGlzLl9jbG9zZShlKSxhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImRlc3Ryb3ktYXBwbGljYXRpb25cIix7Zm9yY2U6ZSwuLi50aGlzLmlkZW50aXR5fSl9X2Nsb3NlKGU9ITEpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsb3NlLWFwcGxpY2F0aW9uXCIse2ZvcmNlOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfWNsb3NlKGU9ITEpe3JldHVybiBjb25zb2xlLndhcm4oXCJEZXByZWNhdGlvbiBXYXJuaW5nOiBBcHBsaWNhdGlvbi5jbG9zZSBpcyBkZXByZWNhdGVkIFBsZWFzZSB1c2UgQXBwbGljYXRpb24ucXVpdFwiKSx0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLWNsb3NlXCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksdGhpcy5fY2xvc2UoZSl9Z2V0Q2hpbGRXaW5kb3dzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWNoaWxkLXdpbmRvd3NcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT57Y29uc3QgdD1bXTtyZXR1cm4gZS5kYXRhLmZvckVhY2goKGU9Pnt0LnB1c2goe3V1aWQ6dGhpcy5pZGVudGl0eS51dWlkLG5hbWU6ZX0pfSkpLHRoaXMud2luZG93TGlzdEZyb21JZGVudGl0eUxpc3QodCl9KSl9Z2V0TWFuaWZlc3QoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYXBwbGljYXRpb24tbWFuaWZlc3RcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRQYXJlbnRVdWlkKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXBhcmVudC1hcHBsaWNhdGlvblwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFNob3J0Y3V0cygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1zaG9ydGN1dHNcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1hc3luYyBnZXRWaWV3cygpe2NvbnN0e3BheWxvYWQ6ZX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhcHBsaWNhdGlvbi1nZXQtdmlld3NcIix0aGlzLmlkZW50aXR5KTtyZXR1cm4gZS5kYXRhLm1hcCgoZT0+bmV3IG8uVmlldyh0aGlzLndpcmUsZSkpKX1nZXRab29tTGV2ZWwoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYXBwbGljYXRpb24tem9vbS1sZXZlbFwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFdpbmRvdygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLWdldC13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUodGhpcy53aW5kb3cpfXJlZ2lzdGVyVXNlcihlLHQpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlZ2lzdGVyLXVzZXJcIix7dXNlck5hbWU6ZSxhcHBOYW1lOnQsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfXJlbW92ZVRyYXlJY29uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVtb3ZlLXRyYXktaWNvblwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfXJlc3RhcnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZXN0YXJ0LWFwcGxpY2F0aW9uXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9cnVuKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIkRlcHJlY2F0aW9uIFdhcm5pbmc6IEFwcGxpY2F0aW9uLnJ1biBpcyBkZXByZWNhdGVkIFBsZWFzZSB1c2UgZmluLkFwcGxpY2F0aW9uLnN0YXJ0XCIpLHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiYXBwbGljYXRpb24tcnVuXCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksdGhpcy5fcnVuKCl9X3J1bihlPXt9KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJydW4tYXBwbGljYXRpb25cIix7bWFuaWZlc3RVcmw6dGhpcy5fbWFuaWZlc3RVcmwsb3B0czplLC4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoKT0+e30pKX1zY2hlZHVsZVJlc3RhcnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZWxhdW5jaC1vbi1jbG9zZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWFzeW5jIHNlbmRBcHBsaWNhdGlvbkxvZygpe2NvbnN0e3BheWxvYWQ6ZX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZW5kLWFwcGxpY2F0aW9uLWxvZ1wiLHRoaXMuaWRlbnRpdHkpO3JldHVybiBlLmRhdGF9YXN5bmMgc2V0SnVtcExpc3QoZSl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZXQtanVtcC1saXN0XCIse2NvbmZpZzplLC4uLnRoaXMuaWRlbnRpdHl9KX1zZXRUcmF5SWNvbihlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZXQtdHJheS1pY29uXCIse2VuYWJsZWRJY29uOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfXNldFNob3J0Y3V0cyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZXQtc2hvcnRjdXRzXCIse2RhdGE6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9YXN5bmMgc2V0U2hvcnRjdXRRdWVyeVBhcmFtcyhlKXthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1zaG9ydGN1dC1xdWVyeS1hcmdzXCIse2RhdGE6ZSwuLi50aGlzLmlkZW50aXR5fSl9c2V0Wm9vbUxldmVsKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1hcHBsaWNhdGlvbi16b29tLWxldmVsXCIse2xldmVsOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfWFzeW5jIHNldEFwcExvZ1VzZXJuYW1lKGUpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2V0LWFwcC1sb2ctdXNlcm5hbWVcIix7ZGF0YTplLC4uLnRoaXMuaWRlbnRpdHl9KX1nZXRUcmF5SWNvbkluZm8oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtdHJheS1pY29uLWluZm9cIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX10ZXJtaW5hdGUoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ0ZXJtaW5hdGUtYXBwbGljYXRpb25cIix0aGlzLmlkZW50aXR5KS50aGVuKCgoKT0+e30pKX13YWl0KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2FpdC1mb3ItaHVuZy1hcHBsaWNhdGlvblwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWdldEluZm8oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtaW5mb1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldFByb2Nlc3NJbmZvKCl7Y29uc3R7cGF5bG9hZDp7ZGF0YTplfX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhcHBsaWNhdGlvbi1nZXQtcHJvY2Vzcy1pbmZvXCIsdGhpcy5pZGVudGl0eSk7cmV0dXJuIGV9YXN5bmMgc2V0RmlsZURvd25sb2FkTG9jYXRpb24oZSl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZXQtZmlsZS1kb3dubG9hZC1sb2NhdGlvblwiLHtkb3dubG9hZExvY2F0aW9uOmUsLi4udGhpcy5pZGVudGl0eX0pfX10LkFwcGxpY2F0aW9uPXN9LDcyNjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8dC5oYXNPd25Qcm9wZXJ0eShuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG89bigzODg1KTtyKG4oNDc5NCksdCksdC5kZWZhdWx0PW8uZGVmYXVsdH0sOTY1OTpmdW5jdGlvbihlLHQsbil7dmFyIGkscj10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SZXBseT10LkVtaXR0ZXJCYXNlPXQuQmFzZT12b2lkIDA7Y29uc3Qgcz1uKDM0NDIpLGE9big4MDY4KTtjbGFzcyBje2NvbnN0cnVjdG9yKGUpe3RoaXMuaXNOb2RlRW52aXJvbm1lbnQ9KCk9PlwiTm9kZUVudmlyb25tZW50XCI9PT10aGlzLndpcmUuZW52aXJvbm1lbnQuY29uc3RydWN0b3IubmFtZSx0aGlzLmlzT3BlbkZpbkVudmlyb25tZW50PSgpPT5cIk9wZW5GaW5FbnZpcm9ubWVudFwiPT09dGhpcy53aXJlLmVudmlyb25tZW50LmNvbnN0cnVjdG9yLm5hbWUsdGhpcy53aXJlPWV9Z2V0IGZpbigpe3JldHVybiBhLmdldEZpbih0aGlzLndpcmUpfWdldCBtZSgpe3JldHVybiB0aGlzLndpcmUubWV9fXQuQmFzZT1jLHQuRW1pdHRlckJhc2U9Y2xhc3MgZXh0ZW5kcyBje2NvbnN0cnVjdG9yKGUsdCwuLi5uKXtzdXBlcihlKSx0aGlzLnRvcGljPXQsaS5zZXQodGhpcyx2b2lkIDApLHRoaXMuZXZlbnROYW1lcz0oKT0+dGhpcy5oYXNFbWl0dGVyKCk/dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKS5ldmVudE5hbWVzKCk6W10sdGhpcy5lbWl0PShlLHQsLi4ubik9PiEhdGhpcy5oYXNFbWl0dGVyKCkmJnRoaXMuZ2V0T3JDcmVhdGVFbWl0dGVyKCkuZW1pdChlLHQsLi4ubiksdGhpcy5oYXNFbWl0dGVyPSgpPT50aGlzLndpcmUuZXZlbnRBZ2dyZWdhdG9yLmhhcyhvKHRoaXMsaSkpLHRoaXMuZ2V0T3JDcmVhdGVFbWl0dGVyPSgpPT50aGlzLndpcmUuZXZlbnRBZ2dyZWdhdG9yLmdldE9yQ3JlYXRlKG8odGhpcyxpKSksdGhpcy5saXN0ZW5lcnM9ZT0+dGhpcy5oYXNFbWl0dGVyKCk/dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKS5saXN0ZW5lcnMoZSk6W10sdGhpcy5saXN0ZW5lckNvdW50PWU9PnRoaXMuaGFzRW1pdHRlcigpP3RoaXMuZ2V0T3JDcmVhdGVFbWl0dGVyKCkubGlzdGVuZXJDb3VudChlKTowLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyPWFzeW5jKGUsdD17fSxuLGkpPT57Y29uc3Qgcj17Li4udGhpcy5pZGVudGl0eSx0aW1lc3RhbXA6dC50aW1lc3RhbXB8fERhdGUubm93KCksdG9waWM6dGhpcy50b3BpYyx0eXBlOmV9LG89dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKTtuKG8pO3RyeXthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInN1YnNjcmliZS10by1kZXNrdG9wLWV2ZW50XCIscil9Y2F0Y2goZSl7dGhyb3cgaShvKSx0aGlzLmRlbGV0ZUVtaXR0ZXJJZk5vdGhpbmdSZWdpc3RlcmVkKG8pLGV9fSx0aGlzLmRlcmVnaXN0ZXJFdmVudExpc3RlbmVyPWFzeW5jKGUsdD17fSk9PntpZih0aGlzLmhhc0VtaXR0ZXIoKSl7Y29uc3Qgbj17Li4udGhpcy5pZGVudGl0eSx0aW1lc3RhbXA6dC50aW1lc3RhbXB8fERhdGUubm93KCksdG9waWM6dGhpcy50b3BpYyx0eXBlOmV9O3JldHVybiBhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInVuc3Vic2NyaWJlLXRvLWRlc2t0b3AtZXZlbnRcIixuKS5jYXRjaCgoKCk9Pm51bGwpKSx0aGlzLmdldE9yQ3JlYXRlRW1pdHRlcigpfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdGhpcy5vbj1hc3luYyhlLHQsbik9Pihhd2FpdCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihlLG4sKG49PntuLm9uKGUsdCl9KSwobj0+e24ucmVtb3ZlTGlzdGVuZXIoZSx0KX0pKSx0aGlzKSx0aGlzLmFkZExpc3RlbmVyPXRoaXMub24sdGhpcy5vbmNlPWFzeW5jKGUsdCxuKT0+e2NvbnN0IGk9KCk9PnRoaXMuZGVyZWdpc3RlckV2ZW50TGlzdGVuZXIoZSk7cmV0dXJuIGF3YWl0IHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKGUsbiwobj0+e24ub25jZShlLGkpLG4ub25jZShlLHQpfSksKG49PntuLnJlbW92ZUxpc3RlbmVyKGUsaSksbi5yZW1vdmVMaXN0ZW5lcihlLHQpfSkpLHRoaXN9LHRoaXMucHJlcGVuZExpc3RlbmVyPWFzeW5jKGUsdCxuKT0+KGF3YWl0IHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKGUsbiwobj0+e24ucHJlcGVuZExpc3RlbmVyKGUsdCl9KSwobj0+e24ucmVtb3ZlTGlzdGVuZXIoZSx0KX0pKSx0aGlzKSx0aGlzLnByZXBlbmRPbmNlTGlzdGVuZXI9YXN5bmMoZSx0LG4pPT57Y29uc3QgaT0oKT0+dGhpcy5kZXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihlKTtyZXR1cm4gYXdhaXQgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoZSxuLChuPT57bi5wcmVwZW5kT25jZUxpc3RlbmVyKGUsdCksbi5vbmNlKGUsaSl9KSwobj0+e24ucmVtb3ZlTGlzdGVuZXIoZSx0KSxuLnJlbW92ZUxpc3RlbmVyKGUsaSl9KSksdGhpc30sdGhpcy5yZW1vdmVMaXN0ZW5lcj1hc3luYyhlLHQsbik9Pntjb25zdCBpPWF3YWl0IHRoaXMuZGVyZWdpc3RlckV2ZW50TGlzdGVuZXIoZSxuKTtyZXR1cm4gaSYmKGkucmVtb3ZlTGlzdGVuZXIoZSx0KSx0aGlzLmRlbGV0ZUVtaXR0ZXJJZk5vdGhpbmdSZWdpc3RlcmVkKGkpKSx0aGlzfSx0aGlzLmRlcmVnaXN0ZXJBbGxMaXN0ZW5lcnM9YXN5bmMgZT0+e2NvbnN0IHQ9ey4uLnRoaXMuaWRlbnRpdHksdHlwZTplLHRvcGljOnRoaXMudG9waWN9O2lmKHRoaXMuaGFzRW1pdHRlcigpKXtjb25zdCBlPXRoaXMuZ2V0T3JDcmVhdGVFbWl0dGVyKCksbj1lLmxpc3RlbmVyQ291bnQodC50eXBlKSxpPVtdO2ZvcihsZXQgZT0wO2U8bjtlKyspaS5wdXNoKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidW5zdWJzY3JpYmUtdG8tZGVza3RvcC1ldmVudFwiLHQpLmNhdGNoKCgoKT0+bnVsbCkpKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoaSksZX19LHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzPWFzeW5jIGU9Pntjb25zdCB0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHRoaXMuZGVyZWdpc3RlckFsbExpc3RlbmVycyhlKTt0JiYodC5yZW1vdmVBbGxMaXN0ZW5lcnMoZSksdGhpcy5kZWxldGVFbWl0dGVySWZOb3RoaW5nUmVnaXN0ZXJlZCh0KSl9O2lmKGUpYXdhaXQgdChlKTtlbHNlIGlmKHRoaXMuaGFzRW1pdHRlcigpKXtjb25zdCBlPXRoaXMuZ2V0T3JDcmVhdGVFbWl0dGVyKCkuZXZlbnROYW1lcygpO2F3YWl0IHMucHJvbWlzZU1hcChlLHQpfXJldHVybiB0aGlzfSxyKHRoaXMsaSxbdCwuLi5uXSksdGhpcy5saXN0ZW5lcnM9ZT0+dGhpcy5oYXNFbWl0dGVyKCk/dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKS5saXN0ZW5lcnMoZSk6W119ZGVsZXRlRW1pdHRlcklmTm90aGluZ1JlZ2lzdGVyZWQoZSl7MD09PWUuZXZlbnROYW1lcygpLmxlbmd0aCYmdGhpcy53aXJlLmV2ZW50QWdncmVnYXRvci5kZWxldGUobyh0aGlzLGkpKX19LGk9bmV3IFdlYWtNYXAsdC5SZXBseT1jbGFzc3t9fSwzNDI3OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSk7Y2xhc3MgciBleHRlbmRzIGkuQmFzZXt3cml0ZVRleHQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXdyaXRlLXRleHRcIixlKS50aGVuKCgoKT0+e30pKX1yZWFkVGV4dChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjbGlwYm9hcmQtcmVhZC10ZXh0XCIsZSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9d3JpdGVIdG1sKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsaXBib2FyZC13cml0ZS1odG1sXCIsZSkudGhlbigoKCk9Pnt9KSl9cmVhZEh0bWwoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXJlYWQtaHRtbFwiLGUpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXdyaXRlUnRmKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsaXBib2FyZC13cml0ZS1ydGZcIixlKS50aGVuKCgoKT0+e30pKX1yZWFkUnRmKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsaXBib2FyZC1yZWFkLXJ0ZlwiLGUpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXdyaXRlKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsaXBib2FyZC13cml0ZVwiLGUpLnRoZW4oKCgpPT57fSkpfWdldEF2YWlsYWJsZUZvcm1hdHMoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXJlYWQtZm9ybWF0c1wiLGUpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfX10LmRlZmF1bHQ9cn0sNzgxMzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5FbWl0dGVyTWFwPXZvaWQgMDtjb25zdCBpPW4oNjQ2NSk7ZnVuY3Rpb24gcihlKXtyZXR1cm4gQnVmZmVyLmZyb20oZSkudG9TdHJpbmcoXCJiYXNlNjRcIil9dC5FbWl0dGVyTWFwPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zdG9yYWdlPW5ldyBNYXB9aGFzaEtleXMoZSl7cmV0dXJuIGUubWFwKHIpLmpvaW4oXCIvXCIpfWdldE9yQ3JlYXRlKGUpe2NvbnN0IHQ9dGhpcy5oYXNoS2V5cyhlKTtyZXR1cm4gdGhpcy5zdG9yYWdlLmhhcyh0KXx8dGhpcy5zdG9yYWdlLnNldCh0LG5ldyBpLkV2ZW50RW1pdHRlciksdGhpcy5zdG9yYWdlLmdldCh0KX1oYXMoZSl7cmV0dXJuIHRoaXMuc3RvcmFnZS5oYXModGhpcy5oYXNoS2V5cyhlKSl9ZGVsZXRlKGUpe2NvbnN0IHQ9dGhpcy5oYXNoS2V5cyhlKTtyZXR1cm4gdGhpcy5zdG9yYWdlLmRlbGV0ZSh0KX19fSwyNzM0OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oNzgxMyk7Y2xhc3MgciBleHRlbmRzIGkuRW1pdHRlck1hcHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5kaXNwYXRjaEV2ZW50PWU9PntpZihmdW5jdGlvbihlKXtyZXR1cm5cInByb2Nlc3MtZGVza3RvcC1ldmVudFwiPT09ZS5hY3Rpb259KGUpKXtjb25zdHtwYXlsb2FkOnR9PWUsbj1mdW5jdGlvbihlKXtjb25zdHt0b3BpYzp0fT1lO2lmKFwiZnJhbWVcIj09PXQpe2NvbnN0e3V1aWQ6bixuYW1lOml9PWU7cmV0dXJuW3QsbixpXX1pZihcIndpbmRvd1wiPT09dCl7Y29uc3R7dXVpZDpuLG5hbWU6aX09ZTtyZXR1cm5bdCxuLGldfWlmKFwiYXBwbGljYXRpb25cIj09PXQpe2NvbnN0e3V1aWQ6bn09ZTtyZXR1cm5bdCxuXX1pZihcInZpZXdcIj09PXQpe2NvbnN0e3V1aWQ6bixuYW1lOml9PWU7cmV0dXJuW3QsbixpXX1yZXR1cm5bdF19KHQpO2lmKHRoaXMuaGFzKG4pKXJldHVybiB0aGlzLmdldE9yQ3JlYXRlKG4pLmVtaXQodC50eXBlLHQpLCEwfXJldHVybiExfX19dC5kZWZhdWx0PXJ9LDcxNjg6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KSxyPW4oODI5OCk7Y2xhc3MgbyBleHRlbmRzIGkuQmFzZXt3cmFwKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImV4dGVybmFsLWFwcGxpY2F0aW9uLXdyYXBcIikuY2F0Y2goKGU9Pnt9KSksUHJvbWlzZS5yZXNvbHZlKG5ldyByLkV4dGVybmFsQXBwbGljYXRpb24odGhpcy53aXJlLHt1dWlkOmV9KSl9d3JhcFN5bmMoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZXh0ZXJuYWwtYXBwbGljYXRpb24td3JhcC1zeW5jXCIpLmNhdGNoKChlPT57fSkpLG5ldyByLkV4dGVybmFsQXBwbGljYXRpb24odGhpcy53aXJlLHt1dWlkOmV9KX19dC5kZWZhdWx0PW99LDgyOTg6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRXh0ZXJuYWxBcHBsaWNhdGlvbj12b2lkIDA7Y29uc3QgaT1uKDk2NTkpO2NsYXNzIHIgZXh0ZW5kcyBpLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxcImV4dGVybmFsLWFwcGxpY2F0aW9uXCIsdC51dWlkKSx0aGlzLmlkZW50aXR5PXR9Z2V0SW5mbygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1leHRlcm5hbC1hcHBsaWNhdGlvbi1pbmZvXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9fXQuRXh0ZXJuYWxBcHBsaWNhdGlvbj1yfSw5MDIxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oNzE2OCk7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oODI5OCksdCl9LDY1NDU6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big2NDY1KSxyPW4oMzY0MSksbz1uKDQ5OTcpLHM9big3MjY0KSxhPW4oODM0NyksYz1uKDM0MjcpLGQ9big5MDIxKSxoPW4oNjcyMCksbD1uKDkyMTEpLHU9big0MTY5KSxwPW4oNjA5KSx3PW4oOTY0MSksZj1uKDgwNjgpLHk9big4NzA2KSxnPW4oNzE1Myk7Y2xhc3MgbSBleHRlbmRzIGkuRXZlbnRFbWl0dGVye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksZi5yZWdpc3RlckZpbihlLHRoaXMpLHRoaXMud2lyZT1lLHRoaXMuU3lzdGVtPW5ldyByLmRlZmF1bHQoZSksdGhpcy5XaW5kb3c9bmV3IG8uZGVmYXVsdChlKSx0aGlzLkFwcGxpY2F0aW9uPW5ldyBzLmRlZmF1bHQoZSksdGhpcy5JbnRlckFwcGxpY2F0aW9uQnVzPW5ldyBhLmRlZmF1bHQoZSksdGhpcy5DbGlwYm9hcmQ9bmV3IGMuZGVmYXVsdChlKSx0aGlzLkV4dGVybmFsQXBwbGljYXRpb249bmV3IGQuZGVmYXVsdChlKSx0aGlzLkZyYW1lPW5ldyBoLmRlZmF1bHQoZSksdGhpcy5HbG9iYWxIb3RrZXk9bmV3IGwuZGVmYXVsdChlKSx0aGlzLlBsYXRmb3JtPW5ldyBwLmRlZmF1bHQoZSx0aGlzLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbCksdGhpcy5WaWV3PW5ldyB1LmRlZmF1bHQoZSksdGhpcy5JbnRlcm9wPW5ldyB5LmRlZmF1bHQoZSksdGhpcy5TbmFwc2hvdFNvdXJjZT1uZXcgZy5kZWZhdWx0KGUpLHRoaXMubWU9dy5nZXRNZShlKSxlLm9uKFwiZGlzY29ubmVjdGVkXCIsKCgpPT57dGhpcy5lbWl0KFwiZGlzY29ubmVjdGVkXCIpfSkpfX10LmRlZmF1bHQ9bX0sMTc3ODooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDk2NTkpLHI9big0OTk5KSxvPW4oODE2MSk7Y2xhc3MgcyBleHRlbmRzIGkuQmFzZXthc3luYyB3cmFwKGUpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiZnJhbWUtd3JhcFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uX0ZyYW1lKHRoaXMud2lyZSxlKX13cmFwU3luYyhlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImZyYW1lLXdyYXAtc3luY1wiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uX0ZyYW1lKHRoaXMud2lyZSxlKX1nZXRDdXJyZW50KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZnJhbWUtZ2V0LWN1cnJlbnRcIikuY2F0Y2goKGU9Pnt9KSksUHJvbWlzZS5yZXNvbHZlKG5ldyBvLl9GcmFtZSh0aGlzLndpcmUsdGhpcy53aXJlLmVudmlyb25tZW50LmdldEN1cnJlbnRFbnRpdHlJZGVudGl0eSgpKSl9Z2V0Q3VycmVudFN5bmMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJmcmFtZS1nZXQtY3VycmVudC1zeW5jXCIpLmNhdGNoKChlPT57fSkpLG5ldyBvLl9GcmFtZSh0aGlzLndpcmUsdGhpcy53aXJlLmVudmlyb25tZW50LmdldEN1cnJlbnRFbnRpdHlJZGVudGl0eSgpKX19dC5kZWZhdWx0PXN9LDgxNjE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuX0ZyYW1lPXZvaWQgMDtjb25zdCBpPW4oOTY1OSk7Y2xhc3MgciBleHRlbmRzIGkuRW1pdHRlckJhc2V7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLFwiZnJhbWVcIix0LnV1aWQsdC5uYW1lKSx0aGlzLmlkZW50aXR5PXR9Z2V0SW5mbygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1mcmFtZS1pbmZvXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0UGFyZW50V2luZG93KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXBhcmVudC13aW5kb3dcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX19dC5fRnJhbWU9cn0sNjcyMDpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHx0Lmhhc093blByb3BlcnR5KG4pfHxpKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbz1uKDE3NzgpO3QuZGVmYXVsdD1vLmRlZmF1bHQscihuKDgxNjEpLHQpfSw5MjExOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSk7Y2xhc3MgciBleHRlbmRzIGkuRW1pdHRlckJhc2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxcImdsb2JhbC1ob3RrZXlcIil9YXN5bmMgcmVnaXN0ZXIoZSx0KXthd2FpdCB0aGlzLm9uKGUsdCksYXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnbG9iYWwtaG90a2V5LXJlZ2lzdGVyXCIse2hvdGtleTplfSl9YXN5bmMgdW5yZWdpc3RlcihlKXthd2FpdCB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhlKSxhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdsb2JhbC1ob3RrZXktdW5yZWdpc3RlclwiLHtob3RrZXk6ZX0pfWFzeW5jIHVucmVnaXN0ZXJBbGwoKXthd2FpdCBQcm9taXNlLmFsbCh0aGlzLmV2ZW50TmFtZXMoKS5maWx0ZXIoKGU9PiEoXCJyZWdpc3RlcmVkXCI9PT1lfHxcInVucmVnaXN0ZXJlZFwiPT09ZSkpKS5tYXAoKGU9PnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpKSkpLGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2xvYmFsLWhvdGtleS11bnJlZ2lzdGVyLWFsbFwiLHt9KX1hc3luYyBpc1JlZ2lzdGVyZWQoZSl7Y29uc3R7cGF5bG9hZDp7ZGF0YTp0fX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnbG9iYWwtaG90a2V5LWlzLXJlZ2lzdGVyZWRcIix7aG90a2V5OmV9KTtyZXR1cm4gdH19dC5kZWZhdWx0PXJ9LDc1Mzk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNoYW5uZWxCYXNlPXQuUHJvdGVjdGVkSXRlbXM9dm9pZCAwO2NvbnN0IG49ZT0+KHQsbixpKT0+e2NvbnN0IHI9ZSh0LG4saSk7cmV0dXJuIHZvaWQgMD09PXI/bjpyfTt0LlByb3RlY3RlZEl0ZW1zPWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm92aWRlcklkZW50aXR5PWUsdGhpcy53aXJlPXR9fTtjbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJzY3JpcHRpb25zPW5ldyBNYXB9c3RhdGljIGRlZmF1bHRBY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGBObyBhY3Rpb24gcmVnaXN0ZXJlZCBhdCB0YXJnZXQgZm9yICR7ZX1gKX1hc3luYyBwcm9jZXNzQWN0aW9uKGUsdCxuKXt0cnl7Y29uc3Qgcj10aGlzLnN1YnNjcmlwdGlvbnMuaGFzKGUpP3RoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSk6KHQsbik9Pnt2YXIgcjtyZXR1cm4obnVsbCE9PShyPXRoaXMuZGVmYXVsdEFjdGlvbikmJnZvaWQgMCE9PXI/cjppLmRlZmF1bHRBY3Rpb24pKGUsdCxuKX0sbz10aGlzLnByZUFjdGlvbj9hd2FpdCB0aGlzLnByZUFjdGlvbihlLHQsbik6dCxzPWF3YWl0IHIobyxuKTtyZXR1cm4gdGhpcy5wb3N0QWN0aW9uP2F3YWl0IHRoaXMucG9zdEFjdGlvbihlLHMsbik6c31jYXRjaCh0KXtpZih0aGlzLmVycm9yTWlkZGxld2FyZSlyZXR1cm4gdGhpcy5lcnJvck1pZGRsZXdhcmUoZSx0LG4pO3Rocm93IHR9fWJlZm9yZUFjdGlvbihlKXtpZih0aGlzLnByZUFjdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHJlZ2lzdGVyZWQgYmVmb3JlQWN0aW9uIG1pZGRsZXdhcmVcIik7dGhpcy5wcmVBY3Rpb249bihlKX1vbkVycm9yKGUpe2lmKHRoaXMuZXJyb3JNaWRkbGV3YXJlKXRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgcmVnaXN0ZXJlZCBlcnJvciBtaWRkbGV3YXJlXCIpO3RoaXMuZXJyb3JNaWRkbGV3YXJlPWV9YWZ0ZXJBY3Rpb24oZSl7aWYodGhpcy5wb3N0QWN0aW9uKXRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgcmVnaXN0ZXJlZCBhZnRlckFjdGlvbiBtaWRkbGV3YXJlXCIpO3RoaXMucG9zdEFjdGlvbj1uKGUpfXJlbW92ZShlKXt0aGlzLnN1YnNjcmlwdGlvbnMuZGVsZXRlKGUpfXNldERlZmF1bHRBY3Rpb24oZSl7aWYodGhpcy5kZWZhdWx0QWN0aW9uKXRocm93IG5ldyBFcnJvcihcImRlZmF1bHQgYWN0aW9uIGNhbiBvbmx5IGJlIHNldCBvbmNlXCIpO3RoaXMuZGVmYXVsdEFjdGlvbj1lfXJlZ2lzdGVyKGUsdCl7aWYodGhpcy5zdWJzY3JpcHRpb25zLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoYFN1YnNjcmlwdGlvbiBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yIGFjdGlvbjogJHtlfS4gVW5zdWJzY3JpYmUgYmVmb3JlIGFkZGluZyBuZXcgc3Vic2NyaXB0aW9uYCk7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQoZSx0KSwhMH19dC5DaGFubmVsQmFzZT1pfSw4Mzc4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG8scz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sYT10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgYz1uKDc1MzkpLGQ9bmV3IE1hcDtjbGFzcyBoIGV4dGVuZHMgYy5DaGFubmVsQmFzZXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSxpLnNldCh0aGlzLHZvaWQgMCksci5zZXQodGhpcyx2b2lkIDApLHRoaXMucHJvY2Vzc0FjdGlvbj0oZSx0LG4pPT5zdXBlci5wcm9jZXNzQWN0aW9uKGUsdCxuKSxvLnNldCh0aGlzLCgoKT0+e2QuZGVsZXRlKHRoaXMuZW5kcG9pbnRJZCksYSh0aGlzLHIpLmNsb3NlKCl9KSkscyh0aGlzLGksbmV3IGMuUHJvdGVjdGVkSXRlbXMoZSx0KSksdGhpcy5kaXNjb25uZWN0TGlzdGVuZXI9KCk9Pnt9LHRoaXMuZW5kcG9pbnRJZD1lLmVuZHBvaW50SWQscyh0aGlzLHIsbiksZC5zZXQodGhpcy5lbmRwb2ludElkLHRoaXMpLG4ucmVjZWl2ZSh0aGlzLnByb2Nlc3NBY3Rpb24pfXN0YXRpYyBjbG9zZUNoYW5uZWxCeUVuZHBvaW50SWQoZSl7Y29uc3QgdD1kLmdldChlKTt0JiZhKHQsbykuY2FsbCh0KX1zdGF0aWMgaGFuZGxlUHJvdmlkZXJEaXNjb25uZWN0KGUsdCl7ZS5kaXNjb25uZWN0TGlzdGVuZXIodCksYShlLG8pLmNhbGwoZSl9Z2V0IHByb3ZpZGVySWRlbnRpdHkoKXtyZXR1cm4gYSh0aGlzLGkpLnByb3ZpZGVySWRlbnRpdHl9YXN5bmMgZGlzcGF0Y2goZSx0KXtpZihhKHRoaXMscikuaXNFbmRwb2ludENvbm5lY3RlZCh0aGlzLnByb3ZpZGVySWRlbnRpdHkuY2hhbm5lbElkKSlyZXR1cm4gYSh0aGlzLHIpLnNlbmQodGhpcy5wcm92aWRlcklkZW50aXR5LmNoYW5uZWxJZCxlLHQpO3Rocm93IG5ldyBFcnJvcihcIlRoZSBjbGllbnQgeW91IGFyZSB0cnlpbmcgdG8gZGlzcGF0Y2ggZnJvbSBpcyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgdGFyZ2V0IHByb3ZpZGVyLlwiKX1vbkRpc2Nvbm5lY3Rpb24oZSl7dGhpcy5kaXNjb25uZWN0TGlzdGVuZXI9dD0+e3RyeXtlKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgRXJyb3Igd2hpbGUgY2FsbGluZyB0aGUgb25EaXNjb25uZWN0aW9uIGNhbGxiYWNrOiAke2UubWVzc2FnZX1gKX1maW5hbGx5e3RoaXMuZGlzY29ubmVjdExpc3RlbmVyPSgpPT57fX19fWFzeW5jIGRpc2Nvbm5lY3QoKXtjb25zdCBlPWEodGhpcyxpKSx7Y2hhbm5lbE5hbWU6dCx1dWlkOm4sbmFtZTpyfT1lLnByb3ZpZGVySWRlbnRpdHk7YXdhaXQgZS53aXJlLnNlbmRBY3Rpb24oXCJkaXNjb25uZWN0LWZyb20tY2hhbm5lbFwiLHtjaGFubmVsTmFtZTp0LHV1aWQ6bixuYW1lOnIsZW5kcG9pbnRJZDp0aGlzLmVuZHBvaW50SWR9KSxhKHRoaXMsbykuY2FsbCh0aGlzKX19dC5kZWZhdWx0PWgsaT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwLG89bmV3IFdlYWtNYXB9LDY3MTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0scz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db25uZWN0aW9uTWFuYWdlcj12b2lkIDA7Y29uc3QgYT1uKDM5MTcpLGM9big5NjU5KSxkPW4oMTA0NiksaD1uKDM4NzApLGw9big1NjkpLHU9bigyOTQyKSxwPW4oMzc0OSksdz1uKDMwMzcpLGY9big3MTEzKTtjbGFzcyB5IGV4dGVuZHMgYy5CYXNle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLGkuc2V0KHRoaXMsdm9pZCAwKSxyLnNldCh0aGlzLHZvaWQgMCksdGhpcy5yZW1vdmVDaGFubmVsRnJvbVByb3ZpZGVyTWFwPWU9Pnt0aGlzLnByb3ZpZGVyTWFwLmRlbGV0ZShlKX0sdGhpcy5vbm1lc3NhZ2U9ZT0+XCJwcm9jZXNzLWNoYW5uZWwtY29ubmVjdGlvblwiPT09ZS5hY3Rpb24mJih0aGlzLnByb2Nlc3NDaGFubmVsQ29ubmVjdGlvbihlKSwhMCksdGhpcy5wcm92aWRlck1hcD1uZXcgTWFwLHRoaXMucHJvdG9jb2xNYW5hZ2VyPW5ldyB3LlByb3RvY29sTWFuYWdlcih0aGlzLmlzTm9kZUVudmlyb25tZW50KCk/W1wiY2xhc3NpY1wiXTpbXCJydGNcIixcImNsYXNzaWNcIl0pLG8odGhpcyxpLG5ldyBwLk1lc3NhZ2VSZWNlaXZlcihlKSksbyh0aGlzLHIsbmV3IGwuUlRDSUNFTWFuYWdlcihlKSksZS5yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKHRoaXMub25tZXNzYWdlLmJpbmQodGhpcykpfXN0YXRpYyBnZXRQcm90b2NvbE9wdGlvbnNGcm9tU3RyaW5ncyhlKXtyZXR1cm4gZS5tYXAoKGU9Pntzd2l0Y2goZSl7Y2FzZVwicnRjXCI6cmV0dXJuIGguUlRDSW5mbztjYXNlXCJjbGFzc2ljXCI6cmV0dXJuIGQuQ2xhc3NpY0luZm87ZGVmYXVsdDpyZXR1cm4gYS5leGhhdXN0aXZlQ2hlY2soZSxbXCJydGNcIixcImNsYXNzaWNcIl0pfX0pKX1jcmVhdGVQcm92aWRlcihlLHQpe2NvbnN0IG49T2JqZWN0LmFzc2lnbih0aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0RGVmYXVsdENoYW5uZWxPcHRpb25zKCkuY3JlYXRlLGV8fHt9KSxyPXRoaXMucHJvdG9jb2xNYW5hZ2VyLmdldFByb3ZpZGVyUHJvdG9jb2xzKG51bGw9PW4/dm9pZCAwOm4ucHJvdG9jb2xzKSxvPXIubWFwKChlPT57c3dpdGNoKGUpe2Nhc2VcInJ0Y1wiOnJldHVybiBuZXcgaC5SVENTdHJhdGVneTtjYXNlXCJjbGFzc2ljXCI6cmV0dXJuIG5ldyBkLkNsYXNzaWNTdHJhdGVneSh0aGlzLndpcmUscyh0aGlzLGkpLHQuY2hhbm5lbElkLHQpO2RlZmF1bHQ6cmV0dXJuIGEuZXhoYXVzdGl2ZUNoZWNrKGUsW1wicnRjXCIsXCJjbGFzc2ljXCJdKX19KSk7bGV0IGM7aWYoMj09PW8ubGVuZ3RoKXtjb25zdFtlLHRdPW87Yz1mLmRlZmF1bHQuY29tYmluZShlLHQpfWVsc2V7aWYoMSE9PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBjb21iaW5lIHN0cmF0ZWdpZXNcIik7W2NdPW99Y29uc3QgbD1uZXcgdS5DaGFubmVsUHJvdmlkZXIodCx0aGlzLndpcmUsYykscD10LmNoYW5uZWxJZDtyZXR1cm4gdGhpcy5wcm92aWRlck1hcC5zZXQocCx7cHJvdmlkZXI6bCxzdHJhdGVneTpjLHN1cHBvcnRlZFByb3RvY29sczp5LmdldFByb3RvY29sT3B0aW9uc0Zyb21TdHJpbmdzKHIpfSksdS5DaGFubmVsUHJvdmlkZXIuc2V0UHJvdmlkZXJSZW1vdmFsKGwsdGhpcy5yZW1vdmVDaGFubmVsRnJvbVByb3ZpZGVyTWFwLmJpbmQodGhpcykpLGx9YXN5bmMgY3JlYXRlQ2xpZW50T2ZmZXIoZSl7Y29uc3QgdD10aGlzLnByb3RvY29sTWFuYWdlci5nZXRDbGllbnRQcm90b2NvbHMobnVsbD09ZT92b2lkIDA6ZS5wcm90b2NvbHMpO2xldCBuO3JldHVybntvZmZlcjp7c3VwcG9ydGVkUHJvdG9jb2xzOmF3YWl0IFByb21pc2UuYWxsKHQubWFwKChhc3luYyBlPT57c3dpdGNoKGUpe2Nhc2VcInJ0Y1wiOntjb25zdHtydGNDbGllbnQ6ZSxjaGFubmVsczp0LG9mZmVyOmkscnRjQ29ubmVjdGlvbklkOm8sY2hhbm5lbHNPcGVuZWQ6YX09YXdhaXQgcyh0aGlzLHIpLnN0YXJ0Q2xpZW50T2ZmZXIoKTtyZXR1cm4gbj17cnRjQ2xpZW50OmUsY2hhbm5lbHM6dCxjaGFubmVsc09wZW5lZDphfSx7dHlwZTpcInJ0Y1wiLHZlcnNpb246aC5SVENJbmZvLnZlcnNpb24scGF5bG9hZDp7b2ZmZXI6aSxydGNDb25uZWN0aW9uSWQ6b319fWNhc2VcImNsYXNzaWNcIjpyZXR1cm57dHlwZTpcImNsYXNzaWNcIix2ZXJzaW9uOmQuQ2xhc3NpY0luZm8udmVyc2lvbn07ZGVmYXVsdDpyZXR1cm4gYS5leGhhdXN0aXZlQ2hlY2soZSxbXCJydGNcIixcImNsYXNzaWNcIl0pfX0pKSksbWF4UHJvdG9jb2xzOjJ9LHJ0YzpufX1hc3luYyBjcmVhdGVDbGllbnRTdHJhdGVneShlLHQpe3ZhciBuO3QuZW5kcG9pbnRJZHx8KHQuZW5kcG9pbnRJZD10aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0TmV4dE1lc3NhZ2VJZCgpLHModGhpcyxpKS5jaGVja0ZvclByZXZpb3VzQ2xpZW50Q29ubmVjdGlvbih0LmNoYW5uZWxJZCkpO2NvbnN0IG89bnVsbCE9PShuPXQuYW5zd2VyKSYmdm9pZCAwIT09bj9uOntzdXBwb3J0ZWRQcm90b2NvbHM6W3t0eXBlOlwiY2xhc3NpY1wiLHZlcnNpb246MX1dfSxhPShhd2FpdCBQcm9taXNlLmFsbChvLnN1cHBvcnRlZFByb3RvY29scy5tYXAoKGFzeW5jIG49PlwicnRjXCI9PT1uLnR5cGUmJmU/KGF3YWl0IHModGhpcyxyKS5maW5pc2hDbGllbnRPZmZlcihlLnJ0Y0NsaWVudCxuLnBheWxvYWQuYW5zd2VyLGUuY2hhbm5lbHNPcGVuZWQpLG5ldyBoLlJUQ1N0cmF0ZWd5KTpcImNsYXNzaWNcIj09PW4udHlwZT9uZXcgZC5DbGFzc2ljU3RyYXRlZ3kodGhpcy53aXJlLHModGhpcyxpKSx0LmVuZHBvaW50SWQsdCk6bnVsbCkpKSkuZmlsdGVyKChlPT5udWxsIT09ZSkpO2xldCBjO2lmKGUmJiFhLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBoLlJUQ1N0cmF0ZWd5KSkmJmUmJmUucnRjQ2xpZW50LmNsb3NlKCksYS5sZW5ndGg+PTIpYz1mLmRlZmF1bHQuY29tYmluZShhWzBdLGFbMV0pO2Vsc2V7aWYoIWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vIGNvbXBhdGlibGUgcHJvdG9jb2xzXCIpO1tjXT1hfWNvbnN0IGw9e2VuZHBvaW50SWRlbnRpdHk6dCxydGM6ZX07cmV0dXJuIGMuYWRkRW5kcG9pbnQodC5jaGFubmVsSWQsbCksY31hc3luYyBwcm9jZXNzQ2hhbm5lbENvbm5lY3Rpb24oZSl7Y29uc3R7Y2xpZW50SWRlbnRpdHk6dCxwcm92aWRlcklkZW50aXR5Om4sYWNrVG9TZW5kZXI6aSxwYXlsb2FkOm8sb2ZmZXI6YX09ZS5wYXlsb2FkO3QuZW5kcG9pbnRJZD90LmlzTG9jYWxFbmRwb2ludElkPSExOih0LmVuZHBvaW50SWQ9dGhpcy53aXJlLmVudmlyb25tZW50LmdldE5leHRNZXNzYWdlSWQoKSx0LmlzTG9jYWxFbmRwb2ludElkPSEwKTtjb25zdCBjPW4uY2hhbm5lbElkLGw9dGhpcy5wcm92aWRlck1hcC5nZXQoYyk7aWYoIWwpcmV0dXJuIGkucGF5bG9hZC5zdWNjZXNzPSExLGkucGF5bG9hZC5yZWFzb249YENoYW5uZWwgXCIke24uY2hhbm5lbE5hbWV9XCIgaGFzIGJlZW4gZGVzdHJveWVkLmAsdGhpcy53aXJlLnNlbmRSYXcoaSk7Y29uc3R7cHJvdmlkZXI6cCxzdHJhdGVneTp3LHN1cHBvcnRlZFByb3RvY29sczpmfT1sO3RyeXtpZighKHAgaW5zdGFuY2VvZiB1LkNoYW5uZWxQcm92aWRlcikpdGhyb3cgRXJyb3IoXCJDYW5ub3QgY29ubmVjdCB0byBhIGNoYW5uZWwgY2xpZW50XCIpO2NvbnN0IGU9bnVsbCE9YT9hOntzdXBwb3J0ZWRQcm90b2NvbHM6W3t0eXBlOlwiY2xhc3NpY1wiLHZlcnNpb246MX1dLG1heFByb3RvY29sczoxfSxuPXRoaXMucHJvdG9jb2xNYW5hZ2VyLmdldENvbXBhdGlibGVQcm90b2NvbHMoZixlKTtpZighbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IGFueSBvZiB0aGUgb2ZmZXJlZCBwcm90b2NvbHMuXCIpO2NvbnN0IGM9YXdhaXQgcC5wcm9jZXNzQ29ubmVjdGlvbih0LG8pO2kucGF5bG9hZC5wYXlsb2FkPWkucGF5bG9hZC5wYXlsb2FkfHx7fTtsZXQgbD17c3VwcG9ydGVkUHJvdG9jb2xzOltdLGVuZHBvaW50UGF5bG9hZFByb21pc2U6UHJvbWlzZS5yZXNvbHZlKHtlbmRwb2ludElkZW50aXR5OnR9KX07cmV0dXJuIGw9YXdhaXQgbi5yZWR1Y2UoKGFzeW5jKGUsdCk9Pntjb25zdCBuPWF3YWl0IGU7aWYoXCJydGNcIj09PXQudHlwZSl7Y29uc3R7YW5zd2VyOmUscnRjQ2xpZW50OmksY2hhbm5lbHM6b309YXdhaXQgcyh0aGlzLHIpLmNyZWF0ZVByb3ZpZGVyQW5zd2VyKHQucGF5bG9hZC5ydGNDb25uZWN0aW9uSWQsdC5wYXlsb2FkLm9mZmVyKTtuLnN1cHBvcnRlZFByb3RvY29scy5wdXNoKHt0eXBlOlwicnRjXCIsdmVyc2lvbjpoLlJUQ0luZm8udmVyc2lvbixwYXlsb2FkOnthbnN3ZXI6ZX19KSxuLmVuZHBvaW50UGF5bG9hZFByb21pc2U9bi5lbmRwb2ludFBheWxvYWRQcm9taXNlLnRoZW4oKGU9Pm8udGhlbigodD0+KHsuLi5lLHJ0Yzp7cnRjQ2xpZW50OmksY2hhbm5lbHM6dH19KSkpKSl9ZWxzZSBuLnN1cHBvcnRlZFByb3RvY29scy5wdXNoKHt0eXBlOlwiY2xhc3NpY1wiLHZlcnNpb246ZC5DbGFzc2ljSW5mby52ZXJzaW9ufSk7cmV0dXJuIG59KSxQcm9taXNlLnJlc29sdmUobCkpLGwuZW5kcG9pbnRQYXlsb2FkUHJvbWlzZS50aGVuKChlPT53LmFkZEVuZHBvaW50KHQuZW5kcG9pbnRJZCxlKSkpLGkucGF5bG9hZC5wYXlsb2FkLnJlc3VsdD1jLGkucGF5bG9hZC5wYXlsb2FkLmFuc3dlcj1sLHRoaXMud2lyZS5zZW5kUmF3KGkpfWNhdGNoKGUpe3JldHVybiBpLnBheWxvYWQuc3VjY2Vzcz0hMSxpLnBheWxvYWQucmVhc29uPWUubWVzc2FnZSx0aGlzLndpcmUuc2VuZFJhdyhpKX19fXQuQ29ubmVjdGlvbk1hbmFnZXI9eSxpPW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXB9LDc3MjI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59LG89dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhbm5lbD12b2lkIDA7Y29uc3Qgcz1uKDgzNzgpLGE9bigyOTQyKSxjPW4oOTY1OSksZD1uKDY3MTEpLGg9KCk9Pnt9O2NsYXNzIGwgZXh0ZW5kcyBjLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsXCJjaGFubmVsXCIpLGkuc2V0KHRoaXMsdm9pZCAwKSxyKHRoaXMsaSxuZXcgZC5Db25uZWN0aW9uTWFuYWdlcihlKSl9YXN5bmMgZ2V0QWxsQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWNoYW5uZWxzXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIG9uQ2hhbm5lbENvbm5lY3QoZSl7YXdhaXQgdGhpcy5vbihcImNvbm5lY3RlZFwiLGUpfWFzeW5jIG9uQ2hhbm5lbERpc2Nvbm5lY3QoZSl7YXdhaXQgdGhpcy5vbihcImRpc2Nvbm5lY3RlZFwiLGUpfWFzeW5jIGNvbm5lY3QoZSx0KXtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBjaGFubmVsTmFtZSBzdHJpbmcgdG8gY29ubmVjdCB0byBhIGNoYW5uZWwuXCIpO2NvbnN0IG49T2JqZWN0LmFzc2lnbih0aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0RGVmYXVsdENoYW5uZWxPcHRpb25zKCkuY29ubmVjdCx0fHx7fSk7bGV0IHI9aCxhPWg7Y29uc3QgYz1uZXcgUHJvbWlzZSgodD0+e3I9dCxhPWk9PntlPT09aS5jaGFubmVsTmFtZSYmKHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJjb25uZWN0ZWRcIixhKSx0KHRoaXMuY29ubmVjdChlLG4pKSl9LHRoaXMub24oXCJjb25uZWN0ZWRcIixhKX0pKTt0cnl7Y29uc3R7b2ZmZXI6dCxydGM6Y309YXdhaXQgbyh0aGlzLGkpLmNyZWF0ZUNsaWVudE9mZmVyKG4pLGQ9YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjb25uZWN0LXRvLWNoYW5uZWxcIix7Y2hhbm5lbE5hbWU6ZSwuLi5uLG9mZmVyOnR9KSx7cGF5bG9hZDp7ZGF0YTpofX09ZDtyJiZyKCksdGhpcy5yZW1vdmVMaXN0ZW5lcihcImNvbm5lY3RlZFwiLGEpO2NvbnN0IGw9YXdhaXQgbyh0aGlzLGkpLmNyZWF0ZUNsaWVudFN0cmF0ZWd5KGMsaCksdT1uZXcgcy5kZWZhdWx0KGgsdGhpcy53aXJlLGwpO3JldHVybiBsLm9uRW5kcG9pbnREaXNjb25uZWN0KGguY2hhbm5lbElkLChhc3luYygpPT57dHJ5e2F3YWl0IHUuZGlzY29ubmVjdCgpfWNhdGNoKGUpe2NvbnNvbGUud2FybihgU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIGRpc2Nvbm5lY3QgZm9yIGNsaWVudCB3aXRoIHV1aWQ6ICR7aC51dWlkfSAvIG5hbWU6ICR7aC5uYW1lfSAvIGVuZHBvaW50SWQ6ICR7aC5lbmRwb2ludElkfS5gKX1maW5hbGx5e3MuZGVmYXVsdC5oYW5kbGVQcm92aWRlckRpc2Nvbm5lY3QodSxoKX19KSksdGhpcy5vbihcImRpc2Nvbm5lY3RlZFwiLCh0PT57dC5jaGFubmVsTmFtZT09PWUmJnMuZGVmYXVsdC5oYW5kbGVQcm92aWRlckRpc2Nvbm5lY3QodSx0KX0pKSx1fWNhdGNoKHQpe2NvbnN0IGk9XCJpbnRlcm5hbC1uYWNrXCI7aWYoe3dhaXQ6ITAsLi4ubn0ud2FpdCYmdC5tZXNzYWdlJiZ0Lm1lc3NhZ2UuaW5jbHVkZXMoaSkpcmV0dXJuIGNvbnNvbGUud2FybihgQ2hhbm5lbCBub3QgZm91bmQgZm9yIGNoYW5uZWxOYW1lOiAke2V9LCB3YWl0aW5nIGZvciBjaGFubmVsIGNvbm5lY3Rpb24uYCksYzt0aHJvdyB0Lm1lc3NhZ2U9PT1pP25ldyBFcnJvcihgTm8gY2hhbm5lbCBmb3VuZCBmb3IgY2hhbm5lbE5hbWU6ICR7ZX1gKTpuZXcgRXJyb3IodCl9fWFzeW5jIGNyZWF0ZShlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgY2hhbm5lbE5hbWUgdG8gY3JlYXRlIGEgY2hhbm5lbFwiKTtjb25zdHtwYXlsb2FkOntkYXRhOm59fT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNyZWF0ZS1jaGFubmVsXCIse2NoYW5uZWxOYW1lOmV9KSxyPW8odGhpcyxpKS5jcmVhdGVQcm92aWRlcih0LG4pO3JldHVybiB0aGlzLm9uKFwiY2xpZW50LWRpc2Nvbm5lY3RlZFwiLCh0PT57dC5jaGFubmVsTmFtZT09PWUmJmEuQ2hhbm5lbFByb3ZpZGVyLmhhbmRsZUNsaWVudERpc2Nvbm5lY3Rpb24ocix0KX0pKSxyfX10LkNoYW5uZWw9bCxpPW5ldyBXZWFrTWFwfSwzNzQ5OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1lc3NhZ2VSZWNlaXZlcj12b2lkIDA7Y29uc3QgaT1uKDgzNzgpLHI9big5NjU5KTtjbGFzcyBvIGV4dGVuZHMgci5CYXNle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMub25tZXNzYWdlPWU9PlwicHJvY2Vzcy1jaGFubmVsLW1lc3NhZ2VcIj09PWUuYWN0aW9uJiYodGhpcy5wcm9jZXNzQ2hhbm5lbE1lc3NhZ2UoZSksITApLHRoaXMuZW5kcG9pbnRNYXA9bmV3IE1hcCx0aGlzLmxhdGVzdEVuZHBvaW50SWRCeUNoYW5uZWxJZD1uZXcgTWFwLGUucmVnaXN0ZXJNZXNzYWdlSGFuZGxlcih0aGlzLm9ubWVzc2FnZS5iaW5kKHRoaXMpKX1hc3luYyBwcm9jZXNzQ2hhbm5lbE1lc3NhZ2UoZSl7dmFyIHQsbjtjb25zdHtzZW5kZXJJZGVudGl0eTppLHByb3ZpZGVySWRlbnRpdHk6cixhY3Rpb246byxhY2tUb1NlbmRlcjpzLHBheWxvYWQ6YSxpbnRlbmRlZFRhcmdldElkZW50aXR5OmN9PWUucGF5bG9hZCxkPW51bGwhPT0obj1udWxsIT09KHQ9Yy5jaGFubmVsSWQpJiZ2b2lkIDAhPT10P3Q6Yy5lbmRwb2ludElkKSYmdm9pZCAwIT09bj9uOnRoaXMubGF0ZXN0RW5kcG9pbnRJZEJ5Q2hhbm5lbElkLmdldChyLmNoYW5uZWxJZCksaD10aGlzLmVuZHBvaW50TWFwLmdldChkKTtpZighaClyZXR1cm4gcy5wYXlsb2FkLnN1Y2Nlc3M9ITEscy5wYXlsb2FkLnJlYXNvbj1gQ2xpZW50IGNvbm5lY3Rpb24gd2l0aCBpZGVudGl0eSB1dWlkOiAke3RoaXMud2lyZS5tZS51dWlkfSAvIG5hbWU6ICR7dGhpcy53aXJlLm1lLm5hbWV9IC8gZW5kcG9pbnRJZDogJHtkfSBubyBsb25nZXIgY29ubmVjdGVkLmAsdGhpcy53aXJlLnNlbmRSYXcocyk7dHJ5e2NvbnN0IGU9YXdhaXQgaChvLGEsaSk7cmV0dXJuIHMucGF5bG9hZC5wYXlsb2FkPXMucGF5bG9hZC5wYXlsb2FkfHx7fSxzLnBheWxvYWQucGF5bG9hZC5yZXN1bHQ9ZSx0aGlzLndpcmUuc2VuZFJhdyhzKX1jYXRjaChlKXtyZXR1cm4gcy5wYXlsb2FkLnN1Y2Nlc3M9ITEscy5wYXlsb2FkLnJlYXNvbj1lLm1lc3NhZ2UsdGhpcy53aXJlLnNlbmRSYXcocyl9fWFkZEVuZHBvaW50KGUsdCxuKXt0aGlzLmVuZHBvaW50TWFwLnNldChuLGUpLHQhPT1uJiZ0aGlzLmxhdGVzdEVuZHBvaW50SWRCeUNoYW5uZWxJZC5zZXQodCxuKX1yZW1vdmVFbmRwb2ludChlLHQpe3RoaXMuZW5kcG9pbnRNYXAuZGVsZXRlKHQpLHRoaXMubGF0ZXN0RW5kcG9pbnRJZEJ5Q2hhbm5lbElkLmdldChlKT09PXQmJnRoaXMubGF0ZXN0RW5kcG9pbnRJZEJ5Q2hhbm5lbElkLmRlbGV0ZShlKX1jaGVja0ZvclByZXZpb3VzQ2xpZW50Q29ubmVjdGlvbihlKXtjb25zdCB0PXRoaXMubGF0ZXN0RW5kcG9pbnRJZEJ5Q2hhbm5lbElkLmdldChlKTt0JiYoaS5kZWZhdWx0LmNsb3NlQ2hhbm5lbEJ5RW5kcG9pbnRJZCh0KSxjb25zb2xlLndhcm4oXCJZb3UgaGF2ZSBjcmVhdGVkIGEgc2Vjb25kIGNvbm5lY3Rpb24gdG8gYW4gb2xkZXIgcHJvdmlkZXIuIEZpcnN0IGNvbm5lY3Rpb24gaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBjbGllbnRNYXBcIiksY29uc29sZS53YXJuKFwiSWYgdGhlIHByb3ZpZGVyIGNhbGxzIHB1Ymxpc2goKSwgeW91IG1heSByZWNlaXZlIG11bHRpcGxlIG1lc3NhZ2VzLlwiKSl9fXQuTWVzc2FnZVJlY2VpdmVyPW99LDEwNDY6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59LG89dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2xhc3NpY0luZm89dC5DbGFzc2ljU3RyYXRlZ3k9dm9pZCAwLHQuQ2xhc3NpY1N0cmF0ZWd5PWNsYXNze2NvbnN0cnVjdG9yKGUsdCxzLGEpe3RoaXMubWVzc2FnZVJlY2VpdmVyPXQsdGhpcy5lbmRwb2ludElkPXMsdGhpcy5wcm92aWRlcklkZW50aXR5PWEsbi5zZXQodGhpcyx2b2lkIDApLGkuc2V0KHRoaXMsbmV3IE1hcCksdGhpcy5zZW5kPWFzeW5jKGUsdCxyKT0+e2NvbnN0IHM9byh0aGlzLGkpLmdldChlKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2NhdGUgcm91dGluZyBpbmZvIGZvciBlbmRwb2ludCAke2V9YCk7Y29uc3QgYT17Li4uc307cmV0dXJuIGEuaXNMb2NhbEVuZHBvaW50SWQmJmRlbGV0ZSBhLmVuZHBvaW50SWQsZGVsZXRlIGEuaXNMb2NhbEVuZHBvaW50SWQsKGF3YWl0IG8odGhpcyxuKS5zZW5kQWN0aW9uKFwic2VuZC1jaGFubmVsLW1lc3NhZ2VcIix7Li4uYSxwcm92aWRlcklkZW50aXR5OnRoaXMucHJvdmlkZXJJZGVudGl0eSxhY3Rpb246dCxwYXlsb2FkOnJ9KS5jYXRjaCgoZT0+e3Rocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UpfSkpKS5wYXlsb2FkLmRhdGEucmVzdWx0fSx0aGlzLmNsb3NlPWFzeW5jKCk9Pnt0aGlzLm1lc3NhZ2VSZWNlaXZlci5yZW1vdmVFbmRwb2ludCh0aGlzLnByb3ZpZGVySWRlbnRpdHkuY2hhbm5lbElkLHRoaXMuZW5kcG9pbnRJZCkscih0aGlzLGksbmV3IE1hcCl9LHIodGhpcyxuLGUpfW9uRW5kcG9pbnREaXNjb25uZWN0KGUsdCl7fXJlY2VpdmUoZSl7dGhpcy5tZXNzYWdlUmVjZWl2ZXIuYWRkRW5kcG9pbnQoZSx0aGlzLnByb3ZpZGVySWRlbnRpdHkuY2hhbm5lbElkLHRoaXMuZW5kcG9pbnRJZCl9YXN5bmMgY2xvc2VFbmRwb2ludChlKXtvKHRoaXMsaSkuZGVsZXRlKGUpfWlzRW5kcG9pbnRDb25uZWN0ZWQoZSl7cmV0dXJuIG8odGhpcyxpKS5oYXMoZSl9YWRkRW5kcG9pbnQoZSx0KXtvKHRoaXMsaSkuc2V0KGUsdC5lbmRwb2ludElkZW50aXR5KX1pc1ZhbGlkRW5kcG9pbnRQYXlsb2FkKGUpe3ZhciB0LG47cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mKG51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLmVuZHBvaW50SWRlbnRpdHkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuZHBvaW50SWQpfHxcInN0cmluZ1wiPT10eXBlb2YobnVsbD09PShuPW51bGw9PWU/dm9pZCAwOmUuZW5kcG9pbnRJZGVudGl0eSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY2hhbm5lbElkKX19LG49bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcCx0LkNsYXNzaWNJbmZvPXt2ZXJzaW9uOjUsbWluaW11bVZlcnNpb246MCx0eXBlOlwiY2xhc3NpY1wifX0sNzExMzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NsYXNzIG57Y29uc3RydWN0b3IoZSx0KXt0aGlzLnByaW1hcnk9ZSx0aGlzLnNlY29uZGFyeT10fXN0YXRpYyBjb21iaW5lKGUsdCl7cmV0dXJuIG5ldyBuKGUsdCl9b25FbmRwb2ludERpc2Nvbm5lY3QoZSx0KXt0aGlzLnByaW1hcnkub25FbmRwb2ludERpc2Nvbm5lY3QoZSwoKCk9Pnt0aGlzLnNlY29uZGFyeS5pc0VuZHBvaW50Q29ubmVjdGVkKGUpfHx0KCl9KSksdGhpcy5zZWNvbmRhcnkub25FbmRwb2ludERpc2Nvbm5lY3QoZSwoKCk9Pnt0aGlzLnByaW1hcnkuaXNFbmRwb2ludENvbm5lY3RlZChlKXx8dCgpfSkpfWlzVmFsaWRFbmRwb2ludFBheWxvYWQoZSl7cmV0dXJuIHRoaXMucHJpbWFyeS5pc1ZhbGlkRW5kcG9pbnRQYXlsb2FkKGUpfHx0aGlzLnNlY29uZGFyeS5pc1ZhbGlkRW5kcG9pbnRQYXlsb2FkKGUpfWFzeW5jIGNsb3NlRW5kcG9pbnQoZSl7YXdhaXQgdGhpcy5wcmltYXJ5LmNsb3NlRW5kcG9pbnQoZSksYXdhaXQgdGhpcy5zZWNvbmRhcnkuY2xvc2VFbmRwb2ludChlKX1pc0VuZHBvaW50Q29ubmVjdGVkKGUpe3JldHVybiB0aGlzLnByaW1hcnkuaXNFbmRwb2ludENvbm5lY3RlZChlKXx8dGhpcy5zZWNvbmRhcnkuaXNFbmRwb2ludENvbm5lY3RlZChlKX1hc3luYyBhZGRFbmRwb2ludChlLHQpe3RoaXMucHJpbWFyeS5pc1ZhbGlkRW5kcG9pbnRQYXlsb2FkKHQpJiZhd2FpdCB0aGlzLnByaW1hcnkuYWRkRW5kcG9pbnQoZSx0KSx0aGlzLnNlY29uZGFyeS5pc1ZhbGlkRW5kcG9pbnRQYXlsb2FkKHQpJiZhd2FpdCB0aGlzLnNlY29uZGFyeS5hZGRFbmRwb2ludChlLHQpfXJlY2VpdmUoZSl7dGhpcy5wcmltYXJ5LnJlY2VpdmUoZSksdGhpcy5zZWNvbmRhcnkucmVjZWl2ZShlKX1zZW5kKGUsdCxuKXtyZXR1cm4gdGhpcy5wcmltYXJ5LmlzRW5kcG9pbnRDb25uZWN0ZWQoZSk/dGhpcy5wcmltYXJ5LnNlbmQoZSx0LG4pOnRoaXMuc2Vjb25kYXJ5LnNlbmQoZSx0LG4pfWFzeW5jIGNsb3NlKCl7YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucHJpbWFyeS5jbG9zZSgpLHRoaXMuc2Vjb25kYXJ5LmNsb3NlKCldKX19dC5kZWZhdWx0PW59LDMwMzc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlByb3RvY29sTWFuYWdlcj12b2lkIDAsdC5Qcm90b2NvbE1hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5Qcm90b2NvbHNJblByZWZlcmVuY2VPcmRlcj1lLHRoaXMuRGVmYXVsdENsaWVudFByb3RvY29scz1bXCJjbGFzc2ljXCJdLHRoaXMuRGVmYXVsdFByb3ZpZGVyUHJvdG9jb2xzPVtcImNsYXNzaWNcIl0sdGhpcy5nZXRDbGllbnRQcm90b2NvbHM9ZT0+e2NvbnN0IHQ9ZT90aGlzLlByb3RvY29sc0luUHJlZmVyZW5jZU9yZGVyLmZpbHRlcigodD0+ZS5pbmNsdWRlcyh0KSkpOnRoaXMuRGVmYXVsdENsaWVudFByb3RvY29scztpZighdC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBObyB2YWxpZCBwcm90b2NvbHMgd2VyZSBwYXNzZWQgaW4uIEFjY2VwdGVkIHZhbHVlcyBhcmU6ICR7dGhpcy5Qcm90b2NvbHNJblByZWZlcmVuY2VPcmRlci5qb2luKFwiLCBcIil9LmApO3JldHVybiB0fSx0aGlzLmdldFByb3ZpZGVyUHJvdG9jb2xzPWU9Pntjb25zdCB0PWU/dGhpcy5Qcm90b2NvbHNJblByZWZlcmVuY2VPcmRlci5maWx0ZXIoKHQ9PmUuaW5jbHVkZXModCkpKTp0aGlzLkRlZmF1bHRQcm92aWRlclByb3RvY29scztpZighdC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBObyB2YWxpZCBwcm90b2NvbHMgd2VyZSBwYXNzZWQgaW4uIEFjY2VwdGVkIHZhbHVlcyBhcmU6ICR7dGhpcy5Qcm90b2NvbHNJblByZWZlcmVuY2VPcmRlci5qb2luKFwiLCBcIil9LmApO3JldHVybiB0fSx0aGlzLmdldENvbXBhdGlibGVQcm90b2NvbHM9KGUsdCk9PnQuc3VwcG9ydGVkUHJvdG9jb2xzLmZpbHRlcigodD0+ZS5zb21lKChlPT57dmFyIG47cmV0dXJuIGUudHlwZT09PXQudHlwZSYmdC52ZXJzaW9uPj1lLm1pbmltdW1WZXJzaW9uJiZlLnZlcnNpb24+PShudWxsIT09KG49dC5taW5pbXVtVmVyc2lvbikmJnZvaWQgMCE9PW4/bjowKX0pKSkpLnNsaWNlKDAsdC5tYXhQcm90b2NvbHMpfX19LDg3NzY6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX0scz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SVENFbmRwb2ludD12b2lkIDA7Y29uc3QgYT1uKDIzNjYpO3QuUlRDRW5kcG9pbnQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnJ0Yz1lLHRoaXMuZW5kcG9pbnRJZGVudGl0eT10LHRoaXMucmVzcG9uc2VNYXA9bmV3IE1hcCxpLnNldCh0aGlzLG51bGwpLHIuc2V0KHRoaXMsdm9pZCAwKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZUNoYW5nZUhhbmRsZXI9ZT0+e1wiY29ubmVjdGVkXCIhPT10aGlzLnJ0Yy5ydGNDbGllbnQuY29ubmVjdGlvblN0YXRlJiYodGhpcy5ydGMucnRjQ2xpZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix0aGlzLmNvbm5lY3Rpb25TdGF0ZUNoYW5nZUhhbmRsZXIpLHRoaXMuY2xvc2UoKSxvKHRoaXMscikmJm8odGhpcyxyKS5jYWxsKHRoaXMpKX0sdGhpcy5zZW5kPWFzeW5jKGUsdCk9Pntjb25zdCBuPWBtZXNzYWdlLSR7TWF0aC5yYW5kb20oKX1gLGk9bmV3IFByb21pc2UoKChlLHQpPT57dGhpcy5yZXNwb25zZU1hcC5zZXQobix7cmVzb2x2ZTplLHJlamVjdDp0fSl9KSk7cmV0dXJuIHRoaXMucnRjLmNoYW5uZWxzLnJlcXVlc3Quc2VuZChKU09OLnN0cmluZ2lmeSh7YWN0aW9uOmUscGF5bG9hZDp0LG1lc3NhZ2VJZDpufSkpLGl9LHRoaXMuY2xvc2U9KCk9Pnt0aGlzLnJlc3BvbnNlTWFwLmZvckVhY2goKGU9PmUucmVqZWN0KFwiQ29ubmVjdGlvbiBoYXMgY2xvc2VkLlwiKSkpLHRoaXMucmVzcG9uc2VNYXA9bmV3IE1hcCx0aGlzLnJ0Yy5jaGFubmVscy5yZXF1ZXN0LmNsb3NlKCksdGhpcy5ydGMuY2hhbm5lbHMucmVzcG9uc2UuY2xvc2UoKSx0aGlzLnJ0Yy5ydGNDbGllbnQuY2xvc2UoKX0sdGhpcy5ydGMuY2hhbm5lbHMucmVzcG9uc2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwoZT0+e3ZhciB0O2NvbnN0e21lc3NhZ2VJZDpuLHBheWxvYWQ6aSxzdWNjZXNzOnIsZXJyb3I6b309SlNPTi5wYXJzZShlLmRhdGEpLHtyZXNvbHZlOnMscmVqZWN0OmF9PW51bGwhPT0odD10aGlzLnJlc3BvbnNlTWFwLmdldChuKSkmJnZvaWQgMCE9PXQ/dDp7fTtzJiZhPyh0aGlzLnJlc3BvbnNlTWFwLmRlbGV0ZShuKSxyP3MoaSk6YShvKSk6KGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGZpbmQgaWQgaW4gcmVzcG9uc2VNYXAuXCIpLGNvbnNvbGUubG9nKGUpKX0pKSx0aGlzLnJ0Yy5jaGFubmVscy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsKGFzeW5jIGU9Pntjb25zdHttZXNzYWdlSWQ6bixhY3Rpb246cixwYXlsb2FkOnN9PUpTT04ucGFyc2UoZS5kYXRhKTtpZihvKHRoaXMsaSkpdHJ5e2NvbnN0IGU9YXdhaXQgbyh0aGlzLGkpLmNhbGwodGhpcyxyLHMsdCk7dGhpcy5ydGMuY2hhbm5lbHMucmVzcG9uc2Uuc2VuZChKU09OLnN0cmluZ2lmeSh7bWVzc2FnZUlkOm4scGF5bG9hZDplLHN1Y2Nlc3M6ITB9KSl9Y2F0Y2goZSl7XCJvcGVuXCI9PT10aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5yZWFkeVN0YXRlJiZ0aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5zZW5kKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlSWQ6bixlcnJvcjphLmVycm9yVG9QT0pPKGUpLHN1Y2Nlc3M6ITF9KSl9ZWxzZVwib3BlblwiPT09dGhpcy5ydGMuY2hhbm5lbHMucmVzcG9uc2UucmVhZHlTdGF0ZSYmdGhpcy5ydGMuY2hhbm5lbHMucmVzcG9uc2Uuc2VuZChKU09OLnN0cmluZ2lmeSh7bWVzc2FnZUlkOm4sc3VjY2VzczohMSxlcnJvcjpcIkNvbm5lY3Rpb24gbm90IHJlYWR5LlwifSkpfSkpLHRoaXMucnRjLnJ0Y0NsaWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGhpcy5jb25uZWN0aW9uU3RhdGVDaGFuZ2VIYW5kbGVyKSxPYmplY3QudmFsdWVzKHRoaXMucnRjLmNoYW5uZWxzKS5mb3JFYWNoKChlPT57ZS5vbmNsb3NlPWU9PntbLi4udGhpcy5yZXNwb25zZU1hcC52YWx1ZXMoKV0uZm9yRWFjaCgoZT0+ZS5yZWplY3QobmV3IEVycm9yKFwiUlRDRGF0YUNoYW5uZWwgY2xvc2VkIHVuZXhwZWN0ZWRseSwgdGhpcyBpcyBtb3N0IGNvbW1vbmx5IGNhdXNlZCBieSBtZXNzYWdlIHNpemUuIE5vdGU6IFJUQyBDaGFubmVscyBoYXZlIGEgbWVzc2FnZSBzaXplIGxpbWl0IG9mIH4yNTVrQi5cIikpKSksdGhpcy5jbG9zZSgpLG8odGhpcyxyKSYmbyh0aGlzLHIpLmNhbGwodGhpcyl9fSkpfW9uRGlzY29ubmVjdChlKXtpZihvKHRoaXMscikpdGhyb3cgbmV3IEVycm9yKFwiUlRDRW5kcG9pbnQgZGlzY29ubmVjdExpc3RlbmVyIGNhbm5vdCBiZSBzZXQgdHdpY2UuXCIpO3ModGhpcyxyLGUpfXJlY2VpdmUoZSl7aWYobyh0aGlzLGkpKXRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIGFscmVhZHkgc2V0IGEgbGlzdGVuZXIgZm9yIHRoaXMgUlRDIEVuZHBvaW50LlwiKTtzKHRoaXMsaSxlKX1nZXQgY29ubmVjdGVkKCl7cmV0dXJuXCJjb25uZWN0ZWRcIj09PXRoaXMucnRjLnJ0Y0NsaWVudC5jb25uZWN0aW9uU3RhdGV9fSxpPW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXB9LDU2OTooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SVENJQ0VNYW5hZ2VyPXZvaWQgMDtjb25zdCBpPW4oOTY1OSk7Y2xhc3MgciBleHRlbmRzIGkuRW1pdHRlckJhc2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxcImNoYW5uZWxcIiksdGhpcy5lbnN1cmVDaGFubmVsT3BlbmVkPWU9Pm5ldyBQcm9taXNlKCgodCxuKT0+e2lmKFwib3BlblwiPT09ZS5yZWFkeVN0YXRlKXQoKTtlbHNlIGlmKFwiY29ubmVjdGluZ1wiPT09ZS5yZWFkeVN0YXRlKXtjb25zdCBuPSgpPT57ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwib3BlblwiLG4pLHQoKX07ZS5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLG4pfWVsc2UgbihuZXcgRXJyb3IoXCJUaGlzIENoYW5uZWwgaGFzIGFscmVhZHkgY2xvc2VkXCIpKX0pKX1zdGF0aWMgY3JlYXRlRGF0YUNoYW5uZWxQcm9taXNlKGUsdCl7bGV0IG47Y29uc3QgaT1uZXcgUHJvbWlzZSgoZT0+e249ZX0pKSxyPWk9Pntjb25zdCBvPSgpPT57aS5jaGFubmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsbyksbihpLmNoYW5uZWwpfTtpLmNoYW5uZWwubGFiZWw9PT1lJiYoaS5jaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsbyksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIixyKSl9O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoXCJkYXRhY2hhbm5lbFwiLHIpLGl9YXN5bmMgbGlzdGVuRm9yUHJvdmlkZXJJY2UoZSx0KXthd2FpdCB0aGlzLm9uKHRoaXMuY3JlYXRlUHJvdmlkZXJFdmVudE5hbWUoZSksdCx7dGltZXN0YW1wOkRhdGUubm93KCl9KX1hc3luYyByYWlzZVByb3ZpZGVySWNlKGUsdCl7YXdhaXQgdGhpcy53aXJlLmVudmlyb25tZW50LnJhaXNlRXZlbnQodGhpcy5jcmVhdGVSb3V0ZVN0cmluZyh0aGlzLmNyZWF0ZVByb3ZpZGVyRXZlbnROYW1lKGUpKSx0KX1hc3luYyBsaXN0ZW5Gb3JDbGllbnRJY2UoZSx0KXthd2FpdCB0aGlzLm9uKHRoaXMuY3JlYXRlQ2xpZW50RXZlbnROYW1lKGUpLHQse3RpbWVzdGFtcDpEYXRlLm5vdygpfSl9YXN5bmMgcmFpc2VDbGllbnRJY2UoZSx0KXthd2FpdCB0aGlzLndpcmUuZW52aXJvbm1lbnQucmFpc2VFdmVudCh0aGlzLmNyZWF0ZVJvdXRlU3RyaW5nKHRoaXMuY3JlYXRlQ2xpZW50RXZlbnROYW1lKGUpKSx0KX1jbGVhbnVwSWNlTGlzdGVuZXJzKGUpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHRoaXMuY3JlYXRlQ2xpZW50RXZlbnROYW1lKGUpKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0aGlzLmNyZWF0ZVByb3ZpZGVyRXZlbnROYW1lKGUpKX1jcmVhdGVDbGllbnRFdmVudE5hbWUoZSl7cmV0dXJuYGljZS1jbGllbnQtJHtlfWB9Y3JlYXRlUHJvdmlkZXJFdmVudE5hbWUoZSl7cmV0dXJuYGljZS1wcm92aWRlci0ke2V9YH1jcmVhdGVSb3V0ZVN0cmluZyhlKXtyZXR1cm5gY2hhbm5lbC8ke2V9YH1jcmVhdGVSdGNQZWVyKCl7cmV0dXJuIHRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRSdGNQZWVyKCl9YXN5bmMgc3RhcnRDbGllbnRPZmZlcigpe2NvbnN0IGU9TWF0aC5yYW5kb20oKS50b1N0cmluZygpLHQ9dGhpcy5jcmVhdGVSdGNQZWVyKCk7dC5hZGRFdmVudExpc3RlbmVyKFwiaWNlY2FuZGlkYXRlXCIsKGFzeW5jIHQ9Pnt2YXIgbjt0LmNhbmRpZGF0ZSYmYXdhaXQgdGhpcy5yYWlzZUNsaWVudEljZShlLHtjYW5kaWRhdGU6bnVsbD09PShuPXQuY2FuZGlkYXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi50b0pTT04oKX0pfSkpLGF3YWl0IHRoaXMubGlzdGVuRm9yUHJvdmlkZXJJY2UoZSwoYXN5bmMgZT0+e2F3YWl0IHQuYWRkSWNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlKX0pKTtjb25zdCBuPXtyZXF1ZXN0OnQuY3JlYXRlRGF0YUNoYW5uZWwoXCJyZXF1ZXN0XCIpLHJlc3BvbnNlOnQuY3JlYXRlRGF0YUNoYW5uZWwoXCJyZXNwb25zZVwiKX0saT1hd2FpdCB0LmNyZWF0ZU9mZmVyKCk7YXdhaXQgdC5zZXRMb2NhbERlc2NyaXB0aW9uKGkpO2NvbnN0IHI9UHJvbWlzZS5hbGwoW24ucmVxdWVzdCxuLnJlc3BvbnNlXS5tYXAodGhpcy5lbnN1cmVDaGFubmVsT3BlbmVkKSkudGhlbigoKCk9Pnt9KSk7cmV0dXJue3J0Y0NsaWVudDp0LGNoYW5uZWxzOm4sb2ZmZXI6aSxydGNDb25uZWN0aW9uSWQ6ZSxjaGFubmVsc09wZW5lZDpyfX1hc3luYyBmaW5pc2hDbGllbnRPZmZlcihlLHQsbil7cmV0dXJuIGF3YWl0IGUuc2V0UmVtb3RlRGVzY3JpcHRpb24odCksYXdhaXQgbiwhMH1hc3luYyBjcmVhdGVQcm92aWRlckFuc3dlcihlLHQpe2NvbnN0IG49dGhpcy5jcmVhdGVSdGNQZWVyKCksaT1yLmNyZWF0ZURhdGFDaGFubmVsUHJvbWlzZShcInJlcXVlc3RcIixuKSxvPXIuY3JlYXRlRGF0YUNoYW5uZWxQcm9taXNlKFwicmVzcG9uc2VcIixuKTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2VjYW5kaWRhdGVcIiwoYXN5bmMgdD0+e3ZhciBuO3QuY2FuZGlkYXRlJiZhd2FpdCB0aGlzLnJhaXNlUHJvdmlkZXJJY2UoZSx7Y2FuZGlkYXRlOm51bGw9PT0obj10LmNhbmRpZGF0ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udG9KU09OKCl9KX0pKSxhd2FpdCB0aGlzLmxpc3RlbkZvckNsaWVudEljZShlLChhc3luYyBlPT57YXdhaXQgbi5hZGRJY2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpfSkpLGF3YWl0IG4uc2V0UmVtb3RlRGVzY3JpcHRpb24odCk7Y29uc3Qgcz1hd2FpdCBuLmNyZWF0ZUFuc3dlcigpO2F3YWl0IG4uc2V0TG9jYWxEZXNjcmlwdGlvbihzKTtjb25zdCBhPVByb21pc2UuYWxsKFtpLG9dKS50aGVuKCgoW3Qsbl0pPT4odGhpcy5jbGVhbnVwSWNlTGlzdGVuZXJzKGUpLHtyZXF1ZXN0OnQscmVzcG9uc2U6bn0pKSk7cmV0dXJue3J0Y0NsaWVudDpuLGFuc3dlcjpzLGNoYW5uZWxzOmF9fX10LlJUQ0lDRU1hbmFnZXI9cn0sMzg3MDpmdW5jdGlvbihlLHQsbil7dmFyIGkscixvLHM9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9LGE9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUlRDSW5mbz10LlJUQ1N0cmF0ZWd5PXZvaWQgMDtjb25zdCBjPW4oODc3Nik7dC5SVENTdHJhdGVneT1jbGFzc3tjb25zdHJ1Y3Rvcigpe2kuc2V0KHRoaXMsbnVsbCksci5zZXQodGhpcyxuZXcgTWFwKSxvLnNldCh0aGlzLCEwKSx0aGlzLnNlbmQ9YXN5bmMoZSx0LG4pPT50aGlzLmdldEVuZHBvaW50QnlJZChlKS5zZW5kKHQsbiksdGhpcy5jbG9zZT1hc3luYygpPT57cyh0aGlzLG8pJiYocyh0aGlzLHIpLmZvckVhY2goKGU9PmUuY2xvc2UoKSkpLGEodGhpcyxyLG5ldyBNYXApKSxhKHRoaXMsbywhMSl9fW9uRW5kcG9pbnREaXNjb25uZWN0KGUsdCl7dGhpcy5nZXRFbmRwb2ludEJ5SWQoZSkub25EaXNjb25uZWN0KHQpfXJlY2VpdmUoZSl7aWYocyh0aGlzLGkpKXRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIGFscmVhZHkgc2V0IGEgbGlzdGVuZXIgZm9yIHRoaXMgUlRDIFN0cmF0ZWd5XCIpO2EodGhpcyxpLGUpLHModGhpcyxyKS5mb3JFYWNoKChlPT5lLnJlY2VpdmUocyh0aGlzLGkpKSkpfWdldEVuZHBvaW50QnlJZChlKXtjb25zdCB0PXModGhpcyxyKS5nZXQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgd2l0aCBlbmRwb2ludCBpZCAke2V9IGlzIG5vdCBjb25uZWN0ZWRgKTtyZXR1cm4gdH1nZXQgY29ubmVjdGVkKCl7cmV0dXJuIHModGhpcyxvKX1pc0VuZHBvaW50Q29ubmVjdGVkKGUpe3JldHVybiBzKHRoaXMscikuaGFzKGUpfWFkZEVuZHBvaW50KGUsdCl7aWYoIXModGhpcyxvKSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJBZGRpbmcgZW5kcG9pbnQgdG8gZGlzY29ubmVjdGVkIFJUQyBTdHJhdGVneVwiKTtjb25zdCBuPW5ldyBjLlJUQ0VuZHBvaW50KHQucnRjLHQuZW5kcG9pbnRJZGVudGl0eSk7cyh0aGlzLGkpJiZuLnJlY2VpdmUocyh0aGlzLGkpKSxzKHRoaXMscikuc2V0KGUsbil9YXN5bmMgY2xvc2VFbmRwb2ludChlKXtzKHRoaXMscikuZGVsZXRlKGUpfWlzVmFsaWRFbmRwb2ludFBheWxvYWQoZSl7Y29uc3QgdD1lPT5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWU7cmV0dXJuIHQoZSkmJnQoZS5lbmRwb2ludElkZW50aXR5KSYmdChlLnJ0YykmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmVuZHBvaW50SWRlbnRpdHkuZW5kcG9pbnRJZH19LGk9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcCxvPW5ldyBXZWFrTWFwLHQuUlRDSW5mbz17dmVyc2lvbjoxLG1pbmltdW1WZXJzaW9uOjAsdHlwZTpcInJ0Y1wifX0sMjk0MjpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59LHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhbm5lbFByb3ZpZGVyPXZvaWQgMDtjb25zdCBvPW4oNzUzOSkscz1uKDIzMDApO2xldCBhPSgoKT0+e3ZhciBlLHQsbixhLGM7Y2xhc3MgZCBleHRlbmRzIG8uQ2hhbm5lbEJhc2V7Y29uc3RydWN0b3IoaCxsLHUpe3N1cGVyKCksZS5zZXQodGhpcyx2b2lkIDApLHQuc2V0KHRoaXMsdm9pZCAwKSxuLnNldCh0aGlzLHZvaWQgMCksYS5zZXQodGhpcywodD0+e2NvbnN0IG89dGhpcy5jb25uZWN0aW9ucy5maWx0ZXIoKGU9PmUuZW5kcG9pbnRJZCE9PXQuZW5kcG9pbnRJZCkpO3IodGhpcyxuKS5jbG9zZUVuZHBvaW50KHQuZW5kcG9pbnRJZCksaSh0aGlzLGUsbyl9KSksdGhpcy5wcm9jZXNzQWN0aW9uPWFzeW5jKGUsdCxuKT0+KGQuY2xpZW50SXNNdWx0aVJ1bnRpbWUobikmJiFzLnJ1bnRpbWVVdWlkTWVldHNNaW5pbXVtUnVudGltZVZlcnNpb24obi5ydW50aW1lVXVpZCxcIjE4Ljg3LjU2LjBcIik/dGhpcy5oYW5kbGVNdWx0aVJ1bnRpbWVMZWdhY3lDbGllbnQobik6dGhpcy5jaGVja0ZvckNsaWVudENvbm5lY3Rpb24obiksc3VwZXIucHJvY2Vzc0FjdGlvbihlLHQsbikpLGMuc2V0KHRoaXMsKCgpPT57cih0aGlzLG4pLmNsb3NlKCk7Y29uc3QgZT1kLnJlbW92YWxNYXAuZ2V0KHRoaXMpO2UmJmUoKX0pKSxpKHRoaXMsdCxuZXcgby5Qcm90ZWN0ZWRJdGVtcyhoLGwpKSx0aGlzLmNvbm5lY3RMaXN0ZW5lcj0oKT0+e30sdGhpcy5kaXNjb25uZWN0TGlzdGVuZXI9KCk9Pnt9LGkodGhpcyxlLFtdKSxpKHRoaXMsbix1KSx1LnJlY2VpdmUodGhpcy5wcm9jZXNzQWN0aW9uKX1nZXQgY29ubmVjdGlvbnMoKXtyZXR1cm5bLi4ucih0aGlzLGUpXX1zdGF0aWMgaGFuZGxlQ2xpZW50RGlzY29ubmVjdGlvbihlLHQpe2NvbnN0IG49ZS5jb25uZWN0aW9ucy5maW5kKChlPT5lLmVuZHBvaW50SWQ9PT10LmVuZHBvaW50SWQpKTtuP3IoZSxhKS5jYWxsKGUsbik6ZS5jb25uZWN0aW9ucy5maWx0ZXIoKGU9PmUudXVpZD09PXQudXVpZCYmZS5uYW1lPT09dC5uYW1lKSkuZm9yRWFjaChyKGUsYSkpLGUuZGlzY29ubmVjdExpc3RlbmVyKHQpfXN0YXRpYyBzZXRQcm92aWRlclJlbW92YWwoZSx0KXtkLnJlbW92YWxNYXAuc2V0KGUsdCl9ZGlzcGF0Y2goZSx0LGkpe3ZhciBvO2NvbnN0IHM9bnVsbCE9PShvPWUuZW5kcG9pbnRJZCkmJnZvaWQgMCE9PW8/bzp0aGlzLmdldEVuZHBvaW50SWRGb3JPcGVuRmluSWQoZSx0KTtyZXR1cm4gcyYmcih0aGlzLG4pLmlzRW5kcG9pbnRDb25uZWN0ZWQocyk/cih0aGlzLG4pLnNlbmQocyx0LGkpOlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ2xpZW50IGNvbm5lY3Rpb24gd2l0aCBpZGVudGl0eSB1dWlkOiAke2UudXVpZH0gLyBuYW1lOiAke2UubmFtZX0gLyBlbmRwb2ludElkOiAke3N9IG5vIGxvbmdlciBjb25uZWN0ZWQuYCkpfWFzeW5jIHByb2Nlc3NDb25uZWN0aW9uKHQsbil7cmV0dXJuIHIodGhpcyxlKS5wdXNoKHQpLHRoaXMuY29ubmVjdExpc3RlbmVyKHQsbil9cHVibGlzaChlLHQpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25zLm1hcCgoaT0+cih0aGlzLG4pLnNlbmQoaS5lbmRwb2ludElkLGUsdCkpKX1vbkNvbm5lY3Rpb24oZSl7dGhpcy5jb25uZWN0TGlzdGVuZXI9ZX1vbkRpc2Nvbm5lY3Rpb24oZSl7dGhpcy5kaXNjb25uZWN0TGlzdGVuZXI9ZX1hc3luYyBkZXN0cm95KCl7Y29uc3Qgbj1yKHRoaXMsdCkse2NoYW5uZWxOYW1lOm99PW4ucHJvdmlkZXJJZGVudGl0eTtpKHRoaXMsZSxbXSksYXdhaXQgbi53aXJlLnNlbmRBY3Rpb24oXCJkZXN0cm95LWNoYW5uZWxcIix7Y2hhbm5lbE5hbWU6b30pLHIodGhpcyxjKS5jYWxsKHRoaXMpfWNoZWNrRm9yQ2xpZW50Q29ubmVjdGlvbihlKXtpZighdGhpcy5pc0NsaWVudENvbm5lY3RlZChlKSl0aHJvdyBuZXcgRXJyb3IoYFRoaXMgYWN0aW9uIHdhcyBzZW50IGZyb20gYSBjbGllbnQgdGhhdCBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSBwcm92aWRlci5cXG4gICAgICAgICAgICAgICAgICAgIENsaWVudCBJZGVudGl0eToge3V1aWQ6ICR7ZS51dWlkfSwgbmFtZTogJHtlLm5hbWV9LCBlbmRwb2ludElkOiAke2UuZW5kcG9pbnRJZH19YCl9aXNDbGllbnRDb25uZWN0ZWQoZSl7cmV0dXJuIGQuY2xpZW50SWRlbnRpdHlJbmNsdWRlc0VuZHBvaW50SWQoZSk/dGhpcy5jb25uZWN0aW9ucy5zb21lKCh0PT50LmVuZHBvaW50SWQ9PT1lLmVuZHBvaW50SWQmJnQudXVpZD09PWUudXVpZCYmdC5uYW1lPT09ZS5uYW1lKSk6dGhpcy5pc0xlZ2FjeUNsaWVudENvbm5lY3RlZChlKX1pc0xlZ2FjeUNsaWVudENvbm5lY3RlZChlKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9ucy5zb21lKCh0PT50LnV1aWQ9PT1lLnV1aWQmJnQubmFtZT09PWUubmFtZSkpfWhhbmRsZU11bHRpUnVudGltZUxlZ2FjeUNsaWVudChlKXtpZighdGhpcy5pc0xlZ2FjeUNsaWVudENvbm5lY3RlZChlKSl0aHJvdyBuZXcgRXJyb3IoYFRoaXMgYWN0aW9uIHdhcyBzZW50IGZyb20gYSBjbGllbnQgdGhhdCBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSBwcm92aWRlci4gQ2xpZW50IElkZW50aXR5OlxcbiAgICAgICAgICAgICAgICAgICAge3V1aWQ6ICR7ZS51dWlkfSwgbmFtZTogJHtlLm5hbWV9LCBlbmRwb2ludElkOiAke2UuZW5kcG9pbnRJZH19YCl9Z2V0RW5kcG9pbnRJZEZvck9wZW5GaW5JZChlLG4pe3ZhciBpO2NvbnN0IG89dGhpcy5jb25uZWN0aW9ucy5maWx0ZXIoKHQ9PnQubmFtZT09PWUubmFtZSYmdC51dWlkPT09ZS51dWlkKSk7aWYoby5sZW5ndGg+PTIpe2NvbnN0IGk9cih0aGlzLHQpLHt1dWlkOm8sbmFtZTpzfT1lLGE9bnVsbD09aT92b2lkIDA6aS5wcm92aWRlcklkZW50aXR5LnV1aWQsYz1udWxsPT1pP3ZvaWQgMDppLnByb3ZpZGVySWRlbnRpdHkubmFtZTtjb25zb2xlLndhcm4oYFdBUk5JTkc6IERpc3BhdGNoIGNhbGwgbWF5IGhhdmUgdW5pbnRlbmRlZCByZXN1bHRzLiBUaGUgXCJ0b1wiIGFyZ3VtZW50IG9mIHlvdXIgZGlzcGF0Y2ggY2FsbCBpcyBtaXNzaW5nIHRoZVxcbiAgICAgICAgICAgICAgICBcImVuZHBvaW50SWRcIiBwYXJhbWV0ZXIuIFRoZSBpZGVudGl0eSB5b3UgYXJlIGRpc3BhdGNoaW5nIHRvICh7dXVpZDogJHtvfSwgbmFtZTogJHtzfX0pXFxuICAgICAgICAgICAgICAgIGhhcyBtdWx0aXBsZSBjaGFubmVsQ2xpZW50cyBmb3IgdGhpcyBjaGFubmVsLiBZb3VyIGRpc3BhdGNoZWQgYWN0aW9uOiAoJHtufSkgZnJvbSB0aGUgcHJvdmlkZXI6XFxuICAgICAgICAgICAgICAgICh7dXVpZDogJHthfSwgbmFtZTogJHtjfX0pIHdpbGwgb25seSBiZSBwcm9jZXNzZWQgYnkgdGhlIG1vc3QgcmVjZW50bHktY3JlYXRlZCBjbGllbnQuYCl9cmV0dXJuIG51bGw9PT0oaT1vLnBvcCgpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmRwb2ludElkfXN0YXRpYyBjbGllbnRJZGVudGl0eUluY2x1ZGVzRW5kcG9pbnRJZChlKXtyZXR1cm4gdm9pZCAwIT09ZS5lbmRwb2ludElkfXN0YXRpYyBjbGllbnRJc011bHRpUnVudGltZShlKXtyZXR1cm4gdm9pZCAwIT09ZS5ydW50aW1lVXVpZH19cmV0dXJuIGU9bmV3IFdlYWtNYXAsdD1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwLGE9bmV3IFdlYWtNYXAsYz1uZXcgV2Vha01hcCxkLnJlbW92YWxNYXA9bmV3IFdlYWtNYXAsZH0pKCk7dC5DaGFubmVsUHJvdmlkZXI9YX0sODM0NzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbnRlckFwcFBheWxvYWQ9dm9pZCAwO2NvbnN0IGk9big2NDY1KSxyPW4oOTY1OSksbz1uKDMxMjcpLHM9big3NzIyKSxhPW4oNDk5OSk7Y2xhc3MgYyBleHRlbmRzIHIuQmFzZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmV2ZW50cz17c3Vic2NyaWJlckFkZGVkOlwic3Vic2NyaWJlci1hZGRlZFwiLHN1YnNjcmliZXJSZW1vdmVkOlwic3Vic2NyaWJlci1yZW1vdmVkXCJ9LHRoaXMucmVmQ291bnRlcj1uZXcgby5kZWZhdWx0LHRoaXMuQ2hhbm5lbD1uZXcgcy5DaGFubmVsKGUpLHRoaXMuZW1pdHRlcj1uZXcgaS5FdmVudEVtaXR0ZXIsZS5yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKHRoaXMub25tZXNzYWdlLmJpbmQodGhpcykpLHRoaXMub249dGhpcy5lbWl0dGVyLm9uLmJpbmQodGhpcy5lbWl0dGVyKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycz10aGlzLmVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzLmJpbmQodGhpcy5lbWl0dGVyKX1wdWJsaXNoKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicHVibGlzaC1tZXNzYWdlXCIse3RvcGljOmUsbWVzc2FnZTp0LHNvdXJjZVdpbmRvd05hbWU6dGhpcy5tZS5uYW1lfSkudGhlbigoKCk9Pnt9KSl9YXN5bmMgc2VuZChlLHQsbil7Y29uc3QgaT1hLnZhbGlkYXRlSWRlbnRpdHkoZSk7aWYoaSl0aHJvdyBuZXcgRXJyb3IoaSk7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZW5kLW1lc3NhZ2VcIix7ZGVzdGluYXRpb25VdWlkOmUudXVpZCxkZXN0aW5hdGlvbldpbmRvd05hbWU6ZS5uYW1lLHRvcGljOnQsbWVzc2FnZTpuLHNvdXJjZVdpbmRvd05hbWU6dGhpcy5tZS5uYW1lfSl9c3Vic2NyaWJlKGUsdCxuKXtjb25zdCBpPXRoaXMuY3JlYXRlU3Vic2NyaXB0aW9uS2V5KGUudXVpZCxlLm5hbWV8fFwiKlwiLHQpO3JldHVybiB0aGlzLmVtaXR0ZXIub24oaSxuKSx0aGlzLnJlZkNvdW50ZXIuYWN0T25GaXJzdChpLCgoKT0+dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzdWJzY3JpYmVcIix7c291cmNlVXVpZDplLnV1aWQsc291cmNlV2luZG93TmFtZTplLm5hbWV8fFwiKlwiLHRvcGljOnQsZGVzdGluYXRpb25XaW5kb3dOYW1lOnRoaXMubWUubmFtZX0pKSwoKCk9PlByb21pc2UucmVzb2x2ZSgpKSl9dW5zdWJzY3JpYmUoZSx0LG4pe2NvbnN0IGk9ZS5uYW1lfHxcIipcIixyPXRoaXMuY3JlYXRlU3Vic2NyaXB0aW9uS2V5KGUudXVpZCxpLHQpO3JldHVybiB0aGlzLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIocixuKSx0aGlzLnJlZkNvdW50ZXIuYWN0T25MYXN0KHIsKCgpPT50aGlzLndpcmUuc2VuZEFjdGlvbihcInVuc3Vic2NyaWJlXCIse3NvdXJjZVV1aWQ6ZS51dWlkLHNvdXJjZVdpbmRvd05hbWU6aSx0b3BpYzp0LGRlc3RpbmF0aW9uV2luZG93TmFtZTp0aGlzLm1lLm5hbWV9KSksKCgpPT5uZXcgUHJvbWlzZSgoZT0+ZSkpLnRoZW4oKCgpPT57fSkpKSl9cHJvY2Vzc01lc3NhZ2UoZSl7Y29uc3R7cGF5bG9hZDp7bWVzc2FnZTp0LHNvdXJjZVdpbmRvd05hbWU6bixzb3VyY2VVdWlkOmksdG9waWM6cn19PWUsbz1bdGhpcy5jcmVhdGVTdWJzY3JpcHRpb25LZXkoaSxuLHIpLHRoaXMuY3JlYXRlU3Vic2NyaXB0aW9uS2V5KGksXCIqXCIsciksdGhpcy5jcmVhdGVTdWJzY3JpcHRpb25LZXkoXCIqXCIsXCIqXCIscildLHM9e3V1aWQ6aSxuYW1lOm59O28uZm9yRWFjaCgoZT0+e3RoaXMuZW1pdHRlci5lbWl0KGUsdCxzKX0pKX1lbWl0U3Vic2NyaXZlckV2ZW50KGUsdCl7Y29uc3R7cGF5bG9hZDp7dGFyZ2V0TmFtZTpuLHV1aWQ6aSx0b3BpYzpyfX09dCxvPXtuYW1lOm4sdXVpZDppLHRvcGljOnJ9O3RoaXMuZW1pdHRlci5lbWl0KGUsbyl9Y3JlYXRlU3Vic2NyaXB0aW9uS2V5KGUsdCxuKXtjb25zdCBpPXR8fFwiKlwiO2lmKCEoZSYmaSYmbikpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB1dWlkLCBuYW1lLCBvciB0b3BpYyBzdHJpbmdcIik7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe3JldHVybiBlLm1hcCgoZT0+QnVmZmVyLmZyb20oYCR7ZX1gKS50b1N0cmluZyhcImJhc2U2NFwiKSkpLmpvaW4oXCIvXCIpfShlLGksbil9b25tZXNzYWdlKGUpe2NvbnN0e2FjdGlvbjp0fT1lO3N3aXRjaCh0KXtjYXNlXCJwcm9jZXNzLW1lc3NhZ2VcIjp0aGlzLnByb2Nlc3NNZXNzYWdlKGUpO2JyZWFrO2Nhc2UgdGhpcy5ldmVudHMuc3Vic2NyaWJlckFkZGVkOnRoaXMuZW1pdFN1YnNjcml2ZXJFdmVudCh0aGlzLmV2ZW50cy5zdWJzY3JpYmVyQWRkZWQsZSk7YnJlYWs7Y2FzZSB0aGlzLmV2ZW50cy5zdWJzY3JpYmVyUmVtb3ZlZDp0aGlzLmVtaXRTdWJzY3JpdmVyRXZlbnQodGhpcy5ldmVudHMuc3Vic2NyaWJlclJlbW92ZWQsZSl9cmV0dXJuITB9fXQuZGVmYXVsdD1jLHQuSW50ZXJBcHBQYXlsb2FkPWNsYXNze319LDI5Nzc6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KSxyPW4oMjA1Nyksbz1uKDcxMzgpLHM9KGUsLi4udCk9Pm5ldyBlKC4uLnQpO2NsYXNzIGEgZXh0ZW5kcyBpLkJhc2V7YXN5bmMgaW5pdChlLHQ9cyl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWluaXRcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKGBpbnRlcm9wLWJyb2tlci0ke2V9YCksaT1hd2FpdCB0aGlzLmZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldEluZm8oKTtyZXR1cm4gdChyLkludGVyb3BCcm9rZXIsdGhpcy53aXJlLG4saS5pbml0aWFsT3B0aW9ucy5pbnRlcm9wQnJva2VyQ29uZmlndXJhdGlvbnx8e30pfWNvbm5lY3RTeW5jKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1jb25uZWN0LXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksbmV3IG8uSW50ZXJvcENsaWVudCh0aGlzLndpcmUsZSx0KX19dC5kZWZhdWx0PWF9LDIwNTc6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuSW50ZXJvcEJyb2tlcj12b2lkIDA7Y29uc3QgaT1uKDk2NTkpLHI9big3MTE1KSxvPW4oMTc4Nyk7bGV0IHM9W3tpZDpcImdyZWVuXCIsZGlzcGxheU1ldGFkYXRhOntjb2xvcjpcIiMwMENDODhcIixuYW1lOlwiZ3JlZW5cIn19LHtpZDpcInB1cnBsZVwiLGRpc3BsYXlNZXRhZGF0YTp7Y29sb3I6XCIjOEM2MUZGXCIsbmFtZTpcInB1cnBsZVwifX0se2lkOlwib3JhbmdlXCIsZGlzcGxheU1ldGFkYXRhOntjb2xvcjpcIiNGRjhDNENcIixuYW1lOlwib3JhbmdlXCJ9fSx7aWQ6XCJyZWRcIixkaXNwbGF5TWV0YWRhdGE6e2NvbG9yOlwiI0ZGNUU2MFwiLG5hbWU6XCJyZWRcIn19LHtpZDpcInBpbmtcIixkaXNwbGF5TWV0YWRhdGE6e2NvbG9yOlwiI0ZGOEZCOFwiLG5hbWU6XCJwaW5rXCJ9fSx7aWQ6XCJ5ZWxsb3dcIixkaXNwbGF5TWV0YWRhdGE6e2NvbG9yOlwiI0U5RkY4RlwiLG5hbWU6XCJ5ZWxsb3dcIn19XTtjbGFzcyBhIGV4dGVuZHMgaS5CYXNle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlKSx0aGlzLmNoYW5uZWw9dCx0aGlzLmludGVyb3BDbGllbnRzPW5ldyBNYXAsdGhpcy5jb250ZXh0R3JvdXBzQnlJZD1uZXcgTWFwLG4uY29udGV4dEdyb3VwcyYmKHM9bi5jb250ZXh0R3JvdXBzKSx0aGlzLmludGVudENsaWVudE1hcD1uZXcgTWFwLHRoaXMubGFzdENvbnRleHRNYXA9bmV3IE1hcCx0aGlzLnNlc3Npb25Db250ZXh0R3JvdXBNYXA9bmV3IE1hcCx0aGlzLnNldENvbnRleHRHcm91cE1hcCgpLHRoaXMud2lyZUNoYW5uZWwodCl9c2V0Q29udGV4dCh7Y29udGV4dDplfSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLXNldC1jb250ZXh0XCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IG49dGhpcy5nZXRDbGllbnRTdGF0ZSh0KTtpZighbnx8IW4uY29udGV4dEdyb3VwSWQpdGhyb3cgbj9uZXcgRXJyb3IoXCJZb3UgbXVzdCBqb2luIGEgY29udGV4dCBncm91cCBiZWZvcmUgeW91IGNhbiBzZXQgY29udGV4dC5cIik6bmV3IEVycm9yKGBDbGllbnQgd2l0aCBJZGVudGl0eTogJHt0LnV1aWR9ICR7dC5uYW1lfSBub3QgaW4gQ2xpZW50IFN0YXRlIE1hcGApO3tjb25zdHtjb250ZXh0R3JvdXBJZDp0fT1uO2lmKCF0aGlzLmNvbnRleHRHcm91cHNCeUlkLmhhcyh0KSl0aHJvdyBuZXcgRXJyb3IoYENsaWVudCBoYXMgYSBjb250ZXh0IGdyb3VwIHRoYXQgaXNuJ3QgaW4gdGhlIGNvbnRleHQgZ3JvdXAgbWFwcGluZzogJHt0fS5gKTtjb25zdCBpPWEuY2hlY2tDb250ZXh0SW50ZWdyaXR5KGUpO2lmKCExPT09aS5pc1ZhbGlkKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNldCBDb250ZXh0IC0gYmFkIENvbnRleHQuIFJlYXNvbjogJHtpLnJlYXNvbn0uIENvbnRleHQ6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7Y29uc3Qgcj10aGlzLmNvbnRleHRHcm91cHNCeUlkLmdldCh0KSxvPWUudHlwZTtyLnNldChvLGUpLHRoaXMubGFzdENvbnRleHRNYXAuc2V0KHQsbyksQXJyYXkuZnJvbSh0aGlzLmludGVyb3BDbGllbnRzLnZhbHVlcygpKS5maWx0ZXIoKGU9PmUuY29udGV4dEdyb3VwSWQ9PT10KSkuZm9yRWFjaCgodD0+e2Zvcihjb25zdFssbl1vZiB0LmNvbnRleHRIYW5kbGVycylhLmlzQ29udGV4dFR5cGVDb21wYXRpYmxlKG8sbi5jb250ZXh0VHlwZSkmJnRoaXMuaW52b2tlQ29udGV4dEhhbmRsZXIodC5jbGllbnRJZGVudGl0eSxuLmhhbmRsZXJJZCxlKX0pKX19Z2V0Q3VycmVudENvbnRleHQoZSx0KXt2YXIgbjt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWdldC1jdXJyZW50LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgaT10aGlzLmdldENsaWVudFN0YXRlKHQpO2lmKCEobnVsbD09aT92b2lkIDA6aS5jb250ZXh0R3JvdXBJZCkpdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgYmUgYSBtZW1iZXIgb2YgYSBjb250ZXh0IGdyb3VwIHRvIGNhbGwgZ2V0Q3VycmVudENvbnRleHRcIik7Y29uc3R7Y29udGV4dEdyb3VwSWQ6cn09aSxvPXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuZ2V0KHIpLHM9dGhpcy5sYXN0Q29udGV4dE1hcC5nZXQociksYT1udWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5jb250ZXh0VHlwZSkmJnZvaWQgMCE9PW4/bjpzO3JldHVybiBvJiZhP28uZ2V0KGEpOnZvaWQgMH1hc3luYyBqb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDplLHRhcmdldDp0fSxuKXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWpvaW4tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKSx0KXthLmhhc0VuZHBvaW50SWQodCkmJmF3YWl0IHRoaXMuYWRkQ2xpZW50VG9Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOmV9LHQpO2NvbnN0IG49dGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zLmZpbHRlcigoZT0+ZS51dWlkPT09dC51dWlkJiZlLm5hbWU9PT10Lm5hbWUpKTtpZighbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBHaXZlbiBJZGVudGl0eSAke3QudXVpZH0gJHt0Lm5hbWV9IGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIEludGVyb3AgQnJva2VyLmApO24ubGVuZ3RoPjEmJmNvbnNvbGUud2FybihgTW9yZSB0aGFuIG9uZSBjb25uZWN0aW9uIGZvdW5kIGZvciBpZGVudGl0eSAke3QudXVpZH0gJHt0Lm5hbWV9YCk7Y29uc3QgaT1bXTtmb3IoY29uc3QgdCBvZiBuKWkucHVzaCh0aGlzLmFkZENsaWVudFRvQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDplfSx0KSk7YXdhaXQgUHJvbWlzZS5hbGwoaSl9ZWxzZSBhd2FpdCB0aGlzLmFkZENsaWVudFRvQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDplfSxuKX1hc3luYyBhZGRDbGllbnRUb0NvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6ZX0sdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1hZGQtY2xpZW50LXRvLWNvbnRleHQtZ3JvdXBcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj10aGlzLmdldENsaWVudFN0YXRlKHQpO2lmKCFuKXRocm93IG5ldyBFcnJvcihgQ2xpZW50IHdpdGggSWRlbnRpdHk6ICR7dC51dWlkfSAke3QubmFtZX0gbm90IGluIENsaWVudCBTdGF0ZSBNYXBgKTtpZighdGhpcy5nZXRDb250ZXh0R3JvdXBzKCkuZmluZCgodD0+dC5pZD09PWUpKSl0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRpbmcgdG8gam9pbiBhIGNvbnRleHQgZ3JvdXAgdGhhdCBkb2VzIG5vdCBleGlzdDogJHtlfS4gWW91IG1heSBvbmx5IGpvaW4gZXhpc3RpbmcgY29udGV4dCBncm91cHMuYCk7aWYobi5jb250ZXh0R3JvdXBJZCE9PWUpe24uY29udGV4dEdyb3VwSWQ9ZSxhd2FpdCBhLnNldEN1cnJlbnRDb250ZXh0R3JvdXBJbkNsaWVudE9wdGlvbnModCxlKTtjb25zdCBpPXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuZ2V0KGUpO2Zvcihjb25zdFssZV1vZiBuLmNvbnRleHRIYW5kbGVycyl7Y29uc3R7Y29udGV4dFR5cGU6bixoYW5kbGVySWQ6cn09ZTtpZih2b2lkIDA9PT1uKWkuZm9yRWFjaCgoKGUsbik9Pnt0aGlzLmludm9rZUNvbnRleHRIYW5kbGVyKHQscixlKX0pKTtlbHNlIGlmKGkuaGFzKG4pKXtjb25zdCBlPWkuZ2V0KG4pO2UmJnRoaXMuaW52b2tlQ29udGV4dEhhbmRsZXIodCxyLGUpfX19fWFzeW5jIHJlbW92ZUZyb21Db250ZXh0R3JvdXAoe3RhcmdldDplfSx0KXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLXJlbW92ZS1mcm9tLWNvbnRleHQtZ3JvdXBcIikuY2F0Y2goKGU9Pnt9KSksZSl7YS5oYXNFbmRwb2ludElkKGUpJiZhd2FpdCB0aGlzLnJlbW92ZUNsaWVudEZyb21Db250ZXh0R3JvdXAoZSk7Y29uc3QgdD10aGlzLmNoYW5uZWwuY29ubmVjdGlvbnMuZmlsdGVyKCh0PT50LnV1aWQ9PT1lLnV1aWQmJnQubmFtZT09PWUubmFtZSkpO2lmKCF0Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbm5lY3Rpb24gZm91bmQgZm9yIGdpdmVuIElkZW50aXR5ICR7ZS51dWlkfSAke2UubmFtZX1gKTt0Lmxlbmd0aD4xJiZjb25zb2xlLndhcm4oYE1vcmUgdGhhbiBvbmUgY29ubmVjdGlvbiBmb3VuZCBmb3IgaWRlbnRpdHkgJHtlLnV1aWR9ICR7ZS5uYW1lfWApO2NvbnN0IG49W107Zm9yKGNvbnN0IGUgb2YgdCluLnB1c2godGhpcy5yZW1vdmVDbGllbnRGcm9tQ29udGV4dEdyb3VwKGUpKTthd2FpdCBQcm9taXNlLmFsbChuKX1lbHNlIGF3YWl0IHRoaXMucmVtb3ZlQ2xpZW50RnJvbUNvbnRleHRHcm91cCh0KX1hc3luYyByZW1vdmVDbGllbnRGcm9tQ29udGV4dEdyb3VwKGUpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItcmVtb3ZlLWNsaWVudC1mcm9tLWNvbnRleHQtZ3JvdXBcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgdD10aGlzLmdldENsaWVudFN0YXRlKGUpO3QmJih0LmNvbnRleHRHcm91cElkPXZvaWQgMCksYXdhaXQgYS5zZXRDdXJyZW50Q29udGV4dEdyb3VwSW5DbGllbnRPcHRpb25zKGUsbnVsbCl9Z2V0Q29udGV4dEdyb3Vwcygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWdldC1jb250ZXh0LWdyb3Vwc1wiKS5jYXRjaCgoZT0+e30pKSxzLm1hcCgoZT0+KHsuLi5lfSkpKX1nZXRJbmZvRm9yQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDplfSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItZ2V0LWluZm8tZm9yLWNvbnRleHQtZ3JvdXBcIikuY2F0Y2goKGU9Pnt9KSksdGhpcy5nZXRDb250ZXh0R3JvdXBzKCkuZmluZCgodD0+dC5pZD09PWUpKX1nZXRBbGxDbGllbnRzSW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOmV9KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1nZXQtYWxsLWNsaWVudHMtaW4tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKSxBcnJheS5mcm9tKHRoaXMuaW50ZXJvcENsaWVudHMudmFsdWVzKCkpLmZpbHRlcigodD0+dC5jb250ZXh0R3JvdXBJZD09PWUpKS5tYXAoKGU9PmUuY2xpZW50SWRlbnRpdHkpKX1hc3luYyBoYW5kbGVGaXJlZEludGVudChlLHQpe2NvbnN0IG49by5nZW5lcmF0ZU92ZXJyaWRlV2FybmluZyhcImludGVyb3BDbGllbnQuZmlyZUludGVudFwiLFwiZmRjMy5yYWlzZUludGVudFwiLFwiSW50ZXJvcEJyb2tlci5oYW5kbGVGaXJlZEludGVudFwiLHQpO3Rocm93IGNvbnNvbGUud2FybihuKSxuZXcgRXJyb3Ioby5CUk9LRVJfRVJST1JTLmZpcmVJbnRlbnQpfWFzeW5jIHNldEludGVudFRhcmdldChlLHQpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItc2V0LWludGVudC10YXJnZXRcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj10aGlzLmludGVudENsaWVudE1hcC5nZXQodC5uYW1lKSxpPWBpbnRlbnQtaGFuZGxlci0ke2UubmFtZX1gO2lmKG4pe2NvbnN0IHQ9bi5nZXQoaSk7aWYodCl7aWYodC5wZW5kaW5nSW50ZW50cy5wdXNoKGUpLHQuY2xpZW50SWRlbnRpdHkmJnQuaXNSZWFkeSl7Y29uc3R7Y2xpZW50SWRlbnRpdHk6ZSxwZW5kaW5nSW50ZW50czpufT10O3RyeXtjb25zdCByPW5bbi5sZW5ndGgtMV07YXdhaXQgdGhpcy5jaGFubmVsLmRpc3BhdGNoKGUsaSxyKSx0LnBlbmRpbmdJbnRlbnRzPVtdfWNhdGNoKG4pe2NvbnNvbGUuZXJyb3IoYEVycm9yIGludm9raW5nIGludGVudCBoYW5kbGVyIGZvciBjbGllbnQgJHtlLnV1aWR9LyR7ZS5uYW1lfS8ke2UuZW5kcG9pbnRJZH1gKSx0LmlzUmVhZHk9ITF9fX1lbHNlIG4uc2V0KGkse2lzUmVhZHk6ITEscGVuZGluZ0ludGVudHM6W2VdfSl9ZWxzZXt0aGlzLmludGVudENsaWVudE1hcC5zZXQodC5uYW1lLG5ldyBNYXApO2NvbnN0IG49dGhpcy5pbnRlbnRDbGllbnRNYXAuZ2V0KHQubmFtZSk7biYmbi5zZXQoaSx7aXNSZWFkeTohMSxwZW5kaW5nSW50ZW50czpbZV19KX19YXN5bmMgaGFuZGxlSW5mb0ZvckludGVudChlLHQpe2NvbnN0IG49by5nZW5lcmF0ZU92ZXJyaWRlV2FybmluZyhcImludGVyb3BDbGllbnQuZ2V0SW5mb0ZvckludGVudFwiLFwiZmRjMy5maW5kSW50ZW50XCIsXCJJbnRlcm9wQnJva2VyLmhhbmRsZUluZm9Gb3JJbnRlbnRcIix0KTt0aHJvdyBjb25zb2xlLndhcm4obiksbmV3IEVycm9yKG8uQlJPS0VSX0VSUk9SUy5nZXRJbmZvRm9ySW50ZW50KX1hc3luYyBoYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dChlLHQpe2NvbnN0IG49by5nZW5lcmF0ZU92ZXJyaWRlV2FybmluZyhcImludGVyb3BDbGllbnQuZ2V0SW5mb0ZvckludGVudHNCeUNvbnRleHRcIixcImZkYzMuZmluZEludGVudHNCeUNvbnRleHRcIixcIkludGVyb3BCcm9rZXIuaGFuZGxlSW5mb0ZvckludGVudHNCeUNvbnRleHRcIix0KTt0aHJvdyBjb25zb2xlLndhcm4obiksbmV3IEVycm9yKG8uQlJPS0VSX0VSUk9SUy5nZXRJbmZvRm9ySW50ZW50c0J5Q29udGV4dCl9YXN5bmMgaGFuZGxlRmlyZWRJbnRlbnRGb3JDb250ZXh0KGUsdCl7Y29uc3Qgbj1vLmdlbmVyYXRlT3ZlcnJpZGVXYXJuaW5nKFwiaW50ZXJvcENsaWVudC5maXJlSW50ZW50Rm9yQ29udGV4dFwiLFwiZmRjMy5yYWlzZUludGVudEZvckNvbnRleHRcIixcIkludGVyb3BCcm9rZXIuaGFuZGxlRmlyZWRJbnRlbnRGb3JDb250ZXh0XCIsdCk7dGhyb3cgY29uc29sZS53YXJuKG4pLG5ldyBFcnJvcihvLkJST0tFUl9FUlJPUlMuZmlyZUludGVudEZvckNvbnRleHQpfWRlY29yYXRlU25hcHNob3QoZSl7cmV0dXJuey4uLmUsaW50ZXJvcFNuYXBzaG90RGV0YWlsczp7Y29udGV4dEdyb3VwU3RhdGVzOnRoaXMuZ2V0Q29udGV4dEdyb3VwU3RhdGVzKCl9fX1hcHBseVNuYXBzaG90KGUsdCl7dmFyIG47Y29uc3QgaT1udWxsPT09KG49bnVsbD09ZT92b2lkIDA6ZS5pbnRlcm9wU25hcHNob3REZXRhaWxzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb250ZXh0R3JvdXBTdGF0ZXM7aSYmKChudWxsPT10P3ZvaWQgMDp0LmNsb3NlRXhpc3RpbmdXaW5kb3dzKXx8dGhpcy51cGRhdGVFeGlzdGluZ0NsaWVudHMoaSksdGhpcy5yZWh5ZHJhdGVDb250ZXh0R3JvdXBTdGF0ZXMoaSkpfXVwZGF0ZUV4aXN0aW5nQ2xpZW50cyhlKXt0aGlzLmludGVyb3BDbGllbnRzLmZvckVhY2goKHQ9Pntjb25zdHtjbGllbnRJZGVudGl0eTpuLGNvbnRleHRHcm91cElkOmksY29udGV4dEhhbmRsZXJzOnJ9PXQ7aWYoaSl7Y29uc3QgdD1lW2ldO2Zvcihjb25zdFssZV1vZiBPYmplY3QuZW50cmllcyh0KSlyLmZvckVhY2goKHQ9Pntjb25zdHtoYW5kbGVySWQ6aSxjb250ZXh0VHlwZTpyfT10O2EuaXNDb250ZXh0VHlwZUNvbXBhdGlibGUoZS50eXBlLHIpJiZ0aGlzLmludm9rZUNvbnRleHRIYW5kbGVyKG4saSxlKX0pKX19KSl9Z2V0Q29udGV4dEdyb3VwU3RhdGVzKCl7cmV0dXJuIGEudG9PYmplY3QodGhpcy5jb250ZXh0R3JvdXBzQnlJZCl9cmVoeWRyYXRlQ29udGV4dEdyb3VwU3RhdGVzKGUpe2NvbnN0IHQ9T2JqZWN0LmVudHJpZXMoZSk7Zm9yKGNvbnN0W2Usbl1vZiB0KXtjb25zdCB0PU9iamVjdC5lbnRyaWVzKG4pO2Zvcihjb25zdFtuLGldb2YgdCl0aGlzLmNvbnRleHRHcm91cHNCeUlkLmhhcyhlKT90aGlzLmNvbnRleHRHcm91cHNCeUlkLmdldChlKS5zZXQobixpKTpjb25zb2xlLndhcm4oYEF0dGVtcHRpbmcgdG8gc2V0IGEgY29udGV4dCBncm91cCB0aGF0IGlzbid0IGluIHRoZSBjb250ZXh0IGdyb3VwIG1hcHBpbmcuIFNraXBwaW5nIGNvbnRleHQgZ3JvdXAgcmVoeWRyYXRpb24gZm9yOiAke2V9YCl9fWNvbnRleHRIYW5kbGVyUmVnaXN0ZXJlZCh7Y29udGV4dFR5cGU6ZSxoYW5kbGVySWQ6dH0sbil7Y29uc3QgaT17Y29udGV4dFR5cGU6ZSxoYW5kbGVySWQ6dH0scj10aGlzLmdldENsaWVudFN0YXRlKG4pO2lmKG51bGw9PXJ8fHIuY29udGV4dEhhbmRsZXJzLnNldCh0LGkpLHImJnIuY29udGV4dEdyb3VwSWQpe2NvbnN0e2NvbnRleHRHcm91cElkOml9PXIsbz10aGlzLmNvbnRleHRHcm91cHNCeUlkLmdldChpKTtpZih2b2lkIDA9PT1lKW8uZm9yRWFjaCgoKGUsaSk9Pnt0aGlzLmludm9rZUNvbnRleHRIYW5kbGVyKG4sdCxlKX0pKTtlbHNlIGlmKG8uaGFzKGUpKXtjb25zdCBpPW8uZ2V0KGUpO2kmJnRoaXMuaW52b2tlQ29udGV4dEhhbmRsZXIobix0LGkpfX19YXN5bmMgaW50ZW50SGFuZGxlclJlZ2lzdGVyZWQoZSx0KXtjb25zdHtoYW5kbGVySWQ6bn09ZSxpPXRoaXMuaW50ZW50Q2xpZW50TWFwLmdldCh0Lm5hbWUpLHI9bnVsbD09aT92b2lkIDA6aS5nZXQobik7aWYoaSlpZihyKXtjb25zdHtwZW5kaW5nSW50ZW50czplfT1yO3IuY2xpZW50SWRlbnRpdHk9dCxyLmlzUmVhZHk9ITA7dHJ5e2lmKGUubGVuZ3RoPjApe2NvbnN0IGk9ZVtlLmxlbmd0aC0xXTthd2FpdCB0aGlzLmNoYW5uZWwuZGlzcGF0Y2godCxuLGkpLHIucGVuZGluZ0ludGVudHM9W119fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoYEVycm9yIGludm9raW5nIGludGVudCBoYW5kbGVyOiAke259IGZvciBjbGllbnQgJHt0LnV1aWR9LyR7dC5uYW1lfS8ke3QuZW5kcG9pbnRJZH1gKX19ZWxzZSBpLnNldChuLHtpc1JlYWR5OiEwLHBlbmRpbmdJbnRlbnRzOltdLGNsaWVudElkZW50aXR5OnR9KTtlbHNle3RoaXMuaW50ZW50Q2xpZW50TWFwLnNldCh0Lm5hbWUsbmV3IE1hcCk7Y29uc3QgZT10aGlzLmludGVudENsaWVudE1hcC5nZXQodC5uYW1lKTtlJiZlLnNldChuLHtpc1JlYWR5OiEwLHBlbmRpbmdJbnRlbnRzOltdLGNsaWVudElkZW50aXR5OnR9KX19aW52b2tlQ29udGV4dEhhbmRsZXIoZSx0LG4pe3RoaXMuY2hhbm5lbC5kaXNwYXRjaChlLHQsbikuY2F0Y2goKGk9Pntjb25zb2xlLmVycm9yKGBFcnJvciBpbnZva2luZyBjb250ZXh0IGhhbmRsZXIgJHt0fSBmb3IgY29udGV4dCB0eXBlICR7bi50eXBlfSBpbiBjbGllbnQgJHtlLnV1aWR9LyR7ZS5uYW1lfS8ke2UuZW5kcG9pbnRJZH1gLGkpfSkpfXJlbW92ZUNvbnRleHRIYW5kbGVyKHtoYW5kbGVySWQ6ZX0sdCl7Y29uc3Qgbj10aGlzLmdldENsaWVudFN0YXRlKHQpO24mJm4uY29udGV4dEhhbmRsZXJzLmRlbGV0ZShlKX1oYW5kbGVKb2luU2Vzc2lvbkNvbnRleHRHcm91cCh7c2Vzc2lvbkNvbnRleHRHcm91cElkOmV9LHQpe3RyeXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gam9pbiBzZXNzaW9uIGNvbnRleHQgZ3JvdXA6IG11c3Qgc3BlY2lmeSBncm91cCBpZC5cIik7Y29uc3Qgbj10aGlzLnNlc3Npb25Db250ZXh0R3JvdXBNYXAuZ2V0KGUpO2lmKG4pbi5yZWdpc3Rlck5ld0NsaWVudCh0KTtlbHNle2NvbnN0IG49bmV3IHIuZGVmYXVsdCh0aGlzLmNoYW5uZWwsZSk7bi5yZWdpc3Rlck5ld0NsaWVudCh0KSx0aGlzLnNlc3Npb25Db250ZXh0R3JvdXBNYXAuc2V0KGUsbil9cmV0dXJue2hhc0NvbmZsaWN0OnRoaXMuY29udGV4dEdyb3Vwc0J5SWQuaGFzKGUpfX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoZSl9fWdldENsaWVudFN0YXRlKGUpe3JldHVybiB0aGlzLmludGVyb3BDbGllbnRzLmdldChlLmVuZHBvaW50SWQpfXN0YXRpYyB0b09iamVjdChlKXtjb25zdCB0PU9iamVjdC5mcm9tRW50cmllcyhlKSxuPXt9O3JldHVybiBPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKCgoW2UsdF0pPT57Y29uc3QgaT1PYmplY3QuZnJvbUVudHJpZXModCk7bltlXT1pfSkpLG59c3RhdGljIGNoZWNrQ29udGV4dEludGVncml0eShlKXtpZighZSlyZXR1cm57aXNWYWxpZDohMSxyZWFzb246XCJObyBjb250ZXh0IHN1cHBsaWVkXCJ9O2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybntpc1ZhbGlkOiExLHJlYXNvbjpcIkNvbnRleHQgbXVzdCBiZSBhbiBPYmplY3RcIn07aWYoIWUudHlwZSlyZXR1cm57aXNWYWxpZDohMSxyZWFzb246XCJDb250ZXh0IG11c3QgaGF2ZSBhIHR5cGUgcHJvcGVydHlcIn07aWYoZS5pZCYmXCJvYmplY3RcIiE9dHlwZW9mIGUuaWQpcmV0dXJue2lzVmFsaWQ6ITEscmVhc29uOlwiQ29udGV4dCBpZCBtdXN0IGJlIGFuIE9iamVjdCBwb3B1bGF0ZWQgd2l0aCBrZXktdmFsdWUgaWRlbnRpZmllcnMgKGlmIHNldClcIn07aWYoZS5pZCl7Y29uc3R7aWQ6dH09ZSxuPU9iamVjdC5rZXlzKHQpO2xldCBpPSExO2lmKCFuLmxlbmd0aClyZXR1cm57aXNWYWxpZDohMSxyZWFzb246XCJDb250ZXh0IGlkIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUga2V5LXZhbHVlIGlkZW50aWZpZXJcIn07aWYobi5mb3JFYWNoKChlPT57XCJzdHJpbmdcIj09dHlwZW9mIGUmJlwic3RyaW5nXCI9PXR5cGVvZiB0W2VdfHwoaT0hMCl9KSksaSlyZXR1cm57aXNWYWxpZDohMSxyZWFzb246XCJDb250ZXh0IGlkIGtleS12YWx1ZSBpZGVudGlmaWVycyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nXCJ9fXJldHVybiBlLm5hbWUmJlwic3RyaW5nXCIhPXR5cGVvZiBlLm5hbWU/e2lzVmFsaWQ6ITEscmVhc29uOlwiQ29udGV4dCBuYW1lIG11c3QgYmUgb2Ygc3RyaW5nIHR5cGUgKGlmIHNldClcIn06e2lzVmFsaWQ6ITB9fXN0YXRpYyBoYXNFbmRwb2ludElkKGUpe3JldHVybiB2b2lkIDAhPT1lLmVuZHBvaW50SWR9c3RhdGljIGlzQ29udGV4dFR5cGVDb21wYXRpYmxlKGUsdCl7cmV0dXJuIHZvaWQgMD09PXR8fGU9PT10fXNldENvbnRleHRHcm91cE1hcCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0Q29udGV4dEdyb3VwcygpKXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuc2V0KGUuaWQsbmV3IE1hcCl9c3RhdGljIGFzeW5jIHNldEN1cnJlbnRDb250ZXh0R3JvdXBJbkNsaWVudE9wdGlvbnMoZSx0KXtjb25zdCBuPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0RW50aXR5SW5mbyhlLnV1aWQsZS5uYW1lKTtsZXQgaTtcInZpZXdcIj09PW4uZW50aXR5VHlwZT9pPWF3YWl0IGZpbi5WaWV3LndyYXAoZSk6XCJ3aW5kb3dcIj09PW4uZW50aXR5VHlwZSYmKGk9YXdhaXQgZmluLldpbmRvdy53cmFwKGUpKSxpP2F3YWl0IGkudXBkYXRlT3B0aW9ucyh7aW50ZXJvcDp7Y3VycmVudENvbnRleHRHcm91cDp0fX0pOmNvbnNvbGUud2FybihgU2V0dGluZyBDdXJyZW50IENvbnRleHQgR3JvdXA6IEVudGl0eSB3aXRoIGlkZW50aXR5ICR7ZS51dWlkfSwgJHtlLm5hbWV9IGlzIG5vdCBhIHdpbmRvdyBvciB2aWV3LiBJdCBpcyBhICR7bi5lbnRpdHlUeXBlfSBpbnN0ZWFkLmApfXdpcmVDaGFubmVsKGUpe2Uub25Db25uZWN0aW9uKCgoZSx0KT0+e2lmKCF0aGlzLmlzQ29ubmVjdGlvbkF1dGhvcml6ZWQoZSx0KSl0aHJvdyBuZXcgRXJyb3IoYENvbm5lY3Rpb24gbm90IGF1dGhvcml6ZWQgZm9yICR7ZS51dWlkfSwgJHtlLm5hbWV9YCk7aWYoIWUuZW5kcG9pbnRJZCl0aHJvdyBuZXcgRXJyb3IoXCJWZXJzaW9uIHRvbyBvbGQgdG8gYmUgY29tcGF0aWJsZSB3aXRoIEludGVyb3AuIFBsZWFzZSB1cGdyYWRlIHlvdXIgcnVudGltZSB0byBhIG1vcmUgcmVjZW50IHZlcnNpb24uXCIpO2NvbnN0IG49e2NvbnRleHRHcm91cElkOnZvaWQgMCxjb250ZXh0SGFuZGxlcnM6bmV3IE1hcCxjbGllbnRJZGVudGl0eTplfTsobnVsbD09dD92b2lkIDA6dC5jdXJyZW50Q29udGV4dEdyb3VwKSYmdGhpcy5jb250ZXh0R3JvdXBzQnlJZC5oYXModC5jdXJyZW50Q29udGV4dEdyb3VwKSYmKG4uY29udGV4dEdyb3VwSWQ9bnVsbD09dD92b2lkIDA6dC5jdXJyZW50Q29udGV4dEdyb3VwKSx0aGlzLmludGVyb3BDbGllbnRzLnNldChlLmVuZHBvaW50SWQsbil9KSksZS5vbkRpc2Nvbm5lY3Rpb24oKGU9Pnt0aGlzLmludGVyb3BDbGllbnRzLmRlbGV0ZShlLmVuZHBvaW50SWQpO2NvbnN0IHQ9dGhpcy5pbnRlbnRDbGllbnRNYXAuZ2V0KGUubmFtZSk7dCYmZS51dWlkPT09ZmluLm1lLmlkZW50aXR5LnV1aWQmJnQuZm9yRWFjaCgoZT0+e2UuaXNSZWFkeT0hMX0pKSx0aGlzLnNlc3Npb25Db250ZXh0R3JvdXBNYXAuZm9yRWFjaCgodD0+e3Qub25EaXNjb25uZWN0aW9uKGUpfSkpfSkpLGUuYmVmb3JlQWN0aW9uKCgoZSx0LG4pPT57aWYoIXRoaXMuaXNBY3Rpb25BdXRob3JpemVkKGUsdCxuKSl0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiAoJHtlfSkgbm90IGF1dGhvcml6ZWQgZm9yICR7bi51dWlkfSwgJHtuLm5hbWV9YCk7Y29uc29sZS5sb2coZSx0LG4pfSkpLGUuYWZ0ZXJBY3Rpb24oY29uc29sZS5sb2cpLGUucmVnaXN0ZXIoXCJzZXRDb250ZXh0XCIsdGhpcy5zZXRDb250ZXh0LmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJmaXJlSW50ZW50XCIsdGhpcy5oYW5kbGVGaXJlZEludGVudC5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwiZ2V0Q3VycmVudENvbnRleHRcIix0aGlzLmdldEN1cnJlbnRDb250ZXh0LmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJnZXRJbmZvRm9ySW50ZW50XCIsdGhpcy5oYW5kbGVJbmZvRm9ySW50ZW50LmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJnZXRJbmZvRm9ySW50ZW50c0J5Q29udGV4dFwiLHRoaXMuaGFuZGxlSW5mb0ZvckludGVudHNCeUNvbnRleHQuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImZpcmVJbnRlbnRGb3JDb250ZXh0XCIsdGhpcy5oYW5kbGVGaXJlZEludGVudEZvckNvbnRleHQuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImdldENvbnRleHRHcm91cHNcIix0aGlzLmdldENvbnRleHRHcm91cHMuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImpvaW5Db250ZXh0R3JvdXBcIix0aGlzLmpvaW5Db250ZXh0R3JvdXAuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcInJlbW92ZUZyb21Db250ZXh0R3JvdXBcIix0aGlzLnJlbW92ZUZyb21Db250ZXh0R3JvdXAuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImdldEFsbENsaWVudHNJbkNvbnRleHRHcm91cFwiLHRoaXMuZ2V0QWxsQ2xpZW50c0luQ29udGV4dEdyb3VwLmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJnZXRJbmZvRm9yQ29udGV4dEdyb3VwXCIsdGhpcy5nZXRJbmZvRm9yQ29udGV4dEdyb3VwLmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJjb250ZXh0SGFuZGxlclJlZ2lzdGVyZWRcIix0aGlzLmNvbnRleHRIYW5kbGVyUmVnaXN0ZXJlZC5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwiaW50ZW50SGFuZGxlclJlZ2lzdGVyZWRcIix0aGlzLmludGVudEhhbmRsZXJSZWdpc3RlcmVkLmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJyZW1vdmVDb250ZXh0SGFuZGxlclwiLHRoaXMucmVtb3ZlQ29udGV4dEhhbmRsZXIuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcInNlc3Npb25Db250ZXh0R3JvdXA6Y3JlYXRlSWZOZWVkZWRcIix0aGlzLmhhbmRsZUpvaW5TZXNzaW9uQ29udGV4dEdyb3VwLmJpbmQodGhpcykpfWFzeW5jIGlzQ29ubmVjdGlvbkF1dGhvcml6ZWQoZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1pcy1jb25uZWN0aW9uLWF1dGhvcml6ZWRcIikuY2F0Y2goKGU9Pnt9KSksITB9YXN5bmMgaXNBY3Rpb25BdXRob3JpemVkKGUsdCxuKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1pcy1hY3Rpb24tYXV0aG9yaXplZFwiKS5jYXRjaCgoZT0+e30pKSwhMH19dC5JbnRlcm9wQnJva2VyPWF9LDcxMzg6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0scz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbnRlcm9wQ2xpZW50PXZvaWQgMDtjb25zdCBhPW4oOTY1OSksYz1uKDgyMiksZD1uKDE3ODcpO2NsYXNzIGggZXh0ZW5kcyBhLkJhc2V7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKGUpLGkuc2V0KHRoaXMsdm9pZCAwKSxyLnNldCh0aGlzLHZvaWQgMCksbyh0aGlzLHIsbmV3IE1hcCksbyh0aGlzLGksdGhpcy53aXJlLmVudmlyb25tZW50LndoZW5SZWFkeSgpLnRoZW4oKCgpPT50aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChgaW50ZXJvcC1icm9rZXItJHt0fWAse3BheWxvYWQ6bn0pKSkpfWFzeW5jIHNldENvbnRleHQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1jbGllbnQtc2V0LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHModGhpcyxpKSkuZGlzcGF0Y2goXCJzZXRDb250ZXh0XCIse2NvbnRleHQ6ZX0pfWFzeW5jIGFkZENvbnRleHRIYW5kbGVyKGUsdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1hZGQtY29udGV4dC1oYW5kbGVyXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IG49YXdhaXQgcyh0aGlzLGkpO2xldCByO3Q/KHI9YGludm9rZUNvbnRleHRIYW5kbGVyLSR7dH0tJHtkLmdlbmVyYXRlSWQoKX1gLGNvbnNvbGUud2FybihgV2FybmluZzogQnkgcHJvdmlkaW5nIGEgY29udGV4dFR5cGUgKCR7dH0pLCB5b3UgYXJlIHVzaW5nIHRoZSBleHBlcmltZW50YWwgYWRkQ29udGV4dEhhbmRsZXIuIFRvIGF2b2lkIGlzc3VlcywgbWFrZSBzdXJlIHlvdSBhcmUgYWRkaW5nIHlvdXIgY29udGV4dCBoYW5kbGVycyBhdCB0aGUgdG9wIGxldmVsIGluIHlvdXIgYXBwbGljYXRpb24uYCkpOnI9XCJpbnZva2VDb250ZXh0SGFuZGxlclwiO2NvbnN0IG89ZC53cmFwQ29udGV4dEhhbmRsZXIoZSxyKTtyZXR1cm4gbi5yZWdpc3RlcihyLG8pLGF3YWl0IG4uZGlzcGF0Y2goXCJjb250ZXh0SGFuZGxlclJlZ2lzdGVyZWRcIix7aGFuZGxlcklkOnIsY29udGV4dFR5cGU6dH0pLHt1bnN1YnNjcmliZTphc3luYygpPT57bi5yZW1vdmUociksYXdhaXQgbi5kaXNwYXRjaChcInJlbW92ZUNvbnRleHRIYW5kbGVyXCIse2hhbmRsZXJJZDpyfSl9fX1hc3luYyBnZXRDb250ZXh0R3JvdXBzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1jbGllbnQtZ2V0LWNvbnRleHQtZ3JvdXBzXCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwiZ2V0Q29udGV4dEdyb3Vwc1wiKX1hc3luYyBqb2luQ29udGV4dEdyb3VwKGUsdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1qb2luLWNvbnRleHQtZ3JvdXBcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj1hd2FpdCBzKHRoaXMsaSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gY29udGV4dEdyb3VwSWQgc3BlY2lmaWVkIGZvciBqb2luQ29udGV4dEdyb3VwLlwiKTtyZXR1cm4gbi5kaXNwYXRjaChcImpvaW5Db250ZXh0R3JvdXBcIix7Y29udGV4dEdyb3VwSWQ6ZSx0YXJnZXQ6dH0pfWFzeW5jIHJlbW92ZUZyb21Db250ZXh0R3JvdXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1jbGllbnQtcmVtb3ZlLWZyb20tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgcyh0aGlzLGkpKS5kaXNwYXRjaChcInJlbW92ZUZyb21Db250ZXh0R3JvdXBcIix7dGFyZ2V0OmV9KX1hc3luYyBnZXRBbGxDbGllbnRzSW5Db250ZXh0R3JvdXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1nZXQtYWxsLWNsaWVudHMtaW4tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHModGhpcyxpKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0R3JvdXBJZCBzcGVjaWZpZWQgZm9yIGdldEFsbENsaWVudHNJbkNvbnRleHRHcm91cC5cIik7cmV0dXJuIHQuZGlzcGF0Y2goXCJnZXRBbGxDbGllbnRzSW5Db250ZXh0R3JvdXBcIix7Y29udGV4dEdyb3VwSWQ6ZX0pfWFzeW5jIGdldEluZm9Gb3JDb250ZXh0R3JvdXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1nZXQtaW5mby1mb3ItY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHModGhpcyxpKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0R3JvdXBJZCBzcGVjaWZpZWQgZm9yIGdldEluZm9Gb3JDb250ZXh0R3JvdXAuXCIpO3JldHVybiB0LmRpc3BhdGNoKFwiZ2V0SW5mb0ZvckNvbnRleHRHcm91cFwiLHtjb250ZXh0R3JvdXBJZDplfSl9YXN5bmMgZmlyZUludGVudChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1maXJlLWludGVudFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgcyh0aGlzLGkpKS5kaXNwYXRjaChcImZpcmVJbnRlbnRcIixlKX1hc3luYyByZWdpc3RlckludGVudEhhbmRsZXIoZSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LXJlZ2lzdGVyLWludGVudC1oYW5kbGVyXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IG49YXdhaXQgcyh0aGlzLGkpLHI9YGludGVudC1oYW5kbGVyLSR7dH1gLG89dGhpcy53cmFwSW50ZW50SGFuZGxlcihlLHIpO3RyeXthd2FpdCBuLnJlZ2lzdGVyKHIsbyksYXdhaXQgbi5kaXNwYXRjaChcImludGVudEhhbmRsZXJSZWdpc3RlcmVkXCIse2hhbmRsZXJJZDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlZ2lzdGVyIGludGVudCBoYW5kbGVyXCIpfXJldHVybnt1bnN1YnNjcmliZTphc3luYygpPT57bi5yZW1vdmUocil9fX1hc3luYyBnZXRDdXJyZW50Q29udGV4dChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1nZXQtY3VycmVudC1jb250ZXh0XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwiZ2V0Q3VycmVudENvbnRleHRcIix7Y29udGV4dFR5cGU6ZX0pfWFzeW5jIGdldEluZm9Gb3JJbnRlbnQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1jbGllbnQtZ2V0LWluZm8tZm9yLWludGVudFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgcyh0aGlzLGkpKS5kaXNwYXRjaChcImdldEluZm9Gb3JJbnRlbnRcIixlKX1hc3luYyBnZXRJbmZvRm9ySW50ZW50c0J5Q29udGV4dChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1nZXQtaW5mby1mb3ItaW50ZW50cy1ieS1jb250ZXh0XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwiZ2V0SW5mb0ZvckludGVudHNCeUNvbnRleHRcIixlKX1hc3luYyBmaXJlSW50ZW50Rm9yQ29udGV4dChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1maXJlLWludGVudC1mb3ItY29udGV4dFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgcyh0aGlzLGkpKS5kaXNwYXRjaChcImZpcmVJbnRlbnRGb3JDb250ZXh0XCIsZSl9YXN5bmMgam9pblNlc3Npb25Db250ZXh0R3JvdXAoZSl7dHJ5e2NvbnN0IHQ9cyh0aGlzLHIpLmdldChlKTtpZih0KXJldHVybiB0LmdldFVzZXJJbnN0YW5jZSgpO2NvbnN0IG49YXdhaXQgcyh0aGlzLGkpLHtoYXNDb25mbGljdDpvfT1hd2FpdCBuLmRpc3BhdGNoKFwic2Vzc2lvbkNvbnRleHRHcm91cDpjcmVhdGVJZk5lZWRlZFwiLHtzZXNzaW9uQ29udGV4dEdyb3VwSWQ6ZX0pO28mJmNvbnNvbGUud2FybihgQSAobm9uLXNlc3Npb24pIGNvbnRleHQgZ3JvdXAgd2l0aCB0aGUgbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IGV4aXN0cy4gSWYgeW91IGFyZSB0cnlpbmcgdG8gam9pbiBhIENvbnRleHQgR3JvdXAsIGNhbGwgam9pbkNvbnRleHRHcm91cCBpbnN0ZWFkLmApO2NvbnN0IGE9bmV3IGMuZGVmYXVsdCh0aGlzLndpcmUscyh0aGlzLGkpLGUpO3JldHVybiBzKHRoaXMscikuc2V0KGUsYSksYS5nZXRVc2VySW5zdGFuY2UoKX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKGBFcnJvciB0aHJvd24gdHJ5aW5nIHRvIGNyZWF0ZSBTZXNzaW9uIENvbnRleHQgR3JvdXAgd2l0aCBpZCBcIiR7ZX1cIjogJHt0fWApLHR9fXdyYXBJbnRlbnRIYW5kbGVyKGUsdCl7cmV0dXJuIGFzeW5jIG49Pnt0cnl7YXdhaXQgZShuKX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKGBFcnJvciB0aHJvd24gYnkgaGFuZGxlciAke3R9OiAke2V9YCksZX19fX10LkludGVyb3BDbGllbnQ9aCxpPW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXB9LDcxMTU6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big4NzA2KTt0LmRlZmF1bHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnByb3ZpZGVyPWUsdGhpcy5pZD10LHRoaXMubGFzdENvbnRleHQ9dm9pZCAwLHRoaXMuY29udGV4dEdyb3VwTWFwPW5ldyBNYXAsdGhpcy5jbGllbnRzPW5ldyBNYXAsdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfXJlZ2lzdGVyTGlzdGVuZXJzKCl7dGhpcy5wcm92aWRlci5yZWdpc3Rlcihgc2Vzc2lvbkNvbnRleHRHcm91cDpnZXRDb250ZXh0LSR7dGhpcy5pZH1gLHRoaXMuZ2V0Q3VycmVudENvbnRleHQuYmluZCh0aGlzKSksdGhpcy5wcm92aWRlci5yZWdpc3Rlcihgc2Vzc2lvbkNvbnRleHRHcm91cDpzZXRDb250ZXh0LSR7dGhpcy5pZH1gLHRoaXMuc2V0Q29udGV4dC5iaW5kKHRoaXMpKSx0aGlzLnByb3ZpZGVyLnJlZ2lzdGVyKGBzZXNzaW9uQ29udGV4dEdyb3VwOmhhbmRsZXJBZGRlZC0ke3RoaXMuaWR9YCx0aGlzLmhhbmRsZXJBZGRlZC5iaW5kKHRoaXMpKSx0aGlzLnByb3ZpZGVyLnJlZ2lzdGVyKGBzZXNzaW9uQ29udGV4dEdyb3VwOmhhbmRsZXJSZW1vdmVkLSR7dGhpcy5pZH1gLHRoaXMuaGFuZGxlclJlbW92ZWQuYmluZCh0aGlzKSl9Z2V0Q3VycmVudENvbnRleHQoZSl7cmV0dXJuIGUudHlwZT90aGlzLmNvbnRleHRHcm91cE1hcC5nZXQoZS50eXBlKTp0aGlzLmxhc3RDb250ZXh0fXNldENvbnRleHQoZSx0KXtjb25zdHtjb250ZXh0Om59PWUscj1pLkludGVyb3BCcm9rZXIuY2hlY2tDb250ZXh0SW50ZWdyaXR5KG4pO2lmKCExPT09ci5pc1ZhbGlkKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNldCBDb250ZXh0IC0gYmFkIENvbnRleHQuIFJlYXNvbjogJHtyLnJlYXNvbn0uIENvbnRleHQ6ICR7SlNPTi5zdHJpbmdpZnkobil9YCk7aWYoIXRoaXMuZ2V0Q2xpZW50U3RhdGUodCkpdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgd2l0aCBJZGVudGl0eTogJHt0LnV1aWR9ICR7dC5uYW1lfSBub3QgaW4gU2Vzc2lvbiBDbGllbnQgU3RhdGUgTWFwYCk7dGhpcy5jb250ZXh0R3JvdXBNYXAuc2V0KG4udHlwZSxuKSx0aGlzLmxhc3RDb250ZXh0PW4sQXJyYXkuZnJvbSh0aGlzLmNsaWVudHMudmFsdWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9ZS5jb250ZXh0SGFuZGxlcnMuZ2V0KG4udHlwZSkpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKHQ9Pnt0aGlzLnByb3ZpZGVyLmRpc3BhdGNoKGUuY2xpZW50SWRlbnRpdHksdCxuKX0pKSxlLmdsb2JhbEhhbmRsZXImJnRoaXMucHJvdmlkZXIuZGlzcGF0Y2goZS5jbGllbnRJZGVudGl0eSxlLmdsb2JhbEhhbmRsZXIsbil9KSl9Z2V0Q2xpZW50U3RhdGUoZSl7cmV0dXJuIHRoaXMuY2xpZW50cy5nZXQoZS5lbmRwb2ludElkKX1oYW5kbGVyQWRkZWQoZSx0KXtjb25zdHtoYW5kbGVySWQ6bixjb250ZXh0VHlwZTppfT1lLHI9dGhpcy5nZXRDbGllbnRTdGF0ZSh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoYENsaWVudCB3aXRoIElkZW50aXR5OiAke3QudXVpZH0gJHt0Lm5hbWV9IG5vdCBpbiBDbGllbnQgU3RhdGUgTWFwYCk7aWYoaSl7Y29uc3QgZT1yLmNvbnRleHRIYW5kbGVycy5nZXQoaSl8fFtdO3IuY29udGV4dEhhbmRsZXJzLnNldChpLFsuLi5lLG5dKTtjb25zdCBvPXRoaXMuY29udGV4dEdyb3VwTWFwLmdldChpKTtvJiZ0aGlzLnByb3ZpZGVyLmRpc3BhdGNoKHQsbixvKX1lbHNlIHIuZ2xvYmFsSGFuZGxlcj1uLFsuLi50aGlzLmNvbnRleHRHcm91cE1hcC5rZXlzKCldLmZvckVhY2goKGU9Pntjb25zdCBpPXRoaXMuY29udGV4dEdyb3VwTWFwLmdldChlKTtpJiZ0aGlzLnByb3ZpZGVyLmRpc3BhdGNoKHQsbixpKX0pKX1oYW5kbGVyUmVtb3ZlZChlLHQpe2NvbnN0e2hhbmRsZXJJZDpufT1lLGk9dGhpcy5jbGllbnRzLmdldCh0LmVuZHBvaW50SWQpO2k/KEFycmF5LmZyb20oaS5jb250ZXh0SGFuZGxlcnMpLmZvckVhY2goKChbLGVdKT0+e2NvbnN0IHQ9ZS5pbmRleE9mKG4pO3Q+LTEmJmUuc3BsaWNlKHQsMSl9KSksaS5nbG9iYWxIYW5kbGVyPT09biYmKGkuZ2xvYmFsSGFuZGxlcj12b2lkIDApKTpjb25zb2xlLndhcm4oYFRyeWluZyB0byByZW1vdmUgYSBoYW5kbGVyIGZyb20gYSBjbGllbnQgdGhhdCBpc24ndCBtYXBwZWQuIGhhbmRsZXJJZDogJHtufS4gY2xpZW50SWRlbnRpdHk6ICR7dH1gKX1yZWdpc3Rlck5ld0NsaWVudChlKXtpZighdGhpcy5jbGllbnRzLmhhcyhlLmVuZHBvaW50SWQpKXtjb25zdCB0PXtjb250ZXh0SGFuZGxlcnM6bmV3IE1hcCxjbGllbnRJZGVudGl0eTplLGdsb2JhbEhhbmRsZXI6dm9pZCAwfTt0aGlzLmNsaWVudHMuc2V0KGUuZW5kcG9pbnRJZCx0KX19b25EaXNjb25uZWN0aW9uKGUpe3RoaXMuY2xpZW50cy5kZWxldGUoZS5lbmRwb2ludElkKX19fSw4MjI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59LG89dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9big5NjU5KSxhPW4oMTc4Nyk7Y2xhc3MgYyBleHRlbmRzIHMuQmFzZXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSksaS5zZXQodGhpcyx2b2lkIDApLHRoaXMuaWQ9bixyKHRoaXMsaSx0KX1hc3luYyBzZXRDb250ZXh0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3Atc2Vzc2lvbi1jb250ZXh0LWdyb3VwLXNldC1jb250ZXh0XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBvKHRoaXMsaSkpLmRpc3BhdGNoKGBzZXNzaW9uQ29udGV4dEdyb3VwOnNldENvbnRleHQtJHt0aGlzLmlkfWAse3Nlc3Npb25Db250ZXh0R3JvdXBJZDp0aGlzLmlkLGNvbnRleHQ6ZX0pfWFzeW5jIGdldEN1cnJlbnRDb250ZXh0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3Atc2Vzc2lvbi1jb250ZXh0LWdyb3VwLWdldC1jb250ZXh0XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBvKHRoaXMsaSkpLmRpc3BhdGNoKGBzZXNzaW9uQ29udGV4dEdyb3VwOmdldENvbnRleHQtJHt0aGlzLmlkfWAse3Nlc3Npb25Db250ZXh0R3JvdXBJZDp0aGlzLmlkLHR5cGU6ZX0pfWFzeW5jIGFkZENvbnRleHRIYW5kbGVyKGUsdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLXNlc3Npb24tY29udGV4dC1ncm91cC1hZGQtaGFuZGxlclwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPWF3YWl0IG8odGhpcyxpKTtsZXQgcjtyZXR1cm4gcj10P2BzZXNzaW9uQ29udGV4dEhhbmRsZXI6aW52b2tlLSR7dGhpcy5pZH0tJHt0fS0ke2EuZ2VuZXJhdGVJZCgpfWA6YHNlc3Npb25Db250ZXh0SGFuZGxlcjppbnZva2UtJHt0aGlzLmlkfWAsbi5yZWdpc3RlcihyLGEud3JhcENvbnRleHRIYW5kbGVyKGUscikpLG4uZGlzcGF0Y2goYHNlc3Npb25Db250ZXh0R3JvdXA6aGFuZGxlckFkZGVkLSR7dGhpcy5pZH1gLHtoYW5kbGVySWQ6cixjb250ZXh0VHlwZTp0fSkse3Vuc3Vic2NyaWJlOmF3YWl0IHRoaXMuY3JlYXRlVW5zdWJzY3JpYmVDYihyKX19YXN5bmMgY3JlYXRlVW5zdWJzY3JpYmVDYihlKXtjb25zdCB0PWF3YWl0IG8odGhpcyxpKTtyZXR1cm4gYXN5bmMoKT0+e3QucmVtb3ZlKGUpLGF3YWl0IHQuZGlzcGF0Y2goYHNlc3Npb25Db250ZXh0R3JvdXA6aGFuZGxlclJlbW92ZWQtJHt0aGlzLmlkfWAse2hhbmRsZXJJZDplfSl9fWdldFVzZXJJbnN0YW5jZSgpe3JldHVybntpZDp0aGlzLmlkLHNldENvbnRleHQ6YS53cmFwSW5UcnlDYXRjaCh0aGlzLnNldENvbnRleHQuYmluZCh0aGlzKSxcIkZhaWxlZCB0byBzZXQgY29udGV4dDogXCIpLGdldEN1cnJlbnRDb250ZXh0OmEud3JhcEluVHJ5Q2F0Y2godGhpcy5nZXRDdXJyZW50Q29udGV4dC5iaW5kKHRoaXMpLFwiRmFpbGVkIHRvIGdldCBjb250ZXh0OiBcIiksYWRkQ29udGV4dEhhbmRsZXI6YS53cmFwSW5UcnlDYXRjaCh0aGlzLmFkZENvbnRleHRIYW5kbGVyLmJpbmQodGhpcyksXCJGYWlsZWQgdG8gYWRkIGNvbnRleHQgaGFuZGxlcjogXCIpfX19dC5kZWZhdWx0PWMsaT1uZXcgV2Vha01hcH0sODcwNjpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHx0Lmhhc093blByb3BlcnR5KG4pfHxpKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbz1uKDI5NzcpO3QuZGVmYXVsdD1vLmRlZmF1bHQscihuKDcxMzgpLHQpLHIobigyMDU3KSx0KX0sMTc4NzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQlJPS0VSX0VSUk9SUz10LmdlbmVyYXRlT3ZlcnJpZGVXYXJuaW5nPXQuZ2VuZXJhdGVPdmVycmlkZUVycm9yPXQud3JhcENvbnRleHRIYW5kbGVyPXQud3JhcEluVHJ5Q2F0Y2g9dC5nZW5lcmF0ZUlkPXZvaWQgMCx0LmdlbmVyYXRlSWQ9KCk9PmAke01hdGgucmFuZG9tKCl9JHtEYXRlLm5vdygpfWAsdC53cmFwSW5UcnlDYXRjaD0oZSx0KT0+KC4uLm4pPT57dHJ5e3JldHVybiBlKC4uLm4pfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcigodHx8XCJcIikrZSl9fSx0LndyYXBDb250ZXh0SGFuZGxlcj0oZSx0KT0+YXN5bmMgbj0+e3RyeXthd2FpdCBlKG4pfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoYEVycm9yIHRocm93biBieSBoYW5kbGVyICR7dH0gZm9yIGNvbnRleHQgdHlwZSAke24udHlwZX06ICR7ZX1gKSxlfX0sdC5nZW5lcmF0ZU92ZXJyaWRlRXJyb3I9KGUsdCk9PmBZb3UgaGF2ZSB0cmllZCB0byB0byB1c2UgJHtlfSBidXQgJHt0fSBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlbiBpbiB0aGUgSW50ZXJvcCBCcm9rZXIuIFBsZWFzZSBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uLiBSZWZlciB0byBvdXIgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBpbmZvLmAsdC5nZW5lcmF0ZU92ZXJyaWRlV2FybmluZz0oZSx0LG4saSk9Pntjb25zdHt1dWlkOnIsbmFtZTpvfT1pO3JldHVybmBFbnRpdHkgd2l0aCBpZGVudGl0eTogJHtyfS8ke299IGhhcyBjYWxsZWQgJHtlfSBvciAke3R9IGJ1dCAke259IGhhcyBub3QgYmVlbiBvdmVycmlkZGVuLmB9LHQuQlJPS0VSX0VSUk9SUz17ZmlyZUludGVudDp0LmdlbmVyYXRlT3ZlcnJpZGVFcnJvcihcImZpcmVJbnRlbnRcIixcImhhbmRsZUZpcmVkSW50ZW50XCIpLGZpcmVJbnRlbnRGb3JDb250ZXh0OnQuZ2VuZXJhdGVPdmVycmlkZUVycm9yKFwiZmlyZUludGVudEZvckNvbnRleHRcIixcImhhbmRsZUZpcmVkSW50ZW50Rm9yQ29udGV4dFwiKSxnZXRJbmZvRm9ySW50ZW50OnQuZ2VuZXJhdGVPdmVycmlkZUVycm9yKFwiZ2V0SW5mb0ZvckludGVudFwiLFwiaGFuZGxlSW5mb0ZvckludGVudFwiKSxnZXRJbmZvRm9ySW50ZW50c0J5Q29udGV4dDp0LmdlbmVyYXRlT3ZlcnJpZGVFcnJvcihcImdldEluZm9Gb3JJbnRlbnRzQnlDb250ZXh0XCIsXCJoYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dFwiKX19LDk2NDE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0TWU9dC5nZXRCYXNlTWU9dC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZT12b2lkIDA7Y29uc3QgaT1uKDQxNjkpLHI9big2NzIwKSxvPW4oNDk5Nyk7ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJue2lzVmlldzpcInZpZXdcIj09PWUsaXNXaW5kb3c6XCJ3aW5kb3dcIj09PWUsaXNGcmFtZTpcImlmcmFtZVwiPT09ZSxpc0V4dGVybmFsOlwiZXh0ZXJuYWwgY29ubmVjdGlvblwiPT09ZSx1dWlkOnQsbmFtZTpuLGVudGl0eVR5cGU6ZX19dC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZT1cIllvdSBhcmUgbm90IHJ1bm5pbmcgaW4gT3BlbkZpbi5cIix0LmdldEJhc2VNZT1zLHQuZ2V0TWU9ZnVuY3Rpb24oZSl7Y29uc3R7dXVpZDpuLG5hbWU6YSxlbnRpdHlUeXBlOmN9PWUubWUsZD17c2V0Q29udGV4dCgpe3Rocm93IG5ldyBFcnJvcih0LmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX0sYWRkQ29udGV4dEhhbmRsZXIoKXt0aHJvdyBuZXcgRXJyb3IodC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9LGdldENvbnRleHRHcm91cHMoKXt0aHJvdyBuZXcgRXJyb3IodC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9LGpvaW5Db250ZXh0R3JvdXAoKXt0aHJvdyBuZXcgRXJyb3IodC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9LHJlbW92ZUZyb21Db250ZXh0R3JvdXAoKXt0aHJvdyBuZXcgRXJyb3IodC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9LGdldEFsbENsaWVudHNJbkNvbnRleHRHcm91cCgpe3Rocm93IG5ldyBFcnJvcih0LmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX0sZ2V0SW5mb0ZvckNvbnRleHRHcm91cCgpe3Rocm93IG5ldyBFcnJvcih0LmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX19LGg9XCJJbnRlcm9wIEFQSSBoYXMgbm90IGJlZW4gaW5zdGFudGlhdGVkLiBFaXRoZXIgY29ubmVjdGlvbiBoYXMgZmFpbGVkIG9yIHlvdSBoYXZlIG5vdCBkZWNsYXJlZCBpbnRlcm9wIGluIHlvdXIgY29uZmlnLlwiLGw9e3NldENvbnRleHQoKXt0aHJvdyBuZXcgRXJyb3IoaCl9LGFkZENvbnRleHRIYW5kbGVyKCl7dGhyb3cgbmV3IEVycm9yKGgpfSxnZXRDb250ZXh0R3JvdXBzKCl7dGhyb3cgbmV3IEVycm9yKGgpfSxqb2luQ29udGV4dEdyb3VwKCl7dGhyb3cgbmV3IEVycm9yKGgpfSxyZW1vdmVGcm9tQ29udGV4dEdyb3VwKCl7dGhyb3cgbmV3IEVycm9yKGgpfSxnZXRBbGxDbGllbnRzSW5Db250ZXh0R3JvdXAoKXt0aHJvdyBuZXcgRXJyb3IoaCl9LGdldEluZm9Gb3JDb250ZXh0R3JvdXAoKXt0aHJvdyBuZXcgRXJyb3IoaCl9fSx1PXtldmVudE5hbWVzOigpPT57dGhyb3cgbmV3IEVycm9yKHQuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfSxlbWl0OigpPT57dGhyb3cgbmV3IEVycm9yKHQuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfSxsaXN0ZW5lcnM6KCk9Pnt0aHJvdyBuZXcgRXJyb3IodC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9LGxpc3RlbmVyQ291bnQ6KCk9Pnt0aHJvdyBuZXcgRXJyb3IodC5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9LG9uOigpPT57dGhyb3cgbmV3IEVycm9yKHQuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfSxhZGRMaXN0ZW5lcjooKT0+e3Rocm93IG5ldyBFcnJvcih0LmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX0sb25jZTooKT0+e3Rocm93IG5ldyBFcnJvcih0LmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX0scHJlcGVuZExpc3RlbmVyOigpPT57dGhyb3cgbmV3IEVycm9yKHQuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfSxwcmVwZW5kT25jZUxpc3RlbmVyOigpPT57dGhyb3cgbmV3IEVycm9yKHQuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfSxyZW1vdmVMaXN0ZW5lcjooKT0+e3Rocm93IG5ldyBFcnJvcih0LmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX0scmVtb3ZlQWxsTGlzdGVuZXJzOigpPT57dGhyb3cgbmV3IEVycm9yKHQuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfX07c3dpdGNoKGMpe2Nhc2VcInZpZXdcIjpyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgaS5WaWV3KGUse3V1aWQ6bixuYW1lOmF9KSxzKGMsbixhKSx7aW50ZXJvcDpsLGlzT3BlbkZpbjohMH0pO2Nhc2VcIndpbmRvd1wiOnJldHVybiBPYmplY3QuYXNzaWduKG5ldyBvLl9XaW5kb3coZSx7dXVpZDpuLG5hbWU6YX0pLHMoYyxuLGEpLHtpbnRlcm9wOmwsaXNPcGVuRmluOiEwfSk7Y2FzZVwiaWZyYW1lXCI6cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IHIuX0ZyYW1lKGUse3V1aWQ6bixuYW1lOmF9KSxzKGMsbixhKSx7aW50ZXJvcDpsLGlzT3BlbkZpbjohMH0pO2RlZmF1bHQ6cmV0dXJuey4uLnMoYyxuLGEpLC4uLnUsaW50ZXJvcDpkLGlzT3BlbkZpbjohMX19fX0sNzI4MzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDk2NTkpLHI9big2Mzk0KSxvPW4oOTg3Mik7Y2xhc3MgcyBleHRlbmRzIGkuQmFzZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuX2NoYW5uZWw9dCx0aGlzLl9pbml0aWFsaXplcj0oLi4uZSk9PnRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRQcm92aWRlckluaXRpYWxpemVyKCkudGhlbigodD0+dCh0aGlzLndpcmUuZW52aXJvbm1lbnQpKC4uLmUpKSksdGhpcy5MYXlvdXQ9bmV3IHIuTGF5b3V0TW9kdWxlKHRoaXMud2lyZSl9YXN5bmMgaW5pdChlKXtjb25zdCB0PW51bGw9PWU/dm9pZCAwOmUub3ZlcnJpZGVDYWxsYmFjayxuPWF3YWl0IHRoaXMuZmluLkludGVyb3AuaW5pdCh0aGlzLmZpbi5tZS51dWlkLG51bGw9PWU/dm9pZCAwOmUuaW50ZXJvcE92ZXJyaWRlKTtyZXR1cm4gd2luZG93LmludGVyb3BCcm9rZXI9bix0aGlzLl9pbml0aWFsaXplcih0LG4pfWFzeW5jIHdyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicGxhdGZvcm0td3JhcFwiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5QbGF0Zm9ybSh7dXVpZDplLnV1aWR9LHRoaXMuX2NoYW5uZWwpfXdyYXBTeW5jKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXdyYXAtc3luY1wiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5QbGF0Zm9ybSh7dXVpZDplLnV1aWR9LHRoaXMuX2NoYW5uZWwpfWFzeW5jIGdldEN1cnJlbnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1nZXQtY3VycmVudFwiKS5jYXRjaCgoZT0+e30pKSx0aGlzLndyYXAoe3V1aWQ6dGhpcy53aXJlLm1lLnV1aWR9KX1nZXRDdXJyZW50U3luYygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWdldC1jdXJyZW50LXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksdGhpcy53cmFwU3luYyh7dXVpZDp0aGlzLndpcmUubWUudXVpZH0pfXN0YXJ0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXN0YXJ0XCIpLmNhdGNoKChlPT57fSkpLG5ldyBQcm9taXNlKChhc3luYyh0LG4pPT57dHJ5e2NvbnN0e3V1aWQ6bn09ZSxpPWF3YWl0IHRoaXMuZmluLkFwcGxpY2F0aW9uLl9jcmVhdGUoey4uLmUsaXNQbGF0Zm9ybUNvbnRyb2xsZXI6ITB9KTtpLm9uY2UoXCJwbGF0Zm9ybS1hcGktcmVhZHlcIiwoKCk9PnQodGhpcy53cmFwU3luYyh7dXVpZDpufSkpKSksaS5fcnVuKHt1dWlkOm59KX1jYXRjaChlKXtuKGUpfX0pKX1zdGFydEZyb21NYW5pZmVzdChlLHQpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXN0YXJ0LWZyb20tbWFuaWZlc3RcIikuY2F0Y2goKGU9Pnt9KSksbmV3IFByb21pc2UoKGFzeW5jKG4saSk9Pnt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLmZpbi5BcHBsaWNhdGlvbi5fY3JlYXRlRnJvbU1hbmlmZXN0KGUpO2kub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+bih0aGlzLndyYXBTeW5jKHt1dWlkOmkuaWRlbnRpdHkudXVpZH0pKSkpLGkuX3J1bih0KX1jYXRjaChlKXtpKGUpfX0pKX19dC5kZWZhdWx0PXN9LDk4NzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGxhdGZvcm09dm9pZCAwO2NvbnN0IG89big5NjU5KSxzPW4oNDk5OSksYT1uZXcgTWFwO2NsYXNzIGMgZXh0ZW5kcyBvLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodC53aXJlLFwiYXBwbGljYXRpb25cIixlLnV1aWQpLHRoaXMuZ2V0Q2xpZW50PWU9Pnt0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWdldC1jbGllbnRcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWV8fHRoaXMuaWRlbnRpdHkse3V1aWQ6bn09dDtpZighYS5oYXMobikpe2NvbnN0IGU9cih0aGlzLGkpLmNhbGwodGhpcyxuKTthLnNldChuLGUpfXJldHVybiBhLmdldChuKX0saS5zZXQodGhpcywoYXN5bmMgZT0+e3RyeXtjb25zdCB0PWBjdXN0b20tZnJhbWUtJHtlfWAsbj1hd2FpdCB0aGlzLl9jaGFubmVsLmNvbm5lY3QodCx7d2FpdDohMX0pO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoKCk9PnthLmRlbGV0ZShlKX0pKSxufWNhdGNoKHQpe3Rocm93IGEuZGVsZXRlKGUpLG5ldyBFcnJvcihcIlRoZSB0YXJnZXRlZCBQbGF0Zm9ybSBpcyBub3QgY3VycmVudGx5IHJ1bm5pbmcuIExpc3RlbiBmb3IgYXBwbGljYXRpb24tc3RhcnRlZCBldmVudCBmb3IgdGhlIGdpdmVuIFV1aWQuXCIpfX0pKSx0aGlzLmxhdW5jaExlZ2FjeU1hbmlmZXN0PXRoaXMubGF1bmNoQ29udGVudE1hbmlmZXN0O2NvbnN0IG49cy52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4pO3RoaXMuX2NoYW5uZWw9dCx0aGlzLmlkZW50aXR5PXt1dWlkOmUudXVpZH0sdGhpcy5MYXlvdXQ9dGhpcy5maW4uUGxhdGZvcm0uTGF5b3V0LHRoaXMuQXBwbGljYXRpb249dGhpcy5maW4uQXBwbGljYXRpb24ud3JhcFN5bmModGhpcy5pZGVudGl0eSl9YXN5bmMgY3JlYXRlVmlldyhlLHQsbil7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1jcmVhdGUtdmlld1wiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRDbGllbnQoKSxyPWF3YWl0IGkuZGlzcGF0Y2goXCJjcmVhdGUtdmlld1wiLHt0YXJnZXQ6dCxvcHRzOmUsdGFyZ2V0VmlldzpufSk7aWYoIXJ8fHMudmFsaWRhdGVJZGVudGl0eShyLmlkZW50aXR5KSl0aHJvdyBuZXcgRXJyb3IoYFdoZW4gb3ZlcndyaXRpbmcgdGhlIGNyZWF0ZVZpZXcgY2FsbCwgcGxlYXNlIHJldHVybiBhbiBvYmplY3QgdGhhdCBoYXMgYSB2YWxpZCAnaWRlbnRpdHknIHByb3BlcnR5OiAke0pTT04uc3RyaW5naWZ5KHIpfWApO3JldHVybiB0aGlzLmZpbi5WaWV3LndyYXBTeW5jKHIuaWRlbnRpdHkpfWFzeW5jIGNyZWF0ZVdpbmRvdyhlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWNyZWF0ZS13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7ZS5yZWFzb258fChlLnJlYXNvbj1cImFwaS1jYWxsXCIpO2NvbnN0IG49YXdhaXQgdC5kaXNwYXRjaChcImNyZWF0ZS12aWV3LWNvbnRhaW5lclwiLGUpO2lmKCFufHxzLnZhbGlkYXRlSWRlbnRpdHkobi5pZGVudGl0eSkpdGhyb3cgbmV3IEVycm9yKGBXaGVuIG92ZXJ3cml0aW5nIHRoZSBjcmVhdGVXaW5kb3cgY2FsbCwgcGxlYXNlIHJldHVybiBhbiBvYmplY3QgdGhhdCBoYXMgYSB2YWxpZCAnaWRlbnRpdHknIHByb3BlcnR5OiAke0pTT04uc3RyaW5naWZ5KG4pfWApO2NvbnN0e2lkZW50aXR5Oml9PW4scj10aGlzLmZpbi5XaW5kb3cud3JhcFN5bmMoaSk7cmV0dXJuIHIubmFtZT1pLm5hbWUsci51dWlkPWkudXVpZCxyfWFzeW5jIHF1aXQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1xdWl0XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCkpLmRpc3BhdGNoKFwicXVpdFwiKX1hc3luYyBjbG9zZVZpZXcoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1jbG9zZS12aWV3XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgdD1hd2FpdCB0aGlzLmdldENsaWVudCgpO2F3YWl0IHQuZGlzcGF0Y2goXCJjbG9zZS12aWV3XCIse3ZpZXc6ZX0pfWFzeW5jIHJlcGFyZW50VmlldyhlLHQpe3ZhciBuO2NvbnNvbGUud2FybihcIlBsYXRmb3JtLnJlcGFyZW50VmlldyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBsYXRmb3JtLmNyZWF0ZVZpZXdcIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1yZXBhcmVudC12aWV3XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgaT17Li4uZSx1dWlkOm51bGwhPT0obj1lLnV1aWQpJiZ2b2lkIDAhPT1uP246dGhpcy5pZGVudGl0eS51dWlkfSxyPWF3YWl0IHRoaXMuZmluLlZpZXcud3JhcChpKSxvPWF3YWl0IHIuZ2V0T3B0aW9ucygpO3JldHVybiB0aGlzLmNyZWF0ZVZpZXcobyx0KX1hc3luYyBnZXRTbmFwc2hvdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWdldC1zbmFwc2hvdFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLChhd2FpdCB0aGlzLmdldENsaWVudCgpKS5kaXNwYXRjaChcImdldC1zbmFwc2hvdFwiKX1hc3luYyBhcHBseVNuYXBzaG90KGUsdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1hcHBseS1zbmFwc2hvdFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpO2NvbnN0IG49XCJSZXF1ZXN0ZWQgc25hcHNob3QgbXVzdCBiZSBhIHZhbGlkIFNuYXBzaG90IG9iamVjdCwgb3IgYSB1cmwgb3IgZmlsZXBhdGggdG8gc3VjaCBhbiBvYmplY3QuXCI7bGV0IGk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpdHJ5e2k9KGF3YWl0IHRoaXMuX2NoYW5uZWwud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWFwcGxpY2F0aW9uLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmV9KSkucGF5bG9hZC5kYXRhfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgJHtufTogJHtlfWApfWVsc2UgaT1lO2lmKCFpLndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKG4pO2NvbnN0IHI9YXdhaXQgdGhpcy5nZXRDbGllbnQoKTtyZXR1cm4gYXdhaXQgci5kaXNwYXRjaChcImFwcGx5LXNuYXBzaG90XCIse3NuYXBzaG90Omksb3B0aW9uczp0fSksdGhpc31hc3luYyBmZXRjaE1hbmlmZXN0KGUpe3JldHVybihhd2FpdCB0aGlzLmdldENsaWVudCgpKS5kaXNwYXRjaChcInBsYXRmb3JtLWZldGNoLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmV9KX1hc3luYyBsYXVuY2hDb250ZW50TWFuaWZlc3QoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1sYXVuY2gtY29udGVudC1tYW5pZmVzdFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5nZXRDbGllbnQoKSxuPWF3YWl0IHRoaXMuZmV0Y2hNYW5pZmVzdChlKTtyZXR1cm4gdC5kaXNwYXRjaChcImxhdW5jaC1pbnRvLXBsYXRmb3JtXCIse21hbmlmZXN0Om59KSx0aGlzfWFzeW5jIHNldFdpbmRvd0NvbnRleHQoZT17fSx0KXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXNldC13aW5kb3ctY29udGV4dFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLCFlKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgc2VyaWFsaXphYmxlIG9iamVjdCBvciBzdHJpbmcgdG8gc2V0IHRoZSBjb250ZXh0LlwiKTtjb25zdCBuPWF3YWl0IHRoaXMuZ2V0Q2xpZW50KCkse2VudGl0eVR5cGU6aX09dD9hd2FpdCB0aGlzLmZpbi5TeXN0ZW0uZ2V0RW50aXR5SW5mbyh0LnV1aWQsdC5uYW1lKTp0aGlzLmZpbi5tZTthd2FpdCBuLmRpc3BhdGNoKFwic2V0LXdpbmRvdy1jb250ZXh0XCIse2NvbnRleHQ6ZSxlbnRpdHlUeXBlOmksdGFyZ2V0OnR8fHt1dWlkOnRoaXMuZmluLm1lLnV1aWQsbmFtZTp0aGlzLmZpbi5tZS5uYW1lfX0pfWFzeW5jIGdldFdpbmRvd0NvbnRleHQoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1nZXQtd2luZG93LWNvbnRleHRcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHRoaXMuZ2V0Q2xpZW50KCkse2VudGl0eVR5cGU6bn09ZT9hd2FpdCB0aGlzLmZpbi5TeXN0ZW0uZ2V0RW50aXR5SW5mbyhlLnV1aWQsZS5uYW1lKTp0aGlzLmZpbi5tZTtyZXR1cm4gdC5kaXNwYXRjaChcImdldC13aW5kb3ctY29udGV4dFwiLHt0YXJnZXQ6ZXx8e3V1aWQ6dGhpcy5maW4ubWUudXVpZCxuYW1lOnRoaXMuZmluLm1lLm5hbWV9LGVudGl0eVR5cGU6bn0pfWFzeW5jIGNsb3NlV2luZG93KGUsdD17c2tpcEJlZm9yZVVubG9hZDohMX0pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWNsb3NlLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLChhd2FpdCB0aGlzLmdldENsaWVudCgpKS5kaXNwYXRjaChcImNsb3NlLXdpbmRvd1wiLHt3aW5kb3dJZDplLG9wdGlvbnM6dH0pfX10LlBsYXRmb3JtPWMsaT1uZXcgV2Vha01hcH0sNDM4NjooZSx0KT0+e2Z1bmN0aW9uIG4oZSl7c3dpdGNoKGUpe2Nhc2VcImNvbHVtbnNcIjpjYXNlXCJncmlkXCI6Y2FzZVwicm93c1wiOmNhc2VcInRhYnNcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmlzVmFsaWRQcmVzZXRUeXBlPXZvaWQgMCx0LmlzVmFsaWRQcmVzZXRUeXBlPW4sdC5kZWZhdWx0PXtpc1ZhbGlkUHJlc2V0VHlwZTpufX0sNjA5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oNzI4Myk7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oOTg3MiksdCl9LDQyMTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9LG89dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGF5b3V0TW9kdWxlPXZvaWQgMDtjb25zdCBzPW4oODExMSksYT1uKDk2NTkpO2NsYXNzIGMgZXh0ZW5kcyBhLkJhc2V7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLGkuc2V0KHRoaXMsdm9pZCAwKSx0aGlzLmluaXQ9YXN5bmMoZT17fSk9PntpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1pbml0XCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLmZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJMYXlvdXQuaW5pdCBjYW4gb25seSBiZSBjYWxsZWQgZnJvbSBhIFdpbmRvdyBjb250ZXh0LlwiKTtpZihyKHRoaXMsaSkpdGhyb3cgbmV3IEVycm9yKFwiTGF5b3V0IGZvciB0aGlzIHdpbmRvdyBhbHJlYWR5IGluaXRpYWxpemVkLCBwbGVhc2UgdXNlIExheW91dC5yZXBsYWNlIGNhbGwgdG8gcmVwbGFjZSB0aGUgbGF5b3V0LlwiKTtjb25zdCB0PWF3YWl0IHRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRNYW5hZ2VyQ29uc3RydWN0b3IoKTtvKHRoaXMsaSxuZXcgdCk7bGV0e2xheW91dDpuLGNvbnRhaW5lcklkOnN9PWU7biYmY29uc29sZS53YXJuKFwiV2UgcmVjb21tZW5kIHVzaW5nIGEgbGF5b3V0IGluIHdpbmRvdyBvcHRpb25zLlxcbiAgICAgICAgICAgICAgICBUaGlzIGxheW91dCBoYXMgbm90IGJlZW4gc2FuaXRpemVkIGFuZCB1bmV4cGVjdGVkIGJlaGF2aW9yIGNhbiBvY2N1ci5cIiksbj1ufHwoYXdhaXQgdGhpcy5maW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuZ2V0T3B0aW9ucygpKS5sYXlvdXQscz1zfHxcImxheW91dC1jb250YWluZXJcIjtjb25zdCBhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpO3JldHVybiBhd2FpdCByKHRoaXMsaSkuaW5pdE1hbmFnZXIoKSxhd2FpdCByKHRoaXMsaSkuY3JlYXRlTGF5b3V0KG4sYSksT2JqZWN0LmFzc2lnbih0aGlzLmdldEN1cnJlbnRTeW5jKCkse2xheW91dE1hbmFnZXI6cih0aGlzLGkpfSl9fWFzeW5jIHdyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LXdyYXBcIikuY2F0Y2goKGU9Pnt9KSksbmV3IHMuTGF5b3V0KGUsdGhpcy53aXJlKX13cmFwU3luYyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJsYXlvdXQtd3JhcC1zeW5jXCIpLmNhdGNoKChlPT57fSkpLG5ldyBzLkxheW91dChlLHRoaXMud2lyZSl9YXN5bmMgZ2V0Q3VycmVudCgpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LWdldC1jdXJyZW50XCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLmZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBpbiBhIFdpbmRvdyBjb250ZXh0LiAgT25seSBXaW5kb3dzIGNhbiBoYXZlIGEgTGF5b3V0LlwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLmZpbi5tZTtyZXR1cm4gdGhpcy53cmFwKHt1dWlkOmUsbmFtZTp0fSl9Z2V0Q3VycmVudFN5bmMoKXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1nZXQtY3VycmVudC1zeW5jXCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLmZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBpbiBhIFdpbmRvdyBjb250ZXh0LiAgT25seSBXaW5kb3dzIGNhbiBoYXZlIGEgTGF5b3V0LlwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLmZpbi5tZTtyZXR1cm4gdGhpcy53cmFwU3luYyh7dXVpZDplLG5hbWU6dH0pfX10LkxheW91dE1vZHVsZT1jLGk9bmV3IFdlYWtNYXB9LDgxMTE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGF5b3V0PXZvaWQgMDtjb25zdCBpPW4oNDk5OSkscj1uKDQzODYpLG89big5NjU5KTtjbGFzcyBzIGV4dGVuZHMgby5CYXNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5yZXBsYWNlPWFzeW5jIGU9Pnt0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1yZXBsYWNlXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5wbGF0Zm9ybS5nZXRDbGllbnQoKTthd2FpdCB0LmRpc3BhdGNoKFwicmVwbGFjZS1sYXlvdXRcIix7dGFyZ2V0OnRoaXMuaWRlbnRpdHksb3B0czp7bGF5b3V0OmV9fSl9LHRoaXMucmVwbGFjZVZpZXc9YXN5bmMoZSx0KT0+e3RoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LXJlcGxhY2Utdmlld1wiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPWF3YWl0IHRoaXMucGxhdGZvcm0uZ2V0Q2xpZW50KCk7YXdhaXQgbi5kaXNwYXRjaChcInJlcGxhY2Utdmlld1wiLHt0YXJnZXQ6dGhpcy5pZGVudGl0eSxvcHRzOnt2aWV3VG9SZXBsYWNlOmUsbmV3Vmlldzp0fX0pfSx0aGlzLmFwcGx5UHJlc2V0PWFzeW5jIGU9Pnt0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1hcHBseS1wcmVzZXRcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgdD1hd2FpdCB0aGlzLnBsYXRmb3JtLmdldENsaWVudCgpLHtwcmVzZXRUeXBlOm59PWU7aWYoIW58fCFyLmlzVmFsaWRQcmVzZXRUeXBlKG4pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhcHBseSBwcmVzZXQgbGF5b3V0LCBwbGVhc2UgaW5jbHVkZSBhbiBhcHBsaWNhYmxlIHByZXNldFR5cGUgcHJvcGVydHkgaW4gdGhlIFByZXNldExheW91dE9wdGlvbnMuXCIpO2F3YWl0IHQuZGlzcGF0Y2goXCJhcHBseS1wcmVzZXQtbGF5b3V0XCIse3RhcmdldDp0aGlzLmlkZW50aXR5LG9wdHM6e3ByZXNldFR5cGU6bn19KX07Y29uc3Qgbj1pLnZhbGlkYXRlSWRlbnRpdHkoZSk7aWYobil0aHJvdyBuZXcgRXJyb3Iobik7dGhpcy5pZGVudGl0eT1lLHRoaXMucGxhdGZvcm09dGhpcy5maW4uUGxhdGZvcm0ud3JhcFN5bmMoe3V1aWQ6ZS51dWlkfSksZS51dWlkPT09dGhpcy5maW4ubWUudXVpZCYmZS5uYW1lPT09dGhpcy5maW4ubWUubmFtZSYmKHRoaXMuaW5pdD10aGlzLmZpbi5QbGF0Zm9ybS5MYXlvdXQuaW5pdCl9YXN5bmMgZ2V0Q29uZmlnKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LWdldC1jb25maWdcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHRoaXMucGxhdGZvcm0uZ2V0Q2xpZW50KCkpLmRpc3BhdGNoKFwiZ2V0LWZyYW1lLXNuYXBzaG90XCIse3RhcmdldDp0aGlzLmlkZW50aXR5fSl9fXQuTGF5b3V0PXN9LDYzOTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8dC5oYXNPd25Qcm9wZXJ0eShuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIobig0MjEwKSx0KSxyKG4oODExMSksdCl9LDE3NDY6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KSxyPW4oMjg3OCksbz1uKDYyMTUpO2NsYXNzIHMgZXh0ZW5kcyBpLkJhc2V7YXN5bmMgaW5pdChlKXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcInNuYXBzaG90LXNvdXJjZS1pbml0XCIpLmNhdGNoKChlPT57fSkpLFwib2JqZWN0XCIhPXR5cGVvZiBlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldFNuYXBzaG90fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmFwcGx5U25hcHNob3QpdGhyb3cgbmV3IEVycm9yKFwieW91IG11c3QgcGFzcyBpbiBhIHZhbGlkIFNuYXBzaG90UHJvdmlkZXJcIik7Y29uc3QgdD1hd2FpdCB0aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKG8uZ2V0U25hcHNob3RTb3VyY2VDaGFubmVsTmFtZShmaW4ubWUuaWRlbnRpdHkpKTt0LnJlZ2lzdGVyKFwiZ2V0LXNuYXBzaG90XCIsKGFzeW5jKCk9Pih7c25hcHNob3Q6YXdhaXQgZS5nZXRTbmFwc2hvdCgpfSkpKSx0LnJlZ2lzdGVyKFwiYXBwbHktc25hcHNob3RcIiwoKHtzbmFwc2hvdDp0fSk9PmUuYXBwbHlTbmFwc2hvdCh0KSkpfXdyYXBTeW5jKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNuYXBzaG90LXNvdXJjZS13cmFwLXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksbmV3IHIuU25hcHNob3RTb3VyY2UodGhpcy53aXJlLGUpfWFzeW5jIHdyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic25hcHNob3Qtc291cmNlLXdyYXBcIikuY2F0Y2goKGU9Pnt9KSksdGhpcy53cmFwU3luYyhlKX19dC5kZWZhdWx0PXN9LDI4Nzg6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbyxzLGEsYz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sZD10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TbmFwc2hvdFNvdXJjZT12b2lkIDA7Y29uc3QgaD1uKDk2NTkpLGw9big2MjE1KSx1PW5ldyBNYXA7Y2xhc3MgcCBleHRlbmRzIGguQmFzZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLGkuc2V0KHRoaXMsdm9pZCAwKSxyLnNldCh0aGlzLCgoKT0+KHUuaGFzKHRoaXMuaWRlbnRpdHkudXVpZCl8fHUuc2V0KHRoaXMuaWRlbnRpdHkudXVpZCx7ZXZlbnRGaXJlZDpudWxsLGNsaWVudFByb21pc2U6bnVsbH0pLHUuZ2V0KHRoaXMuaWRlbnRpdHkudXVpZCkpKSksby5zZXQodGhpcywoKCk9PihkKHRoaXMscikuY2FsbCh0aGlzKS5jbGllbnRQcm9taXNlfHwoZCh0aGlzLHIpLmNhbGwodGhpcykuY2xpZW50UHJvbWlzZT1kKHRoaXMscykuY2FsbCh0aGlzKSksZCh0aGlzLHIpLmNhbGwodGhpcykuY2xpZW50UHJvbWlzZSkpKSxzLnNldCh0aGlzLChhc3luYygpPT57Y29uc3QgZT1sLmdldFNuYXBzaG90U291cmNlQ2hhbm5lbE5hbWUodGhpcy5pZGVudGl0eSk7dHJ5e2QodGhpcyxyKS5jYWxsKHRoaXMpLmV2ZW50RmlyZWR8fGF3YWl0IGQodGhpcyxhKS5jYWxsKHRoaXMpO2NvbnN0IHQ9YXdhaXQgdGhpcy5maW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pO3JldHVybiB0Lm9uRGlzY29ubmVjdGlvbigoKCk9PntkKHRoaXMscikuY2FsbCh0aGlzKS5jbGllbnRQcm9taXNlPW51bGwsZCh0aGlzLHIpLmNhbGwodGhpcykuZXZlbnRGaXJlZD1udWxsfSkpLHR9Y2F0Y2goZSl7dGhyb3cgZCh0aGlzLHIpLmNhbGwodGhpcykuY2xpZW50UHJvbWlzZT1udWxsLG5ldyBFcnJvcihcIlRoZSB0YXJnZXRlZCBTbmFwc2hvdFNvdXJjZSBpcyBub3QgY3VycmVudGx5IGluaXRpYWxpemVkLiBBd2FpdCB0aGlzIG9iamVjdCdzIHJlYWR5KCkgbWV0aG9kLlwiKX19KSksYS5zZXQodGhpcywoYXN5bmMoKT0+e2NvbnN0IGU9bC5nZXRTbmFwc2hvdFNvdXJjZUNoYW5uZWxOYW1lKHRoaXMuaWRlbnRpdHkpO2xldCB0LG47Y29uc3QgaT1uZXcgUHJvbWlzZSgoKGUsaSk9Pnt0PWUsbj1pfSkpO2QodGhpcyxyKS5jYWxsKHRoaXMpLmV2ZW50RmlyZWQ9aTtjb25zdCBvPWFzeW5jIGk9Pnt0cnl7aS5jaGFubmVsTmFtZT09PWUmJih0KCksYXdhaXQgdGhpcy5maW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLnJlbW92ZUxpc3RlbmVyKFwiY29ubmVjdGVkXCIsbykpfWNhdGNoKGUpe24oZSl9fTthd2FpdCB0aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwub24oXCJjb25uZWN0ZWRcIixvKX0pKSxjKHRoaXMsaSx0KX1nZXQgaWRlbnRpdHkoKXtyZXR1cm4gZCh0aGlzLGkpfWFzeW5jIHJlYWR5KCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzbmFwc2hvdC1zb3VyY2UtcmVhZHlcIikuY2F0Y2goKGU9Pnt9KSk7dHJ5e2F3YWl0IGQodGhpcyxvKS5jYWxsKHRoaXMpfWNhdGNoKGUpe2F3YWl0IGQodGhpcyxyKS5jYWxsKHRoaXMpLmV2ZW50RmlyZWR9fWFzeW5jIGdldFNuYXBzaG90KCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzbmFwc2hvdC1zb3VyY2UtZ2V0LXNuYXBzaG90XCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IGU9YXdhaXQgZCh0aGlzLG8pLmNhbGwodGhpcyksdD1hd2FpdCBlLmRpc3BhdGNoKFwiZ2V0LXNuYXBzaG90XCIpO3JldHVybihhd2FpdCB0KS5zbmFwc2hvdH1hc3luYyBhcHBseVNuYXBzaG90KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNuYXBzaG90LXNvdXJjZS1hcHBseS1zbmFwc2hvdFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgZCh0aGlzLG8pLmNhbGwodGhpcykpLmRpc3BhdGNoKFwiYXBwbHktc25hcHNob3RcIix7c25hcHNob3Q6ZX0pfX10LlNuYXBzaG90U291cmNlPXAsaT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwLG89bmV3IFdlYWtNYXAscz1uZXcgV2Vha01hcCxhPW5ldyBXZWFrTWFwfSw3MTUzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oMTc0Nik7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oMjg3OCksdCl9LDYyMTU6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldFNuYXBzaG90U291cmNlQ2hhbm5lbE5hbWU9dm9pZCAwLHQuZ2V0U25hcHNob3RTb3VyY2VDaGFubmVsTmFtZT1lPT5gc25hcHNob3Qtc291cmNlLXByb3ZpZGVyLSR7ZS51dWlkfWB9LDM2NDE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KSxyPW4oNTAwNyksbz1uKDQ5OTcpO2NsYXNzIHMgZXh0ZW5kcyBpLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsXCJzeXN0ZW1cIil9c2VuZEV4dGVybmFsUHJvY2Vzc1JlcXVlc3QoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKChuLGkpPT57Y29uc3Qgcj1cImV4dGVybmFsLXByb2Nlc3MtZXhpdGVkXCI7bGV0IHMsYSxjLGQ7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5saXN0ZW5lciYmKGM9ZT0+e2NvbnN0IG49ZXx8e307YT17dG9waWM6XCJleGl0ZWRcIix1dWlkOm4ucHJvY2Vzc1V1aWR8fFwiXCIsZXhpdENvZGU6bi5leGl0Q29kZXx8MH0scz09PWUucHJvY2Vzc1V1aWQmJih0Lmxpc3RlbmVyKGEpLGQucmVtb3ZlTGlzdGVuZXIocixjKSl9LHRoaXMud2lyZS5tZS5uYW1lfHwodGhpcy53aXJlLm1lLm5hbWU9dGhpcy53aXJlLm1lLnV1aWQpLGQ9bmV3IG8uX1dpbmRvdyh0aGlzLndpcmUsdGhpcy53aXJlLm1lKSxkLm9uKHIsYykpLHRoaXMud2lyZS5zZW5kQWN0aW9uKGUsdCkudGhlbigoKHtwYXlsb2FkOmV9KT0+e3M9ZS5kYXRhLnV1aWQsbihlLmRhdGEpLGEmJnM9PT1hLnV1aWQmJih0Lmxpc3RlbmVyKGEpLGQucmVtb3ZlTGlzdGVuZXIocixjKSl9KSkuY2F0Y2goKGU9PntkJiZkLnJlbW92ZUxpc3RlbmVyKHIsYyksaShlKX0pKX0pKX1nZXRWZXJzaW9uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXZlcnNpb25cIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Y2xlYXJDYWNoZShlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjbGVhci1jYWNoZVwiLGUpLnRoZW4oKCgpPT57fSkpfWRlbGV0ZUNhY2hlT25FeGl0KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZGVsZXRlLWNhY2hlLXJlcXVlc3RcIikudGhlbigoKCk9Pnt9KSl9ZXhpdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImV4aXQtZGVza3RvcFwiKS50aGVuKCgoKT0+e30pKX1hc3luYyBmZXRjaE1hbmlmZXN0KGUpe2NvbnN0e3BheWxvYWQ6e2RhdGE6dH19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZmV0Y2gtbWFuaWZlc3RcIix7bWFuaWZlc3RVcmw6ZX0pO3JldHVybiB0fWZsdXNoQ29va2llU3RvcmUoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJmbHVzaC1jb29raWUtc3RvcmVcIikudGhlbigoKCk9Pnt9KSl9Z2V0QWxsV2luZG93cygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1hbGwtd2luZG93c1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRBbGxBcHBsaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWFwcGxpY2F0aW9uc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRDb21tYW5kTGluZUFyZ3VtZW50cygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1jb21tYW5kLWxpbmUtYXJndW1lbnRzXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldENyYXNoUmVwb3J0ZXJTdGF0ZSgpe2NvbnN0e3BheWxvYWQ6e2RhdGE6e2RpYWdub3N0aWNNb2RlOmUsaXNSdW5uaW5nOnR9fX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY3Jhc2gtcmVwb3J0ZXItc3RhdGVcIik7cmV0dXJuIGNvbnNvbGUud2FybihcImRpYWdub3N0aWNNb2RlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uXCIpLHtkaWFnbm9zdGljTW9kZTplLGRpYWdub3N0aWNzTW9kZTplLGlzUnVubmluZzp0fX1hc3luYyBzdGFydENyYXNoUmVwb3J0ZXIoZSl7Y29uc3QgdD1lLG49ey4uLnQsZGlhZ25vc3RpY01vZGU6dC5kaWFnbm9zdGljc01vZGV8fHQuZGlhZ25vc3RpY01vZGV9LHtwYXlsb2FkOntkYXRhOntkaWFnbm9zdGljTW9kZTppLGlzUnVubmluZzpyfX19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3RhcnQtY3Jhc2gtcmVwb3J0ZXJcIixuKTtyZXR1cm57ZGlhZ25vc3RpY01vZGU6aSxkaWFnbm9zdGljc01vZGU6aSxpc1J1bm5pbmc6cn19Z2V0VW5pcXVlVXNlcklkKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXVuaXF1ZS11c2VyLWlkXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldEVudGl0eUluZm8oZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtZW50aXR5LWluZm9cIix7dXVpZDplLG5hbWU6dH0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldEVudmlyb25tZW50VmFyaWFibGUoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWVudmlyb25tZW50LXZhcmlhYmxlXCIse2Vudmlyb25tZW50VmFyaWFibGVzOmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRGb2N1c2VkV2luZG93KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWZvY3VzZWQtd2luZG93XCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGlzQXBwQ2VydGlmaWVkKGUpe2NvbnN0e3BheWxvYWQ6e2RhdGE6e2NlcnRpZmllZEluZm86dH19fT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImlzLWFwcC1jZXJ0aWZpZWRcIix7bWFuaWZlc3RVcmw6ZX0pO3JldHVybiB0fWdldEluc3RhbGxlZFJ1bnRpbWVzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWluc3RhbGxlZC1ydW50aW1lc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEucnVudGltZXMpKX1hc3luYyBnZXRJbnN0YWxsZWRBcHBzKCl7Y29uc3R7cGF5bG9hZDp7ZGF0YTp7aW5zdGFsbGVkQXBwczplfX19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWluc3RhbGxlZC1hcHBzXCIpO3JldHVybiBlfWdldExvZyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LWxvZ1wiLGUpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldE1hY2hpbmVJZCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1tYWNoaW5lLWlkXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldE1pbkxvZ0xldmVsKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LW1pbi1sb2ctbGV2ZWxcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0TG9nTGlzdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImxpc3QtbG9nc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRNb25pdG9ySW5mbygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1tb25pdG9yLWluZm9cIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0TW91c2VQb3NpdGlvbigpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1tb3VzZS1wb3NpdGlvblwiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRQcm9jZXNzTGlzdCgpe3JldHVybiBjb25zb2xlLndhcm4oXCJTeXN0ZW0uZ2V0UHJvY2Vzc0xpc3QgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIGNvbnNpZGVyIHVzaW5nIG91ciBuZXcgcHJvY2VzcyBBUElzOiBXaW5kb3cuZ2V0UHJvY2Vzc0luZm8sIFZpZXcuZ2V0UHJvY2Vzc0luZm8sIEFwcGxpY2F0aW9uLmdldFByb2Nlc3NJbmZvLCBTeXN0ZW0uZ2V0QWxsUHJvY2Vzc0luZm9cIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwcm9jZXNzLXNuYXBzaG90XCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldEFsbFByb2Nlc3NJbmZvKCl7Y29uc3R7cGF5bG9hZDp7ZGF0YTplfX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLXByb2Nlc3MtaW5mb1wiLHRoaXMuaWRlbnRpdHkpO3JldHVybiBlfWdldFByb3h5U2V0dGluZ3MoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcHJveHktc2V0dGluZ3NcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0UnVudGltZUluZm8oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcnVudGltZS1pbmZvXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFJ2bUluZm8oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcnZtLWluZm9cIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0SG9zdFNwZWNzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWhvc3Qtc3BlY3NcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9bGF1bmNoRXh0ZXJuYWxQcm9jZXNzKGUpe3JldHVybiB0aGlzLnNlbmRFeHRlcm5hbFByb2Nlc3NSZXF1ZXN0KFwibGF1bmNoLWV4dGVybmFsLXByb2Nlc3NcIixlKX1tb25pdG9yRXh0ZXJuYWxQcm9jZXNzKGUpe3JldHVybiB0aGlzLnNlbmRFeHRlcm5hbFByb2Nlc3NSZXF1ZXN0KFwibW9uaXRvci1leHRlcm5hbC1wcm9jZXNzXCIsZSl9bG9nKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid3JpdGUtdG8tbG9nXCIse2xldmVsOmUsbWVzc2FnZTp0fSkudGhlbigoKCk9Pnt9KSl9b3BlblVybFdpdGhCcm93c2VyKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcIm9wZW4tdXJsLXdpdGgtYnJvd3NlclwiLHt1cmw6ZX0pLnRoZW4oKCgpPT57fSkpfXJlbGVhc2VFeHRlcm5hbFByb2Nlc3MoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVsZWFzZS1leHRlcm5hbC1wcm9jZXNzXCIse3V1aWQ6ZX0pLnRoZW4oKCgpPT57fSkpfXNob3dEZXZlbG9wZXJUb29scyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzaG93LWRldmVsb3Blci10b29sc1wiLGUpLnRoZW4oKCgpPT57fSkpfXRlcm1pbmF0ZUV4dGVybmFsUHJvY2VzcyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ0ZXJtaW5hdGUtZXh0ZXJuYWwtcHJvY2Vzc1wiLGUpLnRoZW4oKCgpPT57fSkpfXVwZGF0ZVByb3h5U2V0dGluZ3MoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidXBkYXRlLXByb3h5XCIsZSkudGhlbigoKCk9Pnt9KSl9ZG93bmxvYWRBc3NldChlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoKG4saSk9PntpZihcIk5vZGVFbnZpcm9ubWVudFwiPT09dGhpcy53aXJlLmVudmlyb25tZW50LmNvbnN0cnVjdG9yLm5hbWUpcmV0dXJuIHZvaWQgaShuZXcgci5Ob3RTdXBwb3J0ZWRFcnJvcihcImRvd25sb2FkQXNzZXQgb25seSBzdXBwb3J0ZWQgaW4gYW4gT3BlbkZpbiBSZW5kZXIgcHJvY2Vzc1wiKSk7Y29uc3Qgbz10aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0TmV4dE1lc3NhZ2VJZCgpLnRvU3RyaW5nKCkscz1gYXNzZXQtZG93bmxvYWQtcHJvZ3Jlc3MtJHtvfWAsYT1gYXNzZXQtZG93bmxvYWQtZXJyb3ItJHtvfWAsYz1gYXNzZXQtZG93bmxvYWQtY29tcGxldGUtJHtvfWAsZD1lPT57Y29uc3Qgbj17ZG93bmxvYWRlZEJ5dGVzOmUuZG93bmxvYWRlZEJ5dGVzLHRvdGFsQnl0ZXM6ZS50b3RhbEJ5dGVzfTt0KG4pfSxoPSgpPT57dGhpcy5yZW1vdmVMaXN0ZW5lcihzLGQpfTt0aGlzLm9uKHMsZCksdGhpcy5vbmNlKGEsKChlLHQpPT57Y29uc3Qgbj10fHxlO2goKSxpKG5ldyByLlJ1bnRpbWVFcnJvcihuKSl9KSksdGhpcy5vbmNlKGMsKCgpPT57aCgpLG4oKX0pKTtjb25zdCBsPU9iamVjdC5hc3NpZ24oZSx7ZG93bmxvYWRJZDpvfSk7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkb3dubG9hZC1hc3NldFwiLGwpLmNhdGNoKChlPT57aCgpLGkoZSl9KSl9KSl9ZG93bmxvYWRSdW50aW1lKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixpKT0+e2lmKFwiTm9kZUVudmlyb25tZW50XCI9PT10aGlzLndpcmUuZW52aXJvbm1lbnQuY29uc3RydWN0b3IubmFtZSlyZXR1cm4gdm9pZCBpKG5ldyByLk5vdFN1cHBvcnRlZEVycm9yKFwiZG93bmxvYWRSdW50aW1lIG9ubHkgc3VwcG9ydGVkIGluIGFuIE9wZW5GaW4gUmVuZGVyIHByb2Nlc3NcIikpO2NvbnN0IG89dGhpcy53aXJlLmVudmlyb25tZW50LmdldE5leHRNZXNzYWdlSWQoKS50b1N0cmluZygpLHM9YHJ1bnRpbWUtZG93bmxvYWQtcHJvZ3Jlc3MtJHtvfWAsYT1gcnVudGltZS1kb3dubG9hZC1lcnJvci0ke299YCxjPWBydW50aW1lLWRvd25sb2FkLWNvbXBsZXRlLSR7b31gLGQ9ZT0+e2NvbnN0IG49e2Rvd25sb2FkZWRCeXRlczplLmRvd25sb2FkZWRCeXRlcyx0b3RhbEJ5dGVzOmUudG90YWxCeXRlc307dChuKX0saD0oKT0+e3RoaXMucmVtb3ZlTGlzdGVuZXIocyxkKX07dGhpcy5vbihzLGQpLHRoaXMub25jZShhLCgoZSx0KT0+e2NvbnN0IG49dHx8ZTtoKCksaShuZXcgci5SdW50aW1lRXJyb3IobikpfSkpLHRoaXMub25jZShjLCgoKT0+e2goKSxuKCl9KSk7Y29uc3QgbD1PYmplY3QuYXNzaWduKGUse2Rvd25sb2FkSWQ6b30pO3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiZG93bmxvYWQtcnVudGltZVwiLGwpLmNhdGNoKChlPT57aCgpLGkoZSl9KSl9KSl9ZG93bmxvYWRQcmVsb2FkU2NyaXB0cyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkb3dubG9hZC1wcmVsb2FkLXNjcmlwdHNcIix7c2NyaXB0czplfSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0QWxsRXh0ZXJuYWxBcHBsaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWV4dGVybmFsLWFwcGxpY2F0aW9uc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRBcHBBc3NldEluZm8oZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWFwcC1hc3NldC1pbmZvXCIsZSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0Q29va2llcyhlKXtjb25zdCB0PXRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRVcmwoKSxuPU9iamVjdC5hc3NpZ24oZSx7dXJsOnR9KTtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY29va2llc1wiLG4pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXNldE1pbkxvZ0xldmVsKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1taW4tbG9nLWxldmVsXCIse2xldmVsOmV9KS50aGVuKCgoKT0+e30pKX1yZXNvbHZlVXVpZChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZXNvbHZlLXV1aWRcIix7ZW50aXR5S2V5OmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1leGVjdXRlT25SZW1vdGUoZSx0KXtyZXR1cm4gdC5yZXF1ZXN0aW5nSWRlbnRpdHk9ZSx0aGlzLndpcmUuZmVycnlBY3Rpb24odCl9cmVhZFJlZ2lzdHJ5VmFsdWUoZSx0LG4pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlYWQtcmVnaXN0cnktdmFsdWVcIix7cm9vdEtleTplLHN1YmtleTp0LHZhbHVlOm59KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1yZWdpc3RlckV4dGVybmFsQ29ubmVjdGlvbihlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZWdpc3Rlci1leHRlcm5hbC1jb25uZWN0aW9uXCIse3V1aWQ6ZX0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldFNlcnZpY2VDb25maWd1cmF0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGFuIG9iamVjdCB3aXRoIGEgYG5hbWVgIHByb3BlcnR5IGhhdmluZyBhIHN0cmluZyB2YWx1ZVwiKTtjb25zdHtuYW1lOnR9PWU7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXNlcnZpY2UtY29uZmlndXJhdGlvblwiLHtuYW1lOnR9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1hc3luYyBnZXRTeXN0ZW1BcHBDb25maWcoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGEgc3RyaW5nIHZhbHVlIGZvciBuYW1lIG9mIHN5c3RlbSBhcHBcIik7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXN5c3RlbS1hcHAtY29uZmlndXJhdGlvblwiLHtuYW1lOmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1ydW5Sdm1IZWFsdGhDaGVjaygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJ1bi1ydm0taGVhbHRoLWNoZWNrXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGxhdW5jaE1hbmlmZXN0KGUsdCl7cmV0dXJuKGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF1bmNoLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmUsb3B0czp0fSkpLnBheWxvYWQuZGF0YS5tYW5pZmVzdH1hc3luYyBxdWVyeVBlcm1pc3Npb25Gb3JDdXJyZW50Q29udGV4dChlKXtjb25zdCB0PXt1dWlkOnRoaXMud2lyZS5tZS51dWlkLG5hbWU6dGhpcy53aXJlLm1lLm5hbWV9O3JldHVybihhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInF1ZXJ5LXBlcm1pc3Npb24tZm9yLWN1cnJlbnQtY29udGV4dFwiLHthcGlOYW1lOmUsaWRlbnRpdHk6dH0pKS5wYXlsb2FkLmRhdGF9YXN5bmMgZW5hYmxlTmF0aXZlV2luZG93SW50ZWdyYXRpb25Qcm92aWRlcihlKXtjb25zdHtwYXlsb2FkOnR9PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZW5hYmxlLW5hdGl2ZS13aW5kb3ctaW50ZWdyYXRpb24tcHJvdmlkZXJcIix7cGVybWlzc2lvbnM6ZX0pO3JldHVybiB0LmRhdGF9YXN5bmMgcmVnaXN0ZXJVc2FnZSh7ZGF0YTplLHR5cGU6dH0pe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVnaXN0ZXItdXNhZ2VcIix7ZGF0YTplLHR5cGU6dH0pfX10LmRlZmF1bHQ9c30sMjQwOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTkpLG89big0MTY5KTtjbGFzcyBzIGV4dGVuZHMgaS5CYXNle2FzeW5jIGNyZWF0ZShlKXtjb25zdHt1dWlkOnR9PXRoaXMud2lyZS5tZTtpZighZS5uYW1lfHxcInN0cmluZ1wiIT10eXBlb2YgZS5uYW1lKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgbmFtZSBwcm9wZXJ0eSBhcyBhIHN0cmluZyBpbiBvcmRlciB0byBjcmVhdGUgYSBWaWV3LlwiKTtyZXR1cm4gdGhpcy53aXJlLmVudmlyb25tZW50LmNoaWxkVmlld3M/YXdhaXQgdGhpcy53aXJlLmVudmlyb25tZW50LmNyZWF0ZUNoaWxkQ29udGVudCh7ZW50aXR5VHlwZTpcInZpZXdcIixvcHRpb25zOnsuLi5lLHV1aWQ6dH19KTphd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNyZWF0ZS12aWV3XCIsey4uLmUsdXVpZDp0fSksdGhpcy53cmFwU3luYyh7dXVpZDp0LG5hbWU6ZS5uYW1lfSl9YXN5bmMgd3JhcChlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcInZpZXctd3JhcFwiKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uVmlldyh0aGlzLndpcmUsZSl9d3JhcFN5bmMoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LXdyYXAtc3luY1wiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uVmlldyh0aGlzLndpcmUsZSl9Z2V0Q3VycmVudCgpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidmlldy1nZXQtY3VycmVudFwiKS5jYXRjaCgoZT0+e30pKSwhdGhpcy53aXJlLm1lLmlzVmlldyl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBpbiBhIFZpZXcgY29udGV4dFwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLndpcmUubWU7cmV0dXJuIHRoaXMud3JhcCh7dXVpZDplLG5hbWU6dH0pfWdldEN1cnJlbnRTeW5jKCl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LWdldC1jdXJyZW50LXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksIXRoaXMud2lyZS5tZS5pc1ZpZXcpdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgaW4gYSBWaWV3IGNvbnRleHRcIik7Y29uc3R7dXVpZDplLG5hbWU6dH09dGhpcy53aXJlLm1lO3JldHVybiB0aGlzLndyYXBTeW5jKHt1dWlkOmUsbmFtZTp0fSl9fXQuZGVmYXVsdD1zfSwzMTYzOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlZpZXc9dm9pZCAwO2NvbnN0IGk9big0NjM2KSxyPW4oNDk5Nyk7Y2xhc3MgbyBleHRlbmRzIGkuV2ViQ29udGVudHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsXCJ2aWV3XCIpLHRoaXMuaWRlbnRpdHk9dCx0aGlzLmF0dGFjaD1hc3luYyBlPT57YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhdHRhY2gtdmlld1wiLHt0YXJnZXQ6ZSwuLi50aGlzLmlkZW50aXR5fSl9LHRoaXMuZGVzdHJveT1hc3luYygpPT57YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkZXN0cm95LXZpZXdcIix7Li4udGhpcy5pZGVudGl0eX0pfSx0aGlzLnNob3c9YXN5bmMoKT0+e2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy12aWV3XCIsey4uLnRoaXMuaWRlbnRpdHl9KX0sdGhpcy5oaWRlPWFzeW5jKCk9Pnthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImhpZGUtdmlld1wiLHsuLi50aGlzLmlkZW50aXR5fSl9LHRoaXMuc2V0Qm91bmRzPWFzeW5jIGU9Pnthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC12aWV3LWJvdW5kc1wiLHtib3VuZHM6ZSwuLi50aGlzLmlkZW50aXR5fSl9LHRoaXMuZ2V0Qm91bmRzPWFzeW5jKCk9Pihhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC12aWV3LWJvdW5kc1wiLHsuLi50aGlzLmlkZW50aXR5fSkpLnBheWxvYWQuZGF0YSx0aGlzLmdldEluZm89YXN5bmMoKT0+KGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXZpZXctaW5mb1wiLHsuLi50aGlzLmlkZW50aXR5fSkpLnBheWxvYWQuZGF0YSx0aGlzLmdldFBhcmVudExheW91dD1hc3luYygpPT4odGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LWdldC1wYXJlbnQtbGF5b3V0XCIsey4uLnRoaXMuaWRlbnRpdHl9KS5jYXRjaCgoKCk9Pnt9KSksKGF3YWl0IHRoaXMuZ2V0Q3VycmVudFdpbmRvdygpKS5nZXRMYXlvdXQoKSksdGhpcy5nZXRPcHRpb25zPWFzeW5jKCk9PnRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXZpZXctb3B0aW9uc1wiLHsuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSksdGhpcy51cGRhdGVPcHRpb25zPWFzeW5jIGU9PnRoaXMud2lyZS5zZW5kQWN0aW9uKFwidXBkYXRlLXZpZXctb3B0aW9uc1wiLHtvcHRpb25zOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpLHRoaXMuZ2V0Q3VycmVudFdpbmRvdz1hc3luYygpPT57Y29uc3R7cGF5bG9hZDp7ZGF0YTplfX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtdmlldy13aW5kb3dcIix7Li4udGhpcy5pZGVudGl0eX0pO3JldHVybiBuZXcgci5fV2luZG93KHRoaXMud2lyZSxlKX0sdGhpcy50cmlnZ2VyQmVmb3JlVW5sb2FkPWFzeW5jKCk9Pihhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInRyaWdnZXItYmVmb3JlLXVubG9hZFwiLHsuLi50aGlzLmlkZW50aXR5fSkpLnBheWxvYWQuZGF0YX1hc3luYyBmb2N1cyh7ZW1pdFN5bnRoRm9jdXNlZDplfT17ZW1pdFN5bnRoRm9jdXNlZDohMH0pe2NvbnN0IHQ9YXdhaXQgdGhpcy5nZXRDdXJyZW50V2luZG93KCk7YXdhaXQgdC5mb2N1c2VkV2ViVmlld1dhc0NoYW5nZWQoKSxhd2FpdCBzdXBlci5mb2N1cyh7ZW1pdFN5bnRoRm9jdXNlZDplfSl9fXQuVmlldz1vfSw0MTY5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oMjQwKTt0LmRlZmF1bHQ9by5kZWZhdWx0LHIobigzMTYzKSx0KX0sNDYzNjooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XZWJDb250ZW50cz12b2lkIDA7Y29uc3QgaT1uKDk2NTkpO2NsYXNzIHIgZXh0ZW5kcyBpLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLG4sdC51dWlkLHQubmFtZSksdGhpcy5lbnRpdHlUeXBlPW59Y2FwdHVyZVBhZ2UoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2FwdHVyZS1wYWdlXCIse29wdGlvbnM6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9ZXhlY3V0ZUphdmFTY3JpcHQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZXhlY3V0ZS1qYXZhc2NyaXB0LWluLXdpbmRvd1wiLHsuLi50aGlzLmlkZW50aXR5LGNvZGU6ZX0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFpvb21MZXZlbCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC16b29tLWxldmVsXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9c2V0Wm9vbUxldmVsKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC16b29tLWxldmVsXCIsey4uLnRoaXMuaWRlbnRpdHksbGV2ZWw6ZX0pLnRoZW4oKCgpPT57fSkpfW5hdmlnYXRlKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcIm5hdmlnYXRlLXdpbmRvd1wiLHsuLi50aGlzLmlkZW50aXR5LHVybDplfSkudGhlbigoKCk9Pnt9KSl9bmF2aWdhdGVCYWNrKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibmF2aWdhdGUtd2luZG93LWJhY2tcIix7Li4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfWFzeW5jIG5hdmlnYXRlRm9yd2FyZCgpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibmF2aWdhdGUtd2luZG93LWZvcndhcmRcIix7Li4udGhpcy5pZGVudGl0eX0pfXN0b3BOYXZpZ2F0aW9uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3RvcC13aW5kb3ctbmF2aWdhdGlvblwiLHsuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVsb2FkKGU9ITEpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlbG9hZC13aW5kb3dcIix7aWdub3JlQ2FjaGU6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cHJpbnQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicHJpbnRcIix7Li4udGhpcy5pZGVudGl0eSxvcHRpb25zOmV9KS50aGVuKCgoKT0+e30pKX1maW5kSW5QYWdlKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZmluZC1pbi1wYWdlXCIsey4uLnRoaXMuaWRlbnRpdHksc2VhcmNoVGVybTplLG9wdGlvbnM6dH0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXN0b3BGaW5kSW5QYWdlKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInN0b3AtZmluZC1pbi1wYWdlXCIsey4uLnRoaXMuaWRlbnRpdHksYWN0aW9uOmV9KS50aGVuKCgoKT0+e30pKX1nZXRQcmludGVycygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1wcmludGVyc1wiLHsuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZm9jdXMoe2VtaXRTeW50aEZvY3VzZWQ6ZX09e2VtaXRTeW50aEZvY3VzZWQ6ITB9KXthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImZvY3VzLXdpbmRvd1wiLHtlbWl0U3ludGhGb2N1c2VkOmUsLi4udGhpcy5pZGVudGl0eX0pfWFzeW5jIHNob3dEZXZlbG9wZXJUb29scygpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy1kZXZlbG9wZXItdG9vbHNcIix0aGlzLmlkZW50aXR5KX1hc3luYyBnZXRQcm9jZXNzSW5mbygpe2NvbnN0e3BheWxvYWQ6e2RhdGE6ZX19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXByb2Nlc3MtaW5mb1wiLHRoaXMuaWRlbnRpdHkpO3JldHVybiBlfWFzeW5jIGdldFNoYXJlZFdvcmtlcnMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtc2hhcmVkLXdvcmtlcnNcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1hc3luYyBpbnNwZWN0U2hhcmVkV29ya2VyKCl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnNwZWN0LXNoYXJlZC13b3JrZXJcIix7Li4udGhpcy5pZGVudGl0eX0pfWFzeW5jIGluc3BlY3RTaGFyZWRXb3JrZXJCeUlkKGUpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW5zcGVjdC1zaGFyZWQtd29ya2VyLWJ5LWlkXCIsey4uLnRoaXMuaWRlbnRpdHksd29ya2VySWQ6ZX0pfWFzeW5jIGluc3BlY3RTZXJ2aWNlV29ya2VyKCl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnNwZWN0LXNlcnZpY2Utd29ya2VyXCIsey4uLnRoaXMuaWRlbnRpdHl9KX1hc3luYyBzaG93UG9wdXBXaW5kb3coZSl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oYCR7dGhpcy5lbnRpdHlUeXBlfS1zaG93LXBvcHVwLXdpbmRvd2AsdGhpcy5pZGVudGl0eSkuY2F0Y2goKCgpPT57fSkpLG51bGw9PWU/dm9pZCAwOmUub25Qb3B1cFJlYWR5KXtjb25zdCB0PWFzeW5jKHtwb3B1cE5hbWU6dH0pPT57dHJ5e2NvbnN0IG49dGhpcy5maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOnRoaXMuZmluLm1lLnV1aWQsbmFtZTp0fSk7YXdhaXQgZS5vblBvcHVwUmVhZHkobil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgb25Qb3B1cFJlYWR5IGV4ZWN1dGlvbjogJHtlfWApfX07YXdhaXQgdGhpcy5vbmNlKFwicG9wdXAtcmVhZHlcIix0KX1jb25zdHtwYXlsb2FkOnR9PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidHJ5LWNyZWF0ZS1wb3B1cC13aW5kb3dcIix7b3B0aW9uczp7Li4uZSxoYXNSZXN1bHRDYWxsYmFjazohIShudWxsPT1lP3ZvaWQgMDplLm9uUG9wdXBSZXN1bHQpLGhhc1JlYWR5Q2FsbGJhY2s6ISEobnVsbD09ZT92b2lkIDA6ZS5vblBvcHVwUmVhZHkpfSwuLi50aGlzLmlkZW50aXR5fSkse2RhdGE6e3dpbGxPcGVuOm4sb3B0aW9uczppfX09dDtpZihuJiZhd2FpdCB0aGlzLndpcmUuZW52aXJvbm1lbnQuY3JlYXRlQ2hpbGRDb250ZW50KHtvcHRpb25zOmkuaW5pdGlhbE9wdGlvbnMsZW50aXR5VHlwZTpcIndpbmRvd1wifSksbnVsbD09ZT92b2lkIDA6ZS5vblBvcHVwUmVzdWx0KXtjb25zdCB0PWFzeW5jIHQ9Pnthd2FpdCBlLm9uUG9wdXBSZXN1bHQoKGU9Pntjb25zdHtuYW1lOnQsdXVpZDpuLHJlc3VsdDppLGRhdGE6cn09ZSxvPXtpZGVudGl0eTp7bmFtZTp0LHV1aWQ6bn0scmVzdWx0Oml9O3JldHVybiByJiYoby5kYXRhPXIpLG99KSh0KSl9LG49YXN5bmMoKT0+e2F3YWl0IHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJwb3B1cC1yZXN1bHRcIix0KX07YXdhaXQgdGhpcy5vbihcInBvcHVwLXJlc3VsdFwiLHQpLGF3YWl0IHRoaXMub25jZShcInBvcHVwLXRlYXJkb3duXCIsbil9Y29uc3R7cGF5bG9hZDpyfT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNob3ctcG9wdXAtd2luZG93XCIse29wdGlvbnM6aSwuLi50aGlzLmlkZW50aXR5fSk7cmV0dXJuIHIuZGF0YX19dC5XZWJDb250ZW50cz1yfSwyMTYzOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTkpLG89big1MDQ3KTtjbGFzcyBzIGV4dGVuZHMgaS5CYXNle2FzeW5jIHdyYXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctd3JhcFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uX1dpbmRvdyh0aGlzLndpcmUsZSl9d3JhcFN5bmMoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctd3JhcC1zeW5jXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9ci52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKHQpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBuZXcgby5fV2luZG93KHRoaXMud2lyZSxlKX1jcmVhdGUoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY3JlYXRlLXdpbmRvd1wiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5fV2luZG93KHRoaXMud2lyZSx7dXVpZDp0aGlzLm1lLnV1aWQsbmFtZTplLm5hbWV9KS5jcmVhdGVXaW5kb3coZSl9Z2V0Q3VycmVudCgpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWN1cnJlbnQtd2luZG93XCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLndpcmUubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgaW4gYSBXaW5kb3cgY29udGV4dFwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLndpcmUubWU7cmV0dXJuIHRoaXMud3JhcCh7dXVpZDplLG5hbWU6dH0pfWdldEN1cnJlbnRTeW5jKCl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY3VycmVudC13aW5kb3ctc3luY1wiKS5jYXRjaCgoZT0+e30pKSwhdGhpcy53aXJlLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGluIGEgV2luZG93IGNvbnRleHRcIik7Y29uc3R7dXVpZDplLG5hbWU6dH09dGhpcy53aXJlLm1lO3JldHVybiB0aGlzLndyYXBTeW5jKHt1dWlkOmUsbmFtZTp0fSl9fXQuZGVmYXVsdD1zfSw1MDQ3OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Ll9XaW5kb3c9dm9pZCAwO2NvbnN0IGk9big3MjY0KSxyPW4oNDYzNiksbz1uKDQxNjkpO2NsYXNzIHMgZXh0ZW5kcyByLldlYkNvbnRlbnRze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LFwid2luZG93XCIpLHRoaXMuaWRlbnRpdHk9dH1jcmVhdGVXaW5kb3coZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2luZG93LWNyZWF0ZS13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxuZXcgUHJvbWlzZSgoKHQsbik9Pntjb25zdCBpPVwiZmlyZS1jb25zdHJ1Y3Rvci1jYWxsYmFja1wiLHI9bmV3IFByb21pc2UoKGU9Pnt0aGlzLm9uKGksKGZ1bmN0aW9uIHQobil7bGV0IHI7Y29uc3R7c3VjY2VzczpvfT1uLHM9bi5kYXRhLHttZXNzYWdlOmF9PXM7cj1vP3todHRwUmVzcG9uc2VDb2RlOnMuaHR0cFJlc3BvbnNlQ29kZSxhcGlJbmplY3RlZDpzLmFwaUluamVjdGVkfTp7bWVzc2FnZTpzLm1lc3NhZ2UsbmV0d29ya0Vycm9yQ29kZTpzLm5ldHdvcmtFcnJvckNvZGUsc3RhY2s6cy5zdGFja30sdGhpcy5yZW1vdmVMaXN0ZW5lcihpLHQpLGUoe21lc3NhZ2U6YSxjYlBheWxvYWQ6cixzdWNjZXNzOm99KX0pKX0pKTt2b2lkIDA9PT1lLndhaXRGb3JQYWdlTG9hZCYmKGUud2FpdEZvclBhZ2VMb2FkPSExKSx2b2lkIDA9PT1lLmF1dG9TaG93JiYoZS5hdXRvU2hvdz0hMCk7Y29uc3Qgbz10aGlzLndpcmUuZW52aXJvbm1lbnQuY3JlYXRlQ2hpbGRDb250ZW50KHtlbnRpdHlUeXBlOlwid2luZG93XCIsb3B0aW9uczplfSk7UHJvbWlzZS5hbGwoW3Isb10pLnRoZW4oKGU9Pntjb25zdCBpPWVbMF07aS5zdWNjZXNzP3QodGhpcyk6bihpKTt0cnl7dGhpcy5nZXRXZWJXaW5kb3coKS5maW4uX19pbnRlcm5hbF8ub3BlbmVyU3VjY2Vzc0NCQ2FsbGVkKCl9Y2F0Y2goZSl7fX0pKS5jYXRjaChuKX0pKX1nZXRBbGxGcmFtZXMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWZyYW1lc1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldEJvdW5kcygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC13aW5kb3ctYm91bmRzXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Y2VudGVyKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2VudGVyLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWJsdXIoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJibHVyLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWJyaW5nVG9Gcm9udCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImJyaW5nLXdpbmRvdy10by1mcm9udFwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWFuaW1hdGUoZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhbmltYXRlLXdpbmRvd1wiLHt0cmFuc2l0aW9uczplLG9wdGlvbnM6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9aGlkZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImhpZGUtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9Y2xvc2UoZT0hMSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xvc2Utd2luZG93XCIse2ZvcmNlOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57T2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsbnVsbCl9KSl9Zm9jdXNlZFdlYlZpZXdXYXNDaGFuZ2VkKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZm9jdXNlZC13ZWJ2aWV3LWNoYW5nZWRcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoKT0+e30pKX1nZXROYXRpdmVJZCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC13aW5kb3ctbmF0aXZlLWlkXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZ2V0Q3VycmVudFZpZXdzKCl7Y29uc3R7cGF5bG9hZDplfT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcIndpbmRvdy1nZXQtdmlld3NcIix0aGlzLmlkZW50aXR5KTtyZXR1cm4gZS5kYXRhLm1hcCgoZT0+bmV3IG8uVmlldyh0aGlzLndpcmUsZSkpKX1kaXNhYmxlRnJhbWUoKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRnVuY3Rpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGRpc2FibGVVc2VyTW92ZW1lbnQgaW5zdGVhZC5cIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkaXNhYmxlLXdpbmRvdy1mcmFtZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWRpc2FibGVVc2VyTW92ZW1lbnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkaXNhYmxlLXdpbmRvdy1mcmFtZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWVuYWJsZUZyYW1lKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIkZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBlbmFibGVVc2VyTW92ZW1lbnQgaW5zdGVhZC5cIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJlbmFibGUtd2luZG93LWZyYW1lXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9ZW5hYmxlVXNlck1vdmVtZW50KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZW5hYmxlLXdpbmRvdy1mcmFtZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWZsYXNoKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZmxhc2gtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9c3RvcEZsYXNoaW5nKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3RvcC1mbGFzaC13aW5kb3dcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoKT0+e30pKX1nZXRJbmZvKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXdpbmRvdy1pbmZvXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZ2V0TGF5b3V0KCl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctZ2V0LWxheW91dFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLCEoYXdhaXQgdGhpcy5nZXRPcHRpb25zKCkpLmxheW91dCl0aHJvdyBuZXcgRXJyb3IoXCJXaW5kb3cgZG9lcyBub3QgaGF2ZSBhIExheW91dFwiKTtyZXR1cm4gdGhpcy5maW4uUGxhdGZvcm0uTGF5b3V0LndyYXAodGhpcy5pZGVudGl0eSl9Z2V0T3B0aW9ucygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC13aW5kb3ctb3B0aW9uc1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFBhcmVudEFwcGxpY2F0aW9uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2luZG93LWdldC1wYXJlbnQtYXBwbGljYXRpb25cIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUobmV3IGkuQXBwbGljYXRpb24odGhpcy53aXJlLHRoaXMuaWRlbnRpdHkpKX1nZXRQYXJlbnRXaW5kb3coKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctZ2V0LXBhcmVudC13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUobmV3IGkuQXBwbGljYXRpb24odGhpcy53aXJlLHRoaXMuaWRlbnRpdHkpKS50aGVuKChlPT5lLmdldFdpbmRvdygpKSl9YXN5bmMgZ2V0U25hcHNob3QoZSl7Y29uc3QgdD17YXJlYTplLC4uLnRoaXMuaWRlbnRpdHl9O3JldHVybiBjb25zb2xlLndhcm4oXCJXaW5kb3cuZ2V0U25hcHNob3QgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBXaW5kb3cuY2FwdHVyZVBhZ2VcIiksKGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXdpbmRvdy1zbmFwc2hvdFwiLHQpKS5wYXlsb2FkLmRhdGF9Z2V0U3RhdGUoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtd2luZG93LXN0YXRlXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0V2ViV2luZG93KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2luZG93LWdldC13ZWItd2luZG93XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksdGhpcy53aXJlLmVudmlyb25tZW50LmdldFdlYldpbmRvdyh0aGlzLmlkZW50aXR5KX1pc01haW5XaW5kb3coKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctaXMtbWFpbi13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSx0aGlzLm1lLnV1aWQ9PT10aGlzLm1lLm5hbWV9aXNTaG93aW5nKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaXMtd2luZG93LXNob3dpbmdcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1tYXhpbWl6ZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcIm1heGltaXplLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfW1pbmltaXplKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibWluaW1pemUtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9bW92ZUJ5KGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibW92ZS13aW5kb3ctYnlcIix7ZGVsdGFMZWZ0OmUsZGVsdGFUb3A6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9bW92ZVRvKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibW92ZS13aW5kb3dcIix7bGVmdDplLHRvcDp0LC4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoKT0+e30pKX1yZXNpemVCeShlLHQsbil7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVzaXplLXdpbmRvdy1ieVwiLHtkZWx0YVdpZHRoOk1hdGguZmxvb3IoZSksZGVsdGFIZWlnaHQ6TWF0aC5mbG9vcih0KSxhbmNob3I6biwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVzaXplVG8oZSx0LG4pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlc2l6ZS13aW5kb3dcIix7d2lkdGg6TWF0aC5mbG9vcihlKSxoZWlnaHQ6TWF0aC5mbG9vcih0KSxhbmNob3I6biwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVzdG9yZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlc3RvcmUtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9c2V0QXNGb3JlZ3JvdW5kKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2V0LWZvcmVncm91bmQtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9c2V0Qm91bmRzKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC13aW5kb3ctYm91bmRzXCIsey4uLmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfXNob3coZT0hMSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy13aW5kb3dcIix7Zm9yY2U6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9c2hvd0F0KGUsdCxuPSExKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzaG93LWF0LXdpbmRvd1wiLHtmb3JjZTpuLGxlZnQ6TWF0aC5mbG9vcihlKSx0b3A6TWF0aC5mbG9vcih0KSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9dXBkYXRlT3B0aW9ucyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ1cGRhdGUtd2luZG93LW9wdGlvbnNcIix7b3B0aW9uczplLC4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoKT0+e30pKX1hdXRoZW50aWNhdGUoZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctYXV0aGVudGljYXRlXCIse3VzZXJOYW1lOmUscGFzc3dvcmQ6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9YXN5bmMgc2hvd1BvcHVwTWVudShlKXtjb25zdHtwYXlsb2FkOnR9PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy1wb3B1cC1tZW51XCIse29wdGlvbnM6ZSwuLi50aGlzLmlkZW50aXR5fSk7cmV0dXJuIHQuZGF0YX1hc3luYyBjbG9zZVBvcHVwTWVudSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsb3NlLXBvcHVwLW1lbnVcIix7Li4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfWFzeW5jIGRpc3BhdGNoUG9wdXBSZXN1bHQoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctZGlzcGF0Y2gtcG9wdXAtcmVzdWx0XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksYXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkaXNwYXRjaC1wb3B1cC1yZXN1bHRcIix7ZGF0YTplLC4uLnRoaXMuaWRlbnRpdHl9KX19dC5fV2luZG93PXN9LDQ5OTc6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8dC5oYXNPd25Qcm9wZXJ0eShuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG89bigyMTYzKTt0LmRlZmF1bHQ9by5kZWZhdWx0LHIobig1MDQ3KSx0KX0sMTY4MTooZSx0LG4pPT57dmFyIGk7dC5IPXZvaWQgMDtjb25zdCByPW4oNjQ2NSksbz1uKDY1NDUpLHM9big5Mjk4KSxhPW4oOTY0MSk7Y2xhc3MgYyBleHRlbmRzIHIuRXZlbnRFbWl0dGVye2Nvbm5lY3QoZSl7dGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgcnVubmluZyBpbiBPcGVuRmluLlwiKX1jb25uZWN0U3luYygpe3Rocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IHJ1bm5pbmcgaW4gT3BlbkZpbi5cIil9c2VuZChlKXt0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBydW5uaW5nIGluIE9wZW5GaW4uXCIpfXNodXRkb3duKCl7dGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgcnVubmluZyBpbiBPcGVuRmluLlwiKX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLmNoaWxkVmlld3M9ITB9Z2V0RGVmYXVsdENoYW5uZWxPcHRpb25zKCl7dGhyb3cgbmV3IEVycm9yKGEuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfWdldFJ0Y1BlZXIoKXt0aHJvdyBuZXcgRXJyb3IoYS5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9Z2V0TWFuYWdlckNvbnN0cnVjdG9yKCl7dGhyb3cgbmV3IEVycm9yKGEuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfWdldFByb3ZpZGVySW5pdGlhbGl6ZXIoKXt0aHJvdyBuZXcgRXJyb3IoYS5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9d3JpdGVUb2tlbihlLHQpe3Rocm93IG5ldyBFcnJvcihhLmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX1yZXRyaWV2ZVBvcnQoZSl7dGhyb3cgbmV3IEVycm9yKGEuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfWdldE5leHRNZXNzYWdlSWQoKXt0aHJvdyBuZXcgRXJyb3IoYS5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9Z2V0UmFuZG9tSWQoKXt0aHJvdyBuZXcgRXJyb3IoYS5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9Y3JlYXRlQ2hpbGRDb250ZW50KGUpe3Rocm93IG5ldyBFcnJvcihhLmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX1nZXRXZWJXaW5kb3coZSl7dGhyb3cgbmV3IEVycm9yKGEuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfWdldEN1cnJlbnRFbnRpdHlJZGVudGl0eSgpe3Rocm93IG5ldyBFcnJvcihhLmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX1nZXRDdXJyZW50RW50aXR5VHlwZSgpe3JldHVyblwidW5rbm93blwifXJhaXNlRXZlbnQoZSx0KXt0aHJvdyBuZXcgRXJyb3IoYS5lbnZpcm9ubWVudFVuc3VwcG9ydGVkTWVzc2FnZSl9Z2V0VXJsKCl7dGhyb3cgbmV3IEVycm9yKGEuZW52aXJvbm1lbnRVbnN1cHBvcnRlZE1lc3NhZ2UpfXdoZW5SZWFkeSgpe3Rocm93IG5ldyBFcnJvcihhLmVudmlyb25tZW50VW5zdXBwb3J0ZWRNZXNzYWdlKX19dC5IPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihudWxsPT09KGk9d2luZG93KXx8dm9pZCAwPT09aT92b2lkIDA6aS5maW4pfHwoKCk9Pntjb25zdCBlPW5ldyBkLHQ9bmV3IHMuZGVmYXVsdChjLGUse3V1aWQ6XCJcIixuYW1lOlwiXCJ9KTtyZXR1cm4gbmV3IG8uZGVmYXVsdCh0KX0pKCl9LDgwNjg6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldEZpbj10LnJlZ2lzdGVyRmluPXZvaWQgMDtjb25zdCBuPW5ldyBXZWFrTWFwO3QucmVnaXN0ZXJGaW49ZnVuY3Rpb24oZSx0KXtuLnNldChlLHQpfSx0LmdldEZpbj1mdW5jdGlvbihlKXtjb25zdCB0PW4uZ2V0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBsb2NhdGUgZmluIGFwaSBmb3IgZ2l2ZW4gdHJhbnNwb3J0XCIpO3JldHVybiB0fX0sNTAwNzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUnVudGltZUVycm9yPXQuTm90U3VwcG9ydGVkRXJyb3I9dC5Ob3RJbXBsZW1lbnRlZEVycm9yPXQuTm9BY2tFcnJvcj10LkR1cGxpY2F0ZUNvcnJlbGF0aW9uRXJyb3I9dC5VbmV4cGVjdGVkQWN0aW9uRXJyb3I9dC5EaXNjb25uZWN0ZWRFcnJvcj12b2lkIDA7Y2xhc3MgbiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGBFeHBlY3RlZCB3ZWJzb2NrZXQgc3RhdGUgT1BFTiBidXQgZm91bmQgJHtlfWApLHRoaXMucmVhZHlTdGF0ZT1lfX10LkRpc2Nvbm5lY3RlZEVycm9yPW47Y2xhc3MgaSBleHRlbmRzIEVycm9ye310LlVuZXhwZWN0ZWRBY3Rpb25FcnJvcj1pO2NsYXNzIHIgZXh0ZW5kcyBFcnJvcnt9dC5EdXBsaWNhdGVDb3JyZWxhdGlvbkVycm9yPXI7Y2xhc3MgbyBleHRlbmRzIEVycm9ye310Lk5vQWNrRXJyb3I9bztjbGFzcyBzIGV4dGVuZHMgRXJyb3J7fXQuTm90SW1wbGVtZW50ZWRFcnJvcj1zO2NsYXNzIGEgZXh0ZW5kcyBFcnJvcnt9dC5Ob3RTdXBwb3J0ZWRFcnJvcj1hO2NsYXNzIGMgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PWUucGF5bG9hZHx8ZSx7cmVhc29uOm4sZXJyb3I6aX09dDtzdXBlcihuKSx0aGlzLm5hbWU9XCJSdW50aW1lRXJyb3JcIiwobnVsbD09aT92b2lkIDA6aS5zdGFjaykmJih0aGlzLnN0YWNrPWkuc3RhY2spfX10LlJ1bnRpbWVFcnJvcj1jfSw5Mjk4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldHx8ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5zZXQoZSxuKSxufSxvPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldHx8ZnVuY3Rpb24oZSx0KXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuZ2V0KGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPW4oNjQ2NSksYT1uKDg2MjQpLGM9big1MDA3KSxkPW4oMjczNCksaD1uKDk2NDEpO2NsYXNzIGwgZXh0ZW5kcyBzLkV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSx0aGlzLndpcmVMaXN0ZW5lcnM9bmV3IE1hcCx0aGlzLnRvcGljUmVmTWFwPW5ldyBNYXAsdGhpcy5ldmVudEFnZ3JlZ2F0b3I9bmV3IGQuZGVmYXVsdCx0aGlzLm1lc3NhZ2VIYW5kbGVycz1bdGhpcy5ldmVudEFnZ3JlZ2F0b3IuZGlzcGF0Y2hFdmVudF0saS5zZXQodGhpcyx2b2lkIDApLHRoaXMuY29ubmVjdFN5bmM9KCk9PntvKHRoaXMsaSkuY29ubmVjdFN5bmMoKX0sdGhpcy5nZXRQb3J0PSgpPT57aWYoXCJOb2RlRW52aXJvbm1lbnRcIiE9PXRoaXMuZW52aXJvbm1lbnQuY29uc3RydWN0b3IubmFtZSl0aHJvdyBuZXcgYy5Ob3RJbXBsZW1lbnRlZEVycm9yKFwiTm90IEltcGxlbWVudGVkXCIpO3JldHVybiBvKHRoaXMsaSkud2lyZS51cmwuc3BsaXQoXCI6XCIpLnNsaWNlKC0xKVswXX0scih0aGlzLGksbmV3IGUodGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzKSkpLHRoaXMuZW52aXJvbm1lbnQ9dCx0aGlzLnNlbmRSYXc9byh0aGlzLGkpLnNlbmQuYmluZChvKHRoaXMsaSkpLHRoaXMucmVnaXN0ZXJNZXNzYWdlSGFuZGxlcih0aGlzLmhhbmRsZU1lc3NhZ2UuYmluZCh0aGlzKSksbyh0aGlzLGkpLm9uKFwiZGlzY29ubmVjdGVkXCIsKCgpPT57Zm9yKGNvbnN0Wyx7cmVqZWN0OmV9XW9mIHRoaXMud2lyZUxpc3RlbmVycyllKFwiUmVtb3RlIGNvbm5lY3Rpb24gaGFzIGNsb3NlZFwiKTt0aGlzLndpcmVMaXN0ZW5lcnMuY2xlYXIoKSx0aGlzLmVtaXQoXCJkaXNjb25uZWN0ZWRcIil9KSk7Y29uc3R7dXVpZDpzLG5hbWU6YX09bixsPXRoaXMuZW52aXJvbm1lbnQuZ2V0Q3VycmVudEVudGl0eVR5cGUoKTt0aGlzLm1lPWguZ2V0QmFzZU1lKGwscyxhKX1zaHV0ZG93bigpe3JldHVybiBvKHRoaXMsaSkuc2h1dGRvd24oKX1hc3luYyBjb25uZWN0KGUpe2lmKGEuaXNFeGlzdGluZ0Nvbm5lY3RDb25maWcoZSkpcmV0dXJuIHRoaXMuY29ubmVjdEJ5UG9ydChlKTtpZihhLmlzTmV3Q29ubmVjdENvbmZpZyhlKSl7Y29uc3QgdD1hd2FpdCB0aGlzLmVudmlyb25tZW50LnJldHJpZXZlUG9ydChlKTtyZXR1cm4gdGhpcy5jb25uZWN0QnlQb3J0KHsuLi5lLGFkZHJlc3M6YHdzOi8vbG9jYWxob3N0OiR7dH1gfSl9fWFzeW5jIGNvbm5lY3RCeVBvcnQoZSl7Y29uc3R7YWRkcmVzczp0LHV1aWQ6bn09ZSxyPXsuLi5lLHR5cGU6XCJmaWxlLXRva2VuXCJ9LHM9byh0aGlzLGkpO2F3YWl0IHMuY29ubmVjdCh0KTtjb25zdCBhPWF3YWl0IHRoaXMuc2VuZEFjdGlvbihcInJlcXVlc3QtZXh0ZXJuYWwtYXV0aG9yaXphdGlvblwiLHt1dWlkOm4sdHlwZTpcImZpbGUtdG9rZW5cIn0sITApO2lmKFwiZXh0ZXJuYWwtYXV0aG9yaXphdGlvbi1yZXNwb25zZVwiIT09YS5hY3Rpb24pdGhyb3cgbmV3IGMuVW5leHBlY3RlZEFjdGlvbkVycm9yKGEuYWN0aW9uKTtjb25zdHt0b2tlbjpkfT1hLnBheWxvYWQ7YXdhaXQgdGhpcy5lbnZpcm9ubWVudC53cml0ZVRva2VuKGEucGF5bG9hZC5maWxlLGEucGF5bG9hZC50b2tlbik7Y29uc3QgaD1hd2FpdCB0aGlzLnNlbmRBY3Rpb24oXCJyZXF1ZXN0LWF1dGhvcml6YXRpb25cIixyLCEwKTtpZihcImF1dGhvcml6YXRpb24tcmVzcG9uc2VcIiE9PWguYWN0aW9uKXRocm93IG5ldyBjLlVuZXhwZWN0ZWRBY3Rpb25FcnJvcihoLmFjdGlvbik7aWYoITAhPT1oLnBheWxvYWQuc3VjY2Vzcyl0aHJvdyBuZXcgYy5SdW50aW1lRXJyb3IoaC5wYXlsb2FkKTtyZXR1cm4gZH1zZW5kQWN0aW9uKGUsdD17fSxuPSExKXtyZXR1cm4gbmV3IFByb21pc2UoKChyLHMpPT57Y29uc3QgYT10aGlzLmVudmlyb25tZW50LmdldE5leHRNZXNzYWdlSWQoKSxjPXthY3Rpb246ZSxwYXlsb2FkOnQsbWVzc2FnZUlkOmF9LGQ9byh0aGlzLGkpO3JldHVybiB0aGlzLmFkZFdpcmVMaXN0ZW5lcihhLHIscyxuKSxkLnNlbmQoYykuY2F0Y2gocyl9KSl9ZmVycnlBY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxuKT0+e2NvbnN0IHI9dGhpcy5lbnZpcm9ubWVudC5nZXROZXh0TWVzc2FnZUlkKCk7ZS5tZXNzYWdlSWQ9cjtjb25zdCBzPWU9Pnt0KGUucGF5bG9hZCl9O3JldHVybiBvKHRoaXMsaSkuc2VuZChlKS50aGVuKCgoKT0+dGhpcy5hZGRXaXJlTGlzdGVuZXIocixzLG4sITEpKSkuY2F0Y2gobil9KSl9cmVnaXN0ZXJNZXNzYWdlSGFuZGxlcihlKXt0aGlzLm1lc3NhZ2VIYW5kbGVycy5wdXNoKGUpfWFkZFdpcmVMaXN0ZW5lcihlLHQsbixpKXtpP3RoaXMudW5jb3JyZWxhdGVkTGlzdGVuZXI9dDp0aGlzLndpcmVMaXN0ZW5lcnMuaGFzKGUpP24obmV3IGMuRHVwbGljYXRlQ29ycmVsYXRpb25FcnJvcihTdHJpbmcoZSkpKTp0aGlzLndpcmVMaXN0ZW5lcnMuc2V0KGUse3Jlc29sdmU6dCxyZWplY3Q6bn0pfW9ubWVzc2FnZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLm1lc3NhZ2VIYW5kbGVycyl0LmNhbGwobnVsbCxlKX1oYW5kbGVNZXNzYWdlKGUpe2NvbnN0IHQ9ZS5jb3JyZWxhdGlvbklkfHxOYU47aWYoXCJjb3JyZWxhdGlvbklkXCJpbiBlKXtpZighdGhpcy53aXJlTGlzdGVuZXJzLmhhcyh0KSlyZXR1cm4hMTt7Y29uc3R7cmVzb2x2ZTpuLHJlamVjdDppfT10aGlzLndpcmVMaXN0ZW5lcnMuZ2V0KHQpO1wiYWNrXCIhPT1lLmFjdGlvbj9pKG5ldyBjLk5vQWNrRXJyb3IoZS5hY3Rpb24pKTpcInBheWxvYWRcImluIGU/ZS5wYXlsb2FkLnN1Y2Nlc3M/bi5jYWxsKG51bGwsZSk6aShuZXcgYy5SdW50aW1lRXJyb3IoZS5wYXlsb2FkKSk6aShuZXcgYy5SdW50aW1lRXJyb3IoZSkpLHRoaXMud2lyZUxpc3RlbmVycy5kZWxldGUodCl9fWVsc2UgdGhpcy51bmNvcnJlbGF0ZWRMaXN0ZW5lciYmdGhpcy51bmNvcnJlbGF0ZWRMaXN0ZW5lci5jYWxsKG51bGwsZSksdGhpcy51bmNvcnJlbGF0ZWRMaXN0ZW5lcj0oKT0+e307cmV0dXJuITB9fWk9bmV3IFdlYWtNYXAsdC5kZWZhdWx0PWx9LDg2MjQ6KGUsdCk9PntmdW5jdGlvbiBuKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLm1hbmlmZXN0VXJsfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHIoZSkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmFkZHJlc3N9ZnVuY3Rpb24gcihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZS51dWlkfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUucnVudGltZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUucnVudGltZS52ZXJzaW9ufWZ1bmN0aW9uIHMoZSl7cmV0dXJuIHIoZSkmJm8oZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5pc0ludGVybmFsQ29ubmVjdENvbmZpZz10LmlzUG9ydERpc2NvdmVyeUNvbmZpZz10LmlzTmV3Q29ubmVjdENvbmZpZz10LmlzRXhpc3RpbmdDb25uZWN0Q29uZmlnPXQuaXNFeHRlcm5hbENvbmZpZz12b2lkIDAsdC5pc0V4dGVybmFsQ29uZmlnPW4sdC5pc0V4aXN0aW5nQ29ubmVjdENvbmZpZz1pLHQuaXNOZXdDb25uZWN0Q29uZmlnPXMsdC5pc1BvcnREaXNjb3ZlcnlDb25maWc9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSkmJm8oZSl8fHMoZSl9LHQuaXNJbnRlcm5hbENvbm5lY3RDb25maWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fHMoZSl9fSwyMzY2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5lcnJvclRvUE9KTz12b2lkIDAsdC5lcnJvclRvUE9KTz1mdW5jdGlvbihlKXtyZXR1cm57c3RhY2s6ZS5zdGFjayxtZXNzYWdlOmUubWVzc2FnZSx0b1N0cmluZzplLnRvU3RyaW5nfX19LDM5MTc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4aGF1c3RpdmVDaGVjaz12b2lkIDAsdC5leGhhdXN0aXZlQ2hlY2s9ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHZhbHVlOiAke2V9JHt0P2BcXG4gU3VwcG9ydGVkIHZhbHVlcyBhcmU6ICR7dC5qb2luKFwiXCIpfWA6XCJcIn1gKX19LDM0NDI6KGUsdCk9Pnthc3luYyBmdW5jdGlvbiBuKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1hd2FpdCBuKCk7dC5wdXNoKGUpfXJldHVybiB0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucHJvbWlzZU1hcFNlcmlhbD10LnNlcmlhbD10LnByb21pc2VNYXA9dC5wcm9taXNpZnk9dm9pZCAwLHQucHJvbWlzaWZ5PWZ1bmN0aW9uKGUpe3JldHVybiguLi50KT0+bmV3IFByb21pc2UoKChuLGkpPT57ZSguLi50LCgoZSx0KT0+ZT9pKGUpOm4odCkpKX0pKX0sdC5wcm9taXNlTWFwPWFzeW5jIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFByb21pc2UuYWxsKGUubWFwKHQpKX0sdC5zZXJpYWw9bix0LnByb21pc2VNYXBTZXJpYWw9YXN5bmMgZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLm1hcCgoKGUsbixpKT0+KCk9PnQoZSxuLGkpKSkpfX0sMzEyNzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMudG9waWNSZWZNYXA9bmV3IE1hcH1pbmNSZWZDb3VudChlKXtjb25zdCB0PXRoaXMudG9waWNSZWZNYXAuZ2V0KGUpO2xldCBuO2lmKHQpe2NvbnN0IGk9dCsxO249aSx0aGlzLnRvcGljUmVmTWFwLnNldChlLGkpfWVsc2UgdGhpcy50b3BpY1JlZk1hcC5zZXQoZSwxKSxuPTE7cmV0dXJuIG59ZGVjUmVmQ291bnQoZSl7Y29uc3QgdD10aGlzLnRvcGljUmVmTWFwLmdldChlKTtsZXQgbjtpZih0KXtjb25zdCBpPXQtMTt0aGlzLnRvcGljUmVmTWFwLnNldChlLGkpLG49aX1lbHNlIG49LTE7cmV0dXJuIG59YWN0T25GaXJzdChlLHQsbil7cmV0dXJuIDE9PT10aGlzLmluY1JlZkNvdW50KGUpP3QoKTpuKCl9YWN0T25MYXN0KGUsdCxuKXtyZXR1cm4gMD09PXRoaXMuZGVjUmVmQ291bnQoZSk/dCgpOm4oKX19fSwyMzAwOihlLHQpPT57ZnVuY3Rpb24gbihlKXtyZXR1cm5bLi4uZS5zcGxpdChcIi5cIikucmV2ZXJzZSgpLmVudHJpZXMoKV0ucmVkdWNlKCgoZSxbdCxuXSk9PmUrICtuKjFlNCoqdCksMCl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBuKGUpPj1uKHQpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUuc3BsaXQoXCIvXCIpWzBdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucnVudGltZVV1aWRNZWV0c01pbmltdW1SdW50aW1lVmVyc2lvbj10LnBhcnNlUnVudGltZVV1aWQ9dC5tZWV0c01pbmltdW1SdW50aW1lVmVyc2lvbj12b2lkIDAsdC5tZWV0c01pbmltdW1SdW50aW1lVmVyc2lvbj1pLHQucGFyc2VSdW50aW1lVXVpZD1yLHQucnVudGltZVV1aWRNZWV0c01pbmltdW1SdW50aW1lVmVyc2lvbj1mdW5jdGlvbihlLHQpe3JldHVybiBpKHIoZSksdCl9fSw0OTk5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC52YWxpZGF0ZUlkZW50aXR5PXZvaWQgMCx0LnZhbGlkYXRlSWRlbnRpdHk9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnV1aWR8fCh0PVwiTm90IGEgdmFsaWQgaWRlbnRpdHkgb2JqZWN0XCIpLHR9fSw2NDY1OmU9Pnt2YXIgdCxuPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxpPW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uYXBwbHk/bi5hcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsdCxuKX07dD1uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm93bktleXM/bi5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgcj1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiBvKCl7by5pbml0LmNhbGwodGhpcyl9ZS5leHBvcnRzPW8sZS5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7ZnVuY3Rpb24gcihuKXtlLnJlbW92ZUxpc3RlbmVyKHQsbyksaShuKX1mdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsciksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWYoZSx0LG8se29uY2U6ITB9KSxcImVycm9yXCIhPT10JiZmdW5jdGlvbihlLHQsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmZihlLFwiZXJyb3JcIix0LHtvbmNlOiEwfSl9KGUscil9KSl9LG8uRXZlbnRFbWl0dGVyPW8sby5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsby5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsby5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7dmFyIHM9MTA7ZnVuY3Rpb24gYShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIHZvaWQgMD09PWUuX21heExpc3RlbmVycz9vLmRlZmF1bHRNYXhMaXN0ZW5lcnM6ZS5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIGQoZSx0LG4saSl7dmFyIHIsbyxzLGQ7aWYoYShuKSx2b2lkIDA9PT0obz1lLl9ldmVudHMpPyhvPWUuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1vLm5ld0xpc3RlbmVyJiYoZS5lbWl0KFwibmV3TGlzdGVuZXJcIix0LG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxvPWUuX2V2ZW50cykscz1vW3RdKSx2b2lkIDA9PT1zKXM9b1t0XT1uLCsrZS5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzP3M9b1t0XT1pP1tuLHNdOltzLG5dOmk/cy51bnNoaWZ0KG4pOnMucHVzaChuKSwocj1jKGUpKT4wJiZzLmxlbmd0aD5yJiYhcy53YXJuZWQpe3Mud2FybmVkPSEwO3ZhciBoPW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrcy5sZW5ndGgrXCIgXCIrU3RyaW5nKHQpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7aC5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsaC5lbWl0dGVyPWUsaC50eXBlPXQsaC5jb3VudD1zLmxlbmd0aCxkPWgsY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oZCl9cmV0dXJuIGV9ZnVuY3Rpb24gaCgpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gbChlLHQsbil7dmFyIGk9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OmUsdHlwZTp0LGxpc3RlbmVyOm59LHI9aC5iaW5kKGkpO3JldHVybiByLmxpc3RlbmVyPW4saS53cmFwRm49cixyfWZ1bmN0aW9uIHUoZSx0LG4pe3ZhciBpPWUuX2V2ZW50cztpZih2b2lkIDA9PT1pKXJldHVybltdO3ZhciByPWlbdF07cmV0dXJuIHZvaWQgMD09PXI/W106XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9uP1tyLmxpc3RlbmVyfHxyXTpbcl06bj9mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXT1lW25dLmxpc3RlbmVyfHxlW25dO3JldHVybiB0fShyKTp3KHIsci5sZW5ndGgpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PXQpe3ZhciBuPXRbZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gMTtpZih2b2lkIDAhPT1uKXJldHVybiBuLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiB3KGUsdCl7Zm9yKHZhciBuPW5ldyBBcnJheSh0KSxpPTA7aTx0OysraSluW2ldPWVbaV07cmV0dXJuIG59ZnVuY3Rpb24gZihlLHQsbixpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uKWkub25jZT9lLm9uY2UodCxuKTplLm9uKHQsbik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSk7ZS5hZGRFdmVudExpc3RlbmVyKHQsKGZ1bmN0aW9uIHIobyl7aS5vbmNlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxyKSxuKG8pfSkpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fHIoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrXCIuXCIpO3M9ZX19KSxvLmluaXQ9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50cyE9PU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfSxvLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8cihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LG8ucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMpfSxvLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYXJndW1lbnRzW25dKTt2YXIgcj1cImVycm9yXCI9PT1lLG89dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PW8pcj1yJiZ2b2lkIDA9PT1vLmVycm9yO2Vsc2UgaWYoIXIpcmV0dXJuITE7aWYocil7dmFyIHM7aWYodC5sZW5ndGg+MCYmKHM9dFswXSkscyBpbnN0YW5jZW9mIEVycm9yKXRocm93IHM7dmFyIGE9bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhzP1wiIChcIitzLm1lc3NhZ2UrXCIpXCI6XCJcIikpO3Rocm93IGEuY29udGV4dD1zLGF9dmFyIGM9b1tlXTtpZih2b2lkIDA9PT1jKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMpaShjLHRoaXMsdCk7ZWxzZXt2YXIgZD1jLmxlbmd0aCxoPXcoYyxkKTtmb3Iobj0wO248ZDsrK24paShoW25dLHRoaXMsdCl9cmV0dXJuITB9LG8ucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGQodGhpcyxlLHQsITEpfSxvLnByb3RvdHlwZS5vbj1vLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixvLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZCh0aGlzLGUsdCwhMCl9LG8ucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSh0KSx0aGlzLm9uKGUsbCh0aGlzLGUsdCkpLHRoaXN9LG8ucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSh0KSx0aGlzLnByZXBlbmRMaXN0ZW5lcihlLGwodGhpcyxlLHQpKSx0aGlzfSxvLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixvLHM7aWYoYSh0KSx2b2lkIDA9PT0oaT10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PShuPWlbZV0pKXJldHVybiB0aGlzO2lmKG49PT10fHxuLmxpc3RlbmVyPT09dCkwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOihkZWxldGUgaVtlXSxpLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsbi5saXN0ZW5lcnx8dCkpO2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil7Zm9yKHI9LTEsbz1uLmxlbmd0aC0xO28+PTA7by0tKWlmKG5bb109PT10fHxuW29dLmxpc3RlbmVyPT09dCl7cz1uW29dLmxpc3RlbmVyLHI9bzticmVha31pZihyPDApcmV0dXJuIHRoaXM7MD09PXI/bi5zaGlmdCgpOmZ1bmN0aW9uKGUsdCl7Zm9yKDt0KzE8ZS5sZW5ndGg7dCsrKWVbdF09ZVt0KzFdO2UucG9wKCl9KG4sciksMT09PW4ubGVuZ3RoJiYoaVtlXT1uWzBdKSx2b2lkIDAhPT1pLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsc3x8dCl9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLm9mZj1vLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixvLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2lmKHZvaWQgMD09PShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09bi5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOnZvaWQgMCE9PW5bZV0mJigwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBuW2VdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcixvPU9iamVjdC5rZXlzKG4pO2ZvcihpPTA7aTxvLmxlbmd0aDsrK2kpXCJyZW1vdmVMaXN0ZW5lclwiIT09KHI9b1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHIpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZih0PW5bZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0KTtlbHNlIGlmKHZvaWQgMCE9PXQpZm9yKGk9dC5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdFtpXSk7cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLGUsITApfSxvLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHUodGhpcyxlLCExKX0sby5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5saXN0ZW5lckNvdW50P2UubGlzdGVuZXJDb3VudCh0KTpwLmNhbGwoZSx0KX0sby5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1wLG8ucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD90KHRoaXMuX2V2ZW50cyk6W119fX0sdD17fTtmdW5jdGlvbiBuKGkpe3ZhciByPXRbaV07aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBvPXRbaV09e2V4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8uZXhwb3J0c31uLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiBuLmQodCx7YTp0fSksdH0sbi5kPShlLHQpPT57Zm9yKHZhciBpIGluIHQpbi5vKHQsaSkmJiFuLm8oZSxpKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6dFtpXX0pfSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpO3ZhciBpPXt9OygoKT0+e24uZChpLHtNUzooKT0+byxNXzooKT0+cyxoWTooKT0+YSxHNDooKT0+YyxfVzooKT0+ZCxvOigpPT5oLEMzOigpPT51LGZCOigpPT5sLGlmOigpPT5wLCRqOigpPT5fLFUkOigpPT55LFU3OigpPT5nLEI1OigpPT5UfSk7dmFyIGU9bigxNjgxKSx0PW4oOTQyMSkscj1uLm4odCk7Y2xhc3MgbyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZFwiLHQpe3ZhciBuO3N1cGVyKGUpLHQmJih0aGlzLmlubmVyRXJyb3I9dCYmdCksdGhpcy5zdGFjaz1udWxsPT09KG49dGhpcy5zdGFjayl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9fWNsYXNzIHMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJVbmFibGUgdG8gYXV0aG9yaXplIGNvbm5lY3Rpb24gdG8gU2FsZXNmb3JjZVwiLHQpe3ZhciBuLGkscjtzdXBlcihlLHQpLHQmJnQuaXNBeGlvc0Vycm9yJiYodC5tZXNzYWdlPW51bGwhPT0ocj1udWxsPT09KGk9bnVsbD09PShuPXQucmVzcG9uc2UpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRhdGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVycm9yX2Rlc2NyaXB0aW9uKSYmdm9pZCAwIT09cj9yOnQubWVzc2FnZSl9fWNsYXNzIGEgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJOb3QgY29ubmVjdGVkIHRvIFNhbGVzZm9yY2VcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBjIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiUmV0cmlldmUgU2FsZXNmb3JjZSBvYmplY3QgZGF0YSBmYWlsZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiSW52YWxpZCBwYXJhbWV0ZXIgZGV0ZWN0ZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBoIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiRXhlY3V0ZSBTYWxlc2ZvcmNlIHF1ZXJ5IGZhaWxlZFwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGwgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJVbmFibGUgdG8gcmV0cmlldmUgc2VhcmNoIHJlc3VsdHMgZnJvbSBTYWxlc2ZvcmNlXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgdSBleHRlbmRzIG97Y29uc3RydWN0b3IoZSx0PVwiRXhlY3V0ZSBTYWxlc2ZvcmNlIFJFU1QgQVBJIHJlcXVlc3QgZmFpbGVkXCIpe3ZhciBuLGkscixvLHM7c3VwZXIodCxudWxsIT1lP2U6dm9pZCAwKSx0aGlzLnJlc3RBcGlFcnJvckNvZGU9XCJcIix0aGlzLnJlc3RBcGlFcnJvckRlc2NyaXB0aW9uPVwiXCIsdGhpcy5yZXN0QXBpUmVzcG9uc2VTdGF0dXM9dm9pZCAwO2NvbnN0IGE9ZTtpZihudWxsPT1hP3ZvaWQgMDphLmlzQXhpb3NFcnJvcil7aWYodGhpcy5yZXN0QXBpUmVzcG9uc2VTdGF0dXM9bnVsbD09PShuPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnN0YXR1cywhKG51bGw9PT0ocj1udWxsPT09KGk9YS5yZXNwb25zZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGVuZ3RoKSlyZXR1cm47Y29uc3QgZT1udWxsPT09KHM9bnVsbD09PShvPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRhdGEpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzWzBdO2lmKGUpe2NvbnN0e2Vycm9yQ29kZTp0LG1lc3NhZ2U6bn09ZTt0aGlzLnJlc3RBcGlFcnJvckNvZGU9dCx0aGlzLnJlc3RBcGlFcnJvckRlc2NyaXB0aW9uPW59fX19Y2xhc3MgcCBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIix0KXtzdXBlcihlLHQpfX1sZXQgdz0hMTtjb25zdCBmPVwiW0BvcGVuZmluL3NhbGVzZm9yY2VdXCIseT0oKT0+e3c9ITF9LGc9KCk9Pnt3PSEwLHYoXCJ2Mi4xLjVcIil9LG09ZT0+e2lmKHcmJihlLmlubmVyRXJyb3I/Y29uc29sZS5lcnJvcihmLGUsXCJcXG5cXG4oaW5uZXIpXCIsZS5pbm5lckVycm9yKTpjb25zb2xlLmVycm9yKGYsZSksZSBpbnN0YW5jZW9mIHUpKXtjb25zdHtyZXN0QXBpRXJyb3JDb2RlOnQscmVzdEFwaUVycm9yRGVzY3JpcHRpb246bn09ZTtpZihuKXtjb25zdCBlPW4ucmVwbGFjZSgvXFxuL2csXCIgXCIpLnRyaW0oKSxpPXQ/YCR7dH06ICR7ZX1gOmU7Y29uc29sZS53YXJuKGYsaSl9fX0sdj0oLi4uZSk9Pnt3JiZjb25zb2xlLmxvZyhmLC4uLmUpfSxDPSguLi5lKT0+e3cmJmNvbnNvbGUud2FybihmLC4uLmUpfTtlLkh8fE9iamVjdC5hc3NpZ24od2luZG93LHtmaW46e319KSxPYmplY3QuYXNzaWduKGUuSCx7SW50ZWdyYXRpb25zOntTYWxlc2ZvcmNlOntlbmFibGVMb2dnaW5nOmcsZGlzYWJsZUxvZ2dpbmc6eX19fSk7Y29uc3QgRT1cIjU0LjBcIix4PS92WFhcXC5YL2ksQT1lPT4oQXJyYXkuaXNBcnJheShlKT9lOk9iamVjdC5lbnRyaWVzKGUpKS5yZWR1Y2UoKChlLHQpPT57Y29uc3Qgbj1BcnJheS5pc0FycmF5KGUpP3Q6dFsxXTtsZXQgaTtzd2l0Y2goITApe2Nhc2UgbnVsbD09bjppPW47YnJlYWs7Y2FzZVwic3RyaW5nXCI9PXR5cGVvZiBuOmk9bi5yZXBsYWNlKHgsXCJ2NTQuMFwiKTticmVhaztjYXNlIEFycmF5LmlzQXJyYXkobik6Y2FzZVwib2JqZWN0XCI9PXR5cGVvZiBuOmk9QShuKTticmVhaztkZWZhdWx0Omk9bn1yZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnB1c2goaSk6ZVt0WzBdXT1pLGV9KSxBcnJheS5pc0FycmF5KGUpP1tdOnt9KSxJPVwic2FsZXNmb3JjZS1hdXRoXCIsYj1cImh0dHBzOi8vbG9naW4uc2FsZXNmb3JjZS5jb20vc2VydmljZXMvb2F1dGgyL3N1Y2Nlc3NcIixQPShlLHQsbik9PntlLmFjY2Vzc1Rva2VuJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oayh0LG4pLGUuYWNjZXNzVG9rZW4pLGUucmVmcmVzaFRva2VuJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oRih0LG4pLGUucmVmcmVzaFRva2VuKX0sXz1hc3luYyh0LG4pPT57bGV0IGk7dHJ5e2k9bmV3IFVSTCh0KS5vcmlnaW59Y2F0Y2goZSl7dGhyb3cgbmV3IGQoXCJJbnZhbGlkIFNhbGVzZm9yY2UgVVJMXCIpfWlmKCEvc2FsZXNmb3JjZS5jb20kL2kudGVzdChpKSl0aHJvdyBuZXcgZChcIkludmFsaWQgU2FsZXNmb3JjZSBVUkxcIik7aWYodm9pZCAwPT09KG51bGwhPW4/bjp2b2lkIDApfHxcIlwiPT09bi50cmltKCkpdGhyb3cgbmV3IGQoXCJDb25zdW1lciBrZXkgbm90IHByb3ZpZGVkXCIpO3YoYENvbm5lY3RpbmcgdG8gJHtpfSB1c2luZyBrZXkgJHtufWApO2NvbnN0IHI9YXdhaXQgVCh0LG4pO2lmKHIpcmV0dXJuIHI7dihcIk5vIGV4aXN0aW5nIGNvbm5lY3Rpb24gZm91bmQsIHN0YXJ0aW5nIGF1dGggZmxvd1wiKTtjb25zdCBvPShhd2FpdCBlLkguQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmluZCgoZT0+ZS5pZGVudGl0eS5uYW1lPT09SSkpO28mJmF3YWl0IG8uY2xvc2UoITApO2NvbnN0IGM9KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxoPVIoKSxsPWF3YWl0IFMoaCksdT1gJHtpfS9zZXJ2aWNlcy9vYXV0aDIvYXV0aG9yaXplP1xcbiAgICBjbGllbnRfaWQ9JHtufSZcXG4gICAgcmVkaXJlY3RfdXJpPSR7Yn0mXFxuICAgIHJlc3BvbnNlX3R5cGU9Y29kZSZcXG4gICAgc2NvcGU9YXBpK3JlZnJlc2hfdG9rZW4mXFxuICAgIHN0YXRlPSR7Y30mXFxuICAgIGNvZGVfY2hhbGxlbmdlPSR7bH0mXFxuICAgIGRpc3BsYXk9cG9wdXAmXFxuICAgIHByb21wdD1zZWxlY3RfYWNjb3VudFxcbiAgICBgLnJlcGxhY2UoL1xccy9nLFwiXCIpLHA9YXdhaXQgZS5ILldpbmRvdy5jcmVhdGUoe2Fsd2F5c09uVG9wOiEwLG1heGltaXphYmxlOiExLG1pbmltaXphYmxlOiExLGF1dG9TaG93OiExLGRlZmF1bHRDZW50ZXJlZDohMCxkZWZhdWx0SGVpZ2h0OjcwMCxkZWZhdWx0V2lkdGg6NjAwLGluY2x1ZGVJblNuYXBzaG90czohMSxuYW1lOkkscmVzaXphYmxlOiExLHNhdmVXaW5kb3dTdGF0ZTohMSxzaG93VGFza2Jhckljb246ITEsdXJsOnV9KSx3PWF3YWl0IG5ldyBQcm9taXNlKCgoZSx0KT0+e2xldCBuO2NvbnN0IGk9d2luZG93LnNldFRpbWVvdXQoKCgpPT57d2luZG93LmNsZWFySW50ZXJ2YWwobiksd2luZG93LmNsZWFyVGltZW91dChpKSxwLnJlbW92ZUFsbExpc3RlbmVycygpLHAuY2xvc2UoITApO2NvbnN0IGU9bmV3IHMoXCJBdXRob3JpemF0aW9uIHRpbWVkIG91dFwiKTttKGUpLHQoZSl9KSwzZTUpO3AuYWRkTGlzdGVuZXIoXCJjbG9zaW5nXCIsKGFzeW5jKCk9Pnt2KFwiVXNlciBjbG9zZWQgYXV0aCB3aW5kb3dcIiksd2luZG93LmNsZWFySW50ZXJ2YWwobiksd2luZG93LmNsZWFyVGltZW91dChpKSxwLnJlbW92ZUFsbExpc3RlbmVycygpO2NvbnN0IGU9bmV3IHMoXCJGYWlsZWQgdG8gY29tcGxldGUgYXV0aG9yaXphdGlvblwiKTttKGUpLHQoZSl9KSksbj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT4oYXN5bmMoZSx0LG4saSxyLG8pPT57bGV0IGE7dHJ5e2E9YXdhaXQgZS5nZXRJbmZvKCl9Y2F0Y2goZSl7d2luZG93LmNsZWFySW50ZXJ2YWwodCksd2luZG93LmNsZWFyVGltZW91dChuKTtjb25zdCBpPW5ldyBzKFwiQ291bGQgbm90IGxvY2F0ZSBvYXV0aCBmbG93IHdpbmRvd1wiKTtyZXR1cm4gbShpKSxvKGkpfWNvbnN0IGM9bmV3IFVSTChhLnVybCk7aWYoMD09PW5ldyBVUkwoYS51cmwpLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIudG9Mb3dlckNhc2UoKSkpe2lmKHdpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxlLmNsb3NlKCEwKSxjLnNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0ZVwiKSE9PWkpe2NvbnN0IGU9bmV3IHMoXCJTdGF0ZSBtaXNtYXRjaFwiKTtyZXR1cm4gbShlKSxvKGUpfWNvbnN0IGE9Yy5zZWFyY2hQYXJhbXMuZ2V0KFwiY29kZVwiKTtpZighYSl7Y29uc3QgZT1uZXcgcyhcIkF1dGhvcml6YXRpb24gY29kZSBtaXNzaW5nXCIpO3JldHVybiBtKGUpLG8oZSl9cmV0dXJuIHYoXCJBdXRob3JpemF0aW9uIGNvZGUgcmVjZWl2ZWRcIikscihhKX1jb25zdCBkPWF3YWl0IGUuZXhlY3V0ZUphdmFTY3JpcHQoXCJ3aW5kb3cuZG9jdW1lbnQuYm9keS5pbm5lclRleHRcIiksaD1uZXcgVVJMU2VhcmNoUGFyYW1zKGQpLmdldChcImVycm9yX2Rlc2NyaXB0aW9uXCIpO2lmKGgpe3dpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxlLmNsb3NlKCEwKTtjb25zdCBpPWhbMF0udG9VcHBlckNhc2UoKStoLnNsaWNlKDEpLHI9bmV3IHMoaSk7bShyKSxvKHIpfWVsc2UgYXdhaXQgZS5pc1Nob3dpbmcoKXx8KHYoXCJTaG93aW5nIGF1dGggd2luZG93XCIpLGF3YWl0IGUuc2hvdyghMCksYXdhaXQgZS5mb2N1cygpKX0pKHAsbixpLGMsZSx0KSksNTAwKX0pKSxmPWF3YWl0IE8odyxoLGksbik7aWYodihcIkNoZWNraW5nIGNvbm5lY3Rpb24gd2l0aCBuZXcgYWNjZXNzIHRva2VuXCIpLCFhd2FpdCBVKGYuYWNjZXNzVG9rZW4saSkpe2NvbnN0IGU9bmV3IGEoXCJJbnZhbGlkIFNhbGVzZm9yY2Ugb3JnIFVSTCBvciBhY2Nlc3MgdG9rZW5cIik7dGhyb3cgbShlKSxlfXJldHVybiB2KFwiQ29ubmVjdGlvbiBlc3RhYmxpc2hlZFwiKSxQKGYsaSxuKSx7Y29uc3VtZXJLZXk6bixkaXNjb25uZWN0Ok0oaSxuKSxnZXRBdXRoVG9rZW5zOigpPT5MKGksbiksb3JnVXJsOmksZXhlY3V0ZUFwaVJlcXVlc3Q6aihpLG4pfX0sTT0oZSx0KT0+YXN5bmMoKT0+e3YoXCJEaXNjb25uZWN0aW5nIGZyb20gU2FsZXNmb3JjZVwiKTtsZXQgbj13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oRihlLHQpKTtpZihuKXYoXCJSZXZva2luZyByZWZyZXNoIHRva2VuXCIpO2Vsc2V7aWYobj13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oayhlLHQpKSwhbilyZXR1cm4gdm9pZCB2KFwiTm8gdG9rZW5zIGZvdW5kIGluIHN0b3JhZ2VcIik7dihcIlJldm9raW5nIGFjY2VzcyB0b2tlblwiKX10cnl7YXdhaXQgcigpLmdldChgJHtlfS9zZXJ2aWNlcy9vYXV0aDIvcmV2b2tlP3Rva2VuPSR7bn1gKX1jYXRjaChlKXtDKFwiRmFpbGVkIHRvIHJldm9rZSB0b2tlbnNcIixudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpfU4oZSx0KX0sTz1hc3luYyhlLHQsbixpKT0+e3YoXCJFeGNoYW5naW5nIGF1dGggY29kZSBmb3IgdG9rZW5zXCIpO2NvbnN0IG89YCR7bn0vc2VydmljZXMvb2F1dGgyL3Rva2VuYCxhPWBcXG4gICAgZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmXFxuICAgIGNsaWVudF9pZD0ke2l9JlxcbiAgICBjb2RlPSR7ZX0mXFxuICAgIGNvZGVfdmVyaWZpZXI9JHt0fSZcXG4gICAgcmVkaXJlY3RfdXJpPSR7Yn1cXG4gICAgYC5yZXBsYWNlKC9cXHMvZyxcIlwiKTtsZXQgYzt0cnl7Yz0oYXdhaXQgcigpLnBvc3QobyxhLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9fSkpLmRhdGF9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgcyhcIkZhaWxlZCB0byBleGNoYW5nZSBhdXRob3JpemF0aW9uIGNvZGUgZm9yIGF1dGggdG9rZW5zXCIsZSk7dGhyb3cgbSh0KSx0fWNvbnN0e2FjY2Vzc190b2tlbjpkLHJlZnJlc2hfdG9rZW46aH09YztpZighZHx8IWgpdGhyb3cgbmV3IHMoXCJNaXNzaW5nIGFjY2VzcyB0b2tlbiBvciByZWZyZXNoIHRva2VuIGR1cmluZyBjb2RlIGV4Y2hhbmdlXCIpO3JldHVybiB2KFwiVG9rZW5zIHJlY2VpdmVkXCIpLHthY2Nlc3NUb2tlbjpkLHJlZnJlc2hUb2tlbjpofX0sUz1hc3luYyBlPT57Y29uc3QgdD0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSksbj1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsdCk7cmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkobikpKSkucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKS5yZXBsYWNlKC89K1xcJC8sXCJcIil9LFI9KCk9Pntjb25zdCBlPW5ldyBVaW50MzJBcnJheSg2NCk7cmV0dXJuIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGUpLEFycmF5LmZyb20oZSwoZT0+YDAke2UudG9TdHJpbmcoMTYpfWAuc3Vic3RyKC0yKSkpLmpvaW4oXCJcIil9LGs9KGUsdCk9PmBhY2Nlc3MtdG9rZW5fI18ke25ldyBVUkwoZSkuaG9zdG5hbWV9XyNfJHt0fWAsTD0oZSx0KT0+KHthY2Nlc3NUb2tlbjp3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oayhlLHQpKSxyZWZyZXNoVG9rZW46d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEYoZSx0KSl9KSxUPWFzeW5jKGUsdCk9PntsZXQgbjtpZih2KFwiQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb25cIiksIWV8fCF0KXJldHVybiBudWxsO3RyeXtuPW5ldyBVUkwoZSkub3JpZ2lufWNhdGNoKGUpe3JldHVybiBudWxsfWNvbnN0e2FjY2Vzc1Rva2VuOml9PUwobix0KTtpZighaSlyZXR1cm4gbnVsbDtpZighYXdhaXQgVShpLG4pKXRyeXthd2FpdCBCKG4sdCl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9cmV0dXJuIHYoYENvbm5lY3Rpb24gZXhpc3RzIHRvICR7ZX1gKSx7Y29uc3VtZXJLZXk6dCxkaXNjb25uZWN0Ok0obix0KSxnZXRBdXRoVG9rZW5zOigpPT5MKG4sdCksb3JnVXJsOm4sZXhlY3V0ZUFwaVJlcXVlc3Q6aihuLHQpfX0saj0oZSx0KT0+YXN5bmMobixpLG8scyxjKT0+e2NvbnN0e2FjY2Vzc1Rva2VuOmh9PUwoZSx0KTtpZighaCl7Y29uc3QgZT1uZXcgYTt0aHJvdyBtKGUpLGV9Y29uc3QgbD10PT4oYXN5bmMoZSx0LG4saT1cIkdFVFwiLG89e30scz17fSxhPSEwKT0+e3ZhciBjLGg7aWYoIW4pdGhyb3cgbmV3IGQoXCJBUEkgZW5kcG9pbnQgbm90IHByb3ZpZGVkXCIpO2xldCBsO2lmKG49KGg9bikuc3RhcnRzV2l0aChcIi9cIik/aDpgLyR7aH1gLC9eXFwvc2VydmljZXNcXC9kYXRhXFwvXFx3Ky9pLnRlc3Qobikpe2NvbnN0IGU9bnVsbD09PShjPS9cXC92KFxcd3syfVxcLlxcdylcXC8vLmV4ZWMobikpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjWzFdO2lmKCFlKXRocm93IG5ldyB1KG51bGwsXCJSRVNUIEFQSSB2ZXJzaW9uIG5vdCBzcGVjaWZpZWRcIik7eC50ZXN0KG4pP249bi5yZXBsYWNlKGUsRSk6ZSE9PUUmJkMoYFJlcXVlc3RlZCBSRVNUIEFQSSB2ZXJzaW9uICgke2V9KSBpcyBkaWZmZXJlbnQgdG8gdGhlIGN1cnJlbnQgc3VwcG9ydGVkIHZlcnNpb24gKDU0LjApLiBVc2luZyBhbiBBUEkgdmVyc2lvbiBvdGhlciB0aGFuIGN1cnJlbnQgc3VwcG9ydGVkIHZlcnNpb24gbWF5IGNhdXNlIGVycm9ycy5gKSxsPW5ldyBSZWdFeHAoXCIvc2VydmljZXMvZGF0YS92NTQuMC9jb21wb3NpdGVcIixcImlcIikudGVzdChuKT9BKG8pOm99ZWxzZSBsPW87dihgRXhlY3V0aW5nICR7aS50b1VwcGVyQ2FzZSgpfSBBUEkgcmVxdWVzdCB0byAke259YCxsLHMpLGEmJk9iamVjdC5hc3NpZ24ocyx7QXV0aG9yaXphdGlvbjpgQmVhcmVyICR7dH1gfSk7dHJ5e2xldCB0O3N3aXRjaChpLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIkRFTEVURVwiOnQ9YXdhaXQgcigpLmRlbGV0ZShgJHtlfSR7bn1gLHtoZWFkZXJzOnN9KTticmVhaztjYXNlXCJHRVRcIjp0PWF3YWl0IHIoKS5nZXQoYCR7ZX0ke259YCx7aGVhZGVyczpzfSk7YnJlYWs7Y2FzZVwiSEVBRFwiOnQ9YXdhaXQgcigpLmhlYWQoYCR7ZX0ke259YCx7aGVhZGVyczpzfSk7YnJlYWs7Y2FzZVwiUEFUQ0hcIjp0PWF3YWl0IHIoKS5wYXRjaChgJHtlfSR7bn1gLG8se2hlYWRlcnM6c30pO2JyZWFrO2Nhc2VcIlBPU1RcIjp0PWF3YWl0IHIoKS5wb3N0KGAke2V9JHtufWAsbCx7aGVhZGVyczpzfSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgdShudWxsLFwiSW52YWxpZCBIVFRQIG1ldGhvZFwiKX1yZXR1cm57ZGF0YTp0LmRhdGEsc3RhdHVzOnQuc3RhdHVzfX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgdSl0aHJvdyBlO3Rocm93IG5ldyB1KGUpfX0pKGUsdCxuLGksbyxzLGMpO2xldCBwO3RyeXtwPWF3YWl0IGwoaCl9Y2F0Y2gobil7aWYoIShuIGluc3RhbmNlb2YgdSkpdGhyb3cgbShuKSxuO3JldHVybiBhd2FpdCAkKG4sZSx0LGgsbCl9cmV0dXJuIHB9LEY9KGUsdCk9PmByZWZyZXNoLXRva2VuXyNfJHtuZXcgVVJMKGUpLmhvc3RuYW1lfV8jXyR7dH1gLCQ9YXN5bmMoZSx0LG4saSxyKT0+e2lmKG0oZSksYXdhaXQgRyhlLHQsaSkpdHJ5e2NvbnN0IGU9YXdhaXQgQih0LG4pO3JldHVybiB2KFwiUmV0cnlpbmcgcmVxdWVzdFwiKSxhd2FpdCByKGUuYWNjZXNzVG9rZW4pfWNhdGNoKGUpe3Rocm93IG0oZSksZX10aHJvdyBlfSxCPWFzeW5jKGUsdCk9Pnt2YXIgbixpO2NvbnN0e3JlZnJlc2hUb2tlbjpvfT1MKGUsdCk7aWYoIW8pdGhyb3cgTihlLHQpLG5ldyBhKFwiTm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGVcIik7dihcIlJlZnJlc2hpbmcgYWNjZXNzIHRva2VuXCIpO2NvbnN0IHM9YCR7ZX0vc2VydmljZXMvb2F1dGgyL3Rva2VuYCxjPWBcXG4gICAgZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuJlxcbiAgICBjbGllbnRfaWQ9JHt0fSZcXG4gICAgcmVmcmVzaF90b2tlbj0ke299XFxuICAgIGAucmVwbGFjZSgvXFxzL2csXCJcIik7bGV0IGQ7dHJ5e2Q9KGF3YWl0IHIoKS5wb3N0KHMsYyx7aGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifX0pKS5kYXRhfWNhdGNoKHIpe2NvbnN0IG89bnVsbD09PShpPW51bGw9PT0obj1yLnJlc3BvbnNlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kYXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lcnJvcl9kZXNjcmlwdGlvbixzPVwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuXCI7dGhyb3cgdihvP2Ake3N9OiAke299YDpzKSxOKGUsdCksbmV3IGEocyl9Y29uc3R7YWNjZXNzX3Rva2VuOmh9PWQ7aWYoIWgpdGhyb3cgbmV3IGEoXCJNaXNzaW5nIGFjY2VzcyB0b2tlbiBhZnRlciByZWZyZXNoaW5nXCIpO2NvbnN0IGw9e2FjY2Vzc1Rva2VuOmgscmVmcmVzaFRva2VuOm99O3JldHVybiBQKGwsZSx0KSxsfSxOPShlLHQpPT57d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGsoZSx0KSksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEYoZSx0KSl9LEc9YXN5bmMoZSx0LG4pPT57dmFyIGk7cmV0dXJuKFwiTmV0d29yayBFcnJvclwiPT09KG51bGw9PT0oaT1lLmlubmVyRXJyb3IpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm1lc3NhZ2UpfHxcIk5ldHdvcmsgRXJyb3JcIj09PWUubWVzc2FnZSkmJiFhd2FpdCBVKG4sdCl9LFU9YXN5bmMoZSx0KT0+e3RyeXthd2FpdCByKCkuZ2V0KGAke3R9L3NlcnZpY2VzL29hdXRoMi91c2VyaW5mbz9vYXV0aF90b2tlbj0ke2V9YCl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9fSkoKTt2YXIgcj1pLk1TLG89aS5NXyxzPWkuaFksYT1pLkc0LGM9aS5fVyxkPWkubyxoPWkuQzMsbD1pLmZCLHU9aS5pZixwPWkuJGosdz1pLlUkLGY9aS5VNyx5PWkuQjU7ZXhwb3J0e3IgYXMgQXBpRXJyb3IsbyBhcyBBdXRob3JpemF0aW9uRXJyb3IscyBhcyBDb25uZWN0aW9uRXJyb3IsYSBhcyBPYmplY3REYXRhRXJyb3IsYyBhcyBQYXJhbWV0ZXJFcnJvcixkIGFzIFF1ZXJ5RXJyb3IsaCBhcyBSZXN0QXBpRXJyb3IsbCBhcyBTZWFyY2hFcnJvcix1IGFzIFdvcmtzcGFjZUVycm9yLHAgYXMgY29ubmVjdCx3IGFzIGRpc2FibGVMb2dnaW5nLGYgYXMgZW5hYmxlTG9nZ2luZyx5IGFzIGdldENvbm5lY3Rpb259OyIsIi8qISBGb3IgbGljZW5zZSBpbmZvcm1hdGlvbiBwbGVhc2Ugc2VlIGluZGV4LmpzLkxJQ0VOU0UudHh0ICovXG4oKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17NTI1OmU9Pnt2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7ZnVuY3Rpb24gbyhlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0KGUpfWUuZXhwb3J0cz1mdW5jdGlvbigpe3RyeXtpZighT2JqZWN0LmFzc2lnbilyZXR1cm4hMTt2YXIgZT1uZXcgU3RyaW5nKFwiYWJjXCIpO2lmKGVbNV09XCJkZVwiLFwiNVwiPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSlbMF0pcmV0dXJuITE7Zm9yKHZhciB0PXt9LGE9MDthPDEwO2ErKyl0W1wiX1wiK1N0cmluZy5mcm9tQ2hhckNvZGUoYSldPWE7aWYoXCIwMTIzNDU2Nzg5XCIhPT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkpLmpvaW4oXCJcIikpcmV0dXJuITE7dmFyIG49e307cmV0dXJuXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiLnNwbGl0KFwiXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV09ZX0pKSxcImFiY2RlZmdoaWprbG1ub3BxcnN0XCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LG4pKS5qb2luKFwiXCIpfWNhdGNoKGUpe3JldHVybiExfX0oKT9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGUscil7Zm9yKHZhciBpLHMsYz1vKGUpLGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXtmb3IodmFyIHAgaW4gaT1PYmplY3QoYXJndW1lbnRzW2RdKSlhLmNhbGwoaSxwKSYmKGNbcF09aVtwXSk7aWYodCl7cz10KGkpO2Zvcih2YXIgbD0wO2w8cy5sZW5ndGg7bCsrKW4uY2FsbChpLHNbbF0pJiYoY1tzW2xdXT1pW3NbbF1dKX19cmV0dXJuIGN9fSw1MzU6KGUsdCxhKT0+e3ZhciBuPWEoNTI1KSxvPTYwMTAzLHI9NjAxMDY7dmFyIGk9NjAxMDkscz02MDExMCxjPTYwMTEyO3ZhciBkPTYwMTE1LHA9NjAxMTY7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yKXt2YXIgbD1TeW1ib2wuZm9yO289bChcInJlYWN0LmVsZW1lbnRcIikscj1sKFwicmVhY3QucG9ydGFsXCIpLGwoXCJyZWFjdC5mcmFnbWVudFwiKSxsKFwicmVhY3Quc3RyaWN0X21vZGVcIiksbChcInJlYWN0LnByb2ZpbGVyXCIpLGk9bChcInJlYWN0LnByb3ZpZGVyXCIpLHM9bChcInJlYWN0LmNvbnRleHRcIiksYz1sKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksbChcInJlYWN0LnN1c3BlbnNlXCIpLGQ9bChcInJlYWN0Lm1lbW9cIikscD1sKFwicmVhY3QubGF6eVwiKX12YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiB3KGUpe2Zvcih2YXIgdD1cImh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PVwiK2UsYT0xO2E8YXJndW1lbnRzLmxlbmd0aDthKyspdCs9XCImYXJnc1tdPVwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbYV0pO3JldHVyblwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2UrXCI7IHZpc2l0IFwiK3QrXCIgZm9yIHRoZSBmdWxsIG1lc3NhZ2Ugb3IgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciBmdWxsIGVycm9ycyBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwifXZhciBmPXtpc01vdW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oKXt9fSxnPXt9O2Z1bmN0aW9uIHkoZSx0LGEpe3RoaXMucHJvcHM9ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLnJlZnM9Zyx0aGlzLnVwZGF0ZXI9YXx8Zn1mdW5jdGlvbiBoKCl7fWZ1bmN0aW9uIG0oZSx0LGEpe3RoaXMucHJvcHM9ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLnJlZnM9Zyx0aGlzLnVwZGF0ZXI9YXx8Zn15LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9LHkucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPWUpdGhyb3cgRXJyb3Iodyg4NSkpO3RoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcyxlLHQsXCJzZXRTdGF0ZVwiKX0seS5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLGUsXCJmb3JjZVVwZGF0ZVwiKX0saC5wcm90b3R5cGU9eS5wcm90b3R5cGU7dmFyIHY9bS5wcm90b3R5cGU9bmV3IGg7di5jb25zdHJ1Y3Rvcj1tLG4odix5LnByb3RvdHlwZSksdi5pc1B1cmVSZWFjdENvbXBvbmVudD0hMDt2YXIgUz17Y3VycmVudDpudWxsfSxQPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYj17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O2Z1bmN0aW9uIGsoZSx0LGEpe3ZhciBuLHI9e30saT1udWxsLHM9bnVsbDtpZihudWxsIT10KWZvcihuIGluIHZvaWQgMCE9PXQucmVmJiYocz10LnJlZiksdm9pZCAwIT09dC5rZXkmJihpPVwiXCIrdC5rZXkpLHQpUC5jYWxsKHQsbikmJiFiLmhhc093blByb3BlcnR5KG4pJiYocltuXT10W25dKTt2YXIgYz1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWMpci5jaGlsZHJlbj1hO2Vsc2UgaWYoMTxjKXtmb3IodmFyIGQ9QXJyYXkoYykscD0wO3A8YztwKyspZFtwXT1hcmd1bWVudHNbcCsyXTtyLmNoaWxkcmVuPWR9aWYoZSYmZS5kZWZhdWx0UHJvcHMpZm9yKG4gaW4gYz1lLmRlZmF1bHRQcm9wcyl2b2lkIDA9PT1yW25dJiYocltuXT1jW25dKTtyZXR1cm57JCR0eXBlb2Y6byx0eXBlOmUsa2V5OmkscmVmOnMscHJvcHM6cixfb3duZXI6Uy5jdXJyZW50fX1mdW5jdGlvbiBXKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmZS4kJHR5cGVvZj09PW99dmFyIEM9L1xcLysvZztmdW5jdGlvbiBJKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT1lLmtleT9mdW5jdGlvbihlKXt2YXIgdD17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrZS5yZXBsYWNlKC9bPTpdL2csKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkpfShcIlwiK2Uua2V5KTp0LnRvU3RyaW5nKDM2KX1mdW5jdGlvbiBBKGUsdCxhLG4saSl7dmFyIHM9dHlwZW9mIGU7XCJ1bmRlZmluZWRcIiE9PXMmJlwiYm9vbGVhblwiIT09c3x8KGU9bnVsbCk7dmFyIGM9ITE7aWYobnVsbD09PWUpYz0hMDtlbHNlIHN3aXRjaChzKXtjYXNlXCJzdHJpbmdcIjpjYXNlXCJudW1iZXJcIjpjPSEwO2JyZWFrO2Nhc2VcIm9iamVjdFwiOnN3aXRjaChlLiQkdHlwZW9mKXtjYXNlIG86Y2FzZSByOmM9ITB9fWlmKGMpcmV0dXJuIGk9aShjPWUpLGU9XCJcIj09PW4/XCIuXCIrSShjLDApOm4sQXJyYXkuaXNBcnJheShpKT8oYT1cIlwiLG51bGwhPWUmJihhPWUucmVwbGFjZShDLFwiJCYvXCIpK1wiL1wiKSxBKGksdCxhLFwiXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpKTpudWxsIT1pJiYoVyhpKSYmKGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm57JCR0eXBlb2Y6byx0eXBlOmUudHlwZSxrZXk6dCxyZWY6ZS5yZWYscHJvcHM6ZS5wcm9wcyxfb3duZXI6ZS5fb3duZXJ9fShpLGErKCFpLmtleXx8YyYmYy5rZXk9PT1pLmtleT9cIlwiOihcIlwiK2kua2V5KS5yZXBsYWNlKEMsXCIkJi9cIikrXCIvXCIpK2UpKSx0LnB1c2goaSkpLDE7aWYoYz0wLG49XCJcIj09PW4/XCIuXCI6bitcIjpcIixBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgcD1uK0kocz1lW2RdLGQpO2MrPUEocyx0LGEscCxpKX1lbHNlIGlmKHA9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZT9udWxsOlwiZnVuY3Rpb25cIj09dHlwZW9mKGU9dSYmZVt1XXx8ZVtcIkBAaXRlcmF0b3JcIl0pP2U6bnVsbH0oZSksXCJmdW5jdGlvblwiPT10eXBlb2YgcClmb3IoZT1wLmNhbGwoZSksZD0wOyEocz1lLm5leHQoKSkuZG9uZTspYys9QShzPXMudmFsdWUsdCxhLHA9bitJKHMsZCsrKSxpKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1zKXRocm93IHQ9XCJcIitlLEVycm9yKHcoMzEsXCJbb2JqZWN0IE9iamVjdF1cIj09PXQ/XCJvYmplY3Qgd2l0aCBrZXlzIHtcIitPYmplY3Qua2V5cyhlKS5qb2luKFwiLCBcIikrXCJ9XCI6dCkpO3JldHVybiBjfWZ1bmN0aW9uIE0oZSx0LGEpe2lmKG51bGw9PWUpcmV0dXJuIGU7dmFyIG49W10sbz0wO3JldHVybiBBKGUsbixcIlwiLFwiXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNhbGwoYSxlLG8rKyl9KSksbn1mdW5jdGlvbiBPKGUpe2lmKC0xPT09ZS5fc3RhdHVzKXt2YXIgdD1lLl9yZXN1bHQ7dD10KCksZS5fc3RhdHVzPTAsZS5fcmVzdWx0PXQsdC50aGVuKChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYodD10LmRlZmF1bHQsZS5fc3RhdHVzPTEsZS5fcmVzdWx0PXQpfSksKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJihlLl9zdGF0dXM9MixlLl9yZXN1bHQ9dCl9KSl9aWYoMT09PWUuX3N0YXR1cylyZXR1cm4gZS5fcmVzdWx0O3Rocm93IGUuX3Jlc3VsdH12YXIgVD17Y3VycmVudDpudWxsfTtmdW5jdGlvbiBFKCl7dmFyIGU9VC5jdXJyZW50O2lmKG51bGw9PT1lKXRocm93IEVycm9yKHcoMzIxKSk7cmV0dXJuIGV9fSwzNzg6KGUsdCxhKT0+e2EoNTM1KX19LHQ9e307ZnVuY3Rpb24gYShuKXt2YXIgbz10W25dO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgcj10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXShyLHIuZXhwb3J0cyxhKSxyLmV4cG9ydHN9YS5kPShlLHQpPT57Zm9yKHZhciBuIGluIHQpYS5vKHQsbikmJiFhLm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6dFtuXX0pfSxhLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLGEucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIG49e307KCgpPT57dmFyIGUsdCxvLHIsaSxzLGMsZDthLnIobiksYS5kKG4se0FwcE1hbmlmZXN0VHlwZTooKT0+YyxCcm93c2VyQnV0dG9uVHlwZTooKT0+ZyxDdXN0b21BY3Rpb25DYWxsZXJUeXBlOigpPT5oLEdsb2JhbENvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+dSxQYWdlVGFiQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT53LFNhdmVCdXR0b25Db250ZXh0TWVudU9wdGlvblR5cGU6KCk9PnksU2F2ZU1vZGFsVHlwZTooKT0+bSxWaWV3VGFiTWVudU9wdGlvblR5cGU6KCk9PmYsZ2V0Q3VycmVudFN5bmM6KCk9PkZ0LGluaXQ6KCk9PkluLHdyYXBTeW5jOigpPT5VdH0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0oZXx8KGU9e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifSh0fHwodD17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KGN8fChjPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShkfHwoZD17fSkpO3ZhciBwLGwsdSx3LGYsZyx5LGgsbSx2OyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLkFjdGlvbkJ1dHRvbj1cIkFjdGlvbkJ1dHRvblwiLGUuRHJvcGRvd25CdXR0b249XCJEcm9wZG93bkJ1dHRvblwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3V2luZG93PVwiTmV3V2luZG93XCIsZS5OZXdQYWdlPVwiTmV3UGFnZVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLkNsb3NlV2luZG93PVwiQ2xvc2VXaW5kb3dcIixlLlJlc3RvcmVDaGFuZ2VzPVwiUmVzdG9yZUNoYW5nZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLlJlbmFtZVdvcmtzcGFjZT1cIlJlbmFtZVdvcmtzcGFjZVwiLGUuU3dpdGNoV29ya3NwYWNlPVwiU3dpdGNoV29ya3NwYWNlXCIsZS5EZWxldGVXb3Jrc3BhY2U9XCJEZWxldGVXb3Jrc3BhY2VcIixlLk9wZW5TdG9yZWZyb250PVwiT3BlblN0b3JlZnJvbnRcIixlLlF1aXQ9XCJRdWl0XCIsZS5DdXN0b209XCJDdXN0b21cIn0odXx8KHU9e30pKSxmdW5jdGlvbihlKXtlLkNsb3NlPVwiQ2xvc2VcIixlLkR1cGxpY2F0ZT1cIkR1cGxpY2F0ZVwiLGUuUmVuYW1lPVwiUmVuYW1lXCIsZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZSBBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHd8fCh3PXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdWaWV3PVwiTmV3Vmlld1wiLGUuRHVwbGljYXRlVmlld3M9XCJEdXBsaWNhdGVWaWV3XCIsZS5PcGVuV2l0aERlZmF1bHRCcm93c2VyPVwiT3BlbldpdGhEZWZhdWx0QnJvd3NlclwiLGUuUmVsb2FkVmlld3M9XCJSZWxvYWRUYWJcIixlLkNsb3NlVmlld3M9XCJDbG9zZVRhYlwiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cIlJlbW92ZUZyb21DaGFubmVsXCIsZS5DdXN0b209XCJDdXN0b21cIn0oZnx8KGY9e30pKSxmdW5jdGlvbihlKXtlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQ29sb3JMaW5raW5nPVwiQ29sb3JMaW5raW5nXCIsZS5QcmVzZXRMYXlvdXRzPVwiUHJlc2V0TGF5b3V0c1wiLGUuTG9ja1VubG9ja1BhZ2U9XCJMb2NrVW5sb2NrUGFnZVwiLGUuU2F2ZU1lbnU9XCJTYXZlTWVudVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuTWluaW1pc2U9XCJNaW5pbWlzZVwiLGUuTWF4aW1pc2U9XCJNYXhpbWlzZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGd8fChnPXt9KSksZnVuY3Rpb24oZSl7ZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHl8fCh5PXt9KSksZnVuY3Rpb24oZSl7ZS5DdXN0b21CdXR0b249XCJDdXN0b21CdXR0b25cIixlLkN1c3RvbURyb3Bkb3duSXRlbT1cIkN1c3RvbURyb3Bkb3duSXRlbVwiLGUuR2xvYmFsQ29udGV4dE1lbnU9XCJHbG9iYWxDb250ZXh0TWVudVwiLGUuVmlld1RhYkNvbnRleHRNZW51PVwiVmlld1RhYkNvbnRleHRNZW51XCIsZS5QYWdlVGFiQ29udGV4dE1lbnU9XCJQYWdlVGFiQ29udGV4dE1lbnVcIixlLlNhdmVCdXR0b25Db250ZXh0TWVudT1cIlNhdmVCdXR0b25Db250ZXh0TWVudVwiLGUuQVBJPVwiQVBJXCJ9KGh8fChoPXt9KSksZnVuY3Rpb24oZSl7ZS5TQVZFX1BBR0U9XCJTQVZFX1BBR0VcIixlLlNBVkVfV09SS1NQQUNFPVwiU0FWRV9XT1JLU1BBQ0VcIixlLlNBVkVfUEFHRV9BUz1cIlNBVkVfUEFHRV9BU1wiLGUuU0FWRV9XT1JLU1BBQ0VfQVM9XCJTQVZFX1dPUktTUEFDRV9BU1wiLGUuUkVOQU1FX1BBR0U9XCJSRU5BTUVfUEFHRVwiLGUuUkVOQU1FX1dPUktTUEFDRT1cIlJFTkFNRV9XT1JLU1BBQ0VcIn0obXx8KG09e30pKSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KHZ8fCh2PXt9KSk7Y29uc3QgUz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLFA9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyksYj1QJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW5kZXhlZERCLGs9UD93aW5kb3cub3JpZ2luOnYuTG9jYWwsVz1TJiZmaW4ubWUudXVpZCxDPVMmJmZpbi5tZS5uYW1lLEk9UyYmZmluLm1lLmVudGl0eVR5cGUsQT0odi5Mb2NhbCx2LkRldix2LlN0YWdpbmcsdi5Qcm9kLGU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6aytlKSxNPShBKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjE0XCIpLEEoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuMTRcIikpLE89KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJkEoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmQShXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjI2LjEwMi43MS43XCIpLFQ9XCI5LjAuMTRcIjt2YXIgRSxCLHg7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KEV8fChFPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShCfHwoQj17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oeHx8KHg9e30pKTtjb25zdCBSPXt1dWlkOld9LF89KEUuV29ya3NwYWNlLGU9PntpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBcHBsaWNhdGlvbiBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKX0pLEw9KCk9Pl8oUik7dmFyIFYsRCxVOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KFZ8fChWPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZWQ9XCJjbG9zZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShEfHwoRD17fSkpLGZ1bmN0aW9uKGUpe2UuQmVmb3JlVW5sb2FkPVwiYmVmb3JldW5sb2FkXCJ9KFV8fChVPXt9KSk7ZnVuY3Rpb24gRihlKXtpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1jb25zdCBHPXtuYW1lOkMsdXVpZDpXfTtmdW5jdGlvbiAkKCl7cmV0dXJuIEYoRyl9Vi5Ib21lLEUuV29ya3NwYWNlLFYuRG9jayxFLldvcmtzcGFjZTtjb25zdCBOPXtuYW1lOlYuU3RvcmVmcm9udCx1dWlkOkUuV29ya3NwYWNlfTtFLldvcmtzcGFjZSxFLldvcmtzcGFjZTthc3luYyBmdW5jdGlvbiBqKGUpe2NvbnN0IHQ9RihlKTtcIm1pbmltaXplZFwiPT09YXdhaXQgdC5nZXRTdGF0ZSgpJiZhd2FpdCB0LnJlc3RvcmUoKSxhd2FpdCB0LnNob3coKSxhd2FpdCB0LnNldEFzRm9yZWdyb3VuZCgpfWNvbnN0IEg9ZT0+ZS5zdGFydHNXaXRoKFYuQnJvd3NlcldpbmRvdyk7YXN5bmMgZnVuY3Rpb24gcSgpe3JldHVybihhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5IKGUuaWRlbnRpdHkubmFtZSkpKX1jb25zdCBLPWU9PkYoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKSxRPSgpPT5LKE4pO3ZhciB6OyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJCcm93c2VyXCIsZS5Eb2NrPVwiRG9ja1wiLGUuSG9tZT1cIkhvbWVcIixlLk5vdGlmaWNhdGlvbj1cIk5vdGlmaWNhdGlvblwiLGUuU3RvcmVmcm9udD1cIlN0b3JlZnJvbnRcIixlLlBsYXRmb3JtPVwiUGxhdGZvcm1cIixlLlRoZW1pbmc9XCJUaGVtaW5nXCJ9KHp8fCh6PXt9KSk7Y29uc3QgSj1hc3luYyhlLHQpPT57Y29uc3QgYT17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fFQsY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246dC5jb21wb25lbnRWZXJzaW9ufHxULGFsbG93ZWQ6dC5hbGxvd2VkLHJlamVjdGlvbkNvZGU6dC5yZWplY3Rpb25Db2RlfTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIsZGF0YTphfSl9O2EoMzc4KTtjb25zdCBYPWU9PmZpbi5TeXN0ZW0uZ2V0U3lzdGVtQXBwQ29uZmlnKGUpO2xldCBZO2FzeW5jIGZ1bmN0aW9uIFooKXtpZihZKXJldHVybiBZO2lmKCFTKXJldHVybnt9O2NvbnN0IGU9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtpZihTKXRyeXtsZXQgZT1hd2FpdCBYKFwid29ya3NwYWNlXCIpLmNhdGNoKChlPT57fSkpO3JldHVybiBlfHwoZT1hd2FpdCBYKFwiaG9tZVwiKSksZX1jYXRjaChlKXt9fSgpLHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdHttYW5pZmVzdDplLGluaXRpYWxPcHRpb25zOnR9PWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldEluZm8oKTtyZXR1cm4gZT8ud29ya3NwYWNlfHxlPy5ob21lfHx0Py53b3Jrc3BhY2V8fHQ/LmhvbWUsZT8ud29ya3NwYWNlP2U/LndvcmtzcGFjZTplPy5ob21lP2U/LmhvbWU6dD8ud29ya3NwYWNlP3Q/LndvcmtzcGFjZTp0Py5ob21lP3Q/LmhvbWU6dm9pZCAwfSgpO3JldHVybiBZPXsuLi50LC4uLmV9LFl9dmFyIGVlOyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCJ9KGVlfHwoZWU9e30pKTtjb25zdCB0ZT1lZSxhZT0oZSx0KT0+e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGAke1d9LSR7ZX1gLHQpfSxuZT1lPT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtXfS0ke2V9YCk7dmFyIG9lOyFmdW5jdGlvbihlKXtlLkxhdW5jaEFwcD1cImxhdW5jaEFwcFwiLGUuU2F2ZVBhZ2U9XCJzYXZlUGFnZVwiLGUuR2V0U2F2ZWRQYWdlPVwiZ2V0U2F2ZWRQYWdlXCIsZS5DcmVhdGVTYXZlZFBhZ2U9XCJjcmVhdGVTYXZlZFBhZ2VcIixlLlVwZGF0ZVNhdmVkUGFnZT1cInVwZGF0ZVNhdmVkUGFnZVwiLGUuRGVsZXRlU2F2ZWRQYWdlPVwiZGVsZXRlU2F2ZWRQYWdlXCIsZS5HZXRTYXZlZFBhZ2VzPVwiZ2V0U2F2ZWRQYWdlc1wiLGUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJjcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJ1cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJkZWxldGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuU2hhcmVQYWdlPVwic2hhcmVQYWdlXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwiLGUuSXNCcm93c2VySW5pdGlhbGl6ZWQ9XCJpc0Jyb3dzZXJJbml0aWFsaXplZFwifShvZXx8KG9lPXt9KSk7Y29uc3QgcmU9YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLGllPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHJlKGUpLGE9XCJUYXJnZXQgaXMgbm90IGEgV29ya3NwYWNlIFBsYXRmb3JtLiBUYXJnZXQgbXVzdCBjYWxsIFdvcmtzcGFjZVBsYXRmb3JtLmluaXRcIjtsZXQgbjt0cnl7bj1hd2FpdCB0LmRpc3BhdGNoKFwiaXNXb3Jrc3BhY2VQbGF0Zm9ybVwiKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoXCJib29sZWFuXCI9PXR5cGVvZiBuJiYhMCE9PW58fFwib2JqZWN0XCI9PXR5cGVvZiBuJiYhMCE9PW4/LmlzV29ya3NwYWNlUGxhdGZvcm0pdGhyb3cgbmV3IEVycm9yKGEpO3JldHVybiBufSxzZT1hc3luYyBlPT4oYXdhaXQgaWUoZSkscmUoZSkpLGNlPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGllKGUpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhMCE9PXQ/LmlzQnJvd3NlckluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlRhcmdldCBpcyBub3QgYSBCcm93c2VyLWVuYWJsZWQgV29ya3NwYWNlIFBsYXRmb3JtLlwiKTtyZXR1cm4gcmUoZSl9LGRlPShlLHQpPT4hdC5maW5kKCh0PT50PT09ZSkpLHBlPShlLHQpPT5gJHtlfSAoJHt0fSlgLGxlPShlLHQpPT57bGV0IGE9MTtjb25zdCBuPWUucmVwbGFjZSgvIFxcKC4rXFwpJC8sXCJcIik7Zm9yKDshZGUocGUobixhKSx0KTspYSs9MTtyZXR1cm4gcGUobixhKX07YXN5bmMgZnVuY3Rpb24gdWUoZSl7dHJ5e2NvbnN0IHQ9RnQoKTthd2FpdCB0LmFwcGx5U25hcHNob3QoZS5zbmFwc2hvdCx7Y2xvc2VFeGlzdGluZ1dpbmRvd3M6ITB9KSx3ZShlKX1jYXRjaChlKXt9fWZ1bmN0aW9uIHdlKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7YWUodGUuQ3VycmVudFdvcmtzcGFjZUlkLHQpfWNhdGNoKGUpe319YXN5bmMgZnVuY3Rpb24gZmUoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybjtjb25zdCBlPUZ0KCksdD1hd2FpdCBlLmdldFNuYXBzaG90KCk7cmV0dXJue3dvcmtzcGFjZUlkOmNyeXB0by5yYW5kb21VVUlEKCksdGl0bGU6YXdhaXQgaGUoKSxtZXRhZGF0YTp7QVBJVmVyc2lvbjpUfSxzbmFwc2hvdDp0fX1hc3luYyBmdW5jdGlvbiBnZSgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2UpcmV0dXJuO2NvbnN0IGU9bmUodGUuQ3VycmVudFdvcmtzcGFjZUlkKTtpZighZSlyZXR1cm4gZmUoKTtjb25zdCB0PUpTT04ucGFyc2UoZSksYT1GdCgpLG49YXdhaXQgYS5nZXRTbmFwc2hvdCgpO3JldHVybnsuLi50LG1ldGFkYXRhOntBUElWZXJzaW9uOlR9LHNuYXBzaG90Om59fWNvbnN0IHllPWFzeW5jIGU9PmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRXb3Jrc3BhY2UsZSkpKGUud29ya3NwYWNlSWQpPyhhc3luYyBlPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLlVwZGF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlSWQ6ZS53b3Jrc3BhY2VJZCx3b3Jrc3BhY2U6ZX0pOihhc3luYyBlPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLkNyZWF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlOmV9KTthc3luYyBmdW5jdGlvbiBoZShlPVwiVW50aXRsZWQgV29ya3NwYWNlXCIpe2NvbnN0IHQ9KGF3YWl0KGFzeW5jKCk9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRXb3Jrc3BhY2VzLHZvaWQgMCkpKCkpLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtyZXR1cm4gdC5maW5kKCh0PT50PT09ZSkpP2xlKGUsdCk6ZX1hc3luYyBmdW5jdGlvbiBtZSgpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IGU9bmUodGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93KTtpZighZSlyZXR1cm47Y29uc3QgdD1KU09OLnBhcnNlKGUpO2lmKGF3YWl0IEsodCkpcmV0dXJuIHR9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gZ2V0IGxhc3QgZm9jdXNlZCBicm93c2VyIHdpbmRvdzogJHtlfWApfX1mdW5jdGlvbiB2ZShlPWZpbi5tZS5pZGVudGl0eSl7SChlLm5hbWUpJiZmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO2FlKHRlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx0KX1jYXRjaChlKXt9fShlKX1jb25zdCBTZT0oZSx0PTApPT57bGV0IGEsbixvPSExO2NvbnN0IHI9YXN5bmMgbj0+e2NvbnN0IGk9YXdhaXQgZSguLi5uKTtpZihvKXthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLHQpKSk7Y29uc3QgZT1hO3JldHVybiBhPXZvaWQgMCxvPSExLHIoZSl9cmV0dXJuIGl9O3JldHVybiguLi5lKT0+KG4/KG89ITAsYT1lKTpuPXIoZSkuY2F0Y2goKGU9Pnt0aHJvdyBlfSkpLmZpbmFsbHkoKCgpPT57bj12b2lkIDB9KSksbil9O3ZhciBQZTshZnVuY3Rpb24oZSl7ZS5UYWJDcmVhdGVkPVwidGFiLWNyZWF0ZWRcIixlLkNvbnRhaW5lckNyZWF0ZWQ9XCJjb250YWluZXItY3JlYXRlZFwiLGUuQ29udGFpbmVyUmVzaXplZD1cImNvbnRhaW5lci1yZXNpemVkXCJ9KFBlfHwoUGU9e30pKTtjb25zdCBiZT0oZSx0KT0+ZS5jb250ZW50P3suLi5lLGNvbnRlbnQ6ZS5jb250ZW50Lm1hcCgoZT0+YmUoZSx0KSkpfTp7Li4uZSxjb21wb25lbnRTdGF0ZTp0KGUuY29tcG9uZW50U3RhdGUpfSxrZT1lPT4oey4uLmUsbmFtZTplLm5hbWU/ZS5uYW1lOmNyeXB0by5yYW5kb21VVUlEKCl9KSxXZT1lPT57Y29uc3QgdD1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKChlPT57aWYoXCJjb21wb25lbnRcIj09PWUudHlwZSlyZXR1cm4gdC5wdXNoKGUuY29tcG9uZW50U3RhdGUpO2NvbnN0IGE9V2UoZS5jb250ZW50KTt0LnB1c2goLi4uYSl9KSksdH0sQ2U9YXN5bmMoZSx0LGE9Ryk9PntsZXQgbjtpZihIKGEubmFtZSkpe249KGF3YWl0IEYoYSkuZ2V0T3B0aW9ucygpKS5sYXlvdXR8fHtzZXR0aW5nczp7fX19cmV0dXJuey4uLm4sY29udGVudDpbe3R5cGU6XCJzdGFja1wiLGNvbnRlbnQ6W3t0eXBlOlwiY29tcG9uZW50XCIsY29tcG9uZW50TmFtZTpcInZpZXdcIixjb21wb25lbnRTdGF0ZTp7dGl0bGU6ZSx1cmw6dH19XX1dfX07bmV3IE1hcDtmdW5jdGlvbiBJZShlLHQpe3JldHVybiBhc3luYyhhLC4uLm4pPT57ZS5oYXMoYSkmJmUuZ2V0KGEpLmZvckVhY2goKGU9PmUoLi4ubikpKSx0JiZhd2FpdCB0KHtldmVudDphLHBheWxvYWQ6bn0pfX1mdW5jdGlvbiBBZShlLHQpe3JldHVybiB0JiZ0KCh0PT57Y29uc3R7ZXZlbnQ6YSxwYXlsb2FkOm59PXQ7ZS5oYXMoYSkmJmUuZ2V0KGEpLmZvckVhY2goKGU9PmUoLi4ubikpKX0pKSwodCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpLGUuZ2V0KHQpLmFkZChhKX19ZnVuY3Rpb24gTWUoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KTtjb25zdCBuPWUuZ2V0KHQpLG89KC4uLmUpPT57YSguLi5lKSxuLmRlbGV0ZShvKX07bi5hZGQobyl9fWZ1bmN0aW9uIE9lKGUpe3JldHVybih0LGEpPT57ZS5oYXModCkmJmUuZ2V0KHQpLmRlbGV0ZShhKX19Y29uc3QgVGU9UCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7ZnVuY3Rpb24gRWUoZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCBUZTtjb25zdCBhPXtjbGllbnRBUElWZXJzaW9uOlR9LG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3BheWxvYWQ6YX0pO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLG59KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgoYT0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke2F9YCl9KSkpLHR9fWNvbnN0IEJlPWU9PmBfX2Jyb3dzZXJfd2luZG93X18tJHtlLnV1aWR9LSR7ZS5uYW1lfWAseGU9bmV3IE1hcCxSZT1lPT57Y29uc3QgdD1CZShlKTtyZXR1cm4geGUuaGFzKHQpfHx4ZS5zZXQodCxFZSh0KSkseGUuZ2V0KHQpKCl9O3ZhciBfZSxMZTshZnVuY3Rpb24oZSl7ZS5DbG9zZUJyb3dzZXJXaW5kb3c9XCJjbG9zZS1icm93c2VyLXdpbmRvd1wiLGUuUXVpdFBsYXRmb3JtPVwicXVpdC1wbGF0Zm9ybVwiLGUuQ2xvc2VQYWdlPVwiY2xvc2UtcGFnZVwiLGUuQWRkVG9DaGFubmVsPVwiYWRkLXRvLWNoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwicmVtb3ZlLWZyb20tY2hhbm5lbFwiLGUuT3BlblNhdmVNb2RhbEludGVybmFsPVwib3Blbi1zYXZlLW1vZGFsLWludGVybmFsXCIsZS5EdXBsaWNhdGVQYWdlPVwiZHVwbGljYXRlLXBhZ2VcIn0oX2V8fChfZT17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifShMZXx8KExlPXt9KSk7Y29uc3QgVmU9ey4uLl9lLC4uLkxlfTt2YXIgRGU7IWZ1bmN0aW9uKGUpe2UuQXR0YWNoZWRQYWdlc1RvV2luZG93PVwiYXR0YWNoZWQtcGFnZXMtdG8td2luZG93XCIsZS5EZXRhY2hlZFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaGVkLXBhZ2VzLWZyb20td2luZG93XCJ9KERlfHwoRGU9e30pKTtuZXcgTWFwO2NvbnN0IFVlPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IFJlKGUpO3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKFZlLkdldFBhZ2VzKX0sRmU9YXN5bmMgZT0+KGF3YWl0IFJlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChWZS5VcGRhdGVQYWdlRm9yV2luZG93LGUpLEdlPWFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IHEoKTtyZXR1cm4oYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jKHtpZGVudGl0eTplfSk9PlVlKGUpKSkpKS5yZWR1Y2UoKChlLHQpPT5lLmNvbmNhdCh0KSksW10pfSwkZT1hc3luYygpPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLkdldFNhdmVkUGFnZXMsdm9pZCAwKSxOZT1hc3luYyBlPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLkdldFNhdmVkUGFnZSxlKSxqZT1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChhc3luYyBlPT4oYXdhaXQgR2UoKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkpKGUpO3JldHVybiFhfHxhLnRpdGxlPT09dC50aXRsZSYmZT09PXQucGFnZUlkfHxhd2FpdCBGZSh7aWRlbnRpdHk6YS5wYXJlbnRJZGVudGl0eSxwYWdlSWQ6ZSxwYWdlOntwYWdlSWQ6dC5wYWdlSWQsdGl0bGU6dC50aXRsZX19KSxhfSxIZT1hc3luYyh7cGFnZTplfSk9Pnthd2FpdCBqZShlLnBhZ2VJZCxlKSxhd2FpdChhc3luYyBlPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLkNyZWF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2U6ZX0pfSxxZT1hc3luYyBlPT57YXdhaXQgTmUoZSkmJmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuRGVsZXRlU2F2ZWRQYWdlLGUpKShlKX0sS2U9YXN5bmMoe3BhZ2VJZDplLHBhZ2U6dH0pPT57YXdhaXQgamUoZSx0KTtyZXR1cm4gYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5VcGRhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlSWQ6ZSxwYWdlOnR9KX0sUWU9YXN5bmMgZT0+YXdhaXQgTmUoZS5wYWdlSWQpP0tlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTplfSk6SGUoe3BhZ2U6ZX0pLHplPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgUmUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFZlLkF0dGFjaFBhZ2VzVG9XaW5kb3csZSkpKGUpfSxKZT1hc3luYyBlPT57YXdhaXQgRmUoZSl9LFhlPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgUmUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFZlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyxlKSkoZSl9LFllPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgUmUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFZlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3csZSkpKGUpfSxaZT1lPT5VZShlKSxldD1hc3luYyh7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pPT4oYXdhaXQgWmUoZSkpLmZpbmQoKGU9PmUucGFnZUlkPT09dCkpLHR0PWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgUmUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFZlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdyxlKSkoZSl9O2FzeW5jIGZ1bmN0aW9uIGF0KGU9XCJVbnRpdGxlZCBQYWdlXCIpe2NvbnN0W3QsYV09YXdhaXQgUHJvbWlzZS5hbGwoWyRlKCksR2UoKV0pLG49Wy4uLnQsLi4uYV0ubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiBuLmZpbmQoKHQ9PnQ9PT1lKSk/bGUoZSxuKTplfWNvbnN0IG50PW5ldyBNYXAsb3Q9ZT0+YCR7ZS51dWlkfS0ke2UubmFtZX1gO2NvbnN0IHJ0PVNlKChhc3luYyBmdW5jdGlvbigpe2xldCBlPVtdO3RyeXtlPWF3YWl0IEdlKCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbnQuZm9yRWFjaCgoKGUsdCk9PntjbGVhclRpbWVvdXQoZSksbnQuZGVsZXRlKHQpfSkpfWNvbnN0IHQ9bmV3IFNldDtlLmZvckVhY2goKGU9PntXZShlLmxheW91dC5jb250ZW50KS5mb3JFYWNoKChlPT57aWYoZS5uYW1lKXtjb25zdCBhPW90KGUpO3QuYWRkKGEpfX0pKX0pKTtjb25zdCBhPSQoKTsoYXdhaXQgYS5nZXRDdXJyZW50Vmlld3MoKSkuZm9yRWFjaCgoKHtpZGVudGl0eTplfSk9Pntjb25zdCBhPW90KGUpO2lmKHQuaGFzKGEpfHxudC5oYXMoYSkpcmV0dXJuO2NvbnN0IG49c2V0VGltZW91dCgoKCk9PntmaW4uVmlldy53cmFwU3luYyhlKS5kZXN0cm95KCksbnQuZGVsZXRlKGEpfSksNWUzKTtudC5zZXQoYSxuKX0pKSxudC5mb3JFYWNoKCgoZSxhKT0+e3QuaGFzKGEpJiYoY2xlYXJUaW1lb3V0KGUpLG50LmRlbGV0ZShhKSl9KSl9KSwyNTAwKSxpdD0oe25hbWU6ZX0pPT57ZSYmSChlKSYmcnQoKS5jYXRjaCgoKCk9Pnt9KSl9O2xldCBzdD17fTtjb25zdCBjdD0oe2FjdGlvbklkOmUscGF5bG9hZDp0fSk9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdFtlXSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgY29uZmlndXJlZCBmdW5jdGlvbiBmb3IgdGhlIGFjdGlvbiAnJHtlfSdgKTtyZXR1cm4gc3RbZV0odCl9O2Z1bmN0aW9uIGR0KCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRlLk1hY2hpbmVOYW1lKX1sZXQgcHQ7YXN5bmMgZnVuY3Rpb24gbHQoKXtyZXR1cm4gcHR8fChwdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxwdH1jb25zdCB1dD1lPT57aWYoZS5sYXlvdXQmJkFycmF5LmlzQXJyYXkoZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpKXtjb25zdCB0PWUud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2lmKHQpaWYodC5pc0xvY2tlZCl7Y29uc3QgYT0oKGUsdCk9Pntjb25zdCBhPVdlKHQuY29udGVudCk7cmV0dXJuey4uLmJlKGUsKGU9Pntjb25zdCB0PWEuZmluZCgodD0+dC5uYW1lPT09ZS5uYW1lJiZ0LnV1aWQ9PT1lLnV1aWQpKSxuPXQ/dC5pc0Nsb3NhYmxlOmUuaXNDbG9zYWJsZTtyZXR1cm57Li4uZSxpc0Nsb3NhYmxlOm59fSkpLHNldHRpbmdzOnQuc2V0dGluZ3N9fSkoZS5sYXlvdXQsdC5sYXlvdXQpO3QubGF5b3V0PWEsZS5sYXlvdXQ9YX1lbHNlIHQubGF5b3V0PWUubGF5b3V0fXJldHVybiBlfTthc3luYyBmdW5jdGlvbiB3dChlKXtjb25zdCB0PWV8fGF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmdldFNuYXBzaG90KCk7aWYodC5zbmFwc2hvdERldGFpbHM/Lm1hY2hpbmVJZClyZXR1cm4gdDtjb25zdCBhPWR0KCk7cmV0dXJuey4uLnQsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtYWNoaW5lSWQ6YXdhaXQgbHQoKSxtYWNoaW5lTmFtZTphfX19ZnVuY3Rpb24gZnQoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxhKT0+e2Uub25jb21wbGV0ZT1lLm9uc3VjY2Vzcz0oKT0+dChlLnJlc3VsdCksZS5vbmFib3J0PWUub25lcnJvcj0oKT0+YShlLmVycm9yKX0pKX1mdW5jdGlvbiBndChlLHQpe2NvbnN0IGE9aW5kZXhlZERCLm9wZW4oZSk7YS5vbnVwZ3JhZGVuZWVkZWQ9KCk9PmEucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKHQpO2NvbnN0IG49ZnQoYSk7cmV0dXJuKGUsYSk9Pm4udGhlbigobj0+YShuLnRyYW5zYWN0aW9uKHQsZSkub2JqZWN0U3RvcmUodCkpKSl9bGV0IHl0O2Z1bmN0aW9uIGh0KCl7cmV0dXJuIHl0fHwoeXQ9Z3QoXCJrZXl2YWwtc3RvcmVcIixcImtleXZhbFwiKSkseXR9ZnVuY3Rpb24gbXQoZSx0PWh0KCkpe3JldHVybiB0KFwicmVhZG9ubHlcIiwodD0+ZnQodC5nZXQoZSkpKSl9ZnVuY3Rpb24gdnQoZSx0LGE9aHQoKSl7cmV0dXJuIGEoXCJyZWFkd3JpdGVcIiwoYT0+KGEucHV0KHQsZSksZnQoYS50cmFuc2FjdGlvbikpKSl9ZnVuY3Rpb24gU3QoZSx0PWh0KCkpe3JldHVybiB0KFwicmVhZHdyaXRlXCIsKHQ9Pih0LmRlbGV0ZShlKSxmdCh0LnRyYW5zYWN0aW9uKSkpKX1mdW5jdGlvbiBQdChlLHQpe3JldHVybiBlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt0aGlzLnJlc3VsdCYmKHQodGhpcy5yZXN1bHQpLHRoaXMucmVzdWx0LmNvbnRpbnVlKCkpfSxmdChlLnRyYW5zYWN0aW9uKX1mdW5jdGlvbiBidChlPWh0KCkpe3JldHVybiBlKFwicmVhZG9ubHlcIiwoZT0+e2lmKGUuZ2V0QWxsS2V5cylyZXR1cm4gZnQoZS5nZXRBbGxLZXlzKCkpO2NvbnN0IHQ9W107cmV0dXJuIFB0KGUsKGU9PnQucHVzaChlLmtleSkpKS50aGVuKCgoKT0+dCkpfSkpfWNvbnN0IGt0PShlLHQ9XCJcIik9PmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpLFd0PWImJmd0KFwib3BlbmZpbi1ob21lLXBhZ2VzXCIsXCJwYWdlc1wiKTthc3luYyBmdW5jdGlvbiBDdChlKXtjb25zdCB0PWF3YWl0IG10KGUsV3QpO3JldHVybiB0Pyh0LnBhZ2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LnBhZ2VJZCx0KTpudWxsfWFzeW5jIGZ1bmN0aW9uIEl0KGUpe2NvbnN0IHQ9YXdhaXQgYnQoV3QpLGE9YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGU9PkN0KGUudG9TdHJpbmcoKSkpKSk7cmV0dXJuIGU/YS5maWx0ZXIoKHQ9Pmt0KHQudGl0bGUsZSkpKTphfWFzeW5jIGZ1bmN0aW9uIEF0KHtwYWdlOmV9KXthd2FpdCB2dChlLnBhZ2VJZCxlLFd0KX1hc3luYyBmdW5jdGlvbiBNdChlKXthd2FpdCBTdChlLFd0KX1hc3luYyBmdW5jdGlvbiBPdCh7cGFnZUlkOmUscGFnZTp0fSl7aWYodm9pZCAwPT09YXdhaXQgQ3QoZSkpdGhyb3cgbmV3IEVycm9yKFwicGFnZSBub3QgZm91bmRcIik7YXdhaXQgQXQoe3BhZ2U6dH0pLGUhPT10LnBhZ2VJZCYmYXdhaXQgTXQoZSl9dmFyIFR0OyFmdW5jdGlvbihlKXtlLkxhYmVsPVwibm9ybWFsXCIsZS5TZXBhcmF0b3I9XCJzZXBhcmF0b3JcIixlLlN1Ym1lbnU9XCJzdWJtZW51XCIsZS5DaGVja2JveD1cImNoZWNrYm94XCJ9KFR0fHwoVHQ9e30pKTtjb25zdCBFdD17dHlwZTpUdC5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9O3ZhciBCdDshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclByb3ZpZGVyPVwicmVnaXN0ZXItcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJQcm92aWRlcj1cImRlcmVnaXN0ZXItcHJvdmlkZXJcIixlLkNyZWF0ZVByb3ZpZGVyV2luZG93PVwiY3JlYXRlLXByb3ZpZGVyLXdpbmRvd1wiLGUuR2V0UHJvdmlkZXJzPVwiZ2V0LXByb3ZpZGVyc1wiLGUuU2hvd1Byb3ZpZGVyV2luZG93PVwic2hvdy1wcm92aWRlci13aW5kb3dcIixlLkhpZGVQcm92aWRlcldpbmRvdz1cImhpZGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwiLGUuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwiZGVyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5IaWRlU3RvcmVmcm9udD1cImhpZGUtc3RvcmVmcm9udFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIn0oQnR8fChCdD17fSkpO0VlKFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKTtjb25zdCB4dD1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChhc3luYyBlPT4oey4uLmUsbGF5b3V0RGV0YWlsczp7bWFjaGluZUlkOmF3YWl0IGx0KCksbWFjaGluZU5hbWU6ZHQoKX19KSkodCk7cmV0dXJue3BhZ2VJZDpjcnlwdG8ucmFuZG9tVVVJRCgpLHRpdGxlOmUsbGF5b3V0OmEsaXNSZWFkT25seTohMSxoYXNVbnNhdmVkQ2hhbmdlczohMH19LFJ0PWU9Pih7aWRlbnRpdHk6ZSxvcGVuZmluV2luZG93OmZpbi5XaW5kb3cud3JhcFN5bmMoZSksZ2V0UGFnZXM6YXN5bmMoKT0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5HZXRQYWdlc0ZvcldpbmRvdyxlKSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0UGFnZUZvcldpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLGFkZFBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY2UoZSk7dD8udGl0bGV8fCh0LnRpdGxlPWF3YWl0IGEuZGlzcGF0Y2gob2UuR2V0VW5pcXVlUGFnZVRpdGxlLHZvaWQgMCkpO2NvbnN0IG49KGF3YWl0IGEuZGlzcGF0Y2gob2UuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApKS5maW5kKChlPT5lLnBhZ2VJZD09PXQucGFnZUlkfHxlLnRpdGxlPT09dC50aXRsZSkpO2lmKG4pdGhyb3cgbi5wYWdlSWQ9PT10LnBhZ2VJZD9uZXcgRXJyb3IoYHBhZ2Ugd2l0aCBpZCAke3QucGFnZUlkfSBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgYnJvd3NlciB3aW5kb3cgJHtuLnBhcmVudElkZW50aXR5Lm5hbWV9YCk6bmV3IEVycm9yKGBwYWdlIHdpdGggdGl0bGUgJHt0LnRpdGxlfSBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgYnJvd3NlciB3aW5kb3cgJHtuLnBhcmVudElkZW50aXR5Lm5hbWV9YCk7Y29uc3Qgbz17aWRlbnRpdHk6ZSxwYWdlczpbdF19O3JldHVybiBhLmRpc3BhdGNoKG9lLkF0dGFjaFBhZ2VzVG9XaW5kb3csbyl9LHJlbW92ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3cse2lkZW50aXR5OmUscGFnZUlkczpbdF19KSxzZXRBY3RpdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuU2V0QWN0aXZlUGFnZSx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG9lLlVwZGF0ZVBhZ2VGb3JXaW5kb3csdCl9LHJlb3JkZXJQYWdlczphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob2UuUmVvcmRlclBhZ2VzRm9yV2luZG93LHQpfSxfb3Blbkdsb2JhbENvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5PcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0scmVwbGFjZVRvb2xiYXJPcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCBjZShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dG9vbGJhck9wdGlvbnM6dH19KX0scmVwbGFjZVdpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczphc3luYyB0PT57YXdhaXQgY2UoZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczp0fX0pfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob2UuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblBhZ2VUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob2UuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblNhdmVNb2RhbDphc3luYyB0PT57YXdhaXQgY2UoZSk7cmV0dXJuKGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWwsdCl9LF9vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwsdCl9fSk7bGV0IF90PSExO2NvbnN0IEx0PWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm57d3JhcFN5bmM6ZT0+UnQoZSksY3JlYXRlV2luZG93OmFzeW5jIGE9Pnthd2FpdCBjZShlKSxfdHx8KF90PSEwLChhc3luYyBlPT57Sih6LkJyb3dzZXIsZSl9KSh7YWxsb3dlZDohMH0pKTtjb25zdCBuPWF3YWl0IHQuY3JlYXRlV2luZG93KGEpO3JldHVybiBSdChuLmlkZW50aXR5KX0sZ2V0QWxsQXR0YWNoZWRQYWdlczphc3luYygpPT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSxnZXRBbGxXaW5kb3dzOmFzeW5jKCk9Pnthd2FpdCBjZShlKTtyZXR1cm4oYXdhaXQgZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PmUuaWRlbnRpdHkubmFtZS5pbmNsdWRlcyhcImludGVybmFsLWdlbmVyYXRlZC13aW5kb3ctXCIpKSkubWFwKChlPT5SdChlLmlkZW50aXR5KSkpfSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5HZXRVbmlxdWVQYWdlVGl0bGUsdCksZ2V0TGFzdEZvY3VzZWRXaW5kb3c6YXN5bmMoKT0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKX19LFZ0PWU9Pih7Y3JlYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGRlbGV0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldFNhdmVkUGFnZSx0KSxnZXRQYWdlczphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldFNhdmVkUGFnZXMsdCksc2F2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5TYXZlUGFnZSx0KSxjcmVhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5DcmVhdGVTYXZlZFdvcmtzcGFjZSx0KSxkZWxldGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5EZWxldGVTYXZlZFdvcmtzcGFjZSx0KSx1cGRhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5VcGRhdGVTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2VzOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRXb3Jrc3BhY2VzLHQpLHNhdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5TYXZlV29ya3NwYWNlLHQpfSksRHQ9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5HZXRUaGVtZXMsdm9pZCAwKX0pLFV0PWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHthcHBseVNuYXBzaG90OmFzeW5jKHQsYSk9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmIXQ/LndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYnJvd3NlciBzbmFwc2hvdFwiKTtyZXR1cm4gZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmFwcGx5U25hcHNob3QodCxhKX0sZ2V0U25hcHNob3Q6KCk9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRTbmFwc2hvdCgpLnRoZW4oKGU9PmUpKSxsYXVuY2hBcHA6YXN5bmMgdD0+e3QudGFyZ2V0fHwodC50YXJnZXQ9e3V1aWQ6VyxuYW1lOkMsZW50aXR5VHlwZTpJfHxcInVua25vd25cIn0pO3JldHVybihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuTGF1bmNoQXBwLHQpfSxfaW52b2tlQ3VzdG9tQWN0aW9uOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IHNlKGUpLG89e2FjdGlvbklkOnQscGF5bG9hZDp7Li4uYSxjYWxsZXJUeXBlOmEuY2FsbGVyVHlwZXx8aC5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChvZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sX3JlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2c6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWwsdCksZ2V0Q3VycmVudFdvcmtzcGFjZTphc3luYygpPT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkdldEN1cnJlbnRXb3Jrc3BhY2Usdm9pZCAwKSxhcHBseVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkFwcGx5V29ya3NwYWNlLHQpLHNldEFjdGl2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlNldEFjdGl2ZVdvcmtzcGFjZSx0KSxUaGVtZTpEdChlKSxCcm93c2VyOkx0KGUpLFN0b3JhZ2U6VnQoZSl9KX0sRnQ9KCk9PlV0KGZpbi5tZS5pZGVudGl0eSksR3Q9YXN5bmMoZT1HKT0+e2NvbnN0e3dvcmtzcGFjZVBsYXRmb3JtOnR9PWF3YWl0IEYoZSkuZ2V0T3B0aW9ucygpLGE9dD8ubmV3UGFnZVVybCxuPXQ/Lm5ld1RhYlVybDtyZXR1cm57bmV3UGFnZVVybDphLG5ld1RhYlVybDpufX0sJHQ9YXN5bmMoZT1HKT0+e2NvbnN0IHQ9YXdhaXQgRnQoKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZShcIlVudGl0bGVkIFBhZ2VcIiksYT1hd2FpdChhc3luYyhlPUcpPT57Y29uc3R7bmV3UGFnZVVybDp0fT1hd2FpdCBHdChlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO3JldHVybiBDZShcIk5ldyBUYWJcIix0LGUpfSkoZSk7cmV0dXJuIHh0KHQsYSl9LE50PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiQ2xvc2UgV2luZG93XCIsZGF0YTp7dHlwZTp1LkNsb3NlV2luZG93fX0sanQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJPcGVuIFN0b3JlZnJvbnRcIixkYXRhOnt0eXBlOnUuT3BlblN0b3JlZnJvbnR9fSxIdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlF1aXQgUGxhdGZvcm1cIixkYXRhOnt0eXBlOnUuUXVpdH19LHF0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiTmV3IFdpbmRvd1wiLGRhdGE6e3R5cGU6dS5OZXdXaW5kb3d9fSxLdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6dS5TYXZlUGFnZX19LFF0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlIEFzLi4uXCIsZGF0YTp7dHlwZTp1LlNhdmVQYWdlQXN9fSx6dD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlJlc3RvcmUgdG8gTGFzdCBTYXZlZCBDaGFuZ2VzXCIsZGF0YTp7dHlwZTp1LlJlc3RvcmVDaGFuZ2VzfX0sSnQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZVwiLGRhdGE6e3R5cGU6dS5TYXZlV29ya3NwYWNlfX0sWHQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZSBBcy4uLlwiLGRhdGE6e3R5cGU6dS5TYXZlV29ya3NwYWNlQXN9fSxZdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlJlbmFtZSBXb3Jrc3BhY2VcIixkYXRhOnt0eXBlOnUuUmVuYW1lV29ya3NwYWNlfX0sWnQ9XCJTd2l0Y2ggV29ya3NwYWNlXCIsZWE9XCJEZWxldGUgV29ya3NwYWNlXCIsdGE9W050LEV0LGp0LEV0LEh0XSxhYT1bRXQsTnQsRXQsSHRdLG5hPShlLHQsYSk9PnQubWFwKCh0PT57Y29uc3Qgbj10LndvcmtzcGFjZUlkPT09ZS53b3Jrc3BhY2VJZDtyZXR1cm57bGFiZWw6dC50aXRsZSx0eXBlOlR0LkNoZWNrYm94LGVuYWJsZWQ6IW4sY2hlY2tlZDpuLGRhdGE6e3R5cGU6YSx3b3Jrc3BhY2VJZDp0LndvcmtzcGFjZUlkfX19KSksb2E9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgUSgpLHtuZXdQYWdlVXJsOmF9PWF3YWl0IEd0KGUpLG49YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9RihlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmRpc2FibGVNdWx0aXBsZVBhZ2VzfSkoZSksbz1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1GKGUpLHt3b3Jrc3BhY2VQbGF0Zm9ybTphfT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYT8uaXNMb2NrZWR9KShlKSxyPVtdO3ZhciBpO2EmJihyLnB1c2gocXQpLG58fHIucHVzaCgoaT0hbyx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIk5ldyBQYWdlXCIsZGF0YTp7dHlwZTp1Lk5ld1BhZ2V9LGVuYWJsZWQ6aX0pKSksci5wdXNoKEV0KTtjb25zdCBzPUZ0KCksYz1hd2FpdCBzLmdldEN1cnJlbnRXb3Jrc3BhY2UoKSxkPWF3YWl0IHMuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkscD1kLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT1jLndvcmtzcGFjZUlkKSk7cmV0dXJuIHA/ci5wdXNoKHp0KTpyLnB1c2goe2xhYmVsOnp0LmxhYmVsLGVuYWJsZWQ6ITF9KSxyLnB1c2goSnQsWHQpLHA/ci5wdXNoKFl0KTpyLnB1c2goe2xhYmVsOll0LmxhYmVsLGVuYWJsZWQ6ITF9KSxkLnNvbWUoKGU9PmUud29ya3NwYWNlSWQhPT1jLndvcmtzcGFjZUlkKSk/ci5wdXNoKHtsYWJlbDpadCxzdWJtZW51Om5hKGMsZCx1LlN3aXRjaFdvcmtzcGFjZSl9LHtsYWJlbDplYSxzdWJtZW51Om5hKGMsZCx1LkRlbGV0ZVdvcmtzcGFjZSl9KTpyLnB1c2goe2xhYmVsOlp0LGVuYWJsZWQ6ITF9LHtsYWJlbDplYSxlbmFibGVkOiExfSksci5wdXNoKEV0LEt0LFF0KSx0P1suLi5yLC4uLnRhXTpbLi4uciwuLi5hYV19O2xldCByYT1cIlBsYXRmb3JtXCI7Y29uc3QgaWE9YXN5bmMoKT0+cmE7dmFyIHNhLGNhLGRhOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZS9cIixlLkhvbWVTZWFyY2g9XCIvaG9tZS8/ZGVlcGxpbms9c2VhcmNoXCIsZS5Ib21lUGFnZXNSZW5hbWU9XCIvaG9tZS9wYWdlcy9yZW5hbWUvXCIsZS5Eb2NrPVwiL2RvY2svXCIsZS5Ccm93c2VyUGFnZXNMYW5kaW5nPVwiL2Jyb3dzZXIvcGFnZXMvbGFuZGluZy9cIixlLkhvbWVJbmRpY2F0b3I9XCIvaG9tZS9pbmRpY2F0b3IvXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wiLGUuQnJvd3NlclBvcHVwTWVudVNoYXJlUGFnZT1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2hhcmUtcGFnZS9cIixlLkJyb3dzZXJQb3B1cE1lbnVTYXZlTW9kYWw9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3NhdmUtbW9kYWwvXCIsZS5Ccm93c2VyUG9wdXBNZW51TGF5b3V0cz1cIi9icm93c2VyL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9icm93c2VyL3BvcHVwLW1lbnUvY29sb3ItbGlua2luZy9jb2xvci1saW5raW5nL1wiLGUuQnJvd3NlckluZGljYXRvcj1cIi9icm93c2VyL2luZGljYXRvci9cIixlLlJlc3BvbnNlTW9kYWw9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3Jlc3BvbnNlLW1vZGFsL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCJ9KHNhfHwoc2E9e30pKSxmdW5jdGlvbihlKXtlLkljb25PcGVuRmluTG9nbz1cIi9pY29ucy9vcGVuZmlubG9nby5zdmdcIixlLkljb25GaWx0ZXI9XCIvaWNvbnMvZmlsdGVyLnN2Z1wifShjYXx8KGNhPXt9KSksZnVuY3Rpb24oZSl7ZS5TZWFyY2g9XCJzZWFyY2hcIn0oZGF8fChkYT17fSkpO2NvbnN0IHBhPXsuLi5jYSwuLi5zYX07dmFyIGxhOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZVwiLGUuQnJvd3Nlcj1cIi9icm93c2VyXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlclwiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250XCIsZS5Eb2NrPVwiL2RvY2tcIn0obGF8fChsYT17fSkpO2NvbnN0IHVhPVwiL3dvcmtzcGFjZS85LjAuMTRcIjtmdW5jdGlvbiB3YSgpe3JldHVybiB1YS5zdWJzdHJpbmcoMCx1YS5sZW5ndGgtXCJcIi5sZW5ndGgpfWZ1bmN0aW9uIGZhKGUpe2lmKCFQKXRocm93IG5ldyBFcnJvcihcImdldEFic29sdXRlUm91dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBYnNvbHV0ZUJhc2VQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuYCR7d2luZG93Lm9yaWdpbn0ke3dhKCl9YH0oKStlfWNvbnN0IGdhPXtuYW1lOlYuQnJvd3Nlck1lbnUsYWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsZnJhbWU6ITEscmVzaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjpcIiMyZjMxMzZcIixzbWFsbFdpbmRvdzohMCxzaG93VGFza2Jhckljb246ITEsYmFja2dyb3VuZFRocm90dGxpbmc6ITB9O2Z1bmN0aW9uIHlhKGUpe2NvbnN0IHQ9ey4uLmdhLC4uLmV9O3JldHVybiB0LnVybD1mdW5jdGlvbihlKXtpZighUCl0aHJvdyBuZXcgRXJyb3IoXCJyZXNvbHZlQWJzb2x1dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuIGUuc3RhcnRzV2l0aChcImh0dHBcIik/ZTpgJHt3aW5kb3cub3JpZ2lufSR7ZX1gfSh0LnVybCksdH12YXIgaGEsbWE7IWZ1bmN0aW9uKGUpe2UuVXBkYXRlPVwidXBkYXRlXCIsZS5SZXNwb25zZT1cInJlc3BvbnNlXCJ9KGhhfHwoaGE9e30pKSxmdW5jdGlvbihlKXtlLkNhbmNlbGVkPVwiY2FuY2VsZWRcIixlLk5lZ2F0aXZlPVwibmVnYXRpdmVcIixlLkFmZmlybWF0aXZlPVwiYWZmaXJtYXRpdmVcIn0obWF8fChtYT17fSkpO2NvbnN0IHZhPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm57ZW1pdDpJZSh0LCh0PT5TJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZGRMaXN0ZW5lcjpBZSh0LCh0PT5TJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxyZW1vdmVMaXN0ZW5lcjpPZSh0KSxvbmNlOk1lKHQpfX0oXCJ3aW5kb3cubWVudVwiKSxTYT1lPT52YS5lbWl0KGhhLlJlc3BvbnNlLGUpLFBhPVNlKCgoKT0+TCgpLmdldENoaWxkV2luZG93cygpKSw1MDApO2NvbnN0IGJhPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24ga2Eoe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOnR9LGEpe2NvbnN0IG49eWEoZSkse25hbWU6b309bjtsZXQgcj1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtyZXR1cm4oYXdhaXQgUGEoKSkuZmluZCgodD0+dC5pZGVudGl0eS5uYW1lPT09ZSkpfShvKTtyZXR1cm4gcnx8KHI9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Y29uc3QgdD15YShlKTtpZighYmEuaGFzKHQubmFtZSkpe2NvbnN0IGU9KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh0KTtyZXR1cm4gZS5vbmNlKFwiY2xvc2VkXCIsKCgpPT57YmEuZGVsZXRlKHQubmFtZSl9KSksZX0pKCk7YmEuc2V0KHQubmFtZSxlKX1yZXR1cm4gYmEuZ2V0KHQubmFtZSl9KG4pKSxhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9eWEoZSkse3RvcDpuLGxlZnQ6byxkZWZhdWx0V2lkdGg6cixkZWZhdWx0SGVpZ2h0Oml9PWEscz17dG9wOm4sbGVmdDpvLHdpZHRoOnIsaGVpZ2h0Oml9LGM9e3BhcmVudE5hbWU6ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLmlkZW50aXR5Lm5hbWV9O2Zvcihjb25zdFtlLGFdb2YgT2JqZWN0LmVudHJpZXMoYykpdC5zZXQoZSxhKTtjb25zdCBkPXQudG9TdHJpbmcoKSxwPWAke2EudXJsfT8ke2R9YDt2YS5lbWl0KGhhLlVwZGF0ZSxhLm5hbWUscyxwKSxhd2FpdCBTYSh7bmFtZTphLm5hbWUsZGF0YTptYS5DYW5jZWxlZH0pfShlLHR8fG5ldyBVUkxTZWFyY2hQYXJhbXMpLGEmJnIuY2VudGVyKCkscn1jb25zdCBXYT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPXQ/Rih0KTokKCk7aWYoIWEpe2F3YWl0KGFzeW5jKGU9ZmluLm1lLmlkZW50aXR5KT0+e2NvbnN0IHQ9RihlKSxhPWF3YWl0IHQuZ2V0Qm91bmRzKCk7KGEucmlnaHQ+c2NyZWVuLmF2YWlsTGVmdCtzY3JlZW4ud2lkdGh8fGEubGVmdDxzY3JlZW4uYXZhaWxMZWZ0fHxhLmJvdHRvbT5zY3JlZW4uYXZhaWxUb3Arc2NyZWVuLmhlaWdodHx8YS50b3A8c2NyZWVuLmF2YWlsVG9wKSYmYXdhaXQgdC5jZW50ZXIoKX0pKG4uaWRlbnRpdHkpO2NvbnN0IHQ9KGU9Pih7bGVmdDooZS5sZWZ0K2UucmlnaHQpLzIsdG9wOihlLnRvcCtlLmJvdHRvbSkvMn0pKShhd2FpdCBuLmdldEJvdW5kcygpKSx7ZGVmYXVsdEhlaWdodDphLGRlZmF1bHRXaWR0aDpvfT1lO3JldHVybigoZSx0KT0+e2NvbnN0e2hlaWdodDphLHdpZHRoOm59PXQsbz1uLzIscj1hLzI7cmV0dXJue2xlZnQ6ZS5sZWZ0LW8sdG9wOmUudG9wLXJ9fSkodCx7aGVpZ2h0OmEsd2lkdGg6b30pfXJldHVybiBhd2FpdCBuLmdldEJvdW5kcygpfSxDYT1hc3luYyh7b3B0aW9uczplLGNvbnRlbnQ6dH0sYSk9Pntjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXMoey4uLnR9KTtyZXR1cm4gYXdhaXQga2Eoe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOm59LGEpLG5ldyBQcm9taXNlKCh0PT57dmEub25jZShoYS5SZXNwb25zZSwoYT0+e2EubmFtZT09PWUubmFtZSYmdChhKX0pKX0pKX0sSWE9YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJTd2l0Y2ggV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOk0rcGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMTIsZGVmYXVsdFdpZHRoOjQyNCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOmBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc3dpdGNoIHRvICR7dH1gLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkXCIsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSx0KSxvPWF3YWl0IFdhKGEsYS5tb2RhbFBhcmVudElkZW50aXR5KSxyPXsuLi5hLHRvcDpvLnRvcCxsZWZ0Om8ubGVmdH07cmV0dXJuKGF3YWl0IENhKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGE9PT1tYS5BZmZpcm1hdGl2ZX0sQWE9YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJEZWxldGUgV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOk0rcGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxNDQsZGVmYXVsdFdpZHRoOjM3Mixtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSB0aGlzIHdvcmtzcGFjZT9cIixib2R5OmAke3R9YCxhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlLHQpLG89YXdhaXQgV2EoYSxhLm1vZGFsUGFyZW50SWRlbnRpdHkpLHI9ey4uLmEsdG9wOm8udG9wLGxlZnQ6by5sZWZ0fTtyZXR1cm4oYXdhaXQgQ2Eoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YT09PW1hLkFmZmlybWF0aXZlfSxNYT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPWE/dm9pZCAwOmUse3dpbmRvd09wdGlvbnM6byxjb250ZW50OnJ9PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJQbGF0Zm9ybSBRdWl0XCIsd2luZG93T3B0aW9uczp7dXJsOk0rcGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMzQsZGVmYXVsdFdpZHRoOjQ3NCxtb2RhbFBhcmVudElkZW50aXR5OnR9LGNvbnRlbnQ6e3RpdGxlOmBDbG9zZSB0aGUgJHtcIlBsYXRmb3JtXCI9PT1lP1wicGxhdGZvcm1cIjpgJHtlfSBQbGF0Zm9ybWB9P2AsYm9keTpcIkNsb3NpbmcgYSBwbGF0Zm9ybSB3aWxsIGNsb3NlIGFueSB3b3Jrc3BhY2VzLCBhcHBzIG9yIGFueSBwcm9jZXNzZXMgdGhhdCBhcmUgcnVubmluZy5cIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKSh0LG4pLGk9YXdhaXQgV2EobyxvLm1vZGFsUGFyZW50SWRlbnRpdHkpLHM9ey4uLm8sdG9wOmkudG9wLGxlZnQ6aS5sZWZ0fTtyZXR1cm4oYXdhaXQgQ2Eoe29wdGlvbnM6cyxjb250ZW50OnJ9LGEpKS5kYXRhPT09bWEuQWZmaXJtYXRpdmV9LE9hPWFzeW5jIGU9Pntjb25zdHt3aW5kb3dPcHRpb25zOnQsY29udGVudDphfT1hd2FpdChhc3luYyBlPT4oe3RpdGxlOlwiUmVzdG9yZSBDaGFuZ2VzXCIsd2luZG93T3B0aW9uczp7dXJsOk0rcGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMTIsZGVmYXVsdFdpZHRoOjQyNCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc3RvcmUgdG8gbGFzdCBzYXZlZCBjaGFuZ2VzP1wiLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkXCIsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSksbj1hd2FpdCBXYSh0LHQubW9kYWxQYXJlbnRJZGVudGl0eSksbz17Li4udCx0b3A6bi50b3AsbGVmdDpuLmxlZnR9O3JldHVybihhd2FpdCBDYSh7b3B0aW9uczpvLGNvbnRlbnQ6YX0pKS5kYXRhPT09bWEuQWZmaXJtYXRpdmV9O3ZhciBUYTshZnVuY3Rpb24oZSl7ZS5FUlJPUj1cImVycm9yXCIsZS5TVUNDRVNTPVwic3VjY2Vzc1wiLGUuSU5GTz1cImluZm9cIn0oVGF8fChUYT17fSkpO2NvbnN0IEVhPXthbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExfTt2YXIgQmE7IWZ1bmN0aW9uKGUpe2UuTG9ja2VkPVwiTG9ja0Nsb3NlZEljb25cIixlLlVubG9ja2VkPVwiTG9ja09wZW4xSWNvblwifShCYXx8KEJhPXt9KSk7Y29uc3QgeGE9ZnVuY3Rpb24oZT1FYSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybiBhc3luYyhhLG4sbyxyKT0+e2lmKHQuaGFzKGEpKXtjb25zdHtjdXJyZW50VXJsOmUsY3VycmVudE5hbWU6b309dC5nZXQoYSk7aWYoZT09PW4pcmV0dXJuO2NvbnN0IHI9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOm99KTthd2FpdCByLmNsb3NlKCl9Y29uc3QgaT1gJHtWLkhvbWVJbnRlcm5hbH0tJHtEYXRlLm5vdygpfSR7TWF0aC5yYW5kb20oKX1gO3Quc2V0KGEse2N1cnJlbnRVcmw6bixjdXJyZW50TmFtZTppfSk7Y29uc3Qgcz1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coey4uLmUsbmFtZTppLHVybDpufSk7KChlLHQpPT57Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsdHx8XCJwb2xpdGVcIiksKGU9PntlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLndpZHRoPVwiMXB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIxcHhcIixlLnN0eWxlLnBhZGRpbmc9XCIwXCIsZS5zdHlsZS5tYXJnaW49XCItMXB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiLGUuc3R5bGUuYm9yZGVyPVwiMFwifSkoYSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxzZXRUaW1lb3V0KCgoKT0+e2EuaW5uZXJIVE1MPWV9KSwxMDApLHNldFRpbWVvdXQoKCgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKX0pLDFlMyl9KShgTmV3ICR7cn0gaW5kaWNhdG9yOiAke299YCkscy5vbmNlKFwiY2xvc2VkXCIsKCgpPT57dC5kZWxldGUoYSl9KSl9fSgpO2FzeW5jIGZ1bmN0aW9uIFJhKGUsdCxhLG4pe2NvbnN0IG89bmV3IFVSTFNlYXJjaFBhcmFtcztvLmFwcGVuZChcInR5cGVcIixlKSxvLmFwcGVuZChcIm1lc3NhZ2VcIix0KSxvLmFwcGVuZChcInBhcmVudE5hbWVcIixhfHxcIlwiKSxvLmFwcGVuZChcImljb25cIixufHxcIlwiKTtjb25zdCByPWAke2ZhKHBhLkJyb3dzZXJJbmRpY2F0b3IpfT8ke28udG9TdHJpbmcoKX1gO3JldHVybiB4YShcImJyb3dzZXJcIithLHIsdCxlKX1mdW5jdGlvbiBfYShlLHQsYSl7cmV0dXJuIFJhKFRhLlNVQ0NFU1MsZSx0LGEpfWNvbnN0IExhPWFzeW5jIGU9Pntjb25zdCB0PUZ0KCksYT1hd2FpdCB0LmdldEN1cnJlbnRXb3Jrc3BhY2UoKSxuPWF3YWl0IHQuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCksbz1hLndvcmtzcGFjZUlkO2lmKG4uc29tZSgoZT0+ZS53b3Jrc3BhY2VJZD09PW8pKSl0LlN0b3JhZ2Uuc2F2ZVdvcmtzcGFjZShhKSx0LnNldEFjdGl2ZVdvcmtzcGFjZShhKSxfYShcIldvcmtzcGFjZSBTYXZlZFwiLGUubmFtZSk7ZWxzZXt0LkJyb3dzZXIud3JhcFN5bmMoZSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uU0FWRV9XT1JLU1BBQ0V9KX19LFZhPWU9PntGdCgpLkJyb3dzZXIud3JhcFN5bmMoZSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uU0FWRV9XT1JLU1BBQ0VfQVN9KX0sRGE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9RnQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49YXdhaXQgRnQoKS5TdG9yYWdlLmdldFBhZ2VzKCksbz0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSkscj1uLnNvbWUoKGU9Pm8ucGFnZUlkPT09ZS5wYWdlSWQpKTtpZihyKXRyeXthd2FpdCBGdCgpLlN0b3JhZ2Uuc2F2ZVBhZ2UoKGQ9byx7Li4uZCxoYXNVbnNhdmVkQ2hhbmdlczp2b2lkIDAscGFyZW50SWRlbnRpdHk6dm9pZCAwLGlzQWN0aXZlOnZvaWQgMH0pKSxhd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpvLnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMX19KSxfYShcIlBhZ2Ugc2F2ZWRcIixvLnBhcmVudElkZW50aXR5Lm5hbWUpfWNhdGNoe2k9XCJQYWdlIGZhaWxlZCB0byBzYXZlXCIscz1vLnBhcmVudElkZW50aXR5Lm5hbWUsUmEoVGEuRVJST1IsaSxzLGMpfWVsc2UgYS5fb3BlblNhdmVNb2RhbCh7aWQ6by5wYWdlSWQsbWVudVR5cGU6bS5TQVZFX1BBR0V9KTt2YXIgaSxzLGMsZH0sVWE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9RnQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49KGF3YWl0IGEuZ2V0UGFnZXMoKSkuZmluZCgoZT0+dD9lLnBhZ2VJZD09PXQ6ZS5pc0FjdGl2ZSkpO2EuX29wZW5TYXZlTW9kYWwoe2lkOm4ucGFnZUlkLG1lbnVUeXBlOm0uU0FWRV9QQUdFX0FTfSl9LEZhPWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5LG49YXdhaXQgUmUoYSksbz1GdCgpLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSk7c3dpdGNoKGUudHlwZSl7Y2FzZSB1Lk5ld1dpbmRvdzpjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IEd0KGEpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgZW1wdHkgd2luZG93IHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtGdCgpLmNyZWF0ZVZpZXcoe3RhcmdldDp2b2lkIDAsdXJsOnR9KTticmVhaztjYXNlIHUuTmV3UGFnZTphd2FpdChhc3luYyBlPT57Y29uc3QgdD1GdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksYT1hd2FpdCAkdChlKTthd2FpdCB0LmFkZFBhZ2UoYSksYXdhaXQgdC5zZXRBY3RpdmVQYWdlKGEucGFnZUlkKX0pKGEpO2JyZWFrO2Nhc2UgdS5DbG9zZVdpbmRvdzpuLmRpc3BhdGNoKFZlLkNsb3NlQnJvd3NlcldpbmRvdyk7YnJlYWs7Y2FzZSB1LlNhdmVXb3Jrc3BhY2U6YXdhaXQgTGEoYSk7YnJlYWs7Y2FzZSB1LlNhdmVQYWdlOmF3YWl0IERhKGEpO2JyZWFrO2Nhc2UgdS5TYXZlUGFnZUFzOmF3YWl0IFVhKGEpO2JyZWFrO2Nhc2UgdS5TYXZlV29ya3NwYWNlQXM6YXdhaXQgVmEoYSk7YnJlYWs7Y2FzZSB1LlJlbmFtZVdvcmtzcGFjZTpvLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTptLlJFTkFNRV9XT1JLU1BBQ0V9KTticmVhaztjYXNlIHUuU3dpdGNoV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUZ0KCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtuJiZhd2FpdCBJYShlLG4udGl0bGUpJiYoYXdhaXQgYS5hcHBseVdvcmtzcGFjZShuKSxfYShcIldvcmtzcGFjZSBTd2l0Y2hlZCFcIixudWxsKSl9KShhLGUpO2JyZWFrO2Nhc2UgdS5EZWxldGVXb3Jrc3BhY2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9RnQoKSxuPShhd2FpdCBhLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO24mJmF3YWl0IEFhKGUsbi50aXRsZSkmJihhd2FpdCBhLlN0b3JhZ2UuZGVsZXRlV29ya3NwYWNlKHQud29ya3NwYWNlSWQpLF9hKFwiV29ya3NwYWNlIERlbGV0ZWQhXCIsZS5uYW1lKSl9KShhLGUpO2JyZWFrO2Nhc2UgdS5RdWl0OmNvbnN0IHI9YXdhaXQgaWEoKTthd2FpdCBNYShhLHIpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCk7YnJlYWs7Y2FzZSB1Lk9wZW5TdG9yZWZyb250Oihhc3luYygpPT57YXdhaXQgUSgpJiZqKE4pfSkoKTticmVhaztjYXNlIHUuUmVzdG9yZUNoYW5nZXM6Y29uc3QgaT1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9RnQoKSx0PWF3YWl0IGUuZ2V0Q3VycmVudFdvcmtzcGFjZSgpO3JldHVybihhd2FpdCBlLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpfSgpO2F3YWl0IE9hKGEpJiZhd2FpdCB1ZShpKTticmVhaztjYXNlIHUuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCB0PXtjYWxsZXJUeXBlOmguR2xvYmFsQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O0Z0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCx0KX19fSxHYT1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBSZSh0LmlkZW50aXR5KSxuPUZ0KCk7c3dpdGNoKGU/LnR5cGUpe2Nhc2Ugdy5TYXZlOmF3YWl0IERhKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugdy5TYXZlQXM6YXdhaXQgVWEodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LlJlbmFtZTphd2FpdCBuLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uUkVOQU1FX1BBR0UsaWQ6dC5wYWdlSWR9KTticmVhaztjYXNlIHcuRHVwbGljYXRlOmEuZGlzcGF0Y2goVmUuRHVwbGljYXRlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LkNsb3NlOmEuZGlzcGF0Y2goVmUuQ2xvc2VQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOmguUGFnZVRhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RnQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfX19LCRhPWFzeW5jKGUsdCk9PntpZihlPy50eXBlKXtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSB5LlNhdmVQYWdlOmF3YWl0IERhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlV29ya3NwYWNlOmF3YWl0IExhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlUGFnZUFzOmF3YWl0IFVhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlV29ya3NwYWNlQXM6YXdhaXQgVmEoYSk7YnJlYWs7Y2FzZSB5LkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgYT17Y2FsbGVyVHlwZTpoLlNhdmVCdXR0b25Db250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTp0LmlkZW50aXR5LHBhZ2VJZDp0LnBhZ2VJZCxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O0Z0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxhKX19fX0sTmE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9dC5zZWxlY3RlZFZpZXdzWzBdLG49ZmluLlZpZXcud3JhcFN5bmMoYSksbz1hd2FpdChhc3luYyBlPT57Y29uc3R7bmV3VGFiVXJsOnR9PWF3YWl0IEd0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3VGFiVXJsIHNldFwiKTtyZXR1cm57Li4uQ2UoXCJOZXcgVmlld1wiLHQpLHVybDp0LHRhcmdldDplfX0pKGUpO2F3YWl0IEZ0KCkuY3JlYXRlVmlldyhvLGUsbi5pZGVudGl0eSl9LGphPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGU9PlByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT5maW4uVmlldy53cmFwU3luYyhlKS5nZXRJbmZvKCkpKSkpKHQpLHtuZXdQYWdlVXJsOm4sbmV3VGFiVXJsOm99PWF3YWl0IEd0KGUpO2EuZm9yRWFjaCgoYXN5bmMgZT0+e2UudXJsIT09biYmZS51cmwhPT1vJiZhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihlLnVybCl9KSl9LEhhPShlLHQpPT57dC5mb3JFYWNoKChhc3luYyB0PT57Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KTthd2FpdChhc3luYyhlLHQpPT57Y29uc3R7dXJsOmF9PWF3YWl0IHQuZ2V0SW5mbygpLG49ey4uLmF3YWl0IHQuZ2V0T3B0aW9ucygpLHVybDphLHRhcmdldDplLG5hbWU6dm9pZCAwfTthd2FpdCBGdCgpLmNyZWF0ZVZpZXcobixlLHQuaWRlbnRpdHkpfSkoZSxhKX0pKX0scWE9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSBmLkNsb3NlVmlld3M6YXdhaXQoYXN5bmMoZSx0KT0+e2lmKChhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldEN1cnJlbnRWaWV3cygpKS5sZW5ndGghPT10Lmxlbmd0aCl0LmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PWZpbi5WaWV3LndyYXBTeW5jKGUpO2F3YWl0IHQuZGVzdHJveSgpfSkpO2Vsc2V7Y29uc3QgdD0oYXdhaXQgRnQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTsoYXdhaXQgUmUoZSkpLmRpc3BhdGNoKFZlLkNsb3NlUGFnZSx0Py5wYWdlSWQpfX0pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcjphd2FpdCBqYShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlJlbG9hZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cy5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LnJlbG9hZCgpfSkpO2JyZWFrO2Nhc2UgZi5OZXdWaWV3OmF3YWl0IE5hKGEsdCk7YnJlYWs7Y2FzZSBmLkR1cGxpY2F0ZVZpZXdzOkhhKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuQWRkVG9DaGFubmVsOihhc3luYyhlLHQsYSk9Pntjb25zdCBuPXtuZXdDaGFubmVsSWQ6dCxzZWxlY3RlZFZpZXdzOmF9Oyhhd2FpdCBSZShlKSkuZGlzcGF0Y2goVmUuQWRkVG9DaGFubmVsLG4pfSkoYSxlLm9wdGlvbix0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5SZW1vdmVGcm9tQ2hhbm5lbDooYXN5bmMoZSx0KT0+eyhhd2FpdCBSZShlKSkuZGlzcGF0Y2goVmUuUmVtb3ZlRnJvbUNoYW5uZWwsdCl9KShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3Qgbj17Y2FsbGVyVHlwZTpoLlZpZXdUYWJDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLHNlbGVjdGVkVmlld3M6dC5zZWxlY3RlZFZpZXdzLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RnQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLG4pfX19O2FzeW5jIGZ1bmN0aW9uIEthKGUsdCl7Y29uc3QgYT1hd2FpdCBvYShlLmlkZW50aXR5KSxuPWF3YWl0IGlhKCk7YS5maW5kKChlPT5lLmRhdGE/LnR5cGU9PT11LlF1aXQpKS5sYWJlbD1gUXVpdCAke259YDtjb25zdCBvPXsuLi5lLHRlbXBsYXRlOmEsY2FsbGJhY2s6RmF9O2F3YWl0IHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51KG8sdCl9Y29uc3QgUWE9YXN5bmMoZSx0KT0+e2NvbnN0e3g6YSx5Om4saWRlbnRpdHk6byx0ZW1wbGF0ZTpyLGNhbGxiYWNrOml9PWUse2RhdGE6c309YXdhaXQgZnVuY3Rpb24oZSx0KXtpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7aWYoIXQmJiFmaW4ubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiB3aW5kb3cuXCIpO3JldHVybih0fHxmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkpLnNob3dQb3B1cE1lbnUoZSl9KHt4OmEseTpuLHRlbXBsYXRlOnJ9LGZpbi5XaW5kb3cud3JhcFN5bmMobykpO2kocyxlKX07YXN5bmMgZnVuY3Rpb24gemEoZSx0KXtjb25zdCBhPXsuLi5lLGNhbGxiYWNrOnFhfTthd2FpdCB0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUoYSx0KX1hc3luYyBmdW5jdGlvbiBKYShlLHQpe2NvbnN0IGE9YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgRnQoKS5TdG9yYWdlLmdldFBhZ2UoZSksbj0oYXdhaXQgR2UoKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkse3dvcmtzcGFjZVBsYXRmb3JtOm99PWF3YWl0IEYodCkuZ2V0T3B0aW9ucygpLHI9IShvLmlzTG9ja2VkfHxvLnByZXZlbnRQYWdlQ2xvc2V8fG4uY2xvc2VCdXR0b24/LmRpc2FibGVkfHxuLmNsb3NlQnV0dG9uPy5oaWRkZW4pO3JldHVyblt7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6dy5TYXZlfX0se3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXNcIixkYXRhOnt0eXBlOncuU2F2ZUFzfX0sRXQse3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJSZW5hbWUgUGFnZVwiLGRhdGE6e3R5cGU6dy5SZW5hbWV9LGVuYWJsZWQ6ISFhfSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIkR1cGxpY2F0ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkR1cGxpY2F0ZX0sZW5hYmxlZDohby5pc0xvY2tlZH0sRXQse3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJDbG9zZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkNsb3NlfSxlbmFibGVkOnJ9XX0pKGUucGFnZUlkLGUuaWRlbnRpdHkpLG49ey4uLmUsdGVtcGxhdGU6YSxjYWxsYmFjazpHYX07YXdhaXQgdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51KG4sdCl9YXN5bmMgZnVuY3Rpb24gWGEoZSx0KXtjb25zdCBhPXsuLi5lLHRlbXBsYXRlOmF3YWl0KGFzeW5jKCk9Plt7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTp5LlNhdmVXb3Jrc3BhY2V9fSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzXCIsZGF0YTp7dHlwZTp5LlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOlR0LlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2VcIixkYXRhOnt0eXBlOnkuU2F2ZVBhZ2V9fSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBc1wiLGRhdGE6e3R5cGU6eS5TYXZlUGFnZUFzfX1dKSgpLGNhbGxiYWNrOiRhfTthd2FpdCB0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoYSx0KX1jb25zdCBZYT1iJiZndChcIm9wZW5maW4td29ya3NwYWNlLXBsYXRmb3JtLXdvcmtzcGFjZXNcIixcIndvcmtzcGFjZXNcIik7YXN5bmMgZnVuY3Rpb24gWmEoZSl7Y29uc3QgdD1hd2FpdCBtdChlLFlhKTtyZXR1cm4gdD8odC53b3Jrc3BhY2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LndvcmtzcGFjZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gZW4oZSl7Y29uc3QgdD1hd2FpdCBidChZYSksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+WmEoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+a3QodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gdG4oe3dvcmtzcGFjZTplfSl7YXdhaXQgdnQoZS53b3Jrc3BhY2VJZCxlLFlhKX1hc3luYyBmdW5jdGlvbiBhbihlKXthd2FpdCBTdChlLFlhKX1hc3luYyBmdW5jdGlvbiBubih7d29ya3NwYWNlSWQ6ZSx3b3Jrc3BhY2U6dH0pe2lmKHZvaWQgMD09PWF3YWl0IFphKGUpKXRocm93IG5ldyBFcnJvcihcIndvcmtzcGFjZSBub3QgZm91bmRcIik7YXdhaXQgdG4oe3dvcmtzcGFjZTp0fSksZSE9PXQud29ya3NwYWNlSWQmJmF3YWl0IGFuKGUpfWFzeW5jIGZ1bmN0aW9uIG9uKHthcHA6ZSx0YXJnZXQ6dH0pe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7c3dpdGNoKGUubWFuaWZlc3RUeXBlKXtjYXNlIGMuU25hcHNob3Q6cmV0dXJuIGEuYXBwbHlTbmFwc2hvdChlLm1hbmlmZXN0KTtjYXNlIGMuVmlldzpyZXR1cm4gYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKFwidmlld1wiPT09dC5lbnRpdHlUeXBlKXtjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpLG49YXdhaXQgYS5nZXRQYXJlbnRMYXlvdXQoKTtyZXR1cm4gYXdhaXQgbi5yZXBsYWNlVmlldyh0LHttYW5pZmVzdFVybDplLm1hbmlmZXN0LHVybDp2b2lkIDAsdGFyZ2V0OnZvaWQgMH0pLGEuZGVzdHJveSgpfXJldHVybiBhLmNyZWF0ZVZpZXcoe25hbWU6dm9pZCAwLHVybDp2b2lkIDAsbWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx0YXJnZXQ6dm9pZCAwfSl9KGUsdCk7Y2FzZSBjLkV4dGVybmFsOnJldHVybiBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7cGF0aDplLm1hbmlmZXN0LHV1aWQ6ZS5hcHBJZH0pO2RlZmF1bHQ6cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChlLm1hbmlmZXN0KX19Y29uc3Qgcm49ZT0+ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpO2Z1bmN0aW9uIHNuKGUsLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGE9dC5zaGlmdCgpO3JldHVybiBybihlKSYmcm4oYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZihybihhKSlyZXR1cm4gZVt0XXx8KGVbdF09e30pLHNuKGVbdF0sYSk7ZVt0XT1hfSkpLHNuKGUsLi4udCl9Y29uc3QgY249TStwYS5Ccm93c2VyO2Z1bmN0aW9uIGRuKGUsdCl7Y29uc3QgYT1zbih7fSx0LGUpO3JldHVybiBhLmRldGFjaE9uQ2xvc2U9ITAsYX1hc3luYyBmdW5jdGlvbiBwbihlLHQsYSl7Y29uc3Qgbj1lLm1hbmlmZXN0VXJsP2F3YWl0IHQoe21hbmlmZXN0VXJsOmUubWFuaWZlc3RVcmx9LGEpOnZvaWQgMDtpZihuPy5pbnRlcm9wJiZlLmludGVyb3Ape2NvbnN0IHQ9ey4uLmUsLi4ubixpbnRlcm9wOmUuaW50ZXJvcH07cmV0dXJuIGRlbGV0ZSB0Lm1hbmlmZXN0VXJsLHR9cmV0dXJuIGV9Y29uc3QgbG49ZT0+e2NvbnN0IHQ9ZS5uYW1lPT09Vi5Ib21lLGE9ZS5uYW1lPy5zdGFydHNXaXRoKFYuSG9tZUludGVybmFsKSxuPWUubmFtZT8uc3RhcnRzV2l0aChWLkJyb3dzZXJNZW51KTtyZXR1cm4hdCYmIWEmJiFufSx1bj1lPT5cIndvcmtzcGFjZVBsYXRmb3JtXCJpbiBlP2U6KCh7d29ya3N0YWNrczplLHBhZ2VzOnQsLi4uYX0pPT4oey4uLmEsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOnR8fGV8fG51bGx9fSkpKGUpLHduPXtjb250ZXh0TWVudVNldHRpbmdzOntyZWxvYWQ6ITF9LGJhY2tncm91bmRUaHJvdHRsaW5nOiEwLHVybDpjbixjb250ZXh0TWVudTohMCxjbG9zZU9uTGFzdFZpZXdSZW1vdmVkOiExLGV4cGVyaW1lbnRhbDp7c2hvd0Zhdmljb25zOiEwLGRlZmF1bHRGYXZpY29uVXJsOmAke019L2ljb25zL2RlZmF1bHRGYXZpY29uLnN2Z2B9LHBlcm1pc3Npb25zOntTeXN0ZW06e29wZW5VcmxXaXRoQnJvd3Nlcjp7ZW5hYmxlZDohMCxwcm90b2NvbHM6W1wibWFpbHRvXCJdfX19fSxmbj17ZGltZW5zaW9uczp7Ym9yZGVyV2lkdGg6MyxoZWFkZXJIZWlnaHQ6MzB9fSxnbj1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBGdCgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxuPWF3YWl0IEZ0KCkuQnJvd3Nlci5nZXRBbGxBdHRhY2hlZFBhZ2VzKCk7cmV0dXJuIGUubWFwKChlPT57bGV0IG89ZS50aXRsZTt2b2lkIDA9PT1lLnBhZ2VJZCYmKGUucGFnZUlkPWNyeXB0by5yYW5kb21VVUlEKCkpO2NvbnN0IHI9YS5maW5kKChlPT5lLnRpdGxlPT09bykpO3JldHVybihyJiZyLnBhZ2VJZCE9PWUucGFnZUlkfHxuLmZpbmQoKGU9PmUudGl0bGU9PT1vKSkpJiYobz1sZShlLnRpdGxlLFsuLi5hLC4uLm5dLm1hcCgoZT0+ZS50aXRsZSkpKSksbi5wdXNoKHsuLi5lLHRpdGxlOm99KSx7Li4udCwuLi5lLHRpdGxlOm8sbGF5b3V0OihpPWUubGF5b3V0LGJlKHsuLi5pfSxrZSkpfTt2YXIgaX0pKX07dmFyIHluOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJicm93c2VyXCIsZS5QbGF0Zm9ybT1cInBsYXRmb3JtXCIsZS5DbGFzc2ljPVwiY2xhc3NpY1wiLGUuTWl4ZWQ9XCJtaXhlZFwifSh5bnx8KHluPXt9KSk7Y29uc3QgaG49ZT0+e2NvbnN0IHQ9ZmluLldpbmRvdy53cmFwU3luYyhlKTtyZXR1cm4gUHJvbWlzZS5hbGwoW3QuYnJpbmdUb0Zyb250KCksdC5yZXN0b3JlKCksdC5mb2N1cygpXSl9O2FzeW5jIGZ1bmN0aW9uIG1uKGUpe2NvbnN0IHQ9KGF3YWl0IHEoKSkubWFwKChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmdldE9wdGlvbnMoKTt0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcyYmdC5sYXlvdXQmJmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlKSkuZGlzcGF0Y2goVmUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zKSkoZS5pZGVudGl0eSl9KSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQpLGU/ZSgpOnd0KCl9Y29uc3Qgdm49YXN5bmMgZT0+e2F3YWl0IE1hKGZpbi5tZS5pZGVudGl0eSxlLnRpdGxlPz9hd2FpdCBpYSgpLGUuc2hvdWxkQ2VudGVyT25Nb25pdG9yKSYmZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpfTtsZXQgU249W107Y29uc3QgUG49KCk9PlNuO2NvbnN0IGJuPShlLHQpPT5hc3luYyBhPT57Y29uc3Qgbj1udWxsIT09ZTtjbGFzcyBvIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4oe2lzV29ya3NwYWNlUGxhdGZvcm06ITAsaXNCcm93c2VySW5pdGlhbGl6ZWQ6ISFlfSksdGhpcy5hZGRQYWdlPXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdyx0aGlzLmRldGFjaFBhZ2VzRnJvbVdpbmRvdz1YZSx0aGlzLmdldEFsbEF0dGFjaGVkUGFnZXM9R2UsdGhpcy5nZXRQYWdlc0ZvcldpbmRvdz1aZSx0aGlzLmdldFBhZ2VGb3JXaW5kb3c9ZXQsdGhpcy5zZXRBY3RpdmVQYWdlPVllLHRoaXMubGF1bmNoQXBwPW9uLHRoaXMuc2F2ZVBhZ2U9UWUsdGhpcy5zYXZlV29ya3NwYWNlPXllLHRoaXMuY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9SGUsdGhpcy51cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1LZSx0aGlzLmRlbGV0ZVNhdmVkUGFnZUludGVybmFsPXFlLHRoaXMucmVvcmRlclBhZ2VzRm9yV2luZG93PXR0LHRoaXMuZ2V0VW5pcXVlUGFnZVRpdGxlPWF0LHRoaXMudXBkYXRlUGFnZUZvcldpbmRvdz1KZSx0aGlzLmdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1tZSx0aGlzLmdldFRoZW1lcz1Qbix0aGlzLmludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPWN0LHRoaXMucmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPXZuLHRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZT1nZSx0aGlzLmFwcGx5V29ya3NwYWNlPXVlLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXdlLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51PXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2VzPXRoaXMuZ2V0U2F2ZWRQYWdlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlPXRoaXMuZ2V0U2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFBhZ2U9dGhpcy5jcmVhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkUGFnZT10aGlzLnVwZGF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRQYWdlPXRoaXMuZGVsZXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93PXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdy5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51PXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51PXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZT10aGlzLmdldFNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZT10aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZT10aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZT10aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dGhpcy5hcHBseVdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXRoaXMuc2V0QWN0aXZlV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyl9YXN5bmMgZ2V0U25hcHNob3QoKXtjb25zdCBlPW4/YXdhaXQgbW4oKGFzeW5jKCk9Pnd0KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKSkpOmF3YWl0IHd0KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKTtyZXR1cm57Li4uZSx3aW5kb3dzOmUud2luZG93cy5maWx0ZXIobG4pLm1hcCh1dCl9fWFzeW5jIGFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp0fSl7Y29uc3QgYT1lPT5zdXBlci5hcHBseVNuYXBzaG90KHtzbmFwc2hvdDplLG9wdGlvbnM6ey4uLnQsY2xvc2VFeGlzdGluZ1dpbmRvd3M6ITF9fSk7bGV0IG89ZTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89YXdhaXQgc3VwZXIuZmV0Y2hNYW5pZmVzdCh7bWFuaWZlc3RVcmw6b30sZmluLm1lLmlkZW50aXR5KSk7Y29uc3Qgcj1mdW5jdGlvbihlKXtsZXQgdD0hMSxhPSExO2Zvcihjb25zdCBuIG9mIGUud2luZG93cyl7aWYodCYmYSlicmVhaztuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoP2E9ITA6bi5sYXlvdXQmJih0PSEwKX1yZXR1cm4gdCYmYT95bi5NaXhlZDp0P3luLlBsYXRmb3JtOmE/eW4uQnJvd3NlcjplLndpbmRvd3MubGVuZ3RoP3luLkNsYXNzaWM6bnVsbH0obyk7aWYocj09PXluLk1peGVkKXRocm93IG5ldyBFcnJvcihcIlRoaXMgc25hcHNob3QgY2Fubm90IGJlIGFwcGxpZWQgYXMgaXQgY29udGFpbnMgYSBtaXh0dXJlIG9mIGJyb3dzZXIgYW5kIHBsYXRmb3JtIHdpbmRvd3MuXCIpO2lmKG4peW4uUGxhdGZvcm07ZWxzZSBpZihyPT09eW4uQnJvd3Nlcil0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNuYXBzaG90IGNhbm5vdCBiZSBhcHBsaWVkIGFzIHRoZSBwbGF0Zm9ybSBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRob3V0IHRoZSBicm93c2VyLlwiKTtyZXR1cm4gdD8uY2xvc2VFeGlzdGluZ1dpbmRvd3MmJmF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCBxKCk7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PmUuY2xvc2UoITApLmNhdGNoKCgoKT0+e30pKSkpKX0oKSxuP2FzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1hd2FpdCBHZSgpLG49ZS5zbmFwc2hvdERldGFpbHM/Lm1vbml0b3JJbmZvfHxhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksW28scl09KGUud2luZG93c3x8W10pLnJlZHVjZSgoKFtlLHRdLGEpPT5hPy53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lmxlbmd0aD9bWy4uLmUsYV0sdF06W2UsWy4uLnQsYV1dKSxbW10sW11dKSxpPW5ldyBNYXA7YS5mb3JFYWNoKChlPT5pLnNldChlLnBhZ2VJZCxlKSkpO2NvbnN0IHM9W10sYz1vLm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9dW4oZSksYT1bXSxuPShlPT57bGV0IHQ9ITE7Y29uc3QgYT0oZXx8W10pLm1hcCgoZT0+e2NvbnN0IGE9ZnVuY3Rpb24oe2lkOmUsbmFtZTp0LC4uLmF9KXtyZXR1cm57cGFnZUlkOmUsdGl0bGU6dCwuLi5hfX0oZSk7cmV0dXJuIHQmJmEuaXNBY3RpdmUmJihhLmlzQWN0aXZlPSExKSxhLmlzQWN0aXZlJiYodD0hMCksYX0pKTtyZXR1cm4hdCYmYS5sZW5ndGgmJihhWzBdLmlzQWN0aXZlPSEwKSxhfSkodD8ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzKTtpZighbj8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IGF0KCk7YS5wdXNoKGF3YWl0IHh0KGUsdC5sYXlvdXQpKX1sZXQgbztuLmZvckVhY2goKGU9Pntjb25zdCB0PWkuZ2V0KGUucGFnZUlkKTt0P289dDphLnB1c2goZSl9KSksbyYmYXdhaXQgUHJvbWlzZS5hbGwoW1llKHtpZGVudGl0eTpvLnBhcmVudElkZW50aXR5LHBhZ2VJZDpvLnBhZ2VJZH0pLGhuKG8ucGFyZW50SWRlbnRpdHkpXSksYS5sZW5ndGgmJnMucHVzaCh7Li4udCx3b3Jrc3BhY2VQbGF0Zm9ybTp7Li4udC53b3Jrc3BhY2VQbGF0Zm9ybSxwYWdlczphfX0pfSkpO2lmKGF3YWl0IFByb21pc2UuYWxsKGMpLCFzLmxlbmd0aCYmIXIubGVuZ3RoKXJldHVybjtjb25zdCBkPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3JldHVybih0fHxkLmFwcGx5U25hcHNob3QuYmluZChkKSkoey4uLmUsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtb25pdG9ySW5mbzpufSx3aW5kb3dzOlsuLi5zLC4uLnJdfSl9KG8sYSk6YShvKX1hc3luYyBjcmVhdGVXaW5kb3codCxhKXt0LndvcmtzcGFjZVBsYXRmb3JtPy50b29sYmFyT3B0aW9ucz8uYnV0dG9ucyYmKGU9Pntjb25zdCB0PWUuZmlsdGVyKChlPT5lLnR5cGUhPT1nLkN1c3RvbSkpLGE9bmV3IFNldDtmb3IoY29uc3QgZSBvZiB0KXtpZihhLmhhcyhlLnR5cGUpKXRocm93IG5ldyBFcnJvcihgRW5jb3VudGVyZWQgYSBkdXBsaWNhdGUgb2YgJHtlLnR5cGV9IGJ1dHRvbi4gTm8gbW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBvZiBhIGJ1dHRvbiB0eXBlIG1heSBiZSBwcm92aWRlZC5gKTthLmFkZChlLnR5cGUpfX0pKHQud29ya3NwYWNlUGxhdGZvcm0udG9vbGJhck9wdGlvbnMuYnV0dG9ucyk7bGV0IG89dW4odCk7aWYobil7Y29uc3QgdD10aGlzLmdldFRoZW1lcygpO289YXdhaXQoYXN5bmMoZSx0LGEpPT57bGV0IG49ZTtjb25zdCBvPW4/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcztpZihvKXtjb25zdCBlPW8uZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2U/bi5sYXlvdXQ9ZS5sYXlvdXQ6KG9bMF0uaXNBY3RpdmU9ITAsbi5sYXlvdXQ9b1swXS5sYXlvdXQpfWlmKG4ubGF5b3V0KXtpZihuPXNuKHt9LHQuZGVmYXVsdFdpbmRvd09wdGlvbnMsbix3biksbi5sYXlvdXQ9c24obi5sYXlvdXQsZm4pLChuLmljb258fG4udGFza2Jhckljb24pJiYobi50YXNrYmFySWNvbkdyb3VwPW4udGFza2Jhckljb25Hcm91cHx8ZmluLm1lLmlkZW50aXR5LnV1aWQpLCFuLmJhY2tncm91bmRDb2xvcil7Y29uc3QgZT1hPy5wYWxldHRlO24uYmFja2dyb3VuZENvbG9yPWU/LmJhY2tncm91bmQyfHxlPy5iYWNrZ3JvdW5kUHJpbWFyeX1jb25zdCBlPW4ud29ya3NwYWNlUGxhdGZvcm0ubmV3VGFiVXJsO2lmKGUmJihuLmxheW91dC5zZXR0aW5nc3x8KG4ubGF5b3V0LnNldHRpbmdzPXt9KSxuLmxheW91dC5zZXR0aW5ncy5uZXdUYWJCdXR0b249e3VybDplfSksbj0oKGUsdCk9Pntjb25zdCBhPWU7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm18fChhLndvcmtzcGFjZVBsYXRmb3JtPXt9KSxhLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXQsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzphLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PWEuYXV0b1Nob3d8fGEuYXV0b1Nob3d9LGEuYXV0b1Nob3c9ITEsYX0pKG4sITApLCFuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgYXQoXCJVbnRpdGxlZCBQYWdlXCIpLHQ9ey4uLmF3YWl0IHh0KGUsbi5sYXlvdXQpLGlzQWN0aXZlOiEwfTtuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPVt0XX19cmV0dXJuIG4ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiYobi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcz1hd2FpdCBnbihuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLHQ/LmRlZmF1bHRQYWdlT3B0aW9ucykpLG4uY29ybmVyUm91bmRpbmcmJmRlbGV0ZSBuLmNvcm5lclJvdW5kaW5nLG59KShvLGUsdFswXSl9bz1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksYT10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QuYm90dG9tLXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC50b3Asbj10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QucmlnaHQtdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LmxlZnQ7cmV0dXJuIGUuZGVmYXVsdEhlaWdodD1lLmRlZmF1bHRIZWlnaHR8fFwiODAwXCIsZS5kZWZhdWx0V2lkdGg9ZS5kZWZhdWx0V2lkdGh8fFwiODAwXCIsYTxlLmRlZmF1bHRIZWlnaHQmJihlLmRlZmF1bHRIZWlnaHQ9YSksbjxlLmRlZmF1bHRXaWR0aCYmKGUuZGVmYXVsdFdpZHRoPW4pLGV9KShvKTtjb25zdCByPShlLHQpPT5zdXBlci5jcmVhdGVXaW5kb3coZSx0KSxpPW4/KGU9PmFzeW5jKHQsYSk9PntsZXQgbj0hMTtjb25zdCBvPWF3YWl0IGUodCxhKTtyZXR1cm4gdD8ud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM/LmRlZmVyU2hvd0VuYWJsZWQ/KGF3YWl0IG8uYWRkTGlzdGVuZXIoRC5TaG93UmVxdWVzdGVkLChhc3luYygpPT57aWYobilyZXR1cm47Y29uc3QgZT1hd2FpdCBvLmdldE9wdGlvbnMoKTthd2FpdCBvLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnsuLi5lLndvcmtzcGFjZVBsYXRmb3JtLF9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM6ey4uLmUud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucyxhdXRvU2hvdzohMH19fSksbj0hMH0pKSxvKTpvfSkocik6cjtyZXR1cm4gaShvLGEpfWFzeW5jIGNyZWF0ZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzPWRuKHQub3B0cyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cz1hd2FpdCBwbih0Lm9wdHMsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLmNyZWF0ZVZpZXcodCxhKX1hc3luYyByZXBsYWNlVmlldyh0LGEpe3JldHVybiB0Lm9wdHMubmV3Vmlldz1hd2FpdCBkbih0Lm9wdHMubmV3VmlldyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cy5uZXdWaWV3PWF3YWl0IHBuKHQub3B0cy5uZXdWaWV3LHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSxzdXBlci5yZXBsYWNlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VMYXlvdXQoZSx0KXtyZXR1cm4gZGVsZXRlIGUub3B0cy5sYXlvdXQ/LmRpbWVuc2lvbnMsc3VwZXIucmVwbGFjZUxheW91dChlLHQpfWFzeW5jIGNsb3NlVmlldyhlLHQpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmMoZS52aWV3KTthd2FpdCBzdXBlci5jbG9zZVZpZXcoZSx0KSxhd2FpdCBhLmRlc3Ryb3koKS5jYXRjaCgoZT0+ZSkpfWFzeW5jIGdldFNhdmVkUGFnZSguLi5lKXtyZXR1cm4gQ3QuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFBhZ2VzKC4uLmUpe3JldHVybiBJdC5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gQXQuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIE10LmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBPdC5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBaYS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlcyguLi5lKXtyZXR1cm4gZW4uYXBwbHkodGhpcyxlKX1hc3luYyBjcmVhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gdG4uYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gYW4uYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gbm4uYXBwbHkodGhpcyxlKX1hc3luYyBhdHRhY2hQYWdlc1RvV2luZG93KHQpe3QucGFnZXM9YXdhaXQgZ24odC5wYWdlcyxlPy5kZWZhdWx0UGFnZU9wdGlvbnMpLGF3YWl0IHplKHQpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBLYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gUWEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIHphLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gUWEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIEphLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gUWEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gWGEuYXBwbHkodGhpcyxlKX19cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG8pOm5ldyBvfTthc3luYyBmdW5jdGlvbiBrbigpeyFmdW5jdGlvbigpe2NvbnN0IGU9TCgpO2UuYWRkTGlzdGVuZXIoQi5XaW5kb3dPcHRpb25zQ2hhbmdlZCxydCksZS5hZGRMaXN0ZW5lcihCLldpbmRvd0Nsb3NlZCxpdCksZS5hZGRMaXN0ZW5lcihCLldpbmRvd0NyZWF0ZWQsaXQpLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0sXCJicm93c2VyLXdpbmRvdy1yZWFkeVwiLGl0KX0oKSxhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7YXdhaXQgZS5hZGRMaXN0ZW5lcihcIndpbmRvdy1mb2N1c2VkXCIsdmUpfSgpO3dlKGF3YWl0IGZlKCkpfWxldCBXbjtmdW5jdGlvbiBDbih7b3ZlcnJpZGVDYWxsYmFjazplLGludGVyb3BPdmVycmlkZTp0LGJyb3dzZXI6YX0pe2lmKCFTKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuXCIpO2lmKCFXbil7ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+a24oKSkpLGE/LnRpdGxlJiYobj1hLnRpdGxlLHJhPW4pLFduPWZpbi5QbGF0Zm9ybS5pbml0KHtvdmVycmlkZUNhbGxiYWNrOmJuKGEsZXx8YT8ub3ZlcnJpZGVDYWxsYmFjayksaW50ZXJvcE92ZXJyaWRlOnR8fGE/LmludGVyb3BPdmVycmlkZX0pLChhc3luYyBlPT57Sih6LlBsYXRmb3JtLGUpfSkoe2FsbG93ZWQ6ITB9KX12YXIgbjtyZXR1cm4gV259Y29uc3QgSW49YXN5bmMoe3RoZW1lOmUsY3VzdG9tQWN0aW9uczp0LC4uLmF9KT0+e2NvbnN0IG49Ty5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpLG89YXdhaXQoYXN5bmMgZT0+bmV3IFByb21pc2UoKGFzeW5jIHQ9PnsoYXdhaXQgWigpKS5kaXNhYmxlUnVudGltZVZhbGlkYXRpb24mJnQoITApO2NvbnN0IGE9KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0VmVyc2lvbigpKS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpO3QoZS5ldmVyeSgoKHQsbik9PiEobjwzKXx8YVtuXT09PWVbbl0pKSl9KSkpKG4pO3ZhciByO2lmKGUmJigocj1lKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnk7aWYoIXQuaW5jbHVkZXMoXCIjXCIpJiYhdC5pbmNsdWRlcyhcInJnYlwiKSYmIXQuaW5jbHVkZXMoXCJoc2xcIikpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBwcmltYXJ5IGNvbG9yIGlzIG5vdCB0aGUgcmlnaHQgZm9ybWF0LlwiKX0pKSxTbj1yLChhc3luYyBlPT57Sih6LlRoZW1pbmcsZSl9KSh7YWxsb3dlZDohMH0pKSx0JiYoc3Q9dCksbylyZXR1cm4gQ24oYSk7dGhyb3cgbmV3IEVycm9yKGBSdW50aW1lIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZC4gICR7blswXX0uJHtuWzFdfS4ke25bMl19LiogaXMgcmVxdWlyZWRgKX19KSgpLG1vZHVsZS5leHBvcnRzPW59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezcwMzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtDTElBY3Rpb246KCk9PmwuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+bC5lbCxDTElUZW1wbGF0ZTooKT0+bC55VyxkZXJlZ2lzdGVyOigpPT5ldCxoaWRlOigpPT5udCxyZWdpc3RlcjooKT0+WWUsc2hvdzooKT0+dHR9KTt2YXIgbz17fTtuLnIobyksbi5kKG8se3N1YnNjcmliZTooKT0+YWV9KTt2YXIgcj17fTtuLnIociksbi5kKHIse2NyZWF0ZTooKT0+SGV9KTt2YXIgaT1uKDY3OCkscz1uKDUzMiksYT1uKDQzNik7Y29uc3QgYz1cImhvbWVcIjt2YXIgZDshZnVuY3Rpb24oZSl7ZS5Db21tYW5kcz1cImhvbWUtY29tbWFuZHNcIn0oZHx8KGQ9e30pKTt2YXIgdSxwPW4oODA2KSxsPShuKDI5OCksbig3NTgpKTtuKDExNCksbigxMDkpLG4oNDI3KTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0odXx8KHU9e30pKTt2YXIgZj1uKDMxNik7Y29uc3Qgdz1cImFsbFwiLGc9XCIwXCIsaD1cIjVcIix5PVwiNlwiLHY9KCk9Pnt9O2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4gZT9gJHtlfS0ke3R9YDp0fWZ1bmN0aW9uIFMoZSl7cmV0dXJuYF9fc2VhcmNoLSR7ZX0tdG9waWNfX2B9Y29uc3QgUD1uZXcgTWFwO2Z1bmN0aW9uIEMoZSx0KXtQLmhhcyhlKXx8UC5zZXQoZSxuZXcgU2V0KSxQLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gayhlLHQpe2NvbnN0IG49UC5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgVz1uZXcgTWFwO2Z1bmN0aW9uIFIoZSx0KXtXLmhhcyhlKXx8Vy5zZXQoZSxuZXcgU2V0KSxXLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gVChlLHQpe2NvbnN0IG49Vy5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgST1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGIoZSx0KXtJLmhhcyhlKXx8SS5zZXQoZSxuZXcgTWFwKSxJLmdldChlKS5zZXQodC5pZCx0KTtjb25zdCBuPVAuZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCBvPVsuLi5uXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pfWFzeW5jIGZ1bmN0aW9uIEQoZSx0KXtjb25zdCBuPUkuZ2V0KGUpO2lmKCFuKXJldHVybjtuLmRlbGV0ZSh0KTtjb25zdCBvPVcuZ2V0KGUpO2lmKCFvKXJldHVybjtjb25zdCByPVsuLi5vXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKHIpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIEkuZ2V0KGUpP1suLi5JLmdldChlKS52YWx1ZXMoKV06W119ZnVuY3Rpb24gRihlKXtjb25zdCB0PUkuZ2V0KGUpO3QmJnQuY2xlYXIoKX1mdW5jdGlvbiBMKGUsdCl7Y29uc3Qgbj1JLmdldChlKTtyZXR1cm4gbj9uLmdldCh0KTpudWxsfWZ1bmN0aW9uIEEoZSx0LG4pe3JldHVybnsuLi5lLGFjdGlvbjpufHx7Li4uZS5hY3Rpb25zWzBdLHRyaWdnZXI6Zi5weC5Vc2VyQWN0aW9ufSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24gTyhlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCBvPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIG87Y29uc3Qgcj1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO3IucHVzaChlKX0pKTtsZXQgcz1vLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5yKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCktKG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKSkpOnMuc29ydCgoKGUsdCk9PihudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCktKG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKSkpLHN9ZnVuY3Rpb24geChlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCBvPVtdO2xldCByPXUuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+cix0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9Pm8sdC5zZXRSZXZva2VkQnVmZmVyPWU9PntvPWUsbz8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9djtjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntyIT09dS5DbG9zZSYmKHI9dS5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntyIT09dS5PcGVuJiYocj11Lk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCBvPU8odC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKG8pfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSksbz10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIobyksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gRShlLHQsbil7Y29uc3Qgbz1uZXcgU2V0O2xldCByPSExO3JldHVybntjbG9zZTooKT0+e3I9ITA7Zm9yKGNvbnN0IGUgb2YgbyllKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntvLmFkZChlKSxyJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntvLmRlbGV0ZShlKX19fX1mdW5jdGlvbiBWKCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24gTSgpe2xldCBlO3RyeXtjb25zdCB0PWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKCF0Py5pZGVudGl0eSlyZXR1cm47ZT10LmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IF89XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIiwkPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtffWApLHE9bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLEc9bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIiksSD1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIiksTj1uZXcgRXJyb3IoYGNoYW5uZWwgJHtffWApLFU9bmV3IE1hcDtmdW5jdGlvbiBqKGUpe2NvbnN0IHQ9WChlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gWChlKXtjb25zdCB0PVUuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gSyhlLHQpe1Uuc2V0KGUsdCl9Y29uc3QgSj1uZXcgTWFwO2Z1bmN0aW9uIHooZSl7Si5oYXMoZSl8fEouc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD1KLmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIFooZSx0KXtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goZyx0KX1mdW5jdGlvbiBRKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1MLmJpbmQobnVsbCxlKSxvPXooZSkscj1aLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT1HO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT0kO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9by5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PUUodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IHA9eCgpLGw9KCk9Pntjb25zdCBlPXAuZ2V0UmVzdWx0QnVmZmVyKCk7cC5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9cC5nZXRSZXZva2VkQnVmZmVyKCk7cC5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPXAuZ2V0U3RhdHVzKCk7cih7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgZj0hMCx3PSExO3Aub25DaGFuZ2U9KCk9PntpZihmKXJldHVybiBmPSExLHZvaWQgbCgpO3d8fCh3PSEwLHNldFRpbWVvdXQoKCgpPT57dz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEscC5yZXMpLG49cC5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmUubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiBZKGUsdCxuKXtjb25zdCBvPW58fGF3YWl0IGooZSkscj1WKCksaT17aWRlbnRpdHk6ciwuLi50LG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0scz1hd2FpdCBvLmRpc3BhdGNoKFwiMlwiLGkpO3JldHVybiBhd2FpdCBiKGUse2lkZW50aXR5OnIsLi4udH0pLHN9YXN5bmMgZnVuY3Rpb24gZWUoZSx0KXtjb25zdCBuPWF3YWl0IGooZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksRChlLHQpfWFzeW5jIGZ1bmN0aW9uIHRlKGUsdCxuLG8pe2NvbnN0IHI9QShuLFYoKSxvKSxpPUwoZSx0KTtpZihpKXtjb25zdHtvblJlc3VsdERpc3BhdGNoOmV9PWk7aWYoIWUpcmV0dXJuO3JldHVybiBlKHIpfWNvbnN0IHM9e3Byb3ZpZGVySWQ6dCxyZXN1bHQ6cn07cmV0dXJuKGF3YWl0IGooZSkpLmRpc3BhdGNoKGgscyl9YXN5bmMgZnVuY3Rpb24gbmUoZSx0KXtjb25zdCBuPXsuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e319LG89e30scj1hc3luYyBmdW5jdGlvbiooZSx0LHtzZXRTdGF0ZTpufSl7Y29uc3Qgbz1hd2FpdCBqKGUpO2Zvcig7Oyl7Y29uc3QgZT1hd2FpdCBvLmRpc3BhdGNoKFwiMVwiLHQpLHI9ZS5lcnJvcjtpZihyKXRocm93IG5ldyBFcnJvcihyKTtjb25zdCBpPWU7aWYodC5pZD1pLmlkLG4oaS5zdGF0ZSksaS5kb25lKXJldHVybiBpLnZhbHVlO3lpZWxkIGkudmFsdWV9fShlLG4se3NldFN0YXRlOmU9PntvLnN0YXRlPWV9fSk7bGV0IGk9YXdhaXQgci5uZXh0KCk7cmV0dXJuIG8uaWQ9bi5pZCxvLmNsb3NlPSgpPT57IWFzeW5jIGZ1bmN0aW9uKGUsdCl7KGF3YWl0IGooZSkpLmRpc3BhdGNoKHkse2lkOnR9KX0oZSxvLmlkKX0sby5uZXh0PSgpPT57aWYoaSl7Y29uc3QgZT1pO3JldHVybiBpPXZvaWQgMCxlfXJldHVybiByLm5leHQoKX0sb31hc3luYyBmdW5jdGlvbiBvZShlKXtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goXCI0XCIsbnVsbCl9YXN5bmMgZnVuY3Rpb24gcmUoZSl7Y29uc3QgdD1hd2FpdCBqKGUpO3ZhciBuO249ZSxVLmRlbGV0ZShuKSxGKGUpLGF3YWl0IHQuZGlzY29ubmVjdCgpfWZ1bmN0aW9uIGllKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49eih0KTtyZXR1cm4gYXN5bmMgbz0+e2lmKCFYKHQpKXJldHVybjtjb25zdCByPW4uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShvKTtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiByLnZhbHVlcygpKXQoKSxyLmRlbGV0ZShlLmlkKTtLKHQsKGFzeW5jIGU9Pntjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWF3YWl0IHNlKGUpO2Zvcihjb25zdCBlIG9mIEIodCkpYXdhaXQgWSh0LGUsbik7cmV0dXJuIG59KShlKSl9fWFzeW5jIGZ1bmN0aW9uIHNlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49Uyh0KSxvPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8NTA7dCsrKXRyeXtyZXR1cm4gYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3dhaXQ6ITF9KX1jYXRjaChlKXtpZig0OT09PXQpdGhyb3cgZTthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDFlMykpKX19KG4pO3JldHVybiBvLnJlZ2lzdGVyKGcsUShlKSksby5yZWdpc3Rlcih5LGZ1bmN0aW9uKGUpe2NvbnN0IHQ9eihlKTtyZXR1cm4oZSxuKT0+e2NvbnN0IG89dC5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG4pLHI9by5nZXQoZS5pZCk7ciYmKHIuY2xvc2UoKSxvLmRlbGV0ZShlLmlkKSl9fSh0KSksby5yZWdpc3RlcihoLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgbz1MKGUsdC5wcm92aWRlcklkKTtpZighbylyZXR1cm47Y29uc3R7b25SZXN1bHREaXNwYXRjaDpyfT1vO3JldHVybiByPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixyKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLG8ub25EaXNjb25uZWN0aW9uKGllKGUpKSxvfWFzeW5jIGZ1bmN0aW9uIGFlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx3LG49KFwic3RyaW5nXCI9PXR5cGVvZiBlP251bGw6ZT8udXVpZCl8fE0oKSxvPW0obix0KSxyPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpvfTtsZXQgaT1YKG8pO3JldHVybiBpfHwoaT1zZShyKSxLKG8saSksYXdhaXQgaSkse2dldEFsbFByb3ZpZGVyczpvZS5iaW5kKG51bGwsbykscmVnaXN0ZXI6WS5iaW5kKG51bGwsbyksc2VhcmNoOm5lLmJpbmQobnVsbCxvKSxkZXJlZ2lzdGVyOmVlLmJpbmQobnVsbCxvKSxkaXNwYXRjaDp0ZS5iaW5kKG51bGwsbyksZGlzY29ubmVjdDpyZS5iaW5kKG51bGwsbyl9fWNvbnN0IGNlPW5ldyBNYXA7ZnVuY3Rpb24gZGUoZSl7Y29uc3QgdD11ZShlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gdWUoZSl7Y29uc3QgdD1jZS5nZXQoZSk7aWYodClyZXR1cm4gdH1jb25zdCBwZT1uZXcgTWFwO2Z1bmN0aW9uIGxlKGUsdCl7cGUuaGFzKGUpfHxwZS5zZXQoZSxuZXcgU2V0KSxwZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIGZlKGUsdCl7Y29uc3Qgbj1wZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gd2UoZSl7cmV0dXJuWy4uLkIoZSldLm1hcCgoZT0+KHsuLi5lLG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0pKSl9YXN5bmMgZnVuY3Rpb24gZ2UoZSx0KXtpZihMKGUsdC5pZCkpdGhyb3cgbmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpO2NvbnN0IG49VigpO2F3YWl0IGIoZSx7aWRlbnRpdHk6biwuLi50fSl9ZnVuY3Rpb24gaGUoZSx0KXtEKGUsdCl9YXN5bmMgZnVuY3Rpb24geWUoZSx0LG4sbyl7Y29uc3Qgcj1MKGUsdCk7aWYoIXIpdGhyb3cgJDtjb25zdHtvblJlc3VsdERpc3BhdGNoOml9PXI7aWYoIWkpcmV0dXJuO3JldHVybiBpKEEobixWKCksbykpfWFzeW5jIGZ1bmN0aW9uKnZlKGUsdCxuKXtjb25zdCBvPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxvPVtdLHI9W10saT1bXTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXgocy5zY29yZU9yZGVyKSxhPXtyZXN1bHRzOltdLHByb3ZpZGVyOntpZDpzLmlkLGlkZW50aXR5OnMuaWRlbnRpdHksdGl0bGU6cy50aXRsZSxzY29yZU9yZGVyOnMuc2NvcmVPcmRlcixpY29uOnMuaWNvbixkaXNwYXRjaEZvY3VzRXZlbnRzOnMuZGlzcGF0Y2hGb2N1c0V2ZW50c319O24ucHVzaChhKSxvLnB1c2goZSk7Y29uc3QgYz0oYXN5bmMoKT0+e3RyeXtjb25zdHtyZXN1bHRzOm4sY29udGV4dDpvfT1hd2FpdCBzLm9uVXNlcklucHV0KHQsZS5yZXMpO2EucmVzdWx0cz1PKGEucmVzdWx0cyxuKSxhLmNvbnRleHQ9ey4uLmEuY29udGV4dCwuLi5vfX1jYXRjaChlKXthLmVycm9yPWV9fSkoKTtjLmZpbmFsbHkoKCgpPT57Yy5kb25lPSEwfSkpLGkucHVzaChjKSxyLnB1c2goci5sZW5ndGgpfXJldHVybntwcm92aWRlclJlc3BvbnNlczpuLGxpc3RlbmVyUmVzcG9uc2VzOm8sb3Blbkxpc3RlbmVyUmVzcG9uc2VzOnIsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6aX19KHQudGFyZ2V0cz90LnRhcmdldHMubWFwKCh0PT5MKGUsdCkpKS5maWx0ZXIoKGU9PiEhZSkpOlsuLi5CKGUpLmZpbHRlcigoZT0+IWUuaGlkZGVuKSldLHQpLHtwcm92aWRlclJlc3BvbnNlczpyLGxpc3RlbmVyUmVzcG9uc2VzOml9PW87bGV0e29wZW5MaXN0ZW5lclJlc3BvbnNlczpzLGluaXRpYWxSZXNwb25zZVByb21pc2VzOmF9PW8sYz1mLkRlLkZldGNoaW5nO2NvbnN0IGQ9ZT0+e2M9ZSxuLnNldFN0YXRlKGMpfTtsZXQgcCxsPSExO3Qub25DbG9zZSgoKCk9PntsPSEwLHAmJnAoKX0pKTtkb3tsZXQgZT0hMTtpZihhLmxlbmd0aCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBhKW4uZG9uZT9lPSEwOnQucHVzaChuKTthPXQsYS5sZW5ndGh8fChkKGYuRGUuRmV0Y2hlZCksZT0hMCl9bGV0IHQsbj0hMTtjb25zdCBvPSgpPT57bj0hMCx0JiZ0KCl9LHc9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1pW3RdLHM9clt0XSxhPW4uZ2V0U3RhdHVzKCk7KGE9PT11Lk9wZW58fGM9PT1mLkRlLkZldGNoaW5nJiZhPT09dS5Jbml0aWFsKSYmKHcucHVzaCh0KSxuLm9uQ2hhbmdlPW8pO2NvbnN0IGQ9bi5nZXRSZXN1bHRCdWZmZXIoKTtkLmxlbmd0aCYmKG4uc2V0UmVzdWx0QnVmZmVyKFtdKSxzLnJlc3VsdHM9TyhzLnJlc3VsdHMsZCksZT0hMCk7Y29uc3QgcD1uLmdldFJldm9rZWRCdWZmZXIoKTtpZihwLmxlbmd0aCl7bi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCB0PW5ldyBTZXQocCk7cy5yZXN1bHRzPXMucmVzdWx0cy5maWx0ZXIoKCh7a2V5OmV9KT0+IXQuaGFzKGUpKSksZT0hMH19aWYocz13LGUmJih5aWVsZCByKSxsKWJyZWFrO258fChzLmxlbmd0aHx8YS5sZW5ndGgpJiZhd2FpdCBQcm9taXNlLnJhY2UoWy4uLmEsbmV3IFByb21pc2UoKGU9Pnt0PWV9KSksbmV3IFByb21pc2UoKGU9PntwPWV9KSldKX13aGlsZShzLmxlbmd0aHx8YS5sZW5ndGgpO3JldHVybiBkKGYuRGUuQ29tcGxldGUpLHJ9bGV0IG1lPTA7ZnVuY3Rpb24gU2Uoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9LG4pe21lKz0xO2NvbnN0IG89RSh0LG1lLnRvU3RyaW5nKCksbikscj12ZShlLG8ucmVxLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO3JldHVybiByLmlkPW1lLnRvU3RyaW5nKCksci5jbG9zZT1vLmNsb3NlLHIuc3RhdGU9Zi5EZS5GZXRjaGluZyxyfWNvbnN0IFBlPW5ldyBNYXA7ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm5gJHtlfToke3R9YH1mdW5jdGlvbiBrZShlKXtyZXR1cm4gYXN5bmModCwuLi5uKT0+e2lmKCF0KXJldHVybntlcnJvcjpHLm1lc3NhZ2V9O2xldCBvO2lmKHQuaWQpbz1DZShlLm5hbWVzcGFjZWRUb3BpYyx0LmlkKTtlbHNle2NvbnN0IG49U2UoZSx0KTtvPUNlKGUubmFtZXNwYWNlZFRvcGljLG4uaWQpLHQuaWQ9bi5pZCxQZS5zZXQobyx7Z2VuZXJhdG9yOm59KX1jb25zdCByPVBlLmdldChvKTtjbGVhclRpbWVvdXQoci50aW1lb3V0KTtjb25zdCBpPWF3YWl0IHIuZ2VuZXJhdG9yLm5leHQoKTtyZXR1cm4gci50aW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCgoKCk9PntQZS5kZWxldGUoZSl9KSwxZTQpfShvKSx7Li4uaSxpZDp0LmlkLHN0YXRlOnIuZ2VuZXJhdG9yLnN0YXRlfX19ZnVuY3Rpb24gV2UoZSx0LG4pe3JldHVybiBkZShlKS5kaXNwYXRjaCh0LHkse2lkOm59KX1mdW5jdGlvbiBSZShlKXtyZXR1cm4gdD0+ZnVuY3Rpb24oZSx0KXtjb25zdCBuPUNlKGUsdCksbz1QZS5nZXQobik7byYmby5nZW5lcmF0b3IuY2xvc2UoKX0oZSx0LmlkKX1hc3luYyBmdW5jdGlvbiBUZShlLHQse2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppfSl7Y29uc3Qgcz1kZShlKSxhPXtpZDpuLHF1ZXJ5Om8sY29udGV4dDpyLHRhcmdldHM6aSxwcm92aWRlcklkOnQuaWR9LGM9YXdhaXQgcy5kaXNwYXRjaCh0LmlkZW50aXR5LGcsYSksZD1jLmVycm9yO2lmKGQpdGhyb3cgbmV3IEVycm9yKGQpO3JldHVybiBjfWNvbnN0IEllPW5ldyBNYXA7ZnVuY3Rpb24gYmUoZSx0LG4pe3JldHVybmAke2V9OiR7dC5uYW1lfToke3QudXVpZH06JHtufWB9Y29uc3QgRGU9bmV3IE1hcDtmdW5jdGlvbiBCZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0fToke259YH1mdW5jdGlvbiBGZShlLHQpe2NvbnN0IG49YmUuYmluZChudWxsLGUsdC5pZGVudGl0eSksbz1XZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPVRlLmJpbmQobnVsbCxlLHQpO3JldHVybiBhc3luYyhpLHMpPT57Y29uc3QgYT1uKGkuaWQpO2lmKCFJZS5oYXMoYSkpe2NvbnN0IGU9KCk9PntvKGkuaWQpLEllLmRlbGV0ZShhKX07SWUuc2V0KGEsZSksaS5vbkNsb3NlKGUpfWNvbnN0IGM9QmUoZSx0LmlkLGkuaWQpLGQ9KCk9PntEZS5kZWxldGUoYykscy5jbG9zZSgpfTtpLm9uQ2xvc2UoZCksRGUuc2V0KGMsKGU9PntlLnJlc3VsdHM/Lmxlbmd0aCYmcy5yZXNwb25kKGUucmVzdWx0cyksZS5yZXZva2VkPy5sZW5ndGgmJnMucmV2b2tlKC4uLmUucmV2b2tlZCksZS5zdGF0dXM9PT11Lk9wZW4mJnMub3BlbigpLGUuc3RhdHVzPT09dS5DbG9zZSYmZCgpfSkpO2NvbnN0IHA9YXdhaXQgcihpKTtyZXR1cm4gcC5zdGF0dXM9PT11Lk9wZW4mJnMub3BlbigpLHAuc3RhdHVzIT09dS5DbG9zZSYmcC5zdGF0dXMhPT11LkluaXRpYWx8fGQoKSxwfX1mdW5jdGlvbiBMZShlLHQpe3JldHVybiBhc3luYyBuPT57Y29uc3Qgbz1kZShlKSxyPXtwcm92aWRlcklkOnQuaWQscmVzdWx0Om59O3JldHVybiBvLmRpc3BhdGNoKHQuaWRlbnRpdHksaCxyKX19Y29uc3QgQWU9bmV3IE1hcDtmdW5jdGlvbiBPZShlLHQpe3JldHVybmAke2V9LSR7dC5uYW1lfS0ke3QudXVpZH1gfWZ1bmN0aW9uIHhlKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LmlkKXJldHVybiB2b2lkIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh0KSk7aWYoTChlLHQuaWQpKXRocm93IHE7cmV0dXJuIHQuaWRlbnRpdHk9bixhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0LmlkZW50aXR5KTtBZS5oYXMobil8fEFlLnNldChuLFtdKSxBZS5nZXQobikucHVzaCh0LmlkKSxhd2FpdCBiKGUsey4uLnQsb25Vc2VySW5wdXQ6RmUoZSx0KSxvblJlc3VsdERpc3BhdGNoOkxlKGUsdCl9KX0oZSx0KSx7d29ya3NwYWNlVmVyc2lvbjppLnUwLGNsaWVudEFQSVZlcnNpb246dC5jbGllbnRBUElWZXJzaW9ufX19ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIHQ9Pnt0JiZmdW5jdGlvbihlLHQpe2NvbnN0IG49TChlLHQpO2lmKCFuKXJldHVybjtjb25zdCBvPU9lKGUsbi5pZGVudGl0eSkscj1BZS5nZXQobyk7aWYocil7Y29uc3Qgbj1yLmZpbmRJbmRleCgoZT0+ZT09PXQpKTstMSE9PW4mJihyLnNwbGljZShuLDEpLEQoZSx0KSl9fShlLHQpfX1jb25zdCBWZT1uZXcgTWFwO2Z1bmN0aW9uIE1lKGUsdCl7VmUuaGFzKGUpfHxWZS5zZXQoZSxuZXcgU2V0KSxWZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIF9lKGUsdCl7Y29uc3Qgbj1WZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gJGUoZSl7cmV0dXJuIGFzeW5jIHQ9PnshZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9lKGUsdCksbz1BZS5nZXQobik7aWYobyl7Zm9yKGNvbnN0IHQgb2YgbylEKGUsdCk7QWUuZGVsZXRlKG4pfX0oZSx0KTtjb25zdCBuPVZlLmdldChlKTtuJiZuLmZvckVhY2goKGU9PmUodCkpKX19YXN5bmMgZnVuY3Rpb24gcWUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1TKGUubmFtZXNwYWNlZFRvcGljKSxvPWF3YWl0KHI9bixmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNyZWF0ZShyKSk7dmFyIHI7cmV0dXJuIG8ub25Db25uZWN0aW9uKGZ1bmN0aW9uKHtuYW1lc3BhY2VkVG9waWM6ZX0pe3JldHVybiBhc3luYyB0PT57Y29uc3Qgbj1wZS5nZXQoZSk7aWYobilmb3IoY29uc3QgZSBvZiBuKWlmKCFhd2FpdCBlKHQpKXRocm93IEh9fShlKSksby5vbkRpc2Nvbm5lY3Rpb24oJGUodCkpLG8ucmVnaXN0ZXIoeSxSZSh0KSksby5yZWdpc3RlcihnLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj1CZShlLHQucHJvdmlkZXJJZCx0LmlkKSxvPURlLmdldChuKTtvJiZvKHQpfX0odCkpLG8ucmVnaXN0ZXIoXCIyXCIseGUodCkpLG8ucmVnaXN0ZXIoXCIzXCIsRWUodCkpLG8ucmVnaXN0ZXIoXCI0XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKCk9PndlKGUpfSh0KSksby5yZWdpc3RlcihcIjFcIixrZShlKSksby5yZWdpc3RlcihoLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgbz1MKGUsdC5wcm92aWRlcklkKTtpZighbyl0aHJvdyAkO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6cn09bztyZXR1cm4gcj8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4scih0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxvfWFzeW5jIGZ1bmN0aW9uIEdlKGUpe2NvbnN0IHQ9ZGUoZSk7dmFyIG47bj1lLGNlLmRlbGV0ZShuKSxhd2FpdCB0LmRlc3Ryb3koKSxGKGUpfWFzeW5jIGZ1bmN0aW9uIEhlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx3LG49TSgpLG89bShuLHQpLHI9e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOm99O2xldCBpPXVlKG8pO2l8fChpPWF3YWl0IHFlKHIpLGZ1bmN0aW9uKGUsdCl7Y2Uuc2V0KGUsdCl9KG8saSkpO2NvbnN0IHM9ZmUuYmluZChudWxsLG8pLGE9X2UuYmluZChudWxsLG8pLGM9ay5iaW5kKG51bGwsbyksZD1ULmJpbmQobnVsbCxvKTtyZXR1cm57Z2V0QWxsUHJvdmlkZXJzOndlLmJpbmQobnVsbCxvKSxzZWFyY2g6U2UuYmluZChudWxsLHIpLHJlZ2lzdGVyOmdlLmJpbmQobnVsbCxvKSxkZXJlZ2lzdGVyOmhlLmJpbmQobnVsbCxvKSxvblN1YnNjcmlwdGlvbjpsZS5iaW5kKG51bGwsbyksb25EaXNjb25uZWN0Ok1lLmJpbmQobnVsbCxvKSxvblJlZ2lzdGVyOkMuYmluZChudWxsLG8pLG9uRGVyZWdpc3RlcjpSLmJpbmQobnVsbCxvKSxkaXNwYXRjaDp5ZS5iaW5kKG51bGwsciksZGlzY29ubmVjdDpHZS5iaW5kKG51bGwsbykscmVtb3ZlTGlzdGVuZXI6ZT0+e3MoZSksYShlKSxjKGUpLGQoZSl9fX1jb25zdHtjcmVhdGU6TmV9PXIse3N1YnNjcmliZTpVZX09byxqZT17Y3JlYXRlOk5lLHN1YnNjcmliZTpVZSxkZWZhdWx0VG9waWM6XCJhbGxcIn0sWGU9KCk9Pnt3aW5kb3cuc2VhcmNoPWplfSxLZT1lPT57Y29uc3QgdD0oKT0+e1hlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1hlKCk7Y29uc3QgZT1cImxvYWRcIix0PUtlKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixvPUtlKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4sbyl9Y29uc3QgSmU9bmV3IE1hcDthc3luYyBmdW5jdGlvbiB6ZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0plLnNldChlLGF3YWl0IFVlKHt0b3BpYzplLHV1aWQ6cC5xOS5Xb3Jrc3BhY2V9KSl9KGMpfWxldCBaZTthc3luYyBmdW5jdGlvbiBRZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gWmV8fChaZT16ZSgpKSxaZX0oKSxKZS5nZXQoZSl9Y29uc3QgWWU9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAsYS5hQikoKTtjb25zdCB0PWF3YWl0IFFlKGMpO3RyeXtlLmNsaWVudEFQSVZlcnNpb249aS51MDtjb25zdCBuPWF3YWl0IHQucmVnaXN0ZXIoZSk7cmV0dXJuKDAscy5jaykoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbn1jYXRjaChlKXt0aHJvdygwLHMuY2spKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZS5tZXNzYWdlfSksZX19LGV0PWFzeW5jIGU9Pnthd2FpdCgwLGEuYUIpKCk7cmV0dXJuKGF3YWl0IFFlKGMpKS5kZXJlZ2lzdGVyKGUpfTthc3luYyBmdW5jdGlvbiB0dCgpe3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuU2hvd0hvbWUsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiBudCgpe3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuSGlkZUhvbWUsdm9pZCAwKX19LDI5ODooZSx0LG4pPT57bi5kKHQse3A6KCk9Pm8ucHgsdzooKT0+by53dH0pO3ZhciBvPW4oMzE2KX0sNDI3OihlLHQsbik9Pnt2YXIgbztuLmQodCx7djooKT0+b30pLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KG98fChvPXt9KSl9LDc1ODooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtQdDooKT0+byxlbDooKT0+aSx5VzooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sMTE0OihlLHQsbik9Pnt2YXIgbyxyO24uZCh0LHtMOigpPT5vLFQ6KCk9PnJ9KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShyfHwocj17fSkpfSwxMDk6KGUsdCxuKT0+e24uZCh0LHtHbzooKT0+cixaSjooKT0+cyxiSTooKT0+aSxwNjooKT0+b30pO2NvbnN0IG89e0NvbnRhaW5lcjpcIkNvbnRhaW5lclwiLEJ1dHRvbjpcIkJ1dHRvblwifSxyPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxpPXsuLi5vLC4uLnJ9O3ZhciBzOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oc3x8KHM9e30pKX0sNTI4OihlLHQsbik9PntuLnIodCksbi5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+cy5MLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+cy5ULGRlcmVnaXN0ZXI6KCk9PmcsaGlkZTooKT0+aCxyZWdpc3RlcjooKT0+dyxzaG93OigpPT55fSk7dmFyIG89big1MzIpLHI9big0MzYpLGk9big4Mikscz1uKDExNCksYT1uKDY3OCk7bGV0IGMsZD0hMTthc3luYyBmdW5jdGlvbiB1KGUsdCxuKXtjb25zdCBvPWF3YWl0KDAsci5EbSkoKTt0cnl7cmV0dXJuIGF3YWl0IG8uZGlzcGF0Y2goZS5hY3Rpb24sZS5wYXlsb2FkKX1jYXRjaChyKXtpZigtMSE9PXIudG9TdHJpbmcoKS5pbmRleE9mKGUuYWN0aW9uKSlyZXR1cm4gZD0hMCxhd2FpdCBvLmRpc3BhdGNoKHQuYWN0aW9uLHQucGF5bG9hZCksbjt0aHJvdyByfX1jb25zdCBwPW5ldyBNYXAsbD1lPT57aWYoIXAuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcC5nZXQoZSl9LGY9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxyLlhsKSgpO2lmKHAuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIHAuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+bChlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5sKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihyLldGLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5sKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+bChlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKHIuV0YuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+bChlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSxlLmNsaWVudEFQSVZlcnNpb249YS51MCx1KHthY3Rpb246ci5XRi5SZWdpc3RlclByb3ZpZGVyLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnQsaW5mbzplfX0se2FjdGlvbjpyLldGLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLHBheWxvYWQ6ZX0se3dvcmtzcGFjZVZlcnNpb246XCJ1bmtub3duXCJ9KX0sdz1lPT4oYz1uZXcgUHJvbWlzZSgoYXN5bmModCxuKT0+e3RyeXtjb25zdCBuPWF3YWl0IGYoZSk7KDAsby5kOSkoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksdCh7Y2xpZW50QVBJVmVyc2lvbjphLnUwLHdvcmtzcGFjZVZlcnNpb246bi53b3Jrc3BhY2VWZXJzaW9ufHxcIlwifSl9Y2F0Y2goZSl7KDAsby5kOSkoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxuKGUpfX0pKSxjKSxnPWFzeW5jIGU9Pihhd2FpdCBjLHAuZGVsZXRlKGUpLGF3YWl0KDAsci5hQikoKSx1KHthY3Rpb246ci5XRi5EZXJlZ2lzdGVyUHJvdmlkZXIscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udCxpZDplfX0se2FjdGlvbjpyLldGLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIscGF5bG9hZDplfSkpLGg9YXN5bmMoKT0+KGF3YWl0IGMsYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLkhpZGVQcm92aWRlcldpbmRvdyxwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250fX0se2FjdGlvbjpyLldGLkhpZGVTdG9yZWZyb250fSkpLHk9YXN5bmMoKT0+KGF3YWl0IGMsYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLlNob3dQcm92aWRlcldpbmRvdyxwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250fX0se2FjdGlvbjpyLldGLlNob3dTdG9yZWZyb250fSkpfSw0MzY6KGUsdCxuKT0+e24uZCh0LHtXRjooKT0+cyxEbTooKT0+YSxYbDooKT0+cCxhQjooKT0+dX0pO3ZhciBvPW4oNjc4KTtjb25zdCByPW8uQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclByb3ZpZGVyPVwicmVnaXN0ZXItcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJQcm92aWRlcj1cImRlcmVnaXN0ZXItcHJvdmlkZXJcIixlLkNyZWF0ZVByb3ZpZGVyV2luZG93PVwiY3JlYXRlLXByb3ZpZGVyLXdpbmRvd1wiLGUuR2V0UHJvdmlkZXJzPVwiZ2V0LXByb3ZpZGVyc1wiLGUuU2hvd1Byb3ZpZGVyV2luZG93PVwic2hvdy1wcm92aWRlci13aW5kb3dcIixlLkhpZGVQcm92aWRlcldpbmRvdz1cImhpZGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwiLGUuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwiZGVyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5IaWRlU3RvcmVmcm9udD1cImhpZGUtc3RvcmVmcm9udFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIW8uc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgcjtjb25zdCBuPXtjbGllbnRBUElWZXJzaW9uOm8udTB9LGk9YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3BheWxvYWQ6bn0pO3JldHVybiBpLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLGl9KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgobj0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke259YCl9KSkpLHR9fShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1cImlzTGF1bmNoZWRWaWFMaWJcIixkPWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChjLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHU9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLGkuSlYpKGkuaVcpKXJldHVybihvLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKG8uYVcpKSxmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKG8uR1gpKX0scD1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDgyOihlLHQsbik9PntuLmQodCx7Ujg6KCk9PnMsWF86KCk9PmksbFA6KCk9Pm99KTt2YXIgbyxyPW4oNDM2KTshZnVuY3Rpb24oZSl7ZS5TdG9yZWZyb250PVwic3RvcmVmcm9udFwiLGUuRG9jaz1cImRvY2tcIn0ob3x8KG89e30pKTtjb25zdCBpPWFzeW5jIGU9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuV0YuU2hvd1Byb3ZpZGVyV2luZG93LHtwcm92aWRlclR5cGU6ZX0pLHM9YXN5bmMgZT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5XRi5IaWRlUHJvdmlkZXJXaW5kb3cse3Byb3ZpZGVyVHlwZTplfSl9LDgwNjooZSx0LG4pPT57bi5kKHQse3E5OigpPT5vfSk7dmFyIG8scixpLHM9big2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixvLldvcmtzcGFjZX0sNjc4OihlLHQsbik9Pnt2YXIgbztuLmQodCx7QUI6KCk9PmEsQXg6KCk9PmksR1g6KCk9PnUsWks6KCk9PmQsYVc6KCk9PnAsb0M6KCk9PmMsc1M6KCk9PnIsdTA6KCk9PmZ9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KG98fChvPXt9KSk7Y29uc3Qgcj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46by5Mb2NhbCxhPXImJmZpbi5tZS51dWlkLGM9ciYmZmluLm1lLm5hbWUsZD0ociYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1vLkxvY2FsKSx1PShvLkRldixvLlN0YWdpbmcsby5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxwPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjE0L2FwcC5qc29uXCIsbD1lPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOnMrZSxmPShsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjE0XCIpLGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuMTRcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiOS4wLjE0XCIpfSw1MzI6KGUsdCxuKT0+e24uZCh0LHtXbjooKT0+ZCxjazooKT0+YSxkOTooKT0+Y30pO3ZhciBvLHI9big2NzgpLGk9bigxMjEpOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJCcm93c2VyXCIsZS5Eb2NrPVwiRG9ja1wiLGUuSG9tZT1cIkhvbWVcIixlLk5vdGlmaWNhdGlvbj1cIk5vdGlmaWNhdGlvblwiLGUuU3RvcmVmcm9udD1cIlN0b3JlZnJvbnRcIixlLlBsYXRmb3JtPVwiUGxhdGZvcm1cIixlLlRoZW1pbmc9XCJUaGVtaW5nXCJ9KG98fChvPXt9KSk7Y29uc3Qgcz1hc3luYyhlLHQpPT57Y29uc3Qgbj17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fHIudTAsY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246dC5jb21wb25lbnRWZXJzaW9ufHxyLnUwLGFsbG93ZWQ6dC5hbGxvd2VkLHJlamVjdGlvbkNvZGU6dC5yZWplY3Rpb25Db2RlfTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIsZGF0YTpufSl9LGE9YXN5bmMgZT0+e2kuT0kudXVpZD09PWkuR2kudXVpZCYmaS5PSS5uYW1lPT09aS5HaS5uYW1lfHxzKG8uSG9tZSxlKX0sYz1hc3luYyBlPT57cyhvLlN0b3JlZnJvbnQsZSl9LGQ9YXN5bmMgZT0+e3Moby5Eb2NrLGUpfX0sMTIxOihlLHQsbik9PntuLmQodCx7R2k6KCk9PmQsSlY6KCk9PmwsT0k6KCk9PnUsaVc6KCk9PnB9KTt2YXIgbyxyLGkscz1uKDgwNiksYT1uKDY3OCk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlZD1cImNsb3NlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5CZWZvcmVVbmxvYWQ9XCJiZWZvcmV1bmxvYWRcIn0oaXx8KGk9e30pKTtmdW5jdGlvbiBjKGUpe2lmKCFhLnNTKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IGQ9e25hbWU6YS5vQyx1dWlkOmEuQUJ9O2NvbnN0IHU9e25hbWU6by5Ib21lLHV1aWQ6cy5xOS5Xb3Jrc3BhY2V9LHA9KG8uRG9jayxzLnE5LldvcmtzcGFjZSxvLlN0b3JlZnJvbnQscy5xOS5Xb3Jrc3BhY2Use25hbWU6cy5xOS5Xb3Jrc3BhY2UsdXVpZDpzLnE5LldvcmtzcGFjZX0pO2NvbnN0IGw9ZT0+YyhlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpfSwzMTY6KGUsdCxuKT0+e3ZhciBvLHIsaTtuLmQodCx7RGU6KCk9Pm8scHg6KCk9PnIsd3Q6KCk9Pml9KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5Vc2VyQWN0aW9uPVwidXNlci1hY3Rpb25cIixlLkZvY3VzQ2hhbmdlPVwiZm9jdXMtY2hhbmdlXCIsZS5SZWxvYWQ9XCJyZWxvYWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkFjdGl2ZT1cImFjdGl2ZVwiLGUuRGVmYXVsdD1cImRlZmF1bHRcIn0oaXx8KGk9e30pKX19LHQ9e307ZnVuY3Rpb24gbihvKXt2YXIgcj10W29dO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHIuZXhwb3J0czt2YXIgaT10W29dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtvXShpLGkuZXhwb3J0cyxuKSxpLmV4cG9ydHN9bi5kPShlLHQpPT57Zm9yKHZhciBvIGluIHQpbi5vKHQsbykmJiFuLm8oZSxvKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbyx7ZW51bWVyYWJsZTohMCxnZXQ6dFtvXX0pfSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLG4ucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIG89e307KCgpPT57bi5yKG8pLG4uZChvLHtBY3Rpb25UcmlnZ2VyOigpPT5QLnAsQXBwTWFuaWZlc3RUeXBlOigpPT5XLkwsQnV0dG9uU3R5bGU6KCk9PkMuWkosQ0xJQWN0aW9uOigpPT5rLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PmsuZWwsQ0xJVGVtcGxhdGU6KCk9PmsueVcsQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5DLnA2LERvY2s6KCk9PmUsRG9ja0J1dHRvbk5hbWVzOigpPT5jLnYsSG9tZTooKT0+aCxMZWdhY3k6KCk9PnQsUHJlc2VudGF0aW9uVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5DLkdvLFNlYXJjaFRhZ0JhY2tncm91bmQ6KCk9PlAudyxTdG9yZWZyb250OigpPT5TLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+Vy5ULFRlbXBsYXRlRnJhZ21lbnRUeXBlczooKT0+Qy5iSX0pO3ZhciBlPXt9O24ucihlKSxuLmQoZSx7RG9ja0J1dHRvbk5hbWVzOigpPT5jLnYsZGVyZWdpc3RlcjooKT0+bCxtaW5pbWl6ZTooKT0+ZixyZWdpc3RlcjooKT0+cCxzaG93OigpPT53fSk7dmFyIHQ9e307bi5yKHQpLG4uZCh0LHtnZXRQYWdlczooKT0+dixnZXRXb3Jrc3BhY2VzOigpPT5tfSk7dmFyIHI9big2NzgpLGk9big1MzIpLHM9big0MzYpLGE9big4MiksYz1uKDQyNyk7bGV0IGQsdT0hMTtjb25zdCBwPWU9PihkPW5ldyBQcm9taXNlKChhc3luYyh0LG4pPT57dHJ5e2NvbnN0IG49YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxzLlhsKSgpO2lmKHUpdGhyb3cgbmV3IEVycm9yKFwiQSBkb2NrIHByb3ZpZGVyIGZvciB0aGUgcGxhdGZvcm0gaXMgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtyZXR1cm4gdT0hMCxlLmNsaWVudEFQSVZlcnNpb249ci51MCx0LmRpc3BhdGNoKHMuV0YuUmVnaXN0ZXJQcm92aWRlcix7cHJvdmlkZXJUeXBlOmEubFAuRG9jayxpbmZvOmV9KX0pKGUpOygwLGkuV24pKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246bj8ud29ya3NwYWNlVmVyc2lvbn0pLHQoe2NsaWVudEFQSVZlcnNpb246ci51MCx3b3Jrc3BhY2VWZXJzaW9uOm4ud29ya3NwYWNlVmVyc2lvbnx8XCJcIn0pfWNhdGNoKGUpeygwLGkuV24pKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZS5tZXNzYWdlfSksbihlKSxkPW51bGx9fSkpLGQpLGw9YXN5bmMoKT0+e2F3YWl0IGQsdT0hMTtyZXR1cm4oYXdhaXQoMCxzLlhsKSgpKS5kaXNwYXRjaChzLldGLkRlcmVnaXN0ZXJQcm92aWRlcix7cHJvdmlkZXJUeXBlOmEubFAuRG9ja30pfSxmPWFzeW5jKCk9Pnthd2FpdCBkLGF3YWl0KDAscy5hQikoKSxhd2FpdCgwLGEuUjgpKGEubFAuRG9jayl9LHc9YXN5bmMoKT0+e2F3YWl0IGQsYXdhaXQoMCxzLmFCKSgpLGF3YWl0KDAsYS5YXykoYS5sUC5Eb2NrKX07dmFyIGcsaD1uKDcwMyk7bigxMjEpOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0oZ3x8KGc9e30pKTtuZXcgTWFwO3ZhciB5OyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCJ9KHl8fCh5PXt9KSk7Y29uc3Qgdj0oKT0+YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLldGLkdldExlZ2FjeVBhZ2VzLHZvaWQgMCl9KCksbT0oKT0+KGFzeW5jKCk9Pihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuV0YuR2V0TGVnYWN5V29ya3NwYWNlcyx2b2lkIDApKSgpO3ZhciBTPW4oNTI4KSxQPW4oMjk4KSxDPW4oMTA5KSxrPW4oNzU4KSxXPW4oMTE0KX0pKCksbW9kdWxlLmV4cG9ydHM9b30pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBkZXJlZ2lzdGVyIGFzIGRlcmVnaXN0ZXJIb21lLCByZWdpc3RlciBhcyByZWdpc3RlckhvbWUsIHNob3cgYXMgc2hvd0hvbWUgfSBmcm9tIFwiLi9ob21lXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHQvLyB5b3UgY2FuIGtpY2sgb2ZmIHlvdXIgYm9vdHN0cmFwcGluZyBwcm9jZXNzIGhlcmUgd2hlcmUgeW91IG1heSBkZWNpZGUgdG8gcHJvbXB0IGZvciBhdXRoZW50aWNhdGlvbixcblx0Ly8gZ2F0aGVyIHJlZmVyZW5jZSBkYXRhIGV0YyBiZWZvcmUgc3RhcnRpbmcgd29ya3NwYWNlIGFuZCBpbnRlcmFjdGluZyB3aXRoIGl0LlxuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyB0aGUgYm9vdHN0cmFwcGVyXCIpO1xuXG5cdC8vIG9ubHkgcmVnaXN0ZXIgc2VhcmNoIGxvZ2ljIG9uY2Ugd29ya3NwYWNlIGlzIHJ1bm5pbmdcblx0YXdhaXQgcmVnaXN0ZXJIb21lKCk7XG5cdGF3YWl0IHNob3dIb21lKCk7XG5cblx0Y29uc3QgcHJvdmlkZXJXaW5kb3cgPSBmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCk7XG5cdGF3YWl0IHByb3ZpZGVyV2luZG93Lm9uY2UoXCJjbG9zZS1yZXF1ZXN0ZWRcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0YXdhaXQgZGVyZWdpc3RlckhvbWUoKTtcblx0XHRhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCk7XG5cdH0pO1xufVxuIiwiaW1wb3J0IHsgZ2V0Q3VycmVudFN5bmMgfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtXCI7XG5cbmxldCB3aW5kb3dJZGVudGl0eTogT3BlbkZpbi5JZGVudGl0eTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxhdW5jaFZpZXcodXJsOiBzdHJpbmcpIHtcblx0Y29uc3QgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuXHRsZXQgY3JlYXRlV2luZG93ID0gdHJ1ZTtcblx0aWYgKHdpbmRvd0lkZW50aXR5KSB7XG5cdFx0Y29uc3QgY2hpbGRXaW5kb3dzID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCk7XG5cdFx0Y29uc3QgZXhpc3RpbmdXaW5kb3cgPSBjaGlsZFdpbmRvd3MuZmluZCgod2luZG93KSA9PiB3aW5kb3cuaWRlbnRpdHkubmFtZSA9PT0gd2luZG93SWRlbnRpdHkubmFtZSk7XG5cdFx0aWYgKGV4aXN0aW5nV2luZG93KSB7XG5cdFx0XHRjcmVhdGVXaW5kb3cgPSBmYWxzZTtcblx0XHR9XG5cdH1cblx0aWYgKGNyZWF0ZVdpbmRvdykge1xuXHRcdGNvbnN0IHdpbiA9IGF3YWl0IHBsYXRmb3JtLmNyZWF0ZVdpbmRvdyh7XG5cdFx0XHRkZWZhdWx0SGVpZ2h0OiA3MDAsXG5cdFx0XHRkZWZhdWx0V2lkdGg6IDEyMDAsXG5cdFx0XHRsYXlvdXQ6IHtcblx0XHRcdFx0Y29udGVudDogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHR5cGU6IFwic3RhY2tcIixcblx0XHRcdFx0XHRcdGNvbnRlbnQ6IFtdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0d2luZG93SWRlbnRpdHkgPSB3aW4uaWRlbnRpdHk7XG5cdH1cblxuXHRjb25zdCBzYWxlc2ZvcmNlTHdjUHJlbG9hZFNjcmlwdDogT3BlbkZpbi5QcmVsb2FkU2NyaXB0ID0ge1xuXHRcdHVybDogYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vanMvcHJlbG9hZC5qc2Bcblx0fTtcblx0YXdhaXQgcGxhdGZvcm0uY3JlYXRlVmlldyhcblx0XHR7IHByZWxvYWRTY3JpcHRzOiBbc2FsZXNmb3JjZUx3Y1ByZWxvYWRTY3JpcHRdLCB0YXJnZXQ6IG51bGwsIHVybCB9LFxuXHRcdHdpbmRvd0lkZW50aXR5XG5cdCk7XG59XG4iLCJpbXBvcnQgeyBDb25uZWN0aW9uRXJyb3IgfSBmcm9tIFwiQG9wZW5maW4vc2FsZXNmb3JjZVwiO1xuaW1wb3J0IHtcblx0Q0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcblx0Q0xJRmlsdGVyLFxuXHRDTElGaWx0ZXJPcHRpb25UeXBlLFxuXHRDTElQcm92aWRlcixcblx0Q0xJU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LFxuXHRDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlLFxuXHRDTElTZWFyY2hSZXNwb25zZSxcblx0Q0xJU2VhcmNoUmVzdWx0Q29udGFjdCxcblx0Q0xJU2VhcmNoUmVzdWx0TGlzdCxcblx0Q0xJU2VhcmNoUmVzdWx0UGxhaW4sXG5cdENMSVNlYXJjaFJlc3VsdFNpbXBsZVRleHQsXG5cdENMSVRlbXBsYXRlLFxuXHRIb21lXG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB7IGxhdW5jaFZpZXcgfSBmcm9tIFwiLi9icm93c2VyXCI7XG5pbXBvcnQge1xuXHRjb25uZWN0VG9TYWxlc2ZvcmNlLFxuXHRnZXRDb25uZWN0aW9uLFxuXHRnZXRPYmplY3RVcmwsXG5cdGdldFNlYXJjaFJlc3VsdHMsXG5cdFNhbGVzZm9yY2VBY2NvdW50LFxuXHRTYWxlc2ZvcmNlQ29udGFjdCxcblx0U2FsZXNmb3JjZUNvbnRlbnROb3RlLFxuXHRTYWxlc2ZvcmNlRmVlZEl0ZW0sXG5cdFNhbGVzZm9yY2VUYXNrXG59IGZyb20gXCIuL3NhbGVzZm9yY2VcIjtcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFNhbGVzZm9yY2VSZXN1bHREYXRhIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmNvbnN0IEJST1dTRV9TRUFSQ0hfUkVTVUxUX0tFWSA9IFwiYnJvd3NlLXNhbGVzZm9yY2VcIjtcbmNvbnN0IFBST1ZJREVSX0lEID0gXCJpbnRlZ3JhdGUtd2l0aC1zYWxlc2ZvcmNlXCI7XG5jb25zdCBOT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZID0gXCJub3QtY29ubmVjdGVkLXJlc3VsdFwiO1xuY29uc3QgT0JKRUNUU19GSUxURVJfSUQgPSBcIm9iamVjdHNcIjtcblxuZnVuY3Rpb24gZ2V0U2VhcmNoRmlsdGVycyhvYmplY3RzOiBzdHJpbmdbXSk6IENMSUZpbHRlcltdIHtcblx0aWYgKEFycmF5LmlzQXJyYXkob2JqZWN0cykpIHtcblx0XHRjb25zdCBmaWx0ZXJzOiBDTElGaWx0ZXJbXSA9IFtdO1xuXHRcdGNvbnN0IHVuaXF1ZU9iamVjdHMgPSBbLi4ubmV3IFNldChvYmplY3RzLnNvcnQoKSldO1xuXHRcdGNvbnN0IG9iamVjdEZpbHRlcjogQ0xJRmlsdGVyID0ge1xuXHRcdFx0aWQ6IE9CSkVDVFNfRklMVEVSX0lELFxuXHRcdFx0dGl0bGU6IFwiT2JqZWN0c1wiLFxuXHRcdFx0dHlwZTogQ0xJRmlsdGVyT3B0aW9uVHlwZS5NdWx0aVNlbGVjdCxcblx0XHRcdG9wdGlvbnM6IFtdXG5cdFx0fTtcblxuXHRcdGZvciAoY29uc3Qgb2JqZWN0IG9mIHVuaXF1ZU9iamVjdHMpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9iamVjdEZpbHRlci5vcHRpb25zKSkge1xuXHRcdFx0XHRvYmplY3RGaWx0ZXIub3B0aW9ucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogb2JqZWN0LFxuXHRcdFx0XHRcdGlzU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZpbHRlcnMucHVzaChvYmplY3RGaWx0ZXIpO1xuXHRcdHJldHVybiBmaWx0ZXJzO1xuXHR9XG5cdHJldHVybiBbXTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzdWx0cyhcblx0cXVlcnk/OiBzdHJpbmcsXG5cdHF1ZXJ5TWluTGVuZ3RoID0gMyxcblx0ZmlsdGVycz86IENMSUZpbHRlcltdXG4pOiBQcm9taXNlPENMSVNlYXJjaFJlc3BvbnNlPiB7XG5cdC8vIERlZmluZSB0aGUgZGVmYXVsdCBcImJyb3dzZVwiIHNlYXJjaCByZXN1bHQgZGlzcGxheWVkIHdoZW4gbm8gcXVlcnkgcHJvdmlkZWRcblx0Y29uc3Qgc2FsZXNmb3JjZUNvbm5lY3Rpb24gPSBnZXRDb25uZWN0aW9uKCk7XG5cdGNvbnN0IHsgb3JnVXJsIH0gPSBzYWxlc2ZvcmNlQ29ubmVjdGlvbjtcblx0Y29uc3QgeyBpY29uLCBpY29uTWFwIH0gPSBhd2FpdCBnZXRTZXR0aW5ncygpO1xuXHRjb25zdCBicm93c2VSZXN1bHQ6IENMSVNlYXJjaFJlc3VsdFBsYWluID0ge1xuXHRcdGFjdGlvbnM6IFt7IG5hbWU6IFwiQnJvd3NlXCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxuXHRcdGRhdGE6IHtcblx0XHRcdHBhZ2VVcmw6IG9yZ1VybFxuXHRcdH0gYXMgU2FsZXNmb3JjZVJlc3VsdERhdGEsXG5cdFx0aWNvbixcblx0XHRrZXk6IEJST1dTRV9TRUFSQ0hfUkVTVUxUX0tFWSxcblx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuUGxhaW4sXG5cdFx0dGVtcGxhdGVDb250ZW50OiB1bmRlZmluZWQsXG5cdFx0dGl0bGU6IFwiQnJvd3NlIFNhbGVzZm9yY2VcIlxuXHR9O1xuXG5cdC8vIFJldHVybiBkZWZhdWx0IGJyb3dzZSByZXN1bHQgaWYgcXVlcnkgbGVzcyB0aGFuIG1pbmltdW0gY2hhciBsZW5ndGggb3Igc3RhcnRzIHdpdGggL1xuXHRjb25zdCBzZWFyY2hRdWVyeSA9IHF1ZXJ5LnRyaW0oKTtcblx0aWYgKHNlYXJjaFF1ZXJ5Lmxlbmd0aCA8IHF1ZXJ5TWluTGVuZ3RoIHx8IHNlYXJjaFF1ZXJ5LnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG5cdFx0cmV0dXJuIHsgcmVzdWx0czogW2Jyb3dzZVJlc3VsdF0gfTtcblx0fVxuXG5cdC8vIFJldHJpZXZlIHNlYXJjaCByZXN1bHRzIGZyb20gU2FsZXNmb3JjZVxuXHRsZXQgc2VhcmNoUmVzdWx0czogKFxuXHRcdHwgU2FsZXNmb3JjZUFjY291bnRcblx0XHR8IFNhbGVzZm9yY2VDb250YWN0XG5cdFx0fCBTYWxlc2ZvcmNlVGFza1xuXHRcdHwgU2FsZXNmb3JjZUNvbnRlbnROb3RlXG5cdFx0fCBTYWxlc2ZvcmNlRmVlZEl0ZW1cblx0KVtdO1xuXHR0cnkge1xuXHRcdGxldCBzZWxlY3RlZE9iamVjdHM6IHN0cmluZ1tdID0gW107XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoZmlsdGVycykgJiYgZmlsdGVycy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBvYmplY3RzRmlsdGVyID0gZmlsdGVycy5maW5kKCh4KSA9PiB4LmlkID09PSBPQkpFQ1RTX0ZJTFRFUl9JRCk7XG5cdFx0XHRpZiAob2JqZWN0c0ZpbHRlcikge1xuXHRcdFx0XHRzZWxlY3RlZE9iamVjdHMgPSAoXG5cdFx0XHRcdFx0QXJyYXkuaXNBcnJheShvYmplY3RzRmlsdGVyLm9wdGlvbnMpID8gb2JqZWN0c0ZpbHRlci5vcHRpb25zIDogW29iamVjdHNGaWx0ZXIub3B0aW9uc11cblx0XHRcdFx0KVxuXHRcdFx0XHRcdC5maWx0ZXIoKHgpID0+IEJvb2xlYW4oeC5pc1NlbGVjdGVkKSlcblx0XHRcdFx0XHQubWFwKCh4KSA9PiAoeC52YWx1ZSA9PT0gXCJOb3RlXCIgPyBcIkNvbnRlbnROb3RlXCIgOiB4LnZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBnZXRTZWFyY2hSZXN1bHRzKHNlYXJjaFF1ZXJ5LCBzZWxlY3RlZE9iamVjdHMpO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRpZiAoZXJyIGluc3RhbmNlb2YgQ29ubmVjdGlvbkVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRyZXN1bHRzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0YWN0aW9uczogW3sgbmFtZTogXCJSZWNvbm5lY3RcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG5cdFx0XHRcdFx0XHRrZXk6IE5PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVksXG5cdFx0XHRcdFx0XHRpY29uLFxuXHRcdFx0XHRcdFx0dGl0bGU6IFwiUmVjb25uZWN0IHRvIFNhbGVzZm9yY2VcIlxuXHRcdFx0XHRcdH0gYXMgQ0xJU2VhcmNoUmVzdWx0U2ltcGxlVGV4dFxuXHRcdFx0XHRdXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4geyByZXN1bHRzOiBbXSB9O1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0cyA9IHNlYXJjaFJlc3VsdHMubWFwKChzZWFyY2hSZXN1bHQpID0+IHtcblx0XHRpZiAoXCJXZWJzaXRlXCIgaW4gc2VhcmNoUmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG5cdFx0XHRcdGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuXHRcdFx0XHRrZXk6IHNlYXJjaFJlc3VsdC5JZCxcblx0XHRcdFx0dGl0bGU6IHNlYXJjaFJlc3VsdC5OYW1lLFxuXHRcdFx0XHRpY29uOiBpY29uTWFwLmFjY291bnQsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBvcmdVcmwpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5Db250YWN0LFxuXHRcdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IHtcblx0XHRcdFx0XHRuYW1lOiBzZWFyY2hSZXN1bHQuTmFtZSxcblx0XHRcdFx0XHR0aXRsZTogc2VhcmNoUmVzdWx0LkluZHVzdHJ5LFxuXHRcdFx0XHRcdGRldGFpbHM6IFtcblx0XHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdFx0W1wiUGhvbmVcIiwgc2VhcmNoUmVzdWx0LlBob25lXSxcblx0XHRcdFx0XHRcdFx0W1wiVHlwZVwiLCBzZWFyY2hSZXN1bHQuVHlwZV0sXG5cdFx0XHRcdFx0XHRcdFtcIldlYnNpdGVcIiwgc2VhcmNoUmVzdWx0LldlYnNpdGVdXG5cdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XG5cdFx0fSBlbHNlIGlmIChcIkVtYWlsXCIgaW4gc2VhcmNoUmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG5cdFx0XHRcdGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuXHRcdFx0XHRrZXk6IHNlYXJjaFJlc3VsdC5JZCxcblx0XHRcdFx0dGl0bGU6IHNlYXJjaFJlc3VsdC5OYW1lLFxuXHRcdFx0XHRpY29uOiBpY29uTWFwLmNvbnRhY3QsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBvcmdVcmwpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5Db250YWN0LFxuXHRcdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IHtcblx0XHRcdFx0XHRuYW1lOiBzZWFyY2hSZXN1bHQuTmFtZSxcblx0XHRcdFx0XHR0aXRsZTogc2VhcmNoUmVzdWx0LlRpdGxlLFxuXHRcdFx0XHRcdHVzZUluaXRpYWxzOiB0cnVlLFxuXHRcdFx0XHRcdGRldGFpbHM6IFtcblx0XHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdFx0W1wiRGVwYXJ0bWVudFwiLCBzZWFyY2hSZXN1bHQuRGVwYXJ0bWVudF0sXG5cdFx0XHRcdFx0XHRcdFtcIkVtYWlsXCIsIHNlYXJjaFJlc3VsdC5FbWFpbF0sXG5cdFx0XHRcdFx0XHRcdFtcIldvcmsgI1wiLCBzZWFyY2hSZXN1bHQuUGhvbmVdXG5cdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XG5cdFx0fSBlbHNlIGlmIChcIkRlc2NyaXB0aW9uXCIgaW4gc2VhcmNoUmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG5cdFx0XHRcdGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuXHRcdFx0XHRrZXk6IHNlYXJjaFJlc3VsdC5JZCxcblx0XHRcdFx0dGl0bGU6IHNlYXJjaFJlc3VsdC5TdWJqZWN0LFxuXHRcdFx0XHRpY29uOiBpY29uTWFwLnRhc2ssXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBvcmdVcmwpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5MaXN0LFxuXHRcdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IFtcblx0XHRcdFx0XHRbXCJTdWJqZWN0XCIsIHNlYXJjaFJlc3VsdC5TdWJqZWN0XSxcblx0XHRcdFx0XHRbXCJDb21tZW50c1wiLCBzZWFyY2hSZXN1bHQuRGVzY3JpcHRpb25dXG5cdFx0XHRcdF1cblx0XHRcdH0gYXMgQ0xJU2VhcmNoUmVzdWx0TGlzdDtcblx0XHR9IGVsc2UgaWYgKFwiVGV4dFByZXZpZXdcIiBpbiBzZWFyY2hSZXN1bHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcblx0XHRcdFx0bGFiZWw6IFwiTm90ZVwiLFxuXHRcdFx0XHRrZXk6IHNlYXJjaFJlc3VsdC5JZCxcblx0XHRcdFx0dGl0bGU6IHNlYXJjaFJlc3VsdC5UaXRsZSxcblx0XHRcdFx0aWNvbjogaWNvbk1hcC5ub3RlLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0cGFnZVVybDogZ2V0T2JqZWN0VXJsKHNlYXJjaFJlc3VsdC5JZCwgb3JnVXJsKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuTGlzdCxcblx0XHRcdFx0dGVtcGxhdGVDb250ZW50OiBbXG5cdFx0XHRcdFx0W1wiVGl0bGVcIiwgc2VhcmNoUmVzdWx0LlRpdGxlXSxcblx0XHRcdFx0XHRbXCJDb250ZW50XCIsIHNlYXJjaFJlc3VsdD8uVGV4dFByZXZpZXddXG5cdFx0XHRcdF1cblx0XHRcdH0gYXMgQ0xJU2VhcmNoUmVzdWx0TGlzdDtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XCJhY3RvclwiIGluIHNlYXJjaFJlc3VsdCAmJlxuXHRcdFx0KHNlYXJjaFJlc3VsdC50eXBlID09PSBcIlRleHRQb3N0XCIgfHwgc2VhcmNoUmVzdWx0LnR5cGUgPT09IFwiQ29udGVudFBvc3RcIilcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcblx0XHRcdFx0bGFiZWw6IFwiQ2hhdHRlclwiLFxuXHRcdFx0XHRrZXk6IHNlYXJjaFJlc3VsdC5pZCxcblx0XHRcdFx0dGl0bGU6IHNlYXJjaFJlc3VsdC5hY3Rvcj8uZGlzcGxheU5hbWUsXG5cdFx0XHRcdGljb246IGljb25NYXAuY2hhdHRlcixcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdHBhZ2VVcmw6IGdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuaWQsIG9yZ1VybClcblx0XHRcdFx0fSBhcyBTYWxlc2ZvcmNlUmVzdWx0RGF0YSxcblx0XHRcdFx0dGVtcGxhdGU6IENMSVRlbXBsYXRlLkNvbnRhY3QsXG5cdFx0XHRcdHRlbXBsYXRlQ29udGVudDoge1xuXHRcdFx0XHRcdG5hbWU6IHNlYXJjaFJlc3VsdC5hY3Rvcj8uZGlzcGxheU5hbWUsXG5cdFx0XHRcdFx0dXNlSW5pdGlhbHM6IHRydWUsXG5cdFx0XHRcdFx0ZGV0YWlsczogW1xuXHRcdFx0XHRcdFx0W1xuXHRcdFx0XHRcdFx0XHRbXCJIZWFkZXJcIiwgc2VhcmNoUmVzdWx0Py5oZWFkZXI/LnRleHRdLFxuXHRcdFx0XHRcdFx0XHRbXCJOb3RlXCIsIHNlYXJjaFJlc3VsdD8uYm9keT8udGV4dF1cblx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHRdXG5cdFx0XHRcdH1cblx0XHRcdH0gYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdDtcblx0XHR9XG5cdH0pO1xuXG5cdGNvbnN0IGZpbHRlcmVkUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKEJvb2xlYW4pIGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3RbXTtcblx0Y29uc3Qgb2JqZWN0cyA9IHNlYXJjaFJlc3VsdHMubWFwKChyZXN1bHQpID0+IGdldEl0ZW1UeXBlKHJlc3VsdCkpO1xuXG5cdHJldHVybiB7XG5cdFx0cmVzdWx0czogZmlsdGVyZWRSZXN1bHRzLFxuXHRcdGNvbnRleHQ6IHtcblx0XHRcdGZpbHRlcnM6IGdldFNlYXJjaEZpbHRlcnMob2JqZWN0cy5tYXAoKGMpID0+IChjID09PSBcIkNvbnRlbnROb3RlXCIgPyBcIk5vdGVcIiA6IGMpKSlcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGdldEl0ZW1UeXBlKFxuXHRpdGVtOiBTYWxlc2ZvcmNlQWNjb3VudCB8IFNhbGVzZm9yY2VDb250YWN0IHwgU2FsZXNmb3JjZVRhc2sgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGUgfCBTYWxlc2ZvcmNlRmVlZEl0ZW1cbikge1xuXHRyZXR1cm4gXCJhdHRyaWJ1dGVzXCIgaW4gaXRlbSA/IGl0ZW0uYXR0cmlidXRlcy50eXBlIDogXCJDaGF0dGVyXCI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlcigpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXNpbmcgaG9tZVwiKTtcblx0Y29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBnZXRTZXR0aW5ncygpO1xuXHRjb25zdCBxdWVyeU1pbkxlbmd0aCA9IHNldHRpbmdzLnF1ZXJ5TWluTGVuZ3RoIHx8IDM7XG5cdGxldCBsYXN0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2U7XG5cdGxldCBxdWVyeTogc3RyaW5nO1xuXHRsZXQgZmlsdGVyczogQ0xJRmlsdGVyW107XG5cblx0Y29uc3Qgb25Vc2VySW5wdXQgPSBhc3luYyAoXG5cdFx0cmVxdWVzdDogQ0xJU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LFxuXHRcdHJlc3BvbnNlOiBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXG5cdCk6IFByb21pc2U8Q0xJU2VhcmNoUmVzcG9uc2U+ID0+IHtcblx0XHRxdWVyeSA9IHJlcXVlc3QucXVlcnkudG9Mb3dlckNhc2UoKTtcblx0XHRpZiAocXVlcnkuc3RhcnRzV2l0aChcIi9cIikpIHtcblx0XHRcdHJldHVybiB7IHJlc3VsdHM6IFtdIH07XG5cdFx0fVxuXG5cdFx0ZmlsdGVycyA9IHJlcXVlc3Q/LmNvbnRleHQ/LnNlbGVjdGVkRmlsdGVycztcblx0XHRpZiAobGFzdFJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGxhc3RSZXNwb25zZS5jbG9zZSgpO1xuXHRcdH1cblx0XHRsYXN0UmVzcG9uc2UgPSByZXNwb25zZTtcblx0XHRsYXN0UmVzcG9uc2Uub3BlbigpO1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBnZXRSZXN1bHRzKHF1ZXJ5LCBxdWVyeU1pbkxlbmd0aCwgZmlsdGVycyk7XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH07XG5cblx0Y29uc3Qgb25TZWxlY3Rpb24gPSBhc3luYyAocmVzdWx0OiBDTElEaXNwYXRjaGVkU2VhcmNoUmVzdWx0KSA9PiB7XG5cdFx0Ly8gaWYgdGhlIHVzZXIgY2xpY2tlZCB0aGUgcmVjb25uZWN0IHJlc3VsdCwgcmVjb25uZWN0IHRvIHNhbGVzZm9yY2UgYW5kIHJlLXJ1biBxdWVyeVxuXHRcdGlmIChyZXN1bHQua2V5ID09PSBOT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZKSB7XG5cdFx0XHRhd2FpdCBjb25uZWN0VG9TYWxlc2ZvcmNlKCk7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgZ2V0UmVzdWx0cyhxdWVyeSwgcXVlcnlNaW5MZW5ndGgsIGZpbHRlcnMpO1xuXHRcdFx0bGFzdFJlc3BvbnNlLnJldm9rZShOT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZKTtcblx0XHRcdGxhc3RSZXNwb25zZS5yZXNwb25kKHJlc3VsdHMucmVzdWx0cyk7XG5cdFx0XHRhd2FpdCBIb21lLnNob3coKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBvdGhlcndpc2Ugb3BlbiB0aGUgcmVzdWx0IHBhZ2UgdXJsIGluIGJyb3dzZXJcblx0XHRjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEgYXMgU2FsZXNmb3JjZVJlc3VsdERhdGE7XG5cdFx0aWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YXdhaXQgbGF1bmNoVmlldyhkYXRhLnBhZ2VVcmwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gZXhlY3V0ZSByZXN1bHQgd2l0aG91dCBkYXRhIGJlaW5nIHBhc3NlZFwiKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgY2xpUHJvdmlkZXI6IENMSVByb3ZpZGVyID0ge1xuXHRcdHRpdGxlOiBzZXR0aW5ncy50aXRsZSxcblx0XHRpZDogUFJPVklERVJfSUQsXG5cdFx0aWNvbjogc2V0dGluZ3MuaWNvbixcblx0XHRvblVzZXJJbnB1dCxcblx0XHRvblJlc3VsdERpc3BhdGNoOiBvblNlbGVjdGlvblxuXHR9O1xuXG5cdGF3YWl0IEhvbWUucmVnaXN0ZXIoY2xpUHJvdmlkZXIpO1xuXHRjb25zb2xlLmxvZyhcIkhvbWUgY29uZmlndXJlZFwiKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3coKTogUHJvbWlzZTx2b2lkPiB7XG5cdGF3YWl0IEhvbWUuc2hvdygpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGlkZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0YXdhaXQgSG9tZS5oaWRlKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXJlZ2lzdGVyKCk6IFByb21pc2U8dm9pZD4ge1xuXHRyZXR1cm4gSG9tZS5kZXJlZ2lzdGVyKFBST1ZJREVSX0lEKTtcbn1cbiIsImltcG9ydCB7IGluaXQgYXMgd29ya3NwYWNlUGxhdGZvcm1Jbml0LCBCcm93c2VySW5pdENvbmZpZyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcbmltcG9ydCB7IGNvbm5lY3RUb1NhbGVzZm9yY2UgfSBmcm9tIFwiLi9zYWxlc2ZvcmNlXCI7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyBzYWxlc2ZvcmNlXCIpO1xuXHRhd2FpdCBjb25uZWN0VG9TYWxlc2ZvcmNlKCk7XG5cblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXNpbmcgcGxhdGZvcm1cIik7XG5cdGNvbnN0IHsgaWNvbiwgdGl0bGUgfSA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdGNvbnN0IGJyb3dzZXI6IEJyb3dzZXJJbml0Q29uZmlnID0ge307XG5cdGJyb3dzZXIuZGVmYXVsdFdpbmRvd09wdGlvbnMgPSB7XG5cdFx0aWNvbixcblx0XHR3b3Jrc3BhY2VQbGF0Zm9ybToge1xuXHRcdFx0ZmF2aWNvbjogaWNvbixcblx0XHRcdHBhZ2VzOiBudWxsLFxuXHRcdFx0dGl0bGVcblx0XHR9XG5cdH07XG5cdGNvbnNvbGUubG9nKFwiU3BlY2lmeWluZyBmb2xsb3dpbmcgYnJvd3NlciBvcHRpb25zOlwiLCBicm93c2VyKTtcblx0YXdhaXQgd29ya3NwYWNlUGxhdGZvcm1Jbml0KHtcblx0XHRicm93c2VyLFxuXHRcdHRoZW1lOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiBcIlNhbGVzZm9yY2UgVGhlbWVcIixcblx0XHRcdFx0cGFsZXR0ZToge1xuXHRcdFx0XHRcdGJyYW5kUHJpbWFyeTogXCIjMDA3MEQyXCIsXG5cdFx0XHRcdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzAwNzBEMlwiLFxuXHRcdFx0XHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiMyNjVBNzhcIixcblx0XHRcdFx0XHRiYWNrZ3JvdW5kMTogXCIjMEM0MzYyXCIsXG5cdFx0XHRcdFx0YmFja2dyb3VuZDI6IFwiIzEwNTk5OFwiLFxuXHRcdFx0XHRcdGJhY2tncm91bmQzOiBcIiMyNjVBNzhcIixcblx0XHRcdFx0XHRiYWNrZ3JvdW5kNDogXCIjMDA3MEQyXCIsXG5cdFx0XHRcdFx0YmFja2dyb3VuZDU6IFwiIzAwNzBEMlwiLFxuXHRcdFx0XHRcdGJhY2tncm91bmQ2OiBcIiMwMDcwRDJcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHR9KTtcbn1cbiIsImltcG9ydCB7XG5cdGNvbm5lY3QsXG5cdGVuYWJsZUxvZ2dpbmcsXG5cdFNhbGVzZm9yY2VDb25uZWN0aW9uLFxuXHRTYWxlc2ZvcmNlUmVzdEFwaVNlYXJjaFJlc3BvbnNlLFxuXHRTYWxlc2ZvcmNlUmVzdEFwaVNPYmplY3Rcbn0gZnJvbSBcIkBvcGVuZmluL3NhbGVzZm9yY2VcIjtcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxubGV0IHNmQ29ubjogU2FsZXNmb3JjZUNvbm5lY3Rpb247XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FsZXNmb3JjZUJhdGNoUmVxdWVzdCB7XG5cdGJhdGNoUmVxdWVzdHM6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtW107XG5cdGhhbHRPbkVycm9yOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtIHtcblx0bWV0aG9kOiBzdHJpbmc7XG5cdHVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNhbGVzZm9yY2VCYXRjaFJlc3BvbnNlIHtcblx0aGFzRXJyb3JzOiBib29sZWFuO1xuXHRyZXN1bHRzOiBTYWxlc2ZvcmNlQmF0Y2hSZXNwb25zZUl0ZW1bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTYWxlc2ZvcmNlQmF0Y2hSZXNwb25zZUl0ZW0ge1xuXHRzdGF0dXNDb2RlOiBudW1iZXI7XG5cdHJlc3VsdDogdW5rbm93bjtcbn1cblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUFjY291bnQgPSBTYWxlc2ZvcmNlUmVzdEFwaVNPYmplY3Q8e1xuXHRJbmR1c3RyeT86IHN0cmluZztcblx0TmFtZTogc3RyaW5nO1xuXHRQaG9uZT86IHN0cmluZztcblx0VHlwZT86IHN0cmluZztcblx0V2Vic2l0ZT86IHN0cmluZztcbn0+O1xuXG5leHBvcnQgdHlwZSBTYWxlc2ZvcmNlQ29udGFjdCA9IFNhbGVzZm9yY2VSZXN0QXBpU09iamVjdDx7XG5cdERlcGFydG1lbnQ/OiBzdHJpbmc7XG5cdEVtYWlsOiBzdHJpbmc7XG5cdE5hbWU6IHN0cmluZztcblx0UGhvbmU/OiBzdHJpbmc7XG5cdFRpdGxlPzogc3RyaW5nO1xufT47XG5cbmV4cG9ydCB0eXBlIFNhbGVzZm9yY2VUYXNrID0gU2FsZXNmb3JjZVJlc3RBcGlTT2JqZWN0PHtcblx0U3ViamVjdD86IHN0cmluZztcblx0RGVzY3JpcHRpb24/OiBzdHJpbmc7XG59PjtcblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUNvbnRlbnROb3RlID0gU2FsZXNmb3JjZVJlc3RBcGlTT2JqZWN0PHtcblx0VGl0bGU/OiBzdHJpbmc7XG5cdFRleHRQcmV2aWV3Pzogc3RyaW5nO1xufT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FsZXNmb3JjZUFjdG9yIHtcblx0aWQ6IHN0cmluZztcblx0dXJsOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcblx0Y29tcGFueU5hbWU6IHN0cmluZztcblx0ZGlzcGxheU5hbWU6IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNhbGVzZm9yY2VUZXh0QXJlYSB7XG5cdGlzUmljaFRleHQ6IGJvb2xlYW47XG5cdHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTYWxlc2ZvcmNlRmVlZEl0ZW0ge1xuXHRpZDogc3RyaW5nO1xuXHR1cmw6IHN0cmluZztcblx0dHlwZTogc3RyaW5nO1xuXHRhY3Rvcj86IFNhbGVzZm9yY2VBY3Rvcjtcblx0Ym9keT86IFNhbGVzZm9yY2VUZXh0QXJlYTtcblx0aGVhZGVyPzogU2FsZXNmb3JjZVRleHRBcmVhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNhbGVzZm9yY2VGZWVkRWxlbWVudFBhZ2Uge1xuXHRjdXJyZW50UGFnZVRva2VuOiBzdHJpbmc7XG5cdGN1cnJlbnRQYWdlVXJsOiBzdHJpbmc7XG5cdGVsZW1lbnRzOiBTYWxlc2ZvcmNlRmVlZEl0ZW1bXTtcblx0aXNNb2RpZmllZFRva2VuOiBzdHJpbmc7XG5cdGlzTW9kaWZpZWRVcmw6IHN0cmluZztcblx0bmV4dFBhZ2VVcmw6IHN0cmluZztcblx0dXBkYXRlc1Rva2VuOiBzdHJpbmc7XG5cdHVwZGF0ZXNVcmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbm5lY3Rpb24oKTogU2FsZXNmb3JjZUNvbm5lY3Rpb24ge1xuXHRyZXR1cm4gc2ZDb25uO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0T2JqZWN0VXJsID0gKG9iamVjdElkOiBzdHJpbmcsIHNhbGVzZm9yY2VPcmdPcmlnaW46IHN0cmluZyk6IHN0cmluZyA9PlxuXHRgJHtzYWxlc2ZvcmNlT3JnT3JpZ2lufS8ke29iamVjdElkfWA7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hSZXN1bHRzKFxuXHRxdWVyeTogc3RyaW5nLFxuXHRzZWxlY3RlZE9iamVjdHM/OiBzdHJpbmdbXVxuKTogUHJvbWlzZTxcblx0KFNhbGVzZm9yY2VDb250YWN0IHwgU2FsZXNmb3JjZUFjY291bnQgfCBTYWxlc2ZvcmNlVGFzayB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZSB8IFNhbGVzZm9yY2VGZWVkSXRlbSlbXVxuPiB7XG5cdGNvbnN0IGFjY291bnRGaWVsZFNwZWMgPSBcIkFjY291bnQoSWQsIEluZHVzdHJ5LCBOYW1lLCBQaG9uZSwgVHlwZSwgV2Vic2l0ZSlcIjtcblx0Y29uc3QgY29udGFjdEZpZWxkU3BlYyA9IFwiQ29udGFjdChEZXBhcnRtZW50LCBFbWFpbCwgSWQsIE5hbWUsIFBob25lLCBUaXRsZSlcIjtcblx0Y29uc3QgdGFza0ZpZWxkU3BlYyA9IFwiVGFzayhJZCwgU3ViamVjdCwgRGVzY3JpcHRpb24pXCI7XG5cdGNvbnN0IGNvbnRlbnROb3RlRmllbGRTcGVjID0gXCJDb250ZW50Tm90ZShJZCwgVGl0bGUsIENvbnRlbnQsIFRleHRQcmV2aWV3KVwiO1xuXHRjb25zdCBmaWVsZFNwZWNNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPihbXG5cdFx0W1wiQWNjb3VudFwiLCBhY2NvdW50RmllbGRTcGVjXSxcblx0XHRbXCJDb250YWN0XCIsIGNvbnRhY3RGaWVsZFNwZWNdLFxuXHRcdFtcIlRhc2tcIiwgdGFza0ZpZWxkU3BlY10sXG5cdFx0W1wiQ29udGVudE5vdGVcIiwgY29udGVudE5vdGVGaWVsZFNwZWNdXG5cdF0pO1xuXHRjb25zdCBmaWVsZFNwZWNzID0gWy4uLmZpZWxkU3BlY01hcF1cblx0XHQuZmlsdGVyKCh4KSA9PiB7XG5cdFx0XHRpZiAoc2VsZWN0ZWRPYmplY3RzPy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHJldHVybiBzZWxlY3RlZE9iamVjdHMuaW5jbHVkZXMoeFswXSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KVxuXHRcdC5tYXAoKGYpID0+IGZbMV0pO1xuXG5cdGNvbnN0IGJhdGNoOiBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0SXRlbVtdID0gZmllbGRTcGVjcy5tYXAoKGZpZWxkU3BlYykgPT4ge1xuXHRcdGNvbnN0IHNhbGVzZm9yY2VTZWFyY2hRdWVyeSA9IGBGSU5EIHske2VzY2FwZVF1ZXJ5KFxuXHRcdFx0cXVlcnlcblx0XHQpfX0gSU4gQUxMIEZJRUxEUyBSRVRVUk5JTkcgJHtmaWVsZFNwZWN9IExJTUlUIDEwYDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRtZXRob2Q6IFwiR0VUXCIsXG5cdFx0XHR1cmw6IGAvc2VydmljZXMvZGF0YS92WFguWC9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChzYWxlc2ZvcmNlU2VhcmNoUXVlcnkpfWBcblx0XHR9O1xuXHR9KTtcblxuXHRjb25zdCBpbmNsdWRlQ2hhdHRlciA9ICFzZWxlY3RlZE9iamVjdHM/Lmxlbmd0aCB8fCBzZWxlY3RlZE9iamVjdHMuaW5jbHVkZXMoXCJDaGF0dGVyXCIpO1xuXHRpZiAoaW5jbHVkZUNoYXR0ZXIpIHtcblx0XHRiYXRjaC5wdXNoKHtcblx0XHRcdG1ldGhvZDogXCJHRVRcIixcblx0XHRcdHVybDogYC9zZXJ2aWNlcy9kYXRhL3ZYWC5YL2NoYXR0ZXIvZmVlZC1lbGVtZW50cz9xPSR7cXVlcnl9JnBhZ2VTaXplPTI1JnNvcnQ9TGFzdE1vZGlmaWVkRGF0ZURlc2NgXG5cdFx0fSk7XG5cdH1cblxuXHRjb25zdCBiYXRjaGVkUmVzdWx0cyA9IGF3YWl0IGdldEJhdGNoZWRSZXN1bHRzPFxuXHRcdHwgU2FsZXNmb3JjZVJlc3RBcGlTZWFyY2hSZXNwb25zZTxcblx0XHRcdFx0U2FsZXNmb3JjZUFjY291bnQgfCBTYWxlc2ZvcmNlQ29udGFjdCB8IFNhbGVzZm9yY2VUYXNrIHwgU2FsZXNmb3JjZUNvbnRlbnROb3RlXG5cdFx0ICA+XG5cdFx0fCBTYWxlc2ZvcmNlRmVlZEVsZW1lbnRQYWdlXG5cdD4oYmF0Y2gpO1xuXG5cdGxldCByZXN1bHRzOiAoXG5cdFx0fCBTYWxlc2ZvcmNlQWNjb3VudFxuXHRcdHwgU2FsZXNmb3JjZUNvbnRhY3Rcblx0XHR8IFNhbGVzZm9yY2VUYXNrXG5cdFx0fCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcblx0XHR8IFNhbGVzZm9yY2VGZWVkSXRlbVxuXHQpW10gPSBbXTtcblxuXHRpZiAoYmF0Y2hlZFJlc3VsdHMubGVuZ3RoKSB7XG5cdFx0bGV0IGlkeCA9IDA7XG5cdFx0Zm9yICg7IGlkeCA8IGZpZWxkU3BlY3MubGVuZ3RoOyBpZHgrKykge1xuXHRcdFx0Y29uc3Qgc2VhcmNoUmVzcG9uc2UgPSBiYXRjaGVkUmVzdWx0c1tpZHhdIGFzIFNhbGVzZm9yY2VSZXN0QXBpU2VhcmNoUmVzcG9uc2U8XG5cdFx0XHRcdFNhbGVzZm9yY2VBY2NvdW50IHwgU2FsZXNmb3JjZUNvbnRhY3QgfCBTYWxlc2ZvcmNlVGFzayB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxuXHRcdFx0Pjtcblx0XHRcdGlmIChzZWFyY2hSZXNwb25zZT8uc2VhcmNoUmVjb3Jkcz8ubGVuZ3RoKSB7XG5cdFx0XHRcdHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChzZWFyY2hSZXNwb25zZS5zZWFyY2hSZWNvcmRzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaW5jbHVkZUNoYXR0ZXIpIHtcblx0XHRcdGNvbnN0IGNoYXR0ZXJSZXNwb25zZSA9IGJhdGNoZWRSZXN1bHRzW2lkeCsrXSBhcyBTYWxlc2ZvcmNlRmVlZEVsZW1lbnRQYWdlO1xuXHRcdFx0aWYgKGNoYXR0ZXJSZXNwb25zZT8uZWxlbWVudHM/Lmxlbmd0aCkge1xuXHRcdFx0XHRyZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoY2hhdHRlclJlc3BvbnNlLmVsZW1lbnRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJhdGNoZWRSZXN1bHRzPFQ+KGJhdGNoUmVxdWVzdHM6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtW10pOiBQcm9taXNlPFRbXT4ge1xuXHRpZiAoYmF0Y2hSZXF1ZXN0cy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0Y29uc3QgYmF0Y2g6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3QgPSB7IGJhdGNoUmVxdWVzdHMsIGhhbHRPbkVycm9yOiBmYWxzZSB9O1xuXG5cdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ZDb25uLmV4ZWN1dGVBcGlSZXF1ZXN0PFNhbGVzZm9yY2VCYXRjaFJlc3BvbnNlPihcblx0XHRcIi9zZXJ2aWNlcy9kYXRhL3ZYWC5YL2NvbXBvc2l0ZS9iYXRjaC9cIixcblx0XHRcIlBPU1RcIixcblx0XHRiYXRjaCxcblx0XHR7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH1cblx0KTtcblxuXHRyZXR1cm4gcmVzcG9uc2UuZGF0YT8ucmVzdWx0cy5tYXAoKHIpID0+IHIucmVzdWx0IGFzIFQpID8/IFtdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvU2FsZXNmb3JjZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0ZW5hYmxlTG9nZ2luZygpO1xuXHRjb25zdCB7IG9yZ1VybCwgY29uc3VtZXJLZXkgfSA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdHNmQ29ubiA9IGF3YWl0IGNvbm5lY3Qob3JnVXJsLCBjb25zdW1lcktleSk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcpOiBzdHJpbmcge1xuXHQvLyBUaGVyZSBhcmUgc29tZSByZXNlcnZlZCBjaGFyYWN0ZXJzIGZvciBxdWVyaWVzIHNvIHdlIG5lZWQgdG8gZXNjYXBlIHRoZW1cblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIuc2FsZXNmb3JjZS5jb20vZG9jcy9hdGxhcy5lbi11cy5zb3FsX3Nvc2wubWV0YS9zb3FsX3Nvc2wvc2ZvcmNlX2FwaV9jYWxsc19zb3NsX2ZpbmQuaHRtI2kxNDIzMTA1XG5cdHJldHVybiBxdWVyeS5yZXBsYWNlKC9bIVwiJicoKSorOj9bXFxcXFxcXV57fH1+LV0vZ20sIFwiXFxcXCQmXCIpO1xufVxuIiwiaW1wb3J0IHsgQ3VzdG9tU2V0dGluZ3MgfSBmcm9tIFwiLi9zaGFwZXNcIjtcblxubGV0IHNldHRpbmdzOiBDdXN0b21TZXR0aW5ncztcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29uZmlndXJlZFNldHRpbmdzKCk6IFByb21pc2U8Q3VzdG9tU2V0dGluZ3M+IHtcblx0Y29uc3QgYXBwID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnQoKTtcblx0Y29uc3QgbWFuaWZlc3Q6IE9wZW5GaW4uTWFuaWZlc3QgJiB7IGN1c3RvbVNldHRpbmdzPzogQ3VzdG9tU2V0dGluZ3MgfSA9IGF3YWl0IGFwcC5nZXRNYW5pZmVzdCgpO1xuXG5cdGlmIChtYW5pZmVzdC5jdXN0b21TZXR0aW5ncyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2V0dGluZ3MgPSBtYW5pZmVzdC5jdXN0b21TZXR0aW5ncztcblx0fSBlbHNlIHtcblx0XHRzZXR0aW5ncyA9IHt9O1xuXHR9XG5cblx0cmV0dXJuIHNldHRpbmdzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKTogUHJvbWlzZTxDdXN0b21TZXR0aW5ncz4ge1xuXHRpZiAoc2V0dGluZ3MgPT09IHVuZGVmaW5lZCkge1xuXHRcdHNldHRpbmdzID0gYXdhaXQgZ2V0Q29uZmlndXJlZFNldHRpbmdzKCk7XG5cdH1cblx0cmV0dXJuIHNldHRpbmdzO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGluaXQgYXMgYm9vdHN0cmFwIH0gZnJvbSBcIi4vYm9vdHN0cmFwcGVyXCI7XG5pbXBvcnQgeyBpbml0IGFzIGluaXRpYWxpc2VQbGF0Zm9ybSB9IGZyb20gXCIuL3BsYXRmb3JtXCI7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBhc3luYyAoKSA9PiB7XG5cdGNvbnN0IHBsYXRmb3JtID0gZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7XG5cdGF3YWl0IHBsYXRmb3JtLm9uY2UoXCJwbGF0Zm9ybS1hcGktcmVhZHlcIiwgYXN5bmMgKCkgPT4gYm9vdHN0cmFwKCkpO1xuXHRhd2FpdCBpbml0aWFsaXNlUGxhdGZvcm0oKTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9