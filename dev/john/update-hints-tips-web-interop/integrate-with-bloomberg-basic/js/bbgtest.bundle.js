/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.mjs":
/*!*******************************************************************!*\
  !*** ../../node_modules/@openfin/bloomberg/openfin.bloomberg.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AdapterError: () => (/* binding */ oe),
/* harmony export */   ApiError: () => (/* binding */ ae),
/* harmony export */   InitializationError: () => (/* binding */ ie),
/* harmony export */   InteropError: () => (/* binding */ se),
/* harmony export */   TerminalConnectRequestError: () => (/* binding */ ce),
/* harmony export */   TerminalConnectionError: () => (/* binding */ ue),
/* harmony export */   connect: () => (/* binding */ le),
/* harmony export */   disableLogging: () => (/* binding */ pe),
/* harmony export */   enableLogging: () => (/* binding */ de),
/* harmony export */   getSecurityFromInstrumentContext: () => (/* binding */ ge)
/* harmony export */ });
var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{AdapterError:()=>AdapterError,ApiError:()=>ApiError,InitializationError:()=>InitializationError,InteropError:()=>InteropError,TerminalConnectRequestError:()=>TerminalConnectRequestError,TerminalConnectionError:()=>TerminalConnectionError,connect:()=>te,disableLogging:()=>I,enableLogging:()=>A,getSecurityFromInstrumentContext:()=>b});class ApiError extends Error{constructor(e="An unexpected error has occurred",t){super(e),this.name=this.constructor.name,this.stack=this.stack?.replace(/^(\w*Error)/,`${this.constructor.name}`),t&&(this.data=t)}}class AdapterError extends ApiError{constructor(e="Failed to execute adapter function",t){super(e,t)}}class InitializationError extends ApiError{constructor(e="Failed to initialize adapter",t){super(e,t)}}class InteropError extends ApiError{constructor(e="Failed to execute the interop function",t){super(e,t)}}class ParameterError extends ApiError{constructor(e){super(e=e??"Invalid parameter detected")}}class TerminalConnectionError extends ApiError{constructor(e="Failed to connect to the terminal",t){super(e,t)}}class TerminalConnectRequestError extends ApiError{constructor(e="Terminal Connect request failed",t){super(e,t)}}function n(e){return{arrayItems:e}}function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function o(e,t){return{props:e,additional:t}}function a(e){return{props:[],additional:e}}function i(e){return{ref:e}}var s,c,u,l,p;Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date,Date;!function(e){e.AppNotFound="AppNotFound",e.ErrorOnLaunch="ErrorOnLaunch",e.AppTimeout="AppTimeout",e.ResolverUnavailable="ResolverUnavailable",e.MalformedContext="MalformedContext",e.DesktopAgentNotFound="DesktopAgentNotFound"}(s||(s={})),function(e){e.NoAppsFound="NoAppsFound",e.ResolverUnavailable="ResolverUnavailable",e.UserCancelled="UserCancelledResolution",e.ResolverTimeout="ResolverTimeout",e.TargetAppUnavailable="TargetAppUnavailable",e.TargetInstanceUnavailable="TargetInstanceUnavailable",e.IntentDeliveryFailed="IntentDeliveryFailed",e.MalformedContext="MalformedContext",e.DesktopAgentNotFound="DesktopAgentNotFound"}(c||(c={})),function(e){e.NoResultReturned="NoResultReturned",e.IntentHandlerRejected="IntentHandlerRejected"}(u||(u={})),function(e){e.NoChannelFound="NoChannelFound",e.AccessDenied="AccessDenied",e.CreationFailed="CreationFailed",e.MalformedContext="MalformedContext"}(l||(l={})),function(e){e.ResponseTimedOut="ResponseToBridgeTimedOut",e.AgentDisconnected="AgentDisconnected",e.NotConnectedToBridge="NotConnectedToBridge",e.MalformedMessage="MalformedMessage"}(p||(p={}));var d;!function(e){e.Chart="fdc3.chart",e.ChatInitSettings="fdc3.chat.initSettings",e.ChatRoom="fdc3.chat.room",e.Contact="fdc3.contact",e.ContactList="fdc3.contactList",e.Country="fdc3.country",e.Currency="fdc3.currency",e.Email="fdc3.email",e.Instrument="fdc3.instrument",e.InstrumentList="fdc3.instrumentList",e.Interaction="fdc3.interaction",e.Nothing="fdc3.nothing",e.Organization="fdc3.organization",e.Portfolio="fdc3.portfolio",e.Position="fdc3.position",e.ChatSearchCriteria="fdc3.chat.searchCriteria",e.TimeRange="fdc3.timerange",e.TransactionResult="fdc3.transactionResult",e.Valuation="fdc3.valuation"}(d||(d={}));function g(e){return{arrayItems:e}}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function f(e,t){return{props:e,additional:t}}function w(e){return{props:[],additional:e}}function h(e){return{ref:e}}var y;Date,Date,Date,Date,Date,Date;!function(e){e.CreateInteraction="CreateInteraction",e.SendChatMessage="SendChatMessage",e.StartCall="StartCall",e.StartChat="StartChat",e.StartEmail="StartEmail",e.ViewAnalysis="ViewAnalysis",e.ViewChat="ViewChat",e.ViewChart="ViewChart",e.ViewContact="ViewContact",e.ViewHoldings="ViewHoldings",e.ViewInstrument="ViewInstrument",e.ViewInteractions="ViewInteractions",e.ViewMessages="ViewMessages",e.ViewNews="ViewNews",e.ViewOrders="ViewOrders",e.ViewProfile="ViewProfile",e.ViewQuote="ViewQuote",e.ViewResearch="ViewResearch"}(y||(y={}));const C=e=>{const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t)},E=e=>{let t=/\s+([\w-]+$)/.exec(e)?.[1];if(t)return t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase().replace("-m","-M"),t},b=e=>{if(e.type!==d.Instrument)return;const{id:t,market:n}=e,{BBG:r,FIGI:o,ticker:a}=t;if(r||o)return r??o;if(!a)return;return`${a} ${n?.BBG?n.BBG:"US"} Equity`};let v=!1;const D="[@openfin/bloomberg]",I=()=>{v=!1},A=()=>{v=!0,N("v2.0.0-beta.10")},R=(e,t)=>{if(!v)return;const n=t?`${D} ${t}`:D;e instanceof ApiError&&e.data?console.error(n,e,e.data):console.error(n,e)},N=(...e)=>{v&&console.log(D,...e)},x=(...e)=>{v&&console.warn(D,...e)};var T,S,M;"undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Bloomberg:{enableLogging:A,disableLogging:I}}}),function(e){e.CancelSubscription="CancelSubscription",e.Connect="Connect",e.CreateSubscription="CreateSubscription",e.Disconnect="Disconnect",e.ExecuteRequest="ExecuteRequest",e.LogMessage="LogMessage",e.SubscriptionEvent="SubscriptionEvent"}(T||(T={})),function(e){e[e.Error=0]="Error",e[e.Info=1]="Info",e[e.Warn=2]="Warn"}(S||(S={})),function(e){e.Local="Local",e.Remote="Remote"}(M||(M={}));const V=e=>async()=>{N("Retrieving launchpad groups");const t={query:"query {\n          groups {\n            ... on Groups {\n              items {\n                id\n                name\n                type\n                value\n              }\n            }\n            ... on Error {\n              errorCategory\n              errorMessage\n            }\n          }\n        }"};let n;try{n=await e(T.ExecuteRequest,t)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!n.success){const e=new TerminalConnectRequestError(n.error?.message,n.error);throw R(e),e}if(!n.data){const e=new TerminalConnectRequestError("Unexpected empty response data",n);throw R(e),e}const{groups:r}=JSON.parse(n.data);if(r.items)return r.items;const o=new TerminalConnectRequestError(r.errorMessage,r);throw R(o),o},$=e=>async(t,n)=>{if(null==t||"number"!=typeof t||Number.isNaN(t))throw new ParameterError("Group ID must be a valid number");if(!n?.trim())throw new ParameterError("Group value must be a non-empty string");N("Setting group value",{groupId:t,newValue:n});const r={query:`mutation {\n          setGroupValue(\n            filter: {id: [${t}]},\n            value: "${n}") {\n            ... on GroupResults {\n              results {\n                result {\n                  succeeded\n                  details\n                }\n              }\n            }\n            ... on Error {\n              errorCategory\n              errorMessage\n            }\n          }\n        }`};let o;try{o=await e(T.ExecuteRequest,r)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!o.success){const e=new TerminalConnectRequestError(o.error?.message,o.error);throw R(e),e}if(!o.data){const e=new TerminalConnectRequestError("Unexpected empty response data",o);throw R(e),e}const{setGroupValue:a}=JSON.parse(o.data);if("errorMessage"in a){const e=new TerminalConnectRequestError(a.errorMessage,a);throw R(e),e}},q=new Map,B=async(e,t,n,r)=>{const o=await O(e)(t);if(!o)return;const a=await(e=>async(t=[])=>{N("Creating group subscription",{groupIdFilter:t});const n={query:`subscription {\n        subscribeGroupEvents (\n          filter:{\n            event: [\n              VALUE_CHANGED\n            ]\n            ${t.length?`,group: {id: ${JSON.stringify(t)}}`:""}\n          }){\n          type\n          group{\n            id\n            name\n            value\n          }\n        }\n      }`};let r;try{r=await e(T.CreateSubscription,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectRequestError(r.error?.message,r.error);throw R(e),e}if(!r.data){const e=new TerminalConnectRequestError("Unexpected empty response data",r);throw R(e),e}const{subscriptionId:o}=JSON.parse(r.data);return o})(e)(o),i={id:a,listener:U(n,r),unsubscribe:F(e,a)};return q.set(a,i),i},F=(e,t)=>async()=>{N("Unsubscribing group events",{subscriptionId:t});try{await(e=>async t=>{const n={subscriptionId:t};let r;try{r=await e(T.CancelSubscription,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectRequestError(r.error?.message,r.error);throw R(e),e}})(e)(t)}catch(e){R(e)}q.delete(t)},U=(e,t)=>async n=>{try{e?.(n),N("Setting new context: ",n),await fin.me.interop.setContext(n)}catch(e){const n=new InteropError(void 0,e);R(n),t?.(n)}},P=async(e,t)=>{N("Group event received",{data:t,subscriptionId:e});const{group:n}=t.subscribeGroupEvents;if(!n)return void x("Received group event with no group",{subscriptionId:e});if(!q.has(e))return void x("Received group event for unknown subscription",{subscriptionId:e});const r=q.get(e),o=(e=>{const t={type:d.Instrument,id:{BBG:e}};if("Equity"===E(e)){const[n,r]=e.split(/\s+/);t.id.ticker=n?.toUpperCase(),t.market={BBG:r?.toUpperCase()}}return t})(n.value);o.openfinBbgApi=!0,r?.listener(o)},O=e=>async t=>{if(!t)return;if("*"===t)return[];Array.isArray(t)||(t=[t]);const n=await V(e)(),r=t.map((e=>{const t=n.find((t=>t.name?.toUpperCase()===e.toUpperCase()))?.id;return t||x(`Group not found: ${e}`),t})).filter(Boolean);return r.length?r:void 0},G="bloomberg-adapter",L=`bloomberg-adapter-${void 0!==crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>{const t=crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4;return(Number(e)^t).toString(16)}))}`;let k;const z=async(e=!1)=>{try{if(!await(async e=>(await fin.InterApplicationBus.Channel.getAllChannels()).some((t=>t.channelName===e)))(L)){const{port:t,securityRealm:n}=await fin.System.getRuntimeInfo(),{licenseKey:r}=await fin.Application.getCurrentSync().getManifest(),o=fin.me.uuid;N("Initializing adapter",{channelName:L,licenseKey:r,port:t,securityRealm:n,uuid:o,adapterLoggingEnabled:e}),await(async()=>{const e=await fin.Application.getCurrentSync().getManifest(),t=e.appAssets?.find((e=>e.alias===G));if(t)return void x("Detected adapter package in app manifest appAssets",t);if(await j())return void N("Using existing adapter package");const n={alias:G,src:"https://cdn.openfin.co/release/integrations/bloomberg/2.0.0-beta.10/OpenFin.Bloomberg.zip",target:"OpenFin.Bloomberg.exe",version:"2.0.0-beta.10"};N("Downloading adapter package",n);try{await fin.System.downloadAsset(n,(()=>{}))}catch(e){throw R("Unable to download adapter package"),e}})(),fin.System.launchExternalProcess({alias:G,arguments:`"${o}" "${r??""}" "${t}" "${n??""}" "${L}" "${e}"`,lifetime:"application"})}const n=fin.InterApplicationBus.Channel.connect(L,{payload:{version:"2.0.0-beta.10"}}),r=new Promise((e=>{setTimeout(e,2e4)})).then((()=>{throw new ApiError("Connection to adapter timed out")}));return k=await Promise.race([n,r]),k.register(T.LogMessage,H),k.register(T.SubscriptionEvent,J),N("Connected to adapter",{uuid:k.providerIdentity.uuid}),{channelName:L,dispatch:(...e)=>k.dispatch(...e),initTerminal:(t=k,async e=>{const n={apiKey:e};let r;try{r=await t.dispatch(T.Connect,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectionError(r.error?.message,r.error);throw R(e),e}}),version:"2.0.0-beta.10"}}catch(e){const t=e instanceof ApiError?new InitializationError(e.message):new InitializationError(void 0,e);throw R(t),t}var t},H=e=>{const{level:t,message:n}=e,r="[adapter]";switch(t){case S.Error:R(n,r);break;case S.Warn:x(r,n);break;case S.Info:default:N(r,n)}},J=async e=>{const{data:t,error:n,subscriptionId:r}=e;if(!r||!t){const t=new TerminalConnectRequestError("Invalid subscription event",e);throw R(t),t}if(n){const e=new TerminalConnectRequestError(void 0,n);throw R(e),e}const o=JSON.parse(t);if(!0===Boolean(o.subscribeGroupEvents))await P(r,o);else x("Received unknown subscription event",t)},j=async()=>{try{return"2.0.0-beta.10"===(await fin.System.getAppAssetInfo({alias:G})).version}catch(e){return!1}},Q=async(e,t)=>{if(!e)return void x("No action specified, ignoring");if("group"in e){const{group:n,security:r}=e;return void await(e=>async(t,n)=>{if(!n)return;N(`Setting ${"*"===t?"every group":`group ${t}`} security to ${n}`);const r=await V(e)();if("*"===t)await Promise.all(r.map((t=>t.id?$(e)(t.id,n):Promise.resolve())));else{const o=r.find((e=>e.name?.toUpperCase()===t.toUpperCase()))?.id;null==o?x(`Unable to update group security for ${t}: group not found`):await $(e)(o,n)}})(t)(n,r)}const{mnemonic:n,securities:r,target:o,tail:a}=e,[i,s]=r??[];await(e=>async(t,n,r,o,a)=>{if(!t?.trim())throw new ParameterError("Mnemonic must be a non-empty string");if(null==n||"string"==typeof n&&!n?.trim())throw new ParameterError("Target must be a number (0-3) or non-empty string");N("Running terminal function",{mnemonic:t,target:n,security1:r,security2:o,tail:a});const i=t.trim().toUpperCase();let s,c;"number"==typeof n?(s="runFunctionInPanel",c="panel: "+(1===n?"ONE":2===n?"TWO":3===n?"THREE":"ZERO")):(s="runFunctionInTab",c=`tabName: "${n.trim()}"`);const u={query:`mutation {\n        ${s}(input: {\n          mnemonic: "${i}",\n          ${c},\n          ${r?`security1: "${r}"`:""}\n          ${o?`security2: "${o}"`:""}\n          ${a?`tail: "${a}"`:""}\n        }) {\n          ... on Result {\n            succeeded\n            details\n          }\n          ... on Error {\n            errorCategory\n            errorMessage\n          }\n        }\n      }`};let l;try{l=await e(T.ExecuteRequest,u)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!l.success){const e=new TerminalConnectRequestError(l.error?.message,l.error);throw R(e),e}if(l.data){const e=JSON.parse(l.data);let t;if("runFunctionInTab"in e?t=e.runFunctionInTab.errorMessage:"runFunctionInPanel"in e&&(t=e.runFunctionInPanel.errorMessage),t){const n=new TerminalConnectRequestError(t,e);throw R(n),n}}})(t)(n,o,i,s,a)},W=()=>e=>{const t=e,{name:n,id:r}=t,o=r?.BBG??n;if(o)return{mnemonic:"BIO",target:0,tail:o};x("No valid identifier provided in context, ignoring")},Y=e=>t=>{const n=b(t);if(n)return{mnemonic:e,securities:[n],target:0};x("No security provided in context, ignoring")},K=async(e,t,n,r)=>{const o=(()=>{const e=[],t=[];return e.push([d.Instrument,Y("DES")]),e.push([d.Contact,W()]),e.push([d.Organization,_()]),t.push([y.StartChat,[[d.Nothing,Z("IB")],[d.Contact,e=>{const{id:t,name:n}=e;return{mnemonic:"IB",target:0,tail:t.email??n}}]]]),t.push([y.ViewAnalysis,[[d.Nothing,Z("ANR")],[d.Instrument,e=>{const t=b(e);if(!t)return void x("No security provided in context, ignoring");let n;switch(E(t)){case"Equity":case"Index":n="FA";break;case"Corp":case"Govt":case"Mtge":case"Muni":case"Pfd":n="YAS";break;default:n="ANR"}return{mnemonic:n,securities:[t],target:0}}]]]),t.push([y.ViewChart,[[d.Nothing,Z("GIP")],[d.Instrument,Y("GIP")],[d.Chart,e=>{const{interval:t,instruments:n,range:r,style:o}=e,a={mnemonic:"GIP",target:0};let i=!0;const s=b(n?.[0]??e);s&&(a.securities=[s]);const{endTime:c,startTime:u}=r??{};if(u){const e=C(u.toString());if(e&&(a.tail=`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`,i=!1,c)){const e=C(c.toString());e&&(a.tail+=` ${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`)}}switch(o?.toLowerCase()){case"bar":a.mnemonic=i?"IGPO":"GPO";break;case"candle":a.mnemonic=i?"IGPC":"GPC";break;default:a.mnemonic=i?"GIP":"GP"}if(!i&&t)switch(t.toLowerCase()){case"daily":a.tail+=" D";break;case"weekly":a.tail+=" W";break;case"monthly":a.tail+="M";break;case"quarterly":a.tail+=" Q";break;case"yearly":a.tail+=" Y"}return a}]]]),t.push([y.ViewChat,[[d.Nothing,Z("IB")],[d.Contact,e=>{const{id:t,name:n}=e;return{mnemonic:"IB",target:0,tail:t.email??n}}]]]),t.push([y.ViewContact,[[d.Nothing,Z("BIO")],[d.Contact,W()]]]),t.push([y.ViewInstrument,[[d.Nothing,Z("DES")],[d.Instrument,Y("DES")]]]),t.push([y.ViewNews,[[d.Nothing,Z("CN")],[d.Instrument,Y("CN")]]]),t.push([y.ViewProfile,[[d.Nothing,Z("DES")],[d.Contact,W()],[d.Organization,_()]]]),t.push([y.ViewQuote,[[d.Nothing,Z("ALLQ")],[d.Instrument,Y("ALLQ")]]]),t.push([y.ViewResearch,[[d.Nothing,Z("BRC")],[d.Instrument,Y("BRC")]]]),{contexts:e,intents:t}})(),a=(e=>{const t=([e])=>!!(e??"").trim();return{contexts:[...e?.contexts??[]].filter(t),intents:[...e?.intents??[]].filter((([e,n])=>{const r=[...n??[]].filter(t);return!!(e??"").trim()&&r.length>0}))}})(t),i=new Map(o.contexts);a.contexts?.forEach((([e])=>{i.has(e)&&i.delete(e)})),o.contexts=Array.from(i);const s=new Map(o.intents);a.intents?.forEach((([e])=>{s.has(e)&&s.delete(e)})),o.intents=Array.from(s);const c=[...o.contexts,...a.contexts??[]],u=[...o.intents,...a.intents??[]],l=[];let p;c.length&&l.push(fin.me.interop.addContextHandler(((e,t,n,r)=>async o=>{o?!0!==o.openfinBbgApi&&(N("Context received",o),o.type!==d.Nothing?await X(e,o,t,n,r):N("Null context received, ignoring")):N("No context info provided, ignoring")})(e,c,n,r))),u.length&&u.forEach((([t,o])=>{l.push(fin.me.interop.registerIntentHandler(((e,t,n,r)=>async o=>{N("Intent received",o),t?await X(e,o.context,t,n,r):x(`No actions have been provided for intent ${o.name}, ignoring`)})(e,o,n,r),t))}));try{p=await Promise.all(l)}catch(e){const t=new InteropError("Failed to register interop handlers",e);throw R(t),t}return p},Z=e=>t=>({mnemonic:e,target:0}),_=()=>e=>{const{name:t}=e;if(t)return{mnemonic:"SEAR",target:0,tail:t};x("No valid identifier provided in context, ignoring")},X=async(e,t,n,r,o)=>{r?.(t),N("Processing context",t),n.some((([e])=>e===t.type))?await Promise.all(n.filter((([e])=>e===t.type)).map((async([,n])=>{let r;try{r=await n(t)}catch(e){const t=new ApiError("Unexpected error in context action handler",e);return R(t),void o?.(t)}try{await Q(r,e)}catch(e){const t=e instanceof ApiError?e:new ApiError(void 0,e);R(t),o?.(t)}}))):x(`No action has been defined for context type ${t.type}, ignoring`)};var ee;!function(e){e.Bloomberg="BLOOMBERG"}(ee||(ee={}));const te=async(e,t)=>{N("Creating connection",{config:t}),re(ee.Bloomberg);const n=await z(v);await n.initTerminal(e);const{actions:r,interopDisabled:o,onContextChanged:a,onError:i}=t??{},s=void 0===t?.groups?"*":t.groups,c=[];if(!0!==o){c.push(...await K(n.dispatch,r,a,i));const e=await B(n.dispatch,s,a,i);e&&c.push(e)}return{disconnect:ne(n.dispatch,c),executeApiRequest:(u=n.dispatch,async(e,t)=>{N("Executing API request",{query:e});const n={query:e};let r;t&&(n.service=t);try{r=await u(T.ExecuteRequest,n)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!r.success){const e=new TerminalConnectRequestError(r.error?.message,r.error);throw R(e),e}if(!r.data){const e=new TerminalConnectRequestError("Unexpected empty response data",r);throw R(e),e}const o=JSON.parse(r.data);if("errorMessage"in o){const e=new TerminalConnectRequestError(o.errorMessage,o);throw R(e),e}return o})};var u},ne=(e,t=[])=>async()=>{N("Disconnecting");try{await Promise.all(t.map((async e=>{await e.unsubscribe()}))),await(e=>async()=>{let t;try{t=await e(T.Disconnect,null)}catch(e){const t=new AdapterError(void 0,e);throw R(t),t}if(!t.success){const e=new TerminalConnectionError("Failed to disconnect terminal",t.error);throw R(e),e}})(e)()}catch(e){const t=new ApiError("Disconnection failed",e);throw R(t),t}},re=async e=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:"2.0.0-beta.10",componentName:e}})}catch(t){x(`Unable to register usage for feature ${e}: ${t?.message}`)}};var oe=t.AdapterError,ae=t.ApiError,ie=t.InitializationError,se=t.InteropError,ce=t.TerminalConnectRequestError,ue=t.TerminalConnectionError,le=t.connect,pe=t.disableLogging,de=t.enableLogging,ge=t.getSecurityFromInstrumentContext;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*******************************!*\
  !*** ./client/src/bbgtest.ts ***!
  \*******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/bloomberg */ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.mjs");

let bbgConnection;
let selectedIntentType = "";
let selectedIntentValue = "";
let fdc3Denomination = "";
let bbgMnemonic = "";
let btnConnect;
let btnDisconnect;
let btnClearLogs;
let btnQuery;
let intentTypeElement;
let intentValueElement;
let logOutput;
const API_KEY = "<Please insert your API key here>";
window.addEventListener("DOMContentLoaded", async () => {
    // Enable logging in the BBG package
    (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    // Initialize the DOM elements.
    initializeDOM();
});
/**
 * Initialize the DOM.
 */
function initializeDOM() {
    btnConnect = document.querySelector("#btnConnect");
    btnDisconnect = document.querySelector("#btnDisconnect");
    btnClearLogs = document.querySelector("#btnClear");
    btnQuery = document.querySelector("#btnQuery");
    intentTypeElement = document.querySelector("#intentType");
    intentValueElement = document.querySelector("#intentValue");
    logOutput = document.querySelector("#logOutput");
    if (btnConnect) {
        btnConnect.addEventListener("click", async () => {
            if (btnConnect) {
                btnConnect.disabled = true;
            }
            await connectToBBGTerminal();
            updateState();
        });
    }
    if (btnDisconnect) {
        btnDisconnect.addEventListener("click", async () => {
            if (btnDisconnect) {
                btnDisconnect.disabled = true;
            }
            await disconnectFromBBGTerminal();
            updateState();
        });
    }
    if (btnClearLogs) {
        btnClearLogs.addEventListener("click", clearLogs);
    }
    if (btnQuery) {
        btnQuery.addEventListener("click", fireIntentForBBG);
    }
    if (intentTypeElement) {
        intentTypeElement.addEventListener("change", (event) => {
            if (intentTypeElement?.value) {
                if (btnQuery) {
                    btnQuery.disabled = true;
                }
                switch (intentTypeElement?.value) {
                    case "ViewChart":
                        logInformation("Intent to be fired is ViewChart. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: GP");
                        selectedIntentType = "ViewChart";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "GP";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                    case "ViewContact":
                        logInformation("Intent to be fired is ViewContact. Content Type is fdc3.contact. Bloomberg Terminal Mnemonic: BIO");
                        selectedIntentType = "ViewContact";
                        fdc3Denomination = "fdc3.contact";
                        bbgMnemonic = "BIO";
                        populateSelect(intentValueElement, [
                            {
                                value: "William Henry Gates",
                                label: "William Henry Gates"
                            },
                            {
                                value: "Larry Ellison",
                                label: "Larry Ellison"
                            },
                            {
                                value: "Robert Iger",
                                label: "Robert Iger"
                            }
                        ]);
                        break;
                    case "ViewInstrument":
                        logInformation("Intent to be fired is ViewInstrument. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: DES");
                        selectedIntentType = "ViewInstrument";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "DES";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                    case "ViewQuote":
                        logInformation("Intent to be fired is ViewQuote. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: Q");
                        selectedIntentType = "ViewQuote";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "Q";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                }
                updateState();
            }
        });
    }
    if (intentValueElement) {
        intentValueElement.addEventListener("change", () => {
            if (intentValueElement) {
                selectedIntentValue = intentValueElement.value;
                if (selectedIntentValue.length > 0) {
                    logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
                }
                updateState();
            }
        });
    }
    updateState();
}
/**
 * Connect to Bloomberg Terminal.
 */
async function connectToBBGTerminal() {
    try {
        logInformation("Checking Bloomberg Terminal Status");
        bbgConnection = await (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.connect)(API_KEY);
        logInformation("Connection successful");
    }
    catch (error) {
        bbgConnection = undefined;
        console.log(error);
        logInformation(errorToString(error));
    }
}
/**
 * Disconnect from Bloomberg Terminal.
 */
async function disconnectFromBBGTerminal() {
    if (bbgConnection) {
        try {
            logInformation("Disconnecting from Bloomberg Terminal");
            await bbgConnection.disconnect();
        }
        finally {
            bbgConnection = undefined;
            logInformation("Disconnected from Bloomberg Terminal");
        }
    }
}
/**
 * Fire an intent.
 */
async function fireIntentForBBG() {
    if (bbgConnection) {
        try {
            logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
            let intent;
            switch (selectedIntentType) {
                case "ViewContact":
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            name: selectedIntentValue,
                            id: {}
                        }
                    };
                    break;
                default:
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            id: {
                                ticker: selectedIntentValue
                            }
                        }
                    };
                    break;
            }
            await fin.me.interop.fireIntent(intent);
        }
        catch (error) {
            logInformation(`Error while trying to raise intent: ${errorToString(error)}`);
        }
    }
    else {
        logInformation("Not connected to the Bloomberg Terminal. Please check your status or log in again.");
    }
}
/**
 * Update the state of the DOM.
 */
function updateState() {
    const isConnected = bbgConnection !== undefined;
    if (btnConnect) {
        btnConnect.disabled = isConnected;
    }
    if (btnDisconnect) {
        btnDisconnect.disabled = !isConnected;
    }
    if (intentTypeElement) {
        intentTypeElement.disabled = !isConnected;
    }
    if (intentValueElement) {
        intentValueElement.disabled = !isConnected || selectedIntentType.length === 0;
    }
    if (btnQuery) {
        btnQuery.disabled = !isConnected || selectedIntentValue.length === 0;
    }
}
/**
 * Log information to the output element.
 * @param info The information to log.
 */
function logInformation(info) {
    if (logOutput) {
        logOutput.textContent = `${logOutput.textContent}${info}\n\n`;
        logOutput.scrollTop = logOutput.scrollHeight;
    }
}
/**
 * Convert and error to a string.
 * @param err The error to convert.
 * @returns The error as a string.
 */
function errorToString(err) {
    if (err instanceof Error) {
        return err.message;
    }
    else if (typeof err === "string") {
        return err;
    }
    return JSON.stringify(err);
}
/**
 * Clear the logs.
 */
function clearLogs() {
    if (logOutput) {
        logOutput.textContent = "";
        logOutput.scrollTop = 0;
    }
}
/**
 * Populate a select control with a list of items.
 * @param select The select element to populate.
 * @param values The values to populate the element with.
 */
function populateSelect(select, values) {
    if (select) {
        select.innerHTML = "";
        const opt = document.createElement("option");
        opt.value = "";
        opt.text = "Please select value";
        opt.disabled = true;
        opt.selected = true;
        select.append(opt);
        for (const val of values) {
            const optVal = document.createElement("option");
            optVal.value = val.value;
            optVal.text = val.label;
            select.append(optVal);
        }
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7QUFDRixDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQVMsY0FBYyxDQUFDLE1BQWdDLEVBQUUsTUFBMEM7SUFDbkcsSUFBSSxNQUFNLEVBQUUsQ0FBQztRQUNaLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0MsR0FBRyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixHQUFHLENBQUMsSUFBSSxHQUFHLHFCQUFxQixDQUFDO1FBQ2pDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLEdBQUcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFbkIsS0FBSyxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztZQUMxQixNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUN6QixNQUFNLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2QixDQUFDO0lBQ0YsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlZ3JhdGUtd2l0aC1ibG9vbWJlcmctYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL2Jsb29tYmVyZy9vcGVuZmluLmJsb29tYmVyZy5tanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljLy4vY2xpZW50L3NyYy9iYmd0ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlPXtkOih0LG4pPT57Zm9yKHZhciByIGluIG4pZS5vKG4scikmJiFlLm8odCxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7ZW51bWVyYWJsZTohMCxnZXQ6bltyXX0pfSxvOihlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sdD17fTtlLmQodCx7QWRhcHRlckVycm9yOigpPT5BZGFwdGVyRXJyb3IsQXBpRXJyb3I6KCk9PkFwaUVycm9yLEluaXRpYWxpemF0aW9uRXJyb3I6KCk9PkluaXRpYWxpemF0aW9uRXJyb3IsSW50ZXJvcEVycm9yOigpPT5JbnRlcm9wRXJyb3IsVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yOigpPT5UZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IsVGVybWluYWxDb25uZWN0aW9uRXJyb3I6KCk9PlRlcm1pbmFsQ29ubmVjdGlvbkVycm9yLGNvbm5lY3Q6KCk9PnRlLGRpc2FibGVMb2dnaW5nOigpPT5JLGVuYWJsZUxvZ2dpbmc6KCk9PkEsZ2V0U2VjdXJpdHlGcm9tSW5zdHJ1bWVudENvbnRleHQ6KCk9PmJ9KTtjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZFwiLHQpe3N1cGVyKGUpLHRoaXMubmFtZT10aGlzLmNvbnN0cnVjdG9yLm5hbWUsdGhpcy5zdGFjaz10aGlzLnN0YWNrPy5yZXBsYWNlKC9eKFxcdypFcnJvcikvLGAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKSx0JiYodGhpcy5kYXRhPXQpfX1jbGFzcyBBZGFwdGVyRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGV4ZWN1dGUgYWRhcHRlciBmdW5jdGlvblwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIEluaXRpYWxpemF0aW9uRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGluaXRpYWxpemUgYWRhcHRlclwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIEludGVyb3BFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJGYWlsZWQgdG8gZXhlY3V0ZSB0aGUgaW50ZXJvcCBmdW5jdGlvblwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIFBhcmFtZXRlckVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoZT1lPz9cIkludmFsaWQgcGFyYW1ldGVyIGRldGVjdGVkXCIpfX1jbGFzcyBUZXJtaW5hbENvbm5lY3Rpb25FcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJGYWlsZWQgdG8gY29ubmVjdCB0byB0aGUgdGVybWluYWxcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiVGVybWluYWwgQ29ubmVjdCByZXF1ZXN0IGZhaWxlZFwiLHQpe3N1cGVyKGUsdCl9fWZ1bmN0aW9uIG4oZSl7cmV0dXJue2FycmF5SXRlbXM6ZX19ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybnt1bmlvbk1lbWJlcnM6dH19ZnVuY3Rpb24gbyhlLHQpe3JldHVybntwcm9wczplLGFkZGl0aW9uYWw6dH19ZnVuY3Rpb24gYShlKXtyZXR1cm57cHJvcHM6W10sYWRkaXRpb25hbDplfX1mdW5jdGlvbiBpKGUpe3JldHVybntyZWY6ZX19dmFyIHMsYyx1LGwscDtEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlOyFmdW5jdGlvbihlKXtlLkFwcE5vdEZvdW5kPVwiQXBwTm90Rm91bmRcIixlLkVycm9yT25MYXVuY2g9XCJFcnJvck9uTGF1bmNoXCIsZS5BcHBUaW1lb3V0PVwiQXBwVGltZW91dFwiLGUuUmVzb2x2ZXJVbmF2YWlsYWJsZT1cIlJlc29sdmVyVW5hdmFpbGFibGVcIixlLk1hbGZvcm1lZENvbnRleHQ9XCJNYWxmb3JtZWRDb250ZXh0XCIsZS5EZXNrdG9wQWdlbnROb3RGb3VuZD1cIkRlc2t0b3BBZ2VudE5vdEZvdW5kXCJ9KHN8fChzPXt9KSksZnVuY3Rpb24oZSl7ZS5Ob0FwcHNGb3VuZD1cIk5vQXBwc0ZvdW5kXCIsZS5SZXNvbHZlclVuYXZhaWxhYmxlPVwiUmVzb2x2ZXJVbmF2YWlsYWJsZVwiLGUuVXNlckNhbmNlbGxlZD1cIlVzZXJDYW5jZWxsZWRSZXNvbHV0aW9uXCIsZS5SZXNvbHZlclRpbWVvdXQ9XCJSZXNvbHZlclRpbWVvdXRcIixlLlRhcmdldEFwcFVuYXZhaWxhYmxlPVwiVGFyZ2V0QXBwVW5hdmFpbGFibGVcIixlLlRhcmdldEluc3RhbmNlVW5hdmFpbGFibGU9XCJUYXJnZXRJbnN0YW5jZVVuYXZhaWxhYmxlXCIsZS5JbnRlbnREZWxpdmVyeUZhaWxlZD1cIkludGVudERlbGl2ZXJ5RmFpbGVkXCIsZS5NYWxmb3JtZWRDb250ZXh0PVwiTWFsZm9ybWVkQ29udGV4dFwiLGUuRGVza3RvcEFnZW50Tm90Rm91bmQ9XCJEZXNrdG9wQWdlbnROb3RGb3VuZFwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuTm9SZXN1bHRSZXR1cm5lZD1cIk5vUmVzdWx0UmV0dXJuZWRcIixlLkludGVudEhhbmRsZXJSZWplY3RlZD1cIkludGVudEhhbmRsZXJSZWplY3RlZFwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuTm9DaGFubmVsRm91bmQ9XCJOb0NoYW5uZWxGb3VuZFwiLGUuQWNjZXNzRGVuaWVkPVwiQWNjZXNzRGVuaWVkXCIsZS5DcmVhdGlvbkZhaWxlZD1cIkNyZWF0aW9uRmFpbGVkXCIsZS5NYWxmb3JtZWRDb250ZXh0PVwiTWFsZm9ybWVkQ29udGV4dFwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuUmVzcG9uc2VUaW1lZE91dD1cIlJlc3BvbnNlVG9CcmlkZ2VUaW1lZE91dFwiLGUuQWdlbnREaXNjb25uZWN0ZWQ9XCJBZ2VudERpc2Nvbm5lY3RlZFwiLGUuTm90Q29ubmVjdGVkVG9CcmlkZ2U9XCJOb3RDb25uZWN0ZWRUb0JyaWRnZVwiLGUuTWFsZm9ybWVkTWVzc2FnZT1cIk1hbGZvcm1lZE1lc3NhZ2VcIn0ocHx8KHA9e30pKTt2YXIgZDshZnVuY3Rpb24oZSl7ZS5DaGFydD1cImZkYzMuY2hhcnRcIixlLkNoYXRJbml0U2V0dGluZ3M9XCJmZGMzLmNoYXQuaW5pdFNldHRpbmdzXCIsZS5DaGF0Um9vbT1cImZkYzMuY2hhdC5yb29tXCIsZS5Db250YWN0PVwiZmRjMy5jb250YWN0XCIsZS5Db250YWN0TGlzdD1cImZkYzMuY29udGFjdExpc3RcIixlLkNvdW50cnk9XCJmZGMzLmNvdW50cnlcIixlLkN1cnJlbmN5PVwiZmRjMy5jdXJyZW5jeVwiLGUuRW1haWw9XCJmZGMzLmVtYWlsXCIsZS5JbnN0cnVtZW50PVwiZmRjMy5pbnN0cnVtZW50XCIsZS5JbnN0cnVtZW50TGlzdD1cImZkYzMuaW5zdHJ1bWVudExpc3RcIixlLkludGVyYWN0aW9uPVwiZmRjMy5pbnRlcmFjdGlvblwiLGUuTm90aGluZz1cImZkYzMubm90aGluZ1wiLGUuT3JnYW5pemF0aW9uPVwiZmRjMy5vcmdhbml6YXRpb25cIixlLlBvcnRmb2xpbz1cImZkYzMucG9ydGZvbGlvXCIsZS5Qb3NpdGlvbj1cImZkYzMucG9zaXRpb25cIixlLkNoYXRTZWFyY2hDcml0ZXJpYT1cImZkYzMuY2hhdC5zZWFyY2hDcml0ZXJpYVwiLGUuVGltZVJhbmdlPVwiZmRjMy50aW1lcmFuZ2VcIixlLlRyYW5zYWN0aW9uUmVzdWx0PVwiZmRjMy50cmFuc2FjdGlvblJlc3VsdFwiLGUuVmFsdWF0aW9uPVwiZmRjMy52YWx1YXRpb25cIn0oZHx8KGQ9e30pKTtmdW5jdGlvbiBnKGUpe3JldHVybnthcnJheUl0ZW1zOmV9fWZ1bmN0aW9uIG0oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm57dW5pb25NZW1iZXJzOnR9fWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm57cHJvcHM6ZSxhZGRpdGlvbmFsOnR9fWZ1bmN0aW9uIHcoZSl7cmV0dXJue3Byb3BzOltdLGFkZGl0aW9uYWw6ZX19ZnVuY3Rpb24gaChlKXtyZXR1cm57cmVmOmV9fXZhciB5O0RhdGUsRGF0ZSxEYXRlLERhdGUsRGF0ZSxEYXRlOyFmdW5jdGlvbihlKXtlLkNyZWF0ZUludGVyYWN0aW9uPVwiQ3JlYXRlSW50ZXJhY3Rpb25cIixlLlNlbmRDaGF0TWVzc2FnZT1cIlNlbmRDaGF0TWVzc2FnZVwiLGUuU3RhcnRDYWxsPVwiU3RhcnRDYWxsXCIsZS5TdGFydENoYXQ9XCJTdGFydENoYXRcIixlLlN0YXJ0RW1haWw9XCJTdGFydEVtYWlsXCIsZS5WaWV3QW5hbHlzaXM9XCJWaWV3QW5hbHlzaXNcIixlLlZpZXdDaGF0PVwiVmlld0NoYXRcIixlLlZpZXdDaGFydD1cIlZpZXdDaGFydFwiLGUuVmlld0NvbnRhY3Q9XCJWaWV3Q29udGFjdFwiLGUuVmlld0hvbGRpbmdzPVwiVmlld0hvbGRpbmdzXCIsZS5WaWV3SW5zdHJ1bWVudD1cIlZpZXdJbnN0cnVtZW50XCIsZS5WaWV3SW50ZXJhY3Rpb25zPVwiVmlld0ludGVyYWN0aW9uc1wiLGUuVmlld01lc3NhZ2VzPVwiVmlld01lc3NhZ2VzXCIsZS5WaWV3TmV3cz1cIlZpZXdOZXdzXCIsZS5WaWV3T3JkZXJzPVwiVmlld09yZGVyc1wiLGUuVmlld1Byb2ZpbGU9XCJWaWV3UHJvZmlsZVwiLGUuVmlld1F1b3RlPVwiVmlld1F1b3RlXCIsZS5WaWV3UmVzZWFyY2g9XCJWaWV3UmVzZWFyY2hcIn0oeXx8KHk9e30pKTtjb25zdCBDPWU9Pntjb25zdCB0PURhdGUucGFyc2UoZSk7aWYoIU51bWJlci5pc05hTih0KSlyZXR1cm4gbmV3IERhdGUodCl9LEU9ZT0+e2xldCB0PS9cXHMrKFtcXHctXSskKS8uZXhlYyhlKT8uWzFdO2lmKHQpcmV0dXJuIHQ9dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcIi1tXCIsXCItTVwiKSx0fSxiPWU9PntpZihlLnR5cGUhPT1kLkluc3RydW1lbnQpcmV0dXJuO2NvbnN0e2lkOnQsbWFya2V0Om59PWUse0JCRzpyLEZJR0k6byx0aWNrZXI6YX09dDtpZihyfHxvKXJldHVybiByPz9vO2lmKCFhKXJldHVybjtyZXR1cm5gJHthfSAke24/LkJCRz9uLkJCRzpcIlVTXCJ9IEVxdWl0eWB9O2xldCB2PSExO2NvbnN0IEQ9XCJbQG9wZW5maW4vYmxvb21iZXJnXVwiLEk9KCk9Pnt2PSExfSxBPSgpPT57dj0hMCxOKFwidjIuMC4wLWJldGEuMTBcIil9LFI9KGUsdCk9PntpZighdilyZXR1cm47Y29uc3Qgbj10P2Ake0R9ICR7dH1gOkQ7ZSBpbnN0YW5jZW9mIEFwaUVycm9yJiZlLmRhdGE/Y29uc29sZS5lcnJvcihuLGUsZS5kYXRhKTpjb25zb2xlLmVycm9yKG4sZSl9LE49KC4uLmUpPT57diYmY29uc29sZS5sb2coRCwuLi5lKX0seD0oLi4uZSk9Pnt2JiZjb25zb2xlLndhcm4oRCwuLi5lKX07dmFyIFQsUyxNO1widW5kZWZpbmVkXCI9PXR5cGVvZiBmaW4mJk9iamVjdC5hc3NpZ24od2luZG93LHtmaW46e319KSxPYmplY3QuYXNzaWduKGZpbix7SW50ZWdyYXRpb25zOntCbG9vbWJlcmc6e2VuYWJsZUxvZ2dpbmc6QSxkaXNhYmxlTG9nZ2luZzpJfX19KSxmdW5jdGlvbihlKXtlLkNhbmNlbFN1YnNjcmlwdGlvbj1cIkNhbmNlbFN1YnNjcmlwdGlvblwiLGUuQ29ubmVjdD1cIkNvbm5lY3RcIixlLkNyZWF0ZVN1YnNjcmlwdGlvbj1cIkNyZWF0ZVN1YnNjcmlwdGlvblwiLGUuRGlzY29ubmVjdD1cIkRpc2Nvbm5lY3RcIixlLkV4ZWN1dGVSZXF1ZXN0PVwiRXhlY3V0ZVJlcXVlc3RcIixlLkxvZ01lc3NhZ2U9XCJMb2dNZXNzYWdlXCIsZS5TdWJzY3JpcHRpb25FdmVudD1cIlN1YnNjcmlwdGlvbkV2ZW50XCJ9KFR8fChUPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkVycm9yPTBdPVwiRXJyb3JcIixlW2UuSW5mbz0xXT1cIkluZm9cIixlW2UuV2Fybj0yXT1cIldhcm5cIn0oU3x8KFM9e30pKSxmdW5jdGlvbihlKXtlLkxvY2FsPVwiTG9jYWxcIixlLlJlbW90ZT1cIlJlbW90ZVwifShNfHwoTT17fSkpO2NvbnN0IFY9ZT0+YXN5bmMoKT0+e04oXCJSZXRyaWV2aW5nIGxhdW5jaHBhZCBncm91cHNcIik7Y29uc3QgdD17cXVlcnk6XCJxdWVyeSB7XFxuICAgICAgICAgIGdyb3VwcyB7XFxuICAgICAgICAgICAgLi4uIG9uIEdyb3VwcyB7XFxuICAgICAgICAgICAgICBpdGVtcyB7XFxuICAgICAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgdHlwZVxcbiAgICAgICAgICAgICAgICB2YWx1ZVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAuLi4gb24gRXJyb3Ige1xcbiAgICAgICAgICAgICAgZXJyb3JDYXRlZ29yeVxcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XCJ9O2xldCBuO3RyeXtuPWF3YWl0IGUoVC5FeGVjdXRlUmVxdWVzdCx0KX1jYXRjaChlKXtjb25zdCB0PW5ldyBBZGFwdGVyRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH1pZighbi5zdWNjZXNzKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Iobi5lcnJvcj8ubWVzc2FnZSxuLmVycm9yKTt0aHJvdyBSKGUpLGV9aWYoIW4uZGF0YSl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSByZXNwb25zZSBkYXRhXCIsbik7dGhyb3cgUihlKSxlfWNvbnN0e2dyb3VwczpyfT1KU09OLnBhcnNlKG4uZGF0YSk7aWYoci5pdGVtcylyZXR1cm4gci5pdGVtcztjb25zdCBvPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Ioci5lcnJvck1lc3NhZ2Uscik7dGhyb3cgUihvKSxvfSwkPWU9PmFzeW5jKHQsbik9PntpZihudWxsPT10fHxcIm51bWJlclwiIT10eXBlb2YgdHx8TnVtYmVyLmlzTmFOKHQpKXRocm93IG5ldyBQYXJhbWV0ZXJFcnJvcihcIkdyb3VwIElEIG11c3QgYmUgYSB2YWxpZCBudW1iZXJcIik7aWYoIW4/LnRyaW0oKSl0aHJvdyBuZXcgUGFyYW1ldGVyRXJyb3IoXCJHcm91cCB2YWx1ZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtOKFwiU2V0dGluZyBncm91cCB2YWx1ZVwiLHtncm91cElkOnQsbmV3VmFsdWU6bn0pO2NvbnN0IHI9e3F1ZXJ5OmBtdXRhdGlvbiB7XFxuICAgICAgICAgIHNldEdyb3VwVmFsdWUoXFxuICAgICAgICAgICAgZmlsdGVyOiB7aWQ6IFske3R9XX0sXFxuICAgICAgICAgICAgdmFsdWU6IFwiJHtufVwiKSB7XFxuICAgICAgICAgICAgLi4uIG9uIEdyb3VwUmVzdWx0cyB7XFxuICAgICAgICAgICAgICByZXN1bHRzIHtcXG4gICAgICAgICAgICAgICAgcmVzdWx0IHtcXG4gICAgICAgICAgICAgICAgICBzdWNjZWVkZWRcXG4gICAgICAgICAgICAgICAgICBkZXRhaWxzXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLi4uIG9uIEVycm9yIHtcXG4gICAgICAgICAgICAgIGVycm9yQ2F0ZWdvcnlcXG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfWB9O2xldCBvO3RyeXtvPWF3YWl0IGUoVC5FeGVjdXRlUmVxdWVzdCxyKX1jYXRjaChlKXtjb25zdCB0PW5ldyBBZGFwdGVyRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH1pZighby5zdWNjZXNzKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Ioby5lcnJvcj8ubWVzc2FnZSxvLmVycm9yKTt0aHJvdyBSKGUpLGV9aWYoIW8uZGF0YSl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSByZXNwb25zZSBkYXRhXCIsbyk7dGhyb3cgUihlKSxlfWNvbnN0e3NldEdyb3VwVmFsdWU6YX09SlNPTi5wYXJzZShvLmRhdGEpO2lmKFwiZXJyb3JNZXNzYWdlXCJpbiBhKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IoYS5lcnJvck1lc3NhZ2UsYSk7dGhyb3cgUihlKSxlfX0scT1uZXcgTWFwLEI9YXN5bmMoZSx0LG4scik9Pntjb25zdCBvPWF3YWl0IE8oZSkodCk7aWYoIW8pcmV0dXJuO2NvbnN0IGE9YXdhaXQoZT0+YXN5bmModD1bXSk9PntOKFwiQ3JlYXRpbmcgZ3JvdXAgc3Vic2NyaXB0aW9uXCIse2dyb3VwSWRGaWx0ZXI6dH0pO2NvbnN0IG49e3F1ZXJ5OmBzdWJzY3JpcHRpb24ge1xcbiAgICAgICAgc3Vic2NyaWJlR3JvdXBFdmVudHMgKFxcbiAgICAgICAgICBmaWx0ZXI6e1xcbiAgICAgICAgICAgIGV2ZW50OiBbXFxuICAgICAgICAgICAgICBWQUxVRV9DSEFOR0VEXFxuICAgICAgICAgICAgXVxcbiAgICAgICAgICAgICR7dC5sZW5ndGg/YCxncm91cDoge2lkOiAke0pTT04uc3RyaW5naWZ5KHQpfX1gOlwiXCJ9XFxuICAgICAgICAgIH0pe1xcbiAgICAgICAgICB0eXBlXFxuICAgICAgICAgIGdyb3Vwe1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgIHZhbHVlXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICB9YH07bGV0IHI7dHJ5e3I9YXdhaXQgZShULkNyZWF0ZVN1YnNjcmlwdGlvbixuKX1jYXRjaChlKXtjb25zdCB0PW5ldyBBZGFwdGVyRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH1pZighci5zdWNjZXNzKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Ioci5lcnJvcj8ubWVzc2FnZSxyLmVycm9yKTt0aHJvdyBSKGUpLGV9aWYoIXIuZGF0YSl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSByZXNwb25zZSBkYXRhXCIscik7dGhyb3cgUihlKSxlfWNvbnN0e3N1YnNjcmlwdGlvbklkOm99PUpTT04ucGFyc2Uoci5kYXRhKTtyZXR1cm4gb30pKGUpKG8pLGk9e2lkOmEsbGlzdGVuZXI6VShuLHIpLHVuc3Vic2NyaWJlOkYoZSxhKX07cmV0dXJuIHEuc2V0KGEsaSksaX0sRj0oZSx0KT0+YXN5bmMoKT0+e04oXCJVbnN1YnNjcmliaW5nIGdyb3VwIGV2ZW50c1wiLHtzdWJzY3JpcHRpb25JZDp0fSk7dHJ5e2F3YWl0KGU9PmFzeW5jIHQ9Pntjb25zdCBuPXtzdWJzY3JpcHRpb25JZDp0fTtsZXQgcjt0cnl7cj1hd2FpdCBlKFQuQ2FuY2VsU3Vic2NyaXB0aW9uLG4pfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSk7dGhyb3cgUih0KSx0fWlmKCFyLnN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcihyLmVycm9yPy5tZXNzYWdlLHIuZXJyb3IpO3Rocm93IFIoZSksZX19KShlKSh0KX1jYXRjaChlKXtSKGUpfXEuZGVsZXRlKHQpfSxVPShlLHQpPT5hc3luYyBuPT57dHJ5e2U/LihuKSxOKFwiU2V0dGluZyBuZXcgY29udGV4dDogXCIsbiksYXdhaXQgZmluLm1lLmludGVyb3Auc2V0Q29udGV4dChuKX1jYXRjaChlKXtjb25zdCBuPW5ldyBJbnRlcm9wRXJyb3Iodm9pZCAwLGUpO1IobiksdD8uKG4pfX0sUD1hc3luYyhlLHQpPT57TihcIkdyb3VwIGV2ZW50IHJlY2VpdmVkXCIse2RhdGE6dCxzdWJzY3JpcHRpb25JZDplfSk7Y29uc3R7Z3JvdXA6bn09dC5zdWJzY3JpYmVHcm91cEV2ZW50cztpZighbilyZXR1cm4gdm9pZCB4KFwiUmVjZWl2ZWQgZ3JvdXAgZXZlbnQgd2l0aCBubyBncm91cFwiLHtzdWJzY3JpcHRpb25JZDplfSk7aWYoIXEuaGFzKGUpKXJldHVybiB2b2lkIHgoXCJSZWNlaXZlZCBncm91cCBldmVudCBmb3IgdW5rbm93biBzdWJzY3JpcHRpb25cIix7c3Vic2NyaXB0aW9uSWQ6ZX0pO2NvbnN0IHI9cS5nZXQoZSksbz0oZT0+e2NvbnN0IHQ9e3R5cGU6ZC5JbnN0cnVtZW50LGlkOntCQkc6ZX19O2lmKFwiRXF1aXR5XCI9PT1FKGUpKXtjb25zdFtuLHJdPWUuc3BsaXQoL1xccysvKTt0LmlkLnRpY2tlcj1uPy50b1VwcGVyQ2FzZSgpLHQubWFya2V0PXtCQkc6cj8udG9VcHBlckNhc2UoKX19cmV0dXJuIHR9KShuLnZhbHVlKTtvLm9wZW5maW5CYmdBcGk9ITAscj8ubGlzdGVuZXIobyl9LE89ZT0+YXN5bmMgdD0+e2lmKCF0KXJldHVybjtpZihcIipcIj09PXQpcmV0dXJuW107QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtjb25zdCBuPWF3YWl0IFYoZSkoKSxyPXQubWFwKChlPT57Y29uc3QgdD1uLmZpbmQoKHQ9PnQubmFtZT8udG9VcHBlckNhc2UoKT09PWUudG9VcHBlckNhc2UoKSkpPy5pZDtyZXR1cm4gdHx8eChgR3JvdXAgbm90IGZvdW5kOiAke2V9YCksdH0pKS5maWx0ZXIoQm9vbGVhbik7cmV0dXJuIHIubGVuZ3RoP3I6dm9pZCAwfSxHPVwiYmxvb21iZXJnLWFkYXB0ZXJcIixMPWBibG9vbWJlcmctYWRhcHRlci0ke3ZvaWQgMCE9PWNyeXB0by5yYW5kb21VVUlEP2NyeXB0by5yYW5kb21VVUlEKCk6XCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLChlPT57Y29uc3QgdD1jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSYxNT4+TnVtYmVyKGUpLzQ7cmV0dXJuKE51bWJlcihlKV50KS50b1N0cmluZygxNil9KSl9YDtsZXQgaztjb25zdCB6PWFzeW5jKGU9ITEpPT57dHJ5e2lmKCFhd2FpdChhc3luYyBlPT4oYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5nZXRBbGxDaGFubmVscygpKS5zb21lKCh0PT50LmNoYW5uZWxOYW1lPT09ZSkpKShMKSl7Y29uc3R7cG9ydDp0LHNlY3VyaXR5UmVhbG06bn09YXdhaXQgZmluLlN5c3RlbS5nZXRSdW50aW1lSW5mbygpLHtsaWNlbnNlS2V5OnJ9PWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldE1hbmlmZXN0KCksbz1maW4ubWUudXVpZDtOKFwiSW5pdGlhbGl6aW5nIGFkYXB0ZXJcIix7Y2hhbm5lbE5hbWU6TCxsaWNlbnNlS2V5OnIscG9ydDp0LHNlY3VyaXR5UmVhbG06bix1dWlkOm8sYWRhcHRlckxvZ2dpbmdFbmFibGVkOmV9KSxhd2FpdChhc3luYygpPT57Y29uc3QgZT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRNYW5pZmVzdCgpLHQ9ZS5hcHBBc3NldHM/LmZpbmQoKGU9PmUuYWxpYXM9PT1HKSk7aWYodClyZXR1cm4gdm9pZCB4KFwiRGV0ZWN0ZWQgYWRhcHRlciBwYWNrYWdlIGluIGFwcCBtYW5pZmVzdCBhcHBBc3NldHNcIix0KTtpZihhd2FpdCBqKCkpcmV0dXJuIHZvaWQgTihcIlVzaW5nIGV4aXN0aW5nIGFkYXB0ZXIgcGFja2FnZVwiKTtjb25zdCBuPXthbGlhczpHLHNyYzpcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vcmVsZWFzZS9pbnRlZ3JhdGlvbnMvYmxvb21iZXJnLzIuMC4wLWJldGEuMTAvT3BlbkZpbi5CbG9vbWJlcmcuemlwXCIsdGFyZ2V0OlwiT3BlbkZpbi5CbG9vbWJlcmcuZXhlXCIsdmVyc2lvbjpcIjIuMC4wLWJldGEuMTBcIn07TihcIkRvd25sb2FkaW5nIGFkYXB0ZXIgcGFja2FnZVwiLG4pO3RyeXthd2FpdCBmaW4uU3lzdGVtLmRvd25sb2FkQXNzZXQobiwoKCk9Pnt9KSl9Y2F0Y2goZSl7dGhyb3cgUihcIlVuYWJsZSB0byBkb3dubG9hZCBhZGFwdGVyIHBhY2thZ2VcIiksZX19KSgpLGZpbi5TeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzKHthbGlhczpHLGFyZ3VtZW50czpgXCIke299XCIgXCIke3I/P1wiXCJ9XCIgXCIke3R9XCIgXCIke24/P1wiXCJ9XCIgXCIke0x9XCIgXCIke2V9XCJgLGxpZmV0aW1lOlwiYXBwbGljYXRpb25cIn0pfWNvbnN0IG49ZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KEwse3BheWxvYWQ6e3ZlcnNpb246XCIyLjAuMC1iZXRhLjEwXCJ9fSkscj1uZXcgUHJvbWlzZSgoZT0+e3NldFRpbWVvdXQoZSwyZTQpfSkpLnRoZW4oKCgpPT57dGhyb3cgbmV3IEFwaUVycm9yKFwiQ29ubmVjdGlvbiB0byBhZGFwdGVyIHRpbWVkIG91dFwiKX0pKTtyZXR1cm4gaz1hd2FpdCBQcm9taXNlLnJhY2UoW24scl0pLGsucmVnaXN0ZXIoVC5Mb2dNZXNzYWdlLEgpLGsucmVnaXN0ZXIoVC5TdWJzY3JpcHRpb25FdmVudCxKKSxOKFwiQ29ubmVjdGVkIHRvIGFkYXB0ZXJcIix7dXVpZDprLnByb3ZpZGVySWRlbnRpdHkudXVpZH0pLHtjaGFubmVsTmFtZTpMLGRpc3BhdGNoOiguLi5lKT0+ay5kaXNwYXRjaCguLi5lKSxpbml0VGVybWluYWw6KHQ9ayxhc3luYyBlPT57Y29uc3Qgbj17YXBpS2V5OmV9O2xldCByO3RyeXtyPWF3YWl0IHQuZGlzcGF0Y2goVC5Db25uZWN0LG4pfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSk7dGhyb3cgUih0KSx0fWlmKCFyLnN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yKHIuZXJyb3I/Lm1lc3NhZ2Usci5lcnJvcik7dGhyb3cgUihlKSxlfX0pLHZlcnNpb246XCIyLjAuMC1iZXRhLjEwXCJ9fWNhdGNoKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEFwaUVycm9yP25ldyBJbml0aWFsaXphdGlvbkVycm9yKGUubWVzc2FnZSk6bmV3IEluaXRpYWxpemF0aW9uRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH12YXIgdH0sSD1lPT57Y29uc3R7bGV2ZWw6dCxtZXNzYWdlOm59PWUscj1cIlthZGFwdGVyXVwiO3N3aXRjaCh0KXtjYXNlIFMuRXJyb3I6UihuLHIpO2JyZWFrO2Nhc2UgUy5XYXJuOngocixuKTticmVhaztjYXNlIFMuSW5mbzpkZWZhdWx0Ok4ocixuKX19LEo9YXN5bmMgZT0+e2NvbnN0e2RhdGE6dCxlcnJvcjpuLHN1YnNjcmlwdGlvbklkOnJ9PWU7aWYoIXJ8fCF0KXtjb25zdCB0PW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbiBldmVudFwiLGUpO3Rocm93IFIodCksdH1pZihuKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Iodm9pZCAwLG4pO3Rocm93IFIoZSksZX1jb25zdCBvPUpTT04ucGFyc2UodCk7aWYoITA9PT1Cb29sZWFuKG8uc3Vic2NyaWJlR3JvdXBFdmVudHMpKWF3YWl0IFAocixvKTtlbHNlIHgoXCJSZWNlaXZlZCB1bmtub3duIHN1YnNjcmlwdGlvbiBldmVudFwiLHQpfSxqPWFzeW5jKCk9Pnt0cnl7cmV0dXJuXCIyLjAuMC1iZXRhLjEwXCI9PT0oYXdhaXQgZmluLlN5c3RlbS5nZXRBcHBBc3NldEluZm8oe2FsaWFzOkd9KSkudmVyc2lvbn1jYXRjaChlKXtyZXR1cm4hMX19LFE9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybiB2b2lkIHgoXCJObyBhY3Rpb24gc3BlY2lmaWVkLCBpZ25vcmluZ1wiKTtpZihcImdyb3VwXCJpbiBlKXtjb25zdHtncm91cDpuLHNlY3VyaXR5OnJ9PWU7cmV0dXJuIHZvaWQgYXdhaXQoZT0+YXN5bmModCxuKT0+e2lmKCFuKXJldHVybjtOKGBTZXR0aW5nICR7XCIqXCI9PT10P1wiZXZlcnkgZ3JvdXBcIjpgZ3JvdXAgJHt0fWB9IHNlY3VyaXR5IHRvICR7bn1gKTtjb25zdCByPWF3YWl0IFYoZSkoKTtpZihcIipcIj09PXQpYXdhaXQgUHJvbWlzZS5hbGwoci5tYXAoKHQ9PnQuaWQ/JChlKSh0LmlkLG4pOlByb21pc2UucmVzb2x2ZSgpKSkpO2Vsc2V7Y29uc3Qgbz1yLmZpbmQoKGU9PmUubmFtZT8udG9VcHBlckNhc2UoKT09PXQudG9VcHBlckNhc2UoKSkpPy5pZDtudWxsPT1vP3goYFVuYWJsZSB0byB1cGRhdGUgZ3JvdXAgc2VjdXJpdHkgZm9yICR7dH06IGdyb3VwIG5vdCBmb3VuZGApOmF3YWl0ICQoZSkobyxuKX19KSh0KShuLHIpfWNvbnN0e21uZW1vbmljOm4sc2VjdXJpdGllczpyLHRhcmdldDpvLHRhaWw6YX09ZSxbaSxzXT1yPz9bXTthd2FpdChlPT5hc3luYyh0LG4scixvLGEpPT57aWYoIXQ/LnRyaW0oKSl0aHJvdyBuZXcgUGFyYW1ldGVyRXJyb3IoXCJNbmVtb25pYyBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtpZihudWxsPT1ufHxcInN0cmluZ1wiPT10eXBlb2YgbiYmIW4/LnRyaW0oKSl0aHJvdyBuZXcgUGFyYW1ldGVyRXJyb3IoXCJUYXJnZXQgbXVzdCBiZSBhIG51bWJlciAoMC0zKSBvciBub24tZW1wdHkgc3RyaW5nXCIpO04oXCJSdW5uaW5nIHRlcm1pbmFsIGZ1bmN0aW9uXCIse21uZW1vbmljOnQsdGFyZ2V0Om4sc2VjdXJpdHkxOnIsc2VjdXJpdHkyOm8sdGFpbDphfSk7Y29uc3QgaT10LnRyaW0oKS50b1VwcGVyQ2FzZSgpO2xldCBzLGM7XCJudW1iZXJcIj09dHlwZW9mIG4/KHM9XCJydW5GdW5jdGlvbkluUGFuZWxcIixjPVwicGFuZWw6IFwiKygxPT09bj9cIk9ORVwiOjI9PT1uP1wiVFdPXCI6Mz09PW4/XCJUSFJFRVwiOlwiWkVST1wiKSk6KHM9XCJydW5GdW5jdGlvbkluVGFiXCIsYz1gdGFiTmFtZTogXCIke24udHJpbSgpfVwiYCk7Y29uc3QgdT17cXVlcnk6YG11dGF0aW9uIHtcXG4gICAgICAgICR7c30oaW5wdXQ6IHtcXG4gICAgICAgICAgbW5lbW9uaWM6IFwiJHtpfVwiLFxcbiAgICAgICAgICAke2N9LFxcbiAgICAgICAgICAke3I/YHNlY3VyaXR5MTogXCIke3J9XCJgOlwiXCJ9XFxuICAgICAgICAgICR7bz9gc2VjdXJpdHkyOiBcIiR7b31cImA6XCJcIn1cXG4gICAgICAgICAgJHthP2B0YWlsOiBcIiR7YX1cImA6XCJcIn1cXG4gICAgICAgIH0pIHtcXG4gICAgICAgICAgLi4uIG9uIFJlc3VsdCB7XFxuICAgICAgICAgICAgc3VjY2VlZGVkXFxuICAgICAgICAgICAgZGV0YWlsc1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIC4uLiBvbiBFcnJvciB7XFxuICAgICAgICAgICAgZXJyb3JDYXRlZ29yeVxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfWB9O2xldCBsO3RyeXtsPWF3YWl0IGUoVC5FeGVjdXRlUmVxdWVzdCx1KX1jYXRjaChlKXtjb25zdCB0PW5ldyBBZGFwdGVyRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH1pZighbC5zdWNjZXNzKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3IobC5lcnJvcj8ubWVzc2FnZSxsLmVycm9yKTt0aHJvdyBSKGUpLGV9aWYobC5kYXRhKXtjb25zdCBlPUpTT04ucGFyc2UobC5kYXRhKTtsZXQgdDtpZihcInJ1bkZ1bmN0aW9uSW5UYWJcImluIGU/dD1lLnJ1bkZ1bmN0aW9uSW5UYWIuZXJyb3JNZXNzYWdlOlwicnVuRnVuY3Rpb25JblBhbmVsXCJpbiBlJiYodD1lLnJ1bkZ1bmN0aW9uSW5QYW5lbC5lcnJvck1lc3NhZ2UpLHQpe2NvbnN0IG49bmV3IFRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcih0LGUpO3Rocm93IFIobiksbn19fSkodCkobixvLGkscyxhKX0sVz0oKT0+ZT0+e2NvbnN0IHQ9ZSx7bmFtZTpuLGlkOnJ9PXQsbz1yPy5CQkc/P247aWYobylyZXR1cm57bW5lbW9uaWM6XCJCSU9cIix0YXJnZXQ6MCx0YWlsOm99O3goXCJObyB2YWxpZCBpZGVudGlmaWVyIHByb3ZpZGVkIGluIGNvbnRleHQsIGlnbm9yaW5nXCIpfSxZPWU9PnQ9Pntjb25zdCBuPWIodCk7aWYobilyZXR1cm57bW5lbW9uaWM6ZSxzZWN1cml0aWVzOltuXSx0YXJnZXQ6MH07eChcIk5vIHNlY3VyaXR5IHByb3ZpZGVkIGluIGNvbnRleHQsIGlnbm9yaW5nXCIpfSxLPWFzeW5jKGUsdCxuLHIpPT57Y29uc3Qgbz0oKCk9Pntjb25zdCBlPVtdLHQ9W107cmV0dXJuIGUucHVzaChbZC5JbnN0cnVtZW50LFkoXCJERVNcIildKSxlLnB1c2goW2QuQ29udGFjdCxXKCldKSxlLnB1c2goW2QuT3JnYW5pemF0aW9uLF8oKV0pLHQucHVzaChbeS5TdGFydENoYXQsW1tkLk5vdGhpbmcsWihcIklCXCIpXSxbZC5Db250YWN0LGU9Pntjb25zdHtpZDp0LG5hbWU6bn09ZTtyZXR1cm57bW5lbW9uaWM6XCJJQlwiLHRhcmdldDowLHRhaWw6dC5lbWFpbD8/bn19XV1dKSx0LnB1c2goW3kuVmlld0FuYWx5c2lzLFtbZC5Ob3RoaW5nLFooXCJBTlJcIildLFtkLkluc3RydW1lbnQsZT0+e2NvbnN0IHQ9YihlKTtpZighdClyZXR1cm4gdm9pZCB4KFwiTm8gc2VjdXJpdHkgcHJvdmlkZWQgaW4gY29udGV4dCwgaWdub3JpbmdcIik7bGV0IG47c3dpdGNoKEUodCkpe2Nhc2VcIkVxdWl0eVwiOmNhc2VcIkluZGV4XCI6bj1cIkZBXCI7YnJlYWs7Y2FzZVwiQ29ycFwiOmNhc2VcIkdvdnRcIjpjYXNlXCJNdGdlXCI6Y2FzZVwiTXVuaVwiOmNhc2VcIlBmZFwiOm49XCJZQVNcIjticmVhaztkZWZhdWx0Om49XCJBTlJcIn1yZXR1cm57bW5lbW9uaWM6bixzZWN1cml0aWVzOlt0XSx0YXJnZXQ6MH19XV1dKSx0LnB1c2goW3kuVmlld0NoYXJ0LFtbZC5Ob3RoaW5nLFooXCJHSVBcIildLFtkLkluc3RydW1lbnQsWShcIkdJUFwiKV0sW2QuQ2hhcnQsZT0+e2NvbnN0e2ludGVydmFsOnQsaW5zdHJ1bWVudHM6bixyYW5nZTpyLHN0eWxlOm99PWUsYT17bW5lbW9uaWM6XCJHSVBcIix0YXJnZXQ6MH07bGV0IGk9ITA7Y29uc3Qgcz1iKG4/LlswXT8/ZSk7cyYmKGEuc2VjdXJpdGllcz1bc10pO2NvbnN0e2VuZFRpbWU6YyxzdGFydFRpbWU6dX09cj8/e307aWYodSl7Y29uc3QgZT1DKHUudG9TdHJpbmcoKSk7aWYoZSYmKGEudGFpbD1gJHtlLmdldE1vbnRoKCkrMX0vJHtlLmdldERhdGUoKX0vJHtlLmdldEZ1bGxZZWFyKCl9YCxpPSExLGMpKXtjb25zdCBlPUMoYy50b1N0cmluZygpKTtlJiYoYS50YWlsKz1gICR7ZS5nZXRNb250aCgpKzF9LyR7ZS5nZXREYXRlKCl9LyR7ZS5nZXRGdWxsWWVhcigpfWApfX1zd2l0Y2gobz8udG9Mb3dlckNhc2UoKSl7Y2FzZVwiYmFyXCI6YS5tbmVtb25pYz1pP1wiSUdQT1wiOlwiR1BPXCI7YnJlYWs7Y2FzZVwiY2FuZGxlXCI6YS5tbmVtb25pYz1pP1wiSUdQQ1wiOlwiR1BDXCI7YnJlYWs7ZGVmYXVsdDphLm1uZW1vbmljPWk/XCJHSVBcIjpcIkdQXCJ9aWYoIWkmJnQpc3dpdGNoKHQudG9Mb3dlckNhc2UoKSl7Y2FzZVwiZGFpbHlcIjphLnRhaWwrPVwiIERcIjticmVhaztjYXNlXCJ3ZWVrbHlcIjphLnRhaWwrPVwiIFdcIjticmVhaztjYXNlXCJtb250aGx5XCI6YS50YWlsKz1cIk1cIjticmVhaztjYXNlXCJxdWFydGVybHlcIjphLnRhaWwrPVwiIFFcIjticmVhaztjYXNlXCJ5ZWFybHlcIjphLnRhaWwrPVwiIFlcIn1yZXR1cm4gYX1dXV0pLHQucHVzaChbeS5WaWV3Q2hhdCxbW2QuTm90aGluZyxaKFwiSUJcIildLFtkLkNvbnRhY3QsZT0+e2NvbnN0e2lkOnQsbmFtZTpufT1lO3JldHVybnttbmVtb25pYzpcIklCXCIsdGFyZ2V0OjAsdGFpbDp0LmVtYWlsPz9ufX1dXV0pLHQucHVzaChbeS5WaWV3Q29udGFjdCxbW2QuTm90aGluZyxaKFwiQklPXCIpXSxbZC5Db250YWN0LFcoKV1dXSksdC5wdXNoKFt5LlZpZXdJbnN0cnVtZW50LFtbZC5Ob3RoaW5nLFooXCJERVNcIildLFtkLkluc3RydW1lbnQsWShcIkRFU1wiKV1dXSksdC5wdXNoKFt5LlZpZXdOZXdzLFtbZC5Ob3RoaW5nLFooXCJDTlwiKV0sW2QuSW5zdHJ1bWVudCxZKFwiQ05cIildXV0pLHQucHVzaChbeS5WaWV3UHJvZmlsZSxbW2QuTm90aGluZyxaKFwiREVTXCIpXSxbZC5Db250YWN0LFcoKV0sW2QuT3JnYW5pemF0aW9uLF8oKV1dXSksdC5wdXNoKFt5LlZpZXdRdW90ZSxbW2QuTm90aGluZyxaKFwiQUxMUVwiKV0sW2QuSW5zdHJ1bWVudCxZKFwiQUxMUVwiKV1dXSksdC5wdXNoKFt5LlZpZXdSZXNlYXJjaCxbW2QuTm90aGluZyxaKFwiQlJDXCIpXSxbZC5JbnN0cnVtZW50LFkoXCJCUkNcIildXV0pLHtjb250ZXh0czplLGludGVudHM6dH19KSgpLGE9KGU9Pntjb25zdCB0PShbZV0pPT4hIShlPz9cIlwiKS50cmltKCk7cmV0dXJue2NvbnRleHRzOlsuLi5lPy5jb250ZXh0cz8/W11dLmZpbHRlcih0KSxpbnRlbnRzOlsuLi5lPy5pbnRlbnRzPz9bXV0uZmlsdGVyKCgoW2Usbl0pPT57Y29uc3Qgcj1bLi4ubj8/W11dLmZpbHRlcih0KTtyZXR1cm4hIShlPz9cIlwiKS50cmltKCkmJnIubGVuZ3RoPjB9KSl9fSkodCksaT1uZXcgTWFwKG8uY29udGV4dHMpO2EuY29udGV4dHM/LmZvckVhY2goKChbZV0pPT57aS5oYXMoZSkmJmkuZGVsZXRlKGUpfSkpLG8uY29udGV4dHM9QXJyYXkuZnJvbShpKTtjb25zdCBzPW5ldyBNYXAoby5pbnRlbnRzKTthLmludGVudHM/LmZvckVhY2goKChbZV0pPT57cy5oYXMoZSkmJnMuZGVsZXRlKGUpfSkpLG8uaW50ZW50cz1BcnJheS5mcm9tKHMpO2NvbnN0IGM9Wy4uLm8uY29udGV4dHMsLi4uYS5jb250ZXh0cz8/W11dLHU9Wy4uLm8uaW50ZW50cywuLi5hLmludGVudHM/P1tdXSxsPVtdO2xldCBwO2MubGVuZ3RoJiZsLnB1c2goZmluLm1lLmludGVyb3AuYWRkQ29udGV4dEhhbmRsZXIoKChlLHQsbixyKT0+YXN5bmMgbz0+e28/ITAhPT1vLm9wZW5maW5CYmdBcGkmJihOKFwiQ29udGV4dCByZWNlaXZlZFwiLG8pLG8udHlwZSE9PWQuTm90aGluZz9hd2FpdCBYKGUsbyx0LG4scik6TihcIk51bGwgY29udGV4dCByZWNlaXZlZCwgaWdub3JpbmdcIikpOk4oXCJObyBjb250ZXh0IGluZm8gcHJvdmlkZWQsIGlnbm9yaW5nXCIpfSkoZSxjLG4scikpKSx1Lmxlbmd0aCYmdS5mb3JFYWNoKCgoW3Qsb10pPT57bC5wdXNoKGZpbi5tZS5pbnRlcm9wLnJlZ2lzdGVySW50ZW50SGFuZGxlcigoKGUsdCxuLHIpPT5hc3luYyBvPT57TihcIkludGVudCByZWNlaXZlZFwiLG8pLHQ/YXdhaXQgWChlLG8uY29udGV4dCx0LG4scik6eChgTm8gYWN0aW9ucyBoYXZlIGJlZW4gcHJvdmlkZWQgZm9yIGludGVudCAke28ubmFtZX0sIGlnbm9yaW5nYCl9KShlLG8sbixyKSx0KSl9KSk7dHJ5e3A9YXdhaXQgUHJvbWlzZS5hbGwobCl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgSW50ZXJvcEVycm9yKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIGludGVyb3AgaGFuZGxlcnNcIixlKTt0aHJvdyBSKHQpLHR9cmV0dXJuIHB9LFo9ZT0+dD0+KHttbmVtb25pYzplLHRhcmdldDowfSksXz0oKT0+ZT0+e2NvbnN0e25hbWU6dH09ZTtpZih0KXJldHVybnttbmVtb25pYzpcIlNFQVJcIix0YXJnZXQ6MCx0YWlsOnR9O3goXCJObyB2YWxpZCBpZGVudGlmaWVyIHByb3ZpZGVkIGluIGNvbnRleHQsIGlnbm9yaW5nXCIpfSxYPWFzeW5jKGUsdCxuLHIsbyk9PntyPy4odCksTihcIlByb2Nlc3NpbmcgY29udGV4dFwiLHQpLG4uc29tZSgoKFtlXSk9PmU9PT10LnR5cGUpKT9hd2FpdCBQcm9taXNlLmFsbChuLmZpbHRlcigoKFtlXSk9PmU9PT10LnR5cGUpKS5tYXAoKGFzeW5jKFssbl0pPT57bGV0IHI7dHJ5e3I9YXdhaXQgbih0KX1jYXRjaChlKXtjb25zdCB0PW5ldyBBcGlFcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3IgaW4gY29udGV4dCBhY3Rpb24gaGFuZGxlclwiLGUpO3JldHVybiBSKHQpLHZvaWQgbz8uKHQpfXRyeXthd2FpdCBRKHIsZSl9Y2F0Y2goZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgQXBpRXJyb3I/ZTpuZXcgQXBpRXJyb3Iodm9pZCAwLGUpO1IodCksbz8uKHQpfX0pKSk6eChgTm8gYWN0aW9uIGhhcyBiZWVuIGRlZmluZWQgZm9yIGNvbnRleHQgdHlwZSAke3QudHlwZX0sIGlnbm9yaW5nYCl9O3ZhciBlZTshZnVuY3Rpb24oZSl7ZS5CbG9vbWJlcmc9XCJCTE9PTUJFUkdcIn0oZWV8fChlZT17fSkpO2NvbnN0IHRlPWFzeW5jKGUsdCk9PntOKFwiQ3JlYXRpbmcgY29ubmVjdGlvblwiLHtjb25maWc6dH0pLHJlKGVlLkJsb29tYmVyZyk7Y29uc3Qgbj1hd2FpdCB6KHYpO2F3YWl0IG4uaW5pdFRlcm1pbmFsKGUpO2NvbnN0e2FjdGlvbnM6cixpbnRlcm9wRGlzYWJsZWQ6byxvbkNvbnRleHRDaGFuZ2VkOmEsb25FcnJvcjppfT10Pz97fSxzPXZvaWQgMD09PXQ/Lmdyb3Vwcz9cIipcIjp0Lmdyb3VwcyxjPVtdO2lmKCEwIT09byl7Yy5wdXNoKC4uLmF3YWl0IEsobi5kaXNwYXRjaCxyLGEsaSkpO2NvbnN0IGU9YXdhaXQgQihuLmRpc3BhdGNoLHMsYSxpKTtlJiZjLnB1c2goZSl9cmV0dXJue2Rpc2Nvbm5lY3Q6bmUobi5kaXNwYXRjaCxjKSxleGVjdXRlQXBpUmVxdWVzdDoodT1uLmRpc3BhdGNoLGFzeW5jKGUsdCk9PntOKFwiRXhlY3V0aW5nIEFQSSByZXF1ZXN0XCIse3F1ZXJ5OmV9KTtjb25zdCBuPXtxdWVyeTplfTtsZXQgcjt0JiYobi5zZXJ2aWNlPXQpO3RyeXtyPWF3YWl0IHUoVC5FeGVjdXRlUmVxdWVzdCxuKX1jYXRjaChlKXtjb25zdCB0PW5ldyBBZGFwdGVyRXJyb3Iodm9pZCAwLGUpO3Rocm93IFIodCksdH1pZighci5zdWNjZXNzKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Ioci5lcnJvcj8ubWVzc2FnZSxyLmVycm9yKTt0aHJvdyBSKGUpLGV9aWYoIXIuZGF0YSl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSByZXNwb25zZSBkYXRhXCIscik7dGhyb3cgUihlKSxlfWNvbnN0IG89SlNPTi5wYXJzZShyLmRhdGEpO2lmKFwiZXJyb3JNZXNzYWdlXCJpbiBvKXtjb25zdCBlPW5ldyBUZXJtaW5hbENvbm5lY3RSZXF1ZXN0RXJyb3Ioby5lcnJvck1lc3NhZ2Usbyk7dGhyb3cgUihlKSxlfXJldHVybiBvfSl9O3ZhciB1fSxuZT0oZSx0PVtdKT0+YXN5bmMoKT0+e04oXCJEaXNjb25uZWN0aW5nXCIpO3RyeXthd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgZT0+e2F3YWl0IGUudW5zdWJzY3JpYmUoKX0pKSksYXdhaXQoZT0+YXN5bmMoKT0+e2xldCB0O3RyeXt0PWF3YWl0IGUoVC5EaXNjb25uZWN0LG51bGwpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSk7dGhyb3cgUih0KSx0fWlmKCF0LnN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yKFwiRmFpbGVkIHRvIGRpc2Nvbm5lY3QgdGVybWluYWxcIix0LmVycm9yKTt0aHJvdyBSKGUpLGV9fSkoZSkoKX1jYXRjaChlKXtjb25zdCB0PW5ldyBBcGlFcnJvcihcIkRpc2Nvbm5lY3Rpb24gZmFpbGVkXCIsZSk7dGhyb3cgUih0KSx0fX0scmU9YXN5bmMgZT0+e3RyeXthd2FpdCBmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6XCJpbnRlZ3JhdGlvbi1mZWF0dXJlXCIsZGF0YTp7YXBpVmVyc2lvbjpcIjIuMC4wLWJldGEuMTBcIixjb21wb25lbnROYW1lOmV9fSl9Y2F0Y2godCl7eChgVW5hYmxlIHRvIHJlZ2lzdGVyIHVzYWdlIGZvciBmZWF0dXJlICR7ZX06ICR7dD8ubWVzc2FnZX1gKX19O3ZhciBvZT10LkFkYXB0ZXJFcnJvcixhZT10LkFwaUVycm9yLGllPXQuSW5pdGlhbGl6YXRpb25FcnJvcixzZT10LkludGVyb3BFcnJvcixjZT10LlRlcm1pbmFsQ29ubmVjdFJlcXVlc3RFcnJvcix1ZT10LlRlcm1pbmFsQ29ubmVjdGlvbkVycm9yLGxlPXQuY29ubmVjdCxwZT10LmRpc2FibGVMb2dnaW5nLGRlPXQuZW5hYmxlTG9nZ2luZyxnZT10LmdldFNlY3VyaXR5RnJvbUluc3RydW1lbnRDb250ZXh0O2V4cG9ydHtvZSBhcyBBZGFwdGVyRXJyb3IsYWUgYXMgQXBpRXJyb3IsaWUgYXMgSW5pdGlhbGl6YXRpb25FcnJvcixzZSBhcyBJbnRlcm9wRXJyb3IsY2UgYXMgVGVybWluYWxDb25uZWN0UmVxdWVzdEVycm9yLHVlIGFzIFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yLGxlIGFzIGNvbm5lY3QscGUgYXMgZGlzYWJsZUxvZ2dpbmcsZGUgYXMgZW5hYmxlTG9nZ2luZyxnZSBhcyBnZXRTZWN1cml0eUZyb21JbnN0cnVtZW50Q29udGV4dH07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBjb25uZWN0LCBlbmFibGVMb2dnaW5nLCB0eXBlIEJsb29tYmVyZ0Nvbm5lY3Rpb24gfSBmcm9tIFwiQG9wZW5maW4vYmxvb21iZXJnXCI7XG5pbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5cbmxldCBiYmdDb25uZWN0aW9uOiBCbG9vbWJlcmdDb25uZWN0aW9uIHwgdW5kZWZpbmVkO1xuXG5sZXQgc2VsZWN0ZWRJbnRlbnRUeXBlOiBzdHJpbmcgPSBcIlwiO1xubGV0IHNlbGVjdGVkSW50ZW50VmFsdWU6IHN0cmluZyA9IFwiXCI7XG5sZXQgZmRjM0Rlbm9taW5hdGlvbjogc3RyaW5nID0gXCJcIjtcbmxldCBiYmdNbmVtb25pYzogc3RyaW5nID0gXCJcIjtcblxubGV0IGJ0bkNvbm5lY3Q6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbmxldCBidG5EaXNjb25uZWN0OiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5sZXQgYnRuQ2xlYXJMb2dzOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5sZXQgYnRuUXVlcnk6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbmxldCBpbnRlbnRUeXBlRWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsO1xubGV0IGludGVudFZhbHVlRWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsO1xubGV0IGxvZ091dHB1dDogSFRNTFByZUVsZW1lbnQgfCBudWxsO1xuXG5jb25zdCBBUElfS0VZID0gXCI8UGxlYXNlIGluc2VydCB5b3VyIEFQSSBrZXkgaGVyZT5cIjtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcblx0Ly8gRW5hYmxlIGxvZ2dpbmcgaW4gdGhlIEJCRyBwYWNrYWdlXG5cdGVuYWJsZUxvZ2dpbmcoKTtcblxuXHQvLyBJbml0aWFsaXplIHRoZSBET00gZWxlbWVudHMuXG5cdGluaXRpYWxpemVET00oKTtcbn0pO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIERPTS5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZURPTSgpOiB2b2lkIHtcblx0YnRuQ29ubmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bkNvbm5lY3RcIik7XG5cdGJ0bkRpc2Nvbm5lY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5EaXNjb25uZWN0XCIpO1xuXHRidG5DbGVhckxvZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5DbGVhclwiKTtcblx0YnRuUXVlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5RdWVyeVwiKTtcblx0aW50ZW50VHlwZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxTZWxlY3RFbGVtZW50PihcIiNpbnRlbnRUeXBlXCIpO1xuXHRpbnRlbnRWYWx1ZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxTZWxlY3RFbGVtZW50PihcIiNpbnRlbnRWYWx1ZVwiKTtcblx0bG9nT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MUHJlRWxlbWVudD4oXCIjbG9nT3V0cHV0XCIpO1xuXG5cdGlmIChidG5Db25uZWN0KSB7XG5cdFx0YnRuQ29ubmVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKGJ0bkNvbm5lY3QpIHtcblx0XHRcdFx0YnRuQ29ubmVjdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBjb25uZWN0VG9CQkdUZXJtaW5hbCgpO1xuXHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHR9KTtcblx0fVxuXHRpZiAoYnRuRGlzY29ubmVjdCkge1xuXHRcdGJ0bkRpc2Nvbm5lY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChidG5EaXNjb25uZWN0KSB7XG5cdFx0XHRcdGJ0bkRpc2Nvbm5lY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0YXdhaXQgZGlzY29ubmVjdEZyb21CQkdUZXJtaW5hbCgpO1xuXHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHR9KTtcblx0fVxuXHRpZiAoYnRuQ2xlYXJMb2dzKSB7XG5cdFx0YnRuQ2xlYXJMb2dzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGVhckxvZ3MpO1xuXHR9XG5cdGlmIChidG5RdWVyeSkge1xuXHRcdGJ0blF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmaXJlSW50ZW50Rm9yQkJHKTtcblx0fVxuXG5cdGlmIChpbnRlbnRUeXBlRWxlbWVudCkge1xuXHRcdGludGVudFR5cGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoaW50ZW50VHlwZUVsZW1lbnQ/LnZhbHVlKSB7XG5cdFx0XHRcdGlmIChidG5RdWVyeSkge1xuXHRcdFx0XHRcdGJ0blF1ZXJ5LmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzd2l0Y2ggKGludGVudFR5cGVFbGVtZW50Py52YWx1ZSkge1xuXHRcdFx0XHRcdGNhc2UgXCJWaWV3Q2hhcnRcIjpcblx0XHRcdFx0XHRcdGxvZ0luZm9ybWF0aW9uKFxuXHRcdFx0XHRcdFx0XHRcIkludGVudCB0byBiZSBmaXJlZCBpcyBWaWV3Q2hhcnQuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmluc3RydW1lbnQuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogR1BcIlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHNlbGVjdGVkSW50ZW50VHlwZSA9IFwiVmlld0NoYXJ0XCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmluc3RydW1lbnRcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJHUFwiO1xuXHRcdFx0XHRcdFx0cG9wdWxhdGVTZWxlY3QoaW50ZW50VmFsdWVFbGVtZW50LCBbXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJPUkNMXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3JhY2xlIENvcnBcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiTVNGVFwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk1pY3Jvc29mdFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJJQk1cIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJJQk1cIlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJWaWV3Q29udGFjdFwiOlxuXHRcdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFwiSW50ZW50IHRvIGJlIGZpcmVkIGlzIFZpZXdDb250YWN0LiBDb250ZW50IFR5cGUgaXMgZmRjMy5jb250YWN0LiBCbG9vbWJlcmcgVGVybWluYWwgTW5lbW9uaWM6IEJJT1wiXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWRJbnRlbnRUeXBlID0gXCJWaWV3Q29udGFjdFwiO1xuXHRcdFx0XHRcdFx0ZmRjM0Rlbm9taW5hdGlvbiA9IFwiZmRjMy5jb250YWN0XCI7XG5cdFx0XHRcdFx0XHRiYmdNbmVtb25pYyA9IFwiQklPXCI7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZVNlbGVjdChpbnRlbnRWYWx1ZUVsZW1lbnQsIFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIldpbGxpYW0gSGVucnkgR2F0ZXNcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJXaWxsaWFtIEhlbnJ5IEdhdGVzXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIkxhcnJ5IEVsbGlzb25cIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJMYXJyeSBFbGxpc29uXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIlJvYmVydCBJZ2VyXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiUm9iZXJ0IElnZXJcIlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJWaWV3SW5zdHJ1bWVudFwiOlxuXHRcdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFwiSW50ZW50IHRvIGJlIGZpcmVkIGlzIFZpZXdJbnN0cnVtZW50LiBDb250ZW50IFR5cGUgaXMgZmRjMy5pbnN0cnVtZW50LiBCbG9vbWJlcmcgVGVybWluYWwgTW5lbW9uaWM6IERFU1wiXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWRJbnRlbnRUeXBlID0gXCJWaWV3SW5zdHJ1bWVudFwiO1xuXHRcdFx0XHRcdFx0ZmRjM0Rlbm9taW5hdGlvbiA9IFwiZmRjMy5pbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0XHRiYmdNbmVtb25pYyA9IFwiREVTXCI7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZVNlbGVjdChpbnRlbnRWYWx1ZUVsZW1lbnQsIFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcmFjbGUgQ29ycFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJNU0ZUXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiTWljcm9zb2Z0XCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIklCTVwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdRdW90ZVwiOlxuXHRcdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFwiSW50ZW50IHRvIGJlIGZpcmVkIGlzIFZpZXdRdW90ZS4gQ29udGVudCBUeXBlIGlzIGZkYzMuaW5zdHJ1bWVudC4gQmxvb21iZXJnIFRlcm1pbmFsIE1uZW1vbmljOiBRXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdRdW90ZVwiO1xuXHRcdFx0XHRcdFx0ZmRjM0Rlbm9taW5hdGlvbiA9IFwiZmRjMy5pbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0XHRiYmdNbmVtb25pYyA9IFwiUVwiO1xuXHRcdFx0XHRcdFx0cG9wdWxhdGVTZWxlY3QoaW50ZW50VmFsdWVFbGVtZW50LCBbXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJPUkNMXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3JhY2xlIENvcnBcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiTVNGVFwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk1pY3Jvc29mdFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJJQk1cIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJJQk1cIlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHVwZGF0ZVN0YXRlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoaW50ZW50VmFsdWVFbGVtZW50KSB7XG5cdFx0aW50ZW50VmFsdWVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuXHRcdFx0aWYgKGludGVudFZhbHVlRWxlbWVudCkge1xuXHRcdFx0XHRzZWxlY3RlZEludGVudFZhbHVlID0gaW50ZW50VmFsdWVFbGVtZW50LnZhbHVlO1xuXHRcdFx0XHRpZiAoc2VsZWN0ZWRJbnRlbnRWYWx1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRgYWN0aW9uOiAke3NlbGVjdGVkSW50ZW50VHlwZX0sIHR5cGU6ICR7ZmRjM0Rlbm9taW5hdGlvbn0sIGJiZyBtbmVtb25pYzogJHtiYmdNbmVtb25pY30sIHNlYXJjaCB2YWx1ZTogJHtzZWxlY3RlZEludGVudFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHVwZGF0ZVN0YXRlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHR1cGRhdGVTdGF0ZSgpO1xufVxuXG4vKipcbiAqIENvbm5lY3QgdG8gQmxvb21iZXJnIFRlcm1pbmFsLlxuICovXG5hc3luYyBmdW5jdGlvbiBjb25uZWN0VG9CQkdUZXJtaW5hbCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0dHJ5IHtcblx0XHRsb2dJbmZvcm1hdGlvbihcIkNoZWNraW5nIEJsb29tYmVyZyBUZXJtaW5hbCBTdGF0dXNcIik7XG5cblx0XHRiYmdDb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdChBUElfS0VZKTtcblx0XHRsb2dJbmZvcm1hdGlvbihcIkNvbm5lY3Rpb24gc3VjY2Vzc2Z1bFwiKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRiYmdDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuXHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRsb2dJbmZvcm1hdGlvbihlcnJvclRvU3RyaW5nKGVycm9yKSk7XG5cdH1cbn1cblxuLyoqXG4gKiBEaXNjb25uZWN0IGZyb20gQmxvb21iZXJnIFRlcm1pbmFsLlxuICovXG5hc3luYyBmdW5jdGlvbiBkaXNjb25uZWN0RnJvbUJCR1Rlcm1pbmFsKCk6IFByb21pc2U8dm9pZD4ge1xuXHRpZiAoYmJnQ29ubmVjdGlvbikge1xuXHRcdHRyeSB7XG5cdFx0XHRsb2dJbmZvcm1hdGlvbihcIkRpc2Nvbm5lY3RpbmcgZnJvbSBCbG9vbWJlcmcgVGVybWluYWxcIik7XG5cdFx0XHRhd2FpdCBiYmdDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0YmJnQ29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcblx0XHRcdGxvZ0luZm9ybWF0aW9uKFwiRGlzY29ubmVjdGVkIGZyb20gQmxvb21iZXJnIFRlcm1pbmFsXCIpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEZpcmUgYW4gaW50ZW50LlxuICovXG5hc3luYyBmdW5jdGlvbiBmaXJlSW50ZW50Rm9yQkJHKCk6IFByb21pc2U8dm9pZD4ge1xuXHRpZiAoYmJnQ29ubmVjdGlvbikge1xuXHRcdHRyeSB7XG5cdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0YGFjdGlvbjogJHtzZWxlY3RlZEludGVudFR5cGV9LCB0eXBlOiAke2ZkYzNEZW5vbWluYXRpb259LCBiYmcgbW5lbW9uaWM6ICR7YmJnTW5lbW9uaWN9LCBzZWFyY2ggdmFsdWU6ICR7c2VsZWN0ZWRJbnRlbnRWYWx1ZX1gXG5cdFx0XHQpO1xuXG5cdFx0XHRsZXQgaW50ZW50OiBPcGVuRmluLkludGVudDtcblxuXHRcdFx0c3dpdGNoIChzZWxlY3RlZEludGVudFR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcIlZpZXdDb250YWN0XCI6XG5cdFx0XHRcdFx0aW50ZW50ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogc2VsZWN0ZWRJbnRlbnRUeXBlLFxuXHRcdFx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBmZGMzRGVub21pbmF0aW9uLFxuXHRcdFx0XHRcdFx0XHRuYW1lOiBzZWxlY3RlZEludGVudFZhbHVlLFxuXHRcdFx0XHRcdFx0XHRpZDoge31cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGludGVudCA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHNlbGVjdGVkSW50ZW50VHlwZSxcblx0XHRcdFx0XHRcdGNvbnRleHQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogZmRjM0Rlbm9taW5hdGlvbixcblx0XHRcdFx0XHRcdFx0aWQ6IHtcblx0XHRcdFx0XHRcdFx0XHR0aWNrZXI6IHNlbGVjdGVkSW50ZW50VmFsdWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IGZpbi5tZS5pbnRlcm9wLmZpcmVJbnRlbnQoaW50ZW50KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bG9nSW5mb3JtYXRpb24oYEVycm9yIHdoaWxlIHRyeWluZyB0byByYWlzZSBpbnRlbnQ6ICR7ZXJyb3JUb1N0cmluZyhlcnJvcil9YCk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiTm90IGNvbm5lY3RlZCB0byB0aGUgQmxvb21iZXJnIFRlcm1pbmFsLiBQbGVhc2UgY2hlY2sgeW91ciBzdGF0dXMgb3IgbG9nIGluIGFnYWluLlwiKTtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIERPTS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3RhdGUoKTogdm9pZCB7XG5cdGNvbnN0IGlzQ29ubmVjdGVkID0gYmJnQ29ubmVjdGlvbiAhPT0gdW5kZWZpbmVkO1xuXHRpZiAoYnRuQ29ubmVjdCkge1xuXHRcdGJ0bkNvbm5lY3QuZGlzYWJsZWQgPSBpc0Nvbm5lY3RlZDtcblx0fVxuXHRpZiAoYnRuRGlzY29ubmVjdCkge1xuXHRcdGJ0bkRpc2Nvbm5lY3QuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQ7XG5cdH1cblx0aWYgKGludGVudFR5cGVFbGVtZW50KSB7XG5cdFx0aW50ZW50VHlwZUVsZW1lbnQuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQ7XG5cdH1cblx0aWYgKGludGVudFZhbHVlRWxlbWVudCkge1xuXHRcdGludGVudFZhbHVlRWxlbWVudC5kaXNhYmxlZCA9ICFpc0Nvbm5lY3RlZCB8fCBzZWxlY3RlZEludGVudFR5cGUubGVuZ3RoID09PSAwO1xuXHR9XG5cdGlmIChidG5RdWVyeSkge1xuXHRcdGJ0blF1ZXJ5LmRpc2FibGVkID0gIWlzQ29ubmVjdGVkIHx8IHNlbGVjdGVkSW50ZW50VmFsdWUubGVuZ3RoID09PSAwO1xuXHR9XG59XG5cbi8qKlxuICogTG9nIGluZm9ybWF0aW9uIHRvIHRoZSBvdXRwdXQgZWxlbWVudC5cbiAqIEBwYXJhbSBpbmZvIFRoZSBpbmZvcm1hdGlvbiB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIGxvZ0luZm9ybWF0aW9uKGluZm86IHN0cmluZyk6IHZvaWQge1xuXHRpZiAobG9nT3V0cHV0KSB7XG5cdFx0bG9nT3V0cHV0LnRleHRDb250ZW50ID0gYCR7bG9nT3V0cHV0LnRleHRDb250ZW50fSR7aW5mb31cXG5cXG5gO1xuXHRcdGxvZ091dHB1dC5zY3JvbGxUb3AgPSBsb2dPdXRwdXQuc2Nyb2xsSGVpZ2h0O1xuXHR9XG59XG5cbi8qKlxuICogQ29udmVydCBhbmQgZXJyb3IgdG8gYSBzdHJpbmcuXG4gKiBAcGFyYW0gZXJyIFRoZSBlcnJvciB0byBjb252ZXJ0LlxuICogQHJldHVybnMgVGhlIGVycm9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlcnJvclRvU3RyaW5nKGVycjogdW5rbm93bik6IHN0cmluZyB7XG5cdGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdHJldHVybiBlcnIubWVzc2FnZTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXJyID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGVycjtcblx0fVxuXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShlcnIpO1xufVxuXG4vKipcbiAqIENsZWFyIHRoZSBsb2dzLlxuICovXG5mdW5jdGlvbiBjbGVhckxvZ3MoKTogdm9pZCB7XG5cdGlmIChsb2dPdXRwdXQpIHtcblx0XHRsb2dPdXRwdXQudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdGxvZ091dHB1dC5zY3JvbGxUb3AgPSAwO1xuXHR9XG59XG5cbi8qKlxuICogUG9wdWxhdGUgYSBzZWxlY3QgY29udHJvbCB3aXRoIGEgbGlzdCBvZiBpdGVtcy5cbiAqIEBwYXJhbSBzZWxlY3QgVGhlIHNlbGVjdCBlbGVtZW50IHRvIHBvcHVsYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIHBvcHVsYXRlIHRoZSBlbGVtZW50IHdpdGguXG4gKi9cbmZ1bmN0aW9uIHBvcHVsYXRlU2VsZWN0KHNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsLCB2YWx1ZXM6IHsgdmFsdWU6IHN0cmluZzsgbGFiZWw6IHN0cmluZyB9W10pOiB2b2lkIHtcblx0aWYgKHNlbGVjdCkge1xuXHRcdHNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGNvbnN0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0b3B0LnZhbHVlID0gXCJcIjtcblx0XHRvcHQudGV4dCA9IFwiUGxlYXNlIHNlbGVjdCB2YWx1ZVwiO1xuXHRcdG9wdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0b3B0LnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRzZWxlY3QuYXBwZW5kKG9wdCk7XG5cblx0XHRmb3IgKGNvbnN0IHZhbCBvZiB2YWx1ZXMpIHtcblx0XHRcdGNvbnN0IG9wdFZhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0XHRvcHRWYWwudmFsdWUgPSB2YWwudmFsdWU7XG5cdFx0XHRvcHRWYWwudGV4dCA9IHZhbC5sYWJlbDtcblx0XHRcdHNlbGVjdC5hcHBlbmQob3B0VmFsKTtcblx0XHR9XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==