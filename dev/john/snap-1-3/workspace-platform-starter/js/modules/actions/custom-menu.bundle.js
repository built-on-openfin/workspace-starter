var e;function t(e){return null==e}!function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(e||(e={}));const o={actions:new class{async initialize(e,t,o){this._logger=t("CustomMenuProvider"),this._settings=e.data,this._helpers=o}async get(o){const s={};return s["pages-menu"]=async s=>{if(s.callerType===e.CustomButton&&this._helpers){const e=await o.Storage.getPages(),n=await this._helpers.getMenuClient(),a=await n.showPopupMenu({x:s.x,y:48},s.windowIdentity,"There are no pages",e.map((e=>({label:e.title,data:e.pageId,icon:this._settings?.images.page}))).sort(((e,t)=>e.label.localeCompare(t.label))),{popupMenuStyle:this._settings?.popupMenuStyle??n.getPopupMenuStyle()});t(a)?this._logger?.info("Menu dismissed"):this._helpers?.launchPage&&(this._logger?.info("Menu clicked",a),await this._helpers.launchPage(a,void 0,this._logger))}},s["workspaces-menu"]=async s=>{if(s.callerType===e.CustomButton&&this._helpers){const e=await o.Storage.getWorkspaces(),n=await this._helpers.getMenuClient(),a=this._settings?.popupMenuStyle??n.getPopupMenuStyle(),i=await n.showPopupMenu({x:s.x,y:48},s.windowIdentity,"There are no workspaces",e.map((e=>({label:e.title,data:e.workspaceId,icon:this._settings?.images.workspace}))).sort(((e,t)=>e.label.localeCompare(t.label))),{popupMenuStyle:a});t(i)?this._logger?.info("Menu dismissed"):this._helpers?.launchWorkspace&&(this._logger?.info("Menu clicked",i),await this._helpers.launchWorkspace(i,this._logger))}},s}}};export{o as entryPoints};
//# sourceMappingURL=custom-menu.bundle.js.map