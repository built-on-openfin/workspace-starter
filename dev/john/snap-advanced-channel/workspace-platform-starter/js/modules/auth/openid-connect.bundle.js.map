{"version":3,"file":"openid-connect.bundle.js","mappings":"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","sources":["webpack://openfin-workspace--workspace-platform-starter/webpack/bootstrap","webpack://openfin-workspace--workspace-platform-starter/webpack/runtime/define property getters","webpack://openfin-workspace--workspace-platform-starter/webpack/runtime/hasOwnProperty shorthand","webpack://openfin-workspace--workspace-platform-starter/../../node_modules/@openfin/openid-connect/openfin.openid-connect.mjs","webpack://openfin-workspace--workspace-platform-starter/./client/src/framework/utils.ts","webpack://openfin-workspace--workspace-platform-starter/./client/src/modules/auth/openid-connect/index.ts","webpack://openfin-workspace--workspace-platform-starter/./client/src/modules/auth/openid-connect/auth.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{MS:()=>R,_7:()=>AuthenticationError,cX:()=>P,zL:()=>LogoutError,_W:()=>x,p8:()=>j,YR:()=>ze,U$:()=>Je,U7:()=>Ue,OF:()=>He});var r={d:(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},o={};r.d(o,{MS:()=>ApiError,cF:()=>ApiRequestError,AK:()=>AuthTokenExpiredError,M_:()=>AuthorizationError,cX:()=>InitializationError,Yd:()=>w,O4:()=>T,_W:()=>ParameterError,p8:()=>ValidationError,m$:()=>s,U$:()=>u,U7:()=>h,OV:()=>d,N7:()=>A,HP:()=>n,Rp:()=>O});class ApiError extends Error{constructor(e,t){var r,o;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"An unexpected error has occurred\"),this.name=this.constructor.name,this.stack=(e?this.stack:null!==(o=null==t?void 0:t.stack)&&void 0!==o?o:this.stack).replace(/^(\\w*Error)/,`${this.constructor.name}`)}}class ApiRequestError extends ApiError{constructor(e,t,r){var o;super(e=null!==(o=null!=e?e:null==r?void 0:r.message)&&void 0!==o?o:\"An error occurred when executing the API request\",r),this.status=t}}class AuthorizationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"An authorization error occurred\",t)}}class AuthTokenExpiredError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"The API request failed as the authorization tokens have expired\",t)}}class InitializationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"An initialization error occurred\",t)}}class ParameterError extends ApiError{constructor(e){super(e=null!=e?e:\"Invalid parameter detected\")}}class ValidationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"A token validation error occurred\",t)}}const n=()=>void 0!==crypto.randomUUID?crypto.randomUUID():\"10000000-1000-4000-8000-100000000000\".replace(/[018]/g,(e=>{const t=window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4;return(Number(e)^t).toString(16)})),a=\"oauth-api-auth-flow\",i=(e,t,r,o,n,a,i,s)=>async c=>{const d=new URL(c);if(0!==d.href.toLowerCase().indexOf(n.toLowerCase()))return!1;if(window.clearInterval(s),window.clearTimeout(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),d.searchParams.get(\"error\")){const e=new AuthorizationError(\"Authorization error\");return e.data=d.toString(),i(e),!0}if(d.searchParams.get(\"state\")!==o){const e=new AuthorizationError(\"State mismatch\");return e.data=d.toString(),i(e),!0}const l=d.searchParams.get(\"code\");if(!l){const e=new AuthorizationError(\"Authorization code missing\");return e.data=d.toString(),i(e),!0}return a(l),!0},s=async(e,t,r={})=>{const{defaultHeight:o,defaultWidth:n}=r;return t(await fin.Window.create(Object.assign({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:null!=o?o:750,defaultWidth:null!=n?n:600,includeInSnapshots:!1,name:a,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:e},r)))},c=(e,t,r)=>o=>new Promise(((n,a)=>{let s;const c=window.setTimeout((()=>{window.clearInterval(s),window.clearTimeout(c),o.removeAllListeners(),o.close(!0),a(new AuthorizationError(\"Authorization timed out\"))}),3e5);o.addListener(\"closing\",(async()=>{r.logInfo(\"User closed auth window\"),window.clearInterval(s),window.clearTimeout(c),o.removeAllListeners(),a(new AuthorizationError(\"Failed to complete authorization code flow\"))}));const d=window.setTimeout((async()=>{try{await o.isShowing()||(r.logInfo(\"Showing auth window\"),await o.show(!0),await o.focus())}catch(e){r.logWarning(\"Unable to show auth window\")}}),2e3);(async()=>{const{version:l}=await fin.System.getRuntimeInfo();parseInt(l.split(\".\")[0],10)>=30?await i(o,c,d,e,t,n,a)((await o.getInfo()).url)||await o.addListener(\"url-changed\",(s=>{r.logInfo(\"Auth window navigated to\",s.url),i(o,c,d,e,t,n,a)(s.url)})):s=window.setInterval((()=>(async(e,t,r,o,n,a,s,c)=>{let d;try{d=await e.getInfo()}catch(e){return window.clearInterval(t),window.clearTimeout(r),window.clearTimeout(o),c(new AuthorizationError(\"Could not locate auth window\")),!1}return i(e,r,o,n,a,s,c,t)(d.url)})(o,s,c,d,e,t,n,a)),500)})()})),d=async(e,t)=>{let r;null==t||t.logInfo(\"Retrieving authorization server metadata\",e);try{r=new URL(e)}catch(e){throw new ParameterError(\"Unexpected invalid discovery URL\")}const o=await fetch(r,{headers:{Accept:\"application/json\"}});if(!o.ok)throw new Error(\"Failed to retrieve authorization server metadata\");const n=await o.json();if(!n)throw new Error(\"Unexpected empty authorization server metadata response\");return null==t||t.logInfo(\"Retrieved authorization server metadata\",n),n},l=e=>{let t=fin.Integrations;t||(fin.Integrations={},t=fin.Integrations);let r=t[e];return r||(t[e]={},r=t[e]),r},u=e=>{l(e).loggingEnabled=!1},h=(e,t=\"0.0.0\")=>{l(e).loggingEnabled=!0,console.log(p(e),`v${t}`)},p=e=>`[@openfin/${e.toLowerCase()}]`;class w{constructor(e){this.name=e,this.prefix=p(e),this.isLoggingEnabled=this.isLoggingEnabled.bind(this),this.logError=this.logError.bind(this),this.logInfo=this.logInfo.bind(this),this.logWarning=this.logWarning.bind(this)}isLoggingEnabled(){return l(this.name).loggingEnabled}logError(e){this.isLoggingEnabled()&&(e.innerError?console.error(this.prefix,e,\"\\n\\n(inner)\",e.innerError):console.error(this.prefix,e))}logInfo(...e){this.isLoggingEnabled()&&console.log(this.prefix,...e)}logWarning(...e){this.isLoggingEnabled()&&console.warn(this.prefix,...e)}}const g=()=>{let e,t,r,o,n;const a=async(t,r=!1)=>{const{command:o,data:n,id:s}=t,c={command:o,id:s};try{if(!e)throw new Error(\"Access token not found\");const{apiRequestUrl:o,data:s,headers:d,httpMethod:l,includeAuthorization:u}=n,h=await(async(t,r,o,n,a)=>{var i,s;const c=Object.assign({Accept:\"application/json\"},n);\"PATCH\"!==r&&\"POST\"!==r&&\"PUT\"!==r||/content-type/i.test(Object.keys(c).join(\",\"))||(c[\"Content-Type\"]=\"application/json\"),a&&(c.Authorization=`Bearer ${e}`);const d=await fetch(t,{body:\"object\"==typeof o?JSON.stringify(o):o,headers:c,method:r});if(!d.ok){const e={message:\"Failed to execute API request\"};return(null===(i=d.headers.get(\"Content-Type\"))||void 0===i?void 0:i.includes(\"application/json\"))&&(e.data=await d.json()),[d.status,void 0,void 0,e]}let l;const u=null!==(s=d.headers.get(\"Content-Type\"))&&void 0!==s?s:\"\";switch(!0){case!u:break;case/^application\\/(\\w+\\+)?json/i.test(u):l=await d.json();break;case/^multipart\\/form-?data|^application\\/x-?www-?form-?urlencoded/i.test(u):l=await d.formData();break;case/^application\\/(([^/]+)?xml|vnd\\.openxmlformats)|^text\\/|^image\\/svg/i.test(u):l=await d.text();break;default:l=await d.arrayBuffer()}return[d.status,l,u,void 0]})(o,l,s,d,u),[p,w,g,f]=h;if(c.status=p,f){if(!r&&401===p){const[e,r]=await i();return r?(c.status=e,c.error=r,c):await a(t,!0)}c.error=f}else w&&(c.data=w,c.type=g)}catch(e){e instanceof Error?c.error={message:e.message}:c.error={message:\"Failed to execute API request\"}}return Promise.resolve(c)},i=async()=>{var r;if(!o)throw new Error(\"Authorization server metadata not set\");if(!t)throw new Error(\"Client ID not set\");const a=`grant_type=refresh_token&client_id=${t}&refresh_token=${n}`,i=await fetch(o.token_endpoint,{body:a,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"},method:\"POST\"});if(!i.ok){const e={message:\"Failed to refresh access token\"};return(null===(r=i.headers.get(\"Content-Type\"))||void 0===r?void 0:r.includes(\"application/json\"))&&(e.data=await i.json()),[i.status,e]}const s=await i.json();return e=s.access_token,[i.status]};self.onmessage=async i=>{const{command:s,id:c}=i.data;let d={command:s,id:c};switch(s){case\"API_REQUEST\":d=await a(i.data);break;case\"CODE_EXCHANGE\":d=await(async a=>{var i;const{command:s,data:c,id:d}=a,l={command:s,id:d};try{if(!o)throw new Error(\"Authorization server metadata not set\");if(!t)throw new Error(\"Client ID not set\");const{code:a,codeVerifier:s,redirectUri:d}=c,u=`grant_type=authorization_code&client_id=${t}&code=${a}&code_verifier=${s}&redirect_uri=${d}`,h=await fetch(o.token_endpoint,{body:u,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"},method:\"POST\"});if(h.ok){const t=await h.json();e=t.access_token,r=t.id_token,n=t.refresh_token}else{const e={message:\"Failed to retrieve tokens\"};(null===(i=h.headers.get(\"Content-Type\"))||void 0===i?void 0:i.includes(\"application/json\"))&&(e.data=await h.json()),l.error=e}}catch(e){e instanceof Error?l.error={message:e.message}:l.error={message:\"Failed to retrieve tokens\"}}return Promise.resolve(l)})(i.data);break;case\"EXPIRE_TOKENS\":d=await(async r=>{var a;const{command:i,expireAccessTokenOnly:s,id:c}=r,d={command:i,id:c};try{if(!o)throw new Error(\"Authorization server metadata not set\");if(!o.revocation_endpoint)throw new Error(\"Revocation endpoint missing in authorization server metadata\");if(!s&&!n)throw new Error(\"Refresh token not found\");const r=o.revocation_endpoint;let i,c=!1;const l={body:`client_id=${t}`,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"},method:\"POST\"};if(s){const t=await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${e}&token_type_hint=access_token`}));t.ok||(c=!0,(null===(a=t.headers.get(\"Content-Type\"))||void 0===a?void 0:a.includes(\"application/json\"))&&(i=await t.json()))}else{const t=(await Promise.all([await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${e}&token_type_hint=access_token`})),await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${n}&token_type_hint=refresh_token`}))])).filter((e=>!e.ok));t.length&&(c=!0,i=await t[0].json())}if(c){const e={data:i,message:\"Failed to expire tokens\"};d.error=e}}catch(e){e instanceof Error?d.error={message:e.message}:d.error={message:\"Failed to expire tokens\"}}return Promise.resolve(d)})(i.data);break;case\"GET_ID_TOKEN\":l=i.data,d=Object.assign(Object.assign({},l),{idToken:r});break;case\"INIT\":d=await(async e=>{const{command:r,data:n,id:a}=e,i={command:r,id:a};return t=n.clientId,o=n.metadata,Promise.resolve(i)})(i.data);break;default:d.error=new Error(`Unexpected oauth worker command: ${s}`)}var l;self.postMessage(d)}};var f;!function(e){e.ApiRequest=\"API_REQUEST\",e.CodeExchange=\"CODE_EXCHANGE\",e.ExpireTokens=\"EXPIRE_TOKENS\",e.GetIdToken=\"GET_ID_TOKEN\",e.Init=\"INIT\"}(f||(f={}));const m=[],y=e=>{m.push(e)},E=(e,t)=>(r,o,a)=>new Promise(((i,s)=>{const c={command:f.CodeExchange,data:{code:r,codeVerifier:o,redirectUri:a},id:n()},{command:d,id:l}=c;y({command:d,id:l,reject:s,resolve:i}),e.postMessage(c),t.logInfo(\"Worker request sent\",c)})),v=(e,t,r)=>(o,a,i,s,c)=>new Promise(((d,l)=>{const u={command:f.ApiRequest,data:{apiRequestUrl:o,clientId:e,data:i,headers:s,httpMethod:a,includeAuthorization:c},id:n()},{command:h,id:p}=u;y({command:h,id:p,reject:l,resolve:d}),t.postMessage(u),r.logInfo(\"Worker request sent\",u)})),S=(e,t)=>r=>new Promise(((o,a)=>{const i={command:f.ExpireTokens,expireAccessTokenOnly:r,id:n()},{command:s,id:c}=i;y({command:s,id:c,reject:a,resolve:o}),e.postMessage(i),t.logInfo(\"Worker request sent\",i)})),b=(e,t)=>async()=>(await new Promise(((r,o)=>{const a={command:f.GetIdToken,id:n()},{command:i,id:s}=a;y({command:i,id:s,reject:o,resolve:r}),e.postMessage(a),t.logInfo(\"Worker request sent\",a)}))).idToken,A=async(e,t,r)=>{const o=new Blob([`(${g})()`],{type:\"text/javascript\"}),a=URL.createObjectURL(o),i=new Worker(a);return i.onmessage=_(r),await((e,t,r,o)=>new Promise(((a,i)=>{const s={command:f.Init,data:{clientId:t,metadata:e},id:n()},{command:c,id:d}=s;y({command:c,id:d,reject:i,resolve:a}),r.postMessage(s),o.logInfo(\"Worker request sent\",s)})))(e,t,i,r),{exchangeCodeForTokens:E(i,r),executeApiRequest:v(t,i,r),expireTokens:S(i,r),getIdToken:b(i,r),terminate:I(i,r)}},_=e=>t=>{e.logInfo(\"Worker response received\",t.data);const r=t.data,{command:o,error:n,id:a}=r,i=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(r,[\"command\",\"error\",\"id\"]),s=((e,t)=>m.find((r=>r.command===t&&r.id===e)))(a,o);s?(n?(\"status\"in i&&void 0!==i.status&&(n.status=i.status),s.reject(n)):s.resolve(i),k(a,o)):e.logError(new Error(\"Unable to locate awaited request\"))},k=(e,t)=>{const r=m.findIndex((r=>r.command===t&&r.id===e));r>=0&&m.splice(r,1)},I=(e,t)=>async()=>{try{await S(e,t)(!1)}catch(e){t.logWarning(e.message)}e.terminate(),t.logInfo(\"Worker terminated\")};class T{get apiOrigin(){return this._apiOrigin}get clientId(){return this._clientId}get logger(){return this._logger}get metadata(){return this._metadata}get worker(){return this._worker}constructor(e,t,r,o,n){if(this.executeApiRequest=async(e,t=\"GET\",r,o,n=!0,a=!1)=>{this._logger.logInfo(\"ExecuteApiRequest started\",e,t,r,o);try{const a=await((e,t)=>async(r,o,n,a,i)=>{try{return await t.executeApiRequest(`${e}${r}`,o,n,a,i)}catch(e){let t;const{data:r,message:o,status:n}=e;throw t=e instanceof Error?new ApiRequestError(o,n):\"Failed to refresh access token\"===o?new AuthTokenExpiredError(o):new ApiRequestError(o,n),t.data=r,t}})(this._apiOrigin,this._worker)(e,t,r,o,n);return this._logger.logInfo(\"ExecuteApiRequest completed\",a),a}catch(e){if(e instanceof ApiRequestError){const{data:t,message:r,name:o,stack:n}=e,a=this.getErrorMessageFromServerResponse(t);a&&(e.message=a,e.stack=null==n?void 0:n.replace(`${o}: ${r}`,`${o}: ${a}`))}throw a&&this.logger.logError(e),e}},!(t&&r&&o&&n))throw new InitializationError(\"Provider has not been properly initialized (call init to create new instances)\");this._apiOrigin=null!=e?e:\"\",this._clientId=t,this._metadata=r,this._worker=o,this._logger=n,this.authorize=this.authorize.bind(this),this.close=this.close.bind(this),this.executeApiRequest=this.executeApiRequest.bind(this),this.expireTokens=this.expireTokens.bind(this),this.getErrorMessageFromServerResponse=this.getErrorMessageFromServerResponse.bind(this),this.getIdToken=this.getIdToken.bind(this)}async authorize(e,t,r){this._logger.logInfo(\"Authorize started\",e,t,r);try{await(o=this._metadata,i=this._clientId,d=this._worker,l=this._logger,async(e,t={},r={})=>{const{authorization_endpoint:u}=o,h=fin.Application.getCurrentSync(),p=(await h.getChildWindows()).find((e=>e.identity.name===a));p&&await p.close(!0);const w=n(),g=(()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.slice(-2))).join(\"\")})(),f=(await(async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest(\"SHA-256\",t),o=await(e=>new Promise(((t,r)=>{try{const o=new Blob([e]),n=new FileReader;n.onload=e=>{var o,n;const a=null===(o=e.target)||void 0===o?void 0:o.result;if(a){const[,e]=Array.from(null!==(n=a.match(/base64,(.*)$/i))&&void 0!==n?n:[]);t(null!=e?e:\"\")}r(new Error(\"Unexpected empty result\"))},n.readAsDataURL(o)}catch(e){r(e)}})))(r);return o.replace(/\\+/g,\"-\").replace(/\\//g,\"_\")})(g)).replace(/=+$/,\"\"),m=new URL(u);m.searchParams.set(\"client_id\",i),m.searchParams.set(\"redirect_uri\",e),m.searchParams.set(\"response_type\",\"code\"),m.searchParams.set(\"state\",w),m.searchParams.set(\"code_challenge\",f),m.searchParams.set(\"code_challenge_method\",\"S256\"),Object.entries(t).forEach((e=>m.searchParams.set(e[0],e[1]))),l.logInfo(\"Starting OAuth flow\",m,r);const y=await s(m.toString(),c(w,e,l),r);l.logInfo(\"Received authorization code\"),await d.exchangeCodeForTokens(y,g,e),l.logInfo(\"Received tokens\")})(e,t,r),this._logger.logInfo(\"Authorize completed\")}catch(e){let t;if(e instanceof ApiError){const{data:r}=e,o=this.getErrorMessageFromServerResponse(r);t=new AuthorizationError(o,e),t.data=r}else t=new AuthorizationError(void 0,e);throw this.logger.logError(t),t}var o,i,d,l}async close(){var e;this._logger.logInfo(\"Close started\");try{await(null===(e=this._worker)||void 0===e?void 0:e.terminate()),this._worker=void 0,this._apiOrigin=void 0,this._clientId=void 0,this._metadata=void 0,this._logger.logInfo(\"Close completed\")}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}async expireTokens(e=!1){var t;this._logger.logInfo(\"ExpireTokens started\");try{await(null===(t=this._worker)||void 0===t?void 0:t.expireTokens(e)),this._logger.logInfo(\"ExpireTokens completed\")}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}getErrorMessageFromServerResponse(e){e&&this._logger.logWarning(e)}async getIdToken(){var e;this._logger.logInfo(\"GetIdToken started\");try{const t=await(null===(e=this._worker)||void 0===e?void 0:e.getIdToken());return this._logger.logInfo(\"GetIdToken completed\",t),t}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}static async init(e,t,r,o,...n){const a=new w(o);a.logInfo(\"Init started\",e,t,r);try{let o;if(\"discoveryEndpoint\"in e){const{additionalMetadata:t,discoveryEndpoint:r}=e;o=Object.assign(Object.assign({},await d(r)),null!=t?t:{})}else o=e;if(!o.response_types_supported.find((e=>\"code\"===e.toLowerCase())))throw new InitializationError(\"Authorization server does not support the authorization code response type\");const n=await A(o,r,a),i=new T(t,r,o,n,a);return a.logInfo(\"Init completed\",i),i}catch(e){let t;throw t=e instanceof ApiError?e:new InitializationError(void 0,e),a.logError(t),t}}}const O=e=>async(t,r,o)=>{let n;null==e||e.logInfo(\"Validating token against introspection endpoint\",t,r,o);try{n=await fetch(o,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:`token=${t}&client_id=${r}`})}catch(e){throw new ValidationError(void 0,e)}if(n.ok){const t=await n.json(),{active:r}=t,o=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(t,[\"active\"]),a=Object.assign({valid:r},o);return null==e||e.logInfo(\"Token validation result\",a),a}const a=await n.json();throw null==e||e.logWarning(\"Token Validation failed\",a),new ValidationError};var R=o.MS,P=o.cX,C=o.Yd,W=o.O4,x=o._W,j=o.p8,$=o.m$,J=o.U$,U=o.U7,K=o.OV,D=o.N7,L=o.Rp;const H=new TextEncoder,M=new TextDecoder;function z(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let o=0;return e.forEach((e=>{r.set(e,o),o+=e.length})),r}const N=e=>{let t=e;t instanceof Uint8Array&&(t=M.decode(t)),t=t.replace(/-/g,\"+\").replace(/_/g,\"/\").replace(/\\s/g,\"\");try{return(e=>{const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r})(t)}catch(e){throw new TypeError(\"The input to be decoded is not correctly encoded.\")}};class JOSEError extends Error{static get code(){return\"ERR_JOSE_GENERIC\"}constructor(e){var t;super(e),this.code=\"ERR_JOSE_GENERIC\",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class F extends JOSEError{static get code(){return\"ERR_JWT_CLAIM_VALIDATION_FAILED\"}constructor(e,t=\"unspecified\",r=\"unspecified\"){super(e),this.code=\"ERR_JWT_CLAIM_VALIDATION_FAILED\",this.claim=t,this.reason=r}}class q extends JOSEError{static get code(){return\"ERR_JWT_EXPIRED\"}constructor(e,t=\"unspecified\",r=\"unspecified\"){super(e),this.code=\"ERR_JWT_EXPIRED\",this.claim=t,this.reason=r}}class G extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JOSE_ALG_NOT_ALLOWED\"}static get code(){return\"ERR_JOSE_ALG_NOT_ALLOWED\"}}class V extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JOSE_NOT_SUPPORTED\"}static get code(){return\"ERR_JOSE_NOT_SUPPORTED\"}}class B extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWS_INVALID\"}static get code(){return\"ERR_JWS_INVALID\"}}class X extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWT_INVALID\"}static get code(){return\"ERR_JWT_INVALID\"}}class Y extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_INVALID\"}static get code(){return\"ERR_JWKS_INVALID\"}}class Q extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_NO_MATCHING_KEY\",this.message=\"no applicable key found in the JSON Web Key Set\"}static get code(){return\"ERR_JWKS_NO_MATCHING_KEY\"}}class Z extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_MULTIPLE_MATCHING_KEYS\",this.message=\"multiple matching keys found in the JSON Web Key Set\"}static get code(){return\"ERR_JWKS_MULTIPLE_MATCHING_KEYS\"}}Symbol.asyncIterator;class ee extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_TIMEOUT\",this.message=\"request timed out\"}static get code(){return\"ERR_JWKS_TIMEOUT\"}}class te extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\",this.message=\"signature verification failed\"}static get code(){return\"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\"}}const re=crypto,oe=e=>e instanceof CryptoKey;re.getRandomValues.bind(re);const ne=async e=>{var t,r;if(!e.alg)throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');const{algorithm:o,keyUsages:n}=function(e){let t,r;switch(e.kty){case\"oct\":switch(e.alg){case\"HS256\":case\"HS384\":case\"HS512\":t={name:\"HMAC\",hash:`SHA-${e.alg.slice(-3)}`},r=[\"sign\",\"verify\"];break;case\"A128CBC-HS256\":case\"A192CBC-HS384\":case\"A256CBC-HS512\":throw new V(`${e.alg} keys cannot be imported as CryptoKey instances`);case\"A128GCM\":case\"A192GCM\":case\"A256GCM\":case\"A128GCMKW\":case\"A192GCMKW\":case\"A256GCMKW\":t={name:\"AES-GCM\"},r=[\"encrypt\",\"decrypt\"];break;case\"A128KW\":case\"A192KW\":case\"A256KW\":t={name:\"AES-KW\"},r=[\"wrapKey\",\"unwrapKey\"];break;case\"PBES2-HS256+A128KW\":case\"PBES2-HS384+A192KW\":case\"PBES2-HS512+A256KW\":t={name:\"PBKDF2\"},r=[\"deriveBits\"];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"RSA\":switch(e.alg){case\"PS256\":case\"PS384\":case\"PS512\":t={name:\"RSA-PSS\",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?[\"sign\"]:[\"verify\"];break;case\"RS256\":case\"RS384\":case\"RS512\":t={name:\"RSASSA-PKCS1-v1_5\",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?[\"sign\"]:[\"verify\"];break;case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":t={name:\"RSA-OAEP\",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?[\"decrypt\",\"unwrapKey\"]:[\"encrypt\",\"wrapKey\"];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"EC\":switch(e.alg){case\"ES256\":t={name:\"ECDSA\",namedCurve:\"P-256\"},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ES384\":t={name:\"ECDSA\",namedCurve:\"P-384\"},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ES512\":t={name:\"ECDSA\",namedCurve:\"P-521\"},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":t={name:\"ECDH\",namedCurve:e.crv},r=e.d?[\"deriveBits\"]:[];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"OKP\":switch(e.alg){case\"EdDSA\":t={name:e.crv},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":t={name:e.crv},r=e.d?[\"deriveBits\"]:[];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;default:throw new V('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),a=[o,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:n];if(\"PBKDF2\"===o.name)return re.subtle.importKey(\"raw\",N(e.k),...a);const i={...e};return delete i.alg,delete i.use,re.subtle.importKey(\"jwk\",i,...a)};function ae(e){if(\"object\"!=typeof(t=e)||null===t||\"[object Object]\"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}const ie=function(e,t,r,o,n){if(void 0!==n.crit&&void 0===o.crit)throw new e('\"crit\" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some((e=>\"string\"!=typeof e||0===e.length)))throw new e('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of o.crit){if(!a.has(t))throw new V(`Extension Header Parameter \"${t}\" is not recognized`);if(void 0===n[t])throw new e(`Extension Header Parameter \"${t}\" is missing`);if(a.get(t)&&void 0===o[t])throw new e(`Extension Header Parameter \"${t}\" MUST be integrity protected`)}return new Set(o.crit)};Symbol();function se(e,t=\"algorithm.name\"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ce(e,t){return e.name===t}function de(e){return parseInt(e.name.slice(4),10)}function le(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e=\"CryptoKey does not support this operation, its usages must include \";if(t.length>2){const r=t.pop();e+=`one of ${t.join(\", \")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function ue(e,t,...r){switch(t){case\"HS256\":case\"HS384\":case\"HS512\":{if(!ce(e.algorithm,\"HMAC\"))throw se(\"HMAC\");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,\"algorithm.hash\");break}case\"RS256\":case\"RS384\":case\"RS512\":{if(!ce(e.algorithm,\"RSASSA-PKCS1-v1_5\"))throw se(\"RSASSA-PKCS1-v1_5\");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,\"algorithm.hash\");break}case\"PS256\":case\"PS384\":case\"PS512\":{if(!ce(e.algorithm,\"RSA-PSS\"))throw se(\"RSA-PSS\");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,\"algorithm.hash\");break}case\"EdDSA\":if(\"Ed25519\"!==e.algorithm.name&&\"Ed448\"!==e.algorithm.name)throw se(\"Ed25519 or Ed448\");break;case\"ES256\":case\"ES384\":case\"ES512\":{if(!ce(e.algorithm,\"ECDSA\"))throw se(\"ECDSA\");const r=function(e){switch(e){case\"ES256\":return\"P-256\";case\"ES384\":return\"P-384\";case\"ES512\":return\"P-521\";default:throw new Error(\"unreachable\")}}(t);if(e.algorithm.namedCurve!==r)throw se(r,\"algorithm.namedCurve\");break}default:throw new TypeError(\"CryptoKey does not support this operation\")}le(e,r)}function he(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(\", \")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:\"function\"==typeof t&&t.name?e+=` Received function ${t.name}`:\"object\"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const pe=(e,...t)=>he(\"Key must be \",e,...t);function we(e,t,...r){return he(`Key for the ${e} algorithm must be `,t,...r)}const ge=e=>oe(e),fe=[\"CryptoKey\"];const me=async(e,t,r,o)=>{const n=await function(e,t,r){if(oe(t))return ue(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith(\"HS\"))throw new TypeError(pe(t,...fe));return re.subtle.importKey(\"raw\",t,{hash:`SHA-${e.slice(-3)}`,name:\"HMAC\"},!1,[r])}throw new TypeError(pe(t,...fe,\"Uint8Array\"))}(e,t,\"verify\");((e,t)=>{if(e.startsWith(\"RS\")||e.startsWith(\"PS\")){const{modulusLength:r}=t.algorithm;if(\"number\"!=typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}})(e,n);const a=function(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case\"HS256\":case\"HS384\":case\"HS512\":return{hash:r,name:\"HMAC\"};case\"PS256\":case\"PS384\":case\"PS512\":return{hash:r,name:\"RSA-PSS\",saltLength:e.slice(-3)>>3};case\"RS256\":case\"RS384\":case\"RS512\":return{hash:r,name:\"RSASSA-PKCS1-v1_5\"};case\"ES256\":case\"ES384\":case\"ES512\":return{hash:r,name:\"ECDSA\",namedCurve:t.namedCurve};case\"EdDSA\":return{name:t.name};default:throw new V(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e,n.algorithm);try{return await re.subtle.verify(a,n,r,o)}catch(e){return!1}},ye=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0},Ee=(e,t,r)=>{e.startsWith(\"HS\")||\"dir\"===e||e.startsWith(\"PBES2\")||/^A\\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!ge(t))throw new TypeError(we(e,t,...fe,\"Uint8Array\"));if(\"secret\"!==t.type)throw new TypeError(`${fe.join(\" or \")} instances for symmetric algorithms must be of type \"secret\"`)}})(e,t):((e,t,r)=>{if(!ge(t))throw new TypeError(we(e,t,...fe));if(\"secret\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithms must not be of type \"secret\"`);if(\"sign\"===r&&\"public\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm signing must be of type \"private\"`);if(\"decrypt\"===r&&\"public\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm decryption must be of type \"private\"`);if(t.algorithm&&\"verify\"===r&&\"private\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm verifying must be of type \"public\"`);if(t.algorithm&&\"encrypt\"===r&&\"private\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm encryption must be of type \"public\"`)})(e,t,r)},ve=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>\"string\"!=typeof e))))throw new TypeError(`\"${e}\" option must be an array of strings`);if(t)return new Set(t)};async function Se(e,t,r){if(e instanceof Uint8Array&&(e=M.decode(e)),\"string\"!=typeof e)throw new B(\"Compact JWS must be a string or Uint8Array\");const{0:o,1:n,2:a,length:i}=e.split(\".\");if(3!==i)throw new B(\"Invalid Compact JWS\");const s=await async function(e,t,r){var o;if(!ae(e))throw new B(\"Flattened JWS must be an object\");if(void 0===e.protected&&void 0===e.header)throw new B('Flattened JWS must have either of the \"protected\" or \"header\" members');if(void 0!==e.protected&&\"string\"!=typeof e.protected)throw new B(\"JWS Protected Header incorrect type\");if(void 0===e.payload)throw new B(\"JWS Payload missing\");if(\"string\"!=typeof e.signature)throw new B(\"JWS Signature missing or incorrect type\");if(void 0!==e.header&&!ae(e.header))throw new B(\"JWS Unprotected Header incorrect type\");let n={};if(e.protected)try{const t=N(e.protected);n=JSON.parse(M.decode(t))}catch(e){throw new B(\"JWS Protected Header is invalid\")}if(!ye(n,e.header))throw new B(\"JWS Protected and JWS Unprotected Header Parameter names must be disjoint\");const a={...n,...e.header};let i=!0;if(ie(B,new Map([[\"b64\",!0]]),null==r?void 0:r.crit,n,a).has(\"b64\")&&(i=n.b64,\"boolean\"!=typeof i))throw new B('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=a;if(\"string\"!=typeof s||!s)throw new B('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');const c=r&&ve(\"algorithms\",r.algorithms);if(c&&!c.has(s))throw new G('\"alg\" (Algorithm) Header Parameter not allowed');if(i){if(\"string\"!=typeof e.payload)throw new B(\"JWS Payload must be a string\")}else if(\"string\"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new B(\"JWS Payload must be a string or an Uint8Array instance\");let d=!1;\"function\"==typeof t&&(t=await t(n,e),d=!0),Ee(s,t,\"verify\");const l=z(H.encode(null!==(o=e.protected)&&void 0!==o?o:\"\"),H.encode(\".\"),\"string\"==typeof e.payload?H.encode(e.payload):e.payload),u=N(e.signature);if(!await me(s,t,u,l))throw new te;let h;h=i?N(e.payload):\"string\"==typeof e.payload?H.encode(e.payload):e.payload;const p={payload:h};return void 0!==e.protected&&(p.protectedHeader=n),void 0!==e.header&&(p.unprotectedHeader=e.header),d?{...p,key:t}:p}({payload:n,protected:o,signature:a},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return\"function\"==typeof t?{...c,key:s.key}:c}const be=86400,Ae=/^(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,_e=e=>{const t=Ae.exec(e);if(!t)throw new TypeError(\"Invalid time period format\");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case\"sec\":case\"secs\":case\"second\":case\"seconds\":case\"s\":return Math.round(r);case\"minute\":case\"minutes\":case\"min\":case\"mins\":case\"m\":return Math.round(60*r);case\"hour\":case\"hours\":case\"hr\":case\"hrs\":case\"h\":return Math.round(3600*r);case\"day\":case\"days\":case\"d\":return Math.round(r*be);case\"week\":case\"weeks\":case\"w\":return Math.round(604800*r);default:return Math.round(31557600*r)}},ke=e=>e.toLowerCase().replace(/^application\\//,\"\"),Ie=(e,t,r={})=>{const{typ:o}=r;if(o&&(\"string\"!=typeof e.typ||ke(e.typ)!==ke(o)))throw new F('unexpected \"typ\" JWT header value',\"typ\",\"check_failed\");let n;try{n=JSON.parse(M.decode(t))}catch(e){}if(!ae(n))throw new X(\"JWT Claims Set must be a top-level JSON object\");const{requiredClaims:a=[],issuer:i,subject:s,audience:c,maxTokenAge:d}=r;void 0!==d&&a.push(\"iat\"),void 0!==c&&a.push(\"aud\"),void 0!==s&&a.push(\"sub\"),void 0!==i&&a.push(\"iss\");for(const e of new Set(a.reverse()))if(!(e in n))throw new F(`missing required \"${e}\" claim`,e,\"missing\");if(i&&!(Array.isArray(i)?i:[i]).includes(n.iss))throw new F('unexpected \"iss\" claim value',\"iss\",\"check_failed\");if(s&&n.sub!==s)throw new F('unexpected \"sub\" claim value',\"sub\",\"check_failed\");if(c&&(l=n.aud,u=\"string\"==typeof c?[c]:c,!(\"string\"==typeof l?u.includes(l):Array.isArray(l)&&u.some(Set.prototype.has.bind(new Set(l))))))throw new F('unexpected \"aud\" claim value',\"aud\",\"check_failed\");var l,u;let h;switch(typeof r.clockTolerance){case\"string\":h=_e(r.clockTolerance);break;case\"number\":h=r.clockTolerance;break;case\"undefined\":h=0;break;default:throw new TypeError(\"Invalid clockTolerance option type\")}const{currentDate:p}=r,w=(g=p||new Date,Math.floor(g.getTime()/1e3));var g;if((void 0!==n.iat||d)&&\"number\"!=typeof n.iat)throw new F('\"iat\" claim must be a number',\"iat\",\"invalid\");if(void 0!==n.nbf){if(\"number\"!=typeof n.nbf)throw new F('\"nbf\" claim must be a number',\"nbf\",\"invalid\");if(n.nbf>w+h)throw new F('\"nbf\" claim timestamp check failed',\"nbf\",\"check_failed\")}if(void 0!==n.exp){if(\"number\"!=typeof n.exp)throw new F('\"exp\" claim must be a number',\"exp\",\"invalid\");if(n.exp<=w-h)throw new q('\"exp\" claim timestamp check failed',\"exp\",\"check_failed\")}if(d){const e=w-n.iat;if(e-h>(\"number\"==typeof d?d:_e(d)))throw new q('\"iat\" claim timestamp check failed (too far in the past)',\"iat\",\"check_failed\");if(e<0-h)throw new F('\"iat\" claim timestamp check failed (it should be in the past)',\"iat\",\"check_failed\")}return n};function Te(e){return e&&\"object\"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Oe)}function Oe(e){return ae(e)}class Re{constructor(e){if(this._cached=new WeakMap,!Te(e))throw new Y(\"JSON Web Key Set malformed\");var t;this._jwks=(t=e,\"function\"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:o}={...e,...null==t?void 0:t.header},n=function(e){switch(\"string\"==typeof e&&e.slice(0,2)){case\"RS\":case\"PS\":return\"RSA\";case\"ES\":return\"EC\";case\"Ed\":return\"OKP\";default:throw new V('Unsupported \"alg\" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter((e=>{let t=n===e.kty;if(t&&\"string\"==typeof o&&(t=o===e.kid),t&&\"string\"==typeof e.alg&&(t=r===e.alg),t&&\"string\"==typeof e.use&&(t=\"sig\"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes(\"verify\")),t&&\"EdDSA\"===r&&(t=\"Ed25519\"===e.crv||\"Ed448\"===e.crv),t)switch(r){case\"ES256\":t=\"P-256\"===e.crv;break;case\"ES256K\":t=\"secp256k1\"===e.crv;break;case\"ES384\":t=\"P-384\"===e.crv;break;case\"ES512\":t=\"P-521\"===e.crv}return t})),{0:i,length:s}=a;if(0===s)throw new Q;if(1!==s){const e=new Z,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await Pe(t,e,r)}catch(e){continue}},e}return Pe(this._cached,i,r)}}async function Pe(e,t,r){const o=e.get(t)||e.set(t,{}).get(t);if(void 0===o[r]){const e=await async function(e,t,r){var o;if(!ae(e))throw new TypeError(\"JWK must be an object\");switch(t||(t=e.alg),e.kty){case\"oct\":if(\"string\"!=typeof e.k||!e.k)throw new TypeError('missing \"k\" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?ne({...e,alg:t,ext:null!==(o=e.ext)&&void 0!==o&&o}):N(e.k);case\"RSA\":if(void 0!==e.oth)throw new V('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');case\"EC\":case\"OKP\":return ne({...e,alg:t});default:throw new V('Unsupported \"kty\" (Key Type) Parameter value')}}({...t,ext:!0},r);if(e instanceof Uint8Array||\"public\"!==e.type)throw new Y(\"JSON Web Key Set members must be public keys\");o[r]=e}return o[r]}const Ce=async(e,t,r)=>{let o,n,a=!1;\"function\"==typeof AbortController&&(o=new AbortController,n=setTimeout((()=>{a=!0,o.abort()}),t));const i=await fetch(e.href,{signal:o?o.signal:void 0,redirect:\"manual\",headers:r.headers}).catch((e=>{if(a)throw new ee;throw e}));if(void 0!==n&&clearTimeout(n),200!==i.status)throw new JOSEError(\"Expected 200 OK from the JSON Web Key Set HTTP response\");try{return await i.json()}catch(e){throw new JOSEError(\"Failed to parse the JSON Web Key Set HTTP response as JSON\")}};class We extends Re{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError(\"url must be an instance of URL\");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration=\"number\"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration=\"number\"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge=\"number\"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return\"number\"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return\"number\"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof Q&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&(\"undefined\"!=typeof WebSocketPair||\"undefined\"!=typeof navigator&&\"Cloudflare-Workers\"===navigator.userAgent||\"undefined\"!=typeof EdgeRuntime&&\"vercel\"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=Ce(this._url,this._timeoutDuration,this._options).then((e=>{if(!Te(e))throw new Y(\"JSON Web Key Set malformed\");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}const xe=N;class AuthenticationError extends R{constructor(e,t){super(e=e??t?.message??\"An error occurred during authentication\",t)}}class LogoutError extends R{constructor(e,t){super(e=e??t?.message??\"An error occurred during logout\",t)}}const je=\"1.0.0\",$e=\"OIDC\",Je=()=>{J($e)},Ue=()=>{U($e,je)};\"undefined\"!=typeof window&&(\"undefined\"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{OIDC:{enableLogging:Ue,disableLogging:Je}}}));const Ke=e=>`${e.replace(/\\/$/,\"\")}/.well-known/openid-configuration`;var De;!function(e){e.OpenIdConnect=\"OpenID-Connect\"}(De||(De={}));class Le extends W{get idToken(){return this._idToken}get openIdProviderUrl(){return this._openIdProviderUrl}get redirectUri(){return this._redirectUri}get scope(){return this._scope}get userInfo(){return this._userInfo}async authorize(e,t,r){await super.authorize(e,t,r),this._idToken=await this.getIdToken(),this._userInfo=await(async e=>{const t=e.metadata?.userinfo_endpoint;if(!t)return;const{data:r}=await e.executeApiRequest(t);return r})(this)}async close(){await super.close(),this._idToken=void 0,this._openIdProviderUrl=void 0,this._redirectUri=void 0,this._scope=void 0,this._userInfo=void 0}getErrorMessageFromServerResponse(e){return e}static async init(e,t,r,o,n,a,i){const s=new C(o);s.logInfo(\"Init started\",e,t,r,o,n,a,i);try{const{additionalMetadata:t,discoveryEndpoint:o}=e,c={...await K(o),...t??{}};if(!c.response_types_supported.find((e=>\"code\"===e.toLowerCase())))throw new P(\"OpenID Provider does not support the authorization code response type\");const d=await D(c,r,s),l=new Le(void 0,r,c,d,s);return l._openIdProviderUrl=n,l._redirectUri=a,l._scope=i,s.logInfo(\"Init completed\",l),(async(e,t)=>{try{await fin.System.registerUsage({type:\"integration-feature\",data:{apiVersion:je,componentName:e}})}catch(r){t.logWarning(`Unable to register usage for feature ${e}: ${r?.message}`)}})(De.OpenIdConnect,s),l}catch(e){let t;throw t=e instanceof R?e:new P(void 0,e),s.logError(t),t}}}const He=async(e,t,r)=>{const o=new C($e),n=Ke(r);let a;try{a=await K(n)}catch(e){const t=new j(`Failed to retrieve OpenID Connect metadata from ${n}`);throw o.logError(t),t}const{introspection_endpoint:i,jwks_uri:s}=a;if(i)try{return await L(o)(e,t,i)}catch(e){}else o?.logWarning(\"No introspection endpoint found in OpenID Connect metadata\");if(!s){const e=new j(`Failed to retrieve JSON Web Key Set (JWKS) from ${s}`);throw o.logError(e),e}o?.logInfo(\"Validating id token against JWKS endpoint\",s);try{const{payload:n}=await async function(e,t,r){var o;const n=await Se(e,t,r);if((null===(o=n.protectedHeader.crit)||void 0===o?void 0:o.includes(\"b64\"))&&!1===n.protectedHeader.b64)throw new X(\"JWTs MUST NOT use unencoded payload\");const a={payload:Ie(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return\"function\"==typeof t?{...a,key:n.key}:a}(e,function(e,t){const r=new We(e,t);return async function(e,t){return r.getKey(e,t)}}(new URL(s)),{audience:t,issuer:r});return o?.logInfo(\"ID token validation successful\",n),{valid:!0,...n}}catch(e){if(!(e instanceof F||e instanceof q||e instanceof X||e instanceof te)){const t=new j(void 0,e);throw o.logError(t),t}return o.logWarning(`ID token validation failed: ${e.message}`),{valid:!1}}},Me=[\"openid\",\"profile\",\"email\"],ze=async(e,t,r,o=[],n,a,i)=>{if(e=e?.trim().replace(/\\/$/,\"\"),!e)throw new x(\"OpenID Provider URL must be a non-empty string\");if(!t)throw new x(\"Client Identifier must be a non-empty string\");if(!r)throw new x(\"Redirection URI must be a non-empty string\");const s=await Fe(e,t,r,o,n);if(!s)throw new P(\"Provider not initialized\");const c=s.metadata?.scopes_supported;if(!c){const e=new AuthenticationError(\"OpenID Provider metadata does not define supported scopes\");throw s.logger.logError(e),e}const d=Me.filter((e=>!c.includes(e)));if(d.length>0){const e=new AuthenticationError(`OpenID Provider does not support required scopes: ${d.join(\", \")}`);throw s.logger.logError(e),e}const l=new Set([...Me,...o]);await s.authorize(r,{display:\"popup\",scope:[...l].join(\" \"),...a},i);const{idToken:u}=s;if(!u){const e=new AuthenticationError(\"No ID token returned\");throw s.logger.logError(e),e}const h=function(e){if(\"string\"!=typeof e)throw new X(\"JWTs must use Compact JWS serialization, JWT must be a string\");const{1:t,length:r}=e.split(\".\");if(5===r)throw new X(\"Only JWTs using Compact JWS serialization can be decoded\");if(3!==r)throw new X(\"Invalid JWT\");if(!t)throw new X(\"JWTs must contain a payload\");let o,n;try{o=xe(t)}catch(e){throw new X(\"Failed to parse the base64url encoded payload\")}try{n=JSON.parse(M.decode(o))}catch(e){throw new X(\"Failed to parse the decoded payload as JSON\")}if(!ae(n))throw new X(\"Invalid JWT Claims Set\");return n}(u);if(!h){const e=new AuthenticationError(\"Failed to decode ID token\");throw s.logger.logError(e),e}const{aud:p,iss:w}=h;return await He(u,Array.isArray(p)?p[0]:p,w),{claims:h,clientId:t,idToken:u,logout:qe(t,u,s),openIdProviderUrl:e,userInfo:s.userInfo}},Ne=(e,t,r,o,n,a)=>async n=>{if(0!==new URL(n).href.toLowerCase().indexOf(r.toLowerCase()))return!1;window.clearInterval(a),window.clearTimeout(t);try{e.removeAllListeners(),e.close(!0)}catch(e){}return o(),!0},Fe=async(e,t,r,o,n)=>{const a={additionalMetadata:n,discoveryEndpoint:Ke(e)};return Le.init(a,void 0,t,$e,e,r,o)},qe=(e,t,r)=>async(o,n)=>{if(!o)throw new x(\"Logout Redirection URI must be a non-empty string\");const{logger:a,metadata:i}=r;a.logInfo(\"Logout started\",e,t,o,n);const{end_session_endpoint:s}=i??{};if(!s){const e=new LogoutError(\"OpenID Provider metadata does not define end session endpoint\");throw a.logError(e),e}const c=`${s}?id_token_hint=${t}&client_id=${e}&post_logout_redirect_uri=${encodeURIComponent(o)}${n?`&logout_hint=${encodeURIComponent(n)}`:\"\"}`;await $(c,Ge(o,a)),await(r?.close()),a.logInfo(\"Logout completed\")},Ge=(e,t)=>r=>new Promise(((o,n)=>{let a;r.addListener(\"closing\",(async()=>{t.logInfo(\"User closed auth window\"),window.clearInterval(a),r.removeAllListeners(),n(new LogoutError(\"Failed to complete logout process\"))}));const i=window.setTimeout((async()=>{try{await r.isShowing()||(t.logInfo(\"Showing auth window\"),await r.show(!0),await r.focus())}catch{t.logWarning(\"Unable to show auth window\")}}),2e3);(async()=>{const{version:s}=await fin.System.getRuntimeInfo();if(parseInt(s.split(\".\")[0],10)>=30){await Ne(r,i,e,o,n)((await r.getInfo()).url)||await r.addListener(\"url-changed\",(a=>{t.logInfo(\"Auth window navigated to\",a.url),Ne(r,i,e,o,n)(a.url)}))}else a=window.setInterval((()=>(async(e,t,r,o,n,a)=>{let i;try{i=await e.getInfo()}catch(e){return window.clearInterval(t),window.clearTimeout(r),a(new LogoutError(\"Could not locate auth window\")),!1}return Ne(e,r,o,n,a,t)(i.url)})(r,a,i,e,o,n)),500)})()}));var Ve=t.MS,Be=t._7,Xe=t.cX,Ye=t.zL,Qe=t._W,Ze=t.p8,et=t.YR,tt=t.U$,rt=t.U7,ot=t.OF;export{Ve as ApiError,Be as AuthenticationError,Xe as InitializationError,Ye as LogoutError,Qe as ParameterError,Ze as ValidationError,et as authenticate,tt as disableLogging,rt as enableLogging,ot as validateIdToken};","/**\n * Test if a value is a undefined or null.\n * @param value The value to test.\n * @returns True if the value is null or undefined.\n */\nexport function isEmpty(value: unknown): value is null | undefined {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value === undefined || value === null;\n}\n\n/**\n * Test if a value is an object.\n * @param value The value to test.\n * @returns True if the value is an object.\n */\nexport function isObject(value: unknown): value is object {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"object\" && !Array.isArray(value);\n}\n\n/**\n * Test if a value is a string.\n * @param value The value to test.\n * @returns True if the value is a string.\n */\nexport function isString(value: unknown): value is string {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"string\";\n}\n\n/**\n * Test if a value is a string that is not empty.\n * @param value The value to test.\n * @returns True if the value is a string that is not empty.\n */\nexport function isStringValue(value: unknown): value is string {\n\treturn isString(value) && value.trim().length > 0;\n}\n\n/**\n * Test if a value is a number.\n * @param value The value to test.\n * @returns True if the value is a number.\n */\nexport function isNumber(value: unknown): value is number {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"number\";\n}\n\n/**\n * Test if a value is a number with a real value i.e. not NaN or Infinite.\n * @param value The value to test.\n * @returns True if the value is a number.\n */\nexport function isNumberValue(value: unknown): value is number {\n\treturn isNumber(value) && !Number.isNaN(value) && Number.isFinite(value);\n}\n\n/**\n * Test if a value is a boolean.\n * @param value The value to test.\n * @returns True if the value is a boolean.\n */\nexport function isBoolean(value: unknown): value is boolean {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"boolean\";\n}\n\n/**\n * Test if a value is an integer.\n * @param value The value to test.\n * @returns True if the value is an integer.\n */\nexport function isInteger(value: unknown): value is number {\n\treturn isNumber(value) && Number.isInteger(value);\n}\n\n/**\n * Deep clone an object.\n * @param obj The object to clone.\n * @returns The clone of the object.\n */\nexport function objectClone<T>(obj: T): T {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn obj === undefined ? (undefined as T) : JSON.parse(JSON.stringify(obj));\n}\n\n/**\n * Do a deep comparison of the objects.\n * @param obj1 The first object to compare.\n * @param obj2 The second object to compare.\n * @param matchPropertyOrder If true the properties must be in the same order.\n * @returns True if the objects are the same.\n */\nexport function deepEqual(obj1: unknown, obj2: unknown, matchPropertyOrder: boolean = true): boolean {\n\tif (isObject(obj1) && isObject(obj2)) {\n\t\tconst objKeys1 = Object.keys(obj1);\n\t\tconst objKeys2 = Object.keys(obj2);\n\n\t\tif (objKeys1.length !== objKeys2.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (matchPropertyOrder && JSON.stringify(objKeys1) !== JSON.stringify(objKeys2)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (const key of objKeys1) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\tconst value1 = (obj1 as any)[key];\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\tconst value2 = (obj2 as any)[key];\n\n\t\t\tif (!deepEqual(value1, value2, matchPropertyOrder)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t} else if (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\tif (obj1.length !== obj2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < obj1.length; i++) {\n\t\t\tif (!deepEqual(obj1[i], obj2[i], matchPropertyOrder)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\n/**\n * Deep merge two objects.\n * @param target The object to be merged into.\n * @param sources The objects to merge into the target.\n * @returns The merged object.\n */\nexport function deepMerge<T = unknown>(target: T, ...sources: T[]): T {\n\tif (!Array.isArray(sources) || sources.length === 0) {\n\t\treturn target;\n\t}\n\n\tconst targetAsMap = target as { [id: string]: unknown };\n\tconst source = sources.shift();\n\n\tlet keys;\n\tif (isObject(targetAsMap) && isObject(source)) {\n\t\tkeys = Object.keys(source);\n\t} else if (Array.isArray(source)) {\n\t\tif (!Array.isArray(target)) {\n\t\t\treturn source;\n\t\t}\n\t\tkeys = Object.keys(source).map((k) => Number.parseInt(k, 10));\n\t}\n\n\tif (keys) {\n\t\tconst sourceAsMap = source as { [id: string]: unknown };\n\t\tfor (const key of keys) {\n\t\t\tconst value = sourceAsMap[key];\n\t\t\tif (isObject(value)) {\n\t\t\t\tif (isEmpty(targetAsMap[key])) {\n\t\t\t\t\ttargetAsMap[key] = {};\n\t\t\t\t}\n\t\t\t\tdeepMerge(targetAsMap[key], value);\n\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\tif (isEmpty(targetAsMap[key])) {\n\t\t\t\t\ttargetAsMap[key] = [];\n\t\t\t\t}\n\t\t\t\tdeepMerge(targetAsMap[key], value);\n\t\t\t} else {\n\t\t\t\ttargetAsMap[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn deepMerge(target, ...sources);\n}\n\n/**\n * Polyfills randomUUID if running in a non-secure context.\n * @returns The random UUID.\n */\nexport function randomUUID(): string {\n\tif (\"randomUUID\" in globalThis.crypto) {\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\treturn globalThis.crypto.randomUUID();\n\t}\n\t// Polyfill the window.crypto.randomUUID if we are running in a non secure context that doesn't have it\n\t// we are still using window.crypto.getRandomValues which is always available\n\t// https://stackoverflow.com/a/2117523/2800218\n\t/**\n\t * Get random hex value.\n\t * @param c The number to base the random value on.\n\t * @returns The random value.\n\t */\n\tfunction getRandomHex(c: string): string {\n\t\t// eslint-disable-next-line no-bitwise\n\t\tconst rnd = globalThis.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4));\n\t\treturn (\n\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t(Number(c) ^ rnd).toString(16)\n\t\t);\n\t}\n\treturn \"10000000-1000-4000-8000-100000000000\".replace(/[018]/g, getRandomHex);\n}\n\n/**\n * Format an error to a readable string.\n * @param err The error to format.\n * @returns The formatted error.\n */\nexport function formatError(err: unknown): string {\n\tif (isEmpty(err)) {\n\t\treturn \"\";\n\t} else if (err instanceof Error) {\n\t\treturn err.message;\n\t} else if (isStringValue(err)) {\n\t\treturn err;\n\t} else if (isObject(err) && \"message\" in err && isString(err.message)) {\n\t\treturn err.message;\n\t}\n\treturn JSON.stringify(err);\n}\n\n/**\n * A basic string sanitize function that removes angle brackets <> from a string.\n * @param content the content to sanitize\n * @returns a string without angle brackets <>\n */\nexport function sanitizeString(content: unknown): string {\n\tif (isStringValue(content)) {\n\t\treturn content\n\t\t\t.replace(/<[^>]*>?/gm, \"\")\n\t\t\t.replace(/&gt;/g, \">\")\n\t\t\t.replace(/&lt;/g, \"<\")\n\t\t\t.replace(/&amp;/g, \"&\")\n\t\t\t.replace(/&nbsp;/g, \" \")\n\t\t\t.replace(/\\n\\s*\\n/g, \"\\n\");\n\t}\n\treturn \"\";\n}\n\n/**\n * Get the command line arguments from a command line string.\n * Examples of command line strings: arg1 key1=value1 key2=\"value with spaces\" key3='value3' key4='value with more spaces'`.\n * @param commandLine The command line string.\n * @returns The command line arguments or an empty array if none\n */\nexport function getCommandLineArgs(commandLine: string): string[] {\n\tif (!isStringValue(commandLine)) {\n\t\treturn [];\n\t}\n\tconst matches = commandLine.match(/(\\w+=)?(\"[^\"]*\"|'[^']*'|[^ ]+)/g);\n\tif (isEmpty(matches)) {\n\t\treturn [];\n\t}\n\treturn matches;\n}\n","import type { ModuleImplementation, ModuleTypes } from \"workspace-platform-starter/shapes/module-shapes\";\nimport { OpenIdConnectProvider } from \"./auth\";\n\n/**\n * Define the entry points for the module.\n */\nexport const entryPoints: { [type in ModuleTypes]?: ModuleImplementation } = {\n\tauth: new OpenIdConnectProvider()\n};\n","import {\n\tauthenticate,\n\tenableLogging,\n\tvalidateIdToken,\n\ttype OidcAuthenticationResult,\n\ttype UserInfoClaims\n} from \"@openfin/openid-connect\";\nimport type { AuthEventTypes, AuthProvider } from \"workspace-platform-starter/shapes/auth-shapes\";\nimport type { Logger, LoggerCreator } from \"workspace-platform-starter/shapes/logger-shapes\";\nimport type { ModuleDefinition, ModuleHelpers } from \"workspace-platform-starter/shapes/module-shapes\";\nimport { formatError, isEmpty, isNumber, isStringValue, randomUUID } from \"workspace-platform-starter/utils\";\nimport type { OpenIdConnectProviderOptions } from \"./shapes\";\n\n/**\n * Implementation for the openid connect auth provider.\n */\nexport class OpenIdConnectProvider implements AuthProvider<OpenIdConnectProviderOptions> {\n\t/**\n\t * The module definition including settings.\n\t * @internal\n\t */\n\tprivate _definition: ModuleDefinition<OpenIdConnectProviderOptions> | undefined;\n\n\t/**\n\t * The logger for displaying information from the module.\n\t * @internal\n\t */\n\tprivate _logger?: Logger;\n\n\t/**\n\t * Map a subscription id to an event.\n\t * @internal\n\t */\n\tprivate readonly _subscribeIdMap: { [key: string]: AuthEventTypes };\n\n\t/**\n\t * Callbacks for event subscribers.\n\t * @internal\n\t */\n\tprivate readonly _eventSubscribers: { [event in AuthEventTypes]?: { [id: string]: () => Promise<void> } };\n\n\t/**\n\t * The result of the authentication request.\n\t */\n\tprivate _authResult: OidcAuthenticationResult | undefined;\n\n\t/**\n\t * Session expiry timer.\n\t */\n\tprivate _sessionExpiryTimerId: number | undefined;\n\n\t/**\n\t * Create a new instance of OpenIdConnectProvider.\n\t */\n\tconstructor() {\n\t\tthis._subscribeIdMap = {};\n\t\tthis._eventSubscribers = {};\n\t}\n\n\t/**\n\t * Initialize the module.\n\t * @param definition The definition of the module from configuration include custom options.\n\t * @param loggerCreator For logging entries.\n\t * @param helpers Helper methods for the module to interact with the application core.\n\t * @returns Nothing.\n\t */\n\tpublic async initialize(\n\t\tdefinition: ModuleDefinition<OpenIdConnectProviderOptions>,\n\t\tloggerCreator: LoggerCreator,\n\t\thelpers: ModuleHelpers\n\t): Promise<void> {\n\t\tthis._definition = definition;\n\t\tthis._logger = loggerCreator(\"OpenIdConnectProvider\");\n\n\t\tthis._logger.info(\"Initializing\");\n\n\t\tif (this._definition.data?.enableLogging) {\n\t\t\tenableLogging();\n\t\t}\n\n\t\tconst providerUrl = this._definition.data?.providerUrl;\n\t\tconst clientId = this._definition.data?.clientId;\n\t\tconst loginRedirectUrl = this._definition.data?.loginRedirectUrl;\n\t\tconst logoutRedirectUrl = this._definition.data?.logoutRedirectUrl;\n\n\t\tif (!isStringValue(providerUrl)) {\n\t\t\tthis._logger.error(\"providerUrl is not configured\");\n\t\t}\n\n\t\tif (!isStringValue(clientId)) {\n\t\t\tthis._logger.error(\"ClientId is not configured\");\n\t\t}\n\n\t\tif (!isStringValue(loginRedirectUrl)) {\n\t\t\tthis._logger.error(\"loginRedirectUrl is not configured\");\n\t\t}\n\n\t\tif (!isStringValue(logoutRedirectUrl)) {\n\t\t\tthis._logger.error(\"logoutRedirectUrl is not configured\");\n\t\t}\n\t}\n\n\t/**\n\t * Close down any resources being used by the module.\n\t * @returns Nothing.\n\t */\n\tpublic async closedown(): Promise<void> {\n\t\tthis._logger?.info(\"Closedown\");\n\n\t\tif (this._sessionExpiryTimerId) {\n\t\t\twindow.clearTimeout(this._sessionExpiryTimerId);\n\t\t\tthis._sessionExpiryTimerId = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Subscribe to one of the auth events.\n\t * @param to The event to subscribe to.\n\t * @param callback The callback to fire when the event occurs.\n\t * @returns Subscription id for unsubscribing or undefined if event type is not available.\n\t */\n\tpublic subscribe(to: AuthEventTypes, callback: () => Promise<void>): string | undefined {\n\t\tconst subscriptionId = randomUUID();\n\n\t\tconst toMap = this._eventSubscribers[to] ?? {};\n\t\ttoMap[subscriptionId] = callback;\n\t\tthis._eventSubscribers[to] = toMap;\n\n\t\tthis._subscribeIdMap[subscriptionId] = to;\n\t\tthis._logger?.info(`Subscription to ${to} events registered. Subscription Id: ${subscriptionId}`);\n\n\t\treturn subscriptionId;\n\t}\n\n\t/**\n\t * Unsubscribe from an already subscribed event.\n\t * @param subscriptionId The id of the subscription returned from subscribe.\n\t * @returns True if the unsubscribe was successful.\n\t */\n\tpublic unsubscribe(subscriptionId: string): boolean {\n\t\tconst eventType = this._subscribeIdMap[subscriptionId];\n\t\tif (isEmpty(eventType)) {\n\t\t\tthis._logger?.warn(`You have tried to unsubscribe with a key ${subscriptionId} that is invalid`);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst eventSubscribers = this._eventSubscribers[eventType];\n\t\tif (!isEmpty(eventSubscribers)) {\n\t\t\tdelete eventSubscribers[subscriptionId];\n\t\t}\n\n\t\tif (this._subscribeIdMap[subscriptionId]) {\n\t\t\tdelete this._subscribeIdMap[subscriptionId];\n\t\t\tthis._logger?.info(\n\t\t\t\t`Subscription to ${eventType} events with subscription Id: ${subscriptionId} has been cleared`\n\t\t\t);\n\t\t\treturn true;\n\t\t}\n\n\t\tthis._logger?.warn(\n\t\t\t`Subscription to ${eventType} events with subscription Id: ${subscriptionId} could not be cleared as we do not have a register of that event type.`\n\t\t);\n\t\treturn false;\n\t}\n\n\t/**\n\t * Does the auth provider require authentication.\n\t * @returns True if authentication is required.\n\t */\n\tpublic async isAuthenticationRequired(): Promise<boolean> {\n\t\treturn isEmpty(this._authResult);\n\t}\n\n\t/**\n\t * Perform the login operation on the auth provider.\n\t * @returns True if the login was successful.\n\t */\n\tpublic async login(): Promise<boolean> {\n\t\tconst providerUrl = this._definition?.data?.providerUrl;\n\t\tconst clientId = this._definition?.data?.clientId;\n\t\tconst loginRedirectUrl = this._definition?.data?.loginRedirectUrl;\n\t\tconst scopes = this._definition?.data?.scopes;\n\n\t\tif (isStringValue(providerUrl) && isStringValue(clientId) && isStringValue(loginRedirectUrl)) {\n\t\t\ttry {\n\t\t\t\tthis._authResult = await authenticate(providerUrl, clientId, loginRedirectUrl, scopes);\n\t\t\t\tawait this.notifySubscribers(\"logged-in\");\n\t\t\t\tthis.checkForSessionExpiry();\n\t\t\t\treturn true;\n\t\t\t} catch (err) {\n\t\t\t\tthis._logger?.error(\"Authentication failed\", formatError(err));\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Perform the logout operation on the auth provider.\n\t * @returns True if the logout was successful.\n\t */\n\tpublic async logout(): Promise<boolean> {\n\t\tif (this._authResult) {\n\t\t\tif (this._sessionExpiryTimerId) {\n\t\t\t\twindow.clearTimeout(this._sessionExpiryTimerId);\n\t\t\t\tthis._sessionExpiryTimerId = undefined;\n\t\t\t}\n\n\t\t\tconst logoutRedirectUrl = this._definition?.data?.logoutRedirectUrl;\n\t\t\tif (isStringValue(logoutRedirectUrl)) {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.notifySubscribers(\"before-logged-out\");\n\t\t\t\t\tawait this._authResult.logout(logoutRedirectUrl);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis._logger?.error(\"Logout failed\", formatError(err));\n\t\t\t\t} finally {\n\t\t\t\t\tawait this.notifySubscribers(\"logged-out\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._authResult = undefined;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Get user information from the auth provider.\n\t * @returns The user information, the type is unknown as it is dependent on the auth provider.\n\t */\n\tpublic async getUserInfo(): Promise<UserInfoClaims | undefined> {\n\t\tif (this._authResult) {\n\t\t\treturn this._authResult.userInfo;\n\t\t}\n\t}\n\n\t/**\n\t * Notify subscribers of an event change.\n\t * @param authEventType The type of authentication event to send to.\n\t */\n\tprivate async notifySubscribers(authEventType: AuthEventTypes): Promise<void> {\n\t\tconst subscribers = this._eventSubscribers[authEventType];\n\n\t\tif (subscribers) {\n\t\t\tconst subscriberIds = Object.keys(subscribers);\n\t\t\tsubscriberIds.reverse();\n\n\t\t\tfor (const subscriberId of subscriberIds) {\n\t\t\t\tthis._logger?.info(\n\t\t\t\t\t`Notifying subscriber with subscription Id: ${subscriberId} of event type: ${authEventType}`\n\t\t\t\t);\n\t\t\t\tawait subscribers[subscriberId]();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Check to see if a session has expired.\n\t */\n\tprivate checkForSessionExpiry(): void {\n\t\tconst validity = this._definition?.data?.checkSessionValidityInSeconds;\n\t\tif (isNumber(validity) && validity > 0 && isEmpty(this._sessionExpiryTimerId)) {\n\t\t\tthis._sessionExpiryTimerId = window.setTimeout(async () => {\n\t\t\t\tthis._sessionExpiryTimerId = undefined;\n\n\t\t\t\tconst idToken = this._authResult?.idToken;\n\t\t\t\tconst providerUrl = this._definition?.data?.providerUrl;\n\t\t\t\tconst clientId = this._definition?.data?.clientId;\n\n\t\t\t\tlet isValid = false;\n\n\t\t\t\tif (isStringValue(idToken) && isStringValue(providerUrl) && isStringValue(clientId)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result = await validateIdToken(idToken, clientId, providerUrl);\n\n\t\t\t\t\t\tisValid = result.valid;\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tthis._logger?.error(\"Failed validating token\", formatError(err));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isValid) {\n\t\t\t\t\tthis._logger?.info(\"Session Still Active\");\n\t\t\t\t\tthis.checkForSessionExpiry();\n\t\t\t\t} else {\n\t\t\t\t\tthis._logger?.info(\"Session not valid\");\n\t\t\t\t\tthis._authResult = undefined;\n\t\t\t\t\tawait this.notifySubscribers(\"session-expired\");\n\t\t\t\t}\n\t\t\t}, validity * 1000);\n\t\t}\n\t}\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","e","d","t","r","MS","R","_7","AuthenticationError","cX","P","zL","LogoutError","_W","x","p8","j","YR","ze","U$","Je","U7","Ue","OF","He","ApiError","cF","ApiRequestError","AK","AuthTokenExpiredError","M_","AuthorizationError","InitializationError","Yd","w","O4","T","ParameterError","ValidationError","m$","s","u","h","OV","N7","A","HP","n","Rp","O","Error","constructor","super","message","this","name","stack","replace","status","crypto","randomUUID","window","getRandomValues","Uint8Array","Number","toString","a","i","async","URL","c","href","toLowerCase","indexOf","clearInterval","clearTimeout","removeAllListeners","close","searchParams","data","l","defaultHeight","defaultWidth","fin","Window","create","assign","alwaysOnTop","maximizable","minimizable","autoShow","defaultCentered","includeInSnapshots","resizable","saveWindowState","showTaskbarIcon","url","Promise","setTimeout","addListener","logInfo","isShowing","show","focus","logWarning","version","System","getRuntimeInfo","parseInt","split","getInfo","setInterval","fetch","headers","Accept","ok","json","Integrations","loggingEnabled","console","log","p","prefix","isLoggingEnabled","bind","logError","innerError","error","warn","g","command","id","apiRequestUrl","httpMethod","includeAuthorization","test","keys","join","Authorization","body","JSON","stringify","method","includes","formData","text","arrayBuffer","f","type","resolve","token_endpoint","access_token","self","onmessage","code","codeVerifier","redirectUri","id_token","refresh_token","expireAccessTokenOnly","revocation_endpoint","all","filter","length","idToken","clientId","metadata","postMessage","ApiRequest","CodeExchange","ExpireTokens","GetIdToken","Init","m","y","push","E","reject","v","S","b","Blob","createObjectURL","Worker","_","exchangeCodeForTokens","executeApiRequest","expireTokens","getIdToken","terminate","I","getOwnPropertySymbols","propertyIsEnumerable","find","k","findIndex","splice","apiOrigin","_apiOrigin","_clientId","logger","_logger","_metadata","worker","_worker","getErrorMessageFromServerResponse","authorize","authorization_endpoint","Application","getCurrentSync","getChildWindows","identity","Uint32Array","Array","from","slice","TextEncoder","encode","subtle","digest","FileReader","onload","target","result","match","readAsDataURL","set","entries","forEach","init","additionalMetadata","discoveryEndpoint","response_types_supported","active","valid","C","W","$","J","U","K","D","L","H","M","TextDecoder","N","decode","atob","charCodeAt","TypeError","JOSEError","captureStackTrace","F","claim","reason","q","G","arguments","V","B","X","Y","Q","Z","Symbol","asyncIterator","ee","te","re","oe","CryptoKey","ne","alg","algorithm","keyUsages","kty","hash","namedCurve","crv","ext","key_ops","importKey","use","ae","getPrototypeOf","se","ce","de","he","pop","pe","we","ge","fe","Se","protected","header","payload","signature","parse","Boolean","size","has","add","Set","ye","crit","isArray","some","Map","ie","b64","ve","algorithms","startsWith","Ee","reduce","z","usages","le","ue","modulusLength","saltLength","verify","me","protectedHeader","unprotectedHeader","Ae","_e","exec","parseFloat","Math","round","ke","Ie","typ","requiredClaims","issuer","subject","audience","maxTokenAge","reverse","iss","sub","aud","clockTolerance","currentDate","Date","floor","getTime","iat","nbf","exp","Te","every","Oe","Re","_cached","WeakMap","_jwks","structuredClone","getKey","kid","Pe","oth","We","_url","_options","agent","_timeoutDuration","timeoutDuration","_cooldownDuration","cooldownDuration","_cacheMaxAge","cacheMaxAge","coolingDown","_jwksTimestamp","now","fresh","reload","_pendingFetch","WebSocketPair","navigator","userAgent","EdgeRuntime","AbortController","abort","signal","redirect","catch","Ce","then","xe","je","$e","OIDC","enableLogging","disableLogging","Ke","De","OpenIdConnect","Le","_idToken","openIdProviderUrl","_openIdProviderUrl","_redirectUri","scope","_scope","userInfo","_userInfo","userinfo_endpoint","registerUsage","apiVersion","componentName","introspection_endpoint","jwks_uri","Me","trim","Fe","scopes_supported","display","claims","logout","qe","Ne","end_session_endpoint","encodeURIComponent","Ge","et","rt","ot","isEmpty","value","isString","isStringValue","formatError","err","entryPoints","auth","_subscribeIdMap","_eventSubscribers","initialize","loggerCreator","helpers","_definition","info","providerUrl","loginRedirectUrl","logoutRedirectUrl","closedown","_sessionExpiryTimerId","undefined","subscribe","to","callback","subscriptionId","globalThis","rnd","toMap","unsubscribe","eventType","eventSubscribers","isAuthenticationRequired","_authResult","login","scopes","notifySubscribers","checkForSessionExpiry","getUserInfo","authEventType","subscribers","subscriberIds","subscriberId","validity","checkSessionValidityInSeconds","isValid"],"sourceRoot":""}