var t;function n(t){return null==t}async function e(){const t=fin.Platform.getCurrentSync(),n=await t.Application.getChildWindows(),e=[];for(const t of n)(await t.isShowing()||"minimized"===await t.getState())&&e.push(t);return e}!function(t){t.CustomButton="CustomButton",t.StoreCustomButton="StoreCustomButton",t.CustomDropdownItem="CustomDropdownItem",t.GlobalContextMenu="GlobalContextMenu",t.ViewTabContextMenu="ViewTabContextMenu",t.PageTabContextMenu="PageTabContextMenu",t.SaveButtonContextMenu="SaveButtonContextMenu",t.API="API"}(t||(t={}));const i={actions:new class{async initialize(t,n,e){this._logger=n("WindowActions"),this._helpers=e}async get(i){return{"window-show-all":async i=>{if(i.callerType!==t.API&&i.callerType!==t.SaveButtonContextMenu){const t=await e();let o;for(const n of t)n.identity.name===i.windowIdentity.name&&n.identity.uuid===i.windowIdentity.uuid?o=n:("minimized"===await n.getState()&&await n.restore(),await n.bringToFront());n(o)||await o.setAsForeground()}},"window-hide-all":async t=>{const n=await e();for(const t of n)await t.minimize()},"window-hide-others":async n=>{if(n.callerType!==t.API&&n.callerType!==t.SaveButtonContextMenu){const t=await e();for(const e of t)e.identity.name!==n.windowIdentity.name&&await e.minimize()}}}}},menus:new class{async initialize(t,n,e){this._logger=n("WindowMenus"),this._settings=t.data}async get(t,i,o){if("global"===t&&!n(o?.windowIdentity)){const t=this._settings?.showAllWindows?.include??!0,n=this._settings?.hideAllWindows?.include??!0,i=this._settings?.hideOtherWindows?.include??!0,o=await e(),s={label:this._settings?.showAllWindows?.menuLabel??"Show All Windows",icon:this._settings?.showAllWindows?.menuIcon,enabled:o.length>1,position:{type:"CloseWindow",operation:"before",...this._settings?.showAllWindows?.menuPosition},data:{type:"Custom",action:{id:"window-show-all"}}},a={label:this._settings?.hideAllWindows?.menuLabel??"Hide All Windows",icon:this._settings?.hideAllWindows?.menuIcon,position:{type:"CloseWindow",operation:"before",...this._settings?.hideAllWindows?.menuPosition},data:{type:"Custom",action:{id:"window-hide-all"}}},l={label:this._settings?.hideOtherWindows?.menuLabel??"Hide Other Windows",icon:this._settings?.hideOtherWindows?.menuIcon,enabled:o.length>1,position:{type:"CloseWindow",operation:"before",...this._settings?.hideOtherWindows?.menuPosition},data:{type:"Custom",action:{id:"window-hide-others"}}},d=[];return t&&d.push(s),n&&d.push(a),i&&d.push(l),"none"!==this._settings?.separator&&d.length>0&&(d[0].separator=this._settings?.separator??"before"),d}}}};export{i as entryPoints};
//# sourceMappingURL=windows.bundle.js.map