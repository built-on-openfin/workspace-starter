/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module) => {

/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={525:e=>{var t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var i,s,c=o(e),d=1;d<arguments.length;d++){for(var p in i=Object(arguments[d]))a.call(i,p)&&(c[p]=i[p]);if(t){s=t(i);for(var l=0;l<s.length;l++)n.call(i,s[l])&&(c[s[l]]=i[s[l]])}}return c}},535:(e,t,a)=>{var n=a(525),o=60103,r=60106;var i=60109,s=60110,c=60112;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var l=Symbol.for;o=l("react.element"),r=l("react.portal"),l("react.fragment"),l("react.strict_mode"),l("react.profiler"),i=l("react.provider"),s=l("react.context"),c=l("react.forward_ref"),l("react.suspense"),d=l("react.memo"),p=l("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}function h(){}function m(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(w(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=y.prototype;var v=m.prototype=new h;v.constructor=m,n(v,y.prototype),v.isPureReactComponent=!0;var S={current:null},P=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var n,r={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)P.call(t,n)&&!b.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];r.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:o,type:e,key:i,ref:s,props:r,_owner:S.current}}function W(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var C=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case r:c=!0}}if(c)return i=i(c=e),e=""===n?"."+I(c,0):n,Array.isArray(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(W(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){var p=n+I(s=e[d],d);c+=A(s,t,a,p,i)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),d=0;!(s=e.next()).done;)c+=A(s=s.value,t,a,p=n+I(s,d++),i);else if("object"===s)throw t=""+e,Error(w(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function M(e,t,a){if(null==e)return e;var n=[],o=0;return A(e,n,"","",(function(e){return t.call(a,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function E(){var e=T.current;if(null===e)throw Error(w(321));return e}},378:(e,t,a)=>{a(535)}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{var e,t,o,r,i,s,c,d;a.r(n),a.d(n,{AppManifestType:()=>c,BrowserButtonType:()=>g,CustomActionCallerType:()=>h,GlobalContextMenuOptionType:()=>u,PageTabContextMenuOptionType:()=>w,SaveButtonContextMenuOptionType:()=>y,SaveModalType:()=>m,ViewTabMenuOptionType:()=>f,getCurrentSync:()=>Ft,init:()=>In,wrapSync:()=>Ut}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(o||(o={})),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(i||(i={})),function(e){e.MultiSelect="MultiSelect"}(s||(s={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(c||(c={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(d||(d={}));var p,l,u,w,f,g,y,h,m,v;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(l||(l={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(u||(u={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(f||(f={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(g||(g={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(y||(y={})),function(e){e.CustomButton="CustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={})),function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(m||(m={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(v||(v={}));const S="undefined"!=typeof window&&"undefined"!=typeof fin,P=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),b=P&&"undefined"!=typeof indexedDB,k=P?window.origin:v.Local,W=S&&fin.me.uuid,C=S&&fin.me.name,I=S&&fin.me.entityType,A=(v.Local,v.Dev,v.Staging,v.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:k+e),M=(A("https://cdn.openfin.co/workspace/9.0.11"),A("https://cdn.openfin.co/workspace/9.0.11")),O=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&A(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&A(WORKSPACE_DOCS_CLIENT_URL),"26.102.71.7"),T="9.0.11";var E,B,x;!function(e){e.Workspace="openfin-browser"}(E||(E={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(B||(B={})),function(e){e.FinProtocol="fin-protocol"}(x||(x={}));const R={uuid:W},_=(E.Workspace,e=>{if(!S)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),L=()=>_(R);var V,D,U;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(V||(V={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(D||(D={})),function(e){e.BeforeUnload="beforeunload"}(U||(U={}));function F(e){if(!S)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const G={name:C,uuid:W};function $(){return F(G)}V.Home,E.Workspace,V.Dock,E.Workspace;const N={name:V.Storefront,uuid:E.Workspace};E.Workspace,E.Workspace;async function j(e){const t=F(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.setAsForeground()}const H=e=>e.startsWith(V.BrowserWindow);async function q(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>H(e.identity.name)))}const K=e=>F(e).getOptions().then((()=>!0)).catch((()=>!1)),Q=()=>K(N);var z;!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(z||(z={}));const J=async(e,t)=>{const a={apiVersion:t.apiVersion||T,componentName:e,componentVersion:t.componentVersion||T,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:a})};a(378);const X=e=>fin.System.getSystemAppConfig(e);let Y;async function Z(){if(Y)return Y;if(!S)return{};const e=await async function(){if(S)try{let e=await X("workspace").catch((e=>{}));return e||(e=await X("home")),e}catch(e){}}(),t=await async function(){const{manifest:e,initialOptions:t}=await fin.Application.getCurrentSync().getInfo();return e?.workspace||e?.home||t?.workspace||t?.home,e?.workspace?e?.workspace:e?.home?e?.home:t?.workspace?t?.workspace:t?.home?t?.home:void 0}();return Y={...t,...e},Y}var ee;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(ee||(ee={}));const te=ee,ae=(e,t)=>{localStorage.setItem(`${W}-${e}`,t)},ne=e=>localStorage.getItem(`${W}-${e}`);var oe;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized"}(oe||(oe={}));const re=async e=>fin.Platform.wrapSync(e).getClient(),ie=async e=>{const t=await re(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if(!0!==n?.isWorkspacePlatform)throw new Error(a);return n},se=async e=>(await ie(e),re(e)),ce=async e=>{if(!0!==(await ie(e))?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return re(e)},de=(e,t)=>!t.find((t=>t===e)),pe=(e,t)=>`${e} (${t})`,le=(e,t)=>{let a=1;const n=e.replace(/ \(.+\)$/,"");for(;!de(pe(n,a),t);)a+=1;return pe(n,a)};async function ue(e){try{const t=Ft();await t.applySnapshot(e.snapshot,{closeExistingWindows:!0}),we(e)}catch(e){}}function we(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);ae(te.CurrentWorkspaceId,t)}catch(e){}}async function fe(){if("undefined"==typeof localStorage)return;const e=Ft(),t=await e.getSnapshot();return{workspaceId:crypto.randomUUID(),title:await he(),metadata:{APIVersion:T},snapshot:t}}async function ge(){if("undefined"==typeof localStorage)return;const e=ne(te.CurrentWorkspaceId);if(!e)return fe();const t=JSON.parse(e),a=Ft(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:T},snapshot:n}}const ye=async e=>await(async e=>(await se(G)).dispatch(oe.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await se(G)).dispatch(oe.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await se(G)).dispatch(oe.CreateSavedWorkspace,e))({workspace:e});async function he(e="Untitled Workspace"){const t=(await(async()=>(await se(G)).dispatch(oe.GetSavedWorkspaces,void 0))()).map((({title:e})=>e));return t.find((t=>t===e))?le(e,t):e}async function me(){if("undefined"!=typeof localStorage)try{const e=ne(te.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await K(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function ve(e=fin.me.identity){H(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);ae(te.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const Se=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw e})).finally((()=>{n=void 0})),n)};var Pe;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Pe||(Pe={}));const be=(e,t)=>e.content?{...e,content:e.content.map((e=>be(e,t)))}:{...e,componentState:t(e.componentState)},ke=e=>({...e,name:e.name?e.name:crypto.randomUUID()}),We=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=We(e.content);t.push(...a)})),t},Ce=async(e,t,a=G)=>{let n;if(H(a.name)){n=(await F(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;function Ie(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Ae(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Me(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function Oe(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Te=P&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Ee(e){let t;return()=>{if(!S)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Te;const a={clientAPIVersion:T},n=await fin.InterApplicationBus.Channel.connect(e,{payload:a});return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Be=e=>`__browser_window__-${e.uuid}-${e.name}`,xe=new Map,Re=e=>{const t=Be(e);return xe.has(t)||xe.set(t,Ee(t)),xe.get(t)()};var _e,Le;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page"}(_e||(_e={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(Le||(Le={}));const Ve={..._e,...Le};var De;!function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(De||(De={}));new Map;const Ue=async e=>{const t=await Re(e);return await t.dispatch(Ve.GetPages)},Fe=async e=>(await Re(e.identity)).dispatch(Ve.UpdatePageForWindow,e),Ge=async()=>{const e=await q();return(await Promise.all(e.map((async({identity:e})=>Ue(e))))).reduce(((e,t)=>e.concat(t)),[])},$e=async()=>(await se(G)).dispatch(oe.GetSavedPages,void 0),Ne=async e=>(await se(G)).dispatch(oe.GetSavedPage,e),je=async(e,t)=>{const a=await(async e=>(await Ge()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Fe({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},He=async({page:e})=>{await je(e.pageId,e),await(async e=>(await se(G)).dispatch(oe.CreateSavedPage,e))({page:e})},qe=async e=>{await Ne(e)&&await(async e=>(await se(G)).dispatch(oe.DeleteSavedPage,e))(e)},Ke=async({pageId:e,page:t})=>{await je(e,t);return await(async e=>(await se(G)).dispatch(oe.UpdateSavedPage,e))({pageId:e,page:t})},Qe=async e=>await Ne(e.pageId)?Ke({pageId:e.pageId,page:e}):He({page:e}),ze=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.AttachPagesToWindow,e))(e)},Je=async e=>{await Fe(e)},Xe=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.DetachPagesFromWindow,e))(e)},Ye=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.SetActivePageForWindow,e))(e)},Ze=e=>Ue(e),et=async({identity:e,pageId:t})=>(await Ze(e)).find((e=>e.pageId===t)),tt=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.ReorderPagesForWindow,e))(e)};async function at(e="Untitled Page"){const[t,a]=await Promise.all([$e(),Ge()]),n=[...t,...a].map((({title:e})=>e));return n.find((t=>t===e))?le(e,n):e}const nt=new Map,ot=e=>`${e.uuid}-${e.name}`;const rt=Se((async function(){let e=[];try{e=await Ge()}catch(e){return void nt.forEach(((e,t)=>{clearTimeout(e),nt.delete(t)}))}const t=new Set;e.forEach((e=>{We(e.layout.content).forEach((e=>{if(e.name){const a=ot(e);t.add(a)}}))}));const a=$();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=ot(e);if(t.has(a)||nt.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),nt.delete(a)}),5e3);nt.set(a,n)})),nt.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),nt.delete(a))}))}),2500),it=({name:e})=>{e&&H(e)&&rt().catch((()=>{}))};let st={};const ct=({actionId:e,payload:t})=>{if("function"!=typeof st[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return st[e](t)};function dt(){return localStorage.getItem(te.MachineName)}let pt;async function lt(){return pt||(pt=await fin.System.getMachineId()),pt}const ut=e=>{if(e.layout&&Array.isArray(e.workspacePlatform?.pages)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t)if(t.isLocked){const a=((e,t)=>{const a=We(t.content);return{...be(e,(e=>{const t=a.find((t=>t.name===e.name&&t.uuid===e.uuid)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}})(e.layout,t.layout);t.layout=a,e.layout=a}else t.layout=e.layout}return e};async function wt(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=dt();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await lt(),machineName:a}}}function ft(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function gt(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=ft(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}let yt;function ht(){return yt||(yt=gt("keyval-store","keyval")),yt}function mt(e,t=ht()){return t("readonly",(t=>ft(t.get(e))))}function vt(e,t,a=ht()){return a("readwrite",(a=>(a.put(t,e),ft(a.transaction))))}function St(e,t=ht()){return t("readwrite",(t=>(t.delete(e),ft(t.transaction))))}function Pt(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ft(e.transaction)}function bt(e=ht()){return e("readonly",(e=>{if(e.getAllKeys)return ft(e.getAllKeys());const t=[];return Pt(e,(e=>t.push(e.key))).then((()=>t))}))}const kt=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),Wt=b&&gt("openfin-home-pages","pages");async function Ct(e){const t=await mt(e,Wt);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function It(e){const t=await bt(Wt),a=await Promise.all(t.map((e=>Ct(e.toString()))));return e?a.filter((t=>kt(t.title,e))):a}async function At({page:e}){await vt(e.pageId,e,Wt)}async function Mt(e){await St(e,Wt)}async function Ot({pageId:e,page:t}){if(void 0===await Ct(e))throw new Error("page not found");await At({page:t}),e!==t.pageId&&await Mt(e)}var Tt;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Tt||(Tt={}));const Et={type:Tt.Separator,data:void 0};var Bt;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(Bt||(Bt={}));Ee("__of_workspace_protocol__");const xt=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await lt(),machineName:dt()}}))(t);return{pageId:crypto.randomUUID(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},Rt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await ce(e)).dispatch(oe.GetPagesForWindow,e),getPage:async t=>(await ce(e)).dispatch(oe.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await ce(e);t?.title||(t.title=await a.dispatch(oe.GetUniquePageTitle,void 0));const n=(await a.dispatch(oe.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(oe.AttachPagesToWindow,o)},removePage:async t=>(await ce(e)).dispatch(oe.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await ce(e)).dispatch(oe.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await ce(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await ce(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await ce(e);return(await Re(e)).dispatch(Ve.OpenSaveModalInternal,t)},_openSaveButtonContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenSaveButtonContextMenuInternal,t)}});let _t=!1;const Lt=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Rt(e),createWindow:async a=>{await ce(e),_t||(_t=!0,(async e=>{J(z.Browser,e)})({allowed:!0}));const n=await t.createWindow(a);return Rt(n.identity)},getAllAttachedPages:async()=>(await ce(e)).dispatch(oe.GetAllAttachedPages,void 0),getAllWindows:async()=>{await ce(e);return(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>Rt(e.identity)))},getUniquePageTitle:async t=>(await ce(e)).dispatch(oe.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await ce(e)).dispatch(oe.GetLastFocusedBrowserWindow,void 0)}},Vt=e=>({createPage:async t=>(await ce(e)).dispatch(oe.CreateSavedPageInternal,t),deletePage:async t=>(await ce(e)).dispatch(oe.DeleteSavedPageInternal,t),updatePage:async t=>(await ce(e)).dispatch(oe.UpdateSavedPageInternal,t),getPage:async t=>(await ce(e)).dispatch(oe.GetSavedPage,t),getPages:async t=>(await ce(e)).dispatch(oe.GetSavedPages,t),savePage:async t=>(await ce(e)).dispatch(oe.SavePage,t),createWorkspace:async t=>(await se(e)).dispatch(oe.CreateSavedWorkspace,t),deleteWorkspace:async t=>(await se(e)).dispatch(oe.DeleteSavedWorkspace,t),updateWorkspace:async t=>(await se(e)).dispatch(oe.UpdateSavedWorkspace,t),getWorkspace:async t=>(await se(e)).dispatch(oe.GetSavedWorkspace,t),getWorkspaces:async t=>(await se(e)).dispatch(oe.GetSavedWorkspaces,t),saveWorkspace:async t=>(await se(e)).dispatch(oe.SaveWorkspace,t)}),Dt=e=>({getThemes:async()=>(await se(e)).dispatch(oe.GetThemes,void 0)}),Ut=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:W,name:C,entityType:I||"unknown"});return(await se(e)).dispatch(oe.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await se(e),o={actionId:t,payload:{...a,callerType:a.callerType||h.API}};return n.dispatch(oe.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await se(e)).dispatch(oe.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await se(e)).dispatch(oe.GetCurrentWorkspace,void 0),applyWorkspace:async t=>(await se(e)).dispatch(oe.ApplyWorkspace,t),setActiveWorkspace:async t=>(await se(e)).dispatch(oe.SetActiveWorkspace,t),Theme:Dt(e),Browser:Lt(e),Storage:Vt(e)})},Ft=()=>Ut(fin.me.identity),Gt=async(e=G)=>{const{workspacePlatform:t}=await F(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},$t=async(e=G)=>{const t=await Ft().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=G)=>{const{newPageUrl:t}=await Gt(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return Ce("New Tab",t,e)})(e);return xt(t,a)},Nt={type:Tt.Label,label:"Close Window",data:{type:u.CloseWindow}},jt={type:Tt.Label,label:"Open Storefront",data:{type:u.OpenStorefront}},Ht={type:Tt.Label,label:"Quit Platform",data:{type:u.Quit}},qt={type:Tt.Label,label:"New Window",data:{type:u.NewWindow}},Kt={type:Tt.Label,label:"Save Page",data:{type:u.SavePage}},Qt={type:Tt.Label,label:"Save Page As...",data:{type:u.SavePageAs}},zt={type:Tt.Label,label:"Restore to Last Saved Changes",data:{type:u.RestoreChanges}},Jt={type:Tt.Label,label:"Save Workspace",data:{type:u.SaveWorkspace}},Xt={type:Tt.Label,label:"Save Workspace As...",data:{type:u.SaveWorkspaceAs}},Yt={type:Tt.Label,label:"Rename Workspace",data:{type:u.RenameWorkspace}},Zt="Switch Workspace",ea="Delete Workspace",ta=[Nt,Et,jt,Et,Ht],aa=[Et,Nt,Et,Ht],na=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Tt.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),oa=async e=>{const t=await Q(),{newPageUrl:a}=await Gt(e),n=await(async e=>{const t=F(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=await(async e=>{const t=F(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),r=[];var i;a&&(r.push(qt),n||r.push((i=!o,{type:Tt.Label,label:"New Page",data:{type:u.NewPage},enabled:i}))),r.push(Et);const s=Ft(),c=await s.getCurrentWorkspace(),d=await s.Storage.getWorkspaces(),p=d.find((e=>e.workspaceId===c.workspaceId));return p?r.push(zt):r.push({label:zt.label,enabled:!1}),r.push(Jt,Xt),p?r.push(Yt):r.push({label:Yt.label,enabled:!1}),d.some((e=>e.workspaceId!==c.workspaceId))?r.push({label:Zt,submenu:na(c,d,u.SwitchWorkspace)},{label:ea,submenu:na(c,d,u.DeleteWorkspace)}):r.push({label:Zt,enabled:!1},{label:ea,enabled:!1}),r.push(Et,Kt,Qt),t?[...r,...ta]:[...r,...aa]};let ra="Platform";const ia=async()=>ra;var sa,ca,da;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSaveModal="/browser/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(sa||(sa={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(ca||(ca={})),function(e){e.Search="search"}(da||(da={}));const pa={...ca,...sa};var la;!function(e){e.Home="/home",e.Browser="/browser",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(la||(la={}));const ua="/workspace/9.0.11";function wa(){return ua.substring(0,ua.length-"".length)}function fa(e){if(!P)throw new Error("getAbsoluteRoutePath can only be used in a window");return function(){if(!window)throw new Error("getAbsoluteBasePath can only be used in a window");return`${window.origin}${wa()}`}()+e}const ga={name:V.BrowserMenu,alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!0};function ya(e){const t={...ga,...e};return t.url=function(e){if(!P)throw new Error("resolveAbsolutePath can only be used in a window");return e.startsWith("http")?e:`${window.origin}${e}`}(t.url),t}var ha,ma;!function(e){e.Update="update",e.Response="response"}(ha||(ha={})),function(e){e.Canceled="canceled",e.Negative="negative",e.Affirmative="affirmative"}(ma||(ma={}));const va=function(e){const t=new Map;return{emit:Ie(t,(t=>S&&fin.InterApplicationBus.publish(e,t))),addListener:Ae(t,(t=>S&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),removeListener:Oe(t),once:Me(t)}}("window.menu"),Sa=e=>va.emit(ha.Response,e),Pa=Se((()=>L().getChildWindows()),500);const ba=new Map;async function ka({options:e,parameters:t},a){const n=ya(e),{name:o}=n;let r=await async function(e){return(await Pa()).find((t=>t.identity.name===e))}(o);return r||(r=await async function(e){const t=ya(e);if(!ba.has(t.name)){const e=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(t);return e.once("closed",(()=>{ba.delete(t.name)})),e})();ba.set(t.name,e)}return ba.get(t.name)}(n)),await async function(e,t){const a=ya(e),{top:n,left:o,defaultWidth:r,defaultHeight:i}=a,s={top:n,left:o,width:r,height:i},c={parentName:fin.Window.getCurrentSync().identity.name};for(const[e,a]of Object.entries(c))t.set(e,a);const d=t.toString(),p=`${a.url}?${d}`;va.emit(ha.Update,a.name,s,p),await Sa({name:a.name,data:ma.Canceled})}(e,t||new URLSearchParams),a&&r.center(),r}const Wa=async(e,t,a)=>{const n=t?F(t):$();if(!a){await(async(e=fin.me.identity)=>{const t=F(e),a=await t.getBounds();(a.right>screen.availLeft+screen.width||a.left<screen.availLeft||a.bottom>screen.availTop+screen.height||a.top<screen.availTop)&&await t.center()})(n.identity);const t=(e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}))(await n.getBounds()),{defaultHeight:a,defaultWidth:o}=e;return((e,t)=>{const{height:a,width:n}=t,o=n/2,r=a/2;return{left:e.left-o,top:e.top-r}})(t,{height:a,width:o})}return await n.getBounds()},Ca=async({options:e,content:t},a)=>{const n=new URLSearchParams({...t});return await ka({options:e,parameters:n},a),new Promise((t=>{va.once(ha.Response,(a=>{a.name===e.name&&t(a)}))}))},Ia=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Switch Workspace",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:`Are you sure you want to switch to ${t}`,body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await Wa(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Ca({options:r,content:n})).data===ma.Affirmative},Aa=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Delete Workspace",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:144,defaultWidth:372,modalParentIdentity:e},content:{title:"Are you sure you want to permanently delete this workspace?",body:`${t}`,affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await Wa(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Ca({options:r,content:n})).data===ma.Affirmative},Ma=async(e,t,a)=>{const n=a?void 0:e,{windowOptions:o,content:r}=await(async(e,t)=>({title:"Platform Quit",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:134,defaultWidth:474,modalParentIdentity:t},content:{title:`Close the ${"Platform"===e?"platform":`${e} Platform`}?`,body:"Closing a platform will close any workspaces, apps or any processes that are running.",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(t,n),i=await Wa(o,o.modalParentIdentity),s={...o,top:i.top,left:i.left};return(await Ca({options:s,content:r},a)).data===ma.Affirmative},Oa=async e=>{const{windowOptions:t,content:a}=await(async e=>({title:"Restore Changes",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:"Are you sure you want to restore to last saved changes?",body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e),n=await Wa(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return(await Ca({options:o,content:a})).data===ma.Affirmative};var Ta;!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(Ta||(Ta={}));const Ea={alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1};var Ba;!function(e){e.Locked="LockClosedIcon",e.Unlocked="LockOpen1Icon"}(Ba||(Ba={}));const xa=function(e=Ea){const t=new Map;return async(a,n,o,r)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const i=`${V.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:i});const s=await fin.Platform.getCurrentSync().createWindow({...e,name:i,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),100),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(`New ${r} indicator: ${o}`),s.once("closed",(()=>{t.delete(a)}))}}();async function Ra(e,t,a,n){const o=new URLSearchParams;o.append("type",e),o.append("message",t),o.append("parentName",a||""),o.append("icon",n||"");const r=`${fa(pa.BrowserIndicator)}?${o.toString()}`;return xa("browser"+a,r,t,e)}function _a(e,t,a){return Ra(Ta.SUCCESS,e,t,a)}const La=async e=>{const t=Ft(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))t.Storage.saveWorkspace(a),t.setActiveWorkspace(a),_a("Workspace Saved",e.name);else{t.Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE})}},Va=e=>{Ft().Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE_AS})},Da=async(e,t)=>{const a=Ft().Browser.wrapSync(e),n=await Ft().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId));if(r)try{await Ft().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),_a("Page saved",o.parentIdentity.name)}catch{i="Page failed to save",s=o.parentIdentity.name,Ra(Ta.ERROR,i,s,c)}else a._openSaveModal({id:o.pageId,menuType:m.SAVE_PAGE});var i,s,c,d},Ua=async(e,t)=>{const a=Ft().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:m.SAVE_PAGE_AS})},Fa=async(e,t)=>{if(!e)return;const a=t.identity,n=await Re(a),o=Ft().Browser.wrapSync(t.identity);switch(e.type){case u.NewWindow:const{newPageUrl:t}=await Gt(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");Ft().createView({target:void 0,url:t});break;case u.NewPage:await(async e=>{const t=Ft().Browser.wrapSync(e),a=await $t(e);await t.addPage(a),await t.setActivePage(a.pageId)})(a);break;case u.CloseWindow:n.dispatch(Ve.CloseBrowserWindow);break;case u.SaveWorkspace:await La(a);break;case u.SavePage:await Da(a);break;case u.SavePageAs:await Ua(a);break;case u.SaveWorkspaceAs:await Va(a);break;case u.RenameWorkspace:o._openSaveModal({menuType:m.RENAME_WORKSPACE});break;case u.SwitchWorkspace:await(async(e,t)=>{const a=Ft(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Ia(e,n.title)&&(await a.applyWorkspace(n),_a("Workspace Switched!",null))})(a,e);break;case u.DeleteWorkspace:await(async(e,t)=>{const a=Ft(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Aa(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),_a("Workspace Deleted!",e.name))})(a,e);break;case u.Quit:const r=await ia();await Ma(a,r)&&fin.Platform.getCurrentSync().quit();break;case u.OpenStorefront:(async()=>{await Q()&&j(N)})();break;case u.RestoreChanges:const i=await async function(){const e=Ft(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();await Oa(a)&&await ue(i);break;case u.Custom:if(e.action){const t={callerType:h.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,t)}}},Ga=async(e,t)=>{const a=await Re(t.identity),n=Ft();switch(e?.type){case w.Save:await Da(t.identity,t.pageId);break;case w.SaveAs:await Ua(t.identity,t.pageId);break;case w.Rename:await n.Browser.wrapSync(t.identity)._openSaveModal({menuType:m.RENAME_PAGE,id:t.pageId});break;case w.Duplicate:a.dispatch(Ve.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(Ve.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:h.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,a)}}},$a=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case y.SavePage:await Da(a);break;case y.SaveWorkspace:await La(a);break;case y.SavePageAs:await Ua(a);break;case y.SaveWorkspaceAs:await Va(a);break;case y.Custom:if(e.action){const a={callerType:h.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,a)}}}},Na=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Gt(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...Ce("New View",t),url:t,target:e}})(e);await Ft().createView(o,e,n.identity)},ja=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Gt(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},Ha=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Ft().createView(n,e,t.identity)})(e,a)}))},qa=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case f.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await Ft().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await Re(e)).dispatch(Ve.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case f.OpenWithDefaultBrowser:await ja(a,t.selectedViews);break;case f.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case f.NewView:await Na(a,t);break;case f.DuplicateViews:Ha(a,t.selectedViews);break;case f.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Re(e)).dispatch(Ve.AddToChannel,n)})(a,e.option,t.selectedViews);break;case f.RemoveFromChannel:(async(e,t)=>{(await Re(e)).dispatch(Ve.RemoveFromChannel,t)})(a,t.selectedViews);break;case f.Custom:if(e.action){const n={callerType:h.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,n)}}};async function Ka(e,t){const a=await oa(e.identity),n=await ia();a.find((e=>e.data?.type===u.Quit)).label=`Quit ${n}`;const o={...e,template:a,callback:Fa};await this.openGlobalContextMenu(o,t)}const Qa=async(e,t)=>{const{x:a,y:n,identity:o,template:r,callback:i}=e,{data:s}=await function(e,t){if(!S)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:r},fin.Window.wrapSync(o));i(s,e)};async function za(e,t){const a={...e,callback:qa};await this.openViewTabContextMenu(a,t)}async function Ja(e,t){const a=await(async(e,t)=>{const a=await Ft().Storage.getPage(e),n=(await Ge()).find((t=>t.pageId===e)),{workspacePlatform:o}=await F(t).getOptions(),r=!(o.isLocked||o.preventPageClose||n.closeButton?.disabled||n.closeButton?.hidden);return[{type:Tt.Label,label:"Save Page",data:{type:w.Save}},{type:Tt.Label,label:"Save Page As",data:{type:w.SaveAs}},Et,{type:Tt.Label,label:"Rename Page",data:{type:w.Rename},enabled:!!a},{type:Tt.Label,label:"Duplicate Page",data:{type:w.Duplicate},enabled:!o.isLocked},Et,{type:Tt.Label,label:"Close Page",data:{type:w.Close},enabled:r}]})(e.pageId,e.identity),n={...e,template:a,callback:Ga};await this.openPageTabContextMenu(n,t)}async function Xa(e,t){const a={...e,template:await(async()=>[{type:Tt.Label,label:"Save Workspace",data:{type:y.SaveWorkspace}},{type:Tt.Label,label:"Save Workspace As",data:{type:y.SaveWorkspaceAs}},{type:Tt.Separator,data:void 0},{type:Tt.Label,label:"Save Page",data:{type:y.SavePage}},{type:Tt.Label,label:"Save Page As",data:{type:y.SavePageAs}}])(),callback:$a};await this.openSaveButtonContextMenu(a,t)}const Ya=b&&gt("openfin-workspace-platform-workspaces","workspaces");async function Za(e){const t=await mt(e,Ya);return t?(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId,t):null}async function en(e){const t=await bt(Ya),a=await Promise.all(t.map((e=>Za(e.toString()))));return e?a.filter((t=>kt(t.title,e))):a}async function tn({workspace:e}){await vt(e.workspaceId,e,Ya)}async function an(e){await St(e,Ya)}async function nn({workspaceId:e,workspace:t}){if(void 0===await Za(e))throw new Error("workspace not found");await tn({workspace:t}),e!==t.workspaceId&&await an(e)}async function on({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case c.Snapshot:return a.applySnapshot(e.manifest);case c.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case c.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const rn=e=>e&&"object"==typeof e&&!Array.isArray(e);function sn(e,...t){if(!t.length)return e;const a=t.shift();return rn(e)&&rn(a)&&Object.entries(a).forEach((([t,a])=>{if(rn(a))return e[t]||(e[t]={}),sn(e[t],a);e[t]=a})),sn(e,...t)}const cn=M+pa.Browser;function dn(e,t){const a=sn({},t,e);return a.detachOnClose=!0,a}async function pn(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const ln=e=>{const t=e.name===V.Home,a=e.name?.startsWith(V.HomeInternal),n=e.name?.startsWith(V.BrowserMenu);return!t&&!a&&!n},un=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),wn={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:cn,contextMenu:!0,closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${M}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},fn={dimensions:{borderWidth:3,headerHeight:30}},gn=async(e,t)=>{const a=await Ft().Storage.getPages(),n=await Ft().Browser.getAllAttachedPages();return e.map((e=>{let o=e.title;void 0===e.pageId&&(e.pageId=crypto.randomUUID());const r=a.find((e=>e.title===o));return(r&&r.pageId!==e.pageId||n.find((e=>e.title===o)))&&(o=le(e.title,[...a,...n].map((e=>e.title)))),n.push({...e,title:o}),{...t,...e,title:o,layout:(i=e.layout,be({...i},ke))};var i}))};var yn;!function(e){e.Browser="browser",e.Platform="platform",e.Classic="classic",e.Mixed="mixed"}(yn||(yn={}));const hn=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function mn(e){const t=(await q()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await Re(e)).dispatch(Ve.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():wt()}const vn=async e=>{await Ma(fin.me.identity,e.title??await ia(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()};let Sn=[];const Pn=()=>Sn;const bn=(e,t)=>async a=>{const n=null!==e;class o extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e}),this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=Xe,this.getAllAttachedPages=Ge,this.getPagesForWindow=Ze,this.getPageForWindow=et,this.setActivePage=Ye,this.launchApp=on,this.savePage=Qe,this.saveWorkspace=ye,this.createSavedPageInternal=He,this.updateSavedPageInternal=Ke,this.deleteSavedPageInternal=qe,this.reorderPagesForWindow=tt,this.getUniquePageTitle=at,this.updatePageForWindow=Je,this.getLastFocusedBrowserWindow=me,this.getThemes=Pn,this.invokeCustomActionInternal=ct,this.requestQuitPlatformDialogInternal=vn,this.getCurrentWorkspace=ge,this.applyWorkspace=ue,this.setActiveWorkspace=we,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this)}async getSnapshot(){const e=n?await mn((async()=>wt(await super.getSnapshot(void 0,fin.me.identity)))):await wt(await super.getSnapshot(void 0,fin.me.identity));return{...e,windows:e.windows.filter(ln).map(ut)}}async applySnapshot({snapshot:e,options:t}){const a=e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}});let o=e;"string"==typeof o&&(o=await super.fetchManifest({manifestUrl:o},fin.me.identity));const r=function(e){let t=!1,a=!1;for(const n of e.windows){if(t&&a)break;n.workspacePlatform?.pages?.length?a=!0:n.layout&&(t=!0)}return t&&a?yn.Mixed:t?yn.Platform:a?yn.Browser:e.windows.length?yn.Classic:null}(o);if(r===yn.Mixed)throw new Error("This snapshot cannot be applied as it contains a mixture of browser and platform windows.");if(n)yn.Platform;else if(r===yn.Browser)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return t?.closeExistingWindows&&await async function(){const e=await q();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}(),n?async function(e,t){const a=await Ge(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),[o,r]=(e.windows||[]).reduce((([e,t],a)=>a?.workspacePlatform?.pages?.length?[[...e,a],t]:[e,[...t,a]]),[[],[]]),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const s=[],c=o.map((async e=>{const t=un(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await at();a.push(await xt(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Ye({identity:o.parentIdentity,pageId:o.pageId}),hn(o.parentIdentity)]),a.length&&s.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(c),!s.length&&!r.length)return;const d=fin.Platform.getCurrentSync();return(t||d.applySnapshot.bind(d))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:[...s,...r]})}(o,a):a(o)}async createWindow(t,a){t.workspacePlatform?.toolbarOptions?.buttons&&(e=>{const t=e.filter((e=>e.type!==g.Custom)),a=new Set;for(const e of t){if(a.has(e.type))throw new Error(`Encountered a duplicate of ${e.type} button. No more than one instance of a button type may be provided.`);a.add(e.type)}})(t.workspacePlatform.toolbarOptions.buttons);let o=un(t);if(n){const t=this.getThemes();o=await(async(e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=sn({},t.defaultWindowOptions,n,wn),n.layout=sn(n.layout,fn),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;if(e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=((e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a})(n,!0),!n.workspacePlatform.pages?.length){const e=await at("Untitled Page"),t={...await xt(e,n.layout),isActive:!0};n.workspacePlatform.pages=[t]}}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=await gn(n.workspacePlatform.pages,t?.defaultPageOptions)),n.cornerRounding&&delete n.cornerRounding,n})(o,e,t[0])}o=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(o);const r=(e,t)=>super.createWindow(e,t),i=n?(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener(D.ShowRequested,(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(r):r;return i(o,a)}async createView(t,a){return t.opts=dn(t.opts,e?.defaultViewOptions),t.opts=await pn(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await dn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await pn(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return Ct.apply(this,e)}async getSavedPages(...e){return It.apply(this,e)}async createSavedPage(...e){return At.apply(this,e)}async deleteSavedPage(...e){return Mt.apply(this,e)}async updateSavedPage(...e){return Ot.apply(this,e)}async getSavedWorkspace(...e){return Za.apply(this,e)}async getSavedWorkspaces(...e){return en.apply(this,e)}async createSavedWorkspace(...e){return tn.apply(this,e)}async deleteSavedWorkspace(...e){return an.apply(this,e)}async updateSavedWorkspace(...e){return nn.apply(this,e)}async attachPagesToWindow(t){t.pages=await gn(t.pages,e?.defaultPageOptions),await ze(t)}async openGlobalContextMenuInternal(...e){return Ka.apply(this,e)}async openGlobalContextMenu(...e){return Qa.apply(this,e)}async openViewTabContextMenuInternal(...e){return za.apply(this,e)}async openViewTabContextMenu(...e){return Qa.apply(this,e)}async openPageTabContextMenuInternal(...e){return Ja.apply(this,e)}async openPageTabContextMenu(...e){return Qa.apply(this,e)}async openSaveButtonContextMenu(...e){return Qa.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Xa.apply(this,e)}}return"function"==typeof t?t(o):new o};async function kn(){!function(){const e=L();e.addListener(B.WindowOptionsChanged,rt),e.addListener(B.WindowClosed,it),e.addListener(B.WindowCreated,it),fin.InterApplicationBus.subscribe({uuid:fin.me.identity.uuid},"browser-window-ready",it)}(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",ve)}();we(await fe())}let Wn;function Cn({overrideCallback:e,interopOverride:t,browser:a}){if(!S)throw new Error("Cannot be used outside an OpenFin env.");if(!Wn){fin.Platform.getCurrentSync().once("platform-api-ready",(()=>kn())),a?.title&&(n=a.title,ra=n),Wn=fin.Platform.init({overrideCallback:bn(a,e||a?.overrideCallback),interopOverride:t||a?.interopOverride}),(async e=>{J(z.Platform,e)})({allowed:!0})}var n;return Wn}const In=async({theme:e,customActions:t,...a})=>{const n=O.split(".").map((e=>parseInt(e))),o=await(async e=>new Promise((async t=>{(await Z()).disableRuntimeValidation&&t(!0);const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(n);var r;if(e&&((r=e).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),Sn=r,(async e=>{J(z.Theming,e)})({allowed:!0})),t&&(st=t),o)return Cn(a);throw new Error(`Runtime version is not supported.  ${n[0]}.${n[1]}.${n[2]}.* is required`)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/bootstrapper.ts":
/*!************************************!*\
  !*** ./client/src/bootstrapper.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _launchbar_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./launchbar-window */ "./client/src/launchbar-window.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");


async function init() {
    // you can kick off your bootstrapping process here where you may decide to prompt for authentication,
    // gather reference data etc before starting workspace and interacting with it.
    console.log("Initialising the bootstrapper");
    const { bootstrap: { launchBarWindowSettings } } = await (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getSettings)();
    await (0,_launchbar_window__WEBPACK_IMPORTED_MODULE_0__.createLaunchBarWindow)(launchBarWindowSettings);
}


/***/ }),

/***/ "./client/src/launchbar-window.ts":
/*!****************************************!*\
  !*** ./client/src/launchbar-window.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createLaunchBarWindow": () => (/* binding */ createLaunchBarWindow)
/* harmony export */ });
async function createLaunchBarWindow(options) {
    return fin.Window.create(options);
}


/***/ }),

/***/ "./client/src/platform.ts":
/*!********************************!*\
  !*** ./client/src/platform.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");


async function init() {
    console.log("Initialising platform");
    const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getSettings)();
    const browser = {};
    if (settings.browserProvider !== undefined) {
        browser.defaultWindowOptions = {
            icon: settings.browserProvider.windowOptions?.icon,
            workspacePlatform: {
                pages: null,
                title: settings.browserProvider.windowOptions?.title,
                favicon: settings.browserProvider.windowOptions?.icon,
                newTabUrl: settings.browserProvider.windowOptions?.newTabUrl,
                newPageUrl: settings.browserProvider.windowOptions?.newPageUrl
            }
        };
    }
    console.log("Specifying following browser options:", browser);
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser,
        theme: (0,_settings__WEBPACK_IMPORTED_MODULE_1__.validateThemes)(settings?.themeProvider?.themes),
        customActions: {
            "custom-save-page-clicked": (payload) => {
                console.dir({ message: "CUSTOM SAVE PAGE CLICKED", payload });
                console.dir({ message: "LAYOUT", layout: payload.customData.layout });
            }
        }
    });
}


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSettings": () => (/* binding */ getSettings),
/* harmony export */   "validateThemes": () => (/* binding */ validateThemes)
/* harmony export */ });
let settings;
async function getConfiguredSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    if (manifest.customSettings !== undefined) {
        settings = manifest.customSettings;
    }
    else {
        settings = {};
    }
    return settings;
}
async function getSettings() {
    if (settings === undefined) {
        settings = await getConfiguredSettings();
    }
    return settings;
}
function validatePalette(themePalette, themeLabel) {
    const palette = {};
    const keys = Object.keys(themePalette);
    for (const key of keys) {
        if (themePalette[key] !== undefined &&
            themePalette[key] !== null &&
            themePalette[key].trim().length > 0) {
            palette[key] = themePalette[key];
        }
    }
    const brandPrimaryKey = "brandPrimary";
    const brandPrimaryValue = "#504CFF";
    const brandSecondaryKey = "brandSecondary";
    const brandSecondaryValue = "#383A40";
    const backgroundPrimaryKey = "backgroundPrimary";
    const backgroundPrimaryValue = "#111214";
    if (palette[brandPrimaryKey] === undefined) {
        console.warn(`Theme: ${themeLabel} : ${brandPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${brandPrimaryValue}`);
        palette[brandPrimaryKey] = brandPrimaryValue;
    }
    if (palette[brandSecondaryKey] === undefined) {
        console.warn(`Theme: ${themeLabel} : ${brandSecondaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${brandSecondaryValue}`);
        palette[brandSecondaryKey] = brandSecondaryValue;
    }
    if (palette[backgroundPrimaryKey] === undefined) {
        console.warn(`Theme: ${themeLabel} : ${backgroundPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${backgroundPrimaryValue}`);
        palette[backgroundPrimaryKey] = backgroundPrimaryValue;
    }
    return palette;
}
function validateThemes(themes) {
    const validatedThemes = [];
    if (Array.isArray(themes)) {
        for (let i = 0; i < themes.length; i++) {
            const themeToValidate = themes[i];
            const palette = validatePalette(themeToValidate.palette, themeToValidate.label);
            if (palette !== null) {
                themeToValidate.palette = palette;
            }
            else {
                // don't pass an empty object as there are no theme properties
                themeToValidate.palette = undefined;
            }
            validatedThemes.push(themeToValidate);
        }
    }
    return validatedThemes;
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrapper */ "./client/src/bootstrapper.ts");
/* harmony import */ var _platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform */ "./client/src/platform.ts");


window.addEventListener("DOMContentLoaded", async () => {
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => (0,_bootstrapper__WEBPACK_IMPORTED_MODULE_0__.init)());
    await (0,_platform__WEBPACK_IMPORTED_MODULE_1__.init)();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWUsQ0FBQztBQUN4QixDQUFDOzs7Ozs7O1VDMUZEO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxpQ0FBaUMsV0FBVztXQUM1QztXQUNBOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7Ozs7Ozs7Ozs7OztBQ05tRDtBQUNLO0FBRXhELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLElBQUksRUFBRTtJQUN0RCxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQy9DLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDLG1EQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ25FLE1BQU0sK0NBQWtCLEVBQUUsQ0FBQztBQUM1QixDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWJyb3dzZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1icm93c2VyLy4vY2xpZW50L3NyYy9ib290c3RyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtYnJvd3Nlci8uL2NsaWVudC9zcmMvbGF1bmNoYmFyLXdpbmRvdy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1icm93c2VyLy4vY2xpZW50L3NyYy9wbGF0Zm9ybS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1icm93c2VyLy4vY2xpZW50L3NyYy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1icm93c2VyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWJyb3dzZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtYnJvd3Nlci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtYnJvd3Nlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWJyb3dzZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1icm93c2VyLy4vY2xpZW50L3NyYy9wcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBpbmRleC5qcy5MSUNFTlNFLnR4dCAqL1xuKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezUyNTplPT57dmFyIHQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxhPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO2Z1bmN0aW9uIG8oZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdChlKX1lLmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIGU9bmV3IFN0cmluZyhcImFiY1wiKTtpZihlWzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpWzBdKXJldHVybiExO2Zvcih2YXIgdD17fSxhPTA7YTwxMDthKyspdFtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKGEpXT1hO2lmKFwiMDEyMzQ1Njc4OVwiIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKS5qb2luKFwiXCIpKXJldHVybiExO3ZhciBuPXt9O3JldHVyblwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPWV9KSksXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiPT09T2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSxuKSkuam9pbihcIlwiKX1jYXRjaChlKXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihlLHIpe2Zvcih2YXIgaSxzLGM9byhlKSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7Zm9yKHZhciBwIGluIGk9T2JqZWN0KGFyZ3VtZW50c1tkXSkpYS5jYWxsKGkscCkmJihjW3BdPWlbcF0pO2lmKHQpe3M9dChpKTtmb3IodmFyIGw9MDtsPHMubGVuZ3RoO2wrKyluLmNhbGwoaSxzW2xdKSYmKGNbc1tsXV09aVtzW2xdXSl9fXJldHVybiBjfX0sNTM1OihlLHQsYSk9Pnt2YXIgbj1hKDUyNSksbz02MDEwMyxyPTYwMTA2O3ZhciBpPTYwMTA5LHM9NjAxMTAsYz02MDExMjt2YXIgZD02MDExNSxwPTYwMTE2O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcil7dmFyIGw9U3ltYm9sLmZvcjtvPWwoXCJyZWFjdC5lbGVtZW50XCIpLHI9bChcInJlYWN0LnBvcnRhbFwiKSxsKFwicmVhY3QuZnJhZ21lbnRcIiksbChcInJlYWN0LnN0cmljdF9tb2RlXCIpLGwoXCJyZWFjdC5wcm9maWxlclwiKSxpPWwoXCJyZWFjdC5wcm92aWRlclwiKSxzPWwoXCJyZWFjdC5jb250ZXh0XCIpLGM9bChcInJlYWN0LmZvcndhcmRfcmVmXCIpLGwoXCJyZWFjdC5zdXNwZW5zZVwiKSxkPWwoXCJyZWFjdC5tZW1vXCIpLHA9bChcInJlYWN0LmxhenlcIil9dmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gdyhlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLGE9MTthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW2FdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgZj17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sZz17fTtmdW5jdGlvbiB5KGUsdCxhKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPWcsdGhpcy51cGRhdGVyPWF8fGZ9ZnVuY3Rpb24gaCgpe31mdW5jdGlvbiBtKGUsdCxhKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPWcsdGhpcy51cGRhdGVyPWF8fGZ9eS5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fSx5LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT1lKXRocm93IEVycm9yKHcoODUpKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsZSx0LFwic2V0U3RhdGVcIil9LHkucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxlLFwiZm9yY2VVcGRhdGVcIil9LGgucHJvdG90eXBlPXkucHJvdG90eXBlO3ZhciB2PW0ucHJvdG90eXBlPW5ldyBoO3YuY29uc3RydWN0b3I9bSxuKHYseS5wcm90b3R5cGUpLHYuaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIFM9e2N1cnJlbnQ6bnVsbH0sUD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGI9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtmdW5jdGlvbiBrKGUsdCxhKXt2YXIgbixyPXt9LGk9bnVsbCxzPW51bGw7aWYobnVsbCE9dClmb3IobiBpbiB2b2lkIDAhPT10LnJlZiYmKHM9dC5yZWYpLHZvaWQgMCE9PXQua2V5JiYoaT1cIlwiK3Qua2V5KSx0KVAuY2FsbCh0LG4pJiYhYi5oYXNPd25Qcm9wZXJ0eShuKSYmKHJbbl09dFtuXSk7dmFyIGM9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1jKXIuY2hpbGRyZW49YTtlbHNlIGlmKDE8Yyl7Zm9yKHZhciBkPUFycmF5KGMpLHA9MDtwPGM7cCsrKWRbcF09YXJndW1lbnRzW3ArMl07ci5jaGlsZHJlbj1kfWlmKGUmJmUuZGVmYXVsdFByb3BzKWZvcihuIGluIGM9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09cltuXSYmKHJbbl09Y1tuXSk7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLGtleTppLHJlZjpzLHByb3BzOnIsX293bmVyOlMuY3VycmVudH19ZnVuY3Rpb24gVyhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuJCR0eXBlb2Y9PT1vfXZhciBDPS9cXC8rL2c7ZnVuY3Rpb24gSShlLHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmbnVsbCE9ZS5rZXk/ZnVuY3Rpb24oZSl7dmFyIHQ9e1wiPVwiOlwiPTBcIixcIjpcIjpcIj0yXCJ9O3JldHVyblwiJFwiK2UucmVwbGFjZSgvWz06XS9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oXCJcIitlLmtleSk6dC50b1N0cmluZygzNil9ZnVuY3Rpb24gQShlLHQsYSxuLGkpe3ZhciBzPXR5cGVvZiBlO1widW5kZWZpbmVkXCIhPT1zJiZcImJvb2xlYW5cIiE9PXN8fChlPW51bGwpO3ZhciBjPSExO2lmKG51bGw9PT1lKWM9ITA7ZWxzZSBzd2l0Y2gocyl7Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6Yz0hMDticmVhaztjYXNlXCJvYmplY3RcIjpzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBvOmNhc2UgcjpjPSEwfX1pZihjKXJldHVybiBpPWkoYz1lKSxlPVwiXCI9PT1uP1wiLlwiK0koYywwKTpuLEFycmF5LmlzQXJyYXkoaSk/KGE9XCJcIixudWxsIT1lJiYoYT1lLnJlcGxhY2UoQyxcIiQmL1wiKStcIi9cIiksQShpLHQsYSxcIlwiLChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSk6bnVsbCE9aSYmKFcoaSkmJihpPWZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLnR5cGUsa2V5OnQscmVmOmUucmVmLHByb3BzOmUucHJvcHMsX293bmVyOmUuX293bmVyfX0oaSxhKyghaS5rZXl8fGMmJmMua2V5PT09aS5rZXk/XCJcIjooXCJcIitpLmtleSkucmVwbGFjZShDLFwiJCYvXCIpK1wiL1wiKStlKSksdC5wdXNoKGkpKSwxO2lmKGM9MCxuPVwiXCI9PT1uP1wiLlwiOm4rXCI6XCIsQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIGQ9MDtkPGUubGVuZ3RoO2QrKyl7dmFyIHA9bitJKHM9ZVtkXSxkKTtjKz1BKHMsdCxhLHAsaSl9ZWxzZSBpZihwPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGU/bnVsbDpcImZ1bmN0aW9uXCI9PXR5cGVvZihlPXUmJmVbdV18fGVbXCJAQGl0ZXJhdG9yXCJdKT9lOm51bGx9KGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHApZm9yKGU9cC5jYWxsKGUpLGQ9MDshKHM9ZS5uZXh0KCkpLmRvbmU7KWMrPUEocz1zLnZhbHVlLHQsYSxwPW4rSShzLGQrKyksaSk7ZWxzZSBpZihcIm9iamVjdFwiPT09cyl0aHJvdyB0PVwiXCIrZSxFcnJvcih3KDMxLFwiW29iamVjdCBPYmplY3RdXCI9PT10P1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoZSkuam9pbihcIiwgXCIpK1wifVwiOnQpKTtyZXR1cm4gY31mdW5jdGlvbiBNKGUsdCxhKXtpZihudWxsPT1lKXJldHVybiBlO3ZhciBuPVtdLG89MDtyZXR1cm4gQShlLG4sXCJcIixcIlwiLChmdW5jdGlvbihlKXtyZXR1cm4gdC5jYWxsKGEsZSxvKyspfSkpLG59ZnVuY3Rpb24gTyhlKXtpZigtMT09PWUuX3N0YXR1cyl7dmFyIHQ9ZS5fcmVzdWx0O3Q9dCgpLGUuX3N0YXR1cz0wLGUuX3Jlc3VsdD10LHQudGhlbigoZnVuY3Rpb24odCl7MD09PWUuX3N0YXR1cyYmKHQ9dC5kZWZhdWx0LGUuX3N0YXR1cz0xLGUuX3Jlc3VsdD10KX0pLChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYoZS5fc3RhdHVzPTIsZS5fcmVzdWx0PXQpfSkpfWlmKDE9PT1lLl9zdGF0dXMpcmV0dXJuIGUuX3Jlc3VsdDt0aHJvdyBlLl9yZXN1bHR9dmFyIFQ9e2N1cnJlbnQ6bnVsbH07ZnVuY3Rpb24gRSgpe3ZhciBlPVQuY3VycmVudDtpZihudWxsPT09ZSl0aHJvdyBFcnJvcih3KDMyMSkpO3JldHVybiBlfX0sMzc4OihlLHQsYSk9PnthKDUzNSl9fSx0PXt9O2Z1bmN0aW9uIGEobil7dmFyIG89dFtuXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIHI9dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0ocixyLmV4cG9ydHMsYSksci5leHBvcnRzfWEuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWEubyh0LG4pJiYhYS5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sYS5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxhLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBuPXt9OygoKT0+e3ZhciBlLHQsbyxyLGkscyxjLGQ7YS5yKG4pLGEuZChuLHtBcHBNYW5pZmVzdFR5cGU6KCk9PmMsQnJvd3NlckJ1dHRvblR5cGU6KCk9PmcsQ3VzdG9tQWN0aW9uQ2FsbGVyVHlwZTooKT0+aCxHbG9iYWxDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PnUsUGFnZVRhYkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+dyxTYXZlQnV0dG9uQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT55LFNhdmVNb2RhbFR5cGU6KCk9Pm0sVmlld1RhYk1lbnVPcHRpb25UeXBlOigpPT5mLGdldEN1cnJlbnRTeW5jOigpPT5GdCxpbml0OigpPT5Jbix3cmFwU3luYzooKT0+VXR9KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KGV8fChlPXt9KSksZnVuY3Rpb24oZSl7ZS5Vc2VyQWN0aW9uPVwidXNlci1hY3Rpb25cIixlLkZvY3VzQ2hhbmdlPVwiZm9jdXMtY2hhbmdlXCIsZS5SZWxvYWQ9XCJyZWxvYWRcIn0odHx8KHQ9e30pKSxmdW5jdGlvbihlKXtlLkFjdGl2ZT1cImFjdGl2ZVwiLGUuRGVmYXVsdD1cImRlZmF1bHRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlN1Z2dlc3Rpb249XCJzdWdnZXN0aW9uXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5Db250YWN0PVwiQ29udGFjdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCIsZS5MaXN0PVwiTGlzdFwiLGUuUGxhaW49XCJQbGFpblwiLGUuU2ltcGxlVGV4dD1cIlNpbXBsZVRleHRcIixlLkxvYWRpbmc9XCJMb2FkaW5nXCIsZS5FcnJvcj1cIkVycm9yXCJ9KGl8fChpPXt9KSksZnVuY3Rpb24oZSl7ZS5NdWx0aVNlbGVjdD1cIk11bHRpU2VsZWN0XCJ9KHN8fChzPXt9KSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0oZHx8KGQ9e30pKTt2YXIgcCxsLHUsdyxmLGcseSxoLG0sdjshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3Rpb25CdXR0b249XCJBY3Rpb25CdXR0b25cIixlLkRyb3Bkb3duQnV0dG9uPVwiRHJvcGRvd25CdXR0b25cIn0obHx8KGw9e30pKSxmdW5jdGlvbihlKXtlLk5ld1dpbmRvdz1cIk5ld1dpbmRvd1wiLGUuTmV3UGFnZT1cIk5ld1BhZ2VcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5DbG9zZVdpbmRvdz1cIkNsb3NlV2luZG93XCIsZS5SZXN0b3JlQ2hhbmdlcz1cIlJlc3RvcmVDaGFuZ2VzXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZW5hbWVXb3Jrc3BhY2U9XCJSZW5hbWVXb3Jrc3BhY2VcIixlLlN3aXRjaFdvcmtzcGFjZT1cIlN3aXRjaFdvcmtzcGFjZVwiLGUuRGVsZXRlV29ya3NwYWNlPVwiRGVsZXRlV29ya3NwYWNlXCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5RdWl0PVwiUXVpdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5DbG9zZT1cIkNsb3NlXCIsZS5EdXBsaWNhdGU9XCJEdXBsaWNhdGVcIixlLlJlbmFtZT1cIlJlbmFtZVwiLGUuU2F2ZT1cIlNhdmVcIixlLlNhdmVBcz1cIlNhdmUgQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh3fHwodz17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGZ8fChmPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkNvbG9yTGlua2luZz1cIkNvbG9yTGlua2luZ1wiLGUuUHJlc2V0TGF5b3V0cz1cIlByZXNldExheW91dHNcIixlLkxvY2tVbmxvY2tQYWdlPVwiTG9ja1VubG9ja1BhZ2VcIixlLlNhdmVNZW51PVwiU2F2ZU1lbnVcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLk1pbmltaXNlPVwiTWluaW1pc2VcIixlLk1heGltaXNlPVwiTWF4aW1pc2VcIixlLkNsb3NlPVwiQ2xvc2VcIixlLkN1c3RvbT1cIkN1c3RvbVwifShnfHwoZz17fSkpLGZ1bmN0aW9uKGUpe2UuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh5fHwoeT17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5DdXN0b21Ecm9wZG93bkl0ZW09XCJDdXN0b21Ecm9wZG93bkl0ZW1cIixlLkdsb2JhbENvbnRleHRNZW51PVwiR2xvYmFsQ29udGV4dE1lbnVcIixlLlZpZXdUYWJDb250ZXh0TWVudT1cIlZpZXdUYWJDb250ZXh0TWVudVwiLGUuUGFnZVRhYkNvbnRleHRNZW51PVwiUGFnZVRhYkNvbnRleHRNZW51XCIsZS5TYXZlQnV0dG9uQ29udGV4dE1lbnU9XCJTYXZlQnV0dG9uQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifShofHwoaD17fSkpLGZ1bmN0aW9uKGUpe2UuU0FWRV9QQUdFPVwiU0FWRV9QQUdFXCIsZS5TQVZFX1dPUktTUEFDRT1cIlNBVkVfV09SS1NQQUNFXCIsZS5TQVZFX1BBR0VfQVM9XCJTQVZFX1BBR0VfQVNcIixlLlNBVkVfV09SS1NQQUNFX0FTPVwiU0FWRV9XT1JLU1BBQ0VfQVNcIixlLlJFTkFNRV9QQUdFPVwiUkVOQU1FX1BBR0VcIixlLlJFTkFNRV9XT1JLU1BBQ0U9XCJSRU5BTUVfV09SS1NQQUNFXCJ9KG18fChtPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NhbD1cImxvY2FsXCIsZS5EZXY9XCJkZXZcIixlLlN0YWdpbmc9XCJzdGFnaW5nXCIsZS5Qcm9kPVwicHJvZFwifSh2fHwodj17fSkpO2NvbnN0IFM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbixQPShcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8cHJvY2Vzcy5lbnY/LkpFU1RfV09SS0VSX0lELFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLGI9UCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixrPVA/d2luZG93Lm9yaWdpbjp2LkxvY2FsLFc9UyYmZmluLm1lLnV1aWQsQz1TJiZmaW4ubWUubmFtZSxJPVMmJmZpbi5tZS5lbnRpdHlUeXBlLEE9KHYuTG9jYWwsdi5EZXYsdi5TdGFnaW5nLHYuUHJvZCxlPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOmsrZSksTT0oQShcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzkuMC4xMVwiKSxBKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjExXCIpKSxPPShcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZBKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJkEoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCIyNi4xMDIuNzEuN1wiKSxUPVwiOS4wLjExXCI7dmFyIEUsQix4OyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShFfHwoRT17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0oQnx8KEI9e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KHh8fCh4PXt9KSk7Y29uc3QgUj17dXVpZDpXfSxfPShFLldvcmtzcGFjZSxlPT57aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KSxMPSgpPT5fKFIpO3ZhciBWLEQsVTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wifShWfHwoVj17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VkPVwiY2xvc2VkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0oRHx8KEQ9e30pKSxmdW5jdGlvbihlKXtlLkJlZm9yZVVubG9hZD1cImJlZm9yZXVubG9hZFwifShVfHwoVT17fSkpO2Z1bmN0aW9uIEYoZSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgRz17bmFtZTpDLHV1aWQ6V307ZnVuY3Rpb24gJCgpe3JldHVybiBGKEcpfVYuSG9tZSxFLldvcmtzcGFjZSxWLkRvY2ssRS5Xb3Jrc3BhY2U7Y29uc3QgTj17bmFtZTpWLlN0b3JlZnJvbnQsdXVpZDpFLldvcmtzcGFjZX07RS5Xb3Jrc3BhY2UsRS5Xb3Jrc3BhY2U7YXN5bmMgZnVuY3Rpb24gaihlKXtjb25zdCB0PUYoZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5zZXRBc0ZvcmVncm91bmQoKX1jb25zdCBIPWU9PmUuc3RhcnRzV2l0aChWLkJyb3dzZXJXaW5kb3cpO2FzeW5jIGZ1bmN0aW9uIHEoKXtyZXR1cm4oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbHRlcigoZT0+SChlLmlkZW50aXR5Lm5hbWUpKSl9Y29uc3QgSz1lPT5GKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSksUT0oKT0+SyhOKTt2YXIgejshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wifSh6fHwoej17fSkpO2NvbnN0IEo9YXN5bmMoZSx0KT0+e2NvbnN0IGE9e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxULGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOnQuY29tcG9uZW50VmVyc2lvbnx8VCxhbGxvd2VkOnQuYWxsb3dlZCxyZWplY3Rpb25Db2RlOnQucmVqZWN0aW9uQ29kZX07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwid29ya3NwYWNlLWxpY2Vuc2luZ1wiLGRhdGE6YX0pfTthKDM3OCk7Y29uc3QgWD1lPT5maW4uU3lzdGVtLmdldFN5c3RlbUFwcENvbmZpZyhlKTtsZXQgWTthc3luYyBmdW5jdGlvbiBaKCl7aWYoWSlyZXR1cm4gWTtpZighUylyZXR1cm57fTtjb25zdCBlPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7aWYoUyl0cnl7bGV0IGU9YXdhaXQgWChcIndvcmtzcGFjZVwiKS5jYXRjaCgoZT0+e30pKTtyZXR1cm4gZXx8KGU9YXdhaXQgWChcImhvbWVcIikpLGV9Y2F0Y2goZSl7fX0oKSx0PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3R7bWFuaWZlc3Q6ZSxpbml0aWFsT3B0aW9uczp0fT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRJbmZvKCk7cmV0dXJuIGU/LndvcmtzcGFjZXx8ZT8uaG9tZXx8dD8ud29ya3NwYWNlfHx0Py5ob21lLGU/LndvcmtzcGFjZT9lPy53b3Jrc3BhY2U6ZT8uaG9tZT9lPy5ob21lOnQ/LndvcmtzcGFjZT90Py53b3Jrc3BhY2U6dD8uaG9tZT90Py5ob21lOnZvaWQgMH0oKTtyZXR1cm4gWT17Li4udCwuLi5lfSxZfXZhciBlZTshZnVuY3Rpb24oZSl7ZS5DdXJyZW50V29ya3NwYWNlSWQ9XCJjdXJyZW50V29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIixlLkRvY2tQb3NpdGlvbj1cIkRvY2tQb3NpdGlvblwifShlZXx8KGVlPXt9KSk7Y29uc3QgdGU9ZWUsYWU9KGUsdCk9Pntsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtXfS0ke2V9YCx0KX0sbmU9ZT0+bG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7V30tJHtlfWApO3ZhciBvZTshZnVuY3Rpb24oZSl7ZS5MYXVuY2hBcHA9XCJsYXVuY2hBcHBcIixlLlNhdmVQYWdlPVwic2F2ZVBhZ2VcIixlLkdldFNhdmVkUGFnZT1cImdldFNhdmVkUGFnZVwiLGUuQ3JlYXRlU2F2ZWRQYWdlPVwiY3JlYXRlU2F2ZWRQYWdlXCIsZS5VcGRhdGVTYXZlZFBhZ2U9XCJ1cGRhdGVTYXZlZFBhZ2VcIixlLkRlbGV0ZVNhdmVkUGFnZT1cImRlbGV0ZVNhdmVkUGFnZVwiLGUuR2V0U2F2ZWRQYWdlcz1cImdldFNhdmVkUGFnZXNcIixlLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsPVwiY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsPVwidXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsPVwiZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlNoYXJlUGFnZT1cInNoYXJlUGFnZVwiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZVBhZ2VGb3JXaW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hQYWdlc1RvV2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2hQYWdlc0Zyb21XaW5kb3dcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXJQYWdlc0ZvcldpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZT1cInNldEFjdGl2ZVBhZ2VcIixlLkdldEFsbEF0dGFjaGVkUGFnZXM9XCJnZXRBbGxBdHRhY2hlZFBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3c9XCJnZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3dcIixlLkdldFBhZ2VzRm9yV2luZG93PVwiZ2V0UGFnZXNGb3JXaW5kb3dcIixlLkdldFBhZ2VGb3JXaW5kb3c9XCJnZXRQYWdlRm9yV2luZG93XCIsZS5HZXRTYXZlZFBhZ2VNZXRhZGF0YT1cImdldFNhdmVkUGFnZU1ldGFkYXRhXCIsZS5HZXRVbmlxdWVQYWdlVGl0bGU9XCJnZXRVbmlxdWVQYWdlVGl0bGVcIixlLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuR2V0VGhlbWVzPVwiZ2V0VGhlbWVzXCIsZS5PcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPVwib3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsXCIsZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbD1cImludm9rZUN1c3RvbUFjdGlvbkludGVybmFsXCIsZS5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9XCJyZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWxcIixlLkdldFNhdmVkV29ya3NwYWNlPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VcIixlLkNyZWF0ZVNhdmVkV29ya3NwYWNlPVwiY3JlYXRlU2F2ZWRXb3Jrc3BhY2VcIixlLlVwZGF0ZVNhdmVkV29ya3NwYWNlPVwidXBkYXRlU2F2ZWRXb3Jrc3BhY2VcIixlLkRlbGV0ZVNhdmVkV29ya3NwYWNlPVwiZGVsZXRlU2F2ZWRXb3Jrc3BhY2VcIixlLkdldFNhdmVkV29ya3NwYWNlcz1cImdldFNhdmVkV29ya3NwYWNlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cInNhdmVXb3Jrc3BhY2VcIixlLkdldEN1cnJlbnRXb3Jrc3BhY2U9XCJnZXRDdXJyZW50V29ya3NwYWNlXCIsZS5BcHBseVdvcmtzcGFjZT1cImFwcGx5V29ya3NwYWNlXCIsZS5TZXRBY3RpdmVXb3Jrc3BhY2U9XCJzZXRBY3RpdmVXb3Jrc3BhY2VcIixlLklzQnJvd3NlckluaXRpYWxpemVkPVwiaXNCcm93c2VySW5pdGlhbGl6ZWRcIn0ob2V8fChvZT17fSkpO2NvbnN0IHJlPWFzeW5jIGU9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRDbGllbnQoKSxpZT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCByZShlKSxhPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG47dHJ5e249YXdhaXQgdC5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCEwIT09bj8uaXNXb3Jrc3BhY2VQbGF0Zm9ybSl0aHJvdyBuZXcgRXJyb3IoYSk7cmV0dXJuIG59LHNlPWFzeW5jIGU9Pihhd2FpdCBpZShlKSxyZShlKSksY2U9YXN5bmMgZT0+e2lmKCEwIT09KGF3YWl0IGllKGUpKT8uaXNCcm93c2VySW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGlzIG5vdCBhIEJyb3dzZXItZW5hYmxlZCBXb3Jrc3BhY2UgUGxhdGZvcm0uXCIpO3JldHVybiByZShlKX0sZGU9KGUsdCk9PiF0LmZpbmQoKHQ9PnQ9PT1lKSkscGU9KGUsdCk9PmAke2V9ICgke3R9KWAsbGU9KGUsdCk9PntsZXQgYT0xO2NvbnN0IG49ZS5yZXBsYWNlKC8gXFwoLitcXCkkLyxcIlwiKTtmb3IoOyFkZShwZShuLGEpLHQpOylhKz0xO3JldHVybiBwZShuLGEpfTthc3luYyBmdW5jdGlvbiB1ZShlKXt0cnl7Y29uc3QgdD1GdCgpO2F3YWl0IHQuYXBwbHlTbmFwc2hvdChlLnNuYXBzaG90LHtjbG9zZUV4aXN0aW5nV2luZG93czohMH0pLHdlKGUpfWNhdGNoKGUpe319ZnVuY3Rpb24gd2UoZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTthZSh0ZS5DdXJyZW50V29ya3NwYWNlSWQsdCl9Y2F0Y2goZSl7fX1hc3luYyBmdW5jdGlvbiBmZSgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2UpcmV0dXJuO2NvbnN0IGU9RnQoKSx0PWF3YWl0IGUuZ2V0U25hcHNob3QoKTtyZXR1cm57d29ya3NwYWNlSWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSx0aXRsZTphd2FpdCBoZSgpLG1ldGFkYXRhOntBUElWZXJzaW9uOlR9LHNuYXBzaG90OnR9fWFzeW5jIGZ1bmN0aW9uIGdlKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZSlyZXR1cm47Y29uc3QgZT1uZSh0ZS5DdXJyZW50V29ya3NwYWNlSWQpO2lmKCFlKXJldHVybiBmZSgpO2NvbnN0IHQ9SlNPTi5wYXJzZShlKSxhPUZ0KCksbj1hd2FpdCBhLmdldFNuYXBzaG90KCk7cmV0dXJuey4uLnQsbWV0YWRhdGE6e0FQSVZlcnNpb246VH0sc25hcHNob3Q6bn19Y29uc3QgeWU9YXN5bmMgZT0+YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZSxlKSkoZS53b3Jrc3BhY2VJZCk/KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2VJZDplLndvcmtzcGFjZUlkLHdvcmtzcGFjZTplfSk6KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2U6ZX0pO2FzeW5jIGZ1bmN0aW9uIGhlKGU9XCJVbnRpdGxlZCBXb3Jrc3BhY2VcIil7Y29uc3QgdD0oYXdhaXQoYXN5bmMoKT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZXMsdm9pZCAwKSkoKSkubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiB0LmZpbmQoKHQ9PnQ9PT1lKSk/bGUoZSx0KTplfWFzeW5jIGZ1bmN0aW9uIG1lKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgZT1uZSh0ZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3cpO2lmKCFlKXJldHVybjtjb25zdCB0PUpTT04ucGFyc2UoZSk7aWYoYXdhaXQgSyh0KSlyZXR1cm4gdH1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiAke2V9YCl9fWZ1bmN0aW9uIHZlKGU9ZmluLm1lLmlkZW50aXR5KXtIKGUubmFtZSkmJmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7YWUodGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHQpfWNhdGNoKGUpe319KGUpfWNvbnN0IFNlPShlLHQ9MCk9PntsZXQgYSxuLG89ITE7Y29uc3Qgcj1hc3luYyBuPT57Y29uc3QgaT1hd2FpdCBlKC4uLm4pO2lmKG8pe2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsdCkpKTtjb25zdCBlPWE7cmV0dXJuIGE9dm9pZCAwLG89ITEscihlKX1yZXR1cm4gaX07cmV0dXJuKC4uLmUpPT4obj8obz0hMCxhPWUpOm49cihlKS5jYXRjaCgoZT0+e3Rocm93IGV9KSkuZmluYWxseSgoKCk9PntuPXZvaWQgMH0pKSxuKX07dmFyIFBlOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0oUGV8fChQZT17fSkpO2NvbnN0IGJlPShlLHQpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKChlPT5iZShlLHQpKSl9OnsuLi5lLGNvbXBvbmVudFN0YXRlOnQoZS5jb21wb25lbnRTdGF0ZSl9LGtlPWU9Pih7Li4uZSxuYW1lOmUubmFtZT9lLm5hbWU6Y3J5cHRvLnJhbmRvbVVVSUQoKX0pLFdlPWU9Pntjb25zdCB0PVtdO3JldHVybihlJiZBcnJheS5pc0FycmF5KGUpP2U6W10pLmZvckVhY2goKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiB0LnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgYT1XZShlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fSxDZT1hc3luYyhlLHQsYT1HKT0+e2xldCBuO2lmKEgoYS5uYW1lKSl7bj0oYXdhaXQgRihhKS5nZXRPcHRpb25zKCkpLmxheW91dHx8e3NldHRpbmdzOnt9fX1yZXR1cm57Li4ubixjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOnt0aXRsZTplLHVybDp0fX1dfV19fTtuZXcgTWFwO2Z1bmN0aW9uIEllKGUsdCl7cmV0dXJuIGFzeW5jKGEsLi4ubik9PntlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpLHQmJmF3YWl0IHQoe2V2ZW50OmEscGF5bG9hZDpufSl9fWZ1bmN0aW9uIEFlKGUsdCl7cmV0dXJuIHQmJnQoKHQ9Pntjb25zdHtldmVudDphLHBheWxvYWQ6bn09dDtlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpfSkpLCh0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCksZS5nZXQodCkuYWRkKGEpfX1mdW5jdGlvbiBNZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpO2NvbnN0IG49ZS5nZXQodCksbz0oLi4uZSk9PnthKC4uLmUpLG4uZGVsZXRlKG8pfTtuLmFkZChvKX19ZnVuY3Rpb24gT2UoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KSYmZS5nZXQodCkuZGVsZXRlKGEpfX1jb25zdCBUZT1QJiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBFZShlKXtsZXQgdDtyZXR1cm4oKT0+e2lmKCFTKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IFRlO2NvbnN0IGE9e2NsaWVudEFQSVZlcnNpb246VH0sbj1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDphfSk7cmV0dXJuIG4ub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57dD12b2lkIDB9KSksbn0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19Y29uc3QgQmU9ZT0+YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCx4ZT1uZXcgTWFwLFJlPWU9Pntjb25zdCB0PUJlKGUpO3JldHVybiB4ZS5oYXModCl8fHhlLnNldCh0LEVlKHQpKSx4ZS5nZXQodCkoKX07dmFyIF9lLExlOyFmdW5jdGlvbihlKXtlLkNsb3NlQnJvd3NlcldpbmRvdz1cImNsb3NlLWJyb3dzZXItd2luZG93XCIsZS5RdWl0UGxhdGZvcm09XCJxdWl0LXBsYXRmb3JtXCIsZS5DbG9zZVBhZ2U9XCJjbG9zZS1wYWdlXCIsZS5BZGRUb0NoYW5uZWw9XCJhZGQtdG8tY2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJyZW1vdmUtZnJvbS1jaGFubmVsXCIsZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWw9XCJvcGVuLXNhdmUtbW9kYWwtaW50ZXJuYWxcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwifShfZXx8KF9lPXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRQYWdlcz1cImdldC1wYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cImdldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoLXBhZ2VzLWZyb20td2luZG93XCIsZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93PVwic2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLlJlbmFtZVBhZ2U9XCJyZW5hbWUtcGFnZVwiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlci1wYWdlcy1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zPVwidXBkYXRlLXBhZ2VzLXdpbmRvdy1vcHRpb25zXCIsZS5Jc0RldGFjaGluZ1BhZ2VzPVwiaXMtZGV0YWNoaW5nLXBhZ2VzXCIsZS5Jc0FjdGl2ZVBhZ2VDaGFuZ2luZz1cImlzLWFjdGl2ZS1wYWdlLWNoYW5naW5nXCJ9KExlfHwoTGU9e30pKTtjb25zdCBWZT17Li4uX2UsLi4uTGV9O3ZhciBEZTshZnVuY3Rpb24oZSl7ZS5BdHRhY2hlZFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hlZC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaGVkUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoZWQtcGFnZXMtZnJvbS13aW5kb3dcIn0oRGV8fChEZT17fSkpO25ldyBNYXA7Y29uc3QgVWU9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgUmUoZSk7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goVmUuR2V0UGFnZXMpfSxGZT1hc3luYyBlPT4oYXdhaXQgUmUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFZlLlVwZGF0ZVBhZ2VGb3JXaW5kb3csZSksR2U9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgcSgpO3JldHVybihhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMoe2lkZW50aXR5OmV9KT0+VWUoZSkpKSkpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQpKSxbXSl9LCRlPWFzeW5jKCk9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlcyx2b2lkIDApLE5lPWFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlLGUpLGplPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pihhd2FpdCBHZSgpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSkoZSk7cmV0dXJuIWF8fGEudGl0bGU9PT10LnRpdGxlJiZlPT09dC5wYWdlSWR8fGF3YWl0IEZlKHtpZGVudGl0eTphLnBhcmVudElkZW50aXR5LHBhZ2VJZDplLHBhZ2U6e3BhZ2VJZDp0LnBhZ2VJZCx0aXRsZTp0LnRpdGxlfX0pLGF9LEhlPWFzeW5jKHtwYWdlOmV9KT0+e2F3YWl0IGplKGUucGFnZUlkLGUpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuQ3JlYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZTplfSl9LHFlPWFzeW5jIGU9Pnthd2FpdCBOZShlKSYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5EZWxldGVTYXZlZFBhZ2UsZSkpKGUpfSxLZT1hc3luYyh7cGFnZUlkOmUscGFnZTp0fSk9Pnthd2FpdCBqZShlLHQpO3JldHVybiBhd2FpdChhc3luYyBlPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLlVwZGF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2VJZDplLHBhZ2U6dH0pfSxRZT1hc3luYyBlPT5hd2FpdCBOZShlLnBhZ2VJZCk/S2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOmV9KTpIZSh7cGFnZTplfSksemU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuQXR0YWNoUGFnZXNUb1dpbmRvdyxlKSkoZSl9LEplPWFzeW5jIGU9Pnthd2FpdCBGZShlKX0sWGU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuRGV0YWNoUGFnZXNGcm9tV2luZG93LGUpKShlKX0sWWU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdyxlKSkoZSl9LFplPWU9PlVlKGUpLGV0PWFzeW5jKHtpZGVudGl0eTplLHBhZ2VJZDp0fSk9Pihhd2FpdCBaZShlKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSksdHQ9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuUmVvcmRlclBhZ2VzRm9yV2luZG93LGUpKShlKX07YXN5bmMgZnVuY3Rpb24gYXQoZT1cIlVudGl0bGVkIFBhZ2VcIil7Y29uc3RbdCxhXT1hd2FpdCBQcm9taXNlLmFsbChbJGUoKSxHZSgpXSksbj1bLi4udCwuLi5hXS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIG4uZmluZCgodD0+dD09PWUpKT9sZShlLG4pOmV9Y29uc3QgbnQ9bmV3IE1hcCxvdD1lPT5gJHtlLnV1aWR9LSR7ZS5uYW1lfWA7Y29uc3QgcnQ9U2UoKGFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9W107dHJ5e2U9YXdhaXQgR2UoKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBudC5mb3JFYWNoKCgoZSx0KT0+e2NsZWFyVGltZW91dChlKSxudC5kZWxldGUodCl9KSl9Y29uc3QgdD1uZXcgU2V0O2UuZm9yRWFjaCgoZT0+e1dlKGUubGF5b3V0LmNvbnRlbnQpLmZvckVhY2goKGU9PntpZihlLm5hbWUpe2NvbnN0IGE9b3QoZSk7dC5hZGQoYSl9fSkpfSkpO2NvbnN0IGE9JCgpOyhhd2FpdCBhLmdldEN1cnJlbnRWaWV3cygpKS5mb3JFYWNoKCgoe2lkZW50aXR5OmV9KT0+e2NvbnN0IGE9b3QoZSk7aWYodC5oYXMoYSl8fG50LmhhcyhhKSlyZXR1cm47Y29uc3Qgbj1zZXRUaW1lb3V0KCgoKT0+e2Zpbi5WaWV3LndyYXBTeW5jKGUpLmRlc3Ryb3koKSxudC5kZWxldGUoYSl9KSw1ZTMpO250LnNldChhLG4pfSkpLG50LmZvckVhY2goKChlLGEpPT57dC5oYXMoYSkmJihjbGVhclRpbWVvdXQoZSksbnQuZGVsZXRlKGEpKX0pKX0pLDI1MDApLGl0PSh7bmFtZTplfSk9PntlJiZIKGUpJiZydCgpLmNhdGNoKCgoKT0+e30pKX07bGV0IHN0PXt9O2NvbnN0IGN0PSh7YWN0aW9uSWQ6ZSxwYXlsb2FkOnR9KT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN0W2VdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBjb25maWd1cmVkIGZ1bmN0aW9uIGZvciB0aGUgYWN0aW9uICcke2V9J2ApO3JldHVybiBzdFtlXSh0KX07ZnVuY3Rpb24gZHQoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGUuTWFjaGluZU5hbWUpfWxldCBwdDthc3luYyBmdW5jdGlvbiBsdCgpe3JldHVybiBwdHx8KHB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TWFjaGluZUlkKCkpLHB0fWNvbnN0IHV0PWU9PntpZihlLmxheW91dCYmQXJyYXkuaXNBcnJheShlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcykpe2NvbnN0IHQ9ZS53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcy5maW5kKChlPT5lLmlzQWN0aXZlKSk7aWYodClpZih0LmlzTG9ja2VkKXtjb25zdCBhPSgoZSx0KT0+e2NvbnN0IGE9V2UodC5jb250ZW50KTtyZXR1cm57Li4uYmUoZSwoZT0+e2NvbnN0IHQ9YS5maW5kKCh0PT50Lm5hbWU9PT1lLm5hbWUmJnQudXVpZD09PWUudXVpZCkpLG49dD90LmlzQ2xvc2FibGU6ZS5pc0Nsb3NhYmxlO3JldHVybnsuLi5lLGlzQ2xvc2FibGU6bn19KSksc2V0dGluZ3M6dC5zZXR0aW5nc319KShlLmxheW91dCx0LmxheW91dCk7dC5sYXlvdXQ9YSxlLmxheW91dD1hfWVsc2UgdC5sYXlvdXQ9ZS5sYXlvdXR9cmV0dXJuIGV9O2FzeW5jIGZ1bmN0aW9uIHd0KGUpe2NvbnN0IHQ9ZXx8YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuZ2V0U25hcHNob3QoKTtpZih0LnNuYXBzaG90RGV0YWlscz8ubWFjaGluZUlkKXJldHVybiB0O2NvbnN0IGE9ZHQoKTtyZXR1cm57Li4udCxzbmFwc2hvdERldGFpbHM6ey4uLmUuc25hcHNob3REZXRhaWxzLG1hY2hpbmVJZDphd2FpdCBsdCgpLG1hY2hpbmVOYW1lOmF9fX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LGEpPT57ZS5vbmNvbXBsZXRlPWUub25zdWNjZXNzPSgpPT50KGUucmVzdWx0KSxlLm9uYWJvcnQ9ZS5vbmVycm9yPSgpPT5hKGUuZXJyb3IpfSkpfWZ1bmN0aW9uIGd0KGUsdCl7Y29uc3QgYT1pbmRleGVkREIub3BlbihlKTthLm9udXBncmFkZW5lZWRlZD0oKT0+YS5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUodCk7Y29uc3Qgbj1mdChhKTtyZXR1cm4oZSxhKT0+bi50aGVuKChuPT5hKG4udHJhbnNhY3Rpb24odCxlKS5vYmplY3RTdG9yZSh0KSkpKX1sZXQgeXQ7ZnVuY3Rpb24gaHQoKXtyZXR1cm4geXR8fCh5dD1ndChcImtleXZhbC1zdG9yZVwiLFwia2V5dmFsXCIpKSx5dH1mdW5jdGlvbiBtdChlLHQ9aHQoKSl7cmV0dXJuIHQoXCJyZWFkb25seVwiLCh0PT5mdCh0LmdldChlKSkpKX1mdW5jdGlvbiB2dChlLHQsYT1odCgpKXtyZXR1cm4gYShcInJlYWR3cml0ZVwiLChhPT4oYS5wdXQodCxlKSxmdChhLnRyYW5zYWN0aW9uKSkpKX1mdW5jdGlvbiBTdChlLHQ9aHQoKSl7cmV0dXJuIHQoXCJyZWFkd3JpdGVcIiwodD0+KHQuZGVsZXRlKGUpLGZ0KHQudHJhbnNhY3Rpb24pKSkpfWZ1bmN0aW9uIFB0KGUsdCl7cmV0dXJuIGUub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMucmVzdWx0JiYodCh0aGlzLnJlc3VsdCksdGhpcy5yZXN1bHQuY29udGludWUoKSl9LGZ0KGUudHJhbnNhY3Rpb24pfWZ1bmN0aW9uIGJ0KGU9aHQoKSl7cmV0dXJuIGUoXCJyZWFkb25seVwiLChlPT57aWYoZS5nZXRBbGxLZXlzKXJldHVybiBmdChlLmdldEFsbEtleXMoKSk7Y29uc3QgdD1bXTtyZXR1cm4gUHQoZSwoZT0+dC5wdXNoKGUua2V5KSkpLnRoZW4oKCgpPT50KSl9KSl9Y29uc3Qga3Q9KGUsdD1cIlwiKT0+ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSksV3Q9YiYmZ3QoXCJvcGVuZmluLWhvbWUtcGFnZXNcIixcInBhZ2VzXCIpO2FzeW5jIGZ1bmN0aW9uIEN0KGUpe2NvbnN0IHQ9YXdhaXQgbXQoZSxXdCk7cmV0dXJuIHQ/KHQucGFnZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQucGFnZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gSXQoZSl7Y29uc3QgdD1hd2FpdCBidChXdCksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+Q3QoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+a3QodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gQXQoe3BhZ2U6ZX0pe2F3YWl0IHZ0KGUucGFnZUlkLGUsV3QpfWFzeW5jIGZ1bmN0aW9uIE10KGUpe2F3YWl0IFN0KGUsV3QpfWFzeW5jIGZ1bmN0aW9uIE90KHtwYWdlSWQ6ZSxwYWdlOnR9KXtpZih2b2lkIDA9PT1hd2FpdCBDdChlKSl0aHJvdyBuZXcgRXJyb3IoXCJwYWdlIG5vdCBmb3VuZFwiKTthd2FpdCBBdCh7cGFnZTp0fSksZSE9PXQucGFnZUlkJiZhd2FpdCBNdChlKX12YXIgVHQ7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0oVHR8fChUdD17fSkpO2NvbnN0IEV0PXt0eXBlOlR0LlNlcGFyYXRvcixkYXRhOnZvaWQgMH07dmFyIEJ0OyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyUHJvdmlkZXI9XCJyZWdpc3Rlci1wcm92aWRlclwiLGUuRGVyZWdpc3RlclByb3ZpZGVyPVwiZGVyZWdpc3Rlci1wcm92aWRlclwiLGUuQ3JlYXRlUHJvdmlkZXJXaW5kb3c9XCJjcmVhdGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRQcm92aWRlcnM9XCJnZXQtcHJvdmlkZXJzXCIsZS5TaG93UHJvdmlkZXJXaW5kb3c9XCJzaG93LXByb3ZpZGVyLXdpbmRvd1wiLGUuSGlkZVByb3ZpZGVyV2luZG93PVwiaGlkZS1wcm92aWRlci13aW5kb3dcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93SG9tZT1cInNob3ctaG9tZVwiLGUuSGlkZUhvbWU9XCJoaWRlLWhvbWVcIixlLkFzc2lnbkhvbWVTZWFyY2hDb250ZXh0PVwiYXNzaWduLWhvbWUtc2VhcmNoLWNvbnRleHRcIixlLkdldExlZ2FjeVBhZ2VzPVwiZ2V0LWxlZ2FjeS1wYWdlc1wiLGUuR2V0TGVnYWN5V29ya3NwYWNlcz1cImdldC1sZWdhY3ktd29ya3NwYWNlc1wiLGUuR2V0Q29tcHV0ZWRQbGF0Zm9ybVRoZW1lPVwiZ2V0LWNvbXB1dGVkLXBsYXRmb3JtLXRoZW1lXCIsZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwifShCdHx8KEJ0PXt9KSk7RWUoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpO2NvbnN0IHh0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgbHQoKSxtYWNoaW5lTmFtZTpkdCgpfX0pKSh0KTtyZXR1cm57cGFnZUlkOmNyeXB0by5yYW5kb21VVUlEKCksdGl0bGU6ZSxsYXlvdXQ6YSxpc1JlYWRPbmx5OiExLGhhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0sUnQ9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldFBhZ2VzRm9yV2luZG93LGUpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5HZXRQYWdlRm9yV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZDp0fSksYWRkUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTt0Py50aXRsZXx8KHQudGl0bGU9YXdhaXQgYS5kaXNwYXRjaChvZS5HZXRVbmlxdWVQYWdlVGl0bGUsdm9pZCAwKSk7Y29uc3Qgbj0oYXdhaXQgYS5kaXNwYXRjaChvZS5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKGU9PmUucGFnZUlkPT09dC5wYWdlSWR8fGUudGl0bGU9PT10LnRpdGxlKSk7aWYobil0aHJvdyBuLnBhZ2VJZD09PXQucGFnZUlkP25ldyBFcnJvcihgcGFnZSB3aXRoIGlkICR7dC5wYWdlSWR9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTpuZXcgRXJyb3IoYHBhZ2Ugd2l0aCB0aXRsZSAke3QudGl0bGV9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTtjb25zdCBvPXtpZGVudGl0eTplLHBhZ2VzOlt0XX07cmV0dXJuIGEuZGlzcGF0Y2gob2UuQXR0YWNoUGFnZXNUb1dpbmRvdyxvKX0scmVtb3ZlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob2UuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG9lLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IGNlKGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCBjZShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuUGFnZVRhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pnthd2FpdCBjZShlKTtyZXR1cm4oYXdhaXQgUmUoZSkpLmRpc3BhdGNoKFZlLk9wZW5TYXZlTW9kYWxJbnRlcm5hbCx0KX0sX29wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG9lLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCx0KX19KTtsZXQgX3Q9ITE7Y29uc3QgTHQ9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybnt3cmFwU3luYzplPT5SdChlKSxjcmVhdGVXaW5kb3c6YXN5bmMgYT0+e2F3YWl0IGNlKGUpLF90fHwoX3Q9ITAsKGFzeW5jIGU9PntKKHouQnJvd3NlcixlKX0pKHthbGxvd2VkOiEwfSkpO2NvbnN0IG49YXdhaXQgdC5jcmVhdGVXaW5kb3coYSk7cmV0dXJuIFJ0KG4uaWRlbnRpdHkpfSxnZXRBbGxBdHRhY2hlZFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApLGdldEFsbFdpbmRvd3M6YXN5bmMoKT0+e2F3YWl0IGNlKGUpO3JldHVybihhd2FpdCBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbHRlcigoZT0+ZS5pZGVudGl0eS5uYW1lLmluY2x1ZGVzKFwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvdy1cIikpKS5tYXAoKGU9PlJ0KGUuaWRlbnRpdHkpKSl9LGdldFVuaXF1ZVBhZ2VUaXRsZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApfX0sVnQ9ZT0+KHtjcmVhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZGVsZXRlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsLHQpLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlLHQpLGdldFBhZ2VzOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlcyx0KSxzYXZlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLlNhdmVQYWdlLHQpLGNyZWF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkNyZWF0ZVNhdmVkV29ya3NwYWNlLHQpLGRlbGV0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkRlbGV0ZVNhdmVkV29ya3NwYWNlLHQpLHVwZGF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlVwZGF0ZVNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkdldFNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZXM6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZXMsdCksc2F2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlNhdmVXb3Jrc3BhY2UsdCl9KSxEdD1lPT4oe2dldFRoZW1lczphc3luYygpPT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkdldFRoZW1lcyx2b2lkIDApfSksVXQ9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybiBPYmplY3QuYXNzaWduKHQse2FwcGx5U25hcHNob3Q6YXN5bmModCxhKT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYhdD8ud2luZG93cyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBicm93c2VyIHNuYXBzaG90XCIpO3JldHVybiBmaW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuYXBwbHlTbmFwc2hvdCh0LGEpfSxnZXRTbmFwc2hvdDooKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFNuYXBzaG90KCkudGhlbigoZT0+ZSkpLGxhdW5jaEFwcDphc3luYyB0PT57dC50YXJnZXR8fCh0LnRhcmdldD17dXVpZDpXLG5hbWU6QyxlbnRpdHlUeXBlOkl8fFwidW5rbm93blwifSk7cmV0dXJuKGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5MYXVuY2hBcHAsdCl9LF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQgc2UoZSksbz17YWN0aW9uSWQ6dCxwYXlsb2FkOnsuLi5hLGNhbGxlclR5cGU6YS5jYWxsZXJUeXBlfHxoLkFQSX19O3JldHVybiBuLmRpc3BhdGNoKG9lLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsLG8pfSxfcmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZzphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbCx0KSxnZXRDdXJyZW50V29ya3NwYWNlOmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuR2V0Q3VycmVudFdvcmtzcGFjZSx2b2lkIDApLGFwcGx5V29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuQXBwbHlXb3Jrc3BhY2UsdCksc2V0QWN0aXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuU2V0QWN0aXZlV29ya3NwYWNlLHQpLFRoZW1lOkR0KGUpLEJyb3dzZXI6THQoZSksU3RvcmFnZTpWdChlKX0pfSxGdD0oKT0+VXQoZmluLm1lLmlkZW50aXR5KSxHdD1hc3luYyhlPUcpPT57Y29uc3R7d29ya3NwYWNlUGxhdGZvcm06dH09YXdhaXQgRihlKS5nZXRPcHRpb25zKCksYT10Py5uZXdQYWdlVXJsLG49dD8ubmV3VGFiVXJsO3JldHVybntuZXdQYWdlVXJsOmEsbmV3VGFiVXJsOm59fSwkdD1hc3luYyhlPUcpPT57Y29uc3QgdD1hd2FpdCBGdCgpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKFwiVW50aXRsZWQgUGFnZVwiKSxhPWF3YWl0KGFzeW5jKGU9Ryk9Pntjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IEd0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7cmV0dXJuIENlKFwiTmV3IFRhYlwiLHQsZSl9KShlKTtyZXR1cm4geHQodCxhKX0sTnQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJDbG9zZSBXaW5kb3dcIixkYXRhOnt0eXBlOnUuQ2xvc2VXaW5kb3d9fSxqdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIk9wZW4gU3RvcmVmcm9udFwiLGRhdGE6e3R5cGU6dS5PcGVuU3RvcmVmcm9udH19LEh0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiUXVpdCBQbGF0Zm9ybVwiLGRhdGE6e3R5cGU6dS5RdWl0fX0scXQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJOZXcgV2luZG93XCIsZGF0YTp7dHlwZTp1Lk5ld1dpbmRvd319LEt0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlXCIsZGF0YTp7dHlwZTp1LlNhdmVQYWdlfX0sUXQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXMuLi5cIixkYXRhOnt0eXBlOnUuU2F2ZVBhZ2VBc319LHp0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiUmVzdG9yZSB0byBMYXN0IFNhdmVkIENoYW5nZXNcIixkYXRhOnt0eXBlOnUuUmVzdG9yZUNoYW5nZXN9fSxKdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTp1LlNhdmVXb3Jrc3BhY2V9fSxYdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzLi4uXCIsZGF0YTp7dHlwZTp1LlNhdmVXb3Jrc3BhY2VBc319LFl0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiUmVuYW1lIFdvcmtzcGFjZVwiLGRhdGE6e3R5cGU6dS5SZW5hbWVXb3Jrc3BhY2V9fSxadD1cIlN3aXRjaCBXb3Jrc3BhY2VcIixlYT1cIkRlbGV0ZSBXb3Jrc3BhY2VcIix0YT1bTnQsRXQsanQsRXQsSHRdLGFhPVtFdCxOdCxFdCxIdF0sbmE9KGUsdCxhKT0+dC5tYXAoKHQ9Pntjb25zdCBuPXQud29ya3NwYWNlSWQ9PT1lLndvcmtzcGFjZUlkO3JldHVybntsYWJlbDp0LnRpdGxlLHR5cGU6VHQuQ2hlY2tib3gsZW5hYmxlZDohbixjaGVja2VkOm4sZGF0YTp7dHlwZTphLHdvcmtzcGFjZUlkOnQud29ya3NwYWNlSWR9fX0pKSxvYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBRKCkse25ld1BhZ2VVcmw6YX09YXdhaXQgR3QoZSksbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1GKGUpLHt3b3Jrc3BhY2VQbGF0Zm9ybTphfT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYT8uZGlzYWJsZU11bHRpcGxlUGFnZXN9KShlKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUYoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5pc0xvY2tlZH0pKGUpLHI9W107dmFyIGk7YSYmKHIucHVzaChxdCksbnx8ci5wdXNoKChpPSFvLHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiTmV3IFBhZ2VcIixkYXRhOnt0eXBlOnUuTmV3UGFnZX0sZW5hYmxlZDppfSkpKSxyLnB1c2goRXQpO2NvbnN0IHM9RnQoKSxjPWF3YWl0IHMuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLGQ9YXdhaXQgcy5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxwPWQuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PWMud29ya3NwYWNlSWQpKTtyZXR1cm4gcD9yLnB1c2goenQpOnIucHVzaCh7bGFiZWw6enQubGFiZWwsZW5hYmxlZDohMX0pLHIucHVzaChKdCxYdCkscD9yLnB1c2goWXQpOnIucHVzaCh7bGFiZWw6WXQubGFiZWwsZW5hYmxlZDohMX0pLGQuc29tZSgoZT0+ZS53b3Jrc3BhY2VJZCE9PWMud29ya3NwYWNlSWQpKT9yLnB1c2goe2xhYmVsOlp0LHN1Ym1lbnU6bmEoYyxkLHUuU3dpdGNoV29ya3NwYWNlKX0se2xhYmVsOmVhLHN1Ym1lbnU6bmEoYyxkLHUuRGVsZXRlV29ya3NwYWNlKX0pOnIucHVzaCh7bGFiZWw6WnQsZW5hYmxlZDohMX0se2xhYmVsOmVhLGVuYWJsZWQ6ITF9KSxyLnB1c2goRXQsS3QsUXQpLHQ/Wy4uLnIsLi4udGFdOlsuLi5yLC4uLmFhXX07bGV0IHJhPVwiUGxhdGZvcm1cIjtjb25zdCBpYT1hc3luYygpPT5yYTt2YXIgc2EsY2EsZGE7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lL1wiLGUuSG9tZVNlYXJjaD1cIi9ob21lLz9kZWVwbGluaz1zZWFyY2hcIixlLkhvbWVQYWdlc1JlbmFtZT1cIi9ob21lL3BhZ2VzL3JlbmFtZS9cIixlLkRvY2s9XCIvZG9jay9cIixlLkJyb3dzZXJQYWdlc0xhbmRpbmc9XCIvYnJvd3Nlci9wYWdlcy9sYW5kaW5nL1wiLGUuSG9tZUluZGljYXRvcj1cIi9ob21lL2luZGljYXRvci9cIixlLkJyb3dzZXI9XCIvYnJvd3Nlci9cIixlLkJyb3dzZXJQb3B1cE1lbnU9XCIvYnJvd3Nlci9wb3B1cC1tZW51L1wiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2hhcmVQYWdlPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9zaGFyZS1wYWdlL1wiLGUuQnJvd3NlclBvcHVwTWVudVNhdmVNb2RhbD1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2F2ZS1tb2RhbC9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9sYXlvdXRzL2xheW91dHMvXCIsZS5Ccm93c2VyUG9wdXBNZW51Q29sb3JMaW5raW5nPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9jb2xvci1saW5raW5nL2NvbG9yLWxpbmtpbmcvXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwiL2Jyb3dzZXIvaW5kaWNhdG9yL1wiLGUuUmVzcG9uc2VNb2RhbD1cIi9icm93c2VyL3BvcHVwLW1lbnUvcmVzcG9uc2UtbW9kYWwvXCIsZS5Eb2NzPVwiL3Byb3ZpZGVyL2RvY3MvXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnQvXCIsZS5EZXByZWNhdGVkQWxlcnQ9XCIvcHJvdmlkZXIvZGVwcmVjYXRlZC1hbGVydC9cIn0oc2F8fChzYT17fSkpLGZ1bmN0aW9uKGUpe2UuSWNvbk9wZW5GaW5Mb2dvPVwiL2ljb25zL29wZW5maW5sb2dvLnN2Z1wiLGUuSWNvbkZpbHRlcj1cIi9pY29ucy9maWx0ZXIuc3ZnXCJ9KGNhfHwoY2E9e30pKSxmdW5jdGlvbihlKXtlLlNlYXJjaD1cInNlYXJjaFwifShkYXx8KGRhPXt9KSk7Y29uc3QgcGE9ey4uLmNhLC4uLnNhfTt2YXIgbGE7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnRcIixlLkRvY2s9XCIvZG9ja1wifShsYXx8KGxhPXt9KSk7Y29uc3QgdWE9XCIvd29ya3NwYWNlLzkuMC4xMVwiO2Z1bmN0aW9uIHdhKCl7cmV0dXJuIHVhLnN1YnN0cmluZygwLHVhLmxlbmd0aC1cIlwiLmxlbmd0aCl9ZnVuY3Rpb24gZmEoZSl7aWYoIVApdGhyb3cgbmV3IEVycm9yKFwiZ2V0QWJzb2x1dGVSb3V0ZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm4gZnVuY3Rpb24oKXtpZighd2luZG93KXRocm93IG5ldyBFcnJvcihcImdldEFic29sdXRlQmFzZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm5gJHt3aW5kb3cub3JpZ2lufSR7d2EoKX1gfSgpK2V9Y29uc3QgZ2E9e25hbWU6Vi5Ccm93c2VyTWVudSxhbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsYmFja2dyb3VuZENvbG9yOlwiIzJmMzEzNlwiLHNtYWxsV2luZG93OiEwLHNob3dUYXNrYmFySWNvbjohMSxiYWNrZ3JvdW5kVGhyb3R0bGluZzohMH07ZnVuY3Rpb24geWEoZSl7Y29uc3QgdD17Li4uZ2EsLi4uZX07cmV0dXJuIHQudXJsPWZ1bmN0aW9uKGUpe2lmKCFQKXRocm93IG5ldyBFcnJvcihcInJlc29sdmVBYnNvbHV0ZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm4gZS5zdGFydHNXaXRoKFwiaHR0cFwiKT9lOmAke3dpbmRvdy5vcmlnaW59JHtlfWB9KHQudXJsKSx0fXZhciBoYSxtYTshZnVuY3Rpb24oZSl7ZS5VcGRhdGU9XCJ1cGRhdGVcIixlLlJlc3BvbnNlPVwicmVzcG9uc2VcIn0oaGF8fChoYT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2FuY2VsZWQ9XCJjYW5jZWxlZFwiLGUuTmVnYXRpdmU9XCJuZWdhdGl2ZVwiLGUuQWZmaXJtYXRpdmU9XCJhZmZpcm1hdGl2ZVwifShtYXx8KG1hPXt9KSk7Y29uc3QgdmE9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybntlbWl0OkllKHQsKHQ9PlMmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goZSx0KSkpLGFkZExpc3RlbmVyOkFlKHQsKHQ9PlMmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSx0KSkpLHJlbW92ZUxpc3RlbmVyOk9lKHQpLG9uY2U6TWUodCl9fShcIndpbmRvdy5tZW51XCIpLFNhPWU9PnZhLmVtaXQoaGEuUmVzcG9uc2UsZSksUGE9U2UoKCgpPT5MKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLDUwMCk7Y29uc3QgYmE9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBrYSh7b3B0aW9uczplLHBhcmFtZXRlcnM6dH0sYSl7Y29uc3Qgbj15YShlKSx7bmFtZTpvfT1uO2xldCByPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCBQYSgpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lKSl9KG8pO3JldHVybiByfHwocj1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtjb25zdCB0PXlhKGUpO2lmKCFiYS5oYXModC5uYW1lKSl7Y29uc3QgZT0oYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KHQpO3JldHVybiBlLm9uY2UoXCJjbG9zZWRcIiwoKCk9PntiYS5kZWxldGUodC5uYW1lKX0pKSxlfSkoKTtiYS5zZXQodC5uYW1lLGUpfXJldHVybiBiYS5nZXQodC5uYW1lKX0obikpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT15YShlKSx7dG9wOm4sbGVmdDpvLGRlZmF1bHRXaWR0aDpyLGRlZmF1bHRIZWlnaHQ6aX09YSxzPXt0b3A6bixsZWZ0Om8sd2lkdGg6cixoZWlnaHQ6aX0sYz17cGFyZW50TmFtZTpmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHkubmFtZX07Zm9yKGNvbnN0W2UsYV1vZiBPYmplY3QuZW50cmllcyhjKSl0LnNldChlLGEpO2NvbnN0IGQ9dC50b1N0cmluZygpLHA9YCR7YS51cmx9PyR7ZH1gO3ZhLmVtaXQoaGEuVXBkYXRlLGEubmFtZSxzLHApLGF3YWl0IFNhKHtuYW1lOmEubmFtZSxkYXRhOm1hLkNhbmNlbGVkfSl9KGUsdHx8bmV3IFVSTFNlYXJjaFBhcmFtcyksYSYmci5jZW50ZXIoKSxyfWNvbnN0IFdhPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49dD9GKHQpOiQoKTtpZighYSl7YXdhaXQoYXN5bmMoZT1maW4ubWUuaWRlbnRpdHkpPT57Y29uc3QgdD1GKGUpLGE9YXdhaXQgdC5nZXRCb3VuZHMoKTsoYS5yaWdodD5zY3JlZW4uYXZhaWxMZWZ0K3NjcmVlbi53aWR0aHx8YS5sZWZ0PHNjcmVlbi5hdmFpbExlZnR8fGEuYm90dG9tPnNjcmVlbi5hdmFpbFRvcCtzY3JlZW4uaGVpZ2h0fHxhLnRvcDxzY3JlZW4uYXZhaWxUb3ApJiZhd2FpdCB0LmNlbnRlcigpfSkobi5pZGVudGl0eSk7Y29uc3QgdD0oZT0+KHtsZWZ0OihlLmxlZnQrZS5yaWdodCkvMix0b3A6KGUudG9wK2UuYm90dG9tKS8yfSkpKGF3YWl0IG4uZ2V0Qm91bmRzKCkpLHtkZWZhdWx0SGVpZ2h0OmEsZGVmYXVsdFdpZHRoOm99PWU7cmV0dXJuKChlLHQpPT57Y29uc3R7aGVpZ2h0OmEsd2lkdGg6bn09dCxvPW4vMixyPWEvMjtyZXR1cm57bGVmdDplLmxlZnQtbyx0b3A6ZS50b3Atcn19KSh0LHtoZWlnaHQ6YSx3aWR0aDpvfSl9cmV0dXJuIGF3YWl0IG4uZ2V0Qm91bmRzKCl9LENhPWFzeW5jKHtvcHRpb25zOmUsY29udGVudDp0fSxhKT0+e2NvbnN0IG49bmV3IFVSTFNlYXJjaFBhcmFtcyh7Li4udH0pO3JldHVybiBhd2FpdCBrYSh7b3B0aW9uczplLHBhcmFtZXRlcnM6bn0sYSksbmV3IFByb21pc2UoKHQ9Pnt2YS5vbmNlKGhhLlJlc3BvbnNlLChhPT57YS5uYW1lPT09ZS5uYW1lJiZ0KGEpfSkpfSkpfSxJYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIlN3aXRjaCBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjExMixkZWZhdWx0V2lkdGg6NDI0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6YEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzd2l0Y2ggdG8gJHt0fWAsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlLHQpLG89YXdhaXQgV2EoYSxhLm1vZGFsUGFyZW50SWRlbnRpdHkpLHI9ey4uLmEsdG9wOm8udG9wLGxlZnQ6by5sZWZ0fTtyZXR1cm4oYXdhaXQgQ2Eoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YT09PW1hLkFmZmlybWF0aXZlfSxBYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIkRlbGV0ZSBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjE0NCxkZWZhdWx0V2lkdGg6MzcyLG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoaXMgd29ya3NwYWNlP1wiLGJvZHk6YCR7dH1gLGFmZmlybWF0aXZlQnV0dG9uOlwiQ29uZmlybVwiLG5lZ2F0aXZlQnV0dG9uOlwiQ2FuY2VsXCJ9fSkpKGUsdCksbz1hd2FpdCBXYShhLGEubW9kYWxQYXJlbnRJZGVudGl0eSkscj17Li4uYSx0b3A6by50b3AsbGVmdDpvLmxlZnR9O3JldHVybihhd2FpdCBDYSh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhPT09bWEuQWZmaXJtYXRpdmV9LE1hPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49YT92b2lkIDA6ZSx7d2luZG93T3B0aW9uczpvLGNvbnRlbnQ6cn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIlBsYXRmb3JtIFF1aXRcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDc0LG1vZGFsUGFyZW50SWRlbnRpdHk6dH0sY29udGVudDp7dGl0bGU6YENsb3NlIHRoZSAke1wiUGxhdGZvcm1cIj09PWU/XCJwbGF0Zm9ybVwiOmAke2V9IFBsYXRmb3JtYH0/YCxib2R5OlwiQ2xvc2luZyBhIHBsYXRmb3JtIHdpbGwgY2xvc2UgYW55IHdvcmtzcGFjZXMsIGFwcHMgb3IgYW55IHByb2Nlc3NlcyB0aGF0IGFyZSBydW5uaW5nLlwiLGFmZmlybWF0aXZlQnV0dG9uOlwiQ29uZmlybVwiLG5lZ2F0aXZlQnV0dG9uOlwiQ2FuY2VsXCJ9fSkpKHQsbiksaT1hd2FpdCBXYShvLG8ubW9kYWxQYXJlbnRJZGVudGl0eSkscz17Li4ubyx0b3A6aS50b3AsbGVmdDppLmxlZnR9O3JldHVybihhd2FpdCBDYSh7b3B0aW9uczpzLGNvbnRlbnQ6cn0sYSkpLmRhdGE9PT1tYS5BZmZpcm1hdGl2ZX0sT2E9YXN5bmMgZT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6dCxjb250ZW50OmF9PWF3YWl0KGFzeW5jIGU9Pih7dGl0bGU6XCJSZXN0b3JlIENoYW5nZXNcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjExMixkZWZhdWx0V2lkdGg6NDI0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzdG9yZSB0byBsYXN0IHNhdmVkIGNoYW5nZXM/XCIsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlKSxuPWF3YWl0IFdhKHQsdC5tb2RhbFBhcmVudElkZW50aXR5KSxvPXsuLi50LHRvcDpuLnRvcCxsZWZ0Om4ubGVmdH07cmV0dXJuKGF3YWl0IENhKHtvcHRpb25zOm8sY29udGVudDphfSkpLmRhdGE9PT1tYS5BZmZpcm1hdGl2ZX07dmFyIFRhOyFmdW5jdGlvbihlKXtlLkVSUk9SPVwiZXJyb3JcIixlLlNVQ0NFU1M9XCJzdWNjZXNzXCIsZS5JTkZPPVwiaW5mb1wifShUYXx8KFRhPXt9KSk7Y29uc3QgRWE9e2Fsd2F5c09uVG9wOiEwLGF1dG9TaG93OiExLGZyYW1lOiExLHJlc2l6YWJsZTohMSxzaG93VGFza2Jhckljb246ITF9O3ZhciBCYTshZnVuY3Rpb24oZSl7ZS5Mb2NrZWQ9XCJMb2NrQ2xvc2VkSWNvblwiLGUuVW5sb2NrZWQ9XCJMb2NrT3BlbjFJY29uXCJ9KEJhfHwoQmE9e30pKTtjb25zdCB4YT1mdW5jdGlvbihlPUVhKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGFzeW5jKGEsbixvLHIpPT57aWYodC5oYXMoYSkpe2NvbnN0e2N1cnJlbnRVcmw6ZSxjdXJyZW50TmFtZTpvfT10LmdldChhKTtpZihlPT09bilyZXR1cm47Y29uc3Qgcj1maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS51dWlkLG5hbWU6b30pO2F3YWl0IHIuY2xvc2UoKX1jb25zdCBpPWAke1YuSG9tZUludGVybmFsfS0ke0RhdGUubm93KCl9JHtNYXRoLnJhbmRvbSgpfWA7dC5zZXQoYSx7Y3VycmVudFVybDpuLGN1cnJlbnROYW1lOml9KTtjb25zdCBzPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh7Li4uZSxuYW1lOmksdXJsOm59KTsoKGUsdCk9Pntjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIix0fHxcInBvbGl0ZVwiKSwoZT0+e2Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUud2lkdGg9XCIxcHhcIixlLnN0eWxlLmhlaWdodD1cIjFweFwiLGUuc3R5bGUucGFkZGluZz1cIjBcIixlLnN0eWxlLm1hcmdpbj1cIi0xcHhcIixlLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCIsZS5zdHlsZS5ib3JkZXI9XCIwXCJ9KShhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLHNldFRpbWVvdXQoKCgpPT57YS5pbm5lckhUTUw9ZX0pLDEwMCksc2V0VGltZW91dCgoKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfSksMWUzKX0pKGBOZXcgJHtyfSBpbmRpY2F0b3I6ICR7b31gKSxzLm9uY2UoXCJjbG9zZWRcIiwoKCk9Pnt0LmRlbGV0ZShhKX0pKX19KCk7YXN5bmMgZnVuY3Rpb24gUmEoZSx0LGEsbil7Y29uc3Qgbz1uZXcgVVJMU2VhcmNoUGFyYW1zO28uYXBwZW5kKFwidHlwZVwiLGUpLG8uYXBwZW5kKFwibWVzc2FnZVwiLHQpLG8uYXBwZW5kKFwicGFyZW50TmFtZVwiLGF8fFwiXCIpLG8uYXBwZW5kKFwiaWNvblwiLG58fFwiXCIpO2NvbnN0IHI9YCR7ZmEocGEuQnJvd3NlckluZGljYXRvcil9PyR7by50b1N0cmluZygpfWA7cmV0dXJuIHhhKFwiYnJvd3NlclwiK2Escix0LGUpfWZ1bmN0aW9uIF9hKGUsdCxhKXtyZXR1cm4gUmEoVGEuU1VDQ0VTUyxlLHQsYSl9Y29uc3QgTGE9YXN5bmMgZT0+e2NvbnN0IHQ9RnQoKSxhPWF3YWl0IHQuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLG49YXdhaXQgdC5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxvPWEud29ya3NwYWNlSWQ7aWYobi5zb21lKChlPT5lLndvcmtzcGFjZUlkPT09bykpKXQuU3RvcmFnZS5zYXZlV29ya3NwYWNlKGEpLHQuc2V0QWN0aXZlV29ya3NwYWNlKGEpLF9hKFwiV29ya3NwYWNlIFNhdmVkXCIsZS5uYW1lKTtlbHNle3QuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6bS5TQVZFX1dPUktTUEFDRX0pfX0sVmE9ZT0+e0Z0KCkuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6bS5TQVZFX1dPUktTUEFDRV9BU30pfSxEYT1hc3luYyhlLHQpPT57Y29uc3QgYT1GdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj1hd2FpdCBGdCgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxvPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKSxyPW4uc29tZSgoZT0+by5wYWdlSWQ9PT1lLnBhZ2VJZCkpO2lmKHIpdHJ5e2F3YWl0IEZ0KCkuU3RvcmFnZS5zYXZlUGFnZSgoZD1vLHsuLi5kLGhhc1Vuc2F2ZWRDaGFuZ2VzOnZvaWQgMCxwYXJlbnRJZGVudGl0eTp2b2lkIDAsaXNBY3RpdmU6dm9pZCAwfSkpLGF3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOm8ucGFnZUlkLHBhZ2U6e2hhc1Vuc2F2ZWRDaGFuZ2VzOiExfX0pLF9hKFwiUGFnZSBzYXZlZFwiLG8ucGFyZW50SWRlbnRpdHkubmFtZSl9Y2F0Y2h7aT1cIlBhZ2UgZmFpbGVkIHRvIHNhdmVcIixzPW8ucGFyZW50SWRlbnRpdHkubmFtZSxSYShUYS5FUlJPUixpLHMsYyl9ZWxzZSBhLl9vcGVuU2F2ZU1vZGFsKHtpZDpvLnBhZ2VJZCxtZW51VHlwZTptLlNBVkVfUEFHRX0pO3ZhciBpLHMsYyxkfSxVYT1hc3luYyhlLHQpPT57Y29uc3QgYT1GdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSk7YS5fb3BlblNhdmVNb2RhbCh7aWQ6bi5wYWdlSWQsbWVudVR5cGU6bS5TQVZFX1BBR0VfQVN9KX0sRmE9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHksbj1hd2FpdCBSZShhKSxvPUZ0KCkuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KTtzd2l0Y2goZS50eXBlKXtjYXNlIHUuTmV3V2luZG93OmNvbnN0e25ld1BhZ2VVcmw6dH09YXdhaXQgR3QoYSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBlbXB0eSB3aW5kb3cgd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO0Z0KCkuY3JlYXRlVmlldyh7dGFyZ2V0OnZvaWQgMCx1cmw6dH0pO2JyZWFrO2Nhc2UgdS5OZXdQYWdlOmF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUZ0KCkuQnJvd3Nlci53cmFwU3luYyhlKSxhPWF3YWl0ICR0KGUpO2F3YWl0IHQuYWRkUGFnZShhKSxhd2FpdCB0LnNldEFjdGl2ZVBhZ2UoYS5wYWdlSWQpfSkoYSk7YnJlYWs7Y2FzZSB1LkNsb3NlV2luZG93Om4uZGlzcGF0Y2goVmUuQ2xvc2VCcm93c2VyV2luZG93KTticmVhaztjYXNlIHUuU2F2ZVdvcmtzcGFjZTphd2FpdCBMYShhKTticmVhaztjYXNlIHUuU2F2ZVBhZ2U6YXdhaXQgRGEoYSk7YnJlYWs7Y2FzZSB1LlNhdmVQYWdlQXM6YXdhaXQgVWEoYSk7YnJlYWs7Y2FzZSB1LlNhdmVXb3Jrc3BhY2VBczphd2FpdCBWYShhKTticmVhaztjYXNlIHUuUmVuYW1lV29ya3NwYWNlOm8uX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uUkVOQU1FX1dPUktTUEFDRX0pO2JyZWFrO2Nhc2UgdS5Td2l0Y2hXb3Jrc3BhY2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9RnQoKSxuPShhd2FpdCBhLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO24mJmF3YWl0IElhKGUsbi50aXRsZSkmJihhd2FpdCBhLmFwcGx5V29ya3NwYWNlKG4pLF9hKFwiV29ya3NwYWNlIFN3aXRjaGVkIVwiLG51bGwpKX0pKGEsZSk7YnJlYWs7Y2FzZSB1LkRlbGV0ZVdvcmtzcGFjZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1GdCgpLG49KGF3YWl0IGEuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7biYmYXdhaXQgQWEoZSxuLnRpdGxlKSYmKGF3YWl0IGEuU3RvcmFnZS5kZWxldGVXb3Jrc3BhY2UodC53b3Jrc3BhY2VJZCksX2EoXCJXb3Jrc3BhY2UgRGVsZXRlZCFcIixlLm5hbWUpKX0pKGEsZSk7YnJlYWs7Y2FzZSB1LlF1aXQ6Y29uc3Qgcj1hd2FpdCBpYSgpO2F3YWl0IE1hKGEscikmJmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKTticmVhaztjYXNlIHUuT3BlblN0b3JlZnJvbnQ6KGFzeW5jKCk9Pnthd2FpdCBRKCkmJmooTil9KSgpO2JyZWFrO2Nhc2UgdS5SZXN0b3JlQ2hhbmdlczpjb25zdCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1GdCgpLHQ9YXdhaXQgZS5nZXRDdXJyZW50V29ya3NwYWNlKCk7cmV0dXJuKGF3YWl0IGUuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSl9KCk7YXdhaXQgT2EoYSkmJmF3YWl0IHVlKGkpO2JyZWFrO2Nhc2UgdS5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IHQ9e2NhbGxlclR5cGU6aC5HbG9iYWxDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RnQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLHQpfX19LEdhPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IFJlKHQuaWRlbnRpdHkpLG49RnQoKTtzd2l0Y2goZT8udHlwZSl7Y2FzZSB3LlNhdmU6YXdhaXQgRGEodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LlNhdmVBczphd2FpdCBVYSh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIHcuUmVuYW1lOmF3YWl0IG4uQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6bS5SRU5BTUVfUEFHRSxpZDp0LnBhZ2VJZH0pO2JyZWFrO2Nhc2Ugdy5EdXBsaWNhdGU6YS5kaXNwYXRjaChWZS5EdXBsaWNhdGVQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuQ2xvc2U6YS5kaXNwYXRjaChWZS5DbG9zZVBhZ2UsdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugdy5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IGE9e2NhbGxlclR5cGU6aC5QYWdlVGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6dC5pZGVudGl0eSxwYWdlSWQ6dC5wYWdlSWQsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtGdCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsYSl9fX0sJGE9YXN5bmMoZSx0KT0+e2lmKGU/LnR5cGUpe2NvbnN0IGE9dC5pZGVudGl0eTtzd2l0Y2goZS50eXBlKXtjYXNlIHkuU2F2ZVBhZ2U6YXdhaXQgRGEoYSk7YnJlYWs7Y2FzZSB5LlNhdmVXb3Jrc3BhY2U6YXdhaXQgTGEoYSk7YnJlYWs7Y2FzZSB5LlNhdmVQYWdlQXM6YXdhaXQgVWEoYSk7YnJlYWs7Y2FzZSB5LlNhdmVXb3Jrc3BhY2VBczphd2FpdCBWYShhKTticmVhaztjYXNlIHkuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOmguU2F2ZUJ1dHRvbkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RnQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfX19fSxOYT1hc3luYyhlLHQpPT57Y29uc3QgYT10LnNlbGVjdGVkVmlld3NbMF0sbj1maW4uVmlldy53cmFwU3luYyhhKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdHtuZXdUYWJVcmw6dH09YXdhaXQgR3QoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdUYWJVcmwgc2V0XCIpO3JldHVybnsuLi5DZShcIk5ldyBWaWV3XCIsdCksdXJsOnQsdGFyZ2V0OmV9fSkoZSk7YXdhaXQgRnQoKS5jcmVhdGVWaWV3KG8sZSxuLmlkZW50aXR5KX0samE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoZT0+UHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLmdldEluZm8oKSkpKSkodCkse25ld1BhZ2VVcmw6bixuZXdUYWJVcmw6b309YXdhaXQgR3QoZSk7YS5mb3JFYWNoKChhc3luYyBlPT57ZS51cmwhPT1uJiZlLnVybCE9PW8mJmF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGUudXJsKX0pKX0sSGE9KGUsdCk9Pnt0LmZvckVhY2goKGFzeW5jIHQ9Pntjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpO2F3YWl0KGFzeW5jKGUsdCk9Pntjb25zdHt1cmw6YX09YXdhaXQgdC5nZXRJbmZvKCksbj17Li4uYXdhaXQgdC5nZXRPcHRpb25zKCksdXJsOmEsdGFyZ2V0OmUsbmFtZTp2b2lkIDB9O2F3YWl0IEZ0KCkuY3JlYXRlVmlldyhuLGUsdC5pZGVudGl0eSl9KShlLGEpfSkpfSxxYT1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eTtzd2l0Y2goZS50eXBlKXtjYXNlIGYuQ2xvc2VWaWV3czphd2FpdChhc3luYyhlLHQpPT57aWYoKGF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoZSkuZ2V0Q3VycmVudFZpZXdzKCkpLmxlbmd0aCE9PXQubGVuZ3RoKXQuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlZpZXcud3JhcFN5bmMoZSk7YXdhaXQgdC5kZXN0cm95KCl9KSk7ZWxzZXtjb25zdCB0PShhd2FpdCBGdCgpLkJyb3dzZXIud3JhcFN5bmMoZSkuZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpOyhhd2FpdCBSZShlKSkuZGlzcGF0Y2goVmUuQ2xvc2VQYWdlLHQ/LnBhZ2VJZCl9fSkoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5PcGVuV2l0aERlZmF1bHRCcm93c2VyOmF3YWl0IGphKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuUmVsb2FkVmlld3M6dC5zZWxlY3RlZFZpZXdzLmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PWZpbi5WaWV3LndyYXBTeW5jKGUpO2F3YWl0IHQucmVsb2FkKCl9KSk7YnJlYWs7Y2FzZSBmLk5ld1ZpZXc6YXdhaXQgTmEoYSx0KTticmVhaztjYXNlIGYuRHVwbGljYXRlVmlld3M6SGEoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5BZGRUb0NoYW5uZWw6KGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49e25ld0NoYW5uZWxJZDp0LHNlbGVjdGVkVmlld3M6YX07KGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5BZGRUb0NoYW5uZWwsbil9KShhLGUub3B0aW9uLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlJlbW92ZUZyb21DaGFubmVsOihhc3luYyhlLHQpPT57KGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5SZW1vdmVGcm9tQ2hhbm5lbCx0KX0pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBuPXtjYWxsZXJUeXBlOmguVmlld1RhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsc2VsZWN0ZWRWaWV3czp0LnNlbGVjdGVkVmlld3MsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtGdCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsbil9fX07YXN5bmMgZnVuY3Rpb24gS2EoZSx0KXtjb25zdCBhPWF3YWl0IG9hKGUuaWRlbnRpdHkpLG49YXdhaXQgaWEoKTthLmZpbmQoKGU9PmUuZGF0YT8udHlwZT09PXUuUXVpdCkpLmxhYmVsPWBRdWl0ICR7bn1gO2NvbnN0IG89ey4uLmUsdGVtcGxhdGU6YSxjYWxsYmFjazpGYX07YXdhaXQgdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUobyx0KX1jb25zdCBRYT1hc3luYyhlLHQpPT57Y29uc3R7eDphLHk6bixpZGVudGl0eTpvLHRlbXBsYXRlOnIsY2FsbGJhY2s6aX09ZSx7ZGF0YTpzfT1hd2FpdCBmdW5jdGlvbihlLHQpe2lmKCFTKXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtpZighdCYmIWZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIHdpbmRvdy5cIik7cmV0dXJuKHR8fGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKSkuc2hvd1BvcHVwTWVudShlKX0oe3g6YSx5Om4sdGVtcGxhdGU6cn0sZmluLldpbmRvdy53cmFwU3luYyhvKSk7aShzLGUpfTthc3luYyBmdW5jdGlvbiB6YShlLHQpe2NvbnN0IGE9ey4uLmUsY2FsbGJhY2s6cWF9O2F3YWl0IHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudShhLHQpfWFzeW5jIGZ1bmN0aW9uIEphKGUsdCl7Y29uc3QgYT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBGdCgpLlN0b3JhZ2UuZ2V0UGFnZShlKSxuPShhd2FpdCBHZSgpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSx7d29ya3NwYWNlUGxhdGZvcm06b309YXdhaXQgRih0KS5nZXRPcHRpb25zKCkscj0hKG8uaXNMb2NrZWR8fG8ucHJldmVudFBhZ2VDbG9zZXx8bi5jbG9zZUJ1dHRvbj8uZGlzYWJsZWR8fG4uY2xvc2VCdXR0b24/LmhpZGRlbik7cmV0dXJuW3t0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LlNhdmV9fSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBc1wiLGRhdGE6e3R5cGU6dy5TYXZlQXN9fSxFdCx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlJlbmFtZSBQYWdlXCIsZGF0YTp7dHlwZTp3LlJlbmFtZX0sZW5hYmxlZDohIWF9LHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiRHVwbGljYXRlIFBhZ2VcIixkYXRhOnt0eXBlOncuRHVwbGljYXRlfSxlbmFibGVkOiFvLmlzTG9ja2VkfSxFdCx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIkNsb3NlIFBhZ2VcIixkYXRhOnt0eXBlOncuQ2xvc2V9LGVuYWJsZWQ6cn1dfSkoZS5wYWdlSWQsZS5pZGVudGl0eSksbj17Li4uZSx0ZW1wbGF0ZTphLGNhbGxiYWNrOkdhfTthd2FpdCB0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnUobix0KX1hc3luYyBmdW5jdGlvbiBYYShlLHQpe2NvbnN0IGE9ey4uLmUsdGVtcGxhdGU6YXdhaXQoYXN5bmMoKT0+W3t0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2VcIixkYXRhOnt0eXBlOnkuU2F2ZVdvcmtzcGFjZX19LHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2UgQXNcIixkYXRhOnt0eXBlOnkuU2F2ZVdvcmtzcGFjZUFzfX0se3R5cGU6VHQuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6eS5TYXZlUGFnZX19LHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlIEFzXCIsZGF0YTp7dHlwZTp5LlNhdmVQYWdlQXN9fV0pKCksY2FsbGJhY2s6JGF9O2F3YWl0IHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudShhLHQpfWNvbnN0IFlhPWImJmd0KFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLFwid29ya3NwYWNlc1wiKTthc3luYyBmdW5jdGlvbiBaYShlKXtjb25zdCB0PWF3YWl0IG10KGUsWWEpO3JldHVybiB0Pyh0LndvcmtzcGFjZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQud29ya3NwYWNlSWQsdCk6bnVsbH1hc3luYyBmdW5jdGlvbiBlbihlKXtjb25zdCB0PWF3YWl0IGJ0KFlhKSxhPWF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5aYShlLnRvU3RyaW5nKCkpKSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT5rdCh0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiB0bih7d29ya3NwYWNlOmV9KXthd2FpdCB2dChlLndvcmtzcGFjZUlkLGUsWWEpfWFzeW5jIGZ1bmN0aW9uIGFuKGUpe2F3YWl0IFN0KGUsWWEpfWFzeW5jIGZ1bmN0aW9uIG5uKHt3b3Jrc3BhY2VJZDplLHdvcmtzcGFjZTp0fSl7aWYodm9pZCAwPT09YXdhaXQgWmEoZSkpdGhyb3cgbmV3IEVycm9yKFwid29ya3NwYWNlIG5vdCBmb3VuZFwiKTthd2FpdCB0bih7d29ya3NwYWNlOnR9KSxlIT09dC53b3Jrc3BhY2VJZCYmYXdhaXQgYW4oZSl9YXN5bmMgZnVuY3Rpb24gb24oe2FwcDplLHRhcmdldDp0fSl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtzd2l0Y2goZS5tYW5pZmVzdFR5cGUpe2Nhc2UgYy5TbmFwc2hvdDpyZXR1cm4gYS5hcHBseVNuYXBzaG90KGUubWFuaWZlc3QpO2Nhc2UgYy5WaWV3OnJldHVybiBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoXCJ2aWV3XCI9PT10LmVudGl0eVR5cGUpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCksbj1hd2FpdCBhLmdldFBhcmVudExheW91dCgpO3JldHVybiBhd2FpdCBuLnJlcGxhY2VWaWV3KHQse21hbmlmZXN0VXJsOmUubWFuaWZlc3QsdXJsOnZvaWQgMCx0YXJnZXQ6dm9pZCAwfSksYS5kZXN0cm95KCl9cmV0dXJuIGEuY3JlYXRlVmlldyh7bmFtZTp2b2lkIDAsdXJsOnZvaWQgMCxtYW5pZmVzdFVybDplLm1hbmlmZXN0LHRhcmdldDp2b2lkIDB9KX0oZSx0KTtjYXNlIGMuRXh0ZXJuYWw6cmV0dXJuIGZpbi5TeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzKHtwYXRoOmUubWFuaWZlc3QsdXVpZDplLmFwcElkfSk7ZGVmYXVsdDpyZXR1cm4gZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGUubWFuaWZlc3QpfX1jb25zdCBybj1lPT5lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk7ZnVuY3Rpb24gc24oZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIHJuKGUpJiZybihhKSYmT2JqZWN0LmVudHJpZXMoYSkuZm9yRWFjaCgoKFt0LGFdKT0+e2lmKHJuKGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksc24oZVt0XSxhKTtlW3RdPWF9KSksc24oZSwuLi50KX1jb25zdCBjbj1NK3BhLkJyb3dzZXI7ZnVuY3Rpb24gZG4oZSx0KXtjb25zdCBhPXNuKHt9LHQsZSk7cmV0dXJuIGEuZGV0YWNoT25DbG9zZT0hMCxhfWFzeW5jIGZ1bmN0aW9uIHBuKGUsdCxhKXtjb25zdCBuPWUubWFuaWZlc3RVcmw/YXdhaXQgdCh7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdFVybH0sYSk6dm9pZCAwO2lmKG4/LmludGVyb3AmJmUuaW50ZXJvcCl7Y29uc3QgdD17Li4uZSwuLi5uLGludGVyb3A6ZS5pbnRlcm9wfTtyZXR1cm4gZGVsZXRlIHQubWFuaWZlc3RVcmwsdH1yZXR1cm4gZX1jb25zdCBsbj1lPT57Y29uc3QgdD1lLm5hbWU9PT1WLkhvbWUsYT1lLm5hbWU/LnN0YXJ0c1dpdGgoVi5Ib21lSW50ZXJuYWwpLG49ZS5uYW1lPy5zdGFydHNXaXRoKFYuQnJvd3Nlck1lbnUpO3JldHVybiF0JiYhYSYmIW59LHVuPWU9Plwid29ya3NwYWNlUGxhdGZvcm1cImluIGU/ZTooKHt3b3Jrc3RhY2tzOmUscGFnZXM6dCwuLi5hfSk9Pih7Li4uYSx3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6dHx8ZXx8bnVsbH19KSkoZSksd249e2NvbnRleHRNZW51U2V0dGluZ3M6e3JlbG9hZDohMX0sYmFja2dyb3VuZFRocm90dGxpbmc6ITAsdXJsOmNuLGNvbnRleHRNZW51OiEwLGNsb3NlT25MYXN0Vmlld1JlbW92ZWQ6ITEsZXhwZXJpbWVudGFsOntzaG93RmF2aWNvbnM6ITAsZGVmYXVsdEZhdmljb25Vcmw6YCR7TX0vaWNvbnMvZGVmYXVsdEZhdmljb24uc3ZnYH0scGVybWlzc2lvbnM6e1N5c3RlbTp7b3BlblVybFdpdGhCcm93c2VyOntlbmFibGVkOiEwLHByb3RvY29sczpbXCJtYWlsdG9cIl19fX19LGZuPXtkaW1lbnNpb25zOntib3JkZXJXaWR0aDozLGhlYWRlckhlaWdodDozMH19LGduPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEZ0KCkuU3RvcmFnZS5nZXRQYWdlcygpLG49YXdhaXQgRnQoKS5Ccm93c2VyLmdldEFsbEF0dGFjaGVkUGFnZXMoKTtyZXR1cm4gZS5tYXAoKGU9PntsZXQgbz1lLnRpdGxlO3ZvaWQgMD09PWUucGFnZUlkJiYoZS5wYWdlSWQ9Y3J5cHRvLnJhbmRvbVVVSUQoKSk7Y29uc3Qgcj1hLmZpbmQoKGU9PmUudGl0bGU9PT1vKSk7cmV0dXJuKHImJnIucGFnZUlkIT09ZS5wYWdlSWR8fG4uZmluZCgoZT0+ZS50aXRsZT09PW8pKSkmJihvPWxlKGUudGl0bGUsWy4uLmEsLi4ubl0ubWFwKChlPT5lLnRpdGxlKSkpKSxuLnB1c2goey4uLmUsdGl0bGU6b30pLHsuLi50LC4uLmUsdGl0bGU6byxsYXlvdXQ6KGk9ZS5sYXlvdXQsYmUoey4uLml9LGtlKSl9O3ZhciBpfSkpfTt2YXIgeW47IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cImJyb3dzZXJcIixlLlBsYXRmb3JtPVwicGxhdGZvcm1cIixlLkNsYXNzaWM9XCJjbGFzc2ljXCIsZS5NaXhlZD1cIm1peGVkXCJ9KHlufHwoeW49e30pKTtjb25zdCBobj1lPT57Y29uc3QgdD1maW4uV2luZG93LndyYXBTeW5jKGUpO3JldHVybiBQcm9taXNlLmFsbChbdC5icmluZ1RvRnJvbnQoKSx0LnJlc3RvcmUoKSx0LmZvY3VzKCldKX07YXN5bmMgZnVuY3Rpb24gbW4oZSl7Y29uc3QgdD0oYXdhaXQgcSgpKS5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0T3B0aW9ucygpO3Qud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiZ0LmxheW91dCYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnMpKShlLmlkZW50aXR5KX0pKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodCksZT9lKCk6d3QoKX1jb25zdCB2bj1hc3luYyBlPT57YXdhaXQgTWEoZmluLm1lLmlkZW50aXR5LGUudGl0bGU/P2F3YWl0IGlhKCksZS5zaG91bGRDZW50ZXJPbk1vbml0b3IpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCl9O2xldCBTbj1bXTtjb25zdCBQbj0oKT0+U247Y29uc3QgYm49KGUsdCk9PmFzeW5jIGE9Pntjb25zdCBuPW51bGwhPT1lO2NsYXNzIG8gZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzV29ya3NwYWNlUGxhdGZvcm09KCk9Pih7aXNXb3Jrc3BhY2VQbGF0Zm9ybTohMCxpc0Jyb3dzZXJJbml0aWFsaXplZDohIWV9KSx0aGlzLmFkZFBhZ2U9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LHRoaXMuZGV0YWNoUGFnZXNGcm9tV2luZG93PVhlLHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcz1HZSx0aGlzLmdldFBhZ2VzRm9yV2luZG93PVplLHRoaXMuZ2V0UGFnZUZvcldpbmRvdz1ldCx0aGlzLnNldEFjdGl2ZVBhZ2U9WWUsdGhpcy5sYXVuY2hBcHA9b24sdGhpcy5zYXZlUGFnZT1RZSx0aGlzLnNhdmVXb3Jrc3BhY2U9eWUsdGhpcy5jcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1IZSx0aGlzLnVwZGF0ZVNhdmVkUGFnZUludGVybmFsPUtlLHRoaXMuZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9cWUsdGhpcy5yZW9yZGVyUGFnZXNGb3JXaW5kb3c9dHQsdGhpcy5nZXRVbmlxdWVQYWdlVGl0bGU9YXQsdGhpcy51cGRhdGVQYWdlRm9yV2luZG93PUplLHRoaXMuZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PW1lLHRoaXMuZ2V0VGhlbWVzPVBuLHRoaXMuaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9Y3QsdGhpcy5yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9dm4sdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPWdlLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dWUsdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9d2UsdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnU9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkUGFnZXM9dGhpcy5nZXRTYXZlZFBhZ2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2U9dGhpcy5nZXRTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkUGFnZT10aGlzLmNyZWF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlU2F2ZWRQYWdlPXRoaXMudXBkYXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFBhZ2U9dGhpcy5kZWxldGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3c9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZXM9dGhpcy5nZXRTYXZlZFdvcmtzcGFjZXMuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkV29ya3NwYWNlPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlPXRoaXMuY3JlYXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlPXRoaXMudXBkYXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlPXRoaXMuZGVsZXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2U9dGhpcy5nZXRDdXJyZW50V29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5hcHBseVdvcmtzcGFjZT10aGlzLmFwcGx5V29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9dGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKX1hc3luYyBnZXRTbmFwc2hvdCgpe2NvbnN0IGU9bj9hd2FpdCBtbigoYXN5bmMoKT0+d3QoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpKSk6YXdhaXQgd3QoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpO3JldHVybnsuLi5lLHdpbmRvd3M6ZS53aW5kb3dzLmZpbHRlcihsbikubWFwKHV0KX19YXN5bmMgYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnR9KXtjb25zdCBhPWU9PnN1cGVyLmFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp7Li4udCxjbG9zZUV4aXN0aW5nV2luZG93czohMX19KTtsZXQgbz1lO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1hd2FpdCBzdXBlci5mZXRjaE1hbmlmZXN0KHttYW5pZmVzdFVybDpvfSxmaW4ubWUuaWRlbnRpdHkpKTtjb25zdCByPWZ1bmN0aW9uKGUpe2xldCB0PSExLGE9ITE7Zm9yKGNvbnN0IG4gb2YgZS53aW5kb3dzKXtpZih0JiZhKWJyZWFrO24ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5sZW5ndGg/YT0hMDpuLmxheW91dCYmKHQ9ITApfXJldHVybiB0JiZhP3luLk1peGVkOnQ/eW4uUGxhdGZvcm06YT95bi5Ccm93c2VyOmUud2luZG93cy5sZW5ndGg/eW4uQ2xhc3NpYzpudWxsfShvKTtpZihyPT09eW4uTWl4ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzbmFwc2hvdCBjYW5ub3QgYmUgYXBwbGllZCBhcyBpdCBjb250YWlucyBhIG1peHR1cmUgb2YgYnJvd3NlciBhbmQgcGxhdGZvcm0gd2luZG93cy5cIik7aWYobil5bi5QbGF0Zm9ybTtlbHNlIGlmKHI9PT15bi5Ccm93c2VyKXRocm93IG5ldyBFcnJvcihcIlRoaXMgc25hcHNob3QgY2Fubm90IGJlIGFwcGxpZWQgYXMgdGhlIHBsYXRmb3JtIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGhvdXQgdGhlIGJyb3dzZXIuXCIpO3JldHVybiB0Py5jbG9zZUV4aXN0aW5nV2luZG93cyYmYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWF3YWl0IHEoKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+ZS5jbG9zZSghMCkuY2F0Y2goKCgpPT57fSkpKSkpfSgpLG4/YXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWF3YWl0IEdlKCksbj1lLnNuYXBzaG90RGV0YWlscz8ubW9uaXRvckluZm98fGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxbbyxyXT0oZS53aW5kb3dzfHxbXSkucmVkdWNlKCgoW2UsdF0sYSk9PmE/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoP1tbLi4uZSxhXSx0XTpbZSxbLi4udCxhXV0pLFtbXSxbXV0pLGk9bmV3IE1hcDthLmZvckVhY2goKGU9Pmkuc2V0KGUucGFnZUlkLGUpKSk7Y29uc3Qgcz1bXSxjPW8ubWFwKChhc3luYyBlPT57Y29uc3QgdD11bihlKSxhPVtdLG49KGU9PntsZXQgdD0hMTtjb25zdCBhPShlfHxbXSkubWFwKChlPT57Y29uc3QgYT1mdW5jdGlvbih7aWQ6ZSxuYW1lOnQsLi4uYX0pe3JldHVybntwYWdlSWQ6ZSx0aXRsZTp0LC4uLmF9fShlKTtyZXR1cm4gdCYmYS5pc0FjdGl2ZSYmKGEuaXNBY3RpdmU9ITEpLGEuaXNBY3RpdmUmJih0PSEwKSxhfSkpO3JldHVybiF0JiZhLmxlbmd0aCYmKGFbMF0uaXNBY3RpdmU9ITApLGF9KSh0Py53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpO2lmKCFuPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgYXQoKTthLnB1c2goYXdhaXQgeHQoZSx0LmxheW91dCkpfWxldCBvO24uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9aS5nZXQoZS5wYWdlSWQpO3Q/bz10OmEucHVzaChlKX0pKSxvJiZhd2FpdCBQcm9taXNlLmFsbChbWWUoe2lkZW50aXR5Om8ucGFyZW50SWRlbnRpdHkscGFnZUlkOm8ucGFnZUlkfSksaG4oby5wYXJlbnRJZGVudGl0eSldKSxhLmxlbmd0aCYmcy5wdXNoKHsuLi50LHdvcmtzcGFjZVBsYXRmb3JtOnsuLi50LndvcmtzcGFjZVBsYXRmb3JtLHBhZ2VzOmF9fSl9KSk7aWYoYXdhaXQgUHJvbWlzZS5hbGwoYyksIXMubGVuZ3RoJiYhci5sZW5ndGgpcmV0dXJuO2NvbnN0IGQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7cmV0dXJuKHR8fGQuYXBwbHlTbmFwc2hvdC5iaW5kKGQpKSh7Li4uZSxzbmFwc2hvdERldGFpbHM6ey4uLmUuc25hcHNob3REZXRhaWxzLG1vbml0b3JJbmZvOm59LHdpbmRvd3M6Wy4uLnMsLi4ucl19KX0obyxhKTphKG8pfWFzeW5jIGNyZWF0ZVdpbmRvdyh0LGEpe3Qud29ya3NwYWNlUGxhdGZvcm0/LnRvb2xiYXJPcHRpb25zPy5idXR0b25zJiYoZT0+e2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PmUudHlwZSE9PWcuQ3VzdG9tKSksYT1uZXcgU2V0O2Zvcihjb25zdCBlIG9mIHQpe2lmKGEuaGFzKGUudHlwZSkpdGhyb3cgbmV3IEVycm9yKGBFbmNvdW50ZXJlZCBhIGR1cGxpY2F0ZSBvZiAke2UudHlwZX0gYnV0dG9uLiBObyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIG9mIGEgYnV0dG9uIHR5cGUgbWF5IGJlIHByb3ZpZGVkLmApO2EuYWRkKGUudHlwZSl9fSkodC53b3Jrc3BhY2VQbGF0Zm9ybS50b29sYmFyT3B0aW9ucy5idXR0b25zKTtsZXQgbz11bih0KTtpZihuKXtjb25zdCB0PXRoaXMuZ2V0VGhlbWVzKCk7bz1hd2FpdChhc3luYyhlLHQsYSk9PntsZXQgbj1lO2NvbnN0IG89bj8ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzO2lmKG8pe2NvbnN0IGU9by5maW5kKChlPT5lLmlzQWN0aXZlKSk7ZT9uLmxheW91dD1lLmxheW91dDoob1swXS5pc0FjdGl2ZT0hMCxuLmxheW91dD1vWzBdLmxheW91dCl9aWYobi5sYXlvdXQpe2lmKG49c24oe30sdC5kZWZhdWx0V2luZG93T3B0aW9ucyxuLHduKSxuLmxheW91dD1zbihuLmxheW91dCxmbiksKG4uaWNvbnx8bi50YXNrYmFySWNvbikmJihuLnRhc2tiYXJJY29uR3JvdXA9bi50YXNrYmFySWNvbkdyb3VwfHxmaW4ubWUuaWRlbnRpdHkudXVpZCksIW4uYmFja2dyb3VuZENvbG9yKXtjb25zdCBlPWE/LnBhbGV0dGU7bi5iYWNrZ3JvdW5kQ29sb3I9ZT8uYmFja2dyb3VuZDJ8fGU/LmJhY2tncm91bmRQcmltYXJ5fWNvbnN0IGU9bi53b3Jrc3BhY2VQbGF0Zm9ybS5uZXdUYWJVcmw7aWYoZSYmKG4ubGF5b3V0LnNldHRpbmdzfHwobi5sYXlvdXQuc2V0dGluZ3M9e30pLG4ubGF5b3V0LnNldHRpbmdzLm5ld1RhYkJ1dHRvbj17dXJsOmV9KSxuPSgoZSx0KT0+e2NvbnN0IGE9ZTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybXx8KGEud29ya3NwYWNlUGxhdGZvcm09e30pLGEud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz17c2V0QXNGb3JlZ3JvdW5kOiEhdCxkZWZlclNob3dFbmFibGVkOiEwLGF1dG9TaG93OmEud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHxhLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPy5hdXRvU2hvd3x8dm9pZCAwPT09YS5hdXRvU2hvd3x8YS5hdXRvU2hvd30sYS5hdXRvU2hvdz0hMSxhfSkobiwhMCksIW4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM/Lmxlbmd0aCl7Y29uc3QgZT1hd2FpdCBhdChcIlVudGl0bGVkIFBhZ2VcIiksdD17Li4uYXdhaXQgeHQoZSxuLmxheW91dCksaXNBY3RpdmU6ITB9O24ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM9W3RdfX1yZXR1cm4gbi53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMmJihuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPWF3YWl0IGduKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMsdD8uZGVmYXVsdFBhZ2VPcHRpb25zKSksbi5jb3JuZXJSb3VuZGluZyYmZGVsZXRlIG4uY29ybmVyUm91bmRpbmcsbn0pKG8sZSx0WzBdKX1vPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxhPXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5ib3R0b20tdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LnRvcCxuPXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5yaWdodC10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QubGVmdDtyZXR1cm4gZS5kZWZhdWx0SGVpZ2h0PWUuZGVmYXVsdEhlaWdodHx8XCI4MDBcIixlLmRlZmF1bHRXaWR0aD1lLmRlZmF1bHRXaWR0aHx8XCI4MDBcIixhPGUuZGVmYXVsdEhlaWdodCYmKGUuZGVmYXVsdEhlaWdodD1hKSxuPGUuZGVmYXVsdFdpZHRoJiYoZS5kZWZhdWx0V2lkdGg9biksZX0pKG8pO2NvbnN0IHI9KGUsdCk9PnN1cGVyLmNyZWF0ZVdpbmRvdyhlLHQpLGk9bj8oZT0+YXN5bmModCxhKT0+e2xldCBuPSExO2NvbnN0IG89YXdhaXQgZSh0LGEpO3JldHVybiB0Py53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uZGVmZXJTaG93RW5hYmxlZD8oYXdhaXQgby5hZGRMaXN0ZW5lcihELlNob3dSZXF1ZXN0ZWQsKGFzeW5jKCk9PntpZihuKXJldHVybjtjb25zdCBlPWF3YWl0IG8uZ2V0T3B0aW9ucygpO2F3YWl0IG8udXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06ey4uLmUud29ya3NwYWNlUGxhdGZvcm0sX2ludGVybmFsRGVmZXJTaG93T3B0aW9uczp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zLGF1dG9TaG93OiEwfX19KSxuPSEwfSkpLG8pOm99KShyKTpyO3JldHVybiBpKG8sYSl9YXN5bmMgY3JlYXRlVmlldyh0LGEpe3JldHVybiB0Lm9wdHM9ZG4odC5vcHRzLGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzPWF3YWl0IHBuKHQub3B0cyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIuY3JlYXRlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VWaWV3KHQsYSl7cmV0dXJuIHQub3B0cy5uZXdWaWV3PWF3YWl0IGRuKHQub3B0cy5uZXdWaWV3LGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzLm5ld1ZpZXc9YXdhaXQgcG4odC5vcHRzLm5ld1ZpZXcsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLnJlcGxhY2VWaWV3KHQsYSl9YXN5bmMgcmVwbGFjZUxheW91dChlLHQpe3JldHVybiBkZWxldGUgZS5vcHRzLmxheW91dD8uZGltZW5zaW9ucyxzdXBlci5yZXBsYWNlTGF5b3V0KGUsdCl9YXN5bmMgY2xvc2VWaWV3KGUsdCl7Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyhlLnZpZXcpO2F3YWl0IHN1cGVyLmNsb3NlVmlldyhlLHQpLGF3YWl0IGEuZGVzdHJveSgpLmNhdGNoKChlPT5lKSl9YXN5bmMgZ2V0U2F2ZWRQYWdlKC4uLmUpe3JldHVybiBDdC5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkUGFnZXMoLi4uZSl7cmV0dXJuIEl0LmFwcGx5KHRoaXMsZSl9YXN5bmMgY3JlYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBBdC5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gTXQuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIE90LmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIFphLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2VzKC4uLmUpe3JldHVybiBlbi5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiB0bi5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBhbi5hcHBseSh0aGlzLGUpfWFzeW5jIHVwZGF0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBubi5hcHBseSh0aGlzLGUpfWFzeW5jIGF0dGFjaFBhZ2VzVG9XaW5kb3codCl7dC5wYWdlcz1hd2FpdCBnbih0LnBhZ2VzLGU/LmRlZmF1bHRQYWdlT3B0aW9ucyksYXdhaXQgemUodCl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIEthLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gemEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gSmEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFFhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBYYS5hcHBseSh0aGlzLGUpfX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Qobyk6bmV3IG99O2FzeW5jIGZ1bmN0aW9uIGtuKCl7IWZ1bmN0aW9uKCl7Y29uc3QgZT1MKCk7ZS5hZGRMaXN0ZW5lcihCLldpbmRvd09wdGlvbnNDaGFuZ2VkLHJ0KSxlLmFkZExpc3RlbmVyKEIuV2luZG93Q2xvc2VkLGl0KSxlLmFkZExpc3RlbmVyKEIuV2luZG93Q3JlYXRlZCxpdCksZmluLkludGVyQXBwbGljYXRpb25CdXMuc3Vic2NyaWJlKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkfSxcImJyb3dzZXItd2luZG93LXJlYWR5XCIsaXQpfSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTthd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIix2ZSl9KCk7d2UoYXdhaXQgZmUoKSl9bGV0IFduO2Z1bmN0aW9uIENuKHtvdmVycmlkZUNhbGxiYWNrOmUsaW50ZXJvcE92ZXJyaWRlOnQsYnJvd3NlcjphfSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi5cIik7aWYoIVduKXtmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsKCgpPT5rbigpKSksYT8udGl0bGUmJihuPWEudGl0bGUscmE9biksV249ZmluLlBsYXRmb3JtLmluaXQoe292ZXJyaWRlQ2FsbGJhY2s6Ym4oYSxlfHxhPy5vdmVycmlkZUNhbGxiYWNrKSxpbnRlcm9wT3ZlcnJpZGU6dHx8YT8uaW50ZXJvcE92ZXJyaWRlfSksKGFzeW5jIGU9PntKKHouUGxhdGZvcm0sZSl9KSh7YWxsb3dlZDohMH0pfXZhciBuO3JldHVybiBXbn1jb25zdCBJbj1hc3luYyh7dGhlbWU6ZSxjdXN0b21BY3Rpb25zOnQsLi4uYX0pPT57Y29uc3Qgbj1PLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSksbz1hd2FpdChhc3luYyBlPT5uZXcgUHJvbWlzZSgoYXN5bmMgdD0+eyhhd2FpdCBaKCkpLmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbiYmdCghMCk7Y29uc3QgYT0oYXdhaXQgZmluLlN5c3RlbS5nZXRWZXJzaW9uKCkpLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSk7dChlLmV2ZXJ5KCgodCxuKT0+IShuPDMpfHxhW25dPT09ZVtuXSkpKX0pKSkobik7dmFyIHI7aWYoZSYmKChyPWUpLmZvckVhY2goKGU9Pntjb25zdCB0PWUucGFsZXR0ZS5iYWNrZ3JvdW5kUHJpbWFyeTtpZighdC5pbmNsdWRlcyhcIiNcIikmJiF0LmluY2x1ZGVzKFwicmdiXCIpJiYhdC5pbmNsdWRlcyhcImhzbFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIHByaW1hcnkgY29sb3IgaXMgbm90IHRoZSByaWdodCBmb3JtYXQuXCIpfSkpLFNuPXIsKGFzeW5jIGU9PntKKHouVGhlbWluZyxlKX0pKHthbGxvd2VkOiEwfSkpLHQmJihzdD10KSxvKXJldHVybiBDbihhKTt0aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkLiAgJHtuWzBdfS4ke25bMV19LiR7blsyXX0uKiBpcyByZXF1aXJlZGApfX0pKCksbW9kdWxlLmV4cG9ydHM9bn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVMYXVuY2hCYXJXaW5kb3cgfSBmcm9tIFwiLi9sYXVuY2hiYXItd2luZG93XCI7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHQvLyB5b3UgY2FuIGtpY2sgb2ZmIHlvdXIgYm9vdHN0cmFwcGluZyBwcm9jZXNzIGhlcmUgd2hlcmUgeW91IG1heSBkZWNpZGUgdG8gcHJvbXB0IGZvciBhdXRoZW50aWNhdGlvbixcblx0Ly8gZ2F0aGVyIHJlZmVyZW5jZSBkYXRhIGV0YyBiZWZvcmUgc3RhcnRpbmcgd29ya3NwYWNlIGFuZCBpbnRlcmFjdGluZyB3aXRoIGl0LlxuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyB0aGUgYm9vdHN0cmFwcGVyXCIpO1xuXHRjb25zdCB7XG5cdFx0Ym9vdHN0cmFwOiB7IGxhdW5jaEJhcldpbmRvd1NldHRpbmdzIH1cblx0fSA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cblx0YXdhaXQgY3JlYXRlTGF1bmNoQmFyV2luZG93KGxhdW5jaEJhcldpbmRvd1NldHRpbmdzKTtcbn1cbiIsImltcG9ydCB7IExhdW5jaEJhcldpbmRvd1NldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVMYXVuY2hCYXJXaW5kb3cob3B0aW9uczogTGF1bmNoQmFyV2luZG93U2V0dGluZ3MpIHtcblx0cmV0dXJuIGZpbi5XaW5kb3cuY3JlYXRlKG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IHtcblx0QnJvd3NlckluaXRDb25maWcsXG5cdEN1c3RvbUJ1dHRvbkFjdGlvblBheWxvYWQsXG5cdGluaXQgYXMgd29ya3NwYWNlUGxhdGZvcm1Jbml0XG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcbmltcG9ydCB7IGdldFNldHRpbmdzLCB2YWxpZGF0ZVRoZW1lcyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyBwbGF0Zm9ybVwiKTtcblx0Y29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBnZXRTZXR0aW5ncygpO1xuXHRjb25zdCBicm93c2VyOiBCcm93c2VySW5pdENvbmZpZyA9IHt9O1xuXG5cdGlmIChzZXR0aW5ncy5icm93c2VyUHJvdmlkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdGJyb3dzZXIuZGVmYXVsdFdpbmRvd09wdGlvbnMgPSB7XG5cdFx0XHRpY29uOiBzZXR0aW5ncy5icm93c2VyUHJvdmlkZXIud2luZG93T3B0aW9ucz8uaWNvbixcblx0XHRcdHdvcmtzcGFjZVBsYXRmb3JtOiB7XG5cdFx0XHRcdHBhZ2VzOiBudWxsLFxuXHRcdFx0XHR0aXRsZTogc2V0dGluZ3MuYnJvd3NlclByb3ZpZGVyLndpbmRvd09wdGlvbnM/LnRpdGxlLFxuXHRcdFx0XHRmYXZpY29uOiBzZXR0aW5ncy5icm93c2VyUHJvdmlkZXIud2luZG93T3B0aW9ucz8uaWNvbixcblx0XHRcdFx0bmV3VGFiVXJsOiBzZXR0aW5ncy5icm93c2VyUHJvdmlkZXIud2luZG93T3B0aW9ucz8ubmV3VGFiVXJsLFxuXHRcdFx0XHRuZXdQYWdlVXJsOiBzZXR0aW5ncy5icm93c2VyUHJvdmlkZXIud2luZG93T3B0aW9ucz8ubmV3UGFnZVVybFxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRjb25zb2xlLmxvZyhcIlNwZWNpZnlpbmcgZm9sbG93aW5nIGJyb3dzZXIgb3B0aW9uczpcIiwgYnJvd3Nlcik7XG5cdGF3YWl0IHdvcmtzcGFjZVBsYXRmb3JtSW5pdCh7XG5cdFx0YnJvd3Nlcixcblx0XHR0aGVtZTogdmFsaWRhdGVUaGVtZXMoc2V0dGluZ3M/LnRoZW1lUHJvdmlkZXI/LnRoZW1lcyksXG5cdFx0Y3VzdG9tQWN0aW9uczoge1xuXHRcdFx0XCJjdXN0b20tc2F2ZS1wYWdlLWNsaWNrZWRcIjogKHBheWxvYWQ6IEN1c3RvbUJ1dHRvbkFjdGlvblBheWxvYWQpID0+IHtcblx0XHRcdFx0Y29uc29sZS5kaXIoeyBtZXNzYWdlOiBcIkNVU1RPTSBTQVZFIFBBR0UgQ0xJQ0tFRFwiLCBwYXlsb2FkIH0pO1xuXHRcdFx0XHRjb25zb2xlLmRpcih7IG1lc3NhZ2U6IFwiTEFZT1VUXCIsIGxheW91dDogcGF5bG9hZC5jdXN0b21EYXRhLmxheW91dCB9KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuIiwiaW1wb3J0IHsgQ3VzdG9tVGhlbWVzIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuaW1wb3J0IHsgQ3VzdG9tUGFsZXR0ZVNldCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vY29tbW9uL3NyYy9hcGkvdGhlbWluZ1wiO1xuaW1wb3J0IHsgQ3VzdG9tU2V0dGluZ3MgfSBmcm9tIFwiLi9zaGFwZXNcIjtcblxubGV0IHNldHRpbmdzOiBDdXN0b21TZXR0aW5ncztcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29uZmlndXJlZFNldHRpbmdzKCk6IFByb21pc2U8Q3VzdG9tU2V0dGluZ3M+IHtcblx0Y29uc3QgYXBwID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnQoKTtcblx0Y29uc3QgbWFuaWZlc3Q6IE9wZW5GaW4uTWFuaWZlc3QgJiB7IGN1c3RvbVNldHRpbmdzPzogQ3VzdG9tU2V0dGluZ3MgfSA9IGF3YWl0IGFwcC5nZXRNYW5pZmVzdCgpO1xuXG5cdGlmIChtYW5pZmVzdC5jdXN0b21TZXR0aW5ncyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2V0dGluZ3MgPSBtYW5pZmVzdC5jdXN0b21TZXR0aW5ncztcblx0fSBlbHNlIHtcblx0XHRzZXR0aW5ncyA9IHt9O1xuXHR9XG5cblx0cmV0dXJuIHNldHRpbmdzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKTogUHJvbWlzZTxDdXN0b21TZXR0aW5ncz4ge1xuXHRpZiAoc2V0dGluZ3MgPT09IHVuZGVmaW5lZCkge1xuXHRcdHNldHRpbmdzID0gYXdhaXQgZ2V0Q29uZmlndXJlZFNldHRpbmdzKCk7XG5cdH1cblx0cmV0dXJuIHNldHRpbmdzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVBhbGV0dGUodGhlbWVQYWxldHRlOiBDdXN0b21QYWxldHRlU2V0LCB0aGVtZUxhYmVsOiBzdHJpbmcpOiBDdXN0b21QYWxldHRlU2V0IHtcblx0Y29uc3QgcGFsZXR0ZTogUGFydGlhbDxDdXN0b21QYWxldHRlU2V0PiA9IHt9O1xuXG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGVtZVBhbGV0dGUpO1xuXG5cdGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcblx0XHRpZiAoXG5cdFx0XHR0aGVtZVBhbGV0dGVba2V5XSAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHR0aGVtZVBhbGV0dGVba2V5XSAhPT0gbnVsbCAmJlxuXHRcdFx0dGhlbWVQYWxldHRlW2tleV0udHJpbSgpLmxlbmd0aCA+IDBcblx0XHQpIHtcblx0XHRcdHBhbGV0dGVba2V5XSA9IHRoZW1lUGFsZXR0ZVtrZXldO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGJyYW5kUHJpbWFyeUtleSA9IFwiYnJhbmRQcmltYXJ5XCI7XG5cdGNvbnN0IGJyYW5kUHJpbWFyeVZhbHVlID0gXCIjNTA0Q0ZGXCI7XG5cdGNvbnN0IGJyYW5kU2Vjb25kYXJ5S2V5ID0gXCJicmFuZFNlY29uZGFyeVwiO1xuXHRjb25zdCBicmFuZFNlY29uZGFyeVZhbHVlID0gXCIjMzgzQTQwXCI7XG5cdGNvbnN0IGJhY2tncm91bmRQcmltYXJ5S2V5ID0gXCJiYWNrZ3JvdW5kUHJpbWFyeVwiO1xuXHRjb25zdCBiYWNrZ3JvdW5kUHJpbWFyeVZhbHVlID0gXCIjMTExMjE0XCI7XG5cblx0aWYgKHBhbGV0dGVbYnJhbmRQcmltYXJ5S2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YFRoZW1lOiAke3RoZW1lTGFiZWx9IDogJHticmFuZFByaW1hcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke2JyYW5kUHJpbWFyeVZhbHVlfWBcblx0XHQpO1xuXHRcdHBhbGV0dGVbYnJhbmRQcmltYXJ5S2V5XSA9IGJyYW5kUHJpbWFyeVZhbHVlO1xuXHR9XG5cblx0aWYgKHBhbGV0dGVbYnJhbmRTZWNvbmRhcnlLZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgVGhlbWU6ICR7dGhlbWVMYWJlbH0gOiAke2JyYW5kU2Vjb25kYXJ5S2V5fSBub3Qgc3BlY2lmaWVkIChpdCBpcyByZXF1aXJlZCBpZiBzcGVjaWZ5aW5nIG90aGVyIHRoZW1lIHBhbGV0dGUgc2V0dGluZ3MpLiBQcm92aWRpbmcgZGVmYXVsdCBvZjogJHticmFuZFNlY29uZGFyeVZhbHVlfWBcblx0XHQpO1xuXHRcdHBhbGV0dGVbYnJhbmRTZWNvbmRhcnlLZXldID0gYnJhbmRTZWNvbmRhcnlWYWx1ZTtcblx0fVxuXG5cdGlmIChwYWxldHRlW2JhY2tncm91bmRQcmltYXJ5S2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YFRoZW1lOiAke3RoZW1lTGFiZWx9IDogJHtiYWNrZ3JvdW5kUHJpbWFyeUtleX0gbm90IHNwZWNpZmllZCAoaXQgaXMgcmVxdWlyZWQgaWYgc3BlY2lmeWluZyBvdGhlciB0aGVtZSBwYWxldHRlIHNldHRpbmdzKS4gUHJvdmlkaW5nIGRlZmF1bHQgb2Y6ICR7YmFja2dyb3VuZFByaW1hcnlWYWx1ZX1gXG5cdFx0KTtcblx0XHRwYWxldHRlW2JhY2tncm91bmRQcmltYXJ5S2V5XSA9IGJhY2tncm91bmRQcmltYXJ5VmFsdWU7XG5cdH1cblxuXHRyZXR1cm4gcGFsZXR0ZSBhcyBDdXN0b21QYWxldHRlU2V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUaGVtZXModGhlbWVzOiBDdXN0b21UaGVtZXMpOiBDdXN0b21UaGVtZXMge1xuXHRjb25zdCB2YWxpZGF0ZWRUaGVtZXM6IEN1c3RvbVRoZW1lcyA9IFtdO1xuXG5cdGlmIChBcnJheS5pc0FycmF5KHRoZW1lcykpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoZW1lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgdGhlbWVUb1ZhbGlkYXRlID0gdGhlbWVzW2ldO1xuXHRcdFx0Y29uc3QgcGFsZXR0ZSA9IHZhbGlkYXRlUGFsZXR0ZSh0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSwgdGhlbWVUb1ZhbGlkYXRlLmxhYmVsKTtcblx0XHRcdGlmIChwYWxldHRlICE9PSBudWxsKSB7XG5cdFx0XHRcdHRoZW1lVG9WYWxpZGF0ZS5wYWxldHRlID0gcGFsZXR0ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGRvbid0IHBhc3MgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZXJlIGFyZSBubyB0aGVtZSBwcm9wZXJ0aWVzXG5cdFx0XHRcdHRoZW1lVG9WYWxpZGF0ZS5wYWxldHRlID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0dmFsaWRhdGVkVGhlbWVzLnB1c2godGhlbWVUb1ZhbGlkYXRlKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsaWRhdGVkVGhlbWVzO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGluaXQgYXMgYm9vdHN0cmFwIH0gZnJvbSBcIi4vYm9vdHN0cmFwcGVyXCI7XG5pbXBvcnQgeyBpbml0IGFzIGluaXRpYWxpc2VQbGF0Zm9ybSB9IGZyb20gXCIuL3BsYXRmb3JtXCI7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBhc3luYyAoKSA9PiB7XG5cdGNvbnN0IHBsYXRmb3JtID0gZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7XG5cdGF3YWl0IHBsYXRmb3JtLm9uY2UoXCJwbGF0Zm9ybS1hcGktcmVhZHlcIiwgYXN5bmMgKCkgPT4gYm9vdHN0cmFwKCkpO1xuXHRhd2FpdCBpbml0aWFsaXNlUGxhdGZvcm0oKTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9