/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/microsoft365/openfin.ms365.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@openfin/microsoft365/openfin.ms365.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiError: () => (/* binding */ o),
/* harmony export */   ApiRequestError: () => (/* binding */ i),
/* harmony export */   AuthTokenExpiredError: () => (/* binding */ a),
/* harmony export */   AuthorizationError: () => (/* binding */ s),
/* harmony export */   InitializationError: () => (/* binding */ u),
/* harmony export */   InteropError: () => (/* binding */ l),
/* harmony export */   ParameterError: () => (/* binding */ c),
/* harmony export */   TeamsConnection: () => (/* binding */ f),
/* harmony export */   connect: () => (/* binding */ d),
/* harmony export */   disableLogging: () => (/* binding */ h),
/* harmony export */   enableLogging: () => (/* binding */ p)
/* harmony export */ });
/*! For license information please see openfin.ms365.js.LICENSE.txt */
var t={876:t=>{const{AbortController:e,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=n,t.exports.default=e},60:(t,e)=>{e.byteLength=function(t){var e=s(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=s(t),a=i[0],u=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,u)),c=0,f=u>0?a-4:a;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(u(t,s,s+a>l?l:s+a));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},485:(t,e,n)=>{const r=n(60),o=n(215),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=s(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const o=function(t){if(u.isBuffer(t)){const e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||K(t.length)?s(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),s(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(o)return r?-1:V(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){let i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(t,i)===l(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(l(t,i+r)!==l(e,r)){n=!1;break}if(n)return i}return-1}function w(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(K(r))return a;t[n+a]=r}return a}function _(t,e,n,r){return J(V(e,t.length-n),t,n,r)}function E(t,e,n,r){return J(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return J(G(e),t,n,r)}function A(t,e,n,r){return J(function(t,e){let n,r,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=n){let n,r,s,u;switch(a){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(i=u));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=t[o+1],r=t[o+2],s=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(t){const e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}(r)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))o+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,o){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(i,a),l=this.slice(r,o),c=t.slice(e,n);for(let t=0;t<s;++t)if(l[t]!==c[t]){i=l[t],a=c[t];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function x(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function C(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function B(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=X[t[r]];return o}function k(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r,o){F(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function j(t,e,n,r,o){F(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function N(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}let o=0,i=1,a=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=u.isBuffer(t)?t:u.from(t,r),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%a]}return this};const W={};function $(t,e,n){W[t]=class NodeError extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function F(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,o,i)}function z(t,e){if("number"!=typeof t)throw new W.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function V(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},465:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}g(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,n)}(t,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,a,l;if(s(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(t))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=c.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,e)}return!0},i.prototype.addListener=function(t,e){return l(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return l(this,t,e,!0)},i.prototype.once=function(t,e){return s(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return d(this,t,!0)},i.prototype.rawListeners=function(t){return d(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},215:(t,e)=>{e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=p,a/=256,l-=8);t[n+h-p]|=128*g}},951:function(t,e,n){var r;t=n.nmd(t),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,y=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],v="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",E="[object Error]",S="[object Function]",A="[object GeneratorFunction]",I="[object Map]",T="[object Number]",R="[object Object]",x="[object Promise]",C="[object RegExp]",B="[object Set]",k="[object String]",L="[object Symbol]",O="[object WeakMap]",U="[object ArrayBuffer]",j="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",W="[object Int16Array]",$="[object Int32Array]",D="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,K=RegExp(J.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,it=RegExp(ot.source),at=/^\s+/,st=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",It="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="\\u2700-\\u27bf",Rt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Bt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="['’]",Lt="["+At+"]",Ot="["+Bt+"]",Ut="["+It+"]",jt="\\d+",Nt="["+Tt+"]",Mt="["+Rt+"]",Pt="[^"+At+Bt+jt+Tt+Rt+xt+"]",Wt="\\ud83c[\\udffb-\\udfff]",$t="[^"+At+"]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+xt+"]",qt="\\u200d",Ht="(?:"+Mt+"|"+Pt+")",Vt="(?:"+zt+"|"+Pt+")",Gt="(?:['’](?:d|ll|m|re|s|t|ve))?",Jt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Ut+"|"+Wt+")"+"?",Kt="["+Ct+"]?",Xt=Kt+Yt+("(?:"+qt+"(?:"+[$t,Dt,Ft].join("|")+")"+Kt+Yt+")*"),Zt="(?:"+[Nt,Dt,Ft].join("|")+")"+Xt,Qt="(?:"+[$t+Ut+"?",Ut,Dt,Ft,Lt].join("|")+")",te=RegExp(kt,"g"),ee=RegExp(Ut,"g"),ne=RegExp(Wt+"(?="+Wt+")|"+Qt+Xt,"g"),re=RegExp([zt+"?"+Mt+"+"+Gt+"(?="+[Ot,zt,"$"].join("|")+")",Vt+"+"+Jt+"(?="+[Ot,zt+Ht,"$"].join("|")+")",zt+"?"+Ht+"+"+Gt,zt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Zt].join("|"),"g"),oe=RegExp("["+qt+At+It+Ct+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ue={};ue[N]=ue[M]=ue[P]=ue[W]=ue[$]=ue[D]=ue[F]=ue[z]=ue[q]=!0,ue[v]=ue[b]=ue[U]=ue[w]=ue[j]=ue[_]=ue[E]=ue[S]=ue[I]=ue[T]=ue[R]=ue[C]=ue[B]=ue[k]=ue[O]=!1;var le={};le[v]=le[b]=le[U]=le[j]=le[w]=le[_]=le[N]=le[M]=le[P]=le[W]=le[$]=le[I]=le[T]=le[R]=le[C]=le[B]=le[k]=le[L]=le[D]=le[F]=le[z]=le[q]=!0,le[E]=le[S]=le[O]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=he||pe||Function("return this")(),ye=e&&!e.nodeType&&e,me=ye&&t&&!t.nodeType&&t,ve=me&&me.exports===ye,be=ve&&he.process,we=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),_e=we&&we.isArrayBuffer,Ee=we&&we.isDate,Se=we&&we.isMap,Ae=we&&we.isRegExp,Ie=we&&we.isSet,Te=we&&we.isTypedArray;function Re(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Oe(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Ue(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function je(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Ne(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Me(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Pe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function We(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $e=Ge("length");function De(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Fe(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function ze(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Fe(t,He,n)}function qe(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function He(t){return t!=t}function Ve(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:g}function Ge(t){return function(e){return null==e?o:e[t]}}function Je(t){return function(e){return null==t?o:t[e]}}function Ye(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ke(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ze(t){return t?t.slice(0,yn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return je(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}var on=Je({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ce[t]}function un(t){return oe.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,i[o++]=n)}return i}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):$e(t)}function gn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function yn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n,r=(e=null==e?ge:vn.defaults(ge.Object(),e,vn.pick(ge,ae))).Array,st=e.Date,At=e.Error,It=e.Function,Tt=e.Math,Rt=e.Object,xt=e.RegExp,Ct=e.String,Bt=e.TypeError,kt=r.prototype,Lt=It.prototype,Ot=Rt.prototype,Ut=e["__core-js_shared__"],jt=Lt.toString,Nt=Ot.hasOwnProperty,Mt=0,Pt=(n=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Wt=Ot.toString,$t=jt.call(Rt),Dt=ge._,Ft=xt("^"+jt.call(Nt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ve?e.Buffer:o,qt=e.Symbol,Ht=e.Uint8Array,Vt=zt?zt.allocUnsafe:o,Gt=cn(Rt.getPrototypeOf,Rt),Jt=Rt.create,Yt=Ot.propertyIsEnumerable,Kt=kt.splice,Xt=qt?qt.isConcatSpreadable:o,Zt=qt?qt.iterator:o,Qt=qt?qt.toStringTag:o,ne=function(){try{var t=hi(Rt,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ce=st&&st.now!==ge.Date.now&&st.now,he=e.setTimeout!==ge.setTimeout&&e.setTimeout,pe=Tt.ceil,ye=Tt.floor,me=Rt.getOwnPropertySymbols,be=zt?zt.isBuffer:o,we=e.isFinite,$e=kt.join,Je=cn(Rt.keys,Rt),bn=Tt.max,wn=Tt.min,_n=st.now,En=e.parseInt,Sn=Tt.random,An=kt.reverse,In=hi(e,"DataView"),Tn=hi(e,"Map"),Rn=hi(e,"Promise"),xn=hi(e,"Set"),Cn=hi(e,"WeakMap"),Bn=hi(Rt,"create"),kn=Cn&&new Cn,Ln={},On=Wi(In),Un=Wi(Tn),jn=Wi(Rn),Nn=Wi(xn),Mn=Wi(Cn),Pn=qt?qt.prototype:o,Wn=Pn?Pn.valueOf:o,$n=Pn?Pn.toString:o;function Dn(t){if(ns(t)&&!Ha(t)&&!(t instanceof Hn)){if(t instanceof qn)return t;if(Nt.call(t,"__wrapped__"))return $i(t)}return new qn(t)}var Fn=function(){function t(){}return function(e){if(!es(e))return{};if(Jt)return Jt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function zn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Jn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Xn(t,e){var n=Ha(t),r=!n&&qa(t),o=!n&&!r&&Ya(t),i=!n&&!r&&!o&&cs(t),a=n||r||o||i,s=a?Xe(t.length,Ct):[],u=s.length;for(var l in t)!e&&!Nt.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wi(l,u))||s.push(l);return s}function Zn(t){var e=t.length;return e?t[Yr(0,e-1)]:o}function Qn(t,e){return Ni(ko(t),ur(e,0,t.length))}function tr(t){return Ni(ko(t))}function er(t,e,n){(n!==o&&!Da(t[e],n)||n===o&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Nt.call(t,e)&&Da(r,n)&&(n!==o||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Da(t[n][0],e))return n;return-1}function or(t,e,n,r){return hr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function ir(t,e){return t&&Lo(e,Ls(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:Rs(t,e[n]);return a}function ur(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function lr(t,e,n,r,i,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!es(t))return t;var f=Ha(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return ko(t,s)}else{var d=yi(t),h=d==S||d==A;if(Ya(t))return Io(t,u);if(d==R||d==v||h&&!i){if(s=l||h?{}:vi(t),!u)return l?function(t,e){return Lo(t,gi(t),e)}(t,function(t,e){return t&&Lo(e,Os(e),t)}(s,t)):function(t,e){return Lo(t,pi(t),e)}(t,ir(s,t))}else{if(!le[d])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case U:return To(t);case w:case _:return new r(+t);case j:return function(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case M:case P:case W:case $:case D:case F:case z:case q:return Ro(t,n);case I:return new r;case T:case k:return new r(t);case C:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case B:return new r;case L:return o=t,Wn?Rt(Wn.call(o)):{}}var o}(t,d,u)}}a||(a=new Kn);var p=a.get(t);if(p)return p;a.set(t,s),ss(t)?t.forEach((function(r){s.add(lr(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,o){s.set(o,lr(r,e,n,o,t,a))}));var g=f?o:(c?l?ai:ii:l?Os:Ls)(t);return Ce(g||t,(function(r,o){g&&(r=t[o=r]),nr(s,o,lr(r,e,n,o,t,a))})),s}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Rt(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Bt(i);return Li((function(){t.apply(o,n)}),e)}function dr(t,e,n,r){var o=-1,i=Oe,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=je(e,Qe(n))),r?(i=Ue,a=!1):e.length>=200&&(i=en,a=!1,e=new Yn(e));t:for(;++o<s;){var c=t[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(e[d]===f)continue t;u.push(c)}else i(e,f,r)||u.push(c)}return u}Dn.templateSettings={escape:Z,evaluate:Q,interpolate:tt,variable:"",imports:{_:Dn}},Dn.prototype=zn.prototype,Dn.prototype.constructor=Dn,qn.prototype=Fn(zn.prototype),qn.prototype.constructor=qn,Hn.prototype=Fn(zn.prototype),Hn.prototype.constructor=Hn,Vn.prototype.clear=function(){this.__data__=Bn?Bn(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(Bn){var n=e[t];return n===a?o:n}return Nt.call(e,t)?e[t]:o},Vn.prototype.has=function(t){var e=this.__data__;return Bn?e[t]!==o:Nt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bn&&e===o?a:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Gn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?o:e[n][1]},Gn.prototype.has=function(t){return rr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Tn||Gn),string:new Vn}},Jn.prototype.delete=function(t){var e=fi(this,t).delete(t);return this.size-=e?1:0,e},Jn.prototype.get=function(t){return fi(this,t).get(t)},Jn.prototype.has=function(t){return fi(this,t).has(t)},Jn.prototype.set=function(t,e){var n=fi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,a),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(t,e),this.size=n.size,this};var hr=jo(_r),pr=jo(Er,!0);function gr(t,e){var n=!0;return hr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function yr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!ls(s):n(s,u)))var u=s,l=a}return l}function mr(t,e){var n=[];return hr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function vr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=bi),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?vr(s,e-1,n,r,o):Ne(o,s):r||(o[o.length]=s)}return o}var br=No(),wr=No(!0);function _r(t,e){return t&&br(t,e,Ls)}function Er(t,e){return t&&wr(t,e,Ls)}function Sr(t,e){return Le(e,(function(e){return Za(t[e])}))}function Ar(t,e){for(var n=0,r=(e=_o(e,t)).length;null!=t&&n<r;)t=t[Pi(e[n++])];return n&&n==r?t:o}function Ir(t,e,n){var r=e(t);return Ha(t)?r:Ne(r,n(t))}function Tr(t){return null==t?t===o?"[object Undefined]":"[object Null]":Qt&&Qt in Rt(t)?function(t){var e=Nt.call(t,Qt),n=t[Qt];try{t[Qt]=o;var r=!0}catch(t){}var i=Wt.call(t);r&&(e?t[Qt]=n:delete t[Qt]);return i}(t):function(t){return Wt.call(t)}(t)}function Rr(t,e){return t>e}function xr(t,e){return null!=t&&Nt.call(t,e)}function Cr(t,e){return null!=t&&e in Rt(t)}function Br(t,e,n){for(var i=n?Ue:Oe,a=t[0].length,s=t.length,u=s,l=r(s),c=1/0,f=[];u--;){var d=t[u];u&&e&&(d=je(d,Qe(e))),c=wn(d.length,c),l[u]=!n&&(e||a>=120&&d.length>=120)?new Yn(u&&d):o}d=t[0];var h=-1,p=l[0];t:for(;++h<a&&f.length<c;){var g=d[h],y=e?e(g):g;if(g=n||0!==g?g:0,!(p?en(p,y):i(f,y,n))){for(u=s;--u;){var m=l[u];if(!(m?en(m,y):i(t[u],y,n)))continue t}p&&p.push(y),f.push(g)}}return f}function kr(t,e,n){var r=null==(t=Ci(t,e=_o(e,t)))?t:t[Pi(Xi(e))];return null==r?o:Re(r,t,n)}function Lr(t){return ns(t)&&Tr(t)==v}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=Ha(t),u=Ha(e),l=s?b:yi(t),c=u?b:yi(e),f=(l=l==v?R:l)==R,d=(c=c==v?R:c)==R,h=l==c;if(h&&Ya(t)){if(!Ya(e))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Kn),s||cs(t)?ri(t,e,n,r,i,a):function(t,e,n,r,o,i,a){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case U:return!(t.byteLength!=e.byteLength||!i(new Ht(t),new Ht(e)));case w:case _:case T:return Da(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case k:return t==e+"";case I:var s=ln;case B:var u=1&r;if(s||(s=dn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=ri(s(t),s(e),r,o,i,a);return a.delete(t),c;case L:if(Wn)return Wn.call(t)==Wn.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var p=f&&Nt.call(t,"__wrapped__"),g=d&&Nt.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,m=g?e.value():e;return a||(a=new Kn),i(y,m,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(t,e,n,r,i,a){var s=1&n,u=ii(t),l=u.length,c=ii(e),f=c.length;if(l!=f&&!s)return!1;var d=l;for(;d--;){var h=u[d];if(!(s?h in e:Nt.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);var m=s;for(;++d<l;){var v=t[h=u[d]],b=e[h];if(r)var w=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(w===o?v===b||i(v,b,n,r,a):w)){y=!1;break}m||(m="constructor"==h)}if(y&&!m){var _=t.constructor,E=e.constructor;_==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,n,r,i,a)}(t,e,n,r,Or,i))}function Ur(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Rt(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var d=new Kn;if(r)var h=r(c,f,l,t,e,d);if(!(h===o?Or(f,c,3,r,d):h))return!1}}return!0}function jr(t){return!(!es(t)||(e=t,Pt&&Pt in e))&&(Za(t)?Ft:vt).test(Wi(t));// removed by dead control flow
{ var e; }}function Nr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Ha(t)?Fr(t[0],t[1]):Dr(t):hu(t)}function Mr(t){if(!Ii(t))return Je(t);var e=[];for(var n in Rt(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pr(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Rt(t))e.push(n);return e}(t);var e=Ii(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}function Wr(t,e){return t<e}function $r(t,e){var n=-1,o=Ga(t)?r(t.length):[];return hr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Dr(t){var e=di(t);return 1==e.length&&e[0][2]?Ri(e[0][0],e[0][1]):function(n){return n===t||Ur(n,t,e)}}function Fr(t,e){return Ei(t)&&Ti(e)?Ri(Pi(t),e):function(n){var r=Rs(n,t);return r===o&&r===e?xs(n,t):Or(e,r,3)}}function zr(t,e,n,r,i){t!==e&&br(e,(function(a,s){if(i||(i=new Kn),es(a))!function(t,e,n,r,i,a,s){var u=Bi(t,n),l=Bi(e,n),c=s.get(l);if(c)return void er(t,n,c);var f=a?a(u,l,n+"",t,e,s):o,d=f===o;if(d){var h=Ha(l),p=!h&&Ya(l),g=!h&&!p&&cs(l);f=l,h||p||g?Ha(u)?f=u:Ja(u)?f=ko(u):p?(d=!1,f=Io(l,!0)):g?(d=!1,f=Ro(l,!0)):f=[]:is(l)||qa(l)?(f=u,qa(u)?f=vs(u):es(u)&&!Za(u)||(f=vi(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l));er(t,n,f)}(t,e,s,n,zr,r,i);else{var u=r?r(Bi(t,s),a,s+"",t,e,i):o;u===o&&(u=a),er(t,s,u)}}),Os)}function qr(t,e){var n=t.length;if(n)return wi(e+=e<0?n:0,n)?t[e]:o}function Hr(t,e,n){e=e.length?je(e,(function(t){return Ha(t)?function(e){return Ar(e,1===t.length?t[0]:t)}:t})):[ou];var r=-1;e=je(e,Qe(ci()));var o=$r(t,(function(t,n,o){var i=je(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;for(;++r<a;){var u=xo(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Vr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=Ar(t,a);n(s,a)&&to(i,_o(a,t),s)}return i}function Gr(t,e,n,r){var o=r?qe:ze,i=-1,a=e.length,s=t;for(t===e&&(e=ko(e)),n&&(s=je(t,Qe(n)));++i<a;)for(var u=0,l=e[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function Jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;wi(o)?Kt.call(t,o,1):ho(t,o)}}return t}function Yr(t,e){return t+ye(Sn()*(e-t+1))}function Kr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ye(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return Oi(xi(t,e,ou),t+"")}function Zr(t){return Zn(Ds(t))}function Qr(t,e){var n=Ds(t);return Ni(n,ur(e,0,n.length))}function to(t,e,n,r){if(!es(t))return t;for(var i=-1,a=(e=_o(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=Pi(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=es(f)?f:wi(e[i+1])?[]:{})}nr(u,l,c),u=u[l]}return t}var eo=kn?function(t,e){return kn.set(t,e),t}:ou,no=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:ou;function ro(t){return Ni(Ds(t))}function oo(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function io(t,e){var n;return hr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function ao(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!ls(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return so(t,e,ou,n)}function so(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=ls(e),c=e===o;i<a;){var f=ye((i+a)/2),d=n(t[f]),h=d!==o,p=null===d,g=d==d,y=ls(d);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!y):!p&&!y&&(r?d<=e:d<e);m?i=f+1:a=f}return wn(a,4294967294)}function uo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Da(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function lo(t){return"number"==typeof t?t:ls(t)?g:+t}function co(t){if("string"==typeof t)return t;if(Ha(t))return je(t,co)+"";if(ls(t))return $n?$n.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fo(t,e,n){var r=-1,o=Oe,i=t.length,a=!0,s=[],u=s;if(n)a=!1,o=Ue;else if(i>=200){var l=e?null:Xo(t);if(l)return dn(l);a=!1,o=en,u=new Yn}else u=e?[]:s;t:for(;++r<i;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function ho(t,e){return null==(t=Ci(t,e=_o(e,t)))||delete t[Pi(Xi(e))]}function po(t,e,n,r){return to(t,e,n(Ar(t,e)),r)}function go(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?oo(t,r?0:i,r?i+1:o):oo(t,r?i+1:0,r?o:i)}function yo(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function mo(t,e,n){var o=t.length;if(o<2)return o?fo(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=t[i],u=-1;++u<o;)u!=i&&(a[i]=dr(a[i]||s,t[u],e,n));return fo(vr(a,1),e,n)}function vo(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function bo(t){return Ja(t)?t:[]}function wo(t){return"function"==typeof t?t:ou}function _o(t,e){return Ha(t)?t:Ei(t,e)?[t]:Mi(bs(t))}var Eo=Xr;function So(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:oo(t,e,n)}var Ao=oe||function(t){return ge.clearTimeout(t)};function Io(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function To(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ro(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xo(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=ls(t),s=e!==o,u=null===e,l=e==e,c=ls(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Co(t,e,n,o){for(var i=-1,a=t.length,s=n.length,u=-1,l=e.length,c=bn(a-s,0),f=r(l+c),d=!o;++u<l;)f[u]=e[u];for(;++i<s;)(d||i<a)&&(f[n[i]]=t[i]);for(;c--;)f[u++]=t[i++];return f}function Bo(t,e,n,o){for(var i=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,f=bn(a-u,0),d=r(f+c),h=!o;++i<f;)d[i]=t[i];for(var p=i;++l<c;)d[p+l]=e[l];for(;++s<u;)(h||i<a)&&(d[p+n[s]]=t[i++]);return d}function ko(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Lo(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?ar(n,u,l):nr(n,u,l)}return n}function Oo(t,e){return function(n,r){var o=Ha(n)?xe:or,i=e?e():{};return o(n,t,ci(r,2),i)}}function Uo(t){return Xr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&_i(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Rt(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function jo(t,e){return function(n,r){if(null==n)return n;if(!Ga(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Rt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function No(t){return function(e,n,r){for(var o=-1,i=Rt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}function Mo(t){return function(e){var n=un(e=bs(e))?gn(e):o,r=n?n[0]:e.charAt(0),i=n?So(n,1).join(""):e.slice(1);return r[t]()+i}}function Po(t){return function(e){return Me(Zs(qs(e).replace(te,"")),t,"")}}function Wo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function $o(t){return function(e,n,r){var i=Rt(e);if(!Ga(e)){var a=ci(n,3);e=Ls(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Do(t){return oi((function(e){var n=e.length,r=n,a=qn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Bt(i);if(a&&!u&&"wrapper"==ui(s))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var l=ui(s=e[r]),c="wrapper"==l?si(s):o;u=c&&Si(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ui(c[0])].apply(u,c[3]):1==s.length&&Si(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ha(r))return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Fo(t,e,n,i,a,s,u,l,c,d){var h=e&f,p=1&e,g=2&e,y=24&e,m=512&e,v=g?o:Wo(t);return function f(){for(var b=arguments.length,w=r(b),_=b;_--;)w[_]=arguments[_];if(y)var E=li(f),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(w,E);if(i&&(w=Co(w,i,a,y)),s&&(w=Bo(w,s,u,y)),b-=S,y&&b<d){var A=fn(w,E);return Yo(t,e,Fo,f.placeholder,n,w,A,l,c,d-b)}var I=p?n:this,T=g?I[t]:t;return b=w.length,l?w=function(t,e){var n=t.length,r=wn(e.length,n),i=ko(t);for(;r--;){var a=e[r];t[r]=wi(a,n)?i[a]:o}return t}(w,l):m&&b>1&&w.reverse(),h&&c<b&&(w.length=c),this&&this!==ge&&this instanceof f&&(T=v||Wo(T)),T.apply(I,w)}}function zo(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function qo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=lo(n),r=lo(r)),i=t(n,r)}return i}}function Ho(t){return oi((function(e){return e=je(e,Qe(ci())),Xr((function(n){var r=this;return t(e,(function(t){return Re(t,r,n)}))}))}))}function Vo(t,e){var n=(e=e===o?" ":co(e)).length;if(n<2)return n?Kr(e,t):e;var r=Kr(e,pe(t/pn(e)));return un(e)?So(gn(r),0,t).join(""):r.slice(0,t)}function Go(t){return function(e,n,i){return i&&"number"!=typeof i&&_i(e,n,i)&&(n=i=o),e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n,o){for(var i=-1,a=bn(pe((e-t)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:ps(i),t)}}function Jo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function Yo(t,e,n,r,i,a,s,u,f,d){var h=8&e;e|=h?l:c,4&(e&=~(h?c:l))||(e&=-4);var p=[t,e,i,h?a:o,h?s:o,h?o:a,h?o:s,u,f,d],g=n.apply(o,p);return Si(t)&&ki(g,p),g.placeholder=r,Ui(g,t,e)}function Ko(t){var e=Tt[t];return function(t,n){if(t=ms(t),(n=null==n?0:wn(gs(n),292))&&we(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Xo=xn&&1/dn(new xn([,-0]))[1]==h?function(t){return new xn(t)}:lu;function Zo(t){return function(e){var n=yi(e);return n==I?ln(e):n==B?hn(e):function(t,e){return je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qo(t,e,n,a,h,p,g,y){var m=2&e;if(!m&&"function"!=typeof t)throw new Bt(i);var v=a?a.length:0;if(v||(e&=-97,a=h=o),g=g===o?g:bn(gs(g),0),y=y===o?y:gs(y),v-=h?h.length:0,e&c){var b=a,w=h;a=h=o}var _=m?o:si(t),E=[t,e,n,a,h,b,w,p,g,y];if(_&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Co(l,u,e[4]):u,t[4]=l?fn(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Bo(l,u,e[6]):u,t[6]=l?fn(t[5],s):e[6]);(u=e[7])&&(t[7]=u);r&f&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(E,_),t=E[0],e=E[1],n=E[2],a=E[3],h=E[4],!(y=E[9]=E[9]===o?m?0:t.length:bn(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==u?function(t,e,n){var i=Wo(t);return function a(){for(var s=arguments.length,u=r(s),l=s,c=li(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<n?Yo(t,e,Fo,a.placeholder,o,u,f,o,o,n-s):Re(this&&this!==ge&&this instanceof a?i:t,this,u)}}(t,e,y):e!=l&&33!=e||h.length?Fo.apply(o,E):function(t,e,n,o){var i=1&e,a=Wo(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=o.length,f=r(c+u),d=this&&this!==ge&&this instanceof e?a:t;++l<c;)f[l]=o[l];for(;u--;)f[l++]=arguments[++s];return Re(d,i?n:this,f)}}(t,e,n,a);else var S=function(t,e,n){var r=1&e,o=Wo(t);return function e(){return(this&&this!==ge&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ui((_?eo:ki)(S,E),t,e)}function ti(t,e,n,r){return t===o||Da(t,Ot[n])&&!Nt.call(r,n)?e:t}function ei(t,e,n,r,i,a){return es(t)&&es(e)&&(a.set(e,t),zr(t,e,o,ei,a),a.delete(e)),t}function ni(t){return is(t)?o:t}function ri(t,e,n,r,i,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,p=2&n?new Yn:o;for(a.set(t,e),a.set(e,t);++d<u;){var g=t[d],y=e[d];if(r)var m=s?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(m!==o){if(m)continue;h=!1;break}if(p){if(!We(e,(function(t,e){if(!en(p,e)&&(g===t||i(g,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(g!==y&&!i(g,y,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function oi(t){return Oi(xi(t,o,Vi),t+"")}function ii(t){return Ir(t,Ls,pi)}function ai(t){return Ir(t,Os,gi)}var si=kn?function(t){return kn.get(t)}:lu;function ui(t){for(var e=t.name+"",n=Ln[e],r=Nt.call(Ln,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function li(t){return(Nt.call(Dn,"placeholder")?Dn:t).placeholder}function ci(){var t=Dn.iteratee||iu;return t=t===iu?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function fi(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function di(t){for(var e=Ls(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ti(o)]}return e}function hi(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return jr(n)?n:o}var pi=me?function(t){return null==t?[]:(t=Rt(t),Le(me(t),(function(e){return Yt.call(t,e)})))}:yu,gi=me?function(t){for(var e=[];t;)Ne(e,pi(t)),t=Gt(t);return e}:yu,yi=Tr;function mi(t,e,n){for(var r=-1,o=(e=_o(e,t)).length,i=!1;++r<o;){var a=Pi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ts(o)&&wi(a,o)&&(Ha(t)||qa(t))}function vi(t){return"function"!=typeof t.constructor||Ii(t)?{}:Fn(Gt(t))}function bi(t){return Ha(t)||qa(t)||!!(Xt&&t&&t[Xt])}function wi(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?Ga(n)&&wi(e,n.length):"string"==r&&e in n)&&Da(n[e],t)}function Ei(t,e){if(Ha(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ls(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Rt(e))}function Si(t){var e=ui(t),n=Dn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=si(n);return!!r&&t===r[0]}(In&&yi(new In(new ArrayBuffer(1)))!=j||Tn&&yi(new Tn)!=I||Rn&&yi(Rn.resolve())!=x||xn&&yi(new xn)!=B||Cn&&yi(new Cn)!=O)&&(yi=function(t){var e=Tr(t),n=e==R?t.constructor:o,r=n?Wi(n):"";if(r)switch(r){case On:return j;case Un:return I;case jn:return x;case Nn:return B;case Mn:return O}return e});var Ai=Ut?Za:mu;function Ii(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)}function Ti(t){return t==t&&!es(t)}function Ri(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Rt(n)))}}function xi(t,e,n){return e=bn(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=bn(o.length-e,0),s=r(a);++i<a;)s[i]=o[e+i];i=-1;for(var u=r(e+1);++i<e;)u[i]=o[i];return u[e]=n(s),Re(t,this,u)}}function Ci(t,e){return e.length<2?t:Ar(t,oo(e,0,-1))}function Bi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ki=ji(eo),Li=he||function(t,e){return ge.setTimeout(t,e)},Oi=ji(no);function Ui(t,e,n){var r=e+"";return Oi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ce(m,(function(n){var r="_."+n[0];e&n[1]&&!Oe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(r),n)))}function ji(t){var e=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Ni(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Yr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Mi=function(t){var e=ja(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,o){e.push(r?o.replace(ht,"$1"):n||t)})),e}));function Pi(t){if("string"==typeof t||ls(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Wi(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $i(t){if(t instanceof Hn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=ko(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Di=Xr((function(t,e){return Ja(t)?dr(t,vr(e,1,Ja,!0)):[]})),Fi=Xr((function(t,e){var n=Xi(e);return Ja(n)&&(n=o),Ja(t)?dr(t,vr(e,1,Ja,!0),ci(n,2)):[]})),zi=Xr((function(t,e){var n=Xi(e);return Ja(n)&&(n=o),Ja(t)?dr(t,vr(e,1,Ja,!0),o,n):[]}));function qi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=bn(r+o,0)),Fe(t,ci(e,3),o)}function Hi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?bn(r+i,0):wn(i,r-1)),Fe(t,ci(e,3),i,!0)}function Vi(t){return(null==t?0:t.length)?vr(t,1):[]}function Gi(t){return t&&t.length?t[0]:o}var Ji=Xr((function(t){var e=je(t,bo);return e.length&&e[0]===t[0]?Br(e):[]})),Yi=Xr((function(t){var e=Xi(t),n=je(t,bo);return e===Xi(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Br(n,ci(e,2)):[]})),Ki=Xr((function(t){var e=Xi(t),n=je(t,bo);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Br(n,o,e):[]}));function Xi(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Zi=Xr(Qi);function Qi(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var ta=oi((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Jr(t,je(e,(function(t){return wi(t,n)?+t:t})).sort(xo)),r}));function ea(t){return null==t?t:An.call(t)}var na=Xr((function(t){return fo(vr(t,1,Ja,!0))})),ra=Xr((function(t){var e=Xi(t);return Ja(e)&&(e=o),fo(vr(t,1,Ja,!0),ci(e,2))})),oa=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:o,fo(vr(t,1,Ja,!0),o,e)}));function ia(t){if(!t||!t.length)return[];var e=0;return t=Le(t,(function(t){if(Ja(t))return e=bn(t.length,e),!0})),Xe(e,(function(e){return je(t,Ge(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=ia(t);return null==e?n:je(n,(function(t){return Re(e,o,t)}))}var sa=Xr((function(t,e){return Ja(t)?dr(t,e):[]})),ua=Xr((function(t){return mo(Le(t,Ja))})),la=Xr((function(t){var e=Xi(t);return Ja(e)&&(e=o),mo(Le(t,Ja),ci(e,2))})),ca=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:o,mo(Le(t,Ja),o,e)})),fa=Xr(ia);var da=Xr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,aa(t,n)}));function ha(t){var e=Dn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var ga=oi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&wi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var ya=Oo((function(t,e,n){Nt.call(t,n)?++t[n]:ar(t,n,1)}));var ma=$o(qi),va=$o(Hi);function ba(t,e){return(Ha(t)?Ce:hr)(t,ci(e,3))}function wa(t,e){return(Ha(t)?Be:pr)(t,ci(e,3))}var _a=Oo((function(t,e,n){Nt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var Ea=Xr((function(t,e,n){var o=-1,i="function"==typeof e,a=Ga(t)?r(t.length):[];return hr(t,(function(t){a[++o]=i?Re(e,t,n):kr(t,e,n)})),a})),Sa=Oo((function(t,e,n){ar(t,n,e)}));function Aa(t,e){return(Ha(t)?je:$r)(t,ci(e,3))}var Ia=Oo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ta=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_i(t,e[0],e[1])?e=[]:n>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,vr(e,1),[])})),Ra=ce||function(){return ge.Date.now()};function xa(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Qo(t,f,o,o,o,o,e)}function Ca(t,e){var n;if("function"!=typeof e)throw new Bt(i);return t=gs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ba=Xr((function(t,e,n){var r=1;if(n.length){var o=fn(n,li(Ba));r|=l}return Qo(t,r,e,n,o)})),ka=Xr((function(t,e,n){var r=3;if(n.length){var o=fn(n,li(ka));r|=l}return Qo(e,r,t,n,o)}));function La(t,e,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new Bt(i);function g(e){var n=r,i=a;return r=a=o,f=e,u=t.apply(i,n)}function y(t){var n=t-c;return c===o||n>=e||n<0||h&&t-f>=s}function m(){var t=Ra();if(y(t))return v(t);l=Li(m,function(t){var n=e-(t-c);return h?wn(n,s-(t-f)):n}(t))}function v(t){return l=o,p&&r?g(t):(r=a=o,u)}function b(){var t=Ra(),n=y(t);if(r=arguments,a=this,c=t,n){if(l===o)return function(t){return f=t,l=Li(m,e),d?g(t):u}(c);if(h)return Ao(l),l=Li(m,e),g(c)}return l===o&&(l=Li(m,e)),u}return e=ms(e)||0,es(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Ao(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?u:v(Ra())},b}var Oa=Xr((function(t,e){return fr(t,1,e)})),Ua=Xr((function(t,e,n){return fr(t,ms(e)||0,n)}));function ja(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Bt(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ja.Cache||Jn),n}function Na(t){if("function"!=typeof t)throw new Bt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ja.Cache=Jn;var Ma=Eo((function(t,e){var n=(e=1==e.length&&Ha(e[0])?je(e[0],Qe(ci())):je(vr(e,1),Qe(ci()))).length;return Xr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Re(t,this,r)}))})),Pa=Xr((function(t,e){var n=fn(e,li(Pa));return Qo(t,l,o,e,n)})),Wa=Xr((function(t,e){var n=fn(e,li(Wa));return Qo(t,c,o,e,n)})),$a=oi((function(t,e){return Qo(t,d,o,o,o,e)}));function Da(t,e){return t===e||t!=t&&e!=e}var Fa=Jo(Rr),za=Jo((function(t,e){return t>=e})),qa=Lr(function(){return arguments}())?Lr:function(t){return ns(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Ha=r.isArray,Va=_e?Qe(_e):function(t){return ns(t)&&Tr(t)==U};function Ga(t){return null!=t&&ts(t.length)&&!Za(t)}function Ja(t){return ns(t)&&Ga(t)}var Ya=be||mu,Ka=Ee?Qe(Ee):function(t){return ns(t)&&Tr(t)==_};function Xa(t){if(!ns(t))return!1;var e=Tr(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Za(t){if(!es(t))return!1;var e=Tr(t);return e==S||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==gs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=Se?Qe(Se):function(t){return ns(t)&&yi(t)==I};function os(t){return"number"==typeof t||ns(t)&&Tr(t)==T}function is(t){if(!ns(t)||Tr(t)!=R)return!1;var e=Gt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==$t}var as=Ae?Qe(Ae):function(t){return ns(t)&&Tr(t)==C};var ss=Ie?Qe(Ie):function(t){return ns(t)&&yi(t)==B};function us(t){return"string"==typeof t||!Ha(t)&&ns(t)&&Tr(t)==k}function ls(t){return"symbol"==typeof t||ns(t)&&Tr(t)==L}var cs=Te?Qe(Te):function(t){return ns(t)&&ts(t.length)&&!!ue[Tr(t)]};var fs=Jo(Wr),ds=Jo((function(t,e){return t<=e}));function hs(t){if(!t)return[];if(Ga(t))return us(t)?gn(t):ko(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=yi(t);return(e==I?ln:e==B?dn:Ds)(t)}function ps(t){return t?(t=ms(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gs(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function ys(t){return t?ur(gs(t),0,y):0}function ms(t){if("number"==typeof t)return t;if(ls(t))return g;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var n=mt.test(t);return n||bt.test(t)?de(t.slice(2),n?2:8):yt.test(t)?g:+t}function vs(t){return Lo(t,Os(t))}function bs(t){return null==t?"":co(t)}var ws=Uo((function(t,e){if(Ii(e)||Ga(e))Lo(e,Ls(e),t);else for(var n in e)Nt.call(e,n)&&nr(t,n,e[n])})),_s=Uo((function(t,e){Lo(e,Os(e),t)})),Es=Uo((function(t,e,n,r){Lo(e,Os(e),t,r)})),Ss=Uo((function(t,e,n,r){Lo(e,Ls(e),t,r)})),As=oi(sr);var Is=Xr((function(t,e){t=Rt(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&_i(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Os(a),u=-1,l=s.length;++u<l;){var c=s[u],f=t[c];(f===o||Da(f,Ot[c])&&!Nt.call(t,c))&&(t[c]=a[c])}return t})),Ts=Xr((function(t){return t.push(o,ei),Re(js,o,t)}));function Rs(t,e,n){var r=null==t?o:Ar(t,e);return r===o?n:r}function xs(t,e){return null!=t&&mi(t,e,Cr)}var Cs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),t[e]=n}),eu(ou)),Bs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),ci),ks=Xr(kr);function Ls(t){return Ga(t)?Xn(t):Mr(t)}function Os(t){return Ga(t)?Xn(t,!0):Pr(t)}var Us=Uo((function(t,e,n){zr(t,e,n)})),js=Uo((function(t,e,n,r){zr(t,e,n,r)})),Ns=oi((function(t,e){var n={};if(null==t)return n;var r=!1;e=je(e,(function(e){return e=_o(e,t),r||(r=e.length>1),e})),Lo(t,ai(t),n),r&&(n=lr(n,7,ni));for(var o=e.length;o--;)ho(n,e[o]);return n}));var Ms=oi((function(t,e){return null==t?{}:function(t,e){return Vr(t,e,(function(e,n){return xs(t,n)}))}(t,e)}));function Ps(t,e){if(null==t)return{};var n=je(ai(t),(function(t){return[t]}));return e=ci(e),Vr(t,n,(function(t,n){return e(t,n[0])}))}var Ws=Zo(Ls),$s=Zo(Os);function Ds(t){return null==t?[]:tn(t,Ls(t))}var Fs=Po((function(t,e,n){return e=e.toLowerCase(),t+(n?zs(e):e)}));function zs(t){return Xs(bs(t).toLowerCase())}function qs(t){return(t=bs(t))&&t.replace(_t,on).replace(ee,"")}var Hs=Po((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Vs=Po((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Gs=Mo("toLowerCase");var Js=Po((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ys=Po((function(t,e,n){return t+(n?" ":"")+Xs(e)}));var Ks=Po((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xs=Mo("toUpperCase");function Zs(t,e,n){return t=bs(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var Qs=Xr((function(t,e){try{return Re(t,o,e)}catch(t){return Xa(t)?t:new At(t)}})),tu=oi((function(t,e){return Ce(e,(function(e){e=Pi(e),ar(t,e,Ba(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Do(),ru=Do(!0);function ou(t){return t}function iu(t){return Nr("function"==typeof t?t:lr(t,1))}var au=Xr((function(t,e){return function(n){return kr(n,t,e)}})),su=Xr((function(t,e){return function(n){return kr(t,n,e)}}));function uu(t,e,n){var r=Ls(e),o=Sr(e,r);null!=n||es(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Sr(e,Ls(e)));var i=!(es(n)&&"chain"in n&&!n.chain),a=Za(t);return Ce(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=ko(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ne([this.value()],arguments))})})),t}function lu(){}var cu=Ho(je),fu=Ho(ke),du=Ho(We);function hu(t){return Ei(t)?Ge(Pi(t)):function(t){return function(e){return Ar(e,t)}}(t)}var pu=Go(),gu=Go(!0);function yu(){return[]}function mu(){return!1}var vu=qo((function(t,e){return t+e}),0),bu=Ko("ceil"),wu=qo((function(t,e){return t/e}),1),_u=Ko("floor");var Eu,Su=qo((function(t,e){return t*e}),1),Au=Ko("round"),Iu=qo((function(t,e){return t-e}),0);return Dn.after=function(t,e){if("function"!=typeof e)throw new Bt(i);return t=gs(t),function(){if(--t<1)return e.apply(this,arguments)}},Dn.ary=xa,Dn.assign=ws,Dn.assignIn=_s,Dn.assignInWith=Es,Dn.assignWith=Ss,Dn.at=As,Dn.before=Ca,Dn.bind=Ba,Dn.bindAll=tu,Dn.bindKey=ka,Dn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ha(t)?t:[t]},Dn.chain=ha,Dn.chunk=function(t,e,n){e=(n?_i(t,e,n):e===o)?1:bn(gs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(pe(i/e));a<i;)u[s++]=oo(t,a,a+=e);return u},Dn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Dn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Ne(Ha(n)?ko(n):[n],vr(e,1))},Dn.cond=function(t){var e=null==t?0:t.length,n=ci();return t=e?je(t,(function(t){if("function"!=typeof t[1])throw new Bt(i);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var o=t[r];if(Re(o[0],this,n))return Re(o[1],this,n)}}))},Dn.conforms=function(t){return function(t){var e=Ls(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Dn.constant=eu,Dn.countBy=ya,Dn.create=function(t,e){var n=Fn(t);return null==e?n:ir(n,e)},Dn.curry=function t(e,n,r){var i=Qo(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Dn.curryRight=function t(e,n,r){var i=Qo(e,u,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Dn.debounce=La,Dn.defaults=Is,Dn.defaultsDeep=Ts,Dn.defer=Oa,Dn.delay=Ua,Dn.difference=Di,Dn.differenceBy=Fi,Dn.differenceWith=zi,Dn.drop=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,(e=n||e===o?1:gs(e))<0?0:e,r):[]},Dn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,0,(e=r-(e=n||e===o?1:gs(e)))<0?0:e):[]},Dn.dropRightWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!0,!0):[]},Dn.dropWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!0):[]},Dn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_i(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ys(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Dn.filter=function(t,e){return(Ha(t)?Le:mr)(t,ci(e,3))},Dn.flatMap=function(t,e){return vr(Aa(t,e),1)},Dn.flatMapDeep=function(t,e){return vr(Aa(t,e),h)},Dn.flatMapDepth=function(t,e,n){return n=n===o?1:gs(n),vr(Aa(t,e),n)},Dn.flatten=Vi,Dn.flattenDeep=function(t){return(null==t?0:t.length)?vr(t,h):[]},Dn.flattenDepth=function(t,e){return(null==t?0:t.length)?vr(t,e=e===o?1:gs(e)):[]},Dn.flip=function(t){return Qo(t,512)},Dn.flow=nu,Dn.flowRight=ru,Dn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Dn.functions=function(t){return null==t?[]:Sr(t,Ls(t))},Dn.functionsIn=function(t){return null==t?[]:Sr(t,Os(t))},Dn.groupBy=_a,Dn.initial=function(t){return(null==t?0:t.length)?oo(t,0,-1):[]},Dn.intersection=Ji,Dn.intersectionBy=Yi,Dn.intersectionWith=Ki,Dn.invert=Cs,Dn.invertBy=Bs,Dn.invokeMap=Ea,Dn.iteratee=iu,Dn.keyBy=Sa,Dn.keys=Ls,Dn.keysIn=Os,Dn.map=Aa,Dn.mapKeys=function(t,e){var n={};return e=ci(e,3),_r(t,(function(t,r,o){ar(n,e(t,r,o),t)})),n},Dn.mapValues=function(t,e){var n={};return e=ci(e,3),_r(t,(function(t,r,o){ar(n,r,e(t,r,o))})),n},Dn.matches=function(t){return Dr(lr(t,1))},Dn.matchesProperty=function(t,e){return Fr(t,lr(e,1))},Dn.memoize=ja,Dn.merge=Us,Dn.mergeWith=js,Dn.method=au,Dn.methodOf=su,Dn.mixin=uu,Dn.negate=Na,Dn.nthArg=function(t){return t=gs(t),Xr((function(e){return qr(e,t)}))},Dn.omit=Ns,Dn.omitBy=function(t,e){return Ps(t,Na(ci(e)))},Dn.once=function(t){return Ca(2,t)},Dn.orderBy=function(t,e,n,r){return null==t?[]:(Ha(e)||(e=null==e?[]:[e]),Ha(n=r?o:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Dn.over=cu,Dn.overArgs=Ma,Dn.overEvery=fu,Dn.overSome=du,Dn.partial=Pa,Dn.partialRight=Wa,Dn.partition=Ia,Dn.pick=Ms,Dn.pickBy=Ps,Dn.property=hu,Dn.propertyOf=function(t){return function(e){return null==t?o:Ar(t,e)}},Dn.pull=Zi,Dn.pullAll=Qi,Dn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,ci(n,2)):t},Dn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,o,n):t},Dn.pullAt=ta,Dn.range=pu,Dn.rangeRight=gu,Dn.rearg=$a,Dn.reject=function(t,e){return(Ha(t)?Le:mr)(t,Na(ci(e,3)))},Dn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=ci(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Jr(t,o),n},Dn.rest=function(t,e){if("function"!=typeof t)throw new Bt(i);return Xr(t,e=e===o?e:gs(e))},Dn.reverse=ea,Dn.sampleSize=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:gs(e),(Ha(t)?Qn:Qr)(t,e)},Dn.set=function(t,e,n){return null==t?t:to(t,e,n)},Dn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:to(t,e,n,r)},Dn.shuffle=function(t){return(Ha(t)?tr:ro)(t)},Dn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_i(t,e,n)?(e=0,n=r):(e=null==e?0:gs(e),n=n===o?r:gs(n)),oo(t,e,n)):[]},Dn.sortBy=Ta,Dn.sortedUniq=function(t){return t&&t.length?uo(t):[]},Dn.sortedUniqBy=function(t,e){return t&&t.length?uo(t,ci(e,2)):[]},Dn.split=function(t,e,n){return n&&"number"!=typeof n&&_i(t,e,n)&&(e=n=o),(n=n===o?y:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=co(e))&&un(t)?So(gn(t),0,n):t.split(e,n):[]},Dn.spread=function(t,e){if("function"!=typeof t)throw new Bt(i);return e=null==e?0:bn(gs(e),0),Xr((function(n){var r=n[e],o=So(n,0,e);return r&&Ne(o,r),Re(t,this,o)}))},Dn.tail=function(t){var e=null==t?0:t.length;return e?oo(t,1,e):[]},Dn.take=function(t,e,n){return t&&t.length?oo(t,0,(e=n||e===o?1:gs(e))<0?0:e):[]},Dn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,(e=r-(e=n||e===o?1:gs(e)))<0?0:e,r):[]},Dn.takeRightWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!1,!0):[]},Dn.takeWhile=function(t,e){return t&&t.length?go(t,ci(e,3)):[]},Dn.tap=function(t,e){return e(t),t},Dn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Bt(i);return es(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),La(t,e,{leading:r,maxWait:e,trailing:o})},Dn.thru=pa,Dn.toArray=hs,Dn.toPairs=Ws,Dn.toPairsIn=$s,Dn.toPath=function(t){return Ha(t)?je(t,Pi):ls(t)?[t]:ko(Mi(bs(t)))},Dn.toPlainObject=vs,Dn.transform=function(t,e,n){var r=Ha(t),o=r||Ya(t)||cs(t);if(e=ci(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:es(t)&&Za(i)?Fn(Gt(t)):{}}return(o?Ce:_r)(t,(function(t,r,o){return e(n,t,r,o)})),n},Dn.unary=function(t){return xa(t,1)},Dn.union=na,Dn.unionBy=ra,Dn.unionWith=oa,Dn.uniq=function(t){return t&&t.length?fo(t):[]},Dn.uniqBy=function(t,e){return t&&t.length?fo(t,ci(e,2)):[]},Dn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?fo(t,o,e):[]},Dn.unset=function(t,e){return null==t||ho(t,e)},Dn.unzip=ia,Dn.unzipWith=aa,Dn.update=function(t,e,n){return null==t?t:po(t,e,wo(n))},Dn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:po(t,e,wo(n),r)},Dn.values=Ds,Dn.valuesIn=function(t){return null==t?[]:tn(t,Os(t))},Dn.without=sa,Dn.words=Zs,Dn.wrap=function(t,e){return Pa(wo(e),t)},Dn.xor=ua,Dn.xorBy=la,Dn.xorWith=ca,Dn.zip=fa,Dn.zipObject=function(t,e){return vo(t||[],e||[],nr)},Dn.zipObjectDeep=function(t,e){return vo(t||[],e||[],to)},Dn.zipWith=da,Dn.entries=Ws,Dn.entriesIn=$s,Dn.extend=_s,Dn.extendWith=Es,uu(Dn,Dn),Dn.add=vu,Dn.attempt=Qs,Dn.camelCase=Fs,Dn.capitalize=zs,Dn.ceil=bu,Dn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ms(n))==n?n:0),e!==o&&(e=(e=ms(e))==e?e:0),ur(ms(t),e,n)},Dn.clone=function(t){return lr(t,4)},Dn.cloneDeep=function(t){return lr(t,5)},Dn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:o)},Dn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:o)},Dn.conformsTo=function(t,e){return null==e||cr(t,e,Ls(e))},Dn.deburr=qs,Dn.defaultTo=function(t,e){return null==t||t!=t?e:t},Dn.divide=wu,Dn.endsWith=function(t,e,n){t=bs(t),e=co(e);var r=t.length,i=n=n===o?r:ur(gs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Dn.eq=Da,Dn.escape=function(t){return(t=bs(t))&&X.test(t)?t.replace(Y,an):t},Dn.escapeRegExp=function(t){return(t=bs(t))&&it.test(t)?t.replace(ot,"\\$&"):t},Dn.every=function(t,e,n){var r=Ha(t)?ke:gr;return n&&_i(t,e,n)&&(e=o),r(t,ci(e,3))},Dn.find=ma,Dn.findIndex=qi,Dn.findKey=function(t,e){return De(t,ci(e,3),_r)},Dn.findLast=va,Dn.findLastIndex=Hi,Dn.findLastKey=function(t,e){return De(t,ci(e,3),Er)},Dn.floor=_u,Dn.forEach=ba,Dn.forEachRight=wa,Dn.forIn=function(t,e){return null==t?t:br(t,ci(e,3),Os)},Dn.forInRight=function(t,e){return null==t?t:wr(t,ci(e,3),Os)},Dn.forOwn=function(t,e){return t&&_r(t,ci(e,3))},Dn.forOwnRight=function(t,e){return t&&Er(t,ci(e,3))},Dn.get=Rs,Dn.gt=Fa,Dn.gte=za,Dn.has=function(t,e){return null!=t&&mi(t,e,xr)},Dn.hasIn=xs,Dn.head=Gi,Dn.identity=ou,Dn.includes=function(t,e,n,r){t=Ga(t)?t:Ds(t),n=n&&!r?gs(n):0;var o=t.length;return n<0&&(n=bn(o+n,0)),us(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&ze(t,e,n)>-1},Dn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=bn(r+o,0)),ze(t,e,o)},Dn.inRange=function(t,e,n){return e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n){return t>=wn(e,n)&&t<bn(e,n)}(t=ms(t),e,n)},Dn.invoke=ks,Dn.isArguments=qa,Dn.isArray=Ha,Dn.isArrayBuffer=Va,Dn.isArrayLike=Ga,Dn.isArrayLikeObject=Ja,Dn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Tr(t)==w},Dn.isBuffer=Ya,Dn.isDate=Ka,Dn.isElement=function(t){return ns(t)&&1===t.nodeType&&!is(t)},Dn.isEmpty=function(t){if(null==t)return!0;if(Ga(t)&&(Ha(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||cs(t)||qa(t)))return!t.length;var e=yi(t);if(e==I||e==B)return!t.size;if(Ii(t))return!Mr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Dn.isEqual=function(t,e){return Or(t,e)},Dn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Or(t,e,o,n):!!r},Dn.isError=Xa,Dn.isFinite=function(t){return"number"==typeof t&&we(t)},Dn.isFunction=Za,Dn.isInteger=Qa,Dn.isLength=ts,Dn.isMap=rs,Dn.isMatch=function(t,e){return t===e||Ur(t,e,di(e))},Dn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Ur(t,e,di(e),n)},Dn.isNaN=function(t){return os(t)&&t!=+t},Dn.isNative=function(t){if(Ai(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(t)},Dn.isNil=function(t){return null==t},Dn.isNull=function(t){return null===t},Dn.isNumber=os,Dn.isObject=es,Dn.isObjectLike=ns,Dn.isPlainObject=is,Dn.isRegExp=as,Dn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=p},Dn.isSet=ss,Dn.isString=us,Dn.isSymbol=ls,Dn.isTypedArray=cs,Dn.isUndefined=function(t){return t===o},Dn.isWeakMap=function(t){return ns(t)&&yi(t)==O},Dn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Tr(t)},Dn.join=function(t,e){return null==t?"":$e.call(t,e)},Dn.kebabCase=Hs,Dn.last=Xi,Dn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?bn(r+i,0):wn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Fe(t,He,i,!0)},Dn.lowerCase=Vs,Dn.lowerFirst=Gs,Dn.lt=fs,Dn.lte=ds,Dn.max=function(t){return t&&t.length?yr(t,ou,Rr):o},Dn.maxBy=function(t,e){return t&&t.length?yr(t,ci(e,2),Rr):o},Dn.mean=function(t){return Ve(t,ou)},Dn.meanBy=function(t,e){return Ve(t,ci(e,2))},Dn.min=function(t){return t&&t.length?yr(t,ou,Wr):o},Dn.minBy=function(t,e){return t&&t.length?yr(t,ci(e,2),Wr):o},Dn.stubArray=yu,Dn.stubFalse=mu,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=Su,Dn.nth=function(t,e){return t&&t.length?qr(t,gs(e)):o},Dn.noConflict=function(){return ge._===this&&(ge._=Dt),this},Dn.noop=lu,Dn.now=Ra,Dn.pad=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Vo(ye(o),n)+t+Vo(pe(o),n)},Dn.padEnd=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?t+Vo(e-r,n):t},Dn.padStart=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?Vo(e-r,n)+t:t},Dn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),En(bs(t).replace(at,""),e||0)},Dn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_i(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ps(t),e===o?(e=t,t=0):e=ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Sn();return wn(t+i*(e-t+fe("1e-"+((i+"").length-1))),e)}return Yr(t,e)},Dn.reduce=function(t,e,n){var r=Ha(t)?Me:Ye,o=arguments.length<3;return r(t,ci(e,4),n,o,hr)},Dn.reduceRight=function(t,e,n){var r=Ha(t)?Pe:Ye,o=arguments.length<3;return r(t,ci(e,4),n,o,pr)},Dn.repeat=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:gs(e),Kr(bs(t),e)},Dn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Dn.result=function(t,e,n){var r=-1,i=(e=_o(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[Pi(e[r])];a===o&&(r=i,a=n),t=Za(a)?a.call(t):a}return t},Dn.round=Au,Dn.runInContext=t,Dn.sample=function(t){return(Ha(t)?Zn:Zr)(t)},Dn.size=function(t){if(null==t)return 0;if(Ga(t))return us(t)?pn(t):t.length;var e=yi(t);return e==I||e==B?t.size:Mr(t).length},Dn.snakeCase=Js,Dn.some=function(t,e,n){var r=Ha(t)?We:io;return n&&_i(t,e,n)&&(e=o),r(t,ci(e,3))},Dn.sortedIndex=function(t,e){return ao(t,e)},Dn.sortedIndexBy=function(t,e,n){return so(t,e,ci(n,2))},Dn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ao(t,e);if(r<n&&Da(t[r],e))return r}return-1},Dn.sortedLastIndex=function(t,e){return ao(t,e,!0)},Dn.sortedLastIndexBy=function(t,e,n){return so(t,e,ci(n,2),!0)},Dn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ao(t,e,!0)-1;if(Da(t[n],e))return n}return-1},Dn.startCase=Ys,Dn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:ur(gs(n),0,t.length),e=co(e),t.slice(n,n+e.length)==e},Dn.subtract=Iu,Dn.sum=function(t){return t&&t.length?Ke(t,ou):0},Dn.sumBy=function(t,e){return t&&t.length?Ke(t,ci(e,2)):0},Dn.template=function(t,e,n){var r=Dn.templateSettings;n&&_i(t,e,n)&&(e=o),t=bs(t),e=Es({},e,r,ti);var i,a,s=Es({},e.imports,r.imports,ti),u=Ls(s),l=tn(s,u),c=0,f=e.interpolate||Et,d="__p += '",h=xt((e.escape||Et).source+"|"+f.source+"|"+(f===tt?pt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(h,(function(e,n,r,o,s,u){return r||(r=o),d+=t.slice(c,u).replace(St,sn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),d+="';\n";var g=Nt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new At("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(V,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Qs((function(){return It(u,p+"return "+d).apply(o,l)}));if(y.source=d,Xa(y))throw y;return y},Dn.times=function(t,e){if((t=gs(t))<1||t>p)return[];var n=y,r=wn(t,y);e=ci(e),t-=y;for(var o=Xe(r,e);++n<t;)e(n);return o},Dn.toFinite=ps,Dn.toInteger=gs,Dn.toLength=ys,Dn.toLower=function(t){return bs(t).toLowerCase()},Dn.toNumber=ms,Dn.toSafeInteger=function(t){return t?ur(gs(t),-9007199254740991,p):0===t?t:0},Dn.toString=bs,Dn.toUpper=function(t){return bs(t).toUpperCase()},Dn.trim=function(t,e,n){if((t=bs(t))&&(n||e===o))return Ze(t);if(!t||!(e=co(e)))return t;var r=gn(t),i=gn(e);return So(r,nn(r,i),rn(r,i)+1).join("")},Dn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.slice(0,yn(t)+1);if(!t||!(e=co(e)))return t;var r=gn(t);return So(r,0,rn(r,gn(e))+1).join("")},Dn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(at,"");if(!t||!(e=co(e)))return t;var r=gn(t);return So(r,nn(r,gn(e))).join("")},Dn.truncate=function(t,e){var n=30,r="...";if(es(e)){var i="separator"in e?e.separator:i;n="length"in e?gs(e.length):n,r="omission"in e?co(e.omission):r}var a=(t=bs(t)).length;if(un(t)){var s=gn(t);a=s.length}if(n>=a)return t;var u=n-pn(r);if(u<1)return r;var l=s?So(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),as(i)){if(t.slice(u).search(i)){var c,f=l;for(i.global||(i=xt(i.source,bs(gt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(t.indexOf(co(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Dn.unescape=function(t){return(t=bs(t))&&K.test(t)?t.replace(J,mn):t},Dn.uniqueId=function(t){var e=++Mt;return bs(t)+e},Dn.upperCase=Ks,Dn.upperFirst=Xs,Dn.each=ba,Dn.eachRight=wa,Dn.first=Gi,uu(Dn,(Eu={},_r(Dn,(function(t,e){Nt.call(Dn.prototype,e)||(Eu[e]=t)})),Eu),{chain:!1}),Dn.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Dn[t].placeholder=Dn})),Ce(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===o?1:bn(gs(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,y),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ci(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ou)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return kr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Na(ci(t)))},Hn.prototype.slice=function(t,e){t=gs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=gs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(y)},_r(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Dn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Dn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Hn,l=s[0],c=u||Ha(e),f=function(t){var e=i.apply(Dn,Ne([t],s));return r&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&c){e=g?e:new Hn(this);var y=t.apply(e,s);return y.__actions__.push({func:pa,args:[f],thisArg:o}),new qn(y,d)}return p&&g?t.apply(this,s):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Dn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ha(o)?o:[],t)}return this[n]((function(n){return e.apply(Ha(n)?n:[],t)}))}})),_r(Hn.prototype,(function(t,e){var n=Dn[e];if(n){var r=n.name+"";Nt.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:e,func:n})}})),Ln[Fo(o,2).name]=[{name:"wrapper",func:o}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=ko(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ko(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ko(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ha(t),r=e<0,o=n?t.length:0,i=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=wn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return yo(t,this.__actions__);var p=[];t:for(;u--&&d<h;){for(var g=-1,y=t[l+=e];++g<f;){var m=c[g],v=m.iteratee,b=m.type,w=v(y);if(2==b)y=w;else if(!w){if(1==b)continue t;break t}}p[d++]=y}return p},Dn.prototype.at=ga,Dn.prototype.chain=function(){return ha(this)},Dn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Dn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Dn.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var r=$i(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Dn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:o}),new qn(e,this.__chain__)}return this.thru(ea)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Zt&&(Dn.prototype[Zt]=function(){return this}),Dn}();ge._=vn,(r=function(){return vn}.call(e,n,e,t))===o||(t.exports=r)}.call(this)},300:(t,e,n)=>{var r,o;t=n.nmd(t),function(e){e.runningInNodeJS=function(){return"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&n.c[n.s]===t},e.commonJSAvailable=function(){return"object"==typeof t.exports},e.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&"function"==typeof process.send},e.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&("http:"!==document.location.protocol&&"https:"!==document.location.protocol)},e.webWorkersAvailable=function(){return"function"==typeof Worker&&!e.runningInNullOrigin()&&(!e.runningInNodeJS()&&!(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0))},e.log=function(t,e){void 0===e&&(e=!1),"object"==typeof console&&(console.log(t),e&&"object"==typeof document&&(document.body.innerHTML+=t+"<br/>"))},e.createErrorMessage=function(t,n){if(void 0===n&&(n="Unhandled exception"),null==t)return n;if(n+=": ","object"==typeof t.content){if(e.runningInNodeJS())return n+t.content.stack;var r=JSON.stringify(t.content);return"{}"!==r?n+r:n+t.content}return"string"==typeof t.content?n+t.content:n+t},e.printExceptionAndStackTraceToConsole=function(t,n){void 0===n&&(n="Unhandled exception"),e.log(e.createErrorMessage(t,n))},e.getGlobalObject=function(){return"object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(t.exports=e)}(o||(o={})),function(t){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){var e=function(t,e){var n=function(t,e,n){return t<e?e:t>n?n:t};t|=0,e|=0,arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var r=(e=n(e,0,this.length))-t;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)},n=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],r=void 0;if("object"==typeof window?r=window:"object"==typeof self&&(r=self),void 0!==r)for(var o=0;o<n.length;o++)r[n[o]]&&(r[n[o]].prototype.subarray=e)}}(r||(r={})),function(t){var e=function(){function e(){}return e.compressAsync=function(e,n,r){var o=new t.Timer,i=new t.Compressor;if(!r)throw new TypeError("compressAsync: No callback argument given");if("string"==typeof e)e=t.encodeUTF8(e);else if(null==e||!(e instanceof Uint8Array))return void r(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));var a=t.ArrayTools.splitByteArray(e,n.blockSize),s=[],u=function(e){if(e<a.length){var l=void 0;try{l=i.compressBlock(a[e])}catch(t){return void r(void 0,t)}s.push(l),o.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),o.restart())}else{var c=t.ArrayTools.concatUint8Arrays(s);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeCompressedBytes(c,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createCompressionStream=function(){var e=new t.Compressor,r=new(n(99).Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var a;try{a=t.BufferTools.uint8ArrayToBuffer(e.compressBlock(t.BufferTools.bufferToUint8Array(n)))}catch(t){return void r.emit("error",t)}r.push(a),i()},r},e}();t.AsyncCompressor=e}(o||(o={})),function(t){var e=function(){function e(){}return e.decompressAsync=function(e,n,r){if(!r)throw new TypeError("decompressAsync: No callback argument given");var o=new t.Timer;try{e=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding)}catch(t){return void r(void 0,t)}var i=new t.Decompressor,a=t.ArrayTools.splitByteArray(e,n.blockSize),s=[],u=function(e){if(e<a.length){var l=void 0;try{l=i.decompressBlock(a[e])}catch(t){return void r(void 0,t)}s.push(l),o.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),o.restart())}else{var c=t.ArrayTools.concatUint8Arrays(s);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeDecompressedBytes(c,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createDecompressionStream=function(){var e=new t.Decompressor,r=new(n(99).Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var a;try{a=t.BufferTools.uint8ArrayToBuffer(e.decompressBlock(t.BufferTools.bufferToUint8Array(n)))}catch(t){return void r.emit("error",t)}r.push(a),i()},r},e}();t.AsyncDecompressor=e}(o||(o={})),function(t){var e;!function(e){e.compressAsync=function(t,n,r){if("ByteArray"!=n.inputEncoding||t instanceof Uint8Array){var o={token:Math.random().toString(),type:"compress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},i=function(t){var n=t.data;n&&n.token==o.token&&(e.globalWorker.removeEventListener("message",i),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",i),e.globalWorker.postMessage(o,[])}else r(void 0,new TypeError("compressAsync: input is not a Uint8Array"))},e.decompressAsync=function(t,n,r){var o={token:Math.random().toString(),type:"decompress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},i=function(t){var n=t.data;n&&n.token==o.token&&(e.globalWorker.removeEventListener("message",i),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",i),e.globalWorker.postMessage(o,[])},e.installWebWorkerIfNeeded=function(){"object"==typeof self&&void 0===self.document&&null!=self.addEventListener&&(self.addEventListener("message",(function(e){var n=e.data;if("compress"==n.type){var r=void 0;try{r=t.compress(n.data,{outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(o={token:n.token,type:"compressionResult",data:r,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}else if("decompress"==n.type){var o,i=void 0;try{i=t.decompress(n.data,{inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(o={token:n.token,type:"decompressionResult",data:i,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}})),self.addEventListener("error",(function(e){t.log(t.createErrorMessage(e.error,"Unexpected LZUTF8 WebWorker exception"))})))},e.createGlobalWorkerIfNeeded=function(){if(e.globalWorker)return!0;if(!t.webWorkersAvailable())return!1;if(!e.scriptURI&&"object"==typeof document){var n=document.getElementById("lzutf8");null!=n&&(e.scriptURI=n.getAttribute("src")||void 0)}return!!e.scriptURI&&(e.globalWorker=new Worker(e.scriptURI),!0)},e.terminate=function(){e.globalWorker&&(e.globalWorker.terminate(),e.globalWorker=void 0)}}(e=t.WebWorker||(t.WebWorker={})),e.installWebWorkerIfNeeded()}(o||(o={})),function(t){var e=function(){function t(t,e,n){this.container=t,this.startPosition=e,this.length=n}return t.prototype.get=function(t){return this.container[this.startPosition+t]},t.prototype.getInReversedOrder=function(t){return this.container[this.startPosition+this.length-1-t]},t.prototype.set=function(t,e){this.container[this.startPosition+t]=e},t}();t.ArraySegment=e}(o||(o={})),function(t){!function(t){t.copyElements=function(t,e,n,r,o){for(;o--;)n[r++]=t[e++]},t.zeroElements=function(t,e,n){for(;n--;)t[e++]=0},t.countNonzeroValuesInArray=function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return e},t.truncateStartingElements=function(t,e){if(t.length<=e)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var n=t.length-e,r=0;r<e;r++)t[r]=t[n+r];t.length=e},t.doubleByteArrayCapacity=function(t){var e=new Uint8Array(2*t.length);return e.set(t),e},t.concatUint8Arrays=function(t){for(var e=0,n=0,r=t;n<r.length;n++){e+=(u=r[n]).length}for(var o=new Uint8Array(e),i=0,a=0,s=t;a<s.length;a++){var u=s[a];o.set(u,i),i+=u.length}return o},t.splitByteArray=function(t,e){for(var n=[],r=0;r<t.length;){var o=Math.min(e,t.length-r);n.push(t.subarray(r,r+o)),r+=o}return n}}(t.ArrayTools||(t.ArrayTools={}))}(o||(o={})),function(t){!function(t){t.convertToUint8ArrayIfNeeded=function(e){return"function"==typeof Buffer&&Buffer.isBuffer(e)?t.bufferToUint8Array(e):e},t.uint8ArrayToBuffer=function(t){if(Buffer.prototype instanceof Uint8Array){var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return Object.setPrototypeOf(e,Buffer.prototype),e}for(var n=t.length,r=new Buffer(n),o=0;o<n;o++)r[o]=t[o];return r},t.bufferToUint8Array=function(t){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t[r];return n}}(t.BufferTools||(t.BufferTools={}))}(o||(o={})),function(t){!function(e){e.getCroppedBuffer=function(t,e,n,r){void 0===r&&(r=0);var o=new Uint8Array(n+r);return o.set(t.subarray(e,e+n)),o},e.getCroppedAndAppendedByteArray=function(e,n,r,o){return t.ArrayTools.concatUint8Arrays([e.subarray(n,n+r),o])},e.detectCompressionSourceEncoding=function(t){if(null==t)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof t)return"String";if(t instanceof Uint8Array||"function"==typeof Buffer&&Buffer.isBuffer(t))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},e.encodeCompressedBytes=function(e,n){switch(n){case"ByteArray":return e;case"Buffer":return t.BufferTools.uint8ArrayToBuffer(e);case"Base64":return t.encodeBase64(e);case"BinaryString":return t.encodeBinaryString(e);case"StorageBinaryString":return t.encodeStorageBinaryString(e);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},e.decodeCompressedBytes=function(e,n){if(null==n)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(n){case"ByteArray":case"Buffer":var r=t.BufferTools.convertToUint8ArrayIfNeeded(e);if(!(r instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return r;case"Base64":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return t.decodeBase64(e);case"BinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return t.decodeBinaryString(e);case"StorageBinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return t.decodeStorageBinaryString(e);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(n,"'"))}},e.encodeDecompressedBytes=function(e,n){switch(n){case"String":return t.decodeUTF8(e);case"ByteArray":return e;case"Buffer":if("function"!=typeof Buffer)throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return t.BufferTools.uint8ArrayToBuffer(e);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(t.CompressionCommon||(t.CompressionCommon={}))}(o||(o={})),function(t){var e;!function(e){var n,r=[];e.enqueueImmediate=function(t){r.push(t),1===r.length&&n()},e.initializeScheduler=function(){var e=function(){for(var e=0,n=r;e<n.length;e++){var o=n[e];try{o.call(void 0)}catch(e){t.printExceptionAndStackTraceToConsole(e,"enqueueImmediate exception")}}r.length=0};if(t.runningInNodeJS())n=function(){return setImmediate((function(){return e()}))};else if("object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage){var o,i="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",(function(t){t.data===i&&e()})),o=t.runningInNullOrigin()?"*":window.location.href,n=function(){return window.postMessage(i,o)}}else if("function"==typeof MessageChannel&&"function"==typeof MessagePort){var a=new MessageChannel;a.port1.onmessage=function(){return e()},n=function(){return a.port2.postMessage(0)}}else n=function(){return setTimeout((function(){return e()}),0)}},e.initializeScheduler()}(e=t.EventLoop||(t.EventLoop={})),t.enqueueImmediate=function(t){return e.enqueueImmediate(t)}}(o||(o={})),function(t){!function(t){t.override=function(e,n){return t.extend(e,n)},t.extend=function(t,e){if(null==t)throw new TypeError("obj is null or undefined");if("object"!=typeof t)throw new TypeError("obj is not an object");if(null==e&&(e={}),"object"!=typeof e)throw new TypeError("newProperties is not an object");if(null!=e)for(var n in e)t[n]=e[n];return t}}(t.ObjectTools||(t.ObjectTools={}))}(o||(o={})),function(t){t.getRandomIntegerInRange=function(t,e){return t+Math.floor(Math.random()*(e-t))},t.getRandomUTF16StringOfLength=function(e){for(var n="",r=0;r<e;r++){var o=void 0;do{o=t.getRandomIntegerInRange(0,1114112)}while(o>=55296&&o<=57343);n+=t.Encoding.CodePoint.decodeToString(o)}return n}}(o||(o={})),function(t){var e=function(){function t(t){void 0===t&&(t=1024),this.outputBufferCapacity=t,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return t.prototype.appendCharCode=function(t){this.outputBuffer[this.outputPosition++]=t,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},t.prototype.appendCharCodes=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t[e])},t.prototype.appendString=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t.charCodeAt(e))},t.prototype.appendCodePoint=function(t){if(t<=65535)this.appendCharCode(t);else{if(!(t<=1114111))throw new Error("appendCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"));this.appendCharCode(55296+(t-65536>>>10)),this.appendCharCode(56320+(t-65536&1023))}},t.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},t.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},t}();t.StringBuilder=e}(o||(o={})),function(t){var e=function(){function e(){this.restart()}return e.prototype.restart=function(){this.startTime=e.getTimestamp()},e.prototype.getElapsedTime=function(){return e.getTimestamp()-this.startTime},e.prototype.getElapsedTimeAndRestart=function(){var t=this.getElapsedTime();return this.restart(),t},e.prototype.logAndRestart=function(e,n){void 0===n&&(n=!0);var r=this.getElapsedTime(),o="".concat(e,": ").concat(r.toFixed(3),"ms");return t.log(o,n),this.restart(),r},e.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},e.getMicrosecondTimestamp=function(){return Math.floor(1e3*e.getTimestamp())},e.createGlobalTimestampFunction=function(){if("object"==typeof process&&"function"==typeof process.hrtime){var t=0;this.timestampFunc=function(){var e=process.hrtime(),n=1e3*e[0]+e[1]/1e6;return t+n},t=Date.now()-this.timestampFunc()}else if("object"==typeof chrome&&chrome.Interval){var e=Date.now(),n=new chrome.Interval;n.start(),this.timestampFunc=function(){return e+n.microseconds()/1e3}}else if("object"==typeof performance&&performance.now){var r=Date.now()-performance.now();this.timestampFunc=function(){return r+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},e}();t.Timer=e}(o||(o={})),function(t){var e=function(){function e(e){void 0===e&&(e=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,e&&"function"==typeof Uint32Array?this.prefixHashTable=new t.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new t.CompressorSimpleHashTable(this.PrefixHashTableSize)}return e.prototype.compressBlock=function(e){if(null==e)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof e&&(e=t.encodeUTF8(e)),e=t.BufferTools.convertToUint8ArrayIfNeeded(e),this.compressUtf8Block(e)},e.prototype.compressUtf8Block=function(t){if(!t||0==t.length)return new Uint8Array(0);var e=this.cropAndAddNewBytesToInputBuffer(t),n=this.inputBuffer,r=this.inputBuffer.length;this.outputBuffer=new Uint8Array(t.length),this.outputBufferPosition=0;for(var o=0,i=e;i<r;i++){var a=n[i],s=i<o;if(i>r-this.MinimumSequenceLength)s||this.outputRawByte(a);else{var u=this.getBucketIndexForPrefix(i);if(!s){var l=this.findLongestMatch(i,u);null!=l&&(this.outputPointerBytes(l.length,l.distance),o=i+l.length,s=!0)}s||this.outputRawByte(a);var c=this.inputBufferStreamOffset+i;this.prefixHashTable.addValueToBucket(u,c)}}return this.outputBuffer.subarray(0,this.outputBufferPosition)},e.prototype.findLongestMatch=function(t,e){var n=this.prefixHashTable.getArraySegmentForBucketIndex(e,this.reusableArraySegmentObject);if(null==n)return null;for(var r,o=this.inputBuffer,i=0,a=0;a<n.length;a++){var s=n.getInReversedOrder(a)-this.inputBufferStreamOffset,u=t-s,l=void 0;if(l=void 0===r?this.MinimumSequenceLength-1:r<128&&u>=128?i+(i>>>1):i,u>this.MaximumMatchDistance||l>=this.MaximumSequenceLength||t+l>=o.length)break;if(o[s+l]===o[t+l])for(var c=0;;c++){if(t+c===o.length||o[s+c]!==o[t+c]){c>l&&(r=u,i=c);break}if(c===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}}return void 0!==r?{distance:r,length:i}:null},e.prototype.getBucketIndexForPrefix=function(t){return(7880599*this.inputBuffer[t]+39601*this.inputBuffer[t+1]+199*this.inputBuffer[t+2]+this.inputBuffer[t+3])%this.PrefixHashTableSize},e.prototype.outputPointerBytes=function(t,e){e<128?(this.outputRawByte(192|t),this.outputRawByte(e)):(this.outputRawByte(224|t),this.outputRawByte(e>>>8),this.outputRawByte(255&e))},e.prototype.outputRawByte=function(t){this.outputBuffer[this.outputBufferPosition++]=t},e.prototype.cropAndAddNewBytesToInputBuffer=function(e){if(void 0===this.inputBuffer)return this.inputBuffer=e,0;var n=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),r=this.inputBuffer.length-n;return this.inputBuffer=t.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,r,n,e),this.inputBufferStreamOffset+=r,n},e}();t.Compressor=e}(o||(o={})),function(t){var e=function(){function e(t){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*t),this.storage=new Uint32Array(2*t),this.storageIndex=1}return e.prototype.addValueToBucket=function(e,n){e<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var r,o=this.bucketLocators[e];if(0===o)o=this.storageIndex,r=1,this.storage[this.storageIndex]=n,this.storageIndex+=this.minimumBucketCapacity;else{(r=this.bucketLocators[e+1])===this.maximumBucketCapacity-1&&(r=this.truncateBucketToNewerElements(o,r,this.maximumBucketCapacity/2));var i=o+r;0===this.storage[i]?(this.storage[i]=n,i===this.storageIndex&&(this.storageIndex+=r)):(t.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,r),o=this.storageIndex,this.storageIndex+=r,this.storage[this.storageIndex++]=n,this.storageIndex+=r),r++}this.bucketLocators[e]=o,this.bucketLocators[e+1]=r},e.prototype.truncateBucketToNewerElements=function(e,n,r){var o=e+n-r;return t.ArrayTools.copyElements(this.storage,o,this.storage,e,r),t.ArrayTools.zeroElements(this.storage,e+r,n-r),r},e.prototype.compact=function(){var e=this.bucketLocators,n=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var r=0;r<e.length;r+=2){var o=e[r+1];0!==o&&(this.bucketLocators[r]=this.storageIndex,this.bucketLocators[r+1]=o,this.storageIndex+=Math.max(Math.min(2*o,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(8*this.storageIndex);for(r=0;r<e.length;r+=2){var i=e[r];if(0!==i){var a=this.bucketLocators[r],s=this.bucketLocators[r+1];t.ArrayTools.copyElements(n,i,this.storage,a,s)}}},e.prototype.getArraySegmentForBucketIndex=function(e,n){e<<=1;var r=this.bucketLocators[e];return 0===r?null:(void 0===n&&(n=new t.ArraySegment(this.storage,r,this.bucketLocators[e+1])),n)},e.prototype.getUsedBucketCount=function(){return Math.floor(t.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.bucketLocators.length;e+=2)t+=this.bucketLocators[e+1];return t},e}();t.CompressorCustomHashTable=e}(o||(o={})),function(t){var e=function(){function e(t){this.maximumBucketCapacity=64,this.buckets=new Array(t)}return e.prototype.addValueToBucket=function(e,n){var r=this.buckets[e];void 0===r?this.buckets[e]=[n]:(r.length===this.maximumBucketCapacity-1&&t.ArrayTools.truncateStartingElements(r,this.maximumBucketCapacity/2),r.push(n))},e.prototype.getArraySegmentForBucketIndex=function(e,n){var r=this.buckets[e];return void 0===r?null:(void 0===n&&(n=new t.ArraySegment(r,0,r.length)),n)},e.prototype.getUsedBucketCount=function(){return t.ArrayTools.countNonzeroValuesInArray(this.buckets)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.buckets.length;e++)void 0!==this.buckets[e]&&(t+=this.buckets[e].length);return t},e}();t.CompressorSimpleHashTable=e}(o||(o={})),function(t){var e=function(){function e(){this.MaximumMatchDistance=32767,this.outputPosition=0}return e.prototype.decompressBlockToString=function(e){return e=t.BufferTools.convertToUint8ArrayIfNeeded(e),t.decodeUTF8(this.decompressBlock(e))},e.prototype.decompressBlock=function(e){this.inputBufferRemainder&&(e=t.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,e]),this.inputBufferRemainder=void 0);for(var n=this.cropOutputBufferToWindowAndInitialize(Math.max(4*e.length,1024)),r=0,o=e.length;r<o;r++){var i=e[r];if(i>>>6==3){var a=i>>>5;if(r==o-1||r==o-2&&7==a){this.inputBufferRemainder=e.subarray(r);break}if(e[r+1]>>>7==1)this.outputByte(i);else{var s=31&i,u=void 0;6==a?(u=e[r+1],r+=1):(u=e[r+1]<<8|e[r+2],r+=2);for(var l=this.outputPosition-u,c=0;c<s;c++)this.outputByte(this.outputBuffer[l+c])}}else this.outputByte(i)}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),t.CompressionCommon.getCroppedBuffer(this.outputBuffer,n,this.outputPosition-n)},e.prototype.outputByte=function(e){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=t.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=e},e.prototype.cropOutputBufferToWindowAndInitialize=function(e){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(e),0;var n=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=t.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-n,n,e),this.outputPosition=n,this.outputBufferRemainder){for(var r=0;r<this.outputBufferRemainder.length;r++)this.outputByte(this.outputBufferRemainder[r]);this.outputBufferRemainder=void 0}return n},e.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var t=1;t<=4&&this.outputPosition-t>=0;t++){var e=this.outputBuffer[this.outputPosition-t];if(t<4&&e>>>3==30||t<3&&e>>>4==14||t<2&&e>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-t,this.outputPosition),void(this.outputPosition-=t)}},e}();t.Decompressor=e}(o||(o={})),function(t){!function(e){!function(e){var n=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),r=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]);e.encode=function(n){return n&&0!=n.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(n).toString("base64"):e.encodeWithJS(n):""},e.decode=function(n){return n?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(n,"base64")):e.decodeWithJS(n):new Uint8Array(0)},e.encodeWithJS=function(e,r){if(void 0===r&&(r=!0),!e||0==e.length)return"";for(var o,i=n,a=new t.StringBuilder,s=0,u=e.length;s<u;s+=3)s<=u-3?(o=e[s]<<16|e[s+1]<<8|e[s+2],a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),a.appendCharCode(i[o>>>6&63]),a.appendCharCode(i[63&o]),o=0):s===u-2?(o=e[s]<<16|e[s+1]<<8,a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),a.appendCharCode(i[o>>>6&63]),r&&a.appendCharCode(61)):s===u-1&&(o=e[s]<<16,a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),r&&(a.appendCharCode(61),a.appendCharCode(61)));return a.getOutputString()},e.decodeWithJS=function(t,e){if(!t||0==t.length)return new Uint8Array(0);var n=t.length%4;if(1===n)throw new Error("Invalid Base64 string: length % 4 == 1");2===n?t+="==":3===n&&(t+="="),e||(e=new Uint8Array(t.length));for(var o=0,i=t.length,a=0;a<i;a+=4){var s=r[t.charCodeAt(a)]<<18|r[t.charCodeAt(a+1)]<<12|r[t.charCodeAt(a+2)]<<6|r[t.charCodeAt(a+3)];e[o++]=s>>>16&255,e[o++]=s>>>8&255,e[o++]=255&s}return 61==t.charCodeAt(i-1)&&o--,61==t.charCodeAt(i-2)&&o--,e.subarray(0,o)}}(e.Base64||(e.Base64={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(e){!function(e){e.encode=function(e){if(null==e)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===e.length)return"";for(var n=e.length,r=new t.StringBuilder,o=0,i=1,a=0;a<n;a+=2){var s=void 0;s=a==n-1?e[a]<<8:e[a]<<8|e[a+1],r.appendCharCode(o<<16-i|s>>>i),o=s&(1<<i)-1,15===i?(r.appendCharCode(o),o=0,i=1):i+=1,a>=n-2&&r.appendCharCode(o<<16-i)}return r.appendCharCode(32768|n%2),r.getOutputString()},e.decode=function(t){if("string"!=typeof t)throw new TypeError("BinaryString.decode: invalid input type");if(""==t)return new Uint8Array(0);for(var e=new Uint8Array(3*t.length),n=0,r=function(t){e[n++]=t>>>8,e[n++]=255&t},o=0,i=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s>=32768?(32769==s&&n--,i=0):(0==i?o=s:(r(o<<i|s>>>15-i),o=s&(1<<15-i)-1),15==i?i=0:i+=1)}return e.subarray(0,n)}}(e.BinaryString||(e.BinaryString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(t){t.encodeFromString=function(t,e){var n=t.charCodeAt(e);if(n<55296||n>56319)return n;var r=t.charCodeAt(e+1);if(r>=56320&&r<=57343)return r-56320+(n-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(n,", followed by ").concat(r,", which is not a trailing surrogate character code."))},t.decodeToString=function(t){if(t<=65535)return String.fromCharCode(t);if(t<=1114111)return String.fromCharCode(55296+(t-65536>>>10),56320+(t-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"))}}(t.CodePoint||(t.CodePoint={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(t){var e=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];t.encode=function(t){for(var n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n.join(" ")}}(t.DecimalString||(t.DecimalString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(e){e.encode=function(e){return t.BinaryString.encode(e).replace(/\0/g,"耂")},e.decode=function(e){return t.BinaryString.decode(e.replace(/\u8002/g,"\0"))}}(t.StorageBinaryString||(t.StorageBinaryString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(e){!function(n){var r,o;n.encode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(e,"utf8")):n.createNativeTextEncoderAndDecoderIfAvailable()?r.encode(e):n.encodeWithJS(e):new Uint8Array(0)},n.decode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(e).toString("utf8"):n.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(e):n.decodeWithJS(e):""},n.encodeWithJS=function(t,n){if(!t||0==t.length)return new Uint8Array(0);n||(n=new Uint8Array(4*t.length));for(var r=0,o=0;o<t.length;o++){var i=e.CodePoint.encodeFromString(t,o);if(i<=127)n[r++]=i;else if(i<=2047)n[r++]=192|i>>>6,n[r++]=128|63&i;else if(i<=65535)n[r++]=224|i>>>12,n[r++]=128|i>>>6&63,n[r++]=128|63&i;else{if(!(i<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");n[r++]=240|i>>>18,n[r++]=128|i>>>12&63,n[r++]=128|i>>>6&63,n[r++]=128|63&i,o++}}return n.subarray(0,r)},n.decodeWithJS=function(e,n,r){if(void 0===n&&(n=0),!e||0==e.length)return"";void 0===r&&(r=e.length);for(var o,i,a=new t.StringBuilder,s=n,u=r;s<u;){if((i=e[s])>>>7==0)o=i,s+=1;else if(i>>>5==6){if(s+1>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(31&i)<<6|63&e[s+1],s+=2}else if(i>>>4==14){if(s+2>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(15&i)<<12|(63&e[s+1])<<6|63&e[s+2],s+=3}else{if(i>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+s);if(s+3>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(7&i)<<18|(63&e[s+1])<<12|(63&e[s+2])<<6|63&e[s+3],s+=4}a.appendCodePoint(o)}return a.getOutputString()},n.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!r||"function"==typeof TextEncoder&&(r=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0)}}(e.UTF8||(e.UTF8={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){t.compress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("compress: undefined or null input received");var r=t.CompressionCommon.detectCompressionSourceEncoding(e);n=t.ObjectTools.override({inputEncoding:r,outputEncoding:"ByteArray"},n);var o=(new t.Compressor).compressBlock(e);return t.CompressionCommon.encodeCompressedBytes(o,n.outputEncoding)},t.decompress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("decompress: undefined or null input received");n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},n);var r=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding),o=(new t.Decompressor).decompressBlock(r);return t.CompressionCommon.encodeDecompressedBytes(o,n.outputEncoding)},t.compressAsync=function(e,n,r){var o;null==r&&(r=function(){});try{o=t.CompressionCommon.detectCompressionSourceEncoding(e)}catch(t){return void r(void 0,t)}n=t.ObjectTools.override({inputEncoding:o,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},n),t.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.compressAsync(e,n,r):t.AsyncCompressor.compressAsync(e,n,r)}))},t.decompressAsync=function(e,n,r){if(null==r&&(r=function(){}),null!=e){n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},n);var o=t.BufferTools.convertToUint8ArrayIfNeeded(e);t.EventLoop.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.decompressAsync(o,n,r):t.AsyncDecompressor.decompressAsync(e,n,r)}))}else r(void 0,new TypeError("decompressAsync: undefined or null input received"))},t.createCompressionStream=function(){return t.AsyncCompressor.createCompressionStream()},t.createDecompressionStream=function(){return t.AsyncDecompressor.createDecompressionStream()},t.encodeUTF8=function(e){return t.Encoding.UTF8.encode(e)},t.decodeUTF8=function(e){return t.Encoding.UTF8.decode(e)},t.encodeBase64=function(e){return t.Encoding.Base64.encode(e)},t.decodeBase64=function(e){return t.Encoding.Base64.decode(e)},t.encodeBinaryString=function(e){return t.Encoding.BinaryString.encode(e)},t.decodeBinaryString=function(e){return t.Encoding.BinaryString.decode(e)},t.encodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.encode(e)},t.decodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.decode(e)}}(o||(o={}))},374:(t,e,n)=>{const{AbortError:r,codes:o}=n(141),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=n(132),u=n(86),{ERR_INVALID_ARG_TYPE:l}=o;t.exports.addAbortSignal=function(e,n){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!i(n)&&!a(n))throw new l("stream",["ReadableStream","WritableStream","Stream"],n);return t.exports.addAbortSignalNoValidate(e,n)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const n=i(e)?()=>{e.destroy(new r(void 0,{cause:t.reason}))}:()=>{e[s](new r(void 0,{cause:t.reason}))};return t.aborted?n():(t.addEventListener("abort",n),u(e,(()=>t.removeEventListener("abort",n)))),e}},616:(t,e,n)=>{const{StringPrototypeSlice:r,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:a}=n(191),{Buffer:s}=n(485),{inspect:u}=n(775);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,n=""+e.data;for(;null!==(e=e.next);)n+=t+e.data;return n}concat(t){if(0===this.length)return s.alloc(0);const e=s.allocUnsafe(t>>>0);let n=this.head,r=0;for(;n;)i(e,n.data,r),r+=n.data.length,n=n.next;return e}consume(t,e){const n=this.head.data;if(t<n.length){const e=n.slice(0,t);return this.head.data=n.slice(t),e}return t===n.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[o](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",n=this.head,o=0;do{const i=n.data;if(!(t>i.length)){t===i.length?(e+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(e+=r(i,0,t),this.head=n,n.data=r(i,t));break}e+=i,t-=i.length,++o}while(null!==(n=n.next));return this.length-=o,e}_getBuffer(t){const e=s.allocUnsafe(t),n=t;let r=this.head,o=0;do{const s=r.data;if(!(t>s.length)){t===s.length?(i(e,s,n-t),++o,r.next?this.head=r.next:this.head=this.tail=null):(i(e,new a(s.buffer,s.byteOffset,t),n-t),this.head=r,r.data=s.slice(t));break}i(e,s,n-t),t-=s.length,++o}while(null!==(r=r.next));return this.length-=o,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return u(this,{...e,depth:0,customInspect:!1})}}},818:(t,e,n)=>{const{pipeline:r}=n(754),o=n(182),{destroyer:i}=n(230),{isNodeStream:a,isReadable:s,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:f,isReadableStream:d}=n(132),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=n(141),y=n(86);t.exports=function(...t){if(0===t.length)throw new g("streams");if(1===t.length)return o.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=o.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=o.from(t[e])}for(let n=0;n<t.length;++n)if(a(t[n])||l(t[n])){if(n<t.length-1&&!(s(t[n])||d(t[n])||c(t[n])))throw new p(`streams[${n}]`,e[n],"must be readable");if(n>0&&!(u(t[n])||f(t[n])||c(t[n])))throw new p(`streams[${n}]`,e[n],"must be writable")}let n,m,v,b,w;const _=t[0],E=r(t,(function(t){const e=b;b=null,e?e(t):t?w.destroy(t):A||S||w.destroy()})),S=!!(u(_)||f(_)||c(_)),A=!!(s(E)||d(E)||c(E));if(w=new o({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==E||!E.writableObjectMode),writable:S,readable:A}),S){if(a(_))w._write=function(t,e,r){_.write(t,e)?r():n=r},w._final=function(t){_.end(),m=t},_.on("drain",(function(){if(n){const t=n;n=null,t()}}));else if(l(_)){const t=(c(_)?_.writable:_).getWriter();w._write=async function(e,n,r){try{await t.ready,t.write(e).catch((()=>{})),r()}catch(t){r(t)}},w._final=async function(e){try{await t.ready,t.close().catch((()=>{})),m=e}catch(t){e(t)}}}const t=c(E)?E.readable:E;y(t,(()=>{if(m){const t=m;m=null,t()}}))}if(A)if(a(E))E.on("readable",(function(){if(v){const t=v;v=null,t()}})),E.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const t=E.read();if(null===t)return void(v=w._read);if(!w.push(t))return}};else if(l(E)){const t=(c(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{const{value:e,done:n}=await t.read();if(!w.push(e))return;if(n)return void w.push(null)}catch{return}}}return w._destroy=function(t,e){t||null===b||(t=new h),v=null,n=null,m=null,null===b?e(t):(b=e,a(E)&&i(E,t))},w}},230:(t,e,n)=>{const r=n(533),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=n(141),{Symbol:s}=n(191),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:f}=n(132),d=s("kDestroy"),h=s("kConstruct");function p(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function g(t,e,n){let o=!1;function i(e){if(o)return;o=!0;const i=t._readableState,a=t._writableState;p(e,a,i),a&&(a.closed=!0),i&&(i.closed=!0),"function"==typeof n&&n(e),e?r.nextTick(y,t,e):r.nextTick(m,t)}try{t._destroy(e||null,i)}catch(e){i(e)}}function y(t,e){v(t,e),m(t)}function m(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=n&&n.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function v(t,e){const n=t._readableState,r=t._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function b(t,e,n){const o=t._readableState,i=t._writableState;if(null!=i&&i.destroyed||null!=o&&o.destroyed)return this;null!=o&&o.autoDestroy||null!=i&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),o&&!o.errored&&(o.errored=e),n?r.nextTick(v,t,e):v(t,e))}function w(t){let e=!1;function n(n){if(e)return void b(t,null!=n?n:new i);e=!0;const o=t._readableState,a=t._writableState,s=a||o;o&&(o.constructed=!0),a&&(a.constructed=!0),s.destroyed?t.emit(d,n):n?b(t,n,!0):r.nextTick(_,t)}try{t._construct((t=>{r.nextTick(n,t)}))}catch(t){r.nextTick(n,t)}}function _(t){t.emit(h)}function E(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function S(t){t.emit("close")}function A(t,e){t.emit("error",e),r.nextTick(S,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const n=t._readableState,o=t._writableState;n&&(n.constructed=!1),o&&(o.constructed=!1),t.once(h,e),t.listenerCount(h)>1||r.nextTick(w,t)},destroyer:function(t,e){t&&!l(t)&&(e||c(t)||(e=new a),f(t)?(t.socket=null,t.destroy(e)):E(t)?t.abort():E(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?r.nextTick(A,t,e):r.nextTick(S,t),t.destroyed||(t[u]=!0))},destroy:function(t,e){const n=this._readableState,r=this._writableState,i=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof e&&e(),this):(p(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?g(this,t,e):this.once(d,(function(n){g(this,o(n,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:b}},182:(t,e,n)=>{const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:a}=n(191);t.exports=l;const s=n(858),u=n(373);a(l.prototype,s.prototype),a(l,s);{const t=i(u.prototype);for(let e=0;e<t.length;e++){const n=t[e];l.prototype[n]||(l.prototype[n]=u.prototype[n])}}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),u.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,f;function d(){return void 0===c&&(c={}),c}r(l.prototype,{writable:{__proto__:null,...o(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(u.prototype,"writableLength")},writableFinished:{__proto__:null,...o(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),l.fromWeb=function(t,e){return d().newStreamDuplexFromReadableWritablePair(t,e)},l.toWeb=function(t){return d().newReadableWritablePairFromDuplex(t)},l.from=function(t){return f||(f=n(749)),f(t,"body")}},749:(t,e,n)=>{const r=n(533),o=n(485),{isReadable:i,isWritable:a,isIterable:s,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:f}=n(132),d=n(86),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=n(141),{destroyer:y}=n(230),m=n(182),v=n(858),{createDeferredPromise:b}=n(775),w=n(913),_=globalThis.Blob||o.Blob,E=void 0!==_?function(t){return t instanceof _}:function(t){return!1},S=globalThis.AbortController||n(876).AbortController,{FunctionPrototypeCall:A}=n(191);class I extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(t){const e=t.readable&&"function"!=typeof t.readable.read?v.wrap(t.readable):t.readable,n=t.writable;let r,o,s,u,l,c=!!i(e),f=!!a(n);function p(t){const e=u;u=null,e?e(t):t&&l.destroy(t)}return l=new I({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:c,writable:f}),f&&(d(n,(t=>{f=!1,t&&y(e,t),p(t)})),l._write=function(t,e,o){n.write(t,e)?o():r=o},l._final=function(t){n.end(),o=t},n.on("drain",(function(){if(r){const t=r;r=null,t()}})),n.on("finish",(function(){if(o){const t=o;o=null,t()}}))),c&&(d(e,(t=>{c=!1,t&&y(e,t),p(t)})),e.on("readable",(function(){if(s){const t=s;s=null,t()}})),e.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const t=e.read();if(null===t)return void(s=l._read);if(!l.push(t))return}}),l._destroy=function(t,i){t||null===u||(t=new h),s=null,r=null,o=null,null===u?i(t):(u=i,y(n,t),y(e,t))},l}t.exports=function t(e,n){if(f(e))return e;if(l(e))return T({readable:e});if(c(e))return T({writable:e});if(u(e))return T({writable:!1,readable:!1});if("function"==typeof e){const{value:t,write:o,final:i,destroy:a}=function(t){let{promise:e,resolve:n}=b();const o=new S,i=o.signal,a=t(async function*(){for(;;){const t=e;e=null;const{chunk:o,done:a,cb:s}=await t;if(r.nextTick(s),a)return;if(i.aborted)throw new h(void 0,{cause:i.reason});({promise:e,resolve:n}=b()),yield o}}(),{signal:i});return{value:a,write(t,e,r){const o=n;n=null,o({chunk:t,done:!1,cb:r})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){o.abort(),e(t)}}}(e);if(s(t))return w(I,t,{objectMode:!0,write:o,final:i,destroy:a});const u=null==t?void 0:t.then;if("function"==typeof u){let e;const n=A(u,t,(t=>{if(null!=t)throw new g("nully","body",t)}),(t=>{y(e,t)}));return e=new I({objectMode:!0,readable:!1,write:o,final(t){i((async()=>{try{await n,r.nextTick(t,null)}catch(e){r.nextTick(t,e)}}))},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",n,t)}if(E(e))return t(e.arrayBuffer());if(s(e))return w(I,e,{objectMode:!0,writable:!1});if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable)){return T({readable:null!=e&&e.readable?l(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?c(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0})}const o=null==e?void 0:e.then;if("function"==typeof o){let t;return A(o,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{y(t,e)})),t=new I({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},86:(t,e,n)=>{const r=n(533),{AbortError:o,codes:i}=n(141),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:u,once:l}=n(775),{validateAbortSignal:c,validateFunction:f,validateObject:d,validateBoolean:h}=n(904),{Promise:p,PromisePrototypeThen:g}=n(191),{isClosed:y,isReadable:m,isReadableNodeStream:v,isReadableStream:b,isReadableFinished:w,isReadableErrored:_,isWritable:E,isWritableNodeStream:S,isWritableStream:A,isWritableFinished:I,isWritableErrored:T,isNodeStream:R,willEmitClose:x,kIsClosedPromise:C}=n(132);const B=()=>{};function k(t,e,n){var i,h;if(2===arguments.length?(n=e,e=u):null==e?e=u:d(e,"options"),f(n,"callback"),c(e.signal,"options.signal"),n=l(n),b(t)||A(t))return function(t,e,n){let i=!1,a=B;if(e.signal)if(a=()=>{i=!0,n.call(t,new o(void 0,{cause:e.signal.reason}))},e.signal.aborted)r.nextTick(a);else{const r=n;n=l(((...n)=>{e.signal.removeEventListener("abort",a),r.apply(t,n)})),e.signal.addEventListener("abort",a)}const s=(...e)=>{i||r.nextTick((()=>n.apply(t,e)))};return g(t[C].promise,s,s),B}(t,e,n);if(!R(t))throw new a("stream",["ReadableStream","WritableStream","Stream"],t);const p=null!==(i=e.readable)&&void 0!==i?i:v(t),k=null!==(h=e.writable)&&void 0!==h?h:S(t),L=t._writableState,O=t._readableState,U=()=>{t.writable||M()};let j=x(t)&&v(t)===p&&S(t)===k,N=I(t,!1);const M=()=>{N=!0,t.destroyed&&(j=!1),(!j||t.readable&&!p)&&(p&&!P||n.call(t))};let P=w(t,!1);const W=()=>{P=!0,t.destroyed&&(j=!1),(!j||t.writable&&!k)&&(k&&!N||n.call(t))},$=e=>{n.call(t,e)};let D=y(t);const F=()=>{D=!0;const e=T(t)||_(t);return e&&"boolean"!=typeof e?n.call(t,e):p&&!P&&v(t,!0)&&!w(t,!1)?n.call(t,new s):!k||N||I(t,!1)?void n.call(t):n.call(t,new s)},z=()=>{D=!0;const e=T(t)||_(t);if(e&&"boolean"!=typeof e)return n.call(t,e);n.call(t)},q=()=>{t.req.on("finish",M)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?k&&!L&&(t.on("end",U),t.on("close",U)):(t.on("complete",M),j||t.on("abort",F),t.req?q():t.on("request",q)),j||"boolean"!=typeof t.aborted||t.on("aborted",F),t.on("end",W),t.on("finish",M),!1!==e.error&&t.on("error",$),t.on("close",F),D?r.nextTick(F):null!=L&&L.errorEmitted||null!=O&&O.errorEmitted?j||r.nextTick(z):(p||j&&!m(t)||!N&&!1!==E(t))&&(k||j&&!E(t)||!P&&!1!==m(t))?O&&t.req&&t.aborted&&r.nextTick(z):r.nextTick(z);const H=()=>{n=B,t.removeListener("aborted",F),t.removeListener("complete",M),t.removeListener("abort",F),t.removeListener("request",q),t.req&&t.req.removeListener("finish",M),t.removeListener("end",U),t.removeListener("close",U),t.removeListener("finish",M),t.removeListener("end",W),t.removeListener("error",$),t.removeListener("close",F)};if(e.signal&&!D){const i=()=>{const r=n;H(),r.call(t,new o(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)r.nextTick(i);else{const r=n;n=l(((...n)=>{e.signal.removeEventListener("abort",i),r.apply(t,n)})),e.signal.addEventListener("abort",i)}}return H}t.exports=k,t.exports.finished=function(t,e){var n;let r=!1;return null===e&&(e=u),null!==(n=e)&&void 0!==n&&n.cleanup&&(h(e.cleanup,"cleanup"),r=e.cleanup),new p(((n,o)=>{const i=k(t,e,(t=>{r&&i(),t?o(t):n()}))}))}},913:(t,e,n)=>{const r=n(533),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:a}=n(191),{Buffer:s}=n(485),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=n(141).codes;t.exports=function(t,e,n){let c,f;if("string"==typeof e||e instanceof s)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});if(e&&e[i])f=!0,c=e[i]();else{if(!e||!e[a])throw new u("iterable",["Iterable"],e);f=!1,c=e[a]()}const d=new t({objectMode:!0,highWaterMark:1,...n});let h=!1;return d._read=function(){h||(h=!0,async function(){for(;;){try{const{value:t,done:e}=f?await c.next():c.next();if(e)d.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw h=!1,new l;if(d.push(e))continue;h=!1}}catch(t){d.destroy(t)}break}}())},d._destroy=function(t,e){o(async function(t){const e=null!=t,n="function"==typeof c.throw;if(e&&n){const{value:e,done:n}=await c.throw(t);if(await e,n)return}if("function"==typeof c.return){const{value:t}=await c.return();await t}}(t),(()=>r.nextTick(e,t)),(n=>r.nextTick(e,n||t)))},d}},200:(t,e,n)=>{const{ArrayIsArray:r,ObjectSetPrototypeOf:o}=n(191),{EventEmitter:i}=n(465);function a(t){i.call(this,t)}function s(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}o(a.prototype,i.prototype),o(a,i),a.prototype.pipe=function(t,e){const n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",u),n.on("close",l));let a=!1;function u(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){f(),0===i.listenerCount(this,"error")&&this.emit("error",t)}function f(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",u),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return s(n,"error",c),s(t,"error",c),n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t},t.exports={Stream:a,prependListener:s}},554:(t,e,n)=>{const r=globalThis.AbortController||n(876).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:u}=n(141),{validateAbortSignal:l,validateInteger:c,validateObject:f}=n(904),d=n(191).Symbol("kWeak"),{finished:h}=n(86),p=n(818),{addAbortSignalNoValidate:g}=n(374),{isWritable:y,isNodeStream:m}=n(132),{ArrayPrototypePush:v,MathFloor:b,Number:w,NumberIsNaN:_,Promise:E,PromiseReject:S,PromisePrototypeThen:A,Symbol:I}=n(191),T=I("kEmpty"),R=I("kEof");function x(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let n=1;return null!=(null==e?void 0:e.concurrency)&&(n=b(e.concurrency)),c(n,"concurrency",1),async function*(){var o,i;const a=new r,s=this,l=[],c=a.signal,f={signal:c},d=()=>a.abort();let h,p;null!=e&&null!==(o=e.signal)&&void 0!==o&&o.aborted&&d(),null==e||null===(i=e.signal)||void 0===i||i.addEventListener("abort",d);let g=!1;function y(){g=!0}!async function(){try{for await(let e of s){var r;if(g)return;if(c.aborted)throw new u;try{e=t(e,f)}catch(t){e=S(t)}e!==T&&("function"==typeof(null===(r=e)||void 0===r?void 0:r.catch)&&e.catch(y),l.push(e),h&&(h(),h=null),!g&&l.length&&l.length>=n&&await new E((t=>{p=t})))}l.push(R)}catch(t){const e=S(t);A(e,void 0,y),l.push(e)}finally{var o;g=!0,h&&(h(),h=null),null==e||null===(o=e.signal)||void 0===o||o.removeEventListener("abort",d)}}();try{for(;;){for(;l.length>0;){const t=await l[0];if(t===R)return;if(c.aborted)throw new u;t!==T&&(yield t),l.shift(),p&&(p(),p=null)}await new E((t=>{h=t}))}}finally{a.abort(),g=!0,p&&(p(),p=null)}}.call(this)}async function C(t,e=void 0){for await(const n of B.call(this,t,e))return!0;return!1}function B(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);return x.call(this,(async function(e,n){return await t(e,n)?e:T}),e)}class k extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function L(t){if(t=w(t),_(t))return 0;if(t<0)throw new s("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:function(t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),async function*(){let e=0;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new u({cause:t.signal.reason});yield[e++,r]}}.call(this)},drop:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new u;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u;t--<=0&&(yield n)}}.call(this)},filter:B,flatMap:function(t,e){const n=x.call(this,t,e);return async function*(){for await(const t of n)yield*t}.call(this)},map:x,take:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new u;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u;if(!(t-- >0))return;yield n}}.call(this)},compose:function(t,e){if(null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),m(t)&&!y(t))throw new o("stream",t,"must be writable");const n=p(this,t);return null!=e&&e.signal&&g(e.signal,n),n}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);return!await C.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);for await(const n of x.call(this,(async function(e,n){return await t(e,n),T}),e));},reduce:async function(t,e,n){var o;if("function"!=typeof t)throw new i("reducer",["Function","AsyncFunction"],t);null!=n&&f(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let a=arguments.length>1;if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){const t=new u(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(t)),t}const s=new r,c=s.signal;if(null!=n&&n.signal){const t={once:!0,[d]:this};n.signal.addEventListener("abort",(()=>s.abort()),t)}let p=!1;try{for await(const r of this){var g;if(p=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new u;a?e=await t(e,r,{signal:c}):(e=r,a=!0)}if(!p&&!a)throw new k}finally{s.abort()}return e},toArray:async function(t){null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new u(void 0,{cause:t.signal.reason});v(e,r)}return e},some:C,find:async function(t,e){for await(const n of B.call(this,t,e))return n}}},467:(t,e,n)=>{const{ObjectSetPrototypeOf:r}=n(191);t.exports=i;const o=n(210);function i(t){if(!(this instanceof i))return new i(t);o.call(this,t)}r(i.prototype,o.prototype),r(i,o),i.prototype._transform=function(t,e,n){n(null,t)}},754:(t,e,n)=>{const r=n(533),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:a}=n(191),s=n(86),{once:u}=n(775),l=n(230),c=n(182),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=n(141),{validateFunction:v,validateAbortSignal:b}=n(904),{isIterable:w,isReadable:_,isReadableNodeStream:E,isNodeStream:S,isTransformStream:A,isWebStream:I,isReadableStream:T,isReadableEnded:R}=n(132),x=globalThis.AbortController||n(876).AbortController;let C,B;function k(t,e,n){let r=!1;t.on("close",(()=>{r=!0}));return{destroy:e=>{r||(r=!0,l.destroyer(t,e||new g("pipe")))},cleanup:s(t,{readable:e,writable:n},(t=>{r=!t}))}}function L(t){if(w(t))return t;if(E(t))return async function*(t){B||(B=n(858));yield*B.prototype[a].call(t)}(t);throw new d("val",["Readable","Iterable","AsyncIterable"],t)}async function O(t,e,n,{end:r}){let o,a=null;const u=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},l=()=>new i(((t,e)=>{o?e(o):a=()=>{o?e(o):t()}}));e.on("drain",u);const c=s(e,{readable:!1},u);try{e.writableNeedDrain&&await l();for await(const n of t)e.write(n)||await l();r&&e.end(),await l(),n()}catch(t){n(o!==t?f(o,t):t)}finally{c(),e.off("drain",u)}}async function U(t,e,n,{end:r}){A(e)&&(e=e.writable);const o=e.getWriter();try{for await(const e of t)await o.ready,o.write(e).catch((()=>{}));await o.ready,r&&await o.close(),n()}catch(t){try{await o.abort(t),n(t)}catch(t){n(t)}}}function j(t,e,i){if(1===t.length&&o(t[0])&&(t=t[0]),t.length<2)throw new p("streams");const a=new x,s=a.signal,u=null==i?void 0:i.signal,l=[];function f(){M(new m)}let g,y;b(u,"options.signal"),null==u||u.addEventListener("abort",f);const v=[];let R,B=0;function j(t){M(t,0==--B)}function M(t,n){if(!t||g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code||(g=t),g||n){for(;v.length;)v.shift()(g);null==u||u.removeEventListener("abort",f),a.abort(),n&&(g||l.forEach((t=>t())),r.nextTick(e,g,y))}}for(let D=0;D<t.length;D++){const F=t[D],z=D<t.length-1,q=D>0,H=z||!1!==(null==i?void 0:i.end),V=D===t.length-1;if(S(F)){if(H){const{destroy:G,cleanup:J}=k(F,z,q);v.push(G),_(F)&&V&&l.push(J)}function P(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&j(t)}F.on("error",P),_(F)&&V&&l.push((()=>{F.removeListener("error",P)}))}if(0===D)if("function"==typeof F){if(R=F({signal:s}),!w(R))throw new h("Iterable, AsyncIterable or Stream","source",R)}else R=w(F)||E(F)||A(F)?F:c.from(F);else if("function"==typeof F){var W;if(A(R))R=L(null===(W=R)||void 0===W?void 0:W.readable);else R=L(R);if(R=F(R,{signal:s}),z){if(!w(R,!0))throw new h("AsyncIterable",`transform[${D-1}]`,R)}else{var $;C||(C=n(467));const Y=new C({objectMode:!0}),K=null===($=R)||void 0===$?void 0:$.then;if("function"==typeof K)B++,K.call(R,(t=>{y=t,null!=t&&Y.write(t),H&&Y.end(),r.nextTick(j)}),(t=>{Y.destroy(t),r.nextTick(j,t)}));else if(w(R,!0))B++,O(R,Y,j,{end:H});else{if(!T(R)&&!A(R))throw new h("AsyncIterable or Promise","destination",R);{const Q=R.readable||R;B++,O(Q,Y,j,{end:H})}}R=Y;const{destroy:X,cleanup:Z}=k(R,!1,!0);v.push(X),V&&l.push(Z)}}else if(S(F)){if(E(R)){B+=2;const tt=N(R,F,j,{end:H});_(F)&&V&&l.push(tt)}else if(A(R)||T(R)){const et=R.readable||R;B++,O(et,F,j,{end:H})}else{if(!w(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,O(R,F,j,{end:H})}R=F}else if(I(F)){if(E(R))B++,U(L(R),F,j,{end:H});else if(T(R)||w(R))B++,U(R,F,j,{end:H});else{if(!A(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,U(R.readable,F,j,{end:H})}R=F}else R=c.from(F)}return(null!=s&&s.aborted||null!=u&&u.aborted)&&r.nextTick(f),R}function N(t,e,n,{end:o}){let i=!1;if(e.on("close",(()=>{i||n(new y)})),t.pipe(e,{end:!1}),o){function a(){i=!0,e.end()}R(t)?r.nextTick(a):t.once("end",a)}else n();return s(t,{readable:!0,writable:!1},(e=>{const r=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?t.once("end",n).once("error",n):n(e)})),s(e,{readable:!1,writable:!0},n)}t.exports={pipelineImpl:j,pipeline:function(...t){return j(t,u(function(t){return v(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},858:(t,e,n)=>{const r=n(533),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:f,SafeSet:d,SymbolAsyncIterator:h,Symbol:p}=n(191);t.exports=W,W.ReadableState=P;const{EventEmitter:g}=n(465),{Stream:y,prependListener:m}=n(200),{Buffer:v}=n(485),{addAbortSignal:b}=n(374),w=n(86);let _=n(775).debuglog("stream",(t=>{_=t}));const E=n(616),S=n(230),{getHighWaterMark:A,getDefaultHighWaterMark:I}=n(498),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k}}=n(141),{validateObject:L}=n(904),O=p("kPaused"),{StringDecoder:U}=n(464),j=n(913);c(W.prototype,y.prototype),c(W,y);const N=()=>{},{errorOrDestroy:M}=S;function P(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(182)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.readableObjectMode)),this.highWaterMark=t?A(this,t,"readableHighWaterMark",r):I(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[O]=null,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new U(t.encoding),this.encoding=t.encoding)}function W(t){if(!(this instanceof W))return new W(t);const e=this instanceof n(182);this._readableState=new P(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&b(t.signal,this)),y.call(this,t),S.construct(this,(()=>{this._readableState.needReadable&&H(this,this._readableState)}))}function $(t,e,n,r){_("readableAddChunk",e);const o=t._readableState;let i;if(o.objectMode||("string"==typeof e?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?e=v.from(e,n).toString(o.encoding):(e=v.from(e,n),n=""))):e instanceof v?n="":y._isUint8Array(e)?(e=y._uint8ArrayToBuffer(e),n=""):null!=e&&(i=new R("chunk",["string","Buffer","Uint8Array"],e))),i)M(t,i);else if(null===e)o.reading=!1,function(t,e){if(_("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?z(t):(e.needReadable=!1,e.emittedReadable=!0,q(t))}(t,o);else if(o.objectMode||e&&e.length>0)if(r)if(o.endEmitted)M(t,new k);else{if(o.destroyed||o.errored)return!1;D(t,o,e,!0)}else if(o.ended)M(t,new B);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?D(t,o,e,!1):H(t,o)):D(t,o,e,!1)}else r||(o.reading=!1,H(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function D(t,e,n,r){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&z(t)),H(t,e)}W.prototype.destroy=S.destroy,W.prototype._undestroy=S.undestroy,W.prototype._destroy=function(t,e){e(t)},W.prototype[g.captureRejectionSymbol]=function(t){this.destroy(t)},W.prototype.push=function(t,e){return $(this,t,e,!1)},W.prototype.unshift=function(t,e){return $(this,t,e,!0)},W.prototype.isPaused=function(){const t=this._readableState;return!0===t[O]||!1===t.flowing},W.prototype.setEncoding=function(t){const e=new U(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const t of n)r+=e.write(t);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function F(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:a(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function z(t){const e=t._readableState;_("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(q,t))}function q(t){const e=t._readableState;_("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,K(t)}function H(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,r.nextTick(V,t,e))}function V(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const n=e.length;if(_("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function G(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[O]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function J(t){_("readable nexttick read 0"),t.read(0)}function Y(t,e){_("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),K(t),e.flowing&&!e.reading&&t.read(0)}function K(t){const e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function X(t,e){"function"!=typeof t.read&&(t=W.wrap(t,{objectMode:!0}));const n=async function*(t,e){let n,r=N;function o(e){this===t?(r(),r=N):r=e}t.on("readable",o);const i=w(t,{writable:!1},(t=>{n=t?T(n,t):null,r(),r=N}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(n)throw n;if(null===n)return;await new f(o)}}}catch(t){throw n=T(n,t),n}finally{!n&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==n&&!t._readableState.autoDestroy?(t.off("readable",o),i()):S.destroyer(t,null)}}(t,e);return n.stream=t,n}function Z(t,e){if(0===e.length)return null;let n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function Q(t){const e=t._readableState;_("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(tt,e,t))}function tt(t,e){if(_("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)r.nextTick(et,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function et(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let nt;function rt(){return void 0===nt&&(nt={}),nt}W.prototype.read=function(t){_("read",t),void 0===t?t=NaN:i(t)||(t=s(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new C("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Q(this):z(this),null;if(0===(t=F(t,e))&&e.ended)return 0===e.length&&Q(this),null;let r,o=e.needReadable;if(_("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,_("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(t){M(this,t)}e.sync=!1,e.reading||(t=F(n,e))}return r=t>0?Z(t,e):null,null===r?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Q(this)),null===r||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",r)),r},W.prototype._read=function(t){throw new x("_read()")},W.prototype.pipe=function(t,e){const n=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new d(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(t),_("pipe count=%d opts=%j",o.pipes.length,e);const i=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?s:y;function a(e,r){_("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){_("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),u&&t.removeListener("drain",u);t.removeListener("error",h),t.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",f),l=!0,u&&o.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u()}())}function s(){_("onend"),t.end()}let u;o.endEmitted?r.nextTick(i):n.once("end",i),t.on("unpipe",a);let l=!1;function c(){l||(1===o.pipes.length&&o.pipes[0]===t?(_("false write response, pause",0),o.awaitDrainWriters=t,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(t)&&(_("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(t)),n.pause()),u||(u=function(t,e){return function(){const n=t._readableState;n.awaitDrainWriters===e?(_("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(_("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,t),t.on("drain",u))}function f(e){_("ondata");const n=t.write(e);_("dest.write",n),!1===n&&c()}function h(e){if(_("onerror",e),y(),t.removeListener("error",h),0===t.listenerCount("error")){const n=t._writableState||t._readableState;n&&!n.errorEmitted?M(t,e):t.emit("error",e)}}function p(){t.removeListener("finish",g),y()}function g(){_("onfinish"),t.removeListener("close",p),y()}function y(){_("unpipe"),n.unpipe(t)}return n.on("data",f),m(t,"error",h),t.once("close",p),t.once("finish",g),t.emit("pipe",n),!0===t.writableNeedDrain?o.flowing&&c():o.flowing||(_("pipe resume"),n.resume()),t},W.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=o(e.pipes,t);return-1===n||(e.pipes.splice(n,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(t,e){const n=y.prototype.on.call(this,t,e),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,_("on readable",o.length,o.reading),o.length?z(this):o.reading||r.nextTick(J,this))),n},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(t,e){const n=y.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(G,this),n},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(t){const e=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(G,this),e},W.prototype.resume=function(){const t=this._readableState;return t.flowing||(_("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(Y,t,e))}(this,t)),t[O]=!1,this},W.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[O]=!0,this},W.prototype.wrap=function(t){let e=!1;t.on("data",(n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{M(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const n=l(t);for(let e=1;e<n.length;e++){const r=n[e];void 0===this[r]&&"function"==typeof t[r]&&(this[r]=t[r].bind(t))}return this},W.prototype[h]=function(){return X(this)},W.prototype.iterator=function(t){return void 0!==t&&L(t,"options"),X(this,t)},u(W.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),u(P.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[O]},set(t){this[O]=!!t}}}),W._fromList=Z,W.from=function(t,e){return j(W,t,e)},W.fromWeb=function(t,e){return rt().newStreamReadableFromReadableStream(t,e)},W.toWeb=function(t,e){return rt().newReadableStreamFromStreamReadable(t,e)},W.wrap=function(t,e){var n,r;return new W({objectMode:null===(n=null!==(r=t.readableObjectMode)&&void 0!==r?r:t.objectMode)||void 0===n||n,...e,destroy(e,n){S.destroyer(t,e),n(e)}}).wrap(t)}},498:(t,e,n)=>{const{MathFloor:r,NumberIsInteger:o}=n(191),{ERR_INVALID_ARG_VALUE:i}=n(141).codes;function a(t){return t?16:16384}t.exports={getHighWaterMark:function(t,e,n,s){const u=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,s,n);if(null!=u){if(!o(u)||u<0){throw new i(s?`options.${n}`:"options.highWaterMark",u)}return r(u)}return a(t.objectMode)},getDefaultHighWaterMark:a}},210:(t,e,n)=>{const{ObjectSetPrototypeOf:r,Symbol:o}=n(191);t.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:i}=n(141).codes,a=n(182),{getHighWaterMark:s}=n(498);r(l.prototype,a.prototype),r(l,a);const u=o("kCallback");function l(t){if(!(this instanceof l))return new l(t);const e=t?s(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),a.call(this,t),this._readableState.sync=!1,this[u]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function c(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,n)=>{e?t?t(e):this.destroy(e):(null!=n&&this.push(n),this.push(null),t&&t())}))}function f(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(t,e,n){throw new i("_transform()")},l.prototype._write=function(t,e,n){const r=this._readableState,o=this._writableState,i=r.length;this._transform(t,e,((t,e)=>{t?n(t):(null!=e&&this.push(e),o.ended||i===r.length||r.length<r.highWaterMark?n():this[u]=n)}))},l.prototype._read=function(){if(this[u]){const t=this[u];this[u]=null,t()}}},132:(t,e,n)=>{const{Symbol:r,SymbolAsyncIterator:o,SymbolIterator:i,SymbolFor:a}=n(191),s=r("kDestroyed"),u=r("kIsErrored"),l=r("kIsReadable"),c=r("kIsDisturbed"),f=a("nodejs.webstream.isClosedPromise"),d=a("nodejs.webstream.controllerErrorFunction");function h(t,e=!1){var n;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(n=t._readableState)||void 0===n?void 0:n.readable)||t._writableState&&!t._readableState)}function p(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function g(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function y(t){return!(!t||g(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function m(t){return!(!t||g(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function v(t){return!(!t||g(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function b(t){if(!g(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[s]||null!=r&&r.destroyed)}function w(t){if(!p(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function _(t,e){if(!h(t))return null;const n=t._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===e&&!0===n.ended&&0===n.length))}function E(t){return t&&null!=t[l]?t[l]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!b(t)&&(h(t)&&t.readable&&!_(t))}function S(t){return"boolean"!=typeof(null==t?void 0:t.writable)?null:!b(t)&&(p(t)&&t.writable&&!w(t))}function A(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function I(t){return"boolean"==typeof t._sent100&&A(t)}t.exports={kDestroyed:s,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[c])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:c,isErrored:function(t){var e,n,r,o,i,a,s,l,c,f;return!(!t||!(null!==(e=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=t[u])&&void 0!==a?a:t.readableErrored)&&void 0!==i?i:t.writableErrored)&&void 0!==o?o:null===(s=t._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(l=t._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=t._readableState)||void 0===c?void 0:c.errored)&&void 0!==e?e:null===(f=t._writableState)||void 0===f?void 0:f.errored))},kIsErrored:u,isReadable:E,kIsReadable:l,kIsClosedPromise:f,kControllerErrorFunction:d,isClosed:function(t){if(!g(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,n=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==e?void 0:e.closed)||(null==n?void 0:n.closed):"boolean"==typeof t._closed&&A(t)?t._closed:null},isDestroyed:b,isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return g(t)?!!b(t)||(!1===(null==e?void 0:e.readable)||!E(t))&&(!1===(null==e?void 0:e.writable)||!S(t)):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[o]:!1===e?"function"==typeof t[i]:"function"==typeof t[o]||"function"==typeof t[i])},isReadableNodeStream:h,isReadableStream:y,isReadableEnded:function(t){if(!h(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:_,isReadableErrored:function(t){var e,n;return g(t)?t.readableErrored?t.readableErrored:null!==(e=null===(n=t._readableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isNodeStream:g,isWebStream:function(t){return y(t)||m(t)||v(t)},isWritable:S,isWritableNodeStream:p,isWritableStream:m,isWritableEnded:w,isWritableFinished:function(t,e){if(!p(t))return null;if(!0===t.writableFinished)return!0;const n=t._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===e&&!0===n.ended&&0===n.length))},isWritableErrored:function(t){var e,n;return g(t)?t.writableErrored?t.writableErrored:null!==(e=null===(n=t._writableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(t){if(!g(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&I(t)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:v}},373:(t,e,n)=>{const r=n(533),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:d}=n(191);t.exports=U,U.WritableState=L;const{EventEmitter:h}=n(465),p=n(200).Stream,{Buffer:g}=n(485),y=n(230),{addAbortSignal:m}=n(374),{getHighWaterMark:v,getDefaultHighWaterMark:b}=n(498),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:x}=n(141).codes,{errorOrDestroy:C}=y;function B(){}l(U.prototype,p.prototype),l(U,p);const k=f("kOnFinished");function L(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(182)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?v(this,t,"writableHighWaterMark",r):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!t||!1!==t.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,O(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function O(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function U(t){const e=this instanceof n(182);if(!e&&!a(U,this))return new U(t);this._writableState=new L(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&m(t.signal,this)),p.call(this,t),y.construct(this,(()=>{const t=this._writableState;t.writing||F(this,t),H(this,t)}))}function j(t,e,n,o){const i=t._writableState;if("function"==typeof n)o=n,n=i.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new x(n)}else n=i.defaultEncoding;"function"!=typeof o&&(o=B)}if(null===e)throw new T;if(!i.objectMode)if("string"==typeof e)!1!==i.decodeStrings&&(e=g.from(e,n),n="buffer");else if(e instanceof g)n="buffer";else{if(!p._isUint8Array(e))throw new w("chunk",["string","Buffer","Uint8Array"],e);e=p._uint8ArrayToBuffer(e),n="buffer"}let a;return i.ending?a=new R:i.destroyed&&(a=new A("write")),a?(r.nextTick(o,a),C(t,a,!0),a):(i.pendingcb++,function(t,e,n,r,o){const i=e.objectMode?1:n.length;e.length+=i;const a=e.length<e.highWaterMark;a||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:n,encoding:r,callback:o}),e.allBuffers&&"buffer"!==r&&(e.allBuffers=!1),e.allNoop&&o!==B&&(e.allNoop=!1)):(e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,t._write(n,r,e.onwrite),e.sync=!1);return a&&!e.errored&&!e.destroyed}(t,i,e,n,o))}function N(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new A("write")):n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function M(t,e,n,r){--e.pendingcb,r(n),D(e),C(t,n)}function P(t,e){const n=t._writableState,o=n.sync,i=n.writecb;"function"==typeof i?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,e?(e.stack,n.errored||(n.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),o?r.nextTick(M,t,n,e,i):M(t,n,e,i)):(n.buffered.length>n.bufferedIndex&&F(t,n),o?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:t,state:n},r.nextTick(W,n.afterWriteTickInfo)):$(t,n,1,i))):C(t,new E)}function W({stream:t,state:e,count:n,cb:r}){return e.afterWriteTickInfo=null,$(t,e,n,r)}function $(t,e,n,r){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));n-- >0;)e.pendingcb--,r();e.destroyed&&D(e),H(t,e)}function D(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;const{chunk:r,callback:o}=t.buffered[n],i=t.objectMode?1:r.length;t.length-=i,o(null!==(e=t.errored)&&void 0!==e?e:new A("write"))}const n=t[k].splice(0);for(let e=0;e<n.length;e++){var r;n[e](null!==(r=t.errored)&&void 0!==r?r:new A("end"))}O(t)}function F(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:i}=e,a=n.length-r;if(!a)return;let s=r;if(e.bufferProcessing=!0,a>1&&t._writev){e.pendingcb-=a-1;const r=e.allNoop?B:t=>{for(let e=s;e<n.length;++e)n[e].callback(t)},i=e.allNoop&&0===s?n:o(n,s);i.allBuffers=e.allBuffers,N(t,e,!0,e.length,i,"",r),O(e)}else{do{const{chunk:r,encoding:o,callback:a}=n[s];n[s++]=null;N(t,e,!1,i?1:r.length,r,o,a)}while(s<n.length&&!e.writing);s===n.length?O(e):s>256?(n.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}function z(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function q(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let n=!1;function o(o){if(n)C(t,null!=o?o:E());else if(n=!0,e.pendingcb--,o){const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t](o);C(t,o,e.sync)}else z(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,r.nextTick(V,t,e))}e.sync=!0,e.pendingcb++;try{t._final(o)}catch(t){o(t)}e.sync=!1}(t,e)))}function H(t,e,n){z(e)&&(q(t,e),0===e.pendingcb&&(n?(e.pendingcb++,r.nextTick(((t,e)=>{z(e)?V(t,e):e.pendingcb--}),t,e)):z(e)&&(e.pendingcb++,V(t,e))))}function V(t,e){e.pendingcb--,e.finished=!0;const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}L.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},s(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(U,d,{__proto__:null,value:function(t){return!!a(this,t)||this===U&&(t&&t._writableState instanceof L)}}),U.prototype.pipe=function(){C(this,new S)},U.prototype.write=function(t,e,n){return!0===j(this,t,e,n)},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||F(this,t))},U.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=c(t)),!g.isEncoding(t))throw new x(t);return this._writableState.defaultEncoding=t,this},U.prototype._write=function(t,e,n){if(!this._writev)throw new _("_write()");this._writev([{chunk:t,encoding:e}],n)},U.prototype._writev=null,U.prototype.end=function(t,e,n){const o=this._writableState;let a;if("function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t){const n=j(this,t,e);n instanceof i&&(a=n)}return o.corked&&(o.corked=1,this.uncork()),a||(o.errored||o.ending?o.finished?a=new I("end"):o.destroyed&&(a=new A("end")):(o.ending=!0,H(this,o,!0),o.ended=!0)),"function"==typeof n&&(a||o.finished?r.nextTick(n,a):o[k].push(n)),this},u(U.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=y.destroy;let J;function Y(){return void 0===J&&(J={}),J}U.prototype.destroy=function(t,e){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[k].length)&&r.nextTick(D,n),G.call(this,t,e),this},U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(t,e){e(t)},U.prototype[h.captureRejectionSymbol]=function(t){this.destroy(t)},U.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},U.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)}},904:(t,e,n)=>{const{ArrayIsArray:r,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=n(191),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=n(141),{normalizeEncoding:S}=n(775),{isAsyncFunction:A,isArrayBufferView:I}=n(775).types,T={};const R=/^[0-7]+$/;const x=m(((t,e,n=c,r=l)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);if(t<n||t>r)throw new _(e,`>= ${n} && <= ${r}`,t)})),C=m(((t,e,n=-2147483648,r=2147483647)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);if(t<n||t>r)throw new _(e,`>= ${n} && <= ${r}`,t)})),B=m(((t,e,n=!1)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);const r=n?1:0,o=4294967295;if(t<r||t>o)throw new _(e,`>= ${r} && <= ${o}`,t)}));function k(t,e){if("string"!=typeof t)throw new b(e,"string",t)}const L=m(((t,e,n)=>{if(!o(n,t)){const r=i(a(n,(t=>"string"==typeof t?`'${t}'`:p(t))),", ");throw new w(e,t,"must be one of: "+r)}}));function O(t,e){if("boolean"!=typeof t)throw new b(e,"boolean",t)}function U(t,e,n){return null!=t&&d(t,e)?t[e]:n}const j=m(((t,e,n=null)=>{const o=U(n,"allowArray",!1),i=U(n,"allowFunction",!1);if(!U(n,"nullable",!1)&&null===t||!o&&r(t)||"object"!=typeof t&&(!i||"function"!=typeof t))throw new b(e,"Object",t)})),N=m(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new b(e,"a dictionary",t)})),M=m(((t,e,n=0)=>{if(!r(t))throw new b(e,"Array",t);if(t.length<n){throw new w(e,t,`must be longer than ${n}`)}}));const P=m(((t,e="buffer")=>{if(!I(t))throw new b(e,["Buffer","TypedArray","DataView"],t)}));const W=m(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new b(e,"AbortSignal",t)})),$=m(((t,e)=>{if("function"!=typeof t)throw new b(e,"Function",t)})),D=m(((t,e)=>{if("function"!=typeof t||A(t))throw new b(e,"Function",t)})),F=m(((t,e)=>{if(void 0!==t)throw new b(e,"undefined",t)}));const z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(t,e){if(void 0===t||!h(z,t))throw new w(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,n){if(void 0===t&&(t=n),"string"==typeof t){if(null===h(R,t))throw new w(e,t,"must be a 32-bit unsigned integer or an octal string");t=f(t,8)}return B(t,e),t},validateArray:M,validateStringArray:function(t,e){M(t,e);for(let n=0;n<t.length;n++)k(t[n],`${e}[${n}]`)},validateBooleanArray:function(t,e){M(t,e);for(let n=0;n<t.length;n++)O(t[n],`${e}[${n}]`)},validateBoolean:O,validateBuffer:P,validateDictionary:N,validateEncoding:function(t,e){const n=S(e),r=t.length;if("hex"===n&&r%2!=0)throw new w("encoding",e,`is invalid for data of length ${r}`)},validateFunction:$,validateInt32:C,validateInteger:x,validateNumber:function(t,e,n=void 0,r){if("number"!=typeof t)throw new b(e,"number",t);if(null!=n&&t<n||null!=r&&t>r||(null!=n||null!=r)&&u(t))throw new _(e,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,t)},validateObject:j,validateOneOf:L,validatePlainFunction:D,validatePort:function(t,e="Port",n=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===y(t).length||+t!=+t>>>0||t>65535||0===t&&!n)throw new v(e,t,n);return 0|t},validateSignalName:function(t,e="signal"){if(k(t,e),void 0===T[t]){if(void 0!==T[g(t)])throw new E(t+" (signals must use all capital letters)");throw new E(t)}},validateString:k,validateUint32:B,validateUndefined:F,validateUnion:function(t,e,n){if(!o(n,t))throw new b(e,`('${i(n,"|")}')`,t)},validateAbortSignal:W,validateLinkHeaderValue:function(t){if("string"==typeof t)return q(t,"hints"),t;if(r(t)){const e=t.length;let n="";if(0===e)return n;for(let r=0;r<e;r++){const o=t[r];q(o,"hints"),n+=o,r!==e-1&&(n+=", ")}return n}throw new w("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},99:(t,e,n)=>{const r=n(292),o=n(760),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>o}),t.exports.Stream=r.Stream,t.exports.default=t.exports},141:(t,e,n)=>{const{format:r,inspect:o,AggregateError:i}=n(775),a=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c={};function f(t,e){if(!t)throw new c.ERR_INTERNAL_ASSERTION(e)}function d(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function h(t,e,n){n||(n=Error);class NodeError extends n{constructor(...n){super(function(t,e,n){if("function"==typeof e)return f(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const o=(e.match(/%[dfijoOs]/g)||[]).length;return f(o===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${o}).`),0===n.length?e:r(e,...n)}(t,e,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(NodeError.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),NodeError.prototype.code=t,NodeError.prototype[s]=!0,c[t]=NodeError}function p(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class AbortError extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new c.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((t,e,n)=>{f("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const i=[],a=[],s=[];for(const t of e)f("string"==typeof t,"All expected entries have to be of type string"),u.includes(t)?i.push(t.toLowerCase()):l.test(t)?a.push(t):(f("object"!==t,'The value "object" should be written as "Object"'),s.push(t));if(a.length>0){const t=i.indexOf("object");-1!==t&&(i.splice(i,t,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const t=i.pop();r+=`one of type ${i.join(", ")}, or ${t}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();r+=`an instance of ${a.join(", ")}, or ${t}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();r+=`one of ${s.join(", ")}, or ${t}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${o(n,{depth:-1})}`}}else{let t=o(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),r+=`. Received type ${typeof n} (${t})`}return r}),TypeError),h("ERR_INVALID_ARG_VALUE",((t,e,n="is invalid")=>{let r=o(e);r.length>128&&(r=r.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((t,e,n)=>{var r;return`Expected ${t} to be returned from the "${e}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),h("ERR_MISSING_ARGS",((...t)=>{let e;f(t.length>0,"At least one arg needs to be specified");const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}}return`${e} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((t,e,n)=>{let r;return f(e,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=d(String(n)):"bigint"==typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=d(r)),r+="n"):r=o(n),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError,aggregateTwoErrors:p((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new a([e,t],e.message);return n.code=e.code,n}return t||e})),hideStackFrames:p,codes:c}},191:t=>{t.exports={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,n)=>t.slice(e,n),Error,FunctionPrototypeCall:(t,e,...n)=>t.call(e,...n),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,n)=>Object.defineProperty(t,e,n),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,n)=>t.then(e,n),PromiseReject:t=>Promise.reject(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,n)=>t.slice(e,n),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(t,e,n)=>t.set(e,n),Uint8Array}},775:(t,e,n)=>{const r=n(485),o=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,a=void 0!==i?function(t){return t instanceof i}:function(t){return!1};class AggregateError extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let n=0;n<t.length;n++)e+=`    ${t[n].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...n){e||(e=!0,t.apply(this,n))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((n,r)=>{t=n,e=r})),resolve:t,reject:e}},promisify:t=>new Promise(((e,n)=>{t(((t,...r)=>t?n(t):e(...r)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,n]){const r=e.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"===n&&"object"==typeof r){return`${r.constructor!==Object?r.constructor.name:""} {}`.trim()}return r.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof o,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:a},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},292:(t,e,n)=>{const{Buffer:r}=n(485),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:a}=n(191),{promisify:{custom:s}}=n(775),{streamReturningOperators:u,promiseReturningOperators:l}=n(554),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(141),f=n(818),{pipeline:d}=n(754),{destroyer:h}=n(230),p=n(86),g=n(760),y=n(132),m=t.exports=n(200).Stream;m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.Readable=n(858);for(const w of i(u)){const _=u[w];function v(...t){if(new.target)throw c();return m.Readable.from(a(_,this,t))}o(v,"name",{__proto__:null,value:_.name}),o(v,"length",{__proto__:null,value:_.length}),o(m.Readable.prototype,w,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const E of i(l)){const S=l[E];function v(...t){if(new.target)throw c();return a(S,this,t)}o(v,"name",{__proto__:null,value:S.name}),o(v,"length",{__proto__:null,value:S.length}),o(m.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=n(373),m.Duplex=n(182),m.Transform=n(210),m.PassThrough=n(467),m.pipeline=d;const{addAbortSignal:b}=n(374);m.addAbortSignal=b,m.finished=p,m.destroy=h,m.compose=f,o(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),o(d,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),o(p,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(t){return r.from(t.buffer,t.byteOffset,t.byteLength)}},760:(t,e,n)=>{const{ArrayPrototypePop:r,Promise:o}=n(191),{isIterable:i,isNodeStream:a,isWebStream:s}=n(132),{pipelineImpl:u}=n(754),{finished:l}=n(86);n(91),t.exports={finished:l,pipeline:function(...t){return new o(((e,n)=>{let o,l;const c=t[t.length-1];if(c&&"object"==typeof c&&!a(c)&&!i(c)&&!s(c)){const e=r(t);o=e.signal,l=e.end}u(t,((t,r)=>{t?n(t):e(r)}),{signal:o,end:l})}))}}},533:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var s,u=[],l=!1,c=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},377:(t,e,n)=>{var r=n(485),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),i(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},464:(t,e,n)=>{var r=n(377).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=a(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if(o=a(e[r]),o>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if(o=a(e[r]),o>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},54:(t,e,n)=>{n.d(e,{MS:()=>A,cF:()=>I,AK:()=>T,M_:()=>R,cX:()=>x,BT:()=>InteropError,_W:()=>B,Pg:()=>lt,$j:()=>Y,U$:()=>N,U7:()=>M});var r={d:(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},o={};r.d(o,{MS:()=>ApiError,cF:()=>ApiRequestError,AK:()=>AuthTokenExpiredError,M_:()=>AuthorizationError,cX:()=>InitializationError,Yd:()=>l,nj:()=>NotImplementedError,O4:()=>S,_W:()=>ParameterError,U$:()=>a,U7:()=>s});class ApiError extends Error{constructor(t,e){var n,r;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An unexpected error has occurred"),this.name=this.constructor.name,this.stack=(t?this.stack:null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:this.stack).replace(/^(\w*Error)/,`${this.constructor.name}`)}}class ApiRequestError extends ApiError{constructor(t,e,n){var r;super(t=null!==(r=null!=t?t:null==n?void 0:n.message)&&void 0!==r?r:"An error occurred when executing the API request",n),this.status=e}}class AuthorizationError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An authorization error occurred",e)}}class AuthTokenExpiredError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"The API request failed as the authorization tokens have expired",e)}}class InitializationError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An initialization error occurred",e)}}class NotImplementedError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"The method has not been implemented",e)}}class ParameterError extends ApiError{constructor(t){super(t=null!=t?t:"Invalid parameter detected")}}const i=t=>{let e=fin.Integrations;e||(fin.Integrations={},e=fin.Integrations);let n=e[t];return n||(e[t]={},n=e[t]),n},a=t=>{i(t).loggingEnabled=!1},s=(t,e="0.0.0")=>{i(t).loggingEnabled=!0,console.log(u(t),`v${e}`)},u=t=>`[@openfin/${t.toLowerCase()}]`;class l{constructor(t){this.name=t,this.prefix=u(t),this.isLoggingEnabled=this.isLoggingEnabled.bind(this),this.logError=this.logError.bind(this),this.logInfo=this.logInfo.bind(this),this.logWarning=this.logWarning.bind(this)}isLoggingEnabled(){return i(this.name).loggingEnabled}logError(t){this.isLoggingEnabled()&&(t.innerError?console.error(this.prefix,t,"\n\n(inner)",t.innerError):console.error(this.prefix,t))}logInfo(...t){this.isLoggingEnabled()&&console.log(this.prefix,...t)}logWarning(...t){this.isLoggingEnabled()&&console.warn(this.prefix,...t)}}const c="oauth-api-auth-flow",f=(t,e,n,r,o,i,a,s)=>async u=>{const l=new URL(u);if(0!==l.href.toLowerCase().indexOf(o.toLowerCase()))return!1;if(window.clearInterval(s),window.clearTimeout(e),window.clearTimeout(n),t.removeAllListeners(),t.close(!0),l.searchParams.get("error")){const t=new ApiError("Authorization error");return t.data=l.toString(),a(t),!0}if(l.searchParams.get("state")!==r){const t=new ApiError("State mismatch");return t.data=l.toString(),a(t),!0}const c=l.searchParams.get("code");if(!c){const t=new ApiError("Authorization code missing");return t.data=l.toString(),a(t),!0}return i(c),!0},d=(t,e,n,r)=>async(o,i)=>{let a;const s=window.setTimeout((()=>{window.clearInterval(a),window.clearTimeout(s),t.removeAllListeners(),t.close(!0),i(new ApiError("Authorization timed out"))}),3e5);t.addListener("closing",(async()=>{r.logInfo("User closed auth window"),window.clearInterval(a),window.clearTimeout(s),t.removeAllListeners(),i(new ApiError("Failed to complete authorization code flow"))}));const u=window.setTimeout((async()=>{try{await t.isShowing()||(r.logInfo("Showing auth window"),await t.show(!0),await t.focus())}catch(t){r.logWarning("Unable to show auth window")}}),2e3),{version:l}=await fin.System.getRuntimeInfo();parseInt(l.split(".")[0],10)>=30?await f(t,s,u,e,n,o,i)((await t.getInfo()).url)||await t.addListener("url-changed",(a=>{r.logInfo("Auth window navigated to",a.url),f(t,s,u,e,n,o,i)(a.url)})):a=window.setInterval((()=>(async(t,e,n,r,o,i,a,s)=>{let u;try{u=await t.getInfo()}catch(t){return window.clearInterval(e),window.clearTimeout(n),window.clearTimeout(r),s(new ApiError("Could not locate auth window")),!1}return f(t,n,r,o,i,a,s,e)(u.url)})(t,a,s,u,e,n,o,i)),500)},h=()=>{let t,e,n,r;const o=async(e,n=!1)=>{const{command:r,data:a,id:s}=e,u={command:r,id:s};try{if(!t)throw new Error("Access token not found");const{apiRequestUrl:r,data:s,headers:l,httpMethod:c,includeAuthorization:f}=a,d=await(async(e,n,r,o,i)=>{var a,s;const u=Object.assign({Accept:"application/json"},o);"PATCH"!==n&&"POST"!==n&&"PUT"!==n||/content-type/i.test(Object.keys(u).join(","))||(u["Content-Type"]="application/json"),i&&(u.Authorization=`Bearer ${t}`);const l=await fetch(e,{body:"object"==typeof r?JSON.stringify(r):r,headers:u,method:n});if(!l.ok){const t={message:"Failed to execute API request"};return(null===(a=l.headers.get("Content-Type"))||void 0===a?void 0:a.includes("application/json"))&&(t.data=await l.json()),[l.status,void 0,void 0,t]}let c;const f=null!==(s=l.headers.get("Content-Type"))&&void 0!==s?s:"";switch(!0){case!f:break;case/^application\/(\w+\+)?json/i.test(f):c=await l.json();break;case/^multipart\/form-?data|^application\/x-?www-?form-?urlencoded/i.test(f):c=await l.formData();break;case/^application\/(([^/]+)?xml|vnd\.openxmlformats)|^text\/|^image\/svg/i.test(f):c=await l.text();break;default:c=await l.arrayBuffer()}return[l.status,c,f,void 0]})(r,c,s,l,f),[h,p,g,y]=d;if(u.status=h,y){if(!n&&401===h){const[t,n]=await i();return n?(u.status=t,u.error=n,u):await o(e,!0)}u.error=y}else p&&(u.data=p,u.type=g)}catch(t){t instanceof Error?u.error={message:t.message}:u.error={message:"Failed to execute API request"}}return Promise.resolve(u)},i=async()=>{var o;if(!n)throw new Error("Authorization server metadata not set");if(!e)throw new Error("Client ID not set");const i=`grant_type=refresh_token&client_id=${e}&refresh_token=${r}`,a=await fetch(n.token_endpoint,{body:i,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(!a.ok){const t={message:"Failed to refresh access token"};return(null===(o=a.headers.get("Content-Type"))||void 0===o?void 0:o.includes("application/json"))&&(t.data=await a.json()),[a.status,t]}const s=await a.json();return t=s.access_token,[a.status]};self.onmessage=async i=>{const{command:a,id:s}=i.data;let u={command:a,id:s};switch(a){case"API_REQUEST":u=await o(i.data);break;case"CODE_EXCHANGE":u=await(async o=>{var i;const{command:a,data:s,id:u}=o,l={command:a,id:u};try{if(!n)throw new Error("Authorization server metadata not set");if(!e)throw new Error("Client ID not set");const{code:o,codeVerifier:a,redirectUri:u}=s,c=`grant_type=authorization_code&client_id=${e}&code=${o}&code_verifier=${a}&redirect_uri=${u}`,f=await fetch(n.token_endpoint,{body:c,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(f.ok){const e=await f.json();t=e.access_token,r=e.refresh_token}else{const t={message:"Failed to retrieve tokens"};(null===(i=f.headers.get("Content-Type"))||void 0===i?void 0:i.includes("application/json"))&&(t.data=await f.json()),l.error=t}}catch(t){t instanceof Error?l.error={message:t.message}:l.error={message:"Failed to retrieve tokens"}}return Promise.resolve(l)})(i.data);break;case"EXPIRE_TOKENS":u=await(async e=>{var o;const{command:i,expireAccessTokenOnly:a,id:s}=e,u={command:i,id:s};try{if(!a&&!r)throw new Error("Refresh token not found");if(!n)throw new Error("Authorization server metadata not set");if(!n.revocation_endpoint)throw new Error("Revocation endpoint missing in authorization server metadata");const e=a?t:r,i=await fetch(`${n.revocation_endpoint}?token=${e}`,{headers:{Accept:"application/json"}});if(!i.ok){const t={message:"Failed to revoke tokens"};(null===(o=i.headers.get("Content-Type"))||void 0===o?void 0:o.includes("application/json"))&&(t.data=await i.json()),u.error=t}}catch(t){t instanceof Error?u.error={message:t.message}:u.error={message:"Failed to revoke tokens"}}return Promise.resolve(u)})(i.data);break;case"INIT":u=await(async t=>{const{command:r,data:o,id:i}=t,a={command:r,id:i};return e=o.clientId,n=o.metadata,Promise.resolve(a)})(i.data);break;default:u.error=new Error(`Unexpected oauth worker command: ${a}`)}self.postMessage(u)}};var p;!function(t){t.ApiRequest="API_REQUEST",t.CodeExchange="CODE_EXCHANGE",t.ExpireTokens="EXPIRE_TOKENS",t.Init="INIT"}(p||(p={}));const g=[],y=t=>{g.push(t)},m=(t,e)=>(n,r,o)=>new Promise(((i,a)=>{const s={command:p.CodeExchange,data:{code:n,codeVerifier:r,redirectUri:o},id:Date.now().toString()},{command:u,id:l}=s;y({command:u,id:l,reject:a,resolve:i}),t.postMessage(s),e.logInfo("Worker request sent",s)})),v=(t,e,n)=>(r,o,i,a,s)=>new Promise(((u,l)=>{const c={command:p.ApiRequest,data:{apiRequestUrl:r,clientId:t,data:i,headers:a,httpMethod:o,includeAuthorization:s},id:Date.now().toString()},{command:f,id:d}=c;y({command:f,id:d,reject:l,resolve:u}),e.postMessage(c),n.logInfo("Worker request sent",c)})),b=(t,e)=>n=>new Promise(((r,o)=>{const i={command:p.ExpireTokens,expireAccessTokenOnly:n,id:Date.now().toString()},{command:a,id:s}=i;y({command:a,id:s,reject:o,resolve:r}),t.postMessage(i),e.logInfo("Worker request sent",i)})),w=t=>e=>{t.logInfo("Worker response received",e.data);const n=e.data,{command:r,error:o,id:i}=n,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(n,["command","error","id"]),s=((t,e)=>g.find((n=>n.command===e&&n.id===t)))(i,r);s?(o?("status"in a&&void 0!==a.status&&(o.status=a.status),s.reject(o)):s.resolve(a),_(i,r)):t.logError(new Error("Unable to locate awaited request"))},_=(t,e)=>{const n=g.findIndex((n=>n.command===e&&n.id===t));n>=0&&g.splice(n,1)},E=(t,e)=>async()=>{try{await b(t,e)(!1)}catch(t){e.logWarning(t.message)}t.terminate(),e.logInfo("Worker terminated")};class S{get apiOrigin(){return this._apiOrigin}get clientId(){return this._clientId}get logger(){return this._logger}get metadata(){return this._metadata}get worker(){return this._worker}constructor(t,e,n,r,o){if(this.executeApiRequest=async(t,e="GET",n,r,o=!0,i=!1)=>{this._logger.logInfo("ExecuteApiRequest started",t,e,n,r);try{const i=await((t,e)=>async(n,r,o,i,a)=>{try{return await e.executeApiRequest(`${t}${n}`,r,o,i,a)}catch(t){let e;const{data:n,message:r,status:o}=t;throw e=t instanceof Error?new ApiRequestError(r,o):"Failed to refresh access token"===r?new AuthTokenExpiredError(r):new ApiRequestError(r,o),e.data=n,e}})(this._apiOrigin,this._worker)(t,e,n,r,o);return this._logger.logInfo("ExecuteApiRequest completed",i),i}catch(t){if(t instanceof ApiRequestError){const{data:e,message:n,name:r,stack:o}=t,i=this.getErrorMessageFromServerResponse(e);i&&(t.message=i,t.stack=null==o?void 0:o.replace(`${r}: ${n}`,`${r}: ${i}`))}throw i&&this.logger.logError(t),t}},!(t&&e&&n&&r&&o))throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");this._apiOrigin=t,this._clientId=e,this._metadata=n,this._worker=r,this._logger=o,this.authorize=this.authorize.bind(this),this.close=this.close.bind(this),this.executeApiRequest=this.executeApiRequest.bind(this),this.expireTokens=this.expireTokens.bind(this),this.getErrorMessageFromServerResponse=this.getErrorMessageFromServerResponse.bind(this)}async authorize(t,e,n){if(this._logger.logInfo("Authorize started",t,e,n),!this._metadata||!this._clientId||!this._worker)throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");try{await(r=this._metadata,o=this._clientId,i=this._worker,a=this._logger,async(t,e,n)=>{const{authorization_endpoint:s}=r,u=fin.Application.getCurrentSync(),l=(await u.getChildWindows()).find((t=>t.identity.name===c));l&&await l.close(!0);const f=(new Date).getTime().toString(),h=(()=>{const t=new Uint32Array(64);return window.crypto.getRandomValues(t),Array.from(t,(t=>`0${t.toString(16)}`.slice(-2))).join("")})(),p=(await(async t=>{const e=(new TextEncoder).encode(t),n=await window.crypto.subtle.digest("SHA-256",e),r=await(t=>new Promise(((e,n)=>{try{const r=new Blob([t]),o=new FileReader;o.onload=t=>{var r,o;const i=null===(r=t.target)||void 0===r?void 0:r.result;if(i){const[,t]=Array.from(null!==(o=i.match(/base64,(.*)$/i))&&void 0!==o?o:[]);e(null!=t?t:"")}n(new Error("Unexpected empty result"))},o.readAsDataURL(r)}catch(t){n(t)}})))(n);return r.replace(/\+/g,"-").replace(/\//g,"_")})(h)).replace(/=+$/,"");let g="";e&&(g="&",g+=Object.entries(e).map((t=>`${encodeURIComponent(t[0])}=${encodeURIComponent(t[1])}`)).join("&"));const y=`${s}?client_id=${encodeURIComponent(o)}&redirect_uri=${encodeURIComponent(t)}&response_type=code&state=${f}&code_challenge=${p}&code_challenge_method=S256${g}`,m=null!=n?n:{},{defaultHeight:v,defaultWidth:b}=m,w=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(m,["defaultHeight","defaultWidth"]);a.logInfo("Starting OAuth flow",y);const _=await fin.Window.create(Object.assign({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:null!=v?v:700,defaultWidth:null!=b?b:600,includeInSnapshots:!1,name:c,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:y},w)),E=await new Promise(d(_,f,t,a));a.logInfo("Received authorization code"),await i.exchangeCodeForTokens(E,h,t),a.logInfo("Received tokens")})(t,e,n),this._logger.logInfo("Authorize completed")}catch(t){let e;if(t instanceof ApiError){const{data:n}=t,r=this.getErrorMessageFromServerResponse(n);e=new AuthorizationError(r,t),e.data=n}else e=new AuthorizationError(void 0,t);throw this.logger.logError(e),e}var r,o,i,a}async close(){var t;this._logger.logInfo("Close started");try{await(null===(t=this._worker)||void 0===t?void 0:t.terminate()),this._worker=void 0,this._apiOrigin=void 0,this._clientId=void 0,this._metadata=void 0,this._logger.logInfo("Close completed")}catch(t){const e=new ApiError(void 0,t);throw this._logger.logError(e),e}}async expireTokens(t=!1){var e;this._logger.logInfo("ExpireTokens started");try{await(null===(e=this._worker)||void 0===e?void 0:e.expireTokens(t)),this._logger.logInfo("ExpireTokens completed")}catch(t){const e=new ApiError(void 0,t);throw this._logger.logError(e),e}}getErrorMessageFromServerResponse(t){t&&this._logger.logWarning(t)}static async init(t,e,n,r,...o){const i=new l(r);let a;i.logInfo("Init started",t,e,n);try{a=new URL(e)}catch(t){const e=new ParameterError("Unexpected invalid API origin");throw i.logError(e),e}try{const e=await(async t=>{let e;try{e=new URL(t)}catch(t){throw new ParameterError("Unexpected invalid metadata URL")}const n=await fetch(e,{headers:{Accept:"application/json"}});if(!n.ok)throw new Error("Failed to retrieve authorization server metadata");const r=await n.json();if(!r)throw new Error("Unexpected empty authorization server metadata response");if(!r.response_types_supported.find((t=>"code"===t.toLowerCase())))throw new Error("Authorization server does not support the authorization code response type");return r})(t),r=await(async(t,e,n)=>{const r=new Blob([`(${h})()`],{type:"text/javascript"}),o=URL.createObjectURL(r),i=new Worker(o);return i.onmessage=w(n),await((t,e,n,r)=>new Promise(((o,i)=>{const a={command:p.Init,data:{clientId:e,metadata:t},id:Date.now().toString()},{command:s,id:u}=a;y({command:s,id:u,reject:i,resolve:o}),n.postMessage(a),r.logInfo("Worker request sent",a)})))(t,e,i,n),{exchangeCodeForTokens:m(i,n),executeApiRequest:v(e,i,n),expireTokens:b(i,n),terminate:E(i,n)}})(e,n,i);return i.logInfo("Init completed",e),new S(a.origin,n,e,r,i)}catch(t){let e;throw e=t instanceof ApiError?t:new InitializationError(void 0,t),i.logError(e),e}}}var A=o.MS,I=o.cF,T=o.AK,R=o.M_,x=o.cX,C=o.O4,B=o._W,k=o.U$,L=o.U7,O=n(951);const U="1.0.1",j="Microsoft365",N=()=>{k(j)},M=()=>{L(j,U)};"undefined"!=typeof window&&("undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Microsoft365:{enableLogging:M,disableLogging:N}}}));const P=t=>async(e,n,r,o,i)=>{var a;return e=(a=e).startsWith("/")?a:`/${a}`,t.executeApiRequest(e,n,r,o,i,!0)},W=async(t,e,n=[])=>{const r=["id","userPrincipalName","userType",...n].join(","),o=await(async(t,e=[])=>{if(!(null==e?void 0:e.length))return[];const n=[];for(let r=0;r<e.length;r+=20){const o={requests:e.slice(r,r+20).map((t=>(t.id=crypto.randomUUID(),t)))};n.push(t.executeApiRequest("/v1.0/$batch","POST",o))}const r=(await Promise.all(n)).flatMap((t=>t.data.responses));return e.map((t=>{var e;return null===(e=r.find((e=>e.id===t.id)))||void 0===e?void 0:e.body}))})(t,e.map((t=>({method:"GET",url:`/users?$filter=mail eq '${encodeURIComponent(t)}'&$select=${r}`})))),i=o.map((t=>{var e;return null===(e=t.value)||void 0===e?void 0:e[0]}));return t.logger.logInfo("Resolved users from email addresses",i,e),i};var $=n(300);const D=t=>t.map((t=>t?{id:t.userPrincipalName,emailAddress:t.mail,name:t.displayName}:void 0)),F=async(t,e)=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:U,componentName:t}})}catch(n){e.logWarning(`Unable to register usage for feature ${t}: ${null==n?void 0:n.message}`)}},z=t=>{let e=t;return Array.isArray(t)?t.filter(Boolean).map(z):("object"==typeof t&&(e=Object.fromEntries(Object.entries(t).filter((([,t])=>void 0!==(null!=t?t:void 0))).map((([t,e])=>[t,z(e)])))),e)},q=t=>/#EXT#@/.test(t.userPrincipalName);var H;!function(t){t.MS365="MS-365",t.Teams="MS-TEAMS"}(H||(H={}));class V extends C{get currentUser(){return this._currentUser}get redirectUri(){return this._redirectUri}get permissions(){return this._permissions}get tenantId(){return this._tenantId}constructor(t,e,n,r,o,i,a,s){super(t,e,i,a,s),this._permissions=o,this._redirectUri=r,this._tenantId=n,F(H.MS365,s)}async authorize(t,e,n){await super.authorize(t,e,n);const r=await(async t=>{const{data:e}=await t.executeApiRequest("/v1.0/me");return e})(this);this._currentUser=r}getErrorMessageFromServerResponse(t){var e,n,r;if("string"==typeof t)try{return null===(n=null===(e=new URL(t).searchParams.get("error_description"))||void 0===e?void 0:e.split(/\r\n/))||void 0===n?void 0:n[0]}catch(t){return}return null===(r=null==t?void 0:t.error)||void 0===r?void 0:r.message}static async init(t,e,n,r,o,i,a){const s=await super.init(t,e,n,r);return new V(e,n,o,i,a,null==s?void 0:s.metadata,null==s?void 0:s.worker,null==s?void 0:s.logger)}}const G=["User.ReadBasic.All","Team.ReadBasic.All","Channel.ReadBasic.All","ChannelMessage.Send","Chat.Create","ChatMessage.Send","offline_access"];let J;const Y=async(t,e,n,r=[],o,i)=>{await K(t,e,n,r);const a=Object.assign({scope:[...G,...r].join(" ")},o),s=Object.assign({defaultHeight:600,defaultWidth:550},i);return await J.authorize(n,a,s),{clientId:t,currentUser:J.currentUser,disconnect:J.close,executeApiRequest:P(J),provider:J,tenantId:e}},K=async(t,e,n,r)=>{if(!t)throw new B("Invalid client ID");if(!e)throw new B("Invalid tenant ID");if(!n)throw new B("Invalid redirect URI");const o=`https://login.microsoftonline.com/${e}/v2.0/.well-known/openid-configuration`;(!J||J.clientId!==t||J.tenantId!==e||J.redirectUri!==n||(0,O.xor)(J.permissions,r).length>0)&&(J=await V.init(o,"https://graph.microsoft.com",t,j,e,n,r))};class InteropError extends A{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An interop error occurred",e)}}var X,Z,Q;!function(t){t.AppNotFound="AppNotFound",t.ErrorOnLaunch="ErrorOnLaunch",t.AppTimeout="AppTimeout",t.ResolverUnavailable="ResolverUnavailable"}(X||(X={})),function(t){t.NoAppsFound="NoAppsFound",t.ResolverUnavailable="ResolverUnavailable",t.ResolverTimeout="ResolverTimeout"}(Z||(Z={})),function(t){t.NoChannelFound="NoChannelFound",t.AccessDenied="AccessDenied",t.CreationFailed="CreationFailed"}(Q||(Q={}));var tt,et;tt=function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return B()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function y(){}function m(){}function v(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(b=_);var E=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function I(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=c(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function C(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:B}}function B(){return{value:e,done:!0}}return m.prototype=E.constructor=v,v.constructor=m,m.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(A.prototype),A.prototype[a]=function(){return this},t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),u(E,s,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},tt(et={exports:{}},et.exports);var nt;!function(t){t.Contact="fdc3.contact",t.ContactList="fdc3.contactList",t.Country="fdc3.country",t.Instrument="fdc3.instrument",t.Organization="fdc3.organization",t.Portfolio="fdc3.portfolio",t.Position="fdc3.position"}(nt||(nt={}));var rt;!function(t){t.StartCall="StartCall",t.StartChat="StartChat",t.ViewChart="ViewChart",t.ViewContact="ViewContact",t.ViewQuote="ViewQuote",t.ViewNews="ViewNews",t.ViewInstrument="ViewInstrument",t.ViewAnalysis="ViewAnalysis"}(rt||(rt={}));const ot="ofms365action",it=async(t,e)=>{var n,r,o,i;const{chartImage:a,context:s}=e,{priceCurrent:u,priceHigh:l,priceLow:c,priceOpen:f}=e,d=(null===(r=null===(n=s.id)||void 0===n?void 0:n.ticker)||void 0===r?void 0:r.trim())||void 0,h=(null===(o=s.name)||void 0===o?void 0:o.trim())||void 0;let p,g,y,m,v,b;if(null!=e.timestamp||!a)try{p=new Date(null!==(i=e.timestamp)&&void 0!==i?i:Date.now()).toISOString().replace(/\.\d+Z$/,"+00:00")}catch(n){t.logger.logWarning("Invalid timestamp",e.timestamp)}if(null!=u&&null!=f&&(g=u-f,y=g/f*100,v=g>0?"▲":g<0?"▼":"●",m=g>0?"Good":g<0?"Attention":"Warning"),a){if(!/^image\/(gif|jp(e|e?g)|png)$/i.test(a.type))throw new B("Chart image MIME type not supported");try{b=await(async t=>new Promise(((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(new Error("Failed to convert blob to base64")),r.readAsDataURL(t)})))(a)}catch(t){throw new A("Failed to convert blob to base64",t)}}const w=(await fin.System.getRuntimeInfo()).manifestUrl,_={context:s,intent:a?rt.ViewChart:rt.ViewInstrument,version:U},E=(S=_,(0,$.compress)(JSON.stringify(S),{outputEncoding:"Base64"}));var S;const I=`${w}?$$${ot}=${encodeURIComponent(E)}`,T=`https://start.openfin.co/?manifest=${encodeURIComponent(I)}`,R={$schema:"http://adaptivecards.io/schemas/adaptive-card.json",type:"AdaptiveCard",version:"1.4",body:[{type:"ColumnSet",columns:[{type:"Column",width:"stretch",items:[{type:"Container",items:[{type:"TextBlock",text:null!=h?h:d.toUpperCase(),wrap:!0,size:"Large",spacing:"None"},h&&{type:"TextBlock",text:d.toUpperCase(),isSubtle:!0,wrap:!0,spacing:"None"},p&&{type:"TextBlock",text:`{{DATE(${p}, SHORT)}} {{TIME(${p})}}`,wrap:!0,size:"Small"}]}]},null!=u&&!b&&{type:"Column",width:"stretch",items:[{type:"TextBlock",text:u.toFixed(2),size:"ExtraLarge",wrap:!0,horizontalAlignment:"Right"},null!=g&&null!=y&&{type:"TextBlock",text:`${v} ${g.toFixed(2)} (${y.toFixed(2)}%)`,color:m,spacing:"None",wrap:!0,horizontalAlignment:"Right"},(null!=f||null!=l||null!=c)&&{type:"Container",horizontalAlignment:"Right",items:[{type:"ColumnSet",columns:[{type:"Column",width:"stretch",items:[null!=f&&{type:"TextBlock",text:"Open",wrap:!0,horizontalAlignment:"Right",size:"Small",weight:"Bolder",spacing:"None"},null!=l&&{type:"TextBlock",text:"High",wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small",weight:"Bolder"},null!=c&&{type:"TextBlock",text:"Low",wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small",weight:"Bolder"}]},{type:"Column",width:"auto",items:[null!=f&&{type:"TextBlock",text:f.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"},null!=l&&{type:"TextBlock",text:l.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"},null!=c&&{type:"TextBlock",text:c.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"}]}]}],spacing:"Small"}]}]},b&&{type:"Image",url:"../hostedContents/1/$value",spacing:"Small"},{type:"ActionSet",actions:[{type:"Action.OpenUrl",url:T,title:"Open"}]}]},x={attachments:[{id:"1",contentType:"application/vnd.microsoft.card.adaptive",content:JSON.stringify(z(R))}],body:{contentType:"html",content:'<attachment id="1"></attachment>'},summary:"Test summary"};if(b){const[,t,e]=[...b.match(/^data:([^;]+);base64,(.+)$/i)];x.hostedContents=[{"@microsoft.graph.temporaryId":"1",contentBytes:e,contentType:t}]}return x},at=t=>t?"msteams:":"https://teams.microsoft.com",st=async t=>{const e=null==t?void 0:t[ot];if(e)try{const t=(t=>{const e=(0,$.decompress)(t,{inputEncoding:"Base64",outputEncoding:"String"});return JSON.parse(e)})(e),{context:n,intent:r}=t,o={context:n,name:r};return await fin.me.interop.fireIntent(o),o}catch(t){const e=t.message;throw new A("Failed to decompress share payload"+(e?` (${e})`:""),t)}},ut=async(t,e,n)=>{const r=await(async(t,e,n=[])=>{try{const r=["id",...n].join(","),{data:o}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(e)}?$select=${r}`);return o}catch(t){if(404!==t.status)throw t}})(t,e,["displayName"]);if(!r)return;let o;if(t.logger.logInfo("Resolved team",r),n){if(o=await(async(t,e,n,r=[])=>{try{const o=["id",...r].join(","),{data:i}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(n)}/channels/${encodeURIComponent(e)}?$select=${o}`);return i}catch(t){if(404!==t.status)throw t}})(t,n,e,["displayName"]),!o)return void t.logger.logWarning(`Could not resolve channel from id ${n}`)}else{t.logger.logInfo("No channel id supplied, using primary channel");const{data:n}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(e)}/primaryChannel?$select=displayName,id`);o=n}const i={channelId:o.id,channelName:o.displayName,teamId:r.id,teamName:r.displayName};return t.logger.logInfo("Resolved team channel",e,n,i),i};class lt{constructor(t,e=!0){this.logger=t.provider.logger,this.provider=t.provider,this.useMsTeamsProtocol=e,this.registerIntentHandlers=this.registerIntentHandlers.bind(this),this.share=this.share.bind(this),this.startCall=this.startCall.bind(this),this.startChat=this.startChat.bind(this),this.enableSharePayloadHandler(),F(H.Teams,this.logger)}async enableSharePayloadHandler(){const{initialOptions:t}=await fin.Application.getCurrentSync().getInfo(),{userAppConfigArgs:e}=t,n=await st(e);n&&this.logger.logInfo("Firing intent",n),fin.Application.getCurrentSync().addListener("run-requested",(async t=>{try{const e=await st(t.userAppConfigArgs);e&&this.logger.logInfo("Firing intent",e)}catch(t){this.logger.logError(t)}}))}async openUrl(t){this.logger.logInfo("openUrl started",t);try{const e=this.useMsTeamsProtocol?t.replace(/^https:\/\/teams.microsoft.com\//i,"msteams:"):t;this.logger.logInfo("Opening url",e),await fin.System.openUrlWithBrowser(e),this.logger.logInfo("openUrl completed")}catch(t){throw this.logger.logError(t),t}}async registerIntentHandlers(){if(this.logger.logInfo("registerIntentHandlers started"),this.unsubscribeIntentHandlers)return{unsubscribe:this.unsubscribeIntentHandlers};try{await fin.me.interop.getContextGroups();const t=await fin.me.interop.registerIntentHandler((async t=>{try{await((t,e)=>async n=>{var r,o,i,a;if(t.logger.logInfo("handleStartCallIntent started",n),(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())!==rt.StartCall.toLowerCase())throw new A(`Unexpected intent type: ${n.name}`);const{context:s}=n;if((null===(o=s.type)||void 0===o?void 0:o.toLowerCase())!==nt.Contact.toLowerCase()&&(null===(i=s.type)||void 0===i?void 0:i.toLowerCase())!==nt.ContactList.toLowerCase())throw new A(`Unexpected context type: ${s.type}`);const u=(null===(a=s.type)||void 0===a?void 0:a.toLowerCase())===nt.ContactList.toLowerCase()?s.contacts.map((t=>t.id.email)).filter(Boolean):[s.id.email],l=await e(u);t.logger.logInfo("handleStartCallIntent completed",l)})(this.provider,this.startCall)(t)}catch(t){throw this.logger.logError(t),t}}),"StartCall"),e=await fin.me.interop.registerIntentHandler((async t=>{try{await((t,e)=>async n=>{var r,o,i,a;if(t.logger.logInfo("handleStartChatIntent started",n),(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())!==rt.StartChat.toLowerCase())throw new A(`Unexpected intent type: ${n.name}`);const{context:s}=n;if((null===(o=s.type)||void 0===o?void 0:o.toLowerCase())!==nt.Contact.toLowerCase()&&(null===(i=s.type)||void 0===i?void 0:i.toLowerCase())!==nt.ContactList.toLowerCase())throw new A(`Unexpected context type: ${s.type}`);const u=(null===(a=s.type)||void 0===a?void 0:a.toLowerCase())===nt.ContactList.toLowerCase()?s.contacts.map((t=>t.id.email)).filter(Boolean):[s.id.email],l=await e({emailAddresses:u,topicName:s.name});t.logger.logInfo("handleStartChatIntent completed",l)})(this.provider,this.startChat)(t)}catch(t){throw this.logger.logError(t),t}}),"StartChat");return this.unsubscribeIntentHandlers=async()=>{this.logger.logInfo("unsubscribeIntentHandlers started"),await t.unsubscribe(),await e.unsubscribe(),this.unsubscribeIntentHandlers=void 0,this.logger.logInfo("unsubscribeIntentHandlers completed")},this.logger.logInfo("registerIntentHandlers completed"),{unsubscribe:this.unsubscribeIntentHandlers}}catch(t){const e=new InteropError(t.message);throw this.logger.logError(e),e}}async share(t){var e,n,r,o;this.logger.logInfo("share started",t);try{if(!t.target)throw new B("Target not provided");if((null===(e=t.context)||void 0===e?void 0:e.type.toLowerCase())!==nt.Instrument.toLowerCase())throw new B("Unsupported context type");if(!(null===(r=null===(n=t.context)||void 0===n?void 0:n.id)||void 0===r?void 0:r.ticker))throw new B("Ticker not provided");if(!t.chartImage&&null==t.priceCurrent)throw new B("Current price not provided");const i=null===(o=t.showMessage)||void 0===o||o,a=await it(this.provider,t);let s;if(Array.isArray(t.target)){const{target:e}=t,n=await W(this.provider,e,["displayName","mail"]),r=n.filter(Boolean);if(!r.length)return this.logger.logWarning("Could not resolve any valid users from email addresses",e),e.map((()=>{}));const{id:o,webUrl:u}=await(async(t,e)=>{const n={chatType:e.length>2?"group":"oneOnOne",members:e.map((e=>({"@odata.type":"#microsoft.graph.aadUserConversationMember",roles:q(e)?["guest"]:["owner"],"user@odata.bind":`${t.apiOrigin}/v1.0/users('${e.id}')`})))},{data:r}=await t.executeApiRequest("/v1.0/chats","POST",n);return r})(this.provider,[this.provider.currentUser,...r]),{data:l}=await this.provider.executeApiRequest(`/v1.0/chats/${encodeURIComponent(o)}/messages`,"POST",a);this.logger.logInfo("Sent chat message",l),i&&await this.openUrl(u),s=D(n)}else{const{target:e}=t,n=await ut(this.provider,e.teamId,e.channelId);if(!n)return void this.logger.logWarning("Could not resolve team/channel",e.teamId,e.channelId);const{channelId:r,teamId:o}=n,{data:u}=await this.provider.executeApiRequest(`/v1.0/teams/${encodeURIComponent(o)}/channels/${encodeURIComponent(r)}/messages`,"POST",a);this.logger.logInfo("Sent chat message",u),i&&await this.openUrl(u.webUrl),s=n}return this.logger.logInfo("share completed",s),s}catch(t){throw this.logger.logError(t),t}}async startCall(t=[],e=!1){this.logger.logInfo("startCall started",t);try{let n=`${at(this.useMsTeamsProtocol)}/l/call/0/0?`;const r=await W(this.provider,t,["displayName","mail"]),o=r.filter(Boolean).map((t=>encodeURIComponent(t.userPrincipalName)));if(!o.length)return this.logger.logWarning("Could not resolve any valid users from supplied emails",t),t.map((()=>{}));n+=`users=${o.join(",")}&withVideo=${e}`,this.logger.logInfo("Opening Teams",n),await fin.System.openUrlWithBrowser(n);const i=D(r);return this.logger.logInfo("startCall completed",i),i}catch(t){throw this.logger.logError(t),t}}async startChat(t){this.logger.logInfo("startChat started",t);try{let e,n;if("teamId"in t){const{teamId:r,channelId:o}=t,i=await ut(this.provider,r,o);if(!i)return void this.logger.logWarning("Could not resolve team/channel",r,o);e=`${at(this.useMsTeamsProtocol)}/l/channel/${encodeURIComponent(i.channelId)}/${encodeURIComponent(i.channelName)}?groupId=${i.teamId}&tenantId=${this.provider.tenantId}`,n=i}else{const{emailAddresses:r,message:o,topicName:i}=t;e=`${at(this.useMsTeamsProtocol)}/l/chat/0/0?`;const a=await W(this.provider,r,["displayName","mail"]),s=a.filter(Boolean).map((t=>encodeURIComponent(t.userPrincipalName)));if(!s.length)return this.logger.logWarning("Could not resolve any valid users from email addresses",r),r.map((()=>{}));e+=`users=${s.join(",")}`,i&&(e+=`&topicName=${encodeURIComponent(i)}`),o&&(e+=`&message=${encodeURIComponent(o)}`),n=D(a)}return this.logger.logInfo("Opening Teams",e),await fin.System.openUrlWithBrowser(e),this.logger.logInfo("startChat completed",n),n}catch(t){throw this.logger.logError(t),t}}}},91:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.c=e,n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r=n(n.s=54),o=r.MS,i=r.cF,a=r.AK,s=r.M_,u=r.cX,l=r.BT,c=r._W,f=r.Pg,d=r.$j,h=r.U$,p=r.U7;

/***/ }),

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const o=n(a(6535));t.lightenColor=(e,t)=>r(e,"lighten",t),t.darkenColor=(e,t)=>r(e,"darken",t);const r=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,o.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>o.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),o=a(2346),r=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,o.darkenColor)(t,2),[`${e}Hover`]:(0,o.lightenColor)(t,5),[`${e}Focused`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},e),s(r.Palette.brandPrimary,e.brandPrimary)),s(r.Palette.brandSecondary,e.brandSecondary))})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(o,r){if(r=r||{},(o=o||"")instanceof n)return o;if(!(this instanceof n))return new n(o,r);var i=function(n){var o,r,i,s={r:0,g:0,b:0},c=1,l=null,d=null,u=null,p=!1,w=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,o=!1;if(f[e])e=f[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=B.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=B.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=B.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=B.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=B.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=B.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=B.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:W(n[4]),format:o?"name":"hex8"}:(n=B.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:o?"name":"hex"}:(n=B.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:W(n[4]+""+n[4]),format:o?"name":"hex8"}:!!(n=B.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:o?"name":"hex"}}(n)),"object"==e(n)&&(E(n.r)&&E(n.g)&&E(n.b)?(o=n.r,r=n.g,i=n.b,s={r:255*P(o,255),g:255*P(r,255),b:255*P(i,255)},p=!0,w="%"===String(n.r).substr(-1)?"prgb":"rgb"):E(n.h)&&E(n.s)&&E(n.v)?(l=I(n.s),d=I(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),o=e-n,r=a*(1-t),i=a*(1-o*t),s=a*(1-(1-o)*t),c=n%6;return{r:255*[a,i,r,r,s,a][c],g:255*[s,a,a,i,r,r][c],b:255*[r,r,s,a,a,i][c]}}(n.h,l,d),p=!0,w="hsv"):E(n.h)&&E(n.s)&&E(n.l)&&(l=I(n.s),u=I(n.l),s=function(e,t,a){var n,o,r;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=o=r=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),o=i(c,s,e),r=i(c,s,e-1/3)}return{r:255*n,g:255*o,b:255*r}}(n.h,l,u),p=!0,w="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=v(c),{ok:p,format:n.format||w,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(o);this._originalInput=o,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=(r+i)/2;if(r==i)n=o=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,l:s}}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=r,c=r-i;if(o=0===r?0:c/r,r==i)n=0;else{switch(r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,v:s}}function i(e,t,a,n){var o=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function s(e,t,a,n){return[x(A(n)),x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function l(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function d(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function w(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function h(e,t){var a=n(e).toHsl(),o=(a.h+t)%360;return a.h=o<0?360+o:o,n(a)}function g(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),o=[n(e)],r=360/t,i=1;i<t;i++)o.push(n({h:(a.h+i*r)%360,s:a.s,l:a.l}));return o}function k(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function b(e,t,a){t=t||6,a=a||30;var o=n(e).toHsl(),r=360/a,i=[n(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,i.push(n(o));return i}function y(e,t){t=t||6;for(var a=n(e).toHsv(),o=a.h,r=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:o,s:r,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=v(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,o){var r=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16)),x(A(n))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=n(e);a="#"+s(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(y,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]="a"===r?t[r]:I(t[r]));t=o}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var o=n(e).toRgb(),r=n(t).toRgb(),i=a/100;return n({r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a})},n.readability=function(e,t){var a=n(e),o=n(t);return(Math.max(a.getLuminance(),o.getLuminance())+.05)/(Math.min(a.getLuminance(),o.getLuminance())+.05)},n.isReadable=function(e,t,a){var o,r,i,s,c,l=n.readability(e,t);switch(r=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),o={level:s,size:c}).level+o.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},n.mostReadable=function(e,t,a){var o,r,i,s,c=null,l=0;r=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var d=0;d<t.length;d++)(o=n.readability(e,t[d]))>l&&(l=o,c=n(t[d]));return n.isReadable(e,c,{level:i,size:s})||!r?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var f=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(f);function v(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function M(e){return parseInt(e,16)}function x(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function A(e){return Math.round(255*parseFloat(e)).toString(16)}function W(e){return M(e)/255}var D,T,R,B=(T="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",R="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{CSS_UNIT:new RegExp(D),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+R),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function E(e){return!!B.CSS_UNIT.exec(e)}return n}()}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e].call(r.exports,r,r.exports,o),r.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=o(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=o(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=o(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in r)i[s]=r[s];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{AppManifestType:()=>c,BookmarkItemContextMenuOptionType:()=>y,BrowserButtonType:()=>S,ColorSchemeOptionType:()=>m,CustomActionCallerType:()=>C,EnterpriseMainContextMenuOptionType:()=>b,GlobalContextMenuOptionType:()=>g,PageChangeEventType:()=>h,PageTabContextMenuOptionType:()=>k,PanelPosition:()=>w,SUPPORTED_LANGUAGES:()=>M,SaveButtonContextMenuOptionType:()=>v,SaveModalType:()=>x,ViewTabMenuOptionType:()=>f,WindowType:()=>P,getCurrentSync:()=>Aa,init:()=>os,initDockCompanion:()=>as,wrapSync:()=>Ia});var e,t,o,r,i,s,c,l,d={};a.r(d),a.d(d,{getItem:()=>ca,removeItem:()=>la,setItem:()=>sa}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(o||(o={})),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(i||(i={})),function(e){e.MultiSelect="MultiSelect"}(s||(s={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(c||(c={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(l||(l={}));var u,p,w,h,g,m,k,b,y,f,S,v,P,C;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(u||(u={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(p||(p={})),function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(w||(w={})),function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(h||(h={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(g||(g={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(m||(m={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(k||(k={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.Print="Print",e.Pin="Pin"}(b||(b={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(y||(y={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(f||(f={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(S||(S={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(v||(v={})),function(e){e.Browser="browser",e.Platform="platform"}(P||(P={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(C||(C={}));const M=["en-US","ja-JP","zh-CN","ko-KR","ru-RU","de-DE","zh-Hant"];var x,I;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(x||(x={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(I||(I={}));const A="undefined"!=typeof window&&"undefined"!=typeof fin,W=("undefined"==typeof process||process.env,"undefined"!=typeof window),D=W&&"undefined"!=typeof indexedDB,T=W?window.origin:I.Local,R=A&&fin.me.uuid,B=A&&fin.me.name,E=A&&fin.me.entityType,F=(I.Local,I.Dev,I.Staging,"prod"===I.Prod),V=e=>e.startsWith("http://")||e.startsWith("https://")?e:T+e,N=V("https://workspace.openfin.co/workspace/21.0.15"),L=V("https://workspace.openfin.co/workspace/21.0.15"),_=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&V(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&V(WORKSPACE_DOCS_CLIENT_URL),"41.134.102.4"),O="21.0.15";"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA;var U,G;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(U||(U={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseStorageProxy="/enterprise/storage-proxy",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/"}(G||(G={}));const H={...U,...G};var $;!function(e){e.Search="search"}($||($={}));const K=H;async function z(){const e="getManifestOverrides",{manifest:t,initialOptions:a}=await fin.Application.getCurrentSync().getInfo();return t?.platform.workspace||t?.platform.home||a?.workspace||a?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),t?.platform.workspace?(JSON.stringify(t?.platform.workspace),t?.platform.workspace):t?.platform.home?(JSON.stringify(t?.platform.home),t?.platform.home):a?.workspace?(JSON.stringify(a?.workspace),a?.workspace):a?.home?(JSON.stringify(a?.home),a?.home):{}}const J=e=>fin.System.getSystemAppConfig(e);async function q(){const e="getDOSOverrides";if(!A)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let t=await J("workspace").catch((t=>{console.warn(`${e}: customConfig entry for SystemApp workspace not available in Desktop Owner Settings. ${t?.message}`)}));return t||(t=await J("home")),JSON.stringify(t),t}catch(t){if(!F)return{};if(!(t instanceof Error))throw t;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${t?.message}`)}return{}}let Z,j;async function Q(){if(Z)return Z;const e="getOverrides";if(!A)return W&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[t,a]=await Promise.all([q(),z()]);return Z={...a,...t,disableRuntimeValidation:a.disableRuntimeValidation||t.disableRuntimeValidation},Z}function Y(e){j=e}const X=e=>e.replace(/\/$/,"");async function ee(){const e=(await Q()).browserBaseUrl;if(e)try{const t=new URL(e);if(t.pathname.endsWith("/"))t.pathname=X(t.pathname);else{if("/workspace"===t.pathname)return t.pathname+=`/${O}`,t.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(t){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return j??L}async function te(e=!1){const t=await ee()+K.Browser;return e?t:X(t)}async function ae(e=!1){const t=await ee()+K.EnterpriseBrowser;return e?t:X(t)}async function ne(){return await ae()+"/landing/"}const oe=async(e,t=!1)=>e?ae(t):te(t);var re,ie;!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(re||(re={})),function(e){e.FinProtocol="fin-protocol"}(ie||(ie={}));const se={uuid:R},ce=(re.Workspace,e=>{if(!A)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),le=()=>ce(se);var de;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion"}(de||(de={}));const ue=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2});function pe(e){if(!A)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const we={name:B,uuid:R};function he(){return pe(we)}de.Home,re.Workspace,de.Dock,re.Workspace;const ge={name:de.Storefront,uuid:re.Workspace};re.Workspace,re.Workspace;async function me(e){const t=pe(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.focus()}const ke=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function be(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>ke(e.identity))));return e.filter(((e,a)=>t[a]))}async function ye(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>e.identity.name.startsWith(de.BrowserMenu)))}const fe=e=>pe(e).getOptions().then((()=>!0)).catch((()=>!1)),Se=()=>fe(ge);function ve(e,t){const a=e.top,n=e.left,o=e.top+e.height,r=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,l=t.monitorRect.right;if(a>c||o<i||n>l||r<s)return 0;const d=Math.max(a,i),u=Math.max(n,s);return(Math.min(o,c)-d)*(Math.min(r,l)-u)/(e.height*e.width)}async function Pe(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=ve(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}const Ce=(e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a};const Me=56,xe=728,Ie=150,Ae=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType},We=e=>{const t=e?.defaultWindowOptions?.workspacePlatform?.windowType;return"enterprise"===t};let De;const Te=e=>{if(e)try{return new URL(e).pathname.includes(K.EnterpriseBrowser)}catch(t){console.error("error parsing url: %O",e)}return!1},Re=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var Be;!function(e){e.Top="top",e.Below="below"}(Be||(Be={}));const Ee=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function Fe(e,t,a,n,o,r){const i=!!e&&pe(e),s=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(i,r);if(n===Be.Below){if(!i||await Ee(i)){const e=i?(await Pe(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ue(e).left-t/2,top:o?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:ue(s).left-t/2,top:o?s.bottom-128:s.bottom+12,width:t,height:a}}if(!i||await Ee(i)){const e=i?(await Pe(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ue(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:ue(s).left-t/2,top:s.top+20,width:t,height:a}}Re((async function(e,t,a,n,o){const r=t.getBoundingClientRect(),i=await Fe(e,r.width,r.height,a,n,o);if(0===i.width||0===i.height)return;const s=he();await s.setBounds(i),await s.show();const c=setTimeout((()=>s.close()),n?5e3:3e3),l=()=>{clearTimeout(c),s.close()};if(e){const t=pe(e);t.on("bounds-changing",(()=>l())),t.on("blurred",(()=>l())),t.on("maximized",(()=>l())),t.on("minimized",(()=>l())),t.on("restored",(()=>l()))}}),10);const Ve=async e=>{const t=e&&await pe(e).getBounds(),a=e?await Pe(t):(await fin.System.getMonitorInfo()).primaryMonitor;return{left:((n=a.availableRect).left+n.right)/2,top:(n.top+n.bottom)/2};// removed by dead control flow
{ var n; }},Ne=async(e,t,a=!1)=>{let n;if(a)n=await Ve(t);else{const e=pe(t),a=await e.getBounds();n=n??ue(a)}const{defaultHeight:o,defaultWidth:r}=e;return((e,t)=>{const a=t.width/2,n=t.height/2;return{left:Math.round(e.left-a),top:Math.round(e.top-n),width:t.width,height:t.height}})(n,{height:o,width:r})};async function Le(e,t,a=!1){const n=t&&"maximized"===await pe(t).getState(),o=a||n||!t,r=await Ne(e,t,o);return await(async e=>{const t=await fin.System.getMonitorInfo(),a=[t.primaryMonitor,...t.nonPrimaryMonitors];for(const t of a)if(1===ve(e,t))return!1;return!0})(r)?(await pe(t).center(),Ne(e,t,o)):(console.warn("Response modal isn't off screen, not centering parent window"),r)}var _e;!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(_e||(_e={}));const Oe=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||O,componentName:e,componentVersion:t.componentVersion||O,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};let Ue=!1;const Ge=new Map,He=e=>{let t=Ge.get(e.uuid);return t||(t=Ia(e),t.once("closed",(()=>{Ge.delete(e.uuid)})),Ge.set(e.uuid,t)),t},$e=async(e,t)=>{try{await e._raiseAnalytics([t])}catch(e){console.error("failed to raise analytics event",e)}},Ke=async e=>{await $e(He(fin.me.identity),{source:"Browser",...e})};var ze=a(847);const Je=e=>e.replace(/[^\d,]/g,"").split(","),qe=e=>{if(e.length<2)throw new Error("Invalid color object, cannot convert to HSL.");const t=e[0]/255,a=e[1]/255,n=e[2]/255,o=Math.min(t,a,n),r=Math.max(t,a,n),i=r-o;let s=0,c=0,l=0;return s=0===i?0:r===t?(a-n)/i%6:r===a?(n-t)/i+2:(t-a)/i+4,s=Math.round(60*s),s<0&&(s+=360),l=(r+o)/2,c=0==i?0:i/(1-Math.abs(2*l-1)),c=+(100*c).toFixed(1),l=+(100*l).toFixed(1),{hsl:`hsl(${s}, ${c}%, ${l}%)`,hsla:`hsl(${s}, ${c}%, ${l}%, 1)`,hue:s,lightness:l,saturation:c}},Ze=e=>{if(!e)throw new Error("Color is not defined");const t=e.toLowerCase();let a;if(t.includes("rgb")){const e=Je(t);e.length>3&&e.pop(),a=qe(e).hue}if(t.includes("#")){const e=(e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let t=0,a=0,n=0;if(4===e.length)t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,n=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,n=`0x${e[5]}${e[6]}`}return[+t,+a,+n]})(t);a=qe(e).hue}if(t.includes("hsl")){a=Je(t)[0]}const n=a?.toString();if(!n)throw new Error(`Hue was unable to be extracted from "${t}", check color format. Accepted formats are: rgb(), rgba(), hex, hsl(), and hsla()`);return n},je=(e,t=!1)=>{const a=Ze(e);return t?{background1:`hsla(${a}, 0%, 100%, 1)`,background2:`hsla(${a}, 67%, 99%, 1)`,background3:`hsla(${a}, 26%, 96%, 1)`,background4:`hsla(${a}, 15%, 94%, 1)`,background5:`hsla(${a}, 10%, 88%, 1)`,background6:`hsla(${a}, 80%, 80%, 1)`}:{background1:`hsla(${a}, 8%, 7%, 1)`,background2:`hsla(${a}, 8%, 13%, 1)`,background3:`hsla(${a}, 9%, 15%, 1)`,background4:`hsla(${a}, 6%, 23%, 1)`,background5:`hsla(${a}, 21%, 28%, 1)`,background6:`hsla(${a}, 5%, 51%, 1)`}},Qe=(e,t)=>{const a={};return Object.keys(e).forEach((n=>{a[n]=t[n]?t[n]:e[n]})),a};var Ye=a(877),Xe=a.n(Ye),et=a(67),tt=a.n(et);const at={light:{symbol:tt()?.src||""},dark:{symbol:Xe()?.src||""}},nt=W&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function ot(e){let t;const a=new Set;return()=>{if(!A)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await nt;const n={clientAPIVersion:O},o=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return o.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),o})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}var rt,it;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(rt||(rt={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(it||(it={}));const st=ot("__of_workspace_protocol__"),ct=st;ot("__search-openfin-browser-home-topic__");var lt;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal"}(lt||(lt={}));const dt=async e=>fin.Platform.wrapSync(e).getClient(),ut=async e=>{const t=await dt(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},pt=async e=>(await ut(e),dt(e)),wt=async e=>{const t=await ut(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return dt(e)},ht="dark",gt={[ze.Palette.brandPrimary]:"#0A76D3",[ze.Palette.statusSuccess]:ze.Color.functional1,[ze.Palette.statusWarning]:ze.Color.functional10,[ze.Palette.statusCritical]:ze.Color.functional7,[ze.Palette.statusActive]:ze.Color.functional3,[ze.Palette.contentBackground1]:"#0A76D3",[ze.Palette.contentBackground2]:"#000000",[ze.Palette.contentBackground3]:"#000000",[ze.Palette.contentBackground4]:"#000000",[ze.Palette.contentBackground5]:"#000000"},mt={...gt,[ze.Palette.background1]:ze.Color.white,[ze.Palette.background2]:ze.Color.lightGray1,[ze.Palette.background3]:ze.Color.lightGray2,[ze.Palette.background4]:ze.Color.lightGray3,[ze.Palette.background5]:ze.Color.lightGray4,[ze.Palette.background6]:ze.Color.lightGray5,[ze.Palette.brandSecondary]:ze.Color.lightGray4,[ze.Palette.inputBackground]:ze.Color.lightGray3,[ze.Palette.inputColor]:ze.Color.darkGray5,[ze.Palette.inputPlaceholder]:ze.Color.darkGray2,[ze.Palette.inputDisabled]:ze.Color.neutralGray,[ze.Palette.inputFocused]:ze.Color.lightGray5,[ze.Palette.inputBorder]:ze.Color.neutralGray,[ze.Palette.textDefault]:ze.Color.darkGray5,[ze.Palette.textHelp]:ze.Color.darkGray3,[ze.Palette.textInactive]:ze.Color.neutralGray},kt={...gt,[ze.Palette.background1]:ze.Color.darkGray6,[ze.Palette.background2]:ze.Color.darkGray5,[ze.Palette.background3]:ze.Color.darkGray4,[ze.Palette.background4]:ze.Color.darkGray3,[ze.Palette.background5]:ze.Color.darkGray2,[ze.Palette.background6]:ze.Color.darkGray1,[ze.Palette.brandSecondary]:ze.Color.darkGray2,[ze.Palette.inputBackground]:ze.Color.darkGray1,[ze.Palette.inputColor]:ze.Color.white,[ze.Palette.inputPlaceholder]:ze.Color.lightGray5,[ze.Palette.inputDisabled]:ze.Color.neutralGray,[ze.Palette.inputFocused]:ze.Color.lightGray5,[ze.Palette.inputBorder]:ze.Color.neutralGray,[ze.Palette.textDefault]:ze.Color.white,[ze.Palette.textHelp]:ze.Color.lightGray5,[ze.Palette.textInactive]:ze.Color.neutralGray},bt=[{label:"OpenFin Default Light and Dark Theme",palettes:{light:{...mt,brandPrimary:"#0A76D3",brandSecondary:ze.Color.lightGray4,backgroundPrimary:ze.Color.darkGray5},dark:{...kt,brandPrimary:"#0A76D3",brandSecondary:ze.Color.darkGray2,backgroundPrimary:ze.Color.darkGray5}}}],yt=e=>{const{background:t,foreground:a}=e;return{background:t,foreground:a??"#FFFFFF"}},ft=(e,t)=>({icons:{symbol:e.brand?.icons?.[t]?.symbol||at[t].symbol}}),St=e=>{const{light:t,dark:a}="palettes"in e?e.palettes:{light:e.palette,dark:e.palette},n=Qe(kt,a),o=Qe(mt,t),r=((e,t)=>{const a={...e},n={...t};let o=t.backgroundPrimary?je(t.backgroundPrimary,!0):{},r=e.backgroundPrimary?je(e.backgroundPrimary):{};return o={...o,...n},r={...r,...a},{light:{...t,...o},dark:{...e,...r}}})(a,t),i={...(0,ze.createTheme)({...n,...r?.dark}),brand:ft(e,"dark")},s={...(0,ze.createTheme)({...o,...r?.light}),brand:ft(e,"light")},{light:c,dark:l}=(e=>{const t=Object.keys(e.notificationIndicatorColors??{});if(t?.length){const a={},n={};return t.forEach((t=>{const o=e.notificationIndicatorColors[t];"background"in o?(a[t]=yt(o),n[t]=yt(o)):(a[t]=yt(o.dark??o.light),n[t]=yt(o.light??o.dark))})),{light:n,dark:a}}return{light:null,dark:null}})(e);return i.notificationIndicatorColors=l,s.notificationIndicatorColors=c,{dark:i,light:s}},vt=async e=>{const{themes:t,selectedScheme:a}=await(async e=>{const t=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!t||e.uuid!==we.uuid)return{themes:await Ia(e).Theme.getThemes(),selectedScheme:await Ia(e).Theme.getSelectedScheme()};return t})(e);var n,o;return(n=t?.length?t:bt,o=a,n.map((e=>{const t="palettes"in e?e.default:ht,{light:a,dark:n}=St(e);return{label:e.label,logoUrl:e.logoUrl,theme:{dark:n,light:a},defaultScheme:o??t}})))[0]},Pt=async e=>{const t=await pt(e||fin.me.identity),a=await t.dispatch(lt.GetSelectedScheme,void 0);return a===m.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a},Ct=async(e,t)=>{const a=await vt(fin.me.identity),n=await Pt(fin.me.identity)===m.Dark,o=a?.theme;return o?.[n?m.Dark:m.Light]?.palette?.[e]||t};let Mt;const xt=async e=>{Mt||(Mt=new TextEncoder);const t=Mt.encode(e),a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("")};function It(e){return e&&"object"==typeof e&&!Array.isArray(e)}function At(e,...t){if(!t.length)return e;const a=t.shift();return It(e)&&It(a)&&Object.entries(a).forEach((([t,a])=>{if(It(a))return e[t]||(e[t]={}),At(e[t],a);e[t]=a})),At(e,...t)}const Wt=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var Dt,Tt=a.n(Wt);function Rt(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(Dt||(Dt={}));const Bt=Dt;function Et(){return localStorage.getItem(Bt.MachineName)??"unknown"}let Ft;async function Vt(){return Ft||(Ft=await fin.System.getMachineId()),Ft}const Nt=e=>{if(Array.isArray(e.workspacePlatform?.pages)&&(e.layoutSnapshot||e.layout)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t){const a=e.layoutSnapshot?e.layoutSnapshot.layouts[t.layoutContainerKey]:e.layout;if(a)if(t.isLocked){const n=_a(a,t.layout);t.layout=n,e.layout=n}else t.layout=a,e.layout=a}}return e};async function Lt(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=Et();return{...t,snapshotDetails:{...t.snapshotDetails,machineId:await Vt(),machineName:a}}}const _t=async e=>({...e,layoutDetails:{machineId:await Vt(),machineName:Et()}}),Ot=async(e,t)=>({pageId:Rt(),title:e,layout:await _t(t),isReadOnly:!1}),Ut=async e=>{const t=await Ot(e.title,Fa(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:Ea(e.viewOptions)})))),{...e,...t}},Gt=e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:o}=a,r=await Ae(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...o,headerHeight:r?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:o}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...o,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}},Ht="of-workspace-";const $t=new class{mark(e){performance.mark(`${Ht}${e}`)}markStart(e){performance.mark(`${Ht}${e}-start`)}markEnd(e){performance.mark(`${Ht}${e}-end`)}markEndAndMeasure(e){performance.mark(`${Ht}${e}-end`);try{return performance.measure(`${Ht}${e}`,`${Ht}${e}-start`,`${Ht}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${Ht}${e}`);try{return performance.measure(`${Ht}${e}-measure`,`${Ht}${t}-start`,`${Ht}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(Ht)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${Ht}`,"").replace("-measure",""),duration:e.duration})))}},Kt=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,zt=new Map,Jt=e=>(zt.has(e)||zt.set(e,ot(e)),zt.get(e)()),qt=(e,t)=>{const a=Kt(e,t);return Jt(a)};var Zt,jt,Qt,Yt,Xt;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(Zt||(Zt={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(jt||(jt={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(Qt||(Qt={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(Yt||(Yt={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(Xt||(Xt={}));const ea={...Zt,...jt,...Xt},ta=ot(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),aa=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await ta()).dispatch(Yt.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.DeleteBookmarkNode,e))(e)},getPages:async()=>(await wt(e)).dispatch(lt.GetPagesForWindow,e),getPage:async t=>(await wt(e)).dispatch(lt.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>Aa().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await wt(e),o={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(lt.AddPage,o)},removePage:async t=>(await wt(e)).dispatch(lt.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>Aa().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await wt(e),o=(await n.dispatch(lt.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!o)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);o.multiInstanceViewBehavior="reparent";const r={identity:e,pages:[o],insertionIndex:t.index};return n.dispatch(lt.AttachPagesToWindow,r)},setActivePage:async t=>(await wt(e)).dispatch(lt.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await wt(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await wt(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await wt(e);return(await qt(e)).dispatch(ea.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await qt(e)).dispatch(ea.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.AddDefaultPage,t)},_trackRemovedTab:async t=>(await wt(e)).dispatch(lt.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await wt(e)).dispatch(lt.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await wt(e)).dispatch(lt.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await wt(e)).dispatch(lt.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await wt(e)).dispatch(lt.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await wt(e)).dispatch(lt.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await wt(e)).dispatch(lt.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await wt(e)).dispatch(lt.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await wt(e)).dispatch(lt.HandleRequestNavigationInternal,t)}),na=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>aa(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${Rt()}`;return $t.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{$t.markAndMeasure("browser-window-shown",e)}))})(n),await wt(e);const o=await t.createWindow(a);return(e=>{$t.markAndMeasure("browser-window-started",e)})(n),aa(o.identity)},getAllAttachedPages:async()=>(await wt(e)).dispatch(lt.GetAllAttachedPages,void 0),getAllWindows:async()=>{await wt(e);return(await be()).map((e=>aa(e.identity)))},getUniquePageTitle:async t=>(await wt(e)).dispatch(lt.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await wt(e)).dispatch(lt.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await wt(e)).dispatch(lt.GetPageByViewIdentity,t)}},oa=e=>({createPage:async t=>(await wt(e)).dispatch(lt.CreateSavedPageInternal,t),deletePage:async t=>(await wt(e)).dispatch(lt.DeleteSavedPageInternal,t),updatePage:async t=>(await wt(e)).dispatch(lt.UpdateSavedPageInternal,t),getPage:async t=>(await wt(e)).dispatch(lt.GetSavedPage,t),getPages:async t=>(await wt(e)).dispatch(lt.GetSavedPages,t),savePage:async t=>(await wt(e)).dispatch(lt.SavePage,t),createWorkspace:async t=>(await pt(e)).dispatch(lt.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=Aa(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await pt(e)).dispatch(lt.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await pt(e)).dispatch(lt.UpdateSavedWorkspace,t),getWorkspace:async t=>(await pt(e)).dispatch(lt.GetSavedWorkspace,t),getWorkspaces:async t=>(await pt(e)).dispatch(lt.GetSavedWorkspaces,t),saveWorkspace:async t=>(await pt(e)).dispatch(lt.SaveWorkspace,t),getDockProviderConfig:async t=>(await pt(e)).dispatch(lt.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await pt(e)).dispatch(lt.SaveDockProviderConfig,t)});var ra;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(ra||(ra={}));const ia=ot("of-workspace-notifications-sync"),sa=(e,t)=>{localStorage.setItem(`${R}-${e}`,t)},ca=e=>localStorage.getItem(`${R}-${e}`),la=e=>localStorage.removeItem(`${R}-${e}`),da=m.System,ua=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),pa=(e,t)=>({selectedTab:"dark"===t?e.background3:e.background1});const wa=new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorageProxy=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=async()=>{if(this.workspaceStorage){const e=this.getScheme();if(await this.workspaceStorage.setItem(Bt.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)await this.workspaceStorage.setItem(Bt.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;await this.workspaceStorage.setItem(Bt.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t})=>{this.lightPaletteVars=ua({...e,...pa(e,"light")}),this.darkPaletteVars=ua({...t,...pa(t,"dark")})}}setScheme(e){this.providerStorage.setItem(Bt.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(Bt.SelectedColorScheme)&&this.providerStorage.setItem(Bt.SelectedColorScheme,da),this.providerStorage.getItem(Bt.SelectedColorScheme)}}(d),ha=()=>wa,ga=e=>({getThemes:async()=>(await pt(e)).dispatch(lt.GetThemes,void 0),setSelectedScheme:async t=>(await pt(e)).dispatch(lt.SetSelectedScheme,t),getSelectedScheme:async()=>(await pt(e)).dispatch(lt.GetSelectedScheme,void 0)}),ma=async e=>{const t=await ct();await t.dispatch("set-selected-scheme",e)},ka=async e=>{const t=await ia();await t.dispatch(ra.UpdatePlatformThemeScheme,{scheme:e})},ba=async e=>{const t=await be();return Promise.all(t.map((async t=>{const a=await qt(t.identity);await a.dispatch(ea.SetSelectedScheme,e)})))},ya=async e=>{const t=new Array,a=fin.Application.getCurrentSync(),n=await a.getViews();for(const e of n){-1!==e.identity.name.indexOf(de.BrowserAddressSearchPrefix)&&t.push(e.identity);-1!==(await e.getOptions()).url.indexOf(K.EnterpriseBrowser)&&t.push(e.identity)}return Promise.all(t.map((async t=>{const a=await qt(t,"theme-change-listener");await a.dispatch(ea.SetSelectedScheme,e)})))},fa=async e=>{const t=await ye();return Promise.all(t.map((async t=>{const a=await qt(t.identity);await a.dispatch(ea.SetSelectedScheme,e)})))},Sa=async e=>{const t=await qt({uuid:we.uuid,name:de.EnterpriseContextMenu});await t.dispatch(ea.SetSelectedScheme,e)},va=async e=>{const t=await qt({uuid:we.uuid,name:de.EnterpriseBookmarkDialogWindow});await t.dispatch(ea.SetSelectedScheme,e).catch((()=>{}))},Pa=async e=>{const t=await qt({uuid:we.uuid,name:de.DropdownMenu});await t.dispatch(ea.SetSelectedScheme,e).catch((()=>{}))},Ca=async e=>{const t=await qt({uuid:we.uuid,name:de.DockCompanion});await t.dispatch(ea.SetSelectedScheme,e).catch((()=>{}))},Ma=async e=>{try{const t=ha();t.setScheme(e),await Promise.all([t.trySynchronizeWorkspaceStorage(),ya(e),ka(e),ba(e),fa(e),Sa(e),ma(e),va(e),Pa(e),Ca(e)])}catch(e){console.error("failed to set the selected scheme: ",e)}},xa=()=>{try{return ha().getScheme()}catch(e){console.error("failed to get the selected scheme: ",e)}},Ia=e=>{const t=fin.Platform.wrapSync(e);let a;return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:R,name:B,entityType:E||"unknown"});return(await pt(e)).dispatch(lt.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await pt(e),o={actionId:t,payload:{...a,callerType:a.callerType||C.API}};return n.dispatch(lt.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await pt(e)).dispatch(lt.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await pt(e)).dispatch(lt.GetCurrentWorkspace,void 0),applyWorkspace:async(t,a)=>(await pt(e)).dispatch(lt.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await pt(e)).dispatch(lt.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await pt(e)).dispatch(lt.SetActiveWorkspace,t),getLanguage:async()=>(await pt(e)).dispatch(lt.GetLanguage),_getLanguageResources:async()=>(await pt(e)).dispatch(lt.GetLanguageResourcesInternal),setLanguage:async t=>(await pt(e)).dispatch(lt.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await ut(e)),"object"==typeof a&&a?.analytics?.isSupported){return(await pt(e)).dispatch(lt.Analytics,t)}e.uuid},getNotificationsConfig:async()=>(await pt(e)).dispatch(lt.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await pt(e)).dispatch(lt.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await pt(e)).dispatch(lt.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await pt(e)).dispatch(lt.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await pt(e)).dispatch(lt.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await pt(e)).dispatch(lt.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await pt(e)).dispatch(lt.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await pt(e)).dispatch(lt.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await pt(e)).dispatch(lt.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await pt(e)).dispatch(lt.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await pt(e)).dispatch(lt.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await pt(e)).dispatch(lt.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await pt(e)).dispatch(lt.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await pt(e)).dispatch(lt.FocusAndExpandSearchInternal),Theme:ga(e),Browser:na(e),Storage:oa(e)})},Aa=()=>Ia(fin.me.identity),Wa={contextMenuOptions:{enabled:!0,template:["spellCheck","separator","print","separator","cut","copy","paste","undo","redo","selectAll","inspect","reload"]},downloadShelf:{enabled:!0}};function Da(e,t){return At({},Wa,t,e)}const Ta="internal-generated-view-",Ra=(e,t)=>e.content?{...e,content:e.content.map((e=>Ra(e,t)))}:{...e,componentState:t(e.componentState)},Ba=(e,t)=>{return a=Da(e,t),{...a,name:a.name?a.name:`internal-generated-view-${Rt()}`,_internalWorkspaceData:{...a._internalWorkspaceData,viewIdentifier:a._internalWorkspaceData?.viewIdentifier||Rt()}};// removed by dead control flow
{ var a; }},Ea=e=>({...e,name:void 0}),Fa=e=>{const t={...e};return Ra(t,Ea)},Va=e=>{const t={...e};return Ra(t,(e=>e.name&&e.name.startsWith(Ta)?Ea(e):e))},Na=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=Na(e.content);t.push(...a)})),t},La=async(e,t,a=we)=>{let n;if(await ke(a)){n=(await pe(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map,new Map;const _a=(e,t)=>{const a=Na(t.content);return{...Ra(e,(e=>{const t=a.find((t=>t._internalWorkspaceData?.viewIdentifier===e._internalWorkspaceData?.viewIdentifier)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}},Oa=e=>e?Na(e).length:0,Ua=(Tt()((async e=>{try{const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?Na(t.content):[],n=a.length;n>1?(e=>{"multiView"!==e.attachedPageType&&Aa().Browser.wrapSync(we).updatePage({pageId:e.pageId,page:{singleViewName:null,attachedPageType:"multiView"}})})(e):1===n&&(async(e,t)=>{const a=Aa().Browser.wrapSync(we);if("singleView"!==e.attachedPageType){const n=await Ut(e),o=await Aa().Browser.getUniquePageTitle();delete n.layout;const r={...n,singleViewName:t,title:o,hasUnsavedChanges:!1,attachedPageType:"singleView"};await a.updatePage({pageId:e.pageId,page:r})}})(e,a[0].name),await(async(e,t)=>{const a=Gt({...we,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})})(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js")),Ga=__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js");var Ha=a.n(Ga);const $a=JSON.parse('{"contextMenu.newWindow":"新建窗口","contextMenu.newPage":"新建页面","contextMenu.restore":"还原到上次保存的更改","contextMenu.switchWorkspace":"切换工作区","contextMenu.appearance":"外观","contextMenu.saveWorkspace":"保存工作区","contextMenu.saveWorkspaceAs":"将工作区另存为...","contextMenu.renameWorkspace":"重命名工作区","contextMenu.deleteWorkspace":"删除工作区","contextMenu.downloads":"下载","contextMenu.savePage":"保存页面","contextMenu.savePageAs":"将页面另存为...","contextMenu.print":"打印...","contextMenu.printScreen":"打印屏幕","contextMenu.closeWindow":"关闭窗口","contextMenu.openStorefront":"开放式店面","contextMenu.quitPlatform":"退出平台","contextMenu.newView":"新建视图","contextMenu.openView":"使用默认 Web 浏览器打开视图","contextMenu.openViews":"使用默认 Web 浏览器打开视图","contextMenu.reload":"Reload CN","contextMenu.reloadView":"重新加载视图","contextMenu.reloadViews":"重新加载视图","contextMenu.duplicate":"Duplicate CN","contextMenu.duplicateView":"复制视图","contextMenu.duplicateViews":"复制视图","contextMenu.addView":"将视图添加到频道","contextMenu.addViews":"将视图添加到频道","contextMenu.removeView":"从频道中移除视图","contextMenu.removeViews":"从频道中移除视图","contextMenu.closeView":"关闭视图","contextMenu.closeViews":"关闭视图","contextMenu.closeTab":"Close Tab CN","contextMenu.duplicatePage":"复制页面","contextMenu.submenu.print":"打印","contextMenu.submenu.printAll":"全部打印","saveMenu.saveWorkspaceAs":"将工作区另存为","saveMenu.savePageAs":"将页面另存为","saveModal.enterValue":"Please enter a value CN","saveModal.alreadyExists":"{{title}} 已存在。","saveModal.pleaseEnterValidName":"请输入有效名称","saveModal.renamePage":"重新命名页面","saveModal.closePage":"关闭页面","saveModal.discardChanges":"放弃更改","saveModal.discardAll":"全部放弃","saveModal.saveAll":"全部保存","saveModal.savePagesCount":"关闭前保存 ({{count}}) 个页面？","defaultPageTitle":"Untitled Page CN","enterpriseDefaultPageTitle":"Untitled Supertab CN","addNewPage":"添加新页面","addNewTab":"添加新选项卡","addNewView":"新建视图","restoreModal":"您确定要还原到上次保存的更改吗？","modal.discardWarning":"任何未保存的更改都将丢失","modal.discardPageWarning":"对此页的任何未保存的更改都将丢失。","modal.saveChangesPrompt":"关闭前保存更改？","modal.pageClose":"关闭页面","switchWorkspaceModal":"您确定要切换到 {{workspace}} 吗？","switchWorkspaceModal.warning":"任何未保存的更改都将丢失","deleteWorkspaceModal":"您确定要永久删除此工作区吗？","replaceWorkspaceModal.warning":"名称为 {{workspace}} 的工作区已存在。您是否要替换它？","replaceWorkspaceModal.warning.body":"已存在同名的工作区。替换它将覆盖其当前内容。","replaceWorkspaceModal.replace":"替换","closePlatform":"关闭平台","closePlatform.workspace":"关闭 {{workspace}} 平台","closePlatform.warning":"关闭平台将关闭所有工作区、应用或任何正在运行的进程。","back":"后退","forward":"前进","reload":"重新加载","green":"绿色","purple":"紫色","orange":"橙色","red":"红色","pink":"粉红色","yellow":"黄色","theme.light":"浅色","theme.dark":"深色","theme.system":"与操作系统设置同步","toolbar.hideTabs":"隐藏选项卡","toolbar.showTabs":"显示选项卡","toolbar.lock":"锁定","toolbar.unlock":"解锁","toolbar.colorLinking":"颜色链接","toolbar.changeLayout":"更改布局","toolbar.saveMenu":"保存菜单","toolbar.maximizeWindow":"最大化窗口","toolbar.restoreWindow":"还原窗口","toolbar.minimizeWindow":"最小化窗口","changeLayout.fullWidth":"全宽","changeLayout.columns":"列数","changeLayout.Rows":"行数","changeLayout.Grid":"网格","successIndicator.workspaceSwitched":"已切换工作区","successIndicator.hidden":"选项卡已隐藏","successIndicator.shown":"选项卡已显示","successIndicator.locked":"页面已锁定","successIndicator.unlocked":"页面已解锁","successIndicator.workspaceSaved":"工作区已保存","successIndicator.workspaceSavedAs":"工作区已另存为 {{workspace}}","successIndicator.workspaceRenamed":"工作区已重命名","successIndicator.pageSaved":"页面已保存","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. CN","successIndicator.pageCopySaved":"页面已另存为 {{title}}","successIndicator.pageRenamed":"页面已重命名","successIndicator.contextGroupApplied":"已应用上下文组","successIndicator.namedContextGroupApplied":"已应用 {{colorName}} 上下文组","successIndicator.viewRemoved":"从上下文组中移除视图","successIndicator.viewsRemoved":"从上下文组中移除视图","successIndicator.layoutApplied":"已应用 {{layoutName}} 布局","successIndicator.workspaceDeleted":"工作区已删除","errorIndicator.pageSaveFailed":"页面保存失败","errorIndicator.workspaceSaveFailed":"工作区保存失败","errorIndicator.failedToDuplicatePage":"复制页面失败","infoIndicator.colorLinkAttempt":"我们尝试对此选项卡进行颜色链接，但网站/内容所有者尚未启用该功能","global.cancel":"取消","global.confirm":"确认","global.save":"保存","global.delete":"Delete CN","appResults.header":"Featured Content CN","recentlyClosed.header":"Recently Closed CN","landingPage.subheader":"Apps and websites selected by an admin will show here CN","aria.openBrowser":"打开浏览器菜单","aria.browserTabs":"浏览器选项卡","aria.viewTab":"查看 {{title}} 的选项卡","aria.closePage":"关闭 {{title}} 的页面选项卡按钮","aria.closeTab":"关闭选项卡 {{title}}","aria.title":"标题","aria.closeContextGroup":"使用转义关闭上下文组选择对话框","aria.colorLinking":"显示或隐藏颜色链接","aria.applyColorLinking":"请选择一个视图以应用颜色链接","aria.assignColorLinkingCurrentView":"分配给 {{name}} 上下文组的当前视图","aria.assignColorLinkingCurrentViews":"分配给 {{name}} 上下文组的当前视图","aria.setColorLinkingActiveView":"将活动视图设置为 {{name}} 上下文组","aria.setColorLinkingActiveViews":"将活动视图设置为 {{name}} 上下文组","aria.escapeLayoutDialog":"使用转义关闭更改布局对话框","global.supertab":"Supertab CN","global.tab":"Tab CN","bookmarks.editBookmark":"Edit Bookmark CN","bookmarks.bookmarkAdded":"Bookmark added CN","bookmarks.done":"Done CN","bookmarks.remove":"Remove CN","bookmarks.bookmarksPanel":"Bookmarks Panel CN","bookmarks.closePanel":"Close Bookmarks Panel CN","bookmarks.bookmarks":"Bookmarks CN","bookmarks.allBookmarks":"All Bookmarks CN","bookmarks.favorites":"Favorites CN","bookmarks.searchBookmarks":"Search Bookmarks CN","bookmarks.clearSearchInput":"Clear Search Input CN","bookmarks.createFolder":"Create New Folder CN","bookmarks.exitFolder":"Exit Folder CN","bookmarks.newFolder":"New Folder CN","bookmarks.namedFolder":"{{name}} Folder CN","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings CN","bookmarks.folderSettings":"{{name}} Folder Settings CN","bookmarks.noResultsFound":"No results found CN","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search CN","bookmarks.nothingToShow":"Nothing to show yet CN","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder CN","bookmarks.resultsFoundIn":"Results found in {{name}} CN","bookmarks.resultsInOtherFolders":"Results found in other folders CN","bookmarks.allResultsFoundIn":"All results found in CN","bookmarks.editName":"Edit Name CN","bookmarks.move":"Move CN","bookmarks.bookmarkAddedTitle":"Bookmark Added CN","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" CN","bookmarks.bookmarkEditedTitle":"Bookmark Edited CN","enterpriseContextMenu.saveSupertab":"Save Supertab CN","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... CN","enterpriseContextMenu.duplicate":"Duplicate CN","enterpriseContextMenu.deleteSupertab":"Delete Supertab CN","enterpriseContextMenu.newTab":"New Tab CN","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As CN","enterpriseSaveModal.renameSupertab":"Rename CN","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. CN","enterpriseSaveModal.closeTab":"Close Tab CN","enterpriseSaveModal.closeSupertab":"Close Supertab CN","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? CN","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. CN","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? CN","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. CN","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved CN","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. CN","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted CN","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. CN","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab CN","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab CN","enterpriseCommandBar.switchToSupertab":"Switch to Supertab CN","enterpriseCommandBar.goTo":"Go to {{type}} CN","enterpriseCommandBar.viewMore":"View More CN","contextMenu.quitEnterpriseBrowser":"Quit CN"}'),Ka=JSON.parse('{"contextMenu.newWindow":"新視窗","contextMenu.newPage":"新頁面","contextMenu.restore":"還原到上次儲存的變更","contextMenu.switchWorkspace":"切換工作空間","contextMenu.appearance":"外觀","contextMenu.saveWorkspace":"儲存工作空間","contextMenu.saveWorkspaceAs":"將工作空間另存為...","contextMenu.renameWorkspace":"重新命名工作空間","contextMenu.deleteWorkspace":"刪除工作空間","contextMenu.downloads":"下載","contextMenu.savePage":"儲存頁面","contextMenu.savePageAs":"將頁面另存為...","contextMenu.print":"列印...","contextMenu.printScreen":"擷取畫面","contextMenu.closeWindow":"關閉視窗","contextMenu.openStorefront":"打開 Storefront","contextMenu.quitPlatform":"退出平台","contextMenu.newView":"新視圖","contextMenu.openView":"使用預設網頁瀏覽器打開視圖","contextMenu.openViews":"使用預設網頁瀏覽器打開視圖","contextMenu.reload":"Reload ZH","contextMenu.reloadView":"重新載入視圖","contextMenu.reloadViews":"重新載入視圖","contextMenu.duplicate":"Duplicate ZH","contextMenu.duplicateView":"複寫視圖","contextMenu.duplicateViews":"複寫視圖","contextMenu.addView":"將視圖新增至頻道","contextMenu.addViews":"將視圖新增至頻道","contextMenu.removeView":"從頻道中移除視圖","contextMenu.removeViews":"從頻道中移除視圖","contextMenu.closeView":"關閉視圖","contextMenu.closeViews":"關閉視圖","contextMenu.closeTab":"Close Tab ZH","contextMenu.duplicatePage":"複寫頁面","contextMenu.submenu.print":"列印","contextMenu.submenu.printAll":"列印全部","saveMenu.saveWorkspaceAs":"將工作空間另存為","saveMenu.savePageAs":"頁面另存為","saveModal.enterValue":"Please enter a value ZH","saveModal.alreadyExists":"{{title}} 已經存在。","saveModal.pleaseEnterValidName":"請輸入一個有效的名稱","saveModal.renamePage":"重新命名頁面","saveModal.closePage":"關閉頁面","saveModal.discardChanges":"捨棄變更","saveModal.discardAll":"全部捨棄","saveModal.saveAll":"儲存全部","saveModal.savePagesCount":"要先儲存 ({{count}}) 個頁面再關閉嗎？","defaultPageTitle":"Untitled Page ZH","enterpriseDefaultPageTitle":"Untitled Supertab ZH","addNewPage":"新增新頁面","addNewTab":"新增新索引標籤","addNewView":"新視圖","restoreModal":"您確定要還原到上次儲存的變更嗎？","modal.discardWarning":"任何未儲存的變更都將被捨棄","modal.discardPageWarning":"在此頁面任何未儲存的變更都將遺失。","modal.saveChangesPrompt":"要先儲存變更再關閉嗎？","modal.pageClose":"頁面關閉","switchWorkspaceModal":"您確定要切換到 {{workspace}}？","switchWorkspaceModal.warning":"任何未儲存的變更都將被捨棄","deleteWorkspaceModal":"您確定要永久刪除此工作空間嗎？","replaceWorkspaceModal.warning":"具有名稱 {{workspace}} 的工作空間已經存在。你要更換它嗎？","replaceWorkspaceModal.warning.body":"相同名稱的工作空間已經存在。更換它後，將會覆蓋目前內容。","replaceWorkspaceModal.replace":"更換","closePlatform":"關閉平台","closePlatform.workspace":"關閉 {{workspace}} 平台","closePlatform.warning":"關閉平台後，將關閉正在執行的任何工作空間、APP 或流程。","back":"上一頁","forward":"下一頁","reload":"重新載入","green":"綠","purple":"紫","orange":"橘","red":"紅色","pink":"粉紅","yellow":"黃","theme.light":"淺","theme.dark":"深","theme.system":"與 OS 設定同步","toolbar.hideTabs":"隱藏索引標籤","toolbar.showTabs":"顯示索引標籤","toolbar.lock":"上鎖","toolbar.unlock":"解鎖","toolbar.colorLinking":"顏色連結","toolbar.changeLayout":"變更版面","toolbar.saveMenu":"儲存選單","toolbar.maximizeWindow":"最大化視窗","toolbar.restoreWindow":"還原視窗","toolbar.minimizeWindow":"最小化視窗","changeLayout.fullWidth":"全螢幕寬度","changeLayout.columns":"行","changeLayout.Rows":"列","changeLayout.Grid":"網格","successIndicator.workspaceSwitched":"工作空間已切換","successIndicator.hidden":"索引標籤已隱藏","successIndicator.shown":"索引標籤已顯示","successIndicator.locked":"頁面已上鎖","successIndicator.unlocked":"頁面已解鎖","successIndicator.workspaceSaved":"工作空間已儲存","successIndicator.workspaceSavedAs":"工作空間已另存為 {{workspace}}","successIndicator.workspaceRenamed":"工作空間已重新命名","successIndicator.pageSaved":"頁面已儲存","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. ZH","successIndicator.pageCopySaved":"頁面已另存為 {{title}}","successIndicator.pageRenamed":"頁面已重新命名","successIndicator.contextGroupApplied":"脈絡群組已套用","successIndicator.namedContextGroupApplied":"{{colorName}} 脈絡群組已套用","successIndicator.viewRemoved":"從脈絡群組中移除的視圖","successIndicator.viewsRemoved":"從脈絡群組中移除的視圖","successIndicator.layoutApplied":"{{layoutName}} 版面已套用","successIndicator.workspaceDeleted":"工作空間已刪除","errorIndicator.pageSaveFailed":"頁面無法儲存","errorIndicator.workspaceSaveFailed":"工作空間無法儲存","errorIndicator.failedToDuplicatePage":"無法複寫頁面","infoIndicator.colorLinkAttempt":"我們嘗試對此索引標籤進行顏色連結，但網站/內容所有者尚未啟用該功能","global.cancel":"取消","global.confirm":"確認","global.save":"儲存","global.delete":"Delete ZH","appResults.header":"Featured Content ZH","recentlyClosed.header":"Recently Closed ZH","landingPage.subheader":"Apps and websites selected by an admin will show here ZH","aria.openBrowser":"開啟瀏覽器選單","aria.browserTabs":"瀏覽器索引標籤","aria.viewTab":"{{title}} 的視圖索引標籤","aria.closePage":"關閉 {{title}} 的頁面索引標籤按鈕","aria.closeTab":"關閉索引標籤 {{title}}","aria.title":"標題","aria.closeContextGroup":"使用 Esc 鍵關閉脈絡群組選取對話框","aria.colorLinking":"顯示或隱藏顏色連結","aria.applyColorLinking":"請選取要套用顏色連結的視圖","aria.assignColorLinkingCurrentView":"目前視圖分配給 {{name}} 脈絡群組","aria.assignColorLinkingCurrentViews":"目前視圖分配給 {{name}} 脈絡群組","aria.setColorLinkingActiveView":"將啟用視圖設定為 {{name}} 脈絡群組","aria.setColorLinkingActiveViews":"將啟用視圖設定為 {{name}} 脈絡群組","aria.escapeLayoutDialog":"使用 Esc 鍵關閉變更版面對話框","global.supertab":"Supertab ZH","global.tab":"Tab ZH","bookmarks.editBookmark":"Edit Bookmark ZH","bookmarks.bookmarkAdded":"Bookmark added ZH","bookmarks.done":"Done ZH","bookmarks.remove":"Remove ZH","bookmarks.bookmarksPanel":"Bookmarks Panel ZH","bookmarks.closePanel":"Close Bookmarks Panel ZH","bookmarks.bookmarks":"Bookmarks ZH","bookmarks.allBookmarks":"All Bookmarks ZH","bookmarks.favorites":"Favorites ZH","bookmarks.searchBookmarks":"Search Bookmarks ZH","bookmarks.clearSearchInput":"Clear Search Input ZH","bookmarks.createFolder":"Create New Folder ZH","bookmarks.exitFolder":"Exit Folder ZH","bookmarks.newFolder":"New Folder ZH","bookmarks.namedFolder":"{{name}} Folder ZH","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings ZH","bookmarks.folderSettings":"{{name}} Folder Settings ZH","bookmarks.noResultsFound":"No results found ZH","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search ZH","bookmarks.nothingToShow":"Nothing to show yet ZH","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder ZH","bookmarks.resultsFoundIn":"Results found in {{name}} ZH","bookmarks.resultsInOtherFolders":"Results found in other folders ZH","bookmarks.allResultsFoundIn":"All results found in ZH","bookmarks.editName":"Edit Name ZH","bookmarks.move":"Move ZH","bookmarks.bookmarkAddedTitle":"Bookmark Added ZH","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" ZH","bookmarks.bookmarkEditedTitle":"Bookmark Edited ZH","enterpriseContextMenu.saveSupertab":"Save Supertab ZH","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... ZH","enterpriseContextMenu.duplicate":"Duplicate ZH","enterpriseContextMenu.deleteSupertab":"Delete Supertab ZH","enterpriseContextMenu.newTab":"New Tab ZH","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As ZH","enterpriseSaveModal.renameSupertab":"Rename ZH","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. ZH","enterpriseSaveModal.closeTab":"Close Tab ZH","enterpriseSaveModal.closeSupertab":"Close Supertab ZH","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? ZH","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. ZH","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? ZH","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. ZH","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved ZH","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. ZH","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted ZH","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. ZH","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab ZH","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab ZH","enterpriseCommandBar.switchToSupertab":"Switch to Supertab ZH","enterpriseCommandBar.goTo":"Go to {{type}} ZH","enterpriseCommandBar.viewMore":"View More ZH","contextMenu.quitEnterpriseBrowser":"Quit ZH"}'),za=JSON.parse('{"contextMenu.newWindow":"New Window","contextMenu.newPage":"New Page","contextMenu.restore":"Restore to Last Saved Changes","contextMenu.switchWorkspace":"Switch Workspace","contextMenu.appearance":"Appearance","contextMenu.saveWorkspace":"Save Workspace","contextMenu.saveWorkspaceAs":"Save Workspace As...","contextMenu.renameWorkspace":"Rename Workspace","contextMenu.deleteWorkspace":"Delete Workspace","contextMenu.downloads":"Downloads","contextMenu.savePage":"Save Page","contextMenu.savePageAs":"Save Page As...","contextMenu.print":"Print...","contextMenu.printScreen":"Print Screen","contextMenu.closeWindow":"Close Window","contextMenu.openStorefront":"Open Storefront","contextMenu.quitPlatform":"Quit {{platformLabel}}","contextMenu.newView":"New View","contextMenu.openView":"Open View with Default Web Browser","contextMenu.openViews":"Open Views with Default Web Browser","contextMenu.reload":"Reload","contextMenu.reloadView":"Reload View","contextMenu.reloadViews":"Reload Views","contextMenu.duplicate":"Duplicate","contextMenu.duplicateView":"Duplicate View","contextMenu.duplicateViews":"Duplicate Views","contextMenu.addView":"Add View to Channel","contextMenu.addViews":"Add Views to Channel","contextMenu.removeView":"Remove View from Channel","contextMenu.removeViews":"Remove Views from Channel","contextMenu.closeView":"Close View","contextMenu.closeViews":"Close Views","contextMenu.closeTab":"Close Tab","contextMenu.duplicatePage":"Duplicate Page","contextMenu.submenu.print":"Print","contextMenu.submenu.printAll":"Print All","saveMenu.saveWorkspaceAs":"Save Workspace As","saveMenu.savePageAs":"Save Page As","saveModal.enterValue":"Please enter a value","saveModal.alreadyExists":"{{title}} already exists.","saveModal.pleaseEnterValidName":"Please enter a valid name","saveModal.renamePage":"Rename Page","saveModal.closePage":"Close Page","saveModal.discardChanges":"Discard Changes","saveModal.discardAll":"Discard All","saveModal.saveAll":"Save All","saveModal.savePagesCount":"Save ({{count}}) pages before closing?","defaultPageTitle":"Untitled Page","enterpriseDefaultPageTitle":"Untitled Supertab","addNewPage":"New Page","addNewTab":"Add New Tab","addNewView":"New View","restoreModal":"Are you sure you want to restore to last saved changes?","modal.discardWarning":"Any unsaved changes will be discarded","modal.discardPageWarning":"Any unsaved changes to this page will be lost.","modal.saveChangesPrompt":"Save changes before closing?","modal.pageClose":"Page Close","switchWorkspaceModal":"Are you sure you want to switch to {{workspace}}?","switchWorkspaceModal.warning":"Any unsaved changes will be discarded","deleteWorkspaceModal":"Are you sure you want to permanently delete this workspace?","replaceWorkspaceModal.warning":"A Workspace with the name {{workspace}} already exists. Do you want to replace it?","replaceWorkspaceModal.warning.body":"A workspace with the same name already exists. Replacing it will overwrite its current contents.","replaceWorkspaceModal.replace":"Replace","closePlatform":"Close the platform","closePlatform.workspace":"Close the {{workspace}} Platform","closePlatform.warning":"Closing a platform will close any workspaces, apps or any processes that are running.","back":"Back","forward":"Forward","reload":"Reload","green":"Green","purple":"Purple","orange":"Orange","red":"Red","pink":"Pink","yellow":"Yellow","theme.light":"Light","theme.dark":"Dark","theme.system":"Sync with OS setting","toolbar.hideTabs":"Hide Tabs","toolbar.showTabs":"Show Tabs","toolbar.lock":"Lock","toolbar.unlock":"Unlock","toolbar.colorLinking":"Color Linking","toolbar.changeLayout":"Change Layout","toolbar.saveMenu":"Save Menu","toolbar.maximizeWindow":"Maximize Window","toolbar.restoreWindow":"Restore Window","toolbar.minimizeWindow":"Minimize Window","changeLayout.fullWidth":"Full Width","changeLayout.columns":"Columns","changeLayout.Rows":"Rows","changeLayout.Grid":"Grid","successIndicator.workspaceSwitched":"Workspace Switched","successIndicator.hidden":"Tabs are Hidden","successIndicator.shown":"Tabs are Shown","successIndicator.locked":"Page is Locked","successIndicator.unlocked":"Page is Unlocked","successIndicator.workspaceSaved":"Workspace saved","successIndicator.workspaceSavedAs":"Workspace saved as {{workspace}}","successIndicator.workspaceRenamed":"Workspace renamed","successIndicator.pageSaved":"Page Saved","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved.","successIndicator.pageCopySaved":"Page saved as {{title}}","successIndicator.pageRenamed":"Page renamed","successIndicator.contextGroupApplied":"Context group applied","successIndicator.namedContextGroupApplied":"{{colorName}} context group applied","successIndicator.viewRemoved":"View removed from context group","successIndicator.viewsRemoved":"Views removed from context group","successIndicator.layoutApplied":"{{layoutName}} layout applied","successIndicator.workspaceDeleted":"Workspace deleted","errorIndicator.pageSaveFailed":"Page failed to save","errorIndicator.workspaceSaveFailed":"Workspace failed to save","errorIndicator.failedToDuplicatePage":"Failed to duplicate Page","infoIndicator.colorLinkAttempt":"We attempted to color link this tab, but the site/content owner has not enabled it yet","global.cancel":"Cancel","global.confirm":"Confirm","global.save":"Save","global.delete":"Delete","appResults.header":"Featured Content","recentlyClosed.header":"Recently Closed","landingPage.subheader":"Apps and websites selected by an admin will show here","aria.openBrowser":"Open Browser Menu","aria.browserTabs":"Browser Tabs","aria.viewTab":"View Tab for {{title}}","aria.closePage":"Close Page Tab Button for {{title}}","aria.closeTab":"Close Tab {{title}}","aria.title":"Title","aria.closeContextGroup":"Use escape to close context group selection dialog","aria.colorLinking":"Show or hide color linking","aria.applyColorLinking":"Please select a view to apply color linking","aria.assignColorLinkingCurrentView":"Current view assigned to {{name}} context group","aria.assignColorLinkingCurrentViews":"Current views assigned to {{name}} context group","aria.setColorLinkingActiveView":"Set active view to {{name}} context group","aria.setColorLinkingActiveViews":"Set active views to {{name}} context group","aria.escapeLayoutDialog":"Use escape to close change layout dialog","global.supertab":"Supertab","global.tab":"Tab","bookmarks.editBookmark":"Edit Bookmark","bookmarks.bookmarkAdded":"Bookmark added","bookmarks.done":"Done","bookmarks.remove":"Remove","bookmarks.bookmarksPanel":"Bookmarks Panel","bookmarks.closePanel":"Close Bookmarks Panel","bookmarks.bookmarks":"Bookmarks","bookmarks.allBookmarks":"All Bookmarks","bookmarks.favorites":"Favorites","bookmarks.searchBookmarks":"Search Bookmarks","bookmarks.clearSearchInput":"Clear Search Input","bookmarks.createFolder":"Create New Folder","bookmarks.exitFolder":"Exit Folder","bookmarks.newFolder":"New Folder","bookmarks.namedFolder":"{{name}} Folder","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings","bookmarks.folderSettings":"{{name}} Folder Settings","bookmarks.noResultsFound":"No results found","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search","bookmarks.nothingToShow":"Nothing to show yet","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder","bookmarks.resultsFoundIn":"Results found in {{name}}","bookmarks.resultsInOtherFolders":"Results found in other folders","bookmarks.allResultsFoundIn":"All results found in","bookmarks.editName":"Edit Name","bookmarks.move":"Move","bookmarks.bookmarkAddedTitle":"Bookmark Added","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\"","bookmarks.bookmarkEditedTitle":"Bookmark Edited","enterpriseContextMenu.saveSupertab":"Save Supertab","enterpriseContextMenu.saveSupertabAs":"Save Supertab As...","enterpriseContextMenu.duplicate":"Duplicate","enterpriseContextMenu.deleteSupertab":"Delete Supertab","enterpriseContextMenu.newTab":"New Tab","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As","enterpriseSaveModal.renameSupertab":"Rename","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab.","enterpriseSaveModal.closeTab":"Close Tab","enterpriseSaveModal.closeSupertab":"Close Supertab","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing?","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost.","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab?","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent.","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted.","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab","enterpriseCommandBar.switchToSupertab":"Switch to Supertab","enterpriseCommandBar.goTo":"Go to {{type}}","enterpriseCommandBar.viewMore":"View More","contextMenu.quitEnterpriseBrowser":"Quit","dock.removeFavorite":"Remove"}'),Ja=JSON.parse('{"contextMenu.newWindow":"Neues Fenster","contextMenu.newPage":"Neue Seite","contextMenu.restore":"Wiederherstellen der zuletzt gespeicherten Änderungen","contextMenu.switchWorkspace":"Workspace wechseln","contextMenu.appearance":"Erscheinungsbild","contextMenu.saveWorkspace":"Workspace speichern","contextMenu.saveWorkspaceAs":"Workspace speichern unter...","contextMenu.renameWorkspace":"Workspace umbenennen","contextMenu.deleteWorkspace":"Workspace löschen","contextMenu.downloads":"Downloads","contextMenu.savePage":"Seite speichern","contextMenu.savePageAs":"Seite speichern unter...","contextMenu.print":"Drucken...","contextMenu.printScreen":"Bildschirmansicht drucken","contextMenu.closeWindow":"Fenster schließen","contextMenu.openStorefront":"Schaufenster öffnen","contextMenu.quitPlatform":"Plattform verlassen","contextMenu.newView":"Neue Ansicht","contextMenu.openView":"Ansicht mit Standard-Webbrowser öffnen","contextMenu.openViews":"Ansichten mit Standard-Webbrowser öffnen","contextMenu.reload":"Reload DE","contextMenu.reloadView":"Ansicht neu laden","contextMenu.reloadViews":"Ansichten neu laden","contextMenu.duplicate":"Duplicate DE","contextMenu.duplicateView":"Ansicht duplizieren","contextMenu.duplicateViews":"Ansichten duplizieren","contextMenu.addView":"Ansicht zum Channel hinzufügen","contextMenu.addViews":"Ansichten zum Channel hinzufügen","contextMenu.removeView":"Ansicht aus dem Channel entfernen","contextMenu.removeViews":"Ansichten aus dem Channel entfernen","contextMenu.closeView":"Ansicht schließen","contextMenu.closeViews":"Ansichten schließen","contextMenu.closeTab":"Close Tab DE","contextMenu.duplicatePage":"Seite duplizieren","contextMenu.submenu.print":"Drucken","contextMenu.submenu.printAll":"Alle drucken","saveMenu.saveWorkspaceAs":"Workspace speichern unter","saveMenu.savePageAs":"Seite speichern unter","saveModal.enterValue":"Please enter a value DE","saveModal.alreadyExists":"{{title}} existiert bereits.","saveModal.pleaseEnterValidName":"Bitte geben Sie einen gültigen Namen ein","saveModal.renamePage":"Seite umbenennen","saveModal.closePage":"Seite schließen","saveModal.discardChanges":"Änderungen verwerfen","saveModal.discardAll":"Alle verwerfen","saveModal.saveAll":"Alle speichern","saveModal.savePagesCount":"({{count}}) Seiten vor dem Schließen speichern?","defaultPageTitle":"Untitled Page DE","enterpriseDefaultPageTitle":"Untitled Supertab DE","addNewPage":"Neue Seite hinzufügen","addNewTab":"Neuen Tab hinzufügen","addNewView":"Neue Ansicht","restoreModal":"Sind Sie sicher, dass Sie die zuletzt gespeicherten Änderungen wiederherstellen wollen?","modal.discardWarning":"Alle nicht gespeicherten Änderungen werden verworfen","modal.discardPageWarning":"Alle nicht gespeicherten Änderungen auf dieser Seite gehen verloren.","modal.saveChangesPrompt":"Änderungen vor dem Schließen speichern?","modal.pageClose":"Seite schließen","switchWorkspaceModal":"Sind Sie sicher, dass Sie zu {{workspace}}wechseln wollen?","switchWorkspaceModal.warning":"Alle nicht gespeicherten Änderungen werden verworfen","deleteWorkspaceModal":"Sind Sie sicher, dass Sie diesen Workspace dauerhaft löschen wollen?","replaceWorkspaceModal.warning":"Ein Workspace mit dem Namen {{workspace}} existiert bereits. Möchten Sie ihn ersetzen?","replaceWorkspaceModal.warning.body":"Ein Workspace mit demselben Namen existiert bereits. Wenn Sie ihn ersetzen, wird der aktuelle Inhalt überschrieben.","replaceWorkspaceModal.replace":"Ersetzen","closePlatform":"Plattform schließen","closePlatform.workspace":"Die {{workspace}} Plattform schließen","closePlatform.warning":"Wenn Sie eine Plattform schließen, werden alle Workspaces, Apps und laufenden Prozesse beendet.","back":"Zurück","forward":"Weiter","reload":"Neu laden","green":"Grün","purple":"Lila","orange":"Orange","red":"Rot","pink":"Pink","yellow":"Gelb","theme.light":"Hell","theme.dark":"Dunkel","theme.system":"Synchronisierung mit OS-Einstellung","toolbar.hideTabs":"Tabs ausblenden","toolbar.showTabs":"Tabs anzeigen","toolbar.lock":"Sperren","toolbar.unlock":"Freischalten","toolbar.colorLinking":"Farbverknüpfung","toolbar.changeLayout":"Layout ändern","toolbar.saveMenu":"Menü speichern","toolbar.maximizeWindow":"Fenster maximieren","toolbar.restoreWindow":"Fenster wiederherstellen","toolbar.minimizeWindow":"Fenster minimieren","changeLayout.fullWidth":"Volle Breite","changeLayout.columns":"Spalten","changeLayout.Rows":"Zeilen","changeLayout.Grid":"Raster","successIndicator.workspaceSwitched":"Workspace gewechselt","successIndicator.hidden":"Tabs sind ausgeblendet","successIndicator.shown":"Tabs werden angezeigt","successIndicator.locked":"Seite ist gesperrt","successIndicator.unlocked":"Seite ist freigeschaltet","successIndicator.workspaceSaved":"Workspace gespeichert","successIndicator.workspaceSavedAs":"Workspace gespeichert als {{workspace}}","successIndicator.workspaceRenamed":"Workspace umbenannt","successIndicator.pageSaved":"Seite gespeichert","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. DE","successIndicator.pageCopySaved":"Seite gespeichert als {{title}}","successIndicator.pageRenamed":"Seite umbenannt","successIndicator.contextGroupApplied":"Angewandte Kontextgruppe","successIndicator.namedContextGroupApplied":"{{colorName}} angewandte Kontextgruppe","successIndicator.viewRemoved":"Ansicht aus der Kontextgruppe entfernt","successIndicator.viewsRemoved":"Ansichten aus der Kontextgruppe entfernt","successIndicator.layoutApplied":"{{layoutName}} angewandtes Layout","successIndicator.workspaceDeleted":"Workspace gelöscht","errorIndicator.pageSaveFailed":"Seite konnte nicht gespeichert werden","errorIndicator.workspaceSaveFailed":"Workspace konnte nicht gespeichert werden","errorIndicator.failedToDuplicatePage":"Seite kann nicht dupliziert werden","infoIndicator.colorLinkAttempt":"Wir haben versucht, diesem Tab eine Farbe zuordnen, aber der Eigentümer der Website/des Inhalts hat sie noch nicht aktiviert","global.cancel":"Abbrechen","global.confirm":"Bestätigen","global.save":"Speichern","global.delete":"Delete DE","appResults.header":"Featured Content DC","recentlyClosed.header":"Recently Closed DC","landingPage.subheader":"Apps and websites selected by an admin will show here DE","aria.openBrowser":"Browser-Menü öffnen","aria.browserTabs":"Browser-Tab","aria.viewTab":"Tab „Ansicht“ für {{title}}","aria.closePage":"Button „Seite schließen“ für {{title}}","aria.closeTab":"Tab schließen {{title}}","aria.title":"Bezeichnung","aria.closeContextGroup":"Verwenden Sie die Escape-Taste, um den Dialog zur Auswahl von Kontextgruppen zu schließen","aria.colorLinking":"Farbverknüpfung ein- oder ausblenden","aria.applyColorLinking":"Bitte wählen Sie eine Ansicht, um die Farbverknüpfung anzuwenden","aria.assignColorLinkingCurrentView":"Aktuelle Ansicht, die der Kontextgruppe {{name}} zugeordnet ist","aria.assignColorLinkingCurrentViews":"Aktuelle Ansichten, die der Kontextgruppe {{name}} zugeordnet sind","aria.setColorLinkingActiveView":"Aktive Ansicht auf die Kontextgruppe {{name}} setzen","aria.setColorLinkingActiveViews":"Aktive Ansichten auf die Kontextgruppe {{name}} setzen","aria.escapeLayoutDialog":"Verwenden Sie die Escape-Taste, um den Dialog zur Layoutänderung zu schließen","global.supertab":"Supertab DE","global.tab":"Tab DE","bookmarks.editBookmark":"Edit Bookmark DE","bookmarks.bookmarkAdded":"Bookmark added DE","bookmarks.done":"Done DE","bookmarks.remove":"Remove DE","bookmarks.bookmarksPanel":"Bookmarks Panel DE","bookmarks.closePanel":"Close Bookmarks Panel DE","bookmarks.bookmarks":"Bookmarks DE","bookmarks.allBookmarks":"All Bookmarks DE","bookmarks.favorites":"Favorites DE","bookmarks.searchBookmarks":"Search Bookmarks DE","bookmarks.clearSearchInput":"Clear Search Input DE","bookmarks.createFolder":"Create New Folder DE","bookmarks.exitFolder":"Exit Folder DE","bookmarks.newFolder":"New Folder DE","bookmarks.namedFolder":"{{name}} Folder DE","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings DE","bookmarks.folderSettings":"{{name}} Folder Settings DE","bookmarks.noResultsFound":"No results found DE","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search DE","bookmarks.nothingToShow":"Nothing to show yet DE","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder DE","bookmarks.resultsFoundIn":"Results found in {{name}} DE","bookmarks.resultsInOtherFolders":"Results found in other folders DE","bookmarks.allResultsFoundIn":"All results found in DE","bookmarks.editName":"Edit Name DE","bookmarks.move":"Move DE","bookmarks.bookmarkAddedTitle":"Bookmark Added DE","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" DE","bookmarks.bookmarkEditedTitle":"Bookmark Edited DE","enterpriseContextMenu.saveSupertab":"Save Supertab DE","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... DE","enterpriseContextMenu.duplicate":"Duplicate DE","enterpriseContextMenu.deleteSupertab":"Delete Supertab DE","enterpriseContextMenu.newTab":"New Tab DE","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As DE","enterpriseSaveModal.renameSupertab":"Rename DE","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. DE","enterpriseSaveModal.closeTab":"Close Tab DE","enterpriseSaveModal.closeSupertab":"Close Supertab DE","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? DE","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. DE","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? DE","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. DE","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved DE","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. DE","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted DE","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. DE","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab DE","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab DE","enterpriseCommandBar.switchToSupertab":"Switch to Supertab DE","enterpriseCommandBar.goTo":"Go to {{type}} DE","enterpriseCommandBar.viewMore":"View More DE","contextMenu.quitEnterpriseBrowser":"Quit DE"}'),qa=JSON.parse('{"contextMenu.newWindow":"新しいウィンドウ","contextMenu.newPage":"新しいページ","contextMenu.restore":"最後に保存された変更に戻す","contextMenu.switchWorkspace":"ワークスペースに切り替える","contextMenu.appearance":"外観","contextMenu.saveWorkspace":"ワークスペースを保存","contextMenu.saveWorkspaceAs":"ワークスペースを別名で保存...","contextMenu.renameWorkspace":"ワークスペース名を変更","contextMenu.deleteWorkspace":"ワークスペースを削除","contextMenu.downloads":"ダウンロード","contextMenu.savePage":"ページを保存","contextMenu.savePageAs":"ページを別名で保存...","contextMenu.print":"印刷...","contextMenu.printScreen":"プリントスクリーン","contextMenu.closeWindow":"ウィンドウを閉じる","contextMenu.openStorefront":"ストアフロントを開く","contextMenu.quitPlatform":"プラットフォームを終了する","contextMenu.newView":"新しいビュー","contextMenu.openView":"デフォルトのウェブブラウザーでビューを開く","contextMenu.openViews":"デフォルトのウェブブラウザーでビューを開く","contextMenu.reload":"Reload JP","contextMenu.reloadView":"ビューをリロード","contextMenu.reloadViews":"ビューをリロード","contextMenu.duplicate":"Duplicate JP","contextMenu.duplicateView":"ビューを複製","contextMenu.duplicateViews":"ビューを複製","contextMenu.addView":"ビューをチャネルに追加","contextMenu.addViews":"ビューをチャネルに追加","contextMenu.removeView":"チャネルからビューを削除","contextMenu.removeViews":"チャネルからビューを削除","contextMenu.closeView":"ビューを閉じる","contextMenu.closeViews":"ビューを閉じる","contextMenu.closeTab":"Close Tab JP","contextMenu.duplicatePage":"ページを複製","contextMenu.submenu.print":"印刷","contextMenu.submenu.printAll":"すべてを印刷","saveMenu.saveWorkspaceAs":"ワークスペースを別名で保存","saveMenu.savePageAs":"ページを別名で保存","saveModal.enterValue":"Please enter a value JP","saveModal.alreadyExists":"{{title}}はすでに存在しています。","saveModal.pleaseEnterValidName":"有効な名前を入力してください","saveModal.renamePage":"ページ名を変更","saveModal.closePage":"ページを閉じる","saveModal.discardChanges":"変更を破棄","saveModal.discardAll":"すべて破棄","saveModal.saveAll":"すべて保存","saveModal.savePagesCount":"閉じる前に（{{count}}）つのページを保存しますか？","defaultPageTitle":"Untitled Page JP","enterpriseDefaultPageTitle":"Untitled Supertab JP","addNewPage":"新しいページを追加","addNewTab":"新しいタブを追加","addNewView":"新しいビュー","restoreModal":"本当に最後に保存された変更に戻しますか？","modal.discardWarning":"保存されていない変更は破棄されます","modal.discardPageWarning":"保存されていないこのページへの変更は失われます。","modal.saveChangesPrompt":"閉じる前に変更を保存しますか？","modal.pageClose":"ページを閉じる","switchWorkspaceModal":"本当に{{workspace}}に切り替えますか？","switchWorkspaceModal.warning":"保存されていない変更は破棄されます","deleteWorkspaceModal":"このワークスペースを永久に削除してもよろしいですか？","replaceWorkspaceModal.warning":"{{workspace}}という名前のワークスペースがすでに存在します。置き換えますか？","replaceWorkspaceModal.warning.body":"同じ名前のワークスペースがすでに存在します。置き換えると、現在の内容は上書きされます。","replaceWorkspaceModal.replace":"置き換える","closePlatform":"プラットフォームを閉じる","closePlatform.workspace":"{{workspace}}プラットフォームを閉じる","closePlatform.warning":"プラットフォームを閉じると、実行中のワークスペース、アプリ、プロセスがすべて閉じます。","back":"戻る","forward":"進む","reload":"リロード","green":"グリーン","purple":"パープル","orange":"オレンジ","red":"レッド","pink":"ピンク","yellow":"イエロー","theme.light":"ライト","theme.dark":"ダーク","theme.system":"OSの設定と同期","toolbar.hideTabs":"タブを非表示","toolbar.showTabs":"タブを表示","toolbar.lock":"ロック","toolbar.unlock":"ロック解除","toolbar.colorLinking":"カラーリンク","toolbar.changeLayout":"レイアウトを変更","toolbar.saveMenu":"メニューを保存","toolbar.maximizeWindow":"ウィンドウを最大化する","toolbar.restoreWindow":"ウィンドウを復元","toolbar.minimizeWindow":"ウィンドウを最小化する","changeLayout.fullWidth":"全幅","changeLayout.columns":"列","changeLayout.Rows":"行","changeLayout.Grid":"グリッド","successIndicator.workspaceSwitched":"ワークスペースが切り替わりました","successIndicator.hidden":"タブが非表示になっています","successIndicator.shown":"タブが表示されています","successIndicator.locked":"ページがロックされています","successIndicator.unlocked":"ページのロックが解除されています","successIndicator.workspaceSaved":"ワークスペースが保存されました","successIndicator.workspaceSavedAs":"ワークスペースが{{workspace}}として保存されました","successIndicator.workspaceRenamed":"ワークスペース名が変更されました","successIndicator.pageSaved":"ページが保存されました","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. JP","successIndicator.pageCopySaved":"ページが{{title}}として保存されました","successIndicator.pageRenamed":"ページ名が変更されました","successIndicator.contextGroupApplied":"コンテキストグループが適用されました","successIndicator.namedContextGroupApplied":"{{colorName}}コンテキストグループが適用されました","successIndicator.viewRemoved":"コンテキストグループからビューが削除されました","successIndicator.viewsRemoved":"コンテキストグループからビューが削除されました","successIndicator.layoutApplied":"{{layoutName}}レイアウトが適用されました","successIndicator.workspaceDeleted":"ワークスペースが削除されました","errorIndicator.pageSaveFailed":"ページを保存できませんでした","errorIndicator.workspaceSaveFailed":"ワークスペースを保存できませんでした","errorIndicator.failedToDuplicatePage":"ページを複製できませんでした","infoIndicator.colorLinkAttempt":"このタブをカラーリンクしようとしましたが、サイト/コンテンツのオーナーがまだこれを有効にしていません","global.cancel":"キャンセル","global.confirm":"確認","global.save":"保存","global.delete":"Delete JP","appResults.header":"Featured content JP","recentlyClosed.header":"Recently Closed JP","landingPage.subheader":"Apps and websites selected by an admin will show here JP","aria.openBrowser":"ブラウザーメニューを開く","aria.browserTabs":"ブラウザータブ","aria.viewTab":"{{title}}のタブを表示","aria.closePage":"{{title}}のページタブボタンを閉じる","aria.closeTab":"{{title}}タブを閉じる","aria.title":"タイトル","aria.closeContextGroup":"エスケープを使用して、コンテキストグループ選択ダイアログを閉じる","aria.colorLinking":"カラーリンクの表示/非表示","aria.applyColorLinking":"カラーリンクを適用するビューを選択してください","aria.assignColorLinkingCurrentView":"現在のビューは{{name}}コンテキストグループに割り当てられています","aria.assignColorLinkingCurrentViews":"現在のビューは{{name}}コンテキストグループに割り当てられています","aria.setColorLinkingActiveView":"アクティブビューを{{name}}コンテキストグループに設定","aria.setColorLinkingActiveViews":"アクティブビューを{{name}}コンテキストグループに設定","aria.escapeLayoutDialog":"エスケープを使用して、レイアウト変更選択ダイアログを閉じる","global.supertab":"Supertab JP","global.tab":"Tab JP","bookmarks.editBookmark":"Edit Bookmark JP","bookmarks.bookmarkAdded":"Bookmark added JP","bookmarks.done":"Done JP","bookmarks.remove":"Remove JP","bookmarks.bookmarksPanel":"Bookmarks Panel JP","bookmarks.closePanel":"Close Bookmarks Panel JP","bookmarks.bookmarks":"Bookmarks JP","bookmarks.allBookmarks":"All Bookmarks JP","bookmarks.favorites":"Favorites JP","bookmarks.searchBookmarks":"Search Bookmarks JP","bookmarks.clearSearchInput":"Clear Search Input JP","bookmarks.createFolder":"Create New Folder JP","bookmarks.exitFolder":"Exit Folder JP","bookmarks.newFolder":"New Folder JP","bookmarks.namedFolder":"{{name}} Folder JP","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings JP","bookmarks.folderSettings":"{{name}} Folder Settings JP","bookmarks.noResultsFound":"No results found JP","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search JP","bookmarks.nothingToShow":"Nothing to show yet JP","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder JP","bookmarks.resultsFoundIn":"Results found in {{name}} JP","bookmarks.resultsInOtherFolders":"Results found in other folders JP","bookmarks.allResultsFoundIn":"All results found in JP","bookmarks.editName":"Edit Name JP","bookmarks.move":"Move JP","bookmarks.bookmarkAddedTitle":"Bookmark Added JP","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" JP","bookmarks.bookmarkEditedTitle":"Bookmark Edited JP","enterpriseContextMenu.saveSupertab":"Save Supertab JP","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... JP","enterpriseContextMenu.duplicate":"Duplicate JP","enterpriseContextMenu.deleteSupertab":"Delete Supertab JP","enterpriseContextMenu.newTab":"New Tab JP","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As JP","enterpriseSaveModal.renameSupertab":"Rename JP","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. JP","enterpriseSaveModal.closeTab":"Close Tab JP","enterpriseSaveModal.closeSupertab":"Close Supertab JP","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? JP","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. JP","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? JP","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. JP","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved JP","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. JP","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted JP","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. JP","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab JP","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab JP","enterpriseCommandBar.switchToSupertab":"Switch to Supertab JP","enterpriseCommandBar.goTo":"Go to {{type}} JP","enterpriseCommandBar.viewMore":"View More JP","contextMenu.quitEnterpriseBrowser":"Quit JP"}'),Za=JSON.parse('{"contextMenu.newWindow":"새 창","contextMenu.newPage":"새 페이지","contextMenu.restore":"마지막으로 저장한 변경 사항으로 복원","contextMenu.switchWorkspace":"작업 공간 전환","contextMenu.appearance":"모양","contextMenu.saveWorkspace":"작업 공간 저장","contextMenu.saveWorkspaceAs":"다른 이름으로 작업 공간 저장...","contextMenu.renameWorkspace":"작업 공간 이름 바꾸기","contextMenu.deleteWorkspace":"작업 공간 삭제","contextMenu.downloads":"다운로드","contextMenu.savePage":"페이지 저장","contextMenu.savePageAs":"다른 이름으로 페이지 저장...","contextMenu.print":"인쇄...","contextMenu.printScreen":"화면 인쇄","contextMenu.closeWindow":"창 닫기","contextMenu.openStorefront":"매장 열기","contextMenu.quitPlatform":"플랫폼 종료","contextMenu.newView":"새 뷰","contextMenu.openView":"기본 웹 브라우저로 뷰 열기","contextMenu.openViews":"기본 웹 브라우저로 뷰 열기","contextMenu.reload":"Reload KR","contextMenu.reloadView":"뷰 다시 로드","contextMenu.reloadViews":"뷰 다시 로드","contextMenu.duplicate":"Duplicate KR","contextMenu.duplicateView":"뷰 복제","contextMenu.duplicateViews":"뷰 복제","contextMenu.addView":"채널에 뷰 추가","contextMenu.addViews":"채널에 뷰 추가","contextMenu.removeView":"채널에서 뷰 제거","contextMenu.removeViews":"채널에서 뷰 제거","contextMenu.closeView":"뷰 닫기","contextMenu.closeViews":"뷰 닫기","contextMenu.closeTab":"Close Tab KR","contextMenu.duplicatePage":"페이지 복제","contextMenu.submenu.print":"인쇄","contextMenu.submenu.printAll":"모두 인쇄","saveMenu.saveWorkspaceAs":"다른 이름으로 작업 공간 저장","saveMenu.savePageAs":"다른 이름으로 페이지 저장","saveModal.enterValue":"Please enter a value KR","saveModal.alreadyExists":"{{title}}이(가) 이미 존재합니다.","saveModal.pleaseEnterValidName":"유효한 이름을 입력하십시오.","saveModal.renamePage":"페이지 이름 바꾸기","saveModal.closePage":"페이지 닫기","saveModal.discardChanges":"변경 사항 폐기","saveModal.discardAll":"모두 폐기","saveModal.saveAll":"모두 저장","saveModal.savePagesCount":"닫기 전에 페이지({{count}}개)를 저장하시겠습니까?","defaultPageTitle":"Untitled Page KR","enterpriseDefaultPageTitle":"Untitled Supertab KR","addNewPage":"새 페이지 추가","addNewTab":"새 탭 추가","addNewView":"새 뷰","restoreModal":"마지막으로 저장한 변경 사항으로 복원하시겠습니까?","modal.discardWarning":"저장하지 않은 변경 사항은 모두 폐기됩니다","modal.discardPageWarning":"이 페이지의 저장하지 않은 변경 사항은 모두 손실됩니다.","modal.saveChangesPrompt":"닫기 전에 변경 사항을 저장하시겠습니까?","modal.pageClose":"페이지 닫기","switchWorkspaceModal":"{{workspace}}(으)로 전환하시겠습니까?","switchWorkspaceModal.warning":"저장하지 않은 변경 사항은 모두 폐기됩니다","deleteWorkspaceModal":"이 작업 공간을 영구적으로 삭제하시겠습니까?","replaceWorkspaceModal.warning":"{{workspace}}(이)라는 이름의 작업 공간이 이미 존재합니다. 교체하시겠습니까?","replaceWorkspaceModal.warning.body":"같은 이름의 작업 공간이 이미 존재합니다. 교체하면 현재 내용을 덮어쓰게 됩니다.","replaceWorkspaceModal.replace":"교체","closePlatform":"플랫폼 닫기","closePlatform.workspace":"{{workspace}} 플랫폼 닫기","closePlatform.warning":"플랫폼을 닫으면 실행 중인 모든 작업 공간, 앱 또는 프로세스가 닫힙니다.","back":"뒤로 가기","forward":"앞으로 가기","reload":"새로고침","green":"녹색","purple":"보라색","orange":"오렌지색","red":"빨간색","pink":"핑크색","yellow":"노란색","theme.light":"밝은","theme.dark":"어두운","theme.system":"OS 설정과 동기화","toolbar.hideTabs":"탭 숨기기","toolbar.showTabs":"탭 표시","toolbar.lock":"잠금","toolbar.unlock":"잠금 해제","toolbar.colorLinking":"색상 연결","toolbar.changeLayout":"레이아웃 변경","toolbar.saveMenu":"저장 메뉴","toolbar.maximizeWindow":"창 최대화","toolbar.restoreWindow":"창 복원","toolbar.minimizeWindow":"창 최소화","changeLayout.fullWidth":"전체 너비","changeLayout.columns":"열","changeLayout.Rows":"행","changeLayout.Grid":"그리드","successIndicator.workspaceSwitched":"작업 공간 전환","successIndicator.hidden":"탭 숨김","successIndicator.shown":"탭 표시","successIndicator.locked":"페이지 잠금","successIndicator.unlocked":"페이지 잠금 해제됨","successIndicator.workspaceSaved":"작업 공간 저장됨","successIndicator.workspaceSavedAs":"작업 공간이 {{workspace}}(으)로 저장됨","successIndicator.workspaceRenamed":"작업 공간 이름 변경됨","successIndicator.pageSaved":"페이지 저장됨","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. KR","successIndicator.pageCopySaved":"페이지가 {{title}}(으)로 저장됨","successIndicator.pageRenamed":"페이지 이름 변경됨","successIndicator.contextGroupApplied":"컨텍스트 그룹 적용됨","successIndicator.namedContextGroupApplied":"{{colorName}} 컨텍스트 그룹 적용됨","successIndicator.viewRemoved":"컨텍스트 그룹에서 뷰 제거됨","successIndicator.viewsRemoved":"컨텍스트 그룹에서 뷰 제거됨","successIndicator.layoutApplied":"{{layoutName}} 레이아웃 적용됨","successIndicator.workspaceDeleted":"작업 공간 삭제됨","errorIndicator.pageSaveFailed":"페이지 저장 실패","errorIndicator.workspaceSaveFailed":"작업 공간 저장 실패","errorIndicator.failedToDuplicatePage":"페이지 복제 실패","infoIndicator.colorLinkAttempt":"이 탭의 색상 링크를 시도했지만 사이트/콘텐츠 소유자가 아직 활성화하지 않았습니다.","global.cancel":"취소","global.confirm":"확인","global.save":"저장","global.delete":"Delete KR","appResults.header":"Featured Content KR","recentlyClosed.header":"Recently Closed KR","landingPage.subheader":"Apps and websites selected by an admin will show here KR","aria.openBrowser":"브라우저 메뉴 열기","aria.browserTabs":"브라우저 탭","aria.viewTab":"{{title}}의 뷰 탭","aria.closePage":"{{title}}의 페이지 닫기 탭","aria.closeTab":"탭 {{title}} 닫기","aria.title":"제목","aria.closeContextGroup":"이스케이프를 사용하여 컨텍스트 그룹 선택 대화상자 닫기","aria.colorLinking":"색상 연결 표시 또는 숨기기","aria.applyColorLinking":"색상 연결을 적용하려면 뷰를 선택하십시오.","aria.assignColorLinkingCurrentView":"{{name}} 컨텍스트 그룹에 할당된 현재 뷰","aria.assignColorLinkingCurrentViews":"{{name}} 컨텍스트 그룹에 할당된 현재 뷰","aria.setColorLinkingActiveView":"활성 뷰를 {{name}} 컨텍스트 그룹으로 설정","aria.setColorLinkingActiveViews":"활성 뷰를 {{name}} 컨텍스트 그룹으로 설정","aria.escapeLayoutDialog":"이스케이프를 사용하여 레이아웃 변경 대화상자 닫기","global.supertab":"Supertab KR","global.tab":"Tab KR","bookmarks.editBookmark":"Edit Bookmark KR","bookmarks.bookmarkAdded":"Bookmark added KR","bookmarks.done":"Done KR","bookmarks.remove":"Remove KR","bookmarks.bookmarksPanel":"Bookmarks Panel KR","bookmarks.closePanel":"Close Bookmarks Panel KR","bookmarks.bookmarks":"Bookmarks KR","bookmarks.allBookmarks":"All Bookmarks KR","bookmarks.favorites":"Favorites KR","bookmarks.searchBookmarks":"Search Bookmarks KR","bookmarks.clearSearchInput":"Clear Search Input KR","bookmarks.createFolder":"Create New Folder KR","bookmarks.exitFolder":"Exit Folder KR","bookmarks.newFolder":"New Folder KR","bookmarks.namedFolder":"{{name}} Folder KR","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings KR","bookmarks.folderSettings":"{{name}} Folder Settings KR","bookmarks.noResultsFound":"No results found KR","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search KR","bookmarks.nothingToShow":"Nothing to show yet KR","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder KR","bookmarks.resultsFoundIn":"Results found in {{name}} KR","bookmarks.resultsInOtherFolders":"Results found in other folders KR","bookmarks.allResultsFoundIn":"All results found in KR","bookmarks.editName":"Edit Name KR","bookmarks.move":"Move KR","bookmarks.bookmarkAddedTitle":"Bookmark Added KR","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" KR","bookmarks.bookmarkEditedTitle":"Bookmark Edited KR","enterpriseContextMenu.saveSupertab":"Save Supertab KR","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... KR","enterpriseContextMenu.duplicate":"Duplicate KR","enterpriseContextMenu.deleteSupertab":"Delete Supertab KR","enterpriseContextMenu.newTab":"New Tab KR","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As KR","enterpriseSaveModal.renameSupertab":"Rename KR","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. KR","enterpriseSaveModal.closeTab":"Close Tab KR","enterpriseSaveModal.closeSupertab":"Close Supertab KR","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? KR","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. KR","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? KR","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. KR","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved KR","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. KR","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted KR","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. KR","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab KR","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab KR","enterpriseCommandBar.switchToSupertab":"Switch to Supertab KR","enterpriseCommandBar.goTo":"Go to {{type}} KR","enterpriseCommandBar.viewMore":"View More KR","contextMenu.quitEnterpriseBrowser":"Quit KR"}'),ja=JSON.parse('{"contextMenu.newWindow":"Новое окно","contextMenu.newPage":"Новая страница","contextMenu.restore":"Восстановить последние сохраненные изменения","contextMenu.switchWorkspace":"Переключить рабочую область","contextMenu.appearance":"Внешний вид","contextMenu.saveWorkspace":"Сохранить рабочую область","contextMenu.saveWorkspaceAs":"Сохранить рабочую область как...","contextMenu.renameWorkspace":"Переименовать рабочую область","contextMenu.deleteWorkspace":"Удалить рабочую область","contextMenu.downloads":"Загрузки","contextMenu.savePage":"Сохранить страницу","contextMenu.savePageAs":"Сохранить страницу как...","contextMenu.print":"Печать...","contextMenu.printScreen":"Распечатать экран","contextMenu.closeWindow":"Закрыть окно","contextMenu.openStorefront":"Открыть Storefront","contextMenu.quitPlatform":"Выйти из платформы","contextMenu.newView":"Новое представление","contextMenu.openView":"Открыть представление с помощью веб-браузера по умолчанию","contextMenu.openViews":"Открыть представления с помощью веб-браузера по умолчанию","contextMenu.reload":"Reload RU","contextMenu.reloadView":"Перезагрузить представление","contextMenu.reloadViews":"Перезагрузить представления","contextMenu.duplicate":"Duplicate RU","contextMenu.duplicateView":"Дублировать представление","contextMenu.duplicateViews":"Дублировать представления","contextMenu.addView":"Добавить представление на канал","contextMenu.addViews":"Добавить представления на канал","contextMenu.removeView":"Удалить представление из канала","contextMenu.removeViews":"Удалить представления из канала","contextMenu.closeView":"Закрыть представление","contextMenu.closeViews":"Закрыть представления","contextMenu.closeTab":"Close Tab RU","contextMenu.duplicatePage":"Дублировать страницу","contextMenu.submenu.print":"Печатать","contextMenu.submenu.printAll":"Печатать все","saveMenu.saveWorkspaceAs":"Сохранить рабочую область как","saveMenu.savePageAs":"Сохранить страницу как","saveModal.enterValue":"Please enter a value RU","saveModal.alreadyExists":"{{title}} уже существует.","saveModal.pleaseEnterValidName":"Введите подходящее имя","saveModal.renamePage":"Переименовать страницу","saveModal.closePage":"Закрыть страницу","saveModal.discardChanges":"Отменить изменения","saveModal.discardAll":"Отменить все","saveModal.saveAll":"Сохранить все","saveModal.savePagesCount":"Сохранить ({{count}}) страниц перед закрытием?","defaultPageTitle":"Untitled Page RU","enterpriseDefaultPageTitle":"Untitled Supertab RU","addNewPage":"Добавить новую страницу","addNewTab":"Добавить новую вкладку","addNewView":"Новое представление","restoreModal":"Вы уверены, что хотите восстановить последние сохраненные изменения?","modal.discardWarning":"Все несохраненные изменения будут отменены","modal.discardPageWarning":"Все несохраненные изменения на этой странице будут потеряны.","modal.saveChangesPrompt":"Сохранить изменения перед закрытием?","modal.pageClose":"Закрыть страницу","switchWorkspaceModal":"Вы уверены, что хотите перейти в {{workspace}}?","switchWorkspaceModal.warning":"Все несохраненные изменения будут отменены","deleteWorkspaceModal":"Вы уверены, что хотите навсегда удалить эту рабочую область?","replaceWorkspaceModal.warning":"Рабочая область с именем {{workspace}} уже существует. Вы хотите заменить ее?","replaceWorkspaceModal.warning.body":"Рабочая область с таким же именем уже существует. При ее замене текущее содержимое будет перезаписано.","replaceWorkspaceModal.replace":"Заменить","closePlatform":"Закрыть платформу","closePlatform.workspace":"Закрыть платформу {{workspace}}","closePlatform.warning":"Закрытие платформы приведет к закрытию всех рабочих областей, приложений и запущенных процессов.","back":"Назад","forward":"Вперед","reload":"Перезагрузить ","green":"Зеленый","purple":"Фиолетовый","orange":"Оранжевый","red":"Красный","pink":"Розовый","yellow":"Желтый","theme.light":"Светлый","theme.dark":"Темный","theme.system":"Синхронизировать с настройками ОС","toolbar.hideTabs":"Скрыть вкладки","toolbar.showTabs":"Показать вкладки","toolbar.lock":"Заблокировать","toolbar.unlock":"Разблокировать","toolbar.colorLinking":"Привязка к цвету","toolbar.changeLayout":"Изменить макет","toolbar.saveMenu":"Меню сохранения","toolbar.maximizeWindow":"Увеличить окно","toolbar.restoreWindow":"Восстановить окно","toolbar.minimizeWindow":"Свернуть окно","changeLayout.fullWidth":"Полная ширина","changeLayout.columns":"Столбцы","changeLayout.Rows":"Строки","changeLayout.Grid":"Сетка","successIndicator.workspaceSwitched":"Рабочая область переключена","successIndicator.hidden":"Вкладки скрыты","successIndicator.shown":"Вкладки показаны","successIndicator.locked":"Страница заблокирована","successIndicator.unlocked":"Страница разблокирована","successIndicator.workspaceSaved":"Рабочая область сохранена","successIndicator.workspaceSavedAs":"Рабочая область сохранена как {{workspace}}","successIndicator.workspaceRenamed":"Рабочая область переименована","successIndicator.pageSaved":"Страница сохранена","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. RU","successIndicator.pageCopySaved":"Страница сохранена как {{title}}","successIndicator.pageRenamed":"Страница переименована","successIndicator.contextGroupApplied":"Контекстная группа применена","successIndicator.namedContextGroupApplied":"Контекстная группа {{colorName}} применена","successIndicator.viewRemoved":"Представление удалено из контекстной группы","successIndicator.viewsRemoved":"Представления удалены из контекстной группы","successIndicator.layoutApplied":"Макет {{layoutName}} применен","successIndicator.workspaceDeleted":"Рабочая область удалена","errorIndicator.pageSaveFailed":"Не удалось сохранить страницу","errorIndicator.workspaceSaveFailed":"Не удалось сохранить рабочую область","errorIndicator.failedToDuplicatePage":"Не удалось продублировать страницу","infoIndicator.colorLinkAttempt":"Мы попытались привязать цвет к этой вкладке, но владелец сайта/контента еще не включил эту возможность","global.cancel":"Отменить","global.confirm":"Подтвердить","global.save":"Сохранить","global.delete":"Delete RU","appResults.header":"Featured Content RU","recentlyClosed.header":"Recently Closed RU","landingPage.subheader":"Apps and websites selected by an admin will show here RU","aria.openBrowser":"Открыть меню браузера","aria.browserTabs":"Вкладки браузера","aria.viewTab":"Вкладка представления {{title}}","aria.closePage":"Кнопка «Закрыть» на вкладке для страницы {{title}}","aria.closeTab":"Закрыть вкладку {{title}}","aria.title":"Название","aria.closeContextGroup":"Чтобы закрыть диалог выбора контекстной группы, используйте escape","aria.colorLinking":"Показать или скрыть привязку к цвету","aria.applyColorLinking":"Выберите представление, чтобы применить привязку к цвету","aria.assignColorLinkingCurrentView":"Текущее представление, назначенное контекстной группе {{name}}","aria.assignColorLinkingCurrentViews":"Текущие представления, назначенные контекстной группе {{name}}","aria.setColorLinkingActiveView":"Установить активное представление в контекстную группу {{name}}","aria.setColorLinkingActiveViews":"Установить активные представления в контекстную группу {{name}}","aria.escapeLayoutDialog":"Чтобы закрыть диалог изменения макета, используйте escape","global.supertab":"Supertab RU","global.tab":"Tab RU","bookmarks.editBookmark":"Edit Bookmark RU","bookmarks.bookmarkAdded":"Bookmark added RU","bookmarks.done":"Done RU","bookmarks.remove":"Remove RU","bookmarks.bookmarksPanel":"Bookmarks Panel RU","bookmarks.closePanel":"Close Bookmarks Panel RU","bookmarks.bookmarks":"Bookmarks RU","bookmarks.allBookmarks":"All Bookmarks RU","bookmarks.favorites":"Favorites RU","bookmarks.searchBookmarks":"Search Bookmarks RU","bookmarks.clearSearchInput":"Clear Search Input RU","bookmarks.createFolder":"Create New Folder RU","bookmarks.exitFolder":"Exit Folder RU","bookmarks.newFolder":"New Folder RU","bookmarks.namedFolder":"{{name}} Folder RU","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings RU","bookmarks.folderSettings":"{{name}} Folder Settings RU","bookmarks.noResultsFound":"No results found RU","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search RU","bookmarks.nothingToShow":"Nothing to show yet RU","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder RU","bookmarks.resultsFoundIn":"Results found in {{name}} RU","bookmarks.resultsInOtherFolders":"Results found in other folders RU","bookmarks.allResultsFoundIn":"All results found in RU","bookmarks.editName":"Edit Name RU","bookmarks.move":"Move RU","bookmarks.bookmarkAddedTitle":"Bookmark Added RU","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" RU","bookmarks.bookmarkEditedTitle":"Bookmark Edited RU","enterpriseContextMenu.saveSupertab":"Save Supertab RU","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... RU","enterpriseContextMenu.duplicate":"Duplicate RU","enterpriseContextMenu.deleteSupertab":"Delete Supertab RU","enterpriseContextMenu.newTab":"New Tab RU","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As RU","enterpriseSaveModal.renameSupertab":"Rename RU","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. RU","enterpriseSaveModal.closeTab":"Close Tab RU","enterpriseSaveModal.closeSupertab":"Close Supertab RU","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? RU","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. RU","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? RU","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. RU","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved RU","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.RU","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted RU","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. RU","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab RU","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab RU","enterpriseCommandBar.switchToSupertab":"Switch to Supertab RU","enterpriseCommandBar.goTo":"Go to {{type}} RU","enterpriseCommandBar.viewMore":"View More RU","contextMenu.quitEnterpriseBrowser":"Quit RU"}');const Qa=Ha().t,Ya=async e=>{const t=await qt(e);return await t.dispatch(ea.GetPages)},Xa=async e=>(await qt(e.identity)).dispatch(ea.UpdatePageForWindow,e);let en=!1;async function tn(e,t){const a=!!t;let n=new Set;if(a){const{identity:e,pageId:a}=t,o=Aa().Browser.wrapSync(e),r=await o.getPage(a);r?.panels&&(n=new Set(r.panels.map((({viewOptions:e})=>e.name))))}return e.map((e=>{const t=e.viewOptions.name,o=t?.startsWith(Ta);o&&(!a||a&&!n.has(t))&&delete e.viewOptions.name;const r=(i=e.viewOptions,i.name||=`${Ta}${Rt()}`,i);var i;return{...e,viewOptions:{...r,uuid:we.uuid}}}))}async function an(e){for(const t of e)t.panels&&await on(t.panels)}const nn=e=>null!==e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&/ERR_([A-Z]+_*)+/.test(e.message);async function on(e){const t=e.map((e=>fin.Platform.getCurrentSync().createView(e.viewOptions,fin.me.identity).catch((e=>{if(!nn(e))throw e;console.error(e)}))));return await Promise.all(t)}const rn=(e,t)=>!t.find((t=>t===e)),sn=(e,t)=>`${e} (${t})`,cn=(e,t)=>{if(rn(e,t))return e;let a=1;const n=e.replace(/ *\(\d+\)$/,"");for(;!rn(sn(n,a),t);)a+=1;return sn(n,a)},ln=async()=>{const e=await be();return(await Promise.all(e.map((async e=>{try{return Ya(e.identity)}catch(t){JSON.stringify(e.identity);const a=await e.getOptions();return a.workspacePlatform?.pages||[]}})))).reduce(((e,t)=>e.concat(t)),[])},dn=async()=>(await pt(we)).dispatch(lt.GetSavedPages,void 0),un=async e=>(await pt(we)).dispatch(lt.GetSavedPage,e),pn=async(e,t)=>{const a=await(async e=>(await ln()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Xa({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},wn=async({page:e})=>{await pn(e.pageId,e),await(async e=>(await pt(we)).dispatch(lt.CreateSavedPage,e))({page:e})},hn=async e=>{await un(e)&&await(async e=>(await pt(we)).dispatch(lt.DeleteSavedPage,e))(e)},gn=async({pageId:e,page:t})=>{await pn(e,t);return await(async e=>(await pt(we)).dispatch(lt.UpdateSavedPage,e))({pageId:e,page:t})},mn=async e=>await un(e.pageId)?gn({pageId:e.pageId,page:e}):wn({page:e}),kn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.AttachPagesToWindow,e))(e)},bn=async e=>{const t={...e.page,panels:e.page.panels&&await tn(e.page.panels,e)};t.panels&&await on(t.panels),await Xa({...e,page:t})},yn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.DetachPagesFromWindow,e))(e)},fn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.SetActivePageForWindow,e))(e)},Sn=e=>Ya(e),vn=async({identity:e,pageId:t})=>(await Sn(e)).find((e=>e.pageId===t)),Pn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.ReorderPagesForWindow,e))(e)},Cn=new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};async function Mn(e){await Cn.lock();try{const t=Qa(en?"enterpriseDefaultPageTitle":"defaultPageTitle"),a=e??t,[n,o]=await Promise.all([dn(),ln()]),r=[...n,...o].map((({title:e})=>e));return cn(a,r)}finally{Cn.unlock()}}async function xn({page:e}){return{shouldShowModal:!(!e||!e.hasUnsavedChanges)}}async function In({page:e,identity:t}){const a=fin.Application.getCurrentSync();if((await a.getInfo()).initialOptions.enableBeforeUnload){const a=await fin.Application.getCurrentSync().getViews(),n=Na(e.layout.content).filter((e=>e.name&&a.some((t=>t.identity.name===e.name)))).map((e=>fin.View.wrapSync({name:e.name,uuid:t.uuid}))),o=await this.checkViewsForPreventUnload(n);if(o.viewsPreventingUnload.length>0){if((await this.getUserDecisionForBeforeUnload({...o,windowId:t,windowShouldClose:!1,closeType:"page"})).viewsToClose.length!==n.length)return e.pageId,{shouldPageClose:!1}}}return{shouldPageClose:!0}}async function An({pages:e,identity:t}){const a=await Promise.all(e.map((e=>this.shouldPageClose({page:e,closeType:"window",identity:t})))),{pagesPreventingClose:n,pagesNotPreventingClose:o}=e.reduce(((e,t,n)=>!a[n].shouldPageClose?{pagesNotPreventingClose:e.pagesNotPreventingClose,pagesPreventingClose:[...e.pagesPreventingClose,t]}:{pagesPreventingClose:e.pagesPreventingClose,pagesNotPreventingClose:[...e.pagesNotPreventingClose,t]}),{pagesPreventingClose:[],pagesNotPreventingClose:[]});return this.handlePagesAndWindowClose({pagesNotPreventingClose:o,pagesPreventingClose:n,identity:t})}async function Wn({pagesPreventingClose:e,pagesNotPreventingClose:t,identity:a}){return{shouldWindowClose:0===e.length}}async function Dn({page:e}){return Ut(e)}async function Tn(e){return{hasUnsavedChanges:!0}}const Rn=async()=>{const e=Aa(),t=(await be()).map((t=>e.Browser.wrapSync(t.identity)));await Promise.all(t.map((async e=>{const t=await e.getPages();await Promise.all(t.map((async t=>{t.title,await e.updatePage({pageId:t.pageId,page:{hasUnsavedChanges:!1}}),t.pageId,t.title,await mn({...t,hasUnsavedChanges:!1})})))})))},Bn=new Map,En=()=>Bn,Fn=e=>Bn.delete(e);let Vn=!1;const Nn=()=>{Vn||(Vn=!0,fin.Window.wrapSync(ge).once("closed",(()=>{Vn=!1,(async(e,t)=>{await $e(He(e),{source:"Store",...t})})(fin.me.identity,{type:"Navigation",action:"Close Store",skipValueHashing:!0})})))};let Ln,_n,On;const Un=async()=>(void 0===On&&(On=!!(await Q()).disableOpenFinAnalytics),On);async function Gn(e){e.forEach((e=>{var t,a;"Page"===e.type?"Open Page"===e.action?(t=e.data.uuid,a=e,Bn.set(t,a)):"Close Page"===e.action&&Fn(e.data.uuid):"Store"===e.source&&"Close"!==e.action&&Nn()})),await(async e=>{Ln?.sendToOpenFin&&(await Un()||e.forEach((async e=>{const t=At({},e);t.entityId&&(t.entityId.uuid=await xt(t.entityId.uuid),t.entityId.name=await xt(t.entityId.name)),!e.skipValueHashing&&"value"in t&&(t.value=await xt(t.value)),_n(t)})))})(e);const t=e.map((({skipValueHashing:e,...t})=>t));this.handleAnalytics(t)}const Hn=async e=>{Ln=e;Ln?.sendToOpenFin&&!await Un()&&(()=>{const e=N,t=e+K.Analytics,a=document.createElement("IFRAME");a.setAttribute("src",t),a.setAttribute("style","width: 0px !important"),a.setAttribute("style","height: 0px !important"),a.setAttribute("style","display: none !important"),document.body.appendChild(a),_n=async t=>{a.contentWindow.postMessage(t,e)}})();const t=fin.Application.getCurrentSync();t.addListener("view-created",(async e=>{var t;Ke({type:"View",action:"Open View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid,url:await(t=e.viewIdentity,fin.View.wrapSync(t).getInfo().then((e=>e.url)))}})})),t.addListener("view-destroyed",(async e=>{Ke({type:"View",action:"Close View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid}})})),t.addListener("window-closed",(e=>{e.name.startsWith(de.BrowserMenu)||(Ke({type:"Window",action:"Close Window",value:e.name,data:{uuid:e.uuid}}),(async()=>{const e=En(),t=await ln();if(t.length===e.size)return;const a=t.reduce(((e,t)=>e.set(t.pageId,1)),new Map);for(const[t,n]of e)a.has(t)||(n.action="Close Page",Ke(n),Fn(t))})())}))},$n=Ce({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});const Kn=function(e=$n){const t=new Map;return async(a,n,o,r,i)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const s=`${de.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:s});const c=`New ${r} indicator: ${o} ${i}`,l=await fin.Platform.getCurrentSync().createWindow({...e,name:s,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("role","alert"),a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),300),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(c),l.once("closed",(()=>{t.delete(a)}))}}();async function zn(e,t,a,n,o,r){if(a&&fin.me.name!==a){const i={type:e,message:t,parentBrowserName:a,secondaryMessage:n,icon:o,isEnterprise:r};return(await qt({uuid:fin.me.uuid,name:a})).dispatch(ea.ShowBrowserIndicator,i)}const i=new URLSearchParams;if(i.append("type",e),i.append("message",t),i.append("parentName",a||""),i.append("secondaryMessage",n||""),i.append("icon",o||""),i.append("isEnterprise",`${r}`||""),a){const e=pe(a?{uuid:R,name:a}:void 0),t=`${(s=await e.getBounds()).top},${s.left},${s.height},${s.width},${s.bottom},${s.right},${s.content.top},${s.content.left},${s.content.height},${s.content.width}`;i.append("parentBounds",t)}var s;const c=`${(r?await ae():await te())+K.BrowserIndicator}#${i.toString()}`;return Kn("browser"+a,c,t,e,n)}async function Jn(e,t,a,n){const o=await Ae(t);return zn("success",e,t.name,a,n,o)}const qn=async(e=we)=>{const{workspacePlatform:t}=await pe(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},Zn=async(e=we)=>{const t=await Ae(e)||en,a=await Aa().Browser.getUniquePageTitle();let n;if(e&&await ke(e))n=await(async(e,t=we)=>{const{newPageUrl:a}=await qn(t);if(!a)throw new Error("Trying to create a new page without a newPageUrl set");return La(e,a,t)})(a,e);else if(t){const e=await ne();n=await La(a,e)}t&&(n.settings=n.settings??{},n.dimensions=n.dimensions??{},n.settings.hasHeaders=!1,n.settings.reorderEnabled=!0,n.dimensions.headerHeight=0);const o=await Ot(a,n);return t&&(o.hasUnsavedChanges=!1),o};var jn;!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(jn||(jn={}));function Qn(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Yn(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Xn(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function eo(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const to={name:de.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function ao(e){const t={...to,...e};return t.url=function(e,t){if(!W)throw new Error("resolveAbsolutePath can only be used in a window");const a=t??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const n=`${a.protocol}//${a.hostname}`;return new URL(e,n).href}(t.url??""),t}const no=function(e){const t=new Map;return{emit:Qn(t,(t=>A&&fin.InterApplicationBus.publish(e,t))),addListener:Yn(t,(t=>A&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),addListenerWithUUID:a=>Yn(t,(t=>A&&fin.InterApplicationBus.subscribe({uuid:a},e,t))),removeListener:eo(t),once:Xn(t)}}("window.menu"),oo=(e,t)=>fin.Window.wrapSync(e).updateOptions({opacity:t}),ro=e=>no.emit("response",e),io=Re((()=>le().getChildWindows()),500);const so=new Map;async function co(e,t){const a=ao(e),n={top:a.top,left:a.left,width:a.defaultWidth||a.width,height:a.defaultHeight||a.height};return t.set("parentName",fin.Window.getCurrentSync().identity.name),{name:a.name,bounds:n,route:`${a.url}#${t.toString()}`}}async function lo({options:e,parameters:t}){const a=t??new URLSearchParams,n=ao(e),{name:o,modalParentIdentity:r}=n;if(!a.has("isEnterprise")){const e=`${await(async e=>(De||(De=await Ae(e)),De))(r)}`;a.set("isEnterprise",e)}let i=await async function(e){return(await io()).find((t=>t.identity.name===e))}(o);if(i)await async function(e,t){const{name:a,bounds:n,route:o}=await co(e,t),r={uuid:fin.me.identity.uuid,name:a},i=fin.Window.wrapSync(r);await Promise.all([oo(r,0),i.setBounds(n)]),i.once("blurred",(()=>{oo(r,0),i.hide(),ro({name:r.name,data:{actionName:"Cancel"}})})),no.emit("update",a,n,o),await ro({name:a,data:{actionName:"Cancel"}})}(n,a);else{const{route:t,bounds:o}=await co(e,a);i=await async function(e,t,a){const n=ao(e),o=await vt(fin.me.identity),r=await Pt(fin.me.identity)===m.Dark,i=o?.theme;if(n.backgroundColor=i?.[r?m.Dark:m.Light]?.palette?.inputBackground||n.backgroundColor,!so.has(n.name))return new Promise((e=>{no.once("ready",(async t=>{if(t.name===n.name){const a=await so.get(n.name);a.once("blurred",(async()=>{if(oo(t,0),a.hide(),ro({name:n.name,data:{actionName:"Cancel"}}),a.identity.name===de.BrowserSaveMenu){const e=await a.getOptions();"submitting"!==e.customContext&&"error"!==e.customContext&&a.close()}else a.identity.name.startsWith(de.BrowserMenu)&&a.close()})),setTimeout((async()=>{await oo(t,1),1!==(await fin.Window.wrapSync(t).getOptions()).opacity&&oo(t,1)})),e(a)}}));const o=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(Ce({...n,opacity:0,url:t||n.url,defaultLeft:a?.left,defaultTop:a?.top,defaultWidth:a?.width,defaultHeight:a?.height},!0));return e.once("closed",(()=>{so.delete(n.name)})),e})();so.set(n.name,o)}));return so.get(n.name)}({...n},t,o)}return i}const uo=async({options:e,content:t,parameters:a})=>{const n=a??new URLSearchParams;n.set("content",JSON.stringify({...t,invocationId:Rt()}));const o={...e,name:`${e.name}--${e.modalParentIdentity?.name??""}`};return await lo({options:o,parameters:n}),new Promise((e=>{no.once("response",(async t=>{t.name===o.name&&e({data:t.data})}))}))},po=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t)=>{const a=await Ae(t);return{title:"Switch Workspace",windowOptions:{url:await oe(a,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:t},content:{title:Qa("switchWorkspaceModal",{workspace:e}),body:Qa("switchWorkspaceModal.warning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(t,a?void 0:e),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await uo({options:i,content:o})).data.actionName},wo=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ae(e);return{title:"Delete Workspace",windowOptions:{url:await oe(a,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:144,defaultWidth:410,modalParentIdentity:e},content:{title:Qa("deleteWorkspaceModal"),body:`${t}`,buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Confirm"===(await uo({options:r,content:n})).data.actionName},ho=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t,a)=>{const n=await Ae(e);return{title:"Platform Quit",windowOptions:{url:await oe(n,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:a?void 0:e},content:{title:Qa("Platform"===t?"closePlatform":"closePlatform.workspace",{workspace:t}),body:Qa("closePlatform.warning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t,a),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await uo({options:i,content:o})).data.actionName},go=async e=>{const{windowOptions:t,content:a}=await(async e=>{const t=await Ae(e);return{title:"Restore Changes",windowOptions:{url:await oe(t,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:e},content:{title:Qa("restoreModal"),body:Qa("modal.discardWarning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e),n=await Le(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return"Confirm"===(await uo({options:o,content:a})).data.actionName},mo=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ae(e);return{title:"Delete Page",windowOptions:{url:new URL(await oe(a,!1)+K.ResponseModal).toString(),name:de.BrowserMenu,defaultHeight:172,defaultWidth:464,modalParentIdentity:e},content:{title:Qa("enterpriseDeleteModal.deleteSupertab",{title:t}),body:Qa("enterpriseDeleteModal.deleteSupertabWarning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel",variant:a?"outline":void 0},{label:Qa("global.delete"),type:"primary",id:"Delete",variant:a?"submit":void 0}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Delete"===(await uo({options:r,content:n})).data.actionName};async function ko({options:e,...t}){if(!(!!e?.skipPrompt||await po(e?.promptContainerWindowIdentity,t.title,e?.shouldCenterModalOnMonitor)))return!1;const a=Aa();return await a.applySnapshot(t.snapshot,{...e?.applySnapshotOptions??{},closeExistingWindows:e?.applySnapshotOptions?.closeExistingWindows??!0}),fo(t),zn("success",Qa("successIndicator.workspaceSwitched")).catch(console.warn),!0}async function bo(e){try{return await ko(e)}catch(e){return console.error("failed to apply the current workspace: ",e),!1}}async function yo(e){try{const t=await async function(){const e=Aa(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();if(!t)return"not-saved-workspace";return!!e?.skipPrompt||await go(e?.promptContainerWindowIdentity)?(await ko({options:{skipPrompt:!0,applySnapshotOptions:e?.applySnapshotOptions},...t}),"success"):"user-declined"}catch(e){throw console.error("failed to restore last saved workspace: ",e),e}}function fo(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);sa(Bt.CurrentWorkspaceId,t)}catch(e){console.error("failed to set the active workspace: ",e)}}async function So(){const e=Aa(),t=await e.getSnapshot();return{workspaceId:Rt(),title:await Mo(),metadata:{APIVersion:O},snapshot:t}}async function vo(){if("undefined"==typeof localStorage)return So();const e=ca(Bt.CurrentWorkspaceId);if(!e)return So();const t=JSON.parse(e),a=Aa(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:O},snapshot:n}}const Po=async()=>(await pt(we)).dispatch(lt.GetSavedWorkspaces,void 0),Co=async e=>await(async e=>(await pt(we)).dispatch(lt.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await pt(we)).dispatch(lt.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await pt(we)).dispatch(lt.CreateSavedWorkspace,e))({workspace:e});async function Mo(e="Untitled Workspace"){const t=(await Po()).map((({title:e})=>e));return cn(e,t)}const xo=e=>({...e,snapshot:{...e.snapshot,windows:e.snapshot.windows.map((e=>({...e,workspacePlatform:{...e.workspacePlatform,pages:e.workspacePlatform?.pages?.map((e=>({...e,hasUnsavedChanges:!1})))}})))}}),Io=async(e,t)=>{const a=t??Aa();await a.Storage.saveWorkspace(xo(e)),await(async()=>(await pt(we)).dispatch(lt.MarkUnsavedPagesAsSavedInternal,void 0))()},Ao=async e=>{const t=Aa(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))await Io(a,t),await t.setActiveWorkspace(a),await Jn(Qa("successIndicator.workspaceSaved"),e);else{const a=t.Browser.wrapSync(e);await a._openSaveModal({menuType:x.SAVE_WORKSPACE})}},Wo=e=>{Aa().Browser.wrapSync(e)._openSaveModal({menuType:x.SAVE_WORKSPACE_AS})},Do=async e=>{const t=Aa().Browser.wrapSync(e),{newPageUrl:a}=await qn(),n=await Zn(e),o=a||void 0;await t._addDefaultPage({identity:e,page:n,newPageUrl:o})},To=async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=await Aa().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId)),i=await Ae(e);if(r)try{await Aa().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0,layout:Va(d.layout)})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Jn(Qa(i?"enterpriseSuccessIndicator.supertabSaved":"successIndicator.pageSaved"),e,Qa(i?"enterpriseSuccessIndicator.supertabHasBeenSaved":"successIndicator.pageHasBeenSaved",{title:o.title}))}catch{s=Qa("errorIndicator.pageSaveFailed"),c=o.parentIdentity.name,zn("error",s,c,l)}else a._openSaveModal({id:o.pageId,menuType:x.SAVE_PAGE});var s,c,l,d},Ro=async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:x.SAVE_PAGE_AS}),Ke({type:"Page Modal",action:"Select Save As",value:n.title,skipValueHashing:!0})},Bo={title:"Downloads",pageId:"downloads-page-id",layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{name:"show-download-view",url:"chrome://downloads/"}}]}]}},Eo=async e=>{const t=pe(e),a=await t.getCurrentViews(),n=(await Aa().Browser.wrapSync(t.identity).getPages()).find((e=>e.isActive));try{const t=(await Promise.all(a.map((async e=>({identity:e.identity,info:await fin.View.wrapSync(e.identity).getInfo()}))))).find((e=>"chrome://downloads/"===e.info.url));if(t)await fin.View.wrapSync(t.identity).focus();else{const t=Aa();if(n?.isLocked){const e=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>"show-download-window"===e.identity.name));return void(e?await e.focus():t.Browser.createWindow({name:"show-download-window",workspacePlatform:{pages:[Bo]}}))}(await Aa().createView({name:"show-download-view",url:"chrome://downloads/",target:e},e)).focus()}}catch(e){console.error("Couldn't open downloads view",e)}},Fo=async e=>{const t=e.map((e=>fin.View.wrapSync(e).print()));await Promise.all(t)},Vo=e=>{const[t,a,n]=e.split(".").map((e=>"x"===e?0:1));return 100*t+10*a+1*n};class No extends Error{}const Lo=async e=>{try{const a=await async function(){const e=await Q(),t=e?.translationOverridesUrl??"https://workspace.openfin.co/workspace/assets/translation-override.json";if(""===t)throw new No("Empty string provided as url to translationOverridesUrl, overrides will not be fetched.");return await fetch(t).then((e=>e.json()))}();(t=(e=>{const t=O.split(".");return Object.keys(e).filter((e=>{const a=e.split(".");if(3!==a.length)return console.warn(`Encountered a translation override version string in an unsupported format: ${e}. Versions must be in A.B.C format where A, B, C are either integers or the wildcard symbol 'x'.`),!1;const[n,o,r]=a;return!(n!==t[0]&&"x"!==n||o!==t[1]&&"x"!==o||r!==t[2]&&"x"!==r)}))})(a),[...t].sort(((e,t)=>Vo(e)-Vo(t)))).forEach((t=>{const n=a[t];Object.keys(n).forEach((t=>{e.addResourceBundle(t,"translation",n[t],!0,!0)}))}))}catch(e){e instanceof No?console.warn(e.message):console.error("Error applying a translation override: ",e)}var t};function _o(){return Ha().language}const Oo=async e=>{Ho(e),(e=>{Ha().changeLanguage(e)})(e),await(async e=>{const t=await be();return Promise.all(t.map((async t=>{const a=await qt(t.identity);await a.dispatch(ea.SetSelectedLanguage,e)})))})(e)};function Uo(){if(!Ha().options.resources)throw new Error("No language resources found");return{currentLanguage:_o(),resources:Ha().options.resources}}async function Go(e="en-US"){Ho(e),function(e="en-US"){Ha().use(Ua.initReactI18next).init({lng:e,fallbackLng:"en-US",resources:{"en-US":{translation:za},"ja-JP":{translation:qa},"zh-CN":{translation:$a},"ko-KR":{translation:Za},"ru-RU":{translation:ja},"de-DE":{translation:Ja},"zh-Hant":{translation:Ka}},interpolation:{escapeValue:!1}})}(e),await Lo(Ha())}function Ho(e){if(!M.includes(e))throw new Error(`The ISO language provided ${e} is not supported`)}const $o=["green","purple","orange","red","pink","yellow"],Ko="CONTEXT_GROUP_PAGE",zo=()=>e=>class extends e{getContextGroups(){return super.getContextGroups().map((e=>$o.includes(e.displayMetadata?.name)?{...e,displayMetadata:{...e.displayMetadata,name:Qa(e.displayMetadata?.name)}}:e))}},Jo=()=>{const e=new Set;return t=>class extends t{constructor(){super(),this.onClientConnected=e=>{e.name.startsWith("internal-generated-view")&&this.joinContextGroup({contextGroupId:Ko,target:e},{uuid:this.fin.me.uuid,name:this.fin.me.name})};const e=this.interopClients.set;this.interopClients.set=(t,a)=>{e.call(this.interopClients,t,a),this.onClientConnected(a.clientIdentity)}}async joinContextGroup({contextGroupId:t,target:a},n){if(t!==Ko)return super.joinContextGroup({contextGroupId:t,target:a},n);try{const t=(await Aa().Browser.getPageByViewIdentity(a)).page.layoutName;if(!t)throw new Error("View does not belong to a page");if(!e.has(t)&&(e.add(t),!this.contextGroupsById.has(t))){const e=new Map;this.contextGroupsById.set(t,e)}await super.joinContextGroup({contextGroupId:t,target:a},n),a.name}catch(e){JSON.stringify(a),e.stack}}getContextGroups(){return Array.from(e).map((e=>({id:e,displayMetadata:{}})))}setContextForGroup(e,t){if(!this.contextGroupsById.has(t)){const e=new Map;this.contextGroupsById.set(t,e)}return super.setContextForGroup(e,t)}}},qo=(e,t)=>{const a=(e=>We(e)?Jo():zo())(t);try{return"function"==typeof e?t=>e(a(t)):Array.isArray(e)?[...e,a]:e=>new(a(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}},Zo=new Map;async function jo(){if("undefined"!=typeof localStorage)try{const e=ca(Bt.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await fe(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}async function Qo(e=fin.me.identity){await ke(e)&&(Zo.delete(e.name),Zo.set(e.name,e),function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);sa(Bt.LastFocusedBrowserWindow,t)}catch(e){console.error("failed to save last focused browser window: ",e)}}(e))}async function Yo(e=fin.me.identity){Zo.delete(e.name)}const Xo=Tt()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===de.BrowserMenu||n.identity.name===de.BrowserSaveMenu?t=n:await ke(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});let er={};const tr=async({actionId:e,payload:t})=>{if("function"!=typeof er[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return er[e](t)},ar=()=>`custom-context-menu-${Aa().identity.uuid}-${O}`,nr=()=>`custom-bookmark-context-menu-${Aa().identity.uuid}-${O}`,or=()=>fin.InterApplicationBus.Channel.connect(ar());var rr,ir;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(rr||(rr={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu"}(ir||(ir={}));const sr=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),cr=e=>e+"-"+fin.me.uuid,lr=(e,t)=>{const a=D&&A&&new sr.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},dr=(e,t)=>{const a=lr(cr(e),t),n=lr(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=ca(Bt.HasMovedStore),o=n?JSON.parse(n):{};if(o&&o[a])return;o[a]=!0,sa(Bt.HasMovedStore,JSON.stringify(o));const r=await e[a].toArray();await t[a].bulkPut(r)})(n,a,e),a},ur=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),pr="visited-sites",wr="removed-tab-stack",hr=D&&A&&dr("openfin-home-pages","pages"),gr=D&&A&&new sr.Dexie(cr("openfin-enterprise-site-history"));gr&&gr.version(.1).stores({[pr]:"id, url"});const mr=D&&A&&new sr.Dexie(cr("openfin-enterprise-tab-history"));async function kr(e){if(!hr)throw new Error("Unable to get page - IndexDB not supported");const t=await hr.pages.get(e);if(t)return t.pageId=e.toString(),t.title=t.title||t.pageId,t}async function br(e){if(!hr)throw new Error("Unable to get page list - IndexDB not supported");const t=await hr.pages.toCollection().keys(),a=(await Promise.all(t.map((e=>kr(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>ur(t.title,e))):a}async function yr({page:e}){if(!hr)throw new Error("Unable to create page - IndexDB not supported");await hr.pages.put(e,e.pageId)}async function fr(e){if(!hr)throw new Error("Unable to delete page - IndexDB not supported");await hr.pages.delete(e)}async function Sr({pageId:e,page:t}){if(!hr)throw new Error("Unable to update page - IndexDB not supported");if(void 0===await kr(e))throw new Error("page not found");await yr({page:t}),e!==t.pageId&&await fr(e)}mr&&mr.version(.1).stores({[wr]:""});const vr=async e=>{if(!mr)throw new Error("Unable to add removed tab - IndexDB not supported");const t=Date.now().toString(),a={...e,id:t};await mr[wr].put(a,t)};function Pr(e){return"app"===e.type||"website"===e.type}const Cr=async e=>{if("website"===e.type){const t=e,a=t.url||"";let n=await gr[pr].get(a);n&&Pr(n)?(n.icon=t.icon,n.title=t.title,n.type=t.type,n.visitCount=(n.visitCount||0)+1,n.url=t.url):n={...t,id:a,visitCount:1,accessTime:void 0},n.accessTime=Date.now(),await gr[pr].put(n,a)}},Mr=async()=>{if(!gr)throw new Error("Unable to get frequently visited sites - IndexDB not supported");const e=gr[pr],t=await e.toCollection().toArray();t.sort(((e,t)=>(t.visitCount||0)-(e.visitCount||0)));return(t.length>5?t.slice(0,5):t).map((({id:e,...t})=>t))};const xr=async()=>(await fin.System.getHostSpecs()).name.toLowerCase().includes("windows"),Ir=async e=>{const{ctrlKey:t,metaKey:a,shiftKey:n}=e.sourceEvent,{url:o}=e.bookmark,{sourceIdentity:r}=e,i=await xr();if(!await ke(r))return await(async e=>{const t=Aa(),a=await La(e.url,e.url),n=await Ot(e.url,a);me((await t.Browser.createWindow({workspacePlatform:{pages:[n]}})).identity)})(e.bookmark);const s=Aa().Browser.wrapSync(r),c=await s.getPages(),l=(await s._getLayoutsWithSelectedViews()).find((e=>e.isActive));if(!l)throw Error(`Browser ${r} does not have any active layouts`);const d=c.find((e=>e.isActive)),u=1===Oa(d.layout.content),p=l.selectedViews[0];u?await(async({isWindows:e,ctrlKey:t,metaKey:a,currentViewId:n,browserIdentity:o,url:r,shiftKey:i,activePage:s,pages:c})=>{if(e?t:a){const e=Aa().Browser.wrapSync(o),t=await La(r,r,o),a={...await Ot(r,t),attachedPageType:"singleView",singleViewName:r},n=c.findIndex((e=>e.pageId===s.pageId));await e._addPage(a,{index:n+1}),i&&e.setActivePage(a.pageId)}else fin.View.wrapSync(n).navigate(r)})({isWindows:i,ctrlKey:t,metaKey:a,currentViewId:p,browserIdentity:r,url:o,shiftKey:n,activePage:d,pages:c}):await(async({isWindows:e,ctrlKey:t,metaKey:a,currentViewId:n,browserIdentity:o,url:r,shiftKey:i,activeLayout:s})=>{if(e?t:a){const e=fin.View.wrapSync(n),t=await e.getCurrentStack(),a=(await t.getViews()).findIndex((e=>e.name===n.name)),i={url:r,browserIdentity:o,title:r};await t.addView(i,{index:a+1})}else await fin.View.wrapSync(s.selectedViews[0]).navigate(r)})({isWindows:i,ctrlKey:t,metaKey:a,currentViewId:p,browserIdentity:r,url:o,shiftKey:n,activeLayout:l})};var Ar;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Ar||(Ar={}));const Wr={type:Ar.Separator,data:void 0},Dr=async()=>({type:Ar.Submenu,label:Qa("contextMenu.print"),submenu:[{type:Ar.Label,label:Qa("contextMenu.submenu.print"),data:{type:f.Print}},{type:Ar.Label,label:Qa("contextMenu.submenu.printAll"),data:{type:f.PrintAll}},Wr,{type:Ar.Label,label:Qa("contextMenu.printScreen"),data:{type:f.PrintScreen}}]}),Tr=()=>({type:Ar.Label,label:Qa("contextMenu.closeWindow"),data:{type:g.CloseWindow}}),Rr=e=>({type:Ar.Label,label:Qa(e?"contextMenu.quitEnterpriseBrowser":"contextMenu.quitPlatform"),data:{type:g.Quit}}),Br=()=>({type:Ar.Label,label:Qa("contextMenu.newWindow"),data:{type:g.NewWindow}}),Er=e=>({type:Ar.Label,label:Qa(e?"enterpriseContextMenu.saveSupertab":"contextMenu.savePage"),data:{type:g.SavePage}}),Fr=e=>({type:Ar.Label,label:Qa(e?"enterpriseContextMenu.saveSupertabAs":"contextMenu.savePageAs"),data:{type:g.SavePageAs}}),Vr=(e,t)=>({type:Ar.Label,label:Qa(t?"enterpriseContextMenu.newTab":"contextMenu.newPage"),data:{type:g.NewPage},enabled:e}),Nr=()=>({label:Qa("contextMenu.switchWorkspace")}),Lr=()=>({label:Qa("contextMenu.deleteWorkspace")}),_r=()=>({label:Qa("contextMenu.appearance")}),Or=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Ar.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),Ur=async()=>{const e=await Aa().Theme.getSelectedScheme();return[{label:Qa("theme.light"),type:Ar.Checkbox,checked:e===m.Light,data:{type:g.Appearance,scheme:m.Light}},{label:Qa("theme.dark"),type:Ar.Checkbox,checked:e===m.Dark,data:{type:g.Appearance,scheme:m.Dark}},{label:Qa("theme.system"),type:Ar.Checkbox,checked:e===m.System,data:{type:g.Appearance,scheme:m.System}}]},Gr=async(e,t=[])=>{const a=await Se(),{newPageUrl:n}=await qn(e),o=await(async e=>{const t=pe(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),r=await(async e=>{const t=pe(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),i=await Ae(e),s=[],c=t.length>0;n&&(s.push(Br()),o||s.push(Vr(!r,i))),s.push(Wr);const l=Aa(),d=await l.getCurrentWorkspace(),u=await l.Storage.getWorkspaces(),p=u.find((e=>e.workspaceId===d.workspaceId));s.push({type:Ar.Label,label:Qa("contextMenu.restore"),data:{type:g.RestoreChanges},enabled:!!p}),s.push({type:Ar.Label,label:Qa("contextMenu.saveWorkspace"),data:{type:g.SaveWorkspace},enabled:!!p}),s.push({type:Ar.Label,label:Qa("contextMenu.saveWorkspaceAs"),data:{type:g.SaveWorkspaceAs}}),s.push({type:Ar.Label,label:Qa("contextMenu.renameWorkspace"),data:{type:g.RenameWorkspace},enabled:!!p}),u.some((e=>e.workspaceId!==d.workspaceId))?s.push({label:Nr().label,submenu:Or(d,u,g.SwitchWorkspace),data:void 0},{label:Lr().label,submenu:Or(d,u,g.DeleteWorkspace),data:void 0}):s.push({label:Nr().label,enabled:!1,data:void 0},{label:Lr().label,enabled:!1,data:void 0}),s.push({label:Qa("contextMenu.downloads"),data:{type:g.Downloads}});const w=await l.Theme.getThemes();return(w[0]&&"palettes"in w[0]||!w[0]||0===w.length)&&s.push({label:_r().label,submenu:await Ur(),data:void 0}),s.push(Wr,Er(i),Fr(i),await(async e=>{const t=await xr();return{label:Qa("contextMenu.print"),submenu:[{type:Ar.Label,label:Qa("contextMenu.submenu.print"),data:{type:g.Print},enabled:e},{type:Ar.Label,label:Qa("contextMenu.submenu.printAll"),data:{type:g.PrintAll}},...t?[Wr,{type:Ar.Label,label:Qa("contextMenu.printScreen"),data:{type:g.PrintScreen}}]:[]],data:void 0}})(c)),a?[...s,Tr(),Wr,{type:Ar.Label,label:Qa("contextMenu.openStorefront"),data:{type:g.OpenStorefront}},Wr,Rr()]:[...s,Wr,Tr(),Wr,Rr()]},Hr=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await qn(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{url:t,target:e,title:"New Tab"}})(e);await Aa().createView(o,e,n.identity)},$r=async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=(await a.getPages()).find((e=>e.isActive)),o=await fin.Window.wrapSync(e).getCurrentViews();if(t.length===o.length-(n.panels??[]).length){return void(await qt(e)).dispatch(ea.ClosePage,{pageId:n?.pageId})}const r=fin.Platform.getCurrentSync();t.forEach((async t=>{const o=await fin.View.wrapSync(t).getParentLayout();await r.closeView(t);const{hasUnsavedChanges:i}=await(async e=>(await wt(we)).dispatch(lt.HandlePageChanges,e))({page:{...n,layout:await o.getConfig()},identity:e,eventDetails:{type:h.ViewRemoved,viewIdentity:t}});i&&await a.updatePage({pageId:n.pageId,page:{hasUnsavedChanges:!0}})}))},Kr=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await qn(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},zr=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Aa().createView(n,e,t.identity)})(e,a)}))},Jr=async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await qt(e)).dispatch(ea.AddToChannel,n)},qr=async(e,t)=>{(await qt(e)).dispatch(ea.RemoveFromChannel,t)},Zr=async(e,t)=>{if(!e)return;const a=t.identity,n=fin.Window.wrapSync(a);switch(Ke({type:"View Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e.type){case f.Back:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateBack()));await Promise.all(t)})(t.selectedViews);break;case f.Forward:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateForward()));await Promise.all(t)})(t.selectedViews);break;case f.Print:await Fo(t.selectedViews);break;case f.PrintAll:await n.print({content:"views",includeSelf:!1});break;case f.PrintScreen:await n.print({content:"screenshot"});break;case f.CloseViews:await $r(a,t.selectedViews);break;case f.OpenWithDefaultBrowser:await Kr(a,t.selectedViews);break;case f.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case f.NewView:await Hr(a,t);break;case f.DuplicateViews:zr(a,t.selectedViews);break;case f.AddToChannel:Jr(a,e.option,t.selectedViews);break;case f.RemoveFromChannel:qr(a,t.selectedViews);break;case f.Custom:if(e.action){const n={callerType:C.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,n)}}};let jr="Platform";const Qr=async()=>jr;const Yr=async(e,t)=>{if(!e)return;const a=t.identity,n=await qt(a),o=Aa().Browser.wrapSync(a),r=fin.Window.wrapSync(a);if(Ke({type:"Global Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0,data:{action:e.action?.id}}),await Ae(a)){const a=await(async(e,t)=>{const a=t.identity,n=Aa().Browser.wrapSync(a),o=(await n.getPages()).find((e=>e.isActive)),r=Gt({...a,layoutName:o.layoutContainerKey}),i=t.selectedViews;switch(e?.type){case b.Lock:await n.updatePage({pageId:o.pageId,page:{isLocked:!o.isLocked}});break;case b.AddToChanel:e.option?await Jr(a,e.option,i):null===e.option&&await qr(a,i);break;case g.NewWindow:{const e=await Zn(a);await Aa().Browser.createWindow({workspacePlatform:{pages:[e],windowType:"enterprise"}});break}case b.Pin:{const{alwaysOnTop:e}=await n.openfinWindow.getOptions();await n.openfinWindow.updateOptions({alwaysOnTop:!e});break}case b.ShowHideTabs:await r.isShowingTabs()?await r.hide():await r.show();break;default:return!1}return!0})(e,t);if(a)return}switch(e.type){case g.NewWindow:{const{newPageUrl:e}=await qn(a);if(!e)throw new Error("Trying to create a new empty window without a newPageUrl set");Aa().createView({target:void 0,url:e});break}case g.NewPage:await Do(a);break;case g.CloseWindow:n.dispatch(ea.CloseBrowserWindow);break;case g.SaveWorkspace:await Ao(a);break;case g.SavePage:await To(a);break;case g.SavePageAs:await Ro(a);break;case g.SaveWorkspaceAs:await Wo(a);break;case g.RenameWorkspace:o._openSaveModal({menuType:x.RENAME_WORKSPACE});break;case g.SwitchWorkspace:await(async(e,t)=>{const a=Aa(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));a.applyWorkspace(n,{skipPrompt:!1,promptContainerWindowIdentity:e})})(a,e);break;case g.DeleteWorkspace:await(async(e,t)=>{const a=Aa(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await wo(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Jn(Qa("successIndicator.workspaceDeleted"),e))})(a,e);break;case g.Downloads:await Eo(a);break;case g.Appearance:await Aa().Theme.setSelectedScheme(e.scheme);break;case g.Quit:{const e=Qr();await ho(a,await e)&&fin.Platform.getCurrentSync().quit()}break;case g.OpenStorefront:(async()=>{await Se()&&me(ge)})();break;case g.RestoreChanges:await yo();break;case g.Print:await Fo(t.selectedViews);break;case g.PrintAll:await r.print({content:"views",includeSelf:!1});break;case g.PrintScreen:await r.print({content:"screenshot"});break;case g.Custom:if(e.action){const t={callerType:C.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,t)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}},Xr=async(e,t,a)=>{const n=Aa().Browser.wrapSync(t.identity),o=fin.Window.wrapSync(t.identity),r=await qt(t.identity),i=await Ae();switch(e&&Ke({type:"Page Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e?.type){case k.Save:await To(t.identity,t.pageId);break;case k.SaveAs:await Ro(t.identity,t.pageId);break;case k.NewPage:await Do(t.identity);break;case k.DeletePage:await(async(e,t)=>{const a=Aa(),n=a.Browser.wrapSync(e),o=(await a.Storage.getPages()).find((e=>e.pageId===t));o&&await mo(e,o.title)&&(await a.Storage.deletePage(o.pageId),await n.removePage(t),Jn(Qa("enterpriseSuccessIndicator.supertabDeleted"),e,Qa("enterpriseSuccessIndicator.supertabHasBeenDeleted",{title:o.title})))})(t.identity,t.pageId);break;case k.Rename:if(await Ae(t.identity)){await n.setActivePage(t.pageId);const e=await or();await e.dispatch("open",{parentIdentity:t.identity,type:ir.RenameSupertab,anchorBehavior:ti.Center,x:a.left+a.width/2-164,y:a.bottom-8,payload:{pageId:t.pageId}})}else await n._openSaveModal({menuType:x.RENAME_PAGE,id:t.pageId});break;case k.Duplicate:r.dispatch(ea.DuplicatePage,t.pageId);break;case k.Close:i?await(async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=await a.getPages();for(const o of n)if(o.pageId===t){await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o});break}})(t.identity,t.pageId):r.dispatch(ea.ClosePage,{pageId:t.pageId});break;case k.Custom:if(e.action){const a={callerType:C.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`);break;case k.Refresh:await(async(e,t)=>{const a=Aa(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>t?e.pageId===t:e.isActive));o?.layout?.content&&Na(o.layout.content).forEach((async e=>{(await fin.View.wrap({uuid:a.identity.uuid,name:e.name})).reload()}))})(t.identity,t.pageId);break;case k.CloseOthers:await(async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=await a.getPages();for(const o of n)o.pageId!==t&&(await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o}))})(t.identity,t.pageId);break;case k.SaveWorkspaceAs:await Wo(t.identity);break;case k.Print:{const e=await n._getLayoutsWithSelectedViews(),{selectedViews:a}=e.find((e=>e.pageId===t.pageId));await Fo(a);break}case k.PrintAll:await n.setActivePage(t.pageId),await o.print({content:"views",includeSelf:!1});break;case k.PrintScreen:await n.setActivePage(t.pageId),await o.print({content:"screenshot"})}},ei=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case v.SavePage:await To(a);break;case v.SaveWorkspace:await Ao(a);break;case v.SavePageAs:await Ro(a);break;case v.SaveWorkspaceAs:await Wo(a);break;case v.Custom:if(e.action){const a={callerType:C.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}}};var ti;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(ti||(ti={}));const ai=async(e,t,a,n)=>{const{x:o,y:r,identity:i,template:s,callback:c}=e,l=await Ae(i),{data:d}=l?await(async(e,t,a,n)=>{if(!A)throw new Error("showEnterpriseContextMenu can only be used in a Here env. Avoid calling this method during pre-rendering.");if(!n&&!fin.me.isWindow)throw new Error("showEnterpriseContextMenu can only be used in a Here window.");const o=fin.Window.wrapSync({uuid:we.uuid,name:de.EnterpriseContextMenu});await o.isShowing()&&await o.blur();const r=await or(),i=new Promise(((e,t)=>{r.register("response",(t=>{e(t)}))})),{x:s,y:c,template:l}=e;return await r.dispatch("open",{parentIdentity:n.identity,responseIdentity:we,type:t,anchorBehavior:a,x:s,y:c,payload:{template:l}}),i})({x:o,y:r,template:s},a,n,fin.Window.wrapSync(i)):await function(e,t){if(!A)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:o,y:r,template:s},fin.Window.wrapSync(i));c(d,e)};async function ni(e,t){const a=await Ae(e.identity),n=a?await(async({identity:e,selectedViews:t})=>{const a=Aa(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>e.isActive)),r=Oa(o.layout.content)>1,i=await Ae(e),s=await a.Theme.getThemes(),c=s[0]&&"palettes"in s[0]||!s[0]||0===s.length,l={...Er(i),enabled:r},d={...Fr(i),enabled:r};return[Br(),Vr(!0,i),{type:Ar.Separator},l,d,{type:Ar.Separator},...c?[{type:Ar.Submenu,label:_r().label,submenu:await Ur()}]:[],{type:Ar.Separator},Tr(),{type:Ar.Separator},Rr(!0)]})({identity:e.identity,selectedViews:e.selectedViews}):await Gr(e.identity,e.selectedViews),o=await Qr();a||(n.find((e=>e.data?.type===g.Quit)).label=`Quit ${o}`);const{rect:r,...i}=e,{x:s,y:c}=a?{x:r.left+r.width,y:r.bottom}:e,l={...i,x:s,y:c,template:n,callback:Yr};await this.openGlobalContextMenu(l,t)}async function oi(e,t){const a={...e,callback:Zr};await this.openViewTabContextMenu(a,t)}async function ri(e,t){const a=await(async(e,t)=>{const a=await Aa().Storage.getPage(e),n=await ln(),o=await Ae(t),r=n.find((t=>t.pageId===e)),i=Oa(r.layout.content)>1,{workspacePlatform:s}=await pe(t).getOptions(),c=!(s.isLocked||s.preventPageClose||r.closeButton?.disabled||r.closeButton?.hidden),l=[{type:Ar.Label,label:Qa("enterpriseContextMenu.newTab"),data:{type:k.NewPage}},Wr,{type:Ar.Label,label:Qa("reload"),data:{type:k.Refresh}},{type:Ar.Label,label:Qa("enterpriseContextMenu.duplicate"),data:{type:k.Duplicate},enabled:!s.isLocked},await Dr(),Wr,{type:Ar.Label,label:Qa(i?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:k.Close},enabled:c}],d=[{type:Ar.Label,label:Qa("enterpriseContextMenu.newTab"),data:{type:k.NewPage}},Wr,{type:Ar.Label,label:Qa("enterpriseSaveModal.renameSupertab"),data:{type:k.Rename},enabled:!s.isLocked&&!!a&&i},{type:Ar.Label,label:Qa("enterpriseContextMenu.duplicate"),data:{type:k.Duplicate},enabled:!s.isLocked},Wr,{type:Ar.Label,label:Qa("enterpriseContextMenu.saveSupertab"),data:{type:k.Save},enabled:i},{type:Ar.Label,label:Qa("enterpriseContextMenu.saveSupertabAs"),data:{type:k.SaveAs},enabled:i},Wr,{type:Ar.Label,label:Qa("enterpriseContextMenu.deleteSupertab"),data:{type:k.DeletePage},enabled:!!a},Wr,{type:Ar.Label,label:Qa(i?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:k.Close},enabled:c}],u=[{type:Ar.Label,label:Qa("contextMenu.savePage"),data:{type:k.Save},enabled:!0},{type:Ar.Label,label:Qa("saveMenu.savePageAs"),data:{type:k.SaveAs},enabled:!0},{type:Ar.Label,label:"Save Workspace As",data:{type:k.SaveWorkspaceAs}},{type:Ar.Label,label:"Refresh",data:{type:k.Refresh}},Wr,{type:Ar.Label,label:Qa("saveModal.renamePage"),data:{type:k.Rename},enabled:!!a},{type:Ar.Label,label:Qa("contextMenu.duplicatePage"),data:{type:k.Duplicate},enabled:!s.isLocked},Wr,{type:Ar.Label,label:Qa("saveModal.closePage"),data:{type:k.Close},enabled:c}];return o?i?d:l:u})(e.pageId,e.identity),n={...e,template:a,callback:(t,a)=>{Xr(t,a,e.rect)}};await this.openPageTabContextMenu(n,t)}async function ii(e,t){const a={...e,template:await(async()=>{const e=Aa(),t=await e.getCurrentWorkspace(),a=(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));return[{type:Ar.Label,label:Qa("contextMenu.saveWorkspace"),enabled:!!a,data:{type:v.SaveWorkspace}},{type:Ar.Label,label:Qa("saveMenu.saveWorkspaceAs"),data:{type:v.SaveWorkspaceAs}},{type:Ar.Separator,data:void 0},{type:Ar.Label,label:Qa("contextMenu.savePage"),data:{type:v.SavePage}},{type:Ar.Label,label:Qa("saveMenu.savePageAs"),data:{type:v.SavePageAs}}]})(),callback:ei};await this.openSaveButtonContextMenu(a,t)}const si="dock-companion-updates",ci=async()=>(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===de.DockCompanion)),li=ot(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`),di=async()=>{const e=Aa();let t=await async function(){const e=Array.from(Zo.values());for(let t=e.length-1;t>=0;t--){const a=fin.Window.wrapSync(e[t]);if(await a.isShowing())return e[t]}}();if(t){const a=e.Browser.wrapSync(t),n=(await a.getPages()).at(-1),o=Na(n.layout.content);if(1===o.length&&Te(o[0].url))await a.setActivePage(n.pageId);else{const e=await Zn(t),{newPageUrl:n}=await qn();await a._addDefaultPage({identity:a.identity,page:e,newPageUrl:n||void 0})}}else{const a=fin.Window.wrapSync({uuid:fin.me.uuid,name:de.DockCompanion}),n=await Pe(await a.getBounds()),o=await async function(e,t,a){const n=await fin.System.getMonitorInfo(),o=a?.availableRect??n.primaryMonitor.availableRect,r={width:o.right-o.left,height:o.bottom-o.top},i=Math.min(e,r.height),s=Math.min(t,r.width),c=o.top+Math.floor((r.height-i)/2);return{height:i,width:s,left:o.left+Math.floor((r.width-s)/2),top:c}}(600,900,n),r=await Zn();t=(await e.Browser.createWindow({defaultHeight:600,defaultWidth:900,defaultLeft:o.left,defaultTop:o.top,workspacePlatform:{pages:[r]}})).identity}(await qt(t)).dispatch(ea.FocusAndExpandSearchInternal)},ui="dock-provider-configs",pi=D&&A&&new sr.Dexie(cr("dock-provider-configs"));async function wi(e){if(!pi)throw new Error("Unable to get Dock provider config - IndexDB not supported");try{return await pi[ui].get(e)}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}async function hi(e){if(!pi)throw new Error("Unable to save Dock provider config - IndexDB not supported");await pi[ui].put(e,e.id)}pi&&pi.version(.1).stores({[ui]:""});const gi="workspaces",mi=D&&A&&dr("openfin-workspace-platform-workspaces",gi);async function ki(e){if(!mi)throw new Error("Unable to get workspace - IndexDB not supported");const t=await mi[gi].get(e);return t&&(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId),t}async function bi(e){if(!mi)throw new Error("Unable to get workspaces - IndexDB not supported");const t=await mi[gi].toCollection().keys(),a=(await Promise.all(t.map((e=>ki(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>ur(t.title,e))):a}async function yi({workspace:e}){if(!mi)throw new Error("Unable to create workspace - IndexDB not supported");const t=(await bi()).find((t=>t.title===e.title));if(t&&t.workspaceId!==e.workspaceId)throw new Error(`Workspace with title '${e.title}' already exists.`);await mi[gi].put(e,e.workspaceId)}async function fi(e){if(!mi)throw new Error("Unable to delete workspace - IndexDB not supported");await mi[gi].delete(e)}async function Si({workspaceId:e,workspace:t}){if(!mi)throw new Error("Unable to update workspace - IndexDB not supported");if(!await ki(e))throw new Error("workspace not found");await yi({workspace:t}),e!==t.workspaceId&&await fi(e)}const vi=e=>{const t=e.layout,a=t.content?Na(t.content):[],n=a.length;return n>1?{...e,singleViewName:null}:1===n?{...e,singleViewName:a[0].name}:void 0},Pi=async(e,t,a)=>{const n=await Aa().Browser.getAllAttachedPages(),o=new Set(n.map((e=>e.title)).filter((e=>!!e))),r=new Set(n.map((e=>e.pageId)).filter((e=>!!e))),i=t?.defaultPageOptions,s="enterprise"===a?.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType,c=await ee(),l=await(async(e,t,a)=>{if(a)return ne();const n=t?.workspacePlatform?.newTabUrl;if(n)return n;const o=e?.defaultWindowOptions?.workspacePlatform?.newTabUrl;return o||void 0})(t,a,s);return Promise.all(e.map((async e=>{if("reparent"===e.multiInstanceViewBehavior)return{...e,layoutContainerKey:Rt()};((e,t)=>{e.pageId||=Rt(),t.has(e.pageId)&&(console.warn("PageID collision detected. All Page IDs should be unique. A random new pageId will be generated"),e.pageId=Rt()),t.add(e.pageId)})(e,r),s?e.iconUrl=`${c}/enterprise/icons/enterprise-page.svg`:e.title=cn(e.title,Array.from(o.keys())),o.add(e.title),e.panels?.reduce(((e,t)=>{const a=Object.values(w);if(!a.includes(t.position))throw new Error(`Encountered a panel with unsupported position "${t.position}". Supported positions are: ${a.toString()}`);if(1==e[t.position])throw new Error(`Found more than 1 panel at position: ${t.position}. Only 1 panel at a given position is currently supported.`);return{...e,[t.position]:e[t.position]+1}}),{[w.Left]:0,[w.Right]:0,[w.Top]:0,[w.Bottom]:0});const a="panels"in e?e.panels:i?.panels;let n=(d=e.layout,u=t?.defaultViewOptions,Ra({...d},(e=>Ba(e,u))));var d,u;l&&!n?.settings?.newTabButton&&(n={...n,settings:{...n?.settings,newTabButton:{url:l}}});return{...i,...e,panels:a&&await tn(a),layoutContainerKey:Rt(),layout:n,isLayoutCreated:!1}})))};async function Ci(e){return e?"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==":(await Q()).displayViewTabDefaultIcon?"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==":"data:image/svg+xml,%3Csvg%20style%3D%22background-color%3A%237D808A%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%2010%2010%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M4.64648%200.874962C4.84174%200.6797%205.15833%200.6797%205.35359%200.874962L9.12482%204.6462C9.32009%204.84146%209.32009%205.15804%209.12482%205.3533L5.35359%209.12454C5.15833%209.3198%204.84174%209.3198%204.64648%209.12454L0.875245%205.3533C0.679982%205.15804%200.679982%204.84146%200.875245%204.6462L4.64648%200.874962ZM5.00003%201.93562L1.9359%204.99975L5.00003%208.06388L8.06416%204.99975L5.00003%201.93562Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E"}const Mi={dimensions:{borderWidth:3,headerHeight:30}},xi=(we.uuid,de.BrowserAddressSearchPrefix);async function Ii(e,t,a){let n=e;const o="enterprise"===n.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType;if(n.layout&&!n.workspacePlatform?.pages?.length){const e=await Mn(),a={...await Ot(e,n.layout),isActive:!0};n.workspacePlatform||={},n.workspacePlatform.pages=await Pi([a],t,n)}t?.browserIconSize&&(n.workspacePlatform||={},n.workspacePlatform.browserIconSize=t.browserIconSize);const r=a?.themes?.[0];if(n.workspacePlatform?.pages?.length){const e=await Pi(n.workspacePlatform.pages,t,n),i=e,s=(e=>{if(!e)return;let t=e.find((e=>e.isActive));return!t&&e.length>0&&(e[0].isActive=!0,t=e[0]),t})(i);if(i.forEach((e=>{e.pageId!==s?.pageId&&(e.isActive=!1)})),await an(i),n.workspacePlatform.pages=e,n=At({},await(async e=>({contextMenuOptions:{enabled:!1},experimental:{showFavicons:!0,defaultFaviconUrl:await Ci(e)},viewVisibility:{showViewsOnSplitterDrag:{enabled:!0},showViewsOnWindowResize:{enabled:!0}}}))(o),t?.defaultWindowOptions,n,await(async e=>({backgroundThrottling:!0,url:await oe(e,!0),contextMenu:!0,closeOnLastViewRemoved:!1,permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}}))(o)),s.layout=At(s.layout,Mi),async function(e){if(e.icon||e.taskbarIcon){const t=fin.Application.getCurrentSync(),a=await(await t.getWindow()).getOptions();e.taskbarIconGroup||=a.taskbarIconGroup||fin.me.identity.uuid}if(e.workspacePlatform.icon)if("object"==typeof e.workspacePlatform.icon){const t=window.matchMedia("(prefers-color-scheme: dark)");e.icon=t.matches?e.workspacePlatform.icon.dark:e.workspacePlatform.icon.light}else e.icon=e.workspacePlatform.icon}(n),!n.backgroundColor&&r)if("palette"in r)n.backgroundColor=r?.palette?.background2||r?.palette?.backgroundPrimary;else{const e=a.selectedScheme===m.Dark||a.selectedScheme===m.System&&window.matchMedia("(prefers-color-scheme: dark)")?r?.palettes.dark:r?.palettes.light;n.backgroundColor=e?.background2||e?.backgroundPrimary}n=Ce(n,!0);const c=await oe(o,!0);c&&(n.url=c),n.layout=s.layout,n.layoutSnapshot=((e,t)=>({layouts:e.reduce(((e,a)=>{if(!a.isActive){if(!t)return e;if(!vi(a).singleViewName)return e}return e[a.layoutContainerKey]=a.layout,e}),{}),pages:e}))(n.workspacePlatform.pages,o),n.workspacePlatform.windowType=n.workspacePlatform.windowType??P.Browser}if(n.cornerRounding&&delete n.cornerRounding,n.name||n.layoutSnapshot?n.contextMenuOptions?.template?.length>0?n.contextMenuOptions.template=n.contextMenuOptions.template.filter((e=>"print"!==e)):n.contextMenuOptions={template:[],enabled:!1}:n.name=`${de.ClassicWindow}-${Rt()}`,n.workspacePlatform&&a&&(n.workspacePlatform._themeData=a),o){const e=await ne();n.workspacePlatform.newPageUrl=e,n.workspacePlatform.newTabUrl=e,n.layout&&(n.layout.dimensions.borderWidth=4,n.layout.dimensions.headerHeight=28),n.name=n.name||`${de.BrowserWindow}-${Rt()}`;const t=xi+n.name,a=fin.Application.getCurrentSync();if(!(await a.getViews()).some((e=>e.identity.name===t))&&n.name.startsWith(de.BrowserWindow)){const e=await ae()+K.BrowserPopupMenuAddressSearchResultsView;(await fin.View.create({name:t,contextMenuOptions:{enabled:!0},url:e,target:fin.me.identity,bounds:{top:0,left:0,width:0,height:0}})).navigate(e)}}return n}const Ai=async(e,t)=>{const a={uuid:t.uuid,name:t.name};await ho(a,e.title??await Qr(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()},Wi=e=>{const t=e.name===de.Home,a=e.name?.startsWith(de.HomeInternal),n=e.name?.startsWith(de.BrowserMenu)||e.name?.startsWith(de.BrowserSaveMenu);return!t&&!a&&!n};const Di=e=>JSON.parse(JSON.stringify(e));async function Ti(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const Ri=e=>{const t=Di(e);return t._internalWorkspaceData?.browserNavigationButtons&&(t.workspacePlatform={...t.workspacePlatform,browserNavigationButtons:t._internalWorkspaceData.browserNavigationButtons},delete t._internalWorkspaceData.browserNavigationButtons),t},Bi=e=>{const t=Di(e);return t.workspacePlatform&&(t._internalWorkspaceData={...t._internalWorkspaceData,...t.workspacePlatform},delete t.workspacePlatform),t},Ei={reload:[{keys:"Ctrl+R",preventDefault:!0}],back:[{keys:"Alt+Left",preventDefault:!0}],forward:[{keys:"Alt+Right",preventDefault:!0}]},Fi={reload:[{keys:"Cmd+R",preventDefault:!0}],back:[{keys:"Cmd+[",preventDefault:!0},{keys:"Cmd+Left",preventDefault:!0}],forward:[{keys:"Cmd+]",preventDefault:!0},{keys:"Cmd+Right",preventDefault:!0}]},Vi=async()=>await xr()?Ei:Fi,Ni=(e,t)=>{const a=fin.View.wrapSync(e);if(!t)return;const n=e=>{(async(e,t,a)=>{if("keyDown"!==a.inputType)return;const n=await(async e=>{const t=await e.getCurrentWindow(),a=await t.getOptions(),n=a.workspacePlatform?.navigationButtons;return n.enabled&&!n.hotkeysDisabled})(e),o=await xr();if(n){if(t.reload){const n=a.ctrlKey&&!a.altKey&&!a.metaKey&&!a.shiftKey&&"r"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"r"===a.key;(o?n:r)&&t?.reload&&(e.reload(),Ke({type:"View",action:"Reload",value:e.identity.name}))}if(t.back){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"["===a.key;(o?n:r||i)&&t?.back&&(e.navigateBack(),Ke({type:"View",action:"Back",value:e.identity.name}))}if(t.forward){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"]"===a.key;(o?n:r||i)&&t?.forward&&(e.navigateForward(),Ke({type:"View",action:"Forward",value:e.identity.name}))}}})(a,t,e)};a.addListener("hotkey",n),a.once("destroyed",(()=>{a.removeListener("hotkey",n)}))},Li=(e,t)=>Di(e).map((e=>("componentState"in e?e.componentState=t(e.componentState):"content"in e&&(e.content=Li(e.content,t)),e))),_i=e=>{if(e){const t=Di(e);return t.content&&(t.content=Li(t.content,Ri)),t}return e},Oi=e=>{if(e){const t=Di(e);return t.content&&(t.content=Li(t.content,Bi)),t}return e};async function Ui({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case c.Snapshot:return a.applySnapshot(e.manifest);case c.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case c.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}let Gi;const Hi=()=>{if(!Gi){const e=ot(`${"undefined"!=typeof fin&&fin.me.identity.uuid}-enterprise-app-directory`);Gi=e()}return Gi};async function $i(e){if(!await Ae(e.identity))return[];return(await Hi()).dispatch(Qt.GetApps,e.req)}async function Ki(e){if(!await Ae(e.identity))return[];return(await Hi()).dispatch(Qt.GetSearchProviders,e)}async function zi(e){return(await Hi()).dispatch(Qt.GetCuratedContent,e)}async function Ji(e){return(await Hi()).dispatch(Qt.GetRecentlyVisited,e)}async function qi(e){const t=(await be()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await qt(e)).dispatch(ea.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():Lt()}let Zi=[];const ji=()=>Zi;async function Qi(e){const t=e=>{if(!e.includes("#")&&!e.includes("rgb")&&!e.includes("hsl"))throw new Error("Background primary color is not the right format.")};e.forEach((e=>{"palette"in e&&t(e.palette.backgroundPrimary),"palettes"in e&&(t(e.palettes.dark.backgroundPrimary),t(e.palettes.light.backgroundPrimary))})),(e=>{const t=e[0];if("palette"in t){const{palette:e}=t;wa.setPalettes({dark:e,light:e})}if("palettes"in t){const{dark:e,light:a}=t.palettes;wa.setPalettes({dark:e,light:a})}})(e),Zi=e}const Yi=(e,t)=>a=>{const n=null!==e;return class extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e,analytics:{isSupported:!0}}),this.detachPagesFromWindow=yn,this.getAllAttachedPages=ln,this.getPagesForWindow=Sn,this.getPageForWindow=vn,this.markUnsavedPagesAsSavedInternal=Rn,this.launchApp=Ui,this.savePage=mn,this.saveWorkspace=Co,this.createSavedPageInternal=wn,this.updateSavedPageInternal=gn,this.deleteSavedPageInternal=hn,this.reorderPagesForWindow=Pn,this.getUniquePageTitle=Mn,this.updatePageForWindow=bn,this.getLastFocusedBrowserWindow=jo,this.getThemes=ji,this.invokeCustomActionInternal=tr,this.requestQuitPlatformDialogInternal=Ai,this.getCurrentWorkspace=vo,this.setActiveWorkspace=fo,this.getLanguageResourcesInternal=Uo,this.getPageByViewIdentity=async e=>{const t=await fin.Platform.Layout.getLayoutByViewIdentity(e),a=t.identity;if(!("layoutName"in a))throw new Error("Failed to get layout's identity");const n=await Aa().Browser.wrapSync(t.identity).getPages(),o=n.findIndex((e=>e.layoutName===a.layoutName));if(-1===o)throw new Error("Failed to get page's index");return{windowIdentity:{name:t.identity.name,uuid:t.identity.uuid},page:n[o],pageIndex:o}},this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.getDockProviderConfig=this.getDockProviderConfig.bind(this),this.saveDockProviderConfig=this.saveDockProviderConfig.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.restoreLastSavedWorkspaceInternal=this.restoreLastSavedWorkspaceInternal.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this),this.getSelectedScheme=this.getSelectedScheme.bind(this),this.setSelectedScheme=this.setSelectedScheme.bind(this),this.analyticsInternal=this.analyticsInternal.bind(this),this.handleAnalytics=this.handleAnalytics.bind(this),this.getLanguage=this.getLanguage.bind(this),this.setLanguage=this.setLanguage.bind(this),this.handleSaveModalOnPageClose=this.handleSaveModalOnPageClose.bind(this),this.shouldPageClose=this.shouldPageClose.bind(this),this.shouldWindowClose=this.shouldWindowClose.bind(this),this.handlePagesAndWindowClose=this.handlePagesAndWindowClose.bind(this),this.setActivePage=this.setActivePage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.copyPage=this.copyPage.bind(this),this.addPage=this.addPage.bind(this),this.addDefaultPage=this.addDefaultPage.bind(this),this.markUnsavedPagesAsSavedInternal=this.markUnsavedPagesAsSavedInternal.bind(this),this.trackRemovedTabInternal=this.trackRemovedTabInternal.bind(this),this.restoreRemovedTabInternal=this.restoreRemovedTabInternal.bind(this),this.trackVisitedSiteInternal=this.trackVisitedSiteInternal.bind(this),this.getRecentlyVisitedSitesInternal=this.getRecentlyVisitedSitesInternal.bind(this),this.getFrequentlyVisitedSitesInternal=this.getFrequentlyVisitedSitesInternal.bind(this),this.searchSitesInternal=this.searchSitesInternal.bind(this),this.getSearchProvidersInternal=this.getSearchProvidersInternal.bind(this),this.getCuratedContentInternal=this.getCuratedContentInternal.bind(this),this.handleRequestNavigationInternal=this.handleRequestNavigationInternal.bind(this),this.refreshBookmarksInternal=this.refreshBookmarksInternal.bind(this),this.launchBookmarkInternal=this.launchBookmarkInternal.bind(this),this.getNotificationsConfig=this.getNotificationsConfig.bind(this),this.updateDockFavoritesInternal=this.updateDockFavoritesInternal.bind(this),this.updateContentMenuInternal=this.updateContentMenuInternal.bind(this),this.launchDockEntryInternal=this.launchDockEntryInternal.bind(this),this.setDockFavoritesOrderInternal=this.setDockFavoritesOrderInternal.bind(this),this.navigateContentMenuInternal=this.navigateContentMenuInternal.bind(this),this.setDefaultDockButtonsOrderInternal=this.setDefaultDockButtonsOrderInternal.bind(this),this.getDockWorkspacesContextMenuInternal=this.getDockWorkspacesContextMenuInternal.bind(this),this.handleDockWorkspacesMenuResponseInternal=this.handleDockWorkspacesMenuResponseInternal.bind(this),this.removeDockFavoriteInternal=this.removeDockFavoriteInternal.bind(this),this.addDockFavoriteInternal=this.addDockFavoriteInternal.bind(this),this.focusAndExpandSearchInternal=this.focusAndExpandSearchInternal.bind(this)}async applyWorkspace(...e){return bo.apply(this,e)}async restoreLastSavedWorkspaceInternal(...e){return yo.apply(this,e)}async getSnapshot(){const e=n?await qi((async()=>Lt(await super.getSnapshot(void 0,fin.me.identity)))):await Lt(await super.getSnapshot(void 0,fin.me.identity));let t={...e,windows:e.windows.filter(Wi).map(Nt)};return t=(e=>{const t=Di(e);return t.windows.forEach((e=>{e.layout&&(e.layout=_i(e.layout)),e.workspacePlatform?.pages?.forEach((e=>{e?.layout&&(e.layout=_i(e.layout))}))})),t})(t),t}async getViewSnapshot(e){let t=await super.getViewSnapshot(e);return t=Ri(t),t}async applySnapshot({snapshot:e,options:t}){let a=e;"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity));const o=function(e){for(const t of e.windows)if(t.workspacePlatform?.pages?.length)return!0;return!1}(a);if(!n&&o)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return a=(e=>{const t=Di(e);return t.windows.forEach((e=>{e.layout=Oi(e.layout),e.workspacePlatform?.pages?.forEach((e=>{e.layout=Oi(e.layout)}))})),t})(a),super.applySnapshot({snapshot:a,options:t})}async createWindow(t,a){if(n&&"tearout"===t.reason){const e=await fin.Window.wrapSync(a).getOptions(),n=e.workspacePlatform?.windowType;t.taskbarIconGroup=e.taskbarIconGroup,n&&(t.workspacePlatform||={},t.workspacePlatform.windowType=e.workspacePlatform.windowType,n===P.Platform&&(t.url=e.url))}if(!n||t.workspacePlatform?.windowType===P.Platform){const e=await super.createWindow(t,a);return Ke({type:"Window",action:"Open Window",value:e.identity.name,data:{uuid:e.identity.uuid}}),e}var o;o={allowed:!0},Ue||(Ue=!0,Oe(_e.Browser,o)),((e=[])=>{const t=e.filter((e=>e.type!==S.Custom)),a=new Set,n=[];for(const e of t)a.has(e.type)&&n.push(e.type),a.add(e.type);if(n.length>0){const e=n.join(", ");throw new Error(`Encountered a duplicate "${e}" toolbar button. No more than one instance of a button type may be provided.`)}})(t.workspacePlatform?.toolbarOptions?.buttons);let r=(e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e))(t);e?.defaultWindowOptions?.hotkeys&&(r.hotkeys=e.defaultWindowOptions.hotkeys),r=await Ii(r,e,{themes:ji(),selectedScheme:this.getSelectedScheme()}),r=await(async e=>{const t=await fin.System.getMonitorInfo();let a=t.primaryMonitor;const n=e.defaultLeft,o=e.defaultTop;t.nonPrimaryMonitors.forEach((e=>{const{top:t,bottom:r,left:i,right:s}=e.availableRect;n>=i&&n<=s&&o>=t&&o<=r&&(a=e)}));const r=a.availableRect.bottom-a.availableRect.top,i=a.availableRect.right-a.availableRect.left;return e.defaultHeight=Math.min(e.defaultHeight||800,r),e.defaultWidth=Math.min(e.defaultWidth||800,i),e})(r);const i=await(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener("show-requested",(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(((e,t)=>super.createWindow(e,t)))(r,a);return Ke({type:"Window",action:"Open Window",value:i.identity.name,data:{uuid:i.identity.uuid}}),i}async createView(t,a){t.opts=Da(t.opts,e?.defaultViewOptions),e?.defaultViewOptions?.hotkeys&&(t.opts.hotkeys=e.defaultViewOptions.hotkeys),t.opts=await Ti(t.opts,this.fetchManifest,a),t.opts=await(async e=>{const t=Di(e),a=t.workspacePlatform?.browserNavigationButtons;if(a){const e=Object.keys(a);for(const n of e)if(a[n]){const e=(await Vi())[n];t.hotkeys?t.hotkeys.push(...e):t.hotkeys=[...e]}}return t})(t.opts),t.opts=Bi(t.opts);const n=await super.createView(t,a);return Ni(n.identity,t.opts._internalWorkspaceData?.browserNavigationButtons),n}async replaceView(t,a){return t.opts.newView=await Da(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await Ti(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return await Ae(t)||delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async getSavedPage(...e){return kr.apply(this,e)}async getSavedPages(...e){return br.apply(this,e)}async createSavedPage(...e){return yr.apply(this,e)}async deleteSavedPage(...e){return fr.apply(this,e)}async updateSavedPage(...e){return Sr.apply(this,e)}async getSavedWorkspace(...e){return ki.apply(this,e)}async getSavedWorkspaces(...e){return bi.apply(this,e)}async createSavedWorkspace(...e){return yi.apply(this,e)}async deleteSavedWorkspace(...e){return fi.apply(this,e)}async updateSavedWorkspace(...e){return Si.apply(this,e)}async getDockProviderConfig(...e){return wi.apply(this,e)}async saveDockProviderConfig(...e){return hi.apply(this,e)}async attachPagesToWindow(t){const a=await Pi(t.pages,e);await an(a),await kn({...t,pages:a})}async addPage(e){const t=await Ae(e.identity),a=await wt(e.identity),{page:n,insertionIndex:o}=e;n?.title||(n.title=await a.dispatch(lt.GetUniquePageTitle,void 0));const r=(await this.getAllAttachedPages()).find((e=>e.pageId===n.pageId||e.title===n.title));if(r){if(r.pageId===n.pageId)throw new Error(`page with id ${n.pageId} is already attached to a browser window ${r.parentIdentity.name}`);if(!t)throw new Error(`addPage title collision, page with title ${n.title} already exists, conflicting page id: ${r.pageId} with title ${r.title}`)}const i={identity:e.identity,pages:[{...n,multiInstanceViewBehavior:e.multiInstanceViewBehavior||"duplicate"}],insertionIndex:o};await this.attachPagesToWindow(i)}async addDefaultPage(e){await this.addPage(e),await this.setActivePage({identity:e.identity,pageId:e.page.pageId})}async setActivePage(...e){return fn.apply(this,e)}async openGlobalContextMenuInternal(...e){return ni.apply(this,e)}async openGlobalContextMenu(...e){return ai.apply(this,[...e,ir.GlobalMenu,ti.BottomRight])}async openViewTabContextMenuInternal(...e){return oi.apply(this,e)}async openViewTabContextMenu(...e){return ai.apply(this,[...e,ir.ContextMenu])}async openPageTabContextMenuInternal(...e){return ri.apply(this,e)}async openPageTabContextMenu(...e){return ai.apply(this,[...e,ir.ContextMenu])}async openSaveButtonContextMenu(...e){return ai.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return ii.apply(this,e)}getSelectedScheme(...e){return xa.apply(this,e)}async setSelectedScheme(...e){return Ma.apply(this,e)}async handlePageChanges(...e){return Tn.apply(this,e)}async analyticsInternal(...e){return Gn.apply(this,e)}async handleAnalytics(...e){}async handleSaveModalOnPageClose(...e){return xn.apply(this,e)}async shouldPageClose(...e){return In.apply(this,e)}async shouldWindowClose(...e){return An.apply(this,e)}handlePagesAndWindowClose(...e){return Wn.apply(this,e)}async copyPage(...e){return Dn.apply(this,e)}async getNotificationsConfig(){return t}async setLanguage(...e){return Oo.apply(this,e)}async getLanguage(){return _o.apply(this)}async trackRemovedTabInternal(...e){return vr.apply(this,e)}async restoreRemovedTabInternal(){const e=await(async()=>{if(!mr)throw new Error("Unable to pop last removed tab - IndexDB not supported");const e=mr[wr],t=await e.toCollection().keys();if(t.length>0){const a=Math.max(...t.map((e=>Number(e)))).toString(),n=await e.get(a);if(n){await e.delete(a);const{id:t,...o}=n;return o}}})();if("page"in e)if(await fe(e.identity)){const t=Aa().Browser.wrapSync(e.identity);await t.addPage(e.page),await t.setActivePage(e.page.pageId)}else Aa().createWindow({name:e.identity.name,workspacePlatform:{pages:[e.page],windowType:P.Browser}});else(function(e){return"window"in e})(e)&&Aa().createWindow({workspacePlatform:{pages:e.window.pages,windowType:P.Browser}})}async trackVisitedSiteInternal(...e){return Cr.apply(this,e)}async getRecentlyVisitedSitesInternal(...e){return await Ji.apply(this,e)}async getFrequentlyVisitedSitesInternal(...e){return Mr.apply(this,e)}async searchSitesInternal(...e){return await $i.apply(this,e)}async getSearchProvidersInternal(...e){return await Ki.apply(this,e)}async getCuratedContentInternal(...e){return await zi.apply(this,e)}async handleRequestNavigationInternal(...e){}async refreshBookmarksInternal(){(await Aa().Browser.getAllWindows()).forEach((async({identity:e})=>{(await qt(e)).dispatch(ea.RefreshBookmarksInternal)}));(await Jt(nr())).dispatch(ea.RefreshBookmarksInternal),await(async()=>{const e=await ci();if(e){const t=await qt(e.identity,si);await t.dispatch(ea.RefreshBookmarksInternal)}})()}async launchBookmarkInternal(e){return Ir(e)}async updateDockFavoritesInternal(e){return(async e=>{const t=await ci();if(!t)throw new Error("Companion Dock window not found");{const a=await qt(t.identity,si);await a.dispatch(Xt.UpdateFavoriteEntries,e)}})(e)}async updateContentMenuInternal(e){return(async e=>{const t=await ci();if(!t)throw new Error("Companion Dock window not found");{const a=await qt(t.identity,si);await a.dispatch(Xt.UpdateContentMenu,e)}})(e)}async launchDockEntryInternal(e){return(async e=>(await li()).dispatch("launch-entry",e))(e)}async setDefaultDockButtonsOrderInternal(e){return(async e=>(await li()).dispatch("set-default-dock-buttons-order",e))(e)}async setDockFavoritesOrderInternal(e){return(async e=>(await li()).dispatch("set-dock-favorites-order",e))(e)}async addDockFavoriteInternal(e){return(async e=>(await li()).dispatch("add-favorite-entry",e))(e)}async removeDockFavoriteInternal(e){return(async e=>(await li()).dispatch("remove-favorite-entry",e))(e)}async navigateContentMenuInternal(e){return(async e=>{const t=await ci();if(!t)throw new Error("Companion Dock window not found");{const a=await qt(t.identity,si);await a.dispatch(Xt.NavigateContentMenu,e)}})(e)}async getDockWorkspacesContextMenuInternal(){return(async()=>(await li()).dispatch("get-dock-workspaces-context-menu",void 0))()}async handleDockWorkspacesMenuResponseInternal(e){return(async e=>(await li()).dispatch("handle-dock-workspaces-menu-response",e))(e)}async focusAndExpandSearchInternal(){return di()}}};function Xi(e,t,a){const n=Yi(e,a);try{return"function"==typeof t?e=>t(n(e)):Array.isArray(t)?[...t,n]:e=>new(n(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}}async function es(){(async()=>{le().on("window-closed",Xo)})(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",Qo),await e.addListener("window-closed",Yo)}();fo(await So())}let ts;async function as(e,t){if(!await fe({uuid:we.uuid,name:de.DockCompanion})){const a=await Ve(we);await t.createWindow(Ce({name:de.DockCompanion,url:await ae()+K.EnterpriseDock,autoShow:!0,frame:!1,smallWindow:!0,saveWindowState:!1,defaultHeight:Me,defaultWidth:xe,includeInSnapshots:!1,defaultTop:e.dockPosition?.top??Ie,defaultLeft:e.dockPosition?.left??a.left-xe/2,workspacePlatform:{windowType:"enterprise",...e},throttling:"disabled",resizable:!1,maximizable:!1,backgroundColor:await Ct("background1")}))}}function ns({overrideCallback:e,interopOverride:t,browser:a,notifications:n,analytics:o,integrations:r=[],workspaceAsar:i}){if(!A)throw new Error("Cannot be used outside an OpenFin env.");return ts||(ts=(async()=>{const s=fin.Platform.getCurrentSync();var c,l;if(s.once("platform-api-ready",(()=>es())),s.on("window-show-all-downloads",(({name:e,uuid:t})=>{Eo({name:e,uuid:t})})),a?.title&&(c=a.title,jr=c),Hn(o),i){const e=`workspace-${encodeURIComponent(fin.me.uuid)}`,{baseUrl:t}=await fin.System.serveAsset({...i,hostName:e});Y(t)}if(a?.browserBaseUrl&&Y(a.browserBaseUrl),We(a)){en=!0;const e=ha();e.setWorkspaceStorageProxy(await(async e=>{const t=`storage-proxy-window-${crypto.randomUUID()}`,[a,n]=await Promise.all([fin.InterApplicationBus.Channel.connect(`channel-${t}`,{wait:!0}),fin.Window.create({autoShow:!1,includeInSnapshots:!1,name:t,url:e})]);return{setItem:(e,t)=>a.dispatch("setItem",{key:e,value:t}),destroy:()=>n.close()}})(`${await ee()}${K.EnterpriseStorageProxy}`)),await e.trySynchronizeWorkspaceStorage()}return await fin.Platform.init({overrideCallback:Xi(a,e||a?.overrideCallback,n),interopOverride:qo(t||a?.interopOverride,a)}),l={allowed:!0},Oe(_e.Platform,l),await Promise.all(r.map((async e=>{((e,t)=>{Oe(`${_e.Microflow}:${e}`,t,"integration-feature")})(e.workflowIntegrationName,{allowed:!0,apiVersion:_}),await e._initializeWorkflows()}))),s})()),ts}const os=async({theme:e,customActions:t,language:a,...n})=>{const o=_.split(".").map((e=>parseInt(e))),r=await(async e=>{if((await Q()).disableRuntimeValidation)return!0;if(await Ae())return!0;const t=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));return e.every(((a,n)=>!(n<3)||t[n]===e[n]))})(o);if(!r)throw new Error(`Runtime version is not supported.  ${o[0]}.${o[1]}.${o[2]}.* is required`);var i;return e&&(Qi(e),i={allowed:!0},Oe(_e.Theming,i)),t&&(er=t),await Go(a?.initialLanguage),ns(n)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const r=n(a(6535));t.lightenColor=(e,t)=>o(e,"lighten",t),t.darkenColor=(e,t)=>o(e,"darken",t);const o=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,r.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>r.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),r=a(2346),o=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,r.darkenColor)(t,2),[`${e}Hover`]:(0,r.lightenColor)(t,5),[`${e}Focused`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},e),s(o.Palette.brandPrimary,e.brandPrimary)),s(o.Palette.brandSecondary,e.brandSecondary))})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(r,o){if(o=o||{},(r=r||"")instanceof n)return r;if(!(this instanceof n))return new n(r,o);var i=function(n){var r,o,i,s={r:0,g:0,b:0},c=1,d=null,l=null,u=null,p=!1,h=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,r=!1;if(k[e])e=k[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=O.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=O.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=O.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=O.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=O.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=O.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=O.hex8.exec(e))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),a:F(n[4]),format:r?"name":"hex8"}:(n=O.hex6.exec(e))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),format:r?"name":"hex"}:(n=O.hex4.exec(e))?{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),a:F(n[4]+""+n[4]),format:r?"name":"hex8"}:!!(n=O.hex3.exec(e))&&{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),format:r?"name":"hex"}}(n)),"object"==e(n)&&(D(n.r)&&D(n.g)&&D(n.b)?(r=n.r,o=n.g,i=n.b,s={r:255*P(r,255),g:255*P(o,255),b:255*P(i,255)},p=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):D(n.h)&&D(n.s)&&D(n.v)?(d=M(n.s),l=M(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),r=e-n,o=a*(1-t),i=a*(1-r*t),s=a*(1-(1-r)*t),c=n%6;return{r:255*[a,i,o,o,s,a][c],g:255*[s,a,a,i,o,o][c],b:255*[o,o,s,a,a,i][c]}}(n.h,d,l),p=!0,h="hsv"):D(n.h)&&D(n.s)&&D(n.l)&&(d=M(n.s),u=M(n.l),s=function(e,t,a){var n,r,o;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=r=o=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),r=i(c,s,e),o=i(c,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(n.h,d,u),p=!0,h="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=S(c),{ok:p,format:n.format||h,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(r);this._originalInput=r,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=o.format||i.format,this._gradientType=o.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=(o+i)/2;if(o==i)n=r=0;else{var c=o-i;switch(r=s>.5?c/(2-o-i):c/(o+i),o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,l:s}}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=o,c=o-i;if(r=0===o?0:c/o,o==i)n=0;else{switch(o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,v:s}}function i(e,t,a,n){var r=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(e,t,a,n){return[A(I(n)),A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function d(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function l(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function h(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function f(e,t){var a=n(e).toHsl(),r=(a.h+t)%360;return a.h=r<0?360+r:r,n(a)}function g(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),r=[n(e)],o=360/t,i=1;i<t;i++)r.push(n({h:(a.h+i*o)%360,s:a.s,l:a.l}));return r}function w(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function y(e,t,a){t=t||6,a=a||30;var r=n(e).toHsl(),o=360/a,i=[n(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(n(r));return i}function v(e,t){t=t||6;for(var a=n(e).toHsv(),r=a.h,o=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:r,s:o,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=S(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,r){var o=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16)),A(I(n))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(b[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=n(e);a="#"+s(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]="a"===o?t[o]:M(t[o]));t=r}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var r=n(e).toRgb(),o=n(t).toRgb(),i=a/100;return n({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},n.readability=function(e,t){var a=n(e),r=n(t);return(Math.max(a.getLuminance(),r.getLuminance())+.05)/(Math.min(a.getLuminance(),r.getLuminance())+.05)},n.isReadable=function(e,t,a){var r,o,i,s,c,d=n.readability(e,t);switch(o=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),r={level:s,size:c}).level+r.size){case"AAsmall":case"AAAlarge":o=d>=4.5;break;case"AAlarge":o=d>=3;break;case"AAAsmall":o=d>=7}return o},n.mostReadable=function(e,t,a){var r,o,i,s,c=null,d=0;o=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var l=0;l<t.length;l++)(r=n.readability(e,t[l]))>d&&(d=r,c=n(t[l]));return n.isReadable(e,c,{level:i,size:s})||!o?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var k=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},b=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(k);function S(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function x(e){return parseInt(e,16)}function A(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function F(e){return x(e)/255}var W,T,_,O=(T="[\\s|\\(]+("+(W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",_="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+_),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+_),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function D(e){return!!O.CSS_UNIT.exec(e)}return n}()}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e].call(o.exports,o,o.exports,r),o.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=r(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=r(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=r(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{},978:(e,t,a)=>{"use strict";a.d(t,{Nt:()=>j});var n={};a.r(n),a.d(n,{getItem:()=>G,removeItem:()=>U,setItem:()=>$});var r=a(675),o=a(723);a(181);var i=a(70);const s=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType};const c=(e,t=0)=>{let a,n,r=!1;const o=async n=>{const i=await e(...n);if(r){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,r=!1,o(e)}return i};return(...e)=>(n?(r=!0,a=e):n=o(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var d;!function(e){e.Top="top",e.Below="below"}(d||(d={}));const l=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function u(e,t,a,n,r,o){const s=!!e&&(0,i.Iq)(e),c=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(s,o);if(n===d.Below){if(!s||await l(s)){const e=s?(await(0,i.ur)(c)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,i.V1)(e).left-t/2,top:r?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:(0,i.V1)(c).left-t/2,top:r?c.bottom-128:c.bottom+12,width:t,height:a}}if(!s||await l(s)){const e=s?(await(0,i.ur)(c)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,i.V1)(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:(0,i.V1)(c).left-t/2,top:c.top+20,width:t,height:a}}c((async function(e,t,a,n,r){const o=t.getBoundingClientRect(),s=await u(e,o.width,o.height,a,n,r);if(0===s.width||0===s.height)return;const c=(0,i.Tv)();await c.setBounds(s),await c.show();const d=setTimeout((()=>c.close()),n?5e3:3e3),l=()=>{clearTimeout(d),c.close()};if(e){const t=(0,i.Iq)(e);t.on("bounds-changing",(()=>l())),t.on("blurred",(()=>l())),t.on("maximized",(()=>l())),t.on("minimized",(()=>l())),t.on("restored",(()=>l()))}}),10);a(277),a(957);var p=a(438);const h=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var f,g=a.n(h);!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(f||(f={}));const m=f;function w(){return localStorage.getItem(m.MachineName)??"unknown"}let y;async function v(){return y||(y=await fin.System.getMachineId()),y}var k=a(333);const b=async e=>({...e,layoutDetails:{machineId:await v(),machineName:w()}}),S=async e=>{const t=await(async(e,t)=>({pageId:(0,k.N)(),title:e,layout:await b(t),isReadOnly:!1}))(e.title,Q(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:K(e.viewOptions)})))),{...e,...t}};var P=a(79),C=a(786);var x=a(102);const A=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,M=new Map,I=(e,t)=>{const a=A(e,t);return n=a,M.has(n)||M.set(n,(0,x.A)(n)),M.get(n)();// removed by dead control flow
{ var n; }};var F,W,T,_,O;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(F||(F={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(W||(W={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(T||(T={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(_||(_={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(O||(O={}));const D={...F,...W,...O},E=(0,x.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),R=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await E()).dispatch(_.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await E()).dispatch(_.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await E()).dispatch(_.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await E()).dispatch(_.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await E()).dispatch(_.DeleteBookmarkNode,e))(e)},getPages:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetPagesForWindow,e),getPage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>j().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await(0,P.bW)(e),r={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(P.OF.AddPage,r)},removePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>j().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await(0,P.bW)(e),r=(await n.dispatch(P.OF.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!r)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);r.multiInstanceViewBehavior="reparent";const o={identity:e,pages:[r],insertionIndex:t.index};return n.dispatch(P.OF.AttachPagesToWindow,o)},setActivePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await(0,P.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await(0,P.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await(0,P.bW)(e);return(await I(e)).dispatch(D.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await I(e)).dispatch(D.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.AddDefaultPage,t)},_trackRemovedTab:async t=>(await(0,P.bW)(e)).dispatch(P.OF.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await(0,P.bW)(e)).dispatch(P.OF.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await(0,P.bW)(e)).dispatch(P.OF.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await(0,P.bW)(e)).dispatch(P.OF.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await(0,P.bW)(e)).dispatch(P.OF.HandleRequestNavigationInternal,t)}),B=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>R(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${(0,k.N)()}`;return C.A.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{C.A.markAndMeasure("browser-window-shown",e)}))})(n),await(0,P.bW)(e);const r=await t.createWindow(a);return(e=>{C.A.markAndMeasure("browser-window-started",e)})(n),R(r.identity)},getAllAttachedPages:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetAllAttachedPages,void 0),getAllWindows:async()=>{await(0,P.bW)(e);return(await(0,i.Io)()).map((e=>R(e.identity)))},getUniquePageTitle:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetPageByViewIdentity,t)}},N=e=>({createPage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.CreateSavedPageInternal,t),deletePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.DeleteSavedPageInternal,t),updatePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.UpdateSavedPageInternal,t),getPage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetSavedPage,t),getPages:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetSavedPages,t),savePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.SavePage,t),createWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=j(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await(0,P.N)(e)).dispatch(P.OF.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.UpdateSavedWorkspace,t),getWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.GetSavedWorkspace,t),getWorkspaces:async t=>(await(0,P.N)(e)).dispatch(P.OF.GetSavedWorkspaces,t),saveWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.SaveWorkspace,t),getDockProviderConfig:async t=>(await(0,P.N)(e)).dispatch(P.OF.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await(0,P.N)(e)).dispatch(P.OF.SaveDockProviderConfig,t)});var L;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(L||(L={}));(0,x.A)("of-workspace-notifications-sync");a(695);const $=(e,t)=>{localStorage.setItem(`${o.$h}-${e}`,t)},G=e=>localStorage.getItem(`${o.$h}-${e}`),U=e=>localStorage.removeItem(`${o.$h}-${e}`),V=r.qT.System,z=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),H=(e,t)=>({selectedTab:"dark"===t?e.background3:e.background1});new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorageProxy=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=async()=>{if(this.workspaceStorage){const e=this.getScheme();if(await this.workspaceStorage.setItem(m.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)await this.workspaceStorage.setItem(m.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;await this.workspaceStorage.setItem(m.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t})=>{this.lightPaletteVars=z({...e,...H(e,"light")}),this.darkPaletteVars=z({...t,...H(t,"dark")})}}setScheme(e){this.providerStorage.setItem(m.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(m.SelectedColorScheme)&&this.providerStorage.setItem(m.SelectedColorScheme,V),this.providerStorage.getItem(m.SelectedColorScheme)}}(n);const q=e=>({getThemes:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetThemes,void 0),setSelectedScheme:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetSelectedScheme,t),getSelectedScheme:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetSelectedScheme,void 0)}),j=()=>(e=>{const t=fin.Platform.wrapSync(e);let a;const n=Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>(console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:o.$h,name:o.vL,entityType:o.fT||"unknown"}),(await(0,P.N)(e)).dispatch(P.OF.LaunchApp,t)),_invokeCustomAction:async(t,a)=>{const n=await(0,P.N)(e),o={actionId:t,payload:{...a,callerType:a.callerType||r.vc.API}};return n.dispatch(P.OF.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await(0,P.N)(e)).dispatch(P.OF.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetCurrentWorkspace,void 0),applyWorkspace:async(t,a)=>(await(0,P.N)(e)).dispatch(P.OF.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetActiveWorkspace,t),getLanguage:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetLanguage),_getLanguageResources:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetLanguageResourcesInternal),setLanguage:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await(0,P.KZ)(e)),"object"==typeof a&&a?.analytics?.isSupported)return(await(0,P.N)(e)).dispatch(P.OF.Analytics,t);e.uuid},getNotificationsConfig:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await(0,P.N)(e)).dispatch(P.OF.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await(0,P.N)(e)).dispatch(P.OF.FocusAndExpandSearchInternal),Theme:q(e),Browser:B(e),Storage:N(e)});return n})(fin.me.identity);const X=(e,t)=>e.content?{...e,content:e.content.map((e=>X(e,t)))}:{...e,componentState:t(e.componentState)},K=e=>({...e,name:void 0}),Q=e=>{const t={...e};return X(t,K)},Z=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=Z(e.content);t.push(...a)})),t};new Map,new Map;const Y=async(e,t)=>{const a=(e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:r}=a,o=await s(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...r,headerHeight:o?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:r}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...r,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}})({...i.$p,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})},J=(g()((async e=>{try{const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?Z(t.content):[],n=a.length;n>1?(e=>{"multiView"!==e.attachedPageType&&j().Browser.wrapSync(i.$p).updatePage({pageId:e.pageId,page:{singleViewName:null,attachedPageType:"multiView"}})})(e):1===n&&(async(e,t)=>{const a=j().Browser.wrapSync(i.$p);if("singleView"!==e.attachedPageType){const n=await S(e),r=await j().Browser.getUniquePageTitle();delete n.layout;const o={...n,singleViewName:t,title:r,hasUnsavedChanges:!1,attachedPageType:"singleView"};await a.updatePage({pageId:e.pageId,page:o})}})(e,a[0].name),await Y(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js"),__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js"));a.n(J)().t;new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};new Map;const ee=((e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a})({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});!function(e=ee){const t=new Map}();a(523);function te(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function ae(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function ne(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),r=(...e)=>{a(...e),n.delete(r)};n.add(r)}}function re(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}i.Q.BrowserMenu;(function(e){const t=new Map;te(t,(t=>o.cI&&fin.InterApplicationBus.publish(e,t))),ae(t,(t=>o.cI&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),re(t),ne(t)})("window.menu"),c((()=>(0,p.v1)().getChildWindows()),500);new Map;new Map;g()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===i.Q.BrowserMenu||n.identity.name===i.Q.BrowserSaveMenu?t=n:await(0,i.hb)(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});var oe,ie;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(oe||(oe={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu"}(ie||(ie={}));const se=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),ce=e=>e+"-"+fin.me.uuid,de=(e,t)=>{const a=o.AT&&o.cI&&new se.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},le=(e,t)=>{const a=de(ce(e),t),n=de(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=G(m.HasMovedStore),r=n?JSON.parse(n):{};if(r&&r[a])return;r[a]=!0,$(m.HasMovedStore,JSON.stringify(r));const o=await e[a].toArray();await t[a].bulkPut(o)})(n,a,e),a},ue="visited-sites",pe="removed-tab-stack",he=(o.AT&&o.cI&&le("openfin-home-pages","pages"),o.AT&&o.cI&&new se.Dexie(ce("openfin-enterprise-site-history")));he&&he.version(.1).stores({[ue]:"id, url"});const fe=o.AT&&o.cI&&new se.Dexie(ce("openfin-enterprise-tab-history"));fe&&fe.version(.1).stores({[pe]:""});var ge;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(ge||(ge={}));ge.Separator;var me;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(me||(me={}));(0,x.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`);const we="dock-provider-configs",ye=o.AT&&o.cI&&new se.Dexie(ce("dock-provider-configs"));ye&&ye.version(.1).stores({[we]:""});const ve="workspaces";o.AT&&o.cI&&le("openfin-workspace-platform-workspaces",ve);a(250);i.$p.uuid,i.Q.BrowserAddressSearchPrefix;a(179)},675:(e,t,a)=>{"use strict";a.d(t,{qT:()=>o,vc:()=>h});var n,r,o,i,s,c,d,l,u,p,h;a(179),a(250);!function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(n||(n={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(r||(r={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(o||(o={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(i||(i={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.Print="Print",e.Pin="Pin"}(s||(s={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(c||(c={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(d||(d={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(l||(l={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(u||(u={})),function(e){e.Browser="browser",e.Platform="platform"}(p||(p={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={}));var f;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(f||(f={}))},248:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});var n=a(438),r=a(786);const o=(e,t)=>{r.A.markStart(`${e}-registration`),(0,n.BY)().once("started",(()=>r.A.markAndMeasure("workspace-app-started",`${e}-registration`)));const a=fin.Window.wrapSync(t);a.once("initialized",(()=>r.A.markAndMeasure(`${e}-window-initialized`,`${e}-registration`))),a.once("shown",(()=>{r.A.markAndMeasure(`${e}-show`,`${e}-registration`)}))}},834:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLIAction:()=>A.PK,CLIFilterOptionType:()=>A.oo,CLITemplate:()=>A.fC,deregister:()=>F,hide:()=>T,register:()=>I,show:()=>W});var n=a(723),r=a(786),o=a(277),i=a(70);const s="0",c="2",d="3",l="5",u="6";var p=a(695),h=a(79),f=a(575);var g=a(905);const m=()=>{};function w(e){const t={};let a=[];let n=[];let r=null;let o=g.Zo.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>a,t.setResultBuffer=e=>{a=e,a?.length&&t.onChange()},t.getRevokedBuffer=()=>n,t.setRevokedBuffer=e=>{n=e,n?.length&&t.onChange()},t.setUpdatedContext=e=>{r=e,null!==r&&t.onChange()},t.getUpdatedContext=()=>r,t.onChange=m;const i={};return t.res=i,i.close=()=>{o!==g.Zo.Close&&(o=g.Zo.Close,t.onChange())},i.open=()=>{o!==g.Zo.Open&&(o=g.Zo.Open,t.onChange())},i.respond=a=>{const n=function(e=[],t=[],a="ascending"){const n=[],r=new Map;t.forEach((e=>{if(e.key)return r.set(e.key,e);n.push(e)}));let o=e.map((e=>{if(e.key){const t=r.get(e.key);if(t)return r.delete(e.key),t}return e}));return o.push(...r.values(),...n),o="ascending"===a?o.sort(((e,t)=>(e?.score??1/0)-(t?.score??1/0))):o.sort(((e,t)=>(t?.score??1/0)-(e?.score??1/0))),o}(t.getResultBuffer(),a,e);t.setResultBuffer(n)},i.revoke=(...e)=>{const a=new Set(e),n=t.getResultBuffer().filter((({key:e})=>{const t=a.has(e);return t&&a.delete(e),!t}));t.setResultBuffer(n),a.size&&(t.getRevokedBuffer().forEach((e=>a.add(e))),t.setRevokedBuffer([...a]))},i.updateContext=e=>{t.setUpdatedContext(e)},t}const y=new Map;async function v(e){const{id:t,providerId:a}=e,n=P.getProviderOrFail(a);let r=y.get(t);r||(r=function(e,t){const a=new Set;let n=!1;return{close:()=>{n=!0;for(const e of a)e()},req:{id:e,...t,context:t?.context||{},onClose:e=>{a.add(e),n&&e()},removeListener:e=>{a.delete(e)}}}}(t,e),y.set(t,r));const o=w(),i=()=>{const e=o.getResultBuffer();o.setResultBuffer([]);const n=o.getRevokedBuffer();o.setRevokedBuffer([]);const r=o.getUpdatedContext();o.setUpdatedContext(null);const i=o.getStatus();!async function(e){(await(0,p.gj)()).dispatch(s,e)}({id:t,providerId:a,results:e,revoked:n,status:i,context:r})};let c=!0,d=!1;o.onChange=()=>{if(c)return c=!1,void i();d||(d=!0,setTimeout((()=>{d=!1,i()}),100))};try{const{results:e,context:i}=await n.onUserInput(r.req,o.res),s=o.getStatus();return{id:t,providerId:a,status:s,results:e,context:i}}catch(e){return console.error(`OpenFin/Workspace/Home. Uncaught exception in search provider ${a} for search ${t}`,"This is likely a bug in the implementation of the search provider.",e),{id:t,providerId:a,error:e?.message}}}async function k(){for(const{req:e,close:t}of y.values())t(),y.delete(e.id)}async function b(e,t){const a=P.getProviderOrFail(e.providerId);return e.result.dispatcherIdentity=t,a.onResultDispatch?.(e.result)}function S(e){const t=y.get(e.id);t?.close(),y.delete(e.id)}const P=new f.xM("home"),C=async e=>{await(0,p.nA)();!("skipPlatformInitCheck"in e&&!0===e.skipPlatformInitCheck)&&await(0,h.KZ)(fin.me.identity);P.assertNotAlreadyRegistered(e.id),P.setProvider(e);const t=await(0,p.gj)();return function(e){e.homeChannelActionsRegistered||(e.homeChannelActionsRegistered=!0,e.register(s,v),e.register(u,S),e.register(l,b),e.addDisconnectionListener(k))}(t),t.dispatch(c,{id:e.id,title:e.title,icon:e.icon,clientAPIVersion:n.et,identity:fin.me.identity,scoreOrder:e.scoreOrder,commandCode:e.commandCode,description:e.description,hidden:e.hidden,listTitle:e.listTitle,inputPlaceholder:e.inputPlaceholder,logoUrl:e.logoUrl,dispatchFocusEvents:e.dispatchFocusEvents})};var x=a(248),A=a(872);let M;const I=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);(0,x.H)("home",i.F2);const t=await C(e);return M=new Promise(((a,i)=>{try{(0,o.GR)({allowed:!0,componentVersion:t?.workspaceVersion}),n.et,a({...t,clientAPIVersion:n.et,setSearchQuery:async t=>(await(0,p.N7)()).dispatch("set-search-query",{query:t,providerID:e.id})})}catch(e){(0,o.GR)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),i(e)}finally{r.A.markEndAndMeasure("home-registration")}})),M},F=async e=>{P.deleteProvider(e);const t=await(0,p.gj)();await t.dispatch(d,e)};async function W(){r.A.markStart("home-show"),await M;const e=await(0,p.N7)();await e.dispatch("show-home",void 0)}async function T(){await M;const e=await(0,p.N7)();await e.dispatch("hide-home",void 0)}},575:(e,t,a)=>{"use strict";a.d(t,{xM:()=>s});const n=__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js");class r extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`${a} Provider. ${a} Provider${t?` with id ${t}`:""} is not currently registered.`)}}class o extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`${a} Provider. ${a} Provider${t?` with id ${t}`:""} is already registered. Call \`deregister\` before registering again.`)}}class i extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`Failed to get ${a} Provider. ${a} Provider with id ${t} is not currently registered.`)}}class s{constructor(e){this.providersMap=new Map,this.providerType=e}assertNotAlreadyRegistered(e){if(this.hasProvider(e))throw new o(this.providerType,e)}assertRegistered(e){if(!this.hasProvider(e))throw new r(this.providerType,e)}getProvider(e){return this.providersMap.get(e)}hasProvider(e){return this.providersMap.has(e)}setProvider(e){this.providersMap.set(e.id,e)}deleteProvider(e){this.providersMap.delete(e)}getProviderOrFail(e){const t=this.getProvider(e);if(!t)throw new i(this.providerType,e);return t}clearProviders(){this.providersMap.clear()}}},129:(e,t,a)=>{"use strict";var n,r,o;a.d(t,{P:()=>r,R:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(n||(n={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))},600:(e,t,a)=>{"use strict";var n;a.d(t,{a:()=>n}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(n||(n={}))},872:(e,t,a)=>{"use strict";var n,r,o;a.d(t,{PK:()=>n,fC:()=>r,oo:()=>o}),function(e){e.Suggestion="suggestion"}(n||(n={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={}))},179:(e,t,a)=>{"use strict";a(129),a(872),a(710),a(184),a(600)},710:(e,t,a)=>{"use strict";var n,r;a.d(t,{v:()=>n,z:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(n||(n={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},184:(e,t,a)=>{"use strict";a.d(t,{SM:()=>o,ce:()=>n,in:()=>i,np:()=>r});const n={Container:"Container",Button:"Button",SplitButton:"SplitButton"},r={Text:"Text",Image:"Image",List:"List"},o={...n,...r};var i;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(i||(i={}))},598:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppManifestType:()=>o.v,StorefrontTemplate:()=>o.z,deregister:()=>y,hide:()=>v,register:()=>w,show:()=>k});var n=a(277),r=a(695),o=a(710),i=a(723),s=a(786),c=a(70),d=a(79),l=a(575);let u=!1;async function p(e,t,a){const n=await(0,r.p4)();try{return await n.dispatch(e.action,e.payload)}catch(r){if(r instanceof Error&&-1!==r.toString().indexOf(e.action))return u||console.warn("You are using a newer version of the Workspace client library that is not supported by the currently running workspace provider. Please upgrade the Workspace to version 9.0 or later."),u=!0,await n.dispatch(t.action,t.payload),a;throw r}}const h=new l.xM("storefront"),f=async e=>{await(0,d.KZ)(fin.me.identity);const t=await(0,r.N7)();return h.assertNotAlreadyRegistered(e.id),h.setProvider(e),(e=>{e.storefrontChannelActionsRegistered||(e.storefrontChannelActionsRegistered=!0,e.register("get-storefront-provider-apps",(e=>h.getProviderOrFail(e).getApps())),e.register("get-storefront-provider-footer",(e=>h.getProviderOrFail(e).getFooter())),e.register("get-storefront-provider-landing-page",(e=>h.getProviderOrFail(e).getLandingPage())),e.register("get-storefront-provider-navigation",(e=>h.getProviderOrFail(e).getNavigation())),e.register("launch-storefront-provider-app",(({id:e,app:t})=>h.getProviderOrFail(e).launchApp(t))))})(t),e.clientAPIVersion=i.et,p({action:"register-provider",payload:{providerType:"storefront",info:e}},{action:"register-storefront-provider",payload:e},{workspaceVersion:"unknown"})};var g=a(248);let m;const w=async e=>{(0,g.H)("store",c.gQ);const t=await f(e);return m=new Promise(((a,o)=>{try{(0,n.xt)({allowed:!0,componentVersion:t?.workspaceVersion}),i.et,a({clientAPIVersion:i.et,workspaceVersion:t?.workspaceVersion??"",updateAppCardButtons:async t=>{const a=await(0,r.mQ)();await a.dispatch("update-app-card-button-config",{...t,id:e.id,title:e.title,icon:e.icon,platformIdentity:fin.me.identity})}})}catch(e){(0,n.xt)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),o(e)}finally{s.A.markEndAndMeasure("store-registration")}})),m},y=async e=>(await m,h.assertRegistered(e),h.deleteProvider(e),await(0,r.nA)(),p({action:"deregister-provider",payload:{providerType:"storefront",id:e}},{action:"deregister-storefront-provider",payload:e})),v=async()=>(await m,await(0,r.nA)(),p({action:"hide-provider-window",payload:{providerType:"storefront"}},{action:"hide-storefront"})),k=async()=>(s.A.markStart("store-show"),await m,await(0,r.nA)(),p({action:"show-provider-window",payload:{providerType:"storefront"}},{action:"show-storefront"}))},250:(e,t,a)=>{"use strict";var n;!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(n||(n={}))},79:(e,t,a)=>{"use strict";var n;a.d(t,{KZ:()=>o,N:()=>i,OF:()=>n,bW:()=>s}),function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal"}(n||(n={}));const r=async e=>fin.Platform.wrapSync(e).getClient(),o=async e=>{const t=await r(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},i=async e=>(await o(e),r(e)),s=async e=>{const t=await o(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return r(e)}},695:(e,t,a)=>{"use strict";a.d(t,{N7:()=>f,gj:()=>l,mQ:()=>h,nA:()=>p,p4:()=>c});var n=a(102),r=a(723),o=a(70),i=a(905);const s=(0,n.A)("__of_workspace_protocol__"),c=s,d=s,l=(0,n.A)(i.BT),u=e=>{const t=new URL(e);return t.searchParams.append("isLaunchedViaLib","true"),t.toString()},p=async()=>{if(!await(0,o.C)(o.xt)){if(r.jw||-1===navigator.userAgent.indexOf("Win"))return void await fin.Application.startFromManifest(u(r.m7));await fin.System.openUrlWithBrowser(u(r.t8))}},h=async()=>(await p(),c()),f=async()=>(await p(),d())},905:(e,t,a)=>{"use strict";a.d(t,{BT:()=>n,Zo:()=>o});const n="__search-openfin-browser-home-topic__";var r,o;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(o||(o={}))},957:(e,t,a)=>{"use strict";var n=a(847),r=(a(70),a(978),a(675),a(877)),o=a.n(r),i=a(67),s=a.n(i);s(),o();a(695),a(79);const c={[n.Palette.brandPrimary]:"#0A76D3",[n.Palette.statusSuccess]:n.Color.functional1,[n.Palette.statusWarning]:n.Color.functional10,[n.Palette.statusCritical]:n.Color.functional7,[n.Palette.statusActive]:n.Color.functional3,[n.Palette.contentBackground1]:"#0A76D3",[n.Palette.contentBackground2]:"#000000",[n.Palette.contentBackground3]:"#000000",[n.Palette.contentBackground4]:"#000000",[n.Palette.contentBackground5]:"#000000"},d={...c,[n.Palette.background1]:n.Color.white,[n.Palette.background2]:n.Color.lightGray1,[n.Palette.background3]:n.Color.lightGray2,[n.Palette.background4]:n.Color.lightGray3,[n.Palette.background5]:n.Color.lightGray4,[n.Palette.background6]:n.Color.lightGray5,[n.Palette.brandSecondary]:n.Color.lightGray4,[n.Palette.inputBackground]:n.Color.lightGray3,[n.Palette.inputColor]:n.Color.darkGray5,[n.Palette.inputPlaceholder]:n.Color.darkGray2,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.darkGray5,[n.Palette.textHelp]:n.Color.darkGray3,[n.Palette.textInactive]:n.Color.neutralGray},l={...c,[n.Palette.background1]:n.Color.darkGray6,[n.Palette.background2]:n.Color.darkGray5,[n.Palette.background3]:n.Color.darkGray4,[n.Palette.background4]:n.Color.darkGray3,[n.Palette.background5]:n.Color.darkGray2,[n.Palette.background6]:n.Color.darkGray1,[n.Palette.brandSecondary]:n.Color.darkGray2,[n.Palette.inputBackground]:n.Color.darkGray1,[n.Palette.inputColor]:n.Color.white,[n.Palette.inputPlaceholder]:n.Color.lightGray5,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.white,[n.Palette.textHelp]:n.Color.lightGray5,[n.Palette.textInactive]:n.Color.neutralGray};n.Color.lightGray4,n.Color.darkGray5,n.Color.darkGray2,n.Color.darkGray5},438:(e,t,a)=>{"use strict";a.d(t,{BY:()=>l,MW:()=>n,v1:()=>d});var n,r,o=a(723);!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(n||(n={})),function(e){e.FinProtocol="fin-protocol"}(r||(r={}));const i={uuid:o.$h},s={uuid:n.Workspace},c=e=>{if(!o.cI)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)},d=()=>c(i),l=()=>c(s)},102:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(723);const r=n.YY&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function o(e){let t;const a=new Set;return()=>{if(!n.cI)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const o={clientAPIVersion:n.et},i=await fin.InterApplicationBus.Channel.connect(e,{payload:o});return i.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}},723:(e,t,a)=>{"use strict";var n;a.d(t,{$h:()=>c,AT:()=>i,YY:()=>o,cI:()=>r,et:()=>g,fT:()=>l,jw:()=>u,m7:()=>h,t8:()=>p,vL:()=>d}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(n||(n={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,o=("undefined"==typeof process||process.env,"undefined"!=typeof window),i=o&&"undefined"!=typeof indexedDB,s=o?window.origin:n.Local,c=r&&fin.me.uuid,d=r&&fin.me.name,l=r&&fin.me.entityType,u="prod"===n.Local,p=(n.Dev,n.Staging,n.Prod,"fins://system-apps/workspace"),h="https://workspace.openfin.co/workspace/21.0.15/app.json",f=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,g=(f("https://workspace.openfin.co/workspace/21.0.15"),f("https://workspace.openfin.co/workspace/21.0.15"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&f(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&f(WORKSPACE_DOCS_CLIENT_URL),"21.0.15");"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA},786:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const n="of-workspace-";const r=new class{mark(e){performance.mark(`${n}${e}`)}markStart(e){performance.mark(`${n}${e}-start`)}markEnd(e){performance.mark(`${n}${e}-end`)}markEndAndMeasure(e){performance.mark(`${n}${e}-end`);try{return performance.measure(`${n}${e}`,`${n}${e}-start`,`${n}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${n}${e}`);try{return performance.measure(`${n}${e}-measure`,`${n}${t}-start`,`${n}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(n)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${n}`,"").replace("-measure",""),duration:e.duration})))}}},181:(e,t,a)=>{"use strict";var n,r;a.d(t,{sP:()=>i}),function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(n||(n={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseStorageProxy="/enterprise/storage-proxy",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/"}(r||(r={}));const o="/microsoft-365-integration-assets/",i={IconOpenFinLogo:"/icons/openfinlogo.svg",IconFilter:"/icons/filter.svg",LightStorefront:"/icons/store-icon-light.png",DarkStorefront:"/icons/store-icon-dark.png",CallIconLight:"/icons/call-icon-light.svg",CallIconDark:"/icons/call-icon-dark.svg",ChatIconLight:"/icons/chat-icon-light.svg",ChatIconDark:"/icons/chat-icon-dark.svg",MessageIconLight:"/icons/message-icon-light.svg",MessageIconDark:"/icons/message-icon-dark.svg",Microsoft365Assets:{Microsoft365DocumentIcon:`${o}microsoft-365-document-icon.svg`,Microsoft365ExcelIcon:`${o}microsoft-365-excel-icon.svg`,Microsoft365PowerpointIcon:`${o}microsoft-365-powerpoint-icon.svg`,Microsoft365OutlookIcon:`${o}microsoft-365-outlook-icon.svg`,Microsoft365TeamsIcon:`${o}microsoft-365-teams-icon.svg`,Microsoft365Icon:`${o}microsoft-365-icon.svg`,PDFFileIcon:`${o}pdf-file-icon.svg`},DockIconLight:"/icons/dock-icon-light.png",DockIconDark:"/icons/dock-icon-dark.png"};var s;!function(e){e.Search="search"}(s||(s={}))},523:(e,t,a)=>{"use strict";a.d(t,{OX:()=>o});var n;a(723);!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(n||(n={}));const r="/workspace/21.0.15";function o(e){return r+e}},277:(e,t,a)=>{"use strict";a.d(t,{GR:()=>s,ki:()=>d,xt:()=>c});var n,r=a(723),o=a(70);a(978);!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(n||(n={}));const i=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||r.et,componentName:e,componentVersion:t.componentVersion||r.et,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};const s=e=>{o.F2.uuid===o.$p.uuid&&o.F2.name===o.$p.name||i(n.Home,e)},c=e=>{i(n.Storefront,e)},d=e=>{i(n.Dock,e)};new Map},333:(e,t,a)=>{"use strict";function n(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}a.d(t,{N:()=>n})},70:(e,t,a)=>{"use strict";a.d(t,{$p:()=>c,C:()=>m,F2:()=>l,Io:()=>g,Iq:()=>s,Q:()=>n,T7:()=>u,Tv:()=>d,V1:()=>i,gQ:()=>p,hb:()=>f,ur:()=>w,xt:()=>h});var n,r=a(438),o=a(723);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion"}(n||(n={}));const i=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2});function s(e){if(!o.cI)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:o.vL,uuid:o.$h};function d(){return s(c)}const l={name:n.Home,uuid:r.MW.Workspace},u={name:n.Dock,uuid:r.MW.Workspace},p={name:n.Storefront,uuid:r.MW.Workspace},h={name:r.MW.Workspace,uuid:r.MW.Workspace};const f=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function g(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>f(e.identity))));return e.filter(((e,a)=>t[a]))}const m=e=>s(e).getOptions().then((()=>!0)).catch((()=>!1));async function w(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=function(e,t){const a=e.top,n=e.left,r=e.top+e.height,o=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,d=t.monitorRect.right;if(a>c||r<i||n>d||o<s)return 0;const l=Math.max(a,i),u=Math.max(n,s);return(Math.min(r,c)-l)*(Math.min(o,d)-u)/(e.height*e.width)}(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{ActionTrigger:()=>Re.P,AppManifestType:()=>Ne.v,ButtonStyle:()=>Be.in,CLIAction:()=>$.PK,CLIFilterOptionType:()=>$.oo,CLITemplate:()=>$.fC,ContainerTemplateFragmentNames:()=>Be.ce,Dock:()=>e,DockButtonNames:()=>u.a,Home:()=>S,Integrations:()=>t,PresentationTemplateFragmentNames:()=>Be.np,SearchTagBackground:()=>Re.R,Storefront:()=>Ee,StorefrontTemplate:()=>Ne.z,TemplateFragmentTypes:()=>Be.SM});var e={};a.r(e),a.d(e,{DockButtonNames:()=>u.a,deregister:()=>m,minimize:()=>w,register:()=>g,show:()=>y});var t={};a.r(t),a.d(t,{Microsoft365WorkflowIntegration:()=>De});var r=a(723),o=a(786),i=a(277),s=a(70),c=a(695),d=a(79);var l=a(248),u=a(600);let p,h;const f=(e=[])=>{const t=e.filter((e=>!!e.id)).map((e=>e.id));if(new Set(t).size!==t.length)throw new Error("Dock provider buttons must have unique identifiers if specified.")},g=async e=>{(0,l.H)("dock",s.T7);const t=await(async e=>{await(0,d.KZ)(fin.me.identity);const t=await(0,c.N7)();if(h)throw new Error("Error using `Dock.register`. A Dock provider for this Workspace Platform is already registered. Call `Dock.deregister` before calling `Dock.register` again.");return h=e,e.clientAPIVersion=r.et,t.dispatch("register-provider",{providerType:"dock",info:e})})(e);return p=new Promise(((a,n)=>{try{(e=>{e.workspaceComponents&&!Array.isArray(e.workspaceComponents)&&console.warn("Using the `WorkspaceComponentButtonOptions` type to configure the Workspace Components Buttons is deprecated. Please use `WorkspaceButtonsConfig` instead.")})(e),f(e.buttons),(0,i.ki)({allowed:!0,componentVersion:t?.workspaceVersion}),r.et,a({clientAPIVersion:r.et,workspaceVersion:t?.workspaceVersion??"",updateDockProviderConfig:async t=>{if(!h)throw new Error("Error using `Dock.updateDockProviderConfig`. Dock provider is not registered. Make sure to call `Dock.register` first.");f(t.buttons);const a=await(0,c.N7)();await a.dispatch("update-provider",{providerType:"dock",provider:{...e,workspaceComponents:t.workspaceComponents,buttons:t.buttons,title:t.title,icon:t.icon,disableUserRearrangement:t.disableUserRearrangement,id:e.id}})}})}catch(e){(0,i.ki)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),n(e),p=void 0}finally{o.A.markEndAndMeasure("dock-registration")}})),p},m=async()=>{if(await p,!h)throw new Error("Error using `Dock.deregister`. Dock provider is not registered. Call `Dock.register` before calling `Dock.deregister`.");const e=await(0,c.N7)();await e.dispatch("deregister-provider",{providerType:"dock",id:h.id}),h=void 0,p=void 0},w=async()=>{await p,await(0,c.nA)(),await(async e=>(await(0,c.p4)()).dispatch("hide-provider-window",{providerType:e}))("dock")},y=async()=>{o.A.markStart("dock-show"),await p,await(0,c.nA)(),await(async e=>(await(0,c.p4)()).dispatch("show-provider-window",{providerType:e}))("dock")};var v,k,b,S=a(834),P=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},C=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};v=new WeakMap,k=new WeakMap,b=new WeakMap;const x=class{constructor(e){v.set(this,void 0),k.set(this,void 0),b.set(this,void 0),P(this,v,e,"f"),P(this,k,new Map,"f"),P(this,b,[],"f")}get(e){if(C(this,k,"f").has(e))return this.updateQueue(e),C(this,k,"f").get(e)}has(e){return C(this,k,"f").has(e)}put(e,t){if(C(this,k,"f").has(e))C(this,k,"f").set(e,t),this.updateQueue(e);else{if(C(this,b,"f").length===C(this,v,"f")){const e=C(this,b,"f").shift();e&&C(this,k,"f").delete(e)}C(this,k,"f").set(e,t),C(this,b,"f").push(e)}}updateQueue(e){const t=C(this,b,"f").indexOf(e);-1!==t&&(C(this,b,"f").splice(t,1),C(this,b,"f").push(e))}};function A(e){return e&&"object"==typeof e&&!Array.isArray(e)}function M(e,...t){if(!t.length)return e;const a=t.shift();return A(e)&&A(a)&&Object.entries(a).forEach((([t,a])=>{if(A(a))return e[t]||(e[t]={}),M(e[t],a);e[t]=a})),M(e,...t)}var I,F,W,T,_,O=a(181),D=a(523),E=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},R=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};F=new WeakMap,W=new WeakMap,T=new WeakMap,I=new WeakSet,_=function(){const e=Array.from(R(this,F,"f").entries()).reduce(((e,t)=>!e||t[1].timestamp<e[1].timestamp?t:e),null);return e?e[0]:null};const B=class{constructor(e=3e5,t=100){I.add(this),F.set(this,void 0),W.set(this,void 0),T.set(this,void 0),E(this,F,new Map,"f"),E(this,W,e,"f"),E(this,T,t,"f")}get(e){const t=R(this,F,"f").get(e);if(!t)return null;return Date.now()-t.timestamp<R(this,W,"f")?t.value:(R(this,F,"f").delete(e),null)}put(e,t){if(R(this,F,"f").size>=R(this,T,"f")){const e=R(this,I,"m",_).call(this);null!=e&&R(this,F,"f").delete(e)}R(this,F,"f").set(e,{value:t,timestamp:Date.now()})}remove(e){R(this,F,"f").delete(e)}clear(){R(this,F,"f").clear()}};var N,L=a(333),$=a(872),G=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};const U={};class V{constructor(e){N.set(this,new Set),this._initializeWorkflows=async(e=this.config)=>{const{workflows:t}=e;for(const e in t){if(!t[e].disableAutoInitialize)try{G(this,N,"f").has(e)?console.warn(`Workflow ${e} already initialized.`):(G(this,N,"f").add(e),await this.initializeWorkflow(e))}catch(t){G(this,N,"f").delete(e),console.error(`Error registering ${e}:`,t)}}};const t=M({},U,e);this.config=t}async initializeWorkflow(e){G(this,N,"f").add(e)}}N=new WeakMap;const z=__webpack_require__(/*! @openfin/microsoft365 */ "../../node_modules/@openfin/microsoft365/openfin.ms365.js");let H=0;const q={chatMessage:"Chat Message",event:"Event",message:"Email",drive:"Document",contact:"Contact",user:"User",list:"List"},j={pdf:"PDF",docx:"Word",pptx:"PowerPoint",xlsx:"Excel",onenote:"OneNote"},X={chatMessage:["Chat.Read","ChannelMessage.Read.All"],list:["Sites.Read.All"],event:["Calendars.Read"],message:["Mail.ReadWrite.Shared"],contact:["Contacts.Read.Shared","Mail.ReadWrite.Shared"],user:["User.Read.All","Presence.Read.All"]},K="MICROSOFT_365_SEARCH_TYPE_FILTER",Q="MICROSOFT_365_SEARCH_FILE_TYPE_FILTER",Z="MICROSOFT_365_SEARCH_DEPARTMENT_FILTER",Y="MICROSOFT_365_SEARCH_JOB_TITLE_FILTER",J="Teams Call",ee="Teams Chat",te="Email",ae=(e,t)=>{const a=[],n={item:e.context.selectedFilters?.find((e=>e.id===K)),documentType:e.context.selectedFilters?.find((e=>e.id===Q))},r=[{value:"Document",isSelected:!!n.item?.options?.find((({value:e})=>"File"===e))?.isSelected},{value:"Contact",isSelected:!!n.item?.options?.find((({value:e})=>"Contact"===e))?.isSelected},{value:"Chat Message",isSelected:!!n.item?.options?.find((({value:e})=>"Chat Message"===e))?.isSelected},{value:"Email",isSelected:!!n.item?.options?.find((({value:e})=>"Email"===e))?.isSelected},{value:"Event",isSelected:!!n.item?.options?.find((({value:e})=>"Event"===e))?.isSelected},{value:"List",isSelected:!!n.item?.options?.find((({value:e})=>"List"===e))?.isSelected}];return a.push({id:K,title:"Type",type:$.oo.MultiSelect,options:r.filter((e=>t.has(e.value)))}),"Document"===n.item?.options?.filter((e=>e.isSelected))?.[0].value&&a.push({id:Q,title:"File Type",type:$.oo.MultiSelect,options:Object.entries(j).map((([,e])=>({value:e,isSelected:!!n.documentType?.options?.filter((e=>e.isSelected))?.find((({value:e})=>"File"===e))?.isSelected})))}),a},ne=(e,t)=>{const a=t.context.selectedFilters?.find((e=>e.id===K))?.options;if(!Array.isArray(a)||!a.find((e=>"Contact"===e.value||"User"===e.value))?.isSelected)return[];const{department:n,jobTitle:r}=e.reduce(((e,t)=>(t.department&&e.department.add(t.department),t.jobTitle&&e.jobTitle.add(t.jobTitle),e)),{department:new Set,jobTitle:new Set}),o=t.context.selectedFilters?.find((e=>e.id===Z)),i=Array.from(n).map((e=>({value:e,isSelected:!!o?.options?.find((({value:t})=>t===e))?.isSelected}))),s=t.context.selectedFilters?.find((e=>e.id===Z)),c=Array.from(r).map((e=>({value:e,isSelected:!!s?.options?.find((({value:t})=>t===e))?.isSelected})));return[{id:Z,title:"Department",type:$.oo.MultiSelect,options:i},{id:Y,title:"Job Title",type:$.oo.MultiSelect,options:c}]},re=e=>{const t=e.context.selectedFilters?.find((e=>e.id===Z)),a=Array.isArray(t?.options)?t.options.filter((e=>e.isSelected)).map((e=>e.value)):[],n=e.context.selectedFilters?.find((e=>e.id===Y));return{department:a,jobTitle:Array.isArray(n?.options)?n.options.filter((e=>e.isSelected)).map((e=>e.value)):[]}},oe=(e,t)=>{const{department:a,jobTitle:n}=t;return e.filter((e=>(!a.length||a.includes(e.department))&&(!n.length||n.includes(e.jobTitle))))},ie=e=>{const t=Array.isArray(e.context.selectedFilters?.find((e=>e.id===Q))?.options)?e.context.selectedFilters.find((e=>e.id===Q))?.options:[];return{filterFiles:t&&t.some((({isSelected:e})=>e)),showWord:t.find((({value:e})=>"Word"===e))?.isSelected,showExcel:t.find((({value:e})=>"Excel"===e))?.isSelected,showPowerPoint:t.find((({value:e})=>"PowerPoint"===e))?.isSelected,showPDF:t.find((({value:e})=>"PDF"===e))?.isSelected,showOneNote:t.find((({value:e})=>"OneNote"===e))?.isSelected}},se=(e,t)=>{const a=[];return t.showWord&&a.push(".docx"),t.showExcel&&a.push(".xlsx"),t.showPowerPoint&&a.push(".pptx"),t.showPDF&&a.push(".pdf"),t.showOneNote&&a.push(".one"),e.filter((e=>{if(e.file){const t=e.name.substring(e.name.lastIndexOf("."));return a.includes(t)}return!1}))},ce=(e="")=>{switch(e.split(".").pop()?.toLowerCase()??""){case"docx":case"doc":return"Microsoft Word";case"xlsx":case"xls":return"Microsoft Excel";case"pptx":case"ppt":return"Microsoft PowerPoint";case"pdf":return"PDF";case"png":case"jpg":case"jpeg":case"gif":return"Image";case"txt":return"Text";default:return"File"}},de=(e="")=>{switch(e.split(".").pop()?.toLowerCase()??""){case"docx":case"doc":return(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365DocumentIcon);case"xlsx":case"xls":return(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365ExcelIcon);case"pptx":case"ppt":return(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365PowerpointIcon);case"pdf":return(0,D.OX)(O.sP.Microsoft365Assets.PDFFileIcon);default:return}},le=e=>e.replace(/\+/g,"_").replace(/\//g,"-");var ue,pe,he,fe,ge,me,we,ye,ve,ke,be,Se,Pe,Ce,xe,Ae,Me,Ie,Fe,We,Te,_e=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)},Oe=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a};class De extends V{constructor(e){const t=M({},{workflows:{search:(H+=1,{homeProvider:{description:"Microsoft 365 search results provider",id:`MS365-${fin.me.identity.uuid}-${H}`,logoUrl:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365Icon),icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365Icon),title:"Microsoft 365 Search",inputPlaceholder:"What would you like to search in Microsoft 365 today?",dispatchFocusEvents:!0},microsoftEntityTypeConfig:{message:!0,chatMessage:!0,drive:!0,event:!0,user:!0,contact:!0,list:!0},useTeamsDeepLink:!0})}},e);super(t),ue.add(this),pe.set(this,void 0),this.workflowIntegrationName="Microsoft 365",he.set(this,void 0),fe.set(this,void 0),ge.set(this,1),me.set(this,new Set),we.set(this,new x(100)),ye.set(this,new B(6e4)),this.connect=async(e=this.config.connect)=>{const{clientId:t,tenantId:a,redirectUri:n}=e,r=this.config.workflows?.search?Object.entries(this.config.workflows?.search?.microsoftEntityTypeConfig??{}).filter((([e,t])=>t)).map((([e])=>X[e])).filter((e=>void 0!==e)).flat():[];this.config.connect=e,Oe(this,pe,await(0,z.connect)(t,a,n,[...new Set(r)]),"f")},ve.set(this,(()=>{if(!_e(this,pe,"f"))throw new Error("Microsoft365WorkflowIntegration not connected");return _e(this,pe,"f")})),Ce.set(this,(async e=>{if(Oe(this,fe,e,"f"),e.data?.item?.id){const t=_e(this,ye,"f").get(e.data.item.id);if(t)return void _e(this,he,"f").respond([t])}if("user"===e.data?.type)_e(this,Fe,"f").call(this,e)})),xe.set(this,(async e=>{await fin.Platform.getCurrentSync().createWindow({layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{url:e}}]}]},workspacePlatform:void 0})})),Ae.set(this,(async e=>{if(e.data.item.channelIdentity.teamId){const t=new URL(`msteams:/l/channel/${e.data.item.channelIdentity.channelId}/${e.data.item.id}`);return!1===this.config.workflows?.search?.useTeamsDeepLink&&(t.protocol="https:"),t.searchParams.append("context",JSON.stringify({contextType:"channel"})),void await fin.System.openUrlWithBrowser(t.toString())}const t=new URL(`msteams:/l/message/${e.data.item.chatId}/${e.data.item.id}`);!1===this.config.workflows?.search?.useTeamsDeepLink&&(t.protocol="https:"),t.searchParams.append("context",JSON.stringify({contextType:"chat"})),await fin.System.openUrlWithBrowser(t.toString())})),Me.set(this,(async e=>{switch(e.action.name){case J:{const t=new z.TeamsConnection(_e(this,ve,"f").call(this),this.config.workflows?.search?.useTeamsDeepLink);_e(this,ue,"m",ke).call(this,(()=>t.startCall([e.data.item.mail])));break}case te:{const t=await this.executeApiRequest("/v1.0/me/messages","POST",{toRecipients:[{emailAddress:{address:e.data.item.mail}}]});let a=t.data.webLink;const n=new URL(t.data.webLink);if("/owa/"===n.pathname){const e=n.search.slice(1).split("&").reduce(((e,t)=>{const[a,n]=t.split("=");return e[a]=n,e}),{});if(e.ItemID){const t=e.ItemID;a=`${n.origin}/mail/deeplink/compose/${t}?ItemID=${t}&exvsurl=1`}}await fin.Platform.getCurrentSync().createView({url:a});break}case ee:{const t=_e(this,ve,"f").call(this),a=new z.TeamsConnection(t,this.config.workflows?.search?.useTeamsDeepLink);_e(this,ue,"m",ke).call(this,(()=>a.startChat({emailAddresses:[t.currentUser.mail,e.data.item.mail]})));break}default:console.warn("Unhandled user action for result:",e,`Unknown action "${e.action.name}"`)}})),Ie.set(this,(async e=>{switch(e.data.type){case"driveItem":_e(this,xe,"f").call(this,e.data.item.webUrl);break;case"event":{const t=e.data.item,a=await this.executeApiRequest(`/v1.0/me/events/${t.id}`);_e(this,xe,"f").call(this,a.data.webLink);break}case"chatMessage":_e(this,Ae,"f").call(this,e);break;case"message":_e(this,xe,"f").call(this,e.data.item.webLink);break;case"list":{const t=e.data.item,a=await this.executeApiRequest(`/v1.0/sites/${t.parentReference?.siteId}/lists/${t.id}`);_e(this,xe,"f").call(this,a.data.webUrl);break}case"user":_e(this,Me,"f").call(this,e);break;default:console.warn("Unhandled user action for result:",e,`Unknown result type "${e.data.type}"`)}})),Fe.set(this,(async e=>{let t,a;const n=[],r=e.data.item;_e(this,we,"f").has(r.id)?t=_e(this,we,"f").get(r.id):n.push({id:"contactPhoto",method:"GET",url:`/users/${e.data.item.id}/photo/$value`,headers:{ConsistencyLevel:"eventual"}}),n.push({id:"presence",method:"GET",url:`/users/${e.data.item.id}/presence`});try{const e=await _e(this,ue,"m",be).call(this,n),i=e.data?.responses.find((e=>"contactPhoto"===e.id));i&&200!==i.status&&console.warn("Error fetching user photo",i),i?.body&&200===i?.status&&(t=`data:image/jpeg;base64,${i.body}`,_e(this,we,"f").put(r.id,t));const s=e.data?.responses.find((e=>"presence"===e.id));200!==s.status&&console.warn("Error fetching user presence",s),s?.body&&200===s.status&&(o=s.body,a={available:"available",availableidle:"available",away:"away",berightback:"away",busy:"busy",busyidle:"busy",donotdisturb:"do-not-disturb",offline:"offline",presenceunknown:"offline"}[o.availability?.toLowerCase()])}catch(e){console.error("Error fetching user data",e)}var o;const i=[["Department",r.department||"N/A"],["Email",r.mail||"N/A"],["Work Phone",r.businessPhones?.[0]||"N/A"],["Mobile",r.mobilePhone||"N/A"],["Location",r.officeLocation||"N/A"]],s={...e,template:$.fC.Contact,templateContent:{name:e.data.item.displayName,title:e.data.item.jobTitle,details:[i],photoUrl:t,onlineStatus:a,buttons:[{type:"button",icon:{light:(0,D.OX)(O.sP.CallIconLight),dark:(0,D.OX)(O.sP.CallIconDark)},tooltip:"Teams Call",action:J},{type:"button",icon:{light:(0,D.OX)(O.sP.ChatIconLight),dark:(0,D.OX)(O.sP.ChatIconDark)},tooltip:"Chat",action:ee},{type:"button",icon:{light:(0,D.OX)(O.sP.MessageIconLight),dark:(0,D.OX)(O.sP.MessageIconDark)},tooltip:"E-mail",action:te}]}};_e(this,ye,"f").put(e.data.item.id,s),_e(this,he,"f").respond([s])})),We.set(this,(async(e,t)=>{if(_e(this,he,"f")&&_e(this,he,"f").close(),Oe(this,he,t,"f"),_e(this,he,"f").open(),e.query.length<_e(this,ge,"f"))return{results:[]};const a=encodeURIComponent(e.query),n=[],r=((e,t)=>{const a=Array.isArray(e.context.selectedFilters?.find((e=>e.id===K))?.options)?e.context.selectedFilters.find((e=>e.id===K))?.options:[],n=a.every((({isSelected:e})=>!e));return{showDocuments:t.has("Document")&&(n||!!a.find((({value:e})=>"Document"===e))?.isSelected),showContacts:t.has("Contact")&&(n||!!a.find((({value:e})=>"Contact"===e))?.isSelected),showChatMessages:t.has("Chat Message")&&(n||!!a.find((({value:e})=>"Chat Message"===e))?.isSelected),showMessages:t.has("Email")&&(n||!!a.find((({value:e})=>"Email"===e))?.isSelected),showEvents:t.has("Event")&&(n||!!a.find((({value:e})=>"Event"===e))?.isSelected),showLists:t.has("List")&&(n||!!a.find((({value:e})=>"List"===e))?.isSelected)}})(e,_e(this,me,"f"));if(r.showDocuments){const e=`'${a}'`;n.push({id:"driveItem",method:"GET",url:`/me/drive/root/search(q=${encodeURIComponent(e)})`,headers:{ConsistencyLevel:"eventual"}})}if(r.showEvents&&n.push({id:"event",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["event"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),r.showContacts){const t=`"${e.query}"`;n.push({id:"contact",method:"GET",url:`/me/contacts?$search=${encodeURIComponent(t)}&$top=10`});const a=["displayName","givenName","surname"].map((t=>`"${t}:${e.query}"`)).join(" OR ");n.push({id:"user",method:"GET",url:`/users?$search=${encodeURIComponent(a)}&$top=10&$select=id,displayName,department,mail,businessPhones,mobilePhone,officeLocation,jobTitle`,headers:{ConsistencyLevel:"eventual"}})}if(r.showMessages&&n.push({id:"message",method:"GET",url:`/me/messages?$select=sender,subject,bodyPreview,receivedDateTime,webLink&$search=${encodeURIComponent(`"${e.query}"`)}&$top=10`}),r.showChatMessages&&n.push({id:"chatMessage",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["chatMessage"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),r.showLists&&n.push({id:"list",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["list"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),0===n.length)return{results:[]};const{results:o,filters:i}=await _e(this,ue,"m",Se).call(this,n,e);return o.find((e=>e.key===_e(this,fe,"f")?.key))?.template===$.fC.Loading&&_e(this,Ce,"f").call(this,_e(this,fe,"f")),{results:o,context:{filters:i}}})),Te.set(this,(async e=>{switch(e.action.trigger){case Re.P.FocusChange:_e(this,Ce,"f").call(this,e);break;case Re.P.UserAction:_e(this,Ie,"f").call(this,e);break;case Re.P.Reload:break;default:console.warn(`Unknown action trigger: ${e.action.trigger}`)}})),this.initializeWorkflow=async e=>{if("search"!==e)throw new Error(`Attempted to initialize unknown workflow: ${e}`);await S.register({...this.config.workflows.search.homeProvider,onUserInput:_e(this,We,"f"),onResultDispatch:_e(this,Te,"f")}),(0,z.enableLogging)(),await this.connect(),super.initializeWorkflow(e)},Object.entries(t.workflows?.search?.microsoftEntityTypeConfig||{}).filter((([e,t])=>t)).forEach((([e])=>{_e(this,me,"f").add(q[e])}))}async executeApiRequest(...e){return _e(this,ue,"m",ke).call(this,(()=>_e(this,ve,"f").call(this).executeApiRequest(...e)))}}pe=new WeakMap,he=new WeakMap,fe=new WeakMap,ge=new WeakMap,me=new WeakMap,we=new WeakMap,ye=new WeakMap,ve=new WeakMap,Ce=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Me=new WeakMap,Ie=new WeakMap,Fe=new WeakMap,We=new WeakMap,Te=new WeakMap,ue=new WeakSet,ke=async function(e){try{return await e()}catch(t){if(t instanceof z.AuthTokenExpiredError)return await this.connect(),e();throw t}},be=async function(e){return this.executeApiRequest("/v1.0/$batch","POST",{requests:e})},Se=async function(e,t){try{const a=await _e(this,ue,"m",be).call(this,e);return{filters:[...ae(t,_e(this,me,"f")),...ne(a.data.responses.find((e=>"user"===e.id))?.body?.value||[],t)],results:_e(this,ue,"m",Pe).call(this,a,t)}}catch(e){return console.warn("Failed to execute Batch API request: ",e),{filters:[],results:[{key:(0,L.N)(),title:"Error Fetching Search Results",description:"",actions:[],template:$.fC.Error,templateContent:`Failed to execute Batch API request: ${JSON.stringify(e)}`}]}}},Pe=function(e,t){let a=[];for(const n of e.data.responses)if(200===n.status)switch(n.id){case"driveItem":{const e=ie(t),r=e.filterFiles?se(n.body.value,e):n.body.value;a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.name??"",description:e.file?.mimeType??"",label:ce(e.name),icon:de(e.name),data:{type:"driveItem",item:e},actions:[{name:"Launch"}],template:$.fC.Plain,templateContent:void 0}))));break}case"event":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.filter((e=>e.resource.subject)).map((e=>{const t=e.resource,a=le(e.hitId);return{key:a,title:t.subject??"",label:"Calendar Event",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[{name:"Launch"}],data:{type:"event",item:{...t,id:a}},template:$.fC.Plain,templateContent:void 0}}))||[]);break;case"contact":{const e=re(t),r=oe(n.body.value||[],e);a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.displayName??"",label:"Outlook contact",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[],data:{type:"contact",item:e},template:$.fC.Plain,templateContent:void 0}))));break}case"user":{const e=re(t),r=oe(n.body.value||[],e);a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.displayName??"",label:"Teams contact",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365TeamsIcon),actions:[],data:{type:"user",item:e},template:$.fC.Loading,templateContent:void 0}))));break}case"message":a.push(...(n.body.value||[]).map((e=>({key:e.id??(0,L.N)(),title:`${e.subject??"Untitled Message"}${e.isDraft?" (Draft)":""}`,label:"Email",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[],data:{type:"message",item:e},template:$.fC.Plain,templateContent:void 0}))));break;case"chatMessage":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.map((e=>{const t=e.resource;return{key:t.id??(0,L.N)(),title:e.summary??"Untitled Message",label:"Chat",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365TeamsIcon),actions:[],data:{type:"chatMessage",item:t},template:$.fC.Plain,templateContent:void 0}}))||[]);break;case"list":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.map((e=>{const t=e.resource,a=le(e.hitId);return{key:a,title:t.displayName??"Untitled List",label:"List",actions:[{name:"Launch"}],data:{type:"list",item:{...t,id:a}},template:$.fC.Plain,templateContent:void 0}}))||[]);break;default:console.warn(`Unknown batch response id: ${n.id}`,n.body)}else console.warn("Batch API request failed: ",n);return a=a.map((e=>{if(!e.data?.item?.id)return e;const t=_e(this,ye,"f").get(e.data.item.id);return t?{...e,template:t.template,templateContent:t.templateContent}:e})),a.sort(((e,t)=>e.title>t.title?1:-1))};var Ee=a(598),Re=a(129),Be=a(184),Ne=a(710)})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/dexie/dist/dexie.js":
/*!**********************************************!*\
  !*** ../../node_modules/dexie/dist/dexie.js ***!
  \**********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * By David Fahlander, david.fahlander@gmail.com
 *
 * Version 4.0.11, Wed Jan 15 2025
 *
 * https://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/
 */
 
(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    var _global = typeof globalThis !== 'undefined' ? globalThis :
        typeof self !== 'undefined' ? self :
            typeof window !== 'undefined' ? window :
                __webpack_require__.g;

    var keys = Object.keys;
    var isArray = Array.isArray;
    if (typeof Promise !== 'undefined' && !_global.Promise) {
        _global.Promise = Promise;
    }
    function extend(obj, extension) {
        if (typeof extension !== 'object')
            return obj;
        keys(extension).forEach(function (key) {
            obj[key] = extension[key];
        });
        return obj;
    }
    var getProto = Object.getPrototypeOf;
    var _hasOwn = {}.hasOwnProperty;
    function hasOwn(obj, prop) {
        return _hasOwn.call(obj, prop);
    }
    function props(proto, extension) {
        if (typeof extension === 'function')
            extension = extension(getProto(proto));
        (typeof Reflect === "undefined" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {
            setProp(proto, key, extension[key]);
        });
    }
    var defineProperty = Object.defineProperty;
    function setProp(obj, prop, functionOrGetSet, options) {
        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, "get") && typeof functionOrGetSet.get === 'function' ?
            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :
            { value: functionOrGetSet, configurable: true, writable: true }, options));
    }
    function derive(Child) {
        return {
            from: function (Parent) {
                Child.prototype = Object.create(Parent.prototype);
                setProp(Child.prototype, "constructor", Child);
                return {
                    extend: props.bind(null, Child.prototype)
                };
            }
        };
    }
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    function getPropertyDescriptor(obj, prop) {
        var pd = getOwnPropertyDescriptor(obj, prop);
        var proto;
        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);
    }
    var _slice = [].slice;
    function slice(args, start, end) {
        return _slice.call(args, start, end);
    }
    function override(origFunc, overridedFactory) {
        return overridedFactory(origFunc);
    }
    function assert(b) {
        if (!b)
            throw new Error("Assertion Failed");
    }
    function asap$1(fn) {
        if (_global.setImmediate)
            setImmediate(fn);
        else
            setTimeout(fn, 0);
    }
    function arrayToObject(array, extractor) {
        return array.reduce(function (result, item, i) {
            var nameAndValue = extractor(item, i);
            if (nameAndValue)
                result[nameAndValue[0]] = nameAndValue[1];
            return result;
        }, {});
    }
    function getByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))
            return obj[keyPath];
        if (!keyPath)
            return obj;
        if (typeof keyPath !== 'string') {
            var rv = [];
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                var val = getByKeyPath(obj, keyPath[i]);
                rv.push(val);
            }
            return rv;
        }
        var period = keyPath.indexOf('.');
        if (period !== -1) {
            var innerObj = obj[keyPath.substr(0, period)];
            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));
        }
        return undefined;
    }
    function setByKeyPath(obj, keyPath, value) {
        if (!obj || keyPath === undefined)
            return;
        if ('isFrozen' in Object && Object.isFrozen(obj))
            return;
        if (typeof keyPath !== 'string' && 'length' in keyPath) {
            assert(typeof value !== 'string' && 'length' in value);
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                setByKeyPath(obj, keyPath[i], value[i]);
            }
        }
        else {
            var period = keyPath.indexOf('.');
            if (period !== -1) {
                var currentKeyPath = keyPath.substr(0, period);
                var remainingKeyPath = keyPath.substr(period + 1);
                if (remainingKeyPath === "")
                    if (value === undefined) {
                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))
                            obj.splice(currentKeyPath, 1);
                        else
                            delete obj[currentKeyPath];
                    }
                    else
                        obj[currentKeyPath] = value;
                else {
                    var innerObj = obj[currentKeyPath];
                    if (!innerObj || !hasOwn(obj, currentKeyPath))
                        innerObj = (obj[currentKeyPath] = {});
                    setByKeyPath(innerObj, remainingKeyPath, value);
                }
            }
            else {
                if (value === undefined) {
                    if (isArray(obj) && !isNaN(parseInt(keyPath)))
                        obj.splice(keyPath, 1);
                    else
                        delete obj[keyPath];
                }
                else
                    obj[keyPath] = value;
            }
        }
    }
    function delByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string')
            setByKeyPath(obj, keyPath, undefined);
        else if ('length' in keyPath)
            [].map.call(keyPath, function (kp) {
                setByKeyPath(obj, kp, undefined);
            });
    }
    function shallowClone(obj) {
        var rv = {};
        for (var m in obj) {
            if (hasOwn(obj, m))
                rv[m] = obj[m];
        }
        return rv;
    }
    var concat = [].concat;
    function flatten(a) {
        return concat.apply([], a);
    }
    var intrinsicTypeNames = "BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey"
        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return ["Int", "Uint", "Float"].map(function (t) { return t + num + "Array"; }); }))).filter(function (t) { return _global[t]; });
    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));
    function cloneSimpleObjectTree(o) {
        var rv = {};
        for (var k in o)
            if (hasOwn(o, k)) {
                var v = o[k];
                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);
            }
        return rv;
    }
    function objectIsEmpty(o) {
        for (var k in o)
            if (hasOwn(o, k))
                return false;
        return true;
    }
    var circularRefs = null;
    function deepClone(any) {
        circularRefs = new WeakMap();
        var rv = innerDeepClone(any);
        circularRefs = null;
        return rv;
    }
    function innerDeepClone(x) {
        if (!x || typeof x !== 'object')
            return x;
        var rv = circularRefs.get(x);
        if (rv)
            return rv;
        if (isArray(x)) {
            rv = [];
            circularRefs.set(x, rv);
            for (var i = 0, l = x.length; i < l; ++i) {
                rv.push(innerDeepClone(x[i]));
            }
        }
        else if (intrinsicTypes.has(x.constructor)) {
            rv = x;
        }
        else {
            var proto = getProto(x);
            rv = proto === Object.prototype ? {} : Object.create(proto);
            circularRefs.set(x, rv);
            for (var prop in x) {
                if (hasOwn(x, prop)) {
                    rv[prop] = innerDeepClone(x[prop]);
                }
            }
        }
        return rv;
    }
    var toString = {}.toString;
    function toStringTag(o) {
        return toString.call(o).slice(8, -1);
    }
    var iteratorSymbol = typeof Symbol !== 'undefined' ?
        Symbol.iterator :
        '@@iterator';
    var getIteratorOf = typeof iteratorSymbol === "symbol" ? function (x) {
        var i;
        return x != null && (i = x[iteratorSymbol]) && i.apply(x);
    } : function () { return null; };
    function delArrayItem(a, x) {
        var i = a.indexOf(x);
        if (i >= 0)
            a.splice(i, 1);
        return i >= 0;
    }
    var NO_CHAR_ARRAY = {};
    function getArrayOf(arrayLike) {
        var i, a, x, it;
        if (arguments.length === 1) {
            if (isArray(arrayLike))
                return arrayLike.slice();
            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')
                return [arrayLike];
            if ((it = getIteratorOf(arrayLike))) {
                a = [];
                while ((x = it.next()), !x.done)
                    a.push(x.value);
                return a;
            }
            if (arrayLike == null)
                return [arrayLike];
            i = arrayLike.length;
            if (typeof i === 'number') {
                a = new Array(i);
                while (i--)
                    a[i] = arrayLike[i];
                return a;
            }
            return [arrayLike];
        }
        i = arguments.length;
        a = new Array(i);
        while (i--)
            a[i] = arguments[i];
        return a;
    }
    var isAsyncFunction = typeof Symbol !== 'undefined'
        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }
        : function () { return false; };

    var dexieErrorNames = [
        'Modify',
        'Bulk',
        'OpenFailed',
        'VersionChange',
        'Schema',
        'Upgrade',
        'InvalidTable',
        'MissingAPI',
        'NoSuchDatabase',
        'InvalidArgument',
        'SubTransaction',
        'Unsupported',
        'Internal',
        'DatabaseClosed',
        'PrematureCommit',
        'ForeignAwait'
    ];
    var idbDomErrorNames = [
        'Unknown',
        'Constraint',
        'Data',
        'TransactionInactive',
        'ReadOnly',
        'Version',
        'NotFound',
        'InvalidState',
        'InvalidAccess',
        'Abort',
        'Timeout',
        'QuotaExceeded',
        'Syntax',
        'DataClone'
    ];
    var errorList = dexieErrorNames.concat(idbDomErrorNames);
    var defaultTexts = {
        VersionChanged: "Database version changed by other database connection",
        DatabaseClosed: "Database has been closed",
        Abort: "Transaction aborted",
        TransactionInactive: "Transaction has already completed or failed",
        MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"
    };
    function DexieError(name, msg) {
        this.name = name;
        this.message = msg;
    }
    derive(DexieError).from(Error).extend({
        toString: function () { return this.name + ": " + this.message; }
    });
    function getMultiErrorMessage(msg, failures) {
        return msg + ". Errors: " + Object.keys(failures)
            .map(function (key) { return failures[key].toString(); })
            .filter(function (v, i, s) { return s.indexOf(v) === i; })
            .join('\n');
    }
    function ModifyError(msg, failures, successCount, failedKeys) {
        this.failures = failures;
        this.failedKeys = failedKeys;
        this.successCount = successCount;
        this.message = getMultiErrorMessage(msg, failures);
    }
    derive(ModifyError).from(DexieError);
    function BulkError(msg, failures) {
        this.name = "BulkError";
        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });
        this.failuresByPos = failures;
        this.message = getMultiErrorMessage(msg, this.failures);
    }
    derive(BulkError).from(DexieError);
    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + "Error", obj); }, {});
    var BaseException = DexieError;
    var exceptions = errorList.reduce(function (obj, name) {
        var fullName = name + "Error";
        function DexieError(msgOrInner, inner) {
            this.name = fullName;
            if (!msgOrInner) {
                this.message = defaultTexts[name] || fullName;
                this.inner = null;
            }
            else if (typeof msgOrInner === 'string') {
                this.message = "".concat(msgOrInner).concat(!inner ? '' : '\n ' + inner);
                this.inner = inner || null;
            }
            else if (typeof msgOrInner === 'object') {
                this.message = "".concat(msgOrInner.name, " ").concat(msgOrInner.message);
                this.inner = msgOrInner;
            }
        }
        derive(DexieError).from(BaseException);
        obj[name] = DexieError;
        return obj;
    }, {});
    exceptions.Syntax = SyntaxError;
    exceptions.Type = TypeError;
    exceptions.Range = RangeError;
    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {
        obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    function mapError(domError, message) {
        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])
            return domError;
        var rv = new exceptionMap[domError.name](message || domError.message, domError);
        if ("stack" in domError) {
            setProp(rv, "stack", { get: function () {
                    return this.inner.stack;
                } });
        }
        return rv;
    }
    var fullNameExceptions = errorList.reduce(function (obj, name) {
        if (["Syntax", "Type", "Range"].indexOf(name) === -1)
            obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    fullNameExceptions.ModifyError = ModifyError;
    fullNameExceptions.DexieError = DexieError;
    fullNameExceptions.BulkError = BulkError;

    function nop() { }
    function mirror(val) { return val; }
    function pureFunctionChain(f1, f2) {
        if (f1 == null || f1 === mirror)
            return f2;
        return function (val) {
            return f2(f1(val));
        };
    }
    function callBoth(on1, on2) {
        return function () {
            on1.apply(this, arguments);
            on2.apply(this, arguments);
        };
    }
    function hookCreatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res !== undefined)
                arguments[0] = res;
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res2 !== undefined ? res2 : res;
        };
    }
    function hookDeletingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            f1.apply(this, arguments);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = this.onerror = null;
            f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        };
    }
    function hookUpdatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function (modifications) {
            var res = f1.apply(this, arguments);
            extend(modifications, res);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res === undefined ?
                (res2 === undefined ? undefined : res2) :
                (extend(res, res2));
        };
    }
    function reverseStoppableEventChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            if (f2.apply(this, arguments) === false)
                return false;
            return f1.apply(this, arguments);
        };
    }
    function promisableChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res && typeof res.then === 'function') {
                var thiz = this, i = arguments.length, args = new Array(i);
                while (i--)
                    args[i] = arguments[i];
                return res.then(function () {
                    return f2.apply(thiz, args);
                });
            }
            return f2.apply(this, arguments);
        };
    }

    var debug = typeof location !== 'undefined' &&
        /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
    function setDebug(value, filter) {
        debug = value;
    }

    var INTERNAL = {};
    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?
        [] :
        (function () {
            var globalP = Promise.resolve();
            if (typeof crypto === 'undefined' || !crypto.subtle)
                return [globalP, getProto(globalP), globalP];
            var nativeP = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
            return [
                nativeP,
                getProto(nativeP),
                globalP
            ];
        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;
    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;
    var patchGlobalPromise = !!resolvedGlobalPromise;
    function schedulePhysicalTick() {
        queueMicrotask(physicalTick);
    }
    var asap = function (callback, args) {
        microtickQueue.push([callback, args]);
        if (needsNewPhysicalTick) {
            schedulePhysicalTick();
            needsNewPhysicalTick = false;
        }
    };
    var isOutsideMicroTick = true,
    needsNewPhysicalTick = true,
    unhandledErrors = [],
    rejectingErrors = [],
    rejectionMapper = mirror;
    var globalPSD = {
        id: 'global',
        global: true,
        ref: 0,
        unhandleds: [],
        onunhandled: nop,
        pgp: false,
        env: {},
        finalize: nop
    };
    var PSD = globalPSD;
    var microtickQueue = [];
    var numScheduledCalls = 0;
    var tickFinalizers = [];
    function DexiePromise(fn) {
        if (typeof this !== 'object')
            throw new TypeError('Promises must be constructed via new');
        this._listeners = [];
        this._lib = false;
        var psd = (this._PSD = PSD);
        if (typeof fn !== 'function') {
            if (fn !== INTERNAL)
                throw new TypeError('Not a function');
            this._state = arguments[1];
            this._value = arguments[2];
            if (this._state === false)
                handleRejection(this, this._value);
            return;
        }
        this._state = null;
        this._value = null;
        ++psd.ref;
        executePromiseTask(this, fn);
    }
    var thenProp = {
        get: function () {
            var psd = PSD, microTaskId = totalEchoes;
            function then(onFulfilled, onRejected) {
                var _this = this;
                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);
                var cleanup = possibleAwait && !decrementExpectedAwaits();
                var rv = new DexiePromise(function (resolve, reject) {
                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));
                });
                if (this._consoleTask)
                    rv._consoleTask = this._consoleTask;
                return rv;
            }
            then.prototype = INTERNAL;
            return then;
        },
        set: function (value) {
            setProp(this, 'then', value && value.prototype === INTERNAL ?
                thenProp :
                {
                    get: function () {
                        return value;
                    },
                    set: thenProp.set
                });
        }
    };
    props(DexiePromise.prototype, {
        then: thenProp,
        _then: function (onFulfilled, onRejected) {
            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));
        },
        catch: function (onRejected) {
            if (arguments.length === 1)
                return this.then(null, onRejected);
            var type = arguments[0], handler = arguments[1];
            return typeof type === 'function' ? this.then(null, function (err) {
                return err instanceof type ? handler(err) : PromiseReject(err);
            })
                : this.then(null, function (err) {
                    return err && err.name === type ? handler(err) : PromiseReject(err);
                });
        },
        finally: function (onFinally) {
            return this.then(function (value) {
                return DexiePromise.resolve(onFinally()).then(function () { return value; });
            }, function (err) {
                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });
            });
        },
        timeout: function (ms, msg) {
            var _this = this;
            return ms < Infinity ?
                new DexiePromise(function (resolve, reject) {
                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);
                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));
                }) : this;
        }
    });
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');
    globalPSD.env = snapShot();
    function Listener(onFulfilled, onRejected, resolve, reject, zone) {
        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
        this.onRejected = typeof onRejected === 'function' ? onRejected : null;
        this.resolve = resolve;
        this.reject = reject;
        this.psd = zone;
    }
    props(DexiePromise, {
        all: function () {
            var values = getArrayOf.apply(null, arguments)
                .map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                if (values.length === 0)
                    resolve([]);
                var remaining = values.length;
                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {
                    values[i] = x;
                    if (!--remaining)
                        resolve(values);
                }, reject); });
            });
        },
        resolve: function (value) {
            if (value instanceof DexiePromise)
                return value;
            if (value && typeof value.then === 'function')
                return new DexiePromise(function (resolve, reject) {
                    value.then(resolve, reject);
                });
            var rv = new DexiePromise(INTERNAL, true, value);
            return rv;
        },
        reject: PromiseReject,
        race: function () {
            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });
            });
        },
        PSD: {
            get: function () { return PSD; },
            set: function (value) { return PSD = value; }
        },
        totalEchoes: { get: function () { return totalEchoes; } },
        newPSD: newScope,
        usePSD: usePSD,
        scheduler: {
            get: function () { return asap; },
            set: function (value) { asap = value; }
        },
        rejectionMapper: {
            get: function () { return rejectionMapper; },
            set: function (value) { rejectionMapper = value; }
        },
        follow: function (fn, zoneProps) {
            return new DexiePromise(function (resolve, reject) {
                return newScope(function (resolve, reject) {
                    var psd = PSD;
                    psd.unhandleds = [];
                    psd.onunhandled = reject;
                    psd.finalize = callBoth(function () {
                        var _this = this;
                        run_at_end_of_this_or_next_physical_tick(function () {
                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);
                        });
                    }, psd.finalize);
                    fn();
                }, zoneProps, resolve, reject);
            });
        }
    });
    if (NativePromise) {
        if (NativePromise.allSettled)
            setProp(DexiePromise, "allSettled", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve) {
                    if (possiblePromises.length === 0)
                        resolve([]);
                    var remaining = possiblePromises.length;
                    var results = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: "fulfilled", value: value }; }, function (reason) { return results[i] = { status: "rejected", reason: reason }; })
                        .then(function () { return --remaining || resolve(results); }); });
                });
            });
        if (NativePromise.any && typeof AggregateError !== 'undefined')
            setProp(DexiePromise, "any", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve, reject) {
                    if (possiblePromises.length === 0)
                        reject(new AggregateError([]));
                    var remaining = possiblePromises.length;
                    var failures = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {
                        failures[i] = failure;
                        if (!--remaining)
                            reject(new AggregateError(failures));
                    }); });
                });
            });
        if (NativePromise.withResolvers)
            DexiePromise.withResolvers = NativePromise.withResolvers;
    }
    function executePromiseTask(promise, fn) {
        try {
            fn(function (value) {
                if (promise._state !== null)
                    return;
                if (value === promise)
                    throw new TypeError('A promise cannot be resolved with itself.');
                var shouldExecuteTick = promise._lib && beginMicroTickScope();
                if (value && typeof value.then === 'function') {
                    executePromiseTask(promise, function (resolve, reject) {
                        value instanceof DexiePromise ?
                            value._then(resolve, reject) :
                            value.then(resolve, reject);
                    });
                }
                else {
                    promise._state = true;
                    promise._value = value;
                    propagateAllListeners(promise);
                }
                if (shouldExecuteTick)
                    endMicroTickScope();
            }, handleRejection.bind(null, promise));
        }
        catch (ex) {
            handleRejection(promise, ex);
        }
    }
    function handleRejection(promise, reason) {
        rejectingErrors.push(reason);
        if (promise._state !== null)
            return;
        var shouldExecuteTick = promise._lib && beginMicroTickScope();
        reason = rejectionMapper(reason);
        promise._state = false;
        promise._value = reason;
        addPossiblyUnhandledError(promise);
        propagateAllListeners(promise);
        if (shouldExecuteTick)
            endMicroTickScope();
    }
    function propagateAllListeners(promise) {
        var listeners = promise._listeners;
        promise._listeners = [];
        for (var i = 0, len = listeners.length; i < len; ++i) {
            propagateToListener(promise, listeners[i]);
        }
        var psd = promise._PSD;
        --psd.ref || psd.finalize();
        if (numScheduledCalls === 0) {
            ++numScheduledCalls;
            asap(function () {
                if (--numScheduledCalls === 0)
                    finalizePhysicalTick();
            }, []);
        }
    }
    function propagateToListener(promise, listener) {
        if (promise._state === null) {
            promise._listeners.push(listener);
            return;
        }
        var cb = promise._state ? listener.onFulfilled : listener.onRejected;
        if (cb === null) {
            return (promise._state ? listener.resolve : listener.reject)(promise._value);
        }
        ++listener.psd.ref;
        ++numScheduledCalls;
        asap(callListener, [cb, promise, listener]);
    }
    function callListener(cb, promise, listener) {
        try {
            var ret, value = promise._value;
            if (!promise._state && rejectingErrors.length)
                rejectingErrors = [];
            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);
            if (!promise._state && rejectingErrors.indexOf(value) === -1) {
                markErrorAsHandled(promise);
            }
            listener.resolve(ret);
        }
        catch (e) {
            listener.reject(e);
        }
        finally {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
            --listener.psd.ref || listener.psd.finalize();
        }
    }
    function physicalTick() {
        usePSD(globalPSD, function () {
            beginMicroTickScope() && endMicroTickScope();
        });
    }
    function beginMicroTickScope() {
        var wasRootExec = isOutsideMicroTick;
        isOutsideMicroTick = false;
        needsNewPhysicalTick = false;
        return wasRootExec;
    }
    function endMicroTickScope() {
        var callbacks, i, l;
        do {
            while (microtickQueue.length > 0) {
                callbacks = microtickQueue;
                microtickQueue = [];
                l = callbacks.length;
                for (i = 0; i < l; ++i) {
                    var item = callbacks[i];
                    item[0].apply(null, item[1]);
                }
            }
        } while (microtickQueue.length > 0);
        isOutsideMicroTick = true;
        needsNewPhysicalTick = true;
    }
    function finalizePhysicalTick() {
        var unhandledErrs = unhandledErrors;
        unhandledErrors = [];
        unhandledErrs.forEach(function (p) {
            p._PSD.onunhandled.call(null, p._value, p);
        });
        var finalizers = tickFinalizers.slice(0);
        var i = finalizers.length;
        while (i)
            finalizers[--i]();
    }
    function run_at_end_of_this_or_next_physical_tick(fn) {
        function finalizer() {
            fn();
            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);
        }
        tickFinalizers.push(finalizer);
        ++numScheduledCalls;
        asap(function () {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
        }, []);
    }
    function addPossiblyUnhandledError(promise) {
        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))
            unhandledErrors.push(promise);
    }
    function markErrorAsHandled(promise) {
        var i = unhandledErrors.length;
        while (i)
            if (unhandledErrors[--i]._value === promise._value) {
                unhandledErrors.splice(i, 1);
                return;
            }
    }
    function PromiseReject(reason) {
        return new DexiePromise(INTERNAL, false, reason);
    }
    function wrap(fn, errorCatcher) {
        var psd = PSD;
        return function () {
            var wasRootExec = beginMicroTickScope(), outerScope = PSD;
            try {
                switchToZone(psd, true);
                return fn.apply(this, arguments);
            }
            catch (e) {
                errorCatcher && errorCatcher(e);
            }
            finally {
                switchToZone(outerScope, false);
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
    }
    var task = { awaits: 0, echoes: 0, id: 0 };
    var taskCounter = 0;
    var zoneStack = [];
    var zoneEchoes = 0;
    var totalEchoes = 0;
    var zone_id_counter = 0;
    function newScope(fn, props, a1, a2) {
        var parent = PSD, psd = Object.create(parent);
        psd.parent = parent;
        psd.ref = 0;
        psd.global = false;
        psd.id = ++zone_id_counter;
        globalPSD.env;
        psd.env = patchGlobalPromise ? {
            Promise: DexiePromise,
            PromiseProp: { value: DexiePromise, configurable: true, writable: true },
            all: DexiePromise.all,
            race: DexiePromise.race,
            allSettled: DexiePromise.allSettled,
            any: DexiePromise.any,
            resolve: DexiePromise.resolve,
            reject: DexiePromise.reject,
        } : {};
        if (props)
            extend(psd, props);
        ++parent.ref;
        psd.finalize = function () {
            --this.parent.ref || this.parent.finalize();
        };
        var rv = usePSD(psd, fn, a1, a2);
        if (psd.ref === 0)
            psd.finalize();
        return rv;
    }
    function incrementExpectedAwaits() {
        if (!task.id)
            task.id = ++taskCounter;
        ++task.awaits;
        task.echoes += ZONE_ECHO_LIMIT;
        return task.id;
    }
    function decrementExpectedAwaits() {
        if (!task.awaits)
            return false;
        if (--task.awaits === 0)
            task.id = 0;
        task.echoes = task.awaits * ZONE_ECHO_LIMIT;
        return true;
    }
    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {
        incrementExpectedAwaits = decrementExpectedAwaits = nop;
    }
    function onPossibleParallellAsync(possiblePromise) {
        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {
            incrementExpectedAwaits();
            return possiblePromise.then(function (x) {
                decrementExpectedAwaits();
                return x;
            }, function (e) {
                decrementExpectedAwaits();
                return rejection(e);
            });
        }
        return possiblePromise;
    }
    function zoneEnterEcho(targetZone) {
        ++totalEchoes;
        if (!task.echoes || --task.echoes === 0) {
            task.echoes = task.awaits = task.id = 0;
        }
        zoneStack.push(PSD);
        switchToZone(targetZone, true);
    }
    function zoneLeaveEcho() {
        var zone = zoneStack[zoneStack.length - 1];
        zoneStack.pop();
        switchToZone(zone, false);
    }
    function switchToZone(targetZone, bEnteringZone) {
        var currentZone = PSD;
        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {
            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);
        }
        if (targetZone === PSD)
            return;
        PSD = targetZone;
        if (currentZone === globalPSD)
            globalPSD.env = snapShot();
        if (patchGlobalPromise) {
            var GlobalPromise = globalPSD.env.Promise;
            var targetEnv = targetZone.env;
            if (currentZone.global || targetZone.global) {
                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);
                GlobalPromise.all = targetEnv.all;
                GlobalPromise.race = targetEnv.race;
                GlobalPromise.resolve = targetEnv.resolve;
                GlobalPromise.reject = targetEnv.reject;
                if (targetEnv.allSettled)
                    GlobalPromise.allSettled = targetEnv.allSettled;
                if (targetEnv.any)
                    GlobalPromise.any = targetEnv.any;
            }
        }
    }
    function snapShot() {
        var GlobalPromise = _global.Promise;
        return patchGlobalPromise ? {
            Promise: GlobalPromise,
            PromiseProp: Object.getOwnPropertyDescriptor(_global, "Promise"),
            all: GlobalPromise.all,
            race: GlobalPromise.race,
            allSettled: GlobalPromise.allSettled,
            any: GlobalPromise.any,
            resolve: GlobalPromise.resolve,
            reject: GlobalPromise.reject,
        } : {};
    }
    function usePSD(psd, fn, a1, a2, a3) {
        var outerScope = PSD;
        try {
            switchToZone(psd, true);
            return fn(a1, a2, a3);
        }
        finally {
            switchToZone(outerScope, false);
        }
    }
    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {
        return typeof fn !== 'function' ? fn : function () {
            var outerZone = PSD;
            if (possibleAwait)
                incrementExpectedAwaits();
            switchToZone(zone, true);
            try {
                return fn.apply(this, arguments);
            }
            finally {
                switchToZone(outerZone, false);
                if (cleanup)
                    queueMicrotask(decrementExpectedAwaits);
            }
        };
    }
    function execInGlobalContext(cb) {
        if (Promise === NativePromise && task.echoes === 0) {
            if (zoneEchoes === 0) {
                cb();
            }
            else {
                enqueueNativeMicroTask(cb);
            }
        }
        else {
            setTimeout(cb, 0);
        }
    }
    var rejection = DexiePromise.reject;

    function tempTransaction(db, mode, storeNames, fn) {
        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {
            if (db._state.openComplete) {
                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));
            }
            if (!db._state.isBeingOpened) {
                if (!db._state.autoOpen)
                    return rejection(new exceptions.DatabaseClosed());
                db.open().catch(nop);
            }
            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });
        }
        else {
            var trans = db._createTransaction(mode, storeNames, db._dbSchema);
            try {
                trans.create();
                db._state.PR1398_maxLoop = 3;
            }
            catch (ex) {
                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                    console.warn('Dexie: Need to reopen db');
                    db.close({ disableAutoOpen: false });
                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });
                }
                return rejection(ex);
            }
            return trans._promise(mode, function (resolve, reject) {
                return newScope(function () {
                    PSD.trans = trans;
                    return fn(resolve, reject, trans);
                });
            }).then(function (result) {
                if (mode === 'readwrite')
                    try {
                        trans.idbtrans.commit();
                    }
                    catch (_a) { }
                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });
            });
        }
    }

    var DEXIE_VERSION = '4.0.11';
    var maxString = String.fromCharCode(65535);
    var minKey = -Infinity;
    var INVALID_KEY_ARGUMENT = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";
    var STRING_EXPECTED = "String expected.";
    var connections = [];
    var DBNAMES_DB = '__dbnames';
    var READONLY = 'readonly';
    var READWRITE = 'readwrite';

    function combine(filter1, filter2) {
        return filter1 ?
            filter2 ?
                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :
                filter1 :
            filter2;
    }

    var AnyRange = {
        type: 3 ,
        lower: -Infinity,
        lowerOpen: false,
        upper: [[]],
        upperOpen: false
    };

    function workaroundForUndefinedPrimKey(keyPath) {
        return typeof keyPath === "string" && !/\./.test(keyPath)
            ? function (obj) {
                if (obj[keyPath] === undefined && (keyPath in obj)) {
                    obj = deepClone(obj);
                    delete obj[keyPath];
                }
                return obj;
            }
            : function (obj) { return obj; };
    }

    function Entity() {
        throw exceptions.Type();
    }

    function cmp(a, b) {
        try {
            var ta = type(a);
            var tb = type(b);
            if (ta !== tb) {
                if (ta === 'Array')
                    return 1;
                if (tb === 'Array')
                    return -1;
                if (ta === 'binary')
                    return 1;
                if (tb === 'binary')
                    return -1;
                if (ta === 'string')
                    return 1;
                if (tb === 'string')
                    return -1;
                if (ta === 'Date')
                    return 1;
                if (tb !== 'Date')
                    return NaN;
                return -1;
            }
            switch (ta) {
                case 'number':
                case 'Date':
                case 'string':
                    return a > b ? 1 : a < b ? -1 : 0;
                case 'binary': {
                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));
                }
                case 'Array':
                    return compareArrays(a, b);
            }
        }
        catch (_a) { }
        return NaN;
    }
    function compareArrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            var res = cmp(a[i], b[i]);
            if (res !== 0)
                return res;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function compareUint8Arrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            if (a[i] !== b[i])
                return a[i] < b[i] ? -1 : 1;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function type(x) {
        var t = typeof x;
        if (t !== 'object')
            return t;
        if (ArrayBuffer.isView(x))
            return 'binary';
        var tsTag = toStringTag(x);
        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;
    }
    function getUint8Array(a) {
        if (a instanceof Uint8Array)
            return a;
        if (ArrayBuffer.isView(a))
            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        return new Uint8Array(a);
    }

    var Table =  (function () {
        function Table() {
        }
        Table.prototype._trans = function (mode, fn, writeLocked) {
            var trans = this._tx || PSD.trans;
            var tableName = this.name;
            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask("Dexie: ".concat(mode === 'readonly' ? 'read' : 'write', " ").concat(this.name));
            function checkTableInTransaction(resolve, reject, trans) {
                if (!trans.schema[tableName])
                    throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
                return fn(trans.idbtrans, trans);
            }
            var wasRootExec = beginMicroTickScope();
            try {
                var p = trans && trans.db._novip === this.db._novip ?
                    trans === PSD.trans ?
                        trans._promise(mode, checkTableInTransaction, writeLocked) :
                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :
                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);
                if (task) {
                    p._consoleTask = task;
                    p = p.catch(function (err) {
                        console.trace(err);
                        return rejection(err);
                    });
                }
                return p;
            }
            finally {
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
        Table.prototype.get = function (keyOrCrit, cb) {
            var _this = this;
            if (keyOrCrit && keyOrCrit.constructor === Object)
                return this.where(keyOrCrit).first(cb);
            if (keyOrCrit == null)
                return rejection(new exceptions.Type("Invalid argument to Table.get()"));
            return this._trans('readonly', function (trans) {
                return _this.core.get({ trans: trans, key: keyOrCrit })
                    .then(function (res) { return _this.hook.reading.fire(res); });
            }).then(cb);
        };
        Table.prototype.where = function (indexOrCrit) {
            if (typeof indexOrCrit === 'string')
                return new this.db.WhereClause(this, indexOrCrit);
            if (isArray(indexOrCrit))
                return new this.db.WhereClause(this, "[".concat(indexOrCrit.join('+'), "]"));
            var keyPaths = keys(indexOrCrit);
            if (keyPaths.length === 1)
                return this
                    .where(keyPaths[0])
                    .equals(indexOrCrit[keyPaths[0]]);
            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {
                if (ix.compound &&
                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {
                    for (var i = 0; i < keyPaths.length; ++i) {
                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)
                            return false;
                    }
                    return true;
                }
                return false;
            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];
            if (compoundIndex && this.db._maxKey !== maxString) {
                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);
                return this
                    .where(keyPathsInValidOrder)
                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));
            }
            if (!compoundIndex && debug)
                console.warn("The query ".concat(JSON.stringify(indexOrCrit), " on ").concat(this.name, " would benefit from a ") +
                    "compound index [".concat(keyPaths.join('+'), "]"));
            var idxByName = this.schema.idxByName;
            function equals(a, b) {
                return cmp(a, b) === 0;
            }
            var _a = keyPaths.reduce(function (_a, keyPath) {
                var prevIndex = _a[0], prevFilterFn = _a[1];
                var index = idxByName[keyPath];
                var value = indexOrCrit[keyPath];
                return [
                    prevIndex || index,
                    prevIndex || !index ?
                        combine(prevFilterFn, index && index.multi ?
                            function (x) {
                                var prop = getByKeyPath(x, keyPath);
                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });
                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })
                        : prevFilterFn
                ];
            }, [null, null]), idx = _a[0], filterFunction = _a[1];
            return idx ?
                this.where(idx.name).equals(indexOrCrit[idx.keyPath])
                    .filter(filterFunction) :
                compoundIndex ?
                    this.filter(filterFunction) :
                    this.where(keyPaths).equals('');
        };
        Table.prototype.filter = function (filterFunction) {
            return this.toCollection().and(filterFunction);
        };
        Table.prototype.count = function (thenShortcut) {
            return this.toCollection().count(thenShortcut);
        };
        Table.prototype.offset = function (offset) {
            return this.toCollection().offset(offset);
        };
        Table.prototype.limit = function (numRows) {
            return this.toCollection().limit(numRows);
        };
        Table.prototype.each = function (callback) {
            return this.toCollection().each(callback);
        };
        Table.prototype.toArray = function (thenShortcut) {
            return this.toCollection().toArray(thenShortcut);
        };
        Table.prototype.toCollection = function () {
            return new this.db.Collection(new this.db.WhereClause(this));
        };
        Table.prototype.orderBy = function (index) {
            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?
                "[".concat(index.join('+'), "]") :
                index));
        };
        Table.prototype.reverse = function () {
            return this.toCollection().reverse();
        };
        Table.prototype.mapToClass = function (constructor) {
            var _a = this, db = _a.db, tableName = _a.name;
            this.schema.mappedClass = constructor;
            if (constructor.prototype instanceof Entity) {
                constructor =  (function (_super) {
                    __extends(class_1, _super);
                    function class_1() {
                        return _super !== null && _super.apply(this, arguments) || this;
                    }
                    Object.defineProperty(class_1.prototype, "db", {
                        get: function () { return db; },
                        enumerable: false,
                        configurable: true
                    });
                    class_1.prototype.table = function () { return tableName; };
                    return class_1;
                }(constructor));
            }
            var inheritedProps = new Set();
            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {
                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });
            }
            var readHook = function (obj) {
                if (!obj)
                    return obj;
                var res = Object.create(constructor.prototype);
                for (var m in obj)
                    if (!inheritedProps.has(m))
                        try {
                            res[m] = obj[m];
                        }
                        catch (_) { }
                return res;
            };
            if (this.schema.readHook) {
                this.hook.reading.unsubscribe(this.schema.readHook);
            }
            this.schema.readHook = readHook;
            this.hook("reading", readHook);
            return constructor;
        };
        Table.prototype.defineClass = function () {
            function Class(content) {
                extend(this, content);
            }
            return this.mapToClass(Class);
        };
        Table.prototype.add = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });
            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.update = function (keyOrObject, modifications) {
            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {
                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);
                if (key === undefined)
                    return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));
                return this.where(":id").equals(key).modify(modifications);
            }
            else {
                return this.where(":id").equals(keyOrObject).modify(modifications);
            }
        };
        Table.prototype.put = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.delete = function (key) {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.clear = function () {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.bulkGet = function (keys) {
            var _this = this;
            return this._trans('readonly', function (trans) {
                return _this.core.getMany({
                    keys: keys,
                    trans: trans
                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });
            });
        };
        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToAdd = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkAdd(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToPut = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkPut(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkUpdate = function (keysAndChanges) {
            var _this = this;
            var coreTable = this.core;
            var keys = keysAndChanges.map(function (entry) { return entry.key; });
            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });
            var offsetMap = [];
            return this._trans('readwrite', function (trans) {
                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {
                    var resultKeys = [];
                    var resultObjs = [];
                    keysAndChanges.forEach(function (_a, idx) {
                        var key = _a.key, changes = _a.changes;
                        var obj = objs[idx];
                        if (obj) {
                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {
                                var keyPath = _b[_i];
                                var value = changes[keyPath];
                                if (keyPath === _this.schema.primKey.keyPath) {
                                    if (cmp(value, key) !== 0) {
                                        throw new exceptions.Constraint("Cannot update primary key in bulkUpdate()");
                                    }
                                }
                                else {
                                    setByKeyPath(obj, keyPath, value);
                                }
                            }
                            offsetMap.push(idx);
                            resultKeys.push(key);
                            resultObjs.push(obj);
                        }
                    });
                    var numEntries = resultKeys.length;
                    return coreTable
                        .mutate({
                        trans: trans,
                        type: 'put',
                        keys: resultKeys,
                        values: resultObjs,
                        updates: {
                            keys: keys,
                            changeSpecs: changeSpecs
                        }
                    })
                        .then(function (_a) {
                        var numFailures = _a.numFailures, failures = _a.failures;
                        if (numFailures === 0)
                            return numEntries;
                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {
                            var offset = _b[_i];
                            var mappedOffset = offsetMap[Number(offset)];
                            if (mappedOffset != null) {
                                var failure = failures[offset];
                                delete failures[offset];
                                failures[mappedOffset] = failure;
                            }
                        }
                        throw new BulkError("".concat(_this.name, ".bulkUpdate(): ").concat(numFailures, " of ").concat(numEntries, " operations failed"), failures);
                    });
                });
            });
        };
        Table.prototype.bulkDelete = function (keys) {
            var _this = this;
            var numKeys = keys.length;
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });
            }).then(function (_a) {
                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;
                if (numFailures === 0)
                    return lastResult;
                throw new BulkError("".concat(_this.name, ".bulkDelete(): ").concat(numFailures, " of ").concat(numKeys, " operations failed"), failures);
            });
        };
        return Table;
    }());

    function Events(ctx) {
        var evs = {};
        var rv = function (eventName, subscriber) {
            if (subscriber) {
                var i = arguments.length, args = new Array(i - 1);
                while (--i)
                    args[i - 1] = arguments[i];
                evs[eventName].subscribe.apply(null, args);
                return ctx;
            }
            else if (typeof (eventName) === 'string') {
                return evs[eventName];
            }
        };
        rv.addEventType = add;
        for (var i = 1, l = arguments.length; i < l; ++i) {
            add(arguments[i]);
        }
        return rv;
        function add(eventName, chainFunction, defaultFunction) {
            if (typeof eventName === 'object')
                return addConfiguredEvents(eventName);
            if (!chainFunction)
                chainFunction = reverseStoppableEventChain;
            if (!defaultFunction)
                defaultFunction = nop;
            var context = {
                subscribers: [],
                fire: defaultFunction,
                subscribe: function (cb) {
                    if (context.subscribers.indexOf(cb) === -1) {
                        context.subscribers.push(cb);
                        context.fire = chainFunction(context.fire, cb);
                    }
                },
                unsubscribe: function (cb) {
                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });
                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);
                }
            };
            evs[eventName] = rv[eventName] = context;
            return context;
        }
        function addConfiguredEvents(cfg) {
            keys(cfg).forEach(function (eventName) {
                var args = cfg[eventName];
                if (isArray(args)) {
                    add(eventName, cfg[eventName][0], cfg[eventName][1]);
                }
                else if (args === 'asap') {
                    var context = add(eventName, mirror, function fire() {
                        var i = arguments.length, args = new Array(i);
                        while (i--)
                            args[i] = arguments[i];
                        context.subscribers.forEach(function (fn) {
                            asap$1(function fireEvent() {
                                fn.apply(null, args);
                            });
                        });
                    });
                }
                else
                    throw new exceptions.InvalidArgument("Invalid event config");
            });
        }
    }

    function makeClassConstructor(prototype, constructor) {
        derive(constructor).from({ prototype: prototype });
        return constructor;
    }

    function createTableConstructor(db) {
        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {
            this.db = db;
            this._tx = trans;
            this.name = name;
            this.schema = tableSchema;
            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {
                "creating": [hookCreatingChain, nop],
                "reading": [pureFunctionChain, mirror],
                "updating": [hookUpdatingChain, nop],
                "deleting": [hookDeletingChain, nop]
            });
        });
    }

    function isPlainKeyRange(ctx, ignoreLimitFilter) {
        return !(ctx.filter || ctx.algorithm || ctx.or) &&
            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);
    }
    function addFilter(ctx, fn) {
        ctx.filter = combine(ctx.filter, fn);
    }
    function addReplayFilter(ctx, factory, isLimitFilter) {
        var curr = ctx.replayFilter;
        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;
        ctx.justLimit = isLimitFilter && !curr;
    }
    function addMatchFilter(ctx, fn) {
        ctx.isMatch = combine(ctx.isMatch, fn);
    }
    function getIndexOrStore(ctx, coreSchema) {
        if (ctx.isPrimKey)
            return coreSchema.primaryKey;
        var index = coreSchema.getIndexByKeyPath(ctx.index);
        if (!index)
            throw new exceptions.Schema("KeyPath " + ctx.index + " on object store " + coreSchema.name + " is not indexed");
        return index;
    }
    function openCursor(ctx, coreTable, trans) {
        var index = getIndexOrStore(ctx, coreTable.schema);
        return coreTable.openCursor({
            trans: trans,
            values: !ctx.keysOnly,
            reverse: ctx.dir === 'prev',
            unique: !!ctx.unique,
            query: {
                index: index,
                range: ctx.range
            }
        });
    }
    function iter(ctx, fn, coreTrans, coreTable) {
        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;
        if (!ctx.or) {
            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);
        }
        else {
            var set_1 = {};
            var union = function (item, cursor, advance) {
                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {
                    var primaryKey = cursor.primaryKey;
                    var key = '' + primaryKey;
                    if (key === '[object ArrayBuffer]')
                        key = '' + new Uint8Array(primaryKey);
                    if (!hasOwn(set_1, key)) {
                        set_1[key] = true;
                        fn(item, cursor, advance);
                    }
                }
            };
            return Promise.all([
                ctx.or._iterate(union, coreTrans),
                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)
            ]);
        }
    }
    function iterate(cursorPromise, filter, fn, valueMapper) {
        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;
        var wrappedFn = wrap(mappedFn);
        return cursorPromise.then(function (cursor) {
            if (cursor) {
                return cursor.start(function () {
                    var c = function () { return cursor.continue(); };
                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))
                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });
                    c();
                });
            }
        });
    }

    var PropModification =  (function () {
        function PropModification(spec) {
            this["@@propmod"] = spec;
        }
        PropModification.prototype.execute = function (value) {
            var _a;
            var spec = this["@@propmod"];
            if (spec.add !== undefined) {
                var term = spec.add;
                if (isArray(term)) {
                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();
                }
                if (typeof term === 'number')
                    return (Number(value) || 0) + term;
                if (typeof term === 'bigint') {
                    try {
                        return BigInt(value) + term;
                    }
                    catch (_b) {
                        return BigInt(0) + term;
                    }
                }
                throw new TypeError("Invalid term ".concat(term));
            }
            if (spec.remove !== undefined) {
                var subtrahend_1 = spec.remove;
                if (isArray(subtrahend_1)) {
                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];
                }
                if (typeof subtrahend_1 === 'number')
                    return Number(value) - subtrahend_1;
                if (typeof subtrahend_1 === 'bigint') {
                    try {
                        return BigInt(value) - subtrahend_1;
                    }
                    catch (_c) {
                        return BigInt(0) - subtrahend_1;
                    }
                }
                throw new TypeError("Invalid subtrahend ".concat(subtrahend_1));
            }
            var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];
            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {
                return spec.replacePrefix[1] + value.substring(prefixToReplace.length);
            }
            return value;
        };
        return PropModification;
    }());

    var Collection =  (function () {
        function Collection() {
        }
        Collection.prototype._read = function (fn, cb) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readonly', fn).then(cb);
        };
        Collection.prototype._write = function (fn) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readwrite', fn, "locked");
        };
        Collection.prototype._addAlgorithm = function (fn) {
            var ctx = this._ctx;
            ctx.algorithm = combine(ctx.algorithm, fn);
        };
        Collection.prototype._iterate = function (fn, coreTrans) {
            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);
        };
        Collection.prototype.clone = function (props) {
            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);
            if (props)
                extend(ctx, props);
            rv._ctx = ctx;
            return rv;
        };
        Collection.prototype.raw = function () {
            this._ctx.valueMapper = null;
            return this;
        };
        Collection.prototype.each = function (fn) {
            var ctx = this._ctx;
            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });
        };
        Collection.prototype.count = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                var coreTable = ctx.table.core;
                if (isPlainKeyRange(ctx, true)) {
                    return coreTable.count({
                        trans: trans,
                        query: {
                            index: getIndexOrStore(ctx, coreTable.schema),
                            range: ctx.range
                        }
                    }).then(function (count) { return Math.min(count, ctx.limit); });
                }
                else {
                    var count = 0;
                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)
                        .then(function () { return count; });
                }
            }).then(cb);
        };
        Collection.prototype.sortBy = function (keyPath, cb) {
            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;
            function getval(obj, i) {
                if (i)
                    return getval(obj[parts[i]], i - 1);
                return obj[lastPart];
            }
            var order = this._ctx.dir === "next" ? 1 : -1;
            function sorter(a, b) {
                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);
                return cmp(aVal, bVal) * order;
            }
            return this.toArray(function (a) {
                return a.sort(sorter);
            }).then(cb);
        };
        Collection.prototype.toArray = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                    var valueMapper_1 = ctx.valueMapper;
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        limit: ctx.limit,
                        values: true,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    }).then(function (_a) {
                        var result = _a.result;
                        return valueMapper_1 ? result.map(valueMapper_1) : result;
                    });
                }
                else {
                    var a_1 = [];
                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });
                }
            }, cb);
        };
        Collection.prototype.offset = function (offset) {
            var ctx = this._ctx;
            if (offset <= 0)
                return this;
            ctx.offset += offset;
            if (isPlainKeyRange(ctx)) {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function (cursor, advance) {
                        if (offsetLeft === 0)
                            return true;
                        if (offsetLeft === 1) {
                            --offsetLeft;
                            return false;
                        }
                        advance(function () {
                            cursor.advance(offsetLeft);
                            offsetLeft = 0;
                        });
                        return false;
                    };
                });
            }
            else {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function () { return (--offsetLeft < 0); };
                });
            }
            return this;
        };
        Collection.prototype.limit = function (numRows) {
            this._ctx.limit = Math.min(this._ctx.limit, numRows);
            addReplayFilter(this._ctx, function () {
                var rowsLeft = numRows;
                return function (cursor, advance, resolve) {
                    if (--rowsLeft <= 0)
                        advance(resolve);
                    return rowsLeft >= 0;
                };
            }, true);
            return this;
        };
        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {
            addFilter(this._ctx, function (cursor, advance, resolve) {
                if (filterFunction(cursor.value)) {
                    advance(resolve);
                    return bIncludeStopEntry;
                }
                else {
                    return true;
                }
            });
            return this;
        };
        Collection.prototype.first = function (cb) {
            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.last = function (cb) {
            return this.reverse().first(cb);
        };
        Collection.prototype.filter = function (filterFunction) {
            addFilter(this._ctx, function (cursor) {
                return filterFunction(cursor.value);
            });
            addMatchFilter(this._ctx, filterFunction);
            return this;
        };
        Collection.prototype.and = function (filter) {
            return this.filter(filter);
        };
        Collection.prototype.or = function (indexName) {
            return new this.db.WhereClause(this._ctx.table, indexName, this);
        };
        Collection.prototype.reverse = function () {
            this._ctx.dir = (this._ctx.dir === "prev" ? "next" : "prev");
            if (this._ondirectionchange)
                this._ondirectionchange(this._ctx.dir);
            return this;
        };
        Collection.prototype.desc = function () {
            return this.reverse();
        };
        Collection.prototype.eachKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.key, cursor); });
        };
        Collection.prototype.eachUniqueKey = function (cb) {
            this._ctx.unique = "unique";
            return this.eachKey(cb);
        };
        Collection.prototype.eachPrimaryKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });
        };
        Collection.prototype.keys = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.key);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.primaryKeys = function (cb) {
            var ctx = this._ctx;
            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                return this._read(function (trans) {
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        values: false,
                        limit: ctx.limit,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    });
                }).then(function (_a) {
                    var result = _a.result;
                    return result;
                }).then(cb);
            }
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.primaryKey);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.uniqueKeys = function (cb) {
            this._ctx.unique = "unique";
            return this.keys(cb);
        };
        Collection.prototype.firstKey = function (cb) {
            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.lastKey = function (cb) {
            return this.reverse().firstKey(cb);
        };
        Collection.prototype.distinct = function () {
            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];
            if (!idx || !idx.multi)
                return this;
            var set = {};
            addFilter(this._ctx, function (cursor) {
                var strKey = cursor.primaryKey.toString();
                var found = hasOwn(set, strKey);
                set[strKey] = true;
                return !found;
            });
            return this;
        };
        Collection.prototype.modify = function (changes) {
            var _this = this;
            var ctx = this._ctx;
            return this._write(function (trans) {
                var modifyer;
                if (typeof changes === 'function') {
                    modifyer = changes;
                }
                else {
                    var keyPaths = keys(changes);
                    var numKeys = keyPaths.length;
                    modifyer = function (item) {
                        var anythingModified = false;
                        for (var i = 0; i < numKeys; ++i) {
                            var keyPath = keyPaths[i];
                            var val = changes[keyPath];
                            var origVal = getByKeyPath(item, keyPath);
                            if (val instanceof PropModification) {
                                setByKeyPath(item, keyPath, val.execute(origVal));
                                anythingModified = true;
                            }
                            else if (origVal !== val) {
                                setByKeyPath(item, keyPath, val);
                                anythingModified = true;
                            }
                        }
                        return anythingModified;
                    };
                }
                var coreTable = ctx.table.core;
                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;
                var limit = 200;
                var modifyChunkSize = _this.db._options.modifyChunkSize;
                if (modifyChunkSize) {
                    if (typeof modifyChunkSize == 'object') {
                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;
                    }
                    else {
                        limit = modifyChunkSize;
                    }
                }
                var totalFailures = [];
                var successCount = 0;
                var failedKeys = [];
                var applyMutateResult = function (expectedCount, res) {
                    var failures = res.failures, numFailures = res.numFailures;
                    successCount += expectedCount - numFailures;
                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {
                        var pos = _a[_i];
                        totalFailures.push(failures[pos]);
                    }
                };
                return _this.clone().primaryKeys().then(function (keys) {
                    var criteria = isPlainKeyRange(ctx) &&
                        ctx.limit === Infinity &&
                        (typeof changes !== 'function' || changes === deleteCallback) && {
                        index: ctx.index,
                        range: ctx.range
                    };
                    var nextChunk = function (offset) {
                        var count = Math.min(limit, keys.length - offset);
                        return coreTable.getMany({
                            trans: trans,
                            keys: keys.slice(offset, offset + count),
                            cache: "immutable"
                        }).then(function (values) {
                            var addValues = [];
                            var putValues = [];
                            var putKeys = outbound ? [] : null;
                            var deleteKeys = [];
                            for (var i = 0; i < count; ++i) {
                                var origValue = values[i];
                                var ctx_1 = {
                                    value: deepClone(origValue),
                                    primKey: keys[offset + i]
                                };
                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {
                                    if (ctx_1.value == null) {
                                        deleteKeys.push(keys[offset + i]);
                                    }
                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {
                                        deleteKeys.push(keys[offset + i]);
                                        addValues.push(ctx_1.value);
                                    }
                                    else {
                                        putValues.push(ctx_1.value);
                                        if (outbound)
                                            putKeys.push(keys[offset + i]);
                                    }
                                }
                            }
                            return Promise.resolve(addValues.length > 0 &&
                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })
                                    .then(function (res) {
                                    for (var pos in res.failures) {
                                        deleteKeys.splice(parseInt(pos), 1);
                                    }
                                    applyMutateResult(addValues.length, res);
                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'put',
                                    keys: putKeys,
                                    values: putValues,
                                    criteria: criteria,
                                    changeSpec: typeof changes !== 'function'
                                        && changes,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'delete',
                                    keys: deleteKeys,
                                    criteria: criteria,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {
                                return keys.length > offset + count && nextChunk(offset + limit);
                            });
                        });
                    };
                    return nextChunk(0).then(function () {
                        if (totalFailures.length > 0)
                            throw new ModifyError("Error modifying one or more objects", totalFailures, successCount, failedKeys);
                        return keys.length;
                    });
                });
            });
        };
        Collection.prototype.delete = function () {
            var ctx = this._ctx, range = ctx.range;
            if (isPlainKeyRange(ctx) &&
                (ctx.isPrimKey || range.type === 3 ))
             {
                return this._write(function (trans) {
                    var primaryKey = ctx.table.core.schema.primaryKey;
                    var coreRange = range;
                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {
                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })
                            .then(function (_a) {
                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;
                            if (numFailures)
                                throw new ModifyError("Could not delete some values", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);
                            return count - numFailures;
                        });
                    });
                });
            }
            return this.modify(deleteCallback);
        };
        return Collection;
    }());
    var deleteCallback = function (value, ctx) { return ctx.value = null; };

    function createCollectionConstructor(db) {
        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {
            this.db = db;
            var keyRange = AnyRange, error = null;
            if (keyRangeGenerator)
                try {
                    keyRange = keyRangeGenerator();
                }
                catch (ex) {
                    error = ex;
                }
            var whereCtx = whereClause._ctx;
            var table = whereCtx.table;
            var readingHook = table.hook.reading.fire;
            this._ctx = {
                table: table,
                index: whereCtx.index,
                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),
                range: keyRange,
                keysOnly: false,
                dir: "next",
                unique: "",
                algorithm: null,
                filter: null,
                replayFilter: null,
                justLimit: true,
                isMatch: null,
                offset: 0,
                limit: Infinity,
                error: error,
                or: whereCtx.or,
                valueMapper: readingHook !== mirror ? readingHook : null
            };
        });
    }

    function simpleCompare(a, b) {
        return a < b ? -1 : a === b ? 0 : 1;
    }
    function simpleCompareReverse(a, b) {
        return a > b ? -1 : a === b ? 0 : 1;
    }

    function fail(collectionOrWhereClause, err, T) {
        var collection = collectionOrWhereClause instanceof WhereClause ?
            new collectionOrWhereClause.Collection(collectionOrWhereClause) :
            collectionOrWhereClause;
        collection._ctx.error = T ? new T(err) : new TypeError(err);
        return collection;
    }
    function emptyCollection(whereClause) {
        return new whereClause.Collection(whereClause, function () { return rangeEqual(""); }).limit(0);
    }
    function upperFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toUpperCase(); } :
            function (s) { return s.toLowerCase(); };
    }
    function lowerFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toLowerCase(); } :
            function (s) { return s.toUpperCase(); };
    }
    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {
        var length = Math.min(key.length, lowerNeedle.length);
        var llp = -1;
        for (var i = 0; i < length; ++i) {
            var lwrKeyChar = lowerKey[i];
            if (lwrKeyChar !== lowerNeedle[i]) {
                if (cmp(key[i], upperNeedle[i]) < 0)
                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);
                if (cmp(key[i], lowerNeedle[i]) < 0)
                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);
                if (llp >= 0)
                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);
                return null;
            }
            if (cmp(key[i], lwrKeyChar) < 0)
                llp = i;
        }
        if (length < lowerNeedle.length && dir === "next")
            return key + upperNeedle.substr(key.length);
        if (length < key.length && dir === "prev")
            return key.substr(0, upperNeedle.length);
        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));
    }
    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {
        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;
        if (!needles.every(function (s) { return typeof s === 'string'; })) {
            return fail(whereClause, STRING_EXPECTED);
        }
        function initDirection(dir) {
            upper = upperFactory(dir);
            lower = lowerFactory(dir);
            compare = (dir === "next" ? simpleCompare : simpleCompareReverse);
            var needleBounds = needles.map(function (needle) {
                return { lower: lower(needle), upper: upper(needle) };
            }).sort(function (a, b) {
                return compare(a.lower, b.lower);
            });
            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });
            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });
            direction = dir;
            nextKeySuffix = (dir === "next" ? "" : suffix);
        }
        initDirection("next");
        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });
        c._ondirectionchange = function (direction) {
            initDirection(direction);
        };
        var firstPossibleNeedle = 0;
        c._addAlgorithm(function (cursor, advance, resolve) {
            var key = cursor.key;
            if (typeof key !== 'string')
                return false;
            var lowerKey = lower(key);
            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {
                return true;
            }
            else {
                var lowestPossibleCasing = null;
                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {
                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);
                    if (casing === null && lowestPossibleCasing === null)
                        firstPossibleNeedle = i + 1;
                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {
                        lowestPossibleCasing = casing;
                    }
                }
                if (lowestPossibleCasing !== null) {
                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });
                }
                else {
                    advance(resolve);
                }
                return false;
            }
        });
        return c;
    }
    function createRange(lower, upper, lowerOpen, upperOpen) {
        return {
            type: 2 ,
            lower: lower,
            upper: upper,
            lowerOpen: lowerOpen,
            upperOpen: upperOpen
        };
    }
    function rangeEqual(value) {
        return {
            type: 1 ,
            lower: value,
            upper: value
        };
    }

    var WhereClause =  (function () {
        function WhereClause() {
        }
        Object.defineProperty(WhereClause.prototype, "Collection", {
            get: function () {
                return this._ctx.table.db.Collection;
            },
            enumerable: false,
            configurable: true
        });
        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {
            includeLower = includeLower !== false;
            includeUpper = includeUpper === true;
            try {
                if ((this._cmp(lower, upper) > 0) ||
                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))
                    return emptyCollection(this);
                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
        };
        WhereClause.prototype.equals = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return rangeEqual(value); });
        };
        WhereClause.prototype.above = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, true); });
        };
        WhereClause.prototype.aboveOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, false); });
        };
        WhereClause.prototype.below = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });
        };
        WhereClause.prototype.belowOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value); });
        };
        WhereClause.prototype.startsWith = function (str) {
            if (typeof str !== 'string')
                return fail(this, STRING_EXPECTED);
            return this.between(str, str + maxString, true, true);
        };
        WhereClause.prototype.startsWithIgnoreCase = function (str) {
            if (str === "")
                return this.startsWith(str);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);
        };
        WhereClause.prototype.equalsIgnoreCase = function (str) {
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], "");
        };
        WhereClause.prototype.anyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, "");
        };
        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);
        };
        WhereClause.prototype.anyOf = function () {
            var _this = this;
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            var compare = this._cmp;
            try {
                set.sort(compare);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            if (set.length === 0)
                return emptyCollection(this);
            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });
            c._ondirectionchange = function (direction) {
                compare = (direction === "next" ?
                    _this._ascending :
                    _this._descending);
                set.sort(compare);
            };
            var i = 0;
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (compare(key, set[i]) > 0) {
                    ++i;
                    if (i === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (compare(key, set[i]) === 0) {
                    return true;
                }
                else {
                    advance(function () { cursor.continue(set[i]); });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.notEqual = function (value) {
            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.noneOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return new this.Collection(this);
            try {
                set.sort(this._ascending);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var ranges = set.reduce(function (res, val) { return res ?
                res.concat([[res[res.length - 1][1], val]]) :
                [[minKey, val]]; }, null);
            ranges.push([set[set.length - 1], this.db._maxKey]);
            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.inAnyRange = function (ranges, options) {
            var _this = this;
            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;
            if (ranges.length === 0)
                return emptyCollection(this);
            if (!ranges.every(function (range) {
                return range[0] !== undefined &&
                    range[1] !== undefined &&
                    ascending(range[0], range[1]) <= 0;
            })) {
                return fail(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", exceptions.InvalidArgument);
            }
            var includeLowers = !options || options.includeLowers !== false;
            var includeUppers = options && options.includeUppers === true;
            function addRange(ranges, newRange) {
                var i = 0, l = ranges.length;
                for (; i < l; ++i) {
                    var range = ranges[i];
                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {
                        range[0] = min(range[0], newRange[0]);
                        range[1] = max(range[1], newRange[1]);
                        break;
                    }
                }
                if (i === l)
                    ranges.push(newRange);
                return ranges;
            }
            var sortDirection = ascending;
            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }
            var set;
            try {
                set = ranges.reduce(addRange, []);
                set.sort(rangeSorter);
            }
            catch (ex) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var rangePos = 0;
            var keyIsBeyondCurrentEntry = includeUppers ?
                function (key) { return ascending(key, set[rangePos][1]) > 0; } :
                function (key) { return ascending(key, set[rangePos][1]) >= 0; };
            var keyIsBeforeCurrentEntry = includeLowers ?
                function (key) { return descending(key, set[rangePos][0]) > 0; } :
                function (key) { return descending(key, set[rangePos][0]) >= 0; };
            function keyWithinCurrentRange(key) {
                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);
            }
            var checkKey = keyIsBeyondCurrentEntry;
            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });
            c._ondirectionchange = function (direction) {
                if (direction === "next") {
                    checkKey = keyIsBeyondCurrentEntry;
                    sortDirection = ascending;
                }
                else {
                    checkKey = keyIsBeforeCurrentEntry;
                    sortDirection = descending;
                }
                set.sort(rangeSorter);
            };
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (checkKey(key)) {
                    ++rangePos;
                    if (rangePos === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (keyWithinCurrentRange(key)) {
                    return true;
                }
                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {
                    return false;
                }
                else {
                    advance(function () {
                        if (sortDirection === ascending)
                            cursor.continue(set[rangePos][0]);
                        else
                            cursor.continue(set[rangePos][1]);
                    });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.startsWithAnyOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (!set.every(function (s) { return typeof s === 'string'; })) {
                return fail(this, "startsWithAnyOf() only works with strings");
            }
            if (set.length === 0)
                return emptyCollection(this);
            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));
        };
        return WhereClause;
    }());

    function createWhereClauseConstructor(db) {
        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {
            this.db = db;
            this._ctx = {
                table: table,
                index: index === ":id" ? null : index,
                or: orCollection
            };
            this._cmp = this._ascending = cmp;
            this._descending = function (a, b) { return cmp(b, a); };
            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };
            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };
            this._IDBKeyRange = db._deps.IDBKeyRange;
            if (!this._IDBKeyRange)
                throw new exceptions.MissingAPI();
        });
    }

    function eventRejectHandler(reject) {
        return wrap(function (event) {
            preventDefault(event);
            reject(event.target.error);
            return false;
        });
    }
    function preventDefault(event) {
        if (event.stopPropagation)
            event.stopPropagation();
        if (event.preventDefault)
            event.preventDefault();
    }

    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';
    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';
    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);

    var Transaction =  (function () {
        function Transaction() {
        }
        Transaction.prototype._lock = function () {
            assert(!PSD.global);
            ++this._reculock;
            if (this._reculock === 1 && !PSD.global)
                PSD.lockOwnerFor = this;
            return this;
        };
        Transaction.prototype._unlock = function () {
            assert(!PSD.global);
            if (--this._reculock === 0) {
                if (!PSD.global)
                    PSD.lockOwnerFor = null;
                while (this._blockedFuncs.length > 0 && !this._locked()) {
                    var fnAndPSD = this._blockedFuncs.shift();
                    try {
                        usePSD(fnAndPSD[1], fnAndPSD[0]);
                    }
                    catch (e) { }
                }
            }
            return this;
        };
        Transaction.prototype._locked = function () {
            return this._reculock && PSD.lockOwnerFor !== this;
        };
        Transaction.prototype.create = function (idbtrans) {
            var _this = this;
            if (!this.mode)
                return this;
            var idbdb = this.db.idbdb;
            var dbOpenError = this.db._state.dbOpenError;
            assert(!this.idbtrans);
            if (!idbtrans && !idbdb) {
                switch (dbOpenError && dbOpenError.name) {
                    case "DatabaseClosedError":
                        throw new exceptions.DatabaseClosed(dbOpenError);
                    case "MissingAPIError":
                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);
                    default:
                        throw new exceptions.OpenFailed(dbOpenError);
                }
            }
            if (!this.active)
                throw new exceptions.TransactionInactive();
            assert(this._completion._state === null);
            idbtrans = this.idbtrans = idbtrans ||
                (this.db.core
                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })
                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));
            idbtrans.onerror = wrap(function (ev) {
                preventDefault(ev);
                _this._reject(idbtrans.error);
            });
            idbtrans.onabort = wrap(function (ev) {
                preventDefault(ev);
                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));
                _this.active = false;
                _this.on("abort").fire(ev);
            });
            idbtrans.oncomplete = wrap(function () {
                _this.active = false;
                _this._resolve();
                if ('mutatedParts' in idbtrans) {
                    globalEvents.storagemutated.fire(idbtrans["mutatedParts"]);
                }
            });
            return this;
        };
        Transaction.prototype._promise = function (mode, fn, bWriteLock) {
            var _this = this;
            if (mode === 'readwrite' && this.mode !== 'readwrite')
                return rejection(new exceptions.ReadOnly("Transaction is readonly"));
            if (!this.active)
                return rejection(new exceptions.TransactionInactive());
            if (this._locked()) {
                return new DexiePromise(function (resolve, reject) {
                    _this._blockedFuncs.push([function () {
                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);
                        }, PSD]);
                });
            }
            else if (bWriteLock) {
                return newScope(function () {
                    var p = new DexiePromise(function (resolve, reject) {
                        _this._lock();
                        var rv = fn(resolve, reject, _this);
                        if (rv && rv.then)
                            rv.then(resolve, reject);
                    });
                    p.finally(function () { return _this._unlock(); });
                    p._lib = true;
                    return p;
                });
            }
            else {
                var p = new DexiePromise(function (resolve, reject) {
                    var rv = fn(resolve, reject, _this);
                    if (rv && rv.then)
                        rv.then(resolve, reject);
                });
                p._lib = true;
                return p;
            }
        };
        Transaction.prototype._root = function () {
            return this.parent ? this.parent._root() : this;
        };
        Transaction.prototype.waitFor = function (promiseLike) {
            var root = this._root();
            var promise = DexiePromise.resolve(promiseLike);
            if (root._waitingFor) {
                root._waitingFor = root._waitingFor.then(function () { return promise; });
            }
            else {
                root._waitingFor = promise;
                root._waitingQueue = [];
                var store = root.idbtrans.objectStore(root.storeNames[0]);
                (function spin() {
                    ++root._spinCount;
                    while (root._waitingQueue.length)
                        (root._waitingQueue.shift())();
                    if (root._waitingFor)
                        store.get(-Infinity).onsuccess = spin;
                }());
            }
            var currentWaitPromise = root._waitingFor;
            return new DexiePromise(function (resolve, reject) {
                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {
                    if (root._waitingFor === currentWaitPromise) {
                        root._waitingFor = null;
                    }
                });
            });
        };
        Transaction.prototype.abort = function () {
            if (this.active) {
                this.active = false;
                if (this.idbtrans)
                    this.idbtrans.abort();
                this._reject(new exceptions.Abort());
            }
        };
        Transaction.prototype.table = function (tableName) {
            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));
            if (hasOwn(memoizedTables, tableName))
                return memoizedTables[tableName];
            var tableSchema = this.schema[tableName];
            if (!tableSchema) {
                throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
            }
            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);
            transactionBoundTable.core = this.db.core.table(tableName);
            memoizedTables[tableName] = transactionBoundTable;
            return transactionBoundTable;
        };
        return Transaction;
    }());

    function createTransactionConstructor(db) {
        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {
            var _this = this;
            this.db = db;
            this.mode = mode;
            this.storeNames = storeNames;
            this.schema = dbschema;
            this.chromeTransactionDurability = chromeTransactionDurability;
            this.idbtrans = null;
            this.on = Events(this, "complete", "error", "abort");
            this.parent = parent || null;
            this.active = true;
            this._reculock = 0;
            this._blockedFuncs = [];
            this._resolve = null;
            this._reject = null;
            this._waitingFor = null;
            this._waitingQueue = null;
            this._spinCount = 0;
            this._completion = new DexiePromise(function (resolve, reject) {
                _this._resolve = resolve;
                _this._reject = reject;
            });
            this._completion.then(function () {
                _this.active = false;
                _this.on.complete.fire();
            }, function (e) {
                var wasActive = _this.active;
                _this.active = false;
                _this.on.error.fire(e);
                _this.parent ?
                    _this.parent._reject(e) :
                    wasActive && _this.idbtrans && _this.idbtrans.abort();
                return rejection(e);
            });
        });
    }

    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {
        return {
            name: name,
            keyPath: keyPath,
            unique: unique,
            multi: multi,
            auto: auto,
            compound: compound,
            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? "++" : "") + nameFromKeyPath(keyPath)
        };
    }
    function nameFromKeyPath(keyPath) {
        return typeof keyPath === 'string' ?
            keyPath :
            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : "";
    }

    function createTableSchema(name, primKey, indexes) {
        return {
            name: name,
            primKey: primKey,
            indexes: indexes,
            mappedClass: null,
            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })
        };
    }

    function safariMultiStoreFix(storeNames) {
        return storeNames.length === 1 ? storeNames[0] : storeNames;
    }
    var getMaxKey = function (IdbKeyRange) {
        try {
            IdbKeyRange.only([[]]);
            getMaxKey = function () { return [[]]; };
            return [[]];
        }
        catch (e) {
            getMaxKey = function () { return maxString; };
            return maxString;
        }
    };

    function getKeyExtractor(keyPath) {
        if (keyPath == null) {
            return function () { return undefined; };
        }
        else if (typeof keyPath === 'string') {
            return getSinglePathKeyExtractor(keyPath);
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }
    function getSinglePathKeyExtractor(keyPath) {
        var split = keyPath.split('.');
        if (split.length === 1) {
            return function (obj) { return obj[keyPath]; };
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }

    function arrayify(arrayLike) {
        return [].slice.call(arrayLike);
    }
    var _id_counter = 0;
    function getKeyPathAlias(keyPath) {
        return keyPath == null ?
            ":id" :
            typeof keyPath === 'string' ?
                keyPath :
                "[".concat(keyPath.join('+'), "]");
    }
    function createDBCore(db, IdbKeyRange, tmpTrans) {
        function extractSchema(db, trans) {
            var tables = arrayify(db.objectStoreNames);
            return {
                schema: {
                    name: db.name,
                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {
                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;
                        var compound = isArray(keyPath);
                        var outbound = keyPath == null;
                        var indexByKeyPath = {};
                        var result = {
                            name: store.name,
                            primaryKey: {
                                name: null,
                                isPrimaryKey: true,
                                outbound: outbound,
                                compound: compound,
                                keyPath: keyPath,
                                autoIncrement: autoIncrement,
                                unique: true,
                                extractKey: getKeyExtractor(keyPath)
                            },
                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })
                                .map(function (index) {
                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;
                                var compound = isArray(keyPath);
                                var result = {
                                    name: name,
                                    compound: compound,
                                    keyPath: keyPath,
                                    unique: unique,
                                    multiEntry: multiEntry,
                                    extractKey: getKeyExtractor(keyPath)
                                };
                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;
                                return result;
                            }),
                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }
                        };
                        indexByKeyPath[":id"] = result.primaryKey;
                        if (keyPath != null) {
                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;
                        }
                        return result;
                    })
                },
                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&
                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
                        !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
                        [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604)
            };
        }
        function makeIDBKeyRange(range) {
            if (range.type === 3 )
                return null;
            if (range.type === 4 )
                throw new Error("Cannot convert never type to IDBKeyRange");
            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;
            var idbRange = lower === undefined ?
                upper === undefined ?
                    null :
                    IdbKeyRange.upperBound(upper, !!upperOpen) :
                upper === undefined ?
                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :
                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);
            return idbRange;
        }
        function createDbCoreTable(tableSchema) {
            var tableName = tableSchema.name;
            function mutate(_a) {
                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var store = trans.objectStore(tableName);
                    var outbound = store.keyPath == null;
                    var isAddOrPut = type === "put" || type === "add";
                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')
                        throw new Error("Invalid operation type: " + type);
                    var length = (keys || values || { length: 1 }).length;
                    if (keys && values && keys.length !== values.length) {
                        throw new Error("Given keys array must have same length as given values array.");
                    }
                    if (length === 0)
                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });
                    var req;
                    var reqs = [];
                    var failures = [];
                    var numFailures = 0;
                    var errorHandler = function (event) {
                        ++numFailures;
                        preventDefault(event);
                    };
                    if (type === 'deleteRange') {
                        if (range.type === 4 )
                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });
                        if (range.type === 3 )
                            reqs.push(req = store.clear());
                        else
                            reqs.push(req = store.delete(makeIDBKeyRange(range)));
                    }
                    else {
                        var _a = isAddOrPut ?
                            outbound ?
                                [values, keys] :
                                [values, null] :
                            [keys, null], args1 = _a[0], args2 = _a[1];
                        if (isAddOrPut) {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = (args2 && args2[i] !== undefined ?
                                    store[type](args1[i], args2[i]) :
                                    store[type](args1[i])));
                                req.onerror = errorHandler;
                            }
                        }
                        else {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = store[type](args1[i]));
                                req.onerror = errorHandler;
                            }
                        }
                    }
                    var done = function (event) {
                        var lastResult = event.target.result;
                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });
                        resolve({
                            numFailures: numFailures,
                            failures: failures,
                            results: type === "delete" ? keys : reqs.map(function (req) { return req.result; }),
                            lastResult: lastResult
                        });
                    };
                    req.onerror = function (event) {
                        errorHandler(event);
                        done(event);
                    };
                    req.onsuccess = done;
                });
            }
            function openCursor(_a) {
                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var index = query.index, range = query.range;
                    var store = trans.objectStore(tableName);
                    var source = index.isPrimaryKey ?
                        store :
                        store.index(index.name);
                    var direction = reverse ?
                        unique ?
                            "prevunique" :
                            "prev" :
                        unique ?
                            "nextunique" :
                            "next";
                    var req = values || !('openKeyCursor' in source) ?
                        source.openCursor(makeIDBKeyRange(range), direction) :
                        source.openKeyCursor(makeIDBKeyRange(range), direction);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function (ev) {
                        var cursor = req.result;
                        if (!cursor) {
                            resolve(null);
                            return;
                        }
                        cursor.___id = ++_id_counter;
                        cursor.done = false;
                        var _cursorContinue = cursor.continue.bind(cursor);
                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;
                        if (_cursorContinuePrimaryKey)
                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);
                        var _cursorAdvance = cursor.advance.bind(cursor);
                        var doThrowCursorIsNotStarted = function () { throw new Error("Cursor not started"); };
                        var doThrowCursorIsStopped = function () { throw new Error("Cursor not stopped"); };
                        cursor.trans = trans;
                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;
                        cursor.fail = wrap(reject);
                        cursor.next = function () {
                            var _this = this;
                            var gotOne = 1;
                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });
                        };
                        cursor.start = function (callback) {
                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {
                                resolveIteration = wrap(resolveIteration);
                                req.onerror = eventRejectHandler(rejectIteration);
                                cursor.fail = rejectIteration;
                                cursor.stop = function (value) {
                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;
                                    resolveIteration(value);
                                };
                            });
                            var guardedCallback = function () {
                                if (req.result) {
                                    try {
                                        callback();
                                    }
                                    catch (err) {
                                        cursor.fail(err);
                                    }
                                }
                                else {
                                    cursor.done = true;
                                    cursor.start = function () { throw new Error("Cursor behind last entry"); };
                                    cursor.stop();
                                }
                            };
                            req.onsuccess = wrap(function (ev) {
                                req.onsuccess = guardedCallback;
                                guardedCallback();
                            });
                            cursor.continue = _cursorContinue;
                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;
                            cursor.advance = _cursorAdvance;
                            guardedCallback();
                            return iterationPromise;
                        };
                        resolve(cursor);
                    }, reject);
                });
            }
            function query(hasGetAll) {
                return function (request) {
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;
                        var nonInfinitLimit = limit === Infinity ? undefined : limit;
                        var index = query.index, range = query.range;
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        if (limit === 0)
                            return resolve({ result: [] });
                        if (hasGetAll) {
                            var req = values ?
                                source.getAll(idbKeyRange, nonInfinitLimit) :
                                source.getAllKeys(idbKeyRange, nonInfinitLimit);
                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };
                            req.onerror = eventRejectHandler(reject);
                        }
                        else {
                            var count_1 = 0;
                            var req_1 = values || !('openKeyCursor' in source) ?
                                source.openCursor(idbKeyRange) :
                                source.openKeyCursor(idbKeyRange);
                            var result_1 = [];
                            req_1.onsuccess = function (event) {
                                var cursor = req_1.result;
                                if (!cursor)
                                    return resolve({ result: result_1 });
                                result_1.push(values ? cursor.value : cursor.primaryKey);
                                if (++count_1 === limit)
                                    return resolve({ result: result_1 });
                                cursor.continue();
                            };
                            req_1.onerror = eventRejectHandler(reject);
                        }
                    });
                };
            }
            return {
                name: tableName,
                schema: tableSchema,
                mutate: mutate,
                getMany: function (_a) {
                    var trans = _a.trans, keys = _a.keys;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var length = keys.length;
                        var result = new Array(length);
                        var keyCount = 0;
                        var callbackCount = 0;
                        var req;
                        var successHandler = function (event) {
                            var req = event.target;
                            if ((result[req._pos] = req.result) != null)
                                ;
                            if (++callbackCount === keyCount)
                                resolve(result);
                        };
                        var errorHandler = eventRejectHandler(reject);
                        for (var i = 0; i < length; ++i) {
                            var key = keys[i];
                            if (key != null) {
                                req = store.get(keys[i]);
                                req._pos = i;
                                req.onsuccess = successHandler;
                                req.onerror = errorHandler;
                                ++keyCount;
                            }
                        }
                        if (keyCount === 0)
                            resolve(result);
                    });
                },
                get: function (_a) {
                    var trans = _a.trans, key = _a.key;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var req = store.get(key);
                        req.onsuccess = function (event) { return resolve(event.target.result); };
                        req.onerror = eventRejectHandler(reject);
                    });
                },
                query: query(hasGetAll),
                openCursor: openCursor,
                count: function (_a) {
                    var query = _a.query, trans = _a.trans;
                    var index = query.index, range = query.range;
                    return new Promise(function (resolve, reject) {
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();
                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });
                        req.onerror = eventRejectHandler(reject);
                    });
                }
            };
        }
        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;
        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });
        var tableMap = {};
        tables.forEach(function (table) { return tableMap[table.name] = table; });
        return {
            stack: "dbcore",
            transaction: db.transaction.bind(db),
            table: function (name) {
                var result = tableMap[name];
                if (!result)
                    throw new Error("Table '".concat(name, "' not found"));
                return tableMap[name];
            },
            MIN_KEY: -Infinity,
            MAX_KEY: getMaxKey(IdbKeyRange),
            schema: schema
        };
    }

    function createMiddlewareStack(stackImpl, middlewares) {
        return middlewares.reduce(function (down, _a) {
            var create = _a.create;
            return (__assign(__assign({}, down), create(down)));
        }, stackImpl);
    }
    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {
        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;
        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);
        return {
            dbcore: dbcore
        };
    }
    function generateMiddlewareStacks(db, tmpTrans) {
        var idbdb = tmpTrans.db;
        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);
        db.core = stacks.dbcore;
        db.tables.forEach(function (table) {
            var tableName = table.name;
            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {
                table.core = db.core.table(tableName);
                if (db[tableName] instanceof db.Table) {
                    db[tableName].core = table.core;
                }
            }
        });
    }

    function setApiOnPlace(db, objs, tableNames, dbschema) {
        tableNames.forEach(function (tableName) {
            var schema = dbschema[tableName];
            objs.forEach(function (obj) {
                var propDesc = getPropertyDescriptor(obj, tableName);
                if (!propDesc || ("value" in propDesc && propDesc.value === undefined)) {
                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {
                        setProp(obj, tableName, {
                            get: function () { return this.table(tableName); },
                            set: function (value) {
                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });
                            }
                        });
                    }
                    else {
                        obj[tableName] = new db.Table(tableName, schema);
                    }
                }
            });
        });
    }
    function removeTablesApi(db, objs) {
        objs.forEach(function (obj) {
            for (var key in obj) {
                if (obj[key] instanceof db.Table)
                    delete obj[key];
            }
        });
    }
    function lowerVersionFirst(a, b) {
        return a._cfg.version - b._cfg.version;
    }
    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {
        var globalSchema = db._dbSchema;
        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {
            globalSchema.$meta = createTableSchema("$meta", parseIndexSyntax("")[0], []);
            db._storeNames.push('$meta');
        }
        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);
        trans.create(idbUpgradeTrans);
        trans._completion.catch(reject);
        var rejectTransaction = trans._reject.bind(trans);
        var transless = PSD.transless || PSD;
        newScope(function () {
            PSD.trans = trans;
            PSD.transless = transless;
            if (oldVersion === 0) {
                keys(globalSchema).forEach(function (tableName) {
                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);
                });
                generateMiddlewareStacks(db, idbUpgradeTrans);
                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);
            }
            else {
                generateMiddlewareStacks(db, idbUpgradeTrans);
                return getExistingVersion(db, trans, oldVersion)
                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })
                    .catch(rejectTransaction);
            }
        });
    }
    function patchCurrentVersion(db, idbUpgradeTrans) {
        createMissingTables(db._dbSchema, idbUpgradeTrans);
        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {
            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');
        }
        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);
        var diff = getSchemaDiff(globalSchema, db._dbSchema);
        var _loop_1 = function (tableChange) {
            if (tableChange.change.length || tableChange.recreate) {
                console.warn("Unable to patch indexes of table ".concat(tableChange.name, " because it has changes on the type of index or primary key."));
                return { value: void 0 };
            }
            var store = idbUpgradeTrans.objectStore(tableChange.name);
            tableChange.add.forEach(function (idx) {
                if (debug)
                    console.debug("Dexie upgrade patch: Creating missing index ".concat(tableChange.name, ".").concat(idx.src));
                addIndex(store, idx);
            });
        };
        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {
            var tableChange = _a[_i];
            var state_1 = _loop_1(tableChange);
            if (typeof state_1 === "object")
                return state_1.value;
        }
    }
    function getExistingVersion(db, trans, oldVersion) {
        if (trans.storeNames.includes('$meta')) {
            return trans.table('$meta').get('version').then(function (metaVersion) {
                return metaVersion != null ? metaVersion : oldVersion;
            });
        }
        else {
            return DexiePromise.resolve(oldVersion);
        }
    }
    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {
        var queue = [];
        var versions = db._versions;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });
        if (versToRun.length === 0) {
            return DexiePromise.resolve();
        }
        versToRun.forEach(function (version) {
            queue.push(function () {
                var oldSchema = globalSchema;
                var newSchema = version._cfg.dbschema;
                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);
                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);
                globalSchema = db._dbSchema = newSchema;
                var diff = getSchemaDiff(oldSchema, newSchema);
                diff.add.forEach(function (tuple) {
                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);
                });
                diff.change.forEach(function (change) {
                    if (change.recreate) {
                        throw new exceptions.Upgrade("Not yet support for changing primary key");
                    }
                    else {
                        var store_1 = idbUpgradeTrans.objectStore(change.name);
                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });
                        change.change.forEach(function (idx) {
                            store_1.deleteIndex(idx.name);
                            addIndex(store_1, idx);
                        });
                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });
                    }
                });
                var contentUpgrade = version._cfg.contentUpgrade;
                if (contentUpgrade && version._cfg.version > oldVersion) {
                    generateMiddlewareStacks(db, idbUpgradeTrans);
                    trans._memoizedTables = {};
                    var upgradeSchema_1 = shallowClone(newSchema);
                    diff.del.forEach(function (table) {
                        upgradeSchema_1[table] = oldSchema[table];
                    });
                    removeTablesApi(db, [db.Transaction.prototype]);
                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);
                    trans.schema = upgradeSchema_1;
                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);
                    if (contentUpgradeIsAsync_1) {
                        incrementExpectedAwaits();
                    }
                    var returnValue_1;
                    var promiseFollowed = DexiePromise.follow(function () {
                        returnValue_1 = contentUpgrade(trans);
                        if (returnValue_1) {
                            if (contentUpgradeIsAsync_1) {
                                var decrementor = decrementExpectedAwaits.bind(null, null);
                                returnValue_1.then(decrementor, decrementor);
                            }
                        }
                    });
                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?
                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));
                }
            });
            queue.push(function (idbtrans) {
                var newSchema = version._cfg.dbschema;
                deleteRemovedTables(newSchema, idbtrans);
                removeTablesApi(db, [db.Transaction.prototype]);
                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);
                trans.schema = db._dbSchema;
            });
            queue.push(function (idbtrans) {
                if (db.idbdb.objectStoreNames.contains('$meta')) {
                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {
                        db.idbdb.deleteObjectStore('$meta');
                        delete db._dbSchema.$meta;
                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });
                    }
                    else {
                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');
                    }
                }
            });
        });
        function runQueue() {
            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :
                DexiePromise.resolve();
        }
        return runQueue().then(function () {
            createMissingTables(globalSchema, idbUpgradeTrans);
        });
    }
    function getSchemaDiff(oldSchema, newSchema) {
        var diff = {
            del: [],
            add: [],
            change: []
        };
        var table;
        for (table in oldSchema) {
            if (!newSchema[table])
                diff.del.push(table);
        }
        for (table in newSchema) {
            var oldDef = oldSchema[table], newDef = newSchema[table];
            if (!oldDef) {
                diff.add.push([table, newDef]);
            }
            else {
                var change = {
                    name: table,
                    def: newDef,
                    recreate: false,
                    del: [],
                    add: [],
                    change: []
                };
                if ((
                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||
                    (oldDef.primKey.auto !== newDef.primKey.auto)) {
                    change.recreate = true;
                    diff.change.push(change);
                }
                else {
                    var oldIndexes = oldDef.idxByName;
                    var newIndexes = newDef.idxByName;
                    var idxName = void 0;
                    for (idxName in oldIndexes) {
                        if (!newIndexes[idxName])
                            change.del.push(idxName);
                    }
                    for (idxName in newIndexes) {
                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];
                        if (!oldIdx)
                            change.add.push(newIdx);
                        else if (oldIdx.src !== newIdx.src)
                            change.change.push(newIdx);
                    }
                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {
                        diff.change.push(change);
                    }
                }
            }
        }
        return diff;
    }
    function createTable(idbtrans, tableName, primKey, indexes) {
        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?
            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :
            { autoIncrement: primKey.auto });
        indexes.forEach(function (idx) { return addIndex(store, idx); });
        return store;
    }
    function createMissingTables(newSchema, idbtrans) {
        keys(newSchema).forEach(function (tableName) {
            if (!idbtrans.db.objectStoreNames.contains(tableName)) {
                if (debug)
                    console.debug('Dexie: Creating missing table', tableName);
                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);
            }
        });
    }
    function deleteRemovedTables(newSchema, idbtrans) {
        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {
            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);
        });
    }
    function addIndex(store, idx) {
        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });
    }
    function buildGlobalSchema(db, idbdb, tmpTrans) {
        var globalSchema = {};
        var dbStoreNames = slice(idbdb.objectStoreNames, 0);
        dbStoreNames.forEach(function (storeName) {
            var store = tmpTrans.objectStore(storeName);
            var keyPath = store.keyPath;
            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || "", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== "string", true);
            var indexes = [];
            for (var j = 0; j < store.indexNames.length; ++j) {
                var idbindex = store.index(store.indexNames[j]);
                keyPath = idbindex.keyPath;
                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== "string", false);
                indexes.push(index);
            }
            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);
        });
        return globalSchema;
    }
    function readGlobalSchema(db, idbdb, tmpTrans) {
        db.verno = idbdb.version / 10;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);
        db._storeNames = slice(idbdb.objectStoreNames, 0);
        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);
    }
    function verifyInstalledSchema(db, tmpTrans) {
        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);
        var diff = getSchemaDiff(installedSchema, db._dbSchema);
        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));
    }
    function adjustToExistingIndexNames(db, schema, idbtrans) {
        var storeNames = idbtrans.db.objectStoreNames;
        for (var i = 0; i < storeNames.length; ++i) {
            var storeName = storeNames[i];
            var store = idbtrans.objectStore(storeName);
            db._hasGetAll = 'getAll' in store;
            for (var j = 0; j < store.indexNames.length; ++j) {
                var indexName = store.indexNames[j];
                var keyPath = store.index(indexName).keyPath;
                var dexieName = typeof keyPath === 'string' ? keyPath : "[" + slice(keyPath).join('+') + "]";
                if (schema[storeName]) {
                    var indexSpec = schema[storeName].idxByName[dexieName];
                    if (indexSpec) {
                        indexSpec.name = indexName;
                        delete schema[storeName].idxByName[dexieName];
                        schema[storeName].idxByName[indexName] = indexSpec;
                    }
                }
            }
        }
        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) {
            db._hasGetAll = false;
        }
    }
    function parseIndexSyntax(primKeyAndIndexes) {
        return primKeyAndIndexes.split(',').map(function (index, indexNum) {
            index = index.trim();
            var name = index.replace(/([&*]|\+\+)/g, "");
            var keyPath = /^\[/.test(name) ? name.match(/^\[(.*)\]$/)[1].split('+') : name;
            return createIndexSpec(name, keyPath || null, /\&/.test(index), /\*/.test(index), /\+\+/.test(index), isArray(keyPath), indexNum === 0);
        });
    }

    var Version =  (function () {
        function Version() {
        }
        Version.prototype._parseStoresSpec = function (stores, outSchema) {
            keys(stores).forEach(function (tableName) {
                if (stores[tableName] !== null) {
                    var indexes = parseIndexSyntax(stores[tableName]);
                    var primKey = indexes.shift();
                    primKey.unique = true;
                    if (primKey.multi)
                        throw new exceptions.Schema("Primary key cannot be multi-valued");
                    indexes.forEach(function (idx) {
                        if (idx.auto)
                            throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");
                        if (!idx.keyPath)
                            throw new exceptions.Schema("Index must have a name and cannot be an empty string");
                    });
                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);
                }
            });
        };
        Version.prototype.stores = function (stores) {
            var db = this.db;
            this._cfg.storesSource = this._cfg.storesSource ?
                extend(this._cfg.storesSource, stores) :
                stores;
            var versions = db._versions;
            var storesSpec = {};
            var dbschema = {};
            versions.forEach(function (version) {
                extend(storesSpec, version._cfg.storesSource);
                dbschema = (version._cfg.dbschema = {});
                version._parseStoresSpec(storesSpec, dbschema);
            });
            db._dbSchema = dbschema;
            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);
            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);
            db._storeNames = keys(dbschema);
            return this;
        };
        Version.prototype.upgrade = function (upgradeFunction) {
            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);
            return this;
        };
        return Version;
    }());

    function createVersionConstructor(db) {
        return makeClassConstructor(Version.prototype, function Version(versionNumber) {
            this.db = db;
            this._cfg = {
                version: versionNumber,
                storesSource: null,
                dbschema: {},
                tables: {},
                contentUpgrade: null
            };
        });
    }

    function getDbNamesTable(indexedDB, IDBKeyRange) {
        var dbNamesDB = indexedDB["_dbNamesDB"];
        if (!dbNamesDB) {
            dbNamesDB = indexedDB["_dbNamesDB"] = new Dexie$1(DBNAMES_DB, {
                addons: [],
                indexedDB: indexedDB,
                IDBKeyRange: IDBKeyRange,
            });
            dbNamesDB.version(1).stores({ dbnames: "name" });
        }
        return dbNamesDB.table("dbnames");
    }
    function hasDatabasesNative(indexedDB) {
        return indexedDB && typeof indexedDB.databases === "function";
    }
    function getDatabaseNames(_a) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        return hasDatabasesNative(indexedDB)
            ? Promise.resolve(indexedDB.databases()).then(function (infos) {
                return infos
                    .map(function (info) { return info.name; })
                    .filter(function (name) { return name !== DBNAMES_DB; });
            })
            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();
    }
    function _onDatabaseCreated(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);
    }
    function _onDatabaseDeleted(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);
    }

    function vip(fn) {
        return newScope(function () {
            PSD.letThrough = true;
            return fn();
        });
    }

    function idbReady() {
        var isSafari = !navigator.userAgentData &&
            /Safari\//.test(navigator.userAgent) &&
            !/Chrom(e|ium)\//.test(navigator.userAgent);
        if (!isSafari || !indexedDB.databases)
            return Promise.resolve();
        var intervalId;
        return new Promise(function (resolve) {
            var tryIdb = function () { return indexedDB.databases().finally(resolve); };
            intervalId = setInterval(tryIdb, 100);
            tryIdb();
        }).finally(function () { return clearInterval(intervalId); });
    }

    var _a;
    function isEmptyRange(node) {
        return !("from" in node);
    }
    var RangeSet = function (fromOrTree, to) {
        if (this) {
            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });
        }
        else {
            var rv = new RangeSet();
            if (fromOrTree && ("d" in fromOrTree)) {
                extend(rv, fromOrTree);
            }
            return rv;
        }
    };
    props(RangeSet.prototype, (_a = {
            add: function (rangeSet) {
                mergeRanges(this, rangeSet);
                return this;
            },
            addKey: function (key) {
                addRange(this, key, key);
                return this;
            },
            addKeys: function (keys) {
                var _this = this;
                keys.forEach(function (key) { return addRange(_this, key, key); });
                return this;
            },
            hasKey: function (key) {
                var node = getRangeSetIterator(this).next(key).value;
                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;
            }
        },
        _a[iteratorSymbol] = function () {
            return getRangeSetIterator(this);
        },
        _a));
    function addRange(target, from, to) {
        var diff = cmp(from, to);
        if (isNaN(diff))
            return;
        if (diff > 0)
            throw RangeError();
        if (isEmptyRange(target))
            return extend(target, { from: from, to: to, d: 1 });
        var left = target.l;
        var right = target.r;
        if (cmp(to, target.from) < 0) {
            left
                ? addRange(left, from, to)
                : (target.l = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.to) > 0) {
            right
                ? addRange(right, from, to)
                : (target.r = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.from) < 0) {
            target.from = from;
            target.l = null;
            target.d = right ? right.d + 1 : 1;
        }
        if (cmp(to, target.to) > 0) {
            target.to = to;
            target.r = null;
            target.d = target.l ? target.l.d + 1 : 1;
        }
        var rightWasCutOff = !target.r;
        if (left && !target.l) {
            mergeRanges(target, left);
        }
        if (right && rightWasCutOff) {
            mergeRanges(target, right);
        }
    }
    function mergeRanges(target, newSet) {
        function _addRangeSet(target, _a) {
            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;
            addRange(target, from, to);
            if (l)
                _addRangeSet(target, l);
            if (r)
                _addRangeSet(target, r);
        }
        if (!isEmptyRange(newSet))
            _addRangeSet(target, newSet);
    }
    function rangesOverlap(rangeSet1, rangeSet2) {
        var i1 = getRangeSetIterator(rangeSet2);
        var nextResult1 = i1.next();
        if (nextResult1.done)
            return false;
        var a = nextResult1.value;
        var i2 = getRangeSetIterator(rangeSet1);
        var nextResult2 = i2.next(a.from);
        var b = nextResult2.value;
        while (!nextResult1.done && !nextResult2.done) {
            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)
                return true;
            cmp(a.from, b.from) < 0
                ? (a = (nextResult1 = i1.next(b.from)).value)
                : (b = (nextResult2 = i2.next(a.from)).value);
        }
        return false;
    }
    function getRangeSetIterator(node) {
        var state = isEmptyRange(node) ? null : { s: 0, n: node };
        return {
            next: function (key) {
                var keyProvided = arguments.length > 0;
                while (state) {
                    switch (state.s) {
                        case 0:
                            state.s = 1;
                            if (keyProvided) {
                                while (state.n.l && cmp(key, state.n.from) < 0)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                            else {
                                while (state.n.l)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                        case 1:
                            state.s = 2;
                            if (!keyProvided || cmp(key, state.n.to) <= 0)
                                return { value: state.n, done: false };
                        case 2:
                            if (state.n.r) {
                                state.s = 3;
                                state = { up: state, n: state.n.r, s: 0 };
                                continue;
                            }
                        case 3:
                            state = state.up;
                    }
                }
                return { done: true };
            },
        };
    }
    function rebalance(target) {
        var _a, _b;
        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);
        var r = diff > 1 ? "r" : diff < -1 ? "l" : "";
        if (r) {
            var l = r === "r" ? "l" : "r";
            var rootClone = __assign({}, target);
            var oldRootRight = target[r];
            target.from = oldRootRight.from;
            target.to = oldRootRight.to;
            target[r] = oldRootRight[r];
            rootClone[r] = oldRootRight[l];
            target[l] = rootClone;
            rootClone.d = computeDepth(rootClone);
        }
        target.d = computeDepth(target);
    }
    function computeDepth(_a) {
        var r = _a.r, l = _a.l;
        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;
    }

    function extendObservabilitySet(target, newSet) {
        keys(newSet).forEach(function (part) {
            if (target[part])
                mergeRanges(target[part], newSet[part]);
            else
                target[part] = cloneSimpleObjectTree(newSet[part]);
        });
        return target;
    }

    function obsSetsOverlap(os1, os2) {
        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });
    }

    var cache = {};

    var unsignaledParts = {};
    var isTaskEnqueued = false;
    function signalSubscribersLazily(part, optimistic) {
        extendObservabilitySet(unsignaledParts, part);
        if (!isTaskEnqueued) {
            isTaskEnqueued = true;
            setTimeout(function () {
                isTaskEnqueued = false;
                var parts = unsignaledParts;
                unsignaledParts = {};
                signalSubscribersNow(parts, false);
            }, 0);
        }
    }
    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {
        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }
        var queriesToSignal = new Set();
        if (updatedParts.all) {
            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {
                var tblCache = _a[_i];
                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
            }
        }
        else {
            for (var key in updatedParts) {
                var parts = /^idb\:\/\/(.*)\/(.*)\//.exec(key);
                if (parts) {
                    var dbName = parts[1], tableName = parts[2];
                    var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                    if (tblCache)
                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
                }
            }
        }
        queriesToSignal.forEach(function (requery) { return requery(); });
    }
    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {
        var updatedEntryLists = [];
        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {
            var _b = _a[_i], indexName = _b[0], entries = _b[1];
            var filteredEntries = [];
            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {
                var entry = entries_1[_c];
                if (obsSetsOverlap(updatedParts, entry.obsSet)) {
                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });
                }
                else if (deleteAffectedCacheEntries) {
                    filteredEntries.push(entry);
                }
            }
            if (deleteAffectedCacheEntries)
                updatedEntryLists.push([indexName, filteredEntries]);
        }
        if (deleteAffectedCacheEntries) {
            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {
                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];
                tblCache.queries.query[indexName] = filteredEntries;
            }
        }
    }

    function dexieOpen(db) {
        var state = db._state;
        var indexedDB = db._deps.indexedDB;
        if (state.isBeingOpened || db.idbdb)
            return state.dbReadyPromise.then(function () { return state.dbOpenError ?
                rejection(state.dbOpenError) :
                db; });
        state.isBeingOpened = true;
        state.dbOpenError = null;
        state.openComplete = false;
        var openCanceller = state.openCanceller;
        var nativeVerToOpen = Math.round(db.verno * 10);
        var schemaPatchMode = false;
        function throwIfCancelled() {
            if (state.openCanceller !== openCanceller)
                throw new exceptions.DatabaseClosed('db.open() was cancelled');
        }
        var resolveDbReady = state.dbReadyResolve,
        upgradeTransaction = null, wasCreated = false;
        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {
            throwIfCancelled();
            if (!indexedDB)
                throw new exceptions.MissingAPI();
            var dbName = db.name;
            var req = state.autoSchema || !nativeVerToOpen ?
                indexedDB.open(dbName) :
                indexedDB.open(dbName, nativeVerToOpen);
            if (!req)
                throw new exceptions.MissingAPI();
            req.onerror = eventRejectHandler(reject);
            req.onblocked = wrap(db._fireOnBlocked);
            req.onupgradeneeded = wrap(function (e) {
                upgradeTransaction = req.transaction;
                if (state.autoSchema && !db._options.allowEmptyDB) {
                    req.onerror = preventDefault;
                    upgradeTransaction.abort();
                    req.result.close();
                    var delreq = indexedDB.deleteDatabase(dbName);
                    delreq.onsuccess = delreq.onerror = wrap(function () {
                        reject(new exceptions.NoSuchDatabase("Database ".concat(dbName, " doesnt exist")));
                    });
                }
                else {
                    upgradeTransaction.onerror = eventRejectHandler(reject);
                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;
                    wasCreated = oldVer < 1;
                    db.idbdb = req.result;
                    if (schemaPatchMode) {
                        patchCurrentVersion(db, upgradeTransaction);
                    }
                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);
                }
            }, reject);
            req.onsuccess = wrap(function () {
                upgradeTransaction = null;
                var idbdb = db.idbdb = req.result;
                var objectStoreNames = slice(idbdb.objectStoreNames);
                if (objectStoreNames.length > 0)
                    try {
                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');
                        if (state.autoSchema)
                            readGlobalSchema(db, idbdb, tmpTrans);
                        else {
                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);
                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {
                                console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.");
                                idbdb.close();
                                nativeVerToOpen = idbdb.version + 1;
                                schemaPatchMode = true;
                                return resolve(tryOpenDB());
                            }
                        }
                        generateMiddlewareStacks(db, tmpTrans);
                    }
                    catch (e) {
                    }
                connections.push(db);
                idbdb.onversionchange = wrap(function (ev) {
                    state.vcFired = true;
                    db.on("versionchange").fire(ev);
                });
                idbdb.onclose = wrap(function (ev) {
                    db.on("close").fire(ev);
                });
                if (wasCreated)
                    _onDatabaseCreated(db._deps, dbName);
                resolve();
            }, reject);
        }).catch(function (err) {
            switch (err === null || err === void 0 ? void 0 : err.name) {
                case "UnknownError":
                    if (state.PR1398_maxLoop > 0) {
                        state.PR1398_maxLoop--;
                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');
                        return tryOpenDB();
                    }
                    break;
                case "VersionError":
                    if (nativeVerToOpen > 0) {
                        nativeVerToOpen = 0;
                        return tryOpenDB();
                    }
                    break;
            }
            return DexiePromise.reject(err);
        }); };
        return DexiePromise.race([
            openCanceller,
            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)
        ]).then(function () {
            throwIfCancelled();
            state.onReadyBeingFired = [];
            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {
                if (state.onReadyBeingFired.length > 0) {
                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);
                    state.onReadyBeingFired = [];
                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);
                }
            });
        }).finally(function () {
            if (state.openCanceller === openCanceller) {
                state.onReadyBeingFired = null;
                state.isBeingOpened = false;
            }
        }).catch(function (err) {
            state.dbOpenError = err;
            try {
                upgradeTransaction && upgradeTransaction.abort();
            }
            catch (_a) { }
            if (openCanceller === state.openCanceller) {
                db._close();
            }
            return rejection(err);
        }).finally(function () {
            state.openComplete = true;
            resolveDbReady();
        }).then(function () {
            if (wasCreated) {
                var everything_1 = {};
                db.tables.forEach(function (table) {
                    table.schema.indexes.forEach(function (idx) {
                        if (idx.name)
                            everything_1["idb://".concat(db.name, "/").concat(table.name, "/").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);
                    });
                    everything_1["idb://".concat(db.name, "/").concat(table.name, "/")] = everything_1["idb://".concat(db.name, "/").concat(table.name, "/:dels")] = new RangeSet(-Infinity, [[[]]]);
                });
                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);
                signalSubscribersNow(everything_1, true);
            }
            return db;
        });
    }

    function awaitIterator(iterator) {
        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);
        function step(getNext) {
            return function (val) {
                var next = getNext(val), value = next.value;
                return next.done ? value :
                    (!value || typeof value.then !== 'function' ?
                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :
                        value.then(onSuccess, onError));
            };
        }
        return step(callNext)();
    }

    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {
        var i = arguments.length;
        if (i < 2)
            throw new exceptions.InvalidArgument("Too few arguments");
        var args = new Array(i - 1);
        while (--i)
            args[i - 1] = arguments[i];
        scopeFunc = args.pop();
        var tables = flatten(args);
        return [mode, tables, scopeFunc];
    }
    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {
        return DexiePromise.resolve().then(function () {
            var transless = PSD.transless || PSD;
            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);
            trans.explicit = true;
            var zoneProps = {
                trans: trans,
                transless: transless
            };
            if (parentTransaction) {
                trans.idbtrans = parentTransaction.idbtrans;
            }
            else {
                try {
                    trans.create();
                    trans.idbtrans._explicit = true;
                    db._state.PR1398_maxLoop = 3;
                }
                catch (ex) {
                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                        console.warn('Dexie: Need to reopen db');
                        db.close({ disableAutoOpen: false });
                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });
                    }
                    return rejection(ex);
                }
            }
            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);
            if (scopeFuncIsAsync) {
                incrementExpectedAwaits();
            }
            var returnValue;
            var promiseFollowed = DexiePromise.follow(function () {
                returnValue = scopeFunc.call(trans, trans);
                if (returnValue) {
                    if (scopeFuncIsAsync) {
                        var decrementor = decrementExpectedAwaits.bind(null, null);
                        returnValue.then(decrementor, decrementor);
                    }
                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {
                        returnValue = awaitIterator(returnValue);
                    }
                }
            }, zoneProps);
            return (returnValue && typeof returnValue.then === 'function' ?
                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?
                    x
                    : rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")); })
                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {
                if (parentTransaction)
                    trans._resolve();
                return trans._completion.then(function () { return x; });
            }).catch(function (e) {
                trans._reject(e);
                return rejection(e);
            });
        });
    }

    function pad(a, value, count) {
        var result = isArray(a) ? a.slice() : [a];
        for (var i = 0; i < count; ++i)
            result.push(value);
        return result;
    }
    function createVirtualIndexMiddleware(down) {
        return __assign(__assign({}, down), { table: function (tableName) {
                var table = down.table(tableName);
                var schema = table.schema;
                var indexLookup = {};
                var allVirtualIndexes = [];
                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {
                    var keyPathAlias = getKeyPathAlias(keyPath);
                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);
                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;
                    var isVirtual = keyTail > 0;
                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual
                            ? "".concat(keyPathAlias, "(virtual-from:").concat(lowLevelIndex.name, ")")
                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });
                    indexList.push(virtualIndex);
                    if (!virtualIndex.isPrimaryKey) {
                        allVirtualIndexes.push(virtualIndex);
                    }
                    if (keyLength > 1) {
                        var virtualKeyPath = keyLength === 2 ?
                            keyPath[0] :
                            keyPath.slice(0, keyLength - 1);
                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);
                    }
                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });
                    return virtualIndex;
                }
                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);
                indexLookup[":id"] = [primaryKey];
                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {
                    var index = _a[_i];
                    addVirtualIndexes(index.keyPath, 0, index);
                }
                function findBestIndex(keyPath) {
                    var result = indexLookup[getKeyPathAlias(keyPath)];
                    return result && result[0];
                }
                function translateRange(range, keyTail) {
                    return {
                        type: range.type === 1  ?
                            2  :
                            range.type,
                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),
                        lowerOpen: true,
                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),
                        upperOpen: true
                    };
                }
                function translateRequest(req) {
                    var index = req.query.index;
                    return index.isVirtual ? __assign(__assign({}, req), { query: {
                            index: index.lowLevelIndex,
                            range: translateRange(req.query.range, index.keyTail)
                        } }) : req;
                }
                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {
                        return table.count(translateRequest(req));
                    }, query: function (req) {
                        return table.query(translateRequest(req));
                    }, openCursor: function (req) {
                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;
                        if (!isVirtual)
                            return table.openCursor(req);
                        function createVirtualCursor(cursor) {
                            function _continue(key) {
                                key != null ?
                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :
                                    req.unique ?
                                        cursor.continue(cursor.key.slice(0, keyLength)
                                            .concat(req.reverse
                                            ? down.MIN_KEY
                                            : down.MAX_KEY, keyTail)) :
                                        cursor.continue();
                            }
                            var virtualCursor = Object.create(cursor, {
                                continue: { value: _continue },
                                continuePrimaryKey: {
                                    value: function (key, primaryKey) {
                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);
                                    }
                                },
                                primaryKey: {
                                    get: function () {
                                        return cursor.primaryKey;
                                    }
                                },
                                key: {
                                    get: function () {
                                        var key = cursor.key;
                                        return keyLength === 1 ?
                                            key[0] :
                                            key.slice(0, keyLength);
                                    }
                                },
                                value: {
                                    get: function () {
                                        return cursor.value;
                                    }
                                }
                            });
                            return virtualCursor;
                        }
                        return table.openCursor(translateRequest(req))
                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });
                    } });
                return result;
            } });
    }
    var virtualIndexMiddleware = {
        stack: "dbcore",
        name: "VirtualIndexMiddleware",
        level: 1,
        create: createVirtualIndexMiddleware
    };

    function getObjectDiff(a, b, rv, prfx) {
        rv = rv || {};
        prfx = prfx || '';
        keys(a).forEach(function (prop) {
            if (!hasOwn(b, prop)) {
                rv[prfx + prop] = undefined;
            }
            else {
                var ap = a[prop], bp = b[prop];
                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {
                    var apTypeName = toStringTag(ap);
                    var bpTypeName = toStringTag(bp);
                    if (apTypeName !== bpTypeName) {
                        rv[prfx + prop] = b[prop];
                    }
                    else if (apTypeName === 'Object') {
                        getObjectDiff(ap, bp, rv, prfx + prop + '.');
                    }
                    else if (ap !== bp) {
                        rv[prfx + prop] = b[prop];
                    }
                }
                else if (ap !== bp)
                    rv[prfx + prop] = b[prop];
            }
        });
        keys(b).forEach(function (prop) {
            if (!hasOwn(a, prop)) {
                rv[prfx + prop] = b[prop];
            }
        });
        return rv;
    }

    function getEffectiveKeys(primaryKey, req) {
        if (req.type === 'delete')
            return req.keys;
        return req.keys || req.values.map(primaryKey.extractKey);
    }

    var hooksMiddleware = {
        stack: "dbcore",
        name: "HooksMiddleware",
        level: 2,
        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {
                var downTable = downCore.table(tableName);
                var primaryKey = downTable.schema.primaryKey;
                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {
                        var dxTrans = PSD.trans;
                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;
                        switch (req.type) {
                            case 'add':
                                if (creating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'put':
                                if (creating.fire === nop && updating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'delete':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'deleteRange':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);
                        }
                        return downTable.mutate(req);
                        function addPutOrDelete(req) {
                            var dxTrans = PSD.trans;
                            var keys = req.keys || getEffectiveKeys(primaryKey, req);
                            if (!keys)
                                throw new Error("Keys missing");
                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);
                            if (req.type !== 'delete')
                                req.values = __spreadArray([], req.values, true);
                            if (req.keys)
                                req.keys = __spreadArray([], req.keys, true);
                            return getExistingValues(downTable, req, keys).then(function (existingValues) {
                                var contexts = keys.map(function (key, i) {
                                    var existingValue = existingValues[i];
                                    var ctx = { onerror: null, onsuccess: null };
                                    if (req.type === 'delete') {
                                        deleting.fire.call(ctx, key, existingValue, dxTrans);
                                    }
                                    else if (req.type === 'add' || existingValue === undefined) {
                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);
                                        if (key == null && generatedPrimaryKey != null) {
                                            key = generatedPrimaryKey;
                                            req.keys[i] = key;
                                            if (!primaryKey.outbound) {
                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);
                                            }
                                        }
                                    }
                                    else {
                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);
                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);
                                        if (additionalChanges_1) {
                                            var requestedValue_1 = req.values[i];
                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {
                                                if (hasOwn(requestedValue_1, keyPath)) {
                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];
                                                }
                                                else {
                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);
                                                }
                                            });
                                        }
                                    }
                                    return ctx;
                                });
                                return downTable.mutate(req).then(function (_a) {
                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;
                                    for (var i = 0; i < keys.length; ++i) {
                                        var primKey = results ? results[i] : keys[i];
                                        var ctx = contexts[i];
                                        if (primKey == null) {
                                            ctx.onerror && ctx.onerror(failures[i]);
                                        }
                                        else {
                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?
                                                req.values[i] :
                                                primKey
                                            );
                                        }
                                    }
                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };
                                }).catch(function (error) {
                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });
                                    return Promise.reject(error);
                                });
                            });
                        }
                        function deleteRange(req) {
                            return deleteNextChunk(req.trans, req.range, 10000);
                        }
                        function deleteNextChunk(trans, range, limit) {
                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })
                                .then(function (_a) {
                                var result = _a.result;
                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {
                                    if (res.numFailures > 0)
                                        return Promise.reject(res.failures[0]);
                                    if (result.length < limit) {
                                        return { failures: [], numFailures: 0, lastResult: undefined };
                                    }
                                    else {
                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);
                                    }
                                });
                            });
                        }
                    } });
                return tableMiddleware;
            } })); }
    };
    function getExistingValues(table, req, effectiveKeys) {
        return req.type === "add"
            ? Promise.resolve([])
            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: "immutable" });
    }

    function getFromTransactionCache(keys, cache, clone) {
        try {
            if (!cache)
                return null;
            if (cache.keys.length < keys.length)
                return null;
            var result = [];
            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {
                if (cmp(cache.keys[i], keys[j]) !== 0)
                    continue;
                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);
                ++j;
            }
            return result.length === keys.length ? result : null;
        }
        catch (_a) {
            return null;
        }
    }
    var cacheExistingValuesMiddleware = {
        stack: "dbcore",
        level: -1,
        create: function (core) {
            return {
                table: function (tableName) {
                    var table = core.table(tableName);
                    return __assign(__assign({}, table), { getMany: function (req) {
                            if (!req.cache) {
                                return table.getMany(req);
                            }
                            var cachedResult = getFromTransactionCache(req.keys, req.trans["_cache"], req.cache === "clone");
                            if (cachedResult) {
                                return DexiePromise.resolve(cachedResult);
                            }
                            return table.getMany(req).then(function (res) {
                                req.trans["_cache"] = {
                                    keys: req.keys,
                                    values: req.cache === "clone" ? deepClone(res) : res,
                                };
                                return res;
                            });
                        }, mutate: function (req) {
                            if (req.type !== "add")
                                req.trans["_cache"] = null;
                            return table.mutate(req);
                        } });
                },
            };
        },
    };

    function isCachableContext(ctx, table) {
        return (ctx.trans.mode === 'readonly' &&
            !!ctx.subscr &&
            !ctx.trans.explicit &&
            ctx.trans.db._options.cache !== 'disabled' &&
            !table.schema.primaryKey.outbound);
    }

    function isCachableRequest(type, req) {
        switch (type) {
            case 'query':
                return req.values && !req.unique;
            case 'get':
                return false;
            case 'getMany':
                return false;
            case 'count':
                return false;
            case 'openCursor':
                return false;
        }
    }

    var observabilityMiddleware = {
        stack: "dbcore",
        level: 0,
        name: "Observability",
        create: function (core) {
            var dbName = core.schema.name;
            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);
            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    if (PSD.subscr && mode !== 'readonly') {
                        throw new exceptions.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(PSD.querier));
                    }
                    return core.transaction(stores, mode, options);
                }, table: function (tableName) {
                    var table = core.table(tableName);
                    var schema = table.schema;
                    var primaryKey = schema.primaryKey, indexes = schema.indexes;
                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;
                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });
                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {
                            var _a, _b;
                            var trans = req.trans;
                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});
                            var getRangeSet = function (indexName) {
                                var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                return (mutatedParts[part] ||
                                    (mutatedParts[part] = new RangeSet()));
                            };
                            var pkRangeSet = getRangeSet("");
                            var delsRangeSet = getRangeSet(":dels");
                            var type = req.type;
                            var _c = req.type === "deleteRange"
                                ? [req.range]
                                : req.type === "delete"
                                    ? [req.keys]
                                    : req.values.length < 50
                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]
                                        : [], keys = _c[0], newObjs = _c[1];
                            var oldCache = req.trans["_cache"];
                            if (isArray(keys)) {
                                pkRangeSet.addKeys(keys);
                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;
                                if (!oldObjs) {
                                    delsRangeSet.addKeys(keys);
                                }
                                if (oldObjs || newObjs) {
                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);
                                }
                            }
                            else if (keys) {
                                var range = {
                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,
                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY
                                };
                                delsRangeSet.add(range);
                                pkRangeSet.add(range);
                            }
                            else {
                                pkRangeSet.add(FULL_RANGE);
                                delsRangeSet.add(FULL_RANGE);
                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });
                            }
                            return table.mutate(req).then(function (res) {
                                if (keys && (req.type === 'add' || req.type === 'put')) {
                                    pkRangeSet.addKeys(res.results);
                                    if (indexesWithAutoIncPK) {
                                        indexesWithAutoIncPK.forEach(function (idx) {
                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });
                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });
                                            for (var i = 0, len = res.results.length; i < len; ++i) {
                                                idxVals[i][pkPos] = res.results[i];
                                            }
                                            getRangeSet(idx.name).addKeys(idxVals);
                                        });
                                    }
                                }
                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);
                                return res;
                            });
                        } });
                    var getRange = function (_a) {
                        var _b, _c;
                        var _d = _a.query, index = _d.index, range = _d.range;
                        return [
                            index,
                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),
                        ];
                    };
                    var readSubscribers = {
                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },
                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },
                        count: getRange,
                        query: getRange,
                        openCursor: getRange,
                    };
                    keys(readSubscribers).forEach(function (method) {
                        tableClone[method] = function (req) {
                            var subscr = PSD.subscr;
                            var isLiveQuery = !!subscr;
                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);
                            var obsSet = cachable
                                ? req.obsSet = {}
                                : subscr;
                            if (isLiveQuery) {
                                var getRangeSet = function (indexName) {
                                    var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                    return (obsSet[part] ||
                                        (obsSet[part] = new RangeSet()));
                                };
                                var pkRangeSet_1 = getRangeSet("");
                                var delsRangeSet_1 = getRangeSet(":dels");
                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];
                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {
                                    delsRangeSet_1.add(queriedRanges);
                                }
                                else {
                                    getRangeSet(queriedIndex.name || "").add(queriedRanges);
                                }
                                if (!queriedIndex.isPrimaryKey) {
                                    if (method === "count") {
                                        delsRangeSet_1.add(FULL_RANGE);
                                    }
                                    else {
                                        var keysPromise_1 = method === "query" &&
                                            outbound &&
                                            req.values &&
                                            table.query(__assign(__assign({}, req), { values: false }));
                                        return table[method].apply(this, arguments).then(function (res) {
                                            if (method === "query") {
                                                if (outbound && req.values) {
                                                    return keysPromise_1.then(function (_a) {
                                                        var resultingKeys = _a.result;
                                                        pkRangeSet_1.addKeys(resultingKeys);
                                                        return res;
                                                    });
                                                }
                                                var pKeys = req.values
                                                    ? res.result.map(extractKey)
                                                    : res.result;
                                                if (req.values) {
                                                    pkRangeSet_1.addKeys(pKeys);
                                                }
                                                else {
                                                    delsRangeSet_1.addKeys(pKeys);
                                                }
                                            }
                                            else if (method === "openCursor") {
                                                var cursor_1 = res;
                                                var wantValues_1 = req.values;
                                                return (cursor_1 &&
                                                    Object.create(cursor_1, {
                                                        key: {
                                                            get: function () {
                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.key;
                                                            },
                                                        },
                                                        primaryKey: {
                                                            get: function () {
                                                                var pkey = cursor_1.primaryKey;
                                                                delsRangeSet_1.addKey(pkey);
                                                                return pkey;
                                                            },
                                                        },
                                                        value: {
                                                            get: function () {
                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.value;
                                                            },
                                                        },
                                                    }));
                                            }
                                            return res;
                                        });
                                    }
                                }
                            }
                            return table[method].apply(this, arguments);
                        };
                    });
                    return tableClone;
                } });
        },
    };
    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {
        function addAffectedIndex(ix) {
            var rangeSet = getRangeSet(ix.name || "");
            function extractKey(obj) {
                return obj != null ? ix.extractKey(obj) : null;
            }
            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)
                ? key.forEach(function (key) { return rangeSet.addKey(key); })
                : rangeSet.addKey(key); };
            (oldObjs || newObjs).forEach(function (_, i) {
                var oldKey = oldObjs && extractKey(oldObjs[i]);
                var newKey = newObjs && extractKey(newObjs[i]);
                if (cmp(oldKey, newKey) !== 0) {
                    if (oldKey != null)
                        addKeyOrKeys(oldKey);
                    if (newKey != null)
                        addKeyOrKeys(newKey);
                }
            });
        }
        schema.indexes.forEach(addAffectedIndex);
    }

    function adjustOptimisticFromFailures(tblCache, req, res) {
        if (res.numFailures === 0)
            return req;
        if (req.type === 'deleteRange') {
            return null;
        }
        var numBulkOps = req.keys
            ? req.keys.length
            : 'values' in req && req.values
                ? req.values.length
                : 1;
        if (res.numFailures === numBulkOps) {
            return null;
        }
        var clone = __assign({}, req);
        if (isArray(clone.keys)) {
            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });
        }
        if ('values' in clone && isArray(clone.values)) {
            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });
        }
        return clone;
    }

    function isAboveLower(key, range) {
        return range.lower === undefined
            ? true
            : range.lowerOpen
                ? cmp(key, range.lower) > 0
                : cmp(key, range.lower) >= 0;
    }
    function isBelowUpper(key, range) {
        return range.upper === undefined
            ? true
            : range.upperOpen
                ? cmp(key, range.upper) < 0
                : cmp(key, range.upper) <= 0;
    }
    function isWithinRange(key, range) {
        return isAboveLower(key, range) && isBelowUpper(key, range);
    }

    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {
        if (!ops || ops.length === 0)
            return result;
        var index = req.query.index;
        var multiEntry = index.multiEntry;
        var queryRange = req.query.range;
        var primaryKey = table.schema.primaryKey;
        var extractPrimKey = primaryKey.extractKey;
        var extractIndex = index.extractKey;
        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;
        var finalResult = ops.reduce(function (result, op) {
            var modifedResult = result;
            var includedValues = [];
            if (op.type === 'add' || op.type === 'put') {
                var includedPKs = new RangeSet();
                for (var i = op.values.length - 1; i >= 0; --i) {
                    var value = op.values[i];
                    var pk = extractPrimKey(value);
                    if (includedPKs.hasKey(pk))
                        continue;
                    var key = extractIndex(value);
                    if (multiEntry && isArray(key)
                        ? key.some(function (k) { return isWithinRange(k, queryRange); })
                        : isWithinRange(key, queryRange)) {
                        includedPKs.addKey(pk);
                        includedValues.push(value);
                    }
                }
            }
            switch (op.type) {
                case 'add': {
                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);
                    modifedResult = result.concat(req.values
                        ? includedValues.filter(function (v) {
                            var key = extractPrimKey(v);
                            if (existingKeys_1.hasKey(key))
                                return false;
                            existingKeys_1.addKey(key);
                            return true;
                        })
                        : includedValues
                            .map(function (v) { return extractPrimKey(v); })
                            .filter(function (k) {
                            if (existingKeys_1.hasKey(k))
                                return false;
                            existingKeys_1.addKey(k);
                            return true;
                        }));
                    break;
                }
                case 'put': {
                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));
                    modifedResult = result
                        .filter(
                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })
                        .concat(
                    req.values
                        ? includedValues
                        : includedValues.map(function (v) { return extractPrimKey(v); }));
                    break;
                }
                case 'delete':
                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);
                    modifedResult = result.filter(function (item) {
                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);
                    });
                    break;
                case 'deleteRange':
                    var range_1 = op.range;
                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });
                    break;
            }
            return modifedResult;
        }, result);
        if (finalResult === result)
            return result;
        finalResult.sort(function (a, b) {
            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||
                cmp(extractPrimKey(a), extractPrimKey(b));
        });
        if (req.limit && req.limit < Infinity) {
            if (finalResult.length > req.limit) {
                finalResult.length = req.limit;
            }
            else if (result.length === req.limit && finalResult.length < req.limit) {
                cacheEntry.dirty = true;
            }
        }
        return immutable ? Object.freeze(finalResult) : finalResult;
    }

    function areRangesEqual(r1, r2) {
        return (cmp(r1.lower, r2.lower) === 0 &&
            cmp(r1.upper, r2.upper) === 0 &&
            !!r1.lowerOpen === !!r2.lowerOpen &&
            !!r1.upperOpen === !!r2.upperOpen);
    }

    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {
        if (lower1 === undefined)
            return lower2 !== undefined ? -1 : 0;
        if (lower2 === undefined)
            return 1;
        var c = cmp(lower1, lower2);
        if (c === 0) {
            if (lowerOpen1 && lowerOpen2)
                return 0;
            if (lowerOpen1)
                return 1;
            if (lowerOpen2)
                return -1;
        }
        return c;
    }
    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {
        if (upper1 === undefined)
            return upper2 !== undefined ? 1 : 0;
        if (upper2 === undefined)
            return -1;
        var c = cmp(upper1, upper2);
        if (c === 0) {
            if (upperOpen1 && upperOpen2)
                return 0;
            if (upperOpen1)
                return -1;
            if (upperOpen2)
                return 1;
        }
        return c;
    }
    function isSuperRange(r1, r2) {
        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&
            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);
    }

    function findCompatibleQuery(dbName, tableName, type, req) {
        var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
        if (!tblCache)
            return [];
        var queries = tblCache.queries[type];
        if (!queries)
            return [null, false, tblCache, null];
        var indexName = req.query ? req.query.index.name : null;
        var entries = queries[indexName || ''];
        if (!entries)
            return [null, false, tblCache, null];
        switch (type) {
            case 'query':
                var equalEntry = entries.find(function (entry) {
                    return entry.req.limit === req.limit &&
                        entry.req.values === req.values &&
                        areRangesEqual(entry.req.query.range, req.query.range);
                });
                if (equalEntry)
                    return [
                        equalEntry,
                        true,
                        tblCache,
                        entries,
                    ];
                var superEntry = entries.find(function (entry) {
                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;
                    return (limit >= req.limit &&
                        (req.values ? entry.req.values : true) &&
                        isSuperRange(entry.req.query.range, req.query.range));
                });
                return [superEntry, false, tblCache, entries];
            case 'count':
                var countQuery = entries.find(function (entry) {
                    return areRangesEqual(entry.req.query.range, req.query.range);
                });
                return [countQuery, !!countQuery, tblCache, entries];
        }
    }

    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {
        cacheEntry.subscribers.add(requery);
        signal.addEventListener("abort", function () {
            cacheEntry.subscribers.delete(requery);
            if (cacheEntry.subscribers.size === 0) {
                enqueForDeletion(cacheEntry, container);
            }
        });
    }
    function enqueForDeletion(cacheEntry, container) {
        setTimeout(function () {
            if (cacheEntry.subscribers.size === 0) {
                delArrayItem(container, cacheEntry);
            }
        }, 3000);
    }

    var cacheMiddleware = {
        stack: 'dbcore',
        level: 0,
        name: 'Cache',
        create: function (core) {
            var dbName = core.schema.name;
            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    var idbtrans = core.transaction(stores, mode, options);
                    if (mode === 'readwrite') {
                        var ac_1 = new AbortController();
                        var signal = ac_1.signal;
                        var endTransaction = function (wasCommitted) { return function () {
                            ac_1.abort();
                            if (mode === 'readwrite') {
                                var affectedSubscribers_1 = new Set();
                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {
                                    var storeName = stores_1[_i];
                                    var tblCache = cache["idb://".concat(dbName, "/").concat(storeName)];
                                    if (tblCache) {
                                        var table = core.table(storeName);
                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });
                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {
                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {
                                                var entries = _b[_a];
                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {
                                                    var entry = _d[_c];
                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {
                                                        delArrayItem(entries, entry);
                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                    }
                                                }
                                            }
                                        }
                                        else if (ops.length > 0) {
                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });
                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {
                                                var entries = _f[_e];
                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {
                                                    var entry = _h[_g];
                                                    if (entry.res != null &&
                                                        idbtrans.mutatedParts
    ) {
                                                        if (wasCommitted && !entry.dirty) {
                                                            var freezeResults = Object.isFrozen(entry.res);
                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                            }
                                                            else if (modRes !== entry.res) {
                                                                entry.res = modRes;
                                                                entry.promise = DexiePromise.resolve({ result: modRes });
                                                            }
                                                        }
                                                        else {
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                            }
                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                affectedSubscribers_1.forEach(function (requery) { return requery(); });
                            }
                        }; };
                        idbtrans.addEventListener('abort', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('error', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('complete', endTransaction(true), {
                            signal: signal,
                        });
                    }
                    return idbtrans;
                }, table: function (tableName) {
                    var downTable = core.table(tableName);
                    var primKey = downTable.schema.primaryKey;
                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {
                            var trans = PSD.trans;
                            if (primKey.outbound ||
                                trans.db._options.cache === 'disabled' ||
                                trans.explicit ||
                                trans.idbtrans.mode !== 'readwrite'
                            ) {
                                return downTable.mutate(req);
                            }
                            var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                            if (!tblCache)
                                return downTable.mutate(req);
                            var promise = downTable.mutate(req);
                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {
                                promise.then(function (res) {
                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {
                                            var _a;
                                            if (res.failures[i])
                                                return value;
                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))
                                                ? deepClone(value)
                                                : __assign({}, value);
                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);
                                            return valueWithKey;
                                        }) });
                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);
                                    tblCache.optimisticOps.push(adjustedReq);
                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });
                                });
                            }
                            else {
                                tblCache.optimisticOps.push(req);
                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                promise.then(function (res) {
                                    if (res.numFailures > 0) {
                                        delArrayItem(tblCache.optimisticOps, req);
                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);
                                        if (adjustedReq) {
                                            tblCache.optimisticOps.push(adjustedReq);
                                        }
                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                    }
                                });
                                promise.catch(function () {
                                    delArrayItem(tblCache.optimisticOps, req);
                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                });
                            }
                            return promise;
                        }, query: function (req) {
                            var _a;
                            if (!isCachableContext(PSD, downTable) || !isCachableRequest("query", req))
                                return downTable.query(req);
                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';
                            var _b = PSD, requery = _b.requery, signal = _b.signal;
                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];
                            if (cacheEntry && exactMatch) {
                                cacheEntry.obsSet = req.obsSet;
                            }
                            else {
                                var promise = downTable.query(req).then(function (res) {
                                    var result = res.result;
                                    if (cacheEntry)
                                        cacheEntry.res = result;
                                    if (freezeResults) {
                                        for (var i = 0, l = result.length; i < l; ++i) {
                                            Object.freeze(result[i]);
                                        }
                                        Object.freeze(result);
                                    }
                                    else {
                                        res.result = deepClone(result);
                                    }
                                    return res;
                                }).catch(function (error) {
                                    if (container && cacheEntry)
                                        delArrayItem(container, cacheEntry);
                                    return Promise.reject(error);
                                });
                                cacheEntry = {
                                    obsSet: req.obsSet,
                                    promise: promise,
                                    subscribers: new Set(),
                                    type: 'query',
                                    req: req,
                                    dirty: false,
                                };
                                if (container) {
                                    container.push(cacheEntry);
                                }
                                else {
                                    container = [cacheEntry];
                                    if (!tblCache) {
                                        tblCache = cache["idb://".concat(dbName, "/").concat(tableName)] = {
                                            queries: {
                                                query: {},
                                                count: {},
                                            },
                                            objs: new Map(),
                                            optimisticOps: [],
                                            unsignaledParts: {}
                                        };
                                    }
                                    tblCache.queries.query[req.query.index.name || ''] = container;
                                }
                            }
                            subscribeToCacheEntry(cacheEntry, container, requery, signal);
                            return cacheEntry.promise.then(function (res) {
                                return {
                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),
                                };
                            });
                        } });
                    return tableMW;
                } });
            return coreMW;
        },
    };

    function vipify(target, vipDb) {
        return new Proxy(target, {
            get: function (target, prop, receiver) {
                if (prop === 'db')
                    return vipDb;
                return Reflect.get(target, prop, receiver);
            }
        });
    }

    var Dexie$1 =  (function () {
        function Dexie(name, options) {
            var _this = this;
            this._middlewares = {};
            this.verno = 0;
            var deps = Dexie.dependencies;
            this._options = options = __assign({
                addons: Dexie.addons, autoOpen: true,
                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);
            this._deps = {
                indexedDB: options.indexedDB,
                IDBKeyRange: options.IDBKeyRange
            };
            var addons = options.addons;
            this._dbSchema = {};
            this._versions = [];
            this._storeNames = [];
            this._allTables = {};
            this.idbdb = null;
            this._novip = this;
            var state = {
                dbOpenError: null,
                isBeingOpened: false,
                onReadyBeingFired: null,
                openComplete: false,
                dbReadyResolve: nop,
                dbReadyPromise: null,
                cancelOpen: nop,
                openCanceller: null,
                autoSchema: true,
                PR1398_maxLoop: 3,
                autoOpen: options.autoOpen,
            };
            state.dbReadyPromise = new DexiePromise(function (resolve) {
                state.dbReadyResolve = resolve;
            });
            state.openCanceller = new DexiePromise(function (_, reject) {
                state.cancelOpen = reject;
            });
            this._state = state;
            this.name = name;
            this.on = Events(this, "populate", "blocked", "versionchange", "close", { ready: [promisableChain, nop] });
            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {
                return function (subscriber, bSticky) {
                    Dexie.vip(function () {
                        var state = _this._state;
                        if (state.openComplete) {
                            if (!state.dbOpenError)
                                DexiePromise.resolve().then(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else if (state.onReadyBeingFired) {
                            state.onReadyBeingFired.push(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else {
                            subscribe(subscriber);
                            var db_1 = _this;
                            if (!bSticky)
                                subscribe(function unsubscribe() {
                                    db_1.on.ready.unsubscribe(subscriber);
                                    db_1.on.ready.unsubscribe(unsubscribe);
                                });
                        }
                    });
                };
            });
            this.Collection = createCollectionConstructor(this);
            this.Table = createTableConstructor(this);
            this.Transaction = createTransactionConstructor(this);
            this.Version = createVersionConstructor(this);
            this.WhereClause = createWhereClauseConstructor(this);
            this.on("versionchange", function (ev) {
                if (ev.newVersion > 0)
                    console.warn("Another connection wants to upgrade database '".concat(_this.name, "'. Closing db now to resume the upgrade."));
                else
                    console.warn("Another connection wants to delete database '".concat(_this.name, "'. Closing db now to resume the delete request."));
                _this.close({ disableAutoOpen: false });
            });
            this.on("blocked", function (ev) {
                if (!ev.newVersion || ev.newVersion < ev.oldVersion)
                    console.warn("Dexie.delete('".concat(_this.name, "') was blocked"));
                else
                    console.warn("Upgrade '".concat(_this.name, "' blocked by other connection holding version ").concat(ev.oldVersion / 10));
            });
            this._maxKey = getMaxKey(options.IDBKeyRange);
            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };
            this._fireOnBlocked = function (ev) {
                _this.on("blocked").fire(ev);
                connections
                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })
                    .map(function (c) { return c.on("versionchange").fire(ev); });
            };
            this.use(cacheExistingValuesMiddleware);
            this.use(cacheMiddleware);
            this.use(observabilityMiddleware);
            this.use(virtualIndexMiddleware);
            this.use(hooksMiddleware);
            var vipDB = new Proxy(this, {
                get: function (_, prop, receiver) {
                    if (prop === '_vip')
                        return true;
                    if (prop === 'table')
                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };
                    var rv = Reflect.get(_, prop, receiver);
                    if (rv instanceof Table)
                        return vipify(rv, vipDB);
                    if (prop === 'tables')
                        return rv.map(function (t) { return vipify(t, vipDB); });
                    if (prop === '_createTransaction')
                        return function () {
                            var tx = rv.apply(this, arguments);
                            return vipify(tx, vipDB);
                        };
                    return rv;
                }
            });
            this.vip = vipDB;
            addons.forEach(function (addon) { return addon(_this); });
        }
        Dexie.prototype.version = function (versionNumber) {
            if (isNaN(versionNumber) || versionNumber < 0.1)
                throw new exceptions.Type("Given version is not a positive number");
            versionNumber = Math.round(versionNumber * 10) / 10;
            if (this.idbdb || this._state.isBeingOpened)
                throw new exceptions.Schema("Cannot add version when database is open");
            this.verno = Math.max(this.verno, versionNumber);
            var versions = this._versions;
            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];
            if (versionInstance)
                return versionInstance;
            versionInstance = new this.Version(versionNumber);
            versions.push(versionInstance);
            versions.sort(lowerVersionFirst);
            versionInstance.stores({});
            this._state.autoSchema = false;
            return versionInstance;
        };
        Dexie.prototype._whenReady = function (fn) {
            var _this = this;
            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {
                if (_this._state.openComplete) {
                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));
                }
                if (!_this._state.isBeingOpened) {
                    if (!_this._state.autoOpen) {
                        reject(new exceptions.DatabaseClosed());
                        return;
                    }
                    _this.open().catch(nop);
                }
                _this._state.dbReadyPromise.then(resolve, reject);
            }).then(fn);
        };
        Dexie.prototype.use = function (_a) {
            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;
            if (name)
                this.unuse({ stack: stack, name: name });
            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);
            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });
            middlewares.sort(function (a, b) { return a.level - b.level; });
            return this;
        };
        Dexie.prototype.unuse = function (_a) {
            var stack = _a.stack, name = _a.name, create = _a.create;
            if (stack && this._middlewares[stack]) {
                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {
                    return create ? mw.create !== create :
                        name ? mw.name !== name :
                            false;
                });
            }
            return this;
        };
        Dexie.prototype.open = function () {
            var _this = this;
            return usePSD(globalPSD,
            function () { return dexieOpen(_this); });
        };
        Dexie.prototype._close = function () {
            var state = this._state;
            var idx = connections.indexOf(this);
            if (idx >= 0)
                connections.splice(idx, 1);
            if (this.idbdb) {
                try {
                    this.idbdb.close();
                }
                catch (e) { }
                this.idbdb = null;
            }
            if (!state.isBeingOpened) {
                state.dbReadyPromise = new DexiePromise(function (resolve) {
                    state.dbReadyResolve = resolve;
                });
                state.openCanceller = new DexiePromise(function (_, reject) {
                    state.cancelOpen = reject;
                });
            }
        };
        Dexie.prototype.close = function (_a) {
            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;
            var state = this._state;
            if (disableAutoOpen) {
                if (state.isBeingOpened) {
                    state.cancelOpen(new exceptions.DatabaseClosed());
                }
                this._close();
                state.autoOpen = false;
                state.dbOpenError = new exceptions.DatabaseClosed();
            }
            else {
                this._close();
                state.autoOpen = this._options.autoOpen ||
                    state.isBeingOpened;
                state.openComplete = false;
                state.dbOpenError = null;
            }
        };
        Dexie.prototype.delete = function (closeOptions) {
            var _this = this;
            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }
            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';
            var state = this._state;
            return new DexiePromise(function (resolve, reject) {
                var doDelete = function () {
                    _this.close(closeOptions);
                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);
                    req.onsuccess = wrap(function () {
                        _onDatabaseDeleted(_this._deps, _this.name);
                        resolve();
                    });
                    req.onerror = eventRejectHandler(reject);
                    req.onblocked = _this._fireOnBlocked;
                };
                if (hasInvalidArguments)
                    throw new exceptions.InvalidArgument("Invalid closeOptions argument to db.delete()");
                if (state.isBeingOpened) {
                    state.dbReadyPromise.then(doDelete);
                }
                else {
                    doDelete();
                }
            });
        };
        Dexie.prototype.backendDB = function () {
            return this.idbdb;
        };
        Dexie.prototype.isOpen = function () {
            return this.idbdb !== null;
        };
        Dexie.prototype.hasBeenClosed = function () {
            var dbOpenError = this._state.dbOpenError;
            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');
        };
        Dexie.prototype.hasFailed = function () {
            return this._state.dbOpenError !== null;
        };
        Dexie.prototype.dynamicallyOpened = function () {
            return this._state.autoSchema;
        };
        Object.defineProperty(Dexie.prototype, "tables", {
            get: function () {
                var _this = this;
                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });
            },
            enumerable: false,
            configurable: true
        });
        Dexie.prototype.transaction = function () {
            var args = extractTransactionArgs.apply(this, arguments);
            return this._transaction.apply(this, args);
        };
        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {
            var _this = this;
            var parentTransaction = PSD.trans;
            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)
                parentTransaction = null;
            var onlyIfCompatible = mode.indexOf('?') !== -1;
            mode = mode.replace('!', '').replace('?', '');
            var idbMode, storeNames;
            try {
                storeNames = tables.map(function (table) {
                    var storeName = table instanceof _this.Table ? table.name : table;
                    if (typeof storeName !== 'string')
                        throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
                    return storeName;
                });
                if (mode == "r" || mode === READONLY)
                    idbMode = READONLY;
                else if (mode == "rw" || mode == READWRITE)
                    idbMode = READWRITE;
                else
                    throw new exceptions.InvalidArgument("Invalid transaction mode: " + mode);
                if (parentTransaction) {
                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {
                        if (onlyIfCompatible) {
                            parentTransaction = null;
                        }
                        else
                            throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
                    }
                    if (parentTransaction) {
                        storeNames.forEach(function (storeName) {
                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {
                                if (onlyIfCompatible) {
                                    parentTransaction = null;
                                }
                                else
                                    throw new exceptions.SubTransaction("Table " + storeName +
                                        " not included in parent transaction.");
                            }
                        });
                    }
                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {
                        parentTransaction = null;
                    }
                }
            }
            catch (e) {
                return parentTransaction ?
                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :
                    rejection(e);
            }
            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);
            return (parentTransaction ?
                parentTransaction._promise(idbMode, enterTransaction, "lock") :
                PSD.trans ?
                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :
                    this._whenReady(enterTransaction));
        };
        Dexie.prototype.table = function (tableName) {
            if (!hasOwn(this._allTables, tableName)) {
                throw new exceptions.InvalidTable("Table ".concat(tableName, " does not exist"));
            }
            return this._allTables[tableName];
        };
        return Dexie;
    }());

    var symbolObservable = typeof Symbol !== "undefined" && "observable" in Symbol
        ? Symbol.observable
        : "@@observable";
    var Observable =  (function () {
        function Observable(subscribe) {
            this._subscribe = subscribe;
        }
        Observable.prototype.subscribe = function (x, error, complete) {
            return this._subscribe(!x || typeof x === "function" ? { next: x, error: error, complete: complete } : x);
        };
        Observable.prototype[symbolObservable] = function () {
            return this;
        };
        return Observable;
    }());

    var domDeps;
    try {
        domDeps = {
            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,
            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange
        };
    }
    catch (e) {
        domDeps = { indexedDB: null, IDBKeyRange: null };
    }

    function liveQuery(querier) {
        var hasValue = false;
        var currentValue;
        var observable = new Observable(function (observer) {
            var scopeFuncIsAsync = isAsyncFunction(querier);
            function execute(ctx) {
                var wasRootExec = beginMicroTickScope();
                try {
                    if (scopeFuncIsAsync) {
                        incrementExpectedAwaits();
                    }
                    var rv = newScope(querier, ctx);
                    if (scopeFuncIsAsync) {
                        rv = rv.finally(decrementExpectedAwaits);
                    }
                    return rv;
                }
                finally {
                    wasRootExec && endMicroTickScope();
                }
            }
            var closed = false;
            var abortController;
            var accumMuts = {};
            var currentObs = {};
            var subscription = {
                get closed() {
                    return closed;
                },
                unsubscribe: function () {
                    if (closed)
                        return;
                    closed = true;
                    if (abortController)
                        abortController.abort();
                    if (startedListening)
                        globalEvents.storagemutated.unsubscribe(mutationListener);
                },
            };
            observer.start && observer.start(subscription);
            var startedListening = false;
            var doQuery = function () { return execInGlobalContext(_doQuery); };
            function shouldNotify() {
                return obsSetsOverlap(currentObs, accumMuts);
            }
            var mutationListener = function (parts) {
                extendObservabilitySet(accumMuts, parts);
                if (shouldNotify()) {
                    doQuery();
                }
            };
            var _doQuery = function () {
                if (closed ||
                    !domDeps.indexedDB)
                 {
                    return;
                }
                accumMuts = {};
                var subscr = {};
                if (abortController)
                    abortController.abort();
                abortController = new AbortController();
                var ctx = {
                    subscr: subscr,
                    signal: abortController.signal,
                    requery: doQuery,
                    querier: querier,
                    trans: null
                };
                var ret = execute(ctx);
                Promise.resolve(ret).then(function (result) {
                    hasValue = true;
                    currentValue = result;
                    if (closed || ctx.signal.aborted) {
                        return;
                    }
                    accumMuts = {};
                    currentObs = subscr;
                    if (!objectIsEmpty(currentObs) && !startedListening) {
                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);
                        startedListening = true;
                    }
                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });
                }, function (err) {
                    hasValue = false;
                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {
                        if (!closed)
                            execInGlobalContext(function () {
                                if (closed)
                                    return;
                                observer.error && observer.error(err);
                            });
                    }
                });
            };
            setTimeout(doQuery, 0);
            return subscription;
        });
        observable.hasValue = function () { return hasValue; };
        observable.getValue = function () { return currentValue; };
        return observable;
    }

    var Dexie = Dexie$1;
    props(Dexie, __assign(__assign({}, fullNameExceptions), {
        delete: function (databaseName) {
            var db = new Dexie(databaseName, { addons: [] });
            return db.delete();
        },
        exists: function (name) {
            return new Dexie(name, { addons: [] }).open().then(function (db) {
                db.close();
                return true;
            }).catch('NoSuchDatabaseError', function () { return false; });
        },
        getDatabaseNames: function (cb) {
            try {
                return getDatabaseNames(Dexie.dependencies).then(cb);
            }
            catch (_a) {
                return rejection(new exceptions.MissingAPI());
            }
        },
        defineClass: function () {
            function Class(content) {
                extend(this, content);
            }
            return Class;
        }, ignoreTransaction: function (scopeFunc) {
            return PSD.trans ?
                usePSD(PSD.transless, scopeFunc) :
                scopeFunc();
        }, vip: vip, async: function (generatorFn) {
            return function () {
                try {
                    var rv = awaitIterator(generatorFn.apply(this, arguments));
                    if (!rv || typeof rv.then !== 'function')
                        return DexiePromise.resolve(rv);
                    return rv;
                }
                catch (e) {
                    return rejection(e);
                }
            };
        }, spawn: function (generatorFn, args, thiz) {
            try {
                var rv = awaitIterator(generatorFn.apply(thiz, args || []));
                if (!rv || typeof rv.then !== 'function')
                    return DexiePromise.resolve(rv);
                return rv;
            }
            catch (e) {
                return rejection(e);
            }
        },
        currentTransaction: {
            get: function () { return PSD.trans || null; }
        }, waitFor: function (promiseOrFunction, optionalTimeout) {
            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?
                Dexie.ignoreTransaction(promiseOrFunction) :
                promiseOrFunction)
                .timeout(optionalTimeout || 60000);
            return PSD.trans ?
                PSD.trans.waitFor(promise) :
                promise;
        },
        Promise: DexiePromise,
        debug: {
            get: function () { return debug; },
            set: function (value) {
                setDebug(value);
            }
        },
        derive: derive, extend: extend, props: props, override: override,
        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,
        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,
        minKey: minKey,
        addons: [],
        connections: connections,
        errnames: errnames,
        dependencies: domDeps, cache: cache,
        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')
            .map(function (n) { return parseInt(n); })
            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));
    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);

    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {
            if (!propagatingLocally) {
                var event_1;
                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {
                    detail: updatedParts
                });
                propagatingLocally = true;
                dispatchEvent(event_1);
                propagatingLocally = false;
            }
        });
        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {
            var detail = _a.detail;
            if (!propagatingLocally) {
                propagateLocally(detail);
            }
        });
    }
    function propagateLocally(updateParts) {
        var wasMe = propagatingLocally;
        try {
            propagatingLocally = true;
            globalEvents.storagemutated.fire(updateParts);
            signalSubscribersNow(updateParts, true);
        }
        finally {
            propagatingLocally = wasMe;
        }
    }
    var propagatingLocally = false;

    var bc;
    var createBC = function () { };
    if (typeof BroadcastChannel !== 'undefined') {
        createBC = function () {
            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);
            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };
        };
        createBC();
        if (typeof bc.unref === 'function') {
            bc.unref();
        }
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {
            if (!propagatingLocally) {
                bc.postMessage(changedParts);
            }
        });
    }

    if (typeof addEventListener !== 'undefined') {
        addEventListener('pagehide', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pagehide');
                bc === null || bc === void 0 ? void 0 : bc.close();
                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {
                    var db = connections_1[_i];
                    db.close({ disableAutoOpen: false });
                }
            }
        });
        addEventListener('pageshow', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pageshow');
                createBC();
                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });
            }
        });
    }

    function add(value) {
        return new PropModification({ add: value });
    }

    function remove(value) {
        return new PropModification({ remove: value });
    }

    function replacePrefix(a, b) {
        return new PropModification({ replacePrefix: [a, b] });
    }

    DexiePromise.rejectionMapper = mapError;
    setDebug(debug);

    var namedExports = /*#__PURE__*/Object.freeze({
        __proto__: null,
        Dexie: Dexie$1,
        liveQuery: liveQuery,
        Entity: Entity,
        cmp: cmp,
        PropModification: PropModification,
        replacePrefix: replacePrefix,
        add: add,
        remove: remove,
        'default': Dexie$1,
        RangeSet: RangeSet,
        mergeRanges: mergeRanges,
        rangesOverlap: rangesOverlap
    });

    __assign(Dexie$1, namedExports, { default: Dexie$1 });

    return Dexie$1;

}));
//# sourceMappingURL=dexie.js.map


/***/ }),

/***/ "../../node_modules/dexie/import-wrapper.mjs":
/*!***************************************************!*\
  !*** ../../node_modules/dexie/import-wrapper.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dexie: () => (/* binding */ Dexie),
/* harmony export */   Entity: () => (/* binding */ Entity),
/* harmony export */   PropModification: () => (/* binding */ PropModification),
/* harmony export */   RangeSet: () => (/* binding */ RangeSet),
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   cmp: () => (/* binding */ cmp),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   liveQuery: () => (/* binding */ liveQuery),
/* harmony export */   mergeRanges: () => (/* binding */ mergeRanges),
/* harmony export */   rangesOverlap: () => (/* binding */ rangesOverlap),
/* harmony export */   remove: () => (/* binding */ remove),
/* harmony export */   replacePrefix: () => (/* binding */ replacePrefix)
/* harmony export */ });
/* harmony import */ var _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/dexie.js */ "../../node_modules/dexie/dist/dexie.js");
// Making the module version consumable via require - to prohibit
// multiple occurrancies of the same module in the same app
// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)

const DexieSymbol = Symbol.for("Dexie");
const Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__);
if (_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer !== Dexie.semVer) {
    throw new Error(`Two different versions of Dexie loaded in the same app: ${_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer} and ${Dexie.semVer}`);
}
const { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,
    PropModification, replacePrefix, add, remove } = Dexie;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dexie);


/***/ }),

/***/ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! void-elements */ "../../node_modules/void-elements/index.js");
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(void_elements__WEBPACK_IMPORTED_MODULE_0__);
var t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],((void_elements__WEBPACK_IMPORTED_MODULE_0___default())[i[1]]||"/"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!=="</"+a.name+">")return;m=!1}var u,f="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,"tag"===(a=n(r)).type&&t.components[a.name]&&(a.type="component",m=!0),a.voidElement||m||!d||"<"===d||a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&"<"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf("<",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=" "),(x>-1&&l+u.length>=0||" "!==g)&&u.push({type:"text",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a("",t)},"")}};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (c);
//# sourceMappingURL=html-parse-stringify.module.js.map


/***/ }),

/***/ "../../node_modules/i18next/dist/cjs/i18next.js":
/*!******************************************************!*\
  !*** ../../node_modules/i18next/dist/cjs/i18next.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";


const isString = obj => typeof obj === 'string';
const defer = () => {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
};
const makeString = object => {
  if (object == null) return '';
  return '' + object;
};
const copy = (a, s, t) => {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
};
const lastOfPathSeparatorRegExp = /###/g;
const cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
const canNotTraverseDeeper = object => !object || isString(object);
const getLastOfPath = (object, path, Empty) => {
  const stack = !isString(path) ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper(object)) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper(object)) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
};
const setPath = (object, path, newValue) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
};
const pushPath = (object, path, newValue, concat) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  obj[k].push(newValue);
};
const getPath = (object, path) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
};
const getPathWithDefaults = (data, defaultData, key) => {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
};
const deepExtend = (target, source, overwrite) => {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
};
const regexEscape = str => str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
const escape = data => {
  if (isString(data)) {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
};
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
const looksLikeObjectPath = (key, nsSeparator, keySeparator) => {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
};
const deepFind = function (obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
};
const getCleanedCode = code => code && code.replace('_', '-');

const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (isString(key) && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || !isString(key)) return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces: isString(namespaces) ? [namespaces] : namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    return {
      key,
      namespaces: isString(namespaces) ? [namespaces] : namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && !isString(options.replace) ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (isString(keys)) keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && !isString(options.replace);
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (isString(code) && code.indexOf('-') > -1) {
      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {
        try {
          let formattedCode = Intl.getCanonicalLocales(code)[0];
          if (formattedCode && this.options.lowerCaseLng) {
            formattedCode = formattedCode.toLowerCase();
          }
          if (formattedCode) return formattedCode;
        } catch (e) {}
      }
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (isString(fallbacks)) fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (isString(code)) {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: n => Number(n > 1),
  2: n => Number(n != 1),
  3: n => 0,
  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),
  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),
  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),
  9: n => Number(n >= 2),
  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),
  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),
  12: n => Number(n % 10 != 1 || n % 100 == 11),
  13: n => Number(n !== 0),
  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),
  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),
  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),
  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),
  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),
  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),
  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),
  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
const createRules = () => {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
};
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
    this.pluralRulesCache = {};
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  clearCache() {
    this.pluralRulesCache = {};
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);
      const type = options.ordinal ? 'ordinal' : 'cardinal';
      const cacheKey = JSON.stringify({
        cleanedCode,
        type
      });
      if (cacheKey in this.pluralRulesCache) {
        return this.pluralRulesCache[cacheKey];
      }
      let rule;
      try {
        rule = new Intl.PluralRules(cleanedCode, {
          type
        });
      } catch (err) {
        if (!code.match(/-|_/)) return;
        const lngPart = this.languageUtils.getLanguagePartFromCode(code);
        rule = this.getRule(lngPart, options);
      }
      this.pluralRulesCache[cacheKey] = rule;
      return rule;
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

const deepFindWithDefaults = function (data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && isString(key)) {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
};
const regexSafe = val => val.replace(/\$/g, '$$$$');
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = isString(temp) ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (!isString(value) && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    const handleHasOptions = (key, inheritedOptions) => {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    };
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && !isString(value)) return value;
      if (!isString(value)) value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

const parseFormatStr = formatStr => {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
};
const createCachedFormatter = fn => {
  const cache = {};
  return (val, lng, options) => {
    let optForCache = options;
    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {
      optForCache = {
        ...optForCache,
        [options.interpolationkey]: undefined
      };
    }
    const key = lng + JSON.stringify(optForCache);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
};
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    this.formatSeparator = options.interpolation.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {
      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);
      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);
    }
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

const removePending = (q, name) => {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
};
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (!err && data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    if (err && data) this.state[name] = 0;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);
    if (isString(namespaces)) namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

const get = () => ({
  debug: false,
  initImmediate: true,
  ns: ['translation'],
  defaultNS: ['translation'],
  fallbackLng: ['dev'],
  fallbackNS: false,
  supportedLngs: false,
  nonExplicitSupportedLngs: false,
  load: 'all',
  preload: false,
  simplifyPluralSuffix: true,
  keySeparator: '.',
  nsSeparator: ':',
  pluralSeparator: '_',
  contextSeparator: '_',
  partialBundledLanguages: false,
  saveMissing: false,
  updateMissing: false,
  saveMissingTo: 'fallback',
  saveMissingPlurals: true,
  missingKeyHandler: false,
  missingInterpolationHandler: false,
  postProcess: false,
  postProcessPassResolved: false,
  returnNull: false,
  returnEmptyString: true,
  returnObjects: false,
  joinArrays: false,
  returnedObjectHandler: false,
  parseMissingKeyHandler: false,
  appendNamespaceToMissingKey: false,
  appendNamespaceToCIMode: false,
  overloadTranslationOptionHandler: args => {
    let ret = {};
    if (typeof args[1] === 'object') ret = args[1];
    if (isString(args[1])) ret.defaultValue = args[1];
    if (isString(args[2])) ret.tDescription = args[2];
    if (typeof args[2] === 'object' || typeof args[3] === 'object') {
      const options = args[3] || args[2];
      Object.keys(options).forEach(key => {
        ret[key] = options[key];
      });
    }
    return ret;
  },
  interpolation: {
    escapeValue: true,
    format: value => value,
    prefix: '{{',
    suffix: '}}',
    formatSeparator: ',',
    unescapePrefix: '-',
    nestingPrefix: '$t(',
    nestingSuffix: ')',
    nestingOptionsSeparator: ',',
    maxReplaces: 1000,
    skipOnVariables: true
  }
});
const transformOptions = options => {
  if (isString(options.ns)) options.ns = [options.ns];
  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];
  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
};

const noop = () => {};
const bindMemberFunctions = inst => {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
};
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (isString(options.ns)) {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    const createClassOnDemand = ClassOrObject => {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    };
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = isString(language) ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (typeof lngs === 'function') {
      callback = lngs;
      lngs = undefined;
    }
    if (typeof ns === 'function') {
      callback = ns;
      ns = undefined;
    }
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (isString(lng)) {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 0 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (isString(ns)) ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (isString(lngs)) lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

module.exports = instance;


/***/ }),

/***/ "../../node_modules/lodash.debounce/index.js":
/*!***************************************************!*\
  !*** ../../node_modules/lodash.debounce/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/I18nextProvider.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/I18nextProvider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nextProvider: () => (/* binding */ I18nextProvider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


function I18nextProvider(_ref) {
  let {
    i18n,
    defaultNS,
    children
  } = _ref;
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    i18n,
    defaultNS
  }), [i18n, defaultNS]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext.Provider, {
    value
  }, children);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Trans.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Trans.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");




function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_2__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const t = tFromProps || i18n && i18n.t.bind(i18n);
  return (0,_TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans)({
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions,
    values,
    defaults,
    components,
    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,
    i18n,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  });
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/TransWithoutContext.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* binding */ nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-parse-stringify */ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");





const hasChildren = (node, checkLength) => {
  if (!node) return false;
  const base = node.props ? node.props.children : node.children;
  if (checkLength) return base.length > 0;
  return !!base;
};
const getChildren = node => {
  if (!node) return [];
  const children = node.props ? node.props.children : node.children;
  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;
};
const hasValidReactChildren = children => Array.isArray(children) && children.every(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement);
const getAsArray = data => Array.isArray(data) ? data : [data];
const mergeProps = (source, target) => {
  const newTarget = {
    ...target
  };
  newTarget.props = Object.assign(source.props, target.props);
  return newTarget;
};
const nodesToString = (children, i18nOptions) => {
  if (!children) return '';
  let stringNode = '';
  const childrenArray = getAsArray(children);
  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];
  childrenArray.forEach((child, childIndex) => {
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
      stringNode += `${child}`;
    } else if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {
      const {
        props,
        type
      } = child;
      const childPropsCount = Object.keys(props).length;
      const shouldKeepChild = keepArray.indexOf(type) > -1;
      const childChildren = props.children;
      if (!childChildren && shouldKeepChild && !childPropsCount) {
        stringNode += `<${type}/>`;
      } else if (!childChildren && (!shouldKeepChild || childPropsCount) || props.i18nIsDynamicList) {
        stringNode += `<${childIndex}></${childIndex}>`;
      } else if (shouldKeepChild && childPropsCount === 1 && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(childChildren)) {
        stringNode += `<${type}>${childChildren}</${type}>`;
      } else {
        const content = nodesToString(childChildren, i18nOptions);
        stringNode += `<${childIndex}>${content}</${childIndex}>`;
      }
    } else if (child === null) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a null child.`);
    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child)) {
      const {
        format,
        ...clone
      } = child;
      const keys = Object.keys(clone);
      if (keys.length === 1) {
        const value = format ? `${keys[0]}, ${format}` : keys[0];
        stringNode += `{{${value}}}`;
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);
      }
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);
    }
  });
  return stringNode;
};
const renderNodes = (children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) => {
  if (targetString === '') return [];
  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];
  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);
  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];
  const data = {};
  const getData = childs => {
    const childrenArray = getAsArray(childs);
    childrenArray.forEach(child => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) return;
      if (hasChildren(child)) getData(getChildren(child));else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) Object.assign(data, child);
    });
  };
  getData(children);
  const ast = html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__["default"].parse(`<0>${targetString}</0>`);
  const opts = {
    ...data,
    ...combinedTOpts
  };
  const renderInner = (child, node, rootReactNode) => {
    const childs = getChildren(child);
    const mappedChildren = mapAST(childs, node.children, rootReactNode);
    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;
  };
  const pushTranslatedJSX = (child, inner, mem, i, isVoid) => {
    if (child.dummy) {
      child.children = inner;
      mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
        key: i
      }, isVoid ? undefined : inner));
    } else {
      mem.push(...react__WEBPACK_IMPORTED_MODULE_0__.Children.map([child], c => {
        const props = {
          ...c.props
        };
        delete props.i18nIsDynamicList;
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c.type, {
          ...props,
          key: i,
          ref: c.ref
        }, isVoid ? null : inner);
      }));
    }
  };
  const mapAST = (reactNode, astNode, rootReactNode) => {
    const reactNodes = getAsArray(reactNode);
    const astNodes = getAsArray(astNode);
    return astNodes.reduce((mem, node, i) => {
      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);
      if (node.type === 'tag') {
        let tmp = reactNodes[parseInt(node.name, 10)];
        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];
        if (!tmp) tmp = {};
        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({
          props: node.attrs
        }, tmp) : tmp;
        const isElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child);
        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;
        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && child.dummy && !isElement;
        const isKnownComponent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(children) && Object.hasOwnProperty.call(children, node.name);
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);
          mem.push(value);
        } else if (hasChildren(child) || isValidTranslationWithChildren) {
          const inner = renderInner(child, node, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (isEmptyTransWithHTML) {
          const inner = mapAST(reactNodes, node.children, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (Number.isNaN(parseFloat(node.name))) {
          if (isKnownComponent) {
            const inner = renderInner(child, node, rootReactNode);
            pushTranslatedJSX(child, inner, mem, i, node.voidElement);
          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {
            if (node.voidElement) {
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }));
            } else {
              const inner = mapAST(reactNodes, node.children, rootReactNode);
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }, inner));
            }
          } else if (node.voidElement) {
            mem.push(`<${node.name} />`);
          } else {
            const inner = mapAST(reactNodes, node.children, rootReactNode);
            mem.push(`<${node.name}>${inner}</${node.name}>`);
          }
        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !isElement) {
          const content = node.children[0] ? translationContent : null;
          if (content) mem.push(content);
        } else {
          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);
        }
      } else if (node.type === 'text') {
        const wrapTextNodes = i18nOptions.transWrapTextNodes;
        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);
        if (wrapTextNodes) {
          mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(wrapTextNodes, {
            key: `${node.name}-${i}`
          }, content));
        } else {
          mem.push(content);
        }
      }
      return mem;
    }, []);
  };
  const result = mapAST([{
    dummy: true,
    children: children || []
  }], ast, getAsArray(children || []));
  return getChildren(result[0]);
};
function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const i18n = i18nFromProps || (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__.getI18n)();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using i18nextReactModule');
    return children;
  }
  const t = tFromProps || i18n.t.bind(i18n) || (k => k);
  const reactI18nextOptions = {
    ...(0,_defaults_js__WEBPACK_IMPORTED_MODULE_3__.getDefaults)(),
    ...(i18n.options && i18n.options.react)
  };
  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  const nodeAsString = nodesToString(children, reactI18nextOptions);
  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;
  const {
    hashTransKey
  } = reactI18nextOptions;
  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);
  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {
    values = values && Object.keys(values).length > 0 ? {
      ...values,
      ...i18n.options.interpolation.defaultVariables
    } : {
      ...i18n.options.interpolation.defaultVariables
    };
  }
  const interpolationOverride = values || count !== undefined || !children ? tOptions.interpolation : {
    interpolation: {
      ...tOptions.interpolation,
      prefix: '#$?',
      suffix: '?$#'
    }
  };
  const combinedTOpts = {
    ...tOptions,
    context: context || tOptions.context,
    count,
    ...values,
    ...interpolationOverride,
    defaultValue,
    ns: namespaces
  };
  const translation = key ? t(key, combinedTOpts) : defaultValue;
  if (components) {
    Object.keys(components).forEach(c => {
      const comp = components[c];
      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;
      function Componentized() {
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, comp);
      }
      components[c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Componentized);
    });
  }
  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);
  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;
  return useAsParent ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(useAsParent, additionalProps, content) : content;
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Translation.js":
/*!***************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Translation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Translation: () => (/* binding */ Translation)
/* harmony export */ });
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");

function Translation(props) {
  const {
    ns,
    children,
    ...options
  } = props;
  const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(ns, options);
  return children(t, {
    i18n,
    lng: i18n.language
  }, ready);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/context.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/context.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* binding */ I18nContext),
/* harmony export */   ReportNamespaces: () => (/* binding */ ReportNamespaces),
/* harmony export */   composeInitialProps: () => (/* binding */ composeInitialProps),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n),
/* harmony export */   getInitialProps: () => (/* binding */ getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__.initReactI18next),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.setI18n)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");





const I18nContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
class ReportNamespaces {
  constructor() {
    this.usedNamespaces = {};
  }
  addUsedNamespaces(namespaces) {
    namespaces.forEach(ns => {
      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;
    });
  }
  getUsedNamespaces = () => Object.keys(this.usedNamespaces);
}
const composeInitialProps = ForComponent => async ctx => {
  const componentsInitialProps = ForComponent.getInitialProps ? await ForComponent.getInitialProps(ctx) : {};
  const i18nInitialProps = getInitialProps();
  return {
    ...componentsInitialProps,
    ...i18nInitialProps
  };
};
const getInitialProps = () => {
  const i18n = (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];
  const ret = {};
  const initialI18nStore = {};
  i18n.languages.forEach(l => {
    initialI18nStore[l] = {};
    namespaces.forEach(ns => {
      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};
    });
  });
  ret.initialI18nStore = initialI18nStore;
  ret.initialLanguage = i18n.language;
  return ret;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/defaults.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/defaults.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDefaults: () => (/* binding */ getDefaults),
/* harmony export */   setDefaults: () => (/* binding */ setDefaults)
/* harmony export */ });
/* harmony import */ var _unescape_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unescape.js */ "../../node_modules/react-i18next/dist/es/unescape.js");

let defaultOptions = {
  bindI18n: 'languageChanged',
  bindI18nStore: '',
  transEmptyNodeValue: '',
  transSupportBasicHtmlNodes: true,
  transWrapTextNodes: '',
  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],
  useSuspense: true,
  unescape: _unescape_js__WEBPACK_IMPORTED_MODULE_0__.unescape
};
const setDefaults = function () {
  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  defaultOptions = {
    ...defaultOptions,
    ...options
  };
};
const getDefaults = () => defaultOptions;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/i18nInstance.js":
/*!****************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/i18nInstance.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getI18n: () => (/* binding */ getI18n),
/* harmony export */   setI18n: () => (/* binding */ setI18n)
/* harmony export */ });
let i18nInstance;
const setI18n = instance => {
  i18nInstance = instance;
};
const getI18n = () => i18nInstance;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/index.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.I18nContext),
/* harmony export */   I18nextProvider: () => (/* reexport safe */ _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__.I18nextProvider),
/* harmony export */   Trans: () => (/* reexport safe */ _Trans_js__WEBPACK_IMPORTED_MODULE_0__.Trans),
/* harmony export */   TransWithoutContext: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans),
/* harmony export */   Translation: () => (/* reexport safe */ _Translation_js__WEBPACK_IMPORTED_MODULE_4__.Translation),
/* harmony export */   composeInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.composeInitialProps),
/* harmony export */   date: () => (/* binding */ date),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.getI18n),
/* harmony export */   getInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__.initReactI18next),
/* harmony export */   number: () => (/* binding */ number),
/* harmony export */   plural: () => (/* binding */ plural),
/* harmony export */   select: () => (/* binding */ select),
/* harmony export */   selectOrdinal: () => (/* binding */ selectOrdinal),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.setI18n),
/* harmony export */   time: () => (/* binding */ time),
/* harmony export */   useSSR: () => (/* reexport safe */ _useSSR_js__WEBPACK_IMPORTED_MODULE_7__.useSSR),
/* harmony export */   useTranslation: () => (/* reexport safe */ _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__.useTranslation),
/* harmony export */   withSSR: () => (/* reexport safe */ _withSSR_js__WEBPACK_IMPORTED_MODULE_6__.withSSR),
/* harmony export */   withTranslation: () => (/* reexport safe */ _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__.withTranslation)
/* harmony export */ });
/* harmony import */ var _Trans_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Trans.js */ "../../node_modules/react-i18next/dist/es/Trans.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withTranslation.js */ "../../node_modules/react-i18next/dist/es/withTranslation.js");
/* harmony import */ var _Translation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Translation.js */ "../../node_modules/react-i18next/dist/es/Translation.js");
/* harmony import */ var _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./I18nextProvider.js */ "../../node_modules/react-i18next/dist/es/I18nextProvider.js");
/* harmony import */ var _withSSR_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./withSSR.js */ "../../node_modules/react-i18next/dist/es/withSSR.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");












const date = () => '';
const time = () => '';
const number = () => '';
const select = () => '';
const plural = () => '';
const selectOrdinal = () => '';

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/initReactI18next.js":
/*!********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/initReactI18next.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initReactI18next: () => (/* binding */ initReactI18next)
/* harmony export */ });
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");


const initReactI18next = {
  type: '3rdParty',
  init(instance) {
    (0,_defaults_js__WEBPACK_IMPORTED_MODULE_0__.setDefaults)(instance.options.react);
    (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__.setI18n)(instance);
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/unescape.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/unescape.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   unescape: () => (/* binding */ unescape)
/* harmony export */ });
const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;
const htmlEntities = {
  '&amp;': '&',
  '&#38;': '&',
  '&lt;': '<',
  '&#60;': '<',
  '&gt;': '>',
  '&#62;': '>',
  '&apos;': "'",
  '&#39;': "'",
  '&quot;': '"',
  '&#34;': '"',
  '&nbsp;': ' ',
  '&#160;': ' ',
  '&copy;': '©',
  '&#169;': '©',
  '&reg;': '®',
  '&#174;': '®',
  '&hellip;': '…',
  '&#8230;': '…',
  '&#x2F;': '/',
  '&#47;': '/'
};
const unescapeHtmlEntity = m => htmlEntities[m];
const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useSSR.js":
/*!**********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useSSR.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSSR: () => (/* binding */ useSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


const useSSR = function (initialI18nStore, initialLanguage) {
  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n.options && i18n.options.isClone) return;
  if (initialI18nStore && !i18n.initializedStoreOnce) {
    i18n.services.resourceStore.data = initialI18nStore;
    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {
      Object.keys(lngResources).forEach(ns => {
        if (mem.indexOf(ns) < 0) mem.push(ns);
      });
      return mem;
    }, i18n.options.ns);
    i18n.initializedStoreOnce = true;
    i18n.isInitialized = true;
  }
  if (initialLanguage && !i18n.initializedLanguageOnce) {
    i18n.changeLanguage(initialLanguage);
    i18n.initializedLanguageOnce = true;
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useTranslation.js":
/*!******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useTranslation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTranslation: () => (/* binding */ useTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const usePrevious = (value, ignore) => {
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    ref.current = ignore ? ref.current : value;
  }, [value, ignore]);
  return ref.current;
};
const alwaysNewT = (i18n, language, namespace, keyPrefix) => i18n.getFixedT(language, namespace, keyPrefix);
const useMemoizedT = (i18n, language, namespace, keyPrefix) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(alwaysNewT(i18n, language, namespace, keyPrefix), [i18n, language, namespace, keyPrefix]);
const useTranslation = function (ns) {
  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new _context_js__WEBPACK_IMPORTED_MODULE_1__.ReportNamespaces();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using initReactI18next');
    const notReadyT = (k, optsOrDefaultValue) => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue)) return optsOrDefaultValue;
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(optsOrDefaultValue) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;
      return Array.isArray(k) ? k[k.length - 1] : k;
    };
    const retNotReady = [notReadyT, {}, false];
    retNotReady.t = notReadyT;
    retNotReady.i18n = {};
    retNotReady.ready = false;
    return retNotReady;
  }
  if (i18n.options.react && i18n.options.react.wait !== undefined) (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');
  const i18nOptions = {
    ...(0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults)(),
    ...i18n.options.react,
    ...props
  };
  const {
    useSuspense,
    keyPrefix
  } = i18nOptions;
  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);
  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hasLoadedNamespace)(n, i18n, i18nOptions));
  const memoGetT = useMemoizedT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const getT = () => memoGetT;
  const getNewT = () => alwaysNewT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const [t, setT] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getT);
  let joinedNS = namespaces.join();
  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;
  const previousJoinedNS = usePrevious(joinedNS);
  const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const {
      bindI18n,
      bindI18nStore
    } = i18nOptions;
    isMounted.current = true;
    if (!ready && !useSuspense) {
      if (props.lng) {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      }
    }
    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {
      setT(getNewT);
    }
    const boundReset = () => {
      if (isMounted.current) setT(getNewT);
    };
    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);
    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);
    return () => {
      isMounted.current = false;
      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));
      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));
    };
  }, [i18n, joinedNS]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isMounted.current && ready) {
      setT(getT);
    }
  }, [i18n, keyPrefix, ready]);
  const ret = [t, i18n, ready];
  ret.t = t;
  ret.i18n = i18n;
  ret.ready = ready;
  if (ready) return ret;
  if (!ready && !useSuspense) return ret;
  throw new Promise(resolve => {
    if (props.lng) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => resolve());
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => resolve());
    }
  });
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/utils.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDisplayName: () => (/* binding */ getDisplayName),
/* harmony export */   hasLoadedNamespace: () => (/* binding */ hasLoadedNamespace),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   loadLanguages: () => (/* binding */ loadLanguages),
/* harmony export */   loadNamespaces: () => (/* binding */ loadNamespaces),
/* harmony export */   warn: () => (/* binding */ warn),
/* harmony export */   warnOnce: () => (/* binding */ warnOnce)
/* harmony export */ });
function warn() {
  if (console && console.warn) {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (isString(args[0])) args[0] = `react-i18next:: ${args[0]}`;
    console.warn(...args);
  }
}
const alreadyWarned = {};
function warnOnce() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  if (isString(args[0]) && alreadyWarned[args[0]]) return;
  if (isString(args[0])) alreadyWarned[args[0]] = new Date();
  warn(...args);
}
const loadedClb = (i18n, cb) => () => {
  if (i18n.isInitialized) {
    cb();
  } else {
    const initialized = () => {
      setTimeout(() => {
        i18n.off('initialized', initialized);
      }, 0);
      cb();
    };
    i18n.on('initialized', initialized);
  }
};
const loadNamespaces = (i18n, ns, cb) => {
  i18n.loadNamespaces(ns, loadedClb(i18n, cb));
};
const loadLanguages = (i18n, lng, ns, cb) => {
  if (isString(ns)) ns = [ns];
  ns.forEach(n => {
    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);
  });
  i18n.loadLanguages(lng, loadedClb(i18n, cb));
};
const oldI18nextHasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const lng = i18n.languages[0];
  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;
  const lastLng = i18n.languages[i18n.languages.length - 1];
  if (lng.toLowerCase() === 'cimode') return true;
  const loadNotPending = (l, n) => {
    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];
    return loadState === -1 || loadState === 2;
  };
  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;
  if (i18n.hasResourceBundle(lng, ns)) return true;
  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;
  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
  return false;
};
const hasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  if (!i18n.languages || !i18n.languages.length) {
    warnOnce('i18n.languages were undefined or empty', i18n.languages);
    return true;
  }
  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;
  if (!isNewerI18next) {
    return oldI18nextHasLoadedNamespace(ns, i18n, options);
  }
  return i18n.hasLoadedNamespace(ns, {
    lng: options.lng,
    precheck: (i18nInstance, loadNotPending) => {
      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;
    }
  });
};
const getDisplayName = Component => Component.displayName || Component.name || (isString(Component) && Component.length > 0 ? Component : 'Unknown');
const isString = obj => typeof obj === 'string';
const isObject = obj => typeof obj === 'object' && obj !== null;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withSSR.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withSSR.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withSSR: () => (/* binding */ withSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");




const withSSR = () => function Extend(WrappedComponent) {
  function I18nextWithSSR(_ref) {
    let {
      initialI18nStore,
      initialLanguage,
      ...rest
    } = _ref;
    (0,_useSSR_js__WEBPACK_IMPORTED_MODULE_1__.useSSR)(initialI18nStore, initialLanguage);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, {
      ...rest
    });
  }
  I18nextWithSSR.getInitialProps = (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.composeInitialProps)(WrappedComponent);
  I18nextWithSSR.displayName = `withI18nextSSR(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getDisplayName)(WrappedComponent)})`;
  I18nextWithSSR.WrappedComponent = WrappedComponent;
  return I18nextWithSSR;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withTranslation.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withTranslation.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withTranslation: () => (/* binding */ withTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const withTranslation = function (ns) {
  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return function Extend(WrappedComponent) {
    function I18nextWithTranslation(_ref) {
      let {
        forwardedRef,
        ...rest
      } = _ref;
      const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(ns, {
        ...rest,
        keyPrefix: options.keyPrefix
      });
      const passDownProps = {
        ...rest,
        t,
        i18n,
        tReady: ready
      };
      if (options.withRef && forwardedRef) {
        passDownProps.ref = forwardedRef;
      } else if (!options.withRef && forwardedRef) {
        passDownProps.forwardedRef = forwardedRef;
      }
      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, passDownProps);
    }
    I18nextWithTranslation.displayName = `withI18nextTranslation(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getDisplayName)(WrappedComponent)})`;
    I18nextWithTranslation.WrappedComponent = WrappedComponent;
    const forwardRef = (props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(I18nextWithTranslation, Object.assign({}, props, {
      forwardedRef: ref
    }));
    return options.withRef ? (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(forwardRef) : I18nextWithTranslation;
  };
};

/***/ }),

/***/ "../../node_modules/react/cjs/react.development.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react/cjs/react.development.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
/* module decorator */ module = __webpack_require__.nmd(module);
/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


 true &&
  (function () {
    function defineDeprecationWarning(methodName, info) {
      Object.defineProperty(Component.prototype, methodName, {
        get: function () {
          console.warn(
            "%s(...) is deprecated in plain JavaScript React classes. %s",
            info[0],
            info[1]
          );
        }
      });
    }
    function getIteratorFn(maybeIterable) {
      if (null === maybeIterable || "object" !== typeof maybeIterable)
        return null;
      maybeIterable =
        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
        maybeIterable["@@iterator"];
      return "function" === typeof maybeIterable ? maybeIterable : null;
    }
    function warnNoop(publicInstance, callerName) {
      publicInstance =
        ((publicInstance = publicInstance.constructor) &&
          (publicInstance.displayName || publicInstance.name)) ||
        "ReactClass";
      var warningKey = publicInstance + "." + callerName;
      didWarnStateUpdateForUnmountedComponent[warningKey] ||
        (console.error(
          "Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",
          callerName,
          publicInstance
        ),
        (didWarnStateUpdateForUnmountedComponent[warningKey] = !0));
    }
    function Component(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function ComponentDummy() {}
    function PureComponent(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = !1;
      } catch (e) {
        JSCompiler_inline_result = !0;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 =
          ("function" === typeof Symbol &&
            Symbol.toStringTag &&
            value[Symbol.toStringTag]) ||
          value.constructor.name ||
          "Object";
        JSCompiler_temp_const.call(
          JSCompiler_inline_result,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          JSCompiler_inline_result$jscomp$0
        );
        return testStringCoercion(value);
      }
    }
    function getComponentNameFromType(type) {
      if (null == type) return null;
      if ("function" === typeof type)
        return type.$$typeof === REACT_CLIENT_REFERENCE
          ? null
          : type.displayName || type.name || null;
      if ("string" === typeof type) return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if ("object" === typeof type)
        switch (
          ("number" === typeof type.tag &&
            console.error(
              "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
            ),
          type.$$typeof)
        ) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return (type.displayName || "Context") + ".Provider";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type ||
              ((type = innerType.displayName || innerType.name || ""),
              (type = "" !== type ? "ForwardRef(" + type + ")" : "ForwardRef"));
            return type;
          case REACT_MEMO_TYPE:
            return (
              (innerType = type.displayName || null),
              null !== innerType
                ? innerType
                : getComponentNameFromType(type.type) || "Memo"
            );
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE) return "<>";
      if (
        "object" === typeof type &&
        null !== type &&
        type.$$typeof === REACT_LAZY_TYPE
      )
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return null === dispatcher ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning) return !1;
      }
      return void 0 !== config.key;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown ||
          ((specialPropKeyWarningShown = !0),
          console.error(
            "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
            displayName
          ));
      }
      warnAboutAccessingKey.isReactWarning = !0;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: !0
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] ||
        ((didWarnAboutElementRef[componentName] = !0),
        console.error(
          "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
        ));
      componentName = this.props.ref;
      return void 0 !== componentName ? componentName : null;
    }
    function ReactElement(
      type,
      key,
      self,
      source,
      owner,
      props,
      debugStack,
      debugTask
    ) {
      self = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type: type,
        key: key,
        props: props,
        _owner: owner
      };
      null !== (void 0 !== self ? self : null)
        ? Object.defineProperty(type, "ref", {
            enumerable: !1,
            get: elementRefGetterWithDeprecationWarning
          })
        : Object.defineProperty(type, "ref", { enumerable: !1, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function cloneAndReplaceKey(oldElement, newKey) {
      newKey = ReactElement(
        oldElement.type,
        newKey,
        void 0,
        void 0,
        oldElement._owner,
        oldElement.props,
        oldElement._debugStack,
        oldElement._debugTask
      );
      oldElement._store &&
        (newKey._store.validated = oldElement._store.validated);
      return newKey;
    }
    function isValidElement(object) {
      return (
        "object" === typeof object &&
        null !== object &&
        object.$$typeof === REACT_ELEMENT_TYPE
      );
    }
    function escape(key) {
      var escaperLookup = { "=": "=0", ":": "=2" };
      return (
        "$" +
        key.replace(/[=:]/g, function (match) {
          return escaperLookup[match];
        })
      );
    }
    function getElementKey(element, index) {
      return "object" === typeof element &&
        null !== element &&
        null != element.key
        ? (checkKeyStringCoercion(element.key), escape("" + element.key))
        : index.toString(36);
    }
    function noop$1() {}
    function resolveThenable(thenable) {
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
        default:
          switch (
            ("string" === typeof thenable.status
              ? thenable.then(noop$1, noop$1)
              : ((thenable.status = "pending"),
                thenable.then(
                  function (fulfilledValue) {
                    "pending" === thenable.status &&
                      ((thenable.status = "fulfilled"),
                      (thenable.value = fulfilledValue));
                  },
                  function (error) {
                    "pending" === thenable.status &&
                      ((thenable.status = "rejected"),
                      (thenable.reason = error));
                  }
                )),
            thenable.status)
          ) {
            case "fulfilled":
              return thenable.value;
            case "rejected":
              throw thenable.reason;
          }
      }
      throw thenable;
    }
    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
      var type = typeof children;
      if ("undefined" === type || "boolean" === type) children = null;
      var invokeCallback = !1;
      if (null === children) invokeCallback = !0;
      else
        switch (type) {
          case "bigint":
          case "string":
          case "number":
            invokeCallback = !0;
            break;
          case "object":
            switch (children.$$typeof) {
              case REACT_ELEMENT_TYPE:
              case REACT_PORTAL_TYPE:
                invokeCallback = !0;
                break;
              case REACT_LAZY_TYPE:
                return (
                  (invokeCallback = children._init),
                  mapIntoArray(
                    invokeCallback(children._payload),
                    array,
                    escapedPrefix,
                    nameSoFar,
                    callback
                  )
                );
            }
        }
      if (invokeCallback) {
        invokeCallback = children;
        callback = callback(invokeCallback);
        var childKey =
          "" === nameSoFar ? "." + getElementKey(invokeCallback, 0) : nameSoFar;
        isArrayImpl(callback)
          ? ((escapedPrefix = ""),
            null != childKey &&
              (escapedPrefix =
                childKey.replace(userProvidedKeyEscapeRegex, "$&/") + "/"),
            mapIntoArray(callback, array, escapedPrefix, "", function (c) {
              return c;
            }))
          : null != callback &&
            (isValidElement(callback) &&
              (null != callback.key &&
                ((invokeCallback && invokeCallback.key === callback.key) ||
                  checkKeyStringCoercion(callback.key)),
              (escapedPrefix = cloneAndReplaceKey(
                callback,
                escapedPrefix +
                  (null == callback.key ||
                  (invokeCallback && invokeCallback.key === callback.key)
                    ? ""
                    : ("" + callback.key).replace(
                        userProvidedKeyEscapeRegex,
                        "$&/"
                      ) + "/") +
                  childKey
              )),
              "" !== nameSoFar &&
                null != invokeCallback &&
                isValidElement(invokeCallback) &&
                null == invokeCallback.key &&
                invokeCallback._store &&
                !invokeCallback._store.validated &&
                (escapedPrefix._store.validated = 2),
              (callback = escapedPrefix)),
            array.push(callback));
        return 1;
      }
      invokeCallback = 0;
      childKey = "" === nameSoFar ? "." : nameSoFar + ":";
      if (isArrayImpl(children))
        for (var i = 0; i < children.length; i++)
          (nameSoFar = children[i]),
            (type = childKey + getElementKey(nameSoFar, i)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if (((i = getIteratorFn(children)), "function" === typeof i))
        for (
          i === children.entries &&
            (didWarnAboutMaps ||
              console.warn(
                "Using Maps as children is not supported. Use an array of keyed ReactElements instead."
              ),
            (didWarnAboutMaps = !0)),
            children = i.call(children),
            i = 0;
          !(nameSoFar = children.next()).done;

        )
          (nameSoFar = nameSoFar.value),
            (type = childKey + getElementKey(nameSoFar, i++)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if ("object" === type) {
        if ("function" === typeof children.then)
          return mapIntoArray(
            resolveThenable(children),
            array,
            escapedPrefix,
            nameSoFar,
            callback
          );
        array = String(children);
        throw Error(
          "Objects are not valid as a React child (found: " +
            ("[object Object]" === array
              ? "object with keys {" + Object.keys(children).join(", ") + "}"
              : array) +
            "). If you meant to render a collection of children, use an array instead."
        );
      }
      return invokeCallback;
    }
    function mapChildren(children, func, context) {
      if (null == children) return children;
      var result = [],
        count = 0;
      mapIntoArray(children, result, "", "", function (child) {
        return func.call(context, child, count++);
      });
      return result;
    }
    function lazyInitializer(payload) {
      if (-1 === payload._status) {
        var ctor = payload._result;
        ctor = ctor();
        ctor.then(
          function (moduleObject) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 1), (payload._result = moduleObject);
          },
          function (error) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 2), (payload._result = error);
          }
        );
        -1 === payload._status &&
          ((payload._status = 0), (payload._result = ctor));
      }
      if (1 === payload._status)
        return (
          (ctor = payload._result),
          void 0 === ctor &&
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",
              ctor
            ),
          "default" in ctor ||
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",
              ctor
            ),
          ctor.default
        );
      throw payload._result;
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      null === dispatcher &&
        console.error(
          "Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."
        );
      return dispatcher;
    }
    function noop() {}
    function enqueueTask(task) {
      if (null === enqueueTaskImpl)
        try {
          var requireString = ("require" + Math.random()).slice(0, 7);
          enqueueTaskImpl = (module && module[requireString]).call(
            module,
            "timers"
          ).setImmediate;
        } catch (_err) {
          enqueueTaskImpl = function (callback) {
            !1 === didWarnAboutMessageChannel &&
              ((didWarnAboutMessageChannel = !0),
              "undefined" === typeof MessageChannel &&
                console.error(
                  "This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."
                ));
            var channel = new MessageChannel();
            channel.port1.onmessage = callback;
            channel.port2.postMessage(void 0);
          };
        }
      return enqueueTaskImpl(task);
    }
    function aggregateErrors(errors) {
      return 1 < errors.length && "function" === typeof AggregateError
        ? new AggregateError(errors)
        : errors[0];
    }
    function popActScope(prevActQueue, prevActScopeDepth) {
      prevActScopeDepth !== actScopeDepth - 1 &&
        console.error(
          "You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "
        );
      actScopeDepth = prevActScopeDepth;
    }
    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {
      var queue = ReactSharedInternals.actQueue;
      if (null !== queue)
        if (0 !== queue.length)
          try {
            flushActQueue(queue);
            enqueueTask(function () {
              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
            });
            return;
          } catch (error) {
            ReactSharedInternals.thrownErrors.push(error);
          }
        else ReactSharedInternals.actQueue = null;
      0 < ReactSharedInternals.thrownErrors.length
        ? ((queue = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          reject(queue))
        : resolve(returnValue);
    }
    function flushActQueue(queue) {
      if (!isFlushing) {
        isFlushing = !0;
        var i = 0;
        try {
          for (; i < queue.length; i++) {
            var callback = queue[i];
            do {
              ReactSharedInternals.didUsePromise = !1;
              var continuation = callback(!1);
              if (null !== continuation) {
                if (ReactSharedInternals.didUsePromise) {
                  queue[i] = callback;
                  queue.splice(0, i);
                  return;
                }
                callback = continuation;
              } else break;
            } while (1);
          }
          queue.length = 0;
        } catch (error) {
          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);
        } finally {
          isFlushing = !1;
        }
      }
    }
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
      REACT_PORTAL_TYPE = Symbol.for("react.portal"),
      REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
      REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
      REACT_PROFILER_TYPE = Symbol.for("react.profiler");
    Symbol.for("react.provider");
    var REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
      REACT_CONTEXT_TYPE = Symbol.for("react.context"),
      REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
      REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
      REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"),
      REACT_MEMO_TYPE = Symbol.for("react.memo"),
      REACT_LAZY_TYPE = Symbol.for("react.lazy"),
      REACT_ACTIVITY_TYPE = Symbol.for("react.activity"),
      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
      didWarnStateUpdateForUnmountedComponent = {},
      ReactNoopUpdateQueue = {
        isMounted: function () {
          return !1;
        },
        enqueueForceUpdate: function (publicInstance) {
          warnNoop(publicInstance, "forceUpdate");
        },
        enqueueReplaceState: function (publicInstance) {
          warnNoop(publicInstance, "replaceState");
        },
        enqueueSetState: function (publicInstance) {
          warnNoop(publicInstance, "setState");
        }
      },
      assign = Object.assign,
      emptyObject = {};
    Object.freeze(emptyObject);
    Component.prototype.isReactComponent = {};
    Component.prototype.setState = function (partialState, callback) {
      if (
        "object" !== typeof partialState &&
        "function" !== typeof partialState &&
        null != partialState
      )
        throw Error(
          "takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, partialState, callback, "setState");
    };
    Component.prototype.forceUpdate = function (callback) {
      this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
    };
    var deprecatedAPIs = {
        isMounted: [
          "isMounted",
          "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."
        ],
        replaceState: [
          "replaceState",
          "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."
        ]
      },
      fnName;
    for (fnName in deprecatedAPIs)
      deprecatedAPIs.hasOwnProperty(fnName) &&
        defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
    ComponentDummy.prototype = Component.prototype;
    deprecatedAPIs = PureComponent.prototype = new ComponentDummy();
    deprecatedAPIs.constructor = PureComponent;
    assign(deprecatedAPIs, Component.prototype);
    deprecatedAPIs.isPureReactComponent = !0;
    var isArrayImpl = Array.isArray,
      REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"),
      ReactSharedInternals = {
        H: null,
        A: null,
        T: null,
        S: null,
        V: null,
        actQueue: null,
        isBatchingLegacy: !1,
        didScheduleLegacyUpdate: !1,
        didUsePromise: !1,
        thrownErrors: [],
        getCurrentStack: null,
        recentlyCreatedOwnerStacks: 0
      },
      hasOwnProperty = Object.prototype.hasOwnProperty,
      createTask = console.createTask
        ? console.createTask
        : function () {
            return null;
          };
    deprecatedAPIs = {
      "react-stack-bottom-frame": function (callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = deprecatedAPIs[
      "react-stack-bottom-frame"
    ].bind(deprecatedAPIs, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutMaps = !1,
      userProvidedKeyEscapeRegex = /\/+/g,
      reportGlobalError =
        "function" === typeof reportError
          ? reportError
          : function (error) {
              if (
                "object" === typeof window &&
                "function" === typeof window.ErrorEvent
              ) {
                var event = new window.ErrorEvent("error", {
                  bubbles: !0,
                  cancelable: !0,
                  message:
                    "object" === typeof error &&
                    null !== error &&
                    "string" === typeof error.message
                      ? String(error.message)
                      : String(error),
                  error: error
                });
                if (!window.dispatchEvent(event)) return;
              } else if (
                "object" === typeof process &&
                "function" === typeof process.emit
              ) {
                process.emit("uncaughtException", error);
                return;
              }
              console.error(error);
            },
      didWarnAboutMessageChannel = !1,
      enqueueTaskImpl = null,
      actScopeDepth = 0,
      didWarnNoAwaitAct = !1,
      isFlushing = !1,
      queueSeveralMicrotasks =
        "function" === typeof queueMicrotask
          ? function (callback) {
              queueMicrotask(function () {
                return queueMicrotask(callback);
              });
            }
          : enqueueTask;
    deprecatedAPIs = Object.freeze({
      __proto__: null,
      c: function (size) {
        return resolveDispatcher().useMemoCache(size);
      }
    });
    exports.Children = {
      map: mapChildren,
      forEach: function (children, forEachFunc, forEachContext) {
        mapChildren(
          children,
          function () {
            forEachFunc.apply(this, arguments);
          },
          forEachContext
        );
      },
      count: function (children) {
        var n = 0;
        mapChildren(children, function () {
          n++;
        });
        return n;
      },
      toArray: function (children) {
        return (
          mapChildren(children, function (child) {
            return child;
          }) || []
        );
      },
      only: function (children) {
        if (!isValidElement(children))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return children;
      }
    };
    exports.Component = Component;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.PureComponent = PureComponent;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
      ReactSharedInternals;
    exports.__COMPILER_RUNTIME = deprecatedAPIs;
    exports.act = function (callback) {
      var prevActQueue = ReactSharedInternals.actQueue,
        prevActScopeDepth = actScopeDepth;
      actScopeDepth++;
      var queue = (ReactSharedInternals.actQueue =
          null !== prevActQueue ? prevActQueue : []),
        didAwaitActCall = !1;
      try {
        var result = callback();
      } catch (error) {
        ReactSharedInternals.thrownErrors.push(error);
      }
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          (popActScope(prevActQueue, prevActScopeDepth),
          (callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      if (
        null !== result &&
        "object" === typeof result &&
        "function" === typeof result.then
      ) {
        var thenable = result;
        queueSeveralMicrotasks(function () {
          didAwaitActCall ||
            didWarnNoAwaitAct ||
            ((didWarnNoAwaitAct = !0),
            console.error(
              "You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"
            ));
        });
        return {
          then: function (resolve, reject) {
            didAwaitActCall = !0;
            thenable.then(
              function (returnValue) {
                popActScope(prevActQueue, prevActScopeDepth);
                if (0 === prevActScopeDepth) {
                  try {
                    flushActQueue(queue),
                      enqueueTask(function () {
                        return recursivelyFlushAsyncActWork(
                          returnValue,
                          resolve,
                          reject
                        );
                      });
                  } catch (error$0) {
                    ReactSharedInternals.thrownErrors.push(error$0);
                  }
                  if (0 < ReactSharedInternals.thrownErrors.length) {
                    var _thrownError = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    );
                    ReactSharedInternals.thrownErrors.length = 0;
                    reject(_thrownError);
                  }
                } else resolve(returnValue);
              },
              function (error) {
                popActScope(prevActQueue, prevActScopeDepth);
                0 < ReactSharedInternals.thrownErrors.length
                  ? ((error = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    )),
                    (ReactSharedInternals.thrownErrors.length = 0),
                    reject(error))
                  : reject(error);
              }
            );
          }
        };
      }
      var returnValue$jscomp$0 = result;
      popActScope(prevActQueue, prevActScopeDepth);
      0 === prevActScopeDepth &&
        (flushActQueue(queue),
        0 !== queue.length &&
          queueSeveralMicrotasks(function () {
            didAwaitActCall ||
              didWarnNoAwaitAct ||
              ((didWarnNoAwaitAct = !0),
              console.error(
                "A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"
              ));
          }),
        (ReactSharedInternals.actQueue = null));
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          ((callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      return {
        then: function (resolve, reject) {
          didAwaitActCall = !0;
          0 === prevActScopeDepth
            ? ((ReactSharedInternals.actQueue = queue),
              enqueueTask(function () {
                return recursivelyFlushAsyncActWork(
                  returnValue$jscomp$0,
                  resolve,
                  reject
                );
              }))
            : resolve(returnValue$jscomp$0);
        }
      };
    };
    exports.cache = function (fn) {
      return function () {
        return fn.apply(null, arguments);
      };
    };
    exports.captureOwnerStack = function () {
      var getCurrentStack = ReactSharedInternals.getCurrentStack;
      return null === getCurrentStack ? null : getCurrentStack();
    };
    exports.cloneElement = function (element, config, children) {
      if (null === element || void 0 === element)
        throw Error(
          "The argument must be a React element, but you passed " +
            element +
            "."
        );
      var props = assign({}, element.props),
        key = element.key,
        owner = element._owner;
      if (null != config) {
        var JSCompiler_inline_result;
        a: {
          if (
            hasOwnProperty.call(config, "ref") &&
            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(
              config,
              "ref"
            ).get) &&
            JSCompiler_inline_result.isReactWarning
          ) {
            JSCompiler_inline_result = !1;
            break a;
          }
          JSCompiler_inline_result = void 0 !== config.ref;
        }
        JSCompiler_inline_result && (owner = getOwner());
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (key = "" + config.key));
        for (propName in config)
          !hasOwnProperty.call(config, propName) ||
            "key" === propName ||
            "__self" === propName ||
            "__source" === propName ||
            ("ref" === propName && void 0 === config.ref) ||
            (props[propName] = config[propName]);
      }
      var propName = arguments.length - 2;
      if (1 === propName) props.children = children;
      else if (1 < propName) {
        JSCompiler_inline_result = Array(propName);
        for (var i = 0; i < propName; i++)
          JSCompiler_inline_result[i] = arguments[i + 2];
        props.children = JSCompiler_inline_result;
      }
      props = ReactElement(
        element.type,
        key,
        void 0,
        void 0,
        owner,
        props,
        element._debugStack,
        element._debugTask
      );
      for (key = 2; key < arguments.length; key++)
        (owner = arguments[key]),
          isValidElement(owner) && owner._store && (owner._store.validated = 1);
      return props;
    };
    exports.createContext = function (defaultValue) {
      defaultValue = {
        $$typeof: REACT_CONTEXT_TYPE,
        _currentValue: defaultValue,
        _currentValue2: defaultValue,
        _threadCount: 0,
        Provider: null,
        Consumer: null
      };
      defaultValue.Provider = defaultValue;
      defaultValue.Consumer = {
        $$typeof: REACT_CONSUMER_TYPE,
        _context: defaultValue
      };
      defaultValue._currentRenderer = null;
      defaultValue._currentRenderer2 = null;
      return defaultValue;
    };
    exports.createElement = function (type, config, children) {
      for (var i = 2; i < arguments.length; i++) {
        var node = arguments[i];
        isValidElement(node) && node._store && (node._store.validated = 1);
      }
      i = {};
      node = null;
      if (null != config)
        for (propName in (didWarnAboutOldJSXRuntime ||
          !("__self" in config) ||
          "key" in config ||
          ((didWarnAboutOldJSXRuntime = !0),
          console.warn(
            "Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform"
          )),
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (node = "" + config.key)),
        config))
          hasOwnProperty.call(config, propName) &&
            "key" !== propName &&
            "__self" !== propName &&
            "__source" !== propName &&
            (i[propName] = config[propName]);
      var childrenLength = arguments.length - 2;
      if (1 === childrenLength) i.children = children;
      else if (1 < childrenLength) {
        for (
          var childArray = Array(childrenLength), _i = 0;
          _i < childrenLength;
          _i++
        )
          childArray[_i] = arguments[_i + 2];
        Object.freeze && Object.freeze(childArray);
        i.children = childArray;
      }
      if (type && type.defaultProps)
        for (propName in ((childrenLength = type.defaultProps), childrenLength))
          void 0 === i[propName] && (i[propName] = childrenLength[propName]);
      node &&
        defineKeyPropWarningGetter(
          i,
          "function" === typeof type
            ? type.displayName || type.name || "Unknown"
            : type
        );
      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return ReactElement(
        type,
        node,
        void 0,
        void 0,
        getOwner(),
        i,
        propName ? Error("react-stack-top-frame") : unknownOwnerDebugStack,
        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask
      );
    };
    exports.createRef = function () {
      var refObject = { current: null };
      Object.seal(refObject);
      return refObject;
    };
    exports.forwardRef = function (render) {
      null != render && render.$$typeof === REACT_MEMO_TYPE
        ? console.error(
            "forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."
          )
        : "function" !== typeof render
          ? console.error(
              "forwardRef requires a render function but was given %s.",
              null === render ? "null" : typeof render
            )
          : 0 !== render.length &&
            2 !== render.length &&
            console.error(
              "forwardRef render functions accept exactly two parameters: props and ref. %s",
              1 === render.length
                ? "Did you forget to use the ref parameter?"
                : "Any additional parameter will be undefined."
            );
      null != render &&
        null != render.defaultProps &&
        console.error(
          "forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?"
        );
      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },
        ownName;
      Object.defineProperty(elementType, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          render.name ||
            render.displayName ||
            (Object.defineProperty(render, "name", { value: name }),
            (render.displayName = name));
        }
      });
      return elementType;
    };
    exports.isValidElement = isValidElement;
    exports.lazy = function (ctor) {
      return {
        $$typeof: REACT_LAZY_TYPE,
        _payload: { _status: -1, _result: ctor },
        _init: lazyInitializer
      };
    };
    exports.memo = function (type, compare) {
      null == type &&
        console.error(
          "memo: The first argument must be a component. Instead received: %s",
          null === type ? "null" : typeof type
        );
      compare = {
        $$typeof: REACT_MEMO_TYPE,
        type: type,
        compare: void 0 === compare ? null : compare
      };
      var ownName;
      Object.defineProperty(compare, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          type.name ||
            type.displayName ||
            (Object.defineProperty(type, "name", { value: name }),
            (type.displayName = name));
        }
      });
      return compare;
    };
    exports.startTransition = function (scope) {
      var prevTransition = ReactSharedInternals.T,
        currentTransition = {};
      ReactSharedInternals.T = currentTransition;
      currentTransition._updatedFibers = new Set();
      try {
        var returnValue = scope(),
          onStartTransitionFinish = ReactSharedInternals.S;
        null !== onStartTransitionFinish &&
          onStartTransitionFinish(currentTransition, returnValue);
        "object" === typeof returnValue &&
          null !== returnValue &&
          "function" === typeof returnValue.then &&
          returnValue.then(noop, reportGlobalError);
      } catch (error) {
        reportGlobalError(error);
      } finally {
        null === prevTransition &&
          currentTransition._updatedFibers &&
          ((scope = currentTransition._updatedFibers.size),
          currentTransition._updatedFibers.clear(),
          10 < scope &&
            console.warn(
              "Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."
            )),
          (ReactSharedInternals.T = prevTransition);
      }
    };
    exports.unstable_useCacheRefresh = function () {
      return resolveDispatcher().useCacheRefresh();
    };
    exports.use = function (usable) {
      return resolveDispatcher().use(usable);
    };
    exports.useActionState = function (action, initialState, permalink) {
      return resolveDispatcher().useActionState(
        action,
        initialState,
        permalink
      );
    };
    exports.useCallback = function (callback, deps) {
      return resolveDispatcher().useCallback(callback, deps);
    };
    exports.useContext = function (Context) {
      var dispatcher = resolveDispatcher();
      Context.$$typeof === REACT_CONSUMER_TYPE &&
        console.error(
          "Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"
        );
      return dispatcher.useContext(Context);
    };
    exports.useDebugValue = function (value, formatterFn) {
      return resolveDispatcher().useDebugValue(value, formatterFn);
    };
    exports.useDeferredValue = function (value, initialValue) {
      return resolveDispatcher().useDeferredValue(value, initialValue);
    };
    exports.useEffect = function (create, createDeps, update) {
      null == create &&
        console.warn(
          "React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      var dispatcher = resolveDispatcher();
      if ("function" === typeof update)
        throw Error(
          "useEffect CRUD overload is not enabled in this build of React."
        );
      return dispatcher.useEffect(create, createDeps);
    };
    exports.useId = function () {
      return resolveDispatcher().useId();
    };
    exports.useImperativeHandle = function (ref, create, deps) {
      return resolveDispatcher().useImperativeHandle(ref, create, deps);
    };
    exports.useInsertionEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useInsertionEffect(create, deps);
    };
    exports.useLayoutEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useLayoutEffect(create, deps);
    };
    exports.useMemo = function (create, deps) {
      return resolveDispatcher().useMemo(create, deps);
    };
    exports.useOptimistic = function (passthrough, reducer) {
      return resolveDispatcher().useOptimistic(passthrough, reducer);
    };
    exports.useReducer = function (reducer, initialArg, init) {
      return resolveDispatcher().useReducer(reducer, initialArg, init);
    };
    exports.useRef = function (initialValue) {
      return resolveDispatcher().useRef(initialValue);
    };
    exports.useState = function (initialState) {
      return resolveDispatcher().useState(initialState);
    };
    exports.useSyncExternalStore = function (
      subscribe,
      getSnapshot,
      getServerSnapshot
    ) {
      return resolveDispatcher().useSyncExternalStore(
        subscribe,
        getSnapshot,
        getServerSnapshot
      );
    };
    exports.useTransition = function () {
      return resolveDispatcher().useTransition();
    };
    exports.version = "19.1.0";
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();


/***/ }),

/***/ "../../node_modules/react/index.js":
/*!*****************************************!*\
  !*** ../../node_modules/react/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) // removed by dead control flow
{} else {
  module.exports = __webpack_require__(/*! ./cjs/react.development.js */ "../../node_modules/react/cjs/react.development.js");
}


/***/ }),

/***/ "../../node_modules/title-case/dist.es2015/index.js":
/*!**********************************************************!*\
  !*** ../../node_modules/title-case/dist.es2015/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   titleCase: () => (/* binding */ titleCase)
/* harmony export */ });
var SMALL_WORDS = /\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i;
var TOKENS = /[^\s:–—-]+|./g;
var WHITESPACE = /\s/;
var IS_MANUAL_CASE = /.(?=[A-Z]|\..)/;
var ALPHANUMERIC_PATTERN = /[A-Za-z0-9\u00C0-\u00FF]/;
function titleCase(input) {
    var result = "";
    var m;
    // tslint:disable-next-line
    while ((m = TOKENS.exec(input)) !== null) {
        var token = m[0], index = m.index;
        if (
        // Ignore already capitalized words.
        !IS_MANUAL_CASE.test(token) &&
            // Ignore small words except at beginning or end.
            (!SMALL_WORDS.test(token) ||
                index === 0 ||
                index + token.length === input.length) &&
            // Ignore URLs.
            (input.charAt(index + token.length) !== ":" ||
                WHITESPACE.test(input.charAt(index + token.length + 1)))) {
            // Find and uppercase first word character, skips over *modifiers*.
            result += token.replace(ALPHANUMERIC_PATTERN, function (m) { return m.toUpperCase(); });
            continue;
        }
        result += token;
    }
    return result;
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/void-elements/index.js":
/*!*************************************************!*\
  !*** ../../node_modules/void-elements/index.js ***!
  \*************************************************/
/***/ ((module) => {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "link": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEVELOPER_CONTENT: () => (/* binding */ DEVELOPER_CONTENT),
/* harmony export */   OPENFIN_INFORMATION_APP: () => (/* binding */ OPENFIN_INFORMATION_APP),
/* harmony export */   PROCESS_MANAGER: () => (/* binding */ PROCESS_MANAGER),
/* harmony export */   launchApp: () => (/* binding */ launchApp)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);

/**
 * App definition to use for demonstration which show OpenFin environment information.
 */
const OPENFIN_INFORMATION_APP = {
    appId: "openfin-information",
    title: "OpenFin Information",
    description: "Display information about the OpenFin environment",
    manifest: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/views/platform/of-info.view.fin.json",
    manifestType: "view",
    icons: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/icon-blue.png"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/previews/of-info.png"
        }
    ],
    tags: ["view", "openfin", "versions"]
};
/**
 * App definition for the OpenFin Notification Process Manager development tool.
 */
const PROCESS_MANAGER = {
    appId: "openfin-process-manager",
    title: "OpenFin Process Manager",
    manifestType: "manifest",
    description: "Process Manager: This is OpenFin's tool for helping developers build OpenFin Applications. It lets you see the OpenFin applications that are running, the performance of the applications (memory and cpu) and easy access to the dev tools for the Windows of your application.",
    manifest: "https://cdn.openfin.co/release/apps/openfin/processmanager/app.json",
    icons: [{ src: "https://cdn.openfin.co/release/apps/openfin/processmanager/2.0.2/ofpm-icon.png" }],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/previews/tools/openfin-process-manager.png"
        }
    ],
    tags: ["hero", "manifest", "tools"]
};
/**
 * App definition for a snapshot which includes development resources for OpenFin.
 */
const DEVELOPER_CONTENT = {
    appId: "openfin-developer-page",
    title: "OpenFin Developer Docs",
    manifestType: "snapshot",
    description: "Shows a collection of OpenFin developer pages and provides an example of how you can present a pre-built page as a launch target in OpenFin Home. This entry has a manifest type of 'snapshot'.",
    manifest: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/snapshots/developer.snapshot.fin.json",
    icons: [{ src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/icon-blue.png" }],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/previews/openfin-page-docs.png"
        }
    ],
    tags: ["page"]
};
/**
 * Launch the passed app using its manifest type to determine how to launch it.
 * @param app The app to launch.
 * @returns The value returned by the launch.
 */
async function launchApp(app) {
    if (!app.manifest) {
        console.error(`No manifest was provided for type ${app.manifestType}`);
        return;
    }
    let ret;
    console.log("Application launch requested:", app);
    switch (app.manifestType) {
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.Snapshot: {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.applySnapshot(app.manifest);
            break;
        }
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.View: {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.createView({ manifestUrl: app.manifest });
            break;
        }
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.External: {
            ret = await fin.System.launchExternalProcess({ path: app.manifest, uuid: app.appId });
            break;
        }
        default: {
            ret = await fin.Application.startFromManifest(app.manifest);
            break;
        }
    }
    console.log("Finished application launch request");
    return ret;
}


/***/ }),

/***/ "./client/src/store.ts":
/*!*****************************!*\
  !*** ./client/src/store.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   register: () => (/* binding */ register),
/* harmony export */   storeGetCustomActions: () => (/* binding */ storeGetCustomActions)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");



/**
 * Register with the store component.
 * @param id The id to register the provider with.
 * @param title The title to use for the store registration.
 * @param icon The icon to use for the store registration.
 * @returns The registration details for home.
 */
async function register(id, title, icon) {
    console.log("Initializing the storefront provider.");
    try {
        const metaInfo = await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.register({
            id,
            title,
            icon,
            getNavigation: async () => [
                {
                    id: "apps",
                    title: "Apps",
                    items: [
                        {
                            id: "view",
                            title: "Views",
                            templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                            templateData: {
                                apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.OPENFIN_INFORMATION_APP]
                            }
                        },
                        {
                            id: "page",
                            title: "Pages",
                            templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                            templateData: {
                                apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.DEVELOPER_CONTENT]
                            }
                        },
                        {
                            id: "manifest",
                            title: "Tools",
                            templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                            templateData: {
                                apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.PROCESS_MANAGER]
                            }
                        }
                    ]
                }
            ],
            getLandingPage: async () => ({
                hero: {
                    title: "Custom Hero Title",
                    description: "This is a demonstration of the hero section that you can configure for your store.",
                    cta: {
                        id: "hero-1",
                        title: "Hero Apps!",
                        templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                        templateData: {
                            apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.OPENFIN_INFORMATION_APP, _apps__WEBPACK_IMPORTED_MODULE_2__.PROCESS_MANAGER]
                        }
                    },
                    image: {
                        src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/store/superhero-unsplash.jpg"
                    }
                },
                topRow: {
                    title: "Custom Top Row Content",
                    items: [
                        {
                            id: "top-row-item-1",
                            title: "Dev Tools",
                            description: "A collection of developer tools that can aid with building and debugging OpenFin applications.",
                            image: {
                                src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/store/coding-2-unsplash.jpg"
                            },
                            templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                            templateData: {
                                apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.PROCESS_MANAGER]
                            },
                            buttonTitle: "View Tools"
                        }
                    ]
                },
                middleRow: {
                    title: "A collection of tools providing information about OpenFin.",
                    apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.OPENFIN_INFORMATION_APP]
                },
                bottomRow: {
                    title: "Quick Access",
                    items: [
                        {
                            id: "bottom-row-item-1",
                            title: "Views",
                            description: "A collection of views made available through our catalog.",
                            image: {
                                src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/store/coding-4-unsplash.jpg"
                            },
                            templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                            templateData: {
                                apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.OPENFIN_INFORMATION_APP]
                            },
                            buttonTitle: "See Views"
                        },
                        {
                            id: "bottom-row-item-2",
                            title: "Web Apps",
                            description: "A collection of web apps built using OpenFin.",
                            image: {
                                src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/common/images/store/coding-5-unsplash.jpg"
                            },
                            templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                            templateData: {
                                apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.PROCESS_MANAGER]
                            },
                            buttonTitle: "See Web Apps"
                        }
                    ]
                }
            }),
            getFooter: async () => ({
                logo: { src: "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/favicon.ico", size: "32" },
                text: "Welcome to the OpenFin Sample Footer",
                links: [
                    {
                        title: "Github",
                        url: "https://github.com/built-on-openfin/workspace-starter"
                    },
                    {
                        title: "YouTube",
                        url: "https://www.youtube.com/user/OpenFinTech"
                    }
                ]
            }),
            getApps: async () => [_apps__WEBPACK_IMPORTED_MODULE_2__.OPENFIN_INFORMATION_APP, _apps__WEBPACK_IMPORTED_MODULE_2__.PROCESS_MANAGER],
            launchApp: async (app) => {
                await (0,_apps__WEBPACK_IMPORTED_MODULE_2__.launchApp)(app);
            }
        });
        console.log("Storefront provider initialized.", metaInfo);
        return metaInfo;
    }
    catch (err) {
        console.error("An error was encountered while trying to register the content store provider", err);
    }
}
/**
 * Get the actions that will be triggered by the button clicks.
 * The action are added to the workspace platform when it is created.
 * @returns The maps of the custom actions.
 */
function storeGetCustomActions() {
    return {
        "open-web-site": async (payload) => {
            if (payload.callerType === _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__.CustomActionCallerType.StoreCustomButton) {
                window.open(payload.customData?.url);
            }
        },
        "launch-app": async (payload) => {
            if (payload.callerType === _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__.CustomActionCallerType.StoreCustomButton) {
                const apps = [_apps__WEBPACK_IMPORTED_MODULE_2__.OPENFIN_INFORMATION_APP, _apps__WEBPACK_IMPORTED_MODULE_2__.PROCESS_MANAGER, _apps__WEBPACK_IMPORTED_MODULE_2__.DEVELOPER_CONTENT];
                const app = apps.find((a) => a.appId === payload.appId);
                if (app) {
                    await (0,_apps__WEBPACK_IMPORTED_MODULE_2__.launchApp)(app);
                }
            }
        }
    };
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ "./client/src/store.ts");



const PLATFORM_ID = "register-with-store-basic";
const PLATFORM_TITLE = "Register With Store Basic";
const PLATFORM_ICON = "https://built-on-openfin.github.io/workspace-starter/dev/john/workspace-v21-patch/register-with-store-basic/favicon.ico";
let storeRegistration;
window.addEventListener("DOMContentLoaded", async () => {
    // When the platform api is ready we bootstrap the platform.
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => initializeWorkspaceComponents());
    // The DOM is ready so initialize the platform
    // Provide default icons and default theme for the browser windows
    await initializeWorkspacePlatform();
    // Get the DOM elements from the provider.html page and initialize them
    await initializeDOM();
});
/**
 * Initialize the workspace platform.
 */
async function initializeWorkspacePlatform() {
    console.log("Initializing workspace platform");
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__.init)({
        browser: {
            defaultWindowOptions: {
                icon: PLATFORM_ICON,
                workspacePlatform: {
                    pages: [],
                    favicon: PLATFORM_ICON
                }
            }
        },
        theme: [
            {
                label: "Default",
                default: "dark",
                palette: {
                    brandPrimary: "#0A76D3",
                    brandSecondary: "#383A40",
                    backgroundPrimary: "#1E1F23"
                }
            }
        ],
        // Get the custom actions from the store which will be triggered
        // when the buttons are clicked
        customActions: (0,_store__WEBPACK_IMPORTED_MODULE_2__.storeGetCustomActions)()
    });
}
/**
 * Bring the platform to life.
 */
async function initializeWorkspaceComponents() {
    console.log("Initializing the bootstrapper");
    // When the platform requests to be close we deregister from home and quit
    const providerWindow = fin.Window.getCurrentSync();
    await providerWindow.once("close-requested", async () => {
        if (storeRegistration) {
            await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.deregister(PLATFORM_ID);
        }
        await fin.Platform.getCurrentSync().quit();
    });
}
/**
 * Initialize the DOM elements.
 */
async function initializeDOM() {
    const registerStore = document.querySelector("#register");
    const showStore = document.querySelector("#show");
    const hideStore = document.querySelector("#hide");
    const deregisterStore = document.querySelector("#deregister");
    if (showStore && hideStore && deregisterStore && registerStore) {
        showStore.disabled = true;
        hideStore.disabled = true;
        deregisterStore.disabled = true;
        registerStore.disabled = false;
        registerStore.addEventListener("click", async () => {
            registerStore.disabled = true;
            storeRegistration = await (0,_store__WEBPACK_IMPORTED_MODULE_2__.register)(PLATFORM_ID, PLATFORM_TITLE, PLATFORM_ICON);
            showStore.disabled = false;
            hideStore.disabled = false;
            deregisterStore.disabled = false;
        });
        deregisterStore.addEventListener("click", async () => {
            showStore.disabled = true;
            hideStore.disabled = true;
            deregisterStore.disabled = true;
            registerStore.disabled = false;
            await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.deregister(PLATFORM_ID);
            storeRegistration = undefined;
        });
        showStore.addEventListener("click", async () => {
            await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.show();
        });
        hideStore.addEventListener("click", async () => {
            await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.hide();
        });
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsU0FBUztBQUNUO0FBQ0E7QUFDQSw0RUFBNEUsZUFBZTtBQUMzRixhQUFhO0FBQ2IsNEVBQTRFLDRCQUE0QjtBQUN4RyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDZDQUE2QztBQUN2RztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0IsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywyREFBMkQ7QUFDekcsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLCtCQUErQixhQUFhO0FBQzVDLG9DQUFvQztBQUNwQyxTQUFTO0FBQ1QsdUJBQXVCLG1CQUFtQix1QkFBdUI7QUFDakU7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGNBQWM7QUFDN0Msb0NBQW9DO0FBQ3BDLFNBQVM7QUFDVDtBQUNBLCtCQUErQix5QkFBeUI7QUFDeEQsb0NBQW9DO0FBQ3BDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1REFBdUQsc0JBQXNCLHNDQUFzQyxzQkFBc0Isc0JBQXNCLHVDQUF1QztBQUNyUSw0Q0FBNEMseUNBQXlDLElBQUk7QUFDekYsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELHVEQUF1RCx3QkFBd0I7QUFDOUk7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLElBQUk7QUFDekIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxTQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLG1CQUFtQjtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaURBQWlELHFDQUFxQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlEQUF5RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixnRkFBZ0YsRUFBRTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLGFBQWE7QUFDNUc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLGVBQWU7QUFDbEg7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0QkFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlDQUF5QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RUFBRTtZQUM5QyxNQUFNLDBEQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQUM7UUFFSCxTQUFTLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzlDLE1BQU0sMERBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztJQUNKLENBQUM7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL21pY3Jvc29mdDM2NS9vcGVuZmluLm1zMzY1LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvZGV4aWUvZGlzdC9kZXhpZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvZGV4aWUvaW1wb3J0LXdyYXBwZXIubWpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9odG1sLXBhcnNlLXN0cmluZ2lmeS9kaXN0L2h0bWwtcGFyc2Utc3RyaW5naWZ5Lm1vZHVsZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvaTE4bmV4dC9kaXN0L2Nqcy9pMThuZXh0LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9JMThuZXh0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9UcmFucy5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL1RyYW5zV2l0aG91dENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9UcmFuc2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2kxOG5JbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvaW5pdFJlYWN0STE4bmV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3VuZXNjYXBlLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXNlU1NSLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXNlVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91dGlscy5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3dpdGhTU1IuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy93aXRoVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3RpdGxlLWNhc2UvZGlzdC5lczIwMTUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi4vLi4vbm9kZV9tb2R1bGVzL3ZvaWQtZWxlbWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi9jbGllbnQvc3JjL2FwcHMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi9jbGllbnQvc3JjL3N0b3JlLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4vY2xpZW50L3NyYy9wcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBvcGVuZmluLm1zMzY1LmpzLkxJQ0VOU0UudHh0ICovXG52YXIgdD17ODc2OnQ9Pntjb25zdHtBYm9ydENvbnRyb2xsZXI6ZSxBYm9ydFNpZ25hbDpufT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMDt0LmV4cG9ydHM9ZSx0LmV4cG9ydHMuQWJvcnRTaWduYWw9bix0LmV4cG9ydHMuZGVmYXVsdD1lfSw2MDoodCxlKT0+e2UuYnl0ZUxlbmd0aD1mdW5jdGlvbih0KXt2YXIgZT1zKHQpLG49ZVswXSxyPWVbMV07cmV0dXJuIDMqKG4rcikvNC1yfSxlLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlLG4saT1zKHQpLGE9aVswXSx1PWlbMV0sbD1uZXcgbyhmdW5jdGlvbih0LGUsbil7cmV0dXJuIDMqKGUrbikvNC1ufSgwLGEsdSkpLGM9MCxmPXU+MD9hLTQ6YTtmb3Iobj0wO248ZjtuKz00KWU9clt0LmNoYXJDb2RlQXQobildPDwxOHxyW3QuY2hhckNvZGVBdChuKzEpXTw8MTJ8clt0LmNoYXJDb2RlQXQobisyKV08PDZ8clt0LmNoYXJDb2RlQXQobiszKV0sbFtjKytdPWU+PjE2JjI1NSxsW2MrK109ZT4+OCYyNTUsbFtjKytdPTI1NSZlOzI9PT11JiYoZT1yW3QuY2hhckNvZGVBdChuKV08PDJ8clt0LmNoYXJDb2RlQXQobisxKV0+PjQsbFtjKytdPTI1NSZlKTsxPT09dSYmKGU9clt0LmNoYXJDb2RlQXQobildPDwxMHxyW3QuY2hhckNvZGVBdChuKzEpXTw8NHxyW3QuY2hhckNvZGVBdChuKzIpXT4+MixsW2MrK109ZT4+OCYyNTUsbFtjKytdPTI1NSZlKTtyZXR1cm4gbH0sZS5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPXQubGVuZ3RoLG89ciUzLGk9W10sYT0xNjM4MyxzPTAsbD1yLW87czxsO3MrPWEpaS5wdXNoKHUodCxzLHMrYT5sP2w6cythKSk7MT09PW8/KGU9dFtyLTFdLGkucHVzaChuW2U+PjJdK25bZTw8NCY2M10rXCI9PVwiKSk6Mj09PW8mJihlPSh0W3ItMl08PDgpK3Rbci0xXSxpLnB1c2gobltlPj4xMF0rbltlPj40JjYzXStuW2U8PDImNjNdK1wiPVwiKSk7cmV0dXJuIGkuam9pbihcIlwiKX07Zm9yKHZhciBuPVtdLHI9W10sbz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGk9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsYT0wO2E8NjQ7KythKW5bYV09aVthXSxyW2kuY2hhckNvZGVBdChhKV09YTtmdW5jdGlvbiBzKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGUlND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIG49dC5pbmRleE9mKFwiPVwiKTtyZXR1cm4tMT09PW4mJihuPWUpLFtuLG49PT1lPzA6NC1uJTRdfWZ1bmN0aW9uIHUodCxlLHIpe2Zvcih2YXIgbyxpLGE9W10scz1lO3M8cjtzKz0zKW89KHRbc108PDE2JjE2NzExNjgwKSsodFtzKzFdPDw4JjY1MjgwKSsoMjU1JnRbcysyXSksYS5wdXNoKG5bKGk9byk+PjE4JjYzXStuW2k+PjEyJjYzXStuW2k+PjYmNjNdK25bNjMmaV0pO3JldHVybiBhLmpvaW4oXCJcIil9cltcIi1cIi5jaGFyQ29kZUF0KDApXT02MixyW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzfSw0ODU6KHQsZSxuKT0+e2NvbnN0IHI9big2MCksbz1uKDIxNSksaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbC5mb3I/U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpOm51bGw7ZS5CdWZmZXI9dSxlLlNsb3dCdWZmZXI9ZnVuY3Rpb24odCl7K3QhPXQmJih0PTApO3JldHVybiB1LmFsbG9jKCt0KX0sZS5JTlNQRUNUX01BWF9CWVRFUz01MDtjb25zdCBhPTIxNDc0ODM2NDc7ZnVuY3Rpb24gcyh0KXtpZih0PmEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyk7Y29uc3QgZT1uZXcgVWludDhBcnJheSh0KTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdS5wcm90b3R5cGUpLGV9ZnVuY3Rpb24gdSh0LGUsbil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7cmV0dXJuIGYodCl9cmV0dXJuIGwodCxlLG4pfWZ1bmN0aW9uIGwodCxlLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiZcIlwiIT09ZXx8KGU9XCJ1dGY4XCIpO2lmKCF1LmlzRW5jb2RpbmcoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2UpO2NvbnN0IG49MHxnKHQsZSk7bGV0IHI9cyhuKTtjb25zdCBvPXIud3JpdGUodCxlKTtvIT09biYmKHI9ci5zbGljZSgwLG8pKTtyZXR1cm4gcn0odCxlKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIGZ1bmN0aW9uKHQpe2lmKFkodCxVaW50OEFycmF5KSl7Y29uc3QgZT1uZXcgVWludDhBcnJheSh0KTtyZXR1cm4gaChlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKX1yZXR1cm4gZCh0KX0odCk7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHQpO2lmKFkodCxBcnJheUJ1ZmZlcil8fHQmJlkodC5idWZmZXIsQXJyYXlCdWZmZXIpKXJldHVybiBoKHQsZSxuKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXImJihZKHQsU2hhcmVkQXJyYXlCdWZmZXIpfHx0JiZZKHQuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIGgodCxlLG4pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7Y29uc3Qgcj10LnZhbHVlT2YmJnQudmFsdWVPZigpO2lmKG51bGwhPXImJnIhPT10KXJldHVybiB1LmZyb20ocixlLG4pO2NvbnN0IG89ZnVuY3Rpb24odCl7aWYodS5pc0J1ZmZlcih0KSl7Y29uc3QgZT0wfHAodC5sZW5ndGgpLG49cyhlKTtyZXR1cm4gMD09PW4ubGVuZ3RofHx0LmNvcHkobiwwLDAsZSksbn1pZih2b2lkIDAhPT10Lmxlbmd0aClyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgdC5sZW5ndGh8fEsodC5sZW5ndGgpP3MoMCk6ZCh0KTtpZihcIkJ1ZmZlclwiPT09dC50eXBlJiZBcnJheS5pc0FycmF5KHQuZGF0YSkpcmV0dXJuIGQodC5kYXRhKX0odCk7aWYobylyZXR1cm4gbztpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1TeW1ib2wudG9QcmltaXRpdmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbU3ltYm9sLnRvUHJpbWl0aXZlXSlyZXR1cm4gdS5mcm9tKHRbU3ltYm9sLnRvUHJpbWl0aXZlXShcInN0cmluZ1wiKSxlLG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgdCl9ZnVuY3Rpb24gYyh0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyk7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIGModCkscyh0PDA/MDowfHAodCkpfWZ1bmN0aW9uIGQodCl7Y29uc3QgZT10Lmxlbmd0aDwwPzA6MHxwKHQubGVuZ3RoKSxuPXMoZSk7Zm9yKGxldCByPTA7cjxlO3IrPTEpbltyXT0yNTUmdFtyXTtyZXR1cm4gbn1mdW5jdGlvbiBoKHQsZSxuKXtpZihlPDB8fHQuYnl0ZUxlbmd0aDxlKXRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2lmKHQuYnl0ZUxlbmd0aDxlKyhufHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtsZXQgcjtyZXR1cm4gcj12b2lkIDA9PT1lJiZ2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkodCxlKTpuZXcgVWludDhBcnJheSh0LGUsbiksT2JqZWN0LnNldFByb3RvdHlwZU9mKHIsdS5wcm90b3R5cGUpLHJ9ZnVuY3Rpb24gcCh0KXtpZih0Pj1hKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2EudG9TdHJpbmcoMTYpK1wiIGJ5dGVzXCIpO3JldHVybiAwfHR9ZnVuY3Rpb24gZyh0LGUpe2lmKHUuaXNCdWZmZXIodCkpcmV0dXJuIHQubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KXx8WSh0LEFycmF5QnVmZmVyKSlyZXR1cm4gdC5ieXRlTGVuZ3RoO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpO2NvbnN0IG49dC5sZW5ndGgscj1hcmd1bWVudHMubGVuZ3RoPjImJiEwPT09YXJndW1lbnRzWzJdO2lmKCFyJiYwPT09bilyZXR1cm4gMDtsZXQgbz0hMTtmb3IoOzspc3dpdGNoKGUpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIG47Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIFYodCkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiAyKm47Y2FzZVwiaGV4XCI6cmV0dXJuIG4+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBHKHQpLmxlbmd0aDtkZWZhdWx0OmlmKG8pcmV0dXJuIHI/LTE6Vih0KS5sZW5ndGg7ZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLG89ITB9fWZ1bmN0aW9uIHkodCxlLG4pe2xldCByPSExO2lmKCh2b2lkIDA9PT1lfHxlPDApJiYoZT0wKSxlPnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PW58fG4+dGhpcy5sZW5ndGgpJiYobj10aGlzLmxlbmd0aCksbjw9MClyZXR1cm5cIlwiO2lmKChuPj4+PTApPD0oZT4+Pj0wKSlyZXR1cm5cIlwiO2Zvcih0fHwodD1cInV0ZjhcIik7Oylzd2l0Y2godCl7Y2FzZVwiaGV4XCI6cmV0dXJuIEIodGhpcyxlLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBUKHRoaXMsZSxuKTtjYXNlXCJhc2NpaVwiOnJldHVybiB4KHRoaXMsZSxuKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gQyh0aGlzLGUsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIEkodGhpcyxlLG4pO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBrKHRoaXMsZSxuKTtkZWZhdWx0OmlmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3QpO3Q9KHQrXCJcIikudG9Mb3dlckNhc2UoKSxyPSEwfX1mdW5jdGlvbiBtKHQsZSxuKXtjb25zdCByPXRbZV07dFtlXT10W25dLHRbbl09cn1mdW5jdGlvbiB2KHQsZSxuLHIsbyl7aWYoMD09PXQubGVuZ3RoKXJldHVybi0xO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuPyhyPW4sbj0wKTpuPjIxNDc0ODM2NDc/bj0yMTQ3NDgzNjQ3Om48LTIxNDc0ODM2NDgmJihuPS0yMTQ3NDgzNjQ4KSxLKG49K24pJiYobj1vPzA6dC5sZW5ndGgtMSksbjwwJiYobj10Lmxlbmd0aCtuKSxuPj10Lmxlbmd0aCl7aWYobylyZXR1cm4tMTtuPXQubGVuZ3RoLTF9ZWxzZSBpZihuPDApe2lmKCFvKXJldHVybi0xO249MH1pZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dS5mcm9tKGUscikpLHUuaXNCdWZmZXIoZSkpcmV0dXJuIDA9PT1lLmxlbmd0aD8tMTpiKHQsZSxuLHIsbyk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGUmPTI1NSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP28/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQsZSxuKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKHQsZSxuKTpiKHQsW2VdLG4scixvKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIGIodCxlLG4scixvKXtsZXQgaSxhPTEscz10Lmxlbmd0aCx1PWUubGVuZ3RoO2lmKHZvaWQgMCE9PXImJihcInVjczJcIj09PShyPVN0cmluZyhyKS50b0xvd2VyQ2FzZSgpKXx8XCJ1Y3MtMlwiPT09cnx8XCJ1dGYxNmxlXCI9PT1yfHxcInV0Zi0xNmxlXCI9PT1yKSl7aWYodC5sZW5ndGg8Mnx8ZS5sZW5ndGg8MilyZXR1cm4tMTthPTIscy89Mix1Lz0yLG4vPTJ9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiAxPT09YT90W2VdOnQucmVhZFVJbnQxNkJFKGUqYSl9aWYobyl7bGV0IHI9LTE7Zm9yKGk9bjtpPHM7aSsrKWlmKGwodCxpKT09PWwoZSwtMT09PXI/MDppLXIpKXtpZigtMT09PXImJihyPWkpLGktcisxPT09dSlyZXR1cm4gciphfWVsc2UtMSE9PXImJihpLT1pLXIpLHI9LTF9ZWxzZSBmb3Iobit1PnMmJihuPXMtdSksaT1uO2k+PTA7aS0tKXtsZXQgbj0hMDtmb3IobGV0IHI9MDtyPHU7cisrKWlmKGwodCxpK3IpIT09bChlLHIpKXtuPSExO2JyZWFrfWlmKG4pcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gdyh0LGUsbixyKXtuPU51bWJlcihuKXx8MDtjb25zdCBvPXQubGVuZ3RoLW47cj8ocj1OdW1iZXIocikpPm8mJihyPW8pOnI9bztjb25zdCBpPWUubGVuZ3RoO2xldCBhO2ZvcihyPmkvMiYmKHI9aS8yKSxhPTA7YTxyOysrYSl7Y29uc3Qgcj1wYXJzZUludChlLnN1YnN0cigyKmEsMiksMTYpO2lmKEsocikpcmV0dXJuIGE7dFtuK2FdPXJ9cmV0dXJuIGF9ZnVuY3Rpb24gXyh0LGUsbixyKXtyZXR1cm4gSihWKGUsdC5sZW5ndGgtbiksdCxuLHIpfWZ1bmN0aW9uIEUodCxlLG4scil7cmV0dXJuIEooZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbillLnB1c2goMjU1JnQuY2hhckNvZGVBdChuKSk7cmV0dXJuIGV9KGUpLHQsbixyKX1mdW5jdGlvbiBTKHQsZSxuLHIpe3JldHVybiBKKEcoZSksdCxuLHIpfWZ1bmN0aW9uIEEodCxlLG4scil7cmV0dXJuIEooZnVuY3Rpb24odCxlKXtsZXQgbixyLG87Y29uc3QgaT1bXTtmb3IobGV0IGE9MDthPHQubGVuZ3RoJiYhKChlLT0yKTwwKTsrK2Epbj10LmNoYXJDb2RlQXQoYSkscj1uPj44LG89biUyNTYsaS5wdXNoKG8pLGkucHVzaChyKTtyZXR1cm4gaX0oZSx0Lmxlbmd0aC1uKSx0LG4scil9ZnVuY3Rpb24gSSh0LGUsbil7cmV0dXJuIDA9PT1lJiZuPT09dC5sZW5ndGg/ci5mcm9tQnl0ZUFycmF5KHQpOnIuZnJvbUJ5dGVBcnJheSh0LnNsaWNlKGUsbikpfWZ1bmN0aW9uIFQodCxlLG4pe249TWF0aC5taW4odC5sZW5ndGgsbik7Y29uc3Qgcj1bXTtsZXQgbz1lO2Zvcig7bzxuOyl7Y29uc3QgZT10W29dO2xldCBpPW51bGwsYT1lPjIzOT80OmU+MjIzPzM6ZT4xOTE/MjoxO2lmKG8rYTw9bil7bGV0IG4scixzLHU7c3dpdGNoKGEpe2Nhc2UgMTplPDEyOCYmKGk9ZSk7YnJlYWs7Y2FzZSAyOm49dFtvKzFdLDEyOD09KDE5MiZuKSYmKHU9KDMxJmUpPDw2fDYzJm4sdT4xMjcmJihpPXUpKTticmVhaztjYXNlIDM6bj10W28rMV0scj10W28rMl0sMTI4PT0oMTkyJm4pJiYxMjg9PSgxOTImcikmJih1PSgxNSZlKTw8MTJ8KDYzJm4pPDw2fDYzJnIsdT4yMDQ3JiYodTw1NTI5Nnx8dT41NzM0MykmJihpPXUpKTticmVhaztjYXNlIDQ6bj10W28rMV0scj10W28rMl0scz10W28rM10sMTI4PT0oMTkyJm4pJiYxMjg9PSgxOTImcikmJjEyOD09KDE5MiZzKSYmKHU9KDE1JmUpPDwxOHwoNjMmbik8PDEyfCg2MyZyKTw8Nnw2MyZzLHU+NjU1MzUmJnU8MTExNDExMiYmKGk9dSkpfX1udWxsPT09aT8oaT02NTUzMyxhPTEpOmk+NjU1MzUmJihpLT02NTUzNixyLnB1c2goaT4+PjEwJjEwMjN8NTUyOTYpLGk9NTYzMjB8MTAyMyZpKSxyLnB1c2goaSksbys9YX1yZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT10Lmxlbmd0aDtpZihlPD1SKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KTtsZXQgbj1cIlwiLHI9MDtmb3IoO3I8ZTspbis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdC5zbGljZShyLHIrPVIpKTtyZXR1cm4gbn0ocil9ZS5rTWF4TGVuZ3RoPWEsdS5UWVBFRF9BUlJBWV9TVVBQT1JUPWZ1bmN0aW9uKCl7dHJ5e2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoMSksZT17Zm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKSw0Mj09PXQuZm9vKCl9Y2F0Y2godCl7cmV0dXJuITF9fSgpLHUuVFlQRURfQVJSQVlfU1VQUE9SVHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNvbnNvbGUuZXJyb3J8fGNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLFwicGFyZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYodS5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLFwib2Zmc2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYodS5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pLHUucG9vbFNpemU9ODE5Mix1LmZyb209ZnVuY3Rpb24odCxlLG4pe3JldHVybiBsKHQsZSxuKX0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHUucHJvdG90eXBlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodSxVaW50OEFycmF5KSx1LmFsbG9jPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBjKHQpLHQ8PTA/cyh0KTp2b2lkIDAhPT1lP1wic3RyaW5nXCI9PXR5cGVvZiBuP3ModCkuZmlsbChlLG4pOnModCkuZmlsbChlKTpzKHQpfSh0LGUsbil9LHUuYWxsb2NVbnNhZmU9ZnVuY3Rpb24odCl7cmV0dXJuIGYodCl9LHUuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfSx1LmlzQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiYhMD09PXQuX2lzQnVmZmVyJiZ0IT09dS5wcm90b3R5cGV9LHUuY29tcGFyZT1mdW5jdGlvbih0LGUpe2lmKFkodCxVaW50OEFycmF5KSYmKHQ9dS5mcm9tKHQsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKSksWShlLFVpbnQ4QXJyYXkpJiYoZT11LmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpKSwhdS5pc0J1ZmZlcih0KXx8IXUuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKHQ9PT1lKXJldHVybiAwO2xldCBuPXQubGVuZ3RoLHI9ZS5sZW5ndGg7Zm9yKGxldCBvPTAsaT1NYXRoLm1pbihuLHIpO288aTsrK28paWYodFtvXSE9PWVbb10pe249dFtvXSxyPWVbb107YnJlYWt9cmV0dXJuIG48cj8tMTpyPG4/MTowfSx1LmlzRW5jb2Rpbmc9ZnVuY3Rpb24odCl7c3dpdGNoKFN0cmluZyh0KS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSx1LmNvbmNhdD1mdW5jdGlvbih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdS5hbGxvYygwKTtsZXQgbjtpZih2b2lkIDA9PT1lKWZvcihlPTAsbj0wO248dC5sZW5ndGg7KytuKWUrPXRbbl0ubGVuZ3RoO2NvbnN0IHI9dS5hbGxvY1Vuc2FmZShlKTtsZXQgbz0wO2ZvcihuPTA7bjx0Lmxlbmd0aDsrK24pe2xldCBlPXRbbl07aWYoWShlLFVpbnQ4QXJyYXkpKW8rZS5sZW5ndGg+ci5sZW5ndGg/KHUuaXNCdWZmZXIoZSl8fChlPXUuZnJvbShlKSksZS5jb3B5KHIsbykpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHIsZSxvKTtlbHNle2lmKCF1LmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2UuY29weShyLG8pfW8rPWUubGVuZ3RofXJldHVybiByfSx1LmJ5dGVMZW5ndGg9Zyx1LnByb3RvdHlwZS5faXNCdWZmZXI9ITAsdS5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmxlbmd0aDtpZih0JTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKTtmb3IobGV0IGU9MDtlPHQ7ZSs9MiltKHRoaXMsZSxlKzEpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMubGVuZ3RoO2lmKHQlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2ZvcihsZXQgZT0wO2U8dDtlKz00KW0odGhpcyxlLGUrMyksbSh0aGlzLGUrMSxlKzIpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMubGVuZ3RoO2lmKHQlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2ZvcihsZXQgZT0wO2U8dDtlKz04KW0odGhpcyxlLGUrNyksbSh0aGlzLGUrMSxlKzYpLG0odGhpcyxlKzIsZSs1KSxtKHRoaXMsZSszLGUrNCk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gMD09PXQ/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD9UKHRoaXMsMCx0KTp5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdS5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmc9dS5wcm90b3R5cGUudG9TdHJpbmcsdS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCF1LmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO3JldHVybiB0aGlzPT09dHx8MD09PXUuY29tcGFyZSh0aGlzLHQpfSx1LnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7bGV0IHQ9XCJcIjtjb25zdCBuPWUuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHQ9dGhpcy50b1N0cmluZyhcImhleFwiLDAsbikucmVwbGFjZSgvKC57Mn0pL2csXCIkMSBcIikudHJpbSgpLHRoaXMubGVuZ3RoPm4mJih0Kz1cIiAuLi4gXCIpLFwiPEJ1ZmZlciBcIit0K1wiPlwifSxpJiYodS5wcm90b3R5cGVbaV09dS5wcm90b3R5cGUuaW5zcGVjdCksdS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUsbixyLG8pe2lmKFkodCxVaW50OEFycmF5KSYmKHQ9dS5mcm9tKHQsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKSksIXUuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj10P3QubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSxlPDB8fG4+dC5sZW5ndGh8fHI8MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPj1vJiZlPj1uKXJldHVybiAwO2lmKHI+PW8pcmV0dXJuLTE7aWYoZT49bilyZXR1cm4gMTtpZih0aGlzPT09dClyZXR1cm4gMDtsZXQgaT0obz4+Pj0wKS0ocj4+Pj0wKSxhPShuPj4+PTApLShlPj4+PTApO2NvbnN0IHM9TWF0aC5taW4oaSxhKSxsPXRoaXMuc2xpY2UocixvKSxjPXQuc2xpY2UoZSxuKTtmb3IobGV0IHQ9MDt0PHM7Kyt0KWlmKGxbdF0hPT1jW3RdKXtpPWxbdF0sYT1jW3RdO2JyZWFrfXJldHVybiBpPGE/LTE6YTxpPzE6MH0sdS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlLG4pe3JldHVybi0xIT09dGhpcy5pbmRleE9mKHQsZSxuKX0sdS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHYodGhpcyx0LGUsbiwhMCl9LHUucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdih0aGlzLHQsZSxuLCExKX0sdS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLG4scil7aWYodm9pZCAwPT09ZSlyPVwidXRmOFwiLG49dGhpcy5sZW5ndGgsZT0wO2Vsc2UgaWYodm9pZCAwPT09biYmXCJzdHJpbmdcIj09dHlwZW9mIGUpcj1lLG49dGhpcy5sZW5ndGgsZT0wO2Vsc2V7aWYoIWlzRmluaXRlKGUpKXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkXCIpO2U+Pj49MCxpc0Zpbml0ZShuKT8obj4+Pj0wLHZvaWQgMD09PXImJihyPVwidXRmOFwiKSk6KHI9bixuPXZvaWQgMCl9Y29uc3Qgbz10aGlzLmxlbmd0aC1lO2lmKCh2b2lkIDA9PT1ufHxuPm8pJiYobj1vKSx0Lmxlbmd0aD4wJiYobjwwfHxlPDApfHxlPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7cnx8KHI9XCJ1dGY4XCIpO2xldCBpPSExO2Zvcig7Oylzd2l0Y2gocil7Y2FzZVwiaGV4XCI6cmV0dXJuIHcodGhpcyx0LGUsbik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIF8odGhpcyx0LGUsbik7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gRSh0aGlzLHQsZSxuKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gUyh0aGlzLHQsZSxuKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gQSh0aGlzLHQsZSxuKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3IpO3I9KFwiXCIrcikudG9Mb3dlckNhc2UoKSxpPSEwfX0sdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2NvbnN0IFI9NDA5NjtmdW5jdGlvbiB4KHQsZSxuKXtsZXQgcj1cIlwiO249TWF0aC5taW4odC5sZW5ndGgsbik7Zm9yKGxldCBvPWU7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZ0W29dKTtyZXR1cm4gcn1mdW5jdGlvbiBDKHQsZSxuKXtsZXQgcj1cIlwiO249TWF0aC5taW4odC5sZW5ndGgsbik7Zm9yKGxldCBvPWU7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbb10pO3JldHVybiByfWZ1bmN0aW9uIEIodCxlLG4pe2NvbnN0IHI9dC5sZW5ndGg7KCFlfHxlPDApJiYoZT0wKSwoIW58fG48MHx8bj5yKSYmKG49cik7bGV0IG89XCJcIjtmb3IobGV0IHI9ZTtyPG47KytyKW8rPVhbdFtyXV07cmV0dXJuIG99ZnVuY3Rpb24gayh0LGUsbil7Y29uc3Qgcj10LnNsaWNlKGUsbik7bGV0IG89XCJcIjtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoLTE7dCs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbdF0rMjU2KnJbdCsxXSk7cmV0dXJuIG99ZnVuY3Rpb24gTCh0LGUsbil7aWYodCUxIT0wfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYodCtlPm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIE8odCxlLG4scixvLGkpe2lmKCF1LmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKGU+b3x8ZTxpKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKG4rcj50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBVKHQsZSxuLHIsbyl7RihlLHIsbyx0LG4sNyk7bGV0IGk9TnVtYmVyKGUmQmlnSW50KDQyOTQ5NjcyOTUpKTt0W24rK109aSxpPj49OCx0W24rK109aSxpPj49OCx0W24rK109aSxpPj49OCx0W24rK109aTtsZXQgYT1OdW1iZXIoZT4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiB0W24rK109YSxhPj49OCx0W24rK109YSxhPj49OCx0W24rK109YSxhPj49OCx0W24rK109YSxufWZ1bmN0aW9uIGoodCxlLG4scixvKXtGKGUscixvLHQsbiw3KTtsZXQgaT1OdW1iZXIoZSZCaWdJbnQoNDI5NDk2NzI5NSkpO3Rbbis3XT1pLGk+Pj04LHRbbis2XT1pLGk+Pj04LHRbbis1XT1pLGk+Pj04LHRbbis0XT1pO2xldCBhPU51bWJlcihlPj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIHRbbiszXT1hLGE+Pj04LHRbbisyXT1hLGE+Pj04LHRbbisxXT1hLGE+Pj04LHRbbl09YSxuKzh9ZnVuY3Rpb24gTih0LGUsbixyLG8saSl7aWYobityPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBNKHQsZSxuLHIsaSl7cmV0dXJuIGU9K2Usbj4+Pj0wLGl8fE4odCwwLG4sNCksby53cml0ZSh0LGUsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBQKHQsZSxuLHIsaSl7cmV0dXJuIGU9K2Usbj4+Pj0wLGl8fE4odCwwLG4sOCksby53cml0ZSh0LGUsbixyLDUyLDgpLG4rOH11LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5sZW5ndGg7KHQ9fn50KTwwPyh0Kz1uKTwwJiYodD0wKTp0Pm4mJih0PW4pLChlPXZvaWQgMD09PWU/bjp+fmUpPDA/KGUrPW4pPDAmJihlPTApOmU+biYmKGU9biksZTx0JiYoZT10KTtjb25zdCByPXRoaXMuc3ViYXJyYXkodCxlKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHIsdS5wcm90b3R5cGUpLHJ9LHUucHJvdG90eXBlLnJlYWRVaW50TEU9dS5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbih0LGUsbil7dD4+Pj0wLGU+Pj49MCxufHxMKHQsZSx0aGlzLmxlbmd0aCk7bGV0IHI9dGhpc1t0XSxvPTEsaT0wO2Zvcig7KytpPGUmJihvKj0yNTYpOylyKz10aGlzW3QraV0qbztyZXR1cm4gcn0sdS5wcm90b3R5cGUucmVhZFVpbnRCRT11LnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHQsZSxuKXt0Pj4+PTAsZT4+Pj0wLG58fEwodCxlLHRoaXMubGVuZ3RoKTtsZXQgcj10aGlzW3QrLS1lXSxvPTE7Zm9yKDtlPjAmJihvKj0yNTYpOylyKz10aGlzW3QrLS1lXSpvO3JldHVybiByfSx1LnByb3RvdHlwZS5yZWFkVWludDg9dS5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsMSx0aGlzLmxlbmd0aCksdGhpc1t0XX0sdS5wcm90b3R5cGUucmVhZFVpbnQxNkxFPXUucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fSx1LnByb3RvdHlwZS5yZWFkVWludDE2QkU9dS5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XTw8OHx0aGlzW3QrMV19LHUucHJvdG90eXBlLnJlYWRVaW50MzJMRT11LnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw0LHRoaXMubGVuZ3RoKSwodGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNikrMTY3NzcyMTYqdGhpc1t0KzNdfSx1LnByb3RvdHlwZS5yZWFkVWludDMyQkU9dS5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1t0XSsodGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdKX0sdS5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFPVooKGZ1bmN0aW9uKHQpe3oodD4+Pj0wLFwib2Zmc2V0XCIpO2NvbnN0IGU9dGhpc1t0XSxuPXRoaXNbdCs3XTt2b2lkIDAhPT1lJiZ2b2lkIDAhPT1ufHxxKHQsdGhpcy5sZW5ndGgtOCk7Y29uc3Qgcj1lKzI1Nip0aGlzWysrdF0rNjU1MzYqdGhpc1srK3RdK3RoaXNbKyt0XSoyKioyNCxvPXRoaXNbKyt0XSsyNTYqdGhpc1srK3RdKzY1NTM2KnRoaXNbKyt0XStuKjIqKjI0O3JldHVybiBCaWdJbnQocikrKEJpZ0ludChvKTw8QmlnSW50KDMyKSl9KSksdS5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFPVooKGZ1bmN0aW9uKHQpe3oodD4+Pj0wLFwib2Zmc2V0XCIpO2NvbnN0IGU9dGhpc1t0XSxuPXRoaXNbdCs3XTt2b2lkIDAhPT1lJiZ2b2lkIDAhPT1ufHxxKHQsdGhpcy5sZW5ndGgtOCk7Y29uc3Qgcj1lKjIqKjI0KzY1NTM2KnRoaXNbKyt0XSsyNTYqdGhpc1srK3RdK3RoaXNbKyt0XSxvPXRoaXNbKyt0XSoyKioyNCs2NTUzNip0aGlzWysrdF0rMjU2KnRoaXNbKyt0XStuO3JldHVybihCaWdJbnQocik8PEJpZ0ludCgzMikpK0JpZ0ludChvKX0pKSx1LnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odCxlLG4pe3Q+Pj49MCxlPj4+PTAsbnx8TCh0LGUsdGhpcy5sZW5ndGgpO2xldCByPXRoaXNbdF0sbz0xLGk9MDtmb3IoOysraTxlJiYobyo9MjU2KTspcis9dGhpc1t0K2ldKm87cmV0dXJuIG8qPTEyOCxyPj1vJiYoci09TWF0aC5wb3coMiw4KmUpKSxyfSx1LnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24odCxlLG4pe3Q+Pj49MCxlPj4+PTAsbnx8TCh0LGUsdGhpcy5sZW5ndGgpO2xldCByPWUsbz0xLGk9dGhpc1t0Ky0tcl07Zm9yKDtyPjAmJihvKj0yNTYpOylpKz10aGlzW3QrLS1yXSpvO3JldHVybiBvKj0xMjgsaT49byYmKGktPU1hdGgucG93KDIsOCplKSksaX0sdS5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1t0XT8tMSooMjU1LXRoaXNbdF0rMSk6dGhpc1t0XX0sdS5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24odCxlKXt0Pj4+PTAsZXx8TCh0LDIsdGhpcy5sZW5ndGgpO2NvbnN0IG49dGhpc1t0XXx0aGlzW3QrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LHUucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKHQsZSl7dD4+Pj0wLGV8fEwodCwyLHRoaXMubGVuZ3RoKTtjb25zdCBuPXRoaXNbdCsxXXx0aGlzW3RdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSx1LnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTZ8dGhpc1t0KzNdPDwyNH0sdS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdPDwyNHx0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM119LHUucHJvdG90eXBlLnJlYWRCaWdJbnQ2NExFPVooKGZ1bmN0aW9uKHQpe3oodD4+Pj0wLFwib2Zmc2V0XCIpO2NvbnN0IGU9dGhpc1t0XSxuPXRoaXNbdCs3XTt2b2lkIDAhPT1lJiZ2b2lkIDAhPT1ufHxxKHQsdGhpcy5sZW5ndGgtOCk7Y29uc3Qgcj10aGlzW3QrNF0rMjU2KnRoaXNbdCs1XSs2NTUzNip0aGlzW3QrNl0rKG48PDI0KTtyZXR1cm4oQmlnSW50KHIpPDxCaWdJbnQoMzIpKStCaWdJbnQoZSsyNTYqdGhpc1srK3RdKzY1NTM2KnRoaXNbKyt0XSt0aGlzWysrdF0qMioqMjQpfSkpLHUucHJvdG90eXBlLnJlYWRCaWdJbnQ2NEJFPVooKGZ1bmN0aW9uKHQpe3oodD4+Pj0wLFwib2Zmc2V0XCIpO2NvbnN0IGU9dGhpc1t0XSxuPXRoaXNbdCs3XTt2b2lkIDAhPT1lJiZ2b2lkIDAhPT1ufHxxKHQsdGhpcy5sZW5ndGgtOCk7Y29uc3Qgcj0oZTw8MjQpKzY1NTM2KnRoaXNbKyt0XSsyNTYqdGhpc1srK3RdK3RoaXNbKyt0XTtyZXR1cm4oQmlnSW50KHIpPDxCaWdJbnQoMzIpKStCaWdJbnQodGhpc1srK3RdKjIqKjI0KzY1NTM2KnRoaXNbKyt0XSsyNTYqdGhpc1srK3RdK24pfSkpLHUucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsdCwhMCwyMyw0KX0sdS5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyx0LCExLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyx0LCEwLDUyLDgpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyx0LCExLDUyLDgpfSx1LnByb3RvdHlwZS53cml0ZVVpbnRMRT11LnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbih0LGUsbixyKXtpZih0PSt0LGU+Pj49MCxuPj4+PTAsIXIpe08odGhpcyx0LGUsbixNYXRoLnBvdygyLDgqbiktMSwwKX1sZXQgbz0xLGk9MDtmb3IodGhpc1tlXT0yNTUmdDsrK2k8biYmKG8qPTI1Nik7KXRoaXNbZStpXT10L28mMjU1O3JldHVybiBlK259LHUucHJvdG90eXBlLndyaXRlVWludEJFPXUucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZT4+Pj0wLG4+Pj49MCwhcil7Tyh0aGlzLHQsZSxuLE1hdGgucG93KDIsOCpuKS0xLDApfWxldCBvPW4tMSxpPTE7Zm9yKHRoaXNbZStvXT0yNTUmdDstLW8+PTAmJihpKj0yNTYpOyl0aGlzW2Urb109dC9pJjI1NTtyZXR1cm4gZStufSx1LnByb3RvdHlwZS53cml0ZVVpbnQ4PXUucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDEsMjU1LDApLHRoaXNbZV09MjU1JnQsZSsxfSx1LnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPXUucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSx1LnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPXUucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQsZSsyfSx1LnByb3RvdHlwZS53cml0ZVVpbnQzMkxFPXUucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2UrM109dD4+PjI0LHRoaXNbZSsyXT10Pj4+MTYsdGhpc1tlKzFdPXQ+Pj44LHRoaXNbZV09MjU1JnQsZSs0fSx1LnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPXUucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQsZSs0fSx1LnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NExFPVooKGZ1bmN0aW9uKHQsZT0wKXtyZXR1cm4gVSh0aGlzLHQsZSxCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0pKSx1LnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NEJFPVooKGZ1bmN0aW9uKHQsZT0wKXtyZXR1cm4gaih0aGlzLHQsZSxCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0pKSx1LnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZT4+Pj0wLCFyKXtjb25zdCByPU1hdGgucG93KDIsOCpuLTEpO08odGhpcyx0LGUsbixyLTEsLXIpfWxldCBvPTAsaT0xLGE9MDtmb3IodGhpc1tlXT0yNTUmdDsrK288biYmKGkqPTI1Nik7KXQ8MCYmMD09PWEmJjAhPT10aGlzW2Urby0xXSYmKGE9MSksdGhpc1tlK29dPSh0L2k+PjApLWEmMjU1O3JldHVybiBlK259LHUucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlPj4+PTAsIXIpe2NvbnN0IHI9TWF0aC5wb3coMiw4Km4tMSk7Tyh0aGlzLHQsZSxuLHItMSwtcil9bGV0IG89bi0xLGk9MSxhPTA7Zm9yKHRoaXNbZStvXT0yNTUmdDstLW8+PTAmJihpKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK28rMV0mJihhPTEpLHRoaXNbZStvXT0odC9pPj4wKS1hJjI1NTtyZXR1cm4gZStufSx1LnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDEsMTI3LC0xMjgpLHQ8MCYmKHQ9MjU1K3QrMSksdGhpc1tlXT0yNTUmdCxlKzF9LHUucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsMiwzMjc2NywtMzI3NjgpLHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44LGUrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSwyLDMyNzY3LC0zMjc2OCksdGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQsZSsyfSx1LnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrM109dD4+PjI0LGUrNH0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHQ8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpLHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCxlKzR9LHUucHJvdG90eXBlLndyaXRlQmlnSW50NjRMRT1aKChmdW5jdGlvbih0LGU9MCl7cmV0dXJuIFUodGhpcyx0LGUsLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSxCaWdJbnQoXCIweDdmZmZmZmZmZmZmZmZmZmZcIikpfSkpLHUucHJvdG90eXBlLndyaXRlQmlnSW50NjRCRT1aKChmdW5jdGlvbih0LGU9MCl7cmV0dXJuIGoodGhpcyx0LGUsLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSxCaWdJbnQoXCIweDdmZmZmZmZmZmZmZmZmZmZcIikpfSkpLHUucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE0odGhpcyx0LGUsITAsbil9LHUucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE0odGhpcyx0LGUsITEsbil9LHUucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBQKHRoaXMsdCxlLCEwLG4pfSx1LnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUCh0aGlzLHQsZSwhMSxuKX0sdS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUsbixyKXtpZighdS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKG58fChuPTApLHJ8fDA9PT1yfHwocj10aGlzLmxlbmd0aCksZT49dC5sZW5ndGgmJihlPXQubGVuZ3RoKSxlfHwoZT0wKSxyPjAmJnI8biYmKHI9bikscj09PW4pcmV0dXJuIDA7aWYoMD09PXQubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYoZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihuPDB8fG4+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO3I+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPHItbiYmKHI9dC5sZW5ndGgtZStuKTtjb25zdCBvPXItbjtyZXR1cm4gdGhpcz09PXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4/dGhpcy5jb3B5V2l0aGluKGUsbixyKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCh0LHRoaXMuc3ViYXJyYXkobixyKSxlKSxvfSx1LnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZT8ocj1lLGU9MCxuPXRoaXMubGVuZ3RoKTpcInN0cmluZ1wiPT10eXBlb2YgbiYmKHI9bixuPXRoaXMubGVuZ3RoKSx2b2lkIDAhPT1yJiZcInN0cmluZ1wiIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmIXUuaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcik7aWYoMT09PXQubGVuZ3RoKXtjb25zdCBlPXQuY2hhckNvZGVBdCgwKTsoXCJ1dGY4XCI9PT1yJiZlPDEyOHx8XCJsYXRpbjFcIj09PXIpJiYodD1lKX19ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiB0P3QmPTI1NTpcImJvb2xlYW5cIj09dHlwZW9mIHQmJih0PU51bWJlcih0KSk7aWYoZTwwfHx0aGlzLmxlbmd0aDxlfHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKG48PWUpcmV0dXJuIHRoaXM7bGV0IG87aWYoZT4+Pj0wLG49dm9pZCAwPT09bj90aGlzLmxlbmd0aDpuPj4+MCx0fHwodD0wKSxcIm51bWJlclwiPT10eXBlb2YgdClmb3Iobz1lO288bjsrK28pdGhpc1tvXT10O2Vsc2V7Y29uc3QgaT11LmlzQnVmZmVyKHQpP3Q6dS5mcm9tKHQsciksYT1pLmxlbmd0aDtpZigwPT09YSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpO2ZvcihvPTA7bzxuLWU7KytvKXRoaXNbbytlXT1pW28lYV19cmV0dXJuIHRoaXN9O2NvbnN0IFc9e307ZnVuY3Rpb24gJCh0LGUsbil7V1t0XT1jbGFzcyBOb2RlRXJyb3IgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm1lc3NhZ2VcIix7dmFsdWU6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdGhpcy5uYW1lPWAke3RoaXMubmFtZX0gWyR7dH1dYCx0aGlzLnN0YWNrLGRlbGV0ZSB0aGlzLm5hbWV9Z2V0IGNvZGUoKXtyZXR1cm4gdH1zZXQgY29kZSh0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvZGVcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6dCx3cml0YWJsZTohMH0pfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5uYW1lfSBbJHt0fV06ICR7dGhpcy5tZXNzYWdlfWB9fX1mdW5jdGlvbiBEKHQpe2xldCBlPVwiXCIsbj10Lmxlbmd0aDtjb25zdCByPVwiLVwiPT09dFswXT8xOjA7Zm9yKDtuPj1yKzQ7bi09MyllPWBfJHt0LnNsaWNlKG4tMyxuKX0ke2V9YDtyZXR1cm5gJHt0LnNsaWNlKDAsbil9JHtlfWB9ZnVuY3Rpb24gRih0LGUsbixyLG8saSl7aWYodD5ufHx0PGUpe2NvbnN0IHI9XCJiaWdpbnRcIj09dHlwZW9mIGU/XCJuXCI6XCJcIjtsZXQgbzt0aHJvdyBvPWk+Mz8wPT09ZXx8ZT09PUJpZ0ludCgwKT9gPj0gMCR7cn0gYW5kIDwgMiR7cn0gKiogJHs4KihpKzEpfSR7cn1gOmA+PSAtKDIke3J9ICoqICR7OCooaSsxKS0xfSR7cn0pIGFuZCA8IDIgKiogJHs4KihpKzEpLTF9JHtyfWA6YD49ICR7ZX0ke3J9IGFuZCA8PSAke259JHtyfWAsbmV3IFcuRVJSX09VVF9PRl9SQU5HRShcInZhbHVlXCIsbyx0KX0hZnVuY3Rpb24odCxlLG4pe3ooZSxcIm9mZnNldFwiKSx2b2lkIDAhPT10W2VdJiZ2b2lkIDAhPT10W2Urbl18fHEoZSx0Lmxlbmd0aC0obisxKSl9KHIsbyxpKX1mdW5jdGlvbiB6KHQsZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFcuRVJSX0lOVkFMSURfQVJHX1RZUEUoZSxcIm51bWJlclwiLHQpfWZ1bmN0aW9uIHEodCxlLG4pe2lmKE1hdGguZmxvb3IodCkhPT10KXRocm93IHoodCxuKSxuZXcgVy5FUlJfT1VUX09GX1JBTkdFKG58fFwib2Zmc2V0XCIsXCJhbiBpbnRlZ2VyXCIsdCk7aWYoZTwwKXRocm93IG5ldyBXLkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUzt0aHJvdyBuZXcgVy5FUlJfT1VUX09GX1JBTkdFKG58fFwib2Zmc2V0XCIsYD49ICR7bj8xOjB9IGFuZCA8PSAke2V9YCx0KX0kKFwiRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTXCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0P2Ake3R9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2A6XCJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzXCJ9KSxSYW5nZUVycm9yKSwkKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm5gVGhlIFwiJHt0fVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgZX1gfSksVHlwZUVycm9yKSwkKFwiRVJSX09VVF9PRl9SQU5HRVwiLChmdW5jdGlvbih0LGUsbil7bGV0IHI9YFRoZSB2YWx1ZSBvZiBcIiR7dH1cIiBpcyBvdXQgb2YgcmFuZ2UuYCxvPW47cmV0dXJuIE51bWJlci5pc0ludGVnZXIobikmJk1hdGguYWJzKG4pPjIqKjMyP289RChTdHJpbmcobikpOlwiYmlnaW50XCI9PXR5cGVvZiBuJiYobz1TdHJpbmcobiksKG4+QmlnSW50KDIpKipCaWdJbnQoMzIpfHxuPC0oQmlnSW50KDIpKipCaWdJbnQoMzIpKSkmJihvPUQobykpLG8rPVwiblwiKSxyKz1gIEl0IG11c3QgYmUgJHtlfS4gUmVjZWl2ZWQgJHtvfWAscn0pLFJhbmdlRXJyb3IpO2NvbnN0IEg9L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiBWKHQsZSl7bGV0IG47ZT1lfHwxLzA7Y29uc3Qgcj10Lmxlbmd0aDtsZXQgbz1udWxsO2NvbnN0IGk9W107Zm9yKGxldCBhPTA7YTxyOysrYSl7aWYobj10LmNoYXJDb2RlQXQoYSksbj41NTI5NSYmbjw1NzM0NCl7aWYoIW8pe2lmKG4+NTYzMTkpeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihhKzE9PT1yKXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bz1uO2NvbnRpbnVlfWlmKG48NTYzMjApeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxvPW47Y29udGludWV9bj02NTUzNisoby01NTI5Njw8MTB8bi01NjMyMCl9ZWxzZSBvJiYoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYobz1udWxsLG48MTI4KXtpZigoZS09MSk8MClicmVhaztpLnB1c2gobil9ZWxzZSBpZihuPDIwNDgpe2lmKChlLT0yKTwwKWJyZWFrO2kucHVzaChuPj42fDE5Miw2MyZufDEyOCl9ZWxzZSBpZihuPDY1NTM2KXtpZigoZS09Myk8MClicmVhaztpLnB1c2gobj4+MTJ8MjI0LG4+PjYmNjN8MTI4LDYzJm58MTI4KX1lbHNle2lmKCEobjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKGUtPTQpPDApYnJlYWs7aS5wdXNoKG4+PjE4fDI0MCxuPj4xMiY2M3wxMjgsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfX1yZXR1cm4gaX1mdW5jdGlvbiBHKHQpe3JldHVybiByLnRvQnl0ZUFycmF5KGZ1bmN0aW9uKHQpe2lmKCh0PSh0PXQuc3BsaXQoXCI9XCIpWzBdKS50cmltKCkucmVwbGFjZShILFwiXCIpKS5sZW5ndGg8MilyZXR1cm5cIlwiO2Zvcig7dC5sZW5ndGglNCE9MDspdCs9XCI9XCI7cmV0dXJuIHR9KHQpKX1mdW5jdGlvbiBKKHQsZSxuLHIpe2xldCBvO2ZvcihvPTA7bzxyJiYhKG8rbj49ZS5sZW5ndGh8fG8+PXQubGVuZ3RoKTsrK28pZVtvK25dPXRbb107cmV0dXJuIG99ZnVuY3Rpb24gWSh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgZXx8bnVsbCE9dCYmbnVsbCE9dC5jb25zdHJ1Y3RvciYmbnVsbCE9dC5jb25zdHJ1Y3Rvci5uYW1lJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1lLm5hbWV9ZnVuY3Rpb24gSyh0KXtyZXR1cm4gdCE9dH1jb25zdCBYPWZ1bmN0aW9uKCl7Y29uc3QgdD1cIjAxMjM0NTY3ODlhYmNkZWZcIixlPW5ldyBBcnJheSgyNTYpO2ZvcihsZXQgbj0wO248MTY7KytuKXtjb25zdCByPTE2Km47Zm9yKGxldCBvPTA7bzwxNjsrK28pZVtyK29dPXRbbl0rdFtvXX1yZXR1cm4gZX0oKTtmdW5jdGlvbiBaKHQpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBCaWdJbnQ/UTp0fWZ1bmN0aW9uIFEoKXt0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgbm90IHN1cHBvcnRlZFwiKX19LDQ2NTp0PT57dmFyIGUsbj1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdD9SZWZsZWN0Om51bGwscj1uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmFwcGx5P24uYXBwbHk6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0LGUsbil9O2U9biYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vd25LZXlzP24ub3duS2V5czpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSl9OmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KX07dmFyIG89TnVtYmVyLmlzTmFOfHxmdW5jdGlvbih0KXtyZXR1cm4gdCE9dH07ZnVuY3Rpb24gaSgpe2kuaW5pdC5jYWxsKHRoaXMpfXQuZXhwb3J0cz1pLHQuZXhwb3J0cy5vbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIG8obil7dC5yZW1vdmVMaXN0ZW5lcihlLGkpLHIobil9ZnVuY3Rpb24gaSgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVtb3ZlTGlzdGVuZXImJnQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG8pLG4oW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX1nKHQsZSxpLHtvbmNlOiEwfSksXCJlcnJvclwiIT09ZSYmZnVuY3Rpb24odCxlLG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQub24mJmcodCxcImVycm9yXCIsZSxuKX0odCxvLHtvbmNlOiEwfSl9KSl9LGkuRXZlbnRFbWl0dGVyPWksaS5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsaS5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsaS5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7dmFyIGE9MTA7ZnVuY3Rpb24gcyh0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHZvaWQgMD09PXQuX21heExpc3RlbmVycz9pLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dC5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIG8saSxhLGw7aWYocyhuKSx2b2lkIDA9PT0oaT10Ll9ldmVudHMpPyhpPXQuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHQuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1pLm5ld0xpc3RlbmVyJiYodC5lbWl0KFwibmV3TGlzdGVuZXJcIixlLG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxpPXQuX2V2ZW50cyksYT1pW2VdKSx2b2lkIDA9PT1hKWE9aVtlXT1uLCsrdC5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E9aVtlXT1yP1tuLGFdOlthLG5dOnI/YS51bnNoaWZ0KG4pOmEucHVzaChuKSwobz11KHQpKT4wJiZhLmxlbmd0aD5vJiYhYS53YXJuZWQpe2Eud2FybmVkPSEwO3ZhciBjPW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrYS5sZW5ndGgrXCIgXCIrU3RyaW5nKGUpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7Yy5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsYy5lbWl0dGVyPXQsYy50eXBlPWUsYy5jb3VudD1hLmxlbmd0aCxsPWMsY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4obCl9cmV0dXJuIHR9ZnVuY3Rpb24gYygpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gZih0LGUsbil7dmFyIHI9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OnQsdHlwZTplLGxpc3RlbmVyOm59LG89Yy5iaW5kKHIpO3JldHVybiBvLmxpc3RlbmVyPW4sci53cmFwRm49byxvfWZ1bmN0aW9uIGQodCxlLG4pe3ZhciByPXQuX2V2ZW50cztpZih2b2lkIDA9PT1yKXJldHVybltdO3ZhciBvPXJbZV07cmV0dXJuIHZvaWQgMD09PW8/W106XCJmdW5jdGlvblwiPT10eXBlb2Ygbz9uP1tvLmxpc3RlbmVyfHxvXTpbb106bj9mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQubGVuZ3RoKSxuPTA7bjxlLmxlbmd0aDsrK24pZVtuXT10W25dLmxpc3RlbmVyfHx0W25dO3JldHVybiBlfShvKTpwKG8sby5sZW5ndGgpfWZ1bmN0aW9uIGgodCl7dmFyIGU9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PWUpe3ZhciBuPWVbdF07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gMTtpZih2b2lkIDAhPT1uKXJldHVybiBuLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiBwKHQsZSl7Zm9yKHZhciBuPW5ldyBBcnJheShlKSxyPTA7cjxlOysrciluW3JdPXRbcl07cmV0dXJuIG59ZnVuY3Rpb24gZyh0LGUsbixyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9uKXIub25jZT90Lm9uY2UoZSxuKTp0Lm9uKGUsbik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCk7dC5hZGRFdmVudExpc3RlbmVyKGUsKGZ1bmN0aW9uIG8oaSl7ci5vbmNlJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxvKSxuKGkpfSkpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sc2V0OmZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fG8odCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK3QrXCIuXCIpO2E9dH19KSxpLmluaXQ9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50cyE9PU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfSxpLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQ8MHx8byh0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrdCtcIi5cIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz10LHRoaXN9LGkucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiB1KHRoaXMpfSxpLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllLnB1c2goYXJndW1lbnRzW25dKTt2YXIgbz1cImVycm9yXCI9PT10LGk9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PWkpbz1vJiZ2b2lkIDA9PT1pLmVycm9yO2Vsc2UgaWYoIW8pcmV0dXJuITE7aWYobyl7dmFyIGE7aWYoZS5sZW5ndGg+MCYmKGE9ZVswXSksYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dmFyIHM9bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhhP1wiIChcIithLm1lc3NhZ2UrXCIpXCI6XCJcIikpO3Rocm93IHMuY29udGV4dD1hLHN9dmFyIHU9aVt0XTtpZih2b2lkIDA9PT11KXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHUpcih1LHRoaXMsZSk7ZWxzZXt2YXIgbD11Lmxlbmd0aCxjPXAodSxsKTtmb3Iobj0wO248bDsrK24pcihjW25dLHRoaXMsZSl9cmV0dXJuITB9LGkucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGwodGhpcyx0LGUsITEpfSxpLnByb3RvdHlwZS5vbj1pLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixpLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbCh0aGlzLHQsZSwhMCl9LGkucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcyhlKSx0aGlzLm9uKHQsZih0aGlzLHQsZSkpLHRoaXN9LGkucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcyhlKSx0aGlzLnByZXBlbmRMaXN0ZW5lcih0LGYodGhpcyx0LGUpKSx0aGlzfSxpLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLGE7aWYocyhlKSx2b2lkIDA9PT0ocj10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PShuPXJbdF0pKXJldHVybiB0aGlzO2lmKG49PT1lfHxuLmxpc3RlbmVyPT09ZSkwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOihkZWxldGUgclt0XSxyLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsbi5saXN0ZW5lcnx8ZSkpO2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil7Zm9yKG89LTEsaT1uLmxlbmd0aC0xO2k+PTA7aS0tKWlmKG5baV09PT1lfHxuW2ldLmxpc3RlbmVyPT09ZSl7YT1uW2ldLmxpc3RlbmVyLG89aTticmVha31pZihvPDApcmV0dXJuIHRoaXM7MD09PW8/bi5zaGlmdCgpOmZ1bmN0aW9uKHQsZSl7Zm9yKDtlKzE8dC5sZW5ndGg7ZSsrKXRbZV09dFtlKzFdO3QucG9wKCl9KG4sbyksMT09PW4ubGVuZ3RoJiYoclt0XT1uWzBdKSx2b2lkIDAhPT1yLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsYXx8ZSl9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLm9mZj1pLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixpLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUsbixyO2lmKHZvaWQgMD09PShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09bi5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOnZvaWQgMCE9PW5bdF0mJigwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBuW3RdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbyxpPU9iamVjdC5rZXlzKG4pO2ZvcihyPTA7cjxpLmxlbmd0aDsrK3IpXCJyZW1vdmVMaXN0ZW5lclwiIT09KG89aVtyXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKG8pO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZihlPW5bdF0pKXRoaXMucmVtb3ZlTGlzdGVuZXIodCxlKTtlbHNlIGlmKHZvaWQgMCE9PWUpZm9yKHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsZVtyXSk7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gZCh0aGlzLHQsITApfSxpLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIGQodGhpcyx0LCExKX0saS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdC5saXN0ZW5lckNvdW50P3QubGlzdGVuZXJDb3VudChlKTpoLmNhbGwodCxlKX0saS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1oLGkucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9lKHRoaXMuX2V2ZW50cyk6W119fSwyMTU6KHQsZSk9PntlLnJlYWQ9ZnVuY3Rpb24odCxlLG4scixvKXt2YXIgaSxhLHM9OCpvLXItMSx1PSgxPDxzKS0xLGw9dT4+MSxjPS03LGY9bj9vLTE6MCxkPW4/LTE6MSxoPXRbZStmXTtmb3IoZis9ZCxpPWgmKDE8PC1jKS0xLGg+Pj0tYyxjKz1zO2M+MDtpPTI1NippK3RbZStmXSxmKz1kLGMtPTgpO2ZvcihhPWkmKDE8PC1jKS0xLGk+Pj0tYyxjKz1yO2M+MDthPTI1NiphK3RbZStmXSxmKz1kLGMtPTgpO2lmKDA9PT1pKWk9MS1sO2Vsc2V7aWYoaT09PXUpcmV0dXJuIGE/TmFOOjEvMCooaD8tMToxKTthKz1NYXRoLnBvdygyLHIpLGktPWx9cmV0dXJuKGg/LTE6MSkqYSpNYXRoLnBvdygyLGktcil9LGUud3JpdGU9ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBhLHMsdSxsPTgqaS1vLTEsYz0oMTw8bCktMSxmPWM+PjEsZD0yMz09PW8/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGg9cj8wOmktMSxwPXI/MTotMSxnPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8ocz1pc05hTihlKT8xOjAsYT1jKTooYT1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKih1PU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLHUqPTIpLChlKz1hK2Y+PTE/ZC91OmQqTWF0aC5wb3coMiwxLWYpKSp1Pj0yJiYoYSsrLHUvPTIpLGErZj49Yz8ocz0wLGE9Yyk6YStmPj0xPyhzPShlKnUtMSkqTWF0aC5wb3coMixvKSxhKz1mKToocz1lKk1hdGgucG93KDIsZi0xKSpNYXRoLnBvdygyLG8pLGE9MCkpO28+PTg7dFtuK2hdPTI1NSZzLGgrPXAscy89MjU2LG8tPTgpO2ZvcihhPWE8PG98cyxsKz1vO2w+MDt0W24raF09MjU1JmEsaCs9cCxhLz0yNTYsbC09OCk7dFtuK2gtcF18PTEyOCpnfX0sOTUxOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcjt0PW4ubm1kKHQpLGZ1bmN0aW9uKCl7dmFyIG8saT1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixhPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLHM9XCJfX2xvZGFzaF9wbGFjZWhvbGRlcl9fXCIsdT0xNixsPTMyLGM9NjQsZj0xMjgsZD0yNTYsaD0xLzAscD05MDA3MTk5MjU0NzQwOTkxLGc9TmFOLHk9NDI5NDk2NzI5NSxtPVtbXCJhcnlcIixmXSxbXCJiaW5kXCIsMV0sW1wiYmluZEtleVwiLDJdLFtcImN1cnJ5XCIsOF0sW1wiY3VycnlSaWdodFwiLHVdLFtcImZsaXBcIiw1MTJdLFtcInBhcnRpYWxcIixsXSxbXCJwYXJ0aWFsUmlnaHRcIixjXSxbXCJyZWFyZ1wiLGRdXSx2PVwiW29iamVjdCBBcmd1bWVudHNdXCIsYj1cIltvYmplY3QgQXJyYXldXCIsdz1cIltvYmplY3QgQm9vbGVhbl1cIixfPVwiW29iamVjdCBEYXRlXVwiLEU9XCJbb2JqZWN0IEVycm9yXVwiLFM9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLEE9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLEk9XCJbb2JqZWN0IE1hcF1cIixUPVwiW29iamVjdCBOdW1iZXJdXCIsUj1cIltvYmplY3QgT2JqZWN0XVwiLHg9XCJbb2JqZWN0IFByb21pc2VdXCIsQz1cIltvYmplY3QgUmVnRXhwXVwiLEI9XCJbb2JqZWN0IFNldF1cIixrPVwiW29iamVjdCBTdHJpbmddXCIsTD1cIltvYmplY3QgU3ltYm9sXVwiLE89XCJbb2JqZWN0IFdlYWtNYXBdXCIsVT1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsaj1cIltvYmplY3QgRGF0YVZpZXddXCIsTj1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLE09XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIixQPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsVz1cIltvYmplY3QgSW50MTZBcnJheV1cIiwkPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLEQ9XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsRj1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsej1cIltvYmplY3QgVWludDE2QXJyYXldXCIscT1cIltvYmplY3QgVWludDMyQXJyYXldXCIsSD0vXFxiX19wIFxcKz0gJyc7L2csVj0vXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxHPS8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2csSj0vJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csWT0vWyY8PlwiJ10vZyxLPVJlZ0V4cChKLnNvdXJjZSksWD1SZWdFeHAoWS5zb3VyY2UpLFo9LzwlLShbXFxzXFxTXSs/KSU+L2csUT0vPCUoW1xcc1xcU10rPyklPi9nLHR0PS88JT0oW1xcc1xcU10rPyklPi9nLGV0PS9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sbnQ9L15cXHcqJC8scnQ9L1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nLG90PS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxpdD1SZWdFeHAob3Quc291cmNlKSxhdD0vXlxccysvLHN0PS9cXHMvLHV0PS9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sbHQ9L1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLGN0PS8sPyAmIC8sZnQ9L1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nLGR0PS9bKCk9LHt9XFxbXFxdXFwvXFxzXS8saHQ9L1xcXFwoXFxcXCk/L2cscHQ9L1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nLGd0PS9cXHcqJC8seXQ9L15bLStdMHhbMC05YS1mXSskL2ksbXQ9L14wYlswMV0rJC9pLHZ0PS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sYnQ9L14wb1swLTddKyQvaSx3dD0vXig/OjB8WzEtOV1cXGQqKSQvLF90PS9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nLEV0PS8oJF4pLyxTdD0vWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2csQXQ9XCJcXFxcdWQ4MDAtXFxcXHVkZmZmXCIsSXQ9XCJcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyZlxcXFx1MjBkMC1cXFxcdTIwZmZcIixUdD1cIlxcXFx1MjcwMC1cXFxcdTI3YmZcIixSdD1cImEtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZlwiLHh0PVwiQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXCIsQ3Q9XCJcXFxcdWZlMGVcXFxcdWZlMGZcIixCdD1cIlxcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmZcXFxcdTIwMDAtXFxcXHUyMDZmIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDBcIixrdD1cIlsn4oCZXVwiLEx0PVwiW1wiK0F0K1wiXVwiLE90PVwiW1wiK0J0K1wiXVwiLFV0PVwiW1wiK0l0K1wiXVwiLGp0PVwiXFxcXGQrXCIsTnQ9XCJbXCIrVHQrXCJdXCIsTXQ9XCJbXCIrUnQrXCJdXCIsUHQ9XCJbXlwiK0F0K0J0K2p0K1R0K1J0K3h0K1wiXVwiLFd0PVwiXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdXCIsJHQ9XCJbXlwiK0F0K1wiXVwiLER0PVwiKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfVwiLEZ0PVwiW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdXCIsenQ9XCJbXCIreHQrXCJdXCIscXQ9XCJcXFxcdTIwMGRcIixIdD1cIig/OlwiK010K1wifFwiK1B0K1wiKVwiLFZ0PVwiKD86XCIrenQrXCJ8XCIrUHQrXCIpXCIsR3Q9XCIoPzpbJ+KAmV0oPzpkfGxsfG18cmV8c3x0fHZlKSk/XCIsSnQ9XCIoPzpbJ+KAmV0oPzpEfExMfE18UkV8U3xUfFZFKSk/XCIsWXQ9XCIoPzpcIitVdCtcInxcIitXdCtcIilcIitcIj9cIixLdD1cIltcIitDdCtcIl0/XCIsWHQ9S3QrWXQrKFwiKD86XCIrcXQrXCIoPzpcIitbJHQsRHQsRnRdLmpvaW4oXCJ8XCIpK1wiKVwiK0t0K1l0K1wiKSpcIiksWnQ9XCIoPzpcIitbTnQsRHQsRnRdLmpvaW4oXCJ8XCIpK1wiKVwiK1h0LFF0PVwiKD86XCIrWyR0K1V0K1wiP1wiLFV0LER0LEZ0LEx0XS5qb2luKFwifFwiKStcIilcIix0ZT1SZWdFeHAoa3QsXCJnXCIpLGVlPVJlZ0V4cChVdCxcImdcIiksbmU9UmVnRXhwKFd0K1wiKD89XCIrV3QrXCIpfFwiK1F0K1h0LFwiZ1wiKSxyZT1SZWdFeHAoW3p0K1wiP1wiK010K1wiK1wiK0d0K1wiKD89XCIrW090LHp0LFwiJFwiXS5qb2luKFwifFwiKStcIilcIixWdCtcIitcIitKdCtcIig/PVwiK1tPdCx6dCtIdCxcIiRcIl0uam9pbihcInxcIikrXCIpXCIsenQrXCI/XCIrSHQrXCIrXCIrR3QsenQrXCIrXCIrSnQsXCJcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSlcIixcIlxcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKVwiLGp0LFp0XS5qb2luKFwifFwiKSxcImdcIiksb2U9UmVnRXhwKFwiW1wiK3F0K0F0K0l0K0N0K1wiXVwiKSxpZT0vW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLyxhZT1bXCJBcnJheVwiLFwiQnVmZmVyXCIsXCJEYXRhVmlld1wiLFwiRGF0ZVwiLFwiRXJyb3JcIixcIkZsb2F0MzJBcnJheVwiLFwiRmxvYXQ2NEFycmF5XCIsXCJGdW5jdGlvblwiLFwiSW50OEFycmF5XCIsXCJJbnQxNkFycmF5XCIsXCJJbnQzMkFycmF5XCIsXCJNYXBcIixcIk1hdGhcIixcIk9iamVjdFwiLFwiUHJvbWlzZVwiLFwiUmVnRXhwXCIsXCJTZXRcIixcIlN0cmluZ1wiLFwiU3ltYm9sXCIsXCJUeXBlRXJyb3JcIixcIlVpbnQ4QXJyYXlcIixcIlVpbnQ4Q2xhbXBlZEFycmF5XCIsXCJVaW50MTZBcnJheVwiLFwiVWludDMyQXJyYXlcIixcIldlYWtNYXBcIixcIl9cIixcImNsZWFyVGltZW91dFwiLFwiaXNGaW5pdGVcIixcInBhcnNlSW50XCIsXCJzZXRUaW1lb3V0XCJdLHNlPS0xLHVlPXt9O3VlW05dPXVlW01dPXVlW1BdPXVlW1ddPXVlWyRdPXVlW0RdPXVlW0ZdPXVlW3pdPXVlW3FdPSEwLHVlW3ZdPXVlW2JdPXVlW1VdPXVlW3ddPXVlW2pdPXVlW19dPXVlW0VdPXVlW1NdPXVlW0ldPXVlW1RdPXVlW1JdPXVlW0NdPXVlW0JdPXVlW2tdPXVlW09dPSExO3ZhciBsZT17fTtsZVt2XT1sZVtiXT1sZVtVXT1sZVtqXT1sZVt3XT1sZVtfXT1sZVtOXT1sZVtNXT1sZVtQXT1sZVtXXT1sZVskXT1sZVtJXT1sZVtUXT1sZVtSXT1sZVtDXT1sZVtCXT1sZVtrXT1sZVtMXT1sZVtEXT1sZVtGXT1sZVt6XT1sZVtxXT0hMCxsZVtFXT1sZVtTXT1sZVtPXT0hMTt2YXIgY2U9e1wiXFxcXFwiOlwiXFxcXFwiLFwiJ1wiOlwiJ1wiLFwiXFxuXCI6XCJuXCIsXCJcXHJcIjpcInJcIixcIlxcdTIwMjhcIjpcInUyMDI4XCIsXCJcXHUyMDI5XCI6XCJ1MjAyOVwifSxmZT1wYXJzZUZsb2F0LGRlPXBhcnNlSW50LGhlPVwib2JqZWN0XCI9PXR5cGVvZiBuLmcmJm4uZyYmbi5nLk9iamVjdD09PU9iamVjdCYmbi5nLHBlPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixnZT1oZXx8cGV8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSx5ZT1lJiYhZS5ub2RlVHlwZSYmZSxtZT15ZSYmdCYmIXQubm9kZVR5cGUmJnQsdmU9bWUmJm1lLmV4cG9ydHM9PT15ZSxiZT12ZSYmaGUucHJvY2Vzcyx3ZT1mdW5jdGlvbigpe3RyeXt2YXIgdD1tZSYmbWUucmVxdWlyZSYmbWUucmVxdWlyZShcInV0aWxcIikudHlwZXM7cmV0dXJuIHR8fGJlJiZiZS5iaW5kaW5nJiZiZS5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaCh0KXt9fSgpLF9lPXdlJiZ3ZS5pc0FycmF5QnVmZmVyLEVlPXdlJiZ3ZS5pc0RhdGUsU2U9d2UmJndlLmlzTWFwLEFlPXdlJiZ3ZS5pc1JlZ0V4cCxJZT13ZSYmd2UuaXNTZXQsVGU9d2UmJndlLmlzVHlwZWRBcnJheTtmdW5jdGlvbiBSZSh0LGUsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQuY2FsbChlKTtjYXNlIDE6cmV0dXJuIHQuY2FsbChlLG5bMF0pO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKGUsblswXSxuWzFdKTtjYXNlIDM6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSxuWzJdKX1yZXR1cm4gdC5hcHBseShlLG4pfWZ1bmN0aW9uIHhlKHQsZSxuLHIpe2Zvcih2YXIgbz0tMSxpPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK288aTspe3ZhciBhPXRbb107ZShyLGEsbihhKSx0KX1yZXR1cm4gcn1mdW5jdGlvbiBDZSh0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248ciYmITEhPT1lKHRbbl0sbix0KTspO3JldHVybiB0fWZ1bmN0aW9uIEJlKHQsZSl7Zm9yKHZhciBuPW51bGw9PXQ/MDp0Lmxlbmd0aDtuLS0mJiExIT09ZSh0W25dLG4sdCk7KTtyZXR1cm4gdH1mdW5jdGlvbiBrZSh0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248cjspaWYoIWUodFtuXSxuLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIExlKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoLG89MCxpPVtdOysrbjxyOyl7dmFyIGE9dFtuXTtlKGEsbix0KSYmKGlbbysrXT1hKX1yZXR1cm4gaX1mdW5jdGlvbiBPZSh0LGUpe3JldHVybiEhKG51bGw9PXQ/MDp0Lmxlbmd0aCkmJnplKHQsZSwwKT4tMX1mdW5jdGlvbiBVZSh0LGUsbil7Zm9yKHZhciByPS0xLG89bnVsbD09dD8wOnQubGVuZ3RoOysrcjxvOylpZihuKGUsdFtyXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gamUodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGgsbz1BcnJheShyKTsrK248cjspb1tuXT1lKHRbbl0sbix0KTtyZXR1cm4gb31mdW5jdGlvbiBOZSh0LGUpe2Zvcih2YXIgbj0tMSxyPWUubGVuZ3RoLG89dC5sZW5ndGg7KytuPHI7KXRbbytuXT1lW25dO3JldHVybiB0fWZ1bmN0aW9uIE1lKHQsZSxuLHIpe3ZhciBvPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoO2ZvcihyJiZpJiYobj10Wysrb10pOysrbzxpOyluPWUobix0W29dLG8sdCk7cmV0dXJuIG59ZnVuY3Rpb24gUGUodCxlLG4scil7dmFyIG89bnVsbD09dD8wOnQubGVuZ3RoO2ZvcihyJiZvJiYobj10Wy0tb10pO28tLTspbj1lKG4sdFtvXSxvLHQpO3JldHVybiBufWZ1bmN0aW9uIFdlKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoOysrbjxyOylpZihlKHRbbl0sbix0KSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgJGU9R2UoXCJsZW5ndGhcIik7ZnVuY3Rpb24gRGUodCxlLG4pe3ZhciByO3JldHVybiBuKHQsKGZ1bmN0aW9uKHQsbixvKXtpZihlKHQsbixvKSlyZXR1cm4gcj1uLCExfSkpLHJ9ZnVuY3Rpb24gRmUodCxlLG4scil7Zm9yKHZhciBvPXQubGVuZ3RoLGk9bisocj8xOi0xKTtyP2ktLTorK2k8bzspaWYoZSh0W2ldLGksdCkpcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gemUodCxlLG4pe3JldHVybiBlPT1lP2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1uLTEsbz10Lmxlbmd0aDtmb3IoOysrcjxvOylpZih0W3JdPT09ZSlyZXR1cm4gcjtyZXR1cm4tMX0odCxlLG4pOkZlKHQsSGUsbil9ZnVuY3Rpb24gcWUodCxlLG4scil7Zm9yKHZhciBvPW4tMSxpPXQubGVuZ3RoOysrbzxpOylpZihyKHRbb10sZSkpcmV0dXJuIG87cmV0dXJuLTF9ZnVuY3Rpb24gSGUodCl7cmV0dXJuIHQhPXR9ZnVuY3Rpb24gVmUodCxlKXt2YXIgbj1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIG4/S2UodCxlKS9uOmd9ZnVuY3Rpb24gR2UodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP286ZVt0XX19ZnVuY3Rpb24gSmUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10P286dFtlXX19ZnVuY3Rpb24gWWUodCxlLG4scixvKXtyZXR1cm4gbyh0LChmdW5jdGlvbih0LG8saSl7bj1yPyhyPSExLHQpOmUobix0LG8saSl9KSksbn1mdW5jdGlvbiBLZSh0LGUpe2Zvcih2YXIgbixyPS0xLGk9dC5sZW5ndGg7KytyPGk7KXt2YXIgYT1lKHRbcl0pO2EhPT1vJiYobj1uPT09bz9hOm4rYSl9cmV0dXJuIG59ZnVuY3Rpb24gWGUodCxlKXtmb3IodmFyIG49LTEscj1BcnJheSh0KTsrK248dDspcltuXT1lKG4pO3JldHVybiByfWZ1bmN0aW9uIFplKHQpe3JldHVybiB0P3Quc2xpY2UoMCx5bih0KSsxKS5yZXBsYWNlKGF0LFwiXCIpOnR9ZnVuY3Rpb24gUWUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfX1mdW5jdGlvbiB0bih0LGUpe3JldHVybiBqZShlLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX1mdW5jdGlvbiBlbih0LGUpe3JldHVybiB0LmhhcyhlKX1mdW5jdGlvbiBubih0LGUpe2Zvcih2YXIgbj0tMSxyPXQubGVuZ3RoOysrbjxyJiZ6ZShlLHRbbl0sMCk+LTE7KTtyZXR1cm4gbn1mdW5jdGlvbiBybih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS0mJnplKGUsdFtuXSwwKT4tMTspO3JldHVybiBufXZhciBvbj1KZSh7w4A6XCJBXCIsw4E6XCJBXCIsw4I6XCJBXCIsw4M6XCJBXCIsw4Q6XCJBXCIsw4U6XCJBXCIsw6A6XCJhXCIsw6E6XCJhXCIsw6I6XCJhXCIsw6M6XCJhXCIsw6Q6XCJhXCIsw6U6XCJhXCIsw4c6XCJDXCIsw6c6XCJjXCIsw5A6XCJEXCIsw7A6XCJkXCIsw4g6XCJFXCIsw4k6XCJFXCIsw4o6XCJFXCIsw4s6XCJFXCIsw6g6XCJlXCIsw6k6XCJlXCIsw6o6XCJlXCIsw6s6XCJlXCIsw4w6XCJJXCIsw406XCJJXCIsw446XCJJXCIsw486XCJJXCIsw6w6XCJpXCIsw606XCJpXCIsw646XCJpXCIsw686XCJpXCIsw5E6XCJOXCIsw7E6XCJuXCIsw5I6XCJPXCIsw5M6XCJPXCIsw5Q6XCJPXCIsw5U6XCJPXCIsw5Y6XCJPXCIsw5g6XCJPXCIsw7I6XCJvXCIsw7M6XCJvXCIsw7Q6XCJvXCIsw7U6XCJvXCIsw7Y6XCJvXCIsw7g6XCJvXCIsw5k6XCJVXCIsw5o6XCJVXCIsw5s6XCJVXCIsw5w6XCJVXCIsw7k6XCJ1XCIsw7o6XCJ1XCIsw7s6XCJ1XCIsw7w6XCJ1XCIsw506XCJZXCIsw706XCJ5XCIsw786XCJ5XCIsw4Y6XCJBZVwiLMOmOlwiYWVcIizDnjpcIlRoXCIsw746XCJ0aFwiLMOfOlwic3NcIizEgDpcIkFcIizEgjpcIkFcIizEhDpcIkFcIizEgTpcImFcIizEgzpcImFcIizEhTpcImFcIizEhjpcIkNcIizEiDpcIkNcIizEijpcIkNcIizEjDpcIkNcIizEhzpcImNcIizEiTpcImNcIizEizpcImNcIizEjTpcImNcIizEjjpcIkRcIizEkDpcIkRcIizEjzpcImRcIizEkTpcImRcIizEkjpcIkVcIizElDpcIkVcIizEljpcIkVcIizEmDpcIkVcIizEmjpcIkVcIizEkzpcImVcIizElTpcImVcIizElzpcImVcIizEmTpcImVcIizEmzpcImVcIizEnDpcIkdcIizEnjpcIkdcIizEoDpcIkdcIizEojpcIkdcIizEnTpcImdcIizEnzpcImdcIizEoTpcImdcIizEozpcImdcIizEpDpcIkhcIizEpjpcIkhcIizEpTpcImhcIizEpzpcImhcIizEqDpcIklcIizEqjpcIklcIizErDpcIklcIizErjpcIklcIizEsDpcIklcIizEqTpcImlcIizEqzpcImlcIizErTpcImlcIizErzpcImlcIizEsTpcImlcIizEtDpcIkpcIizEtTpcImpcIizEtjpcIktcIizEtzpcImtcIizEuDpcImtcIizEuTpcIkxcIizEuzpcIkxcIizEvTpcIkxcIizEvzpcIkxcIizFgTpcIkxcIizEujpcImxcIizEvDpcImxcIizEvjpcImxcIizFgDpcImxcIizFgjpcImxcIizFgzpcIk5cIizFhTpcIk5cIizFhzpcIk5cIizFijpcIk5cIizFhDpcIm5cIizFhjpcIm5cIizFiDpcIm5cIizFizpcIm5cIizFjDpcIk9cIizFjjpcIk9cIizFkDpcIk9cIizFjTpcIm9cIizFjzpcIm9cIizFkTpcIm9cIizFlDpcIlJcIizFljpcIlJcIizFmDpcIlJcIizFlTpcInJcIizFlzpcInJcIizFmTpcInJcIizFmjpcIlNcIizFnDpcIlNcIizFnjpcIlNcIizFoDpcIlNcIizFmzpcInNcIizFnTpcInNcIizFnzpcInNcIizFoTpcInNcIizFojpcIlRcIizFpDpcIlRcIizFpjpcIlRcIizFozpcInRcIizFpTpcInRcIizFpzpcInRcIizFqDpcIlVcIizFqjpcIlVcIizFrDpcIlVcIizFrjpcIlVcIizFsDpcIlVcIizFsjpcIlVcIizFqTpcInVcIizFqzpcInVcIizFrTpcInVcIizFrzpcInVcIizFsTpcInVcIizFszpcInVcIizFtDpcIldcIizFtTpcIndcIizFtjpcIllcIizFtzpcInlcIizFuDpcIllcIizFuTpcIlpcIizFuzpcIlpcIizFvTpcIlpcIizFujpcInpcIizFvDpcInpcIizFvjpcInpcIizEsjpcIklKXCIsxLM6XCJpalwiLMWSOlwiT2VcIizFkzpcIm9lXCIsxYk6XCInblwiLMW/Olwic1wifSksYW49SmUoe1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImIzM5O1wifSk7ZnVuY3Rpb24gc24odCl7cmV0dXJuXCJcXFxcXCIrY2VbdF19ZnVuY3Rpb24gdW4odCl7cmV0dXJuIG9lLnRlc3QodCl9ZnVuY3Rpb24gbG4odCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQscil7blsrK2VdPVtyLHRdfSkpLG59ZnVuY3Rpb24gY24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fWZ1bmN0aW9uIGZuKHQsZSl7Zm9yKHZhciBuPS0xLHI9dC5sZW5ndGgsbz0wLGk9W107KytuPHI7KXt2YXIgYT10W25dO2EhPT1lJiZhIT09c3x8KHRbbl09cyxpW28rK109bil9cmV0dXJuIGl9ZnVuY3Rpb24gZG4odCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe25bKytlXT10fSkpLG59ZnVuY3Rpb24gaG4odCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe25bKytlXT1bdCx0XX0pKSxufWZ1bmN0aW9uIHBuKHQpe3JldHVybiB1bih0KT9mdW5jdGlvbih0KXt2YXIgZT1uZS5sYXN0SW5kZXg9MDtmb3IoO25lLnRlc3QodCk7KSsrZTtyZXR1cm4gZX0odCk6JGUodCl9ZnVuY3Rpb24gZ24odCl7cmV0dXJuIHVuKHQpP2Z1bmN0aW9uKHQpe3JldHVybiB0Lm1hdGNoKG5lKXx8W119KHQpOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KFwiXCIpfSh0KX1mdW5jdGlvbiB5bih0KXtmb3IodmFyIGU9dC5sZW5ndGg7ZS0tJiZzdC50ZXN0KHQuY2hhckF0KGUpKTspO3JldHVybiBlfXZhciBtbj1KZSh7XCImYW1wO1wiOlwiJlwiLFwiJmx0O1wiOlwiPFwiLFwiJmd0O1wiOlwiPlwiLFwiJnF1b3Q7XCI6J1wiJyxcIiYjMzk7XCI6XCInXCJ9KTt2YXIgdm49ZnVuY3Rpb24gdChlKXt2YXIgbixyPShlPW51bGw9PWU/Z2U6dm4uZGVmYXVsdHMoZ2UuT2JqZWN0KCksZSx2bi5waWNrKGdlLGFlKSkpLkFycmF5LHN0PWUuRGF0ZSxBdD1lLkVycm9yLEl0PWUuRnVuY3Rpb24sVHQ9ZS5NYXRoLFJ0PWUuT2JqZWN0LHh0PWUuUmVnRXhwLEN0PWUuU3RyaW5nLEJ0PWUuVHlwZUVycm9yLGt0PXIucHJvdG90eXBlLEx0PUl0LnByb3RvdHlwZSxPdD1SdC5wcm90b3R5cGUsVXQ9ZVtcIl9fY29yZS1qc19zaGFyZWRfX1wiXSxqdD1MdC50b1N0cmluZyxOdD1PdC5oYXNPd25Qcm9wZXJ0eSxNdD0wLFB0PShuPS9bXi5dKyQvLmV4ZWMoVXQmJlV0LmtleXMmJlV0LmtleXMuSUVfUFJPVE98fFwiXCIpKT9cIlN5bWJvbChzcmMpXzEuXCIrbjpcIlwiLFd0PU90LnRvU3RyaW5nLCR0PWp0LmNhbGwoUnQpLER0PWdlLl8sRnQ9eHQoXCJeXCIranQuY2FsbChOdCkucmVwbGFjZShvdCxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLHp0PXZlP2UuQnVmZmVyOm8scXQ9ZS5TeW1ib2wsSHQ9ZS5VaW50OEFycmF5LFZ0PXp0P3p0LmFsbG9jVW5zYWZlOm8sR3Q9Y24oUnQuZ2V0UHJvdG90eXBlT2YsUnQpLEp0PVJ0LmNyZWF0ZSxZdD1PdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSxLdD1rdC5zcGxpY2UsWHQ9cXQ/cXQuaXNDb25jYXRTcHJlYWRhYmxlOm8sWnQ9cXQ/cXQuaXRlcmF0b3I6byxRdD1xdD9xdC50b1N0cmluZ1RhZzpvLG5lPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWhpKFJ0LFwiZGVmaW5lUHJvcGVydHlcIik7cmV0dXJuIHQoe30sXCJcIix7fSksdH1jYXRjaCh0KXt9fSgpLG9lPWUuY2xlYXJUaW1lb3V0IT09Z2UuY2xlYXJUaW1lb3V0JiZlLmNsZWFyVGltZW91dCxjZT1zdCYmc3Qubm93IT09Z2UuRGF0ZS5ub3cmJnN0Lm5vdyxoZT1lLnNldFRpbWVvdXQhPT1nZS5zZXRUaW1lb3V0JiZlLnNldFRpbWVvdXQscGU9VHQuY2VpbCx5ZT1UdC5mbG9vcixtZT1SdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsYmU9enQ/enQuaXNCdWZmZXI6byx3ZT1lLmlzRmluaXRlLCRlPWt0LmpvaW4sSmU9Y24oUnQua2V5cyxSdCksYm49VHQubWF4LHduPVR0Lm1pbixfbj1zdC5ub3csRW49ZS5wYXJzZUludCxTbj1UdC5yYW5kb20sQW49a3QucmV2ZXJzZSxJbj1oaShlLFwiRGF0YVZpZXdcIiksVG49aGkoZSxcIk1hcFwiKSxSbj1oaShlLFwiUHJvbWlzZVwiKSx4bj1oaShlLFwiU2V0XCIpLENuPWhpKGUsXCJXZWFrTWFwXCIpLEJuPWhpKFJ0LFwiY3JlYXRlXCIpLGtuPUNuJiZuZXcgQ24sTG49e30sT249V2koSW4pLFVuPVdpKFRuKSxqbj1XaShSbiksTm49V2koeG4pLE1uPVdpKENuKSxQbj1xdD9xdC5wcm90b3R5cGU6byxXbj1Qbj9Qbi52YWx1ZU9mOm8sJG49UG4/UG4udG9TdHJpbmc6bztmdW5jdGlvbiBEbih0KXtpZihucyh0KSYmIUhhKHQpJiYhKHQgaW5zdGFuY2VvZiBIbikpe2lmKHQgaW5zdGFuY2VvZiBxbilyZXR1cm4gdDtpZihOdC5jYWxsKHQsXCJfX3dyYXBwZWRfX1wiKSlyZXR1cm4gJGkodCl9cmV0dXJuIG5ldyBxbih0KX12YXIgRm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiBmdW5jdGlvbihlKXtpZighZXMoZSkpcmV0dXJue307aWYoSnQpcmV0dXJuIEp0KGUpO3QucHJvdG90eXBlPWU7dmFyIG49bmV3IHQ7cmV0dXJuIHQucHJvdG90eXBlPW8sbn19KCk7ZnVuY3Rpb24gem4oKXt9ZnVuY3Rpb24gcW4odCxlKXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fY2hhaW5fXz0hIWUsdGhpcy5fX2luZGV4X189MCx0aGlzLl9fdmFsdWVzX189b31mdW5jdGlvbiBIbih0KXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fZGlyX189MSx0aGlzLl9fZmlsdGVyZWRfXz0hMSx0aGlzLl9faXRlcmF0ZWVzX189W10sdGhpcy5fX3Rha2VDb3VudF9fPXksdGhpcy5fX3ZpZXdzX189W119ZnVuY3Rpb24gVm4odCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19ZnVuY3Rpb24gR24odCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19ZnVuY3Rpb24gSm4odCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19ZnVuY3Rpb24gWW4odCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IEpuOysrZTxuOyl0aGlzLmFkZCh0W2VdKX1mdW5jdGlvbiBLbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fPW5ldyBHbih0KTt0aGlzLnNpemU9ZS5zaXplfWZ1bmN0aW9uIFhuKHQsZSl7dmFyIG49SGEodCkscj0hbiYmcWEodCksbz0hbiYmIXImJllhKHQpLGk9IW4mJiFyJiYhbyYmY3ModCksYT1ufHxyfHxvfHxpLHM9YT9YZSh0Lmxlbmd0aCxDdCk6W10sdT1zLmxlbmd0aDtmb3IodmFyIGwgaW4gdCkhZSYmIU50LmNhbGwodCxsKXx8YSYmKFwibGVuZ3RoXCI9PWx8fG8mJihcIm9mZnNldFwiPT1sfHxcInBhcmVudFwiPT1sKXx8aSYmKFwiYnVmZmVyXCI9PWx8fFwiYnl0ZUxlbmd0aFwiPT1sfHxcImJ5dGVPZmZzZXRcIj09bCl8fHdpKGwsdSkpfHxzLnB1c2gobCk7cmV0dXJuIHN9ZnVuY3Rpb24gWm4odCl7dmFyIGU9dC5sZW5ndGg7cmV0dXJuIGU/dFtZcigwLGUtMSldOm99ZnVuY3Rpb24gUW4odCxlKXtyZXR1cm4gTmkoa28odCksdXIoZSwwLHQubGVuZ3RoKSl9ZnVuY3Rpb24gdHIodCl7cmV0dXJuIE5pKGtvKHQpKX1mdW5jdGlvbiBlcih0LGUsbil7KG4hPT1vJiYhRGEodFtlXSxuKXx8bj09PW8mJiEoZSBpbiB0KSkmJmFyKHQsZSxuKX1mdW5jdGlvbiBucih0LGUsbil7dmFyIHI9dFtlXTtOdC5jYWxsKHQsZSkmJkRhKHIsbikmJihuIT09b3x8ZSBpbiB0KXx8YXIodCxlLG4pfWZ1bmN0aW9uIHJyKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYoRGEodFtuXVswXSxlKSlyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBvcih0LGUsbixyKXtyZXR1cm4gaHIodCwoZnVuY3Rpb24odCxvLGkpe2Uocix0LG4odCksaSl9KSkscn1mdW5jdGlvbiBpcih0LGUpe3JldHVybiB0JiZMbyhlLExzKGUpLHQpfWZ1bmN0aW9uIGFyKHQsZSxuKXtcIl9fcHJvdG9fX1wiPT1lJiZuZT9uZSh0LGUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm4sd3JpdGFibGU6ITB9KTp0W2VdPW59ZnVuY3Rpb24gc3IodCxlKXtmb3IodmFyIG49LTEsaT1lLmxlbmd0aCxhPXIoaSkscz1udWxsPT10OysrbjxpOylhW25dPXM/bzpScyh0LGVbbl0pO3JldHVybiBhfWZ1bmN0aW9uIHVyKHQsZSxuKXtyZXR1cm4gdD09dCYmKG4hPT1vJiYodD10PD1uP3Q6biksZSE9PW8mJih0PXQ+PWU/dDplKSksdH1mdW5jdGlvbiBscih0LGUsbixyLGksYSl7dmFyIHMsdT0xJmUsbD0yJmUsYz00JmU7aWYobiYmKHM9aT9uKHQscixpLGEpOm4odCkpLHMhPT1vKXJldHVybiBzO2lmKCFlcyh0KSlyZXR1cm4gdDt2YXIgZj1IYSh0KTtpZihmKXtpZihzPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49bmV3IHQuY29uc3RydWN0b3IoZSk7ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHRbMF0mJk50LmNhbGwodCxcImluZGV4XCIpJiYobi5pbmRleD10LmluZGV4LG4uaW5wdXQ9dC5pbnB1dCk7cmV0dXJuIG59KHQpLCF1KXJldHVybiBrbyh0LHMpfWVsc2V7dmFyIGQ9eWkodCksaD1kPT1TfHxkPT1BO2lmKFlhKHQpKXJldHVybiBJbyh0LHUpO2lmKGQ9PVJ8fGQ9PXZ8fGgmJiFpKXtpZihzPWx8fGg/e306dmkodCksIXUpcmV0dXJuIGw/ZnVuY3Rpb24odCxlKXtyZXR1cm4gTG8odCxnaSh0KSxlKX0odCxmdW5jdGlvbih0LGUpe3JldHVybiB0JiZMbyhlLE9zKGUpLHQpfShzLHQpKTpmdW5jdGlvbih0LGUpe3JldHVybiBMbyh0LHBpKHQpLGUpfSh0LGlyKHMsdCkpfWVsc2V7aWYoIWxlW2RdKXJldHVybiBpP3Q6e307cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5jb25zdHJ1Y3Rvcjtzd2l0Y2goZSl7Y2FzZSBVOnJldHVybiBUbyh0KTtjYXNlIHc6Y2FzZSBfOnJldHVybiBuZXcgcigrdCk7Y2FzZSBqOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPWU/VG8odC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfSh0LG4pO2Nhc2UgTjpjYXNlIE06Y2FzZSBQOmNhc2UgVzpjYXNlICQ6Y2FzZSBEOmNhc2UgRjpjYXNlIHo6Y2FzZSBxOnJldHVybiBSbyh0LG4pO2Nhc2UgSTpyZXR1cm4gbmV3IHI7Y2FzZSBUOmNhc2UgazpyZXR1cm4gbmV3IHIodCk7Y2FzZSBDOnJldHVybiBmdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LnNvdXJjZSxndC5leGVjKHQpKTtyZXR1cm4gZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsZX0odCk7Y2FzZSBCOnJldHVybiBuZXcgcjtjYXNlIEw6cmV0dXJuIG89dCxXbj9SdChXbi5jYWxsKG8pKTp7fX12YXIgb30odCxkLHUpfX1hfHwoYT1uZXcgS24pO3ZhciBwPWEuZ2V0KHQpO2lmKHApcmV0dXJuIHA7YS5zZXQodCxzKSxzcyh0KT90LmZvckVhY2goKGZ1bmN0aW9uKHIpe3MuYWRkKGxyKHIsZSxuLHIsdCxhKSl9KSk6cnModCkmJnQuZm9yRWFjaCgoZnVuY3Rpb24ocixvKXtzLnNldChvLGxyKHIsZSxuLG8sdCxhKSl9KSk7dmFyIGc9Zj9vOihjP2w/YWk6aWk6bD9PczpMcykodCk7cmV0dXJuIENlKGd8fHQsKGZ1bmN0aW9uKHIsbyl7ZyYmKHI9dFtvPXJdKSxucihzLG8sbHIocixlLG4sbyx0LGEpKX0pKSxzfWZ1bmN0aW9uIGNyKHQsZSxuKXt2YXIgcj1uLmxlbmd0aDtpZihudWxsPT10KXJldHVybiFyO2Zvcih0PVJ0KHQpO3ItLTspe3ZhciBpPW5bcl0sYT1lW2ldLHM9dFtpXTtpZihzPT09byYmIShpIGluIHQpfHwhYShzKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBmcih0LGUsbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIExpKChmdW5jdGlvbigpe3QuYXBwbHkobyxuKX0pLGUpfWZ1bmN0aW9uIGRyKHQsZSxuLHIpe3ZhciBvPS0xLGk9T2UsYT0hMCxzPXQubGVuZ3RoLHU9W10sbD1lLmxlbmd0aDtpZighcylyZXR1cm4gdTtuJiYoZT1qZShlLFFlKG4pKSkscj8oaT1VZSxhPSExKTplLmxlbmd0aD49MjAwJiYoaT1lbixhPSExLGU9bmV3IFluKGUpKTt0OmZvcig7KytvPHM7KXt2YXIgYz10W29dLGY9bnVsbD09bj9jOm4oYyk7aWYoYz1yfHwwIT09Yz9jOjAsYSYmZj09Zil7Zm9yKHZhciBkPWw7ZC0tOylpZihlW2RdPT09Ziljb250aW51ZSB0O3UucHVzaChjKX1lbHNlIGkoZSxmLHIpfHx1LnB1c2goYyl9cmV0dXJuIHV9RG4udGVtcGxhdGVTZXR0aW5ncz17ZXNjYXBlOlosZXZhbHVhdGU6USxpbnRlcnBvbGF0ZTp0dCx2YXJpYWJsZTpcIlwiLGltcG9ydHM6e186RG59fSxEbi5wcm90b3R5cGU9em4ucHJvdG90eXBlLERuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Ebixxbi5wcm90b3R5cGU9Rm4oem4ucHJvdG90eXBlKSxxbi5wcm90b3R5cGUuY29uc3RydWN0b3I9cW4sSG4ucHJvdG90eXBlPUZuKHpuLnByb3RvdHlwZSksSG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPUhuLFZuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189Qm4/Qm4obnVsbCk6e30sdGhpcy5zaXplPTB9LFZuLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5oYXModCkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW3RdO3JldHVybiB0aGlzLnNpemUtPWU/MTowLGV9LFZuLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztpZihCbil7dmFyIG49ZVt0XTtyZXR1cm4gbj09PWE/bzpufXJldHVybiBOdC5jYWxsKGUsdCk/ZVt0XTpvfSxWbi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX187cmV0dXJuIEJuP2VbdF0hPT1vOk50LmNhbGwoZSx0KX0sVm4ucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHRoaXMuc2l6ZSs9dGhpcy5oYXModCk/MDoxLG5bdF09Qm4mJmU9PT1vP2E6ZSx0aGlzfSxHbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPVtdLHRoaXMuc2l6ZT0wfSxHbi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1ycihlLHQpO3JldHVybiEobjwwKSYmKG49PWUubGVuZ3RoLTE/ZS5wb3AoKTpLdC5jYWxsKGUsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9LEduLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPXJyKGUsdCk7cmV0dXJuIG48MD9vOmVbbl1bMV19LEduLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHJyKHRoaXMuX19kYXRhX18sdCk+LTF9LEduLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fLHI9cnIobix0KTtyZXR1cm4gcjwwPygrK3RoaXMuc2l6ZSxuLnB1c2goW3QsZV0pKTpuW3JdWzFdPWUsdGhpc30sSm4ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgVm4sbWFwOm5ldyhUbnx8R24pLHN0cmluZzpuZXcgVm59fSxKbi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPWZpKHRoaXMsdCkuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemUtPWU/MTowLGV9LEpuLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZpKHRoaXMsdCkuZ2V0KHQpfSxKbi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiBmaSh0aGlzLHQpLmhhcyh0KX0sSm4ucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPWZpKHRoaXMsdCkscj1uLnNpemU7cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplKz1uLnNpemU9PXI/MDoxLHRoaXN9LFluLnByb3RvdHlwZS5hZGQ9WW4ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uc2V0KHQsYSksdGhpc30sWW4ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModCl9LEtuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IEduLHRoaXMuc2l6ZT0wfSxLbi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1lLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplPWUuc2l6ZSxufSxLbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldCh0KX0sS24ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModCl9LEtuLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO2lmKG4gaW5zdGFuY2VvZiBHbil7dmFyIHI9bi5fX2RhdGFfXztpZighVG58fHIubGVuZ3RoPDE5OSlyZXR1cm4gci5wdXNoKFt0LGVdKSx0aGlzLnNpemU9KytuLnNpemUsdGhpcztuPXRoaXMuX19kYXRhX189bmV3IEpuKHIpfXJldHVybiBuLnNldCh0LGUpLHRoaXMuc2l6ZT1uLnNpemUsdGhpc307dmFyIGhyPWpvKF9yKSxwcj1qbyhFciwhMCk7ZnVuY3Rpb24gZ3IodCxlKXt2YXIgbj0hMDtyZXR1cm4gaHIodCwoZnVuY3Rpb24odCxyLG8pe3JldHVybiBuPSEhZSh0LHIsbyl9KSksbn1mdW5jdGlvbiB5cih0LGUsbil7Zm9yKHZhciByPS0xLGk9dC5sZW5ndGg7KytyPGk7KXt2YXIgYT10W3JdLHM9ZShhKTtpZihudWxsIT1zJiYodT09PW8/cz09cyYmIWxzKHMpOm4ocyx1KSkpdmFyIHU9cyxsPWF9cmV0dXJuIGx9ZnVuY3Rpb24gbXIodCxlKXt2YXIgbj1bXTtyZXR1cm4gaHIodCwoZnVuY3Rpb24odCxyLG8pe2UodCxyLG8pJiZuLnB1c2godCl9KSksbn1mdW5jdGlvbiB2cih0LGUsbixyLG8pe3ZhciBpPS0xLGE9dC5sZW5ndGg7Zm9yKG58fChuPWJpKSxvfHwobz1bXSk7KytpPGE7KXt2YXIgcz10W2ldO2U+MCYmbihzKT9lPjE/dnIocyxlLTEsbixyLG8pOk5lKG8scyk6cnx8KG9bby5sZW5ndGhdPXMpfXJldHVybiBvfXZhciBicj1ObygpLHdyPU5vKCEwKTtmdW5jdGlvbiBfcih0LGUpe3JldHVybiB0JiZicih0LGUsTHMpfWZ1bmN0aW9uIEVyKHQsZSl7cmV0dXJuIHQmJndyKHQsZSxMcyl9ZnVuY3Rpb24gU3IodCxlKXtyZXR1cm4gTGUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIFphKHRbZV0pfSkpfWZ1bmN0aW9uIEFyKHQsZSl7Zm9yKHZhciBuPTAscj0oZT1fbyhlLHQpKS5sZW5ndGg7bnVsbCE9dCYmbjxyOyl0PXRbUGkoZVtuKytdKV07cmV0dXJuIG4mJm49PXI/dDpvfWZ1bmN0aW9uIElyKHQsZSxuKXt2YXIgcj1lKHQpO3JldHVybiBIYSh0KT9yOk5lKHIsbih0KSl9ZnVuY3Rpb24gVHIodCl7cmV0dXJuIG51bGw9PXQ/dD09PW8/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpRdCYmUXQgaW4gUnQodCk/ZnVuY3Rpb24odCl7dmFyIGU9TnQuY2FsbCh0LFF0KSxuPXRbUXRdO3RyeXt0W1F0XT1vO3ZhciByPSEwfWNhdGNoKHQpe312YXIgaT1XdC5jYWxsKHQpO3ImJihlP3RbUXRdPW46ZGVsZXRlIHRbUXRdKTtyZXR1cm4gaX0odCk6ZnVuY3Rpb24odCl7cmV0dXJuIFd0LmNhbGwodCl9KHQpfWZ1bmN0aW9uIFJyKHQsZSl7cmV0dXJuIHQ+ZX1mdW5jdGlvbiB4cih0LGUpe3JldHVybiBudWxsIT10JiZOdC5jYWxsKHQsZSl9ZnVuY3Rpb24gQ3IodCxlKXtyZXR1cm4gbnVsbCE9dCYmZSBpbiBSdCh0KX1mdW5jdGlvbiBCcih0LGUsbil7Zm9yKHZhciBpPW4/VWU6T2UsYT10WzBdLmxlbmd0aCxzPXQubGVuZ3RoLHU9cyxsPXIocyksYz0xLzAsZj1bXTt1LS07KXt2YXIgZD10W3VdO3UmJmUmJihkPWplKGQsUWUoZSkpKSxjPXduKGQubGVuZ3RoLGMpLGxbdV09IW4mJihlfHxhPj0xMjAmJmQubGVuZ3RoPj0xMjApP25ldyBZbih1JiZkKTpvfWQ9dFswXTt2YXIgaD0tMSxwPWxbMF07dDpmb3IoOysraDxhJiZmLmxlbmd0aDxjOyl7dmFyIGc9ZFtoXSx5PWU/ZShnKTpnO2lmKGc9bnx8MCE9PWc/ZzowLCEocD9lbihwLHkpOmkoZix5LG4pKSl7Zm9yKHU9czstLXU7KXt2YXIgbT1sW3VdO2lmKCEobT9lbihtLHkpOmkodFt1XSx5LG4pKSljb250aW51ZSB0fXAmJnAucHVzaCh5KSxmLnB1c2goZyl9fXJldHVybiBmfWZ1bmN0aW9uIGtyKHQsZSxuKXt2YXIgcj1udWxsPT0odD1DaSh0LGU9X28oZSx0KSkpP3Q6dFtQaShYaShlKSldO3JldHVybiBudWxsPT1yP286UmUocix0LG4pfWZ1bmN0aW9uIExyKHQpe3JldHVybiBucyh0KSYmVHIodCk9PXZ9ZnVuY3Rpb24gT3IodCxlLG4scixpKXtyZXR1cm4gdD09PWV8fChudWxsPT10fHxudWxsPT1lfHwhbnModCkmJiFucyhlKT90IT10JiZlIT1lOmZ1bmN0aW9uKHQsZSxuLHIsaSxhKXt2YXIgcz1IYSh0KSx1PUhhKGUpLGw9cz9iOnlpKHQpLGM9dT9iOnlpKGUpLGY9KGw9bD09dj9SOmwpPT1SLGQ9KGM9Yz09dj9SOmMpPT1SLGg9bD09YztpZihoJiZZYSh0KSl7aWYoIVlhKGUpKXJldHVybiExO3M9ITAsZj0hMX1pZihoJiYhZilyZXR1cm4gYXx8KGE9bmV3IEtuKSxzfHxjcyh0KT9yaSh0LGUsbixyLGksYSk6ZnVuY3Rpb24odCxlLG4scixvLGksYSl7c3dpdGNoKG4pe2Nhc2UgajppZih0LmJ5dGVMZW5ndGghPWUuYnl0ZUxlbmd0aHx8dC5ieXRlT2Zmc2V0IT1lLmJ5dGVPZmZzZXQpcmV0dXJuITE7dD10LmJ1ZmZlcixlPWUuYnVmZmVyO2Nhc2UgVTpyZXR1cm4hKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHwhaShuZXcgSHQodCksbmV3IEh0KGUpKSk7Y2FzZSB3OmNhc2UgXzpjYXNlIFQ6cmV0dXJuIERhKCt0LCtlKTtjYXNlIEU6cmV0dXJuIHQubmFtZT09ZS5uYW1lJiZ0Lm1lc3NhZ2U9PWUubWVzc2FnZTtjYXNlIEM6Y2FzZSBrOnJldHVybiB0PT1lK1wiXCI7Y2FzZSBJOnZhciBzPWxuO2Nhc2UgQjp2YXIgdT0xJnI7aWYoc3x8KHM9ZG4pLHQuc2l6ZSE9ZS5zaXplJiYhdSlyZXR1cm4hMTt2YXIgbD1hLmdldCh0KTtpZihsKXJldHVybiBsPT1lO3J8PTIsYS5zZXQodCxlKTt2YXIgYz1yaShzKHQpLHMoZSkscixvLGksYSk7cmV0dXJuIGEuZGVsZXRlKHQpLGM7Y2FzZSBMOmlmKFduKXJldHVybiBXbi5jYWxsKHQpPT1Xbi5jYWxsKGUpfXJldHVybiExfSh0LGUsbCxuLHIsaSxhKTtpZighKDEmbikpe3ZhciBwPWYmJk50LmNhbGwodCxcIl9fd3JhcHBlZF9fXCIpLGc9ZCYmTnQuY2FsbChlLFwiX193cmFwcGVkX19cIik7aWYocHx8Zyl7dmFyIHk9cD90LnZhbHVlKCk6dCxtPWc/ZS52YWx1ZSgpOmU7cmV0dXJuIGF8fChhPW5ldyBLbiksaSh5LG0sbixyLGEpfX1pZighaClyZXR1cm4hMTtyZXR1cm4gYXx8KGE9bmV3IEtuKSxmdW5jdGlvbih0LGUsbixyLGksYSl7dmFyIHM9MSZuLHU9aWkodCksbD11Lmxlbmd0aCxjPWlpKGUpLGY9Yy5sZW5ndGg7aWYobCE9ZiYmIXMpcmV0dXJuITE7dmFyIGQ9bDtmb3IoO2QtLTspe3ZhciBoPXVbZF07aWYoIShzP2ggaW4gZTpOdC5jYWxsKGUsaCkpKXJldHVybiExfXZhciBwPWEuZ2V0KHQpLGc9YS5nZXQoZSk7aWYocCYmZylyZXR1cm4gcD09ZSYmZz09dDt2YXIgeT0hMDthLnNldCh0LGUpLGEuc2V0KGUsdCk7dmFyIG09cztmb3IoOysrZDxsOyl7dmFyIHY9dFtoPXVbZF1dLGI9ZVtoXTtpZihyKXZhciB3PXM/cihiLHYsaCxlLHQsYSk6cih2LGIsaCx0LGUsYSk7aWYoISh3PT09bz92PT09Ynx8aSh2LGIsbixyLGEpOncpKXt5PSExO2JyZWFrfW18fChtPVwiY29uc3RydWN0b3JcIj09aCl9aWYoeSYmIW0pe3ZhciBfPXQuY29uc3RydWN0b3IsRT1lLmNvbnN0cnVjdG9yO189PUV8fCEoXCJjb25zdHJ1Y3RvclwiaW4gdCl8fCEoXCJjb25zdHJ1Y3RvclwiaW4gZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIF8mJl8gaW5zdGFuY2VvZiBfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBFJiZFIGluc3RhbmNlb2YgRXx8KHk9ITEpfXJldHVybiBhLmRlbGV0ZSh0KSxhLmRlbGV0ZShlKSx5fSh0LGUsbixyLGksYSl9KHQsZSxuLHIsT3IsaSkpfWZ1bmN0aW9uIFVyKHQsZSxuLHIpe3ZhciBpPW4ubGVuZ3RoLGE9aSxzPSFyO2lmKG51bGw9PXQpcmV0dXJuIWE7Zm9yKHQ9UnQodCk7aS0tOyl7dmFyIHU9bltpXTtpZihzJiZ1WzJdP3VbMV0hPT10W3VbMF1dOiEodVswXWluIHQpKXJldHVybiExfWZvcig7KytpPGE7KXt2YXIgbD0odT1uW2ldKVswXSxjPXRbbF0sZj11WzFdO2lmKHMmJnVbMl0pe2lmKGM9PT1vJiYhKGwgaW4gdCkpcmV0dXJuITF9ZWxzZXt2YXIgZD1uZXcgS247aWYocil2YXIgaD1yKGMsZixsLHQsZSxkKTtpZighKGg9PT1vP09yKGYsYywzLHIsZCk6aCkpcmV0dXJuITF9fXJldHVybiEwfWZ1bmN0aW9uIGpyKHQpe3JldHVybiEoIWVzKHQpfHwoZT10LFB0JiZQdCBpbiBlKSkmJihaYSh0KT9GdDp2dCkudGVzdChXaSh0KSk7dmFyIGV9ZnVuY3Rpb24gTnIodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om51bGw9PXQ/b3U6XCJvYmplY3RcIj09dHlwZW9mIHQ/SGEodCk/RnIodFswXSx0WzFdKTpEcih0KTpodSh0KX1mdW5jdGlvbiBNcih0KXtpZighSWkodCkpcmV0dXJuIEplKHQpO3ZhciBlPVtdO2Zvcih2YXIgbiBpbiBSdCh0KSlOdC5jYWxsKHQsbikmJlwiY29uc3RydWN0b3JcIiE9biYmZS5wdXNoKG4pO3JldHVybiBlfWZ1bmN0aW9uIFByKHQpe2lmKCFlcyh0KSlyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9W107aWYobnVsbCE9dClmb3IodmFyIG4gaW4gUnQodCkpZS5wdXNoKG4pO3JldHVybiBlfSh0KTt2YXIgZT1JaSh0KSxuPVtdO2Zvcih2YXIgciBpbiB0KShcImNvbnN0cnVjdG9yXCIhPXJ8fCFlJiZOdC5jYWxsKHQscikpJiZuLnB1c2gocik7cmV0dXJuIG59ZnVuY3Rpb24gV3IodCxlKXtyZXR1cm4gdDxlfWZ1bmN0aW9uICRyKHQsZSl7dmFyIG49LTEsbz1HYSh0KT9yKHQubGVuZ3RoKTpbXTtyZXR1cm4gaHIodCwoZnVuY3Rpb24odCxyLGkpe29bKytuXT1lKHQscixpKX0pKSxvfWZ1bmN0aW9uIERyKHQpe3ZhciBlPWRpKHQpO3JldHVybiAxPT1lLmxlbmd0aCYmZVswXVsyXT9SaShlWzBdWzBdLGVbMF1bMV0pOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dHx8VXIobix0LGUpfX1mdW5jdGlvbiBGcih0LGUpe3JldHVybiBFaSh0KSYmVGkoZSk/UmkoUGkodCksZSk6ZnVuY3Rpb24obil7dmFyIHI9UnMobix0KTtyZXR1cm4gcj09PW8mJnI9PT1lP3hzKG4sdCk6T3IoZSxyLDMpfX1mdW5jdGlvbiB6cih0LGUsbixyLGkpe3QhPT1lJiZicihlLChmdW5jdGlvbihhLHMpe2lmKGl8fChpPW5ldyBLbiksZXMoYSkpIWZ1bmN0aW9uKHQsZSxuLHIsaSxhLHMpe3ZhciB1PUJpKHQsbiksbD1CaShlLG4pLGM9cy5nZXQobCk7aWYoYylyZXR1cm4gdm9pZCBlcih0LG4sYyk7dmFyIGY9YT9hKHUsbCxuK1wiXCIsdCxlLHMpOm8sZD1mPT09bztpZihkKXt2YXIgaD1IYShsKSxwPSFoJiZZYShsKSxnPSFoJiYhcCYmY3MobCk7Zj1sLGh8fHB8fGc/SGEodSk/Zj11OkphKHUpP2Y9a28odSk6cD8oZD0hMSxmPUlvKGwsITApKTpnPyhkPSExLGY9Um8obCwhMCkpOmY9W106aXMobCl8fHFhKGwpPyhmPXUscWEodSk/Zj12cyh1KTplcyh1KSYmIVphKHUpfHwoZj12aShsKSkpOmQ9ITF9ZCYmKHMuc2V0KGwsZiksaShmLGwscixhLHMpLHMuZGVsZXRlKGwpKTtlcih0LG4sZil9KHQsZSxzLG4senIscixpKTtlbHNle3ZhciB1PXI/cihCaSh0LHMpLGEscytcIlwiLHQsZSxpKTpvO3U9PT1vJiYodT1hKSxlcih0LHMsdSl9fSksT3MpfWZ1bmN0aW9uIHFyKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYobilyZXR1cm4gd2koZSs9ZTwwP246MCxuKT90W2VdOm99ZnVuY3Rpb24gSHIodCxlLG4pe2U9ZS5sZW5ndGg/amUoZSwoZnVuY3Rpb24odCl7cmV0dXJuIEhhKHQpP2Z1bmN0aW9uKGUpe3JldHVybiBBcihlLDE9PT10Lmxlbmd0aD90WzBdOnQpfTp0fSkpOltvdV07dmFyIHI9LTE7ZT1qZShlLFFlKGNpKCkpKTt2YXIgbz0kcih0LChmdW5jdGlvbih0LG4sbyl7dmFyIGk9amUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KSk7cmV0dXJue2NyaXRlcmlhOmksaW5kZXg6KytyLHZhbHVlOnR9fSkpO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoO2Zvcih0LnNvcnQoZSk7bi0tOyl0W25dPXRbbl0udmFsdWU7cmV0dXJuIHR9KG8sKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0tMSxvPXQuY3JpdGVyaWEsaT1lLmNyaXRlcmlhLGE9by5sZW5ndGgscz1uLmxlbmd0aDtmb3IoOysrcjxhOyl7dmFyIHU9eG8ob1tyXSxpW3JdKTtpZih1KXJldHVybiByPj1zP3U6dSooXCJkZXNjXCI9PW5bcl0/LTE6MSl9cmV0dXJuIHQuaW5kZXgtZS5pbmRleH0odCxlLG4pfSkpfWZ1bmN0aW9uIFZyKHQsZSxuKXtmb3IodmFyIHI9LTEsbz1lLmxlbmd0aCxpPXt9OysrcjxvOyl7dmFyIGE9ZVtyXSxzPUFyKHQsYSk7bihzLGEpJiZ0byhpLF9vKGEsdCkscyl9cmV0dXJuIGl9ZnVuY3Rpb24gR3IodCxlLG4scil7dmFyIG89cj9xZTp6ZSxpPS0xLGE9ZS5sZW5ndGgscz10O2Zvcih0PT09ZSYmKGU9a28oZSkpLG4mJihzPWplKHQsUWUobikpKTsrK2k8YTspZm9yKHZhciB1PTAsbD1lW2ldLGM9bj9uKGwpOmw7KHU9byhzLGMsdSxyKSk+LTE7KXMhPT10JiZLdC5jYWxsKHMsdSwxKSxLdC5jYWxsKHQsdSwxKTtyZXR1cm4gdH1mdW5jdGlvbiBKcih0LGUpe2Zvcih2YXIgbj10P2UubGVuZ3RoOjAscj1uLTE7bi0tOyl7dmFyIG89ZVtuXTtpZihuPT1yfHxvIT09aSl7dmFyIGk9bzt3aShvKT9LdC5jYWxsKHQsbywxKTpobyh0LG8pfX1yZXR1cm4gdH1mdW5jdGlvbiBZcih0LGUpe3JldHVybiB0K3llKFNuKCkqKGUtdCsxKSl9ZnVuY3Rpb24gS3IodCxlKXt2YXIgbj1cIlwiO2lmKCF0fHxlPDF8fGU+cClyZXR1cm4gbjtkb3tlJTImJihuKz10KSwoZT15ZShlLzIpKSYmKHQrPXQpfXdoaWxlKGUpO3JldHVybiBufWZ1bmN0aW9uIFhyKHQsZSl7cmV0dXJuIE9pKHhpKHQsZSxvdSksdCtcIlwiKX1mdW5jdGlvbiBacih0KXtyZXR1cm4gWm4oRHModCkpfWZ1bmN0aW9uIFFyKHQsZSl7dmFyIG49RHModCk7cmV0dXJuIE5pKG4sdXIoZSwwLG4ubGVuZ3RoKSl9ZnVuY3Rpb24gdG8odCxlLG4scil7aWYoIWVzKHQpKXJldHVybiB0O2Zvcih2YXIgaT0tMSxhPShlPV9vKGUsdCkpLmxlbmd0aCxzPWEtMSx1PXQ7bnVsbCE9dSYmKytpPGE7KXt2YXIgbD1QaShlW2ldKSxjPW47aWYoXCJfX3Byb3RvX19cIj09PWx8fFwiY29uc3RydWN0b3JcIj09PWx8fFwicHJvdG90eXBlXCI9PT1sKXJldHVybiB0O2lmKGkhPXMpe3ZhciBmPXVbbF07KGM9cj9yKGYsbCx1KTpvKT09PW8mJihjPWVzKGYpP2Y6d2koZVtpKzFdKT9bXTp7fSl9bnIodSxsLGMpLHU9dVtsXX1yZXR1cm4gdH12YXIgZW89a24/ZnVuY3Rpb24odCxlKXtyZXR1cm4ga24uc2V0KHQsZSksdH06b3Usbm89bmU/ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmUodCxcInRvU3RyaW5nXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOmV1KGUpLHdyaXRhYmxlOiEwfSl9Om91O2Z1bmN0aW9uIHJvKHQpe3JldHVybiBOaShEcyh0KSl9ZnVuY3Rpb24gb28odCxlLG4pe3ZhciBvPS0xLGk9dC5sZW5ndGg7ZTwwJiYoZT0tZT5pPzA6aStlKSwobj1uPmk/aTpuKTwwJiYobis9aSksaT1lPm4/MDpuLWU+Pj4wLGU+Pj49MDtmb3IodmFyIGE9cihpKTsrK288aTspYVtvXT10W28rZV07cmV0dXJuIGF9ZnVuY3Rpb24gaW8odCxlKXt2YXIgbjtyZXR1cm4gaHIodCwoZnVuY3Rpb24odCxyLG8pe3JldHVybiEobj1lKHQscixvKSl9KSksISFufWZ1bmN0aW9uIGFvKHQsZSxuKXt2YXIgcj0wLG89bnVsbD09dD9yOnQubGVuZ3RoO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPT1lJiZvPD0yMTQ3NDgzNjQ3KXtmb3IoO3I8bzspe3ZhciBpPXIrbz4+PjEsYT10W2ldO251bGwhPT1hJiYhbHMoYSkmJihuP2E8PWU6YTxlKT9yPWkrMTpvPWl9cmV0dXJuIG99cmV0dXJuIHNvKHQsZSxvdSxuKX1mdW5jdGlvbiBzbyh0LGUsbixyKXt2YXIgaT0wLGE9bnVsbD09dD8wOnQubGVuZ3RoO2lmKDA9PT1hKXJldHVybiAwO2Zvcih2YXIgcz0oZT1uKGUpKSE9ZSx1PW51bGw9PT1lLGw9bHMoZSksYz1lPT09bztpPGE7KXt2YXIgZj15ZSgoaSthKS8yKSxkPW4odFtmXSksaD1kIT09byxwPW51bGw9PT1kLGc9ZD09ZCx5PWxzKGQpO2lmKHMpdmFyIG09cnx8ZztlbHNlIG09Yz9nJiYocnx8aCk6dT9nJiZoJiYocnx8IXApOmw/ZyYmaCYmIXAmJihyfHwheSk6IXAmJiF5JiYocj9kPD1lOmQ8ZSk7bT9pPWYrMTphPWZ9cmV0dXJuIHduKGEsNDI5NDk2NzI5NCl9ZnVuY3Rpb24gdW8odCxlKXtmb3IodmFyIG49LTEscj10Lmxlbmd0aCxvPTAsaT1bXTsrK248cjspe3ZhciBhPXRbbl0scz1lP2UoYSk6YTtpZighbnx8IURhKHMsdSkpe3ZhciB1PXM7aVtvKytdPTA9PT1hPzA6YX19cmV0dXJuIGl9ZnVuY3Rpb24gbG8odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dDpscyh0KT9nOit0fWZ1bmN0aW9uIGNvKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEhhKHQpKXJldHVybiBqZSh0LGNvKStcIlwiO2lmKGxzKHQpKXJldHVybiAkbj8kbi5jYWxsKHQpOlwiXCI7dmFyIGU9dCtcIlwiO3JldHVyblwiMFwiPT1lJiYxL3Q9PS0xLzA/XCItMFwiOmV9ZnVuY3Rpb24gZm8odCxlLG4pe3ZhciByPS0xLG89T2UsaT10Lmxlbmd0aCxhPSEwLHM9W10sdT1zO2lmKG4pYT0hMSxvPVVlO2Vsc2UgaWYoaT49MjAwKXt2YXIgbD1lP251bGw6WG8odCk7aWYobClyZXR1cm4gZG4obCk7YT0hMSxvPWVuLHU9bmV3IFlufWVsc2UgdT1lP1tdOnM7dDpmb3IoOysrcjxpOyl7dmFyIGM9dFtyXSxmPWU/ZShjKTpjO2lmKGM9bnx8MCE9PWM/YzowLGEmJmY9PWYpe2Zvcih2YXIgZD11Lmxlbmd0aDtkLS07KWlmKHVbZF09PT1mKWNvbnRpbnVlIHQ7ZSYmdS5wdXNoKGYpLHMucHVzaChjKX1lbHNlIG8odSxmLG4pfHwodSE9PXMmJnUucHVzaChmKSxzLnB1c2goYykpfXJldHVybiBzfWZ1bmN0aW9uIGhvKHQsZSl7cmV0dXJuIG51bGw9PSh0PUNpKHQsZT1fbyhlLHQpKSl8fGRlbGV0ZSB0W1BpKFhpKGUpKV19ZnVuY3Rpb24gcG8odCxlLG4scil7cmV0dXJuIHRvKHQsZSxuKEFyKHQsZSkpLHIpfWZ1bmN0aW9uIGdvKHQsZSxuLHIpe2Zvcih2YXIgbz10Lmxlbmd0aCxpPXI/bzotMTsocj9pLS06KytpPG8pJiZlKHRbaV0saSx0KTspO3JldHVybiBuP29vKHQscj8wOmkscj9pKzE6byk6b28odCxyP2krMTowLHI/bzppKX1mdW5jdGlvbiB5byh0LGUpe3ZhciBuPXQ7cmV0dXJuIG4gaW5zdGFuY2VvZiBIbiYmKG49bi52YWx1ZSgpKSxNZShlLChmdW5jdGlvbih0LGUpe3JldHVybiBlLmZ1bmMuYXBwbHkoZS50aGlzQXJnLE5lKFt0XSxlLmFyZ3MpKX0pLG4pfWZ1bmN0aW9uIG1vKHQsZSxuKXt2YXIgbz10Lmxlbmd0aDtpZihvPDIpcmV0dXJuIG8/Zm8odFswXSk6W107Zm9yKHZhciBpPS0xLGE9cihvKTsrK2k8bzspZm9yKHZhciBzPXRbaV0sdT0tMTsrK3U8bzspdSE9aSYmKGFbaV09ZHIoYVtpXXx8cyx0W3VdLGUsbikpO3JldHVybiBmbyh2cihhLDEpLGUsbil9ZnVuY3Rpb24gdm8odCxlLG4pe2Zvcih2YXIgcj0tMSxpPXQubGVuZ3RoLGE9ZS5sZW5ndGgscz17fTsrK3I8aTspe3ZhciB1PXI8YT9lW3JdOm87bihzLHRbcl0sdSl9cmV0dXJuIHN9ZnVuY3Rpb24gYm8odCl7cmV0dXJuIEphKHQpP3Q6W119ZnVuY3Rpb24gd28odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om91fWZ1bmN0aW9uIF9vKHQsZSl7cmV0dXJuIEhhKHQpP3Q6RWkodCxlKT9bdF06TWkoYnModCkpfXZhciBFbz1YcjtmdW5jdGlvbiBTbyh0LGUsbil7dmFyIHI9dC5sZW5ndGg7cmV0dXJuIG49bj09PW8/cjpuLCFlJiZuPj1yP3Q6b28odCxlLG4pfXZhciBBbz1vZXx8ZnVuY3Rpb24odCl7cmV0dXJuIGdlLmNsZWFyVGltZW91dCh0KX07ZnVuY3Rpb24gSW8odCxlKXtpZihlKXJldHVybiB0LnNsaWNlKCk7dmFyIG49dC5sZW5ndGgscj1WdD9WdChuKTpuZXcgdC5jb25zdHJ1Y3RvcihuKTtyZXR1cm4gdC5jb3B5KHIpLHJ9ZnVuY3Rpb24gVG8odCl7dmFyIGU9bmV3IHQuY29uc3RydWN0b3IodC5ieXRlTGVuZ3RoKTtyZXR1cm4gbmV3IEh0KGUpLnNldChuZXcgSHQodCkpLGV9ZnVuY3Rpb24gUm8odCxlKXt2YXIgbj1lP1RvKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3Iobix0LmJ5dGVPZmZzZXQsdC5sZW5ndGgpfWZ1bmN0aW9uIHhvKHQsZSl7aWYodCE9PWUpe3ZhciBuPXQhPT1vLHI9bnVsbD09PXQsaT10PT10LGE9bHModCkscz1lIT09byx1PW51bGw9PT1lLGw9ZT09ZSxjPWxzKGUpO2lmKCF1JiYhYyYmIWEmJnQ+ZXx8YSYmcyYmbCYmIXUmJiFjfHxyJiZzJiZsfHwhbiYmbHx8IWkpcmV0dXJuIDE7aWYoIXImJiFhJiYhYyYmdDxlfHxjJiZuJiZpJiYhciYmIWF8fHUmJm4mJml8fCFzJiZpfHwhbClyZXR1cm4tMX1yZXR1cm4gMH1mdW5jdGlvbiBDbyh0LGUsbixvKXtmb3IodmFyIGk9LTEsYT10Lmxlbmd0aCxzPW4ubGVuZ3RoLHU9LTEsbD1lLmxlbmd0aCxjPWJuKGEtcywwKSxmPXIobCtjKSxkPSFvOysrdTxsOylmW3VdPWVbdV07Zm9yKDsrK2k8czspKGR8fGk8YSkmJihmW25baV1dPXRbaV0pO2Zvcig7Yy0tOylmW3UrK109dFtpKytdO3JldHVybiBmfWZ1bmN0aW9uIEJvKHQsZSxuLG8pe2Zvcih2YXIgaT0tMSxhPXQubGVuZ3RoLHM9LTEsdT1uLmxlbmd0aCxsPS0xLGM9ZS5sZW5ndGgsZj1ibihhLXUsMCksZD1yKGYrYyksaD0hbzsrK2k8ZjspZFtpXT10W2ldO2Zvcih2YXIgcD1pOysrbDxjOylkW3ArbF09ZVtsXTtmb3IoOysrczx1OykoaHx8aTxhKSYmKGRbcCtuW3NdXT10W2krK10pO3JldHVybiBkfWZ1bmN0aW9uIGtvKHQsZSl7dmFyIG49LTEsbz10Lmxlbmd0aDtmb3IoZXx8KGU9cihvKSk7KytuPG87KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBMbyh0LGUsbixyKXt2YXIgaT0hbjtufHwobj17fSk7Zm9yKHZhciBhPS0xLHM9ZS5sZW5ndGg7KythPHM7KXt2YXIgdT1lW2FdLGw9cj9yKG5bdV0sdFt1XSx1LG4sdCk6bztsPT09byYmKGw9dFt1XSksaT9hcihuLHUsbCk6bnIobix1LGwpfXJldHVybiBufWZ1bmN0aW9uIE9vKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG89SGEobik/eGU6b3IsaT1lP2UoKTp7fTtyZXR1cm4gbyhuLHQsY2kociwyKSxpKX19ZnVuY3Rpb24gVW8odCl7cmV0dXJuIFhyKChmdW5jdGlvbihlLG4pe3ZhciByPS0xLGk9bi5sZW5ndGgsYT1pPjE/bltpLTFdOm8scz1pPjI/blsyXTpvO2ZvcihhPXQubGVuZ3RoPjMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGE/KGktLSxhKTpvLHMmJl9pKG5bMF0sblsxXSxzKSYmKGE9aTwzP286YSxpPTEpLGU9UnQoZSk7KytyPGk7KXt2YXIgdT1uW3JdO3UmJnQoZSx1LHIsYSl9cmV0dXJuIGV9KSl9ZnVuY3Rpb24gam8odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZihudWxsPT1uKXJldHVybiBuO2lmKCFHYShuKSlyZXR1cm4gdChuLHIpO2Zvcih2YXIgbz1uLmxlbmd0aCxpPWU/bzotMSxhPVJ0KG4pOyhlP2ktLTorK2k8bykmJiExIT09cihhW2ldLGksYSk7KTtyZXR1cm4gbn19ZnVuY3Rpb24gTm8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtmb3IodmFyIG89LTEsaT1SdChlKSxhPXIoZSkscz1hLmxlbmd0aDtzLS07KXt2YXIgdT1hW3Q/czorK29dO2lmKCExPT09bihpW3VdLHUsaSkpYnJlYWt9cmV0dXJuIGV9fWZ1bmN0aW9uIE1vKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj11bihlPWJzKGUpKT9nbihlKTpvLHI9bj9uWzBdOmUuY2hhckF0KDApLGk9bj9TbyhuLDEpLmpvaW4oXCJcIik6ZS5zbGljZSgxKTtyZXR1cm4gclt0XSgpK2l9fWZ1bmN0aW9uIFBvKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gTWUoWnMocXMoZSkucmVwbGFjZSh0ZSxcIlwiKSksdCxcIlwiKX19ZnVuY3Rpb24gV28odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGVbMF0pO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10pO2Nhc2UgNTpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdKTtjYXNlIDY6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdKTtjYXNlIDc6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0pfXZhciBuPUZuKHQucHJvdG90eXBlKSxyPXQuYXBwbHkobixlKTtyZXR1cm4gZXMocik/cjpufX1mdW5jdGlvbiAkbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3ZhciBpPVJ0KGUpO2lmKCFHYShlKSl7dmFyIGE9Y2kobiwzKTtlPUxzKGUpLG49ZnVuY3Rpb24odCl7cmV0dXJuIGEoaVt0XSx0LGkpfX12YXIgcz10KGUsbixyKTtyZXR1cm4gcz4tMT9pW2E/ZVtzXTpzXTpvfX1mdW5jdGlvbiBEbyh0KXtyZXR1cm4gb2koKGZ1bmN0aW9uKGUpe3ZhciBuPWUubGVuZ3RoLHI9bixhPXFuLnByb3RvdHlwZS50aHJ1O2Zvcih0JiZlLnJldmVyc2UoKTtyLS07KXt2YXIgcz1lW3JdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMpdGhyb3cgbmV3IEJ0KGkpO2lmKGEmJiF1JiZcIndyYXBwZXJcIj09dWkocykpdmFyIHU9bmV3IHFuKFtdLCEwKX1mb3Iocj11P3I6bjsrK3I8bjspe3ZhciBsPXVpKHM9ZVtyXSksYz1cIndyYXBwZXJcIj09bD9zaShzKTpvO3U9YyYmU2koY1swXSkmJjQyND09Y1sxXSYmIWNbNF0ubGVuZ3RoJiYxPT1jWzldP3VbdWkoY1swXSldLmFwcGx5KHUsY1szXSk6MT09cy5sZW5ndGgmJlNpKHMpP3VbbF0oKTp1LnRocnUocyl9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLHI9dFswXTtpZih1JiYxPT10Lmxlbmd0aCYmSGEocikpcmV0dXJuIHUucGxhbnQocikudmFsdWUoKTtmb3IodmFyIG89MCxpPW4/ZVtvXS5hcHBseSh0aGlzLHQpOnI7KytvPG47KWk9ZVtvXS5jYWxsKHRoaXMsaSk7cmV0dXJuIGl9fSkpfWZ1bmN0aW9uIEZvKHQsZSxuLGksYSxzLHUsbCxjLGQpe3ZhciBoPWUmZixwPTEmZSxnPTImZSx5PTI0JmUsbT01MTImZSx2PWc/bzpXbyh0KTtyZXR1cm4gZnVuY3Rpb24gZigpe2Zvcih2YXIgYj1hcmd1bWVudHMubGVuZ3RoLHc9cihiKSxfPWI7Xy0tOyl3W19dPWFyZ3VtZW50c1tfXTtpZih5KXZhciBFPWxpKGYpLFM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5sZW5ndGgscj0wO24tLTspdFtuXT09PWUmJisrcjtyZXR1cm4gcn0odyxFKTtpZihpJiYodz1Dbyh3LGksYSx5KSkscyYmKHc9Qm8odyxzLHUseSkpLGItPVMseSYmYjxkKXt2YXIgQT1mbih3LEUpO3JldHVybiBZbyh0LGUsRm8sZi5wbGFjZWhvbGRlcixuLHcsQSxsLGMsZC1iKX12YXIgST1wP246dGhpcyxUPWc/SVt0XTp0O3JldHVybiBiPXcubGVuZ3RoLGw/dz1mdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoLHI9d24oZS5sZW5ndGgsbiksaT1rbyh0KTtmb3IoO3ItLTspe3ZhciBhPWVbcl07dFtyXT13aShhLG4pP2lbYV06b31yZXR1cm4gdH0odyxsKTptJiZiPjEmJncucmV2ZXJzZSgpLGgmJmM8YiYmKHcubGVuZ3RoPWMpLHRoaXMmJnRoaXMhPT1nZSYmdGhpcyBpbnN0YW5jZW9mIGYmJihUPXZ8fFdvKFQpKSxULmFwcGx5KEksdyl9fWZ1bmN0aW9uIHpvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBfcih0LChmdW5jdGlvbih0LG8saSl7ZShyLG4odCksbyxpKX0pKSxyfShuLHQsZShyKSx7fSl9fWZ1bmN0aW9uIHFvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIGk7aWYobj09PW8mJnI9PT1vKXJldHVybiBlO2lmKG4hPT1vJiYoaT1uKSxyIT09byl7aWYoaT09PW8pcmV0dXJuIHI7XCJzdHJpbmdcIj09dHlwZW9mIG58fFwic3RyaW5nXCI9PXR5cGVvZiByPyhuPWNvKG4pLHI9Y28ocikpOihuPWxvKG4pLHI9bG8ocikpLGk9dChuLHIpfXJldHVybiBpfX1mdW5jdGlvbiBIbyh0KXtyZXR1cm4gb2koKGZ1bmN0aW9uKGUpe3JldHVybiBlPWplKGUsUWUoY2koKSkpLFhyKChmdW5jdGlvbihuKXt2YXIgcj10aGlzO3JldHVybiB0KGUsKGZ1bmN0aW9uKHQpe3JldHVybiBSZSh0LHIsbil9KSl9KSl9KSl9ZnVuY3Rpb24gVm8odCxlKXt2YXIgbj0oZT1lPT09bz9cIiBcIjpjbyhlKSkubGVuZ3RoO2lmKG48MilyZXR1cm4gbj9LcihlLHQpOmU7dmFyIHI9S3IoZSxwZSh0L3BuKGUpKSk7cmV0dXJuIHVuKGUpP1NvKGduKHIpLDAsdCkuam9pbihcIlwiKTpyLnNsaWNlKDAsdCl9ZnVuY3Rpb24gR28odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gaSYmXCJudW1iZXJcIiE9dHlwZW9mIGkmJl9pKGUsbixpKSYmKG49aT1vKSxlPXBzKGUpLG49PT1vPyhuPWUsZT0wKTpuPXBzKG4pLGZ1bmN0aW9uKHQsZSxuLG8pe2Zvcih2YXIgaT0tMSxhPWJuKHBlKChlLXQpLyhufHwxKSksMCkscz1yKGEpO2EtLTspc1tvP2E6KytpXT10LHQrPW47cmV0dXJuIHN9KGUsbixpPWk9PT1vP2U8bj8xOi0xOnBzKGkpLHQpfX1mdW5jdGlvbiBKbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmXCJzdHJpbmdcIj09dHlwZW9mIG58fChlPW1zKGUpLG49bXMobikpLHQoZSxuKX19ZnVuY3Rpb24gWW8odCxlLG4scixpLGEscyx1LGYsZCl7dmFyIGg9OCZlO2V8PWg/bDpjLDQmKGUmPX4oaD9jOmwpKXx8KGUmPS00KTt2YXIgcD1bdCxlLGksaD9hOm8saD9zOm8saD9vOmEsaD9vOnMsdSxmLGRdLGc9bi5hcHBseShvLHApO3JldHVybiBTaSh0KSYma2koZyxwKSxnLnBsYWNlaG9sZGVyPXIsVWkoZyx0LGUpfWZ1bmN0aW9uIEtvKHQpe3ZhciBlPVR0W3RdO3JldHVybiBmdW5jdGlvbih0LG4pe2lmKHQ9bXModCksKG49bnVsbD09bj8wOnduKGdzKG4pLDI5MikpJiZ3ZSh0KSl7dmFyIHI9KGJzKHQpK1wiZVwiKS5zcGxpdChcImVcIik7cmV0dXJuKygocj0oYnMoZShyWzBdK1wiZVwiKygrclsxXStuKSkpK1wiZVwiKS5zcGxpdChcImVcIikpWzBdK1wiZVwiKygrclsxXS1uKSl9cmV0dXJuIGUodCl9fXZhciBYbz14biYmMS9kbihuZXcgeG4oWywtMF0pKVsxXT09aD9mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHhuKHQpfTpsdTtmdW5jdGlvbiBabyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49eWkoZSk7cmV0dXJuIG49PUk/bG4oZSk6bj09Qj9obihlKTpmdW5jdGlvbih0LGUpe3JldHVybiBqZShlLChmdW5jdGlvbihlKXtyZXR1cm5bZSx0W2VdXX0pKX0oZSx0KGUpKX19ZnVuY3Rpb24gUW8odCxlLG4sYSxoLHAsZyx5KXt2YXIgbT0yJmU7aWYoIW0mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO3ZhciB2PWE/YS5sZW5ndGg6MDtpZih2fHwoZSY9LTk3LGE9aD1vKSxnPWc9PT1vP2c6Ym4oZ3MoZyksMCkseT15PT09bz95OmdzKHkpLHYtPWg/aC5sZW5ndGg6MCxlJmMpe3ZhciBiPWEsdz1oO2E9aD1vfXZhciBfPW0/bzpzaSh0KSxFPVt0LGUsbixhLGgsYix3LHAsZyx5XTtpZihfJiZmdW5jdGlvbih0LGUpe3ZhciBuPXRbMV0scj1lWzFdLG89bnxyLGk9bzwxMzEsYT1yPT1mJiY4PT1ufHxyPT1mJiZuPT1kJiZ0WzddLmxlbmd0aDw9ZVs4XXx8Mzg0PT1yJiZlWzddLmxlbmd0aDw9ZVs4XSYmOD09bjtpZighaSYmIWEpcmV0dXJuIHQ7MSZyJiYodFsyXT1lWzJdLG98PTEmbj8wOjQpO3ZhciB1PWVbM107aWYodSl7dmFyIGw9dFszXTt0WzNdPWw/Q28obCx1LGVbNF0pOnUsdFs0XT1sP2ZuKHRbM10scyk6ZVs0XX0odT1lWzVdKSYmKGw9dFs1XSx0WzVdPWw/Qm8obCx1LGVbNl0pOnUsdFs2XT1sP2ZuKHRbNV0scyk6ZVs2XSk7KHU9ZVs3XSkmJih0WzddPXUpO3ImZiYmKHRbOF09bnVsbD09dFs4XT9lWzhdOnduKHRbOF0sZVs4XSkpO251bGw9PXRbOV0mJih0WzldPWVbOV0pO3RbMF09ZVswXSx0WzFdPW99KEUsXyksdD1FWzBdLGU9RVsxXSxuPUVbMl0sYT1FWzNdLGg9RVs0XSwhKHk9RVs5XT1FWzldPT09bz9tPzA6dC5sZW5ndGg6Ym4oRVs5XS12LDApKSYmMjQmZSYmKGUmPS0yNSksZSYmMSE9ZSlTPTg9PWV8fGU9PXU/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVdvKHQpO3JldHVybiBmdW5jdGlvbiBhKCl7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsdT1yKHMpLGw9cyxjPWxpKGEpO2wtLTspdVtsXT1hcmd1bWVudHNbbF07dmFyIGY9czwzJiZ1WzBdIT09YyYmdVtzLTFdIT09Yz9bXTpmbih1LGMpO3JldHVybihzLT1mLmxlbmd0aCk8bj9Zbyh0LGUsRm8sYS5wbGFjZWhvbGRlcixvLHUsZixvLG8sbi1zKTpSZSh0aGlzJiZ0aGlzIT09Z2UmJnRoaXMgaW5zdGFuY2VvZiBhP2k6dCx0aGlzLHUpfX0odCxlLHkpOmUhPWwmJjMzIT1lfHxoLmxlbmd0aD9Gby5hcHBseShvLEUpOmZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPTEmZSxhPVdvKHQpO3JldHVybiBmdW5jdGlvbiBlKCl7Zm9yKHZhciBzPS0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPS0xLGM9by5sZW5ndGgsZj1yKGMrdSksZD10aGlzJiZ0aGlzIT09Z2UmJnRoaXMgaW5zdGFuY2VvZiBlP2E6dDsrK2w8YzspZltsXT1vW2xdO2Zvcig7dS0tOylmW2wrK109YXJndW1lbnRzWysrc107cmV0dXJuIFJlKGQsaT9uOnRoaXMsZil9fSh0LGUsbixhKTtlbHNlIHZhciBTPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0xJmUsbz1Xbyh0KTtyZXR1cm4gZnVuY3Rpb24gZSgpe3JldHVybih0aGlzJiZ0aGlzIT09Z2UmJnRoaXMgaW5zdGFuY2VvZiBlP286dCkuYXBwbHkocj9uOnRoaXMsYXJndW1lbnRzKX19KHQsZSxuKTtyZXR1cm4gVWkoKF8/ZW86a2kpKFMsRSksdCxlKX1mdW5jdGlvbiB0aSh0LGUsbixyKXtyZXR1cm4gdD09PW98fERhKHQsT3Rbbl0pJiYhTnQuY2FsbChyLG4pP2U6dH1mdW5jdGlvbiBlaSh0LGUsbixyLGksYSl7cmV0dXJuIGVzKHQpJiZlcyhlKSYmKGEuc2V0KGUsdCksenIodCxlLG8sZWksYSksYS5kZWxldGUoZSkpLHR9ZnVuY3Rpb24gbmkodCl7cmV0dXJuIGlzKHQpP286dH1mdW5jdGlvbiByaSh0LGUsbixyLGksYSl7dmFyIHM9MSZuLHU9dC5sZW5ndGgsbD1lLmxlbmd0aDtpZih1IT1sJiYhKHMmJmw+dSkpcmV0dXJuITE7dmFyIGM9YS5nZXQodCksZj1hLmdldChlKTtpZihjJiZmKXJldHVybiBjPT1lJiZmPT10O3ZhciBkPS0xLGg9ITAscD0yJm4/bmV3IFluOm87Zm9yKGEuc2V0KHQsZSksYS5zZXQoZSx0KTsrK2Q8dTspe3ZhciBnPXRbZF0seT1lW2RdO2lmKHIpdmFyIG09cz9yKHksZyxkLGUsdCxhKTpyKGcseSxkLHQsZSxhKTtpZihtIT09byl7aWYobSljb250aW51ZTtoPSExO2JyZWFrfWlmKHApe2lmKCFXZShlLChmdW5jdGlvbih0LGUpe2lmKCFlbihwLGUpJiYoZz09PXR8fGkoZyx0LG4scixhKSkpcmV0dXJuIHAucHVzaChlKX0pKSl7aD0hMTticmVha319ZWxzZSBpZihnIT09eSYmIWkoZyx5LG4scixhKSl7aD0hMTticmVha319cmV0dXJuIGEuZGVsZXRlKHQpLGEuZGVsZXRlKGUpLGh9ZnVuY3Rpb24gb2kodCl7cmV0dXJuIE9pKHhpKHQsbyxWaSksdCtcIlwiKX1mdW5jdGlvbiBpaSh0KXtyZXR1cm4gSXIodCxMcyxwaSl9ZnVuY3Rpb24gYWkodCl7cmV0dXJuIElyKHQsT3MsZ2kpfXZhciBzaT1rbj9mdW5jdGlvbih0KXtyZXR1cm4ga24uZ2V0KHQpfTpsdTtmdW5jdGlvbiB1aSh0KXtmb3IodmFyIGU9dC5uYW1lK1wiXCIsbj1MbltlXSxyPU50LmNhbGwoTG4sZSk/bi5sZW5ndGg6MDtyLS07KXt2YXIgbz1uW3JdLGk9by5mdW5jO2lmKG51bGw9PWl8fGk9PXQpcmV0dXJuIG8ubmFtZX1yZXR1cm4gZX1mdW5jdGlvbiBsaSh0KXtyZXR1cm4oTnQuY2FsbChEbixcInBsYWNlaG9sZGVyXCIpP0RuOnQpLnBsYWNlaG9sZGVyfWZ1bmN0aW9uIGNpKCl7dmFyIHQ9RG4uaXRlcmF0ZWV8fGl1O3JldHVybiB0PXQ9PT1pdT9Ocjp0LGFyZ3VtZW50cy5sZW5ndGg/dChhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKTp0fWZ1bmN0aW9uIGZpKHQsZSl7dmFyIG4scixvPXQuX19kYXRhX187cmV0dXJuKFwic3RyaW5nXCI9PShyPXR5cGVvZihuPWUpKXx8XCJudW1iZXJcIj09cnx8XCJzeW1ib2xcIj09cnx8XCJib29sZWFuXCI9PXI/XCJfX3Byb3RvX19cIiE9PW46bnVsbD09PW4pP29bXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJzdHJpbmdcIjpcImhhc2hcIl06by5tYXB9ZnVuY3Rpb24gZGkodCl7Zm9yKHZhciBlPUxzKHQpLG49ZS5sZW5ndGg7bi0tOyl7dmFyIHI9ZVtuXSxvPXRbcl07ZVtuXT1bcixvLFRpKG8pXX1yZXR1cm4gZX1mdW5jdGlvbiBoaSh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/bzp0W2VdfSh0LGUpO3JldHVybiBqcihuKT9uOm99dmFyIHBpPW1lP2Z1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOih0PVJ0KHQpLExlKG1lKHQpLChmdW5jdGlvbihlKXtyZXR1cm4gWXQuY2FsbCh0LGUpfSkpKX06eXUsZ2k9bWU/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdO3Q7KU5lKGUscGkodCkpLHQ9R3QodCk7cmV0dXJuIGV9Onl1LHlpPVRyO2Z1bmN0aW9uIG1pKHQsZSxuKXtmb3IodmFyIHI9LTEsbz0oZT1fbyhlLHQpKS5sZW5ndGgsaT0hMTsrK3I8bzspe3ZhciBhPVBpKGVbcl0pO2lmKCEoaT1udWxsIT10JiZuKHQsYSkpKWJyZWFrO3Q9dFthXX1yZXR1cm4gaXx8KytyIT1vP2k6ISEobz1udWxsPT10PzA6dC5sZW5ndGgpJiZ0cyhvKSYmd2koYSxvKSYmKEhhKHQpfHxxYSh0KSl9ZnVuY3Rpb24gdmkodCl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdC5jb25zdHJ1Y3Rvcnx8SWkodCk/e306Rm4oR3QodCkpfWZ1bmN0aW9uIGJpKHQpe3JldHVybiBIYSh0KXx8cWEodCl8fCEhKFh0JiZ0JiZ0W1h0XSl9ZnVuY3Rpb24gd2kodCxlKXt2YXIgbj10eXBlb2YgdDtyZXR1cm4hIShlPW51bGw9PWU/cDplKSYmKFwibnVtYmVyXCI9PW58fFwic3ltYm9sXCIhPW4mJnd0LnRlc3QodCkpJiZ0Pi0xJiZ0JTE9PTAmJnQ8ZX1mdW5jdGlvbiBfaSh0LGUsbil7aWYoIWVzKG4pKXJldHVybiExO3ZhciByPXR5cGVvZiBlO3JldHVybiEhKFwibnVtYmVyXCI9PXI/R2EobikmJndpKGUsbi5sZW5ndGgpOlwic3RyaW5nXCI9PXImJmUgaW4gbikmJkRhKG5bZV0sdCl9ZnVuY3Rpb24gRWkodCxlKXtpZihIYSh0KSlyZXR1cm4hMTt2YXIgbj10eXBlb2YgdDtyZXR1cm4hKFwibnVtYmVyXCIhPW4mJlwic3ltYm9sXCIhPW4mJlwiYm9vbGVhblwiIT1uJiZudWxsIT10JiYhbHModCkpfHwobnQudGVzdCh0KXx8IWV0LnRlc3QodCl8fG51bGwhPWUmJnQgaW4gUnQoZSkpfWZ1bmN0aW9uIFNpKHQpe3ZhciBlPXVpKHQpLG49RG5bZV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbnx8IShlIGluIEhuLnByb3RvdHlwZSkpcmV0dXJuITE7aWYodD09PW4pcmV0dXJuITA7dmFyIHI9c2kobik7cmV0dXJuISFyJiZ0PT09clswXX0oSW4mJnlpKG5ldyBJbihuZXcgQXJyYXlCdWZmZXIoMSkpKSE9anx8VG4mJnlpKG5ldyBUbikhPUl8fFJuJiZ5aShSbi5yZXNvbHZlKCkpIT14fHx4biYmeWkobmV3IHhuKSE9Qnx8Q24mJnlpKG5ldyBDbikhPU8pJiYoeWk9ZnVuY3Rpb24odCl7dmFyIGU9VHIodCksbj1lPT1SP3QuY29uc3RydWN0b3I6byxyPW4/V2kobik6XCJcIjtpZihyKXN3aXRjaChyKXtjYXNlIE9uOnJldHVybiBqO2Nhc2UgVW46cmV0dXJuIEk7Y2FzZSBqbjpyZXR1cm4geDtjYXNlIE5uOnJldHVybiBCO2Nhc2UgTW46cmV0dXJuIE99cmV0dXJuIGV9KTt2YXIgQWk9VXQ/WmE6bXU7ZnVuY3Rpb24gSWkodCl7dmFyIGU9dCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLnByb3RvdHlwZXx8T3QpfWZ1bmN0aW9uIFRpKHQpe3JldHVybiB0PT10JiYhZXModCl9ZnVuY3Rpb24gUmkodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4mJihuW3RdPT09ZSYmKGUhPT1vfHx0IGluIFJ0KG4pKSl9fWZ1bmN0aW9uIHhpKHQsZSxuKXtyZXR1cm4gZT1ibihlPT09bz90Lmxlbmd0aC0xOmUsMCksZnVuY3Rpb24oKXtmb3IodmFyIG89YXJndW1lbnRzLGk9LTEsYT1ibihvLmxlbmd0aC1lLDApLHM9cihhKTsrK2k8YTspc1tpXT1vW2UraV07aT0tMTtmb3IodmFyIHU9cihlKzEpOysraTxlOyl1W2ldPW9baV07cmV0dXJuIHVbZV09bihzKSxSZSh0LHRoaXMsdSl9fWZ1bmN0aW9uIENpKHQsZSl7cmV0dXJuIGUubGVuZ3RoPDI/dDpBcih0LG9vKGUsMCwtMSkpfWZ1bmN0aW9uIEJpKHQsZSl7aWYoKFwiY29uc3RydWN0b3JcIiE9PWV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRbZV0pJiZcIl9fcHJvdG9fX1wiIT1lKXJldHVybiB0W2VdfXZhciBraT1qaShlbyksTGk9aGV8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdlLnNldFRpbWVvdXQodCxlKX0sT2k9amkobm8pO2Z1bmN0aW9uIFVpKHQsZSxuKXt2YXIgcj1lK1wiXCI7cmV0dXJuIE9pKHQsZnVuY3Rpb24odCxlKXt2YXIgbj1lLmxlbmd0aDtpZighbilyZXR1cm4gdDt2YXIgcj1uLTE7cmV0dXJuIGVbcl09KG4+MT9cIiYgXCI6XCJcIikrZVtyXSxlPWUuam9pbihuPjI/XCIsIFwiOlwiIFwiKSx0LnJlcGxhY2UodXQsXCJ7XFxuLyogW3dyYXBwZWQgd2l0aCBcIitlK1wiXSAqL1xcblwiKX0ocixmdW5jdGlvbih0LGUpe3JldHVybiBDZShtLChmdW5jdGlvbihuKXt2YXIgcj1cIl8uXCIrblswXTtlJm5bMV0mJiFPZSh0LHIpJiZ0LnB1c2gocil9KSksdC5zb3J0KCl9KGZ1bmN0aW9uKHQpe3ZhciBlPXQubWF0Y2gobHQpO3JldHVybiBlP2VbMV0uc3BsaXQoY3QpOltdfShyKSxuKSkpfWZ1bmN0aW9uIGppKHQpe3ZhciBlPTAsbj0wO3JldHVybiBmdW5jdGlvbigpe3ZhciByPV9uKCksaT0xNi0oci1uKTtpZihuPXIsaT4wKXtpZigrK2U+PTgwMClyZXR1cm4gYXJndW1lbnRzWzBdfWVsc2UgZT0wO3JldHVybiB0LmFwcGx5KG8sYXJndW1lbnRzKX19ZnVuY3Rpb24gTmkodCxlKXt2YXIgbj0tMSxyPXQubGVuZ3RoLGk9ci0xO2ZvcihlPWU9PT1vP3I6ZTsrK248ZTspe3ZhciBhPVlyKG4saSkscz10W2FdO3RbYV09dFtuXSx0W25dPXN9cmV0dXJuIHQubGVuZ3RoPWUsdH12YXIgTWk9ZnVuY3Rpb24odCl7dmFyIGU9amEodCwoZnVuY3Rpb24odCl7cmV0dXJuIDUwMD09PW4uc2l6ZSYmbi5jbGVhcigpLHR9KSksbj1lLmNhY2hlO3JldHVybiBlfSgoZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIDQ2PT09dC5jaGFyQ29kZUF0KDApJiZlLnB1c2goXCJcIiksdC5yZXBsYWNlKHJ0LChmdW5jdGlvbih0LG4scixvKXtlLnB1c2gocj9vLnJlcGxhY2UoaHQsXCIkMVwiKTpufHx0KX0pKSxlfSkpO2Z1bmN0aW9uIFBpKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxscyh0KSlyZXR1cm4gdDt2YXIgZT10K1wiXCI7cmV0dXJuXCIwXCI9PWUmJjEvdD09LTEvMD9cIi0wXCI6ZX1mdW5jdGlvbiBXaSh0KXtpZihudWxsIT10KXt0cnl7cmV0dXJuIGp0LmNhbGwodCl9Y2F0Y2godCl7fXRyeXtyZXR1cm4gdCtcIlwifWNhdGNoKHQpe319cmV0dXJuXCJcIn1mdW5jdGlvbiAkaSh0KXtpZih0IGluc3RhbmNlb2YgSG4pcmV0dXJuIHQuY2xvbmUoKTt2YXIgZT1uZXcgcW4odC5fX3dyYXBwZWRfXyx0Ll9fY2hhaW5fXyk7cmV0dXJuIGUuX19hY3Rpb25zX189a28odC5fX2FjdGlvbnNfXyksZS5fX2luZGV4X189dC5fX2luZGV4X18sZS5fX3ZhbHVlc19fPXQuX192YWx1ZXNfXyxlfXZhciBEaT1YcigoZnVuY3Rpb24odCxlKXtyZXR1cm4gSmEodCk/ZHIodCx2cihlLDEsSmEsITApKTpbXX0pKSxGaT1YcigoZnVuY3Rpb24odCxlKXt2YXIgbj1YaShlKTtyZXR1cm4gSmEobikmJihuPW8pLEphKHQpP2RyKHQsdnIoZSwxLEphLCEwKSxjaShuLDIpKTpbXX0pKSx6aT1YcigoZnVuY3Rpb24odCxlKXt2YXIgbj1YaShlKTtyZXR1cm4gSmEobikmJihuPW8pLEphKHQpP2RyKHQsdnIoZSwxLEphLCEwKSxvLG4pOltdfSkpO2Z1bmN0aW9uIHFpKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7aWYoIXIpcmV0dXJuLTE7dmFyIG89bnVsbD09bj8wOmdzKG4pO3JldHVybiBvPDAmJihvPWJuKHIrbywwKSksRmUodCxjaShlLDMpLG8pfWZ1bmN0aW9uIEhpKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7aWYoIXIpcmV0dXJuLTE7dmFyIGk9ci0xO3JldHVybiBuIT09byYmKGk9Z3MobiksaT1uPDA/Ym4ocitpLDApOnduKGksci0xKSksRmUodCxjaShlLDMpLGksITApfWZ1bmN0aW9uIFZpKHQpe3JldHVybihudWxsPT10PzA6dC5sZW5ndGgpP3ZyKHQsMSk6W119ZnVuY3Rpb24gR2kodCl7cmV0dXJuIHQmJnQubGVuZ3RoP3RbMF06b312YXIgSmk9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPWplKHQsYm8pO3JldHVybiBlLmxlbmd0aCYmZVswXT09PXRbMF0/QnIoZSk6W119KSksWWk9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPVhpKHQpLG49amUodCxibyk7cmV0dXJuIGU9PT1YaShuKT9lPW86bi5wb3AoKSxuLmxlbmd0aCYmblswXT09PXRbMF0/QnIobixjaShlLDIpKTpbXX0pKSxLaT1YcigoZnVuY3Rpb24odCl7dmFyIGU9WGkodCksbj1qZSh0LGJvKTtyZXR1cm4oZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bykmJm4ucG9wKCksbi5sZW5ndGgmJm5bMF09PT10WzBdP0JyKG4sbyxlKTpbXX0pKTtmdW5jdGlvbiBYaSh0KXt2YXIgZT1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIGU/dFtlLTFdOm99dmFyIFppPVhyKFFpKTtmdW5jdGlvbiBRaSh0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aCYmZSYmZS5sZW5ndGg/R3IodCxlKTp0fXZhciB0YT1vaSgoZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10PzA6dC5sZW5ndGgscj1zcih0LGUpO3JldHVybiBKcih0LGplKGUsKGZ1bmN0aW9uKHQpe3JldHVybiB3aSh0LG4pPyt0OnR9KSkuc29ydCh4bykpLHJ9KSk7ZnVuY3Rpb24gZWEodCl7cmV0dXJuIG51bGw9PXQ/dDpBbi5jYWxsKHQpfXZhciBuYT1YcigoZnVuY3Rpb24odCl7cmV0dXJuIGZvKHZyKHQsMSxKYSwhMCkpfSkpLHJhPVhyKChmdW5jdGlvbih0KXt2YXIgZT1YaSh0KTtyZXR1cm4gSmEoZSkmJihlPW8pLGZvKHZyKHQsMSxKYSwhMCksY2koZSwyKSl9KSksb2E9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPVhpKHQpO3JldHVybiBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpvLGZvKHZyKHQsMSxKYSwhMCksbyxlKX0pKTtmdW5jdGlvbiBpYSh0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybltdO3ZhciBlPTA7cmV0dXJuIHQ9TGUodCwoZnVuY3Rpb24odCl7aWYoSmEodCkpcmV0dXJuIGU9Ym4odC5sZW5ndGgsZSksITB9KSksWGUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGplKHQsR2UoZSkpfSkpfWZ1bmN0aW9uIGFhKHQsZSl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm5bXTt2YXIgbj1pYSh0KTtyZXR1cm4gbnVsbD09ZT9uOmplKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBSZShlLG8sdCl9KSl9dmFyIHNhPVhyKChmdW5jdGlvbih0LGUpe3JldHVybiBKYSh0KT9kcih0LGUpOltdfSkpLHVhPVhyKChmdW5jdGlvbih0KXtyZXR1cm4gbW8oTGUodCxKYSkpfSkpLGxhPVhyKChmdW5jdGlvbih0KXt2YXIgZT1YaSh0KTtyZXR1cm4gSmEoZSkmJihlPW8pLG1vKExlKHQsSmEpLGNpKGUsMikpfSkpLGNhPVhyKChmdW5jdGlvbih0KXt2YXIgZT1YaSh0KTtyZXR1cm4gZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6byxtbyhMZSh0LEphKSxvLGUpfSkpLGZhPVhyKGlhKTt2YXIgZGE9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49ZT4xP3RbZS0xXTpvO3JldHVybiBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/KHQucG9wKCksbik6byxhYSh0LG4pfSkpO2Z1bmN0aW9uIGhhKHQpe3ZhciBlPURuKHQpO3JldHVybiBlLl9fY2hhaW5fXz0hMCxlfWZ1bmN0aW9uIHBhKHQsZSl7cmV0dXJuIGUodCl9dmFyIGdhPW9pKChmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPWU/dFswXTowLHI9dGhpcy5fX3dyYXBwZWRfXyxpPWZ1bmN0aW9uKGUpe3JldHVybiBzcihlLHQpfTtyZXR1cm4hKGU+MXx8dGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpJiZyIGluc3RhbmNlb2YgSG4mJndpKG4pPygocj1yLnNsaWNlKG4sK24rKGU/MTowKSkpLl9fYWN0aW9uc19fLnB1c2goe2Z1bmM6cGEsYXJnczpbaV0sdGhpc0FyZzpvfSksbmV3IHFuKHIsdGhpcy5fX2NoYWluX18pLnRocnUoKGZ1bmN0aW9uKHQpe3JldHVybiBlJiYhdC5sZW5ndGgmJnQucHVzaChvKSx0fSkpKTp0aGlzLnRocnUoaSl9KSk7dmFyIHlhPU9vKChmdW5jdGlvbih0LGUsbil7TnQuY2FsbCh0LG4pPysrdFtuXTphcih0LG4sMSl9KSk7dmFyIG1hPSRvKHFpKSx2YT0kbyhIaSk7ZnVuY3Rpb24gYmEodCxlKXtyZXR1cm4oSGEodCk/Q2U6aHIpKHQsY2koZSwzKSl9ZnVuY3Rpb24gd2EodCxlKXtyZXR1cm4oSGEodCk/QmU6cHIpKHQsY2koZSwzKSl9dmFyIF9hPU9vKChmdW5jdGlvbih0LGUsbil7TnQuY2FsbCh0LG4pP3Rbbl0ucHVzaChlKTphcih0LG4sW2VdKX0pKTt2YXIgRWE9WHIoKGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz0tMSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUsYT1HYSh0KT9yKHQubGVuZ3RoKTpbXTtyZXR1cm4gaHIodCwoZnVuY3Rpb24odCl7YVsrK29dPWk/UmUoZSx0LG4pOmtyKHQsZSxuKX0pKSxhfSkpLFNhPU9vKChmdW5jdGlvbih0LGUsbil7YXIodCxuLGUpfSkpO2Z1bmN0aW9uIEFhKHQsZSl7cmV0dXJuKEhhKHQpP2plOiRyKSh0LGNpKGUsMykpfXZhciBJYT1PbygoZnVuY3Rpb24odCxlLG4pe3Rbbj8wOjFdLnB1c2goZSl9KSwoZnVuY3Rpb24oKXtyZXR1cm5bW10sW11dfSkpO3ZhciBUYT1YcigoZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybltdO3ZhciBuPWUubGVuZ3RoO3JldHVybiBuPjEmJl9pKHQsZVswXSxlWzFdKT9lPVtdOm4+MiYmX2koZVswXSxlWzFdLGVbMl0pJiYoZT1bZVswXV0pLEhyKHQsdnIoZSwxKSxbXSl9KSksUmE9Y2V8fGZ1bmN0aW9uKCl7cmV0dXJuIGdlLkRhdGUubm93KCl9O2Z1bmN0aW9uIHhhKHQsZSxuKXtyZXR1cm4gZT1uP286ZSxlPXQmJm51bGw9PWU/dC5sZW5ndGg6ZSxRbyh0LGYsbyxvLG8sbyxlKX1mdW5jdGlvbiBDYSh0LGUpe3ZhciBuO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiB0PWdzKHQpLGZ1bmN0aW9uKCl7cmV0dXJuLS10PjAmJihuPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0PD0xJiYoZT1vKSxufX12YXIgQmE9WHIoKGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0xO2lmKG4ubGVuZ3RoKXt2YXIgbz1mbihuLGxpKEJhKSk7cnw9bH1yZXR1cm4gUW8odCxyLGUsbixvKX0pKSxrYT1YcigoZnVuY3Rpb24odCxlLG4pe3ZhciByPTM7aWYobi5sZW5ndGgpe3ZhciBvPWZuKG4sbGkoa2EpKTtyfD1sfXJldHVybiBRbyhlLHIsdCxuLG8pfSkpO2Z1bmN0aW9uIExhKHQsZSxuKXt2YXIgcixhLHMsdSxsLGMsZj0wLGQ9ITEsaD0hMSxwPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO2Z1bmN0aW9uIGcoZSl7dmFyIG49cixpPWE7cmV0dXJuIHI9YT1vLGY9ZSx1PXQuYXBwbHkoaSxuKX1mdW5jdGlvbiB5KHQpe3ZhciBuPXQtYztyZXR1cm4gYz09PW98fG4+PWV8fG48MHx8aCYmdC1mPj1zfWZ1bmN0aW9uIG0oKXt2YXIgdD1SYSgpO2lmKHkodCkpcmV0dXJuIHYodCk7bD1MaShtLGZ1bmN0aW9uKHQpe3ZhciBuPWUtKHQtYyk7cmV0dXJuIGg/d24obixzLSh0LWYpKTpufSh0KSl9ZnVuY3Rpb24gdih0KXtyZXR1cm4gbD1vLHAmJnI/Zyh0KToocj1hPW8sdSl9ZnVuY3Rpb24gYigpe3ZhciB0PVJhKCksbj15KHQpO2lmKHI9YXJndW1lbnRzLGE9dGhpcyxjPXQsbil7aWYobD09PW8pcmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmPXQsbD1MaShtLGUpLGQ/Zyh0KTp1fShjKTtpZihoKXJldHVybiBBbyhsKSxsPUxpKG0sZSksZyhjKX1yZXR1cm4gbD09PW8mJihsPUxpKG0sZSkpLHV9cmV0dXJuIGU9bXMoZSl8fDAsZXMobikmJihkPSEhbi5sZWFkaW5nLHM9KGg9XCJtYXhXYWl0XCJpbiBuKT9ibihtcyhuLm1heFdhaXQpfHwwLGUpOnMscD1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpwKSxiLmNhbmNlbD1mdW5jdGlvbigpe2whPT1vJiZBbyhsKSxmPTAscj1jPWE9bD1vfSxiLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIGw9PT1vP3U6dihSYSgpKX0sYn12YXIgT2E9WHIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZyKHQsMSxlKX0pKSxVYT1YcigoZnVuY3Rpb24odCxlLG4pe3JldHVybiBmcih0LG1zKGUpfHwwLG4pfSkpO2Z1bmN0aW9uIGphKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdHx8bnVsbCE9ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgQnQoaSk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgcj1hcmd1bWVudHMsbz1lP2UuYXBwbHkodGhpcyxyKTpyWzBdLGk9bi5jYWNoZTtpZihpLmhhcyhvKSlyZXR1cm4gaS5nZXQobyk7dmFyIGE9dC5hcHBseSh0aGlzLHIpO3JldHVybiBuLmNhY2hlPWkuc2V0KG8sYSl8fGksYX07cmV0dXJuIG4uY2FjaGU9bmV3KGphLkNhY2hlfHxKbiksbn1mdW5jdGlvbiBOYSh0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIXQuY2FsbCh0aGlzKTtjYXNlIDE6cmV0dXJuIXQuY2FsbCh0aGlzLGVbMF0pO2Nhc2UgMjpyZXR1cm4hdC5jYWxsKHRoaXMsZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIXQuY2FsbCh0aGlzLGVbMF0sZVsxXSxlWzJdKX1yZXR1cm4hdC5hcHBseSh0aGlzLGUpfX1qYS5DYWNoZT1Kbjt2YXIgTWE9RW8oKGZ1bmN0aW9uKHQsZSl7dmFyIG49KGU9MT09ZS5sZW5ndGgmJkhhKGVbMF0pP2plKGVbMF0sUWUoY2koKSkpOmplKHZyKGUsMSksUWUoY2koKSkpKS5sZW5ndGg7cmV0dXJuIFhyKChmdW5jdGlvbihyKXtmb3IodmFyIG89LTEsaT13bihyLmxlbmd0aCxuKTsrK288aTspcltvXT1lW29dLmNhbGwodGhpcyxyW29dKTtyZXR1cm4gUmUodCx0aGlzLHIpfSkpfSkpLFBhPVhyKChmdW5jdGlvbih0LGUpe3ZhciBuPWZuKGUsbGkoUGEpKTtyZXR1cm4gUW8odCxsLG8sZSxuKX0pKSxXYT1YcigoZnVuY3Rpb24odCxlKXt2YXIgbj1mbihlLGxpKFdhKSk7cmV0dXJuIFFvKHQsYyxvLGUsbil9KSksJGE9b2koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFvKHQsZCxvLG8sbyxlKX0pKTtmdW5jdGlvbiBEYSh0LGUpe3JldHVybiB0PT09ZXx8dCE9dCYmZSE9ZX12YXIgRmE9Sm8oUnIpLHphPUpvKChmdW5jdGlvbih0LGUpe3JldHVybiB0Pj1lfSkpLHFhPUxyKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/THI6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZOdC5jYWxsKHQsXCJjYWxsZWVcIikmJiFZdC5jYWxsKHQsXCJjYWxsZWVcIil9LEhhPXIuaXNBcnJheSxWYT1fZT9RZShfZSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZUcih0KT09VX07ZnVuY3Rpb24gR2EodCl7cmV0dXJuIG51bGwhPXQmJnRzKHQubGVuZ3RoKSYmIVphKHQpfWZ1bmN0aW9uIEphKHQpe3JldHVybiBucyh0KSYmR2EodCl9dmFyIFlhPWJlfHxtdSxLYT1FZT9RZShFZSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZUcih0KT09X307ZnVuY3Rpb24gWGEodCl7aWYoIW5zKHQpKXJldHVybiExO3ZhciBlPVRyKHQpO3JldHVybiBlPT1FfHxcIltvYmplY3QgRE9NRXhjZXB0aW9uXVwiPT1lfHxcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lJiYhaXModCl9ZnVuY3Rpb24gWmEodCl7aWYoIWVzKHQpKXJldHVybiExO3ZhciBlPVRyKHQpO3JldHVybiBlPT1TfHxlPT1BfHxcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIj09ZXx8XCJbb2JqZWN0IFByb3h5XVwiPT1lfWZ1bmN0aW9uIFFhKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PT1ncyh0KX1mdW5jdGlvbiB0cyh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZ0PD1wfWZ1bmN0aW9uIGVzKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiBudWxsIT10JiYoXCJvYmplY3RcIj09ZXx8XCJmdW5jdGlvblwiPT1lKX1mdW5jdGlvbiBucyh0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9dmFyIHJzPVNlP1FlKFNlKTpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJnlpKHQpPT1JfTtmdW5jdGlvbiBvcyh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdHx8bnModCkmJlRyKHQpPT1UfWZ1bmN0aW9uIGlzKHQpe2lmKCFucyh0KXx8VHIodCkhPVIpcmV0dXJuITE7dmFyIGU9R3QodCk7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIG49TnQuY2FsbChlLFwiY29uc3RydWN0b3JcIikmJmUuY29uc3RydWN0b3I7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbiBpbnN0YW5jZW9mIG4mJmp0LmNhbGwobik9PSR0fXZhciBhcz1BZT9RZShBZSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZUcih0KT09Q307dmFyIHNzPUllP1FlKEllKTpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJnlpKHQpPT1CfTtmdW5jdGlvbiB1cyh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8IUhhKHQpJiZucyh0KSYmVHIodCk9PWt9ZnVuY3Rpb24gbHModCl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHR8fG5zKHQpJiZUcih0KT09TH12YXIgY3M9VGU/UWUoVGUpOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmdHModC5sZW5ndGgpJiYhIXVlW1RyKHQpXX07dmFyIGZzPUpvKFdyKSxkcz1KbygoZnVuY3Rpb24odCxlKXtyZXR1cm4gdDw9ZX0pKTtmdW5jdGlvbiBocyh0KXtpZighdClyZXR1cm5bXTtpZihHYSh0KSlyZXR1cm4gdXModCk/Z24odCk6a28odCk7aWYoWnQmJnRbWnRdKXJldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXTshKGU9dC5uZXh0KCkpLmRvbmU7KW4ucHVzaChlLnZhbHVlKTtyZXR1cm4gbn0odFtadF0oKSk7dmFyIGU9eWkodCk7cmV0dXJuKGU9PUk/bG46ZT09Qj9kbjpEcykodCl9ZnVuY3Rpb24gcHModCl7cmV0dXJuIHQ/KHQ9bXModCkpPT09aHx8dD09PS0xLzA/MTc5NzY5MzEzNDg2MjMxNTdlMjkyKih0PDA/LTE6MSk6dD09dD90OjA6MD09PXQ/dDowfWZ1bmN0aW9uIGdzKHQpe3ZhciBlPXBzKHQpLG49ZSUxO3JldHVybiBlPT1lP24/ZS1uOmU6MH1mdW5jdGlvbiB5cyh0KXtyZXR1cm4gdD91cihncyh0KSwwLHkpOjB9ZnVuY3Rpb24gbXModCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYobHModCkpcmV0dXJuIGc7aWYoZXModCkpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudmFsdWVPZj90LnZhbHVlT2YoKTp0O3Q9ZXMoZSk/ZStcIlwiOmV9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIDA9PT10P3Q6K3Q7dD1aZSh0KTt2YXIgbj1tdC50ZXN0KHQpO3JldHVybiBufHxidC50ZXN0KHQpP2RlKHQuc2xpY2UoMiksbj8yOjgpOnl0LnRlc3QodCk/ZzordH1mdW5jdGlvbiB2cyh0KXtyZXR1cm4gTG8odCxPcyh0KSl9ZnVuY3Rpb24gYnModCl7cmV0dXJuIG51bGw9PXQ/XCJcIjpjbyh0KX12YXIgd3M9VW8oKGZ1bmN0aW9uKHQsZSl7aWYoSWkoZSl8fEdhKGUpKUxvKGUsTHMoZSksdCk7ZWxzZSBmb3IodmFyIG4gaW4gZSlOdC5jYWxsKGUsbikmJm5yKHQsbixlW25dKX0pKSxfcz1VbygoZnVuY3Rpb24odCxlKXtMbyhlLE9zKGUpLHQpfSkpLEVzPVVvKChmdW5jdGlvbih0LGUsbixyKXtMbyhlLE9zKGUpLHQscil9KSksU3M9VW8oKGZ1bmN0aW9uKHQsZSxuLHIpe0xvKGUsTHMoZSksdCxyKX0pKSxBcz1vaShzcik7dmFyIElzPVhyKChmdW5jdGlvbih0LGUpe3Q9UnQodCk7dmFyIG49LTEscj1lLmxlbmd0aCxpPXI+Mj9lWzJdOm87Zm9yKGkmJl9pKGVbMF0sZVsxXSxpKSYmKHI9MSk7KytuPHI7KWZvcih2YXIgYT1lW25dLHM9T3MoYSksdT0tMSxsPXMubGVuZ3RoOysrdTxsOyl7dmFyIGM9c1t1XSxmPXRbY107KGY9PT1vfHxEYShmLE90W2NdKSYmIU50LmNhbGwodCxjKSkmJih0W2NdPWFbY10pfXJldHVybiB0fSkpLFRzPVhyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wdXNoKG8sZWkpLFJlKGpzLG8sdCl9KSk7ZnVuY3Rpb24gUnModCxlLG4pe3ZhciByPW51bGw9PXQ/bzpBcih0LGUpO3JldHVybiByPT09bz9uOnJ9ZnVuY3Rpb24geHModCxlKXtyZXR1cm4gbnVsbCE9dCYmbWkodCxlLENyKX12YXIgQ3M9em8oKGZ1bmN0aW9uKHQsZSxuKXtudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnRvU3RyaW5nJiYoZT1XdC5jYWxsKGUpKSx0W2VdPW59KSxldShvdSkpLEJzPXpvKChmdW5jdGlvbih0LGUsbil7bnVsbCE9ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZS50b1N0cmluZyYmKGU9V3QuY2FsbChlKSksTnQuY2FsbCh0LGUpP3RbZV0ucHVzaChuKTp0W2VdPVtuXX0pLGNpKSxrcz1Ycihrcik7ZnVuY3Rpb24gTHModCl7cmV0dXJuIEdhKHQpP1huKHQpOk1yKHQpfWZ1bmN0aW9uIE9zKHQpe3JldHVybiBHYSh0KT9Ybih0LCEwKTpQcih0KX12YXIgVXM9VW8oKGZ1bmN0aW9uKHQsZSxuKXt6cih0LGUsbil9KSksanM9VW8oKGZ1bmN0aW9uKHQsZSxuLHIpe3pyKHQsZSxuLHIpfSkpLE5zPW9pKChmdW5jdGlvbih0LGUpe3ZhciBuPXt9O2lmKG51bGw9PXQpcmV0dXJuIG47dmFyIHI9ITE7ZT1qZShlLChmdW5jdGlvbihlKXtyZXR1cm4gZT1fbyhlLHQpLHJ8fChyPWUubGVuZ3RoPjEpLGV9KSksTG8odCxhaSh0KSxuKSxyJiYobj1scihuLDcsbmkpKTtmb3IodmFyIG89ZS5sZW5ndGg7by0tOylobyhuLGVbb10pO3JldHVybiBufSkpO3ZhciBNcz1vaSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD97fTpmdW5jdGlvbih0LGUpe3JldHVybiBWcih0LGUsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHhzKHQsbil9KSl9KHQsZSl9KSk7ZnVuY3Rpb24gUHModCxlKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBuPWplKGFpKHQpLChmdW5jdGlvbih0KXtyZXR1cm5bdF19KSk7cmV0dXJuIGU9Y2koZSksVnIodCxuLChmdW5jdGlvbih0LG4pe3JldHVybiBlKHQsblswXSl9KSl9dmFyIFdzPVpvKExzKSwkcz1abyhPcyk7ZnVuY3Rpb24gRHModCl7cmV0dXJuIG51bGw9PXQ/W106dG4odCxMcyh0KSl9dmFyIEZzPVBvKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLHQrKG4/enMoZSk6ZSl9KSk7ZnVuY3Rpb24genModCl7cmV0dXJuIFhzKGJzKHQpLnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIHFzKHQpe3JldHVybih0PWJzKHQpKSYmdC5yZXBsYWNlKF90LG9uKS5yZXBsYWNlKGVlLFwiXCIpfXZhciBIcz1QbygoZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KyhuP1wiLVwiOlwiXCIpK2UudG9Mb3dlckNhc2UoKX0pKSxWcz1QbygoZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KyhuP1wiIFwiOlwiXCIpK2UudG9Mb3dlckNhc2UoKX0pKSxHcz1NbyhcInRvTG93ZXJDYXNlXCIpO3ZhciBKcz1QbygoZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KyhuP1wiX1wiOlwiXCIpK2UudG9Mb3dlckNhc2UoKX0pKTt2YXIgWXM9UG8oKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCsobj9cIiBcIjpcIlwiKStYcyhlKX0pKTt2YXIgS3M9UG8oKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCsobj9cIiBcIjpcIlwiKStlLnRvVXBwZXJDYXNlKCl9KSksWHM9TW8oXCJ0b1VwcGVyQ2FzZVwiKTtmdW5jdGlvbiBacyh0LGUsbil7cmV0dXJuIHQ9YnModCksKGU9bj9vOmUpPT09bz9mdW5jdGlvbih0KXtyZXR1cm4gaWUudGVzdCh0KX0odCk/ZnVuY3Rpb24odCl7cmV0dXJuIHQubWF0Y2gocmUpfHxbXX0odCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQubWF0Y2goZnQpfHxbXX0odCk6dC5tYXRjaChlKXx8W119dmFyIFFzPVhyKChmdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gUmUodCxvLGUpfWNhdGNoKHQpe3JldHVybiBYYSh0KT90Om5ldyBBdCh0KX19KSksdHU9b2koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIENlKGUsKGZ1bmN0aW9uKGUpe2U9UGkoZSksYXIodCxlLEJhKHRbZV0sdCkpfSkpLHR9KSk7ZnVuY3Rpb24gZXUodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fXZhciBudT1EbygpLHJ1PURvKCEwKTtmdW5jdGlvbiBvdSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBpdSh0KXtyZXR1cm4gTnIoXCJmdW5jdGlvblwiPT10eXBlb2YgdD90OmxyKHQsMSkpfXZhciBhdT1YcigoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGtyKG4sdCxlKX19KSksc3U9WHIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBrcih0LG4sZSl9fSkpO2Z1bmN0aW9uIHV1KHQsZSxuKXt2YXIgcj1McyhlKSxvPVNyKGUscik7bnVsbCE9bnx8ZXMoZSkmJihvLmxlbmd0aHx8IXIubGVuZ3RoKXx8KG49ZSxlPXQsdD10aGlzLG89U3IoZSxMcyhlKSkpO3ZhciBpPSEoZXMobikmJlwiY2hhaW5cImluIG4mJiFuLmNoYWluKSxhPVphKHQpO3JldHVybiBDZShvLChmdW5jdGlvbihuKXt2YXIgcj1lW25dO3Rbbl09cixhJiYodC5wcm90b3R5cGVbbl09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9fY2hhaW5fXztpZihpfHxlKXt2YXIgbj10KHRoaXMuX193cmFwcGVkX18pO3JldHVybihuLl9fYWN0aW9uc19fPWtvKHRoaXMuX19hY3Rpb25zX18pKS5wdXNoKHtmdW5jOnIsYXJnczphcmd1bWVudHMsdGhpc0FyZzp0fSksbi5fX2NoYWluX189ZSxufXJldHVybiByLmFwcGx5KHQsTmUoW3RoaXMudmFsdWUoKV0sYXJndW1lbnRzKSl9KX0pKSx0fWZ1bmN0aW9uIGx1KCl7fXZhciBjdT1IbyhqZSksZnU9SG8oa2UpLGR1PUhvKFdlKTtmdW5jdGlvbiBodSh0KXtyZXR1cm4gRWkodCk/R2UoUGkodCkpOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gQXIoZSx0KX19KHQpfXZhciBwdT1HbygpLGd1PUdvKCEwKTtmdW5jdGlvbiB5dSgpe3JldHVybltdfWZ1bmN0aW9uIG11KCl7cmV0dXJuITF9dmFyIHZ1PXFvKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSwwKSxidT1LbyhcImNlaWxcIiksd3U9cW8oKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQvZX0pLDEpLF91PUtvKFwiZmxvb3JcIik7dmFyIEV1LFN1PXFvKChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSwxKSxBdT1LbyhcInJvdW5kXCIpLEl1PXFvKChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSwwKTtyZXR1cm4gRG4uYWZ0ZXI9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBCdChpKTtyZXR1cm4gdD1ncyh0KSxmdW5jdGlvbigpe2lmKC0tdDwxKXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LERuLmFyeT14YSxEbi5hc3NpZ249d3MsRG4uYXNzaWduSW49X3MsRG4uYXNzaWduSW5XaXRoPUVzLERuLmFzc2lnbldpdGg9U3MsRG4uYXQ9QXMsRG4uYmVmb3JlPUNhLERuLmJpbmQ9QmEsRG4uYmluZEFsbD10dSxEbi5iaW5kS2V5PWthLERuLmNhc3RBcnJheT1mdW5jdGlvbigpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybltdO3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gSGEodCk/dDpbdF19LERuLmNoYWluPWhhLERuLmNodW5rPWZ1bmN0aW9uKHQsZSxuKXtlPShuP19pKHQsZSxuKTplPT09byk/MTpibihncyhlKSwwKTt2YXIgaT1udWxsPT10PzA6dC5sZW5ndGg7aWYoIWl8fGU8MSlyZXR1cm5bXTtmb3IodmFyIGE9MCxzPTAsdT1yKHBlKGkvZSkpO2E8aTspdVtzKytdPW9vKHQsYSxhKz1lKTtyZXR1cm4gdX0sRG4uY29tcGFjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGgscj0wLG89W107KytlPG47KXt2YXIgaT10W2VdO2kmJihvW3IrK109aSl9cmV0dXJuIG99LERuLmNvbmNhdD1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg7aWYoIXQpcmV0dXJuW107Zm9yKHZhciBlPXIodC0xKSxuPWFyZ3VtZW50c1swXSxvPXQ7by0tOyllW28tMV09YXJndW1lbnRzW29dO3JldHVybiBOZShIYShuKT9rbyhuKTpbbl0sdnIoZSwxKSl9LERuLmNvbmQ9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09dD8wOnQubGVuZ3RoLG49Y2koKTtyZXR1cm4gdD1lP2plKHQsKGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRbMV0pdGhyb3cgbmV3IEJ0KGkpO3JldHVybltuKHRbMF0pLHRbMV1dfSkpOltdLFhyKChmdW5jdGlvbihuKXtmb3IodmFyIHI9LTE7KytyPGU7KXt2YXIgbz10W3JdO2lmKFJlKG9bMF0sdGhpcyxuKSlyZXR1cm4gUmUob1sxXSx0aGlzLG4pfX0pKX0sRG4uY29uZm9ybXM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPUxzKHQpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gY3Iobix0LGUpfX0obHIodCwxKSl9LERuLmNvbnN0YW50PWV1LERuLmNvdW50Qnk9eWEsRG4uY3JlYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49Rm4odCk7cmV0dXJuIG51bGw9PWU/bjppcihuLGUpfSxEbi5jdXJyeT1mdW5jdGlvbiB0KGUsbixyKXt2YXIgaT1RbyhlLDgsbyxvLG8sbyxvLG49cj9vOm4pO3JldHVybiBpLnBsYWNlaG9sZGVyPXQucGxhY2Vob2xkZXIsaX0sRG4uY3VycnlSaWdodD1mdW5jdGlvbiB0KGUsbixyKXt2YXIgaT1RbyhlLHUsbyxvLG8sbyxvLG49cj9vOm4pO3JldHVybiBpLnBsYWNlaG9sZGVyPXQucGxhY2Vob2xkZXIsaX0sRG4uZGVib3VuY2U9TGEsRG4uZGVmYXVsdHM9SXMsRG4uZGVmYXVsdHNEZWVwPVRzLERuLmRlZmVyPU9hLERuLmRlbGF5PVVhLERuLmRpZmZlcmVuY2U9RGksRG4uZGlmZmVyZW5jZUJ5PUZpLERuLmRpZmZlcmVuY2VXaXRoPXppLERuLmRyb3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gcj9vbyh0LChlPW58fGU9PT1vPzE6Z3MoZSkpPDA/MDplLHIpOltdfSxEbi5kcm9wUmlnaHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gcj9vbyh0LDAsKGU9ci0oZT1ufHxlPT09bz8xOmdzKGUpKSk8MD8wOmUpOltdfSxEbi5kcm9wUmlnaHRXaGlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9nbyh0LGNpKGUsMyksITAsITApOltdfSxEbi5kcm9wV2hpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/Z28odCxjaShlLDMpLCEwKTpbXX0sRG4uZmlsbD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIGk/KG4mJlwibnVtYmVyXCIhPXR5cGVvZiBuJiZfaSh0LGUsbikmJihuPTAscj1pKSxmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10Lmxlbmd0aDtmb3IoKG49Z3MobikpPDAmJihuPS1uPmk/MDppK24pLChyPXI9PT1vfHxyPmk/aTpncyhyKSk8MCYmKHIrPWkpLHI9bj5yPzA6eXMocik7bjxyOyl0W24rK109ZTtyZXR1cm4gdH0odCxlLG4scikpOltdfSxEbi5maWx0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4oSGEodCk/TGU6bXIpKHQsY2koZSwzKSl9LERuLmZsYXRNYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdnIoQWEodCxlKSwxKX0sRG4uZmxhdE1hcERlZXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdnIoQWEodCxlKSxoKX0sRG4uZmxhdE1hcERlcHRoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj1uPT09bz8xOmdzKG4pLHZyKEFhKHQsZSksbil9LERuLmZsYXR0ZW49VmksRG4uZmxhdHRlbkRlZXA9ZnVuY3Rpb24odCl7cmV0dXJuKG51bGw9PXQ/MDp0Lmxlbmd0aCk/dnIodCxoKTpbXX0sRG4uZmxhdHRlbkRlcHRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKG51bGw9PXQ/MDp0Lmxlbmd0aCk/dnIodCxlPWU9PT1vPzE6Z3MoZSkpOltdfSxEbi5mbGlwPWZ1bmN0aW9uKHQpe3JldHVybiBRbyh0LDUxMil9LERuLmZsb3c9bnUsRG4uZmxvd1JpZ2h0PXJ1LERuLmZyb21QYWlycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGgscj17fTsrK2U8bjspe3ZhciBvPXRbZV07cltvWzBdXT1vWzFdfXJldHVybiByfSxEbi5mdW5jdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/W106U3IodCxMcyh0KSl9LERuLmZ1bmN0aW9uc0luPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOlNyKHQsT3ModCkpfSxEbi5ncm91cEJ5PV9hLERuLmluaXRpYWw9ZnVuY3Rpb24odCl7cmV0dXJuKG51bGw9PXQ/MDp0Lmxlbmd0aCk/b28odCwwLC0xKTpbXX0sRG4uaW50ZXJzZWN0aW9uPUppLERuLmludGVyc2VjdGlvbkJ5PVlpLERuLmludGVyc2VjdGlvbldpdGg9S2ksRG4uaW52ZXJ0PUNzLERuLmludmVydEJ5PUJzLERuLmludm9rZU1hcD1FYSxEbi5pdGVyYXRlZT1pdSxEbi5rZXlCeT1TYSxEbi5rZXlzPUxzLERuLmtleXNJbj1PcyxEbi5tYXA9QWEsRG4ubWFwS2V5cz1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O3JldHVybiBlPWNpKGUsMyksX3IodCwoZnVuY3Rpb24odCxyLG8pe2FyKG4sZSh0LHIsbyksdCl9KSksbn0sRG4ubWFwVmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307cmV0dXJuIGU9Y2koZSwzKSxfcih0LChmdW5jdGlvbih0LHIsbyl7YXIobixyLGUodCxyLG8pKX0pKSxufSxEbi5tYXRjaGVzPWZ1bmN0aW9uKHQpe3JldHVybiBEcihscih0LDEpKX0sRG4ubWF0Y2hlc1Byb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZyKHQsbHIoZSwxKSl9LERuLm1lbW9pemU9amEsRG4ubWVyZ2U9VXMsRG4ubWVyZ2VXaXRoPWpzLERuLm1ldGhvZD1hdSxEbi5tZXRob2RPZj1zdSxEbi5taXhpbj11dSxEbi5uZWdhdGU9TmEsRG4ubnRoQXJnPWZ1bmN0aW9uKHQpe3JldHVybiB0PWdzKHQpLFhyKChmdW5jdGlvbihlKXtyZXR1cm4gcXIoZSx0KX0pKX0sRG4ub21pdD1OcyxEbi5vbWl0Qnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUHModCxOYShjaShlKSkpfSxEbi5vbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBDYSgyLHQpfSxEbi5vcmRlckJ5PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBudWxsPT10P1tdOihIYShlKXx8KGU9bnVsbD09ZT9bXTpbZV0pLEhhKG49cj9vOm4pfHwobj1udWxsPT1uP1tdOltuXSksSHIodCxlLG4pKX0sRG4ub3Zlcj1jdSxEbi5vdmVyQXJncz1NYSxEbi5vdmVyRXZlcnk9ZnUsRG4ub3ZlclNvbWU9ZHUsRG4ucGFydGlhbD1QYSxEbi5wYXJ0aWFsUmlnaHQ9V2EsRG4ucGFydGl0aW9uPUlhLERuLnBpY2s9TXMsRG4ucGlja0J5PVBzLERuLnByb3BlcnR5PWh1LERuLnByb3BlcnR5T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10P286QXIodCxlKX19LERuLnB1bGw9WmksRG4ucHVsbEFsbD1RaSxEbi5wdWxsQWxsQnk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZ0Lmxlbmd0aCYmZSYmZS5sZW5ndGg/R3IodCxlLGNpKG4sMikpOnR9LERuLnB1bGxBbGxXaXRoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmdC5sZW5ndGgmJmUmJmUubGVuZ3RoP0dyKHQsZSxvLG4pOnR9LERuLnB1bGxBdD10YSxEbi5yYW5nZT1wdSxEbi5yYW5nZVJpZ2h0PWd1LERuLnJlYXJnPSRhLERuLnJlamVjdD1mdW5jdGlvbih0LGUpe3JldHVybihIYSh0KT9MZTptcikodCxOYShjaShlLDMpKSl9LERuLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIG47dmFyIHI9LTEsbz1bXSxpPXQubGVuZ3RoO2ZvcihlPWNpKGUsMyk7KytyPGk7KXt2YXIgYT10W3JdO2UoYSxyLHQpJiYobi5wdXNoKGEpLG8ucHVzaChyKSl9cmV0dXJuIEpyKHQsbyksbn0sRG4ucmVzdD1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiBYcih0LGU9ZT09PW8/ZTpncyhlKSl9LERuLnJldmVyc2U9ZWEsRG4uc2FtcGxlU2l6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9KG4/X2kodCxlLG4pOmU9PT1vKT8xOmdzKGUpLChIYSh0KT9RbjpRcikodCxlKX0sRG4uc2V0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbD09dD90OnRvKHQsZSxuKX0sRG4uc2V0V2l0aD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3I6byxudWxsPT10P3Q6dG8odCxlLG4scil9LERuLnNodWZmbGU9ZnVuY3Rpb24odCl7cmV0dXJuKEhhKHQpP3RyOnJvKSh0KX0sRG4uc2xpY2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gcj8obiYmXCJudW1iZXJcIiE9dHlwZW9mIG4mJl9pKHQsZSxuKT8oZT0wLG49cik6KGU9bnVsbD09ZT8wOmdzKGUpLG49bj09PW8/cjpncyhuKSksb28odCxlLG4pKTpbXX0sRG4uc29ydEJ5PVRhLERuLnNvcnRlZFVuaXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP3VvKHQpOltdfSxEbi5zb3J0ZWRVbmlxQnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/dW8odCxjaShlLDIpKTpbXX0sRG4uc3BsaXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuJiZcIm51bWJlclwiIT10eXBlb2YgbiYmX2kodCxlLG4pJiYoZT1uPW8pLChuPW49PT1vP3k6bj4+PjApPyh0PWJzKHQpKSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxudWxsIT1lJiYhYXMoZSkpJiYhKGU9Y28oZSkpJiZ1bih0KT9Tbyhnbih0KSwwLG4pOnQuc3BsaXQoZSxuKTpbXX0sRG4uc3ByZWFkPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIGU9bnVsbD09ZT8wOmJuKGdzKGUpLDApLFhyKChmdW5jdGlvbihuKXt2YXIgcj1uW2VdLG89U28obiwwLGUpO3JldHVybiByJiZOZShvLHIpLFJlKHQsdGhpcyxvKX0pKX0sRG4udGFpbD1mdW5jdGlvbih0KXt2YXIgZT1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIGU/b28odCwxLGUpOltdfSxEbi50YWtlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmdC5sZW5ndGg/b28odCwwLChlPW58fGU9PT1vPzE6Z3MoZSkpPDA/MDplKTpbXX0sRG4udGFrZVJpZ2h0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIHI/b28odCwoZT1yLShlPW58fGU9PT1vPzE6Z3MoZSkpKTwwPzA6ZSxyKTpbXX0sRG4udGFrZVJpZ2h0V2hpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/Z28odCxjaShlLDMpLCExLCEwKTpbXX0sRG4udGFrZVdoaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2dvKHQsY2koZSwzKSk6W119LERuLnRhcD1mdW5jdGlvbih0LGUpe3JldHVybiBlKHQpLHR9LERuLnRocm90dGxlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMCxvPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiBlcyhuKSYmKHI9XCJsZWFkaW5nXCJpbiBuPyEhbi5sZWFkaW5nOnIsbz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpvKSxMYSh0LGUse2xlYWRpbmc6cixtYXhXYWl0OmUsdHJhaWxpbmc6b30pfSxEbi50aHJ1PXBhLERuLnRvQXJyYXk9aHMsRG4udG9QYWlycz1XcyxEbi50b1BhaXJzSW49JHMsRG4udG9QYXRoPWZ1bmN0aW9uKHQpe3JldHVybiBIYSh0KT9qZSh0LFBpKTpscyh0KT9bdF06a28oTWkoYnModCkpKX0sRG4udG9QbGFpbk9iamVjdD12cyxEbi50cmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciByPUhhKHQpLG89cnx8WWEodCl8fGNzKHQpO2lmKGU9Y2koZSw0KSxudWxsPT1uKXt2YXIgaT10JiZ0LmNvbnN0cnVjdG9yO249bz9yP25ldyBpOltdOmVzKHQpJiZaYShpKT9GbihHdCh0KSk6e319cmV0dXJuKG8/Q2U6X3IpKHQsKGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gZShuLHQscixvKX0pKSxufSxEbi51bmFyeT1mdW5jdGlvbih0KXtyZXR1cm4geGEodCwxKX0sRG4udW5pb249bmEsRG4udW5pb25CeT1yYSxEbi51bmlvbldpdGg9b2EsRG4udW5pcT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/Zm8odCk6W119LERuLnVuaXFCeT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9mbyh0LGNpKGUsMikpOltdfSxEbi51bmlxV2l0aD1mdW5jdGlvbih0LGUpe3JldHVybiBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpvLHQmJnQubGVuZ3RoP2ZvKHQsbyxlKTpbXX0sRG4udW5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dHx8aG8odCxlKX0sRG4udW56aXA9aWEsRG4udW56aXBXaXRoPWFhLERuLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG51bGw9PXQ/dDpwbyh0LGUsd28obikpfSxEbi51cGRhdGVXaXRoPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpvLG51bGw9PXQ/dDpwbyh0LGUsd28obikscil9LERuLnZhbHVlcz1EcyxEbi52YWx1ZXNJbj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXTp0bih0LE9zKHQpKX0sRG4ud2l0aG91dD1zYSxEbi53b3Jkcz1acyxEbi53cmFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBhKHdvKGUpLHQpfSxEbi54b3I9dWEsRG4ueG9yQnk9bGEsRG4ueG9yV2l0aD1jYSxEbi56aXA9ZmEsRG4uemlwT2JqZWN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvKHR8fFtdLGV8fFtdLG5yKX0sRG4uemlwT2JqZWN0RGVlcD1mdW5jdGlvbih0LGUpe3JldHVybiB2byh0fHxbXSxlfHxbXSx0byl9LERuLnppcFdpdGg9ZGEsRG4uZW50cmllcz1XcyxEbi5lbnRyaWVzSW49JHMsRG4uZXh0ZW5kPV9zLERuLmV4dGVuZFdpdGg9RXMsdXUoRG4sRG4pLERuLmFkZD12dSxEbi5hdHRlbXB0PVFzLERuLmNhbWVsQ2FzZT1GcyxEbi5jYXBpdGFsaXplPXpzLERuLmNlaWw9YnUsRG4uY2xhbXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPT09byYmKG49ZSxlPW8pLG4hPT1vJiYobj0obj1tcyhuKSk9PW4/bjowKSxlIT09byYmKGU9KGU9bXMoZSkpPT1lP2U6MCksdXIobXModCksZSxuKX0sRG4uY2xvbmU9ZnVuY3Rpb24odCl7cmV0dXJuIGxyKHQsNCl9LERuLmNsb25lRGVlcD1mdW5jdGlvbih0KXtyZXR1cm4gbHIodCw1KX0sRG4uY2xvbmVEZWVwV2l0aD1mdW5jdGlvbih0LGUpe3JldHVybiBscih0LDUsZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6byl9LERuLmNsb25lV2l0aD1mdW5jdGlvbih0LGUpe3JldHVybiBscih0LDQsZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6byl9LERuLmNvbmZvcm1zVG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09ZXx8Y3IodCxlLExzKGUpKX0sRG4uZGVidXJyPXFzLERuLmRlZmF1bHRUbz1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10fHx0IT10P2U6dH0sRG4uZGl2aWRlPXd1LERuLmVuZHNXaXRoPWZ1bmN0aW9uKHQsZSxuKXt0PWJzKHQpLGU9Y28oZSk7dmFyIHI9dC5sZW5ndGgsaT1uPW49PT1vP3I6dXIoZ3MobiksMCxyKTtyZXR1cm4obi09ZS5sZW5ndGgpPj0wJiZ0LnNsaWNlKG4saSk9PWV9LERuLmVxPURhLERuLmVzY2FwZT1mdW5jdGlvbih0KXtyZXR1cm4odD1icyh0KSkmJlgudGVzdCh0KT90LnJlcGxhY2UoWSxhbik6dH0sRG4uZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKHQpe3JldHVybih0PWJzKHQpKSYmaXQudGVzdCh0KT90LnJlcGxhY2Uob3QsXCJcXFxcJCZcIik6dH0sRG4uZXZlcnk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUhhKHQpP2tlOmdyO3JldHVybiBuJiZfaSh0LGUsbikmJihlPW8pLHIodCxjaShlLDMpKX0sRG4uZmluZD1tYSxEbi5maW5kSW5kZXg9cWksRG4uZmluZEtleT1mdW5jdGlvbih0LGUpe3JldHVybiBEZSh0LGNpKGUsMyksX3IpfSxEbi5maW5kTGFzdD12YSxEbi5maW5kTGFzdEluZGV4PUhpLERuLmZpbmRMYXN0S2V5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIERlKHQsY2koZSwzKSxFcil9LERuLmZsb29yPV91LERuLmZvckVhY2g9YmEsRG4uZm9yRWFjaFJpZ2h0PXdhLERuLmZvckluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/dDpicih0LGNpKGUsMyksT3MpfSxEbi5mb3JJblJpZ2h0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/dDp3cih0LGNpKGUsMyksT3MpfSxEbi5mb3JPd249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmX3IodCxjaShlLDMpKX0sRG4uZm9yT3duUmlnaHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmRXIodCxjaShlLDMpKX0sRG4uZ2V0PVJzLERuLmd0PUZhLERuLmd0ZT16YSxEbi5oYXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmbWkodCxlLHhyKX0sRG4uaGFzSW49eHMsRG4uaGVhZD1HaSxEbi5pZGVudGl0eT1vdSxEbi5pbmNsdWRlcz1mdW5jdGlvbih0LGUsbixyKXt0PUdhKHQpP3Q6RHModCksbj1uJiYhcj9ncyhuKTowO3ZhciBvPXQubGVuZ3RoO3JldHVybiBuPDAmJihuPWJuKG8rbiwwKSksdXModCk/bjw9byYmdC5pbmRleE9mKGUsbik+LTE6ISFvJiZ6ZSh0LGUsbik+LTF9LERuLmluZGV4T2Y9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZighcilyZXR1cm4tMTt2YXIgbz1udWxsPT1uPzA6Z3Mobik7cmV0dXJuIG88MCYmKG89Ym4ocitvLDApKSx6ZSh0LGUsbyl9LERuLmluUmFuZ2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPXBzKGUpLG49PT1vPyhuPWUsZT0wKTpuPXBzKG4pLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD49d24oZSxuKSYmdDxibihlLG4pfSh0PW1zKHQpLGUsbil9LERuLmludm9rZT1rcyxEbi5pc0FyZ3VtZW50cz1xYSxEbi5pc0FycmF5PUhhLERuLmlzQXJyYXlCdWZmZXI9VmEsRG4uaXNBcnJheUxpa2U9R2EsRG4uaXNBcnJheUxpa2VPYmplY3Q9SmEsRG4uaXNCb29sZWFuPWZ1bmN0aW9uKHQpe3JldHVybiEwPT09dHx8ITE9PT10fHxucyh0KSYmVHIodCk9PXd9LERuLmlzQnVmZmVyPVlhLERuLmlzRGF0ZT1LYSxEbi5pc0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiYxPT09dC5ub2RlVHlwZSYmIWlzKHQpfSxEbi5pc0VtcHR5PWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuITA7aWYoR2EodCkmJihIYSh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuc3BsaWNlfHxZYSh0KXx8Y3ModCl8fHFhKHQpKSlyZXR1cm4hdC5sZW5ndGg7dmFyIGU9eWkodCk7aWYoZT09SXx8ZT09QilyZXR1cm4hdC5zaXplO2lmKElpKHQpKXJldHVybiFNcih0KS5sZW5ndGg7Zm9yKHZhciBuIGluIHQpaWYoTnQuY2FsbCh0LG4pKXJldHVybiExO3JldHVybiEwfSxEbi5pc0VxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9yKHQsZSl9LERuLmlzRXF1YWxXaXRoPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0obj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246byk/bih0LGUpOm87cmV0dXJuIHI9PT1vP09yKHQsZSxvLG4pOiEhcn0sRG4uaXNFcnJvcj1YYSxEbi5pc0Zpbml0ZT1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmd2UodCl9LERuLmlzRnVuY3Rpb249WmEsRG4uaXNJbnRlZ2VyPVFhLERuLmlzTGVuZ3RoPXRzLERuLmlzTWFwPXJzLERuLmlzTWF0Y2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fFVyKHQsZSxkaShlKSl9LERuLmlzTWF0Y2hXaXRoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246byxVcih0LGUsZGkoZSksbil9LERuLmlzTmFOPWZ1bmN0aW9uKHQpe3JldHVybiBvcyh0KSYmdCE9K3R9LERuLmlzTmF0aXZlPWZ1bmN0aW9uKHQpe2lmKEFpKHQpKXRocm93IG5ldyBBdChcIlVuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLlwiKTtyZXR1cm4ganIodCl9LERuLmlzTmlsPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10fSxEbi5pc051bGw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10fSxEbi5pc051bWJlcj1vcyxEbi5pc09iamVjdD1lcyxEbi5pc09iamVjdExpa2U9bnMsRG4uaXNQbGFpbk9iamVjdD1pcyxEbi5pc1JlZ0V4cD1hcyxEbi5pc1NhZmVJbnRlZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBRYSh0KSYmdD49LTkwMDcxOTkyNTQ3NDA5OTEmJnQ8PXB9LERuLmlzU2V0PXNzLERuLmlzU3RyaW5nPXVzLERuLmlzU3ltYm9sPWxzLERuLmlzVHlwZWRBcnJheT1jcyxEbi5pc1VuZGVmaW5lZD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PW99LERuLmlzV2Vha01hcD1mdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJnlpKHQpPT1PfSxEbi5pc1dlYWtTZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZcIltvYmplY3QgV2Vha1NldF1cIj09VHIodCl9LERuLmpvaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD9cIlwiOiRlLmNhbGwodCxlKX0sRG4ua2ViYWJDYXNlPUhzLERuLmxhc3Q9WGksRG4ubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZighcilyZXR1cm4tMTt2YXIgaT1yO3JldHVybiBuIT09byYmKGk9KGk9Z3MobikpPDA/Ym4ocitpLDApOnduKGksci0xKSksZT09ZT9mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4rMTtyLS07KWlmKHRbcl09PT1lKXJldHVybiByO3JldHVybiByfSh0LGUsaSk6RmUodCxIZSxpLCEwKX0sRG4ubG93ZXJDYXNlPVZzLERuLmxvd2VyRmlyc3Q9R3MsRG4ubHQ9ZnMsRG4ubHRlPWRzLERuLm1heD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/eXIodCxvdSxScik6b30sRG4ubWF4Qnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/eXIodCxjaShlLDIpLFJyKTpvfSxEbi5tZWFuPWZ1bmN0aW9uKHQpe3JldHVybiBWZSh0LG91KX0sRG4ubWVhbkJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFZlKHQsY2koZSwyKSl9LERuLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/eXIodCxvdSxXcik6b30sRG4ubWluQnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/eXIodCxjaShlLDIpLFdyKTpvfSxEbi5zdHViQXJyYXk9eXUsRG4uc3R1YkZhbHNlPW11LERuLnN0dWJPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57fX0sRG4uc3R1YlN0cmluZz1mdW5jdGlvbigpe3JldHVyblwiXCJ9LERuLnN0dWJUcnVlPWZ1bmN0aW9uKCl7cmV0dXJuITB9LERuLm11bHRpcGx5PVN1LERuLm50aD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9xcih0LGdzKGUpKTpvfSxEbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGdlLl89PT10aGlzJiYoZ2UuXz1EdCksdGhpc30sRG4ubm9vcD1sdSxEbi5ub3c9UmEsRG4ucGFkPWZ1bmN0aW9uKHQsZSxuKXt0PWJzKHQpO3ZhciByPShlPWdzKGUpKT9wbih0KTowO2lmKCFlfHxyPj1lKXJldHVybiB0O3ZhciBvPShlLXIpLzI7cmV0dXJuIFZvKHllKG8pLG4pK3QrVm8ocGUobyksbil9LERuLnBhZEVuZD1mdW5jdGlvbih0LGUsbil7dD1icyh0KTt2YXIgcj0oZT1ncyhlKSk/cG4odCk6MDtyZXR1cm4gZSYmcjxlP3QrVm8oZS1yLG4pOnR9LERuLnBhZFN0YXJ0PWZ1bmN0aW9uKHQsZSxuKXt0PWJzKHQpO3ZhciByPShlPWdzKGUpKT9wbih0KTowO3JldHVybiBlJiZyPGU/Vm8oZS1yLG4pK3Q6dH0sRG4ucGFyc2VJbnQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBufHxudWxsPT1lP2U9MDplJiYoZT0rZSksRW4oYnModCkucmVwbGFjZShhdCxcIlwiKSxlfHwwKX0sRG4ucmFuZG9tPWZ1bmN0aW9uKHQsZSxuKXtpZihuJiZcImJvb2xlYW5cIiE9dHlwZW9mIG4mJl9pKHQsZSxuKSYmKGU9bj1vKSxuPT09byYmKFwiYm9vbGVhblwiPT10eXBlb2YgZT8obj1lLGU9byk6XCJib29sZWFuXCI9PXR5cGVvZiB0JiYobj10LHQ9bykpLHQ9PT1vJiZlPT09bz8odD0wLGU9MSk6KHQ9cHModCksZT09PW8/KGU9dCx0PTApOmU9cHMoZSkpLHQ+ZSl7dmFyIHI9dDt0PWUsZT1yfWlmKG58fHQlMXx8ZSUxKXt2YXIgaT1TbigpO3JldHVybiB3bih0K2kqKGUtdCtmZShcIjFlLVwiKygoaStcIlwiKS5sZW5ndGgtMSkpKSxlKX1yZXR1cm4gWXIodCxlKX0sRG4ucmVkdWNlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1IYSh0KT9NZTpZZSxvPWFyZ3VtZW50cy5sZW5ndGg8MztyZXR1cm4gcih0LGNpKGUsNCksbixvLGhyKX0sRG4ucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUhhKHQpP1BlOlllLG89YXJndW1lbnRzLmxlbmd0aDwzO3JldHVybiByKHQsY2koZSw0KSxuLG8scHIpfSxEbi5yZXBlYXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPShuP19pKHQsZSxuKTplPT09byk/MTpncyhlKSxLcihicyh0KSxlKX0sRG4ucmVwbGFjZT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cyxlPWJzKHRbMF0pO3JldHVybiB0Lmxlbmd0aDwzP2U6ZS5yZXBsYWNlKHRbMV0sdFsyXSl9LERuLnJlc3VsdD1mdW5jdGlvbih0LGUsbil7dmFyIHI9LTEsaT0oZT1fbyhlLHQpKS5sZW5ndGg7Zm9yKGl8fChpPTEsdD1vKTsrK3I8aTspe3ZhciBhPW51bGw9PXQ/bzp0W1BpKGVbcl0pXTthPT09byYmKHI9aSxhPW4pLHQ9WmEoYSk/YS5jYWxsKHQpOmF9cmV0dXJuIHR9LERuLnJvdW5kPUF1LERuLnJ1bkluQ29udGV4dD10LERuLnNhbXBsZT1mdW5jdGlvbih0KXtyZXR1cm4oSGEodCk/Wm46WnIpKHQpfSxEbi5zaXplPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuIDA7aWYoR2EodCkpcmV0dXJuIHVzKHQpP3BuKHQpOnQubGVuZ3RoO3ZhciBlPXlpKHQpO3JldHVybiBlPT1JfHxlPT1CP3Quc2l6ZTpNcih0KS5sZW5ndGh9LERuLnNuYWtlQ2FzZT1KcyxEbi5zb21lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1IYSh0KT9XZTppbztyZXR1cm4gbiYmX2kodCxlLG4pJiYoZT1vKSxyKHQsY2koZSwzKSl9LERuLnNvcnRlZEluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFvKHQsZSl9LERuLnNvcnRlZEluZGV4Qnk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBzbyh0LGUsY2kobiwyKSl9LERuLnNvcnRlZEluZGV4T2Y9ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10PzA6dC5sZW5ndGg7aWYobil7dmFyIHI9YW8odCxlKTtpZihyPG4mJkRhKHRbcl0sZSkpcmV0dXJuIHJ9cmV0dXJuLTF9LERuLnNvcnRlZExhc3RJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiBhbyh0LGUsITApfSxEbi5zb3J0ZWRMYXN0SW5kZXhCeT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHNvKHQsZSxjaShuLDIpLCEwKX0sRG4uc29ydGVkTGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10PzA6dC5sZW5ndGgpe3ZhciBuPWFvKHQsZSwhMCktMTtpZihEYSh0W25dLGUpKXJldHVybiBufXJldHVybi0xfSxEbi5zdGFydENhc2U9WXMsRG4uc3RhcnRzV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9YnModCksbj1udWxsPT1uPzA6dXIoZ3MobiksMCx0Lmxlbmd0aCksZT1jbyhlKSx0LnNsaWNlKG4sbitlLmxlbmd0aCk9PWV9LERuLnN1YnRyYWN0PUl1LERuLnN1bT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/S2UodCxvdSk6MH0sRG4uc3VtQnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/S2UodCxjaShlLDIpKTowfSxEbi50ZW1wbGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9RG4udGVtcGxhdGVTZXR0aW5ncztuJiZfaSh0LGUsbikmJihlPW8pLHQ9YnModCksZT1Fcyh7fSxlLHIsdGkpO3ZhciBpLGEscz1Fcyh7fSxlLmltcG9ydHMsci5pbXBvcnRzLHRpKSx1PUxzKHMpLGw9dG4ocyx1KSxjPTAsZj1lLmludGVycG9sYXRlfHxFdCxkPVwiX19wICs9ICdcIixoPXh0KChlLmVzY2FwZXx8RXQpLnNvdXJjZStcInxcIitmLnNvdXJjZStcInxcIisoZj09PXR0P3B0OkV0KS5zb3VyY2UrXCJ8XCIrKGUuZXZhbHVhdGV8fEV0KS5zb3VyY2UrXCJ8JFwiLFwiZ1wiKSxwPVwiLy8jIHNvdXJjZVVSTD1cIisoTnQuY2FsbChlLFwic291cmNlVVJMXCIpPyhlLnNvdXJjZVVSTCtcIlwiKS5yZXBsYWNlKC9cXHMvZyxcIiBcIik6XCJsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW1wiKyArK3NlK1wiXVwiKStcIlxcblwiO3QucmVwbGFjZShoLChmdW5jdGlvbihlLG4scixvLHMsdSl7cmV0dXJuIHJ8fChyPW8pLGQrPXQuc2xpY2UoYyx1KS5yZXBsYWNlKFN0LHNuKSxuJiYoaT0hMCxkKz1cIicgK1xcbl9fZShcIituK1wiKSArXFxuJ1wiKSxzJiYoYT0hMCxkKz1cIic7XFxuXCIrcytcIjtcXG5fX3AgKz0gJ1wiKSxyJiYoZCs9XCInICtcXG4oKF9fdCA9IChcIityK1wiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiKSxjPXUrZS5sZW5ndGgsZX0pKSxkKz1cIic7XFxuXCI7dmFyIGc9TnQuY2FsbChlLFwidmFyaWFibGVcIikmJmUudmFyaWFibGU7aWYoZyl7aWYoZHQudGVzdChnKSl0aHJvdyBuZXcgQXQoXCJJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYFwiKX1lbHNlIGQ9XCJ3aXRoIChvYmopIHtcXG5cIitkK1wiXFxufVxcblwiO2Q9KGE/ZC5yZXBsYWNlKEgsXCJcIik6ZCkucmVwbGFjZShWLFwiJDFcIikucmVwbGFjZShHLFwiJDE7XCIpLGQ9XCJmdW5jdGlvbihcIisoZ3x8XCJvYmpcIikrXCIpIHtcXG5cIisoZz9cIlwiOlwib2JqIHx8IChvYmogPSB7fSk7XFxuXCIpK1widmFyIF9fdCwgX19wID0gJydcIisoaT9cIiwgX19lID0gXy5lc2NhcGVcIjpcIlwiKSsoYT9cIiwgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCI6XCI7XFxuXCIpK2QrXCJyZXR1cm4gX19wXFxufVwiO3ZhciB5PVFzKChmdW5jdGlvbigpe3JldHVybiBJdCh1LHArXCJyZXR1cm4gXCIrZCkuYXBwbHkobyxsKX0pKTtpZih5LnNvdXJjZT1kLFhhKHkpKXRocm93IHk7cmV0dXJuIHl9LERuLnRpbWVzPWZ1bmN0aW9uKHQsZSl7aWYoKHQ9Z3ModCkpPDF8fHQ+cClyZXR1cm5bXTt2YXIgbj15LHI9d24odCx5KTtlPWNpKGUpLHQtPXk7Zm9yKHZhciBvPVhlKHIsZSk7KytuPHQ7KWUobik7cmV0dXJuIG99LERuLnRvRmluaXRlPXBzLERuLnRvSW50ZWdlcj1ncyxEbi50b0xlbmd0aD15cyxEbi50b0xvd2VyPWZ1bmN0aW9uKHQpe3JldHVybiBicyh0KS50b0xvd2VyQ2FzZSgpfSxEbi50b051bWJlcj1tcyxEbi50b1NhZmVJbnRlZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiB0P3VyKGdzKHQpLC05MDA3MTk5MjU0NzQwOTkxLHApOjA9PT10P3Q6MH0sRG4udG9TdHJpbmc9YnMsRG4udG9VcHBlcj1mdW5jdGlvbih0KXtyZXR1cm4gYnModCkudG9VcHBlckNhc2UoKX0sRG4udHJpbT1mdW5jdGlvbih0LGUsbil7aWYoKHQ9YnModCkpJiYobnx8ZT09PW8pKXJldHVybiBaZSh0KTtpZighdHx8IShlPWNvKGUpKSlyZXR1cm4gdDt2YXIgcj1nbih0KSxpPWduKGUpO3JldHVybiBTbyhyLG5uKHIsaSkscm4ocixpKSsxKS5qb2luKFwiXCIpfSxEbi50cmltRW5kPWZ1bmN0aW9uKHQsZSxuKXtpZigodD1icyh0KSkmJihufHxlPT09bykpcmV0dXJuIHQuc2xpY2UoMCx5bih0KSsxKTtpZighdHx8IShlPWNvKGUpKSlyZXR1cm4gdDt2YXIgcj1nbih0KTtyZXR1cm4gU28ociwwLHJuKHIsZ24oZSkpKzEpLmpvaW4oXCJcIil9LERuLnRyaW1TdGFydD1mdW5jdGlvbih0LGUsbil7aWYoKHQ9YnModCkpJiYobnx8ZT09PW8pKXJldHVybiB0LnJlcGxhY2UoYXQsXCJcIik7aWYoIXR8fCEoZT1jbyhlKSkpcmV0dXJuIHQ7dmFyIHI9Z24odCk7cmV0dXJuIFNvKHIsbm4ocixnbihlKSkpLmpvaW4oXCJcIil9LERuLnRydW5jYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49MzAscj1cIi4uLlwiO2lmKGVzKGUpKXt2YXIgaT1cInNlcGFyYXRvclwiaW4gZT9lLnNlcGFyYXRvcjppO249XCJsZW5ndGhcImluIGU/Z3MoZS5sZW5ndGgpOm4scj1cIm9taXNzaW9uXCJpbiBlP2NvKGUub21pc3Npb24pOnJ9dmFyIGE9KHQ9YnModCkpLmxlbmd0aDtpZih1bih0KSl7dmFyIHM9Z24odCk7YT1zLmxlbmd0aH1pZihuPj1hKXJldHVybiB0O3ZhciB1PW4tcG4ocik7aWYodTwxKXJldHVybiByO3ZhciBsPXM/U28ocywwLHUpLmpvaW4oXCJcIik6dC5zbGljZSgwLHUpO2lmKGk9PT1vKXJldHVybiBsK3I7aWYocyYmKHUrPWwubGVuZ3RoLXUpLGFzKGkpKXtpZih0LnNsaWNlKHUpLnNlYXJjaChpKSl7dmFyIGMsZj1sO2ZvcihpLmdsb2JhbHx8KGk9eHQoaS5zb3VyY2UsYnMoZ3QuZXhlYyhpKSkrXCJnXCIpKSxpLmxhc3RJbmRleD0wO2M9aS5leGVjKGYpOyl2YXIgZD1jLmluZGV4O2w9bC5zbGljZSgwLGQ9PT1vP3U6ZCl9fWVsc2UgaWYodC5pbmRleE9mKGNvKGkpLHUpIT11KXt2YXIgaD1sLmxhc3RJbmRleE9mKGkpO2g+LTEmJihsPWwuc2xpY2UoMCxoKSl9cmV0dXJuIGwrcn0sRG4udW5lc2NhcGU9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9YnModCkpJiZLLnRlc3QodCk/dC5yZXBsYWNlKEosbW4pOnR9LERuLnVuaXF1ZUlkPWZ1bmN0aW9uKHQpe3ZhciBlPSsrTXQ7cmV0dXJuIGJzKHQpK2V9LERuLnVwcGVyQ2FzZT1LcyxEbi51cHBlckZpcnN0PVhzLERuLmVhY2g9YmEsRG4uZWFjaFJpZ2h0PXdhLERuLmZpcnN0PUdpLHV1KERuLChFdT17fSxfcihEbiwoZnVuY3Rpb24odCxlKXtOdC5jYWxsKERuLnByb3RvdHlwZSxlKXx8KEV1W2VdPXQpfSkpLEV1KSx7Y2hhaW46ITF9KSxEbi5WRVJTSU9OPVwiNC4xNy4yMVwiLENlKFtcImJpbmRcIixcImJpbmRLZXlcIixcImN1cnJ5XCIsXCJjdXJyeVJpZ2h0XCIsXCJwYXJ0aWFsXCIsXCJwYXJ0aWFsUmlnaHRcIl0sKGZ1bmN0aW9uKHQpe0RuW3RdLnBsYWNlaG9sZGVyPURufSkpLENlKFtcImRyb3BcIixcInRha2VcIl0sKGZ1bmN0aW9uKHQsZSl7SG4ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKG4pe249bj09PW8/MTpibihncyhuKSwwKTt2YXIgcj10aGlzLl9fZmlsdGVyZWRfXyYmIWU/bmV3IEhuKHRoaXMpOnRoaXMuY2xvbmUoKTtyZXR1cm4gci5fX2ZpbHRlcmVkX18/ci5fX3Rha2VDb3VudF9fPXduKG4sci5fX3Rha2VDb3VudF9fKTpyLl9fdmlld3NfXy5wdXNoKHtzaXplOnduKG4seSksdHlwZTp0KyhyLl9fZGlyX188MD9cIlJpZ2h0XCI6XCJcIil9KSxyfSxIbi5wcm90b3R5cGVbdCtcIlJpZ2h0XCJdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJldmVyc2UoKVt0XShlKS5yZXZlcnNlKCl9fSkpLENlKFtcImZpbHRlclwiLFwibWFwXCIsXCJ0YWtlV2hpbGVcIl0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSsxLHI9MT09bnx8Mz09bjtIbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jbG9uZSgpO3JldHVybiBlLl9faXRlcmF0ZWVzX18ucHVzaCh7aXRlcmF0ZWU6Y2kodCwzKSx0eXBlOm59KSxlLl9fZmlsdGVyZWRfXz1lLl9fZmlsdGVyZWRfX3x8cixlfX0pKSxDZShbXCJoZWFkXCIsXCJsYXN0XCJdLChmdW5jdGlvbih0LGUpe3ZhciBuPVwidGFrZVwiKyhlP1wiUmlnaHRcIjpcIlwiKTtIbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tuXSgxKS52YWx1ZSgpWzBdfX0pKSxDZShbXCJpbml0aWFsXCIsXCJ0YWlsXCJdLChmdW5jdGlvbih0LGUpe3ZhciBuPVwiZHJvcFwiKyhlP1wiXCI6XCJSaWdodFwiKTtIbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18/bmV3IEhuKHRoaXMpOnRoaXNbbl0oMSl9fSkpLEhuLnByb3RvdHlwZS5jb21wYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyKG91KX0sSG4ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmlsdGVyKHQpLmhlYWQoKX0sSG4ucHJvdG90eXBlLmZpbmRMYXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJldmVyc2UoKS5maW5kKHQpfSxIbi5wcm90b3R5cGUuaW52b2tlTWFwPVhyKChmdW5jdGlvbih0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bmV3IEhuKHRoaXMpOnRoaXMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4ga3Iobix0LGUpfSkpfSkpLEhuLnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmlsdGVyKE5hKGNpKHQpKSl9LEhuLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3Q9Z3ModCk7dmFyIG49dGhpcztyZXR1cm4gbi5fX2ZpbHRlcmVkX18mJih0PjB8fGU8MCk/bmV3IEhuKG4pOih0PDA/bj1uLnRha2VSaWdodCgtdCk6dCYmKG49bi5kcm9wKHQpKSxlIT09byYmKG49KGU9Z3MoZSkpPDA/bi5kcm9wUmlnaHQoLWUpOm4udGFrZShlLXQpKSxuKX0sSG4ucHJvdG90eXBlLnRha2VSaWdodFdoaWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUodCkucmV2ZXJzZSgpfSxIbi5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRha2UoeSl9LF9yKEhuLnByb3RvdHlwZSwoZnVuY3Rpb24odCxlKXt2YXIgbj0vXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChlKSxyPS9eKD86aGVhZHxsYXN0KSQvLnRlc3QoZSksaT1EbltyP1widGFrZVwiKyhcImxhc3RcIj09ZT9cIlJpZ2h0XCI6XCJcIik6ZV0sYT1yfHwvXmZpbmQvLnRlc3QoZSk7aSYmKERuLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX193cmFwcGVkX18scz1yP1sxXTphcmd1bWVudHMsdT1lIGluc3RhbmNlb2YgSG4sbD1zWzBdLGM9dXx8SGEoZSksZj1mdW5jdGlvbih0KXt2YXIgZT1pLmFwcGx5KERuLE5lKFt0XSxzKSk7cmV0dXJuIHImJmQ/ZVswXTplfTtjJiZuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsJiYxIT1sLmxlbmd0aCYmKHU9Yz0hMSk7dmFyIGQ9dGhpcy5fX2NoYWluX18saD0hIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLHA9YSYmIWQsZz11JiYhaDtpZighYSYmYyl7ZT1nP2U6bmV3IEhuKHRoaXMpO3ZhciB5PXQuYXBwbHkoZSxzKTtyZXR1cm4geS5fX2FjdGlvbnNfXy5wdXNoKHtmdW5jOnBhLGFyZ3M6W2ZdLHRoaXNBcmc6b30pLG5ldyBxbih5LGQpfXJldHVybiBwJiZnP3QuYXBwbHkodGhpcyxzKTooeT10aGlzLnRocnUoZikscD9yP3kudmFsdWUoKVswXTp5LnZhbHVlKCk6eSl9KX0pKSxDZShbXCJwb3BcIixcInB1c2hcIixcInNoaWZ0XCIsXCJzb3J0XCIsXCJzcGxpY2VcIixcInVuc2hpZnRcIl0sKGZ1bmN0aW9uKHQpe3ZhciBlPWt0W3RdLG49L14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KHQpP1widGFwXCI6XCJ0aHJ1XCIscj0vXig/OnBvcHxzaGlmdCkkLy50ZXN0KHQpO0RuLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cztpZihyJiYhdGhpcy5fX2NoYWluX18pe3ZhciBvPXRoaXMudmFsdWUoKTtyZXR1cm4gZS5hcHBseShIYShvKT9vOltdLHQpfXJldHVybiB0aGlzW25dKChmdW5jdGlvbihuKXtyZXR1cm4gZS5hcHBseShIYShuKT9uOltdLHQpfSkpfX0pKSxfcihIbi5wcm90b3R5cGUsKGZ1bmN0aW9uKHQsZSl7dmFyIG49RG5bZV07aWYobil7dmFyIHI9bi5uYW1lK1wiXCI7TnQuY2FsbChMbixyKXx8KExuW3JdPVtdKSxMbltyXS5wdXNoKHtuYW1lOmUsZnVuYzpufSl9fSkpLExuW0ZvKG8sMikubmFtZV09W3tuYW1lOlwid3JhcHBlclwiLGZ1bmM6b31dLEhuLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBIbih0aGlzLl9fd3JhcHBlZF9fKTtyZXR1cm4gdC5fX2FjdGlvbnNfXz1rbyh0aGlzLl9fYWN0aW9uc19fKSx0Ll9fZGlyX189dGhpcy5fX2Rpcl9fLHQuX19maWx0ZXJlZF9fPXRoaXMuX19maWx0ZXJlZF9fLHQuX19pdGVyYXRlZXNfXz1rbyh0aGlzLl9faXRlcmF0ZWVzX18pLHQuX190YWtlQ291bnRfXz10aGlzLl9fdGFrZUNvdW50X18sdC5fX3ZpZXdzX189a28odGhpcy5fX3ZpZXdzX18pLHR9LEhuLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7aWYodGhpcy5fX2ZpbHRlcmVkX18pe3ZhciB0PW5ldyBIbih0aGlzKTt0Ll9fZGlyX189LTEsdC5fX2ZpbHRlcmVkX189ITB9ZWxzZSh0PXRoaXMuY2xvbmUoKSkuX19kaXJfXyo9LTE7cmV0dXJuIHR9LEhuLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX193cmFwcGVkX18udmFsdWUoKSxlPXRoaXMuX19kaXJfXyxuPUhhKHQpLHI9ZTwwLG89bj90Lmxlbmd0aDowLGk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPS0xLG89bi5sZW5ndGg7Zm9yKDsrK3I8bzspe3ZhciBpPW5bcl0sYT1pLnNpemU7c3dpdGNoKGkudHlwZSl7Y2FzZVwiZHJvcFwiOnQrPWE7YnJlYWs7Y2FzZVwiZHJvcFJpZ2h0XCI6ZS09YTticmVhaztjYXNlXCJ0YWtlXCI6ZT13bihlLHQrYSk7YnJlYWs7Y2FzZVwidGFrZVJpZ2h0XCI6dD1ibih0LGUtYSl9fXJldHVybntzdGFydDp0LGVuZDplfX0oMCxvLHRoaXMuX192aWV3c19fKSxhPWkuc3RhcnQscz1pLmVuZCx1PXMtYSxsPXI/czphLTEsYz10aGlzLl9faXRlcmF0ZWVzX18sZj1jLmxlbmd0aCxkPTAsaD13bih1LHRoaXMuX190YWtlQ291bnRfXyk7aWYoIW58fCFyJiZvPT11JiZoPT11KXJldHVybiB5byh0LHRoaXMuX19hY3Rpb25zX18pO3ZhciBwPVtdO3Q6Zm9yKDt1LS0mJmQ8aDspe2Zvcih2YXIgZz0tMSx5PXRbbCs9ZV07KytnPGY7KXt2YXIgbT1jW2ddLHY9bS5pdGVyYXRlZSxiPW0udHlwZSx3PXYoeSk7aWYoMj09Yil5PXc7ZWxzZSBpZighdyl7aWYoMT09Yiljb250aW51ZSB0O2JyZWFrIHR9fXBbZCsrXT15fXJldHVybiBwfSxEbi5wcm90b3R5cGUuYXQ9Z2EsRG4ucHJvdG90eXBlLmNoYWluPWZ1bmN0aW9uKCl7cmV0dXJuIGhhKHRoaXMpfSxEbi5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxbih0aGlzLnZhbHVlKCksdGhpcy5fX2NoYWluX18pfSxEbi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3RoaXMuX192YWx1ZXNfXz09PW8mJih0aGlzLl9fdmFsdWVzX189aHModGhpcy52YWx1ZSgpKSk7dmFyIHQ9dGhpcy5fX2luZGV4X18+PXRoaXMuX192YWx1ZXNfXy5sZW5ndGg7cmV0dXJue2RvbmU6dCx2YWx1ZTp0P286dGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdfX0sRG4ucHJvdG90eXBlLnBsYW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXRoaXM7biBpbnN0YW5jZW9mIHpuOyl7dmFyIHI9JGkobik7ci5fX2luZGV4X189MCxyLl9fdmFsdWVzX189byxlP2kuX193cmFwcGVkX189cjplPXI7dmFyIGk9cjtuPW4uX193cmFwcGVkX199cmV0dXJuIGkuX193cmFwcGVkX189dCxlfSxEbi5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX193cmFwcGVkX187aWYodCBpbnN0YW5jZW9mIEhuKXt2YXIgZT10O3JldHVybiB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCYmKGU9bmV3IEhuKHRoaXMpKSwoZT1lLnJldmVyc2UoKSkuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpwYSxhcmdzOltlYV0sdGhpc0FyZzpvfSksbmV3IHFuKGUsdGhpcy5fX2NoYWluX18pfXJldHVybiB0aGlzLnRocnUoZWEpfSxEbi5wcm90b3R5cGUudG9KU09OPURuLnByb3RvdHlwZS52YWx1ZU9mPURuLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB5byh0aGlzLl9fd3JhcHBlZF9fLHRoaXMuX19hY3Rpb25zX18pfSxEbi5wcm90b3R5cGUuZmlyc3Q9RG4ucHJvdG90eXBlLmhlYWQsWnQmJihEbi5wcm90b3R5cGVbWnRdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxEbn0oKTtnZS5fPXZuLChyPWZ1bmN0aW9uKCl7cmV0dXJuIHZufS5jYWxsKGUsbixlLHQpKT09PW98fCh0LmV4cG9ydHM9cil9LmNhbGwodGhpcyl9LDMwMDoodCxlLG4pPT57dmFyIHIsbzt0PW4ubm1kKHQpLGZ1bmN0aW9uKGUpe2UucnVubmluZ0luTm9kZUpTPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJlwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zJiZcInN0cmluZ1wiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlfSxlLnJ1bm5pbmdJbk1haW5Ob2RlSlNNb2R1bGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5ydW5uaW5nSW5Ob2RlSlMoKSYmbi5jW24uc109PT10fSxlLmNvbW1vbkpTQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQuZXhwb3J0c30sZS5ydW5uaW5nSW5XZWJXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93JiZcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZi5hZGRFdmVudExpc3RlbmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzZWxmLmNsb3NlfSxlLnJ1bm5pbmdJbk5vZGVDaGlsZFByb2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZS5ydW5uaW5nSW5Ob2RlSlMoKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy5zZW5kfSxlLnJ1bm5pbmdJbk51bGxPcmlnaW49ZnVuY3Rpb24oKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LmxvY2F0aW9uJiZcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJihcImh0dHA6XCIhPT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCYmXCJodHRwczpcIiE9PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sKX0sZS53ZWJXb3JrZXJzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgV29ya2VyJiYhZS5ydW5uaW5nSW5OdWxsT3JpZ2luKCkmJighZS5ydW5uaW5nSW5Ob2RlSlMoKSYmIShuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFuZHJvaWQgNC4zXCIpPj0wKSl9LGUubG9nPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLFwib2JqZWN0XCI9PXR5cGVvZiBjb25zb2xlJiYoY29uc29sZS5sb2codCksZSYmXCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiYoZG9jdW1lbnQuYm9keS5pbm5lckhUTUwrPXQrXCI8YnIvPlwiKSl9LGUuY3JlYXRlRXJyb3JNZXNzYWdlPWZ1bmN0aW9uKHQsbil7aWYodm9pZCAwPT09biYmKG49XCJVbmhhbmRsZWQgZXhjZXB0aW9uXCIpLG51bGw9PXQpcmV0dXJuIG47aWYobis9XCI6IFwiLFwib2JqZWN0XCI9PXR5cGVvZiB0LmNvbnRlbnQpe2lmKGUucnVubmluZ0luTm9kZUpTKCkpcmV0dXJuIG4rdC5jb250ZW50LnN0YWNrO3ZhciByPUpTT04uc3RyaW5naWZ5KHQuY29udGVudCk7cmV0dXJuXCJ7fVwiIT09cj9uK3I6bit0LmNvbnRlbnR9cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQuY29udGVudD9uK3QuY29udGVudDpuK3R9LGUucHJpbnRFeGNlcHRpb25BbmRTdGFja1RyYWNlVG9Db25zb2xlPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49XCJVbmhhbmRsZWQgZXhjZXB0aW9uXCIpLGUubG9nKGUuY3JlYXRlRXJyb3JNZXNzYWdlKHQsbikpfSxlLmdldEdsb2JhbE9iamVjdD1mdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBuLmc/bi5nOlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmP3NlbGY6e319LGUudG9TdHJpbmc9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxlLmNvbW1vbkpTQXZhaWxhYmxlKCkmJih0LmV4cG9ydHM9ZSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheSYmMCE9PW5ldyBVaW50OEFycmF5KDEpLnN1YmFycmF5KDEpLmJ5dGVMZW5ndGgpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PGU/ZTp0Pm4/bjp0fTt0fD0wLGV8PTAsYXJndW1lbnRzLmxlbmd0aDwxJiYodD0wKSxhcmd1bWVudHMubGVuZ3RoPDImJihlPXRoaXMubGVuZ3RoKSx0PDAmJih0PXRoaXMubGVuZ3RoK3QpLGU8MCYmKGU9dGhpcy5sZW5ndGgrZSksdD1uKHQsMCx0aGlzLmxlbmd0aCk7dmFyIHI9KGU9bihlLDAsdGhpcy5sZW5ndGgpKS10O3JldHVybiByPDAmJihyPTApLG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYnVmZmVyLHRoaXMuYnl0ZU9mZnNldCt0KnRoaXMuQllURVNfUEVSX0VMRU1FTlQscil9LG49W1wiSW50OEFycmF5XCIsXCJVaW50OEFycmF5XCIsXCJVaW50OENsYW1wZWRBcnJheVwiLFwiSW50MTZBcnJheVwiLFwiVWludDE2QXJyYXlcIixcIkludDMyQXJyYXlcIixcIlVpbnQzMkFycmF5XCIsXCJGbG9hdDMyQXJyYXlcIixcIkZsb2F0NjRBcnJheVwiXSxyPXZvaWQgMDtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93P3I9d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiYocj1zZWxmKSx2b2lkIDAhPT1yKWZvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXJbbltvXV0mJihyW25bb11dLnByb3RvdHlwZS5zdWJhcnJheT1lKX19KHJ8fChyPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmNvbXByZXNzQXN5bmM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPW5ldyB0LlRpbWVyLGk9bmV3IHQuQ29tcHJlc3NvcjtpZighcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiY29tcHJlc3NBc3luYzogTm8gY2FsbGJhY2sgYXJndW1lbnQgZ2l2ZW5cIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpZT10LmVuY29kZVVURjgoZSk7ZWxzZSBpZihudWxsPT1lfHwhKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSlyZXR1cm4gdm9pZCByKHZvaWQgMCxuZXcgVHlwZUVycm9yKFwiY29tcHJlc3NBc3luYzogSW52YWxpZCBpbnB1dCBhcmd1bWVudCwgb25seSAnc3RyaW5nJyBhbmQgJ1VpbnQ4QXJyYXknIGFyZSBzdXBwb3J0ZWRcIikpO3ZhciBhPXQuQXJyYXlUb29scy5zcGxpdEJ5dGVBcnJheShlLG4uYmxvY2tTaXplKSxzPVtdLHU9ZnVuY3Rpb24oZSl7aWYoZTxhLmxlbmd0aCl7dmFyIGw9dm9pZCAwO3RyeXtsPWkuY29tcHJlc3NCbG9jayhhW2VdKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByKHZvaWQgMCx0KX1zLnB1c2gobCksby5nZXRFbGFwc2VkVGltZSgpPD0yMD91KGUrMSk6KHQuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gdShlKzEpfSkpLG8ucmVzdGFydCgpKX1lbHNle3ZhciBjPXQuQXJyYXlUb29scy5jb25jYXRVaW50OEFycmF5cyhzKTt0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7dmFyIGU7dHJ5e2U9dC5Db21wcmVzc2lvbkNvbW1vbi5lbmNvZGVDb21wcmVzc2VkQnl0ZXMoYyxuLm91dHB1dEVuY29kaW5nKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByKHZvaWQgMCx0KX10LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHIoZSl9KSl9KSl9fTt0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHUoMCl9KSl9LGUuY3JlYXRlQ29tcHJlc3Npb25TdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdC5Db21wcmVzc29yLHI9bmV3KG4oOTkpLlRyYW5zZm9ybSkoe2RlY29kZVN0cmluZ3M6ITAsaGlnaFdhdGVyTWFyazo2NTUzNn0pO3JldHVybiByLl90cmFuc2Zvcm09ZnVuY3Rpb24obixvLGkpe3ZhciBhO3RyeXthPXQuQnVmZmVyVG9vbHMudWludDhBcnJheVRvQnVmZmVyKGUuY29tcHJlc3NCbG9jayh0LkJ1ZmZlclRvb2xzLmJ1ZmZlclRvVWludDhBcnJheShuKSkpfWNhdGNoKHQpe3JldHVybiB2b2lkIHIuZW1pdChcImVycm9yXCIsdCl9ci5wdXNoKGEpLGkoKX0scn0sZX0oKTt0LkFzeW5jQ29tcHJlc3Nvcj1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5kZWNvbXByZXNzQXN5bmM9ZnVuY3Rpb24oZSxuLHIpe2lmKCFyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvbXByZXNzQXN5bmM6IE5vIGNhbGxiYWNrIGFyZ3VtZW50IGdpdmVuXCIpO3ZhciBvPW5ldyB0LlRpbWVyO3RyeXtlPXQuQ29tcHJlc3Npb25Db21tb24uZGVjb2RlQ29tcHJlc3NlZEJ5dGVzKGUsbi5pbnB1dEVuY29kaW5nKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByKHZvaWQgMCx0KX12YXIgaT1uZXcgdC5EZWNvbXByZXNzb3IsYT10LkFycmF5VG9vbHMuc3BsaXRCeXRlQXJyYXkoZSxuLmJsb2NrU2l6ZSkscz1bXSx1PWZ1bmN0aW9uKGUpe2lmKGU8YS5sZW5ndGgpe3ZhciBsPXZvaWQgMDt0cnl7bD1pLmRlY29tcHJlc3NCbG9jayhhW2VdKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByKHZvaWQgMCx0KX1zLnB1c2gobCksby5nZXRFbGFwc2VkVGltZSgpPD0yMD91KGUrMSk6KHQuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gdShlKzEpfSkpLG8ucmVzdGFydCgpKX1lbHNle3ZhciBjPXQuQXJyYXlUb29scy5jb25jYXRVaW50OEFycmF5cyhzKTt0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7dmFyIGU7dHJ5e2U9dC5Db21wcmVzc2lvbkNvbW1vbi5lbmNvZGVEZWNvbXByZXNzZWRCeXRlcyhjLG4ub3V0cHV0RW5jb2RpbmcpfWNhdGNoKHQpe3JldHVybiB2b2lkIHIodm9pZCAwLHQpfXQuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gcihlKX0pKX0pKX19O3QuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gdSgwKX0pKX0sZS5jcmVhdGVEZWNvbXByZXNzaW9uU3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQuRGVjb21wcmVzc29yLHI9bmV3KG4oOTkpLlRyYW5zZm9ybSkoe2RlY29kZVN0cmluZ3M6ITAsaGlnaFdhdGVyTWFyazo2NTUzNn0pO3JldHVybiByLl90cmFuc2Zvcm09ZnVuY3Rpb24obixvLGkpe3ZhciBhO3RyeXthPXQuQnVmZmVyVG9vbHMudWludDhBcnJheVRvQnVmZmVyKGUuZGVjb21wcmVzc0Jsb2NrKHQuQnVmZmVyVG9vbHMuYnVmZmVyVG9VaW50OEFycmF5KG4pKSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgci5lbWl0KFwiZXJyb3JcIix0KX1yLnB1c2goYSksaSgpfSxyfSxlfSgpO3QuQXN5bmNEZWNvbXByZXNzb3I9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24oZSl7ZS5jb21wcmVzc0FzeW5jPWZ1bmN0aW9uKHQsbixyKXtpZihcIkJ5dGVBcnJheVwiIT1uLmlucHV0RW5jb2Rpbmd8fHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KXt2YXIgbz17dG9rZW46TWF0aC5yYW5kb20oKS50b1N0cmluZygpLHR5cGU6XCJjb21wcmVzc1wiLGRhdGE6dCxpbnB1dEVuY29kaW5nOm4uaW5wdXRFbmNvZGluZyxvdXRwdXRFbmNvZGluZzpuLm91dHB1dEVuY29kaW5nfSxpPWZ1bmN0aW9uKHQpe3ZhciBuPXQuZGF0YTtuJiZuLnRva2VuPT1vLnRva2VuJiYoZS5nbG9iYWxXb3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixpKSxcImVycm9yXCI9PW4udHlwZT9yKHZvaWQgMCxuZXcgRXJyb3Iobi5lcnJvcikpOnIobi5kYXRhKSl9O2UuZ2xvYmFsV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSksZS5nbG9iYWxXb3JrZXIucG9zdE1lc3NhZ2UobyxbXSl9ZWxzZSByKHZvaWQgMCxuZXcgVHlwZUVycm9yKFwiY29tcHJlc3NBc3luYzogaW5wdXQgaXMgbm90IGEgVWludDhBcnJheVwiKSl9LGUuZGVjb21wcmVzc0FzeW5jPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz17dG9rZW46TWF0aC5yYW5kb20oKS50b1N0cmluZygpLHR5cGU6XCJkZWNvbXByZXNzXCIsZGF0YTp0LGlucHV0RW5jb2Rpbmc6bi5pbnB1dEVuY29kaW5nLG91dHB1dEVuY29kaW5nOm4ub3V0cHV0RW5jb2Rpbmd9LGk9ZnVuY3Rpb24odCl7dmFyIG49dC5kYXRhO24mJm4udG9rZW49PW8udG9rZW4mJihlLmdsb2JhbFdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGkpLFwiZXJyb3JcIj09bi50eXBlP3Iodm9pZCAwLG5ldyBFcnJvcihuLmVycm9yKSk6cihuLmRhdGEpKX07ZS5nbG9iYWxXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixpKSxlLmdsb2JhbFdvcmtlci5wb3N0TWVzc2FnZShvLFtdKX0sZS5pbnN0YWxsV2ViV29ya2VySWZOZWVkZWQ9ZnVuY3Rpb24oKXtcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmdm9pZCAwPT09c2VsZi5kb2N1bWVudCYmbnVsbCE9c2VsZi5hZGRFdmVudExpc3RlbmVyJiYoc2VsZi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbihlKXt2YXIgbj1lLmRhdGE7aWYoXCJjb21wcmVzc1wiPT1uLnR5cGUpe3ZhciByPXZvaWQgMDt0cnl7cj10LmNvbXByZXNzKG4uZGF0YSx7b3V0cHV0RW5jb2Rpbmc6bi5vdXRwdXRFbmNvZGluZ30pfWNhdGNoKGUpe3JldHVybiB2b2lkIHNlbGYucG9zdE1lc3NhZ2Uoe3Rva2VuOm4udG9rZW4sdHlwZTpcImVycm9yXCIsZXJyb3I6dC5jcmVhdGVFcnJvck1lc3NhZ2UoZSl9LFtdKX0obz17dG9rZW46bi50b2tlbix0eXBlOlwiY29tcHJlc3Npb25SZXN1bHRcIixkYXRhOnIsZW5jb2Rpbmc6bi5vdXRwdXRFbmNvZGluZ30pLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYtMT09PW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJNU0lFIDEwXCIpP3NlbGYucG9zdE1lc3NhZ2Uobyxbby5kYXRhLmJ1ZmZlcl0pOnNlbGYucG9zdE1lc3NhZ2UobyxbXSl9ZWxzZSBpZihcImRlY29tcHJlc3NcIj09bi50eXBlKXt2YXIgbyxpPXZvaWQgMDt0cnl7aT10LmRlY29tcHJlc3Mobi5kYXRhLHtpbnB1dEVuY29kaW5nOm4uaW5wdXRFbmNvZGluZyxvdXRwdXRFbmNvZGluZzpuLm91dHB1dEVuY29kaW5nfSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgc2VsZi5wb3N0TWVzc2FnZSh7dG9rZW46bi50b2tlbix0eXBlOlwiZXJyb3JcIixlcnJvcjp0LmNyZWF0ZUVycm9yTWVzc2FnZShlKX0sW10pfShvPXt0b2tlbjpuLnRva2VuLHR5cGU6XCJkZWNvbXByZXNzaW9uUmVzdWx0XCIsZGF0YTppLGVuY29kaW5nOm4ub3V0cHV0RW5jb2Rpbmd9KS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSYmLTE9PT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSAxMFwiKT9zZWxmLnBvc3RNZXNzYWdlKG8sW28uZGF0YS5idWZmZXJdKTpzZWxmLnBvc3RNZXNzYWdlKG8sW10pfX0pKSxzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLChmdW5jdGlvbihlKXt0LmxvZyh0LmNyZWF0ZUVycm9yTWVzc2FnZShlLmVycm9yLFwiVW5leHBlY3RlZCBMWlVURjggV2ViV29ya2VyIGV4Y2VwdGlvblwiKSl9KSkpfSxlLmNyZWF0ZUdsb2JhbFdvcmtlcklmTmVlZGVkPWZ1bmN0aW9uKCl7aWYoZS5nbG9iYWxXb3JrZXIpcmV0dXJuITA7aWYoIXQud2ViV29ya2Vyc0F2YWlsYWJsZSgpKXJldHVybiExO2lmKCFlLnNjcmlwdFVSSSYmXCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50KXt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImx6dXRmOFwiKTtudWxsIT1uJiYoZS5zY3JpcHRVUkk9bi5nZXRBdHRyaWJ1dGUoXCJzcmNcIil8fHZvaWQgMCl9cmV0dXJuISFlLnNjcmlwdFVSSSYmKGUuZ2xvYmFsV29ya2VyPW5ldyBXb3JrZXIoZS5zY3JpcHRVUkkpLCEwKX0sZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXtlLmdsb2JhbFdvcmtlciYmKGUuZ2xvYmFsV29ya2VyLnRlcm1pbmF0ZSgpLGUuZ2xvYmFsV29ya2VyPXZvaWQgMCl9fShlPXQuV2ViV29ya2VyfHwodC5XZWJXb3JrZXI9e30pKSxlLmluc3RhbGxXZWJXb3JrZXJJZk5lZWRlZCgpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5jb250YWluZXI9dCx0aGlzLnN0YXJ0UG9zaXRpb249ZSx0aGlzLmxlbmd0aD1ufXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGFpbmVyW3RoaXMuc3RhcnRQb3NpdGlvbit0XX0sdC5wcm90b3R5cGUuZ2V0SW5SZXZlcnNlZE9yZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5lclt0aGlzLnN0YXJ0UG9zaXRpb24rdGhpcy5sZW5ndGgtMS10XX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jb250YWluZXJbdGhpcy5zdGFydFBvc2l0aW9uK3RdPWV9LHR9KCk7dC5BcnJheVNlZ21lbnQ9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7dC5jb3B5RWxlbWVudHM9ZnVuY3Rpb24odCxlLG4scixvKXtmb3IoO28tLTspbltyKytdPXRbZSsrXX0sdC56ZXJvRWxlbWVudHM9ZnVuY3Rpb24odCxlLG4pe2Zvcig7bi0tOyl0W2UrK109MH0sdC5jb3VudE5vbnplcm9WYWx1ZXNJbkFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyl0W25dJiZlKys7cmV0dXJuIGV9LHQudHJ1bmNhdGVTdGFydGluZ0VsZW1lbnRzPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8PWUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0cnVuY2F0ZVN0YXJ0aW5nRWxlbWVudHM6IFJlcXVlc3RlZCBsZW5ndGggc2hvdWxkIGJlIHNtYWxsZXIgdGhhbiBhcnJheSBsZW5ndGhcIik7Zm9yKHZhciBuPXQubGVuZ3RoLWUscj0wO3I8ZTtyKyspdFtyXT10W24rcl07dC5sZW5ndGg9ZX0sdC5kb3VibGVCeXRlQXJyYXlDYXBhY2l0eT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgVWludDhBcnJheSgyKnQubGVuZ3RoKTtyZXR1cm4gZS5zZXQodCksZX0sdC5jb25jYXRVaW50OEFycmF5cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTAscj10O248ci5sZW5ndGg7bisrKXtlKz0odT1yW25dKS5sZW5ndGh9Zm9yKHZhciBvPW5ldyBVaW50OEFycmF5KGUpLGk9MCxhPTAscz10O2E8cy5sZW5ndGg7YSsrKXt2YXIgdT1zW2FdO28uc2V0KHUsaSksaSs9dS5sZW5ndGh9cmV0dXJuIG99LHQuc3BsaXRCeXRlQXJyYXk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7KXt2YXIgbz1NYXRoLm1pbihlLHQubGVuZ3RoLXIpO24ucHVzaCh0LnN1YmFycmF5KHIscitvKSkscis9b31yZXR1cm4gbn19KHQuQXJyYXlUb29sc3x8KHQuQXJyYXlUb29scz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt0LmNvbnZlcnRUb1VpbnQ4QXJyYXlJZk5lZWRlZD1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBCdWZmZXImJkJ1ZmZlci5pc0J1ZmZlcihlKT90LmJ1ZmZlclRvVWludDhBcnJheShlKTplfSx0LnVpbnQ4QXJyYXlUb0J1ZmZlcj1mdW5jdGlvbih0KXtpZihCdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLEJ1ZmZlci5wcm90b3R5cGUpLGV9Zm9yKHZhciBuPXQubGVuZ3RoLHI9bmV3IEJ1ZmZlcihuKSxvPTA7bzxuO28rKylyW29dPXRbb107cmV0dXJuIHJ9LHQuYnVmZmVyVG9VaW50OEFycmF5PWZ1bmN0aW9uKHQpe2lmKEJ1ZmZlci5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXJldHVybiBuZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKTtmb3IodmFyIGU9dC5sZW5ndGgsbj1uZXcgVWludDhBcnJheShlKSxyPTA7cjxlO3IrKyluW3JdPXRbcl07cmV0dXJuIG59fSh0LkJ1ZmZlclRvb2xzfHwodC5CdWZmZXJUb29scz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlKXtlLmdldENyb3BwZWRCdWZmZXI9ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9MCk7dmFyIG89bmV3IFVpbnQ4QXJyYXkobityKTtyZXR1cm4gby5zZXQodC5zdWJhcnJheShlLGUrbikpLG99LGUuZ2V0Q3JvcHBlZEFuZEFwcGVuZGVkQnl0ZUFycmF5PWZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiB0LkFycmF5VG9vbHMuY29uY2F0VWludDhBcnJheXMoW2Uuc3ViYXJyYXkobixuK3IpLG9dKX0sZS5kZXRlY3RDb21wcmVzc2lvblNvdXJjZUVuY29kaW5nPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRldGVjdENvbXByZXNzaW9uU291cmNlRW5jb2Rpbmc6IGlucHV0IGlzIG51bGwgb3IgdW5kZWZpbmVkXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVyblwiU3RyaW5nXCI7aWYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIEJ1ZmZlciYmQnVmZmVyLmlzQnVmZmVyKHQpKXJldHVyblwiQnl0ZUFycmF5XCI7dGhyb3cgbmV3IFR5cGVFcnJvcihcImRldGVjdENvbXByZXNzaW9uU291cmNlRW5jb2Rpbmc6IGlucHV0IG11c3QgYmUgb2YgdHlwZSAnc3RyaW5nJywgJ1VpbnQ4QXJyYXknIG9yICdCdWZmZXInXCIpfSxlLmVuY29kZUNvbXByZXNzZWRCeXRlcz1mdW5jdGlvbihlLG4pe3N3aXRjaChuKXtjYXNlXCJCeXRlQXJyYXlcIjpyZXR1cm4gZTtjYXNlXCJCdWZmZXJcIjpyZXR1cm4gdC5CdWZmZXJUb29scy51aW50OEFycmF5VG9CdWZmZXIoZSk7Y2FzZVwiQmFzZTY0XCI6cmV0dXJuIHQuZW5jb2RlQmFzZTY0KGUpO2Nhc2VcIkJpbmFyeVN0cmluZ1wiOnJldHVybiB0LmVuY29kZUJpbmFyeVN0cmluZyhlKTtjYXNlXCJTdG9yYWdlQmluYXJ5U3RyaW5nXCI6cmV0dXJuIHQuZW5jb2RlU3RvcmFnZUJpbmFyeVN0cmluZyhlKTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGVDb21wcmVzc2VkQnl0ZXM6IGludmFsaWQgb3V0cHV0IGVuY29kaW5nIHJlcXVlc3RlZFwiKX19LGUuZGVjb2RlQ29tcHJlc3NlZEJ5dGVzPWZ1bmN0aW9uKGUsbil7aWYobnVsbD09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb2RlQ29tcHJlc3NlZERhdGE6IElucHV0IGlzIG51bGwgb3IgdW5kZWZpbmVkXCIpO3N3aXRjaChuKXtjYXNlXCJCeXRlQXJyYXlcIjpjYXNlXCJCdWZmZXJcIjp2YXIgcj10LkJ1ZmZlclRvb2xzLmNvbnZlcnRUb1VpbnQ4QXJyYXlJZk5lZWRlZChlKTtpZighKHIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb2RlQ29tcHJlc3NlZERhdGE6ICdCeXRlQXJyYXknIG9yICdCdWZmZXInIGlucHV0IHR5cGUgd2FzIHNwZWNpZmllZCBidXQgaW5wdXQgaXMgbm90IGEgVWludDhBcnJheSBvciBCdWZmZXJcIik7cmV0dXJuIHI7Y2FzZVwiQmFzZTY0XCI6aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29kZUNvbXByZXNzZWREYXRhOiAnQmFzZTY0JyBpbnB1dCB0eXBlIHdhcyBzcGVjaWZpZWQgYnV0IGlucHV0IGlzIG5vdCBhIHN0cmluZ1wiKTtyZXR1cm4gdC5kZWNvZGVCYXNlNjQoZSk7Y2FzZVwiQmluYXJ5U3RyaW5nXCI6aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29kZUNvbXByZXNzZWREYXRhOiAnQmluYXJ5U3RyaW5nJyBpbnB1dCB0eXBlIHdhcyBzcGVjaWZpZWQgYnV0IGlucHV0IGlzIG5vdCBhIHN0cmluZ1wiKTtyZXR1cm4gdC5kZWNvZGVCaW5hcnlTdHJpbmcoZSk7Y2FzZVwiU3RvcmFnZUJpbmFyeVN0cmluZ1wiOmlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvZGVDb21wcmVzc2VkRGF0YTogJ1N0b3JhZ2VCaW5hcnlTdHJpbmcnIGlucHV0IHR5cGUgd2FzIHNwZWNpZmllZCBidXQgaW5wdXQgaXMgbm90IGEgc3RyaW5nXCIpO3JldHVybiB0LmRlY29kZVN0b3JhZ2VCaW5hcnlTdHJpbmcoZSk7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb2RlQ29tcHJlc3NlZERhdGE6IGludmFsaWQgaW5wdXQgZW5jb2RpbmcgcmVxdWVzdGVkOiAnXCIuY29uY2F0KG4sXCInXCIpKX19LGUuZW5jb2RlRGVjb21wcmVzc2VkQnl0ZXM9ZnVuY3Rpb24oZSxuKXtzd2l0Y2gobil7Y2FzZVwiU3RyaW5nXCI6cmV0dXJuIHQuZGVjb2RlVVRGOChlKTtjYXNlXCJCeXRlQXJyYXlcIjpyZXR1cm4gZTtjYXNlXCJCdWZmZXJcIjppZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBCdWZmZXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kZURlY29tcHJlc3NlZEJ5dGVzOiBhICdCdWZmZXInIHR5cGUgd2FzIHNwZWNpZmllZCBidXQgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgY3VycmVudCBlbnZpcm5tZW50XCIpO3JldHVybiB0LkJ1ZmZlclRvb2xzLnVpbnQ4QXJyYXlUb0J1ZmZlcihlKTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGVEZWNvbXByZXNzZWRCeXRlczogaW52YWxpZCBvdXRwdXQgZW5jb2RpbmcgcmVxdWVzdGVkXCIpfX19KHQuQ29tcHJlc3Npb25Db21tb258fCh0LkNvbXByZXNzaW9uQ29tbW9uPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKGUpe3ZhciBuLHI9W107ZS5lbnF1ZXVlSW1tZWRpYXRlPWZ1bmN0aW9uKHQpe3IucHVzaCh0KSwxPT09ci5sZW5ndGgmJm4oKX0sZS5pbml0aWFsaXplU2NoZWR1bGVyPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCxuPXI7ZTxuLmxlbmd0aDtlKyspe3ZhciBvPW5bZV07dHJ5e28uY2FsbCh2b2lkIDApfWNhdGNoKGUpe3QucHJpbnRFeGNlcHRpb25BbmRTdGFja1RyYWNlVG9Db25zb2xlKGUsXCJlbnF1ZXVlSW1tZWRpYXRlIGV4Y2VwdGlvblwiKX19ci5sZW5ndGg9MH07aWYodC5ydW5uaW5nSW5Ob2RlSlMoKSluPWZ1bmN0aW9uKCl7cmV0dXJuIHNldEltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gZSgpfSkpfTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2Upe3ZhciBvLGk9XCJlbnF1ZXVlSW1tZWRpYXRlLVwiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwoZnVuY3Rpb24odCl7dC5kYXRhPT09aSYmZSgpfSkpLG89dC5ydW5uaW5nSW5OdWxsT3JpZ2luKCk/XCIqXCI6d2luZG93LmxvY2F0aW9uLmhyZWYsbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucG9zdE1lc3NhZ2UoaSxvKX19ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCYmXCJmdW5jdGlvblwiPT10eXBlb2YgTWVzc2FnZVBvcnQpe3ZhciBhPW5ldyBNZXNzYWdlQ2hhbm5lbDthLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiBlKCl9LG49ZnVuY3Rpb24oKXtyZXR1cm4gYS5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19ZWxzZSBuPWZ1bmN0aW9uKCl7cmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUoKX0pLDApfX0sZS5pbml0aWFsaXplU2NoZWR1bGVyKCl9KGU9dC5FdmVudExvb3B8fCh0LkV2ZW50TG9vcD17fSkpLHQuZW5xdWV1ZUltbWVkaWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5lbnF1ZXVlSW1tZWRpYXRlKHQpfX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7dC5vdmVycmlkZT1mdW5jdGlvbihlLG4pe3JldHVybiB0LmV4dGVuZChlLG4pfSx0LmV4dGVuZD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9iaiBpcyBudWxsIG9yIHVuZGVmaW5lZFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwib2JqIGlzIG5vdCBhbiBvYmplY3RcIik7aWYobnVsbD09ZSYmKGU9e30pLFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJuZXdQcm9wZXJ0aWVzIGlzIG5vdCBhbiBvYmplY3RcIik7aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9fSh0Lk9iamVjdFRvb2xzfHwodC5PYmplY3RUb29scz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3QuZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUtdCkpfSx0LmdldFJhbmRvbVVURjE2U3RyaW5nT2ZMZW5ndGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVwiXCIscj0wO3I8ZTtyKyspe3ZhciBvPXZvaWQgMDtkb3tvPXQuZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2UoMCwxMTE0MTEyKX13aGlsZShvPj01NTI5NiYmbzw9NTczNDMpO24rPXQuRW5jb2RpbmcuQ29kZVBvaW50LmRlY29kZVRvU3RyaW5nKG8pfXJldHVybiBufX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9MTAyNCksdGhpcy5vdXRwdXRCdWZmZXJDYXBhY2l0eT10LHRoaXMub3V0cHV0UG9zaXRpb249MCx0aGlzLm91dHB1dFN0cmluZz1cIlwiLHRoaXMub3V0cHV0QnVmZmVyPW5ldyBVaW50MTZBcnJheSh0aGlzLm91dHB1dEJ1ZmZlckNhcGFjaXR5KX1yZXR1cm4gdC5wcm90b3R5cGUuYXBwZW5kQ2hhckNvZGU9ZnVuY3Rpb24odCl7dGhpcy5vdXRwdXRCdWZmZXJbdGhpcy5vdXRwdXRQb3NpdGlvbisrXT10LHRoaXMub3V0cHV0UG9zaXRpb249PT10aGlzLm91dHB1dEJ1ZmZlckNhcGFjaXR5JiZ0aGlzLmZsdXNoQnVmZmVyVG9PdXRwdXRTdHJpbmcoKX0sdC5wcm90b3R5cGUuYXBwZW5kQ2hhckNvZGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmFwcGVuZENoYXJDb2RlKHRbZV0pfSx0LnByb3RvdHlwZS5hcHBlbmRTdHJpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuYXBwZW5kQ2hhckNvZGUodC5jaGFyQ29kZUF0KGUpKX0sdC5wcm90b3R5cGUuYXBwZW5kQ29kZVBvaW50PWZ1bmN0aW9uKHQpe2lmKHQ8PTY1NTM1KXRoaXMuYXBwZW5kQ2hhckNvZGUodCk7ZWxzZXtpZighKHQ8PTExMTQxMTEpKXRocm93IG5ldyBFcnJvcihcImFwcGVuZENvZGVQb2ludDogQSBjb2RlIHBvaW50IG9mIFwiLmNvbmNhdCh0LFwiIGNhbm5vdCBiZSBlbmNvZGVkIGluIFVURi0xNlwiKSk7dGhpcy5hcHBlbmRDaGFyQ29kZSg1NTI5NisodC02NTUzNj4+PjEwKSksdGhpcy5hcHBlbmRDaGFyQ29kZSg1NjMyMCsodC02NTUzNiYxMDIzKSl9fSx0LnByb3RvdHlwZS5nZXRPdXRwdXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbHVzaEJ1ZmZlclRvT3V0cHV0U3RyaW5nKCksdGhpcy5vdXRwdXRTdHJpbmd9LHQucHJvdG90eXBlLmZsdXNoQnVmZmVyVG9PdXRwdXRTdHJpbmc9ZnVuY3Rpb24oKXt0aGlzLm91dHB1dFBvc2l0aW9uPT09dGhpcy5vdXRwdXRCdWZmZXJDYXBhY2l0eT90aGlzLm91dHB1dFN0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHRoaXMub3V0cHV0QnVmZmVyKTp0aGlzLm91dHB1dFN0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHRoaXMub3V0cHV0QnVmZmVyLnN1YmFycmF5KDAsdGhpcy5vdXRwdXRQb3NpdGlvbikpLHRoaXMub3V0cHV0UG9zaXRpb249MH0sdH0oKTt0LlN0cmluZ0J1aWxkZXI9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlc3RhcnQoKX1yZXR1cm4gZS5wcm90b3R5cGUucmVzdGFydD1mdW5jdGlvbigpe3RoaXMuc3RhcnRUaW1lPWUuZ2V0VGltZXN0YW1wKCl9LGUucHJvdG90eXBlLmdldEVsYXBzZWRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0VGltZXN0YW1wKCktdGhpcy5zdGFydFRpbWV9LGUucHJvdG90eXBlLmdldEVsYXBzZWRUaW1lQW5kUmVzdGFydD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RWxhcHNlZFRpbWUoKTtyZXR1cm4gdGhpcy5yZXN0YXJ0KCksdH0sZS5wcm90b3R5cGUubG9nQW5kUmVzdGFydD1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj10aGlzLmdldEVsYXBzZWRUaW1lKCksbz1cIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHIudG9GaXhlZCgzKSxcIm1zXCIpO3JldHVybiB0LmxvZyhvLG4pLHRoaXMucmVzdGFydCgpLHJ9LGUuZ2V0VGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZXN0YW1wRnVuY3x8dGhpcy5jcmVhdGVHbG9iYWxUaW1lc3RhbXBGdW5jdGlvbigpLHRoaXMudGltZXN0YW1wRnVuYygpfSxlLmdldE1pY3Jvc2Vjb25kVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoMWUzKmUuZ2V0VGltZXN0YW1wKCkpfSxlLmNyZWF0ZUdsb2JhbFRpbWVzdGFtcEZ1bmN0aW9uPWZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHByb2Nlc3MuaHJ0aW1lKXt2YXIgdD0wO3RoaXMudGltZXN0YW1wRnVuYz1mdW5jdGlvbigpe3ZhciBlPXByb2Nlc3MuaHJ0aW1lKCksbj0xZTMqZVswXStlWzFdLzFlNjtyZXR1cm4gdCtufSx0PURhdGUubm93KCktdGhpcy50aW1lc3RhbXBGdW5jKCl9ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgY2hyb21lJiZjaHJvbWUuSW50ZXJ2YWwpe3ZhciBlPURhdGUubm93KCksbj1uZXcgY2hyb21lLkludGVydmFsO24uc3RhcnQoKSx0aGlzLnRpbWVzdGFtcEZ1bmM9ZnVuY3Rpb24oKXtyZXR1cm4gZStuLm1pY3Jvc2Vjb25kcygpLzFlM319ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgcGVyZm9ybWFuY2UmJnBlcmZvcm1hbmNlLm5vdyl7dmFyIHI9RGF0ZS5ub3coKS1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLnRpbWVzdGFtcEZ1bmM9ZnVuY3Rpb24oKXtyZXR1cm4gcitwZXJmb3JtYW5jZS5ub3coKX19ZWxzZSBEYXRlLm5vdz90aGlzLnRpbWVzdGFtcEZ1bmM9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX06dGhpcy50aW1lc3RhbXBGdW5jPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9fSxlfSgpO3QuVGltZXI9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuTWluaW11bVNlcXVlbmNlTGVuZ3RoPTQsdGhpcy5NYXhpbXVtU2VxdWVuY2VMZW5ndGg9MzEsdGhpcy5NYXhpbXVtTWF0Y2hEaXN0YW5jZT0zMjc2Nyx0aGlzLlByZWZpeEhhc2hUYWJsZVNpemU9NjU1MzcsdGhpcy5pbnB1dEJ1ZmZlclN0cmVhbU9mZnNldD0xLGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQzMkFycmF5P3RoaXMucHJlZml4SGFzaFRhYmxlPW5ldyB0LkNvbXByZXNzb3JDdXN0b21IYXNoVGFibGUodGhpcy5QcmVmaXhIYXNoVGFibGVTaXplKTp0aGlzLnByZWZpeEhhc2hUYWJsZT1uZXcgdC5Db21wcmVzc29yU2ltcGxlSGFzaFRhYmxlKHRoaXMuUHJlZml4SGFzaFRhYmxlU2l6ZSl9cmV0dXJuIGUucHJvdG90eXBlLmNvbXByZXNzQmxvY2s9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY29tcHJlc3NCbG9jazogdW5kZWZpbmVkIG9yIG51bGwgaW5wdXQgcmVjZWl2ZWRcIik7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXQuZW5jb2RlVVRGOChlKSksZT10LkJ1ZmZlclRvb2xzLmNvbnZlcnRUb1VpbnQ4QXJyYXlJZk5lZWRlZChlKSx0aGlzLmNvbXByZXNzVXRmOEJsb2NrKGUpfSxlLnByb3RvdHlwZS5jb21wcmVzc1V0ZjhCbG9jaz1mdW5jdGlvbih0KXtpZighdHx8MD09dC5sZW5ndGgpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciBlPXRoaXMuY3JvcEFuZEFkZE5ld0J5dGVzVG9JbnB1dEJ1ZmZlcih0KSxuPXRoaXMuaW5wdXRCdWZmZXIscj10aGlzLmlucHV0QnVmZmVyLmxlbmd0aDt0aGlzLm91dHB1dEJ1ZmZlcj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCksdGhpcy5vdXRwdXRCdWZmZXJQb3NpdGlvbj0wO2Zvcih2YXIgbz0wLGk9ZTtpPHI7aSsrKXt2YXIgYT1uW2ldLHM9aTxvO2lmKGk+ci10aGlzLk1pbmltdW1TZXF1ZW5jZUxlbmd0aClzfHx0aGlzLm91dHB1dFJhd0J5dGUoYSk7ZWxzZXt2YXIgdT10aGlzLmdldEJ1Y2tldEluZGV4Rm9yUHJlZml4KGkpO2lmKCFzKXt2YXIgbD10aGlzLmZpbmRMb25nZXN0TWF0Y2goaSx1KTtudWxsIT1sJiYodGhpcy5vdXRwdXRQb2ludGVyQnl0ZXMobC5sZW5ndGgsbC5kaXN0YW5jZSksbz1pK2wubGVuZ3RoLHM9ITApfXN8fHRoaXMub3V0cHV0UmF3Qnl0ZShhKTt2YXIgYz10aGlzLmlucHV0QnVmZmVyU3RyZWFtT2Zmc2V0K2k7dGhpcy5wcmVmaXhIYXNoVGFibGUuYWRkVmFsdWVUb0J1Y2tldCh1LGMpfX1yZXR1cm4gdGhpcy5vdXRwdXRCdWZmZXIuc3ViYXJyYXkoMCx0aGlzLm91dHB1dEJ1ZmZlclBvc2l0aW9uKX0sZS5wcm90b3R5cGUuZmluZExvbmdlc3RNYXRjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucHJlZml4SGFzaFRhYmxlLmdldEFycmF5U2VnbWVudEZvckJ1Y2tldEluZGV4KGUsdGhpcy5yZXVzYWJsZUFycmF5U2VnbWVudE9iamVjdCk7aWYobnVsbD09bilyZXR1cm4gbnVsbDtmb3IodmFyIHIsbz10aGlzLmlucHV0QnVmZmVyLGk9MCxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW4uZ2V0SW5SZXZlcnNlZE9yZGVyKGEpLXRoaXMuaW5wdXRCdWZmZXJTdHJlYW1PZmZzZXQsdT10LXMsbD12b2lkIDA7aWYobD12b2lkIDA9PT1yP3RoaXMuTWluaW11bVNlcXVlbmNlTGVuZ3RoLTE6cjwxMjgmJnU+PTEyOD9pKyhpPj4+MSk6aSx1PnRoaXMuTWF4aW11bU1hdGNoRGlzdGFuY2V8fGw+PXRoaXMuTWF4aW11bVNlcXVlbmNlTGVuZ3RofHx0K2w+PW8ubGVuZ3RoKWJyZWFrO2lmKG9bcytsXT09PW9bdCtsXSlmb3IodmFyIGM9MDs7YysrKXtpZih0K2M9PT1vLmxlbmd0aHx8b1tzK2NdIT09b1t0K2NdKXtjPmwmJihyPXUsaT1jKTticmVha31pZihjPT09dGhpcy5NYXhpbXVtU2VxdWVuY2VMZW5ndGgpcmV0dXJue2Rpc3RhbmNlOnUsbGVuZ3RoOnRoaXMuTWF4aW11bVNlcXVlbmNlTGVuZ3RofX19cmV0dXJuIHZvaWQgMCE9PXI/e2Rpc3RhbmNlOnIsbGVuZ3RoOml9Om51bGx9LGUucHJvdG90eXBlLmdldEJ1Y2tldEluZGV4Rm9yUHJlZml4PWZ1bmN0aW9uKHQpe3JldHVybig3ODgwNTk5KnRoaXMuaW5wdXRCdWZmZXJbdF0rMzk2MDEqdGhpcy5pbnB1dEJ1ZmZlclt0KzFdKzE5OSp0aGlzLmlucHV0QnVmZmVyW3QrMl0rdGhpcy5pbnB1dEJ1ZmZlclt0KzNdKSV0aGlzLlByZWZpeEhhc2hUYWJsZVNpemV9LGUucHJvdG90eXBlLm91dHB1dFBvaW50ZXJCeXRlcz1mdW5jdGlvbih0LGUpe2U8MTI4Pyh0aGlzLm91dHB1dFJhd0J5dGUoMTkyfHQpLHRoaXMub3V0cHV0UmF3Qnl0ZShlKSk6KHRoaXMub3V0cHV0UmF3Qnl0ZSgyMjR8dCksdGhpcy5vdXRwdXRSYXdCeXRlKGU+Pj44KSx0aGlzLm91dHB1dFJhd0J5dGUoMjU1JmUpKX0sZS5wcm90b3R5cGUub3V0cHV0UmF3Qnl0ZT1mdW5jdGlvbih0KXt0aGlzLm91dHB1dEJ1ZmZlclt0aGlzLm91dHB1dEJ1ZmZlclBvc2l0aW9uKytdPXR9LGUucHJvdG90eXBlLmNyb3BBbmRBZGROZXdCeXRlc1RvSW5wdXRCdWZmZXI9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09dGhpcy5pbnB1dEJ1ZmZlcilyZXR1cm4gdGhpcy5pbnB1dEJ1ZmZlcj1lLDA7dmFyIG49TWF0aC5taW4odGhpcy5pbnB1dEJ1ZmZlci5sZW5ndGgsdGhpcy5NYXhpbXVtTWF0Y2hEaXN0YW5jZSkscj10aGlzLmlucHV0QnVmZmVyLmxlbmd0aC1uO3JldHVybiB0aGlzLmlucHV0QnVmZmVyPXQuQ29tcHJlc3Npb25Db21tb24uZ2V0Q3JvcHBlZEFuZEFwcGVuZGVkQnl0ZUFycmF5KHRoaXMuaW5wdXRCdWZmZXIscixuLGUpLHRoaXMuaW5wdXRCdWZmZXJTdHJlYW1PZmZzZXQrPXIsbn0sZX0oKTt0LkNvbXByZXNzb3I9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy5taW5pbXVtQnVja2V0Q2FwYWNpdHk9NCx0aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eT02NCx0aGlzLmJ1Y2tldExvY2F0b3JzPW5ldyBVaW50MzJBcnJheSgyKnQpLHRoaXMuc3RvcmFnZT1uZXcgVWludDMyQXJyYXkoMip0KSx0aGlzLnN0b3JhZ2VJbmRleD0xfXJldHVybiBlLnByb3RvdHlwZS5hZGRWYWx1ZVRvQnVja2V0PWZ1bmN0aW9uKGUsbil7ZTw8PTEsdGhpcy5zdG9yYWdlSW5kZXg+PXRoaXMuc3RvcmFnZS5sZW5ndGg+Pj4xJiZ0aGlzLmNvbXBhY3QoKTt2YXIgcixvPXRoaXMuYnVja2V0TG9jYXRvcnNbZV07aWYoMD09PW8pbz10aGlzLnN0b3JhZ2VJbmRleCxyPTEsdGhpcy5zdG9yYWdlW3RoaXMuc3RvcmFnZUluZGV4XT1uLHRoaXMuc3RvcmFnZUluZGV4Kz10aGlzLm1pbmltdW1CdWNrZXRDYXBhY2l0eTtlbHNleyhyPXRoaXMuYnVja2V0TG9jYXRvcnNbZSsxXSk9PT10aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eS0xJiYocj10aGlzLnRydW5jYXRlQnVja2V0VG9OZXdlckVsZW1lbnRzKG8scix0aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eS8yKSk7dmFyIGk9bytyOzA9PT10aGlzLnN0b3JhZ2VbaV0/KHRoaXMuc3RvcmFnZVtpXT1uLGk9PT10aGlzLnN0b3JhZ2VJbmRleCYmKHRoaXMuc3RvcmFnZUluZGV4Kz1yKSk6KHQuQXJyYXlUb29scy5jb3B5RWxlbWVudHModGhpcy5zdG9yYWdlLG8sdGhpcy5zdG9yYWdlLHRoaXMuc3RvcmFnZUluZGV4LHIpLG89dGhpcy5zdG9yYWdlSW5kZXgsdGhpcy5zdG9yYWdlSW5kZXgrPXIsdGhpcy5zdG9yYWdlW3RoaXMuc3RvcmFnZUluZGV4KytdPW4sdGhpcy5zdG9yYWdlSW5kZXgrPXIpLHIrK310aGlzLmJ1Y2tldExvY2F0b3JzW2VdPW8sdGhpcy5idWNrZXRMb2NhdG9yc1tlKzFdPXJ9LGUucHJvdG90eXBlLnRydW5jYXRlQnVja2V0VG9OZXdlckVsZW1lbnRzPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz1lK24tcjtyZXR1cm4gdC5BcnJheVRvb2xzLmNvcHlFbGVtZW50cyh0aGlzLnN0b3JhZ2Usbyx0aGlzLnN0b3JhZ2UsZSxyKSx0LkFycmF5VG9vbHMuemVyb0VsZW1lbnRzKHRoaXMuc3RvcmFnZSxlK3Isbi1yKSxyfSxlLnByb3RvdHlwZS5jb21wYWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5idWNrZXRMb2NhdG9ycyxuPXRoaXMuc3RvcmFnZTt0aGlzLmJ1Y2tldExvY2F0b3JzPW5ldyBVaW50MzJBcnJheSh0aGlzLmJ1Y2tldExvY2F0b3JzLmxlbmd0aCksdGhpcy5zdG9yYWdlSW5kZXg9MTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrPTIpe3ZhciBvPWVbcisxXTswIT09byYmKHRoaXMuYnVja2V0TG9jYXRvcnNbcl09dGhpcy5zdG9yYWdlSW5kZXgsdGhpcy5idWNrZXRMb2NhdG9yc1tyKzFdPW8sdGhpcy5zdG9yYWdlSW5kZXgrPU1hdGgubWF4KE1hdGgubWluKDIqbyx0aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eSksdGhpcy5taW5pbXVtQnVja2V0Q2FwYWNpdHkpKX10aGlzLnN0b3JhZ2U9bmV3IFVpbnQzMkFycmF5KDgqdGhpcy5zdG9yYWdlSW5kZXgpO2ZvcihyPTA7cjxlLmxlbmd0aDtyKz0yKXt2YXIgaT1lW3JdO2lmKDAhPT1pKXt2YXIgYT10aGlzLmJ1Y2tldExvY2F0b3JzW3JdLHM9dGhpcy5idWNrZXRMb2NhdG9yc1tyKzFdO3QuQXJyYXlUb29scy5jb3B5RWxlbWVudHMobixpLHRoaXMuc3RvcmFnZSxhLHMpfX19LGUucHJvdG90eXBlLmdldEFycmF5U2VnbWVudEZvckJ1Y2tldEluZGV4PWZ1bmN0aW9uKGUsbil7ZTw8PTE7dmFyIHI9dGhpcy5idWNrZXRMb2NhdG9yc1tlXTtyZXR1cm4gMD09PXI/bnVsbDoodm9pZCAwPT09biYmKG49bmV3IHQuQXJyYXlTZWdtZW50KHRoaXMuc3RvcmFnZSxyLHRoaXMuYnVja2V0TG9jYXRvcnNbZSsxXSkpLG4pfSxlLnByb3RvdHlwZS5nZXRVc2VkQnVja2V0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0LkFycmF5VG9vbHMuY291bnROb256ZXJvVmFsdWVzSW5BcnJheSh0aGlzLmJ1Y2tldExvY2F0b3JzKS8yKX0sZS5wcm90b3R5cGUuZ2V0VG90YWxFbGVtZW50Q291bnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmJ1Y2tldExvY2F0b3JzLmxlbmd0aDtlKz0yKXQrPXRoaXMuYnVja2V0TG9jYXRvcnNbZSsxXTtyZXR1cm4gdH0sZX0oKTt0LkNvbXByZXNzb3JDdXN0b21IYXNoVGFibGU9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHk9NjQsdGhpcy5idWNrZXRzPW5ldyBBcnJheSh0KX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkVmFsdWVUb0J1Y2tldD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuYnVja2V0c1tlXTt2b2lkIDA9PT1yP3RoaXMuYnVja2V0c1tlXT1bbl06KHIubGVuZ3RoPT09dGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHktMSYmdC5BcnJheVRvb2xzLnRydW5jYXRlU3RhcnRpbmdFbGVtZW50cyhyLHRoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5LzIpLHIucHVzaChuKSl9LGUucHJvdG90eXBlLmdldEFycmF5U2VnbWVudEZvckJ1Y2tldEluZGV4PWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcy5idWNrZXRzW2VdO3JldHVybiB2b2lkIDA9PT1yP251bGw6KHZvaWQgMD09PW4mJihuPW5ldyB0LkFycmF5U2VnbWVudChyLDAsci5sZW5ndGgpKSxuKX0sZS5wcm90b3R5cGUuZ2V0VXNlZEJ1Y2tldENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXJyYXlUb29scy5jb3VudE5vbnplcm9WYWx1ZXNJbkFycmF5KHRoaXMuYnVja2V0cyl9LGUucHJvdG90eXBlLmdldFRvdGFsRWxlbWVudENvdW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5idWNrZXRzLmxlbmd0aDtlKyspdm9pZCAwIT09dGhpcy5idWNrZXRzW2VdJiYodCs9dGhpcy5idWNrZXRzW2VdLmxlbmd0aCk7cmV0dXJuIHR9LGV9KCk7dC5Db21wcmVzc29yU2ltcGxlSGFzaFRhYmxlPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5NYXhpbXVtTWF0Y2hEaXN0YW5jZT0zMjc2Nyx0aGlzLm91dHB1dFBvc2l0aW9uPTB9cmV0dXJuIGUucHJvdG90eXBlLmRlY29tcHJlc3NCbG9ja1RvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuQnVmZmVyVG9vbHMuY29udmVydFRvVWludDhBcnJheUlmTmVlZGVkKGUpLHQuZGVjb2RlVVRGOCh0aGlzLmRlY29tcHJlc3NCbG9jayhlKSl9LGUucHJvdG90eXBlLmRlY29tcHJlc3NCbG9jaz1mdW5jdGlvbihlKXt0aGlzLmlucHV0QnVmZmVyUmVtYWluZGVyJiYoZT10LkFycmF5VG9vbHMuY29uY2F0VWludDhBcnJheXMoW3RoaXMuaW5wdXRCdWZmZXJSZW1haW5kZXIsZV0pLHRoaXMuaW5wdXRCdWZmZXJSZW1haW5kZXI9dm9pZCAwKTtmb3IodmFyIG49dGhpcy5jcm9wT3V0cHV0QnVmZmVyVG9XaW5kb3dBbmRJbml0aWFsaXplKE1hdGgubWF4KDQqZS5sZW5ndGgsMTAyNCkpLHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBpPWVbcl07aWYoaT4+PjY9PTMpe3ZhciBhPWk+Pj41O2lmKHI9PW8tMXx8cj09by0yJiY3PT1hKXt0aGlzLmlucHV0QnVmZmVyUmVtYWluZGVyPWUuc3ViYXJyYXkocik7YnJlYWt9aWYoZVtyKzFdPj4+Nz09MSl0aGlzLm91dHB1dEJ5dGUoaSk7ZWxzZXt2YXIgcz0zMSZpLHU9dm9pZCAwOzY9PWE/KHU9ZVtyKzFdLHIrPTEpOih1PWVbcisxXTw8OHxlW3IrMl0scis9Mik7Zm9yKHZhciBsPXRoaXMub3V0cHV0UG9zaXRpb24tdSxjPTA7YzxzO2MrKyl0aGlzLm91dHB1dEJ5dGUodGhpcy5vdXRwdXRCdWZmZXJbbCtjXSl9fWVsc2UgdGhpcy5vdXRwdXRCeXRlKGkpfXJldHVybiB0aGlzLnJvbGxCYWNrSWZPdXRwdXRCdWZmZXJFbmRzV2l0aEFUcnVuY2F0ZWRNdWx0aWJ5dGVTZXF1ZW5jZSgpLHQuQ29tcHJlc3Npb25Db21tb24uZ2V0Q3JvcHBlZEJ1ZmZlcih0aGlzLm91dHB1dEJ1ZmZlcixuLHRoaXMub3V0cHV0UG9zaXRpb24tbil9LGUucHJvdG90eXBlLm91dHB1dEJ5dGU9ZnVuY3Rpb24oZSl7dGhpcy5vdXRwdXRQb3NpdGlvbj09PXRoaXMub3V0cHV0QnVmZmVyLmxlbmd0aCYmKHRoaXMub3V0cHV0QnVmZmVyPXQuQXJyYXlUb29scy5kb3VibGVCeXRlQXJyYXlDYXBhY2l0eSh0aGlzLm91dHB1dEJ1ZmZlcikpLHRoaXMub3V0cHV0QnVmZmVyW3RoaXMub3V0cHV0UG9zaXRpb24rK109ZX0sZS5wcm90b3R5cGUuY3JvcE91dHB1dEJ1ZmZlclRvV2luZG93QW5kSW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtpZighdGhpcy5vdXRwdXRCdWZmZXIpcmV0dXJuIHRoaXMub3V0cHV0QnVmZmVyPW5ldyBVaW50OEFycmF5KGUpLDA7dmFyIG49TWF0aC5taW4odGhpcy5vdXRwdXRQb3NpdGlvbix0aGlzLk1heGltdW1NYXRjaERpc3RhbmNlKTtpZih0aGlzLm91dHB1dEJ1ZmZlcj10LkNvbXByZXNzaW9uQ29tbW9uLmdldENyb3BwZWRCdWZmZXIodGhpcy5vdXRwdXRCdWZmZXIsdGhpcy5vdXRwdXRQb3NpdGlvbi1uLG4sZSksdGhpcy5vdXRwdXRQb3NpdGlvbj1uLHRoaXMub3V0cHV0QnVmZmVyUmVtYWluZGVyKXtmb3IodmFyIHI9MDtyPHRoaXMub3V0cHV0QnVmZmVyUmVtYWluZGVyLmxlbmd0aDtyKyspdGhpcy5vdXRwdXRCeXRlKHRoaXMub3V0cHV0QnVmZmVyUmVtYWluZGVyW3JdKTt0aGlzLm91dHB1dEJ1ZmZlclJlbWFpbmRlcj12b2lkIDB9cmV0dXJuIG59LGUucHJvdG90eXBlLnJvbGxCYWNrSWZPdXRwdXRCdWZmZXJFbmRzV2l0aEFUcnVuY2F0ZWRNdWx0aWJ5dGVTZXF1ZW5jZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0xO3Q8PTQmJnRoaXMub3V0cHV0UG9zaXRpb24tdD49MDt0Kyspe3ZhciBlPXRoaXMub3V0cHV0QnVmZmVyW3RoaXMub3V0cHV0UG9zaXRpb24tdF07aWYodDw0JiZlPj4+Mz09MzB8fHQ8MyYmZT4+PjQ9PTE0fHx0PDImJmU+Pj41PT02KXJldHVybiB0aGlzLm91dHB1dEJ1ZmZlclJlbWFpbmRlcj10aGlzLm91dHB1dEJ1ZmZlci5zdWJhcnJheSh0aGlzLm91dHB1dFBvc2l0aW9uLXQsdGhpcy5vdXRwdXRQb3NpdGlvbiksdm9pZCh0aGlzLm91dHB1dFBvc2l0aW9uLT10KX19LGV9KCk7dC5EZWNvbXByZXNzb3I9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyBVaW50OEFycmF5KFs2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDQzLDQ3XSkscj1uZXcgVWludDhBcnJheShbMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDYyLDI1NSwyNTUsMjU1LDYzLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDI1NSwyNTUsMjU1LDAsMjU1LDI1NSwyNTUsMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSwyNTUsMjU1LDI1NSwyNTVdKTtlLmVuY29kZT1mdW5jdGlvbihuKXtyZXR1cm4gbiYmMCE9bi5sZW5ndGg/dC5ydW5uaW5nSW5Ob2RlSlMoKT90LkJ1ZmZlclRvb2xzLnVpbnQ4QXJyYXlUb0J1ZmZlcihuKS50b1N0cmluZyhcImJhc2U2NFwiKTplLmVuY29kZVdpdGhKUyhuKTpcIlwifSxlLmRlY29kZT1mdW5jdGlvbihuKXtyZXR1cm4gbj90LnJ1bm5pbmdJbk5vZGVKUygpP3QuQnVmZmVyVG9vbHMuYnVmZmVyVG9VaW50OEFycmF5KEJ1ZmZlci5mcm9tKG4sXCJiYXNlNjRcIikpOmUuZGVjb2RlV2l0aEpTKG4pOm5ldyBVaW50OEFycmF5KDApfSxlLmVuY29kZVdpdGhKUz1mdW5jdGlvbihlLHIpe2lmKHZvaWQgMD09PXImJihyPSEwKSwhZXx8MD09ZS5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIG8saT1uLGE9bmV3IHQuU3RyaW5nQnVpbGRlcixzPTAsdT1lLmxlbmd0aDtzPHU7cys9MylzPD11LTM/KG89ZVtzXTw8MTZ8ZVtzKzFdPDw4fGVbcysyXSxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjE4JjYzXSksYS5hcHBlbmRDaGFyQ29kZShpW28+Pj4xMiY2M10pLGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+NiY2M10pLGEuYXBwZW5kQ2hhckNvZGUoaVs2MyZvXSksbz0wKTpzPT09dS0yPyhvPWVbc108PDE2fGVbcysxXTw8OCxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjE4JjYzXSksYS5hcHBlbmRDaGFyQ29kZShpW28+Pj4xMiY2M10pLGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+NiY2M10pLHImJmEuYXBwZW5kQ2hhckNvZGUoNjEpKTpzPT09dS0xJiYobz1lW3NdPDwxNixhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjE4JjYzXSksYS5hcHBlbmRDaGFyQ29kZShpW28+Pj4xMiY2M10pLHImJihhLmFwcGVuZENoYXJDb2RlKDYxKSxhLmFwcGVuZENoYXJDb2RlKDYxKSkpO3JldHVybiBhLmdldE91dHB1dFN0cmluZygpfSxlLmRlY29kZVdpdGhKUz1mdW5jdGlvbih0LGUpe2lmKCF0fHwwPT10Lmxlbmd0aClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIG49dC5sZW5ndGglNDtpZigxPT09bil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEJhc2U2NCBzdHJpbmc6IGxlbmd0aCAlIDQgPT0gMVwiKTsyPT09bj90Kz1cIj09XCI6Mz09PW4mJih0Kz1cIj1cIiksZXx8KGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpKTtmb3IodmFyIG89MCxpPXQubGVuZ3RoLGE9MDthPGk7YSs9NCl7dmFyIHM9clt0LmNoYXJDb2RlQXQoYSldPDwxOHxyW3QuY2hhckNvZGVBdChhKzEpXTw8MTJ8clt0LmNoYXJDb2RlQXQoYSsyKV08PDZ8clt0LmNoYXJDb2RlQXQoYSszKV07ZVtvKytdPXM+Pj4xNiYyNTUsZVtvKytdPXM+Pj44JjI1NSxlW28rK109MjU1JnN9cmV0dXJuIDYxPT10LmNoYXJDb2RlQXQoaS0xKSYmby0tLDYxPT10LmNoYXJDb2RlQXQoaS0yKSYmby0tLGUuc3ViYXJyYXkoMCxvKX19KGUuQmFzZTY0fHwoZS5CYXNlNjQ9e30pKX0odC5FbmNvZGluZ3x8KHQuRW5jb2Rpbmc9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuZW5jb2RlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkJpbmFyeVN0cmluZy5lbmNvZGU6IHVuZGVmaW5lZCBvciBudWxsIGlucHV0IHJlY2VpdmVkXCIpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm5cIlwiO2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyB0LlN0cmluZ0J1aWxkZXIsbz0wLGk9MSxhPTA7YTxuO2ErPTIpe3ZhciBzPXZvaWQgMDtzPWE9PW4tMT9lW2FdPDw4OmVbYV08PDh8ZVthKzFdLHIuYXBwZW5kQ2hhckNvZGUobzw8MTYtaXxzPj4+aSksbz1zJigxPDxpKS0xLDE1PT09aT8oci5hcHBlbmRDaGFyQ29kZShvKSxvPTAsaT0xKTppKz0xLGE+PW4tMiYmci5hcHBlbmRDaGFyQ29kZShvPDwxNi1pKX1yZXR1cm4gci5hcHBlbmRDaGFyQ29kZSgzMjc2OHxuJTIpLHIuZ2V0T3V0cHV0U3RyaW5nKCl9LGUuZGVjb2RlPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJCaW5hcnlTdHJpbmcuZGVjb2RlOiBpbnZhbGlkIGlucHV0IHR5cGVcIik7aWYoXCJcIj09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KDMqdC5sZW5ndGgpLG49MCxyPWZ1bmN0aW9uKHQpe2VbbisrXT10Pj4+OCxlW24rK109MjU1JnR9LG89MCxpPTAsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10LmNoYXJDb2RlQXQoYSk7cz49MzI3Njg/KDMyNzY5PT1zJiZuLS0saT0wKTooMD09aT9vPXM6KHIobzw8aXxzPj4+MTUtaSksbz1zJigxPDwxNS1pKS0xKSwxNT09aT9pPTA6aSs9MSl9cmV0dXJuIGUuc3ViYXJyYXkoMCxuKX19KGUuQmluYXJ5U3RyaW5nfHwoZS5CaW5hcnlTdHJpbmc9e30pKX0odC5FbmNvZGluZ3x8KHQuRW5jb2Rpbmc9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpe3QuZW5jb2RlRnJvbVN0cmluZz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY2hhckNvZGVBdChlKTtpZihuPDU1Mjk2fHxuPjU2MzE5KXJldHVybiBuO3ZhciByPXQuY2hhckNvZGVBdChlKzEpO2lmKHI+PTU2MzIwJiZyPD01NzM0MylyZXR1cm4gci01NjMyMCsobi01NTI5Njw8MTApKzY1NTM2O3Rocm93IG5ldyBFcnJvcihcImdldFVuaWNvZGVDb2RlUG9pbnQ6IFJlY2VpdmVkIGEgbGVhZCBzdXJyb2dhdGUgY2hhcmFjdGVyLCBjaGFyIGNvZGUgXCIuY29uY2F0KG4sXCIsIGZvbGxvd2VkIGJ5IFwiKS5jb25jYXQocixcIiwgd2hpY2ggaXMgbm90IGEgdHJhaWxpbmcgc3Vycm9nYXRlIGNoYXJhY3RlciBjb2RlLlwiKSl9LHQuZGVjb2RlVG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYodDw9NjU1MzUpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUodCk7aWYodDw9MTExNDExMSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisodC02NTUzNj4+PjEwKSw1NjMyMCsodC02NTUzNiYxMDIzKSk7dGhyb3cgbmV3IEVycm9yKFwiZ2V0U3RyaW5nRnJvbVVuaWNvZGVDb2RlUG9pbnQ6IEEgY29kZSBwb2ludCBvZiBcIi5jb25jYXQodCxcIiBjYW5ub3QgYmUgZW5jb2RlZCBpbiBVVEYtMTZcIikpfX0odC5Db2RlUG9pbnR8fCh0LkNvZGVQb2ludD17fSkpfSh0LkVuY29kaW5nfHwodC5FbmNvZGluZz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7dmFyIGU9W1wiMDAwXCIsXCIwMDFcIixcIjAwMlwiLFwiMDAzXCIsXCIwMDRcIixcIjAwNVwiLFwiMDA2XCIsXCIwMDdcIixcIjAwOFwiLFwiMDA5XCIsXCIwMTBcIixcIjAxMVwiLFwiMDEyXCIsXCIwMTNcIixcIjAxNFwiLFwiMDE1XCIsXCIwMTZcIixcIjAxN1wiLFwiMDE4XCIsXCIwMTlcIixcIjAyMFwiLFwiMDIxXCIsXCIwMjJcIixcIjAyM1wiLFwiMDI0XCIsXCIwMjVcIixcIjAyNlwiLFwiMDI3XCIsXCIwMjhcIixcIjAyOVwiLFwiMDMwXCIsXCIwMzFcIixcIjAzMlwiLFwiMDMzXCIsXCIwMzRcIixcIjAzNVwiLFwiMDM2XCIsXCIwMzdcIixcIjAzOFwiLFwiMDM5XCIsXCIwNDBcIixcIjA0MVwiLFwiMDQyXCIsXCIwNDNcIixcIjA0NFwiLFwiMDQ1XCIsXCIwNDZcIixcIjA0N1wiLFwiMDQ4XCIsXCIwNDlcIixcIjA1MFwiLFwiMDUxXCIsXCIwNTJcIixcIjA1M1wiLFwiMDU0XCIsXCIwNTVcIixcIjA1NlwiLFwiMDU3XCIsXCIwNThcIixcIjA1OVwiLFwiMDYwXCIsXCIwNjFcIixcIjA2MlwiLFwiMDYzXCIsXCIwNjRcIixcIjA2NVwiLFwiMDY2XCIsXCIwNjdcIixcIjA2OFwiLFwiMDY5XCIsXCIwNzBcIixcIjA3MVwiLFwiMDcyXCIsXCIwNzNcIixcIjA3NFwiLFwiMDc1XCIsXCIwNzZcIixcIjA3N1wiLFwiMDc4XCIsXCIwNzlcIixcIjA4MFwiLFwiMDgxXCIsXCIwODJcIixcIjA4M1wiLFwiMDg0XCIsXCIwODVcIixcIjA4NlwiLFwiMDg3XCIsXCIwODhcIixcIjA4OVwiLFwiMDkwXCIsXCIwOTFcIixcIjA5MlwiLFwiMDkzXCIsXCIwOTRcIixcIjA5NVwiLFwiMDk2XCIsXCIwOTdcIixcIjA5OFwiLFwiMDk5XCIsXCIxMDBcIixcIjEwMVwiLFwiMTAyXCIsXCIxMDNcIixcIjEwNFwiLFwiMTA1XCIsXCIxMDZcIixcIjEwN1wiLFwiMTA4XCIsXCIxMDlcIixcIjExMFwiLFwiMTExXCIsXCIxMTJcIixcIjExM1wiLFwiMTE0XCIsXCIxMTVcIixcIjExNlwiLFwiMTE3XCIsXCIxMThcIixcIjExOVwiLFwiMTIwXCIsXCIxMjFcIixcIjEyMlwiLFwiMTIzXCIsXCIxMjRcIixcIjEyNVwiLFwiMTI2XCIsXCIxMjdcIixcIjEyOFwiLFwiMTI5XCIsXCIxMzBcIixcIjEzMVwiLFwiMTMyXCIsXCIxMzNcIixcIjEzNFwiLFwiMTM1XCIsXCIxMzZcIixcIjEzN1wiLFwiMTM4XCIsXCIxMzlcIixcIjE0MFwiLFwiMTQxXCIsXCIxNDJcIixcIjE0M1wiLFwiMTQ0XCIsXCIxNDVcIixcIjE0NlwiLFwiMTQ3XCIsXCIxNDhcIixcIjE0OVwiLFwiMTUwXCIsXCIxNTFcIixcIjE1MlwiLFwiMTUzXCIsXCIxNTRcIixcIjE1NVwiLFwiMTU2XCIsXCIxNTdcIixcIjE1OFwiLFwiMTU5XCIsXCIxNjBcIixcIjE2MVwiLFwiMTYyXCIsXCIxNjNcIixcIjE2NFwiLFwiMTY1XCIsXCIxNjZcIixcIjE2N1wiLFwiMTY4XCIsXCIxNjlcIixcIjE3MFwiLFwiMTcxXCIsXCIxNzJcIixcIjE3M1wiLFwiMTc0XCIsXCIxNzVcIixcIjE3NlwiLFwiMTc3XCIsXCIxNzhcIixcIjE3OVwiLFwiMTgwXCIsXCIxODFcIixcIjE4MlwiLFwiMTgzXCIsXCIxODRcIixcIjE4NVwiLFwiMTg2XCIsXCIxODdcIixcIjE4OFwiLFwiMTg5XCIsXCIxOTBcIixcIjE5MVwiLFwiMTkyXCIsXCIxOTNcIixcIjE5NFwiLFwiMTk1XCIsXCIxOTZcIixcIjE5N1wiLFwiMTk4XCIsXCIxOTlcIixcIjIwMFwiLFwiMjAxXCIsXCIyMDJcIixcIjIwM1wiLFwiMjA0XCIsXCIyMDVcIixcIjIwNlwiLFwiMjA3XCIsXCIyMDhcIixcIjIwOVwiLFwiMjEwXCIsXCIyMTFcIixcIjIxMlwiLFwiMjEzXCIsXCIyMTRcIixcIjIxNVwiLFwiMjE2XCIsXCIyMTdcIixcIjIxOFwiLFwiMjE5XCIsXCIyMjBcIixcIjIyMVwiLFwiMjIyXCIsXCIyMjNcIixcIjIyNFwiLFwiMjI1XCIsXCIyMjZcIixcIjIyN1wiLFwiMjI4XCIsXCIyMjlcIixcIjIzMFwiLFwiMjMxXCIsXCIyMzJcIixcIjIzM1wiLFwiMjM0XCIsXCIyMzVcIixcIjIzNlwiLFwiMjM3XCIsXCIyMzhcIixcIjIzOVwiLFwiMjQwXCIsXCIyNDFcIixcIjI0MlwiLFwiMjQzXCIsXCIyNDRcIixcIjI0NVwiLFwiMjQ2XCIsXCIyNDdcIixcIjI0OFwiLFwiMjQ5XCIsXCIyNTBcIixcIjI1MVwiLFwiMjUyXCIsXCIyNTNcIixcIjI1NFwiLFwiMjU1XCJdO3QuZW5jb2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspbi5wdXNoKGVbdFtyXV0pO3JldHVybiBuLmpvaW4oXCIgXCIpfX0odC5EZWNpbWFsU3RyaW5nfHwodC5EZWNpbWFsU3RyaW5nPXt9KSl9KHQuRW5jb2Rpbmd8fCh0LkVuY29kaW5nPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlKXtlLmVuY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5CaW5hcnlTdHJpbmcuZW5jb2RlKGUpLnJlcGxhY2UoL1xcMC9nLFwi6ICCXCIpfSxlLmRlY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5CaW5hcnlTdHJpbmcuZGVjb2RlKGUucmVwbGFjZSgvXFx1ODAwMi9nLFwiXFwwXCIpKX19KHQuU3RvcmFnZUJpbmFyeVN0cmluZ3x8KHQuU3RvcmFnZUJpbmFyeVN0cmluZz17fSkpfSh0LkVuY29kaW5nfHwodC5FbmNvZGluZz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlKXshZnVuY3Rpb24obil7dmFyIHIsbztuLmVuY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmMCE9ZS5sZW5ndGg/dC5ydW5uaW5nSW5Ob2RlSlMoKT90LkJ1ZmZlclRvb2xzLmJ1ZmZlclRvVWludDhBcnJheShCdWZmZXIuZnJvbShlLFwidXRmOFwiKSk6bi5jcmVhdGVOYXRpdmVUZXh0RW5jb2RlckFuZERlY29kZXJJZkF2YWlsYWJsZSgpP3IuZW5jb2RlKGUpOm4uZW5jb2RlV2l0aEpTKGUpOm5ldyBVaW50OEFycmF5KDApfSxuLmRlY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmMCE9ZS5sZW5ndGg/dC5ydW5uaW5nSW5Ob2RlSlMoKT90LkJ1ZmZlclRvb2xzLnVpbnQ4QXJyYXlUb0J1ZmZlcihlKS50b1N0cmluZyhcInV0ZjhcIik6bi5jcmVhdGVOYXRpdmVUZXh0RW5jb2RlckFuZERlY29kZXJJZkF2YWlsYWJsZSgpP28uZGVjb2RlKGUpOm4uZGVjb2RlV2l0aEpTKGUpOlwiXCJ9LG4uZW5jb2RlV2l0aEpTPWZ1bmN0aW9uKHQsbil7aWYoIXR8fDA9PXQubGVuZ3RoKXJldHVybiBuZXcgVWludDhBcnJheSgwKTtufHwobj1uZXcgVWludDhBcnJheSg0KnQubGVuZ3RoKSk7Zm9yKHZhciByPTAsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgaT1lLkNvZGVQb2ludC5lbmNvZGVGcm9tU3RyaW5nKHQsbyk7aWYoaTw9MTI3KW5bcisrXT1pO2Vsc2UgaWYoaTw9MjA0NyluW3IrK109MTkyfGk+Pj42LG5bcisrXT0xMjh8NjMmaTtlbHNlIGlmKGk8PTY1NTM1KW5bcisrXT0yMjR8aT4+PjEyLG5bcisrXT0xMjh8aT4+PjYmNjMsbltyKytdPTEyOHw2MyZpO2Vsc2V7aWYoIShpPD0xMTE0MTExKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVURi0xNiBzdHJpbmc6IEVuY291bnRlcmVkIGEgY2hhcmFjdGVyIHVuc3VwcG9ydGVkIGJ5IFVURi04LzE2IChSRkMgMzYyOSlcIik7bltyKytdPTI0MHxpPj4+MTgsbltyKytdPTEyOHxpPj4+MTImNjMsbltyKytdPTEyOHxpPj4+NiY2MyxuW3IrK109MTI4fDYzJmksbysrfX1yZXR1cm4gbi5zdWJhcnJheSgwLHIpfSxuLmRlY29kZVdpdGhKUz1mdW5jdGlvbihlLG4scil7aWYodm9pZCAwPT09biYmKG49MCksIWV8fDA9PWUubGVuZ3RoKXJldHVyblwiXCI7dm9pZCAwPT09ciYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgbyxpLGE9bmV3IHQuU3RyaW5nQnVpbGRlcixzPW4sdT1yO3M8dTspe2lmKChpPWVbc10pPj4+Nz09MClvPWkscys9MTtlbHNlIGlmKGk+Pj41PT02KXtpZihzKzE+PXIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVEYtOCBzdHJlYW06IFRydW5jYXRlZCBjb2RlcG9pbnQgc2VxdWVuY2UgZW5jb3VudGVyZWQgYXQgcG9zaXRpb24gXCIrcyk7bz0oMzEmaSk8PDZ8NjMmZVtzKzFdLHMrPTJ9ZWxzZSBpZihpPj4+ND09MTQpe2lmKHMrMj49cil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVURi04IHN0cmVhbTogVHJ1bmNhdGVkIGNvZGVwb2ludCBzZXF1ZW5jZSBlbmNvdW50ZXJlZCBhdCBwb3NpdGlvbiBcIitzKTtvPSgxNSZpKTw8MTJ8KDYzJmVbcysxXSk8PDZ8NjMmZVtzKzJdLHMrPTN9ZWxzZXtpZihpPj4+MyE9MzApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVEYtOCBzdHJlYW06IEFuIGludmFsaWQgbGVhZCBieXRlIHZhbHVlIGVuY291bnRlcmVkIGF0IHBvc2l0aW9uIFwiK3MpO2lmKHMrMz49cil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVURi04IHN0cmVhbTogVHJ1bmNhdGVkIGNvZGVwb2ludCBzZXF1ZW5jZSBlbmNvdW50ZXJlZCBhdCBwb3NpdGlvbiBcIitzKTtvPSg3JmkpPDwxOHwoNjMmZVtzKzFdKTw8MTJ8KDYzJmVbcysyXSk8PDZ8NjMmZVtzKzNdLHMrPTR9YS5hcHBlbmRDb2RlUG9pbnQobyl9cmV0dXJuIGEuZ2V0T3V0cHV0U3RyaW5nKCl9LG4uY3JlYXRlTmF0aXZlVGV4dEVuY29kZXJBbmREZWNvZGVySWZBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hIXJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIFRleHRFbmNvZGVyJiYocj1uZXcgVGV4dEVuY29kZXIoXCJ1dGYtOFwiKSxvPW5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpLCEwKX19KGUuVVRGOHx8KGUuVVRGOD17fSkpfSh0LkVuY29kaW5nfHwodC5FbmNvZGluZz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3QuY29tcHJlc3M9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksbnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY29tcHJlc3M6IHVuZGVmaW5lZCBvciBudWxsIGlucHV0IHJlY2VpdmVkXCIpO3ZhciByPXQuQ29tcHJlc3Npb25Db21tb24uZGV0ZWN0Q29tcHJlc3Npb25Tb3VyY2VFbmNvZGluZyhlKTtuPXQuT2JqZWN0VG9vbHMub3ZlcnJpZGUoe2lucHV0RW5jb2Rpbmc6cixvdXRwdXRFbmNvZGluZzpcIkJ5dGVBcnJheVwifSxuKTt2YXIgbz0obmV3IHQuQ29tcHJlc3NvcikuY29tcHJlc3NCbG9jayhlKTtyZXR1cm4gdC5Db21wcmVzc2lvbkNvbW1vbi5lbmNvZGVDb21wcmVzc2VkQnl0ZXMobyxuLm91dHB1dEVuY29kaW5nKX0sdC5kZWNvbXByZXNzPWZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09biYmKG49e30pLG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29tcHJlc3M6IHVuZGVmaW5lZCBvciBudWxsIGlucHV0IHJlY2VpdmVkXCIpO249dC5PYmplY3RUb29scy5vdmVycmlkZSh7aW5wdXRFbmNvZGluZzpcIkJ5dGVBcnJheVwiLG91dHB1dEVuY29kaW5nOlwiU3RyaW5nXCJ9LG4pO3ZhciByPXQuQ29tcHJlc3Npb25Db21tb24uZGVjb2RlQ29tcHJlc3NlZEJ5dGVzKGUsbi5pbnB1dEVuY29kaW5nKSxvPShuZXcgdC5EZWNvbXByZXNzb3IpLmRlY29tcHJlc3NCbG9jayhyKTtyZXR1cm4gdC5Db21wcmVzc2lvbkNvbW1vbi5lbmNvZGVEZWNvbXByZXNzZWRCeXRlcyhvLG4ub3V0cHV0RW5jb2RpbmcpfSx0LmNvbXByZXNzQXN5bmM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvO251bGw9PXImJihyPWZ1bmN0aW9uKCl7fSk7dHJ5e289dC5Db21wcmVzc2lvbkNvbW1vbi5kZXRlY3RDb21wcmVzc2lvblNvdXJjZUVuY29kaW5nKGUpfWNhdGNoKHQpe3JldHVybiB2b2lkIHIodm9pZCAwLHQpfW49dC5PYmplY3RUb29scy5vdmVycmlkZSh7aW5wdXRFbmNvZGluZzpvLG91dHB1dEVuY29kaW5nOlwiQnl0ZUFycmF5XCIsdXNlV2ViV29ya2VyOiEwLGJsb2NrU2l6ZTo2NTUzNn0sbiksdC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe24udXNlV2ViV29ya2VyJiZ0LldlYldvcmtlci5jcmVhdGVHbG9iYWxXb3JrZXJJZk5lZWRlZCgpP3QuV2ViV29ya2VyLmNvbXByZXNzQXN5bmMoZSxuLHIpOnQuQXN5bmNDb21wcmVzc29yLmNvbXByZXNzQXN5bmMoZSxuLHIpfSkpfSx0LmRlY29tcHJlc3NBc3luYz1mdW5jdGlvbihlLG4scil7aWYobnVsbD09ciYmKHI9ZnVuY3Rpb24oKXt9KSxudWxsIT1lKXtuPXQuT2JqZWN0VG9vbHMub3ZlcnJpZGUoe2lucHV0RW5jb2Rpbmc6XCJCeXRlQXJyYXlcIixvdXRwdXRFbmNvZGluZzpcIlN0cmluZ1wiLHVzZVdlYldvcmtlcjohMCxibG9ja1NpemU6NjU1MzZ9LG4pO3ZhciBvPXQuQnVmZmVyVG9vbHMuY29udmVydFRvVWludDhBcnJheUlmTmVlZGVkKGUpO3QuRXZlbnRMb29wLmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7bi51c2VXZWJXb3JrZXImJnQuV2ViV29ya2VyLmNyZWF0ZUdsb2JhbFdvcmtlcklmTmVlZGVkKCk/dC5XZWJXb3JrZXIuZGVjb21wcmVzc0FzeW5jKG8sbixyKTp0LkFzeW5jRGVjb21wcmVzc29yLmRlY29tcHJlc3NBc3luYyhlLG4scil9KSl9ZWxzZSByKHZvaWQgMCxuZXcgVHlwZUVycm9yKFwiZGVjb21wcmVzc0FzeW5jOiB1bmRlZmluZWQgb3IgbnVsbCBpbnB1dCByZWNlaXZlZFwiKSl9LHQuY3JlYXRlQ29tcHJlc3Npb25TdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdC5Bc3luY0NvbXByZXNzb3IuY3JlYXRlQ29tcHJlc3Npb25TdHJlYW0oKX0sdC5jcmVhdGVEZWNvbXByZXNzaW9uU3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXN5bmNEZWNvbXByZXNzb3IuY3JlYXRlRGVjb21wcmVzc2lvblN0cmVhbSgpfSx0LmVuY29kZVVURjg9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuVVRGOC5lbmNvZGUoZSl9LHQuZGVjb2RlVVRGOD1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5VVEY4LmRlY29kZShlKX0sdC5lbmNvZGVCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuQmFzZTY0LmVuY29kZShlKX0sdC5kZWNvZGVCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuQmFzZTY0LmRlY29kZShlKX0sdC5lbmNvZGVCaW5hcnlTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuQmluYXJ5U3RyaW5nLmVuY29kZShlKX0sdC5kZWNvZGVCaW5hcnlTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuQmluYXJ5U3RyaW5nLmRlY29kZShlKX0sdC5lbmNvZGVTdG9yYWdlQmluYXJ5U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLlN0b3JhZ2VCaW5hcnlTdHJpbmcuZW5jb2RlKGUpfSx0LmRlY29kZVN0b3JhZ2VCaW5hcnlTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuU3RvcmFnZUJpbmFyeVN0cmluZy5kZWNvZGUoZSl9fShvfHwobz17fSkpfSwzNzQ6KHQsZSxuKT0+e2NvbnN0e0Fib3J0RXJyb3I6cixjb2RlczpvfT1uKDE0MSkse2lzTm9kZVN0cmVhbTppLGlzV2ViU3RyZWFtOmEsa0NvbnRyb2xsZXJFcnJvckZ1bmN0aW9uOnN9PW4oMTMyKSx1PW4oODYpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTpsfT1vO3QuZXhwb3J0cy5hZGRBYm9ydFNpZ25hbD1mdW5jdGlvbihlLG4pe2lmKCgodCxlKT0+e2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHwhKFwiYWJvcnRlZFwiaW4gdCkpdGhyb3cgbmV3IGwoZSxcIkFib3J0U2lnbmFsXCIsdCl9KShlLFwic2lnbmFsXCIpLCFpKG4pJiYhYShuKSl0aHJvdyBuZXcgbChcInN0cmVhbVwiLFtcIlJlYWRhYmxlU3RyZWFtXCIsXCJXcml0YWJsZVN0cmVhbVwiLFwiU3RyZWFtXCJdLG4pO3JldHVybiB0LmV4cG9ydHMuYWRkQWJvcnRTaWduYWxOb1ZhbGlkYXRlKGUsbil9LHQuZXhwb3J0cy5hZGRBYm9ydFNpZ25hbE5vVmFsaWRhdGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8IShcImFib3J0ZWRcImluIHQpKXJldHVybiBlO2NvbnN0IG49aShlKT8oKT0+e2UuZGVzdHJveShuZXcgcih2b2lkIDAse2NhdXNlOnQucmVhc29ufSkpfTooKT0+e2Vbc10obmV3IHIodm9pZCAwLHtjYXVzZTp0LnJlYXNvbn0pKX07cmV0dXJuIHQuYWJvcnRlZD9uKCk6KHQuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbiksdShlLCgoKT0+dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixuKSkpKSxlfX0sNjE2Oih0LGUsbik9Pntjb25zdHtTdHJpbmdQcm90b3R5cGVTbGljZTpyLFN5bWJvbEl0ZXJhdG9yOm8sVHlwZWRBcnJheVByb3RvdHlwZVNldDppLFVpbnQ4QXJyYXk6YX09bigxOTEpLHtCdWZmZXI6c309big0ODUpLHtpbnNwZWN0OnV9PW4oNzc1KTt0LmV4cG9ydHM9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfXB1c2godCl7Y29uc3QgZT17ZGF0YTp0LG5leHQ6bnVsbH07dGhpcy5sZW5ndGg+MD90aGlzLnRhaWwubmV4dD1lOnRoaXMuaGVhZD1lLHRoaXMudGFpbD1lLCsrdGhpcy5sZW5ndGh9dW5zaGlmdCh0KXtjb25zdCBlPXtkYXRhOnQsbmV4dDp0aGlzLmhlYWR9OzA9PT10aGlzLmxlbmd0aCYmKHRoaXMudGFpbD1lKSx0aGlzLmhlYWQ9ZSwrK3RoaXMubGVuZ3RofXNoaWZ0KCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybjtjb25zdCB0PXRoaXMuaGVhZC5kYXRhO3JldHVybiAxPT09dGhpcy5sZW5ndGg/dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsOnRoaXMuaGVhZD10aGlzLmhlYWQubmV4dCwtLXRoaXMubGVuZ3RoLHR9Y2xlYXIoKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH1qb2luKHQpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm5cIlwiO2xldCBlPXRoaXMuaGVhZCxuPVwiXCIrZS5kYXRhO2Zvcig7bnVsbCE9PShlPWUubmV4dCk7KW4rPXQrZS5kYXRhO3JldHVybiBufWNvbmNhdCh0KXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuIHMuYWxsb2MoMCk7Y29uc3QgZT1zLmFsbG9jVW5zYWZlKHQ+Pj4wKTtsZXQgbj10aGlzLmhlYWQscj0wO2Zvcig7bjspaShlLG4uZGF0YSxyKSxyKz1uLmRhdGEubGVuZ3RoLG49bi5uZXh0O3JldHVybiBlfWNvbnN1bWUodCxlKXtjb25zdCBuPXRoaXMuaGVhZC5kYXRhO2lmKHQ8bi5sZW5ndGgpe2NvbnN0IGU9bi5zbGljZSgwLHQpO3JldHVybiB0aGlzLmhlYWQuZGF0YT1uLnNsaWNlKHQpLGV9cmV0dXJuIHQ9PT1uLmxlbmd0aD90aGlzLnNoaWZ0KCk6ZT90aGlzLl9nZXRTdHJpbmcodCk6dGhpcy5fZ2V0QnVmZmVyKHQpfWZpcnN0KCl7cmV0dXJuIHRoaXMuaGVhZC5kYXRhfSpbb10oKXtmb3IobGV0IHQ9dGhpcy5oZWFkO3Q7dD10Lm5leHQpeWllbGQgdC5kYXRhfV9nZXRTdHJpbmcodCl7bGV0IGU9XCJcIixuPXRoaXMuaGVhZCxvPTA7ZG97Y29uc3QgaT1uLmRhdGE7aWYoISh0PmkubGVuZ3RoKSl7dD09PWkubGVuZ3RoPyhlKz1pLCsrbyxuLm5leHQ/dGhpcy5oZWFkPW4ubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOihlKz1yKGksMCx0KSx0aGlzLmhlYWQ9bixuLmRhdGE9cihpLHQpKTticmVha31lKz1pLHQtPWkubGVuZ3RoLCsrb313aGlsZShudWxsIT09KG49bi5uZXh0KSk7cmV0dXJuIHRoaXMubGVuZ3RoLT1vLGV9X2dldEJ1ZmZlcih0KXtjb25zdCBlPXMuYWxsb2NVbnNhZmUodCksbj10O2xldCByPXRoaXMuaGVhZCxvPTA7ZG97Y29uc3Qgcz1yLmRhdGE7aWYoISh0PnMubGVuZ3RoKSl7dD09PXMubGVuZ3RoPyhpKGUscyxuLXQpLCsrbyxyLm5leHQ/dGhpcy5oZWFkPXIubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOihpKGUsbmV3IGEocy5idWZmZXIscy5ieXRlT2Zmc2V0LHQpLG4tdCksdGhpcy5oZWFkPXIsci5kYXRhPXMuc2xpY2UodCkpO2JyZWFrfWkoZSxzLG4tdCksdC09cy5sZW5ndGgsKytvfXdoaWxlKG51bGwhPT0ocj1yLm5leHQpKTtyZXR1cm4gdGhpcy5sZW5ndGgtPW8sZX1bU3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpXSh0LGUpe3JldHVybiB1KHRoaXMsey4uLmUsZGVwdGg6MCxjdXN0b21JbnNwZWN0OiExfSl9fX0sODE4Oih0LGUsbik9Pntjb25zdHtwaXBlbGluZTpyfT1uKDc1NCksbz1uKDE4Mikse2Rlc3Ryb3llcjppfT1uKDIzMCkse2lzTm9kZVN0cmVhbTphLGlzUmVhZGFibGU6cyxpc1dyaXRhYmxlOnUsaXNXZWJTdHJlYW06bCxpc1RyYW5zZm9ybVN0cmVhbTpjLGlzV3JpdGFibGVTdHJlYW06Zixpc1JlYWRhYmxlU3RyZWFtOmR9PW4oMTMyKSx7QWJvcnRFcnJvcjpoLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVkFMVUU6cCxFUlJfTUlTU0lOR19BUkdTOmd9fT1uKDE0MSkseT1uKDg2KTt0LmV4cG9ydHM9ZnVuY3Rpb24oLi4udCl7aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBnKFwic3RyZWFtc1wiKTtpZigxPT09dC5sZW5ndGgpcmV0dXJuIG8uZnJvbSh0WzBdKTtjb25zdCBlPVsuLi50XTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzBdJiYodFswXT1vLmZyb20odFswXSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0pe2NvbnN0IGU9dC5sZW5ndGgtMTt0W2VdPW8uZnJvbSh0W2VdKX1mb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbilpZihhKHRbbl0pfHxsKHRbbl0pKXtpZihuPHQubGVuZ3RoLTEmJiEocyh0W25dKXx8ZCh0W25dKXx8Yyh0W25dKSkpdGhyb3cgbmV3IHAoYHN0cmVhbXNbJHtufV1gLGVbbl0sXCJtdXN0IGJlIHJlYWRhYmxlXCIpO2lmKG4+MCYmISh1KHRbbl0pfHxmKHRbbl0pfHxjKHRbbl0pKSl0aHJvdyBuZXcgcChgc3RyZWFtc1ske259XWAsZVtuXSxcIm11c3QgYmUgd3JpdGFibGVcIil9bGV0IG4sbSx2LGIsdztjb25zdCBfPXRbMF0sRT1yKHQsKGZ1bmN0aW9uKHQpe2NvbnN0IGU9YjtiPW51bGwsZT9lKHQpOnQ/dy5kZXN0cm95KHQpOkF8fFN8fHcuZGVzdHJveSgpfSkpLFM9ISEodShfKXx8ZihfKXx8YyhfKSksQT0hIShzKEUpfHxkKEUpfHxjKEUpKTtpZih3PW5ldyBvKHt3cml0YWJsZU9iamVjdE1vZGU6IShudWxsPT1ffHwhXy53cml0YWJsZU9iamVjdE1vZGUpLHJlYWRhYmxlT2JqZWN0TW9kZTohKG51bGw9PUV8fCFFLndyaXRhYmxlT2JqZWN0TW9kZSksd3JpdGFibGU6UyxyZWFkYWJsZTpBfSksUyl7aWYoYShfKSl3Ll93cml0ZT1mdW5jdGlvbih0LGUscil7Xy53cml0ZSh0LGUpP3IoKTpuPXJ9LHcuX2ZpbmFsPWZ1bmN0aW9uKHQpe18uZW5kKCksbT10fSxfLm9uKFwiZHJhaW5cIiwoZnVuY3Rpb24oKXtpZihuKXtjb25zdCB0PW47bj1udWxsLHQoKX19KSk7ZWxzZSBpZihsKF8pKXtjb25zdCB0PShjKF8pP18ud3JpdGFibGU6XykuZ2V0V3JpdGVyKCk7dy5fd3JpdGU9YXN5bmMgZnVuY3Rpb24oZSxuLHIpe3RyeXthd2FpdCB0LnJlYWR5LHQud3JpdGUoZSkuY2F0Y2goKCgpPT57fSkpLHIoKX1jYXRjaCh0KXtyKHQpfX0sdy5fZmluYWw9YXN5bmMgZnVuY3Rpb24oZSl7dHJ5e2F3YWl0IHQucmVhZHksdC5jbG9zZSgpLmNhdGNoKCgoKT0+e30pKSxtPWV9Y2F0Y2godCl7ZSh0KX19fWNvbnN0IHQ9YyhFKT9FLnJlYWRhYmxlOkU7eSh0LCgoKT0+e2lmKG0pe2NvbnN0IHQ9bTttPW51bGwsdCgpfX0pKX1pZihBKWlmKGEoRSkpRS5vbihcInJlYWRhYmxlXCIsKGZ1bmN0aW9uKCl7aWYodil7Y29uc3QgdD12O3Y9bnVsbCx0KCl9fSkpLEUub24oXCJlbmRcIiwoZnVuY3Rpb24oKXt3LnB1c2gobnVsbCl9KSksdy5fcmVhZD1mdW5jdGlvbigpe2Zvcig7Oyl7Y29uc3QgdD1FLnJlYWQoKTtpZihudWxsPT09dClyZXR1cm4gdm9pZCh2PXcuX3JlYWQpO2lmKCF3LnB1c2godCkpcmV0dXJufX07ZWxzZSBpZihsKEUpKXtjb25zdCB0PShjKEUpP0UucmVhZGFibGU6RSkuZ2V0UmVhZGVyKCk7dy5fcmVhZD1hc3luYyBmdW5jdGlvbigpe2Zvcig7Oyl0cnl7Y29uc3R7dmFsdWU6ZSxkb25lOm59PWF3YWl0IHQucmVhZCgpO2lmKCF3LnB1c2goZSkpcmV0dXJuO2lmKG4pcmV0dXJuIHZvaWQgdy5wdXNoKG51bGwpfWNhdGNoe3JldHVybn19fXJldHVybiB3Ll9kZXN0cm95PWZ1bmN0aW9uKHQsZSl7dHx8bnVsbD09PWJ8fCh0PW5ldyBoKSx2PW51bGwsbj1udWxsLG09bnVsbCxudWxsPT09Yj9lKHQpOihiPWUsYShFKSYmaShFLHQpKX0sd319LDIzMDoodCxlLG4pPT57Y29uc3Qgcj1uKDUzMykse2FnZ3JlZ2F0ZVR3b0Vycm9yczpvLGNvZGVzOntFUlJfTVVMVElQTEVfQ0FMTEJBQ0s6aX0sQWJvcnRFcnJvcjphfT1uKDE0MSkse1N5bWJvbDpzfT1uKDE5MSkse2tEZXN0cm95ZWQ6dSxpc0Rlc3Ryb3llZDpsLGlzRmluaXNoZWQ6Yyxpc1NlcnZlclJlcXVlc3Q6Zn09bigxMzIpLGQ9cyhcImtEZXN0cm95XCIpLGg9cyhcImtDb25zdHJ1Y3RcIik7ZnVuY3Rpb24gcCh0LGUsbil7dCYmKHQuc3RhY2ssZSYmIWUuZXJyb3JlZCYmKGUuZXJyb3JlZD10KSxuJiYhbi5lcnJvcmVkJiYobi5lcnJvcmVkPXQpKX1mdW5jdGlvbiBnKHQsZSxuKXtsZXQgbz0hMTtmdW5jdGlvbiBpKGUpe2lmKG8pcmV0dXJuO289ITA7Y29uc3QgaT10Ll9yZWFkYWJsZVN0YXRlLGE9dC5fd3JpdGFibGVTdGF0ZTtwKGUsYSxpKSxhJiYoYS5jbG9zZWQ9ITApLGkmJihpLmNsb3NlZD0hMCksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbihlKSxlP3IubmV4dFRpY2soeSx0LGUpOnIubmV4dFRpY2sobSx0KX10cnl7dC5fZGVzdHJveShlfHxudWxsLGkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHkodCxlKXt2KHQsZSksbSh0KX1mdW5jdGlvbiBtKHQpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZSxuPXQuX3dyaXRhYmxlU3RhdGU7biYmKG4uY2xvc2VFbWl0dGVkPSEwKSxlJiYoZS5jbG9zZUVtaXR0ZWQ9ITApLChudWxsIT1uJiZuLmVtaXRDbG9zZXx8bnVsbCE9ZSYmZS5lbWl0Q2xvc2UpJiZ0LmVtaXQoXCJjbG9zZVwiKX1mdW5jdGlvbiB2KHQsZSl7Y29uc3Qgbj10Ll9yZWFkYWJsZVN0YXRlLHI9dC5fd3JpdGFibGVTdGF0ZTtudWxsIT1yJiZyLmVycm9yRW1pdHRlZHx8bnVsbCE9biYmbi5lcnJvckVtaXR0ZWR8fChyJiYoci5lcnJvckVtaXR0ZWQ9ITApLG4mJihuLmVycm9yRW1pdHRlZD0hMCksdC5lbWl0KFwiZXJyb3JcIixlKSl9ZnVuY3Rpb24gYih0LGUsbil7Y29uc3Qgbz10Ll9yZWFkYWJsZVN0YXRlLGk9dC5fd3JpdGFibGVTdGF0ZTtpZihudWxsIT1pJiZpLmRlc3Ryb3llZHx8bnVsbCE9byYmby5kZXN0cm95ZWQpcmV0dXJuIHRoaXM7bnVsbCE9byYmby5hdXRvRGVzdHJveXx8bnVsbCE9aSYmaS5hdXRvRGVzdHJveT90LmRlc3Ryb3koZSk6ZSYmKGUuc3RhY2ssaSYmIWkuZXJyb3JlZCYmKGkuZXJyb3JlZD1lKSxvJiYhby5lcnJvcmVkJiYoby5lcnJvcmVkPWUpLG4/ci5uZXh0VGljayh2LHQsZSk6dih0LGUpKX1mdW5jdGlvbiB3KHQpe2xldCBlPSExO2Z1bmN0aW9uIG4obil7aWYoZSlyZXR1cm4gdm9pZCBiKHQsbnVsbCE9bj9uOm5ldyBpKTtlPSEwO2NvbnN0IG89dC5fcmVhZGFibGVTdGF0ZSxhPXQuX3dyaXRhYmxlU3RhdGUscz1hfHxvO28mJihvLmNvbnN0cnVjdGVkPSEwKSxhJiYoYS5jb25zdHJ1Y3RlZD0hMCkscy5kZXN0cm95ZWQ/dC5lbWl0KGQsbik6bj9iKHQsbiwhMCk6ci5uZXh0VGljayhfLHQpfXRyeXt0Ll9jb25zdHJ1Y3QoKHQ9PntyLm5leHRUaWNrKG4sdCl9KSl9Y2F0Y2godCl7ci5uZXh0VGljayhuLHQpfX1mdW5jdGlvbiBfKHQpe3QuZW1pdChoKX1mdW5jdGlvbiBFKHQpe3JldHVybihudWxsPT10P3ZvaWQgMDp0LnNldEhlYWRlcikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuYWJvcnR9ZnVuY3Rpb24gUyh0KXt0LmVtaXQoXCJjbG9zZVwiKX1mdW5jdGlvbiBBKHQsZSl7dC5lbWl0KFwiZXJyb3JcIixlKSxyLm5leHRUaWNrKFMsdCl9dC5leHBvcnRzPXtjb25zdHJ1Y3Q6ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Ll9jb25zdHJ1Y3QpcmV0dXJuO2NvbnN0IG49dC5fcmVhZGFibGVTdGF0ZSxvPXQuX3dyaXRhYmxlU3RhdGU7biYmKG4uY29uc3RydWN0ZWQ9ITEpLG8mJihvLmNvbnN0cnVjdGVkPSExKSx0Lm9uY2UoaCxlKSx0Lmxpc3RlbmVyQ291bnQoaCk+MXx8ci5uZXh0VGljayh3LHQpfSxkZXN0cm95ZXI6ZnVuY3Rpb24odCxlKXt0JiYhbCh0KSYmKGV8fGModCl8fChlPW5ldyBhKSxmKHQpPyh0LnNvY2tldD1udWxsLHQuZGVzdHJveShlKSk6RSh0KT90LmFib3J0KCk6RSh0LnJlcSk/dC5yZXEuYWJvcnQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmRlc3Ryb3k/dC5kZXN0cm95KGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY2xvc2U/dC5jbG9zZSgpOmU/ci5uZXh0VGljayhBLHQsZSk6ci5uZXh0VGljayhTLHQpLHQuZGVzdHJveWVkfHwodFt1XT0hMCkpfSxkZXN0cm95OmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLl9yZWFkYWJsZVN0YXRlLHI9dGhpcy5fd3JpdGFibGVTdGF0ZSxpPXJ8fG47cmV0dXJuIG51bGwhPXImJnIuZGVzdHJveWVkfHxudWxsIT1uJiZuLmRlc3Ryb3llZD8oXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSgpLHRoaXMpOihwKHQscixuKSxyJiYoci5kZXN0cm95ZWQ9ITApLG4mJihuLmRlc3Ryb3llZD0hMCksaS5jb25zdHJ1Y3RlZD9nKHRoaXMsdCxlKTp0aGlzLm9uY2UoZCwoZnVuY3Rpb24obil7Zyh0aGlzLG8obix0KSxlKX0pKSx0aGlzKX0sdW5kZXN0cm95OmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9yZWFkYWJsZVN0YXRlLGU9dGhpcy5fd3JpdGFibGVTdGF0ZTt0JiYodC5jb25zdHJ1Y3RlZD0hMCx0LmNsb3NlZD0hMSx0LmNsb3NlRW1pdHRlZD0hMSx0LmRlc3Ryb3llZD0hMSx0LmVycm9yZWQ9bnVsbCx0LmVycm9yRW1pdHRlZD0hMSx0LnJlYWRpbmc9ITEsdC5lbmRlZD0hMT09PXQucmVhZGFibGUsdC5lbmRFbWl0dGVkPSExPT09dC5yZWFkYWJsZSksZSYmKGUuY29uc3RydWN0ZWQ9ITAsZS5kZXN0cm95ZWQ9ITEsZS5jbG9zZWQ9ITEsZS5jbG9zZUVtaXR0ZWQ9ITEsZS5lcnJvcmVkPW51bGwsZS5lcnJvckVtaXR0ZWQ9ITEsZS5maW5hbENhbGxlZD0hMSxlLnByZWZpbmlzaGVkPSExLGUuZW5kZWQ9ITE9PT1lLndyaXRhYmxlLGUuZW5kaW5nPSExPT09ZS53cml0YWJsZSxlLmZpbmlzaGVkPSExPT09ZS53cml0YWJsZSl9LGVycm9yT3JEZXN0cm95OmJ9fSwxODI6KHQsZSxuKT0+e2NvbnN0e09iamVjdERlZmluZVByb3BlcnRpZXM6cixPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6byxPYmplY3RLZXlzOmksT2JqZWN0U2V0UHJvdG90eXBlT2Y6YX09bigxOTEpO3QuZXhwb3J0cz1sO2NvbnN0IHM9big4NTgpLHU9bigzNzMpO2EobC5wcm90b3R5cGUscy5wcm90b3R5cGUpLGEobCxzKTt7Y29uc3QgdD1pKHUucHJvdG90eXBlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W2VdO2wucHJvdG90eXBlW25dfHwobC5wcm90b3R5cGVbbl09dS5wcm90b3R5cGVbbl0pfX1mdW5jdGlvbiBsKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGwpKXJldHVybiBuZXcgbCh0KTtzLmNhbGwodGhpcyx0KSx1LmNhbGwodGhpcyx0KSx0Pyh0aGlzLmFsbG93SGFsZk9wZW49ITEhPT10LmFsbG93SGFsZk9wZW4sITE9PT10LnJlYWRhYmxlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMCksITE9PT10LndyaXRhYmxlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITApKTp0aGlzLmFsbG93SGFsZk9wZW49ITB9bGV0IGMsZjtmdW5jdGlvbiBkKCl7cmV0dXJuIHZvaWQgMD09PWMmJihjPXt9KSxjfXIobC5wcm90b3R5cGUse3dyaXRhYmxlOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVcIil9LHdyaXRhYmxlSGlnaFdhdGVyTWFyazp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiKX0sd3JpdGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVPYmplY3RNb2RlXCIpfSx3cml0YWJsZUJ1ZmZlcjp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlQnVmZmVyXCIpfSx3cml0YWJsZUxlbmd0aDp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIpfSx3cml0YWJsZUZpbmlzaGVkOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVGaW5pc2hlZFwiKX0sd3JpdGFibGVDb3JrZWQ6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZUNvcmtlZFwiKX0sd3JpdGFibGVFbmRlZDp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlRW5kZWRcIil9LHdyaXRhYmxlTmVlZERyYWluOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVOZWVkRHJhaW5cIil9LGRlc3Ryb3llZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQpfSxzZXQodCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXQsdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCl9fX0pLGwuZnJvbVdlYj1mdW5jdGlvbih0LGUpe3JldHVybiBkKCkubmV3U3RyZWFtRHVwbGV4RnJvbVJlYWRhYmxlV3JpdGFibGVQYWlyKHQsZSl9LGwudG9XZWI9ZnVuY3Rpb24odCl7cmV0dXJuIGQoKS5uZXdSZWFkYWJsZVdyaXRhYmxlUGFpckZyb21EdXBsZXgodCl9LGwuZnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gZnx8KGY9big3NDkpKSxmKHQsXCJib2R5XCIpfX0sNzQ5Oih0LGUsbik9Pntjb25zdCByPW4oNTMzKSxvPW4oNDg1KSx7aXNSZWFkYWJsZTppLGlzV3JpdGFibGU6YSxpc0l0ZXJhYmxlOnMsaXNOb2RlU3RyZWFtOnUsaXNSZWFkYWJsZU5vZGVTdHJlYW06bCxpc1dyaXRhYmxlTm9kZVN0cmVhbTpjLGlzRHVwbGV4Tm9kZVN0cmVhbTpmfT1uKDEzMiksZD1uKDg2KSx7QWJvcnRFcnJvcjpoLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVFlQRTpwLEVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRTpnfX09bigxNDEpLHtkZXN0cm95ZXI6eX09bigyMzApLG09bigxODIpLHY9big4NTgpLHtjcmVhdGVEZWZlcnJlZFByb21pc2U6Yn09big3NzUpLHc9big5MTMpLF89Z2xvYmFsVGhpcy5CbG9ifHxvLkJsb2IsRT12b2lkIDAhPT1fP2Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgX306ZnVuY3Rpb24odCl7cmV0dXJuITF9LFM9Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXJ8fG4oODc2KS5BYm9ydENvbnRyb2xsZXIse0Z1bmN0aW9uUHJvdG90eXBlQ2FsbDpBfT1uKDE5MSk7Y2xhc3MgSSBleHRlbmRzIG17Y29uc3RydWN0b3IodCl7c3VwZXIodCksITE9PT0obnVsbD09dD92b2lkIDA6dC5yZWFkYWJsZSkmJih0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQ9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkPSEwKSwhMT09PShudWxsPT10P3ZvaWQgMDp0LndyaXRhYmxlKSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGU9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkPSEwKX19ZnVuY3Rpb24gVCh0KXtjb25zdCBlPXQucmVhZGFibGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucmVhZGFibGUucmVhZD92LndyYXAodC5yZWFkYWJsZSk6dC5yZWFkYWJsZSxuPXQud3JpdGFibGU7bGV0IHIsbyxzLHUsbCxjPSEhaShlKSxmPSEhYShuKTtmdW5jdGlvbiBwKHQpe2NvbnN0IGU9dTt1PW51bGwsZT9lKHQpOnQmJmwuZGVzdHJveSh0KX1yZXR1cm4gbD1uZXcgSSh7cmVhZGFibGVPYmplY3RNb2RlOiEobnVsbD09ZXx8IWUucmVhZGFibGVPYmplY3RNb2RlKSx3cml0YWJsZU9iamVjdE1vZGU6IShudWxsPT1ufHwhbi53cml0YWJsZU9iamVjdE1vZGUpLHJlYWRhYmxlOmMsd3JpdGFibGU6Zn0pLGYmJihkKG4sKHQ9PntmPSExLHQmJnkoZSx0KSxwKHQpfSkpLGwuX3dyaXRlPWZ1bmN0aW9uKHQsZSxvKXtuLndyaXRlKHQsZSk/bygpOnI9b30sbC5fZmluYWw9ZnVuY3Rpb24odCl7bi5lbmQoKSxvPXR9LG4ub24oXCJkcmFpblwiLChmdW5jdGlvbigpe2lmKHIpe2NvbnN0IHQ9cjtyPW51bGwsdCgpfX0pKSxuLm9uKFwiZmluaXNoXCIsKGZ1bmN0aW9uKCl7aWYobyl7Y29uc3QgdD1vO289bnVsbCx0KCl9fSkpKSxjJiYoZChlLCh0PT57Yz0hMSx0JiZ5KGUsdCkscCh0KX0pKSxlLm9uKFwicmVhZGFibGVcIiwoZnVuY3Rpb24oKXtpZihzKXtjb25zdCB0PXM7cz1udWxsLHQoKX19KSksZS5vbihcImVuZFwiLChmdW5jdGlvbigpe2wucHVzaChudWxsKX0pKSxsLl9yZWFkPWZ1bmN0aW9uKCl7Zm9yKDs7KXtjb25zdCB0PWUucmVhZCgpO2lmKG51bGw9PT10KXJldHVybiB2b2lkKHM9bC5fcmVhZCk7aWYoIWwucHVzaCh0KSlyZXR1cm59fSksbC5fZGVzdHJveT1mdW5jdGlvbih0LGkpe3R8fG51bGw9PT11fHwodD1uZXcgaCkscz1udWxsLHI9bnVsbCxvPW51bGwsbnVsbD09PXU/aSh0KToodT1pLHkobix0KSx5KGUsdCkpfSxsfXQuZXhwb3J0cz1mdW5jdGlvbiB0KGUsbil7aWYoZihlKSlyZXR1cm4gZTtpZihsKGUpKXJldHVybiBUKHtyZWFkYWJsZTplfSk7aWYoYyhlKSlyZXR1cm4gVCh7d3JpdGFibGU6ZX0pO2lmKHUoZSkpcmV0dXJuIFQoe3dyaXRhYmxlOiExLHJlYWRhYmxlOiExfSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7Y29uc3R7dmFsdWU6dCx3cml0ZTpvLGZpbmFsOmksZGVzdHJveTphfT1mdW5jdGlvbih0KXtsZXR7cHJvbWlzZTplLHJlc29sdmU6bn09YigpO2NvbnN0IG89bmV3IFMsaT1vLnNpZ25hbCxhPXQoYXN5bmMgZnVuY3Rpb24qKCl7Zm9yKDs7KXtjb25zdCB0PWU7ZT1udWxsO2NvbnN0e2NodW5rOm8sZG9uZTphLGNiOnN9PWF3YWl0IHQ7aWYoci5uZXh0VGljayhzKSxhKXJldHVybjtpZihpLmFib3J0ZWQpdGhyb3cgbmV3IGgodm9pZCAwLHtjYXVzZTppLnJlYXNvbn0pOyh7cHJvbWlzZTplLHJlc29sdmU6bn09YigpKSx5aWVsZCBvfX0oKSx7c2lnbmFsOml9KTtyZXR1cm57dmFsdWU6YSx3cml0ZSh0LGUscil7Y29uc3Qgbz1uO249bnVsbCxvKHtjaHVuazp0LGRvbmU6ITEsY2I6cn0pfSxmaW5hbCh0KXtjb25zdCBlPW47bj1udWxsLGUoe2RvbmU6ITAsY2I6dH0pfSxkZXN0cm95KHQsZSl7by5hYm9ydCgpLGUodCl9fX0oZSk7aWYocyh0KSlyZXR1cm4gdyhJLHQse29iamVjdE1vZGU6ITAsd3JpdGU6byxmaW5hbDppLGRlc3Ryb3k6YX0pO2NvbnN0IHU9bnVsbD09dD92b2lkIDA6dC50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHUpe2xldCBlO2NvbnN0IG49QSh1LHQsKHQ9PntpZihudWxsIT10KXRocm93IG5ldyBnKFwibnVsbHlcIixcImJvZHlcIix0KX0pLCh0PT57eShlLHQpfSkpO3JldHVybiBlPW5ldyBJKHtvYmplY3RNb2RlOiEwLHJlYWRhYmxlOiExLHdyaXRlOm8sZmluYWwodCl7aSgoYXN5bmMoKT0+e3RyeXthd2FpdCBuLHIubmV4dFRpY2sodCxudWxsKX1jYXRjaChlKXtyLm5leHRUaWNrKHQsZSl9fSkpfSxkZXN0cm95OmF9KX10aHJvdyBuZXcgZyhcIkl0ZXJhYmxlLCBBc3luY0l0ZXJhYmxlIG9yIEFzeW5jRnVuY3Rpb25cIixuLHQpfWlmKEUoZSkpcmV0dXJuIHQoZS5hcnJheUJ1ZmZlcigpKTtpZihzKGUpKXJldHVybiB3KEksZSx7b2JqZWN0TW9kZTohMCx3cml0YWJsZTohMX0pO2lmKFwib2JqZWN0XCI9PXR5cGVvZihudWxsPT1lP3ZvaWQgMDplLndyaXRhYmxlKXx8XCJvYmplY3RcIj09dHlwZW9mKG51bGw9PWU/dm9pZCAwOmUucmVhZGFibGUpKXtyZXR1cm4gVCh7cmVhZGFibGU6bnVsbCE9ZSYmZS5yZWFkYWJsZT9sKG51bGw9PWU/dm9pZCAwOmUucmVhZGFibGUpP251bGw9PWU/dm9pZCAwOmUucmVhZGFibGU6dChlLnJlYWRhYmxlKTp2b2lkIDAsd3JpdGFibGU6bnVsbCE9ZSYmZS53cml0YWJsZT9jKG51bGw9PWU/dm9pZCAwOmUud3JpdGFibGUpP251bGw9PWU/dm9pZCAwOmUud3JpdGFibGU6dChlLndyaXRhYmxlKTp2b2lkIDB9KX1jb25zdCBvPW51bGw9PWU/dm9pZCAwOmUudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvKXtsZXQgdDtyZXR1cm4gQShvLGUsKGU9PntudWxsIT1lJiZ0LnB1c2goZSksdC5wdXNoKG51bGwpfSksKGU9Pnt5KHQsZSl9KSksdD1uZXcgSSh7b2JqZWN0TW9kZTohMCx3cml0YWJsZTohMSxyZWFkKCl7fX0pfXRocm93IG5ldyBwKG4sW1wiQmxvYlwiLFwiUmVhZGFibGVTdHJlYW1cIixcIldyaXRhYmxlU3RyZWFtXCIsXCJTdHJlYW1cIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCIsXCJGdW5jdGlvblwiLFwieyByZWFkYWJsZSwgd3JpdGFibGUgfSBwYWlyXCIsXCJQcm9taXNlXCJdLGUpfX0sODY6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLHtBYm9ydEVycm9yOm8sY29kZXM6aX09bigxNDEpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTphLEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFOnN9PWkse2tFbXB0eU9iamVjdDp1LG9uY2U6bH09big3NzUpLHt2YWxpZGF0ZUFib3J0U2lnbmFsOmMsdmFsaWRhdGVGdW5jdGlvbjpmLHZhbGlkYXRlT2JqZWN0OmQsdmFsaWRhdGVCb29sZWFuOmh9PW4oOTA0KSx7UHJvbWlzZTpwLFByb21pc2VQcm90b3R5cGVUaGVuOmd9PW4oMTkxKSx7aXNDbG9zZWQ6eSxpc1JlYWRhYmxlOm0saXNSZWFkYWJsZU5vZGVTdHJlYW06dixpc1JlYWRhYmxlU3RyZWFtOmIsaXNSZWFkYWJsZUZpbmlzaGVkOncsaXNSZWFkYWJsZUVycm9yZWQ6Xyxpc1dyaXRhYmxlOkUsaXNXcml0YWJsZU5vZGVTdHJlYW06Uyxpc1dyaXRhYmxlU3RyZWFtOkEsaXNXcml0YWJsZUZpbmlzaGVkOkksaXNXcml0YWJsZUVycm9yZWQ6VCxpc05vZGVTdHJlYW06Uix3aWxsRW1pdENsb3NlOngsa0lzQ2xvc2VkUHJvbWlzZTpDfT1uKDEzMik7Y29uc3QgQj0oKT0+e307ZnVuY3Rpb24gayh0LGUsbil7dmFyIGksaDtpZigyPT09YXJndW1lbnRzLmxlbmd0aD8obj1lLGU9dSk6bnVsbD09ZT9lPXU6ZChlLFwib3B0aW9uc1wiKSxmKG4sXCJjYWxsYmFja1wiKSxjKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksbj1sKG4pLGIodCl8fEEodCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtsZXQgaT0hMSxhPUI7aWYoZS5zaWduYWwpaWYoYT0oKT0+e2k9ITAsbi5jYWxsKHQsbmV3IG8odm9pZCAwLHtjYXVzZTplLnNpZ25hbC5yZWFzb259KSl9LGUuc2lnbmFsLmFib3J0ZWQpci5uZXh0VGljayhhKTtlbHNle2NvbnN0IHI9bjtuPWwoKCguLi5uKT0+e2Uuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGEpLHIuYXBwbHkodCxuKX0pKSxlLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKX1jb25zdCBzPSguLi5lKT0+e2l8fHIubmV4dFRpY2soKCgpPT5uLmFwcGx5KHQsZSkpKX07cmV0dXJuIGcodFtDXS5wcm9taXNlLHMscyksQn0odCxlLG4pO2lmKCFSKHQpKXRocm93IG5ldyBhKFwic3RyZWFtXCIsW1wiUmVhZGFibGVTdHJlYW1cIixcIldyaXRhYmxlU3RyZWFtXCIsXCJTdHJlYW1cIl0sdCk7Y29uc3QgcD1udWxsIT09KGk9ZS5yZWFkYWJsZSkmJnZvaWQgMCE9PWk/aTp2KHQpLGs9bnVsbCE9PShoPWUud3JpdGFibGUpJiZ2b2lkIDAhPT1oP2g6Uyh0KSxMPXQuX3dyaXRhYmxlU3RhdGUsTz10Ll9yZWFkYWJsZVN0YXRlLFU9KCk9Pnt0LndyaXRhYmxlfHxNKCl9O2xldCBqPXgodCkmJnYodCk9PT1wJiZTKHQpPT09ayxOPUkodCwhMSk7Y29uc3QgTT0oKT0+e049ITAsdC5kZXN0cm95ZWQmJihqPSExKSwoIWp8fHQucmVhZGFibGUmJiFwKSYmKHAmJiFQfHxuLmNhbGwodCkpfTtsZXQgUD13KHQsITEpO2NvbnN0IFc9KCk9PntQPSEwLHQuZGVzdHJveWVkJiYoaj0hMSksKCFqfHx0LndyaXRhYmxlJiYhaykmJihrJiYhTnx8bi5jYWxsKHQpKX0sJD1lPT57bi5jYWxsKHQsZSl9O2xldCBEPXkodCk7Y29uc3QgRj0oKT0+e0Q9ITA7Y29uc3QgZT1UKHQpfHxfKHQpO3JldHVybiBlJiZcImJvb2xlYW5cIiE9dHlwZW9mIGU/bi5jYWxsKHQsZSk6cCYmIVAmJnYodCwhMCkmJiF3KHQsITEpP24uY2FsbCh0LG5ldyBzKToha3x8Tnx8SSh0LCExKT92b2lkIG4uY2FsbCh0KTpuLmNhbGwodCxuZXcgcyl9LHo9KCk9PntEPSEwO2NvbnN0IGU9VCh0KXx8Xyh0KTtpZihlJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUpcmV0dXJuIG4uY2FsbCh0LGUpO24uY2FsbCh0KX0scT0oKT0+e3QucmVxLm9uKFwiZmluaXNoXCIsTSl9OyFmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXRIZWFkZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuYWJvcnR9KHQpP2smJiFMJiYodC5vbihcImVuZFwiLFUpLHQub24oXCJjbG9zZVwiLFUpKToodC5vbihcImNvbXBsZXRlXCIsTSksanx8dC5vbihcImFib3J0XCIsRiksdC5yZXE/cSgpOnQub24oXCJyZXF1ZXN0XCIscSkpLGp8fFwiYm9vbGVhblwiIT10eXBlb2YgdC5hYm9ydGVkfHx0Lm9uKFwiYWJvcnRlZFwiLEYpLHQub24oXCJlbmRcIixXKSx0Lm9uKFwiZmluaXNoXCIsTSksITEhPT1lLmVycm9yJiZ0Lm9uKFwiZXJyb3JcIiwkKSx0Lm9uKFwiY2xvc2VcIixGKSxEP3IubmV4dFRpY2soRik6bnVsbCE9TCYmTC5lcnJvckVtaXR0ZWR8fG51bGwhPU8mJk8uZXJyb3JFbWl0dGVkP2p8fHIubmV4dFRpY2soeik6KHB8fGomJiFtKHQpfHwhTiYmITEhPT1FKHQpKSYmKGt8fGomJiFFKHQpfHwhUCYmITEhPT1tKHQpKT9PJiZ0LnJlcSYmdC5hYm9ydGVkJiZyLm5leHRUaWNrKHopOnIubmV4dFRpY2soeik7Y29uc3QgSD0oKT0+e249Qix0LnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRlZFwiLEYpLHQucmVtb3ZlTGlzdGVuZXIoXCJjb21wbGV0ZVwiLE0pLHQucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLEYpLHQucmVtb3ZlTGlzdGVuZXIoXCJyZXF1ZXN0XCIscSksdC5yZXEmJnQucmVxLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsTSksdC5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLFUpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLFUpLHQucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixNKSx0LnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsVyksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsJCksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsRil9O2lmKGUuc2lnbmFsJiYhRCl7Y29uc3QgaT0oKT0+e2NvbnN0IHI9bjtIKCksci5jYWxsKHQsbmV3IG8odm9pZCAwLHtjYXVzZTplLnNpZ25hbC5yZWFzb259KSl9O2lmKGUuc2lnbmFsLmFib3J0ZWQpci5uZXh0VGljayhpKTtlbHNle2NvbnN0IHI9bjtuPWwoKCguLi5uKT0+e2Uuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGkpLHIuYXBwbHkodCxuKX0pKSxlLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixpKX19cmV0dXJuIEh9dC5leHBvcnRzPWssdC5leHBvcnRzLmZpbmlzaGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG47bGV0IHI9ITE7cmV0dXJuIG51bGw9PT1lJiYoZT11KSxudWxsIT09KG49ZSkmJnZvaWQgMCE9PW4mJm4uY2xlYW51cCYmKGgoZS5jbGVhbnVwLFwiY2xlYW51cFwiKSxyPWUuY2xlYW51cCksbmV3IHAoKChuLG8pPT57Y29uc3QgaT1rKHQsZSwodD0+e3ImJmkoKSx0P28odCk6bigpfSkpfSkpfX0sOTEzOih0LGUsbik9Pntjb25zdCByPW4oNTMzKSx7UHJvbWlzZVByb3RvdHlwZVRoZW46byxTeW1ib2xBc3luY0l0ZXJhdG9yOmksU3ltYm9sSXRlcmF0b3I6YX09bigxOTEpLHtCdWZmZXI6c309big0ODUpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTp1LEVSUl9TVFJFQU1fTlVMTF9WQUxVRVM6bH09bigxNDEpLmNvZGVzO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7bGV0IGMsZjtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIHMpcmV0dXJuIG5ldyB0KHtvYmplY3RNb2RlOiEwLC4uLm4scmVhZCgpe3RoaXMucHVzaChlKSx0aGlzLnB1c2gobnVsbCl9fSk7aWYoZSYmZVtpXSlmPSEwLGM9ZVtpXSgpO2Vsc2V7aWYoIWV8fCFlW2FdKXRocm93IG5ldyB1KFwiaXRlcmFibGVcIixbXCJJdGVyYWJsZVwiXSxlKTtmPSExLGM9ZVthXSgpfWNvbnN0IGQ9bmV3IHQoe29iamVjdE1vZGU6ITAsaGlnaFdhdGVyTWFyazoxLC4uLm59KTtsZXQgaD0hMTtyZXR1cm4gZC5fcmVhZD1mdW5jdGlvbigpe2h8fChoPSEwLGFzeW5jIGZ1bmN0aW9uKCl7Zm9yKDs7KXt0cnl7Y29uc3R7dmFsdWU6dCxkb25lOmV9PWY/YXdhaXQgYy5uZXh0KCk6Yy5uZXh0KCk7aWYoZSlkLnB1c2gobnVsbCk7ZWxzZXtjb25zdCBlPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGhlbj9hd2FpdCB0OnQ7aWYobnVsbD09PWUpdGhyb3cgaD0hMSxuZXcgbDtpZihkLnB1c2goZSkpY29udGludWU7aD0hMX19Y2F0Y2godCl7ZC5kZXN0cm95KHQpfWJyZWFrfX0oKSl9LGQuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxlKXtvKGFzeW5jIGZ1bmN0aW9uKHQpe2NvbnN0IGU9bnVsbCE9dCxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGMudGhyb3c7aWYoZSYmbil7Y29uc3R7dmFsdWU6ZSxkb25lOm59PWF3YWl0IGMudGhyb3codCk7aWYoYXdhaXQgZSxuKXJldHVybn1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLnJldHVybil7Y29uc3R7dmFsdWU6dH09YXdhaXQgYy5yZXR1cm4oKTthd2FpdCB0fX0odCksKCgpPT5yLm5leHRUaWNrKGUsdCkpLChuPT5yLm5leHRUaWNrKGUsbnx8dCkpKX0sZH19LDIwMDoodCxlLG4pPT57Y29uc3R7QXJyYXlJc0FycmF5OnIsT2JqZWN0U2V0UHJvdG90eXBlT2Y6b309bigxOTEpLHtFdmVudEVtaXR0ZXI6aX09big0NjUpO2Z1bmN0aW9uIGEodCl7aS5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gcyh0LGUsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5wcmVwZW5kTGlzdGVuZXIpcmV0dXJuIHQucHJlcGVuZExpc3RlbmVyKGUsbik7dC5fZXZlbnRzJiZ0Ll9ldmVudHNbZV0/cih0Ll9ldmVudHNbZV0pP3QuX2V2ZW50c1tlXS51bnNoaWZ0KG4pOnQuX2V2ZW50c1tlXT1bbix0Ll9ldmVudHNbZV1dOnQub24oZSxuKX1vKGEucHJvdG90eXBlLGkucHJvdG90eXBlKSxvKGEsaSksYS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcztmdW5jdGlvbiByKGUpe3Qud3JpdGFibGUmJiExPT09dC53cml0ZShlKSYmbi5wYXVzZSYmbi5wYXVzZSgpfWZ1bmN0aW9uIG8oKXtuLnJlYWRhYmxlJiZuLnJlc3VtZSYmbi5yZXN1bWUoKX1uLm9uKFwiZGF0YVwiLHIpLHQub24oXCJkcmFpblwiLG8pLHQuX2lzU3RkaW98fGUmJiExPT09ZS5lbmR8fChuLm9uKFwiZW5kXCIsdSksbi5vbihcImNsb3NlXCIsbCkpO2xldCBhPSExO2Z1bmN0aW9uIHUoKXthfHwoYT0hMCx0LmVuZCgpKX1mdW5jdGlvbiBsKCl7YXx8KGE9ITAsXCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95JiZ0LmRlc3Ryb3koKSl9ZnVuY3Rpb24gYyh0KXtmKCksMD09PWkubGlzdGVuZXJDb3VudCh0aGlzLFwiZXJyb3JcIikmJnRoaXMuZW1pdChcImVycm9yXCIsdCl9ZnVuY3Rpb24gZigpe24ucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsciksdC5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsbyksbi5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHUpLG4ucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGwpLG4ucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGMpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGMpLG4ucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixmKSxuLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixmKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixmKX1yZXR1cm4gcyhuLFwiZXJyb3JcIixjKSxzKHQsXCJlcnJvclwiLGMpLG4ub24oXCJlbmRcIixmKSxuLm9uKFwiY2xvc2VcIixmKSx0Lm9uKFwiY2xvc2VcIixmKSx0LmVtaXQoXCJwaXBlXCIsbiksdH0sdC5leHBvcnRzPXtTdHJlYW06YSxwcmVwZW5kTGlzdGVuZXI6c319LDU1NDoodCxlLG4pPT57Y29uc3Qgcj1nbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcnx8big4NzYpLkFib3J0Q29udHJvbGxlcix7Y29kZXM6e0VSUl9JTlZBTElEX0FSR19WQUxVRTpvLEVSUl9JTlZBTElEX0FSR19UWVBFOmksRVJSX01JU1NJTkdfQVJHUzphLEVSUl9PVVRfT0ZfUkFOR0U6c30sQWJvcnRFcnJvcjp1fT1uKDE0MSkse3ZhbGlkYXRlQWJvcnRTaWduYWw6bCx2YWxpZGF0ZUludGVnZXI6Yyx2YWxpZGF0ZU9iamVjdDpmfT1uKDkwNCksZD1uKDE5MSkuU3ltYm9sKFwia1dlYWtcIikse2ZpbmlzaGVkOmh9PW4oODYpLHA9big4MTgpLHthZGRBYm9ydFNpZ25hbE5vVmFsaWRhdGU6Z309bigzNzQpLHtpc1dyaXRhYmxlOnksaXNOb2RlU3RyZWFtOm19PW4oMTMyKSx7QXJyYXlQcm90b3R5cGVQdXNoOnYsTWF0aEZsb29yOmIsTnVtYmVyOncsTnVtYmVySXNOYU46XyxQcm9taXNlOkUsUHJvbWlzZVJlamVjdDpTLFByb21pc2VQcm90b3R5cGVUaGVuOkEsU3ltYm9sOkl9PW4oMTkxKSxUPUkoXCJrRW1wdHlcIiksUj1JKFwia0VvZlwiKTtmdW5jdGlvbiB4KHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgaShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7bnVsbCE9ZSYmZihlLFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09ZT92b2lkIDA6ZS5zaWduYWwpJiZsKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIik7bGV0IG49MTtyZXR1cm4gbnVsbCE9KG51bGw9PWU/dm9pZCAwOmUuY29uY3VycmVuY3kpJiYobj1iKGUuY29uY3VycmVuY3kpKSxjKG4sXCJjb25jdXJyZW5jeVwiLDEpLGFzeW5jIGZ1bmN0aW9uKigpe3ZhciBvLGk7Y29uc3QgYT1uZXcgcixzPXRoaXMsbD1bXSxjPWEuc2lnbmFsLGY9e3NpZ25hbDpjfSxkPSgpPT5hLmFib3J0KCk7bGV0IGgscDtudWxsIT1lJiZudWxsIT09KG89ZS5zaWduYWwpJiZ2b2lkIDAhPT1vJiZvLmFib3J0ZWQmJmQoKSxudWxsPT1lfHxudWxsPT09KGk9ZS5zaWduYWwpfHx2b2lkIDA9PT1pfHxpLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGQpO2xldCBnPSExO2Z1bmN0aW9uIHkoKXtnPSEwfSFhc3luYyBmdW5jdGlvbigpe3RyeXtmb3IgYXdhaXQobGV0IGUgb2Ygcyl7dmFyIHI7aWYoZylyZXR1cm47aWYoYy5hYm9ydGVkKXRocm93IG5ldyB1O3RyeXtlPXQoZSxmKX1jYXRjaCh0KXtlPVModCl9ZSE9PVQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZihudWxsPT09KHI9ZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY2F0Y2gpJiZlLmNhdGNoKHkpLGwucHVzaChlKSxoJiYoaCgpLGg9bnVsbCksIWcmJmwubGVuZ3RoJiZsLmxlbmd0aD49biYmYXdhaXQgbmV3IEUoKHQ9PntwPXR9KSkpfWwucHVzaChSKX1jYXRjaCh0KXtjb25zdCBlPVModCk7QShlLHZvaWQgMCx5KSxsLnB1c2goZSl9ZmluYWxseXt2YXIgbztnPSEwLGgmJihoKCksaD1udWxsKSxudWxsPT1lfHxudWxsPT09KG89ZS5zaWduYWwpfHx2b2lkIDA9PT1vfHxvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGQpfX0oKTt0cnl7Zm9yKDs7KXtmb3IoO2wubGVuZ3RoPjA7KXtjb25zdCB0PWF3YWl0IGxbMF07aWYodD09PVIpcmV0dXJuO2lmKGMuYWJvcnRlZCl0aHJvdyBuZXcgdTt0IT09VCYmKHlpZWxkIHQpLGwuc2hpZnQoKSxwJiYocCgpLHA9bnVsbCl9YXdhaXQgbmV3IEUoKHQ9PntoPXR9KSl9fWZpbmFsbHl7YS5hYm9ydCgpLGc9ITAscCYmKHAoKSxwPW51bGwpfX0uY2FsbCh0aGlzKX1hc3luYyBmdW5jdGlvbiBDKHQsZT12b2lkIDApe2ZvciBhd2FpdChjb25zdCBuIG9mIEIuY2FsbCh0aGlzLHQsZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gQih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO3JldHVybiB4LmNhbGwodGhpcywoYXN5bmMgZnVuY3Rpb24oZSxuKXtyZXR1cm4gYXdhaXQgdChlLG4pP2U6VH0pLGUpfWNsYXNzIGsgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJyZWR1Y2VcIiksdGhpcy5tZXNzYWdlPVwiUmVkdWNlIG9mIGFuIGVtcHR5IHN0cmVhbSByZXF1aXJlcyBhbiBpbml0aWFsIHZhbHVlXCJ9fWZ1bmN0aW9uIEwodCl7aWYodD13KHQpLF8odCkpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBzKFwibnVtYmVyXCIsXCI+PSAwXCIsdCk7cmV0dXJuIHR9dC5leHBvcnRzLnN0cmVhbVJldHVybmluZ09wZXJhdG9ycz17YXNJbmRleGVkUGFpcnM6ZnVuY3Rpb24odD12b2lkIDApe3JldHVybiBudWxsIT10JiZmKHQsXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT10P3ZvaWQgMDp0LnNpZ25hbCkmJmwodC5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSxhc3luYyBmdW5jdGlvbiooKXtsZXQgZT0wO2ZvciBhd2FpdChjb25zdCByIG9mIHRoaXMpe3ZhciBuO2lmKG51bGwhPXQmJm51bGwhPT0obj10LnNpZ25hbCkmJnZvaWQgMCE9PW4mJm4uYWJvcnRlZCl0aHJvdyBuZXcgdSh7Y2F1c2U6dC5zaWduYWwucmVhc29ufSk7eWllbGRbZSsrLHJdfX0uY2FsbCh0aGlzKX0sZHJvcDpmdW5jdGlvbih0LGU9dm9pZCAwKXtyZXR1cm4gbnVsbCE9ZSYmZihlLFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09ZT92b2lkIDA6ZS5zaWduYWwpJiZsKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksdD1MKHQpLGFzeW5jIGZ1bmN0aW9uKigpe3ZhciBuO2lmKG51bGwhPWUmJm51bGwhPT0obj1lLnNpZ25hbCkmJnZvaWQgMCE9PW4mJm4uYWJvcnRlZCl0aHJvdyBuZXcgdTtmb3IgYXdhaXQoY29uc3QgbiBvZiB0aGlzKXt2YXIgcjtpZihudWxsIT1lJiZudWxsIT09KHI9ZS5zaWduYWwpJiZ2b2lkIDAhPT1yJiZyLmFib3J0ZWQpdGhyb3cgbmV3IHU7dC0tPD0wJiYoeWllbGQgbil9fS5jYWxsKHRoaXMpfSxmaWx0ZXI6QixmbGF0TWFwOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj14LmNhbGwodGhpcyx0LGUpO3JldHVybiBhc3luYyBmdW5jdGlvbiooKXtmb3IgYXdhaXQoY29uc3QgdCBvZiBuKXlpZWxkKnR9LmNhbGwodGhpcyl9LG1hcDp4LHRha2U6ZnVuY3Rpb24odCxlPXZvaWQgMCl7cmV0dXJuIG51bGwhPWUmJmYoZSxcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PWU/dm9pZCAwOmUuc2lnbmFsKSYmbChlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLHQ9TCh0KSxhc3luYyBmdW5jdGlvbiooKXt2YXIgbjtpZihudWxsIT1lJiZudWxsIT09KG49ZS5zaWduYWwpJiZ2b2lkIDAhPT1uJiZuLmFib3J0ZWQpdGhyb3cgbmV3IHU7Zm9yIGF3YWl0KGNvbnN0IG4gb2YgdGhpcyl7dmFyIHI7aWYobnVsbCE9ZSYmbnVsbCE9PShyPWUuc2lnbmFsKSYmdm9pZCAwIT09ciYmci5hYm9ydGVkKXRocm93IG5ldyB1O2lmKCEodC0tID4wKSlyZXR1cm47eWllbGQgbn19LmNhbGwodGhpcyl9LGNvbXBvc2U6ZnVuY3Rpb24odCxlKXtpZihudWxsIT1lJiZmKGUsXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT1lP3ZvaWQgMDplLnNpZ25hbCkmJmwoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSxtKHQpJiYheSh0KSl0aHJvdyBuZXcgbyhcInN0cmVhbVwiLHQsXCJtdXN0IGJlIHdyaXRhYmxlXCIpO2NvbnN0IG49cCh0aGlzLHQpO3JldHVybiBudWxsIT1lJiZlLnNpZ25hbCYmZyhlLnNpZ25hbCxuKSxufX0sdC5leHBvcnRzLnByb21pc2VSZXR1cm5pbmdPcGVyYXRvcnM9e2V2ZXJ5OmFzeW5jIGZ1bmN0aW9uKHQsZT12b2lkIDApe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO3JldHVybiFhd2FpdCBDLmNhbGwodGhpcywoYXN5bmMoLi4uZSk9PiFhd2FpdCB0KC4uLmUpKSxlKX0sZm9yRWFjaDphc3luYyBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO2ZvciBhd2FpdChjb25zdCBuIG9mIHguY2FsbCh0aGlzLChhc3luYyBmdW5jdGlvbihlLG4pe3JldHVybiBhd2FpdCB0KGUsbiksVH0pLGUpKTt9LHJlZHVjZTphc3luYyBmdW5jdGlvbih0LGUsbil7dmFyIG87aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgaShcInJlZHVjZXJcIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTtudWxsIT1uJiZmKG4sXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT1uP3ZvaWQgMDpuLnNpZ25hbCkmJmwobi5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKTtsZXQgYT1hcmd1bWVudHMubGVuZ3RoPjE7aWYobnVsbCE9biYmbnVsbCE9PShvPW4uc2lnbmFsKSYmdm9pZCAwIT09byYmby5hYm9ydGVkKXtjb25zdCB0PW5ldyB1KHZvaWQgMCx7Y2F1c2U6bi5zaWduYWwucmVhc29ufSk7dGhyb3cgdGhpcy5vbmNlKFwiZXJyb3JcIiwoKCk9Pnt9KSksYXdhaXQgaCh0aGlzLmRlc3Ryb3kodCkpLHR9Y29uc3Qgcz1uZXcgcixjPXMuc2lnbmFsO2lmKG51bGwhPW4mJm4uc2lnbmFsKXtjb25zdCB0PXtvbmNlOiEwLFtkXTp0aGlzfTtuLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKCk9PnMuYWJvcnQoKSksdCl9bGV0IHA9ITE7dHJ5e2ZvciBhd2FpdChjb25zdCByIG9mIHRoaXMpe3ZhciBnO2lmKHA9ITAsbnVsbCE9biYmbnVsbCE9PShnPW4uc2lnbmFsKSYmdm9pZCAwIT09ZyYmZy5hYm9ydGVkKXRocm93IG5ldyB1O2E/ZT1hd2FpdCB0KGUscix7c2lnbmFsOmN9KTooZT1yLGE9ITApfWlmKCFwJiYhYSl0aHJvdyBuZXcga31maW5hbGx5e3MuYWJvcnQoKX1yZXR1cm4gZX0sdG9BcnJheTphc3luYyBmdW5jdGlvbih0KXtudWxsIT10JiZmKHQsXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT10P3ZvaWQgMDp0LnNpZ25hbCkmJmwodC5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKTtjb25zdCBlPVtdO2ZvciBhd2FpdChjb25zdCByIG9mIHRoaXMpe3ZhciBuO2lmKG51bGwhPXQmJm51bGwhPT0obj10LnNpZ25hbCkmJnZvaWQgMCE9PW4mJm4uYWJvcnRlZCl0aHJvdyBuZXcgdSh2b2lkIDAse2NhdXNlOnQuc2lnbmFsLnJlYXNvbn0pO3YoZSxyKX1yZXR1cm4gZX0sc29tZTpDLGZpbmQ6YXN5bmMgZnVuY3Rpb24odCxlKXtmb3IgYXdhaXQoY29uc3QgbiBvZiBCLmNhbGwodGhpcyx0LGUpKXJldHVybiBufX19LDQ2NzoodCxlLG4pPT57Y29uc3R7T2JqZWN0U2V0UHJvdG90eXBlT2Y6cn09bigxOTEpO3QuZXhwb3J0cz1pO2NvbnN0IG89bigyMTApO2Z1bmN0aW9uIGkodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKHQpO28uY2FsbCh0aGlzLHQpfXIoaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLHIoaSxvKSxpLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXtuKG51bGwsdCl9fSw3NTQ6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLHtBcnJheUlzQXJyYXk6byxQcm9taXNlOmksU3ltYm9sQXN5bmNJdGVyYXRvcjphfT1uKDE5MSkscz1uKDg2KSx7b25jZTp1fT1uKDc3NSksbD1uKDIzMCksYz1uKDE4Mikse2FnZ3JlZ2F0ZVR3b0Vycm9yczpmLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVFlQRTpkLEVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRTpoLEVSUl9NSVNTSU5HX0FSR1M6cCxFUlJfU1RSRUFNX0RFU1RST1lFRDpnLEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFOnl9LEFib3J0RXJyb3I6bX09bigxNDEpLHt2YWxpZGF0ZUZ1bmN0aW9uOnYsdmFsaWRhdGVBYm9ydFNpZ25hbDpifT1uKDkwNCkse2lzSXRlcmFibGU6dyxpc1JlYWRhYmxlOl8saXNSZWFkYWJsZU5vZGVTdHJlYW06RSxpc05vZGVTdHJlYW06Uyxpc1RyYW5zZm9ybVN0cmVhbTpBLGlzV2ViU3RyZWFtOkksaXNSZWFkYWJsZVN0cmVhbTpULGlzUmVhZGFibGVFbmRlZDpSfT1uKDEzMikseD1nbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcnx8big4NzYpLkFib3J0Q29udHJvbGxlcjtsZXQgQyxCO2Z1bmN0aW9uIGsodCxlLG4pe2xldCByPSExO3Qub24oXCJjbG9zZVwiLCgoKT0+e3I9ITB9KSk7cmV0dXJue2Rlc3Ryb3k6ZT0+e3J8fChyPSEwLGwuZGVzdHJveWVyKHQsZXx8bmV3IGcoXCJwaXBlXCIpKSl9LGNsZWFudXA6cyh0LHtyZWFkYWJsZTplLHdyaXRhYmxlOm59LCh0PT57cj0hdH0pKX19ZnVuY3Rpb24gTCh0KXtpZih3KHQpKXJldHVybiB0O2lmKEUodCkpcmV0dXJuIGFzeW5jIGZ1bmN0aW9uKih0KXtCfHwoQj1uKDg1OCkpO3lpZWxkKkIucHJvdG90eXBlW2FdLmNhbGwodCl9KHQpO3Rocm93IG5ldyBkKFwidmFsXCIsW1wiUmVhZGFibGVcIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCJdLHQpfWFzeW5jIGZ1bmN0aW9uIE8odCxlLG4se2VuZDpyfSl7bGV0IG8sYT1udWxsO2NvbnN0IHU9dD0+e2lmKHQmJihvPXQpLGEpe2NvbnN0IHQ9YTthPW51bGwsdCgpfX0sbD0oKT0+bmV3IGkoKCh0LGUpPT57bz9lKG8pOmE9KCk9PntvP2Uobyk6dCgpfX0pKTtlLm9uKFwiZHJhaW5cIix1KTtjb25zdCBjPXMoZSx7cmVhZGFibGU6ITF9LHUpO3RyeXtlLndyaXRhYmxlTmVlZERyYWluJiZhd2FpdCBsKCk7Zm9yIGF3YWl0KGNvbnN0IG4gb2YgdCllLndyaXRlKG4pfHxhd2FpdCBsKCk7ciYmZS5lbmQoKSxhd2FpdCBsKCksbigpfWNhdGNoKHQpe24obyE9PXQ/ZihvLHQpOnQpfWZpbmFsbHl7YygpLGUub2ZmKFwiZHJhaW5cIix1KX19YXN5bmMgZnVuY3Rpb24gVSh0LGUsbix7ZW5kOnJ9KXtBKGUpJiYoZT1lLndyaXRhYmxlKTtjb25zdCBvPWUuZ2V0V3JpdGVyKCk7dHJ5e2ZvciBhd2FpdChjb25zdCBlIG9mIHQpYXdhaXQgby5yZWFkeSxvLndyaXRlKGUpLmNhdGNoKCgoKT0+e30pKTthd2FpdCBvLnJlYWR5LHImJmF3YWl0IG8uY2xvc2UoKSxuKCl9Y2F0Y2godCl7dHJ5e2F3YWl0IG8uYWJvcnQodCksbih0KX1jYXRjaCh0KXtuKHQpfX19ZnVuY3Rpb24gaih0LGUsaSl7aWYoMT09PXQubGVuZ3RoJiZvKHRbMF0pJiYodD10WzBdKSx0Lmxlbmd0aDwyKXRocm93IG5ldyBwKFwic3RyZWFtc1wiKTtjb25zdCBhPW5ldyB4LHM9YS5zaWduYWwsdT1udWxsPT1pP3ZvaWQgMDppLnNpZ25hbCxsPVtdO2Z1bmN0aW9uIGYoKXtNKG5ldyBtKX1sZXQgZyx5O2IodSxcIm9wdGlvbnMuc2lnbmFsXCIpLG51bGw9PXV8fHUuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZik7Y29uc3Qgdj1bXTtsZXQgUixCPTA7ZnVuY3Rpb24gaih0KXtNKHQsMD09LS1CKX1mdW5jdGlvbiBNKHQsbil7aWYoIXR8fGcmJlwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIiE9PWcuY29kZXx8KGc9dCksZ3x8bil7Zm9yKDt2Lmxlbmd0aDspdi5zaGlmdCgpKGcpO251bGw9PXV8fHUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZiksYS5hYm9ydCgpLG4mJihnfHxsLmZvckVhY2goKHQ9PnQoKSkpLHIubmV4dFRpY2soZSxnLHkpKX19Zm9yKGxldCBEPTA7RDx0Lmxlbmd0aDtEKyspe2NvbnN0IEY9dFtEXSx6PUQ8dC5sZW5ndGgtMSxxPUQ+MCxIPXp8fCExIT09KG51bGw9PWk/dm9pZCAwOmkuZW5kKSxWPUQ9PT10Lmxlbmd0aC0xO2lmKFMoRikpe2lmKEgpe2NvbnN0e2Rlc3Ryb3k6RyxjbGVhbnVwOkp9PWsoRix6LHEpO3YucHVzaChHKSxfKEYpJiZWJiZsLnB1c2goSil9ZnVuY3Rpb24gUCh0KXt0JiZcIkFib3J0RXJyb3JcIiE9PXQubmFtZSYmXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiIT09dC5jb2RlJiZqKHQpfUYub24oXCJlcnJvclwiLFApLF8oRikmJlYmJmwucHVzaCgoKCk9PntGLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixQKX0pKX1pZigwPT09RClpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBGKXtpZihSPUYoe3NpZ25hbDpzfSksIXcoUikpdGhyb3cgbmV3IGgoXCJJdGVyYWJsZSwgQXN5bmNJdGVyYWJsZSBvciBTdHJlYW1cIixcInNvdXJjZVwiLFIpfWVsc2UgUj13KEYpfHxFKEYpfHxBKEYpP0Y6Yy5mcm9tKEYpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgRil7dmFyIFc7aWYoQShSKSlSPUwobnVsbD09PShXPVIpfHx2b2lkIDA9PT1XP3ZvaWQgMDpXLnJlYWRhYmxlKTtlbHNlIFI9TChSKTtpZihSPUYoUix7c2lnbmFsOnN9KSx6KXtpZighdyhSLCEwKSl0aHJvdyBuZXcgaChcIkFzeW5jSXRlcmFibGVcIixgdHJhbnNmb3JtWyR7RC0xfV1gLFIpfWVsc2V7dmFyICQ7Q3x8KEM9big0NjcpKTtjb25zdCBZPW5ldyBDKHtvYmplY3RNb2RlOiEwfSksSz1udWxsPT09KCQ9Uil8fHZvaWQgMD09PSQ/dm9pZCAwOiQudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBLKUIrKyxLLmNhbGwoUiwodD0+e3k9dCxudWxsIT10JiZZLndyaXRlKHQpLEgmJlkuZW5kKCksci5uZXh0VGljayhqKX0pLCh0PT57WS5kZXN0cm95KHQpLHIubmV4dFRpY2soaix0KX0pKTtlbHNlIGlmKHcoUiwhMCkpQisrLE8oUixZLGose2VuZDpIfSk7ZWxzZXtpZighVChSKSYmIUEoUikpdGhyb3cgbmV3IGgoXCJBc3luY0l0ZXJhYmxlIG9yIFByb21pc2VcIixcImRlc3RpbmF0aW9uXCIsUik7e2NvbnN0IFE9Ui5yZWFkYWJsZXx8UjtCKyssTyhRLFksaix7ZW5kOkh9KX19Uj1ZO2NvbnN0e2Rlc3Ryb3k6WCxjbGVhbnVwOlp9PWsoUiwhMSwhMCk7di5wdXNoKFgpLFYmJmwucHVzaChaKX19ZWxzZSBpZihTKEYpKXtpZihFKFIpKXtCKz0yO2NvbnN0IHR0PU4oUixGLGose2VuZDpIfSk7XyhGKSYmViYmbC5wdXNoKHR0KX1lbHNlIGlmKEEoUil8fFQoUikpe2NvbnN0IGV0PVIucmVhZGFibGV8fFI7QisrLE8oZXQsRixqLHtlbmQ6SH0pfWVsc2V7aWYoIXcoUikpdGhyb3cgbmV3IGQoXCJ2YWxcIixbXCJSZWFkYWJsZVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIixcIlJlYWRhYmxlU3RyZWFtXCIsXCJUcmFuc2Zvcm1TdHJlYW1cIl0sUik7QisrLE8oUixGLGose2VuZDpIfSl9Uj1GfWVsc2UgaWYoSShGKSl7aWYoRShSKSlCKyssVShMKFIpLEYsaix7ZW5kOkh9KTtlbHNlIGlmKFQoUil8fHcoUikpQisrLFUoUixGLGose2VuZDpIfSk7ZWxzZXtpZighQShSKSl0aHJvdyBuZXcgZChcInZhbFwiLFtcIlJlYWRhYmxlXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiUmVhZGFibGVTdHJlYW1cIixcIlRyYW5zZm9ybVN0cmVhbVwiXSxSKTtCKyssVShSLnJlYWRhYmxlLEYsaix7ZW5kOkh9KX1SPUZ9ZWxzZSBSPWMuZnJvbShGKX1yZXR1cm4obnVsbCE9cyYmcy5hYm9ydGVkfHxudWxsIT11JiZ1LmFib3J0ZWQpJiZyLm5leHRUaWNrKGYpLFJ9ZnVuY3Rpb24gTih0LGUsbix7ZW5kOm99KXtsZXQgaT0hMTtpZihlLm9uKFwiY2xvc2VcIiwoKCk9PntpfHxuKG5ldyB5KX0pKSx0LnBpcGUoZSx7ZW5kOiExfSksbyl7ZnVuY3Rpb24gYSgpe2k9ITAsZS5lbmQoKX1SKHQpP3IubmV4dFRpY2soYSk6dC5vbmNlKFwiZW5kXCIsYSl9ZWxzZSBuKCk7cmV0dXJuIHModCx7cmVhZGFibGU6ITAsd3JpdGFibGU6ITF9LChlPT57Y29uc3Qgcj10Ll9yZWFkYWJsZVN0YXRlO2UmJlwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIj09PWUuY29kZSYmciYmci5lbmRlZCYmIXIuZXJyb3JlZCYmIXIuZXJyb3JFbWl0dGVkP3Qub25jZShcImVuZFwiLG4pLm9uY2UoXCJlcnJvclwiLG4pOm4oZSl9KSkscyhlLHtyZWFkYWJsZTohMSx3cml0YWJsZTohMH0sbil9dC5leHBvcnRzPXtwaXBlbGluZUltcGw6aixwaXBlbGluZTpmdW5jdGlvbiguLi50KXtyZXR1cm4gaih0LHUoZnVuY3Rpb24odCl7cmV0dXJuIHYodFt0Lmxlbmd0aC0xXSxcInN0cmVhbXNbc3RyZWFtLmxlbmd0aCAtIDFdXCIpLHQucG9wKCl9KHQpKSl9fX0sODU4Oih0LGUsbik9Pntjb25zdCByPW4oNTMzKSx7QXJyYXlQcm90b3R5cGVJbmRleE9mOm8sTnVtYmVySXNJbnRlZ2VyOmksTnVtYmVySXNOYU46YSxOdW1iZXJQYXJzZUludDpzLE9iamVjdERlZmluZVByb3BlcnRpZXM6dSxPYmplY3RLZXlzOmwsT2JqZWN0U2V0UHJvdG90eXBlT2Y6YyxQcm9taXNlOmYsU2FmZVNldDpkLFN5bWJvbEFzeW5jSXRlcmF0b3I6aCxTeW1ib2w6cH09bigxOTEpO3QuZXhwb3J0cz1XLFcuUmVhZGFibGVTdGF0ZT1QO2NvbnN0e0V2ZW50RW1pdHRlcjpnfT1uKDQ2NSkse1N0cmVhbTp5LHByZXBlbmRMaXN0ZW5lcjptfT1uKDIwMCkse0J1ZmZlcjp2fT1uKDQ4NSkse2FkZEFib3J0U2lnbmFsOmJ9PW4oMzc0KSx3PW4oODYpO2xldCBfPW4oNzc1KS5kZWJ1Z2xvZyhcInN0cmVhbVwiLCh0PT57Xz10fSkpO2NvbnN0IEU9big2MTYpLFM9bigyMzApLHtnZXRIaWdoV2F0ZXJNYXJrOkEsZ2V0RGVmYXVsdEhpZ2hXYXRlck1hcms6SX09big0OTgpLHthZ2dyZWdhdGVUd29FcnJvcnM6VCxjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1RZUEU6UixFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRDp4LEVSUl9PVVRfT0ZfUkFOR0U6QyxFUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GOkIsRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVDprfX09bigxNDEpLHt2YWxpZGF0ZU9iamVjdDpMfT1uKDkwNCksTz1wKFwia1BhdXNlZFwiKSx7U3RyaW5nRGVjb2RlcjpVfT1uKDQ2NCksaj1uKDkxMyk7YyhXLnByb3RvdHlwZSx5LnByb3RvdHlwZSksYyhXLHkpO2NvbnN0IE49KCk9Pnt9LHtlcnJvck9yRGVzdHJveTpNfT1TO2Z1bmN0aW9uIFAodCxlLHIpe1wiYm9vbGVhblwiIT10eXBlb2YgciYmKHI9ZSBpbnN0YW5jZW9mIG4oMTgyKSksdGhpcy5vYmplY3RNb2RlPSEoIXR8fCF0Lm9iamVjdE1vZGUpLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhKCF0fHwhdC5yZWFkYWJsZU9iamVjdE1vZGUpKSx0aGlzLmhpZ2hXYXRlck1hcms9dD9BKHRoaXMsdCxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLHIpOkkoITEpLHRoaXMuYnVmZmVyPW5ldyBFLHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1bXSx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5jb25zdHJ1Y3RlZD0hMCx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzW09dPW51bGwsdGhpcy5lcnJvckVtaXR0ZWQ9ITEsdGhpcy5lbWl0Q2xvc2U9IXR8fCExIT09dC5lbWl0Q2xvc2UsdGhpcy5hdXRvRGVzdHJveT0hdHx8ITEhPT10LmF1dG9EZXN0cm95LHRoaXMuZGVzdHJveWVkPSExLHRoaXMuZXJyb3JlZD1udWxsLHRoaXMuY2xvc2VkPSExLHRoaXMuY2xvc2VFbWl0dGVkPSExLHRoaXMuZGVmYXVsdEVuY29kaW5nPXQmJnQuZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwsdGhpcy5tdWx0aUF3YWl0RHJhaW49ITEsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRhdGFFbWl0dGVkPSExLHRoaXMuZGVjb2Rlcj1udWxsLHRoaXMuZW5jb2Rpbmc9bnVsbCx0JiZ0LmVuY29kaW5nJiYodGhpcy5kZWNvZGVyPW5ldyBVKHQuZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmc9dC5lbmNvZGluZyl9ZnVuY3Rpb24gVyh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBXKSlyZXR1cm4gbmV3IFcodCk7Y29uc3QgZT10aGlzIGluc3RhbmNlb2YgbigxODIpO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IFAodCx0aGlzLGUpLHQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlYWQmJih0aGlzLl9yZWFkPXQucmVhZCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95JiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29uc3RydWN0JiYodGhpcy5fY29uc3RydWN0PXQuY29uc3RydWN0KSx0LnNpZ25hbCYmIWUmJmIodC5zaWduYWwsdGhpcykpLHkuY2FsbCh0aGlzLHQpLFMuY29uc3RydWN0KHRoaXMsKCgpPT57dGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUmJkgodGhpcyx0aGlzLl9yZWFkYWJsZVN0YXRlKX0pKX1mdW5jdGlvbiAkKHQsZSxuLHIpe18oXCJyZWFkYWJsZUFkZENodW5rXCIsZSk7Y29uc3Qgbz10Ll9yZWFkYWJsZVN0YXRlO2xldCBpO2lmKG8ub2JqZWN0TW9kZXx8KFwic3RyaW5nXCI9PXR5cGVvZiBlPyhuPW58fG8uZGVmYXVsdEVuY29kaW5nLG8uZW5jb2RpbmchPT1uJiYociYmby5lbmNvZGluZz9lPXYuZnJvbShlLG4pLnRvU3RyaW5nKG8uZW5jb2RpbmcpOihlPXYuZnJvbShlLG4pLG49XCJcIikpKTplIGluc3RhbmNlb2Ygdj9uPVwiXCI6eS5faXNVaW50OEFycmF5KGUpPyhlPXkuX3VpbnQ4QXJyYXlUb0J1ZmZlcihlKSxuPVwiXCIpOm51bGwhPWUmJihpPW5ldyBSKFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiLFwiVWludDhBcnJheVwiXSxlKSkpLGkpTSh0LGkpO2Vsc2UgaWYobnVsbD09PWUpby5yZWFkaW5nPSExLGZ1bmN0aW9uKHQsZSl7aWYoXyhcIm9uRW9mQ2h1bmtcIiksZS5lbmRlZClyZXR1cm47aWYoZS5kZWNvZGVyKXtjb25zdCB0PWUuZGVjb2Rlci5lbmQoKTt0JiZ0Lmxlbmd0aCYmKGUuYnVmZmVyLnB1c2godCksZS5sZW5ndGgrPWUub2JqZWN0TW9kZT8xOnQubGVuZ3RoKX1lLmVuZGVkPSEwLGUuc3luYz96KHQpOihlLm5lZWRSZWFkYWJsZT0hMSxlLmVtaXR0ZWRSZWFkYWJsZT0hMCxxKHQpKX0odCxvKTtlbHNlIGlmKG8ub2JqZWN0TW9kZXx8ZSYmZS5sZW5ndGg+MClpZihyKWlmKG8uZW5kRW1pdHRlZClNKHQsbmV3IGspO2Vsc2V7aWYoby5kZXN0cm95ZWR8fG8uZXJyb3JlZClyZXR1cm4hMTtEKHQsbyxlLCEwKX1lbHNlIGlmKG8uZW5kZWQpTSh0LG5ldyBCKTtlbHNle2lmKG8uZGVzdHJveWVkfHxvLmVycm9yZWQpcmV0dXJuITE7by5yZWFkaW5nPSExLG8uZGVjb2RlciYmIW4/KGU9by5kZWNvZGVyLndyaXRlKGUpLG8ub2JqZWN0TW9kZXx8MCE9PWUubGVuZ3RoP0QodCxvLGUsITEpOkgodCxvKSk6RCh0LG8sZSwhMSl9ZWxzZSByfHwoby5yZWFkaW5nPSExLEgodCxvKSk7cmV0dXJuIW8uZW5kZWQmJihvLmxlbmd0aDxvLmhpZ2hXYXRlck1hcmt8fDA9PT1vLmxlbmd0aCl9ZnVuY3Rpb24gRCh0LGUsbixyKXtlLmZsb3dpbmcmJjA9PT1lLmxlbmd0aCYmIWUuc3luYyYmdC5saXN0ZW5lckNvdW50KFwiZGF0YVwiKT4wPyhlLm11bHRpQXdhaXREcmFpbj9lLmF3YWl0RHJhaW5Xcml0ZXJzLmNsZWFyKCk6ZS5hd2FpdERyYWluV3JpdGVycz1udWxsLGUuZGF0YUVtaXR0ZWQ9ITAsdC5lbWl0KFwiZGF0YVwiLG4pKTooZS5sZW5ndGgrPWUub2JqZWN0TW9kZT8xOm4ubGVuZ3RoLHI/ZS5idWZmZXIudW5zaGlmdChuKTplLmJ1ZmZlci5wdXNoKG4pLGUubmVlZFJlYWRhYmxlJiZ6KHQpKSxIKHQsZSl9Vy5wcm90b3R5cGUuZGVzdHJveT1TLmRlc3Ryb3ksVy5wcm90b3R5cGUuX3VuZGVzdHJveT1TLnVuZGVzdHJveSxXLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbih0LGUpe2UodCl9LFcucHJvdG90eXBlW2cuY2FwdHVyZVJlamVjdGlvblN5bWJvbF09ZnVuY3Rpb24odCl7dGhpcy5kZXN0cm95KHQpfSxXLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuICQodGhpcyx0LGUsITEpfSxXLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuICQodGhpcyx0LGUsITApfSxXLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4hMD09PXRbT118fCExPT09dC5mbG93aW5nfSxXLnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbih0KXtjb25zdCBlPW5ldyBVKHQpO3RoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1lLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nO2NvbnN0IG49dGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXI7bGV0IHI9XCJcIjtmb3IoY29uc3QgdCBvZiBuKXIrPWUud3JpdGUodCk7cmV0dXJuIG4uY2xlYXIoKSxcIlwiIT09ciYmbi5wdXNoKHIpLHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RoPXIubGVuZ3RoLHRoaXN9O2Z1bmN0aW9uIEYodCxlKXtyZXR1cm4gdDw9MHx8MD09PWUubGVuZ3RoJiZlLmVuZGVkPzA6ZS5vYmplY3RNb2RlPzE6YSh0KT9lLmZsb3dpbmcmJmUubGVuZ3RoP2UuYnVmZmVyLmZpcnN0KCkubGVuZ3RoOmUubGVuZ3RoOnQ8PWUubGVuZ3RoP3Q6ZS5lbmRlZD9lLmxlbmd0aDowfWZ1bmN0aW9uIHoodCl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlO18oXCJlbWl0UmVhZGFibGVcIixlLm5lZWRSZWFkYWJsZSxlLmVtaXR0ZWRSZWFkYWJsZSksZS5uZWVkUmVhZGFibGU9ITEsZS5lbWl0dGVkUmVhZGFibGV8fChfKFwiZW1pdFJlYWRhYmxlXCIsZS5mbG93aW5nKSxlLmVtaXR0ZWRSZWFkYWJsZT0hMCxyLm5leHRUaWNrKHEsdCkpfWZ1bmN0aW9uIHEodCl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlO18oXCJlbWl0UmVhZGFibGVfXCIsZS5kZXN0cm95ZWQsZS5sZW5ndGgsZS5lbmRlZCksZS5kZXN0cm95ZWR8fGUuZXJyb3JlZHx8IWUubGVuZ3RoJiYhZS5lbmRlZHx8KHQuZW1pdChcInJlYWRhYmxlXCIpLGUuZW1pdHRlZFJlYWRhYmxlPSExKSxlLm5lZWRSZWFkYWJsZT0hZS5mbG93aW5nJiYhZS5lbmRlZCYmZS5sZW5ndGg8PWUuaGlnaFdhdGVyTWFyayxLKHQpfWZ1bmN0aW9uIEgodCxlKXshZS5yZWFkaW5nTW9yZSYmZS5jb25zdHJ1Y3RlZCYmKGUucmVhZGluZ01vcmU9ITAsci5uZXh0VGljayhWLHQsZSkpfWZ1bmN0aW9uIFYodCxlKXtmb3IoOyFlLnJlYWRpbmcmJiFlLmVuZGVkJiYoZS5sZW5ndGg8ZS5oaWdoV2F0ZXJNYXJrfHxlLmZsb3dpbmcmJjA9PT1lLmxlbmd0aCk7KXtjb25zdCBuPWUubGVuZ3RoO2lmKF8oXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSx0LnJlYWQoMCksbj09PWUubGVuZ3RoKWJyZWFrfWUucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gRyh0KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7ZS5yZWFkYWJsZUxpc3RlbmluZz10Lmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKT4wLGUucmVzdW1lU2NoZWR1bGVkJiYhMT09PWVbT10/ZS5mbG93aW5nPSEwOnQubGlzdGVuZXJDb3VudChcImRhdGFcIik+MD90LnJlc3VtZSgpOmUucmVhZGFibGVMaXN0ZW5pbmd8fChlLmZsb3dpbmc9bnVsbCl9ZnVuY3Rpb24gSih0KXtfKFwicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwXCIpLHQucmVhZCgwKX1mdW5jdGlvbiBZKHQsZSl7XyhcInJlc3VtZVwiLGUucmVhZGluZyksZS5yZWFkaW5nfHx0LnJlYWQoMCksZS5yZXN1bWVTY2hlZHVsZWQ9ITEsdC5lbWl0KFwicmVzdW1lXCIpLEsodCksZS5mbG93aW5nJiYhZS5yZWFkaW5nJiZ0LnJlYWQoMCl9ZnVuY3Rpb24gSyh0KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7Zm9yKF8oXCJmbG93XCIsZS5mbG93aW5nKTtlLmZsb3dpbmcmJm51bGwhPT10LnJlYWQoKTspO31mdW5jdGlvbiBYKHQsZSl7XCJmdW5jdGlvblwiIT10eXBlb2YgdC5yZWFkJiYodD1XLndyYXAodCx7b2JqZWN0TW9kZTohMH0pKTtjb25zdCBuPWFzeW5jIGZ1bmN0aW9uKih0LGUpe2xldCBuLHI9TjtmdW5jdGlvbiBvKGUpe3RoaXM9PT10PyhyKCkscj1OKTpyPWV9dC5vbihcInJlYWRhYmxlXCIsbyk7Y29uc3QgaT13KHQse3dyaXRhYmxlOiExfSwodD0+e249dD9UKG4sdCk6bnVsbCxyKCkscj1OfSkpO3RyeXtmb3IoOzspe2NvbnN0IGU9dC5kZXN0cm95ZWQ/bnVsbDp0LnJlYWQoKTtpZihudWxsIT09ZSl5aWVsZCBlO2Vsc2V7aWYobil0aHJvdyBuO2lmKG51bGw9PT1uKXJldHVybjthd2FpdCBuZXcgZihvKX19fWNhdGNoKHQpe3Rocm93IG49VChuLHQpLG59ZmluYWxseXshbiYmITE9PT0obnVsbD09ZT92b2lkIDA6ZS5kZXN0cm95T25SZXR1cm4pfHx2b2lkIDAhPT1uJiYhdC5fcmVhZGFibGVTdGF0ZS5hdXRvRGVzdHJveT8odC5vZmYoXCJyZWFkYWJsZVwiLG8pLGkoKSk6Uy5kZXN0cm95ZXIodCxudWxsKX19KHQsZSk7cmV0dXJuIG4uc3RyZWFtPXQsbn1mdW5jdGlvbiBaKHQsZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiBudWxsO2xldCBuO3JldHVybiBlLm9iamVjdE1vZGU/bj1lLmJ1ZmZlci5zaGlmdCgpOiF0fHx0Pj1lLmxlbmd0aD8obj1lLmRlY29kZXI/ZS5idWZmZXIuam9pbihcIlwiKToxPT09ZS5idWZmZXIubGVuZ3RoP2UuYnVmZmVyLmZpcnN0KCk6ZS5idWZmZXIuY29uY2F0KGUubGVuZ3RoKSxlLmJ1ZmZlci5jbGVhcigpKTpuPWUuYnVmZmVyLmNvbnN1bWUodCxlLmRlY29kZXIpLG59ZnVuY3Rpb24gUSh0KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7XyhcImVuZFJlYWRhYmxlXCIsZS5lbmRFbWl0dGVkKSxlLmVuZEVtaXR0ZWR8fChlLmVuZGVkPSEwLHIubmV4dFRpY2sodHQsZSx0KSl9ZnVuY3Rpb24gdHQodCxlKXtpZihfKFwiZW5kUmVhZGFibGVOVFwiLHQuZW5kRW1pdHRlZCx0Lmxlbmd0aCksIXQuZXJyb3JlZCYmIXQuY2xvc2VFbWl0dGVkJiYhdC5lbmRFbWl0dGVkJiYwPT09dC5sZW5ndGgpaWYodC5lbmRFbWl0dGVkPSEwLGUuZW1pdChcImVuZFwiKSxlLndyaXRhYmxlJiYhMT09PWUuYWxsb3dIYWxmT3BlbilyLm5leHRUaWNrKGV0LGUpO2Vsc2UgaWYodC5hdXRvRGVzdHJveSl7Y29uc3QgdD1lLl93cml0YWJsZVN0YXRlOyghdHx8dC5hdXRvRGVzdHJveSYmKHQuZmluaXNoZWR8fCExPT09dC53cml0YWJsZSkpJiZlLmRlc3Ryb3koKX19ZnVuY3Rpb24gZXQodCl7dC53cml0YWJsZSYmIXQud3JpdGFibGVFbmRlZCYmIXQuZGVzdHJveWVkJiZ0LmVuZCgpfWxldCBudDtmdW5jdGlvbiBydCgpe3JldHVybiB2b2lkIDA9PT1udCYmKG50PXt9KSxudH1XLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe18oXCJyZWFkXCIsdCksdm9pZCAwPT09dD90PU5hTjppKHQpfHwodD1zKHQsMTApKTtjb25zdCBlPXRoaXMuX3JlYWRhYmxlU3RhdGUsbj10O2lmKHQ+ZS5oaWdoV2F0ZXJNYXJrJiYoZS5oaWdoV2F0ZXJNYXJrPWZ1bmN0aW9uKHQpe2lmKHQ+MTA3Mzc0MTgyNCl0aHJvdyBuZXcgQyhcInNpemVcIixcIjw9IDFHaUJcIix0KTtyZXR1cm4gdC0tLHR8PXQ+Pj4xLHR8PXQ+Pj4yLHR8PXQ+Pj40LHR8PXQ+Pj44LHR8PXQ+Pj4xNiwrK3R9KHQpKSwwIT09dCYmKGUuZW1pdHRlZFJlYWRhYmxlPSExKSwwPT09dCYmZS5uZWVkUmVhZGFibGUmJigoMCE9PWUuaGlnaFdhdGVyTWFyaz9lLmxlbmd0aD49ZS5oaWdoV2F0ZXJNYXJrOmUubGVuZ3RoPjApfHxlLmVuZGVkKSlyZXR1cm4gXyhcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLGUubGVuZ3RoLGUuZW5kZWQpLDA9PT1lLmxlbmd0aCYmZS5lbmRlZD9RKHRoaXMpOnoodGhpcyksbnVsbDtpZigwPT09KHQ9Rih0LGUpKSYmZS5lbmRlZClyZXR1cm4gMD09PWUubGVuZ3RoJiZRKHRoaXMpLG51bGw7bGV0IHIsbz1lLm5lZWRSZWFkYWJsZTtpZihfKFwibmVlZCByZWFkYWJsZVwiLG8pLCgwPT09ZS5sZW5ndGh8fGUubGVuZ3RoLXQ8ZS5oaWdoV2F0ZXJNYXJrKSYmKG89ITAsXyhcImxlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrXCIsbykpLGUuZW5kZWR8fGUucmVhZGluZ3x8ZS5kZXN0cm95ZWR8fGUuZXJyb3JlZHx8IWUuY29uc3RydWN0ZWQpbz0hMSxfKFwicmVhZGluZywgZW5kZWQgb3IgY29uc3RydWN0aW5nXCIsbyk7ZWxzZSBpZihvKXtfKFwiZG8gcmVhZFwiKSxlLnJlYWRpbmc9ITAsZS5zeW5jPSEwLDA9PT1lLmxlbmd0aCYmKGUubmVlZFJlYWRhYmxlPSEwKTt0cnl7dGhpcy5fcmVhZChlLmhpZ2hXYXRlck1hcmspfWNhdGNoKHQpe00odGhpcyx0KX1lLnN5bmM9ITEsZS5yZWFkaW5nfHwodD1GKG4sZSkpfXJldHVybiByPXQ+MD9aKHQsZSk6bnVsbCxudWxsPT09cj8oZS5uZWVkUmVhZGFibGU9ZS5sZW5ndGg8PWUuaGlnaFdhdGVyTWFyayx0PTApOihlLmxlbmd0aC09dCxlLm11bHRpQXdhaXREcmFpbj9lLmF3YWl0RHJhaW5Xcml0ZXJzLmNsZWFyKCk6ZS5hd2FpdERyYWluV3JpdGVycz1udWxsKSwwPT09ZS5sZW5ndGgmJihlLmVuZGVkfHwoZS5uZWVkUmVhZGFibGU9ITApLG4hPT10JiZlLmVuZGVkJiZRKHRoaXMpKSxudWxsPT09cnx8ZS5lcnJvckVtaXR0ZWR8fGUuY2xvc2VFbWl0dGVkfHwoZS5kYXRhRW1pdHRlZD0hMCx0aGlzLmVtaXQoXCJkYXRhXCIscikpLHJ9LFcucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyB4KFwiX3JlYWQoKVwiKX0sVy5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcyxvPXRoaXMuX3JlYWRhYmxlU3RhdGU7MT09PW8ucGlwZXMubGVuZ3RoJiYoby5tdWx0aUF3YWl0RHJhaW58fChvLm11bHRpQXdhaXREcmFpbj0hMCxvLmF3YWl0RHJhaW5Xcml0ZXJzPW5ldyBkKG8uYXdhaXREcmFpbldyaXRlcnM/W28uYXdhaXREcmFpbldyaXRlcnNdOltdKSkpLG8ucGlwZXMucHVzaCh0KSxfKFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsby5waXBlcy5sZW5ndGgsZSk7Y29uc3QgaT0oIWV8fCExIT09ZS5lbmQpJiZ0IT09ci5zdGRvdXQmJnQhPT1yLnN0ZGVycj9zOnk7ZnVuY3Rpb24gYShlLHIpe18oXCJvbnVucGlwZVwiKSxlPT09biYmciYmITE9PT1yLmhhc1VucGlwZWQmJihyLmhhc1VucGlwZWQ9ITAsZnVuY3Rpb24oKXtfKFwiY2xlYW51cFwiKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixwKSx0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZyksdSYmdC5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsdSk7dC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaCksdC5yZW1vdmVMaXN0ZW5lcihcInVucGlwZVwiLGEpLG4ucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixzKSxuLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIseSksbi5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixmKSxsPSEwLHUmJm8uYXdhaXREcmFpbldyaXRlcnMmJighdC5fd3JpdGFibGVTdGF0ZXx8dC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pJiZ1KCl9KCkpfWZ1bmN0aW9uIHMoKXtfKFwib25lbmRcIiksdC5lbmQoKX1sZXQgdTtvLmVuZEVtaXR0ZWQ/ci5uZXh0VGljayhpKTpuLm9uY2UoXCJlbmRcIixpKSx0Lm9uKFwidW5waXBlXCIsYSk7bGV0IGw9ITE7ZnVuY3Rpb24gYygpe2x8fCgxPT09by5waXBlcy5sZW5ndGgmJm8ucGlwZXNbMF09PT10PyhfKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsMCksby5hd2FpdERyYWluV3JpdGVycz10LG8ubXVsdGlBd2FpdERyYWluPSExKTpvLnBpcGVzLmxlbmd0aD4xJiZvLnBpcGVzLmluY2x1ZGVzKHQpJiYoXyhcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLG8uYXdhaXREcmFpbldyaXRlcnMuc2l6ZSksby5hd2FpdERyYWluV3JpdGVycy5hZGQodCkpLG4ucGF1c2UoKSksdXx8KHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBuPXQuX3JlYWRhYmxlU3RhdGU7bi5hd2FpdERyYWluV3JpdGVycz09PWU/KF8oXCJwaXBlT25EcmFpblwiLDEpLG4uYXdhaXREcmFpbldyaXRlcnM9bnVsbCk6bi5tdWx0aUF3YWl0RHJhaW4mJihfKFwicGlwZU9uRHJhaW5cIixuLmF3YWl0RHJhaW5Xcml0ZXJzLnNpemUpLG4uYXdhaXREcmFpbldyaXRlcnMuZGVsZXRlKGUpKSxuLmF3YWl0RHJhaW5Xcml0ZXJzJiYwIT09bi5hd2FpdERyYWluV3JpdGVycy5zaXplfHwhdC5saXN0ZW5lckNvdW50KFwiZGF0YVwiKXx8dC5yZXN1bWUoKX19KG4sdCksdC5vbihcImRyYWluXCIsdSkpfWZ1bmN0aW9uIGYoZSl7XyhcIm9uZGF0YVwiKTtjb25zdCBuPXQud3JpdGUoZSk7XyhcImRlc3Qud3JpdGVcIixuKSwhMT09PW4mJmMoKX1mdW5jdGlvbiBoKGUpe2lmKF8oXCJvbmVycm9yXCIsZSkseSgpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGgpLDA9PT10Lmxpc3RlbmVyQ291bnQoXCJlcnJvclwiKSl7Y29uc3Qgbj10Ll93cml0YWJsZVN0YXRlfHx0Ll9yZWFkYWJsZVN0YXRlO24mJiFuLmVycm9yRW1pdHRlZD9NKHQsZSk6dC5lbWl0KFwiZXJyb3JcIixlKX19ZnVuY3Rpb24gcCgpe3QucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixnKSx5KCl9ZnVuY3Rpb24gZygpe18oXCJvbmZpbmlzaFwiKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixwKSx5KCl9ZnVuY3Rpb24geSgpe18oXCJ1bnBpcGVcIiksbi51bnBpcGUodCl9cmV0dXJuIG4ub24oXCJkYXRhXCIsZiksbSh0LFwiZXJyb3JcIixoKSx0Lm9uY2UoXCJjbG9zZVwiLHApLHQub25jZShcImZpbmlzaFwiLGcpLHQuZW1pdChcInBpcGVcIixuKSwhMD09PXQud3JpdGFibGVOZWVkRHJhaW4/by5mbG93aW5nJiZjKCk6by5mbG93aW5nfHwoXyhcInBpcGUgcmVzdW1lXCIpLG4ucmVzdW1lKCkpLHR9LFcucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuX3JlYWRhYmxlU3RhdGU7aWYoMD09PWUucGlwZXMubGVuZ3RoKXJldHVybiB0aGlzO2lmKCF0KXtjb25zdCB0PWUucGlwZXM7ZS5waXBlcz1bXSx0aGlzLnBhdXNlKCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5lbWl0KFwidW5waXBlXCIsdGhpcyx7aGFzVW5waXBlZDohMX0pO3JldHVybiB0aGlzfWNvbnN0IG49byhlLnBpcGVzLHQpO3JldHVybi0xPT09bnx8KGUucGlwZXMuc3BsaWNlKG4sMSksMD09PWUucGlwZXMubGVuZ3RoJiZ0aGlzLnBhdXNlKCksdC5lbWl0KFwidW5waXBlXCIsdGhpcyx7aGFzVW5waXBlZDohMX0pKSx0aGlzfSxXLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe2NvbnN0IG49eS5wcm90b3R5cGUub24uY2FsbCh0aGlzLHQsZSksbz10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVyblwiZGF0YVwiPT09dD8oby5yZWFkYWJsZUxpc3RlbmluZz10aGlzLmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKT4wLCExIT09by5mbG93aW5nJiZ0aGlzLnJlc3VtZSgpKTpcInJlYWRhYmxlXCI9PT10JiYoby5lbmRFbWl0dGVkfHxvLnJlYWRhYmxlTGlzdGVuaW5nfHwoby5yZWFkYWJsZUxpc3RlbmluZz1vLm5lZWRSZWFkYWJsZT0hMCxvLmZsb3dpbmc9ITEsby5lbWl0dGVkUmVhZGFibGU9ITEsXyhcIm9uIHJlYWRhYmxlXCIsby5sZW5ndGgsby5yZWFkaW5nKSxvLmxlbmd0aD96KHRoaXMpOm8ucmVhZGluZ3x8ci5uZXh0VGljayhKLHRoaXMpKSksbn0sVy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9Vy5wcm90b3R5cGUub24sVy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcyx0LGUpO3JldHVyblwicmVhZGFibGVcIj09PXQmJnIubmV4dFRpY2soRyx0aGlzKSxufSxXLnByb3RvdHlwZS5vZmY9Vy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsVy5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9eS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm5cInJlYWRhYmxlXCIhPT10JiZ2b2lkIDAhPT10fHxyLm5leHRUaWNrKEcsdGhpcyksZX0sVy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiB0LmZsb3dpbmd8fChfKFwicmVzdW1lXCIpLHQuZmxvd2luZz0hdC5yZWFkYWJsZUxpc3RlbmluZyxmdW5jdGlvbih0LGUpe2UucmVzdW1lU2NoZWR1bGVkfHwoZS5yZXN1bWVTY2hlZHVsZWQ9ITAsci5uZXh0VGljayhZLHQsZSkpfSh0aGlzLHQpKSx0W09dPSExLHRoaXN9LFcucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIF8oXCJjYWxsIHBhdXNlIGZsb3dpbmc9JWpcIix0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpLCExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiYoXyhcInBhdXNlXCIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz0hMSx0aGlzLmVtaXQoXCJwYXVzZVwiKSksdGhpcy5fcmVhZGFibGVTdGF0ZVtPXT0hMCx0aGlzfSxXLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHQpe2xldCBlPSExO3Qub24oXCJkYXRhXCIsKG49PnshdGhpcy5wdXNoKG4pJiZ0LnBhdXNlJiYoZT0hMCx0LnBhdXNlKCkpfSkpLHQub24oXCJlbmRcIiwoKCk9Pnt0aGlzLnB1c2gobnVsbCl9KSksdC5vbihcImVycm9yXCIsKHQ9PntNKHRoaXMsdCl9KSksdC5vbihcImNsb3NlXCIsKCgpPT57dGhpcy5kZXN0cm95KCl9KSksdC5vbihcImRlc3Ryb3lcIiwoKCk9Pnt0aGlzLmRlc3Ryb3koKX0pKSx0aGlzLl9yZWFkPSgpPT57ZSYmdC5yZXN1bWUmJihlPSExLHQucmVzdW1lKCkpfTtjb25zdCBuPWwodCk7Zm9yKGxldCBlPTE7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHI9bltlXTt2b2lkIDA9PT10aGlzW3JdJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W3JdJiYodGhpc1tyXT10W3JdLmJpbmQodCkpfXJldHVybiB0aGlzfSxXLnByb3RvdHlwZVtoXT1mdW5jdGlvbigpe3JldHVybiBYKHRoaXMpfSxXLnByb3RvdHlwZS5pdGVyYXRvcj1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmTCh0LFwib3B0aW9uc1wiKSxYKHRoaXMsdCl9LHUoVy5wcm90b3R5cGUse3JlYWRhYmxlOntfX3Byb3RvX186bnVsbCxnZXQoKXtjb25zdCB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuISghdHx8ITE9PT10LnJlYWRhYmxlfHx0LmRlc3Ryb3llZHx8dC5lcnJvckVtaXR0ZWR8fHQuZW5kRW1pdHRlZCl9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hIXQpfX0scmVhZGFibGVEaWRSZWFkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRhdGFFbWl0dGVkfX0scmVhZGFibGVBYm9ydGVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiEoITE9PT10aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlfHwhdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJiF0aGlzLl9yZWFkYWJsZVN0YXRlLmVycm9yZWR8fHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCl9fSxyZWFkYWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319LHJlYWRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcn19LHJlYWRhYmxlRmxvd2luZzp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz10KX19LHJlYWRhYmxlTGVuZ3RoOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aH19LHJlYWRhYmxlT2JqZWN0TW9kZTp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4hIXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZX19LHJlYWRhYmxlRW5jb2Rpbmc6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZzpudWxsfX0sZXJyb3JlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmVycm9yZWQ6bnVsbH19LGNsb3NlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuISF0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmNsb3NlZH19LGRlc3Ryb3llZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4hIXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQodCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXQpfX0scmVhZGFibGVFbmRlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4hIXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZH19fSksdShQLnByb3RvdHlwZSx7cGlwZXNDb3VudDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMucGlwZXMubGVuZ3RofX0scGF1c2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hMSE9PXRoaXNbT119LHNldCh0KXt0aGlzW09dPSEhdH19fSksVy5fZnJvbUxpc3Q9WixXLmZyb209ZnVuY3Rpb24odCxlKXtyZXR1cm4gaihXLHQsZSl9LFcuZnJvbVdlYj1mdW5jdGlvbih0LGUpe3JldHVybiBydCgpLm5ld1N0cmVhbVJlYWRhYmxlRnJvbVJlYWRhYmxlU3RyZWFtKHQsZSl9LFcudG9XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcnQoKS5uZXdSZWFkYWJsZVN0cmVhbUZyb21TdHJlYW1SZWFkYWJsZSh0LGUpfSxXLndyYXA9ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVybiBuZXcgVyh7b2JqZWN0TW9kZTpudWxsPT09KG49bnVsbCE9PShyPXQucmVhZGFibGVPYmplY3RNb2RlKSYmdm9pZCAwIT09cj9yOnQub2JqZWN0TW9kZSl8fHZvaWQgMD09PW58fG4sLi4uZSxkZXN0cm95KGUsbil7Uy5kZXN0cm95ZXIodCxlKSxuKGUpfX0pLndyYXAodCl9fSw0OTg6KHQsZSxuKT0+e2NvbnN0e01hdGhGbG9vcjpyLE51bWJlcklzSW50ZWdlcjpvfT1uKDE5MSkse0VSUl9JTlZBTElEX0FSR19WQUxVRTppfT1uKDE0MSkuY29kZXM7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdD8xNjoxNjM4NH10LmV4cG9ydHM9e2dldEhpZ2hXYXRlck1hcms6ZnVuY3Rpb24odCxlLG4scyl7Y29uc3QgdT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG51bGwhPXQuaGlnaFdhdGVyTWFyaz90LmhpZ2hXYXRlck1hcms6ZT90W25dOm51bGx9KGUscyxuKTtpZihudWxsIT11KXtpZighbyh1KXx8dTwwKXt0aHJvdyBuZXcgaShzP2BvcHRpb25zLiR7bn1gOlwib3B0aW9ucy5oaWdoV2F0ZXJNYXJrXCIsdSl9cmV0dXJuIHIodSl9cmV0dXJuIGEodC5vYmplY3RNb2RlKX0sZ2V0RGVmYXVsdEhpZ2hXYXRlck1hcms6YX19LDIxMDoodCxlLG4pPT57Y29uc3R7T2JqZWN0U2V0UHJvdG90eXBlT2Y6cixTeW1ib2w6b309bigxOTEpO3QuZXhwb3J0cz1sO2NvbnN0e0VSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOml9PW4oMTQxKS5jb2RlcyxhPW4oMTgyKSx7Z2V0SGlnaFdhdGVyTWFyazpzfT1uKDQ5OCk7cihsLnByb3RvdHlwZSxhLnByb3RvdHlwZSkscihsLGEpO2NvbnN0IHU9byhcImtDYWxsYmFja1wiKTtmdW5jdGlvbiBsKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGwpKXJldHVybiBuZXcgbCh0KTtjb25zdCBlPXQ/cyh0aGlzLHQsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIiwhMCk6bnVsbDswPT09ZSYmKHQ9ey4uLnQsaGlnaFdhdGVyTWFyazpudWxsLHJlYWRhYmxlSGlnaFdhdGVyTWFyazplLHdyaXRhYmxlSGlnaFdhdGVyTWFyazp0LndyaXRhYmxlSGlnaFdhdGVyTWFya3x8MH0pLGEuY2FsbCh0aGlzLHQpLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSx0aGlzW3VdPW51bGwsdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJhbnNmb3JtJiYodGhpcy5fdHJhbnNmb3JtPXQudHJhbnNmb3JtKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZsdXNoJiYodGhpcy5fZmx1c2g9dC5mbHVzaCkpLHRoaXMub24oXCJwcmVmaW5pc2hcIixmKX1mdW5jdGlvbiBjKHQpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMuX2ZsdXNofHx0aGlzLmRlc3Ryb3llZD8odGhpcy5wdXNoKG51bGwpLHQmJnQoKSk6dGhpcy5fZmx1c2goKChlLG4pPT57ZT90P3QoZSk6dGhpcy5kZXN0cm95KGUpOihudWxsIT1uJiZ0aGlzLnB1c2gobiksdGhpcy5wdXNoKG51bGwpLHQmJnQoKSl9KSl9ZnVuY3Rpb24gZigpe3RoaXMuX2ZpbmFsIT09YyYmYy5jYWxsKHRoaXMpfWwucHJvdG90eXBlLl9maW5hbD1jLGwucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3Rocm93IG5ldyBpKFwiX3RyYW5zZm9ybSgpXCIpfSxsLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dGhpcy5fcmVhZGFibGVTdGF0ZSxvPXRoaXMuX3dyaXRhYmxlU3RhdGUsaT1yLmxlbmd0aDt0aGlzLl90cmFuc2Zvcm0odCxlLCgodCxlKT0+e3Q/bih0KToobnVsbCE9ZSYmdGhpcy5wdXNoKGUpLG8uZW5kZWR8fGk9PT1yLmxlbmd0aHx8ci5sZW5ndGg8ci5oaWdoV2F0ZXJNYXJrP24oKTp0aGlzW3VdPW4pfSkpfSxsLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe2lmKHRoaXNbdV0pe2NvbnN0IHQ9dGhpc1t1XTt0aGlzW3VdPW51bGwsdCgpfX19LDEzMjoodCxlLG4pPT57Y29uc3R7U3ltYm9sOnIsU3ltYm9sQXN5bmNJdGVyYXRvcjpvLFN5bWJvbEl0ZXJhdG9yOmksU3ltYm9sRm9yOmF9PW4oMTkxKSxzPXIoXCJrRGVzdHJveWVkXCIpLHU9cihcImtJc0Vycm9yZWRcIiksbD1yKFwia0lzUmVhZGFibGVcIiksYz1yKFwia0lzRGlzdHVyYmVkXCIpLGY9YShcIm5vZGVqcy53ZWJzdHJlYW0uaXNDbG9zZWRQcm9taXNlXCIpLGQ9YShcIm5vZGVqcy53ZWJzdHJlYW0uY29udHJvbGxlckVycm9yRnVuY3Rpb25cIik7ZnVuY3Rpb24gaCh0LGU9ITEpe3ZhciBuO3JldHVybiEoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucGlwZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5vbnx8ZSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucGF1c2V8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucmVzdW1lKXx8dC5fd3JpdGFibGVTdGF0ZSYmITE9PT0obnVsbD09PShuPXQuX3JlYWRhYmxlU3RhdGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlYWRhYmxlKXx8dC5fd3JpdGFibGVTdGF0ZSYmIXQuX3JlYWRhYmxlU3RhdGUpfWZ1bmN0aW9uIHAodCl7dmFyIGU7cmV0dXJuISghdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC53cml0ZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5vbnx8dC5fcmVhZGFibGVTdGF0ZSYmITE9PT0obnVsbD09PShlPXQuX3dyaXRhYmxlU3RhdGUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLndyaXRhYmxlKSl9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gdCYmKHQuX3JlYWRhYmxlU3RhdGV8fHQuX3dyaXRhYmxlU3RhdGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQud3JpdGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub258fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucGlwZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbil9ZnVuY3Rpb24geSh0KXtyZXR1cm4hKCF0fHxnKHQpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnBpcGVUaHJvdWdofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmdldFJlYWRlcnx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5jYW5jZWwpfWZ1bmN0aW9uIG0odCl7cmV0dXJuISghdHx8Zyh0KXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5nZXRXcml0ZXJ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuYWJvcnQpfWZ1bmN0aW9uIHYodCl7cmV0dXJuISghdHx8Zyh0KXx8XCJvYmplY3RcIiE9dHlwZW9mIHQucmVhZGFibGV8fFwib2JqZWN0XCIhPXR5cGVvZiB0LndyaXRhYmxlKX1mdW5jdGlvbiBiKHQpe2lmKCFnKHQpKXJldHVybiBudWxsO2NvbnN0IGU9dC5fd3JpdGFibGVTdGF0ZSxuPXQuX3JlYWRhYmxlU3RhdGUscj1lfHxuO3JldHVybiEhKHQuZGVzdHJveWVkfHx0W3NdfHxudWxsIT1yJiZyLmRlc3Ryb3llZCl9ZnVuY3Rpb24gdyh0KXtpZighcCh0KSlyZXR1cm4gbnVsbDtpZighMD09PXQud3JpdGFibGVFbmRlZClyZXR1cm4hMDtjb25zdCBlPXQuX3dyaXRhYmxlU3RhdGU7cmV0dXJuKG51bGw9PWV8fCFlLmVycm9yZWQpJiYoXCJib29sZWFuXCIhPXR5cGVvZihudWxsPT1lP3ZvaWQgMDplLmVuZGVkKT9udWxsOmUuZW5kZWQpfWZ1bmN0aW9uIF8odCxlKXtpZighaCh0KSlyZXR1cm4gbnVsbDtjb25zdCBuPXQuX3JlYWRhYmxlU3RhdGU7cmV0dXJuKG51bGw9PW58fCFuLmVycm9yZWQpJiYoXCJib29sZWFuXCIhPXR5cGVvZihudWxsPT1uP3ZvaWQgMDpuLmVuZEVtaXR0ZWQpP251bGw6ISEobi5lbmRFbWl0dGVkfHwhMT09PWUmJiEwPT09bi5lbmRlZCYmMD09PW4ubGVuZ3RoKSl9ZnVuY3Rpb24gRSh0KXtyZXR1cm4gdCYmbnVsbCE9dFtsXT90W2xdOlwiYm9vbGVhblwiIT10eXBlb2YobnVsbD09dD92b2lkIDA6dC5yZWFkYWJsZSk/bnVsbDohYih0KSYmKGgodCkmJnQucmVhZGFibGUmJiFfKHQpKX1mdW5jdGlvbiBTKHQpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YobnVsbD09dD92b2lkIDA6dC53cml0YWJsZSk/bnVsbDohYih0KSYmKHAodCkmJnQud3JpdGFibGUmJiF3KHQpKX1mdW5jdGlvbiBBKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdC5fY2xvc2VkJiZcImJvb2xlYW5cIj09dHlwZW9mIHQuX2RlZmF1bHRLZWVwQWxpdmUmJlwiYm9vbGVhblwiPT10eXBlb2YgdC5fcmVtb3ZlZENvbm5lY3Rpb24mJlwiYm9vbGVhblwiPT10eXBlb2YgdC5fcmVtb3ZlZENvbnRMZW59ZnVuY3Rpb24gSSh0KXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHQuX3NlbnQxMDAmJkEodCl9dC5leHBvcnRzPXtrRGVzdHJveWVkOnMsaXNEaXN0dXJiZWQ6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISghdHx8IShudWxsIT09KGU9dFtjXSkmJnZvaWQgMCE9PWU/ZTp0LnJlYWRhYmxlRGlkUmVhZHx8dC5yZWFkYWJsZUFib3J0ZWQpKX0sa0lzRGlzdHVyYmVkOmMsaXNFcnJvcmVkOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixvLGksYSxzLGwsYyxmO3JldHVybiEoIXR8fCEobnVsbCE9PShlPW51bGwhPT0obj1udWxsIT09KHI9bnVsbCE9PShvPW51bGwhPT0oaT1udWxsIT09KGE9dFt1XSkmJnZvaWQgMCE9PWE/YTp0LnJlYWRhYmxlRXJyb3JlZCkmJnZvaWQgMCE9PWk/aTp0LndyaXRhYmxlRXJyb3JlZCkmJnZvaWQgMCE9PW8/bzpudWxsPT09KHM9dC5fcmVhZGFibGVTdGF0ZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZXJyb3JFbWl0dGVkKSYmdm9pZCAwIT09cj9yOm51bGw9PT0obD10Ll93cml0YWJsZVN0YXRlKXx8dm9pZCAwPT09bD92b2lkIDA6bC5lcnJvckVtaXR0ZWQpJiZ2b2lkIDAhPT1uP246bnVsbD09PShjPXQuX3JlYWRhYmxlU3RhdGUpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmVycm9yZWQpJiZ2b2lkIDAhPT1lP2U6bnVsbD09PShmPXQuX3dyaXRhYmxlU3RhdGUpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLmVycm9yZWQpKX0sa0lzRXJyb3JlZDp1LGlzUmVhZGFibGU6RSxrSXNSZWFkYWJsZTpsLGtJc0Nsb3NlZFByb21pc2U6ZixrQ29udHJvbGxlckVycm9yRnVuY3Rpb246ZCxpc0Nsb3NlZDpmdW5jdGlvbih0KXtpZighZyh0KSlyZXR1cm4gbnVsbDtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQuY2xvc2VkKXJldHVybiB0LmNsb3NlZDtjb25zdCBlPXQuX3dyaXRhYmxlU3RhdGUsbj10Ll9yZWFkYWJsZVN0YXRlO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09ZT92b2lkIDA6ZS5jbG9zZWQpfHxcImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PW4/dm9pZCAwOm4uY2xvc2VkKT8obnVsbD09ZT92b2lkIDA6ZS5jbG9zZWQpfHwobnVsbD09bj92b2lkIDA6bi5jbG9zZWQpOlwiYm9vbGVhblwiPT10eXBlb2YgdC5fY2xvc2VkJiZBKHQpP3QuX2Nsb3NlZDpudWxsfSxpc0Rlc3Ryb3llZDpiLGlzRHVwbGV4Tm9kZVN0cmVhbTpmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnBpcGV8fCF0Ll9yZWFkYWJsZVN0YXRlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Lm9ufHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LndyaXRlKX0saXNGaW5pc2hlZDpmdW5jdGlvbih0LGUpe3JldHVybiBnKHQpPyEhYih0KXx8KCExPT09KG51bGw9PWU/dm9pZCAwOmUucmVhZGFibGUpfHwhRSh0KSkmJighMT09PShudWxsPT1lP3ZvaWQgMDplLndyaXRhYmxlKXx8IVModCkpOm51bGx9LGlzSXRlcmFibGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmKCEwPT09ZT9cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W29dOiExPT09ZT9cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2ldOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbb118fFwiZnVuY3Rpb25cIj09dHlwZW9mIHRbaV0pfSxpc1JlYWRhYmxlTm9kZVN0cmVhbTpoLGlzUmVhZGFibGVTdHJlYW06eSxpc1JlYWRhYmxlRW5kZWQ6ZnVuY3Rpb24odCl7aWYoIWgodCkpcmV0dXJuIG51bGw7aWYoITA9PT10LnJlYWRhYmxlRW5kZWQpcmV0dXJuITA7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlO3JldHVybiEoIWV8fGUuZXJyb3JlZCkmJihcImJvb2xlYW5cIiE9dHlwZW9mKG51bGw9PWU/dm9pZCAwOmUuZW5kZWQpP251bGw6ZS5lbmRlZCl9LGlzUmVhZGFibGVGaW5pc2hlZDpfLGlzUmVhZGFibGVFcnJvcmVkOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGcodCk/dC5yZWFkYWJsZUVycm9yZWQ/dC5yZWFkYWJsZUVycm9yZWQ6bnVsbCE9PShlPW51bGw9PT0obj10Ll9yZWFkYWJsZVN0YXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5lcnJvcmVkKSYmdm9pZCAwIT09ZT9lOm51bGw6bnVsbH0saXNOb2RlU3RyZWFtOmcsaXNXZWJTdHJlYW06ZnVuY3Rpb24odCl7cmV0dXJuIHkodCl8fG0odCl8fHYodCl9LGlzV3JpdGFibGU6Uyxpc1dyaXRhYmxlTm9kZVN0cmVhbTpwLGlzV3JpdGFibGVTdHJlYW06bSxpc1dyaXRhYmxlRW5kZWQ6dyxpc1dyaXRhYmxlRmluaXNoZWQ6ZnVuY3Rpb24odCxlKXtpZighcCh0KSlyZXR1cm4gbnVsbDtpZighMD09PXQud3JpdGFibGVGaW5pc2hlZClyZXR1cm4hMDtjb25zdCBuPXQuX3dyaXRhYmxlU3RhdGU7cmV0dXJuKG51bGw9PW58fCFuLmVycm9yZWQpJiYoXCJib29sZWFuXCIhPXR5cGVvZihudWxsPT1uP3ZvaWQgMDpuLmZpbmlzaGVkKT9udWxsOiEhKG4uZmluaXNoZWR8fCExPT09ZSYmITA9PT1uLmVuZGVkJiYwPT09bi5sZW5ndGgpKX0saXNXcml0YWJsZUVycm9yZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZyh0KT90LndyaXRhYmxlRXJyb3JlZD90LndyaXRhYmxlRXJyb3JlZDpudWxsIT09KGU9bnVsbD09PShuPXQuX3dyaXRhYmxlU3RhdGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmVycm9yZWQpJiZ2b2lkIDAhPT1lP2U6bnVsbDpudWxsfSxpc1NlcnZlclJlcXVlc3Q6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9jb25zdW1pbmcmJlwiYm9vbGVhblwiPT10eXBlb2YgdC5fZHVtcGVkJiZ2b2lkIDA9PT0obnVsbD09PShlPXQucmVxKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS51cGdyYWRlT3JDb25uZWN0KX0saXNTZXJ2ZXJSZXNwb25zZTpJLHdpbGxFbWl0Q2xvc2U6ZnVuY3Rpb24odCl7aWYoIWcodCkpcmV0dXJuIG51bGw7Y29uc3QgZT10Ll93cml0YWJsZVN0YXRlLG49dC5fcmVhZGFibGVTdGF0ZSxyPWV8fG47cmV0dXJuIXImJkkodCl8fCEhKHImJnIuYXV0b0Rlc3Ryb3kmJnIuZW1pdENsb3NlJiYhMT09PXIuY2xvc2VkKX0saXNUcmFuc2Zvcm1TdHJlYW06dn19LDM3MzoodCxlLG4pPT57Y29uc3Qgcj1uKDUzMykse0FycmF5UHJvdG90eXBlU2xpY2U6byxFcnJvcjppLEZ1bmN0aW9uUHJvdG90eXBlU3ltYm9sSGFzSW5zdGFuY2U6YSxPYmplY3REZWZpbmVQcm9wZXJ0eTpzLE9iamVjdERlZmluZVByb3BlcnRpZXM6dSxPYmplY3RTZXRQcm90b3R5cGVPZjpsLFN0cmluZ1Byb3RvdHlwZVRvTG93ZXJDYXNlOmMsU3ltYm9sOmYsU3ltYm9sSGFzSW5zdGFuY2U6ZH09bigxOTEpO3QuZXhwb3J0cz1VLFUuV3JpdGFibGVTdGF0ZT1MO2NvbnN0e0V2ZW50RW1pdHRlcjpofT1uKDQ2NSkscD1uKDIwMCkuU3RyZWFtLHtCdWZmZXI6Z309big0ODUpLHk9bigyMzApLHthZGRBYm9ydFNpZ25hbDptfT1uKDM3NCkse2dldEhpZ2hXYXRlck1hcms6dixnZXREZWZhdWx0SGlnaFdhdGVyTWFyazpifT1uKDQ5OCkse0VSUl9JTlZBTElEX0FSR19UWVBFOncsRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ6XyxFUlJfTVVMVElQTEVfQ0FMTEJBQ0s6RSxFUlJfU1RSRUFNX0NBTk5PVF9QSVBFOlMsRVJSX1NUUkVBTV9ERVNUUk9ZRUQ6QSxFUlJfU1RSRUFNX0FMUkVBRFlfRklOSVNIRUQ6SSxFUlJfU1RSRUFNX05VTExfVkFMVUVTOlQsRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQ6UixFUlJfVU5LTk9XTl9FTkNPRElORzp4fT1uKDE0MSkuY29kZXMse2Vycm9yT3JEZXN0cm95OkN9PXk7ZnVuY3Rpb24gQigpe31sKFUucHJvdG90eXBlLHAucHJvdG90eXBlKSxsKFUscCk7Y29uc3Qgaz1mKFwia09uRmluaXNoZWRcIik7ZnVuY3Rpb24gTCh0LGUscil7XCJib29sZWFuXCIhPXR5cGVvZiByJiYocj1lIGluc3RhbmNlb2YgbigxODIpKSx0aGlzLm9iamVjdE1vZGU9ISghdHx8IXQub2JqZWN0TW9kZSksciYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEoIXR8fCF0LndyaXRhYmxlT2JqZWN0TW9kZSkpLHRoaXMuaGlnaFdhdGVyTWFyaz10P3YodGhpcyx0LFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIscik6YighMSksdGhpcy5maW5hbENhbGxlZD0hMSx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITE7Y29uc3Qgbz0hKCF0fHwhMSE9PXQuZGVjb2RlU3RyaW5ncyk7dGhpcy5kZWNvZGVTdHJpbmdzPSFvLHRoaXMuZGVmYXVsdEVuY29kaW5nPXQmJnQuZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmxlbmd0aD0wLHRoaXMud3JpdGluZz0hMSx0aGlzLmNvcmtlZD0wLHRoaXMuc3luYz0hMCx0aGlzLmJ1ZmZlclByb2Nlc3Npbmc9ITEsdGhpcy5vbndyaXRlPVAuYmluZCh2b2lkIDAsZSksdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYWZ0ZXJXcml0ZVRpY2tJbmZvPW51bGwsTyh0aGlzKSx0aGlzLnBlbmRpbmdjYj0wLHRoaXMuY29uc3RydWN0ZWQ9ITAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hdHx8ITEhPT10LmVtaXRDbG9zZSx0aGlzLmF1dG9EZXN0cm95PSF0fHwhMSE9PXQuYXV0b0Rlc3Ryb3ksdGhpcy5lcnJvcmVkPW51bGwsdGhpcy5jbG9zZWQ9ITEsdGhpcy5jbG9zZUVtaXR0ZWQ9ITEsdGhpc1trXT1bXX1mdW5jdGlvbiBPKHQpe3QuYnVmZmVyZWQ9W10sdC5idWZmZXJlZEluZGV4PTAsdC5hbGxCdWZmZXJzPSEwLHQuYWxsTm9vcD0hMH1mdW5jdGlvbiBVKHQpe2NvbnN0IGU9dGhpcyBpbnN0YW5jZW9mIG4oMTgyKTtpZighZSYmIWEoVSx0aGlzKSlyZXR1cm4gbmV3IFUodCk7dGhpcy5fd3JpdGFibGVTdGF0ZT1uZXcgTCh0LHRoaXMsZSksdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQud3JpdGUmJih0aGlzLl93cml0ZT10LndyaXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LndyaXRldiYmKHRoaXMuX3dyaXRldj10LndyaXRldiksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95JiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZmluYWwmJih0aGlzLl9maW5hbD10LmZpbmFsKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdCYmKHRoaXMuX2NvbnN0cnVjdD10LmNvbnN0cnVjdCksdC5zaWduYWwmJm0odC5zaWduYWwsdGhpcykpLHAuY2FsbCh0aGlzLHQpLHkuY29uc3RydWN0KHRoaXMsKCgpPT57Y29uc3QgdD10aGlzLl93cml0YWJsZVN0YXRlO3Qud3JpdGluZ3x8Rih0aGlzLHQpLEgodGhpcyx0KX0pKX1mdW5jdGlvbiBqKHQsZSxuLG8pe2NvbnN0IGk9dC5fd3JpdGFibGVTdGF0ZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKW89bixuPWkuZGVmYXVsdEVuY29kaW5nO2Vsc2V7aWYobil7aWYoXCJidWZmZXJcIiE9PW4mJiFnLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IHgobil9ZWxzZSBuPWkuZGVmYXVsdEVuY29kaW5nO1wiZnVuY3Rpb25cIiE9dHlwZW9mIG8mJihvPUIpfWlmKG51bGw9PT1lKXRocm93IG5ldyBUO2lmKCFpLm9iamVjdE1vZGUpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpITEhPT1pLmRlY29kZVN0cmluZ3MmJihlPWcuZnJvbShlLG4pLG49XCJidWZmZXJcIik7ZWxzZSBpZihlIGluc3RhbmNlb2YgZyluPVwiYnVmZmVyXCI7ZWxzZXtpZighcC5faXNVaW50OEFycmF5KGUpKXRocm93IG5ldyB3KFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiLFwiVWludDhBcnJheVwiXSxlKTtlPXAuX3VpbnQ4QXJyYXlUb0J1ZmZlcihlKSxuPVwiYnVmZmVyXCJ9bGV0IGE7cmV0dXJuIGkuZW5kaW5nP2E9bmV3IFI6aS5kZXN0cm95ZWQmJihhPW5ldyBBKFwid3JpdGVcIikpLGE/KHIubmV4dFRpY2sobyxhKSxDKHQsYSwhMCksYSk6KGkucGVuZGluZ2NiKyssZnVuY3Rpb24odCxlLG4scixvKXtjb25zdCBpPWUub2JqZWN0TW9kZT8xOm4ubGVuZ3RoO2UubGVuZ3RoKz1pO2NvbnN0IGE9ZS5sZW5ndGg8ZS5oaWdoV2F0ZXJNYXJrO2F8fChlLm5lZWREcmFpbj0hMCk7ZS53cml0aW5nfHxlLmNvcmtlZHx8ZS5lcnJvcmVkfHwhZS5jb25zdHJ1Y3RlZD8oZS5idWZmZXJlZC5wdXNoKHtjaHVuazpuLGVuY29kaW5nOnIsY2FsbGJhY2s6b30pLGUuYWxsQnVmZmVycyYmXCJidWZmZXJcIiE9PXImJihlLmFsbEJ1ZmZlcnM9ITEpLGUuYWxsTm9vcCYmbyE9PUImJihlLmFsbE5vb3A9ITEpKTooZS53cml0ZWxlbj1pLGUud3JpdGVjYj1vLGUud3JpdGluZz0hMCxlLnN5bmM9ITAsdC5fd3JpdGUobixyLGUub253cml0ZSksZS5zeW5jPSExKTtyZXR1cm4gYSYmIWUuZXJyb3JlZCYmIWUuZGVzdHJveWVkfSh0LGksZSxuLG8pKX1mdW5jdGlvbiBOKHQsZSxuLHIsbyxpLGEpe2Uud3JpdGVsZW49cixlLndyaXRlY2I9YSxlLndyaXRpbmc9ITAsZS5zeW5jPSEwLGUuZGVzdHJveWVkP2Uub253cml0ZShuZXcgQShcIndyaXRlXCIpKTpuP3QuX3dyaXRldihvLGUub253cml0ZSk6dC5fd3JpdGUobyxpLGUub253cml0ZSksZS5zeW5jPSExfWZ1bmN0aW9uIE0odCxlLG4scil7LS1lLnBlbmRpbmdjYixyKG4pLEQoZSksQyh0LG4pfWZ1bmN0aW9uIFAodCxlKXtjb25zdCBuPXQuX3dyaXRhYmxlU3RhdGUsbz1uLnN5bmMsaT1uLndyaXRlY2I7XCJmdW5jdGlvblwiPT10eXBlb2YgaT8obi53cml0aW5nPSExLG4ud3JpdGVjYj1udWxsLG4ubGVuZ3RoLT1uLndyaXRlbGVuLG4ud3JpdGVsZW49MCxlPyhlLnN0YWNrLG4uZXJyb3JlZHx8KG4uZXJyb3JlZD1lKSx0Ll9yZWFkYWJsZVN0YXRlJiYhdC5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkJiYodC5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkPWUpLG8/ci5uZXh0VGljayhNLHQsbixlLGkpOk0odCxuLGUsaSkpOihuLmJ1ZmZlcmVkLmxlbmd0aD5uLmJ1ZmZlcmVkSW5kZXgmJkYodCxuKSxvP251bGwhPT1uLmFmdGVyV3JpdGVUaWNrSW5mbyYmbi5hZnRlcldyaXRlVGlja0luZm8uY2I9PT1pP24uYWZ0ZXJXcml0ZVRpY2tJbmZvLmNvdW50Kys6KG4uYWZ0ZXJXcml0ZVRpY2tJbmZvPXtjb3VudDoxLGNiOmksc3RyZWFtOnQsc3RhdGU6bn0sci5uZXh0VGljayhXLG4uYWZ0ZXJXcml0ZVRpY2tJbmZvKSk6JCh0LG4sMSxpKSkpOkModCxuZXcgRSl9ZnVuY3Rpb24gVyh7c3RyZWFtOnQsc3RhdGU6ZSxjb3VudDpuLGNiOnJ9KXtyZXR1cm4gZS5hZnRlcldyaXRlVGlja0luZm89bnVsbCwkKHQsZSxuLHIpfWZ1bmN0aW9uICQodCxlLG4scil7Zm9yKCFlLmVuZGluZyYmIXQuZGVzdHJveWVkJiYwPT09ZS5sZW5ndGgmJmUubmVlZERyYWluJiYoZS5uZWVkRHJhaW49ITEsdC5lbWl0KFwiZHJhaW5cIikpO24tLSA+MDspZS5wZW5kaW5nY2ItLSxyKCk7ZS5kZXN0cm95ZWQmJkQoZSksSCh0LGUpfWZ1bmN0aW9uIEQodCl7aWYodC53cml0aW5nKXJldHVybjtmb3IobGV0IG49dC5idWZmZXJlZEluZGV4O248dC5idWZmZXJlZC5sZW5ndGg7KytuKXt2YXIgZTtjb25zdHtjaHVuazpyLGNhbGxiYWNrOm99PXQuYnVmZmVyZWRbbl0saT10Lm9iamVjdE1vZGU/MTpyLmxlbmd0aDt0Lmxlbmd0aC09aSxvKG51bGwhPT0oZT10LmVycm9yZWQpJiZ2b2lkIDAhPT1lP2U6bmV3IEEoXCJ3cml0ZVwiKSl9Y29uc3Qgbj10W2tdLnNwbGljZSgwKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI7bltlXShudWxsIT09KHI9dC5lcnJvcmVkKSYmdm9pZCAwIT09cj9yOm5ldyBBKFwiZW5kXCIpKX1PKHQpfWZ1bmN0aW9uIEYodCxlKXtpZihlLmNvcmtlZHx8ZS5idWZmZXJQcm9jZXNzaW5nfHxlLmRlc3Ryb3llZHx8IWUuY29uc3RydWN0ZWQpcmV0dXJuO2NvbnN0e2J1ZmZlcmVkOm4sYnVmZmVyZWRJbmRleDpyLG9iamVjdE1vZGU6aX09ZSxhPW4ubGVuZ3RoLXI7aWYoIWEpcmV0dXJuO2xldCBzPXI7aWYoZS5idWZmZXJQcm9jZXNzaW5nPSEwLGE+MSYmdC5fd3JpdGV2KXtlLnBlbmRpbmdjYi09YS0xO2NvbnN0IHI9ZS5hbGxOb29wP0I6dD0+e2ZvcihsZXQgZT1zO2U8bi5sZW5ndGg7KytlKW5bZV0uY2FsbGJhY2sodCl9LGk9ZS5hbGxOb29wJiYwPT09cz9uOm8obixzKTtpLmFsbEJ1ZmZlcnM9ZS5hbGxCdWZmZXJzLE4odCxlLCEwLGUubGVuZ3RoLGksXCJcIixyKSxPKGUpfWVsc2V7ZG97Y29uc3R7Y2h1bms6cixlbmNvZGluZzpvLGNhbGxiYWNrOmF9PW5bc107bltzKytdPW51bGw7Tih0LGUsITEsaT8xOnIubGVuZ3RoLHIsbyxhKX13aGlsZShzPG4ubGVuZ3RoJiYhZS53cml0aW5nKTtzPT09bi5sZW5ndGg/TyhlKTpzPjI1Nj8obi5zcGxpY2UoMCxzKSxlLmJ1ZmZlcmVkSW5kZXg9MCk6ZS5idWZmZXJlZEluZGV4PXN9ZS5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIHoodCl7cmV0dXJuIHQuZW5kaW5nJiYhdC5kZXN0cm95ZWQmJnQuY29uc3RydWN0ZWQmJjA9PT10Lmxlbmd0aCYmIXQuZXJyb3JlZCYmMD09PXQuYnVmZmVyZWQubGVuZ3RoJiYhdC5maW5pc2hlZCYmIXQud3JpdGluZyYmIXQuZXJyb3JFbWl0dGVkJiYhdC5jbG9zZUVtaXR0ZWR9ZnVuY3Rpb24gcSh0LGUpe2UucHJlZmluaXNoZWR8fGUuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Ll9maW5hbHx8ZS5kZXN0cm95ZWQ/KGUucHJlZmluaXNoZWQ9ITAsdC5lbWl0KFwicHJlZmluaXNoXCIpKTooZS5maW5hbENhbGxlZD0hMCxmdW5jdGlvbih0LGUpe2xldCBuPSExO2Z1bmN0aW9uIG8obyl7aWYobilDKHQsbnVsbCE9bz9vOkUoKSk7ZWxzZSBpZihuPSEwLGUucGVuZGluZ2NiLS0sbyl7Y29uc3Qgbj1lW2tdLnNwbGljZSgwKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdKG8pO0ModCxvLGUuc3luYyl9ZWxzZSB6KGUpJiYoZS5wcmVmaW5pc2hlZD0hMCx0LmVtaXQoXCJwcmVmaW5pc2hcIiksZS5wZW5kaW5nY2IrKyxyLm5leHRUaWNrKFYsdCxlKSl9ZS5zeW5jPSEwLGUucGVuZGluZ2NiKys7dHJ5e3QuX2ZpbmFsKG8pfWNhdGNoKHQpe28odCl9ZS5zeW5jPSExfSh0LGUpKSl9ZnVuY3Rpb24gSCh0LGUsbil7eihlKSYmKHEodCxlKSwwPT09ZS5wZW5kaW5nY2ImJihuPyhlLnBlbmRpbmdjYisrLHIubmV4dFRpY2soKCh0LGUpPT57eihlKT9WKHQsZSk6ZS5wZW5kaW5nY2ItLX0pLHQsZSkpOnooZSkmJihlLnBlbmRpbmdjYisrLFYodCxlKSkpKX1mdW5jdGlvbiBWKHQsZSl7ZS5wZW5kaW5nY2ItLSxlLmZpbmlzaGVkPSEwO2NvbnN0IG49ZVtrXS5zcGxpY2UoMCk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XSgpO2lmKHQuZW1pdChcImZpbmlzaFwiKSxlLmF1dG9EZXN0cm95KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7KCFlfHxlLmF1dG9EZXN0cm95JiYoZS5lbmRFbWl0dGVkfHwhMT09PWUucmVhZGFibGUpKSYmdC5kZXN0cm95KCl9fUwucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMuYnVmZmVyZWQsdGhpcy5idWZmZXJlZEluZGV4KX0scyhMLnByb3RvdHlwZSxcImJ1ZmZlcmVkUmVxdWVzdENvdW50XCIse19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLmJ1ZmZlcmVkLmxlbmd0aC10aGlzLmJ1ZmZlcmVkSW5kZXh9fSkscyhVLGQse19fcHJvdG9fXzpudWxsLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEhYSh0aGlzLHQpfHx0aGlzPT09VSYmKHQmJnQuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiBMKX19KSxVLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7Qyh0aGlzLG5ldyBTKX0sVS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiEwPT09aih0aGlzLHQsZSxuKX0sVS5wcm90b3R5cGUuY29yaz1mdW5jdGlvbigpe3RoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkKyt9LFUucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTt0LmNvcmtlZCYmKHQuY29ya2VkLS0sdC53cml0aW5nfHxGKHRoaXMsdCkpfSxVLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2Rpbmc9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWModCkpLCFnLmlzRW5jb2RpbmcodCkpdGhyb3cgbmV3IHgodCk7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nPXQsdGhpc30sVS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKHQsZSxuKXtpZighdGhpcy5fd3JpdGV2KXRocm93IG5ldyBfKFwiX3dyaXRlKClcIik7dGhpcy5fd3JpdGV2KFt7Y2h1bms6dCxlbmNvZGluZzplfV0sbil9LFUucHJvdG90eXBlLl93cml0ZXY9bnVsbCxVLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IG89dGhpcy5fd3JpdGFibGVTdGF0ZTtsZXQgYTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhuPXQsdD1udWxsLGU9bnVsbCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKG49ZSxlPW51bGwpLG51bGwhPXQpe2NvbnN0IG49aih0aGlzLHQsZSk7biBpbnN0YW5jZW9mIGkmJihhPW4pfXJldHVybiBvLmNvcmtlZCYmKG8uY29ya2VkPTEsdGhpcy51bmNvcmsoKSksYXx8KG8uZXJyb3JlZHx8by5lbmRpbmc/by5maW5pc2hlZD9hPW5ldyBJKFwiZW5kXCIpOm8uZGVzdHJveWVkJiYoYT1uZXcgQShcImVuZFwiKSk6KG8uZW5kaW5nPSEwLEgodGhpcyxvLCEwKSxvLmVuZGVkPSEwKSksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKGF8fG8uZmluaXNoZWQ/ci5uZXh0VGljayhuLGEpOm9ba10ucHVzaChuKSksdGhpc30sdShVLnByb3RvdHlwZSx7Y2xvc2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hIXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuY2xvc2VkfX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hIXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQodCl7dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPXQpfX0sd3JpdGFibGU6e19fcHJvdG9fXzpudWxsLGdldCgpe2NvbnN0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm4hKCF0fHwhMT09PXQud3JpdGFibGV8fHQuZGVzdHJveWVkfHx0LmVycm9yZWR8fHQuZW5kaW5nfHx0LmVuZGVkKX0sc2V0KHQpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlPSEhdCl9fSx3cml0YWJsZUZpbmlzaGVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hIXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWR9fSx3cml0YWJsZU9iamVjdE1vZGU6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiEhdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5vYmplY3RNb2RlfX0sd3JpdGFibGVCdWZmZXI6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpfX0sd3JpdGFibGVFbmRlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuISF0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZ319LHdyaXRhYmxlTmVlZERyYWluOntfX3Byb3RvX186bnVsbCxnZXQoKXtjb25zdCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuISF0JiYoIXQuZGVzdHJveWVkJiYhdC5lbmRpbmcmJnQubmVlZERyYWluKX19LHdyaXRhYmxlSGlnaFdhdGVyTWFyazp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319LHdyaXRhYmxlQ29ya2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZDowfX0sd3JpdGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aH19LGVycm9yZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvcmVkOm51bGx9fSx3cml0YWJsZUFib3J0ZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuISghMT09PXRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGV8fCF0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCYmIXRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JlZHx8dGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCl9fX0pO2NvbnN0IEc9eS5kZXN0cm95O2xldCBKO2Z1bmN0aW9uIFkoKXtyZXR1cm4gdm9pZCAwPT09SiYmKEo9e30pLEp9VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm4hbi5kZXN0cm95ZWQmJihuLmJ1ZmZlcmVkSW5kZXg8bi5idWZmZXJlZC5sZW5ndGh8fG5ba10ubGVuZ3RoKSYmci5uZXh0VGljayhELG4pLEcuY2FsbCh0aGlzLHQsZSksdGhpc30sVS5wcm90b3R5cGUuX3VuZGVzdHJveT15LnVuZGVzdHJveSxVLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbih0LGUpe2UodCl9LFUucHJvdG90eXBlW2guY2FwdHVyZVJlamVjdGlvblN5bWJvbF09ZnVuY3Rpb24odCl7dGhpcy5kZXN0cm95KHQpfSxVLmZyb21XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWSgpLm5ld1N0cmVhbVdyaXRhYmxlRnJvbVdyaXRhYmxlU3RyZWFtKHQsZSl9LFUudG9XZWI9ZnVuY3Rpb24odCl7cmV0dXJuIFkoKS5uZXdXcml0YWJsZVN0cmVhbUZyb21TdHJlYW1Xcml0YWJsZSh0KX19LDkwNDoodCxlLG4pPT57Y29uc3R7QXJyYXlJc0FycmF5OnIsQXJyYXlQcm90b3R5cGVJbmNsdWRlczpvLEFycmF5UHJvdG90eXBlSm9pbjppLEFycmF5UHJvdG90eXBlTWFwOmEsTnVtYmVySXNJbnRlZ2VyOnMsTnVtYmVySXNOYU46dSxOdW1iZXJNQVhfU0FGRV9JTlRFR0VSOmwsTnVtYmVyTUlOX1NBRkVfSU5URUdFUjpjLE51bWJlclBhcnNlSW50OmYsT2JqZWN0UHJvdG90eXBlSGFzT3duUHJvcGVydHk6ZCxSZWdFeHBQcm90b3R5cGVFeGVjOmgsU3RyaW5nOnAsU3RyaW5nUHJvdG90eXBlVG9VcHBlckNhc2U6ZyxTdHJpbmdQcm90b3R5cGVUcmltOnl9PW4oMTkxKSx7aGlkZVN0YWNrRnJhbWVzOm0sY29kZXM6e0VSUl9TT0NLRVRfQkFEX1BPUlQ6dixFUlJfSU5WQUxJRF9BUkdfVFlQRTpiLEVSUl9JTlZBTElEX0FSR19WQUxVRTp3LEVSUl9PVVRfT0ZfUkFOR0U6XyxFUlJfVU5LTk9XTl9TSUdOQUw6RX19PW4oMTQxKSx7bm9ybWFsaXplRW5jb2Rpbmc6U309big3NzUpLHtpc0FzeW5jRnVuY3Rpb246QSxpc0FycmF5QnVmZmVyVmlldzpJfT1uKDc3NSkudHlwZXMsVD17fTtjb25zdCBSPS9eWzAtN10rJC87Y29uc3QgeD1tKCgodCxlLG49YyxyPWwpPT57aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcIm51bWJlclwiLHQpO2lmKCFzKHQpKXRocm93IG5ldyBfKGUsXCJhbiBpbnRlZ2VyXCIsdCk7aWYodDxufHx0PnIpdGhyb3cgbmV3IF8oZSxgPj0gJHtufSAmJiA8PSAke3J9YCx0KX0pKSxDPW0oKCh0LGUsbj0tMjE0NzQ4MzY0OCxyPTIxNDc0ODM2NDcpPT57aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcIm51bWJlclwiLHQpO2lmKCFzKHQpKXRocm93IG5ldyBfKGUsXCJhbiBpbnRlZ2VyXCIsdCk7aWYodDxufHx0PnIpdGhyb3cgbmV3IF8oZSxgPj0gJHtufSAmJiA8PSAke3J9YCx0KX0pKSxCPW0oKCh0LGUsbj0hMSk9PntpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwibnVtYmVyXCIsdCk7aWYoIXModCkpdGhyb3cgbmV3IF8oZSxcImFuIGludGVnZXJcIix0KTtjb25zdCByPW4/MTowLG89NDI5NDk2NzI5NTtpZih0PHJ8fHQ+byl0aHJvdyBuZXcgXyhlLGA+PSAke3J9ICYmIDw9ICR7b31gLHQpfSkpO2Z1bmN0aW9uIGsodCxlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwic3RyaW5nXCIsdCl9Y29uc3QgTD1tKCgodCxlLG4pPT57aWYoIW8obix0KSl7Y29uc3Qgcj1pKGEobiwodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/YCcke3R9J2A6cCh0KSkpLFwiLCBcIik7dGhyb3cgbmV3IHcoZSx0LFwibXVzdCBiZSBvbmUgb2Y6IFwiK3IpfX0pKTtmdW5jdGlvbiBPKHQsZSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJib29sZWFuXCIsdCl9ZnVuY3Rpb24gVSh0LGUsbil7cmV0dXJuIG51bGwhPXQmJmQodCxlKT90W2VdOm59Y29uc3Qgaj1tKCgodCxlLG49bnVsbCk9Pntjb25zdCBvPVUobixcImFsbG93QXJyYXlcIiwhMSksaT1VKG4sXCJhbGxvd0Z1bmN0aW9uXCIsITEpO2lmKCFVKG4sXCJudWxsYWJsZVwiLCExKSYmbnVsbD09PXR8fCFvJiZyKHQpfHxcIm9iamVjdFwiIT10eXBlb2YgdCYmKCFpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KSl0aHJvdyBuZXcgYihlLFwiT2JqZWN0XCIsdCl9KSksTj1tKCgodCxlKT0+e2lmKG51bGwhPXQmJlwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJhIGRpY3Rpb25hcnlcIix0KX0pKSxNPW0oKCh0LGUsbj0wKT0+e2lmKCFyKHQpKXRocm93IG5ldyBiKGUsXCJBcnJheVwiLHQpO2lmKHQubGVuZ3RoPG4pe3Rocm93IG5ldyB3KGUsdCxgbXVzdCBiZSBsb25nZXIgdGhhbiAke259YCl9fSkpO2NvbnN0IFA9bSgoKHQsZT1cImJ1ZmZlclwiKT0+e2lmKCFJKHQpKXRocm93IG5ldyBiKGUsW1wiQnVmZmVyXCIsXCJUeXBlZEFycmF5XCIsXCJEYXRhVmlld1wiXSx0KX0pKTtjb25zdCBXPW0oKCh0LGUpPT57aWYodm9pZCAwIT09dCYmKG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdHx8IShcImFib3J0ZWRcImluIHQpKSl0aHJvdyBuZXcgYihlLFwiQWJvcnRTaWduYWxcIix0KX0pKSwkPW0oKCh0LGUpPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwiRnVuY3Rpb25cIix0KX0pKSxEPW0oKCh0LGUpPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdHx8QSh0KSl0aHJvdyBuZXcgYihlLFwiRnVuY3Rpb25cIix0KX0pKSxGPW0oKCh0LGUpPT57aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgYihlLFwidW5kZWZpbmVkXCIsdCl9KSk7Y29uc3Qgej0vXig/OjxbXj5dKj4pKD86XFxzKjtcXHMqW147XCJcXHNdKyg/Oj0oXCIpP1teO1wiXFxzXSpcXDEpPykqJC87ZnVuY3Rpb24gcSh0LGUpe2lmKHZvaWQgMD09PXR8fCFoKHosdCkpdGhyb3cgbmV3IHcoZSx0LCdtdXN0IGJlIGFuIGFycmF5IG9yIHN0cmluZyBvZiBmb3JtYXQgXCI8L3N0eWxlcy5jc3M+OyByZWw9cHJlbG9hZDsgYXM9c3R5bGVcIicpfXQuZXhwb3J0cz17aXNJbnQzMjpmdW5jdGlvbih0KXtyZXR1cm4gdD09PSgwfHQpfSxpc1VpbnQzMjpmdW5jdGlvbih0KXtyZXR1cm4gdD09PXQ+Pj4wfSxwYXJzZUZpbGVNb2RlOmZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT10JiYodD1uKSxcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYobnVsbD09PWgoUix0KSl0aHJvdyBuZXcgdyhlLHQsXCJtdXN0IGJlIGEgMzItYml0IHVuc2lnbmVkIGludGVnZXIgb3IgYW4gb2N0YWwgc3RyaW5nXCIpO3Q9Zih0LDgpfXJldHVybiBCKHQsZSksdH0sdmFsaWRhdGVBcnJheTpNLHZhbGlkYXRlU3RyaW5nQXJyYXk6ZnVuY3Rpb24odCxlKXtNKHQsZSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspayh0W25dLGAke2V9WyR7bn1dYCl9LHZhbGlkYXRlQm9vbGVhbkFycmF5OmZ1bmN0aW9uKHQsZSl7TSh0LGUpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKU8odFtuXSxgJHtlfVske259XWApfSx2YWxpZGF0ZUJvb2xlYW46Tyx2YWxpZGF0ZUJ1ZmZlcjpQLHZhbGlkYXRlRGljdGlvbmFyeTpOLHZhbGlkYXRlRW5jb2Rpbmc6ZnVuY3Rpb24odCxlKXtjb25zdCBuPVMoZSkscj10Lmxlbmd0aDtpZihcImhleFwiPT09biYmciUyIT0wKXRocm93IG5ldyB3KFwiZW5jb2RpbmdcIixlLGBpcyBpbnZhbGlkIGZvciBkYXRhIG9mIGxlbmd0aCAke3J9YCl9LHZhbGlkYXRlRnVuY3Rpb246JCx2YWxpZGF0ZUludDMyOkMsdmFsaWRhdGVJbnRlZ2VyOngsdmFsaWRhdGVOdW1iZXI6ZnVuY3Rpb24odCxlLG49dm9pZCAwLHIpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJudW1iZXJcIix0KTtpZihudWxsIT1uJiZ0PG58fG51bGwhPXImJnQ+cnx8KG51bGwhPW58fG51bGwhPXIpJiZ1KHQpKXRocm93IG5ldyBfKGUsYCR7bnVsbCE9bj9gPj0gJHtufWA6XCJcIn0ke251bGwhPW4mJm51bGwhPXI/XCIgJiYgXCI6XCJcIn0ke251bGwhPXI/YDw9ICR7cn1gOlwiXCJ9YCx0KX0sdmFsaWRhdGVPYmplY3Q6aix2YWxpZGF0ZU9uZU9mOkwsdmFsaWRhdGVQbGFpbkZ1bmN0aW9uOkQsdmFsaWRhdGVQb3J0OmZ1bmN0aW9uKHQsZT1cIlBvcnRcIixuPSEwKXtpZihcIm51bWJlclwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIiE9dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiYwPT09eSh0KS5sZW5ndGh8fCt0IT0rdD4+PjB8fHQ+NjU1MzV8fDA9PT10JiYhbil0aHJvdyBuZXcgdihlLHQsbik7cmV0dXJuIDB8dH0sdmFsaWRhdGVTaWduYWxOYW1lOmZ1bmN0aW9uKHQsZT1cInNpZ25hbFwiKXtpZihrKHQsZSksdm9pZCAwPT09VFt0XSl7aWYodm9pZCAwIT09VFtnKHQpXSl0aHJvdyBuZXcgRSh0K1wiIChzaWduYWxzIG11c3QgdXNlIGFsbCBjYXBpdGFsIGxldHRlcnMpXCIpO3Rocm93IG5ldyBFKHQpfX0sdmFsaWRhdGVTdHJpbmc6ayx2YWxpZGF0ZVVpbnQzMjpCLHZhbGlkYXRlVW5kZWZpbmVkOkYsdmFsaWRhdGVVbmlvbjpmdW5jdGlvbih0LGUsbil7aWYoIW8obix0KSl0aHJvdyBuZXcgYihlLGAoJyR7aShuLFwifFwiKX0nKWAsdCl9LHZhbGlkYXRlQWJvcnRTaWduYWw6Vyx2YWxpZGF0ZUxpbmtIZWFkZXJWYWx1ZTpmdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gcSh0LFwiaGludHNcIiksdDtpZihyKHQpKXtjb25zdCBlPXQubGVuZ3RoO2xldCBuPVwiXCI7aWYoMD09PWUpcmV0dXJuIG47Zm9yKGxldCByPTA7cjxlO3IrKyl7Y29uc3Qgbz10W3JdO3EobyxcImhpbnRzXCIpLG4rPW8sciE9PWUtMSYmKG4rPVwiLCBcIil9cmV0dXJuIG59dGhyb3cgbmV3IHcoXCJoaW50c1wiLHQsJ211c3QgYmUgYW4gYXJyYXkgb3Igc3RyaW5nIG9mIGZvcm1hdCBcIjwvc3R5bGVzLmNzcz47IHJlbD1wcmVsb2FkOyBhcz1zdHlsZVwiJyl9fX0sOTk6KHQsZSxuKT0+e2NvbnN0IHI9bigyOTIpLG89big3NjApLGk9ci5SZWFkYWJsZS5kZXN0cm95O3QuZXhwb3J0cz1yLlJlYWRhYmxlLHQuZXhwb3J0cy5fdWludDhBcnJheVRvQnVmZmVyPXIuX3VpbnQ4QXJyYXlUb0J1ZmZlcix0LmV4cG9ydHMuX2lzVWludDhBcnJheT1yLl9pc1VpbnQ4QXJyYXksdC5leHBvcnRzLmlzRGlzdHVyYmVkPXIuaXNEaXN0dXJiZWQsdC5leHBvcnRzLmlzRXJyb3JlZD1yLmlzRXJyb3JlZCx0LmV4cG9ydHMuaXNSZWFkYWJsZT1yLmlzUmVhZGFibGUsdC5leHBvcnRzLlJlYWRhYmxlPXIuUmVhZGFibGUsdC5leHBvcnRzLldyaXRhYmxlPXIuV3JpdGFibGUsdC5leHBvcnRzLkR1cGxleD1yLkR1cGxleCx0LmV4cG9ydHMuVHJhbnNmb3JtPXIuVHJhbnNmb3JtLHQuZXhwb3J0cy5QYXNzVGhyb3VnaD1yLlBhc3NUaHJvdWdoLHQuZXhwb3J0cy5hZGRBYm9ydFNpZ25hbD1yLmFkZEFib3J0U2lnbmFsLHQuZXhwb3J0cy5maW5pc2hlZD1yLmZpbmlzaGVkLHQuZXhwb3J0cy5kZXN0cm95PXIuZGVzdHJveSx0LmV4cG9ydHMuZGVzdHJveT1pLHQuZXhwb3J0cy5waXBlbGluZT1yLnBpcGVsaW5lLHQuZXhwb3J0cy5jb21wb3NlPXIuY29tcG9zZSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInByb21pc2VzXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDooKT0+b30pLHQuZXhwb3J0cy5TdHJlYW09ci5TdHJlYW0sdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzfSwxNDE6KHQsZSxuKT0+e2NvbnN0e2Zvcm1hdDpyLGluc3BlY3Q6byxBZ2dyZWdhdGVFcnJvcjppfT1uKDc3NSksYT1nbG9iYWxUaGlzLkFnZ3JlZ2F0ZUVycm9yfHxpLHM9U3ltYm9sKFwia0lzTm9kZUVycm9yXCIpLHU9W1wic3RyaW5nXCIsXCJmdW5jdGlvblwiLFwibnVtYmVyXCIsXCJvYmplY3RcIixcIkZ1bmN0aW9uXCIsXCJPYmplY3RcIixcImJvb2xlYW5cIixcImJpZ2ludFwiLFwic3ltYm9sXCJdLGw9L14oW0EtWl1bYS16MC05XSopKyQvLGM9e307ZnVuY3Rpb24gZih0LGUpe2lmKCF0KXRocm93IG5ldyBjLkVSUl9JTlRFUk5BTF9BU1NFUlRJT04oZSl9ZnVuY3Rpb24gZCh0KXtsZXQgZT1cIlwiLG49dC5sZW5ndGg7Y29uc3Qgcj1cIi1cIj09PXRbMF0/MTowO2Zvcig7bj49cis0O24tPTMpZT1gXyR7dC5zbGljZShuLTMsbil9JHtlfWA7cmV0dXJuYCR7dC5zbGljZSgwLG4pfSR7ZX1gfWZ1bmN0aW9uIGgodCxlLG4pe258fChuPUVycm9yKTtjbGFzcyBOb2RlRXJyb3IgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKC4uLm4pe3N1cGVyKGZ1bmN0aW9uKHQsZSxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBmKGUubGVuZ3RoPD1uLmxlbmd0aCxgQ29kZTogJHt0fTsgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cyBsZW5ndGggKCR7bi5sZW5ndGh9KSBkb2VzIG5vdCBtYXRjaCB0aGUgcmVxdWlyZWQgb25lcyAoJHtlLmxlbmd0aH0pLmApLGUoLi4ubik7Y29uc3Qgbz0oZS5tYXRjaCgvJVtkZmlqb09zXS9nKXx8W10pLmxlbmd0aDtyZXR1cm4gZihvPT09bi5sZW5ndGgsYENvZGU6ICR7dH07IFRoZSBwcm92aWRlZCBhcmd1bWVudHMgbGVuZ3RoICgke24ubGVuZ3RofSkgZG9lcyBub3QgbWF0Y2ggdGhlIHJlcXVpcmVkIG9uZXMgKCR7b30pLmApLDA9PT1uLmxlbmd0aD9lOnIoZSwuLi5uKX0odCxlLG4pKX10b1N0cmluZygpe3JldHVybmAke3RoaXMubmFtZX0gWyR7dH1dOiAke3RoaXMubWVzc2FnZX1gfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhOb2RlRXJyb3IucHJvdG90eXBlLHtuYW1lOnt2YWx1ZTpuLm5hbWUsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9LHRvU3RyaW5nOnt2YWx1ZSgpe3JldHVybmAke3RoaXMubmFtZX0gWyR7dH1dOiAke3RoaXMubWVzc2FnZX1gfSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH19KSxOb2RlRXJyb3IucHJvdG90eXBlLmNvZGU9dCxOb2RlRXJyb3IucHJvdG90eXBlW3NdPSEwLGNbdF09Tm9kZUVycm9yfWZ1bmN0aW9uIHAodCl7Y29uc3QgZT1cIl9fbm9kZV9pbnRlcm5hbF9cIit0Lm5hbWU7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibmFtZVwiLHt2YWx1ZTplfSksdH1jbGFzcyBBYm9ydEVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodD1cIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWRcIixlPXZvaWQgMCl7aWYodm9pZCAwIT09ZSYmXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IGMuRVJSX0lOVkFMSURfQVJHX1RZUEUoXCJvcHRpb25zXCIsXCJPYmplY3RcIixlKTtzdXBlcih0LGUpLHRoaXMuY29kZT1cIkFCT1JUX0VSUlwiLHRoaXMubmFtZT1cIkFib3J0RXJyb3JcIn19aChcIkVSUl9BU1NFUlRJT05cIixcIiVzXCIsRXJyb3IpLGgoXCJFUlJfSU5WQUxJRF9BUkdfVFlQRVwiLCgodCxlLG4pPT57ZihcInN0cmluZ1wiPT10eXBlb2YgdCxcIiduYW1lJyBtdXN0IGJlIGEgc3RyaW5nXCIpLEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7bGV0IHI9XCJUaGUgXCI7dC5lbmRzV2l0aChcIiBhcmd1bWVudFwiKT9yKz1gJHt0fSBgOnIrPWBcIiR7dH1cIiAke3QuaW5jbHVkZXMoXCIuXCIpP1wicHJvcGVydHlcIjpcImFyZ3VtZW50XCJ9IGAscis9XCJtdXN0IGJlIFwiO2NvbnN0IGk9W10sYT1bXSxzPVtdO2Zvcihjb25zdCB0IG9mIGUpZihcInN0cmluZ1wiPT10eXBlb2YgdCxcIkFsbCBleHBlY3RlZCBlbnRyaWVzIGhhdmUgdG8gYmUgb2YgdHlwZSBzdHJpbmdcIiksdS5pbmNsdWRlcyh0KT9pLnB1c2godC50b0xvd2VyQ2FzZSgpKTpsLnRlc3QodCk/YS5wdXNoKHQpOihmKFwib2JqZWN0XCIhPT10LCdUaGUgdmFsdWUgXCJvYmplY3RcIiBzaG91bGQgYmUgd3JpdHRlbiBhcyBcIk9iamVjdFwiJykscy5wdXNoKHQpKTtpZihhLmxlbmd0aD4wKXtjb25zdCB0PWkuaW5kZXhPZihcIm9iamVjdFwiKTstMSE9PXQmJihpLnNwbGljZShpLHQsMSksYS5wdXNoKFwiT2JqZWN0XCIpKX1pZihpLmxlbmd0aD4wKXtzd2l0Y2goaS5sZW5ndGgpe2Nhc2UgMTpyKz1gb2YgdHlwZSAke2lbMF19YDticmVhaztjYXNlIDI6cis9YG9uZSBvZiB0eXBlICR7aVswXX0gb3IgJHtpWzFdfWA7YnJlYWs7ZGVmYXVsdDp7Y29uc3QgdD1pLnBvcCgpO3IrPWBvbmUgb2YgdHlwZSAke2kuam9pbihcIiwgXCIpfSwgb3IgJHt0fWB9fShhLmxlbmd0aD4wfHxzLmxlbmd0aD4wKSYmKHIrPVwiIG9yIFwiKX1pZihhLmxlbmd0aD4wKXtzd2l0Y2goYS5sZW5ndGgpe2Nhc2UgMTpyKz1gYW4gaW5zdGFuY2Ugb2YgJHthWzBdfWA7YnJlYWs7Y2FzZSAyOnIrPWBhbiBpbnN0YW5jZSBvZiAke2FbMF19IG9yICR7YVsxXX1gO2JyZWFrO2RlZmF1bHQ6e2NvbnN0IHQ9YS5wb3AoKTtyKz1gYW4gaW5zdGFuY2Ugb2YgJHthLmpvaW4oXCIsIFwiKX0sIG9yICR7dH1gfX1zLmxlbmd0aD4wJiYocis9XCIgb3IgXCIpfXN3aXRjaChzLmxlbmd0aCl7Y2FzZSAwOmJyZWFrO2Nhc2UgMTpzWzBdLnRvTG93ZXJDYXNlKCkhPT1zWzBdJiYocis9XCJhbiBcIikscis9YCR7c1swXX1gO2JyZWFrO2Nhc2UgMjpyKz1gb25lIG9mICR7c1swXX0gb3IgJHtzWzFdfWA7YnJlYWs7ZGVmYXVsdDp7Y29uc3QgdD1zLnBvcCgpO3IrPWBvbmUgb2YgJHtzLmpvaW4oXCIsIFwiKX0sIG9yICR7dH1gfX1pZihudWxsPT1uKXIrPWAuIFJlY2VpdmVkICR7bn1gO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbi5uYW1lKXIrPWAuIFJlY2VpdmVkIGZ1bmN0aW9uICR7bi5uYW1lfWA7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2Ygbil7dmFyIGM7aWYobnVsbCE9PShjPW4uY29uc3RydWN0b3IpJiZ2b2lkIDAhPT1jJiZjLm5hbWUpcis9YC4gUmVjZWl2ZWQgYW4gaW5zdGFuY2Ugb2YgJHtuLmNvbnN0cnVjdG9yLm5hbWV9YDtlbHNle3IrPWAuIFJlY2VpdmVkICR7byhuLHtkZXB0aDotMX0pfWB9fWVsc2V7bGV0IHQ9byhuLHtjb2xvcnM6ITF9KTt0Lmxlbmd0aD4yNSYmKHQ9YCR7dC5zbGljZSgwLDI1KX0uLi5gKSxyKz1gLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIG59ICgke3R9KWB9cmV0dXJuIHJ9KSxUeXBlRXJyb3IpLGgoXCJFUlJfSU5WQUxJRF9BUkdfVkFMVUVcIiwoKHQsZSxuPVwiaXMgaW52YWxpZFwiKT0+e2xldCByPW8oZSk7ci5sZW5ndGg+MTI4JiYocj1yLnNsaWNlKDAsMTI4KStcIi4uLlwiKTtyZXR1cm5gVGhlICR7dC5pbmNsdWRlcyhcIi5cIik/XCJwcm9wZXJ0eVwiOlwiYXJndW1lbnRcIn0gJyR7dH0nICR7bn0uIFJlY2VpdmVkICR7cn1gfSksVHlwZUVycm9yKSxoKFwiRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFXCIsKCh0LGUsbik9Pnt2YXIgcjtyZXR1cm5gRXhwZWN0ZWQgJHt0fSB0byBiZSByZXR1cm5lZCBmcm9tIHRoZSBcIiR7ZX1cIiBmdW5jdGlvbiBidXQgZ290ICR7bnVsbCE9biYmbnVsbCE9PShyPW4uY29uc3RydWN0b3IpJiZ2b2lkIDAhPT1yJiZyLm5hbWU/YGluc3RhbmNlIG9mICR7bi5jb25zdHJ1Y3Rvci5uYW1lfWA6XCJ0eXBlIFwiK3R5cGVvZiBufS5gfSksVHlwZUVycm9yKSxoKFwiRVJSX01JU1NJTkdfQVJHU1wiLCgoLi4udCk9PntsZXQgZTtmKHQubGVuZ3RoPjAsXCJBdCBsZWFzdCBvbmUgYXJnIG5lZWRzIHRvIGJlIHNwZWNpZmllZFwiKTtjb25zdCBuPXQubGVuZ3RoO3N3aXRjaCh0PShBcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5tYXAoKHQ9PmBcIiR7dH1cImApKS5qb2luKFwiIG9yIFwiKSxuKXtjYXNlIDE6ZSs9YFRoZSAke3RbMF19IGFyZ3VtZW50YDticmVhaztjYXNlIDI6ZSs9YFRoZSAke3RbMF19IGFuZCAke3RbMV19IGFyZ3VtZW50c2A7YnJlYWs7ZGVmYXVsdDp7Y29uc3Qgbj10LnBvcCgpO2UrPWBUaGUgJHt0LmpvaW4oXCIsIFwiKX0sIGFuZCAke259IGFyZ3VtZW50c2B9fXJldHVybmAke2V9IG11c3QgYmUgc3BlY2lmaWVkYH0pLFR5cGVFcnJvciksaChcIkVSUl9PVVRfT0ZfUkFOR0VcIiwoKHQsZSxuKT0+e2xldCByO3JldHVybiBmKGUsJ01pc3NpbmcgXCJyYW5nZVwiIGFyZ3VtZW50JyksTnVtYmVyLmlzSW50ZWdlcihuKSYmTWF0aC5hYnMobik+MioqMzI/cj1kKFN0cmluZyhuKSk6XCJiaWdpbnRcIj09dHlwZW9mIG4/KHI9U3RyaW5nKG4pLChuPjJuKiozMm58fG48LSgybioqMzJuKSkmJihyPWQocikpLHIrPVwiblwiKTpyPW8obiksYFRoZSB2YWx1ZSBvZiBcIiR7dH1cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgJHtlfS4gUmVjZWl2ZWQgJHtyfWB9KSxSYW5nZUVycm9yKSxoKFwiRVJSX01VTFRJUExFX0NBTExCQUNLXCIsXCJDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIixFcnJvciksaChcIkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEXCIsXCJUaGUgJXMgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZFwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9BTFJFQURZX0ZJTklTSEVEXCIsXCJDYW5ub3QgY2FsbCAlcyBhZnRlciBhIHN0cmVhbSB3YXMgZmluaXNoZWRcIixFcnJvciksaChcIkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEVcIixcIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGVcIixFcnJvciksaChcIkVSUl9TVFJFQU1fREVTVFJPWUVEXCIsXCJDYW5ub3QgY2FsbCAlcyBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkXCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX05VTExfVkFMVUVTXCIsXCJNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbVwiLFR5cGVFcnJvciksaChcIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIsXCJQcmVtYXR1cmUgY2xvc2VcIixFcnJvciksaChcIkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0ZcIixcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UXCIsXCJzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudFwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIixcIndyaXRlIGFmdGVyIGVuZFwiLEVycm9yKSxoKFwiRVJSX1VOS05PV05fRU5DT0RJTkdcIixcIlVua25vd24gZW5jb2Rpbmc6ICVzXCIsVHlwZUVycm9yKSx0LmV4cG9ydHM9e0Fib3J0RXJyb3IsYWdncmVnYXRlVHdvRXJyb3JzOnAoKGZ1bmN0aW9uKHQsZSl7aWYodCYmZSYmdCE9PWUpe2lmKEFycmF5LmlzQXJyYXkoZS5lcnJvcnMpKXJldHVybiBlLmVycm9ycy5wdXNoKHQpLGU7Y29uc3Qgbj1uZXcgYShbZSx0XSxlLm1lc3NhZ2UpO3JldHVybiBuLmNvZGU9ZS5jb2RlLG59cmV0dXJuIHR8fGV9KSksaGlkZVN0YWNrRnJhbWVzOnAsY29kZXM6Y319LDE5MTp0PT57dC5leHBvcnRzPXtBcnJheUlzQXJyYXk6dD0+QXJyYXkuaXNBcnJheSh0KSxBcnJheVByb3RvdHlwZUluY2x1ZGVzOih0LGUpPT50LmluY2x1ZGVzKGUpLEFycmF5UHJvdG90eXBlSW5kZXhPZjoodCxlKT0+dC5pbmRleE9mKGUpLEFycmF5UHJvdG90eXBlSm9pbjoodCxlKT0+dC5qb2luKGUpLEFycmF5UHJvdG90eXBlTWFwOih0LGUpPT50Lm1hcChlKSxBcnJheVByb3RvdHlwZVBvcDoodCxlKT0+dC5wb3AoZSksQXJyYXlQcm90b3R5cGVQdXNoOih0LGUpPT50LnB1c2goZSksQXJyYXlQcm90b3R5cGVTbGljZToodCxlLG4pPT50LnNsaWNlKGUsbiksRXJyb3IsRnVuY3Rpb25Qcm90b3R5cGVDYWxsOih0LGUsLi4ubik9PnQuY2FsbChlLC4uLm4pLEZ1bmN0aW9uUHJvdG90eXBlU3ltYm9sSGFzSW5zdGFuY2U6KHQsZSk9PkZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLmNhbGwodCxlKSxNYXRoRmxvb3I6TWF0aC5mbG9vcixOdW1iZXIsTnVtYmVySXNJbnRlZ2VyOk51bWJlci5pc0ludGVnZXIsTnVtYmVySXNOYU46TnVtYmVyLmlzTmFOLE51bWJlck1BWF9TQUZFX0lOVEVHRVI6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsTnVtYmVyTUlOX1NBRkVfSU5URUdFUjpOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixOdW1iZXJQYXJzZUludDpOdW1iZXIucGFyc2VJbnQsT2JqZWN0RGVmaW5lUHJvcGVydGllczoodCxlKT0+T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxlKSxPYmplY3REZWZpbmVQcm9wZXJ0eToodCxlLG4pPT5PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLG4pLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjoodCxlKT0+T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLE9iamVjdEtleXM6dD0+T2JqZWN0LmtleXModCksT2JqZWN0U2V0UHJvdG90eXBlT2Y6KHQsZSk9Pk9iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpLFByb21pc2UsUHJvbWlzZVByb3RvdHlwZUNhdGNoOih0LGUpPT50LmNhdGNoKGUpLFByb21pc2VQcm90b3R5cGVUaGVuOih0LGUsbik9PnQudGhlbihlLG4pLFByb21pc2VSZWplY3Q6dD0+UHJvbWlzZS5yZWplY3QodCksUmVmbGVjdEFwcGx5OlJlZmxlY3QuYXBwbHksUmVnRXhwUHJvdG90eXBlVGVzdDoodCxlKT0+dC50ZXN0KGUpLFNhZmVTZXQ6U2V0LFN0cmluZyxTdHJpbmdQcm90b3R5cGVTbGljZToodCxlLG4pPT50LnNsaWNlKGUsbiksU3RyaW5nUHJvdG90eXBlVG9Mb3dlckNhc2U6dD0+dC50b0xvd2VyQ2FzZSgpLFN0cmluZ1Byb3RvdHlwZVRvVXBwZXJDYXNlOnQ9PnQudG9VcHBlckNhc2UoKSxTdHJpbmdQcm90b3R5cGVUcmltOnQ9PnQudHJpbSgpLFN5bWJvbCxTeW1ib2xGb3I6U3ltYm9sLmZvcixTeW1ib2xBc3luY0l0ZXJhdG9yOlN5bWJvbC5hc3luY0l0ZXJhdG9yLFN5bWJvbEhhc0luc3RhbmNlOlN5bWJvbC5oYXNJbnN0YW5jZSxTeW1ib2xJdGVyYXRvcjpTeW1ib2wuaXRlcmF0b3IsVHlwZWRBcnJheVByb3RvdHlwZVNldDoodCxlLG4pPT50LnNldChlLG4pLFVpbnQ4QXJyYXl9fSw3NzU6KHQsZSxuKT0+e2NvbnN0IHI9big0ODUpLG89T2JqZWN0LmdldFByb3RvdHlwZU9mKChhc3luYyBmdW5jdGlvbigpe30pKS5jb25zdHJ1Y3RvcixpPWdsb2JhbFRoaXMuQmxvYnx8ci5CbG9iLGE9dm9pZCAwIT09aT9mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGl9OmZ1bmN0aW9uKHQpe3JldHVybiExfTtjbGFzcyBBZ2dyZWdhdGVFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBpbnB1dCB0byBiZSBhbiBBcnJheSwgZ290IFwiK3R5cGVvZiB0KTtsZXQgZT1cIlwiO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPWAgICAgJHt0W25dLnN0YWNrfVxcbmA7c3VwZXIoZSksdGhpcy5uYW1lPVwiQWdncmVnYXRlRXJyb3JcIix0aGlzLmVycm9ycz10fX10LmV4cG9ydHM9e0FnZ3JlZ2F0ZUVycm9yLGtFbXB0eU9iamVjdDpPYmplY3QuZnJlZXplKHt9KSxvbmNlKHQpe2xldCBlPSExO3JldHVybiBmdW5jdGlvbiguLi5uKXtlfHwoZT0hMCx0LmFwcGx5KHRoaXMsbikpfX0sY3JlYXRlRGVmZXJyZWRQcm9taXNlOmZ1bmN0aW9uKCl7bGV0IHQsZTtyZXR1cm57cHJvbWlzZTpuZXcgUHJvbWlzZSgoKG4scik9Pnt0PW4sZT1yfSkpLHJlc29sdmU6dCxyZWplY3Q6ZX19LHByb21pc2lmeTp0PT5uZXcgUHJvbWlzZSgoKGUsbik9Pnt0KCgodCwuLi5yKT0+dD9uKHQpOmUoLi4ucikpKX0pKSxkZWJ1Z2xvZzooKT0+ZnVuY3Rpb24oKXt9LGZvcm1hdDoodCwuLi5lKT0+dC5yZXBsYWNlKC8lKFtzZGlmal0pL2csKGZ1bmN0aW9uKC4uLlt0LG5dKXtjb25zdCByPWUuc2hpZnQoKTtpZihcImZcIj09PW4pcmV0dXJuIHIudG9GaXhlZCg2KTtpZihcImpcIj09PW4pcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpO2lmKFwic1wiPT09biYmXCJvYmplY3RcIj09dHlwZW9mIHIpe3JldHVybmAke3IuY29uc3RydWN0b3IhPT1PYmplY3Q/ci5jb25zdHJ1Y3Rvci5uYW1lOlwiXCJ9IHt9YC50cmltKCl9cmV0dXJuIHIudG9TdHJpbmcoKX0pKSxpbnNwZWN0KHQpe3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwic3RyaW5nXCI6aWYodC5pbmNsdWRlcyhcIidcIikpe2lmKCF0LmluY2x1ZGVzKCdcIicpKXJldHVybmBcIiR7dH1cImA7aWYoIXQuaW5jbHVkZXMoXCJgXCIpJiYhdC5pbmNsdWRlcyhcIiR7XCIpKXJldHVybmBcXGAke3R9XFxgYH1yZXR1cm5gJyR7dH0nYDtjYXNlXCJudW1iZXJcIjpyZXR1cm4gaXNOYU4odCk/XCJOYU5cIjpPYmplY3QuaXModCwtMCk/U3RyaW5nKHQpOnQ7Y2FzZVwiYmlnaW50XCI6cmV0dXJuYCR7U3RyaW5nKHQpfW5gO2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gU3RyaW5nKHQpO2Nhc2VcIm9iamVjdFwiOnJldHVyblwie31cIn19LHR5cGVzOntpc0FzeW5jRnVuY3Rpb246dD0+dCBpbnN0YW5jZW9mIG8saXNBcnJheUJ1ZmZlclZpZXc6dD0+QXJyYXlCdWZmZXIuaXNWaWV3KHQpfSxpc0Jsb2I6YX0sdC5leHBvcnRzLnByb21pc2lmeS5jdXN0b209U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLnByb21pc2lmeS5jdXN0b21cIil9LDI5MjoodCxlLG4pPT57Y29uc3R7QnVmZmVyOnJ9PW4oNDg1KSx7T2JqZWN0RGVmaW5lUHJvcGVydHk6byxPYmplY3RLZXlzOmksUmVmbGVjdEFwcGx5OmF9PW4oMTkxKSx7cHJvbWlzaWZ5OntjdXN0b206c319PW4oNzc1KSx7c3RyZWFtUmV0dXJuaW5nT3BlcmF0b3JzOnUscHJvbWlzZVJldHVybmluZ09wZXJhdG9yczpsfT1uKDU1NCkse2NvZGVzOntFUlJfSUxMRUdBTF9DT05TVFJVQ1RPUjpjfX09bigxNDEpLGY9big4MTgpLHtwaXBlbGluZTpkfT1uKDc1NCkse2Rlc3Ryb3llcjpofT1uKDIzMCkscD1uKDg2KSxnPW4oNzYwKSx5PW4oMTMyKSxtPXQuZXhwb3J0cz1uKDIwMCkuU3RyZWFtO20uaXNEaXN0dXJiZWQ9eS5pc0Rpc3R1cmJlZCxtLmlzRXJyb3JlZD15LmlzRXJyb3JlZCxtLmlzUmVhZGFibGU9eS5pc1JlYWRhYmxlLG0uUmVhZGFibGU9big4NTgpO2Zvcihjb25zdCB3IG9mIGkodSkpe2NvbnN0IF89dVt3XTtmdW5jdGlvbiB2KC4uLnQpe2lmKG5ldy50YXJnZXQpdGhyb3cgYygpO3JldHVybiBtLlJlYWRhYmxlLmZyb20oYShfLHRoaXMsdCkpfW8odixcIm5hbWVcIix7X19wcm90b19fOm51bGwsdmFsdWU6Xy5uYW1lfSksbyh2LFwibGVuZ3RoXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOl8ubGVuZ3RofSksbyhtLlJlYWRhYmxlLnByb3RvdHlwZSx3LHtfX3Byb3RvX186bnVsbCx2YWx1ZTp2LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSl9Zm9yKGNvbnN0IEUgb2YgaShsKSl7Y29uc3QgUz1sW0VdO2Z1bmN0aW9uIHYoLi4udCl7aWYobmV3LnRhcmdldCl0aHJvdyBjKCk7cmV0dXJuIGEoUyx0aGlzLHQpfW8odixcIm5hbWVcIix7X19wcm90b19fOm51bGwsdmFsdWU6Uy5uYW1lfSksbyh2LFwibGVuZ3RoXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOlMubGVuZ3RofSksbyhtLlJlYWRhYmxlLnByb3RvdHlwZSxFLHtfX3Byb3RvX186bnVsbCx2YWx1ZTp2LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSl9bS5Xcml0YWJsZT1uKDM3MyksbS5EdXBsZXg9bigxODIpLG0uVHJhbnNmb3JtPW4oMjEwKSxtLlBhc3NUaHJvdWdoPW4oNDY3KSxtLnBpcGVsaW5lPWQ7Y29uc3R7YWRkQWJvcnRTaWduYWw6Yn09bigzNzQpO20uYWRkQWJvcnRTaWduYWw9YixtLmZpbmlzaGVkPXAsbS5kZXN0cm95PWgsbS5jb21wb3NlPWYsbyhtLFwicHJvbWlzZXNcIix7X19wcm90b19fOm51bGwsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OigpPT5nfSksbyhkLHMse19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITAsZ2V0OigpPT5nLnBpcGVsaW5lfSksbyhwLHMse19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITAsZ2V0OigpPT5nLmZpbmlzaGVkfSksbS5TdHJlYW09bSxtLl9pc1VpbnQ4QXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fSxtLl91aW50OEFycmF5VG9CdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHIuZnJvbSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX19LDc2MDoodCxlLG4pPT57Y29uc3R7QXJyYXlQcm90b3R5cGVQb3A6cixQcm9taXNlOm99PW4oMTkxKSx7aXNJdGVyYWJsZTppLGlzTm9kZVN0cmVhbTphLGlzV2ViU3RyZWFtOnN9PW4oMTMyKSx7cGlwZWxpbmVJbXBsOnV9PW4oNzU0KSx7ZmluaXNoZWQ6bH09big4Nik7big5MSksdC5leHBvcnRzPXtmaW5pc2hlZDpsLHBpcGVsaW5lOmZ1bmN0aW9uKC4uLnQpe3JldHVybiBuZXcgbygoKGUsbik9PntsZXQgbyxsO2NvbnN0IGM9dFt0Lmxlbmd0aC0xXTtpZihjJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmIWEoYykmJiFpKGMpJiYhcyhjKSl7Y29uc3QgZT1yKHQpO289ZS5zaWduYWwsbD1lLmVuZH11KHQsKCh0LHIpPT57dD9uKHQpOmUocil9KSx7c2lnbmFsOm8sZW5kOmx9KX0pKX19fSw1MzM6dD0+e3ZhciBlLG4scj10LmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKHQpe2lmKGU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKGU9PT1vfHwhZSkmJnNldFRpbWVvdXQpcmV0dXJuIGU9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBlKHQsMCl9Y2F0Y2gobil7dHJ5e3JldHVybiBlLmNhbGwobnVsbCx0LDApfWNhdGNoKG4pe3JldHVybiBlLmNhbGwodGhpcyx0LDApfX19IWZ1bmN0aW9uKCl7dHJ5e2U9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2godCl7ZT1vfXRyeXtuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6aX1jYXRjaCh0KXtuPWl9fSgpO3ZhciBzLHU9W10sbD0hMSxjPS0xO2Z1bmN0aW9uIGYoKXtsJiZzJiYobD0hMSxzLmxlbmd0aD91PXMuY29uY2F0KHUpOmM9LTEsdS5sZW5ndGgmJmQoKSl9ZnVuY3Rpb24gZCgpe2lmKCFsKXt2YXIgdD1hKGYpO2w9ITA7Zm9yKHZhciBlPXUubGVuZ3RoO2U7KXtmb3Iocz11LHU9W107KytjPGU7KXMmJnNbY10ucnVuKCk7Yz0tMSxlPXUubGVuZ3RofXM9bnVsbCxsPSExLGZ1bmN0aW9uKHQpe2lmKG49PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigobj09PWl8fCFuKSYmY2xlYXJUaW1lb3V0KXJldHVybiBuPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3JldHVybiBuKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIG4uY2FsbCh0aGlzLHQpfX19KHQpfX1mdW5jdGlvbiBoKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gcCgpe31yLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07dS5wdXNoKG5ldyBoKHQsZSkpLDEhPT11Lmxlbmd0aHx8bHx8YShkKX0saC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sci50aXRsZT1cImJyb3dzZXJcIixyLmJyb3dzZXI9ITAsci5lbnY9e30sci5hcmd2PVtdLHIudmVyc2lvbj1cIlwiLHIudmVyc2lvbnM9e30sci5vbj1wLHIuYWRkTGlzdGVuZXI9cCxyLm9uY2U9cCxyLm9mZj1wLHIucmVtb3ZlTGlzdGVuZXI9cCxyLnJlbW92ZUFsbExpc3RlbmVycz1wLHIuZW1pdD1wLHIucHJlcGVuZExpc3RlbmVyPXAsci5wcmVwZW5kT25jZUxpc3RlbmVyPXAsci5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuW119LHIuYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sci5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sci5jaGRpcj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHIudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LDM3NzoodCxlLG4pPT57dmFyIHI9big0ODUpLG89ci5CdWZmZXI7ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXX1mdW5jdGlvbiBhKHQsZSxuKXtyZXR1cm4gbyh0LGUsbil9by5mcm9tJiZvLmFsbG9jJiZvLmFsbG9jVW5zYWZlJiZvLmFsbG9jVW5zYWZlU2xvdz90LmV4cG9ydHM9cjooaShyLGUpLGUuQnVmZmVyPWEpLGkobyxhKSxhLmZyb209ZnVuY3Rpb24odCxlLG4pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gbyh0LGUsbil9LGEuYWxsb2M9ZnVuY3Rpb24odCxlLG4pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3ZhciByPW8odCk7cmV0dXJuIHZvaWQgMCE9PWU/XCJzdHJpbmdcIj09dHlwZW9mIG4/ci5maWxsKGUsbik6ci5maWxsKGUpOnIuZmlsbCgwKSxyfSxhLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBvKHQpfSxhLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gci5TbG93QnVmZmVyKHQpfX0sNDY0Oih0LGUsbik9Pnt2YXIgcj1uKDM3NykuQnVmZmVyLG89ci5pc0VuY29kaW5nfHxmdW5jdGlvbih0KXtzd2l0Y2goKHQ9XCJcIit0KSYmdC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOmNhc2VcInJhd1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fTtmdW5jdGlvbiBpKHQpe3ZhciBlO3N3aXRjaCh0aGlzLmVuY29kaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVyblwidXRmOFwiO2Zvcih2YXIgZTs7KXN3aXRjaCh0KXtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm5cInV0ZjhcIjtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm5cInV0ZjE2bGVcIjtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm5cImxhdGluMVwiO2Nhc2VcImJhc2U2NFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiaGV4XCI6cmV0dXJuIHQ7ZGVmYXVsdDppZihlKXJldHVybjt0PShcIlwiK3QpLnRvTG93ZXJDYXNlKCksZT0hMH19KHQpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiYoci5pc0VuY29kaW5nPT09b3x8IW8odCkpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3QpO3JldHVybiBlfHx0fSh0KSx0aGlzLmVuY29kaW5nKXtjYXNlXCJ1dGYxNmxlXCI6dGhpcy50ZXh0PXUsdGhpcy5lbmQ9bCxlPTQ7YnJlYWs7Y2FzZVwidXRmOFwiOnRoaXMuZmlsbExhc3Q9cyxlPTQ7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6dGhpcy50ZXh0PWMsdGhpcy5lbmQ9ZixlPTM7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdGhpcy53cml0ZT1kLHZvaWQodGhpcy5lbmQ9aCl9dGhpcy5sYXN0TmVlZD0wLHRoaXMubGFzdFRvdGFsPTAsdGhpcy5sYXN0Q2hhcj1yLmFsbG9jVW5zYWZlKGUpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHQ8PTEyNz8wOnQ+PjU9PTY/Mjp0Pj40PT0xND8zOnQ+PjM9PTMwPzQ6dD4+Nj09Mj8tMTotMn1mdW5jdGlvbiBzKHQpe3ZhciBlPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsbj1mdW5jdGlvbih0LGUsbil7aWYoMTI4IT0oMTkyJmVbMF0pKXJldHVybiB0Lmxhc3ROZWVkPTAsXCLvv71cIjtpZih0Lmxhc3ROZWVkPjEmJmUubGVuZ3RoPjEpe2lmKDEyOCE9KDE5MiZlWzFdKSlyZXR1cm4gdC5sYXN0TmVlZD0xLFwi77+9XCI7aWYodC5sYXN0TmVlZD4yJiZlLmxlbmd0aD4yJiYxMjghPSgxOTImZVsyXSkpcmV0dXJuIHQubGFzdE5lZWQ9MixcIu+/vVwifX0odGhpcyx0KTtyZXR1cm4gdm9pZCAwIT09bj9uOnRoaXMubGFzdE5lZWQ8PXQubGVuZ3RoPyh0LmNvcHkodGhpcy5sYXN0Q2hhcixlLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpKToodC5jb3B5KHRoaXMubGFzdENoYXIsZSwwLHQubGVuZ3RoKSx2b2lkKHRoaXMubGFzdE5lZWQtPXQubGVuZ3RoKSl9ZnVuY3Rpb24gdSh0LGUpe2lmKCh0Lmxlbmd0aC1lKSUyPT0wKXt2YXIgbj10LnRvU3RyaW5nKFwidXRmMTZsZVwiLGUpO2lmKG4pe3ZhciByPW4uY2hhckNvZGVBdChuLmxlbmd0aC0xKTtpZihyPj01NTI5NiYmcjw9NTYzMTkpcmV0dXJuIHRoaXMubGFzdE5lZWQ9Mix0aGlzLmxhc3RUb3RhbD00LHRoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPXRbdC5sZW5ndGgtMV0sbi5zbGljZSgwLC0xKX1yZXR1cm4gbn1yZXR1cm4gdGhpcy5sYXN0TmVlZD0xLHRoaXMubGFzdFRvdGFsPTIsdGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTFdLHQudG9TdHJpbmcoXCJ1dGYxNmxlXCIsZSx0Lmxlbmd0aC0xKX1mdW5jdGlvbiBsKHQpe3ZhciBlPXQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIjtpZih0aGlzLmxhc3ROZWVkKXt2YXIgbj10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkO3JldHVybiBlK3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJ1dGYxNmxlXCIsMCxuKX1yZXR1cm4gZX1mdW5jdGlvbiBjKHQsZSl7dmFyIG49KHQubGVuZ3RoLWUpJTM7cmV0dXJuIDA9PT1uP3QudG9TdHJpbmcoXCJiYXNlNjRcIixlKToodGhpcy5sYXN0TmVlZD0zLW4sdGhpcy5sYXN0VG90YWw9MywxPT09bj90aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMV06KHRoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPXRbdC5sZW5ndGgtMV0pLHQudG9TdHJpbmcoXCJiYXNlNjRcIixlLHQubGVuZ3RoLW4pKX1mdW5jdGlvbiBmKHQpe3ZhciBlPXQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD9lK3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJiYXNlNjRcIiwwLDMtdGhpcy5sYXN0TmVlZCk6ZX1mdW5jdGlvbiBkKHQpe3JldHVybiB0LnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIn1lLlN0cmluZ0RlY29kZXI9aSxpLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuXCJcIjt2YXIgZSxuO2lmKHRoaXMubGFzdE5lZWQpe2lmKHZvaWQgMD09PShlPXRoaXMuZmlsbExhc3QodCkpKXJldHVyblwiXCI7bj10aGlzLmxhc3ROZWVkLHRoaXMubGFzdE5lZWQ9MH1lbHNlIG49MDtyZXR1cm4gbjx0Lmxlbmd0aD9lP2UrdGhpcy50ZXh0KHQsbik6dGhpcy50ZXh0KHQsbik6ZXx8XCJcIn0saS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD9lK1wi77+9XCI6ZX0saS5wcm90b3R5cGUudGV4dD1mdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmxlbmd0aC0xO2lmKHI8bilyZXR1cm4gMDt2YXIgbz1hKGVbcl0pO2lmKG8+PTApcmV0dXJuIG8+MCYmKHQubGFzdE5lZWQ9by0xKSxvO2lmKC0tcjxufHwtMj09PW8pcmV0dXJuIDA7aWYobz1hKGVbcl0pLG8+PTApcmV0dXJuIG8+MCYmKHQubGFzdE5lZWQ9by0yKSxvO2lmKC0tcjxufHwtMj09PW8pcmV0dXJuIDA7aWYobz1hKGVbcl0pLG8+PTApcmV0dXJuIG8+MCYmKDI9PT1vP289MDp0Lmxhc3ROZWVkPW8tMyksbztyZXR1cm4gMH0odGhpcyx0LGUpO2lmKCF0aGlzLmxhc3ROZWVkKXJldHVybiB0LnRvU3RyaW5nKFwidXRmOFwiLGUpO3RoaXMubGFzdFRvdGFsPW47dmFyIHI9dC5sZW5ndGgtKG4tdGhpcy5sYXN0TmVlZCk7cmV0dXJuIHQuY29weSh0aGlzLmxhc3RDaGFyLDAsciksdC50b1N0cmluZyhcInV0ZjhcIixlLHIpfSxpLnByb3RvdHlwZS5maWxsTGFzdD1mdW5jdGlvbih0KXtpZih0aGlzLmxhc3ROZWVkPD10Lmxlbmd0aClyZXR1cm4gdC5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKTt0LmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdC5sZW5ndGgpLHRoaXMubGFzdE5lZWQtPXQubGVuZ3RofX0sNTQ6KHQsZSxuKT0+e24uZChlLHtNUzooKT0+QSxjRjooKT0+SSxBSzooKT0+VCxNXzooKT0+UixjWDooKT0+eCxCVDooKT0+SW50ZXJvcEVycm9yLF9XOigpPT5CLFBnOigpPT5sdCwkajooKT0+WSxVJDooKT0+TixVNzooKT0+TX0pO3ZhciByPXtkOih0LGUpPT57Zm9yKHZhciBuIGluIGUpci5vKGUsbikmJiFyLm8odCxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxnZXQ6ZVtuXX0pfSxvOih0LGUpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbz17fTtyLmQobyx7TVM6KCk9PkFwaUVycm9yLGNGOigpPT5BcGlSZXF1ZXN0RXJyb3IsQUs6KCk9PkF1dGhUb2tlbkV4cGlyZWRFcnJvcixNXzooKT0+QXV0aG9yaXphdGlvbkVycm9yLGNYOigpPT5Jbml0aWFsaXphdGlvbkVycm9yLFlkOigpPT5sLG5qOigpPT5Ob3RJbXBsZW1lbnRlZEVycm9yLE80OigpPT5TLF9XOigpPT5QYXJhbWV0ZXJFcnJvcixVJDooKT0+YSxVNzooKT0+c30pO2NsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXt2YXIgbixyO3N1cGVyKHQ9bnVsbCE9PShuPW51bGwhPXQ/dDpudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpJiZ2b2lkIDAhPT1uP246XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZFwiKSx0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMuc3RhY2s9KHQ/dGhpcy5zdGFjazpudWxsIT09KHI9bnVsbD09ZT92b2lkIDA6ZS5zdGFjaykmJnZvaWQgMCE9PXI/cjp0aGlzLnN0YWNrKS5yZXBsYWNlKC9eKFxcdypFcnJvcikvLGAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKX19Y2xhc3MgQXBpUmVxdWVzdEVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IodCxlLG4pe3ZhciByO3N1cGVyKHQ9bnVsbCE9PShyPW51bGwhPXQ/dDpudWxsPT1uP3ZvaWQgMDpuLm1lc3NhZ2UpJiZ2b2lkIDAhPT1yP3I6XCJBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGV4ZWN1dGluZyB0aGUgQVBJIHJlcXVlc3RcIixuKSx0aGlzLnN0YXR1cz1lfX1jbGFzcyBBdXRob3JpemF0aW9uRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3ZhciBuO3N1cGVyKHQ9bnVsbCE9PShuPW51bGwhPXQ/dDpudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpJiZ2b2lkIDAhPT1uP246XCJBbiBhdXRob3JpemF0aW9uIGVycm9yIG9jY3VycmVkXCIsZSl9fWNsYXNzIEF1dGhUb2tlbkV4cGlyZWRFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKHQsZSl7dmFyIG47c3VwZXIodD1udWxsIT09KG49bnVsbCE9dD90Om51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSkmJnZvaWQgMCE9PW4/bjpcIlRoZSBBUEkgcmVxdWVzdCBmYWlsZWQgYXMgdGhlIGF1dGhvcml6YXRpb24gdG9rZW5zIGhhdmUgZXhwaXJlZFwiLGUpfX1jbGFzcyBJbml0aWFsaXphdGlvbkVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IodCxlKXt2YXIgbjtzdXBlcih0PW51bGwhPT0obj1udWxsIT10P3Q6bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKSYmdm9pZCAwIT09bj9uOlwiQW4gaW5pdGlhbGl6YXRpb24gZXJyb3Igb2NjdXJyZWRcIixlKX19Y2xhc3MgTm90SW1wbGVtZW50ZWRFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKHQsZSl7dmFyIG47c3VwZXIodD1udWxsIT09KG49bnVsbCE9dD90Om51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSkmJnZvaWQgMCE9PW4/bjpcIlRoZSBtZXRob2QgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkXCIsZSl9fWNsYXNzIFBhcmFtZXRlckVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IodCl7c3VwZXIodD1udWxsIT10P3Q6XCJJbnZhbGlkIHBhcmFtZXRlciBkZXRlY3RlZFwiKX19Y29uc3QgaT10PT57bGV0IGU9ZmluLkludGVncmF0aW9ucztlfHwoZmluLkludGVncmF0aW9ucz17fSxlPWZpbi5JbnRlZ3JhdGlvbnMpO2xldCBuPWVbdF07cmV0dXJuIG58fChlW3RdPXt9LG49ZVt0XSksbn0sYT10PT57aSh0KS5sb2dnaW5nRW5hYmxlZD0hMX0scz0odCxlPVwiMC4wLjBcIik9PntpKHQpLmxvZ2dpbmdFbmFibGVkPSEwLGNvbnNvbGUubG9nKHUodCksYHYke2V9YCl9LHU9dD0+YFtAb3BlbmZpbi8ke3QudG9Mb3dlckNhc2UoKX1dYDtjbGFzcyBse2NvbnN0cnVjdG9yKHQpe3RoaXMubmFtZT10LHRoaXMucHJlZml4PXUodCksdGhpcy5pc0xvZ2dpbmdFbmFibGVkPXRoaXMuaXNMb2dnaW5nRW5hYmxlZC5iaW5kKHRoaXMpLHRoaXMubG9nRXJyb3I9dGhpcy5sb2dFcnJvci5iaW5kKHRoaXMpLHRoaXMubG9nSW5mbz10aGlzLmxvZ0luZm8uYmluZCh0aGlzKSx0aGlzLmxvZ1dhcm5pbmc9dGhpcy5sb2dXYXJuaW5nLmJpbmQodGhpcyl9aXNMb2dnaW5nRW5hYmxlZCgpe3JldHVybiBpKHRoaXMubmFtZSkubG9nZ2luZ0VuYWJsZWR9bG9nRXJyb3IodCl7dGhpcy5pc0xvZ2dpbmdFbmFibGVkKCkmJih0LmlubmVyRXJyb3I/Y29uc29sZS5lcnJvcih0aGlzLnByZWZpeCx0LFwiXFxuXFxuKGlubmVyKVwiLHQuaW5uZXJFcnJvcik6Y29uc29sZS5lcnJvcih0aGlzLnByZWZpeCx0KSl9bG9nSW5mbyguLi50KXt0aGlzLmlzTG9nZ2luZ0VuYWJsZWQoKSYmY29uc29sZS5sb2codGhpcy5wcmVmaXgsLi4udCl9bG9nV2FybmluZyguLi50KXt0aGlzLmlzTG9nZ2luZ0VuYWJsZWQoKSYmY29uc29sZS53YXJuKHRoaXMucHJlZml4LC4uLnQpfX1jb25zdCBjPVwib2F1dGgtYXBpLWF1dGgtZmxvd1wiLGY9KHQsZSxuLHIsbyxpLGEscyk9PmFzeW5jIHU9Pntjb25zdCBsPW5ldyBVUkwodSk7aWYoMCE9PWwuaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoby50b0xvd2VyQ2FzZSgpKSlyZXR1cm4hMTtpZih3aW5kb3cuY2xlYXJJbnRlcnZhbChzKSx3aW5kb3cuY2xlYXJUaW1lb3V0KGUpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksdC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0LmNsb3NlKCEwKSxsLnNlYXJjaFBhcmFtcy5nZXQoXCJlcnJvclwiKSl7Y29uc3QgdD1uZXcgQXBpRXJyb3IoXCJBdXRob3JpemF0aW9uIGVycm9yXCIpO3JldHVybiB0LmRhdGE9bC50b1N0cmluZygpLGEodCksITB9aWYobC5zZWFyY2hQYXJhbXMuZ2V0KFwic3RhdGVcIikhPT1yKXtjb25zdCB0PW5ldyBBcGlFcnJvcihcIlN0YXRlIG1pc21hdGNoXCIpO3JldHVybiB0LmRhdGE9bC50b1N0cmluZygpLGEodCksITB9Y29uc3QgYz1sLnNlYXJjaFBhcmFtcy5nZXQoXCJjb2RlXCIpO2lmKCFjKXtjb25zdCB0PW5ldyBBcGlFcnJvcihcIkF1dGhvcml6YXRpb24gY29kZSBtaXNzaW5nXCIpO3JldHVybiB0LmRhdGE9bC50b1N0cmluZygpLGEodCksITB9cmV0dXJuIGkoYyksITB9LGQ9KHQsZSxuLHIpPT5hc3luYyhvLGkpPT57bGV0IGE7Y29uc3Qgcz13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt3aW5kb3cuY2xlYXJJbnRlcnZhbChhKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHMpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdC5jbG9zZSghMCksaShuZXcgQXBpRXJyb3IoXCJBdXRob3JpemF0aW9uIHRpbWVkIG91dFwiKSl9KSwzZTUpO3QuYWRkTGlzdGVuZXIoXCJjbG9zaW5nXCIsKGFzeW5jKCk9PntyLmxvZ0luZm8oXCJVc2VyIGNsb3NlZCBhdXRoIHdpbmRvd1wiKSx3aW5kb3cuY2xlYXJJbnRlcnZhbChhKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHMpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKCksaShuZXcgQXBpRXJyb3IoXCJGYWlsZWQgdG8gY29tcGxldGUgYXV0aG9yaXphdGlvbiBjb2RlIGZsb3dcIikpfSkpO2NvbnN0IHU9d2luZG93LnNldFRpbWVvdXQoKGFzeW5jKCk9Pnt0cnl7YXdhaXQgdC5pc1Nob3dpbmcoKXx8KHIubG9nSW5mbyhcIlNob3dpbmcgYXV0aCB3aW5kb3dcIiksYXdhaXQgdC5zaG93KCEwKSxhd2FpdCB0LmZvY3VzKCkpfWNhdGNoKHQpe3IubG9nV2FybmluZyhcIlVuYWJsZSB0byBzaG93IGF1dGggd2luZG93XCIpfX0pLDJlMykse3ZlcnNpb246bH09YXdhaXQgZmluLlN5c3RlbS5nZXRSdW50aW1lSW5mbygpO3BhcnNlSW50KGwuc3BsaXQoXCIuXCIpWzBdLDEwKT49MzA/YXdhaXQgZih0LHMsdSxlLG4sbyxpKSgoYXdhaXQgdC5nZXRJbmZvKCkpLnVybCl8fGF3YWl0IHQuYWRkTGlzdGVuZXIoXCJ1cmwtY2hhbmdlZFwiLChhPT57ci5sb2dJbmZvKFwiQXV0aCB3aW5kb3cgbmF2aWdhdGVkIHRvXCIsYS51cmwpLGYodCxzLHUsZSxuLG8saSkoYS51cmwpfSkpOmE9d2luZG93LnNldEludGVydmFsKCgoKT0+KGFzeW5jKHQsZSxuLHIsbyxpLGEscyk9PntsZXQgdTt0cnl7dT1hd2FpdCB0LmdldEluZm8oKX1jYXRjaCh0KXtyZXR1cm4gd2luZG93LmNsZWFySW50ZXJ2YWwoZSksd2luZG93LmNsZWFyVGltZW91dChuKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLHMobmV3IEFwaUVycm9yKFwiQ291bGQgbm90IGxvY2F0ZSBhdXRoIHdpbmRvd1wiKSksITF9cmV0dXJuIGYodCxuLHIsbyxpLGEscyxlKSh1LnVybCl9KSh0LGEscyx1LGUsbixvLGkpKSw1MDApfSxoPSgpPT57bGV0IHQsZSxuLHI7Y29uc3Qgbz1hc3luYyhlLG49ITEpPT57Y29uc3R7Y29tbWFuZDpyLGRhdGE6YSxpZDpzfT1lLHU9e2NvbW1hbmQ6cixpZDpzfTt0cnl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQWNjZXNzIHRva2VuIG5vdCBmb3VuZFwiKTtjb25zdHthcGlSZXF1ZXN0VXJsOnIsZGF0YTpzLGhlYWRlcnM6bCxodHRwTWV0aG9kOmMsaW5jbHVkZUF1dGhvcml6YXRpb246Zn09YSxkPWF3YWl0KGFzeW5jKGUsbixyLG8saSk9Pnt2YXIgYSxzO2NvbnN0IHU9T2JqZWN0LmFzc2lnbih7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwifSxvKTtcIlBBVENIXCIhPT1uJiZcIlBPU1RcIiE9PW4mJlwiUFVUXCIhPT1ufHwvY29udGVudC10eXBlL2kudGVzdChPYmplY3Qua2V5cyh1KS5qb2luKFwiLFwiKSl8fCh1W1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24vanNvblwiKSxpJiYodS5BdXRob3JpemF0aW9uPWBCZWFyZXIgJHt0fWApO2NvbnN0IGw9YXdhaXQgZmV0Y2goZSx7Ym9keTpcIm9iamVjdFwiPT10eXBlb2Ygcj9KU09OLnN0cmluZ2lmeShyKTpyLGhlYWRlcnM6dSxtZXRob2Q6bn0pO2lmKCFsLm9rKXtjb25zdCB0PXttZXNzYWdlOlwiRmFpbGVkIHRvIGV4ZWN1dGUgQVBJIHJlcXVlc3RcIn07cmV0dXJuKG51bGw9PT0oYT1sLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpJiYodC5kYXRhPWF3YWl0IGwuanNvbigpKSxbbC5zdGF0dXMsdm9pZCAwLHZvaWQgMCx0XX1sZXQgYztjb25zdCBmPW51bGwhPT0ocz1sLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKSYmdm9pZCAwIT09cz9zOlwiXCI7c3dpdGNoKCEwKXtjYXNlIWY6YnJlYWs7Y2FzZS9eYXBwbGljYXRpb25cXC8oXFx3K1xcKyk/anNvbi9pLnRlc3QoZik6Yz1hd2FpdCBsLmpzb24oKTticmVhaztjYXNlL15tdWx0aXBhcnRcXC9mb3JtLT9kYXRhfF5hcHBsaWNhdGlvblxcL3gtP3d3dy0/Zm9ybS0/dXJsZW5jb2RlZC9pLnRlc3QoZik6Yz1hd2FpdCBsLmZvcm1EYXRhKCk7YnJlYWs7Y2FzZS9eYXBwbGljYXRpb25cXC8oKFteL10rKT94bWx8dm5kXFwub3BlbnhtbGZvcm1hdHMpfF50ZXh0XFwvfF5pbWFnZVxcL3N2Zy9pLnRlc3QoZik6Yz1hd2FpdCBsLnRleHQoKTticmVhaztkZWZhdWx0OmM9YXdhaXQgbC5hcnJheUJ1ZmZlcigpfXJldHVybltsLnN0YXR1cyxjLGYsdm9pZCAwXX0pKHIsYyxzLGwsZiksW2gscCxnLHldPWQ7aWYodS5zdGF0dXM9aCx5KXtpZighbiYmNDAxPT09aCl7Y29uc3RbdCxuXT1hd2FpdCBpKCk7cmV0dXJuIG4/KHUuc3RhdHVzPXQsdS5lcnJvcj1uLHUpOmF3YWl0IG8oZSwhMCl9dS5lcnJvcj15fWVsc2UgcCYmKHUuZGF0YT1wLHUudHlwZT1nKX1jYXRjaCh0KXt0IGluc3RhbmNlb2YgRXJyb3I/dS5lcnJvcj17bWVzc2FnZTp0Lm1lc3NhZ2V9OnUuZXJyb3I9e21lc3NhZ2U6XCJGYWlsZWQgdG8gZXhlY3V0ZSBBUEkgcmVxdWVzdFwifX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHUpfSxpPWFzeW5jKCk9Pnt2YXIgbztpZighbil0aHJvdyBuZXcgRXJyb3IoXCJBdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSBub3Qgc2V0XCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBJRCBub3Qgc2V0XCIpO2NvbnN0IGk9YGdyYW50X3R5cGU9cmVmcmVzaF90b2tlbiZjbGllbnRfaWQ9JHtlfSZyZWZyZXNoX3Rva2VuPSR7cn1gLGE9YXdhaXQgZmV0Y2gobi50b2tlbl9lbmRwb2ludCx7Ym9keTppLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LG1ldGhvZDpcIlBPU1RcIn0pO2lmKCFhLm9rKXtjb25zdCB0PXttZXNzYWdlOlwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuXCJ9O3JldHVybihudWxsPT09KG89YS5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSYmKHQuZGF0YT1hd2FpdCBhLmpzb24oKSksW2Euc3RhdHVzLHRdfWNvbnN0IHM9YXdhaXQgYS5qc29uKCk7cmV0dXJuIHQ9cy5hY2Nlc3NfdG9rZW4sW2Euc3RhdHVzXX07c2VsZi5vbm1lc3NhZ2U9YXN5bmMgaT0+e2NvbnN0e2NvbW1hbmQ6YSxpZDpzfT1pLmRhdGE7bGV0IHU9e2NvbW1hbmQ6YSxpZDpzfTtzd2l0Y2goYSl7Y2FzZVwiQVBJX1JFUVVFU1RcIjp1PWF3YWl0IG8oaS5kYXRhKTticmVhaztjYXNlXCJDT0RFX0VYQ0hBTkdFXCI6dT1hd2FpdChhc3luYyBvPT57dmFyIGk7Y29uc3R7Y29tbWFuZDphLGRhdGE6cyxpZDp1fT1vLGw9e2NvbW1hbmQ6YSxpZDp1fTt0cnl7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgbm90IHNldFwiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgSUQgbm90IHNldFwiKTtjb25zdHtjb2RlOm8sY29kZVZlcmlmaWVyOmEscmVkaXJlY3RVcmk6dX09cyxjPWBncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSZjbGllbnRfaWQ9JHtlfSZjb2RlPSR7b30mY29kZV92ZXJpZmllcj0ke2F9JnJlZGlyZWN0X3VyaT0ke3V9YCxmPWF3YWl0IGZldGNoKG4udG9rZW5fZW5kcG9pbnQse2JvZHk6YyxoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxtZXRob2Q6XCJQT1NUXCJ9KTtpZihmLm9rKXtjb25zdCBlPWF3YWl0IGYuanNvbigpO3Q9ZS5hY2Nlc3NfdG9rZW4scj1lLnJlZnJlc2hfdG9rZW59ZWxzZXtjb25zdCB0PXttZXNzYWdlOlwiRmFpbGVkIHRvIHJldHJpZXZlIHRva2Vuc1wifTsobnVsbD09PShpPWYuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkmJih0LmRhdGE9YXdhaXQgZi5qc29uKCkpLGwuZXJyb3I9dH19Y2F0Y2godCl7dCBpbnN0YW5jZW9mIEVycm9yP2wuZXJyb3I9e21lc3NhZ2U6dC5tZXNzYWdlfTpsLmVycm9yPXttZXNzYWdlOlwiRmFpbGVkIHRvIHJldHJpZXZlIHRva2Vuc1wifX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGwpfSkoaS5kYXRhKTticmVhaztjYXNlXCJFWFBJUkVfVE9LRU5TXCI6dT1hd2FpdChhc3luYyBlPT57dmFyIG87Y29uc3R7Y29tbWFuZDppLGV4cGlyZUFjY2Vzc1Rva2VuT25seTphLGlkOnN9PWUsdT17Y29tbWFuZDppLGlkOnN9O3RyeXtpZighYSYmIXIpdGhyb3cgbmV3IEVycm9yKFwiUmVmcmVzaCB0b2tlbiBub3QgZm91bmRcIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgbm90IHNldFwiKTtpZighbi5yZXZvY2F0aW9uX2VuZHBvaW50KXRocm93IG5ldyBFcnJvcihcIlJldm9jYXRpb24gZW5kcG9pbnQgbWlzc2luZyBpbiBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YVwiKTtjb25zdCBlPWE/dDpyLGk9YXdhaXQgZmV0Y2goYCR7bi5yZXZvY2F0aW9uX2VuZHBvaW50fT90b2tlbj0ke2V9YCx7aGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwifX0pO2lmKCFpLm9rKXtjb25zdCB0PXttZXNzYWdlOlwiRmFpbGVkIHRvIHJldm9rZSB0b2tlbnNcIn07KG51bGw9PT0obz1pLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpJiYodC5kYXRhPWF3YWl0IGkuanNvbigpKSx1LmVycm9yPXR9fWNhdGNoKHQpe3QgaW5zdGFuY2VvZiBFcnJvcj91LmVycm9yPXttZXNzYWdlOnQubWVzc2FnZX06dS5lcnJvcj17bWVzc2FnZTpcIkZhaWxlZCB0byByZXZva2UgdG9rZW5zXCJ9fXJldHVybiBQcm9taXNlLnJlc29sdmUodSl9KShpLmRhdGEpO2JyZWFrO2Nhc2VcIklOSVRcIjp1PWF3YWl0KGFzeW5jIHQ9Pntjb25zdHtjb21tYW5kOnIsZGF0YTpvLGlkOml9PXQsYT17Y29tbWFuZDpyLGlkOml9O3JldHVybiBlPW8uY2xpZW50SWQsbj1vLm1ldGFkYXRhLFByb21pc2UucmVzb2x2ZShhKX0pKGkuZGF0YSk7YnJlYWs7ZGVmYXVsdDp1LmVycm9yPW5ldyBFcnJvcihgVW5leHBlY3RlZCBvYXV0aCB3b3JrZXIgY29tbWFuZDogJHthfWApfXNlbGYucG9zdE1lc3NhZ2UodSl9fTt2YXIgcDshZnVuY3Rpb24odCl7dC5BcGlSZXF1ZXN0PVwiQVBJX1JFUVVFU1RcIix0LkNvZGVFeGNoYW5nZT1cIkNPREVfRVhDSEFOR0VcIix0LkV4cGlyZVRva2Vucz1cIkVYUElSRV9UT0tFTlNcIix0LkluaXQ9XCJJTklUXCJ9KHB8fChwPXt9KSk7Y29uc3QgZz1bXSx5PXQ9PntnLnB1c2godCl9LG09KHQsZSk9PihuLHIsbyk9Pm5ldyBQcm9taXNlKCgoaSxhKT0+e2NvbnN0IHM9e2NvbW1hbmQ6cC5Db2RlRXhjaGFuZ2UsZGF0YTp7Y29kZTpuLGNvZGVWZXJpZmllcjpyLHJlZGlyZWN0VXJpOm99LGlkOkRhdGUubm93KCkudG9TdHJpbmcoKX0se2NvbW1hbmQ6dSxpZDpsfT1zO3koe2NvbW1hbmQ6dSxpZDpsLHJlamVjdDphLHJlc29sdmU6aX0pLHQucG9zdE1lc3NhZ2UocyksZS5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLHMpfSkpLHY9KHQsZSxuKT0+KHIsbyxpLGEscyk9Pm5ldyBQcm9taXNlKCgodSxsKT0+e2NvbnN0IGM9e2NvbW1hbmQ6cC5BcGlSZXF1ZXN0LGRhdGE6e2FwaVJlcXVlc3RVcmw6cixjbGllbnRJZDp0LGRhdGE6aSxoZWFkZXJzOmEsaHR0cE1ldGhvZDpvLGluY2x1ZGVBdXRob3JpemF0aW9uOnN9LGlkOkRhdGUubm93KCkudG9TdHJpbmcoKX0se2NvbW1hbmQ6ZixpZDpkfT1jO3koe2NvbW1hbmQ6ZixpZDpkLHJlamVjdDpsLHJlc29sdmU6dX0pLGUucG9zdE1lc3NhZ2UoYyksbi5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLGMpfSkpLGI9KHQsZSk9Pm49Pm5ldyBQcm9taXNlKCgocixvKT0+e2NvbnN0IGk9e2NvbW1hbmQ6cC5FeHBpcmVUb2tlbnMsZXhwaXJlQWNjZXNzVG9rZW5Pbmx5Om4saWQ6RGF0ZS5ub3coKS50b1N0cmluZygpfSx7Y29tbWFuZDphLGlkOnN9PWk7eSh7Y29tbWFuZDphLGlkOnMscmVqZWN0Om8scmVzb2x2ZTpyfSksdC5wb3N0TWVzc2FnZShpKSxlLmxvZ0luZm8oXCJXb3JrZXIgcmVxdWVzdCBzZW50XCIsaSl9KSksdz10PT5lPT57dC5sb2dJbmZvKFwiV29ya2VyIHJlc3BvbnNlIHJlY2VpdmVkXCIsZS5kYXRhKTtjb25zdCBuPWUuZGF0YSx7Y29tbWFuZDpyLGVycm9yOm8saWQ6aX09bixhPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUuaW5kZXhPZihyKTwwJiYobltyXT10W3JdKTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7bzxyLmxlbmd0aDtvKyspZS5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LHJbb10pJiYobltyW29dXT10W3Jbb11dKX1yZXR1cm4gbn0obixbXCJjb21tYW5kXCIsXCJlcnJvclwiLFwiaWRcIl0pLHM9KCh0LGUpPT5nLmZpbmQoKG49Pm4uY29tbWFuZD09PWUmJm4uaWQ9PT10KSkpKGkscik7cz8obz8oXCJzdGF0dXNcImluIGEmJnZvaWQgMCE9PWEuc3RhdHVzJiYoby5zdGF0dXM9YS5zdGF0dXMpLHMucmVqZWN0KG8pKTpzLnJlc29sdmUoYSksXyhpLHIpKTp0LmxvZ0Vycm9yKG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgYXdhaXRlZCByZXF1ZXN0XCIpKX0sXz0odCxlKT0+e2NvbnN0IG49Zy5maW5kSW5kZXgoKG49Pm4uY29tbWFuZD09PWUmJm4uaWQ9PT10KSk7bj49MCYmZy5zcGxpY2UobiwxKX0sRT0odCxlKT0+YXN5bmMoKT0+e3RyeXthd2FpdCBiKHQsZSkoITEpfWNhdGNoKHQpe2UubG9nV2FybmluZyh0Lm1lc3NhZ2UpfXQudGVybWluYXRlKCksZS5sb2dJbmZvKFwiV29ya2VyIHRlcm1pbmF0ZWRcIil9O2NsYXNzIFN7Z2V0IGFwaU9yaWdpbigpe3JldHVybiB0aGlzLl9hcGlPcmlnaW59Z2V0IGNsaWVudElkKCl7cmV0dXJuIHRoaXMuX2NsaWVudElkfWdldCBsb2dnZXIoKXtyZXR1cm4gdGhpcy5fbG9nZ2VyfWdldCBtZXRhZGF0YSgpe3JldHVybiB0aGlzLl9tZXRhZGF0YX1nZXQgd29ya2VyKCl7cmV0dXJuIHRoaXMuX3dvcmtlcn1jb25zdHJ1Y3Rvcih0LGUsbixyLG8pe2lmKHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3Q9YXN5bmModCxlPVwiR0VUXCIsbixyLG89ITAsaT0hMSk9Pnt0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkV4ZWN1dGVBcGlSZXF1ZXN0IHN0YXJ0ZWRcIix0LGUsbixyKTt0cnl7Y29uc3QgaT1hd2FpdCgodCxlKT0+YXN5bmMobixyLG8saSxhKT0+e3RyeXtyZXR1cm4gYXdhaXQgZS5leGVjdXRlQXBpUmVxdWVzdChgJHt0fSR7bn1gLHIsbyxpLGEpfWNhdGNoKHQpe2xldCBlO2NvbnN0e2RhdGE6bixtZXNzYWdlOnIsc3RhdHVzOm99PXQ7dGhyb3cgZT10IGluc3RhbmNlb2YgRXJyb3I/bmV3IEFwaVJlcXVlc3RFcnJvcihyLG8pOlwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuXCI9PT1yP25ldyBBdXRoVG9rZW5FeHBpcmVkRXJyb3Iocik6bmV3IEFwaVJlcXVlc3RFcnJvcihyLG8pLGUuZGF0YT1uLGV9fSkodGhpcy5fYXBpT3JpZ2luLHRoaXMuX3dvcmtlcikodCxlLG4scixvKTtyZXR1cm4gdGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJFeGVjdXRlQXBpUmVxdWVzdCBjb21wbGV0ZWRcIixpKSxpfWNhdGNoKHQpe2lmKHQgaW5zdGFuY2VvZiBBcGlSZXF1ZXN0RXJyb3Ipe2NvbnN0e2RhdGE6ZSxtZXNzYWdlOm4sbmFtZTpyLHN0YWNrOm99PXQsaT10aGlzLmdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZShlKTtpJiYodC5tZXNzYWdlPWksdC5zdGFjaz1udWxsPT1vP3ZvaWQgMDpvLnJlcGxhY2UoYCR7cn06ICR7bn1gLGAke3J9OiAke2l9YCkpfXRocm93IGkmJnRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fSwhKHQmJmUmJm4mJnImJm8pKXRocm93IG5ldyBJbml0aWFsaXphdGlvbkVycm9yKFwiUHJvdmlkZXIgaGFzIG5vdCBiZWVuIHByb3Blcmx5IGluaXRpYWxpemVkIChjYWxsIGluaXQgdG8gY3JlYXRlIG5ldyBpbnN0YW5jZXMpXCIpO3RoaXMuX2FwaU9yaWdpbj10LHRoaXMuX2NsaWVudElkPWUsdGhpcy5fbWV0YWRhdGE9bix0aGlzLl93b3JrZXI9cix0aGlzLl9sb2dnZXI9byx0aGlzLmF1dGhvcml6ZT10aGlzLmF1dGhvcml6ZS5iaW5kKHRoaXMpLHRoaXMuY2xvc2U9dGhpcy5jbG9zZS5iaW5kKHRoaXMpLHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3Q9dGhpcy5leGVjdXRlQXBpUmVxdWVzdC5iaW5kKHRoaXMpLHRoaXMuZXhwaXJlVG9rZW5zPXRoaXMuZXhwaXJlVG9rZW5zLmJpbmQodGhpcyksdGhpcy5nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2U9dGhpcy5nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2UuYmluZCh0aGlzKX1hc3luYyBhdXRob3JpemUodCxlLG4pe2lmKHRoaXMuX2xvZ2dlci5sb2dJbmZvKFwiQXV0aG9yaXplIHN0YXJ0ZWRcIix0LGUsbiksIXRoaXMuX21ldGFkYXRhfHwhdGhpcy5fY2xpZW50SWR8fCF0aGlzLl93b3JrZXIpdGhyb3cgbmV3IEluaXRpYWxpemF0aW9uRXJyb3IoXCJQcm92aWRlciBoYXMgbm90IGJlZW4gcHJvcGVybHkgaW5pdGlhbGl6ZWQgKGNhbGwgaW5pdCB0byBjcmVhdGUgbmV3IGluc3RhbmNlcylcIik7dHJ5e2F3YWl0KHI9dGhpcy5fbWV0YWRhdGEsbz10aGlzLl9jbGllbnRJZCxpPXRoaXMuX3dvcmtlcixhPXRoaXMuX2xvZ2dlcixhc3luYyh0LGUsbik9Pntjb25zdHthdXRob3JpemF0aW9uX2VuZHBvaW50OnN9PXIsdT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKSxsPShhd2FpdCB1LmdldENoaWxkV2luZG93cygpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1jKSk7bCYmYXdhaXQgbC5jbG9zZSghMCk7Y29uc3QgZj0obmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpLGg9KCgpPT57Y29uc3QgdD1uZXcgVWludDMyQXJyYXkoNjQpO3JldHVybiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KSxBcnJheS5mcm9tKHQsKHQ9PmAwJHt0LnRvU3RyaW5nKDE2KX1gLnNsaWNlKC0yKSkpLmpvaW4oXCJcIil9KSgpLHA9KGF3YWl0KGFzeW5jIHQ9Pntjb25zdCBlPShuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KSxuPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIixlKSxyPWF3YWl0KHQ9Pm5ldyBQcm9taXNlKCgoZSxuKT0+e3RyeXtjb25zdCByPW5ldyBCbG9iKFt0XSksbz1uZXcgRmlsZVJlYWRlcjtvLm9ubG9hZD10PT57dmFyIHIsbztjb25zdCBpPW51bGw9PT0ocj10LnRhcmdldCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVzdWx0O2lmKGkpe2NvbnN0Wyx0XT1BcnJheS5mcm9tKG51bGwhPT0obz1pLm1hdGNoKC9iYXNlNjQsKC4qKSQvaSkpJiZ2b2lkIDAhPT1vP286W10pO2UobnVsbCE9dD90OlwiXCIpfW4obmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSByZXN1bHRcIikpfSxvLnJlYWRBc0RhdGFVUkwocil9Y2F0Y2godCl7bih0KX19KSkpKG4pO3JldHVybiByLnJlcGxhY2UoL1xcKy9nLFwiLVwiKS5yZXBsYWNlKC9cXC8vZyxcIl9cIil9KShoKSkucmVwbGFjZSgvPSskLyxcIlwiKTtsZXQgZz1cIlwiO2UmJihnPVwiJlwiLGcrPU9iamVjdC5lbnRyaWVzKGUpLm1hcCgodD0+YCR7ZW5jb2RlVVJJQ29tcG9uZW50KHRbMF0pfT0ke2VuY29kZVVSSUNvbXBvbmVudCh0WzFdKX1gKSkuam9pbihcIiZcIikpO2NvbnN0IHk9YCR7c30/Y2xpZW50X2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG8pfSZyZWRpcmVjdF91cmk9JHtlbmNvZGVVUklDb21wb25lbnQodCl9JnJlc3BvbnNlX3R5cGU9Y29kZSZzdGF0ZT0ke2Z9JmNvZGVfY2hhbGxlbmdlPSR7cH0mY29kZV9jaGFsbGVuZ2VfbWV0aG9kPVMyNTYke2d9YCxtPW51bGwhPW4/bjp7fSx7ZGVmYXVsdEhlaWdodDp2LGRlZmF1bHRXaWR0aDpifT1tLHc9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmZS5pbmRleE9mKHIpPDAmJihuW3JdPXRbcl0pO2lmKG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtvPHIubGVuZ3RoO28rKyllLmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQscltvXSkmJihuW3Jbb11dPXRbcltvXV0pfXJldHVybiBufShtLFtcImRlZmF1bHRIZWlnaHRcIixcImRlZmF1bHRXaWR0aFwiXSk7YS5sb2dJbmZvKFwiU3RhcnRpbmcgT0F1dGggZmxvd1wiLHkpO2NvbnN0IF89YXdhaXQgZmluLldpbmRvdy5jcmVhdGUoT2JqZWN0LmFzc2lnbih7YWx3YXlzT25Ub3A6ITAsbWF4aW1pemFibGU6ITEsbWluaW1pemFibGU6ITEsYXV0b1Nob3c6ITEsZGVmYXVsdENlbnRlcmVkOiEwLGRlZmF1bHRIZWlnaHQ6bnVsbCE9dj92OjcwMCxkZWZhdWx0V2lkdGg6bnVsbCE9Yj9iOjYwMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsbmFtZTpjLHJlc2l6YWJsZTohMSxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExLHVybDp5fSx3KSksRT1hd2FpdCBuZXcgUHJvbWlzZShkKF8sZix0LGEpKTthLmxvZ0luZm8oXCJSZWNlaXZlZCBhdXRob3JpemF0aW9uIGNvZGVcIiksYXdhaXQgaS5leGNoYW5nZUNvZGVGb3JUb2tlbnMoRSxoLHQpLGEubG9nSW5mbyhcIlJlY2VpdmVkIHRva2Vuc1wiKX0pKHQsZSxuKSx0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkF1dGhvcml6ZSBjb21wbGV0ZWRcIil9Y2F0Y2godCl7bGV0IGU7aWYodCBpbnN0YW5jZW9mIEFwaUVycm9yKXtjb25zdHtkYXRhOm59PXQscj10aGlzLmdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZShuKTtlPW5ldyBBdXRob3JpemF0aW9uRXJyb3Iocix0KSxlLmRhdGE9bn1lbHNlIGU9bmV3IEF1dGhvcml6YXRpb25FcnJvcih2b2lkIDAsdCk7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IoZSksZX12YXIgcixvLGksYX1hc3luYyBjbG9zZSgpe3ZhciB0O3RoaXMuX2xvZ2dlci5sb2dJbmZvKFwiQ2xvc2Ugc3RhcnRlZFwiKTt0cnl7YXdhaXQobnVsbD09PSh0PXRoaXMuX3dvcmtlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQudGVybWluYXRlKCkpLHRoaXMuX3dvcmtlcj12b2lkIDAsdGhpcy5fYXBpT3JpZ2luPXZvaWQgMCx0aGlzLl9jbGllbnRJZD12b2lkIDAsdGhpcy5fbWV0YWRhdGE9dm9pZCAwLHRoaXMuX2xvZ2dlci5sb2dJbmZvKFwiQ2xvc2UgY29tcGxldGVkXCIpfWNhdGNoKHQpe2NvbnN0IGU9bmV3IEFwaUVycm9yKHZvaWQgMCx0KTt0aHJvdyB0aGlzLl9sb2dnZXIubG9nRXJyb3IoZSksZX19YXN5bmMgZXhwaXJlVG9rZW5zKHQ9ITEpe3ZhciBlO3RoaXMuX2xvZ2dlci5sb2dJbmZvKFwiRXhwaXJlVG9rZW5zIHN0YXJ0ZWRcIik7dHJ5e2F3YWl0KG51bGw9PT0oZT10aGlzLl93b3JrZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmV4cGlyZVRva2Vucyh0KSksdGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJFeHBpcmVUb2tlbnMgY29tcGxldGVkXCIpfWNhdGNoKHQpe2NvbnN0IGU9bmV3IEFwaUVycm9yKHZvaWQgMCx0KTt0aHJvdyB0aGlzLl9sb2dnZXIubG9nRXJyb3IoZSksZX19Z2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlKHQpe3QmJnRoaXMuX2xvZ2dlci5sb2dXYXJuaW5nKHQpfXN0YXRpYyBhc3luYyBpbml0KHQsZSxuLHIsLi4ubyl7Y29uc3QgaT1uZXcgbChyKTtsZXQgYTtpLmxvZ0luZm8oXCJJbml0IHN0YXJ0ZWRcIix0LGUsbik7dHJ5e2E9bmV3IFVSTChlKX1jYXRjaCh0KXtjb25zdCBlPW5ldyBQYXJhbWV0ZXJFcnJvcihcIlVuZXhwZWN0ZWQgaW52YWxpZCBBUEkgb3JpZ2luXCIpO3Rocm93IGkubG9nRXJyb3IoZSksZX10cnl7Y29uc3QgZT1hd2FpdChhc3luYyB0PT57bGV0IGU7dHJ5e2U9bmV3IFVSTCh0KX1jYXRjaCh0KXt0aHJvdyBuZXcgUGFyYW1ldGVyRXJyb3IoXCJVbmV4cGVjdGVkIGludmFsaWQgbWV0YWRhdGEgVVJMXCIpfWNvbnN0IG49YXdhaXQgZmV0Y2goZSx7aGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwifX0pO2lmKCFuLm9rKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byByZXRyaWV2ZSBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YVwiKTtjb25zdCByPWF3YWl0IG4uanNvbigpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZW1wdHkgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgcmVzcG9uc2VcIik7aWYoIXIucmVzcG9uc2VfdHlwZXNfc3VwcG9ydGVkLmZpbmQoKHQ9PlwiY29kZVwiPT09dC50b0xvd2VyQ2FzZSgpKSkpdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYXV0aG9yaXphdGlvbiBjb2RlIHJlc3BvbnNlIHR5cGVcIik7cmV0dXJuIHJ9KSh0KSxyPWF3YWl0KGFzeW5jKHQsZSxuKT0+e2NvbnN0IHI9bmV3IEJsb2IoW2AoJHtofSkoKWBdLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSxvPVVSTC5jcmVhdGVPYmplY3RVUkwociksaT1uZXcgV29ya2VyKG8pO3JldHVybiBpLm9ubWVzc2FnZT13KG4pLGF3YWl0KCh0LGUsbixyKT0+bmV3IFByb21pc2UoKChvLGkpPT57Y29uc3QgYT17Y29tbWFuZDpwLkluaXQsZGF0YTp7Y2xpZW50SWQ6ZSxtZXRhZGF0YTp0fSxpZDpEYXRlLm5vdygpLnRvU3RyaW5nKCl9LHtjb21tYW5kOnMsaWQ6dX09YTt5KHtjb21tYW5kOnMsaWQ6dSxyZWplY3Q6aSxyZXNvbHZlOm99KSxuLnBvc3RNZXNzYWdlKGEpLHIubG9nSW5mbyhcIldvcmtlciByZXF1ZXN0IHNlbnRcIixhKX0pKSkodCxlLGksbikse2V4Y2hhbmdlQ29kZUZvclRva2VuczptKGksbiksZXhlY3V0ZUFwaVJlcXVlc3Q6dihlLGksbiksZXhwaXJlVG9rZW5zOmIoaSxuKSx0ZXJtaW5hdGU6RShpLG4pfX0pKGUsbixpKTtyZXR1cm4gaS5sb2dJbmZvKFwiSW5pdCBjb21wbGV0ZWRcIixlKSxuZXcgUyhhLm9yaWdpbixuLGUscixpKX1jYXRjaCh0KXtsZXQgZTt0aHJvdyBlPXQgaW5zdGFuY2VvZiBBcGlFcnJvcj90Om5ldyBJbml0aWFsaXphdGlvbkVycm9yKHZvaWQgMCx0KSxpLmxvZ0Vycm9yKGUpLGV9fX12YXIgQT1vLk1TLEk9by5jRixUPW8uQUssUj1vLk1fLHg9by5jWCxDPW8uTzQsQj1vLl9XLGs9by5VJCxMPW8uVTcsTz1uKDk1MSk7Y29uc3QgVT1cIjEuMC4xXCIsaj1cIk1pY3Jvc29mdDM2NVwiLE49KCk9PntrKGopfSxNPSgpPT57TChqLFUpfTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGZpbiYmT2JqZWN0LmFzc2lnbih3aW5kb3cse2Zpbjp7fX0pLE9iamVjdC5hc3NpZ24oZmluLHtJbnRlZ3JhdGlvbnM6e01pY3Jvc29mdDM2NTp7ZW5hYmxlTG9nZ2luZzpNLGRpc2FibGVMb2dnaW5nOk59fX0pKTtjb25zdCBQPXQ9PmFzeW5jKGUsbixyLG8saSk9Pnt2YXIgYTtyZXR1cm4gZT0oYT1lKS5zdGFydHNXaXRoKFwiL1wiKT9hOmAvJHthfWAsdC5leGVjdXRlQXBpUmVxdWVzdChlLG4scixvLGksITApfSxXPWFzeW5jKHQsZSxuPVtdKT0+e2NvbnN0IHI9W1wiaWRcIixcInVzZXJQcmluY2lwYWxOYW1lXCIsXCJ1c2VyVHlwZVwiLC4uLm5dLmpvaW4oXCIsXCIpLG89YXdhaXQoYXN5bmModCxlPVtdKT0+e2lmKCEobnVsbD09ZT92b2lkIDA6ZS5sZW5ndGgpKXJldHVybltdO2NvbnN0IG49W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKz0yMCl7Y29uc3Qgbz17cmVxdWVzdHM6ZS5zbGljZShyLHIrMjApLm1hcCgodD0+KHQuaWQ9Y3J5cHRvLnJhbmRvbVVVSUQoKSx0KSkpfTtuLnB1c2godC5leGVjdXRlQXBpUmVxdWVzdChcIi92MS4wLyRiYXRjaFwiLFwiUE9TVFwiLG8pKX1jb25zdCByPShhd2FpdCBQcm9taXNlLmFsbChuKSkuZmxhdE1hcCgodD0+dC5kYXRhLnJlc3BvbnNlcykpO3JldHVybiBlLm1hcCgodD0+e3ZhciBlO3JldHVybiBudWxsPT09KGU9ci5maW5kKChlPT5lLmlkPT09dC5pZCkpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5ib2R5fSkpfSkodCxlLm1hcCgodD0+KHttZXRob2Q6XCJHRVRcIix1cmw6YC91c2Vycz8kZmlsdGVyPW1haWwgZXEgJyR7ZW5jb2RlVVJJQ29tcG9uZW50KHQpfScmJHNlbGVjdD0ke3J9YH0pKSkpLGk9by5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXQudmFsdWUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplWzBdfSkpO3JldHVybiB0LmxvZ2dlci5sb2dJbmZvKFwiUmVzb2x2ZWQgdXNlcnMgZnJvbSBlbWFpbCBhZGRyZXNzZXNcIixpLGUpLGl9O3ZhciAkPW4oMzAwKTtjb25zdCBEPXQ9PnQubWFwKCh0PT50P3tpZDp0LnVzZXJQcmluY2lwYWxOYW1lLGVtYWlsQWRkcmVzczp0Lm1haWwsbmFtZTp0LmRpc3BsYXlOYW1lfTp2b2lkIDApKSxGPWFzeW5jKHQsZSk9Pnt0cnl7YXdhaXQgZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwiaW50ZWdyYXRpb24tZmVhdHVyZVwiLGRhdGE6e2FwaVZlcnNpb246VSxjb21wb25lbnROYW1lOnR9fSl9Y2F0Y2gobil7ZS5sb2dXYXJuaW5nKGBVbmFibGUgdG8gcmVnaXN0ZXIgdXNhZ2UgZm9yIGZlYXR1cmUgJHt0fTogJHtudWxsPT1uP3ZvaWQgMDpuLm1lc3NhZ2V9YCl9fSx6PXQ9PntsZXQgZT10O3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QuZmlsdGVyKEJvb2xlYW4pLm1hcCh6KTooXCJvYmplY3RcIj09dHlwZW9mIHQmJihlPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKChbLHRdKT0+dm9pZCAwIT09KG51bGwhPXQ/dDp2b2lkIDApKSkubWFwKCgoW3QsZV0pPT5bdCx6KGUpXSkpKSksZSl9LHE9dD0+LyNFWFQjQC8udGVzdCh0LnVzZXJQcmluY2lwYWxOYW1lKTt2YXIgSDshZnVuY3Rpb24odCl7dC5NUzM2NT1cIk1TLTM2NVwiLHQuVGVhbXM9XCJNUy1URUFNU1wifShIfHwoSD17fSkpO2NsYXNzIFYgZXh0ZW5kcyBDe2dldCBjdXJyZW50VXNlcigpe3JldHVybiB0aGlzLl9jdXJyZW50VXNlcn1nZXQgcmVkaXJlY3RVcmkoKXtyZXR1cm4gdGhpcy5fcmVkaXJlY3RVcml9Z2V0IHBlcm1pc3Npb25zKCl7cmV0dXJuIHRoaXMuX3Blcm1pc3Npb25zfWdldCB0ZW5hbnRJZCgpe3JldHVybiB0aGlzLl90ZW5hbnRJZH1jb25zdHJ1Y3Rvcih0LGUsbixyLG8saSxhLHMpe3N1cGVyKHQsZSxpLGEscyksdGhpcy5fcGVybWlzc2lvbnM9byx0aGlzLl9yZWRpcmVjdFVyaT1yLHRoaXMuX3RlbmFudElkPW4sRihILk1TMzY1LHMpfWFzeW5jIGF1dGhvcml6ZSh0LGUsbil7YXdhaXQgc3VwZXIuYXV0aG9yaXplKHQsZSxuKTtjb25zdCByPWF3YWl0KGFzeW5jIHQ9Pntjb25zdHtkYXRhOmV9PWF3YWl0IHQuZXhlY3V0ZUFwaVJlcXVlc3QoXCIvdjEuMC9tZVwiKTtyZXR1cm4gZX0pKHRoaXMpO3RoaXMuX2N1cnJlbnRVc2VyPXJ9Z2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlKHQpe3ZhciBlLG4scjtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0cnl7cmV0dXJuIG51bGw9PT0obj1udWxsPT09KGU9bmV3IFVSTCh0KS5zZWFyY2hQYXJhbXMuZ2V0KFwiZXJyb3JfZGVzY3JpcHRpb25cIikpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnNwbGl0KC9cXHJcXG4vKSl8fHZvaWQgMD09PW4/dm9pZCAwOm5bMF19Y2F0Y2godCl7cmV0dXJufXJldHVybiBudWxsPT09KHI9bnVsbD09dD92b2lkIDA6dC5lcnJvcil8fHZvaWQgMD09PXI/dm9pZCAwOnIubWVzc2FnZX1zdGF0aWMgYXN5bmMgaW5pdCh0LGUsbixyLG8saSxhKXtjb25zdCBzPWF3YWl0IHN1cGVyLmluaXQodCxlLG4scik7cmV0dXJuIG5ldyBWKGUsbixvLGksYSxudWxsPT1zP3ZvaWQgMDpzLm1ldGFkYXRhLG51bGw9PXM/dm9pZCAwOnMud29ya2VyLG51bGw9PXM/dm9pZCAwOnMubG9nZ2VyKX19Y29uc3QgRz1bXCJVc2VyLlJlYWRCYXNpYy5BbGxcIixcIlRlYW0uUmVhZEJhc2ljLkFsbFwiLFwiQ2hhbm5lbC5SZWFkQmFzaWMuQWxsXCIsXCJDaGFubmVsTWVzc2FnZS5TZW5kXCIsXCJDaGF0LkNyZWF0ZVwiLFwiQ2hhdE1lc3NhZ2UuU2VuZFwiLFwib2ZmbGluZV9hY2Nlc3NcIl07bGV0IEo7Y29uc3QgWT1hc3luYyh0LGUsbixyPVtdLG8saSk9Pnthd2FpdCBLKHQsZSxuLHIpO2NvbnN0IGE9T2JqZWN0LmFzc2lnbih7c2NvcGU6Wy4uLkcsLi4ucl0uam9pbihcIiBcIil9LG8pLHM9T2JqZWN0LmFzc2lnbih7ZGVmYXVsdEhlaWdodDo2MDAsZGVmYXVsdFdpZHRoOjU1MH0saSk7cmV0dXJuIGF3YWl0IEouYXV0aG9yaXplKG4sYSxzKSx7Y2xpZW50SWQ6dCxjdXJyZW50VXNlcjpKLmN1cnJlbnRVc2VyLGRpc2Nvbm5lY3Q6Si5jbG9zZSxleGVjdXRlQXBpUmVxdWVzdDpQKEopLHByb3ZpZGVyOkosdGVuYW50SWQ6ZX19LEs9YXN5bmModCxlLG4scik9PntpZighdCl0aHJvdyBuZXcgQihcIkludmFsaWQgY2xpZW50IElEXCIpO2lmKCFlKXRocm93IG5ldyBCKFwiSW52YWxpZCB0ZW5hbnQgSURcIik7aWYoIW4pdGhyb3cgbmV3IEIoXCJJbnZhbGlkIHJlZGlyZWN0IFVSSVwiKTtjb25zdCBvPWBodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vJHtlfS92Mi4wLy53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uYDsoIUp8fEouY2xpZW50SWQhPT10fHxKLnRlbmFudElkIT09ZXx8Si5yZWRpcmVjdFVyaSE9PW58fCgwLE8ueG9yKShKLnBlcm1pc3Npb25zLHIpLmxlbmd0aD4wKSYmKEo9YXdhaXQgVi5pbml0KG8sXCJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb21cIix0LGosZSxuLHIpKX07Y2xhc3MgSW50ZXJvcEVycm9yIGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0LGUpe3ZhciBuO3N1cGVyKHQ9bnVsbCE9PShuPW51bGwhPXQ/dDpudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpJiZ2b2lkIDAhPT1uP246XCJBbiBpbnRlcm9wIGVycm9yIG9jY3VycmVkXCIsZSl9fXZhciBYLFosUTshZnVuY3Rpb24odCl7dC5BcHBOb3RGb3VuZD1cIkFwcE5vdEZvdW5kXCIsdC5FcnJvck9uTGF1bmNoPVwiRXJyb3JPbkxhdW5jaFwiLHQuQXBwVGltZW91dD1cIkFwcFRpbWVvdXRcIix0LlJlc29sdmVyVW5hdmFpbGFibGU9XCJSZXNvbHZlclVuYXZhaWxhYmxlXCJ9KFh8fChYPXt9KSksZnVuY3Rpb24odCl7dC5Ob0FwcHNGb3VuZD1cIk5vQXBwc0ZvdW5kXCIsdC5SZXNvbHZlclVuYXZhaWxhYmxlPVwiUmVzb2x2ZXJVbmF2YWlsYWJsZVwiLHQuUmVzb2x2ZXJUaW1lb3V0PVwiUmVzb2x2ZXJUaW1lb3V0XCJ9KFp8fChaPXt9KSksZnVuY3Rpb24odCl7dC5Ob0NoYW5uZWxGb3VuZD1cIk5vQ2hhbm5lbEZvdW5kXCIsdC5BY2Nlc3NEZW5pZWQ9XCJBY2Nlc3NEZW5pZWRcIix0LkNyZWF0aW9uRmFpbGVkPVwiQ3JlYXRpb25GYWlsZWRcIn0oUXx8KFE9e30pKTt2YXIgdHQsZXQ7dHQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGUsbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30saT1vLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixhPW8uYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIixzPW8udG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIHUodCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7dSh7fSxcIlwiKX1jYXRjaCh0KXt1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBvPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgeT9lOnksaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxhPW5ldyB4KHJ8fFtdKTtyZXR1cm4gaS5faW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mO3JldHVybiBmdW5jdGlvbihvLGkpe2lmKHI9PT1oKXRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYocj09PXApe2lmKFwidGhyb3dcIj09PW8pdGhyb3cgaTtyZXR1cm4gQigpfWZvcihuLm1ldGhvZD1vLG4uYXJnPWk7Oyl7dmFyIGE9bi5kZWxlZ2F0ZTtpZihhKXt2YXIgcz1JKGEsbik7aWYocyl7aWYocz09PWcpY29udGludWU7cmV0dXJuIHN9fWlmKFwibmV4dFwiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1uLm1ldGhvZCl7aWYocj09PWYpdGhyb3cgcj1wLG4uYXJnO24uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpfWVsc2VcInJldHVyblwiPT09bi5tZXRob2QmJm4uYWJydXB0KFwicmV0dXJuXCIsbi5hcmcpO3I9aDt2YXIgdT1jKHQsZSxuKTtpZihcIm5vcm1hbFwiPT09dS50eXBlKXtpZihyPW4uZG9uZT9wOmQsdS5hcmc9PT1nKWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOm4uZG9uZX19XCJ0aHJvd1wiPT09dS50eXBlJiYocj1wLG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz11LmFyZyl9fX0odCxuLGEpLGl9ZnVuY3Rpb24gYyh0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX10LndyYXA9bDt2YXIgZj1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHA9XCJjb21wbGV0ZWRcIixnPXt9O2Z1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiB2KCl7fXZhciBiPXt9O2JbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIHc9T2JqZWN0LmdldFByb3RvdHlwZU9mLF89dyYmdyh3KEMoW10pKSk7XyYmXyE9PW4mJnIuY2FsbChfLGkpJiYoYj1fKTt2YXIgRT12LnByb3RvdHlwZT15LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIpO2Z1bmN0aW9uIFModCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt1KHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKG8saSxhLHMpe3ZhciB1PWModFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGw9dS5hcmcsZj1sLnZhbHVlO3JldHVybiBmJiZcIm9iamVjdFwiPT10eXBlb2YgZiYmci5jYWxsKGYsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShmLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUoZikudGhlbigoZnVuY3Rpb24odCl7bC52YWx1ZT10LGEobCl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgbzt0aGlzLl9pbnZva2U9ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG8pe24odCxyLGUsbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fWZ1bmN0aW9uIEkodCxuKXt2YXIgcj10Lml0ZXJhdG9yW24ubWV0aG9kXTtpZihyPT09ZSl7aWYobi5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PW4ubWV0aG9kKXtpZih0Lml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9ZSxJKHQsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpKXJldHVybiBnO24ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKX1yZXR1cm4gZ312YXIgbz1jKHIsdC5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09by50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9by5hcmcsbi5kZWxlZ2F0ZT1udWxsLGc7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyhuW3QucmVzdWx0TmFtZV09aS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPWUpLG4uZGVsZWdhdGU9bnVsbCxnKTppOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCxnKX1mdW5jdGlvbiBUKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFIodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24geCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goVCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKHQpe2lmKHQpe3ZhciBuPXRbaV07aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxhPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYoci5jYWxsKHQsbykpcmV0dXJuIG4udmFsdWU9dFtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gYS5uZXh0PWF9fXJldHVybntuZXh0OkJ9fWZ1bmN0aW9uIEIoKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEwfX1yZXR1cm4gbS5wcm90b3R5cGU9RS5jb25zdHJ1Y3Rvcj12LHYuY29uc3RydWN0b3I9bSxtLmRpc3BsYXlOYW1lPXUodixzLFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PW18fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sdC5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsdik6KHQuX19wcm90b19fPXYsdSh0LHMsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFKSx0fSx0LmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSxTKEEucHJvdG90eXBlKSxBLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LkFzeW5jSXRlcmF0b3I9QSx0LmFzeW5jPWZ1bmN0aW9uKGUsbixyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IEEobChlLG4scixvKSxpKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSxTKEUpLHUoRSxzLFwiR2VuZXJhdG9yXCIpLEVbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sRS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9LHQua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCllLnB1c2gobik7cmV0dXJuIGUucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO2UubGVuZ3RoOyl7dmFyIHI9ZS5wb3AoKTtpZihyIGluIHQpcmV0dXJuIG4udmFsdWU9cixuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSx0LnZhbHVlcz1DLHgucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp4LHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFIpLCF0KWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT1lKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9ZSksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksbD1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmbCl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZyLmNhbGwobyxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxnKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksZ30sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxSKG4pLGd9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgcj1uLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ci50eXBlKXt2YXIgbz1yLmFyZztSKG4pfXJldHVybiBvfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpDKHQpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSxnfX0sdH0odC5leHBvcnRzKTt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPWV9Y2F0Y2godCl7RnVuY3Rpb24oXCJyXCIsXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKGUpfX0sdHQoZXQ9e2V4cG9ydHM6e319LGV0LmV4cG9ydHMpO3ZhciBudDshZnVuY3Rpb24odCl7dC5Db250YWN0PVwiZmRjMy5jb250YWN0XCIsdC5Db250YWN0TGlzdD1cImZkYzMuY29udGFjdExpc3RcIix0LkNvdW50cnk9XCJmZGMzLmNvdW50cnlcIix0Lkluc3RydW1lbnQ9XCJmZGMzLmluc3RydW1lbnRcIix0Lk9yZ2FuaXphdGlvbj1cImZkYzMub3JnYW5pemF0aW9uXCIsdC5Qb3J0Zm9saW89XCJmZGMzLnBvcnRmb2xpb1wiLHQuUG9zaXRpb249XCJmZGMzLnBvc2l0aW9uXCJ9KG50fHwobnQ9e30pKTt2YXIgcnQ7IWZ1bmN0aW9uKHQpe3QuU3RhcnRDYWxsPVwiU3RhcnRDYWxsXCIsdC5TdGFydENoYXQ9XCJTdGFydENoYXRcIix0LlZpZXdDaGFydD1cIlZpZXdDaGFydFwiLHQuVmlld0NvbnRhY3Q9XCJWaWV3Q29udGFjdFwiLHQuVmlld1F1b3RlPVwiVmlld1F1b3RlXCIsdC5WaWV3TmV3cz1cIlZpZXdOZXdzXCIsdC5WaWV3SW5zdHJ1bWVudD1cIlZpZXdJbnN0cnVtZW50XCIsdC5WaWV3QW5hbHlzaXM9XCJWaWV3QW5hbHlzaXNcIn0ocnR8fChydD17fSkpO2NvbnN0IG90PVwib2ZtczM2NWFjdGlvblwiLGl0PWFzeW5jKHQsZSk9Pnt2YXIgbixyLG8saTtjb25zdHtjaGFydEltYWdlOmEsY29udGV4dDpzfT1lLHtwcmljZUN1cnJlbnQ6dSxwcmljZUhpZ2g6bCxwcmljZUxvdzpjLHByaWNlT3BlbjpmfT1lLGQ9KG51bGw9PT0ocj1udWxsPT09KG49cy5pZCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGlja2VyKXx8dm9pZCAwPT09cj92b2lkIDA6ci50cmltKCkpfHx2b2lkIDAsaD0obnVsbD09PShvPXMubmFtZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHJpbSgpKXx8dm9pZCAwO2xldCBwLGcseSxtLHYsYjtpZihudWxsIT1lLnRpbWVzdGFtcHx8IWEpdHJ5e3A9bmV3IERhdGUobnVsbCE9PShpPWUudGltZXN0YW1wKSYmdm9pZCAwIT09aT9pOkRhdGUubm93KCkpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXFwuXFxkK1okLyxcIiswMDowMFwiKX1jYXRjaChuKXt0LmxvZ2dlci5sb2dXYXJuaW5nKFwiSW52YWxpZCB0aW1lc3RhbXBcIixlLnRpbWVzdGFtcCl9aWYobnVsbCE9dSYmbnVsbCE9ZiYmKGc9dS1mLHk9Zy9mKjEwMCx2PWc+MD9cIuKWslwiOmc8MD9cIuKWvFwiOlwi4pePXCIsbT1nPjA/XCJHb29kXCI6ZzwwP1wiQXR0ZW50aW9uXCI6XCJXYXJuaW5nXCIpLGEpe2lmKCEvXmltYWdlXFwvKGdpZnxqcChlfGU/Zyl8cG5nKSQvaS50ZXN0KGEudHlwZSkpdGhyb3cgbmV3IEIoXCJDaGFydCBpbWFnZSBNSU1FIHR5cGUgbm90IHN1cHBvcnRlZFwiKTt0cnl7Yj1hd2FpdChhc3luYyB0PT5uZXcgUHJvbWlzZSgoKGUsbik9Pntjb25zdCByPW5ldyBGaWxlUmVhZGVyO3Iub25sb2FkZW5kPSgpPT5lKHIucmVzdWx0KSxyLm9uZXJyb3I9KCk9Pm4obmV3IEVycm9yKFwiRmFpbGVkIHRvIGNvbnZlcnQgYmxvYiB0byBiYXNlNjRcIikpLHIucmVhZEFzRGF0YVVSTCh0KX0pKSkoYSl9Y2F0Y2godCl7dGhyb3cgbmV3IEEoXCJGYWlsZWQgdG8gY29udmVydCBibG9iIHRvIGJhc2U2NFwiLHQpfX1jb25zdCB3PShhd2FpdCBmaW4uU3lzdGVtLmdldFJ1bnRpbWVJbmZvKCkpLm1hbmlmZXN0VXJsLF89e2NvbnRleHQ6cyxpbnRlbnQ6YT9ydC5WaWV3Q2hhcnQ6cnQuVmlld0luc3RydW1lbnQsdmVyc2lvbjpVfSxFPShTPV8sKDAsJC5jb21wcmVzcykoSlNPTi5zdHJpbmdpZnkoUykse291dHB1dEVuY29kaW5nOlwiQmFzZTY0XCJ9KSk7dmFyIFM7Y29uc3QgST1gJHt3fT8kJCR7b3R9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KEUpfWAsVD1gaHR0cHM6Ly9zdGFydC5vcGVuZmluLmNvLz9tYW5pZmVzdD0ke2VuY29kZVVSSUNvbXBvbmVudChJKX1gLFI9eyRzY2hlbWE6XCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiLHR5cGU6XCJBZGFwdGl2ZUNhcmRcIix2ZXJzaW9uOlwiMS40XCIsYm9keTpbe3R5cGU6XCJDb2x1bW5TZXRcIixjb2x1bW5zOlt7dHlwZTpcIkNvbHVtblwiLHdpZHRoOlwic3RyZXRjaFwiLGl0ZW1zOlt7dHlwZTpcIkNvbnRhaW5lclwiLGl0ZW1zOlt7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6bnVsbCE9aD9oOmQudG9VcHBlckNhc2UoKSx3cmFwOiEwLHNpemU6XCJMYXJnZVwiLHNwYWNpbmc6XCJOb25lXCJ9LGgmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpkLnRvVXBwZXJDYXNlKCksaXNTdWJ0bGU6ITAsd3JhcDohMCxzcGFjaW5nOlwiTm9uZVwifSxwJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6YHt7REFURSgke3B9LCBTSE9SVCl9fSB7e1RJTUUoJHtwfSl9fWAsd3JhcDohMCxzaXplOlwiU21hbGxcIn1dfV19LG51bGwhPXUmJiFiJiZ7dHlwZTpcIkNvbHVtblwiLHdpZHRoOlwic3RyZXRjaFwiLGl0ZW1zOlt7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6dS50b0ZpeGVkKDIpLHNpemU6XCJFeHRyYUxhcmdlXCIsd3JhcDohMCxob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIn0sbnVsbCE9ZyYmbnVsbCE9eSYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OmAke3Z9ICR7Zy50b0ZpeGVkKDIpfSAoJHt5LnRvRml4ZWQoMil9JSlgLGNvbG9yOm0sc3BhY2luZzpcIk5vbmVcIix3cmFwOiEwLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwifSwobnVsbCE9Znx8bnVsbCE9bHx8bnVsbCE9YykmJnt0eXBlOlwiQ29udGFpbmVyXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsaXRlbXM6W3t0eXBlOlwiQ29sdW1uU2V0XCIsY29sdW1uczpbe3R5cGU6XCJDb2x1bW5cIix3aWR0aDpcInN0cmV0Y2hcIixpdGVtczpbbnVsbCE9ZiYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OlwiT3BlblwiLHdyYXA6ITAsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsc2l6ZTpcIlNtYWxsXCIsd2VpZ2h0OlwiQm9sZGVyXCIsc3BhY2luZzpcIk5vbmVcIn0sbnVsbCE9bCYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OlwiSGlnaFwiLHdyYXA6ITAsc3BhY2luZzpcIk5vbmVcIixob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixzaXplOlwiU21hbGxcIix3ZWlnaHQ6XCJCb2xkZXJcIn0sbnVsbCE9YyYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OlwiTG93XCIsd3JhcDohMCxzcGFjaW5nOlwiTm9uZVwiLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLHNpemU6XCJTbWFsbFwiLHdlaWdodDpcIkJvbGRlclwifV19LHt0eXBlOlwiQ29sdW1uXCIsd2lkdGg6XCJhdXRvXCIsaXRlbXM6W251bGwhPWYmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpmLnRvRml4ZWQoMiksd3JhcDohMCxzcGFjaW5nOlwiTm9uZVwiLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLHNpemU6XCJTbWFsbFwifSxudWxsIT1sJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6bC50b0ZpeGVkKDIpLHdyYXA6ITAsc3BhY2luZzpcIk5vbmVcIixob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixzaXplOlwiU21hbGxcIn0sbnVsbCE9YyYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OmMudG9GaXhlZCgyKSx3cmFwOiEwLHNwYWNpbmc6XCJOb25lXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsc2l6ZTpcIlNtYWxsXCJ9XX1dfV0sc3BhY2luZzpcIlNtYWxsXCJ9XX1dfSxiJiZ7dHlwZTpcIkltYWdlXCIsdXJsOlwiLi4vaG9zdGVkQ29udGVudHMvMS8kdmFsdWVcIixzcGFjaW5nOlwiU21hbGxcIn0se3R5cGU6XCJBY3Rpb25TZXRcIixhY3Rpb25zOlt7dHlwZTpcIkFjdGlvbi5PcGVuVXJsXCIsdXJsOlQsdGl0bGU6XCJPcGVuXCJ9XX1dfSx4PXthdHRhY2htZW50czpbe2lkOlwiMVwiLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vdm5kLm1pY3Jvc29mdC5jYXJkLmFkYXB0aXZlXCIsY29udGVudDpKU09OLnN0cmluZ2lmeSh6KFIpKX1dLGJvZHk6e2NvbnRlbnRUeXBlOlwiaHRtbFwiLGNvbnRlbnQ6JzxhdHRhY2htZW50IGlkPVwiMVwiPjwvYXR0YWNobWVudD4nfSxzdW1tYXJ5OlwiVGVzdCBzdW1tYXJ5XCJ9O2lmKGIpe2NvbnN0Wyx0LGVdPVsuLi5iLm1hdGNoKC9eZGF0YTooW147XSspO2Jhc2U2NCwoLispJC9pKV07eC5ob3N0ZWRDb250ZW50cz1be1wiQG1pY3Jvc29mdC5ncmFwaC50ZW1wb3JhcnlJZFwiOlwiMVwiLGNvbnRlbnRCeXRlczplLGNvbnRlbnRUeXBlOnR9XX1yZXR1cm4geH0sYXQ9dD0+dD9cIm1zdGVhbXM6XCI6XCJodHRwczovL3RlYW1zLm1pY3Jvc29mdC5jb21cIixzdD1hc3luYyB0PT57Y29uc3QgZT1udWxsPT10P3ZvaWQgMDp0W290XTtpZihlKXRyeXtjb25zdCB0PSh0PT57Y29uc3QgZT0oMCwkLmRlY29tcHJlc3MpKHQse2lucHV0RW5jb2Rpbmc6XCJCYXNlNjRcIixvdXRwdXRFbmNvZGluZzpcIlN0cmluZ1wifSk7cmV0dXJuIEpTT04ucGFyc2UoZSl9KShlKSx7Y29udGV4dDpuLGludGVudDpyfT10LG89e2NvbnRleHQ6bixuYW1lOnJ9O3JldHVybiBhd2FpdCBmaW4ubWUuaW50ZXJvcC5maXJlSW50ZW50KG8pLG99Y2F0Y2godCl7Y29uc3QgZT10Lm1lc3NhZ2U7dGhyb3cgbmV3IEEoXCJGYWlsZWQgdG8gZGVjb21wcmVzcyBzaGFyZSBwYXlsb2FkXCIrKGU/YCAoJHtlfSlgOlwiXCIpLHQpfX0sdXQ9YXN5bmModCxlLG4pPT57Y29uc3Qgcj1hd2FpdChhc3luYyh0LGUsbj1bXSk9Pnt0cnl7Y29uc3Qgcj1bXCJpZFwiLC4uLm5dLmpvaW4oXCIsXCIpLHtkYXRhOm99PWF3YWl0IHQuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL3RlYW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfT8kc2VsZWN0PSR7cn1gKTtyZXR1cm4gb31jYXRjaCh0KXtpZig0MDQhPT10LnN0YXR1cyl0aHJvdyB0fX0pKHQsZSxbXCJkaXNwbGF5TmFtZVwiXSk7aWYoIXIpcmV0dXJuO2xldCBvO2lmKHQubG9nZ2VyLmxvZ0luZm8oXCJSZXNvbHZlZCB0ZWFtXCIsciksbil7aWYobz1hd2FpdChhc3luYyh0LGUsbixyPVtdKT0+e3RyeXtjb25zdCBvPVtcImlkXCIsLi4ucl0uam9pbihcIixcIikse2RhdGE6aX09YXdhaXQgdC5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvdGVhbXMvJHtlbmNvZGVVUklDb21wb25lbnQobil9L2NoYW5uZWxzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfT8kc2VsZWN0PSR7b31gKTtyZXR1cm4gaX1jYXRjaCh0KXtpZig0MDQhPT10LnN0YXR1cyl0aHJvdyB0fX0pKHQsbixlLFtcImRpc3BsYXlOYW1lXCJdKSwhbylyZXR1cm4gdm9pZCB0LmxvZ2dlci5sb2dXYXJuaW5nKGBDb3VsZCBub3QgcmVzb2x2ZSBjaGFubmVsIGZyb20gaWQgJHtufWApfWVsc2V7dC5sb2dnZXIubG9nSW5mbyhcIk5vIGNoYW5uZWwgaWQgc3VwcGxpZWQsIHVzaW5nIHByaW1hcnkgY2hhbm5lbFwiKTtjb25zdHtkYXRhOm59PWF3YWl0IHQuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL3RlYW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfS9wcmltYXJ5Q2hhbm5lbD8kc2VsZWN0PWRpc3BsYXlOYW1lLGlkYCk7bz1ufWNvbnN0IGk9e2NoYW5uZWxJZDpvLmlkLGNoYW5uZWxOYW1lOm8uZGlzcGxheU5hbWUsdGVhbUlkOnIuaWQsdGVhbU5hbWU6ci5kaXNwbGF5TmFtZX07cmV0dXJuIHQubG9nZ2VyLmxvZ0luZm8oXCJSZXNvbHZlZCB0ZWFtIGNoYW5uZWxcIixlLG4saSksaX07Y2xhc3MgbHR7Y29uc3RydWN0b3IodCxlPSEwKXt0aGlzLmxvZ2dlcj10LnByb3ZpZGVyLmxvZ2dlcix0aGlzLnByb3ZpZGVyPXQucHJvdmlkZXIsdGhpcy51c2VNc1RlYW1zUHJvdG9jb2w9ZSx0aGlzLnJlZ2lzdGVySW50ZW50SGFuZGxlcnM9dGhpcy5yZWdpc3RlckludGVudEhhbmRsZXJzLmJpbmQodGhpcyksdGhpcy5zaGFyZT10aGlzLnNoYXJlLmJpbmQodGhpcyksdGhpcy5zdGFydENhbGw9dGhpcy5zdGFydENhbGwuYmluZCh0aGlzKSx0aGlzLnN0YXJ0Q2hhdD10aGlzLnN0YXJ0Q2hhdC5iaW5kKHRoaXMpLHRoaXMuZW5hYmxlU2hhcmVQYXlsb2FkSGFuZGxlcigpLEYoSC5UZWFtcyx0aGlzLmxvZ2dlcil9YXN5bmMgZW5hYmxlU2hhcmVQYXlsb2FkSGFuZGxlcigpe2NvbnN0e2luaXRpYWxPcHRpb25zOnR9PWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldEluZm8oKSx7dXNlckFwcENvbmZpZ0FyZ3M6ZX09dCxuPWF3YWl0IHN0KGUpO24mJnRoaXMubG9nZ2VyLmxvZ0luZm8oXCJGaXJpbmcgaW50ZW50XCIsbiksZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuYWRkTGlzdGVuZXIoXCJydW4tcmVxdWVzdGVkXCIsKGFzeW5jIHQ9Pnt0cnl7Y29uc3QgZT1hd2FpdCBzdCh0LnVzZXJBcHBDb25maWdBcmdzKTtlJiZ0aGlzLmxvZ2dlci5sb2dJbmZvKFwiRmlyaW5nIGludGVudFwiLGUpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpfX0pKX1hc3luYyBvcGVuVXJsKHQpe3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJvcGVuVXJsIHN0YXJ0ZWRcIix0KTt0cnl7Y29uc3QgZT10aGlzLnVzZU1zVGVhbXNQcm90b2NvbD90LnJlcGxhY2UoL15odHRwczpcXC9cXC90ZWFtcy5taWNyb3NvZnQuY29tXFwvL2ksXCJtc3RlYW1zOlwiKTp0O3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJPcGVuaW5nIHVybFwiLGUpLGF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGUpLHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJvcGVuVXJsIGNvbXBsZXRlZFwiKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX1hc3luYyByZWdpc3RlckludGVudEhhbmRsZXJzKCl7aWYodGhpcy5sb2dnZXIubG9nSW5mbyhcInJlZ2lzdGVySW50ZW50SGFuZGxlcnMgc3RhcnRlZFwiKSx0aGlzLnVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnMpcmV0dXJue3Vuc3Vic2NyaWJlOnRoaXMudW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVyc307dHJ5e2F3YWl0IGZpbi5tZS5pbnRlcm9wLmdldENvbnRleHRHcm91cHMoKTtjb25zdCB0PWF3YWl0IGZpbi5tZS5pbnRlcm9wLnJlZ2lzdGVySW50ZW50SGFuZGxlcigoYXN5bmMgdD0+e3RyeXthd2FpdCgodCxlKT0+YXN5bmMgbj0+e3ZhciByLG8saSxhO2lmKHQubG9nZ2VyLmxvZ0luZm8oXCJoYW5kbGVTdGFydENhbGxJbnRlbnQgc3RhcnRlZFwiLG4pLChudWxsPT09KHI9bi5uYW1lKXx8dm9pZCAwPT09cj92b2lkIDA6ci50b0xvd2VyQ2FzZSgpKSE9PXJ0LlN0YXJ0Q2FsbC50b0xvd2VyQ2FzZSgpKXRocm93IG5ldyBBKGBVbmV4cGVjdGVkIGludGVudCB0eXBlOiAke24ubmFtZX1gKTtjb25zdHtjb250ZXh0OnN9PW47aWYoKG51bGw9PT0obz1zLnR5cGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRvTG93ZXJDYXNlKCkpIT09bnQuQ29udGFjdC50b0xvd2VyQ2FzZSgpJiYobnVsbD09PShpPXMudHlwZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudG9Mb3dlckNhc2UoKSkhPT1udC5Db250YWN0TGlzdC50b0xvd2VyQ2FzZSgpKXRocm93IG5ldyBBKGBVbmV4cGVjdGVkIGNvbnRleHQgdHlwZTogJHtzLnR5cGV9YCk7Y29uc3QgdT0obnVsbD09PShhPXMudHlwZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSk9PT1udC5Db250YWN0TGlzdC50b0xvd2VyQ2FzZSgpP3MuY29udGFjdHMubWFwKCh0PT50LmlkLmVtYWlsKSkuZmlsdGVyKEJvb2xlYW4pOltzLmlkLmVtYWlsXSxsPWF3YWl0IGUodSk7dC5sb2dnZXIubG9nSW5mbyhcImhhbmRsZVN0YXJ0Q2FsbEludGVudCBjb21wbGV0ZWRcIixsKX0pKHRoaXMucHJvdmlkZXIsdGhpcy5zdGFydENhbGwpKHQpfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fSksXCJTdGFydENhbGxcIiksZT1hd2FpdCBmaW4ubWUuaW50ZXJvcC5yZWdpc3RlckludGVudEhhbmRsZXIoKGFzeW5jIHQ9Pnt0cnl7YXdhaXQoKHQsZSk9PmFzeW5jIG49Pnt2YXIgcixvLGksYTtpZih0LmxvZ2dlci5sb2dJbmZvKFwiaGFuZGxlU3RhcnRDaGF0SW50ZW50IHN0YXJ0ZWRcIixuKSwobnVsbD09PShyPW4ubmFtZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIudG9Mb3dlckNhc2UoKSkhPT1ydC5TdGFydENoYXQudG9Mb3dlckNhc2UoKSl0aHJvdyBuZXcgQShgVW5leHBlY3RlZCBpbnRlbnQgdHlwZTogJHtuLm5hbWV9YCk7Y29uc3R7Y29udGV4dDpzfT1uO2lmKChudWxsPT09KG89cy50eXBlKXx8dm9pZCAwPT09bz92b2lkIDA6by50b0xvd2VyQ2FzZSgpKSE9PW50LkNvbnRhY3QudG9Mb3dlckNhc2UoKSYmKG51bGw9PT0oaT1zLnR5cGUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnRvTG93ZXJDYXNlKCkpIT09bnQuQ29udGFjdExpc3QudG9Mb3dlckNhc2UoKSl0aHJvdyBuZXcgQShgVW5leHBlY3RlZCBjb250ZXh0IHR5cGU6ICR7cy50eXBlfWApO2NvbnN0IHU9KG51bGw9PT0oYT1zLnR5cGUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvTG93ZXJDYXNlKCkpPT09bnQuQ29udGFjdExpc3QudG9Mb3dlckNhc2UoKT9zLmNvbnRhY3RzLm1hcCgodD0+dC5pZC5lbWFpbCkpLmZpbHRlcihCb29sZWFuKTpbcy5pZC5lbWFpbF0sbD1hd2FpdCBlKHtlbWFpbEFkZHJlc3Nlczp1LHRvcGljTmFtZTpzLm5hbWV9KTt0LmxvZ2dlci5sb2dJbmZvKFwiaGFuZGxlU3RhcnRDaGF0SW50ZW50IGNvbXBsZXRlZFwiLGwpfSkodGhpcy5wcm92aWRlcix0aGlzLnN0YXJ0Q2hhdCkodCl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19KSxcIlN0YXJ0Q2hhdFwiKTtyZXR1cm4gdGhpcy51bnN1YnNjcmliZUludGVudEhhbmRsZXJzPWFzeW5jKCk9Pnt0aGlzLmxvZ2dlci5sb2dJbmZvKFwidW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVycyBzdGFydGVkXCIpLGF3YWl0IHQudW5zdWJzY3JpYmUoKSxhd2FpdCBlLnVuc3Vic2NyaWJlKCksdGhpcy51bnN1YnNjcmliZUludGVudEhhbmRsZXJzPXZvaWQgMCx0aGlzLmxvZ2dlci5sb2dJbmZvKFwidW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVycyBjb21wbGV0ZWRcIil9LHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJyZWdpc3RlckludGVudEhhbmRsZXJzIGNvbXBsZXRlZFwiKSx7dW5zdWJzY3JpYmU6dGhpcy51bnN1YnNjcmliZUludGVudEhhbmRsZXJzfX1jYXRjaCh0KXtjb25zdCBlPW5ldyBJbnRlcm9wRXJyb3IodC5tZXNzYWdlKTt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcihlKSxlfX1hc3luYyBzaGFyZSh0KXt2YXIgZSxuLHIsbzt0aGlzLmxvZ2dlci5sb2dJbmZvKFwic2hhcmUgc3RhcnRlZFwiLHQpO3RyeXtpZighdC50YXJnZXQpdGhyb3cgbmV3IEIoXCJUYXJnZXQgbm90IHByb3ZpZGVkXCIpO2lmKChudWxsPT09KGU9dC5jb250ZXh0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50eXBlLnRvTG93ZXJDYXNlKCkpIT09bnQuSW5zdHJ1bWVudC50b0xvd2VyQ2FzZSgpKXRocm93IG5ldyBCKFwiVW5zdXBwb3J0ZWQgY29udGV4dCB0eXBlXCIpO2lmKCEobnVsbD09PShyPW51bGw9PT0obj10LmNvbnRleHQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkKXx8dm9pZCAwPT09cj92b2lkIDA6ci50aWNrZXIpKXRocm93IG5ldyBCKFwiVGlja2VyIG5vdCBwcm92aWRlZFwiKTtpZighdC5jaGFydEltYWdlJiZudWxsPT10LnByaWNlQ3VycmVudCl0aHJvdyBuZXcgQihcIkN1cnJlbnQgcHJpY2Ugbm90IHByb3ZpZGVkXCIpO2NvbnN0IGk9bnVsbD09PShvPXQuc2hvd01lc3NhZ2UpfHx2b2lkIDA9PT1vfHxvLGE9YXdhaXQgaXQodGhpcy5wcm92aWRlcix0KTtsZXQgcztpZihBcnJheS5pc0FycmF5KHQudGFyZ2V0KSl7Y29uc3R7dGFyZ2V0OmV9PXQsbj1hd2FpdCBXKHRoaXMucHJvdmlkZXIsZSxbXCJkaXNwbGF5TmFtZVwiLFwibWFpbFwiXSkscj1uLmZpbHRlcihCb29sZWFuKTtpZighci5sZW5ndGgpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZ1dhcm5pbmcoXCJDb3VsZCBub3QgcmVzb2x2ZSBhbnkgdmFsaWQgdXNlcnMgZnJvbSBlbWFpbCBhZGRyZXNzZXNcIixlKSxlLm1hcCgoKCk9Pnt9KSk7Y29uc3R7aWQ6byx3ZWJVcmw6dX09YXdhaXQoYXN5bmModCxlKT0+e2NvbnN0IG49e2NoYXRUeXBlOmUubGVuZ3RoPjI/XCJncm91cFwiOlwib25lT25PbmVcIixtZW1iZXJzOmUubWFwKChlPT4oe1wiQG9kYXRhLnR5cGVcIjpcIiNtaWNyb3NvZnQuZ3JhcGguYWFkVXNlckNvbnZlcnNhdGlvbk1lbWJlclwiLHJvbGVzOnEoZSk/W1wiZ3Vlc3RcIl06W1wib3duZXJcIl0sXCJ1c2VyQG9kYXRhLmJpbmRcIjpgJHt0LmFwaU9yaWdpbn0vdjEuMC91c2VycygnJHtlLmlkfScpYH0pKSl9LHtkYXRhOnJ9PWF3YWl0IHQuZXhlY3V0ZUFwaVJlcXVlc3QoXCIvdjEuMC9jaGF0c1wiLFwiUE9TVFwiLG4pO3JldHVybiByfSkodGhpcy5wcm92aWRlcixbdGhpcy5wcm92aWRlci5jdXJyZW50VXNlciwuLi5yXSkse2RhdGE6bH09YXdhaXQgdGhpcy5wcm92aWRlci5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvY2hhdHMvJHtlbmNvZGVVUklDb21wb25lbnQobyl9L21lc3NhZ2VzYCxcIlBPU1RcIixhKTt0aGlzLmxvZ2dlci5sb2dJbmZvKFwiU2VudCBjaGF0IG1lc3NhZ2VcIixsKSxpJiZhd2FpdCB0aGlzLm9wZW5VcmwodSkscz1EKG4pfWVsc2V7Y29uc3R7dGFyZ2V0OmV9PXQsbj1hd2FpdCB1dCh0aGlzLnByb3ZpZGVyLGUudGVhbUlkLGUuY2hhbm5lbElkKTtpZighbilyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5sb2dXYXJuaW5nKFwiQ291bGQgbm90IHJlc29sdmUgdGVhbS9jaGFubmVsXCIsZS50ZWFtSWQsZS5jaGFubmVsSWQpO2NvbnN0e2NoYW5uZWxJZDpyLHRlYW1JZDpvfT1uLHtkYXRhOnV9PWF3YWl0IHRoaXMucHJvdmlkZXIuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL3RlYW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG8pfS9jaGFubmVscy8ke2VuY29kZVVSSUNvbXBvbmVudChyKX0vbWVzc2FnZXNgLFwiUE9TVFwiLGEpO3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJTZW50IGNoYXQgbWVzc2FnZVwiLHUpLGkmJmF3YWl0IHRoaXMub3BlblVybCh1LndlYlVybCkscz1ufXJldHVybiB0aGlzLmxvZ2dlci5sb2dJbmZvKFwic2hhcmUgY29tcGxldGVkXCIscyksc31jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX1hc3luYyBzdGFydENhbGwodD1bXSxlPSExKXt0aGlzLmxvZ2dlci5sb2dJbmZvKFwic3RhcnRDYWxsIHN0YXJ0ZWRcIix0KTt0cnl7bGV0IG49YCR7YXQodGhpcy51c2VNc1RlYW1zUHJvdG9jb2wpfS9sL2NhbGwvMC8wP2A7Y29uc3Qgcj1hd2FpdCBXKHRoaXMucHJvdmlkZXIsdCxbXCJkaXNwbGF5TmFtZVwiLFwibWFpbFwiXSksbz1yLmZpbHRlcihCb29sZWFuKS5tYXAoKHQ9PmVuY29kZVVSSUNvbXBvbmVudCh0LnVzZXJQcmluY2lwYWxOYW1lKSkpO2lmKCFvLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIubG9nV2FybmluZyhcIkNvdWxkIG5vdCByZXNvbHZlIGFueSB2YWxpZCB1c2VycyBmcm9tIHN1cHBsaWVkIGVtYWlsc1wiLHQpLHQubWFwKCgoKT0+e30pKTtuKz1gdXNlcnM9JHtvLmpvaW4oXCIsXCIpfSZ3aXRoVmlkZW89JHtlfWAsdGhpcy5sb2dnZXIubG9nSW5mbyhcIk9wZW5pbmcgVGVhbXNcIixuKSxhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihuKTtjb25zdCBpPUQocik7cmV0dXJuIHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJzdGFydENhbGwgY29tcGxldGVkXCIsaSksaX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX1hc3luYyBzdGFydENoYXQodCl7dGhpcy5sb2dnZXIubG9nSW5mbyhcInN0YXJ0Q2hhdCBzdGFydGVkXCIsdCk7dHJ5e2xldCBlLG47aWYoXCJ0ZWFtSWRcImluIHQpe2NvbnN0e3RlYW1JZDpyLGNoYW5uZWxJZDpvfT10LGk9YXdhaXQgdXQodGhpcy5wcm92aWRlcixyLG8pO2lmKCFpKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmxvZ1dhcm5pbmcoXCJDb3VsZCBub3QgcmVzb2x2ZSB0ZWFtL2NoYW5uZWxcIixyLG8pO2U9YCR7YXQodGhpcy51c2VNc1RlYW1zUHJvdG9jb2wpfS9sL2NoYW5uZWwvJHtlbmNvZGVVUklDb21wb25lbnQoaS5jaGFubmVsSWQpfS8ke2VuY29kZVVSSUNvbXBvbmVudChpLmNoYW5uZWxOYW1lKX0/Z3JvdXBJZD0ke2kudGVhbUlkfSZ0ZW5hbnRJZD0ke3RoaXMucHJvdmlkZXIudGVuYW50SWR9YCxuPWl9ZWxzZXtjb25zdHtlbWFpbEFkZHJlc3NlczpyLG1lc3NhZ2U6byx0b3BpY05hbWU6aX09dDtlPWAke2F0KHRoaXMudXNlTXNUZWFtc1Byb3RvY29sKX0vbC9jaGF0LzAvMD9gO2NvbnN0IGE9YXdhaXQgVyh0aGlzLnByb3ZpZGVyLHIsW1wiZGlzcGxheU5hbWVcIixcIm1haWxcIl0pLHM9YS5maWx0ZXIoQm9vbGVhbikubWFwKCh0PT5lbmNvZGVVUklDb21wb25lbnQodC51c2VyUHJpbmNpcGFsTmFtZSkpKTtpZighcy5sZW5ndGgpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZ1dhcm5pbmcoXCJDb3VsZCBub3QgcmVzb2x2ZSBhbnkgdmFsaWQgdXNlcnMgZnJvbSBlbWFpbCBhZGRyZXNzZXNcIixyKSxyLm1hcCgoKCk9Pnt9KSk7ZSs9YHVzZXJzPSR7cy5qb2luKFwiLFwiKX1gLGkmJihlKz1gJnRvcGljTmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChpKX1gKSxvJiYoZSs9YCZtZXNzYWdlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG8pfWApLG49RChhKX1yZXR1cm4gdGhpcy5sb2dnZXIubG9nSW5mbyhcIk9wZW5pbmcgVGVhbXNcIixlKSxhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihlKSx0aGlzLmxvZ2dlci5sb2dJbmZvKFwic3RhcnRDaGF0IGNvbXBsZXRlZFwiLG4pLG59Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19fX0sOTE6KCk9Pnt9fSxlPXt9O2Z1bmN0aW9uIG4ocil7dmFyIG89ZVtyXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIGk9ZVtyXT17aWQ6cixsb2FkZWQ6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsbiksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfW4uYz1lLG4uZD0odCxlKT0+e2Zvcih2YXIgciBpbiBlKW4ubyhlLHIpJiYhbi5vKHQscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2VudW1lcmFibGU6ITAsZ2V0OmVbcl19KX0sbi5nPWZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksbi5vPSh0LGUpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSxuLm5tZD10PT4odC5wYXRocz1bXSx0LmNoaWxkcmVufHwodC5jaGlsZHJlbj1bXSksdCk7dmFyIHI9bihuLnM9NTQpLG89ci5NUyxpPXIuY0YsYT1yLkFLLHM9ci5NXyx1PXIuY1gsbD1yLkJULGM9ci5fVyxmPXIuUGcsZD1yLiRqLGg9ci5VJCxwPXIuVTc7ZXhwb3J0e28gYXMgQXBpRXJyb3IsaSBhcyBBcGlSZXF1ZXN0RXJyb3IsYSBhcyBBdXRoVG9rZW5FeHBpcmVkRXJyb3IscyBhcyBBdXRob3JpemF0aW9uRXJyb3IsdSBhcyBJbml0aWFsaXphdGlvbkVycm9yLGwgYXMgSW50ZXJvcEVycm9yLGMgYXMgUGFyYW1ldGVyRXJyb3IsZiBhcyBUZWFtc0Nvbm5lY3Rpb24sZCBhcyBjb25uZWN0LGggYXMgZGlzYWJsZUxvZ2dpbmcscCBhcyBlbmFibGVMb2dnaW5nfTsiLCIoKCk9Pnt2YXIgZT17ODQ3OihlLHQpPT57dmFyIGE9ezIzNDY6ZnVuY3Rpb24oZSx0LGEpe3ZhciBuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0TW9zdFJlYWRhYmxlPXQuZGFya2VuQ29sb3I9dC5saWdodGVuQ29sb3I9dm9pZCAwO2NvbnN0IG89bihhKDY1MzUpKTt0LmxpZ2h0ZW5Db2xvcj0oZSx0KT0+cihlLFwibGlnaHRlblwiLHQpLHQuZGFya2VuQ29sb3I9KGUsdCk9PnIoZSxcImRhcmtlblwiLHQpO2NvbnN0IHI9KGUsdCxhKT0+e2lmKGEmJihhPDB8fGE+MTAwKSl0aHJvdyBuZXcgRXJyb3IoYCR7YX0gbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMGApO3JldHVybigwLG8uZGVmYXVsdCkoZSlbdF0oYSkudG9TdHJpbmcoKX07dC5nZXRNb3N0UmVhZGFibGU9KGUsdCk9Pm8uZGVmYXVsdC5tb3N0UmVhZGFibGUoZSx0KS50b0hleFN0cmluZygpfSwyMzE3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JY29uU2l6ZT10LlRyYW5zaXRpb249dC5MaW5lSGVpZ2h0PXQuRm9udFdlaWdodD10LkZvbnRTaXplPXQuRm9udEZhbWlseT10LlNoYWRvdz10LlJhZGl1cz10LlVuaXRQeD10LlVuaXQ9dC5TaXplTmFtZT10LlNpemU9dC5Db2xvcj12b2lkIDAsdC5Db2xvcj17d2hpdGU6XCIjRkZGRkZGXCIsbGlnaHRHcmF5MTpcIiNGQUZCRkVcIixsaWdodEdyYXkyOlwiI0YzRjVGOFwiLGxpZ2h0R3JheTM6XCIjRUNFRUYxXCIsbGlnaHRHcmF5NDpcIiNERERGRTRcIixsaWdodEdyYXk1OlwiI0M5Q0JEMlwiLG5ldXRyYWxHcmF5OlwiIzdEODA4QVwiLG5ldXRyYWxHcmF5ODA6XCJyZ2JhKDEyNSwxMjgsMTM4LDAuOClcIixzaWx2ZXJHcmF5OlwiI0MwQzFDMlwiLGRhcmtHcmF5MTpcIiM1MzU2NUZcIixkYXJrR3JheTI6XCIjMzgzQTQwXCIsZGFya0dyYXkzOlwiIzJGMzEzNlwiLGRhcmtHcmF5NDpcIiMyNDI2MkJcIixkYXJrR3JheTU6XCIjMUUxRjIzXCIsZGFya0dyYXk2OlwiIzExMTIxNFwiLG9wZW5GaW5EYXJrZXN0OlwiIzNEMzlDRFwiLG9wZW5GaW5EYXJrZXI6XCIjNDY0MkUwXCIsb3BlbkZpbjpcIiM1MDRDRkZcIixvcGVuRmluTGlnaHQ6XCIjNTI1NEZCXCIsb3BlbkZpbkxpZ2h0ZXI6XCIjNUM1RUZFXCIsb3BlbkZpbkxpZ2h0ZXN0OlwiIzY4NjRGRlwiLGZ1bmN0aW9uYWwxOlwiIzIwNzczNVwiLGZ1bmN0aW9uYWwyOlwiIzQ2QzhGMVwiLGZ1bmN0aW9uYWwzOlwiIzBBNzZEM1wiLGZ1bmN0aW9uYWw0OlwiIzZDQURFNVwiLGZ1bmN0aW9uYWw1OlwiIzBBNzZEM1wiLGZ1bmN0aW9uYWw2OlwiIzg4MkJGRVwiLGZ1bmN0aW9uYWw3OlwiI0YzMTgxOFwiLGZ1bmN0aW9uYWw4OlwiI0M5MzQwMFwiLGZ1bmN0aW9uYWw5OlwiI0ZGNUU2MFwiLGZ1bmN0aW9uYWwxMDpcIiNGNDhGMDBcIixwdXJwbGU6XCIjOEM2MUZGXCIsbGlnaHRibHVlOlwiIzM2QzNGRVwiLGFxdWE6XCIjMDBDQzg4XCIseWVsbG93OlwiI0ZGRUIwMFwiLHNhbG1vbjpcIiNGRjhDNENcIixwaW5rOlwiI0ZGNUU2MFwiLGxpZ2h0cGluazpcIiNGRjhGQjhcIix3aGl0ZTAwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjApXCIsd2hpdGUxMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4xKVwiLHdoaXRlMjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMilcIix3aGl0ZTMwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjMpXCIsd2hpdGU0MDpcInJnYmEoMjU1LDI1NSwyNTUsMC40KVwiLHdoaXRlNTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIix3aGl0ZTYwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjYpXCIsd2hpdGU3MDpcInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiLHdoaXRlODA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIix3aGl0ZTkwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCIsYmxhY2swMDpcInJnYmEoMCwwLDAsMC4wKVwiLGJsYWNrMTA6XCJyZ2JhKDAsMCwwLDAuMSlcIixibGFjazIwOlwicmdiYSgwLDAsMCwwLjIpXCIsYmxhY2szMDpcInJnYmEoMCwwLDAsMC4zKVwiLGJsYWNrNDA6XCJyZ2JhKDAsMCwwLDAuNClcIixibGFjazUwOlwicmdiYSgwLDAsMCwwLjUpXCIsYmxhY2s2MDpcInJnYmEoMCwwLDAsMC42KVwiLGJsYWNrNzA6XCJyZ2JhKDAsMCwwLDAuNylcIixibGFjazgwOlwicmdiYSgwLDAsMCwwLjgpXCIsYmxhY2s5MDpcInJnYmEoMCwwLDAsMC45KVwiLHRyYW5zcGFyZW50OlwidHJhbnNwYXJlbnRcIn0sdC5TaXplPXt4c21hbGw6XCJ4c21hbGxcIixzbWFsbDpcInNtYWxsXCIsYmFzZTpcImJhc2VcIixsYXJnZTpcImxhcmdlXCIseGxhcmdlOlwieGxhcmdlXCIseHhsYXJnZTpcInh4bGFyZ2VcIix4eHhsYXJnZTpcInh4eGxhcmdlXCIseHh4eGxhcmdlOlwieHh4eGxhcmdlXCJ9LHQuU2l6ZU5hbWU9e1t0LlNpemUueHNtYWxsXTpcIkV4dHJhIFNtYWxsXCIsW3QuU2l6ZS5zbWFsbF06XCJTbWFsbFwiLFt0LlNpemUuYmFzZV06XCJCYXNlXCIsW3QuU2l6ZS5sYXJnZV06XCJMYXJnZVwiLFt0LlNpemUueGxhcmdlXTpcIkV4dHJhIExhcmdlXCIsW3QuU2l6ZS54eGxhcmdlXTpcIjJYIExhcmdlXCIsW3QuU2l6ZS54eHhsYXJnZV06XCIzWCBMYXJnZVwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjRYIExhcmdlXCJ9LHQuVW5pdD17W3QuU2l6ZS54c21hbGxdOjQsW3QuU2l6ZS5zbWFsbF06OCxbdC5TaXplLmJhc2VdOjEyLFt0LlNpemUubGFyZ2VdOjE2LFt0LlNpemUueGxhcmdlXToyMCxbdC5TaXplLnh4bGFyZ2VdOjI0LFt0LlNpemUueHh4bGFyZ2VdOjMyLFt0LlNpemUueHh4eGxhcmdlXTo0OH0sdC5Vbml0UHg9e1t0LlNpemUueHNtYWxsXTpcIjRweFwiLFt0LlNpemUuc21hbGxdOlwiOHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjEycHhcIixbdC5TaXplLmxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eGxhcmdlXTpcIjI0cHhcIixbdC5TaXplLnh4eGxhcmdlXTpcIjMycHhcIixbdC5TaXplLnh4eHhsYXJnZV06XCI0OHB4XCJ9LHQuUmFkaXVzPXtbdC5TaXplLnhzbWFsbF06XCIycHhcIixbdC5TaXplLnNtYWxsXTpcIjRweFwiLFt0LlNpemUuYmFzZV06XCI4cHhcIixbdC5TaXplLmxhcmdlXTpcIjI0cHhcIixwaWxsOlwiMTAwdmhcIixyb3VuZDpcIjUwJVwiLG5vbmU6XCIwXCJ9LHQuU2hhZG93PXtbdC5TaXplLmJhc2VdOlwiMCA0cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSlcIn0sdC5Gb250RmFtaWx5PVtcIkludGVyXCIsXCJzeXN0ZW0tdWlcIixcIkJsaW5rTWFjU3lzdGVtRm9udFwiLFwiU2Vnb2UgVUlcIixcIlJvYm90b1wiLFwiT3h5Z2VuLVNhbnNcIixcIlVidW50dVwiLFwiQ2FudGFyZWxsXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLFwic2Fucy1zZXJpZlwiXS5qb2luKFwiLFwiKSx0LkZvbnRTaXplPXtbdC5TaXplLnhzbWFsbF06XCI4cHhcIixbdC5TaXplLnNtYWxsXTpcIjEwcHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTRweFwiLFt0LlNpemUueGxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMThweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMjBweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQwcHhcIn0sdC5Gb250V2VpZ2h0PXtub3JtYWw6NDAwLGJvbGQ6NjAwfSx0LkxpbmVIZWlnaHQ9e3VpOjEsaGVhZGluZzoxLjIsdGV4dDoxLjV9LHQuVHJhbnNpdGlvbj17YmFzZTpcIjIwMG1zIGN1YmljLWJlemllcigwLjE2LCAxLCAwLjMsIDEpXCIsbm9uZTpcIjBtc1wifSx0Lkljb25TaXplPXtbdC5TaXplLnhzbWFsbF06dC5Vbml0UHguc21hbGwsW3QuU2l6ZS5zbWFsbF06dC5Vbml0UHguYmFzZSxbdC5TaXplLmJhc2VdOlwiMTVweFwiLFt0LlNpemUubGFyZ2VdOnQuVW5pdFB4LnhsYXJnZSxbdC5TaXplLnhsYXJnZV06dC5Vbml0UHgueHhsYXJnZSxbdC5TaXplLnh4bGFyZ2VdOnQuVW5pdFB4Lnh4eGxhcmdlLFt0LlNpemUueHh4bGFyZ2VdOnQuVW5pdFB4Lnh4eHhsYXJnZX19LDY4OTM6KGUsdCxhKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlVGhlbWU9dm9pZCAwO2NvbnN0IG49YSgyMzE3KSxvPWEoMjM0Nikscj1hKDU5MzkpLGk9e2ZvbnRGYW1pbHk6bi5Gb250RmFtaWx5LGZvbnRTaXplOm4uRm9udFNpemUsZm9udFdlaWdodDpuLkZvbnRXZWlnaHQsbGluZUhlaWdodDpuLkxpbmVIZWlnaHQsaWNvblNpemU6bi5JY29uU2l6ZSxyYWRpdXM6bi5SYWRpdXMsc2hhZG93Om4uU2hhZG93LHRyYW5zaXRpb246bi5UcmFuc2l0aW9uLHVuaXQ6bi5Vbml0LHB4Om4uVW5pdFB4fSxzPShlLHQpPT4oe1tgJHtlfUFjdGl2ZWBdOigwLG8uZGFya2VuQ29sb3IpKHQsMiksW2Ake2V9SG92ZXJgXTooMCxvLmxpZ2h0ZW5Db2xvcikodCw1KSxbYCR7ZX1Gb2N1c2VkYF06KDAsby5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKSxbYCR7ZX1UZXh0YF06KDAsby5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKX0pO3QuY3JlYXRlVGhlbWU9ZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtwYWxldHRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHMoci5QYWxldHRlLmJyYW5kUHJpbWFyeSxlLmJyYW5kUHJpbWFyeSkpLHMoci5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5LGUuYnJhbmRTZWNvbmRhcnkpKX0pfSw1OTM5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYWxldHRlPXZvaWQgMCx0LlBhbGV0dGU9e2JhY2tncm91bmQxOlwiYmFja2dyb3VuZDFcIixiYWNrZ3JvdW5kMjpcImJhY2tncm91bmQyXCIsYmFja2dyb3VuZDM6XCJiYWNrZ3JvdW5kM1wiLGJhY2tncm91bmQ0OlwiYmFja2dyb3VuZDRcIixiYWNrZ3JvdW5kNTpcImJhY2tncm91bmQ1XCIsYmFja2dyb3VuZDY6XCJiYWNrZ3JvdW5kNlwiLGJyYW5kUHJpbWFyeTpcImJyYW5kUHJpbWFyeVwiLGJyYW5kU2Vjb25kYXJ5OlwiYnJhbmRTZWNvbmRhcnlcIixicmFuZFByaW1hcnlBY3RpdmU6XCJicmFuZFByaW1hcnlBY3RpdmVcIixicmFuZFByaW1hcnlIb3ZlcjpcImJyYW5kUHJpbWFyeUhvdmVyXCIsYnJhbmRQcmltYXJ5Rm9jdXNlZDpcImJyYW5kUHJpbWFyeUZvY3VzZWRcIixicmFuZFByaW1hcnlUZXh0OlwiYnJhbmRQcmltYXJ5VGV4dFwiLGJyYW5kU2Vjb25kYXJ5QWN0aXZlOlwiYnJhbmRTZWNvbmRhcnlBY3RpdmVcIixicmFuZFNlY29uZGFyeUhvdmVyOlwiYnJhbmRTZWNvbmRhcnlIb3ZlclwiLGJyYW5kU2Vjb25kYXJ5Rm9jdXNlZDpcImJyYW5kU2Vjb25kYXJ5Rm9jdXNlZFwiLGJyYW5kU2Vjb25kYXJ5VGV4dDpcImJyYW5kU2Vjb25kYXJ5VGV4dFwiLGlucHV0QmFja2dyb3VuZDpcImlucHV0QmFja2dyb3VuZFwiLGlucHV0Q29sb3I6XCJpbnB1dENvbG9yXCIsaW5wdXRQbGFjZWhvbGRlcjpcImlucHV0UGxhY2Vob2xkZXJcIixpbnB1dERpc2FibGVkOlwiaW5wdXREaXNhYmxlZFwiLGlucHV0Rm9jdXNlZDpcImlucHV0Rm9jdXNlZFwiLGlucHV0Qm9yZGVyOlwiaW5wdXRCb3JkZXJcIixzdGF0dXNTdWNjZXNzOlwic3RhdHVzU3VjY2Vzc1wiLHN0YXR1c1dhcm5pbmc6XCJzdGF0dXNXYXJuaW5nXCIsc3RhdHVzQ3JpdGljYWw6XCJzdGF0dXNDcml0aWNhbFwiLHN0YXR1c0FjdGl2ZTpcInN0YXR1c0FjdGl2ZVwiLHRleHREZWZhdWx0OlwidGV4dERlZmF1bHRcIix0ZXh0SGVscDpcInRleHRIZWxwXCIsdGV4dEluYWN0aXZlOlwidGV4dEluYWN0aXZlXCIsYm9yZGVyTmV1dHJhbDpcImJvcmRlck5ldXRyYWxcIixjb250ZW50QmFja2dyb3VuZDE6XCJjb250ZW50QmFja2dyb3VuZDFcIixjb250ZW50QmFja2dyb3VuZDI6XCJjb250ZW50QmFja2dyb3VuZDJcIixjb250ZW50QmFja2dyb3VuZDM6XCJjb250ZW50QmFja2dyb3VuZDNcIixjb250ZW50QmFja2dyb3VuZDQ6XCJjb250ZW50QmFja2dyb3VuZDRcIixjb250ZW50QmFja2dyb3VuZDU6XCJjb250ZW50QmFja2dyb3VuZDVcIixsaW5rRGVmYXVsdDpcImxpbmtEZWZhdWx0XCIsbGlua0hvdmVyOlwibGlua0hvdmVyXCJ9fSw2NTM1OmZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJuKGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKHQpfXZhciB0PS9eXFxzKy8sYT0vXFxzKyQvO2Z1bmN0aW9uIG4obyxyKXtpZihyPXJ8fHt9LChvPW98fFwiXCIpaW5zdGFuY2VvZiBuKXJldHVybiBvO2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbihvLHIpO3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciBvLHIsaSxzPXtyOjAsZzowLGI6MH0sYz0xLGw9bnVsbCxkPW51bGwsdT1udWxsLHA9ITEsdz0hMTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbiYmKG49ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UodCxcIlwiKS5yZXBsYWNlKGEsXCJcIikudG9Mb3dlckNhc2UoKTt2YXIgbixvPSExO2lmKGZbZV0pZT1mW2VdLG89ITA7ZWxzZSBpZihcInRyYW5zcGFyZW50XCI9PWUpcmV0dXJue3I6MCxnOjAsYjowLGE6MCxmb3JtYXQ6XCJuYW1lXCJ9O3JldHVybihuPUIucmdiLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXX06KG49Qi5yZ2JhLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXSxhOm5bNF19OihuPUIuaHNsLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXX06KG49Qi5oc2xhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXSxhOm5bNF19OihuPUIuaHN2LmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXX06KG49Qi5oc3ZhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXSxhOm5bNF19OihuPUIuaGV4OC5leGVjKGUpKT97cjpNKG5bMV0pLGc6TShuWzJdKSxiOk0oblszXSksYTpXKG5bNF0pLGZvcm1hdDpvP1wibmFtZVwiOlwiaGV4OFwifToobj1CLmhleDYuZXhlYyhlKSk/e3I6TShuWzFdKSxnOk0oblsyXSksYjpNKG5bM10pLGZvcm1hdDpvP1wibmFtZVwiOlwiaGV4XCJ9OihuPUIuaGV4NC5leGVjKGUpKT97cjpNKG5bMV0rXCJcIituWzFdKSxnOk0oblsyXStcIlwiK25bMl0pLGI6TShuWzNdK1wiXCIrblszXSksYTpXKG5bNF0rXCJcIituWzRdKSxmb3JtYXQ6bz9cIm5hbWVcIjpcImhleDhcIn06ISEobj1CLmhleDMuZXhlYyhlKSkmJntyOk0oblsxXStcIlwiK25bMV0pLGc6TShuWzJdK1wiXCIrblsyXSksYjpNKG5bM10rXCJcIituWzNdKSxmb3JtYXQ6bz9cIm5hbWVcIjpcImhleFwifX0obikpLFwib2JqZWN0XCI9PWUobikmJihFKG4ucikmJkUobi5nKSYmRShuLmIpPyhvPW4ucixyPW4uZyxpPW4uYixzPXtyOjI1NSpQKG8sMjU1KSxnOjI1NSpQKHIsMjU1KSxiOjI1NSpQKGksMjU1KX0scD0hMCx3PVwiJVwiPT09U3RyaW5nKG4ucikuc3Vic3RyKC0xKT9cInByZ2JcIjpcInJnYlwiKTpFKG4uaCkmJkUobi5zKSYmRShuLnYpPyhsPUkobi5zKSxkPUkobi52KSxzPWZ1bmN0aW9uKGUsdCxhKXtlPTYqUChlLDM2MCksdD1QKHQsMTAwKSxhPVAoYSwxMDApO3ZhciBuPU1hdGguZmxvb3IoZSksbz1lLW4scj1hKigxLXQpLGk9YSooMS1vKnQpLHM9YSooMS0oMS1vKSp0KSxjPW4lNjtyZXR1cm57cjoyNTUqW2EsaSxyLHIscyxhXVtjXSxnOjI1NSpbcyxhLGEsaSxyLHJdW2NdLGI6MjU1KltyLHIscyxhLGEsaV1bY119fShuLmgsbCxkKSxwPSEwLHc9XCJoc3ZcIik6RShuLmgpJiZFKG4ucykmJkUobi5sKSYmKGw9SShuLnMpLHU9SShuLmwpLHM9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuLG8scjtmdW5jdGlvbiBpKGUsdCxhKXtyZXR1cm4gYTwwJiYoYSs9MSksYT4xJiYoYS09MSksYTwxLzY/ZSs2Kih0LWUpKmE6YTwuNT90OmE8Mi8zP2UrKHQtZSkqKDIvMy1hKSo2OmV9aWYoZT1QKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCksMD09PXQpbj1vPXI9YTtlbHNle3ZhciBzPWE8LjU/YSooMSt0KTphK3QtYSp0LGM9MiphLXM7bj1pKGMscyxlKzEvMyksbz1pKGMscyxlKSxyPWkoYyxzLGUtMS8zKX1yZXR1cm57cjoyNTUqbixnOjI1NSpvLGI6MjU1KnJ9fShuLmgsbCx1KSxwPSEwLHc9XCJoc2xcIiksbi5oYXNPd25Qcm9wZXJ0eShcImFcIikmJihjPW4uYSkpLGM9dihjKSx7b2s6cCxmb3JtYXQ6bi5mb3JtYXR8fHcscjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5yLDApKSxnOk1hdGgubWluKDI1NSxNYXRoLm1heChzLmcsMCkpLGI6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuYiwwKSksYTpjfX0obyk7dGhpcy5fb3JpZ2luYWxJbnB1dD1vLHRoaXMuX3I9aS5yLHRoaXMuX2c9aS5nLHRoaXMuX2I9aS5iLHRoaXMuX2E9aS5hLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpcy5fZm9ybWF0PXIuZm9ybWF0fHxpLmZvcm1hdCx0aGlzLl9ncmFkaWVudFR5cGU9ci5ncmFkaWVudFR5cGUsdGhpcy5fcjwxJiYodGhpcy5fcj1NYXRoLnJvdW5kKHRoaXMuX3IpKSx0aGlzLl9nPDEmJih0aGlzLl9nPU1hdGgucm91bmQodGhpcy5fZykpLHRoaXMuX2I8MSYmKHRoaXMuX2I9TWF0aC5yb3VuZCh0aGlzLl9iKSksdGhpcy5fb2s9aS5va31mdW5jdGlvbiBvKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixvLHI9TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9KHIraSkvMjtpZihyPT1pKW49bz0wO2Vsc2V7dmFyIGM9ci1pO3N3aXRjaChvPXM+LjU/Yy8oMi1yLWkpOmMvKHIraSkscil7Y2FzZSBlOm49KHQtYSkvYysodDxhPzY6MCk7YnJlYWs7Y2FzZSB0Om49KGEtZSkvYysyO2JyZWFrO2Nhc2UgYTpuPShlLXQpL2MrNH1uLz02fXJldHVybntoOm4sczpvLGw6c319ZnVuY3Rpb24gcihlLHQsYSl7ZT1QKGUsMjU1KSx0PVAodCwyNTUpLGE9UChhLDI1NSk7dmFyIG4sbyxyPU1hdGgubWF4KGUsdCxhKSxpPU1hdGgubWluKGUsdCxhKSxzPXIsYz1yLWk7aWYobz0wPT09cj8wOmMvcixyPT1pKW49MDtlbHNle3N3aXRjaChyKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOm8sdjpzfX1mdW5jdGlvbiBpKGUsdCxhLG4pe3ZhciBvPVt4KE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV07cmV0dXJuIG4mJm9bMF0uY2hhckF0KDApPT1vWzBdLmNoYXJBdCgxKSYmb1sxXS5jaGFyQXQoMCk9PW9bMV0uY2hhckF0KDEpJiZvWzJdLmNoYXJBdCgwKT09b1syXS5jaGFyQXQoMSk/b1swXS5jaGFyQXQoMCkrb1sxXS5jaGFyQXQoMCkrb1syXS5jaGFyQXQoMCk6by5qb2luKFwiXCIpfWZ1bmN0aW9uIHMoZSx0LGEsbil7cmV0dXJuW3goQShuKSkseChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSldLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucy09dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGwoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLnMrPXQvMTAwLGEucz1DKGEucyksbihhKX1mdW5jdGlvbiBkKGUpe3JldHVybiBuKGUpLmRlc2F0dXJhdGUoMTAwKX1mdW5jdGlvbiB1KGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sKz10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gcChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvUmdiKCk7cmV0dXJuIGEucj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLnItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuZz1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmctTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuYj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLG4oYSl9ZnVuY3Rpb24gdyhlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEubC09dC8xMDAsYS5sPUMoYS5sKSxuKGEpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgYT1uKGUpLnRvSHNsKCksbz0oYS5oK3QpJTM2MDtyZXR1cm4gYS5oPW88MD8zNjArbzpvLG4oYSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1uKGUpLnRvSHNsKCk7cmV0dXJuIHQuaD0odC5oKzE4MCklMzYwLG4odCl9ZnVuY3Rpb24gbShlLHQpe2lmKGlzTmFOKHQpfHx0PD0wKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IHRvIHBvbHlhZCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO2Zvcih2YXIgYT1uKGUpLnRvSHNsKCksbz1bbihlKV0scj0zNjAvdCxpPTE7aTx0O2krKylvLnB1c2gobih7aDooYS5oK2kqciklMzYwLHM6YS5zLGw6YS5sfSkpO3JldHVybiBvfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9bihlKS50b0hzbCgpLGE9dC5oO3JldHVybltuKGUpLG4oe2g6KGErNzIpJTM2MCxzOnQucyxsOnQubH0pLG4oe2g6KGErMjE2KSUzNjAsczp0LnMsbDp0Lmx9KV19ZnVuY3Rpb24gYihlLHQsYSl7dD10fHw2LGE9YXx8MzA7dmFyIG89bihlKS50b0hzbCgpLHI9MzYwL2EsaT1bbihlKV07Zm9yKG8uaD0oby5oLShyKnQ+PjEpKzcyMCklMzYwOy0tdDspby5oPShvLmgrciklMzYwLGkucHVzaChuKG8pKTtyZXR1cm4gaX1mdW5jdGlvbiB5KGUsdCl7dD10fHw2O2Zvcih2YXIgYT1uKGUpLnRvSHN2KCksbz1hLmgscj1hLnMsaT1hLnYscz1bXSxjPTEvdDt0LS07KXMucHVzaChuKHtoOm8sczpyLHY6aX0pKSxpPShpK2MpJTE7cmV0dXJuIHN9bi5wcm90b3R5cGU9e2lzRGFyazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKTwxMjh9LGlzTGlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0RhcmsoKX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9va30sZ2V0T3JpZ2luYWxJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmlnaW5hbElucHV0fSxnZXRGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9ybWF0fSxnZXRBbHBoYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hfSxnZXRCcmlnaHRuZXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50b1JnYigpO3JldHVybigyOTkqZS5yKzU4NyplLmcrMTE0KmUuYikvMWUzfSxnZXRMdW1pbmFuY2U6ZnVuY3Rpb24oKXt2YXIgZSx0LGEsbj10aGlzLnRvUmdiKCk7cmV0dXJuIGU9bi5yLzI1NSx0PW4uZy8yNTUsYT1uLmIvMjU1LC4yMTI2KihlPD0uMDM5Mjg/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpKSsuNzE1MioodDw9LjAzOTI4P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KSkrLjA3MjIqKGE8PS4wMzkyOD9hLzEyLjkyOk1hdGgucG93KChhKy4wNTUpLzEuMDU1LDIuNCkpfSxzZXRBbHBoYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYT12KGUpLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpc30sdG9Ic3Y6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLHY6ZS52LGE6dGhpcy5fYX19LHRvSHN2U3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9cih0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUudik7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc3YoXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHN2YShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9Ic2w6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLGw6ZS5sLGE6dGhpcy5fYX19LHRvSHNsU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9byh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUubCk7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc2woXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHNsYShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsZSl9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXgoZSl9LHRvSGV4ODpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGEsbixvKXt2YXIgcj1beChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSkseChBKG4pKV07cmV0dXJuIG8mJnJbMF0uY2hhckF0KDApPT1yWzBdLmNoYXJBdCgxKSYmclsxXS5jaGFyQXQoMCk9PXJbMV0uY2hhckF0KDEpJiZyWzJdLmNoYXJBdCgwKT09clsyXS5jaGFyQXQoMSkmJnJbM10uY2hhckF0KDApPT1yWzNdLmNoYXJBdCgxKT9yWzBdLmNoYXJBdCgwKStyWzFdLmNoYXJBdCgwKStyWzJdLmNoYXJBdCgwKStyWzNdLmNoYXJBdCgwKTpyLmpvaW4oXCJcIil9KHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EsZSl9LHRvSGV4OFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4OChlKX0sdG9SZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpNYXRoLnJvdW5kKHRoaXMuX3IpLGc6TWF0aC5yb3VuZCh0aGlzLl9nKSxiOk1hdGgucm91bmQodGhpcy5fYiksYTp0aGlzLl9hfX0sdG9SZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvUGVyY2VudGFnZVJnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiVcIixnOk1hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiVcIixiOk1hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiVcIixhOnRoaXMuX2F9fSx0b1BlcmNlbnRhZ2VSZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvTmFtZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fYT9cInRyYW5zcGFyZW50XCI6ISh0aGlzLl9hPDEpJiYoU1tpKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLCEwKV18fCExKX0sdG9GaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9XCIjXCIrcyh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hKSxhPXQsbz10aGlzLl9ncmFkaWVudFR5cGU/XCJHcmFkaWVudFR5cGUgPSAxLCBcIjpcIlwiO2lmKGUpe3ZhciByPW4oZSk7YT1cIiNcIitzKHIuX3Isci5fZyxyLl9iLHIuX2EpfXJldHVyblwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK28rXCJzdGFydENvbG9yc3RyPVwiK3QrXCIsZW5kQ29sb3JzdHI9XCIrYStcIilcIn0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlO2U9ZXx8dGhpcy5fZm9ybWF0O3ZhciBhPSExLG49dGhpcy5fYTwxJiZ0aGlzLl9hPj0wO3JldHVybiB0fHwhbnx8XCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZSYmXCJoZXgzXCIhPT1lJiZcImhleDRcIiE9PWUmJlwiaGV4OFwiIT09ZSYmXCJuYW1lXCIhPT1lPyhcInJnYlwiPT09ZSYmKGE9dGhpcy50b1JnYlN0cmluZygpKSxcInByZ2JcIj09PWUmJihhPXRoaXMudG9QZXJjZW50YWdlUmdiU3RyaW5nKCkpLFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWV8fChhPXRoaXMudG9IZXhTdHJpbmcoKSksXCJoZXgzXCI9PT1lJiYoYT10aGlzLnRvSGV4U3RyaW5nKCEwKSksXCJoZXg0XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZyghMCkpLFwiaGV4OFwiPT09ZSYmKGE9dGhpcy50b0hleDhTdHJpbmcoKSksXCJuYW1lXCI9PT1lJiYoYT10aGlzLnRvTmFtZSgpKSxcImhzbFwiPT09ZSYmKGE9dGhpcy50b0hzbFN0cmluZygpKSxcImhzdlwiPT09ZSYmKGE9dGhpcy50b0hzdlN0cmluZygpKSxhfHx0aGlzLnRvSGV4U3RyaW5nKCkpOlwibmFtZVwiPT09ZSYmMD09PXRoaXMuX2E/dGhpcy50b05hbWUoKTp0aGlzLnRvUmdiU3RyaW5nKCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy50b1N0cmluZygpKX0sX2FwcGx5TW9kaWZpY2F0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0KSkpO3JldHVybiB0aGlzLl9yPWEuX3IsdGhpcy5fZz1hLl9nLHRoaXMuX2I9YS5fYix0aGlzLnNldEFscGhhKGEuX2EpLHRoaXN9LGxpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24odSxhcmd1bWVudHMpfSxicmlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihwLGFyZ3VtZW50cyl9LGRhcmtlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih3LGFyZ3VtZW50cyl9LGRlc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oYyxhcmd1bWVudHMpfSxzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihsLGFyZ3VtZW50cyl9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihkLGFyZ3VtZW50cyl9LHNwaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oaCxhcmd1bWVudHMpfSxfYXBwbHlDb21iaW5hdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSl9LGFuYWxvZ291czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGIsYXJndW1lbnRzKX0sY29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGcsYXJndW1lbnRzKX0sbW9ub2Nocm9tYXRpYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHksYXJndW1lbnRzKX0sc3BsaXRjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oayxhcmd1bWVudHMpfSx0cmlhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG0sWzNdKX0sdGV0cmFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbNF0pfX0sbi5mcm9tUmF0aW89ZnVuY3Rpb24odCxhKXtpZihcIm9iamVjdFwiPT1lKHQpKXt2YXIgbz17fTtmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYob1tyXT1cImFcIj09PXI/dFtyXTpJKHRbcl0pKTt0PW99cmV0dXJuIG4odCxhKX0sbi5lcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHwhdCkmJm4oZSkudG9SZ2JTdHJpbmcoKT09bih0KS50b1JnYlN0cmluZygpfSxuLnJhbmRvbT1mdW5jdGlvbigpe3JldHVybiBuLmZyb21SYXRpbyh7cjpNYXRoLnJhbmRvbSgpLGc6TWF0aC5yYW5kb20oKSxiOk1hdGgucmFuZG9tKCl9KX0sbi5taXg9ZnVuY3Rpb24oZSx0LGEpe2E9MD09PWE/MDphfHw1MDt2YXIgbz1uKGUpLnRvUmdiKCkscj1uKHQpLnRvUmdiKCksaT1hLzEwMDtyZXR1cm4gbih7cjooci5yLW8ucikqaStvLnIsZzooci5nLW8uZykqaStvLmcsYjooci5iLW8uYikqaStvLmIsYTooci5hLW8uYSkqaStvLmF9KX0sbi5yZWFkYWJpbGl0eT1mdW5jdGlvbihlLHQpe3ZhciBhPW4oZSksbz1uKHQpO3JldHVybihNYXRoLm1heChhLmdldEx1bWluYW5jZSgpLG8uZ2V0THVtaW5hbmNlKCkpKy4wNSkvKE1hdGgubWluKGEuZ2V0THVtaW5hbmNlKCksby5nZXRMdW1pbmFuY2UoKSkrLjA1KX0sbi5pc1JlYWRhYmxlPWZ1bmN0aW9uKGUsdCxhKXt2YXIgbyxyLGkscyxjLGw9bi5yZWFkYWJpbGl0eShlLHQpO3N3aXRjaChyPSExLChpPWEsXCJBQVwiIT09KHM9KChpPWl8fHtsZXZlbDpcIkFBXCIsc2l6ZTpcInNtYWxsXCJ9KS5sZXZlbHx8XCJBQVwiKS50b1VwcGVyQ2FzZSgpKSYmXCJBQUFcIiE9PXMmJihzPVwiQUFcIiksXCJzbWFsbFwiIT09KGM9KGkuc2l6ZXx8XCJzbWFsbFwiKS50b0xvd2VyQ2FzZSgpKSYmXCJsYXJnZVwiIT09YyYmKGM9XCJzbWFsbFwiKSxvPXtsZXZlbDpzLHNpemU6Y30pLmxldmVsK28uc2l6ZSl7Y2FzZVwiQUFzbWFsbFwiOmNhc2VcIkFBQWxhcmdlXCI6cj1sPj00LjU7YnJlYWs7Y2FzZVwiQUFsYXJnZVwiOnI9bD49MzticmVhaztjYXNlXCJBQUFzbWFsbFwiOnI9bD49N31yZXR1cm4gcn0sbi5tb3N0UmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciBvLHIsaSxzLGM9bnVsbCxsPTA7cj0oYT1hfHx7fSkuaW5jbHVkZUZhbGxiYWNrQ29sb3JzLGk9YS5sZXZlbCxzPWEuc2l6ZTtmb3IodmFyIGQ9MDtkPHQubGVuZ3RoO2QrKykobz1uLnJlYWRhYmlsaXR5KGUsdFtkXSkpPmwmJihsPW8sYz1uKHRbZF0pKTtyZXR1cm4gbi5pc1JlYWRhYmxlKGUsYyx7bGV2ZWw6aSxzaXplOnN9KXx8IXI/YzooYS5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ITEsbi5tb3N0UmVhZGFibGUoZSxbXCIjZmZmXCIsXCIjMDAwXCJdLGEpKX07dmFyIGY9bi5uYW1lcz17YWxpY2VibHVlOlwiZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiZmFlYmQ3XCIsYXF1YTpcIjBmZlwiLGFxdWFtYXJpbmU6XCI3ZmZmZDRcIixhenVyZTpcImYwZmZmZlwiLGJlaWdlOlwiZjVmNWRjXCIsYmlzcXVlOlwiZmZlNGM0XCIsYmxhY2s6XCIwMDBcIixibGFuY2hlZGFsbW9uZDpcImZmZWJjZFwiLGJsdWU6XCIwMGZcIixibHVldmlvbGV0OlwiOGEyYmUyXCIsYnJvd246XCJhNTJhMmFcIixidXJseXdvb2Q6XCJkZWI4ODdcIixidXJudHNpZW5uYTpcImVhN2U1ZFwiLGNhZGV0Ymx1ZTpcIjVmOWVhMFwiLGNoYXJ0cmV1c2U6XCI3ZmZmMDBcIixjaG9jb2xhdGU6XCJkMjY5MWVcIixjb3JhbDpcImZmN2Y1MFwiLGNvcm5mbG93ZXJibHVlOlwiNjQ5NWVkXCIsY29ybnNpbGs6XCJmZmY4ZGNcIixjcmltc29uOlwiZGMxNDNjXCIsY3lhbjpcIjBmZlwiLGRhcmtibHVlOlwiMDAwMDhiXCIsZGFya2N5YW46XCIwMDhiOGJcIixkYXJrZ29sZGVucm9kOlwiYjg4NjBiXCIsZGFya2dyYXk6XCJhOWE5YTlcIixkYXJrZ3JlZW46XCIwMDY0MDBcIixkYXJrZ3JleTpcImE5YTlhOVwiLGRhcmtraGFraTpcImJkYjc2YlwiLGRhcmttYWdlbnRhOlwiOGIwMDhiXCIsZGFya29saXZlZ3JlZW46XCI1NTZiMmZcIixkYXJrb3JhbmdlOlwiZmY4YzAwXCIsZGFya29yY2hpZDpcIjk5MzJjY1wiLGRhcmtyZWQ6XCI4YjAwMDBcIixkYXJrc2FsbW9uOlwiZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiOGZiYzhmXCIsZGFya3NsYXRlYmx1ZTpcIjQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIyZjRmNGZcIixkYXJrc2xhdGVncmV5OlwiMmY0ZjRmXCIsZGFya3R1cnF1b2lzZTpcIjAwY2VkMVwiLGRhcmt2aW9sZXQ6XCI5NDAwZDNcIixkZWVwcGluazpcImZmMTQ5M1wiLGRlZXBza3libHVlOlwiMDBiZmZmXCIsZGltZ3JheTpcIjY5Njk2OVwiLGRpbWdyZXk6XCI2OTY5NjlcIixkb2RnZXJibHVlOlwiMWU5MGZmXCIsZmlyZWJyaWNrOlwiYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCJmZmZhZjBcIixmb3Jlc3RncmVlbjpcIjIyOGIyMlwiLGZ1Y2hzaWE6XCJmMGZcIixnYWluc2Jvcm86XCJkY2RjZGNcIixnaG9zdHdoaXRlOlwiZjhmOGZmXCIsZ29sZDpcImZmZDcwMFwiLGdvbGRlbnJvZDpcImRhYTUyMFwiLGdyYXk6XCI4MDgwODBcIixncmVlbjpcIjAwODAwMFwiLGdyZWVueWVsbG93OlwiYWRmZjJmXCIsZ3JleTpcIjgwODA4MFwiLGhvbmV5ZGV3OlwiZjBmZmYwXCIsaG90cGluazpcImZmNjliNFwiLGluZGlhbnJlZDpcImNkNWM1Y1wiLGluZGlnbzpcIjRiMDA4MlwiLGl2b3J5OlwiZmZmZmYwXCIsa2hha2k6XCJmMGU2OGNcIixsYXZlbmRlcjpcImU2ZTZmYVwiLGxhdmVuZGVyYmx1c2g6XCJmZmYwZjVcIixsYXduZ3JlZW46XCI3Y2ZjMDBcIixsZW1vbmNoaWZmb246XCJmZmZhY2RcIixsaWdodGJsdWU6XCJhZGQ4ZTZcIixsaWdodGNvcmFsOlwiZjA4MDgwXCIsbGlnaHRjeWFuOlwiZTBmZmZmXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCJmYWZhZDJcIixsaWdodGdyYXk6XCJkM2QzZDNcIixsaWdodGdyZWVuOlwiOTBlZTkwXCIsbGlnaHRncmV5OlwiZDNkM2QzXCIsbGlnaHRwaW5rOlwiZmZiNmMxXCIsbGlnaHRzYWxtb246XCJmZmEwN2FcIixsaWdodHNlYWdyZWVuOlwiMjBiMmFhXCIsbGlnaHRza3libHVlOlwiODdjZWZhXCIsbGlnaHRzbGF0ZWdyYXk6XCI3ODlcIixsaWdodHNsYXRlZ3JleTpcIjc4OVwiLGxpZ2h0c3RlZWxibHVlOlwiYjBjNGRlXCIsbGlnaHR5ZWxsb3c6XCJmZmZmZTBcIixsaW1lOlwiMGYwXCIsbGltZWdyZWVuOlwiMzJjZDMyXCIsbGluZW46XCJmYWYwZTZcIixtYWdlbnRhOlwiZjBmXCIsbWFyb29uOlwiODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIjY2Y2RhYVwiLG1lZGl1bWJsdWU6XCIwMDAwY2RcIixtZWRpdW1vcmNoaWQ6XCJiYTU1ZDNcIixtZWRpdW1wdXJwbGU6XCI5MzcwZGJcIixtZWRpdW1zZWFncmVlbjpcIjNjYjM3MVwiLG1lZGl1bXNsYXRlYmx1ZTpcIjdiNjhlZVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiMDBmYTlhXCIsbWVkaXVtdHVycXVvaXNlOlwiNDhkMWNjXCIsbWVkaXVtdmlvbGV0cmVkOlwiYzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiMTkxOTcwXCIsbWludGNyZWFtOlwiZjVmZmZhXCIsbWlzdHlyb3NlOlwiZmZlNGUxXCIsbW9jY2FzaW46XCJmZmU0YjVcIixuYXZham93aGl0ZTpcImZmZGVhZFwiLG5hdnk6XCIwMDAwODBcIixvbGRsYWNlOlwiZmRmNWU2XCIsb2xpdmU6XCI4MDgwMDBcIixvbGl2ZWRyYWI6XCI2YjhlMjNcIixvcmFuZ2U6XCJmZmE1MDBcIixvcmFuZ2VyZWQ6XCJmZjQ1MDBcIixvcmNoaWQ6XCJkYTcwZDZcIixwYWxlZ29sZGVucm9kOlwiZWVlOGFhXCIscGFsZWdyZWVuOlwiOThmYjk4XCIscGFsZXR1cnF1b2lzZTpcImFmZWVlZVwiLHBhbGV2aW9sZXRyZWQ6XCJkYjcwOTNcIixwYXBheWF3aGlwOlwiZmZlZmQ1XCIscGVhY2hwdWZmOlwiZmZkYWI5XCIscGVydTpcImNkODUzZlwiLHBpbms6XCJmZmMwY2JcIixwbHVtOlwiZGRhMGRkXCIscG93ZGVyYmx1ZTpcImIwZTBlNlwiLHB1cnBsZTpcIjgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCI2NjMzOTlcIixyZWQ6XCJmMDBcIixyb3N5YnJvd246XCJiYzhmOGZcIixyb3lhbGJsdWU6XCI0MTY5ZTFcIixzYWRkbGVicm93bjpcIjhiNDUxM1wiLHNhbG1vbjpcImZhODA3MlwiLHNhbmR5YnJvd246XCJmNGE0NjBcIixzZWFncmVlbjpcIjJlOGI1N1wiLHNlYXNoZWxsOlwiZmZmNWVlXCIsc2llbm5hOlwiYTA1MjJkXCIsc2lsdmVyOlwiYzBjMGMwXCIsc2t5Ymx1ZTpcIjg3Y2VlYlwiLHNsYXRlYmx1ZTpcIjZhNWFjZFwiLHNsYXRlZ3JheTpcIjcwODA5MFwiLHNsYXRlZ3JleTpcIjcwODA5MFwiLHNub3c6XCJmZmZhZmFcIixzcHJpbmdncmVlbjpcIjAwZmY3ZlwiLHN0ZWVsYmx1ZTpcIjQ2ODJiNFwiLHRhbjpcImQyYjQ4Y1wiLHRlYWw6XCIwMDgwODBcIix0aGlzdGxlOlwiZDhiZmQ4XCIsdG9tYXRvOlwiZmY2MzQ3XCIsdHVycXVvaXNlOlwiNDBlMGQwXCIsdmlvbGV0OlwiZWU4MmVlXCIsd2hlYXQ6XCJmNWRlYjNcIix3aGl0ZTpcImZmZlwiLHdoaXRlc21va2U6XCJmNWY1ZjVcIix5ZWxsb3c6XCJmZjBcIix5ZWxsb3dncmVlbjpcIjlhY2QzMlwifSxTPW4uaGV4TmFtZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHRbZVthXV09YSk7cmV0dXJuIHR9KGYpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGU9cGFyc2VGbG9hdChlKSwoaXNOYU4oZSl8fGU8MHx8ZT4xKSYmKGU9MSksZX1mdW5jdGlvbiBQKGUsdCl7KGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiLlwiKSYmMT09PXBhcnNlRmxvYXQoZSl9KShlKSYmKGU9XCIxMDAlXCIpO3ZhciBhPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiJVwiKX0oZSk7cmV0dXJuIGU9TWF0aC5taW4odCxNYXRoLm1heCgwLHBhcnNlRmxvYXQoZSkpKSxhJiYoZT1wYXJzZUludChlKnQsMTApLzEwMCksTWF0aC5hYnMoZS10KTwxZS02PzE6ZSV0L3BhcnNlRmxvYXQodCl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gTWF0aC5taW4oMSxNYXRoLm1heCgwLGUpKX1mdW5jdGlvbiBNKGUpe3JldHVybiBwYXJzZUludChlLDE2KX1mdW5jdGlvbiB4KGUpe3JldHVybiAxPT1lLmxlbmd0aD9cIjBcIitlOlwiXCIrZX1mdW5jdGlvbiBJKGUpe3JldHVybiBlPD0xJiYoZT0xMDAqZStcIiVcIiksZX1mdW5jdGlvbiBBKGUpe3JldHVybiBNYXRoLnJvdW5kKDI1NSpwYXJzZUZsb2F0KGUpKS50b1N0cmluZygxNil9ZnVuY3Rpb24gVyhlKXtyZXR1cm4gTShlKS8yNTV9dmFyIEQsVCxSLEI9KFQ9XCJbXFxcXHN8XFxcXChdKyhcIisoRD1cIig/OlstXFxcXCtdP1xcXFxkKlxcXFwuXFxcXGQrJT8pfCg/OlstXFxcXCtdP1xcXFxkKyU/KVwiKStcIilbLHxcXFxcc10rKFwiK0QrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVxcXFxzKlxcXFwpP1wiLFI9XCJbXFxcXHN8XFxcXChdKyhcIitEK1wiKVssfFxcXFxzXSsoXCIrRCtcIilbLHxcXFxcc10rKFwiK0QrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVxcXFxzKlxcXFwpP1wiLHtDU1NfVU5JVDpuZXcgUmVnRXhwKEQpLHJnYjpuZXcgUmVnRXhwKFwicmdiXCIrVCkscmdiYTpuZXcgUmVnRXhwKFwicmdiYVwiK1IpLGhzbDpuZXcgUmVnRXhwKFwiaHNsXCIrVCksaHNsYTpuZXcgUmVnRXhwKFwiaHNsYVwiK1IpLGhzdjpuZXcgUmVnRXhwKFwiaHN2XCIrVCksaHN2YTpuZXcgUmVnRXhwKFwiaHN2YVwiK1IpLGhleDM6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDY6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLGhleDQ6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg4Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC99KTtmdW5jdGlvbiBFKGUpe3JldHVybiEhQi5DU1NfVU5JVC5leGVjKGUpfXJldHVybiBufSgpfX0sbj17fTtmdW5jdGlvbiBvKGUpe3ZhciB0PW5bZV07aWYodm9pZCAwIT09dClyZXR1cm4gdC5leHBvcnRzO3ZhciByPW5bZV09e2V4cG9ydHM6e319O3JldHVybiBhW2VdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG8pLHIuZXhwb3J0c312YXIgcj17fTsoKCk9Pnt2YXIgZT1yO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuY3JlYXRlVGhlbWU9ZS5QYWxldHRlPWUuQ29sb3I9dm9pZCAwO3ZhciB0PW8oMjMxNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJDb2xvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LkNvbG9yfX0pO3ZhciBhPW8oNTkzOSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJQYWxldHRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuUGFsZXR0ZX19KTt2YXIgbj1vKDY4OTMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY3JlYXRlVGhlbWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcmVhdGVUaGVtZX19KX0pKCk7dmFyIGk9dDtmb3IodmFyIHMgaW4gcilpW3NdPXJbc107ci5fX2VzTW9kdWxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sODc3OigpPT57fSw2NzooKT0+e319LHQ9e307ZnVuY3Rpb24gYShuKXt2YXIgbz10W25dO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgcj10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXShyLHIuZXhwb3J0cyxhKSxyLmV4cG9ydHN9YS5uPWU9Pnt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gYS5kKHQse2E6dH0pLHR9LGEuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWEubyh0LG4pJiYhYS5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sYS5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxhLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBuPXt9OygoKT0+e1widXNlIHN0cmljdFwiO2EucihuKSxhLmQobix7QXBwTWFuaWZlc3RUeXBlOigpPT5jLEJvb2ttYXJrSXRlbUNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+eSxCcm93c2VyQnV0dG9uVHlwZTooKT0+UyxDb2xvclNjaGVtZU9wdGlvblR5cGU6KCk9Pm0sQ3VzdG9tQWN0aW9uQ2FsbGVyVHlwZTooKT0+QyxFbnRlcnByaXNlTWFpbkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+YixHbG9iYWxDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PmcsUGFnZUNoYW5nZUV2ZW50VHlwZTooKT0+aCxQYWdlVGFiQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5rLFBhbmVsUG9zaXRpb246KCk9PncsU1VQUE9SVEVEX0xBTkdVQUdFUzooKT0+TSxTYXZlQnV0dG9uQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT52LFNhdmVNb2RhbFR5cGU6KCk9PngsVmlld1RhYk1lbnVPcHRpb25UeXBlOigpPT5mLFdpbmRvd1R5cGU6KCk9PlAsZ2V0Q3VycmVudFN5bmM6KCk9PkFhLGluaXQ6KCk9Pm9zLGluaXREb2NrQ29tcGFuaW9uOigpPT5hcyx3cmFwU3luYzooKT0+SWF9KTt2YXIgZSx0LG8scixpLHMsYyxsLGQ9e307YS5yKGQpLGEuZChkLHtnZXRJdGVtOigpPT5jYSxyZW1vdmVJdGVtOigpPT5sYSxzZXRJdGVtOigpPT5zYX0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0oZXx8KGU9e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifSh0fHwodD17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KGN8fChjPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShsfHwobD17fSkpO3ZhciB1LHAsdyxoLGcsbSxrLGIseSxmLFMsdixQLEM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZS5MZWZ0PVwiTGVmdFwiLGUuUmlnaHQ9XCJSaWdodFwiLGUuVG9wPVwiVG9wXCIsZS5Cb3R0b209XCJCb3R0b21cIn0od3x8KHc9e30pKSxmdW5jdGlvbihlKXtlLlVybENoYW5nZT1cIlVSTF9DSEFOR0VcIixlLlZpZXdBZGRlZD1cIlZJRVdfQURERURcIixlLlZpZXdSZW1vdmVkPVwiVklFV19SRU1PVkVEXCIsZS5QYWdlQ29udGV4dEFkZGVkPVwiUEFHRV9DT05URVhUX0FEREVEXCIsZS5QYWdlQ29udGV4dFJlbW92ZWQ9XCJQQUdFX0NPTlRFWFRfUkVNT1ZFRFwifShofHwoaD17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3V2luZG93PVwiTmV3V2luZG93XCIsZS5OZXdQYWdlPVwiTmV3UGFnZVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkNsb3NlV2luZG93PVwiQ2xvc2VXaW5kb3dcIixlLlJlc3RvcmVDaGFuZ2VzPVwiUmVzdG9yZUNoYW5nZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLlJlbmFtZVdvcmtzcGFjZT1cIlJlbmFtZVdvcmtzcGFjZVwiLGUuU3dpdGNoV29ya3NwYWNlPVwiU3dpdGNoV29ya3NwYWNlXCIsZS5EZWxldGVXb3Jrc3BhY2U9XCJEZWxldGVXb3Jrc3BhY2VcIixlLkRvd25sb2Fkcz1cIkRvd25sb2Fkc1wiLGUuT3BlblN0b3JlZnJvbnQ9XCJPcGVuU3RvcmVmcm9udFwiLGUuQXBwZWFyYW5jZT1cIkFwcGVhcmFuY2VcIixlLlF1aXQ9XCJRdWl0XCIsZS5DdXN0b209XCJDdXN0b21cIn0oZ3x8KGc9e30pKSxmdW5jdGlvbihlKXtlLkxpZ2h0PVwibGlnaHRcIixlLkRhcms9XCJkYXJrXCIsZS5TeXN0ZW09XCJzeXN0ZW1cIn0obXx8KG09e30pKSxmdW5jdGlvbihlKXtlLkNsb3NlPVwiQ2xvc2VcIixlLkR1cGxpY2F0ZT1cIkR1cGxpY2F0ZVwiLGUuUmVuYW1lPVwiUmVuYW1lXCIsZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZSBBc1wiLGUuTmV3UGFnZT1cIk5ldyBQYWdlXCIsZS5EZWxldGVQYWdlPVwiRGVsZXRlIFBhZ2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVmcmVzaD1cIlJlZnJlc2hcIixlLkNsb3NlT3RoZXJzPVwiQ2xvc2Ugb3RoZXJzXCIsZS5EZWxldGU9XCJEZWxldGVcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkN1c3RvbT1cIkN1c3RvbVwifShrfHwoaz17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jaz1cIkxvY2tcIixlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQWRkVG9DaGFuZWw9XCJBZGRUb0NoYW5uZWxcIixlLlByaW50PVwiUHJpbnRcIixlLlBpbj1cIlBpblwifShifHwoYj17fSkpLGZ1bmN0aW9uKGUpe2UuRWRpdE5hbWU9XCJFZGl0IE5hbWVcIixlLk1vdmU9XCJNb3ZlXCIsZS5EZWxldGU9XCJEZWxldGVcIn0oeXx8KHk9e30pKSxmdW5jdGlvbihlKXtlLk5ld1ZpZXc9XCJOZXdWaWV3XCIsZS5EdXBsaWNhdGVWaWV3cz1cIkR1cGxpY2F0ZVZpZXdcIixlLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI9XCJPcGVuV2l0aERlZmF1bHRCcm93c2VyXCIsZS5SZWxvYWRWaWV3cz1cIlJlbG9hZFRhYlwiLGUuQ2xvc2VWaWV3cz1cIkNsb3NlVGFiXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwiUmVtb3ZlRnJvbUNoYW5uZWxcIixlLkJhY2s9XCJCYWNrXCIsZS5Gb3J3YXJkPVwiRm9yd2FyZFwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGZ8fChmPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkNvbG9yTGlua2luZz1cIkNvbG9yTGlua2luZ1wiLGUuUHJlc2V0TGF5b3V0cz1cIlByZXNldExheW91dHNcIixlLkxvY2tVbmxvY2tQYWdlPVwiTG9ja1VubG9ja1BhZ2VcIixlLlNhdmVNZW51PVwiU2F2ZU1lbnVcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLk1pbmltaXNlPVwiTWluaW1pc2VcIixlLk1heGltaXNlPVwiTWF4aW1pc2VcIixlLkNsb3NlPVwiQ2xvc2VcIixlLkN1c3RvbT1cIkN1c3RvbVwifShTfHwoUz17fSkpLGZ1bmN0aW9uKGUpe2UuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh2fHwodj17fSkpLGZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cImJyb3dzZXJcIixlLlBsYXRmb3JtPVwicGxhdGZvcm1cIn0oUHx8KFA9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbUJ1dHRvbj1cIkN1c3RvbUJ1dHRvblwiLGUuU3RvcmVDdXN0b21CdXR0b249XCJTdG9yZUN1c3RvbUJ1dHRvblwiLGUuQ3VzdG9tRHJvcGRvd25JdGVtPVwiQ3VzdG9tRHJvcGRvd25JdGVtXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PVwiU2F2ZUJ1dHRvbkNvbnRleHRNZW51XCIsZS5BUEk9XCJBUElcIn0oQ3x8KEM9e30pKTtjb25zdCBNPVtcImVuLVVTXCIsXCJqYS1KUFwiLFwiemgtQ05cIixcImtvLUtSXCIsXCJydS1SVVwiLFwiZGUtREVcIixcInpoLUhhbnRcIl07dmFyIHgsSTshZnVuY3Rpb24oZSl7ZS5TQVZFX1BBR0U9XCJTQVZFX1BBR0VcIixlLlNBVkVfV09SS1NQQUNFPVwiU0FWRV9XT1JLU1BBQ0VcIixlLlNBVkVfUEFHRV9BUz1cIlNBVkVfUEFHRV9BU1wiLGUuU0FWRV9XT1JLU1BBQ0VfQVM9XCJTQVZFX1dPUktTUEFDRV9BU1wiLGUuUkVOQU1FX1BBR0U9XCJSRU5BTUVfUEFHRVwiLGUuUkVOQU1FX1dPUktTUEFDRT1cIlJFTkFNRV9XT1JLU1BBQ0VcIn0oeHx8KHg9e30pKSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KEl8fChJPXt9KSk7Y29uc3QgQT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLFc9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudixcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxEPVcmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREIsVD1XP3dpbmRvdy5vcmlnaW46SS5Mb2NhbCxSPUEmJmZpbi5tZS51dWlkLEI9QSYmZmluLm1lLm5hbWUsRT1BJiZmaW4ubWUuZW50aXR5VHlwZSxGPShJLkxvY2FsLEkuRGV2LEkuU3RhZ2luZyxcInByb2RcIj09PUkuUHJvZCksVj1lPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOlQrZSxOPVYoXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMS4wLjE1XCIpLEw9VihcImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlLzIxLjAuMTVcIiksXz0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmVihXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZWKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiNDEuMTM0LjEwMi40XCIpLE89XCIyMS4wLjE1XCI7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9CVUlMRF9TSEEmJldPUktTUEFDRV9CVUlMRF9TSEE7dmFyIFUsRzshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvP2RlZXBsaW5rPXNlYXJjaFwiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9kb2NrL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCIsZS5BbmFseXRpY3M9XCIvcHJvdmlkZXIvYW5hbHl0aWNzL1wiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXIvXCJ9KFV8fChVPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL3BvcHVwLW1lbnUvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2F2ZU1vZGFsPVwiL3BvcHVwLW1lbnUvc2F2ZS1tb2RhbC9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9wb3B1cC1tZW51L2NvbG9yLWxpbmtpbmcvY29sb3ItbGlua2luZy9cIixlLkJyb3dzZXJJbmRpY2F0b3I9XCIvaW5kaWNhdG9yL1wiLGUuQnJvd3NlclBvcHVwTWVudUFkZHJlc3NTZWFyY2hSZXN1bHRzVmlldz1cIi9wb3B1cC1tZW51L2FkZHJlc3Mtc2VhcmNoLXJlc3VsdHMtdmlldy9cIixlLlJlc3BvbnNlTW9kYWw9XCIvcG9wdXAtbWVudS9yZXNwb25zZS1tb2RhbC9cIixlLkNsb3NlQ29uZmlybWF0aW9uTW9kYWw9XCIvcG9wdXAtbWVudS9jbG9zZS1jb25maXJtYXRpb24tbW9kYWwvXCIsZS5FbnRlcnByaXNlQnJvd3Nlcj1cIi9lbnRlcnByaXNlL1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwiL2NvbnRleHQtbWVudS9cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZz1cIi9ib29rbWFyay1kaWFsb2cvXCIsZS5FbnRlcnByaXNlU3RvcmFnZVByb3h5PVwiL2VudGVycHJpc2Uvc3RvcmFnZS1wcm94eVwiLGUuRHJvcGRvd25NZW51PVwiL2Ryb3Bkb3duLW1lbnUvXCIsZS5FbnRlcnByaXNlRG9jaz1cIi9kb2NrL1wifShHfHwoRz17fSkpO2NvbnN0IEg9ey4uLlUsLi4uR307dmFyICQ7IWZ1bmN0aW9uKGUpe2UuU2VhcmNoPVwic2VhcmNoXCJ9KCR8fCgkPXt9KSk7Y29uc3QgSz1IO2FzeW5jIGZ1bmN0aW9uIHooKXtjb25zdCBlPVwiZ2V0TWFuaWZlc3RPdmVycmlkZXNcIix7bWFuaWZlc3Q6dCxpbml0aWFsT3B0aW9uczphfT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRJbmZvKCk7cmV0dXJuIHQ/LnBsYXRmb3JtLndvcmtzcGFjZXx8dD8ucGxhdGZvcm0uaG9tZXx8YT8ud29ya3NwYWNlfHxhPy5ob21lfHxjb25zb2xlLndhcm4oYCR7ZX06IE1pc3NpbmcgSG9tZSBkZXZlbG9wbWVudCBtYW5pZmVzdCBvdmVycmlkZXMsIHVzaW5nIERlc2t0b3AgT3duZXIgU2V0dGluZ3MuYCksdD8ucGxhdGZvcm0ud29ya3NwYWNlPyhKU09OLnN0cmluZ2lmeSh0Py5wbGF0Zm9ybS53b3Jrc3BhY2UpLHQ/LnBsYXRmb3JtLndvcmtzcGFjZSk6dD8ucGxhdGZvcm0uaG9tZT8oSlNPTi5zdHJpbmdpZnkodD8ucGxhdGZvcm0uaG9tZSksdD8ucGxhdGZvcm0uaG9tZSk6YT8ud29ya3NwYWNlPyhKU09OLnN0cmluZ2lmeShhPy53b3Jrc3BhY2UpLGE/LndvcmtzcGFjZSk6YT8uaG9tZT8oSlNPTi5zdHJpbmdpZnkoYT8uaG9tZSksYT8uaG9tZSk6e319Y29uc3QgSj1lPT5maW4uU3lzdGVtLmdldFN5c3RlbUFwcENvbmZpZyhlKTthc3luYyBmdW5jdGlvbiBxKCl7Y29uc3QgZT1cImdldERPU092ZXJyaWRlc1wiO2lmKCFBKXJldHVybiBjb25zb2xlLndhcm4oYCR7ZX06IHRoZSBmaW4gQVBJIHdhcyBub3QgYXZhaWxhYmxlLCByZXR1cm5pbmcgbm8gcmVzdWx0YCkse307dHJ5e2xldCB0PWF3YWl0IEooXCJ3b3Jrc3BhY2VcIikuY2F0Y2goKHQ9Pntjb25zb2xlLndhcm4oYCR7ZX06IGN1c3RvbUNvbmZpZyBlbnRyeSBmb3IgU3lzdGVtQXBwIHdvcmtzcGFjZSBub3QgYXZhaWxhYmxlIGluIERlc2t0b3AgT3duZXIgU2V0dGluZ3MuICR7dD8ubWVzc2FnZX1gKX0pKTtyZXR1cm4gdHx8KHQ9YXdhaXQgSihcImhvbWVcIikpLEpTT04uc3RyaW5naWZ5KHQpLHR9Y2F0Y2godCl7aWYoIUYpcmV0dXJue307aWYoISh0IGluc3RhbmNlb2YgRXJyb3IpKXRocm93IHQ7Y29uc29sZS53YXJuKGAke2V9OiBNaXNzaW5nIFdvcmtzcGFjZSBEZXNrdG9wIE93bmVyIFNldHRpbmdzIGNvbmZpZ3VyYXRpb24sIHVzaW5nIGRlZmF1bHRzLiAke3Q/Lm1lc3NhZ2V9YCl9cmV0dXJue319bGV0IFosajthc3luYyBmdW5jdGlvbiBRKCl7aWYoWilyZXR1cm4gWjtjb25zdCBlPVwiZ2V0T3ZlcnJpZGVzXCI7aWYoIUEpcmV0dXJuIFcmJmNvbnNvbGUud2FybihgJHtlfTogVGhlIEZpbiBBUEkgd2FzIG5vdCBhdmFpbGFibGUuIFJldHVybmluZyBhbiBlbXB0eSByZXN1bHQuYCkse307Y29uc3RbdCxhXT1hd2FpdCBQcm9taXNlLmFsbChbcSgpLHooKV0pO3JldHVybiBaPXsuLi5hLC4uLnQsZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9uOmEuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9ufHx0LmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbn0sWn1mdW5jdGlvbiBZKGUpe2o9ZX1jb25zdCBYPWU9PmUucmVwbGFjZSgvXFwvJC8sXCJcIik7YXN5bmMgZnVuY3Rpb24gZWUoKXtjb25zdCBlPShhd2FpdCBRKCkpLmJyb3dzZXJCYXNlVXJsO2lmKGUpdHJ5e2NvbnN0IHQ9bmV3IFVSTChlKTtpZih0LnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSl0LnBhdGhuYW1lPVgodC5wYXRobmFtZSk7ZWxzZXtpZihcIi93b3Jrc3BhY2VcIj09PXQucGF0aG5hbWUpcmV0dXJuIHQucGF0aG5hbWUrPWAvJHtPfWAsdC50b1N0cmluZygpO2NvbnNvbGUud2FybihgQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtOiBicm93c2VyT3ZlcnJpZGVCYXNlVXJsIG11c3QgYmUgYSB2YWxpZCB1cmwsIHdpdGggcGF0aDogL3dvcmtzcGFjZS4gRXhwZWN0ZWQgPHByb3RvY29sPjovLzxvcHRpb25hbCBzdWJkb21haW4+Ljxkb21haW4+L3dvcmtzcGFjZSBidXQgZ290ICR7ZX1gKX19Y2F0Y2godCl7Y29uc29sZS53YXJuKGBAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm06IGJyb3dzZXJPdmVycmlkZUJhc2VVcmwgbXVzdCBiZSBhIHZhbGlkIHVybC4gRXhwZWN0ZWQgPHByb3RvY29sPjovLzxvcHRpb25hbCBzdWJkb21haW4+Ljxkb21haW4+L3dvcmtzcGFjZSBidXQgZ290ICR7ZX1gKX1yZXR1cm4gaj8/TH1hc3luYyBmdW5jdGlvbiB0ZShlPSExKXtjb25zdCB0PWF3YWl0IGVlKCkrSy5Ccm93c2VyO3JldHVybiBlP3Q6WCh0KX1hc3luYyBmdW5jdGlvbiBhZShlPSExKXtjb25zdCB0PWF3YWl0IGVlKCkrSy5FbnRlcnByaXNlQnJvd3NlcjtyZXR1cm4gZT90OlgodCl9YXN5bmMgZnVuY3Rpb24gbmUoKXtyZXR1cm4gYXdhaXQgYWUoKStcIi9sYW5kaW5nL1wifWNvbnN0IG9lPWFzeW5jKGUsdD0hMSk9PmU/YWUodCk6dGUodCk7dmFyIHJlLGllOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4td29ya3NwYWNlXCIsZS5PbGRXb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0ocmV8fChyZT17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaWV8fChpZT17fSkpO2NvbnN0IHNlPXt1dWlkOlJ9LGNlPShyZS5Xb3Jrc3BhY2UsZT0+e2lmKCFBKXRocm93IG5ldyBFcnJvcihcImdldEFwcGxpY2F0aW9uIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpfSksbGU9KCk9PmNlKHNlKTt2YXIgZGU7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VyU2F2ZU1lbnU9XCJvcGVuZmluLWJyb3dzZXItc2F2ZS1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIixlLkNsYXNzaWNXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtY2xhc3NpYy13aW5kb3dcIixlLkVudGVycHJpc2VDb250ZXh0TWVudT1cIm9wZW5maW4tZW50ZXJwcmlzZS1jb250ZXh0LW1lbnVcIixlLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4PVwib3BlbmZpbi1icm93c2VyLW1lbnUtYWRkcmVzcy1zZWFyY2gtXCIsZS5FbnRlcnByaXNlQm9va21hcmtEaWFsb2dXaW5kb3c9XCJvcGVuZmluLWVudGVycHJpc2UtYm9va21hcmstZGlhbG9nXCIsZS5Ecm9wZG93bk1lbnU9XCJvcGVuZmluLWVudGVycHJpc2UtZHJvcGRvd24tbWVudVwiLGUuRG9ja0NvbXBhbmlvbj1cIm9wZW5maW4tZG9jay1jb21wYW5pb25cIn0oZGV8fChkZT17fSkpO2NvbnN0IHVlPWU9Pih7bGVmdDooZS5sZWZ0KyhlLnJpZ2h0Pz9lLmxlZnQrZS53aWR0aCkpLzIsdG9wOihlLnRvcCsoZS5ib3R0b20/P2UudG9wK2UuaGVpZ2h0KSkvMn0pO2Z1bmN0aW9uIHBlKGUpe2lmKCFBKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IHdlPXtuYW1lOkIsdXVpZDpSfTtmdW5jdGlvbiBoZSgpe3JldHVybiBwZSh3ZSl9ZGUuSG9tZSxyZS5Xb3Jrc3BhY2UsZGUuRG9jayxyZS5Xb3Jrc3BhY2U7Y29uc3QgZ2U9e25hbWU6ZGUuU3RvcmVmcm9udCx1dWlkOnJlLldvcmtzcGFjZX07cmUuV29ya3NwYWNlLHJlLldvcmtzcGFjZTthc3luYyBmdW5jdGlvbiBtZShlKXtjb25zdCB0PXBlKGUpO1wibWluaW1pemVkXCI9PT1hd2FpdCB0LmdldFN0YXRlKCkmJmF3YWl0IHQucmVzdG9yZSgpLGF3YWl0IHQuc2hvdygpLGF3YWl0IHQuZm9jdXMoKX1jb25zdCBrZT1hc3luYyBlPT57dHJ5e2NvbnN0IHQ9YXdhaXQgZmluLldpbmRvdy53cmFwU3luYyh7bmFtZTplLm5hbWUsdXVpZDplLnV1aWQ/P2Zpbi5tZS51dWlkfSkuZ2V0T3B0aW9ucygpO3JldHVybihcImJyb3dzZXJcIj09PXQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGV8fFwiZW50ZXJwcmlzZVwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSkmJnQud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJpc0Jyb3dzZXJXaW5kb3cgZXJyb3I6IFwiLGUpLCExfX07YXN5bmMgZnVuY3Rpb24gYmUoKXtjb25zdCBlPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpLHQ9YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PmtlKGUuaWRlbnRpdHkpKSkpO3JldHVybiBlLmZpbHRlcigoKGUsYSk9PnRbYV0pKX1hc3luYyBmdW5jdGlvbiB5ZSgpe3JldHVybihhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5lLmlkZW50aXR5Lm5hbWUuc3RhcnRzV2l0aChkZS5Ccm93c2VyTWVudSkpKX1jb25zdCBmZT1lPT5wZShlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpLFNlPSgpPT5mZShnZSk7ZnVuY3Rpb24gdmUoZSx0KXtjb25zdCBhPWUudG9wLG49ZS5sZWZ0LG89ZS50b3ArZS5oZWlnaHQscj1lLmxlZnQrZS53aWR0aCxpPXQubW9uaXRvclJlY3QudG9wLHM9dC5tb25pdG9yUmVjdC5sZWZ0LGM9dC5tb25pdG9yUmVjdC5ib3R0b20sbD10Lm1vbml0b3JSZWN0LnJpZ2h0O2lmKGE+Y3x8bzxpfHxuPmx8fHI8cylyZXR1cm4gMDtjb25zdCBkPU1hdGgubWF4KGEsaSksdT1NYXRoLm1heChuLHMpO3JldHVybihNYXRoLm1pbihvLGMpLWQpKihNYXRoLm1pbihyLGwpLXUpLyhlLmhlaWdodCplLndpZHRoKX1hc3luYyBmdW5jdGlvbiBQZShlKXtjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKTtyZXR1cm5bdC5wcmltYXJ5TW9uaXRvciwuLi50Lm5vblByaW1hcnlNb25pdG9yc10ucmVkdWNlKCgodCxhKT0+e2NvbnN0IG49dmUoZSxhKTtyZXR1cm4gbj50LnBlcmNlbnRhZ2U/e3BlcmNlbnRhZ2U6bixtb25pdG9yOmF9OnR9KSx7cGVyY2VudGFnZTowLG1vbml0b3I6dC5wcmltYXJ5TW9uaXRvcn0pLm1vbml0b3J9Y29uc3QgQ2U9KGUsdCk9Pntjb25zdCBhPWU7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm18fChhLndvcmtzcGFjZVBsYXRmb3JtPXt9KSxhLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXQsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzphLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PWEuYXV0b1Nob3d8fGEuYXV0b1Nob3d9LGEuYXV0b1Nob3c9ITEsYX07Y29uc3QgTWU9NTYseGU9NzI4LEllPTE1MCxBZT1hc3luYyBlPT57Y29uc3QgdD1lP2Zpbi5XaW5kb3cud3JhcFN5bmMoZSk6ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLGE9YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUmJlwiZW50ZXJwcmlzZVwiPT09YS53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlfSxXZT1lPT57Y29uc3QgdD1lPy5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU7cmV0dXJuXCJlbnRlcnByaXNlXCI9PT10fTtsZXQgRGU7Y29uc3QgVGU9ZT0+e2lmKGUpdHJ5e3JldHVybiBuZXcgVVJMKGUpLnBhdGhuYW1lLmluY2x1ZGVzKEsuRW50ZXJwcmlzZUJyb3dzZXIpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJlcnJvciBwYXJzaW5nIHVybDogJU9cIixlKX1yZXR1cm4hMX0sUmU9KGUsdD0wKT0+e2xldCBhLG4sbz0hMTtjb25zdCByPWFzeW5jIG49Pntjb25zdCBpPWF3YWl0IGUoLi4ubik7aWYobyl7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSx0KSkpO2NvbnN0IGU9YTtyZXR1cm4gYT12b2lkIDAsbz0hMSxyKGUpfXJldHVybiBpfTtyZXR1cm4oLi4uZSk9PihuPyhvPSEwLGE9ZSk6bj1yKGUpLmNhdGNoKChlPT57dGhyb3cgY29uc29sZS5lcnJvcihcIm1ha2VEZWJvdW5jZWRGdW5jXCIsZSksZX0pKS5maW5hbGx5KCgoKT0+e249dm9pZCAwfSkpLG4pfTt2YXIgQmU7IWZ1bmN0aW9uKGUpe2UuVG9wPVwidG9wXCIsZS5CZWxvdz1cImJlbG93XCJ9KEJlfHwoQmU9e30pKTtjb25zdCBFZT1hc3luYyBlPT57dHJ5e3JldHVybiEhZSYmXCJtYXhpbWl6ZWRcIj09PWF3YWl0IGUuZ2V0U3RhdGUoKX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwicGFyZW50V2luZG93TWF4aW1pemVkIC0gRmFpbGVkIHRvIGdldCBwYXJlbnQgd2luZG93IHN0YXRlXCIsZSksITF9fTthc3luYyBmdW5jdGlvbiBGZShlLHQsYSxuLG8scil7Y29uc3QgaT0hIWUmJnBlKGUpLHM9YXdhaXQoYXN5bmMoZSx0KT0+e3RyeXtyZXR1cm4gZT9hd2FpdCBlLmdldEJvdW5kcygpOnR9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImdldFBhcmVudFdpbmRvd0JvdW5kcyAtIEZhaWxlZCB0byBnZXQgcGFyZW50IHdpbmRvdyBib3VuZHNcIixlKSx0fX0pKGkscik7aWYobj09PUJlLkJlbG93KXtpZighaXx8YXdhaXQgRWUoaSkpe2NvbnN0IGU9aT8oYXdhaXQgUGUocykpLmF2YWlsYWJsZVJlY3Q6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdDtyZXR1cm57bGVmdDp1ZShlKS5sZWZ0LXQvMix0b3A6bz9lLmJvdHRvbS0xMjg6ZS5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19cmV0dXJue2xlZnQ6dWUocykubGVmdC10LzIsdG9wOm8/cy5ib3R0b20tMTI4OnMuYm90dG9tKzEyLHdpZHRoOnQsaGVpZ2h0OmF9fWlmKCFpfHxhd2FpdCBFZShpKSl7Y29uc3QgZT1pPyhhd2FpdCBQZShzKSkuYXZhaWxhYmxlUmVjdDooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0O3JldHVybntsZWZ0OnVlKGUpLmxlZnQtdC8yLHRvcDplLnRvcCsyMCx3aWR0aDp0LGhlaWdodDphfX1yZXR1cm57bGVmdDp1ZShzKS5sZWZ0LXQvMix0b3A6cy50b3ArMjAsd2lkdGg6dCxoZWlnaHQ6YX19UmUoKGFzeW5jIGZ1bmN0aW9uKGUsdCxhLG4sbyl7Y29uc3Qgcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9YXdhaXQgRmUoZSxyLndpZHRoLHIuaGVpZ2h0LGEsbixvKTtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybjtjb25zdCBzPWhlKCk7YXdhaXQgcy5zZXRCb3VuZHMoaSksYXdhaXQgcy5zaG93KCk7Y29uc3QgYz1zZXRUaW1lb3V0KCgoKT0+cy5jbG9zZSgpKSxuPzVlMzozZTMpLGw9KCk9PntjbGVhclRpbWVvdXQoYykscy5jbG9zZSgpfTtpZihlKXtjb25zdCB0PXBlKGUpO3Qub24oXCJib3VuZHMtY2hhbmdpbmdcIiwoKCk9PmwoKSkpLHQub24oXCJibHVycmVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwibWF4aW1pemVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwibWluaW1pemVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwicmVzdG9yZWRcIiwoKCk9PmwoKSkpfX0pLDEwKTtjb25zdCBWZT1hc3luYyBlPT57Y29uc3QgdD1lJiZhd2FpdCBwZShlKS5nZXRCb3VuZHMoKSxhPWU/YXdhaXQgUGUodCk6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3I7cmV0dXJue2xlZnQ6KChuPWEuYXZhaWxhYmxlUmVjdCkubGVmdCtuLnJpZ2h0KS8yLHRvcDoobi50b3Arbi5ib3R0b20pLzJ9O3ZhciBufSxOZT1hc3luYyhlLHQsYT0hMSk9PntsZXQgbjtpZihhKW49YXdhaXQgVmUodCk7ZWxzZXtjb25zdCBlPXBlKHQpLGE9YXdhaXQgZS5nZXRCb3VuZHMoKTtuPW4/P3VlKGEpfWNvbnN0e2RlZmF1bHRIZWlnaHQ6byxkZWZhdWx0V2lkdGg6cn09ZTtyZXR1cm4oKGUsdCk9Pntjb25zdCBhPXQud2lkdGgvMixuPXQuaGVpZ2h0LzI7cmV0dXJue2xlZnQ6TWF0aC5yb3VuZChlLmxlZnQtYSksdG9wOk1hdGgucm91bmQoZS50b3Atbiksd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fSkobix7aGVpZ2h0Om8sd2lkdGg6cn0pfTthc3luYyBmdW5jdGlvbiBMZShlLHQsYT0hMSl7Y29uc3Qgbj10JiZcIm1heGltaXplZFwiPT09YXdhaXQgcGUodCkuZ2V0U3RhdGUoKSxvPWF8fG58fCF0LHI9YXdhaXQgTmUoZSx0LG8pO3JldHVybiBhd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksYT1bdC5wcmltYXJ5TW9uaXRvciwuLi50Lm5vblByaW1hcnlNb25pdG9yc107Zm9yKGNvbnN0IHQgb2YgYSlpZigxPT09dmUoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0pKHIpPyhhd2FpdCBwZSh0KS5jZW50ZXIoKSxOZShlLHQsbykpOihjb25zb2xlLndhcm4oXCJSZXNwb25zZSBtb2RhbCBpc24ndCBvZmYgc2NyZWVuLCBub3QgY2VudGVyaW5nIHBhcmVudCB3aW5kb3dcIikscil9dmFyIF9lOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJCcm93c2VyXCIsZS5Eb2NrPVwiRG9ja1wiLGUuRW50ZXJwcmlzZURvY2s9XCJFbnRlcnByaXNlRG9ja1wiLGUuSG9tZT1cIkhvbWVcIixlLk5vdGlmaWNhdGlvbj1cIk5vdGlmaWNhdGlvblwiLGUuU3RvcmVmcm9udD1cIlN0b3JlZnJvbnRcIixlLlBsYXRmb3JtPVwiUGxhdGZvcm1cIixlLlRoZW1pbmc9XCJUaGVtaW5nXCIsZS5NaWNyb2Zsb3c9XCJNaWNyb2Zsb3dcIn0oX2V8fChfZT17fSkpO2NvbnN0IE9lPWFzeW5jKGUsdCxhPVwid29ya3NwYWNlLWxpY2Vuc2luZ1wiKT0+e2NvbnN0IG49e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxPLGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOnQuY29tcG9uZW50VmVyc2lvbnx8TyxhbGxvd2VkOnQuYWxsb3dlZCxyZWplY3Rpb25Db2RlOnQucmVqZWN0aW9uQ29kZX07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOmEsZGF0YTpufSl9O2xldCBVZT0hMTtjb25zdCBHZT1uZXcgTWFwLEhlPWU9PntsZXQgdD1HZS5nZXQoZS51dWlkKTtyZXR1cm4gdHx8KHQ9SWEoZSksdC5vbmNlKFwiY2xvc2VkXCIsKCgpPT57R2UuZGVsZXRlKGUudXVpZCl9KSksR2Uuc2V0KGUudXVpZCx0KSksdH0sJGU9YXN5bmMoZSx0KT0+e3RyeXthd2FpdCBlLl9yYWlzZUFuYWx5dGljcyhbdF0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gcmFpc2UgYW5hbHl0aWNzIGV2ZW50XCIsZSl9fSxLZT1hc3luYyBlPT57YXdhaXQgJGUoSGUoZmluLm1lLmlkZW50aXR5KSx7c291cmNlOlwiQnJvd3NlclwiLC4uLmV9KX07dmFyIHplPWEoODQ3KTtjb25zdCBKZT1lPT5lLnJlcGxhY2UoL1teXFxkLF0vZyxcIlwiKS5zcGxpdChcIixcIikscWU9ZT0+e2lmKGUubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2xvciBvYmplY3QsIGNhbm5vdCBjb252ZXJ0IHRvIEhTTC5cIik7Y29uc3QgdD1lWzBdLzI1NSxhPWVbMV0vMjU1LG49ZVsyXS8yNTUsbz1NYXRoLm1pbih0LGEsbikscj1NYXRoLm1heCh0LGEsbiksaT1yLW87bGV0IHM9MCxjPTAsbD0wO3JldHVybiBzPTA9PT1pPzA6cj09PXQ/KGEtbikvaSU2OnI9PT1hPyhuLXQpL2krMjoodC1hKS9pKzQscz1NYXRoLnJvdW5kKDYwKnMpLHM8MCYmKHMrPTM2MCksbD0ocitvKS8yLGM9MD09aT8wOmkvKDEtTWF0aC5hYnMoMipsLTEpKSxjPSsoMTAwKmMpLnRvRml4ZWQoMSksbD0rKDEwMCpsKS50b0ZpeGVkKDEpLHtoc2w6YGhzbCgke3N9LCAke2N9JSwgJHtsfSUpYCxoc2xhOmBoc2woJHtzfSwgJHtjfSUsICR7bH0lLCAxKWAsaHVlOnMsbGlnaHRuZXNzOmwsc2F0dXJhdGlvbjpjfX0sWmU9ZT0+e2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNvbG9yIGlzIG5vdCBkZWZpbmVkXCIpO2NvbnN0IHQ9ZS50b0xvd2VyQ2FzZSgpO2xldCBhO2lmKHQuaW5jbHVkZXMoXCJyZ2JcIikpe2NvbnN0IGU9SmUodCk7ZS5sZW5ndGg+MyYmZS5wb3AoKSxhPXFlKGUpLmh1ZX1pZih0LmluY2x1ZGVzKFwiI1wiKSl7Y29uc3QgZT0oZT0+e2lmKCFlLmluY2x1ZGVzKFwiI1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCB2YWx1ZSwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLiBIZXggdmFsdWUgYmVnaW5zIHdpdGggYSBoYXNodGFnLlwiKTtsZXQgdD0wLGE9MCxuPTA7aWYoND09PWUubGVuZ3RoKXQ9YDB4JHtlWzFdfSR7ZVsxXX1gLGE9YDB4JHtlWzJdfSR7ZVsyXX1gLG49YDB4JHtlWzNdfSR7ZVszXX1gO2Vsc2V7aWYoNyE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZyBsZW5ndGgsIGNhbm5vdCBjb252ZXJ0IHRvIFJHQi5cIik7dD1gMHgke2VbMV19JHtlWzJdfWAsYT1gMHgke2VbM119JHtlWzRdfWAsbj1gMHgke2VbNV19JHtlWzZdfWB9cmV0dXJuWyt0LCthLCtuXX0pKHQpO2E9cWUoZSkuaHVlfWlmKHQuaW5jbHVkZXMoXCJoc2xcIikpe2E9SmUodClbMF19Y29uc3Qgbj1hPy50b1N0cmluZygpO2lmKCFuKXRocm93IG5ldyBFcnJvcihgSHVlIHdhcyB1bmFibGUgdG8gYmUgZXh0cmFjdGVkIGZyb20gXCIke3R9XCIsIGNoZWNrIGNvbG9yIGZvcm1hdC4gQWNjZXB0ZWQgZm9ybWF0cyBhcmU6IHJnYigpLCByZ2JhKCksIGhleCwgaHNsKCksIGFuZCBoc2xhKClgKTtyZXR1cm4gbn0samU9KGUsdD0hMSk9Pntjb25zdCBhPVplKGUpO3JldHVybiB0P3tiYWNrZ3JvdW5kMTpgaHNsYSgke2F9LCAwJSwgMTAwJSwgMSlgLGJhY2tncm91bmQyOmBoc2xhKCR7YX0sIDY3JSwgOTklLCAxKWAsYmFja2dyb3VuZDM6YGhzbGEoJHthfSwgMjYlLCA5NiUsIDEpYCxiYWNrZ3JvdW5kNDpgaHNsYSgke2F9LCAxNSUsIDk0JSwgMSlgLGJhY2tncm91bmQ1OmBoc2xhKCR7YX0sIDEwJSwgODglLCAxKWAsYmFja2dyb3VuZDY6YGhzbGEoJHthfSwgODAlLCA4MCUsIDEpYH06e2JhY2tncm91bmQxOmBoc2xhKCR7YX0sIDglLCA3JSwgMSlgLGJhY2tncm91bmQyOmBoc2xhKCR7YX0sIDglLCAxMyUsIDEpYCxiYWNrZ3JvdW5kMzpgaHNsYSgke2F9LCA5JSwgMTUlLCAxKWAsYmFja2dyb3VuZDQ6YGhzbGEoJHthfSwgNiUsIDIzJSwgMSlgLGJhY2tncm91bmQ1OmBoc2xhKCR7YX0sIDIxJSwgMjglLCAxKWAsYmFja2dyb3VuZDY6YGhzbGEoJHthfSwgNSUsIDUxJSwgMSlgfX0sUWU9KGUsdCk9Pntjb25zdCBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChuPT57YVtuXT10W25dP3Rbbl06ZVtuXX0pKSxhfTt2YXIgWWU9YSg4NzcpLFhlPWEubihZZSksZXQ9YSg2NyksdHQ9YS5uKGV0KTtjb25zdCBhdD17bGlnaHQ6e3N5bWJvbDp0dCgpPy5zcmN8fFwiXCJ9LGRhcms6e3N5bWJvbDpYZSgpPy5zcmN8fFwiXCJ9fSxudD1XJiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBvdChlKXtsZXQgdDtjb25zdCBhPW5ldyBTZXQ7cmV0dXJuKCk9PntpZighQSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCBudDtjb25zdCBuPXtjbGllbnRBUElWZXJzaW9uOk99LG89YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3BheWxvYWQ6bn0pO3JldHVybiBvLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e2EuZm9yRWFjaCgoZT0+ZSgpKSksYS5jbGVhcigpLGNvbnNvbGUud2FybihgZGlzY29ubmVjdGVkIGZyb20gY2hhbm5lbCBwcm92aWRlciAke2V9YCksdD12b2lkIDB9KSksb30pKCkudGhlbigoZT0+KGUuYWRkRGlzY29ubmVjdGlvbkxpc3RlbmVyPWU9PnthLmFkZChlKX0sZSkpKS5jYXRjaCgoYT0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke2F9YCl9KSkpLHR9fXZhciBydCxpdDshZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShydHx8KHJ0PXt9KSksZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0oaXR8fChpdD17fSkpO2NvbnN0IHN0PW90KFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKSxjdD1zdDtvdChcIl9fc2VhcmNoLW9wZW5maW4tYnJvd3Nlci1ob21lLXRvcGljX19cIik7dmFyIGx0OyFmdW5jdGlvbihlKXtlLkxhdW5jaEFwcD1cImxhdW5jaEFwcFwiLGUuU2F2ZVBhZ2U9XCJzYXZlUGFnZVwiLGUuR2V0U2F2ZWRQYWdlPVwiZ2V0U2F2ZWRQYWdlXCIsZS5DcmVhdGVTYXZlZFBhZ2U9XCJjcmVhdGVTYXZlZFBhZ2VcIixlLlVwZGF0ZVNhdmVkUGFnZT1cInVwZGF0ZVNhdmVkUGFnZVwiLGUuRGVsZXRlU2F2ZWRQYWdlPVwiZGVsZXRlU2F2ZWRQYWdlXCIsZS5HZXRTYXZlZFBhZ2VzPVwiZ2V0U2F2ZWRQYWdlc1wiLGUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJjcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJ1cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJkZWxldGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZVBhZ2VGb3JXaW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hQYWdlc1RvV2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2hQYWdlc0Zyb21XaW5kb3dcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXJQYWdlc0ZvcldpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZT1cInNldEFjdGl2ZVBhZ2VcIixlLkFkZFBhZ2U9XCJhZGRQYWdlXCIsZS5BZGREZWZhdWx0UGFnZT1cImFkZERlZmF1bHRQYWdlXCIsZS5HZXRBbGxBdHRhY2hlZFBhZ2VzPVwiZ2V0QWxsQXR0YWNoZWRQYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUlkRm9yV2luZG93PVwiZ2V0QWN0aXZlUGFnZUlkRm9yV2luZG93XCIsZS5HZXRQYWdlc0ZvcldpbmRvdz1cImdldFBhZ2VzRm9yV2luZG93XCIsZS5HZXRQYWdlRm9yV2luZG93PVwiZ2V0UGFnZUZvcldpbmRvd1wiLGUuR2V0U2F2ZWRQYWdlTWV0YWRhdGE9XCJnZXRTYXZlZFBhZ2VNZXRhZGF0YVwiLGUuR2V0VW5pcXVlUGFnZVRpdGxlPVwiZ2V0VW5pcXVlUGFnZVRpdGxlXCIsZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJnZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLkdldFBhZ2VCeVZpZXdJZGVudGl0eT1cImdldFBhZ2VCeVZpZXdJZGVudGl0eVwiLGUuR2V0VGhlbWVzPVwiZ2V0VGhlbWVzXCIsZS5HZXRTZWxlY3RlZFNjaGVtZT1cImdldFNlbGVjdGVkU2NoZW1lXCIsZS5TZXRTZWxlY3RlZFNjaGVtZT1cInNldFNlbGVjdGVkU2NoZW1lXCIsZS5PcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPVwib3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsXCIsZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbD1cImludm9rZUN1c3RvbUFjdGlvbkludGVybmFsXCIsZS5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9XCJyZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWxcIixlLkdldFNhdmVkV29ya3NwYWNlPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VcIixlLkNyZWF0ZVNhdmVkV29ya3NwYWNlPVwiY3JlYXRlU2F2ZWRXb3Jrc3BhY2VcIixlLlVwZGF0ZVNhdmVkV29ya3NwYWNlPVwidXBkYXRlU2F2ZWRXb3Jrc3BhY2VcIixlLkRlbGV0ZVNhdmVkV29ya3NwYWNlPVwiZGVsZXRlU2F2ZWRXb3Jrc3BhY2VcIixlLkdldFNhdmVkV29ya3NwYWNlcz1cImdldFNhdmVkV29ya3NwYWNlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cInNhdmVXb3Jrc3BhY2VcIixlLkdldEN1cnJlbnRXb3Jrc3BhY2U9XCJnZXRDdXJyZW50V29ya3NwYWNlXCIsZS5BcHBseVdvcmtzcGFjZT1cImFwcGx5V29ya3NwYWNlXCIsZS5SZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWw9XCJyZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWxcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwiLGUuSXNCcm93c2VySW5pdGlhbGl6ZWQ9XCJpc0Jyb3dzZXJJbml0aWFsaXplZFwiLGUuQW5hbHl0aWNzPVwiYW5hbHl0aWNzSW50ZXJuYWxcIixlLkdldExhbmd1YWdlPVwiZ2V0TGFuZ3VhZ2VcIixlLkdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWw9XCJnZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsXCIsZS5TZXRMYW5ndWFnZT1cInNldExhbmd1YWdlXCIsZS5HZXREb2NrUHJvdmlkZXJDb25maWc9XCJnZXREb2NrUHJvdmlkZXJDb25maWdcIixlLlNhdmVEb2NrUHJvdmlkZXJDb25maWc9XCJzYXZlRG9ja1Byb3ZpZGVyQ29uZmlnXCIsZS5IYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZT1cImhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlXCIsZS5TaG91bGRQYWdlQ2xvc2U9XCJzaG91bGRQYWdlQ2xvc2VcIixlLlNob3VsZFdpbmRvd0Nsb3NlPVwic2hvdWxkV2luZG93Q2xvc2VcIixlLkNvcHlQYWdlPVwiY29weVBhZ2VcIixlLkhhbmRsZVBhZ2VDaGFuZ2VzPVwiaGFuZGxlUGFnZUNoYW5nZXNcIixlLk1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWw9XCJtYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsXCIsZS5UcmFja1JlbW92ZWRUYWJJbnRlcm5hbD1cInRyYWNrUmVtb3ZlZFRhYkludGVybmFsXCIsZS5SZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsPVwicmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbFwiLGUuVHJhY2tWaXNpdGVkU2l0ZUludGVybmFsPVwidHJhY2tWaXNpdGVkU2l0ZUludGVybmFsXCIsZS5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsPVwiZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbFwiLGUuR2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsPVwiZ2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsXCIsZS5TZWFyY2hTaXRlc0ludGVybmFsPVwic2VhcmNoU2l0ZXNJbnRlcm5hbFwiLGUuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWw9XCJnZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbFwiLGUuR2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbD1cImdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWxcIixlLkhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWw9XCJoYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsXCIsZS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWw9XCJyZWZyZXNoQm9va21hcmtzSW50ZXJuYWxcIixlLkxhdW5jaEJvb2ttYXJrSW50ZXJuYWw9XCJsYXVuY2hCb29rbWFya0ludGVybmFsXCIsZS5HZXROb3RpZmljYXRpb25zQ29uZmlnPVwiZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZ1wiLGUuVXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsPVwidXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsXCIsZS5VcGRhdGVDb250ZW50TWVudUludGVybmFsPVwidXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbFwiLGUuTGF1bmNoRG9ja0VudHJ5SW50ZXJuYWw9XCJsYXVuY2hEb2NrRW50cnlJbnRlcm5hbFwiLGUuU2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWw9XCJzZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbFwiLGUuTmF2aWdhdGVDb250ZW50TWVudUludGVybmFsPVwibmF2aWdhdGVDb250ZW50TWVudUludGVybmFsXCIsZS5TZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsPVwic2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbFwiLGUuR2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsPVwiZ2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsXCIsZS5IYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsPVwiaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbFwiLGUuUmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw9XCJyZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbFwiLGUuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw9XCJhZGREb2NrRmF2b3JpdGVJbnRlcm5hbFwiLGUuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbD1cImZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWxcIn0obHR8fChsdD17fSkpO2NvbnN0IGR0PWFzeW5jIGU9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRDbGllbnQoKSx1dD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBkdChlKSxhPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG47dHJ5e249YXdhaXQgdC5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGEpfWlmKFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbilyZXR1cm4gY29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uIFBsZWFzZSB1cGRhdGUgeW91ciB3b3Jrc3BhY2UgcGxhdGZvcm0uXCIpLG47aWYoXCJvYmplY3RcIj09dHlwZW9mIG4mJm4uaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoYSl9LHB0PWFzeW5jIGU9Pihhd2FpdCB1dChlKSxkdChlKSksd3Q9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgdXQoZSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEwIT09dD8uaXNCcm93c2VySW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGlzIG5vdCBhIEJyb3dzZXItZW5hYmxlZCBXb3Jrc3BhY2UgUGxhdGZvcm0uXCIpO3JldHVybiBkdChlKX0saHQ9XCJkYXJrXCIsZ3Q9e1t6ZS5QYWxldHRlLmJyYW5kUHJpbWFyeV06XCIjMEE3NkQzXCIsW3plLlBhbGV0dGUuc3RhdHVzU3VjY2Vzc106emUuQ29sb3IuZnVuY3Rpb25hbDEsW3plLlBhbGV0dGUuc3RhdHVzV2FybmluZ106emUuQ29sb3IuZnVuY3Rpb25hbDEwLFt6ZS5QYWxldHRlLnN0YXR1c0NyaXRpY2FsXTp6ZS5Db2xvci5mdW5jdGlvbmFsNyxbemUuUGFsZXR0ZS5zdGF0dXNBY3RpdmVdOnplLkNvbG9yLmZ1bmN0aW9uYWwzLFt6ZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMV06XCIjMEE3NkQzXCIsW3plLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQyXTpcIiMwMDAwMDBcIixbemUuUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDNdOlwiIzAwMDAwMFwiLFt6ZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNF06XCIjMDAwMDAwXCIsW3plLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ1XTpcIiMwMDAwMDBcIn0sbXQ9ey4uLmd0LFt6ZS5QYWxldHRlLmJhY2tncm91bmQxXTp6ZS5Db2xvci53aGl0ZSxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kMl06emUuQ29sb3IubGlnaHRHcmF5MSxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kM106emUuQ29sb3IubGlnaHRHcmF5MixbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kNF06emUuQ29sb3IubGlnaHRHcmF5MyxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kNV06emUuQ29sb3IubGlnaHRHcmF5NCxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kNl06emUuQ29sb3IubGlnaHRHcmF5NSxbemUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeV06emUuQ29sb3IubGlnaHRHcmF5NCxbemUuUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOnplLkNvbG9yLmxpZ2h0R3JheTMsW3plLlBhbGV0dGUuaW5wdXRDb2xvcl06emUuQ29sb3IuZGFya0dyYXk1LFt6ZS5QYWxldHRlLmlucHV0UGxhY2Vob2xkZXJdOnplLkNvbG9yLmRhcmtHcmF5MixbemUuUGFsZXR0ZS5pbnB1dERpc2FibGVkXTp6ZS5Db2xvci5uZXV0cmFsR3JheSxbemUuUGFsZXR0ZS5pbnB1dEZvY3VzZWRdOnplLkNvbG9yLmxpZ2h0R3JheTUsW3plLlBhbGV0dGUuaW5wdXRCb3JkZXJdOnplLkNvbG9yLm5ldXRyYWxHcmF5LFt6ZS5QYWxldHRlLnRleHREZWZhdWx0XTp6ZS5Db2xvci5kYXJrR3JheTUsW3plLlBhbGV0dGUudGV4dEhlbHBdOnplLkNvbG9yLmRhcmtHcmF5MyxbemUuUGFsZXR0ZS50ZXh0SW5hY3RpdmVdOnplLkNvbG9yLm5ldXRyYWxHcmF5fSxrdD17Li4uZ3QsW3plLlBhbGV0dGUuYmFja2dyb3VuZDFdOnplLkNvbG9yLmRhcmtHcmF5NixbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kMl06emUuQ29sb3IuZGFya0dyYXk1LFt6ZS5QYWxldHRlLmJhY2tncm91bmQzXTp6ZS5Db2xvci5kYXJrR3JheTQsW3plLlBhbGV0dGUuYmFja2dyb3VuZDRdOnplLkNvbG9yLmRhcmtHcmF5MyxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kNV06emUuQ29sb3IuZGFya0dyYXkyLFt6ZS5QYWxldHRlLmJhY2tncm91bmQ2XTp6ZS5Db2xvci5kYXJrR3JheTEsW3plLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnldOnplLkNvbG9yLmRhcmtHcmF5MixbemUuUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOnplLkNvbG9yLmRhcmtHcmF5MSxbemUuUGFsZXR0ZS5pbnB1dENvbG9yXTp6ZS5Db2xvci53aGl0ZSxbemUuUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTp6ZS5Db2xvci5saWdodEdyYXk1LFt6ZS5QYWxldHRlLmlucHV0RGlzYWJsZWRdOnplLkNvbG9yLm5ldXRyYWxHcmF5LFt6ZS5QYWxldHRlLmlucHV0Rm9jdXNlZF06emUuQ29sb3IubGlnaHRHcmF5NSxbemUuUGFsZXR0ZS5pbnB1dEJvcmRlcl06emUuQ29sb3IubmV1dHJhbEdyYXksW3plLlBhbGV0dGUudGV4dERlZmF1bHRdOnplLkNvbG9yLndoaXRlLFt6ZS5QYWxldHRlLnRleHRIZWxwXTp6ZS5Db2xvci5saWdodEdyYXk1LFt6ZS5QYWxldHRlLnRleHRJbmFjdGl2ZV06emUuQ29sb3IubmV1dHJhbEdyYXl9LGJ0PVt7bGFiZWw6XCJPcGVuRmluIERlZmF1bHQgTGlnaHQgYW5kIERhcmsgVGhlbWVcIixwYWxldHRlczp7bGlnaHQ6ey4uLm10LGJyYW5kUHJpbWFyeTpcIiMwQTc2RDNcIixicmFuZFNlY29uZGFyeTp6ZS5Db2xvci5saWdodEdyYXk0LGJhY2tncm91bmRQcmltYXJ5OnplLkNvbG9yLmRhcmtHcmF5NX0sZGFyazp7Li4ua3QsYnJhbmRQcmltYXJ5OlwiIzBBNzZEM1wiLGJyYW5kU2Vjb25kYXJ5OnplLkNvbG9yLmRhcmtHcmF5MixiYWNrZ3JvdW5kUHJpbWFyeTp6ZS5Db2xvci5kYXJrR3JheTV9fX1dLHl0PWU9Pntjb25zdHtiYWNrZ3JvdW5kOnQsZm9yZWdyb3VuZDphfT1lO3JldHVybntiYWNrZ3JvdW5kOnQsZm9yZWdyb3VuZDphPz9cIiNGRkZGRkZcIn19LGZ0PShlLHQpPT4oe2ljb25zOntzeW1ib2w6ZS5icmFuZD8uaWNvbnM/Llt0XT8uc3ltYm9sfHxhdFt0XS5zeW1ib2x9fSksU3Q9ZT0+e2NvbnN0e2xpZ2h0OnQsZGFyazphfT1cInBhbGV0dGVzXCJpbiBlP2UucGFsZXR0ZXM6e2xpZ2h0OmUucGFsZXR0ZSxkYXJrOmUucGFsZXR0ZX0sbj1RZShrdCxhKSxvPVFlKG10LHQpLHI9KChlLHQpPT57Y29uc3QgYT17Li4uZX0sbj17Li4udH07bGV0IG89dC5iYWNrZ3JvdW5kUHJpbWFyeT9qZSh0LmJhY2tncm91bmRQcmltYXJ5LCEwKTp7fSxyPWUuYmFja2dyb3VuZFByaW1hcnk/amUoZS5iYWNrZ3JvdW5kUHJpbWFyeSk6e307cmV0dXJuIG89ey4uLm8sLi4ubn0scj17Li4uciwuLi5hfSx7bGlnaHQ6ey4uLnQsLi4ub30sZGFyazp7Li4uZSwuLi5yfX19KShhLHQpLGk9ey4uLigwLHplLmNyZWF0ZVRoZW1lKSh7Li4ubiwuLi5yPy5kYXJrfSksYnJhbmQ6ZnQoZSxcImRhcmtcIil9LHM9ey4uLigwLHplLmNyZWF0ZVRoZW1lKSh7Li4ubywuLi5yPy5saWdodH0pLGJyYW5kOmZ0KGUsXCJsaWdodFwiKX0se2xpZ2h0OmMsZGFyazpsfT0oZT0+e2NvbnN0IHQ9T2JqZWN0LmtleXMoZS5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM/P3t9KTtpZih0Py5sZW5ndGgpe2NvbnN0IGE9e30sbj17fTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3Qgbz1lLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9yc1t0XTtcImJhY2tncm91bmRcImluIG8/KGFbdF09eXQobyksblt0XT15dChvKSk6KGFbdF09eXQoby5kYXJrPz9vLmxpZ2h0KSxuW3RdPXl0KG8ubGlnaHQ/P28uZGFyaykpfSkpLHtsaWdodDpuLGRhcms6YX19cmV0dXJue2xpZ2h0Om51bGwsZGFyazpudWxsfX0pKGUpO3JldHVybiBpLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9ycz1sLHMubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzPWMse2Rhcms6aSxsaWdodDpzfX0sdnQ9YXN5bmMgZT0+e2NvbnN0e3RoZW1lczp0LHNlbGVjdGVkU2NoZW1lOmF9PWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWZpbj8uX19pbnRlcm5hbF8/LmluaXRpYWxPcHRpb25zPy53b3Jrc3BhY2VQbGF0Zm9ybT8uX3RoZW1lRGF0YTtpZighdHx8ZS51dWlkIT09d2UudXVpZClyZXR1cm57dGhlbWVzOmF3YWl0IElhKGUpLlRoZW1lLmdldFRoZW1lcygpLHNlbGVjdGVkU2NoZW1lOmF3YWl0IElhKGUpLlRoZW1lLmdldFNlbGVjdGVkU2NoZW1lKCl9O3JldHVybiB0fSkoZSk7dmFyIG4sbztyZXR1cm4obj10Py5sZW5ndGg/dDpidCxvPWEsbi5tYXAoKGU9Pntjb25zdCB0PVwicGFsZXR0ZXNcImluIGU/ZS5kZWZhdWx0Omh0LHtsaWdodDphLGRhcms6bn09U3QoZSk7cmV0dXJue2xhYmVsOmUubGFiZWwsbG9nb1VybDplLmxvZ29VcmwsdGhlbWU6e2Rhcms6bixsaWdodDphfSxkZWZhdWx0U2NoZW1lOm8/P3R9fSkpKVswXX0sUHQ9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcHQoZXx8ZmluLm1lLmlkZW50aXR5KSxhPWF3YWl0IHQuZGlzcGF0Y2gobHQuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKTtyZXR1cm4gYT09PW0uU3lzdGVtP3dpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzP1wiZGFya1wiOlwibGlnaHRcIjphfSxDdD1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCB2dChmaW4ubWUuaWRlbnRpdHkpLG49YXdhaXQgUHQoZmluLm1lLmlkZW50aXR5KT09PW0uRGFyayxvPWE/LnRoZW1lO3JldHVybiBvPy5bbj9tLkRhcms6bS5MaWdodF0/LnBhbGV0dGU/LltlXXx8dH07bGV0IE10O2NvbnN0IHh0PWFzeW5jIGU9PntNdHx8KE10PW5ldyBUZXh0RW5jb2Rlcik7Y29uc3QgdD1NdC5lbmNvZGUoZSksYT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsdCk7cmV0dXJuIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoYSkpLm1hcCgoZT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpKS5qb2luKFwiXCIpfTtmdW5jdGlvbiBJdChlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIEF0KGUsLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGE9dC5zaGlmdCgpO3JldHVybiBJdChlKSYmSXQoYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZihJdChhKSlyZXR1cm4gZVt0XXx8KGVbdF09e30pLEF0KGVbdF0sYSk7ZVt0XT1hfSkpLEF0KGUsLi4udCl9Y29uc3QgV3Q9cmVxdWlyZShcImxvZGFzaC5kZWJvdW5jZVwiKTt2YXIgRHQsVHQ9YS5uKFd0KTtmdW5jdGlvbiBSdCgpe3JldHVybiB2b2lkIDAhPT10eXBlb2YgY3J5cHRvJiZcInJhbmRvbVVVSURcImluIGNyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcIjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMFwiLnJlcGxhY2UoL1swMThdL2csKGU9PihlXmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj5lLzQpLnRvU3RyaW5nKDE2KSkpfSFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCIsZS5TZWxlY3RlZENvbG9yU2NoZW1lPVwiU2VsZWN0ZWRDb2xvclNjaGVtZVwiLGUuVGhlbWVQYWxldHRlU2hlZXQ9XCJUaGVtZVBhbGV0dGVTaGVldFwiLGUuSGFzTW92ZWRTdG9yZT1cIkhhc01vdmVkU3RvcmVcIixlLlBhZ2VEcmFnU3RhdGU9XCJCcm93c2VyUGFnZURyYWdTdGF0ZVwifShEdHx8KER0PXt9KSk7Y29uc3QgQnQ9RHQ7ZnVuY3Rpb24gRXQoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQnQuTWFjaGluZU5hbWUpPz9cInVua25vd25cIn1sZXQgRnQ7YXN5bmMgZnVuY3Rpb24gVnQoKXtyZXR1cm4gRnR8fChGdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxGdH1jb25zdCBOdD1lPT57aWYoQXJyYXkuaXNBcnJheShlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcykmJihlLmxheW91dFNuYXBzaG90fHxlLmxheW91dCkpe2NvbnN0IHQ9ZS53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcy5maW5kKChlPT5lLmlzQWN0aXZlKSk7aWYodCl7Y29uc3QgYT1lLmxheW91dFNuYXBzaG90P2UubGF5b3V0U25hcHNob3QubGF5b3V0c1t0LmxheW91dENvbnRhaW5lcktleV06ZS5sYXlvdXQ7aWYoYSlpZih0LmlzTG9ja2VkKXtjb25zdCBuPV9hKGEsdC5sYXlvdXQpO3QubGF5b3V0PW4sZS5sYXlvdXQ9bn1lbHNlIHQubGF5b3V0PWEsZS5sYXlvdXQ9YX19cmV0dXJuIGV9O2FzeW5jIGZ1bmN0aW9uIEx0KGUpe2NvbnN0IHQ9ZXx8YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuZ2V0U25hcHNob3QoKTtpZih0LnNuYXBzaG90RGV0YWlscz8ubWFjaGluZUlkKXJldHVybiB0O2NvbnN0IGE9RXQoKTtyZXR1cm57Li4udCxzbmFwc2hvdERldGFpbHM6ey4uLnQuc25hcHNob3REZXRhaWxzLG1hY2hpbmVJZDphd2FpdCBWdCgpLG1hY2hpbmVOYW1lOmF9fX1jb25zdCBfdD1hc3luYyBlPT4oey4uLmUsbGF5b3V0RGV0YWlsczp7bWFjaGluZUlkOmF3YWl0IFZ0KCksbWFjaGluZU5hbWU6RXQoKX19KSxPdD1hc3luYyhlLHQpPT4oe3BhZ2VJZDpSdCgpLHRpdGxlOmUsbGF5b3V0OmF3YWl0IF90KHQpLGlzUmVhZE9ubHk6ITF9KSxVdD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBPdChlLnRpdGxlLEZhKGUubGF5b3V0KSk7cmV0dXJuIGUucGFuZWxzJiYodC5wYW5lbHM9ZS5wYW5lbHMubWFwKChlPT4oey4uLmUsdmlld09wdGlvbnM6RWEoZS52aWV3T3B0aW9ucyl9KSkpKSx7Li4uZSwuLi50fX0sR3Q9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyhlKTtyZXR1cm57c2hvdzphc3luYygpPT57Y29uc3QgYT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczpuLGRpbWVuc2lvbnM6b309YSxyPWF3YWl0IEFlKGUpO2F3YWl0IHQucmVwbGFjZSh7Li4uYSxzZXR0aW5nczp7Li4ubixoYXNIZWFkZXJzOiEwLHJlb3JkZXJFbmFibGVkOiEwfSxkaW1lbnNpb25zOnsuLi5vLGhlYWRlckhlaWdodDpyPzI4OjMwfX0pfSxoaWRlOmFzeW5jIGU9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpvfT1hd2FpdCBhO2F3YWl0IHQucmVwbGFjZSh7Li4uYSxzZXR0aW5nczp7Li4ubixoYXNIZWFkZXJzOiExLHJlb3JkZXJFbmFibGVkOmU/LnNldHRpbmdzPy5yZW9yZGVyRW5hYmxlZD8/ITF9LGRpbWVuc2lvbnM6ey4uLm8saGVhZGVySGVpZ2h0OjB9fSl9LGlzU2hvd2luZ1RhYnM6YXN5bmMoKT0+e3RyeXtjb25zdCBlPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOmF9PWF3YWl0IGU7cmV0dXJuIGEuaGFzSGVhZGVyc31jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBnZXQgbGF5b3V0IGNvbmZpZzogXCIsZSksITB9fX19LEh0PVwib2Ytd29ya3NwYWNlLVwiO2NvbnN0ICR0PW5ldyBjbGFzc3ttYXJrKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7SHR9JHtlfWApfW1hcmtTdGFydChlKXtwZXJmb3JtYW5jZS5tYXJrKGAke0h0fSR7ZX0tc3RhcnRgKX1tYXJrRW5kKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7SHR9JHtlfS1lbmRgKX1tYXJrRW5kQW5kTWVhc3VyZShlKXtwZXJmb3JtYW5jZS5tYXJrKGAke0h0fSR7ZX0tZW5kYCk7dHJ5e3JldHVybiBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke0h0fSR7ZX1gLGAke0h0fSR7ZX0tc3RhcnRgLGAke0h0fSR7ZX0tZW5kYCl9Y2F0Y2goZSl7MH19bWFya0FuZE1lYXN1cmUoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKGAke0h0fSR7ZX1gKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7SHR9JHtlfS1tZWFzdXJlYCxgJHtIdH0ke3R9LXN0YXJ0YCxgJHtIdH0ke2V9YCl9Y2F0Y2goZSl7MH19cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2VFbnRyaWVzKCl7cmV0dXJuIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJtZWFzdXJlXCIpLmZpbHRlcigoZT0+ZS5uYW1lLnN0YXJ0c1dpdGgoSHQpKSl9cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2UoKXtyZXR1cm4gdGhpcy5yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKS5tYXAoKGU9Pih7bmFtZTplLm5hbWUucmVwbGFjZShgJHtIdH1gLFwiXCIpLnJlcGxhY2UoXCItbWVhc3VyZVwiLFwiXCIpLGR1cmF0aW9uOmUuZHVyYXRpb259KSkpfX0sS3Q9KGUsdCk9PnQ/YCR7dH0tJHtlLnV1aWR9LSR7ZS5uYW1lfWA6YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCx6dD1uZXcgTWFwLEp0PWU9Pih6dC5oYXMoZSl8fHp0LnNldChlLG90KGUpKSx6dC5nZXQoZSkoKSkscXQ9KGUsdCk9Pntjb25zdCBhPUt0KGUsdCk7cmV0dXJuIEp0KGEpfTt2YXIgWnQsanQsUXQsWXQsWHQ7IWZ1bmN0aW9uKGUpe2UuQ2xvc2VCcm93c2VyV2luZG93PVwiY2xvc2UtYnJvd3Nlci13aW5kb3dcIixlLlF1aXRQbGF0Zm9ybT1cInF1aXQtcGxhdGZvcm1cIixlLkNsb3NlUGFnZT1cImNsb3NlLXBhZ2VcIixlLkFkZFRvQ2hhbm5lbD1cImFkZC10by1jaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cInJlbW92ZS1mcm9tLWNoYW5uZWxcIixlLk9wZW5TYXZlTW9kYWxJbnRlcm5hbD1cIm9wZW4tc2F2ZS1tb2RhbC1pbnRlcm5hbFwiLGUuRHVwbGljYXRlUGFnZT1cImR1cGxpY2F0ZS1wYWdlXCIsZS5TZXRTZWxlY3RlZFNjaGVtZT1cInNldC1zZWxlY3RlZC1zY2hlbWVcIixlLlNob3dCcm93c2VySW5kaWNhdG9yPVwic2hvdy1icm93c2VyLWluZGljYXRvclwiLGUuU2V0U2VsZWN0ZWRMYW5ndWFnZT1cInNldC1zZWxlY3RlZC1sYW5ndWFnZVwiLGUuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPVwicmVmcmVzaC1ib29rbWFya3NcIixlLkdldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3c0ludGVybmFsPVwiZ2V0LWxheW91dHMtd2l0aC1zZWxlY3RlZC12aWV3c1wiLGUuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbD1cImZvY3VzLWFuZC1leHBhbmQtc2VhcmNoXCJ9KFp0fHwoWnQ9e30pKSxmdW5jdGlvbihlKXtlLkdldFBhZ2VzPVwiZ2V0LXBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlRm9yV2luZG93PVwiZ2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2gtcGFnZXMtdG8td2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2gtcGFnZXMtZnJvbS13aW5kb3dcIixlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJzZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuUmVuYW1lUGFnZT1cInJlbmFtZS1wYWdlXCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyLXBhZ2VzLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGUtcGFnZS1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnM9XCJ1cGRhdGUtcGFnZXMtd2luZG93LW9wdGlvbnNcIixlLklzRGV0YWNoaW5nUGFnZXM9XCJpcy1kZXRhY2hpbmctcGFnZXNcIixlLklzQWN0aXZlUGFnZUNoYW5naW5nPVwiaXMtYWN0aXZlLXBhZ2UtY2hhbmdpbmdcIn0oanR8fChqdD17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0QXBwcz1cImdldC1hcHBzXCIsZS5HZXRDdXJhdGVkQ29udGVudD1cImdldC1jdXJhdGVkLWNvbnRlbnRcIixlLkdldFJlY2VudGx5VmlzaXRlZD1cImdldC1yZWNlbnRseS12aXNpdGVkXCIsZS5HZXRTZWFyY2hQcm92aWRlcnM9XCJnZXQtc2VhcmNoLXByb3ZpZGVyc1wifShRdHx8KFF0PXt9KSksZnVuY3Rpb24oZSl7ZS5DcmVhdGVCb29rbWFya05vZGU9XCJjcmVhdGUtYm9va21hcmstbm9kZVwiLGUuR2V0Qm9va21hcmtOb2RlPVwiZ2V0LWJvb2ttYXJrLW5vZGVcIixlLlNlYXJjaEJvb2ttYXJrTm9kZXM9XCJzZWFyY2gtYm9va21hcmstbm9kZXNcIixlLlVwZGF0ZUJvb2ttYXJrTm9kZT1cInVwZGF0ZS1ib29rbWFyay1ub2RlXCIsZS5EZWxldGVCb29rbWFya05vZGU9XCJkZWxldGUtYm9va21hcmstbm9kZVwifShZdHx8KFl0PXt9KSksZnVuY3Rpb24oZSl7ZS5VcGRhdGVGYXZvcml0ZUVudHJpZXM9XCJ1cGRhdGUtZmF2b3JpdGUtZW50cmllc1wiLGUuVXBkYXRlQ29udGVudE1lbnU9XCJ1cGRhdGUtY29udGVudC1tZW51XCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51PVwibmF2aWdhdGUtY29udGVudC1tZW51XCJ9KFh0fHwoWHQ9e30pKTtjb25zdCBlYT17Li4uWnQsLi4uanQsLi4uWHR9LHRhPW90KGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1ib29rbWFya3NgKSxhYT1lPT4oe2lkZW50aXR5OmUsb3BlbmZpbldpbmRvdzpmaW4uV2luZG93LndyYXBTeW5jKGUpLF9ib29rbWFya3M6e19jcmVhdGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCB0YSgpKS5kaXNwYXRjaChZdC5DcmVhdGVCb29rbWFya05vZGUsZSkpKGUpLF9nZXRCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCB0YSgpKS5kaXNwYXRjaChZdC5HZXRCb29rbWFya05vZGUsZSkpKGUpLF9zZWFyY2hCb29rbWFya05vZGVzOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgdGEoKSkuZGlzcGF0Y2goWXQuU2VhcmNoQm9va21hcmtOb2RlcyxlKSkoZSksX3VwZGF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IHRhKCkpLmRpc3BhdGNoKFl0LlVwZGF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2RlbGV0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IHRhKCkpLmRpc3BhdGNoKFl0LkRlbGV0ZUJvb2ttYXJrTm9kZSxlKSkoZSl9LGdldFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuR2V0UGFnZXNGb3JXaW5kb3csZSksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldFBhZ2VGb3JXaW5kb3cse2lkZW50aXR5OmUscGFnZUlkOnR9KSxhZGRQYWdlOmFzeW5jIHQ9PkFhKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fYWRkUGFnZSh0KSxfYWRkUGFnZTphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCB3dChlKSxvPXtpZGVudGl0eTplLHBhZ2U6dCxpbnNlcnRpb25JbmRleDphPy5pbmRleCxtdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yOmE/Lm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J9O3JldHVybiBuLmRpc3BhdGNoKGx0LkFkZFBhZ2Usbyl9LHJlbW92ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5EZXRhY2hQYWdlc0Zyb21XaW5kb3cse2lkZW50aXR5OmUscGFnZUlkczpbdF19KSxyZXBhcmVudFBhZ2U6YXN5bmMgdD0+QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9yZXBhcmVudFBhZ2UodCksX3JlcGFyZW50UGFnZTphc3luYyB0PT57Y29uc3R7cGFnZUlkOmF9PXQsbj1hd2FpdCB3dChlKSxvPShhd2FpdCBuLmRpc3BhdGNoKGx0LkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSkuZmluZCgoKHtwYWdlSWQ6ZX0pPT5lPT09YSkpO2lmKCFvKXRocm93IG5ldyBFcnJvcihgUmVwYXJlbnQgUGFnZSBFcnJvcjogVGFyZ2V0IHBhZ2Ugd2l0aCBwYWdlSWQgJHthfSBub3QgZm91bmRgKTtvLm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I9XCJyZXBhcmVudFwiO2NvbnN0IHI9e2lkZW50aXR5OmUscGFnZXM6W29dLGluc2VydGlvbkluZGV4OnQuaW5kZXh9O3JldHVybiBuLmRpc3BhdGNoKGx0LkF0dGFjaFBhZ2VzVG9XaW5kb3cscil9LHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCB3dChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobHQuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHd0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChsdC5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgd3QoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGx0Lk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IHd0KGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCB3dChlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LHVwZGF0ZUJyb3dzZXJXaW5kb3dUaXRsZTphc3luYyB0PT57Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO1wic3RyaW5nXCIhPXR5cGVvZiB0P2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3RpdGxlOnR9fSk6Y29uc29sZS53YXJuKFwiVHlwZSBzdHJpbmcgZm9yIHdpbmRvdyB0aXRsZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFdpbmRvd1RpdGxlIHR5cGUgaW5zdGVhZFwiLHQpfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCB3dChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobHQuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblBhZ2VUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCB3dChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobHQuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblNhdmVNb2RhbDphc3luYyB0PT57YXdhaXQgd3QoZSk7cmV0dXJuKGF3YWl0IHF0KGUpKS5kaXNwYXRjaChlYS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWwsdCl9LF9nZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3M6YXN5bmMoKT0+KGF3YWl0IHF0KGUpKS5kaXNwYXRjaChlYS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbCxlKSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCB3dChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobHQuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLHQpfSxfYWRkRGVmYXVsdFBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgd3QoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGx0LkFkZERlZmF1bHRQYWdlLHQpfSxfdHJhY2tSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwsdCksX3Jlc3RvcmVSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbCx0KSxfdHJhY2tWaXNpdGVkU2l0ZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LlRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbCx0KSxfZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXM6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuR2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9zZWFyY2hTaXRlczphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LlNlYXJjaFNpdGVzSW50ZXJuYWwse2lkZW50aXR5OmUscmVxOnR9KSxfZ2V0U2VhcmNoUHJvdmlkZXJzOmFzeW5jKCk9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwse2lkZW50aXR5OmV9KSxfZ2V0Q3VyYXRlZENvbnRlbnQ6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRDdXJhdGVkQ29udGVudEludGVybmFsLHtpZGVudGl0eTplLHJlcTp0fSksX2hhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbCx0KX0pLG5hPWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm57d3JhcFN5bmM6ZT0+YWEoZSksY3JlYXRlV2luZG93OmFzeW5jIGE9Pntjb25zdCBuPSgoKT0+e2NvbnN0IGU9YGJyb3dzZXItd2luZG93LXN0YXJ0dXAtJHtSdCgpfWA7cmV0dXJuICR0Lm1hcmtTdGFydChlKSxlfSkoKTsoZT0+e2Zpbi5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0pLm9uY2UoXCJ3aW5kb3ctc2hvd25cIiwoKCk9PnskdC5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItd2luZG93LXNob3duXCIsZSl9KSl9KShuKSxhd2FpdCB3dChlKTtjb25zdCBvPWF3YWl0IHQuY3JlYXRlV2luZG93KGEpO3JldHVybihlPT57JHQubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zdGFydGVkXCIsZSl9KShuKSxhYShvLmlkZW50aXR5KX0sZ2V0QWxsQXR0YWNoZWRQYWdlczphc3luYygpPT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSxnZXRBbGxXaW5kb3dzOmFzeW5jKCk9Pnthd2FpdCB3dChlKTtyZXR1cm4oYXdhaXQgYmUoKSkubWFwKChlPT5hYShlLmlkZW50aXR5KSkpfSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRVbmlxdWVQYWdlVGl0bGUsdCksZ2V0TGFzdEZvY3VzZWRXaW5kb3c6YXN5bmMoKT0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKSxnZXRQYWdlQnlWaWV3SWRlbnRpdHk6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRQYWdlQnlWaWV3SWRlbnRpdHksdCl9fSxvYT1lPT4oe2NyZWF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksdXBkYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LlVwZGF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRTYXZlZFBhZ2VzLHQpLHNhdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuU2F2ZVBhZ2UsdCksY3JlYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZGVsZXRlV29ya3NwYWNlOmFzeW5jIHQ9Pntjb25zdCBhPUFhKCksbj1hd2FpdCBhLmdldEN1cnJlbnRXb3Jrc3BhY2UoKTtpZihuLndvcmtzcGFjZUlkPT09dCl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZWxldGUgY3VycmVudCBhY3RpdmUgd29ya3NwYWNlICR7bi50aXRsZX1gKTtyZXR1cm4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkRlbGV0ZVNhdmVkV29ya3NwYWNlLHQpfSx1cGRhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5VcGRhdGVTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2VzOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0U2F2ZWRXb3Jrc3BhY2VzLHQpLHNhdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5TYXZlV29ya3NwYWNlLHQpLGdldERvY2tQcm92aWRlckNvbmZpZzphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkdldERvY2tQcm92aWRlckNvbmZpZyx0KSxzYXZlRG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuU2F2ZURvY2tQcm92aWRlckNvbmZpZyx0KX0pO3ZhciByYTshZnVuY3Rpb24oZSl7ZS5VcGRhdGVQbGF0Zm9ybVRoZW1lU2NoZW1lPVwidXBkYXRlLXBsYXRmb3JtLXRoZW1lLXNjaGVtZVwifShyYXx8KHJhPXt9KSk7Y29uc3QgaWE9b3QoXCJvZi13b3Jrc3BhY2Utbm90aWZpY2F0aW9ucy1zeW5jXCIpLHNhPShlLHQpPT57bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7Un0tJHtlfWAsdCl9LGNhPWU9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1J9LSR7ZX1gKSxsYT1lPT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgJHtSfS0ke2V9YCksZGE9bS5TeXN0ZW0sdWE9ZT0+T2JqZWN0LmVudHJpZXMoZSkucmVkdWNlKCgoZSxbdCxhXSk9PmAke2V9LS13b3Jrc3BhY2UtcGFsZXR0ZS0ke3R9OiAke2F9O2ApLFwiXCIpLHBhPShlLHQpPT4oe3NlbGVjdGVkVGFiOlwiZGFya1wiPT09dD9lLmJhY2tncm91bmQzOmUuYmFja2dyb3VuZDF9KTtjb25zdCB3YT1uZXcgY2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5wcm92aWRlclN0b3JhZ2U9ZSx0aGlzLmdldFZhcnNCeVNjaGVtZT1lPT5cImRhcmtcIj09PWU/dGhpcy5kYXJrUGFsZXR0ZVZhcnM6dGhpcy5saWdodFBhbGV0dGVWYXJzLHRoaXMuc2V0V29ya3NwYWNlU3RvcmFnZVByb3h5PWU9Pnt0aGlzLndvcmtzcGFjZVN0b3JhZ2U9ZX0sdGhpcy50cnlTeW5jaHJvbml6ZVdvcmtzcGFjZVN0b3JhZ2U9YXN5bmMoKT0+e2lmKHRoaXMud29ya3NwYWNlU3RvcmFnZSl7Y29uc3QgZT10aGlzLmdldFNjaGVtZSgpO2lmKGF3YWl0IHRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKEJ0LlNlbGVjdGVkQ29sb3JTY2hlbWUsZSksdGhpcy5kYXJrUGFsZXR0ZVZhcnMmJnRoaXMubGlnaHRQYWxldHRlVmFycylpZihcImRhcmtcIj09PWV8fFwibGlnaHRcIj09PWUpYXdhaXQgdGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0oQnQuVGhlbWVQYWxldHRlU2hlZXQsYDpyb290eyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoZSl9fWApO2Vsc2V7Y29uc3QgZT1gQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7OnJvb3QgeyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoXCJkYXJrXCIpfX19YCx0PWBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCl7OnJvb3R7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShcImxpZ2h0XCIpfX19YDthd2FpdCB0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShCdC5UaGVtZVBhbGV0dGVTaGVldCxgJHt0fSR7ZX1gKX19fSx0aGlzLnNldFBhbGV0dGVzPWFzeW5jKHtsaWdodDplLGRhcms6dH0pPT57dGhpcy5saWdodFBhbGV0dGVWYXJzPXVhKHsuLi5lLC4uLnBhKGUsXCJsaWdodFwiKX0pLHRoaXMuZGFya1BhbGV0dGVWYXJzPXVhKHsuLi50LC4uLnBhKHQsXCJkYXJrXCIpfSl9fXNldFNjaGVtZShlKXt0aGlzLnByb3ZpZGVyU3RvcmFnZS5zZXRJdGVtKEJ0LlNlbGVjdGVkQ29sb3JTY2hlbWUsZSl9Z2V0U2NoZW1lKCl7cmV0dXJuIG51bGw9PT10aGlzLnByb3ZpZGVyU3RvcmFnZS5nZXRJdGVtKEJ0LlNlbGVjdGVkQ29sb3JTY2hlbWUpJiZ0aGlzLnByb3ZpZGVyU3RvcmFnZS5zZXRJdGVtKEJ0LlNlbGVjdGVkQ29sb3JTY2hlbWUsZGEpLHRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0oQnQuU2VsZWN0ZWRDb2xvclNjaGVtZSl9fShkKSxoYT0oKT0+d2EsZ2E9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRUaGVtZXMsdm9pZCAwKSxzZXRTZWxlY3RlZFNjaGVtZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlNldFNlbGVjdGVkU2NoZW1lLHQpLGdldFNlbGVjdGVkU2NoZW1lOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKX0pLG1hPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGN0KCk7YXdhaXQgdC5kaXNwYXRjaChcInNldC1zZWxlY3RlZC1zY2hlbWVcIixlKX0sa2E9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgaWEoKTthd2FpdCB0LmRpc3BhdGNoKHJhLlVwZGF0ZVBsYXRmb3JtVGhlbWVTY2hlbWUse3NjaGVtZTplfSl9LGJhPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGJlKCk7cmV0dXJuIFByb21pc2UuYWxsKHQubWFwKChhc3luYyB0PT57Y29uc3QgYT1hd2FpdCBxdCh0LmlkZW50aXR5KTthd2FpdCBhLmRpc3BhdGNoKGVhLlNldFNlbGVjdGVkU2NoZW1lLGUpfSkpKX0seWE9YXN5bmMgZT0+e2NvbnN0IHQ9bmV3IEFycmF5LGE9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCksbj1hd2FpdCBhLmdldFZpZXdzKCk7Zm9yKGNvbnN0IGUgb2Ygbil7LTEhPT1lLmlkZW50aXR5Lm5hbWUuaW5kZXhPZihkZS5Ccm93c2VyQWRkcmVzc1NlYXJjaFByZWZpeCkmJnQucHVzaChlLmlkZW50aXR5KTstMSE9PShhd2FpdCBlLmdldE9wdGlvbnMoKSkudXJsLmluZGV4T2YoSy5FbnRlcnByaXNlQnJvd3NlcikmJnQucHVzaChlLmlkZW50aXR5KX1yZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHF0KHQsXCJ0aGVtZS1jaGFuZ2UtbGlzdGVuZXJcIik7YXdhaXQgYS5kaXNwYXRjaChlYS5TZXRTZWxlY3RlZFNjaGVtZSxlKX0pKSl9LGZhPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHllKCk7cmV0dXJuIFByb21pc2UuYWxsKHQubWFwKChhc3luYyB0PT57Y29uc3QgYT1hd2FpdCBxdCh0LmlkZW50aXR5KTthd2FpdCBhLmRpc3BhdGNoKGVhLlNldFNlbGVjdGVkU2NoZW1lLGUpfSkpKX0sU2E9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcXQoe3V1aWQ6d2UudXVpZCxuYW1lOmRlLkVudGVycHJpc2VDb250ZXh0TWVudX0pO2F3YWl0IHQuZGlzcGF0Y2goZWEuU2V0U2VsZWN0ZWRTY2hlbWUsZSl9LHZhPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHF0KHt1dWlkOndlLnV1aWQsbmFtZTpkZS5FbnRlcnByaXNlQm9va21hcmtEaWFsb2dXaW5kb3d9KTthd2FpdCB0LmRpc3BhdGNoKGVhLlNldFNlbGVjdGVkU2NoZW1lLGUpLmNhdGNoKCgoKT0+e30pKX0sUGE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcXQoe3V1aWQ6d2UudXVpZCxuYW1lOmRlLkRyb3Bkb3duTWVudX0pO2F3YWl0IHQuZGlzcGF0Y2goZWEuU2V0U2VsZWN0ZWRTY2hlbWUsZSkuY2F0Y2goKCgpPT57fSkpfSxDYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBxdCh7dXVpZDp3ZS51dWlkLG5hbWU6ZGUuRG9ja0NvbXBhbmlvbn0pO2F3YWl0IHQuZGlzcGF0Y2goZWEuU2V0U2VsZWN0ZWRTY2hlbWUsZSkuY2F0Y2goKCgpPT57fSkpfSxNYT1hc3luYyBlPT57dHJ5e2NvbnN0IHQ9aGEoKTt0LnNldFNjaGVtZShlKSxhd2FpdCBQcm9taXNlLmFsbChbdC50cnlTeW5jaHJvbml6ZVdvcmtzcGFjZVN0b3JhZ2UoKSx5YShlKSxrYShlKSxiYShlKSxmYShlKSxTYShlKSxtYShlKSx2YShlKSxQYShlKSxDYShlKV0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2V0IHRoZSBzZWxlY3RlZCBzY2hlbWU6IFwiLGUpfX0seGE9KCk9Pnt0cnl7cmV0dXJuIGhhKCkuZ2V0U2NoZW1lKCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byBnZXQgdGhlIHNlbGVjdGVkIHNjaGVtZTogXCIsZSl9fSxJYT1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7bGV0IGE7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx7YXBwbHlTbmFwc2hvdDphc3luYyh0LGEpPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiF0Py53aW5kb3dzKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIGJyb3dzZXIgc25hcHNob3RcIik7cmV0dXJuIGZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5hcHBseVNuYXBzaG90KHQsYSl9LGdldFNuYXBzaG90OigpPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0U25hcHNob3QoKS50aGVuKChlPT5lKSksZ2V0Vmlld1NuYXBzaG90OnQ9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRWaWV3U25hcHNob3QodCksY3JlYXRlVmlldzoodCxhLG4pPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuY3JlYXRlVmlldyh0LGEsbiksbGF1bmNoQXBwOmFzeW5jIHQ9Pntjb25zb2xlLndhcm4oXCJsYXVuY2hBcHAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBjcmVhdGVWaWV3IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNhZGQtYS12aWV3LXRvLWFuLWV4aXN0aW5nLXdpbmRvdyBvciAgY3JlYXRlV2luZG93IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNjcmVhdGUtYS1wbGF0Zm9ybS13aW5kb3cgaW5zdGVhZC5cIiksdC50YXJnZXR8fCh0LnRhcmdldD17dXVpZDpSLG5hbWU6QixlbnRpdHlUeXBlOkV8fFwidW5rbm93blwifSk7cmV0dXJuKGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5MYXVuY2hBcHAsdCl9LF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQgcHQoZSksbz17YWN0aW9uSWQ6dCxwYXlsb2FkOnsuLi5hLGNhbGxlclR5cGU6YS5jYWxsZXJUeXBlfHxDLkFQSX19O3JldHVybiBuLmRpc3BhdGNoKGx0Lkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsLG8pfSxfcmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZzphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbCx0KSxnZXRDdXJyZW50V29ya3NwYWNlOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0Q3VycmVudFdvcmtzcGFjZSx2b2lkIDApLGFwcGx5V29ya3NwYWNlOmFzeW5jKHQsYSk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuQXBwbHlXb3Jrc3BhY2Usey4uLnQsb3B0aW9uczphfSkscmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbCx0KSxzZXRBY3RpdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5TZXRBY3RpdmVXb3Jrc3BhY2UsdCksZ2V0TGFuZ3VhZ2U6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRMYW5ndWFnZSksX2dldExhbmd1YWdlUmVzb3VyY2VzOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbCksc2V0TGFuZ3VhZ2U6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5TZXRMYW5ndWFnZSx0KSxfcmFpc2VBbmFseXRpY3M6YXN5bmMgdD0+e2lmKGF8fChhPWF3YWl0IHV0KGUpKSxcIm9iamVjdFwiPT10eXBlb2YgYSYmYT8uYW5hbHl0aWNzPy5pc1N1cHBvcnRlZCl7cmV0dXJuKGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5BbmFseXRpY3MsdCl9ZS51dWlkfSxnZXROb3RpZmljYXRpb25zQ29uZmlnOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0Tm90aWZpY2F0aW9uc0NvbmZpZyksX3JlZnJlc2hCb29rbWFya3NJbnRlcm5hbDphc3luYygpPT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCksX2xhdW5jaEJvb2ttYXJrSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5MYXVuY2hCb29rbWFya0ludGVybmFsLHQpLF91cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwsdCksX3VwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5VcGRhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9sYXVuY2hEb2NrRW50cnlJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkxhdW5jaERvY2tFbnRyeUludGVybmFsLHQpLF9zZXREb2NrRmF2b3JpdGVzSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbCx0KSxfc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwsdCksX3JlbW92ZURvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuUmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwsdCksX2FkZERvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwsdCksX25hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0Lk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbCx0KSxfb3BlbkRvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbDphc3luYygpPT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbCksX2hhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5IYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsLHQpLF9mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbCksVGhlbWU6Z2EoZSksQnJvd3NlcjpuYShlKSxTdG9yYWdlOm9hKGUpfSl9LEFhPSgpPT5JYShmaW4ubWUuaWRlbnRpdHkpLFdhPXtjb250ZXh0TWVudU9wdGlvbnM6e2VuYWJsZWQ6ITAsdGVtcGxhdGU6W1wic3BlbGxDaGVja1wiLFwic2VwYXJhdG9yXCIsXCJwcmludFwiLFwic2VwYXJhdG9yXCIsXCJjdXRcIixcImNvcHlcIixcInBhc3RlXCIsXCJ1bmRvXCIsXCJyZWRvXCIsXCJzZWxlY3RBbGxcIixcImluc3BlY3RcIixcInJlbG9hZFwiXX0sZG93bmxvYWRTaGVsZjp7ZW5hYmxlZDohMH19O2Z1bmN0aW9uIERhKGUsdCl7cmV0dXJuIEF0KHt9LFdhLHQsZSl9Y29uc3QgVGE9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtdmlldy1cIixSYT0oZSx0KT0+ZS5jb250ZW50P3suLi5lLGNvbnRlbnQ6ZS5jb250ZW50Lm1hcCgoZT0+UmEoZSx0KSkpfTp7Li4uZSxjb21wb25lbnRTdGF0ZTp0KGUuY29tcG9uZW50U3RhdGUpfSxCYT0oZSx0KT0+e3JldHVybiBhPURhKGUsdCksey4uLmEsbmFtZTphLm5hbWU/YS5uYW1lOmBpbnRlcm5hbC1nZW5lcmF0ZWQtdmlldy0ke1J0KCl9YCxfaW50ZXJuYWxXb3Jrc3BhY2VEYXRhOnsuLi5hLl9pbnRlcm5hbFdvcmtzcGFjZURhdGEsdmlld0lkZW50aWZpZXI6YS5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy52aWV3SWRlbnRpZmllcnx8UnQoKX19O3ZhciBhfSxFYT1lPT4oey4uLmUsbmFtZTp2b2lkIDB9KSxGYT1lPT57Y29uc3QgdD17Li4uZX07cmV0dXJuIFJhKHQsRWEpfSxWYT1lPT57Y29uc3QgdD17Li4uZX07cmV0dXJuIFJhKHQsKGU9PmUubmFtZSYmZS5uYW1lLnN0YXJ0c1dpdGgoVGEpP0VhKGUpOmUpKX0sTmE9ZT0+e2NvbnN0IHQ9W107cmV0dXJuKGUmJkFycmF5LmlzQXJyYXkoZSk/ZTpbXSkuZm9yRWFjaCgoZT0+e2lmKFwiY29tcG9uZW50XCI9PT1lLnR5cGUpcmV0dXJuIHQucHVzaChlLmNvbXBvbmVudFN0YXRlKTtjb25zdCBhPU5hKGUuY29udGVudCk7dC5wdXNoKC4uLmEpfSkpLHR9LExhPWFzeW5jKGUsdCxhPXdlKT0+e2xldCBuO2lmKGF3YWl0IGtlKGEpKXtuPShhd2FpdCBwZShhKS5nZXRPcHRpb25zKCkpLmxheW91dHx8e3NldHRpbmdzOnt9fX1yZXR1cm57Li4ubixjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOnt0aXRsZTplLHVybDp0fX1dfV19fTtuZXcgTWFwLG5ldyBNYXA7Y29uc3QgX2E9KGUsdCk9Pntjb25zdCBhPU5hKHQuY29udGVudCk7cmV0dXJuey4uLlJhKGUsKGU9Pntjb25zdCB0PWEuZmluZCgodD0+dC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy52aWV3SWRlbnRpZmllcj09PWUuX2ludGVybmFsV29ya3NwYWNlRGF0YT8udmlld0lkZW50aWZpZXIpKSxuPXQ/dC5pc0Nsb3NhYmxlOmUuaXNDbG9zYWJsZTtyZXR1cm57Li4uZSxpc0Nsb3NhYmxlOm59fSkpLHNldHRpbmdzOnQuc2V0dGluZ3N9fSxPYT1lPT5lP05hKGUpLmxlbmd0aDowLFVhPShUdCgpKChhc3luYyBlPT57dHJ5e2NvbnN0IHQ9YXdhaXQoYXN5bmMgZT0+ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyh7Li4uZmluLm1lLmlkZW50aXR5LGxheW91dE5hbWU6ZX0pLmdldENvbmZpZygpKShlLmxheW91dENvbnRhaW5lcktleSksYT10LmNvbnRlbnQ/TmEodC5jb250ZW50KTpbXSxuPWEubGVuZ3RoO24+MT8oZT0+e1wibXVsdGlWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUmJkFhKCkuQnJvd3Nlci53cmFwU3luYyh3ZSkudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6e3NpbmdsZVZpZXdOYW1lOm51bGwsYXR0YWNoZWRQYWdlVHlwZTpcIm11bHRpVmlld1wifX0pfSkoZSk6MT09PW4mJihhc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLkJyb3dzZXIud3JhcFN5bmMod2UpO2lmKFwic2luZ2xlVmlld1wiIT09ZS5hdHRhY2hlZFBhZ2VUeXBlKXtjb25zdCBuPWF3YWl0IFV0KGUpLG89YXdhaXQgQWEoKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZSgpO2RlbGV0ZSBuLmxheW91dDtjb25zdCByPXsuLi5uLHNpbmdsZVZpZXdOYW1lOnQsdGl0bGU6byxoYXNVbnNhdmVkQ2hhbmdlczohMSxhdHRhY2hlZFBhZ2VUeXBlOlwic2luZ2xlVmlld1wifTthd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOnJ9KX19KShlLGFbMF0ubmFtZSksYXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9R3Qoey4uLndlLGxheW91dE5hbWU6ZS5sYXlvdXRDb250YWluZXJLZXl9KSxuPWF3YWl0IGEuaXNTaG93aW5nVGFicygpO3Q+MT9ufHxhd2FpdCBhLnNob3coKToxPT09dCYmbiYmYXdhaXQgYS5oaWRlKHtzZXR0aW5nczp7cmVvcmRlckVuYWJsZWQ6ITB9fSl9KShlLG4pfWNhdGNoKGUpe319KSw1MCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pLHJlcXVpcmUoXCJyZWFjdC1pMThuZXh0XCIpKSxHYT1yZXF1aXJlKFwiaTE4bmV4dFwiKTt2YXIgSGE9YS5uKEdhKTtjb25zdCAkYT1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuaWsOW7uueql+WPo1wiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi5paw5bu66aG16Z2iXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLov5jljp/liLDkuIrmrKHkv53lrZjnmoTmm7TmlLlcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi5YiH5o2i5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLlpJbop4JcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuS/neWtmOW3peS9nOWMulwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLlsIblt6XkvZzljLrlj6blrZjkuLouLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi6YeN5ZG95ZCN5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuWIoOmZpOW3peS9nOWMulwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLkuIvovb1cIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLkv53lrZjpobXpnaJcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuWwhumhtemdouWPpuWtmOS4ui4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuaJk+WNsC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIuaJk+WNsOWxj+W5lVwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIuWFs+mXreeql+WPo1wiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIuW8gOaUvuW8j+W6l+mdolwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLpgIDlh7rlubPlj7BcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIuaWsOW7uuinhuWbvlwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIuS9v+eUqOm7mOiupCBXZWIg5rWP6KeI5Zmo5omT5byA6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIuS9v+eUqOm7mOiupCBXZWIg5rWP6KeI5Zmo5omT5byA6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBDTlwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi6YeN5paw5Yqg6L296KeG5Zu+XCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi6YeN5paw5Yqg6L296KeG5Zu+XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBDTlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwi5aSN5Yi26KeG5Zu+XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi5aSN5Yi26KeG5Zu+XCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLlsIbop4blm77mt7vliqDliLDpopHpgZNcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLlsIbop4blm77mt7vliqDliLDpopHpgZNcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIuS7jumikemBk+S4reenu+mZpOinhuWbvlwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIuS7jumikemBk+S4reenu+mZpOinhuWbvlwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLlhbPpl63op4blm75cIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIuWFs+mXreinhuWbvlwiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBDTlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwi5aSN5Yi26aG16Z2iXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCLmiZPljbBcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIuWFqOmDqOaJk+WNsFwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLlsIblt6XkvZzljLrlj6blrZjkuLpcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIuWwhumhtemdouWPpuWtmOS4ulwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIENOXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX19IOW3suWtmOWcqOOAglwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCLor7fovpPlhaXmnInmlYjlkI3np7BcIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCLph43mlrDlkb3lkI3pobXpnaJcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIuWFs+mXremhtemdolwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLmlL7lvIPmm7TmlLlcIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCLlhajpg6jmlL7lvINcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCLlhajpg6jkv53lrZhcIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwi5YWz6Zet5YmN5L+d5a2YICh7e2NvdW50fX0pIOS4qumhtemdou+8n1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBDTlwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIENOXCIsXCJhZGROZXdQYWdlXCI6XCLmt7vliqDmlrDpobXpnaJcIixcImFkZE5ld1RhYlwiOlwi5re75Yqg5paw6YCJ6aG55Y2hXCIsXCJhZGROZXdWaWV3XCI6XCLmlrDlu7rop4blm75cIixcInJlc3RvcmVNb2RhbFwiOlwi5oKo56Gu5a6a6KaB6L+Y5Y6f5Yiw5LiK5qyh5L+d5a2Y55qE5pu05pS55ZCX77yfXCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwi5Lu75L2V5pyq5L+d5a2Y55qE5pu05pS56YO95bCG5Lii5aSxXCIsXCJtb2RhbC5kaXNjYXJkUGFnZVdhcm5pbmdcIjpcIuWvueatpOmhteeahOS7u+S9leacquS/neWtmOeahOabtOaUuemDveWwhuS4ouWkseOAglwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIuWFs+mXreWJjeS/neWtmOabtOaUue+8n1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCLlhbPpl63pobXpnaJcIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCI6XCLmgqjnoa7lrpropoHliIfmjaLliLAge3t3b3Jrc3BhY2V9fSDlkJfvvJ9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuS7u+S9leacquS/neWtmOeahOabtOaUuemDveWwhuS4ouWksVwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIuaCqOehruWumuimgeawuOS5heWIoOmZpOatpOW3peS9nOWMuuWQl++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuWQjeensOS4uiB7e3dvcmtzcGFjZX19IOeahOW3peS9nOWMuuW3suWtmOWcqOOAguaCqOaYr+WQpuimgeabv+aNouWug++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi5bey5a2Y5Zyo5ZCM5ZCN55qE5bel5L2c5Yy644CC5pu/5o2i5a6D5bCG6KaG55uW5YW25b2T5YmN5YaF5a6544CCXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi5pu/5o2iXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLlhbPpl63lubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCLlhbPpl60ge3t3b3Jrc3BhY2V9fSDlubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi5YWz6Zet5bmz5Y+w5bCG5YWz6Zet5omA5pyJ5bel5L2c5Yy644CB5bqU55So5oiW5Lu75L2V5q2j5Zyo6L+Q6KGM55qE6L+b56iL44CCXCIsXCJiYWNrXCI6XCLlkI7pgIBcIixcImZvcndhcmRcIjpcIuWJjei/m1wiLFwicmVsb2FkXCI6XCLph43mlrDliqDovb1cIixcImdyZWVuXCI6XCLnu7/oibJcIixcInB1cnBsZVwiOlwi57Sr6ImyXCIsXCJvcmFuZ2VcIjpcIuapmeiJslwiLFwicmVkXCI6XCLnuqLoibJcIixcInBpbmtcIjpcIueyiee6ouiJslwiLFwieWVsbG93XCI6XCLpu4ToibJcIixcInRoZW1lLmxpZ2h0XCI6XCLmtYXoibJcIixcInRoZW1lLmRhcmtcIjpcIua3seiJslwiLFwidGhlbWUuc3lzdGVtXCI6XCLkuI7mk43kvZzns7vnu5/orr7nva7lkIzmraVcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIumakOiXj+mAiemhueWNoVwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi5pi+56S66YCJ6aG55Y2hXCIsXCJ0b29sYmFyLmxvY2tcIjpcIumUgeWumlwiLFwidG9vbGJhci51bmxvY2tcIjpcIuino+mUgVwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIuminOiJsumTvuaOpVwiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuabtOaUueW4g+WxgFwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi5L+d5a2Y6I+c5Y2VXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLmnIDlpKfljJbnqpflj6NcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi6L+Y5Y6f56qX5Y+jXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLmnIDlsI/ljJbnqpflj6NcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuWFqOWuvVwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuWIl+aVsFwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIuihjOaVsFwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIue9keagvFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi5bey5YiH5o2i5bel5L2c5Yy6XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi6YCJ6aG55Y2h5bey6ZqQ6JePXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLpgInpobnljaHlt7LmmL7npLpcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLpobXpnaLlt7LplIHlrppcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIumhtemdouW3suino+mUgVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi5bel5L2c5Yy65bey5L+d5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuW3peS9nOWMuuW3suWPpuWtmOS4uiB7e3dvcmtzcGFjZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuW3peS9nOWMuuW3sumHjeWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIumhtemdouW3suS/neWtmFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIENOXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIumhtemdouW3suWPpuWtmOS4uiB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIumhtemdouW3sumHjeWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLlt7LlupTnlKjkuIrkuIvmlofnu4RcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLlt7LlupTnlKgge3tjb2xvck5hbWV9fSDkuIrkuIvmlofnu4RcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIuS7juS4iuS4i+aWh+e7hOS4reenu+mZpOinhuWbvlwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIuS7juS4iuS4i+aWh+e7hOS4reenu+mZpOinhuWbvlwiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCLlt7LlupTnlKgge3tsYXlvdXROYW1lfX0g5biD5bGAXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuW3peS9nOWMuuW3suWIoOmZpFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIumhtemdouS/neWtmOWksei0pVwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi5bel5L2c5Yy65L+d5a2Y5aSx6LSlXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIuWkjeWItumhtemdouWksei0pVwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLmiJHku6zlsJ3or5Xlr7nmraTpgInpobnljaHov5vooYzpopzoibLpk77mjqXvvIzkvYbnvZHnq5kv5YaF5a655omA5pyJ6ICF5bCa5pyq5ZCv55So6K+l5Yqf6IO9XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLlj5bmtohcIixcImdsb2JhbC5jb25maXJtXCI6XCLnoa7orqRcIixcImdsb2JhbC5zYXZlXCI6XCLkv53lrZhcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBDTlwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgQ05cIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIENOXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIENOXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLmiZPlvIDmtY/op4jlmajoj5zljZVcIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIua1j+iniOWZqOmAiemhueWNoVwiLFwiYXJpYS52aWV3VGFiXCI6XCLmn6XnnIsge3t0aXRsZX19IOeahOmAiemhueWNoVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIuWFs+mXrSB7e3RpdGxlfX0g55qE6aG16Z2i6YCJ6aG55Y2h5oyJ6ZKuXCIsXCJhcmlhLmNsb3NlVGFiXCI6XCLlhbPpl63pgInpobnljaEge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCLmoIfpophcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuS9v+eUqOi9rOS5ieWFs+mXreS4iuS4i+aWh+e7hOmAieaLqeWvueivneahhlwiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcIuaYvuekuuaIlumakOiXj+minOiJsumTvuaOpVwiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwi6K+36YCJ5oup5LiA5Liq6KeG5Zu+5Lul5bqU55So6aKc6Imy6ZO+5o6lXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCLliIbphY3nu5kge3tuYW1lfX0g5LiK5LiL5paH57uE55qE5b2T5YmN6KeG5Zu+XCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwi5YiG6YWN57uZIHt7bmFtZX19IOS4iuS4i+aWh+e7hOeahOW9k+WJjeinhuWbvlwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCLlsIbmtLvliqjop4blm77orr7nva7kuLoge3tuYW1lfX0g5LiK5LiL5paH57uEXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCLlsIbmtLvliqjop4blm77orr7nva7kuLoge3tuYW1lfX0g5LiK5LiL5paH57uEXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi5L2/55So6L2s5LmJ5YWz6Zet5pu05pS55biD5bGA5a+56K+d5qGGXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIENOXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgQ05cIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBDTlwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgQ05cIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgQ05cIixcImJvb2ttYXJrcy5jbG9zZVBhbmVsXCI6XCJDbG9zZSBCb29rbWFya3MgUGFuZWwgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBDTlwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBDTlwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIENOXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIENOXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IENOXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBDTlwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIENOXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIENOXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIENOXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBDTlwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIENOXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggQ05cIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IENOXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIENOXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gQ05cIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBDTlwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBDTlwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgQ05cIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIENOXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgQ05cIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgQ05cIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIENOXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5zYXZlU3VwZXJ0YWJDb3VudFwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBDTlwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhpcyBTdXBlcnRhYiB3aWxsIGJlIGxvc3QuIENOXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBDTlwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIENOXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBDTlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gQ05cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBDTlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIENOXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIENOXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIENOXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBDTlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBDTlwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IENOXCJ9JyksS2E9SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCLmlrDoppbnqpdcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIuaWsOmggemdolwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwi6YKE5Y6f5Yiw5LiK5qyh5YSy5a2Y55qE6K6K5pu0XCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIuWIh+aPm+W3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwi5aSW6KeAXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCLlhLLlrZjlt6XkvZznqbrplpNcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi5bCH5bel5L2c56m66ZaT5Y+m5a2Y54K6Li4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIumHjeaWsOWRveWQjeW3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCLliKrpmaTlt6XkvZznqbrplpNcIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwi5LiL6LyJXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwi5YSy5a2Y6aCB6Z2iXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCLlsIfpoIHpnaLlj6blrZjngrouLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCLliJfljbAuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCLmk7flj5bnlavpnaJcIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLpl5zplonoppbnqpdcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLmiZPplosgU3RvcmVmcm9udFwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLpgIDlh7rlubPlj7BcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIuaWsOimluWcllwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIuS9v+eUqOmgkOioree2sumggeeAj+imveWZqOaJk+mWi+imluWcllwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLkvb/nlKjpoJDoqK3ntrLpoIHngI/opr3lmajmiZPplovoppblnJZcIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIFpIXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLph43mlrDovInlhaXoppblnJZcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLph43mlrDovInlhaXoppblnJZcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFpIXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLopIflr6voppblnJZcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLopIflr6voppblnJZcIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIuWwh+imluWcluaWsOWinuiHs+mgu+mBk1wiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuWwh+imluWcluaWsOWinuiHs+mgu+mBk1wiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi5b6e6aC76YGT5Lit56e76Zmk6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi5b6e6aC76YGT5Lit56e76Zmk6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIumXnOmWieimluWcllwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi6Zec6ZaJ6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIFpIXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLopIflr6vpoIHpnaJcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuWIl+WNsFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi5YiX5Y2w5YWo6YOoXCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuWwh+W3peS9nOepuumWk+WPpuWtmOeCulwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi6aCB6Z2i5Y+m5a2Y54K6XCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgWkhcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0g5bey57aT5a2Y5Zyo44CCXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuiri+i8uOWFpeS4gOWAi+acieaViOeahOWQjeeosVwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIumHjeaWsOWRveWQjemggemdolwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi6Zec6ZaJ6aCB6Z2iXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuaNqOajhOiuiuabtFwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuWFqOmDqOaNqOajhFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuWEsuWtmOWFqOmDqFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLopoHlhYjlhLLlrZggKHt7Y291bnR9fSkg5YCL6aCB6Z2i5YaN6Zec6ZaJ5ZeO77yfXCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIFpIXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgWkhcIixcImFkZE5ld1BhZ2VcIjpcIuaWsOWinuaWsOmggemdolwiLFwiYWRkTmV3VGFiXCI6XCLmlrDlop7mlrDntKLlvJXmqJnnsaRcIixcImFkZE5ld1ZpZXdcIjpcIuaWsOimluWcllwiLFwicmVzdG9yZU1vZGFsXCI6XCLmgqjnorrlrpropoHpgoTljp/liLDkuIrmrKHlhLLlrZjnmoTorormm7Tll47vvJ9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLku7vkvZXmnKrlhLLlrZjnmoTorormm7Tpg73lsIfooqvmjajmo4RcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi5Zyo5q2k6aCB6Z2i5Lu75L2V5pyq5YSy5a2Y55qE6K6K5pu06YO95bCH6YG65aSx44CCXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi6KaB5YWI5YSy5a2Y6K6K5pu05YaN6Zec6ZaJ5ZeO77yfXCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIumggemdoumXnOmWiVwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIuaCqOeiuuWumuimgeWIh+aPm+WIsCB7e3dvcmtzcGFjZX1977yfXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLku7vkvZXmnKrlhLLlrZjnmoTorormm7Tpg73lsIfooqvmjajmo4RcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCLmgqjnorrlrpropoHmsLjkuYXliKrpmaTmraTlt6XkvZznqbrplpPll47vvJ9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLlhbfmnInlkI3nqLEge3t3b3Jrc3BhY2V9fSDnmoTlt6XkvZznqbrplpPlt7LntpPlrZjlnKjjgILkvaDopoHmm7Tmj5vlroPll47vvJ9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIuebuOWQjOWQjeeoseeahOW3peS9nOepuumWk+W3sue2k+WtmOWcqOOAguabtOaPm+Wug+W+jO+8jOWwh+acg+imhuiTi+ebruWJjeWFp+WuueOAglwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIuabtOaPm1wiLFwiY2xvc2VQbGF0Zm9ybVwiOlwi6Zec6ZaJ5bmz5Y+wXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwi6Zec6ZaJIHt7d29ya3NwYWNlfX0g5bmz5Y+wXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIumXnOmWieW5s+WPsOW+jO+8jOWwh+mXnOmWieato+WcqOWft+ihjOeahOS7u+S9leW3peS9nOepuumWk+OAgUFQUCDmiJbmtYHnqIvjgIJcIixcImJhY2tcIjpcIuS4iuS4gOmggVwiLFwiZm9yd2FyZFwiOlwi5LiL5LiA6aCBXCIsXCJyZWxvYWRcIjpcIumHjeaWsOi8ieWFpVwiLFwiZ3JlZW5cIjpcIue2oFwiLFwicHVycGxlXCI6XCLntKtcIixcIm9yYW5nZVwiOlwi5qmYXCIsXCJyZWRcIjpcIue0heiJslwiLFwicGlua1wiOlwi57KJ57SFXCIsXCJ5ZWxsb3dcIjpcIum7g1wiLFwidGhlbWUubGlnaHRcIjpcIua3ulwiLFwidGhlbWUuZGFya1wiOlwi5rexXCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIuiIhyBPUyDoqK3lrprlkIzmraVcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIumaseiXj+e0ouW8leaomeexpFwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi6aGv56S657Si5byV5qiZ57GkXCIsXCJ0b29sYmFyLmxvY2tcIjpcIuS4iumOllwiLFwidG9vbGJhci51bmxvY2tcIjpcIuino+mOllwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIumhj+iJsumAo+e1kFwiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuiuiuabtOeJiOmdolwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi5YSy5a2Y6YG45ZauXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLmnIDlpKfljJboppbnqpdcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi6YKE5Y6f6KaW56qXXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLmnIDlsI/ljJboppbnqpdcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuWFqOieouW5leWvrOW6plwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuihjFwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIuWIl1wiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIue2suagvFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi5bel5L2c56m66ZaT5bey5YiH5o+bXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi57Si5byV5qiZ57Gk5bey6Zqx6JePXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLntKLlvJXmqJnnsaTlt7Lpoa/npLpcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLpoIHpnaLlt7LkuIrpjpZcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIumggemdouW3suino+mOllwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi5bel5L2c56m66ZaT5bey5YSy5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuW3peS9nOepuumWk+W3suWPpuWtmOeCuiB7e3dvcmtzcGFjZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuW3peS9nOepuumWk+W3sumHjeaWsOWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIumggemdouW3suWEsuWtmFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIFpIXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIumggemdouW3suWPpuWtmOeCuiB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIumggemdouW3sumHjeaWsOWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLohIjntaHnvqTntYTlt7LlpZfnlKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX19IOiEiOe1oee+pOe1hOW3suWll+eUqFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi5b6e6ISI57Wh576k57WE5Lit56e76Zmk55qE6KaW5ZyWXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi5b6e6ISI57Wh576k57WE5Lit56e76Zmk55qE6KaW5ZyWXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX19IOeJiOmdouW3suWll+eUqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCLlt6XkvZznqbrplpPlt7LliKrpmaRcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCLpoIHpnaLnhKHms5XlhLLlrZhcIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIuW3peS9nOepuumWk+eEoeazleWEsuWtmFwiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCLnhKHms5XopIflr6vpoIHpnaJcIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwi5oiR5YCR5ZiX6Kmm5bCN5q2k57Si5byV5qiZ57Gk6YCy6KGM6aGP6Imy6YCj57WQ77yM5L2G57ay56uZL+WFp+WuueaJgOacieiAheWwmuacquWVn+eUqOipsuWKn+iDvVwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwi5Y+W5raIXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi56K66KqNXCIsXCJnbG9iYWwuc2F2ZVwiOlwi5YSy5a2YXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgWkhcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IFpIXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBaSFwiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBaSFwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwi6ZaL5ZWf54CP6Ka95Zmo6YG45ZauXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCLngI/opr3lmajntKLlvJXmqJnnsaRcIixcImFyaWEudmlld1RhYlwiOlwie3t0aXRsZX19IOeahOimluWclue0ouW8leaomeexpFwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIumXnOmWiSB7e3RpdGxlfX0g55qE6aCB6Z2i57Si5byV5qiZ57Gk5oyJ6YiVXCIsXCJhcmlhLmNsb3NlVGFiXCI6XCLpl5zplonntKLlvJXmqJnnsaQge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCLmqJnpoYxcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuS9v+eUqCBFc2Mg6Y216Zec6ZaJ6ISI57Wh576k57WE6YG45Y+W5bCN6Kmx5qGGXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi6aGv56S65oiW6Zqx6JeP6aGP6Imy6YCj57WQXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLoq4vpgbjlj5bopoHlpZfnlKjpoY/oibLpgKPntZDnmoToppblnJZcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIuebruWJjeimluWcluWIhumFjee1piB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCLnm67liY3oppblnJbliIbphY3ntaYge3tuYW1lfX0g6ISI57Wh576k57WEXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIuWwh+WVn+eUqOimluWcluioreWumueCuiB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIuWwh+WVn+eUqOimluWcluioreWumueCuiB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLkvb/nlKggRXNjIOmNtemXnOmWieiuiuabtOeJiOmdouWwjeipseahhlwiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBaSFwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIFpIXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgWkhcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIFpIXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIFpIXCIsXCJib29rbWFya3MuY2xvc2VQYW5lbFwiOlwiQ2xvc2UgQm9va21hcmtzIFBhbmVsIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgWkhcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgWkhcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBaSFwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBaSFwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBaSFwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgWkhcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBaSFwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgWkhcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBaSFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIFpIXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBaSFwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBaSFwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IFpIXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgWkhcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gWkhcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIFpIXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIFpIXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIFpIXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBaSFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgWkhcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgWkhcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VTYXZlTW9kYWwuc2F2ZVN1cGVydGFiQ291bnRcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz8gWkhcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHRvIHRoaXMgU3VwZXJ0YWIgd2lsbCBiZSBsb3N0LiBaSFwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj8gWkhcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LiBaSFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWQgWkhcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuIFpIXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkRlbGV0ZWRcIjpcIlN1cGVydGFiIERlbGV0ZWQgWkhcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlbkRlbGV0ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBkZWxldGVkLiBaSFwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlVGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFRhYiBaSFwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlU3VwZXJ0YWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnN3aXRjaFRvU3VwZXJ0YWJcIjpcIlN3aXRjaCB0byBTdXBlcnRhYiBaSFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuZ29Ub1wiOlwiR28gdG8ge3t0eXBlfX0gWkhcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnZpZXdNb3JlXCI6XCJWaWV3IE1vcmUgWkhcIixcImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiUXVpdCBaSFwifScpLHphPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwiTmV3IFdpbmRvd1wiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwiTmV3IFBhZ2VcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIlJlc3RvcmUgdG8gTGFzdCBTYXZlZCBDaGFuZ2VzXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIlN3aXRjaCBXb3Jrc3BhY2VcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIkFwcGVhcmFuY2VcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIlNhdmUgV29ya3NwYWNlXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIlNhdmUgV29ya3NwYWNlIEFzLi4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIlJlbmFtZSBXb3Jrc3BhY2VcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwiRGVsZXRlIFdvcmtzcGFjZVwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCJEb3dubG9hZHNcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCJTYXZlIFBhZ2VcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIlNhdmUgUGFnZSBBcy4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIlByaW50Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwiUHJpbnQgU2NyZWVuXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwiQ2xvc2UgV2luZG93XCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwiT3BlbiBTdG9yZWZyb250XCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIlF1aXQge3twbGF0Zm9ybUxhYmVsfX1cIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIk5ldyBWaWV3XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwiT3BlbiBWaWV3IHdpdGggRGVmYXVsdCBXZWIgQnJvd3NlclwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCJPcGVuIFZpZXdzIHdpdGggRGVmYXVsdCBXZWIgQnJvd3NlclwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWRcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIlJlbG9hZCBWaWV3XCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwiUmVsb2FkIFZpZXdzXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwiRHVwbGljYXRlIFZpZXdcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCJEdXBsaWNhdGUgVmlld3NcIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIkFkZCBWaWV3IHRvIENoYW5uZWxcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCJBZGQgVmlld3MgdG8gQ2hhbm5lbFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwiUmVtb3ZlIFZpZXcgZnJvbSBDaGFubmVsXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwiUmVtb3ZlIFZpZXdzIGZyb20gQ2hhbm5lbFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCJDbG9zZSBWaWV3XCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCJDbG9zZSBWaWV3c1wiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwiRHVwbGljYXRlIFBhZ2VcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIlByaW50XCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCJQcmludCBBbGxcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiU2F2ZSBXb3Jrc3BhY2UgQXNcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIlNhdmUgUGFnZSBBc1wiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX19IGFscmVhZHkgZXhpc3RzLlwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBuYW1lXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwiUmVuYW1lIFBhZ2VcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIkNsb3NlIFBhZ2VcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwiRGlzY2FyZCBDaGFuZ2VzXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwiRGlzY2FyZCBBbGxcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCJTYXZlIEFsbFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCJTYXZlICh7e2NvdW50fX0pIHBhZ2VzIGJlZm9yZSBjbG9zaW5nP1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZVwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiXCIsXCJhZGROZXdQYWdlXCI6XCJOZXcgUGFnZVwiLFwiYWRkTmV3VGFiXCI6XCJBZGQgTmV3IFRhYlwiLFwiYWRkTmV3Vmlld1wiOlwiTmV3IFZpZXdcIixcInJlc3RvcmVNb2RhbFwiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc3RvcmUgdG8gbGFzdCBzYXZlZCBjaGFuZ2VzP1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIHBhZ2Ugd2lsbCBiZSBsb3N0LlwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIlNhdmUgY2hhbmdlcyBiZWZvcmUgY2xvc2luZz9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwiUGFnZSBDbG9zZVwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzd2l0Y2ggdG8ge3t3b3Jrc3BhY2V9fT9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoaXMgd29ya3NwYWNlP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIkEgV29ya3NwYWNlIHdpdGggdGhlIG5hbWUge3t3b3Jrc3BhY2V9fSBhbHJlYWR5IGV4aXN0cy4gRG8geW91IHdhbnQgdG8gcmVwbGFjZSBpdD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIkEgd29ya3NwYWNlIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUmVwbGFjaW5nIGl0IHdpbGwgb3ZlcndyaXRlIGl0cyBjdXJyZW50IGNvbnRlbnRzLlwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIlJlcGxhY2VcIixcImNsb3NlUGxhdGZvcm1cIjpcIkNsb3NlIHRoZSBwbGF0Zm9ybVwiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcIkNsb3NlIHRoZSB7e3dvcmtzcGFjZX19IFBsYXRmb3JtXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIkNsb3NpbmcgYSBwbGF0Zm9ybSB3aWxsIGNsb3NlIGFueSB3b3Jrc3BhY2VzLCBhcHBzIG9yIGFueSBwcm9jZXNzZXMgdGhhdCBhcmUgcnVubmluZy5cIixcImJhY2tcIjpcIkJhY2tcIixcImZvcndhcmRcIjpcIkZvcndhcmRcIixcInJlbG9hZFwiOlwiUmVsb2FkXCIsXCJncmVlblwiOlwiR3JlZW5cIixcInB1cnBsZVwiOlwiUHVycGxlXCIsXCJvcmFuZ2VcIjpcIk9yYW5nZVwiLFwicmVkXCI6XCJSZWRcIixcInBpbmtcIjpcIlBpbmtcIixcInllbGxvd1wiOlwiWWVsbG93XCIsXCJ0aGVtZS5saWdodFwiOlwiTGlnaHRcIixcInRoZW1lLmRhcmtcIjpcIkRhcmtcIixcInRoZW1lLnN5c3RlbVwiOlwiU3luYyB3aXRoIE9TIHNldHRpbmdcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIkhpZGUgVGFic1wiLFwidG9vbGJhci5zaG93VGFic1wiOlwiU2hvdyBUYWJzXCIsXCJ0b29sYmFyLmxvY2tcIjpcIkxvY2tcIixcInRvb2xiYXIudW5sb2NrXCI6XCJVbmxvY2tcIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCJDb2xvciBMaW5raW5nXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwiQ2hhbmdlIExheW91dFwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwiU2F2ZSBNZW51XCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCJNYXhpbWl6ZSBXaW5kb3dcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwiUmVzdG9yZSBXaW5kb3dcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIk1pbmltaXplIFdpbmRvd1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwiRnVsbCBXaWR0aFwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIkNvbHVtbnNcIixcImNoYW5nZUxheW91dC5Sb3dzXCI6XCJSb3dzXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwiR3JpZFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwiV29ya3NwYWNlIFN3aXRjaGVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwiVGFicyBhcmUgSGlkZGVuXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCJUYWJzIGFyZSBTaG93blwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIlBhZ2UgaXMgTG9ja2VkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCJQYWdlIGlzIFVubG9ja2VkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCJXb3Jrc3BhY2Ugc2F2ZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwiV29ya3NwYWNlIHNhdmVkIGFzIHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwiV29ya3NwYWNlIHJlbmFtZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCJQYWdlIFNhdmVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC5cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwiUGFnZSBzYXZlZCBhcyB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIlBhZ2UgcmVuYW1lZFwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJDb250ZXh0IGdyb3VwIGFwcGxpZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX19IGNvbnRleHQgZ3JvdXAgYXBwbGllZFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwiVmlldyByZW1vdmVkIGZyb20gY29udGV4dCBncm91cFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIlZpZXdzIHJlbW92ZWQgZnJvbSBjb250ZXh0IGdyb3VwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX19IGxheW91dCBhcHBsaWVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIldvcmtzcGFjZSBkZWxldGVkXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwiUGFnZSBmYWlsZWQgdG8gc2F2ZVwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwiV29ya3NwYWNlIGZhaWxlZCB0byBzYXZlXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgUGFnZVwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCJXZSBhdHRlbXB0ZWQgdG8gY29sb3IgbGluayB0aGlzIHRhYiwgYnV0IHRoZSBzaXRlL2NvbnRlbnQgb3duZXIgaGFzIG5vdCBlbmFibGVkIGl0IHlldFwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwiQ2FuY2VsXCIsXCJnbG9iYWwuY29uZmlybVwiOlwiQ29uZmlybVwiLFwiZ2xvYmFsLnNhdmVcIjpcIlNhdmVcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZVwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnRcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCJPcGVuIEJyb3dzZXIgTWVudVwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwiQnJvd3NlciBUYWJzXCIsXCJhcmlhLnZpZXdUYWJcIjpcIlZpZXcgVGFiIGZvciB7e3RpdGxlfX1cIixcImFyaWEuY2xvc2VQYWdlXCI6XCJDbG9zZSBQYWdlIFRhYiBCdXR0b24gZm9yIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIHt7dGl0bGV9fVwiLFwiYXJpYS50aXRsZVwiOlwiVGl0bGVcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIlVzZSBlc2NhcGUgdG8gY2xvc2UgY29udGV4dCBncm91cCBzZWxlY3Rpb24gZGlhbG9nXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwiU2hvdyBvciBoaWRlIGNvbG9yIGxpbmtpbmdcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIlBsZWFzZSBzZWxlY3QgYSB2aWV3IHRvIGFwcGx5IGNvbG9yIGxpbmtpbmdcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIkN1cnJlbnQgdmlldyBhc3NpZ25lZCB0byB7e25hbWV9fSBjb250ZXh0IGdyb3VwXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwiQ3VycmVudCB2aWV3cyBhc3NpZ25lZCB0byB7e25hbWV9fSBjb250ZXh0IGdyb3VwXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIlNldCBhY3RpdmUgdmlldyB0byB7e25hbWV9fSBjb250ZXh0IGdyb3VwXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCJTZXQgYWN0aXZlIHZpZXdzIHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCJVc2UgZXNjYXBlIHRvIGNsb3NlIGNoYW5nZSBsYXlvdXQgZGlhbG9nXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiXCIsXCJnbG9iYWwudGFiXCI6XCJUYWJcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmtcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZFwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmVcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWxcIixcImJvb2ttYXJrcy5jbG9zZVBhbmVsXCI6XCJDbG9zZSBCb29rbWFya3MgUGFuZWxcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrc1wiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrc1wiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0XCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlclwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlclwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5nc1wiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2hcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0XCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX1cIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVyc1wiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpblwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWVcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCJcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWRcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWJcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYlwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWVcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi5cIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5zYXZlU3VwZXJ0YWJDb3VudFwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nP1wiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhpcyBTdXBlcnRhYiB3aWxsIGJlIGxvc3QuXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiP1wiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC5cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZVwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0XCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmVcIn0nKSxKYT1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIk5ldWVzIEZlbnN0ZXJcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIk5ldWUgU2VpdGVcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIldpZWRlcmhlcnN0ZWxsZW4gZGVyIHp1bGV0enQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlblwiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2Ugd2VjaHNlbG5cIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIkVyc2NoZWludW5nc2JpbGRcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIldvcmtzcGFjZSBzcGVpY2hlcm5cIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiV29ya3NwYWNlIHNwZWljaGVybiB1bnRlci4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2UgdW1iZW5lbm5lblwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2UgbMO2c2NoZW5cIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwiRG93bmxvYWRzXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwiU2VpdGUgc3BlaWNoZXJuXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCJTZWl0ZSBzcGVpY2hlcm4gdW50ZXIuLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCJEcnVja2VuLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwiQmlsZHNjaGlybWFuc2ljaHQgZHJ1Y2tlblwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIkZlbnN0ZXIgc2NobGllw59lblwiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIlNjaGF1ZmVuc3RlciDDtmZmbmVuXCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIlBsYXR0Zm9ybSB2ZXJsYXNzZW5cIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIk5ldWUgQW5zaWNodFwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIkFuc2ljaHQgbWl0IFN0YW5kYXJkLVdlYmJyb3dzZXIgw7ZmZm5lblwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCJBbnNpY2h0ZW4gbWl0IFN0YW5kYXJkLVdlYmJyb3dzZXIgw7ZmZm5lblwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgREVcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIkFuc2ljaHQgbmV1IGxhZGVuXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwiQW5zaWNodGVuIG5ldSBsYWRlblwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgREVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIkFuc2ljaHQgZHVwbGl6aWVyZW5cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCJBbnNpY2h0ZW4gZHVwbGl6aWVyZW5cIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIkFuc2ljaHQgenVtIENoYW5uZWwgaGluenVmw7xnZW5cIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCJBbnNpY2h0ZW4genVtIENoYW5uZWwgaGluenVmw7xnZW5cIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIkFuc2ljaHQgYXVzIGRlbSBDaGFubmVsIGVudGZlcm5lblwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIkFuc2ljaHRlbiBhdXMgZGVtIENoYW5uZWwgZW50ZmVybmVuXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIkFuc2ljaHQgc2NobGllw59lblwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwiQW5zaWNodGVuIHNjaGxpZcOfZW5cIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgREVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIlNlaXRlIGR1cGxpemllcmVuXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCJEcnVja2VuXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCJBbGxlIGRydWNrZW5cIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiV29ya3NwYWNlIHNwZWljaGVybiB1bnRlclwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2VpdGUgc3BlaWNoZXJuIHVudGVyXCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgREVcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0gZXhpc3RpZXJ0IGJlcmVpdHMuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIkJpdHRlIGdlYmVuIFNpZSBlaW5lbiBnw7xsdGlnZW4gTmFtZW4gZWluXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwiU2VpdGUgdW1iZW5lbm5lblwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwiU2VpdGUgc2NobGllw59lblwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLDhG5kZXJ1bmdlbiB2ZXJ3ZXJmZW5cIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCJBbGxlIHZlcndlcmZlblwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIkFsbGUgc3BlaWNoZXJuXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIih7e2NvdW50fX0pIFNlaXRlbiB2b3IgZGVtIFNjaGxpZcOfZW4gc3BlaWNoZXJuP1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBERVwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIERFXCIsXCJhZGROZXdQYWdlXCI6XCJOZXVlIFNlaXRlIGhpbnp1ZsO8Z2VuXCIsXCJhZGROZXdUYWJcIjpcIk5ldWVuIFRhYiBoaW56dWbDvGdlblwiLFwiYWRkTmV3Vmlld1wiOlwiTmV1ZSBBbnNpY2h0XCIsXCJyZXN0b3JlTW9kYWxcIjpcIlNpbmQgU2llIHNpY2hlciwgZGFzcyBTaWUgZGllIHp1bGV0enQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlbiB3aWVkZXJoZXJzdGVsbGVuIHdvbGxlbj9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCJBbGxlIG5pY2h0IGdlc3BlaWNoZXJ0ZW4gw4RuZGVydW5nZW4gd2VyZGVuIHZlcndvcmZlblwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCJBbGxlIG5pY2h0IGdlc3BlaWNoZXJ0ZW4gw4RuZGVydW5nZW4gYXVmIGRpZXNlciBTZWl0ZSBnZWhlbiB2ZXJsb3Jlbi5cIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLDhG5kZXJ1bmdlbiB2b3IgZGVtIFNjaGxpZcOfZW4gc3BlaWNoZXJuP1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCJTZWl0ZSBzY2hsaWXDn2VuXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwiU2luZCBTaWUgc2ljaGVyLCBkYXNzIFNpZSB6dSB7e3dvcmtzcGFjZX19d2VjaHNlbG4gd29sbGVuP1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiQWxsZSBuaWNodCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuIHdlcmRlbiB2ZXJ3b3JmZW5cIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCJTaW5kIFNpZSBzaWNoZXIsIGRhc3MgU2llIGRpZXNlbiBXb3Jrc3BhY2UgZGF1ZXJoYWZ0IGzDtnNjaGVuIHdvbGxlbj9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCJFaW4gV29ya3NwYWNlIG1pdCBkZW0gTmFtZW4ge3t3b3Jrc3BhY2V9fSBleGlzdGllcnQgYmVyZWl0cy4gTcO2Y2h0ZW4gU2llIGlobiBlcnNldHplbj9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIkVpbiBXb3Jrc3BhY2UgbWl0IGRlbXNlbGJlbiBOYW1lbiBleGlzdGllcnQgYmVyZWl0cy4gV2VubiBTaWUgaWhuIGVyc2V0emVuLCB3aXJkIGRlciBha3R1ZWxsZSBJbmhhbHQgw7xiZXJzY2hyaWViZW4uXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwiRXJzZXR6ZW5cIixcImNsb3NlUGxhdGZvcm1cIjpcIlBsYXR0Zm9ybSBzY2hsaWXDn2VuXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwiRGllIHt7d29ya3NwYWNlfX0gUGxhdHRmb3JtIHNjaGxpZcOfZW5cIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwiV2VubiBTaWUgZWluZSBQbGF0dGZvcm0gc2NobGllw59lbiwgd2VyZGVuIGFsbGUgV29ya3NwYWNlcywgQXBwcyB1bmQgbGF1ZmVuZGVuIFByb3plc3NlIGJlZW5kZXQuXCIsXCJiYWNrXCI6XCJadXLDvGNrXCIsXCJmb3J3YXJkXCI6XCJXZWl0ZXJcIixcInJlbG9hZFwiOlwiTmV1IGxhZGVuXCIsXCJncmVlblwiOlwiR3LDvG5cIixcInB1cnBsZVwiOlwiTGlsYVwiLFwib3JhbmdlXCI6XCJPcmFuZ2VcIixcInJlZFwiOlwiUm90XCIsXCJwaW5rXCI6XCJQaW5rXCIsXCJ5ZWxsb3dcIjpcIkdlbGJcIixcInRoZW1lLmxpZ2h0XCI6XCJIZWxsXCIsXCJ0aGVtZS5kYXJrXCI6XCJEdW5rZWxcIixcInRoZW1lLnN5c3RlbVwiOlwiU3luY2hyb25pc2llcnVuZyBtaXQgT1MtRWluc3RlbGx1bmdcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIlRhYnMgYXVzYmxlbmRlblwiLFwidG9vbGJhci5zaG93VGFic1wiOlwiVGFicyBhbnplaWdlblwiLFwidG9vbGJhci5sb2NrXCI6XCJTcGVycmVuXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwiRnJlaXNjaGFsdGVuXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwiRmFyYnZlcmtuw7xwZnVuZ1wiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIkxheW91dCDDpG5kZXJuXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCJNZW7DvCBzcGVpY2hlcm5cIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIkZlbnN0ZXIgbWF4aW1pZXJlblwiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCJGZW5zdGVyIHdpZWRlcmhlcnN0ZWxsZW5cIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIkZlbnN0ZXIgbWluaW1pZXJlblwiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwiVm9sbGUgQnJlaXRlXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwiU3BhbHRlblwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIlplaWxlblwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIlJhc3RlclwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwiV29ya3NwYWNlIGdld2VjaHNlbHRcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCJUYWJzIHNpbmQgYXVzZ2VibGVuZGV0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCJUYWJzIHdlcmRlbiBhbmdlemVpZ3RcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCJTZWl0ZSBpc3QgZ2VzcGVycnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIlNlaXRlIGlzdCBmcmVpZ2VzY2hhbHRldFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwiV29ya3NwYWNlIGdlc3BlaWNoZXJ0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIldvcmtzcGFjZSBnZXNwZWljaGVydCBhbHMge3t3b3Jrc3BhY2V9fVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCJXb3Jrc3BhY2UgdW1iZW5hbm50XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwiU2VpdGUgZ2VzcGVpY2hlcnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLiBERVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCJTZWl0ZSBnZXNwZWljaGVydCBhbHMge3t0aXRsZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCJTZWl0ZSB1bWJlbmFubnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwiQW5nZXdhbmR0ZSBLb250ZXh0Z3J1cHBlXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwie3tjb2xvck5hbWV9fSBhbmdld2FuZHRlIEtvbnRleHRncnVwcGVcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIkFuc2ljaHQgYXVzIGRlciBLb250ZXh0Z3J1cHBlIGVudGZlcm50XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwiQW5zaWNodGVuIGF1cyBkZXIgS29udGV4dGdydXBwZSBlbnRmZXJudFwiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCJ7e2xheW91dE5hbWV9fSBhbmdld2FuZHRlcyBMYXlvdXRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwiV29ya3NwYWNlIGdlbMO2c2NodFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIlNlaXRlIGtvbm50ZSBuaWNodCBnZXNwZWljaGVydCB3ZXJkZW5cIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIldvcmtzcGFjZSBrb25udGUgbmljaHQgZ2VzcGVpY2hlcnQgd2VyZGVuXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIlNlaXRlIGthbm4gbmljaHQgZHVwbGl6aWVydCB3ZXJkZW5cIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwiV2lyIGhhYmVuIHZlcnN1Y2h0LCBkaWVzZW0gVGFiIGVpbmUgRmFyYmUgenVvcmRuZW4sIGFiZXIgZGVyIEVpZ2VudMO8bWVyIGRlciBXZWJzaXRlL2RlcyBJbmhhbHRzIGhhdCBzaWUgbm9jaCBuaWNodCBha3RpdmllcnRcIixcImdsb2JhbC5jYW5jZWxcIjpcIkFiYnJlY2hlblwiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcIkJlc3TDpHRpZ2VuXCIsXCJnbG9iYWwuc2F2ZVwiOlwiU3BlaWNoZXJuXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgREVcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IERDXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBEQ1wiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBERVwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwiQnJvd3Nlci1NZW7DvCDDtmZmbmVuXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCJCcm93c2VyLVRhYlwiLFwiYXJpYS52aWV3VGFiXCI6XCJUYWIg4oCeQW5zaWNodOKAnCBmw7xyIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIkJ1dHRvbiDigJ5TZWl0ZSBzY2hsaWXDn2Vu4oCcIGbDvHIge3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlVGFiXCI6XCJUYWIgc2NobGllw59lbiB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcIkJlemVpY2hudW5nXCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCJWZXJ3ZW5kZW4gU2llIGRpZSBFc2NhcGUtVGFzdGUsIHVtIGRlbiBEaWFsb2cgenVyIEF1c3dhaGwgdm9uIEtvbnRleHRncnVwcGVuIHp1IHNjaGxpZcOfZW5cIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCJGYXJidmVya27DvHBmdW5nIGVpbi0gb2RlciBhdXNibGVuZGVuXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCJCaXR0ZSB3w6RobGVuIFNpZSBlaW5lIEFuc2ljaHQsIHVtIGRpZSBGYXJidmVya27DvHBmdW5nIGFuenV3ZW5kZW5cIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIkFrdHVlbGxlIEFuc2ljaHQsIGRpZSBkZXIgS29udGV4dGdydXBwZSB7e25hbWV9fSB6dWdlb3JkbmV0IGlzdFwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcIkFrdHVlbGxlIEFuc2ljaHRlbiwgZGllIGRlciBLb250ZXh0Z3J1cHBlIHt7bmFtZX19IHp1Z2VvcmRuZXQgc2luZFwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCJBa3RpdmUgQW5zaWNodCBhdWYgZGllIEtvbnRleHRncnVwcGUge3tuYW1lfX0gc2V0emVuXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCJBa3RpdmUgQW5zaWNodGVuIGF1ZiBkaWUgS29udGV4dGdydXBwZSB7e25hbWV9fSBzZXR6ZW5cIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCJWZXJ3ZW5kZW4gU2llIGRpZSBFc2NhcGUtVGFzdGUsIHVtIGRlbiBEaWFsb2cgenVyIExheW91dMOkbmRlcnVuZyB6dSBzY2hsaWXDn2VuXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIERFXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgREVcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgREVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBERVwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgREVcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgREVcIixcImJvb2ttYXJrcy5jbG9zZVBhbmVsXCI6XCJDbG9zZSBCb29rbWFya3MgUGFuZWwgREVcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBERVwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBERVwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIERFXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIERFXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IERFXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBERVwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIERFXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIERFXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIERFXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBERVwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIERFXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggREVcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IERFXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIERFXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gREVcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBERVwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBERVwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgREVcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIERFXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgREVcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIERFXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBERVwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgREVcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gREVcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5zYXZlU3VwZXJ0YWJDb3VudFwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBERVwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhpcyBTdXBlcnRhYiB3aWxsIGJlIGxvc3QuIERFXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBERVwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIERFXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBERVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gREVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBERVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIERFXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIERFXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBERVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBERVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBERVwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IERFXCJ9JykscWE9SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCLmlrDjgZfjgYTjgqbjgqPjg7Pjg4njgqZcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIuaWsOOBl+OBhOODmuODvOOCuFwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwi5pyA5b6M44Gr5L+d5a2Y44GV44KM44Gf5aSJ5pu044Gr5oi744GZXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBq+WIh+OCiuabv+OBiOOCi1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwi5aSW6KazXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLkv53lrZhcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi44Ov44O844Kv44K544Oa44O844K544KS5Yil5ZCN44Gn5L+d5a2YLi4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueWQjeOCkuWkieabtFwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLliYrpmaRcIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwi44OA44Km44Oz44Ot44O844OJXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwi44Oa44O844K444KS5L+d5a2YXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCLjg5rjg7zjgrjjgpLliKXlkI3jgafkv53lrZguLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCLljbDliLcuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCLjg5fjg6rjg7Pjg4jjgrnjgq/jg6rjg7zjg7NcIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLplonjgZjjgotcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLjgrnjg4jjgqLjg5Xjg63jg7Pjg4jjgpLplovjgY9cIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwi44OX44Op44OD44OI44OV44Kp44O844Og44KS57WC5LqG44GZ44KLXCIsXCJjb250ZXh0TWVudS5uZXdWaWV3XCI6XCLmlrDjgZfjgYTjg5Pjg6Xjg7xcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCLjg4fjg5Xjgqnjg6vjg4jjga7jgqbjgqfjg5bjg5bjg6njgqbjgrbjg7zjgafjg5Pjg6Xjg7zjgpLplovjgY9cIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwi44OH44OV44Kp44Or44OI44Gu44Km44Kn44OW44OW44Op44Km44K244O844Gn44OT44Ol44O844KS6ZaL44GPXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBKUFwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi44OT44Ol44O844KS44Oq44Ot44O844OJXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi44OT44Ol44O844KS44Oq44Ot44O844OJXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBKUFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwi44OT44Ol44O844KS6KSH6KO9XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi44OT44Ol44O844KS6KSH6KO9XCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLjg5Pjg6Xjg7zjgpLjg4Hjg6Pjg43jg6vjgavov73liqBcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLjg5Pjg6Xjg7zjgpLjg4Hjg6Pjg43jg6vjgavov73liqBcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIuODgeODo+ODjeODq+OBi+OCieODk+ODpeODvOOCkuWJiumZpFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIuODgeODo+ODjeODq+OBi+OCieODk+ODpeODvOOCkuWJiumZpFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLjg5Pjg6Xjg7zjgpLplonjgZjjgotcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIuODk+ODpeODvOOCkumWieOBmOOCi1wiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBKUFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwi44Oa44O844K444KS6KSH6KO9XCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCLljbDliLdcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIuOBmeOBueOBpuOCkuWNsOWIt1wiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLliKXlkI3jgafkv53lrZhcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIuODmuODvOOCuOOCkuWIpeWQjeOBp+S/neWtmFwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIEpQXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX1944Gv44GZ44Gn44Gr5a2Y5Zyo44GX44Gm44GE44G+44GZ44CCXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuacieWKueOBquWQjeWJjeOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhFwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIuODmuODvOOCuOWQjeOCkuWkieabtFwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi44Oa44O844K444KS6ZaJ44GY44KLXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuWkieabtOOCkuegtOajhFwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuOBmeOBueOBpuegtOajhFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuOBmeOBueOBpuS/neWtmFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLplonjgZjjgovliY3jgavvvIh7e2NvdW50fX3vvInjgaTjga7jg5rjg7zjgrjjgpLkv53lrZjjgZfjgb7jgZnjgYvvvJ9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgSlBcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBKUFwiLFwiYWRkTmV3UGFnZVwiOlwi5paw44GX44GE44Oa44O844K444KS6L+95YqgXCIsXCJhZGROZXdUYWJcIjpcIuaWsOOBl+OBhOOCv+ODluOCkui/veWKoFwiLFwiYWRkTmV3Vmlld1wiOlwi5paw44GX44GE44OT44Ol44O8XCIsXCJyZXN0b3JlTW9kYWxcIjpcIuacrOW9k+OBq+acgOW+jOOBq+S/neWtmOOBleOCjOOBn+WkieabtOOBq+aIu+OBl+OBvuOBmeOBi++8n1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIuS/neWtmOOBleOCjOOBpuOBhOOBquOBhOWkieabtOOBr+egtOajhOOBleOCjOOBvuOBmVwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLkv53lrZjjgZXjgozjgabjgYTjgarjgYTjgZPjga7jg5rjg7zjgrjjgbjjga7lpInmm7Tjga/lpLHjgo/jgozjgb7jgZnjgIJcIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLplonjgZjjgovliY3jgavlpInmm7TjgpLkv53lrZjjgZfjgb7jgZnjgYvvvJ9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi44Oa44O844K444KS6ZaJ44GY44KLXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwi5pys5b2T44Gre3t3b3Jrc3BhY2V9feOBq+WIh+OCiuabv+OBiOOBvuOBmeOBi++8n1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi5L+d5a2Y44GV44KM44Gm44GE44Gq44GE5aSJ5pu044Gv56C05qOE44GV44KM44G+44GZXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi44GT44Gu44Ov44O844Kv44K544Oa44O844K544KS5rC45LmF44Gr5YmK6Zmk44GX44Gm44KC44KI44KN44GX44GE44Gn44GZ44GL77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwie3t3b3Jrc3BhY2V9feOBqOOBhOOBhuWQjeWJjeOBruODr+ODvOOCr+OCueODmuODvOOCueOBjOOBmeOBp+OBq+WtmOWcqOOBl+OBvuOBmeOAgue9ruOBjeaPm+OBiOOBvuOBmeOBi++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi5ZCM44GY5ZCN5YmN44Gu44Ov44O844Kv44K544Oa44O844K544GM44GZ44Gn44Gr5a2Y5Zyo44GX44G+44GZ44CC572u44GN5o+b44GI44KL44Go44CB54++5Zyo44Gu5YaF5a6544Gv5LiK5pu444GN44GV44KM44G+44GZ44CCXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi572u44GN5o+b44GI44KLXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLjg5fjg6njg4Pjg4jjg5Xjgqnjg7zjg6DjgpLplonjgZjjgotcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCJ7e3dvcmtzcGFjZX1944OX44Op44OD44OI44OV44Kp44O844Og44KS6ZaJ44GY44KLXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIuODl+ODqeODg+ODiOODleOCqeODvOODoOOCkumWieOBmOOCi+OBqOOAgeWun+ihjOS4reOBruODr+ODvOOCr+OCueODmuODvOOCueOAgeOCouODl+ODquOAgeODl+ODreOCu+OCueOBjOOBmeOBueOBpumWieOBmOOBvuOBmeOAglwiLFwiYmFja1wiOlwi5oi744KLXCIsXCJmb3J3YXJkXCI6XCLpgLLjgoBcIixcInJlbG9hZFwiOlwi44Oq44Ot44O844OJXCIsXCJncmVlblwiOlwi44Kw44Oq44O844OzXCIsXCJwdXJwbGVcIjpcIuODkeODvOODl+ODq1wiLFwib3JhbmdlXCI6XCLjgqrjg6zjg7PjgrhcIixcInJlZFwiOlwi44Os44OD44OJXCIsXCJwaW5rXCI6XCLjg5Tjg7Pjgq9cIixcInllbGxvd1wiOlwi44Kk44Ko44Ot44O8XCIsXCJ0aGVtZS5saWdodFwiOlwi44Op44Kk44OIXCIsXCJ0aGVtZS5kYXJrXCI6XCLjg4Djg7zjgq9cIixcInRoZW1lLnN5c3RlbVwiOlwiT1Pjga7oqK3lrprjgajlkIzmnJ9cIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIuOCv+ODluOCkumdnuihqOekulwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi44K/44OW44KS6KGo56S6XCIsXCJ0b29sYmFyLmxvY2tcIjpcIuODreODg+OCr1wiLFwidG9vbGJhci51bmxvY2tcIjpcIuODreODg+OCr+ino+mZpFwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIuOCq+ODqeODvOODquODs+OCr1wiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuODrOOCpOOCouOCpuODiOOCkuWkieabtFwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi44Oh44OL44Ol44O844KS5L+d5a2YXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLmnIDlpKfljJbjgZnjgotcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi44Km44Kj44Oz44OJ44Km44KS5b6p5YWDXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLmnIDlsI/ljJbjgZnjgotcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuWFqOW5hVwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuWIl1wiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIuihjFwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIuOCsOODquODg+ODiVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544GM5YiH44KK5pu/44KP44KK44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi44K/44OW44GM6Z2e6KGo56S644Gr44Gq44Gj44Gm44GE44G+44GZXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLjgr/jg5bjgYzooajnpLrjgZXjgozjgabjgYTjgb7jgZlcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLjg5rjg7zjgrjjgYzjg63jg4Pjgq/jgZXjgozjgabjgYTjgb7jgZlcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIuODmuODvOOCuOOBruODreODg+OCr+OBjOino+mZpOOBleOCjOOBpuOBhOOBvuOBmVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544GM5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBjHt7d29ya3NwYWNlfX3jgajjgZfjgabkv53lrZjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi44Ov44O844Kv44K544Oa44O844K55ZCN44GM5aSJ5pu044GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi44Oa44O844K444GM5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gSlBcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi44Oa44O844K444GMe3t0aXRsZX1944Go44GX44Gm5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCLjg5rjg7zjgrjlkI3jgYzlpInmm7TjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwi44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GM6YGp55So44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwie3tjb2xvck5hbWV9feOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBjOmBqeeUqOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GL44KJ44OT44Ol44O844GM5YmK6Zmk44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GL44KJ44OT44Ol44O844GM5YmK6Zmk44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX1944Os44Kk44Ki44Km44OI44GM6YGp55So44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBjOWJiumZpOOBleOCjOOBvuOBl+OBn1wiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIuODmuODvOOCuOOCkuS/neWtmOOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn1wiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544KS5L+d5a2Y44Gn44GN44G+44Gb44KT44Gn44GX44GfXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIuODmuODvOOCuOOCkuikh+ijveOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn1wiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLjgZPjga7jgr/jg5bjgpLjgqvjg6njg7zjg6rjg7Pjgq/jgZfjgojjgYbjgajjgZfjgb7jgZfjgZ/jgYzjgIHjgrXjgqTjg4gv44Kz44Oz44OG44Oz44OE44Gu44Kq44O844OK44O844GM44G+44Gg44GT44KM44KS5pyJ5Yq544Gr44GX44Gm44GE44G+44Gb44KTXCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLjgq3jg6Pjg7Pjgrvjg6tcIixcImdsb2JhbC5jb25maXJtXCI6XCLnorroqo1cIixcImdsb2JhbC5zYXZlXCI6XCLkv53lrZhcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBKUFwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIGNvbnRlbnQgSlBcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIEpQXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIEpQXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLjg5bjg6njgqbjgrbjg7zjg6Hjg4vjg6Xjg7zjgpLplovjgY9cIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIuODluODqeOCpuOCtuODvOOCv+ODllwiLFwiYXJpYS52aWV3VGFiXCI6XCJ7e3RpdGxlfX3jga7jgr/jg5bjgpLooajnpLpcIixcImFyaWEuY2xvc2VQYWdlXCI6XCJ7e3RpdGxlfX3jga7jg5rjg7zjgrjjgr/jg5bjg5zjgr/jg7PjgpLplonjgZjjgotcIixcImFyaWEuY2xvc2VUYWJcIjpcInt7dGl0bGV9feOCv+ODluOCkumWieOBmOOCi1wiLFwiYXJpYS50aXRsZVwiOlwi44K/44Kk44OI44OrXCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCLjgqjjgrnjgrHjg7zjg5fjgpLkvb/nlKjjgZfjgabjgIHjgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fpgbjmip7jg4DjgqTjgqLjg63jgrDjgpLplonjgZjjgotcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCLjgqvjg6njg7zjg6rjg7Pjgq/jga7ooajnpLov6Z2e6KGo56S6XCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLjgqvjg6njg7zjg6rjg7Pjgq/jgpLpgannlKjjgZnjgovjg5Pjg6Xjg7zjgpLpgbjmip7jgZfjgabjgY/jgaDjgZXjgYRcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIuePvuWcqOOBruODk+ODpeODvOOBr3t7bmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44Gr5Ymy44KK5b2T44Gm44KJ44KM44Gm44GE44G+44GZXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwi54++5Zyo44Gu44OT44Ol44O844Gve3tuYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgavlibLjgorlvZPjgabjgonjgozjgabjgYTjgb7jgZlcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwi44Ki44Kv44OG44Kj44OW44OT44Ol44O844KSe3tuYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgavoqK3lrppcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIuOCouOCr+ODhuOCo+ODluODk+ODpeODvOOCknt7bmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44Gr6Kit5a6aXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi44Ko44K544Kx44O844OX44KS5L2/55So44GX44Gm44CB44Os44Kk44Ki44Km44OI5aSJ5pu06YG45oqe44OA44Kk44Ki44Ot44Kw44KS6ZaJ44GY44KLXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIEpQXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgSlBcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBKUFwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgSlBcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgSlBcIixcImJvb2ttYXJrcy5jbG9zZVBhbmVsXCI6XCJDbG9zZSBCb29rbWFya3MgUGFuZWwgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBKUFwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBKUFwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIEpQXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIEpQXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IEpQXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBKUFwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIEpQXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIEpQXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIEpQXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBKUFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIEpQXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggSlBcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IEpQXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIEpQXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gSlBcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBKUFwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBKUFwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgSlBcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIEpQXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgSlBcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gSlBcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5zYXZlU3VwZXJ0YWJDb3VudFwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBKUFwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhpcyBTdXBlcnRhYiB3aWxsIGJlIGxvc3QuIEpQXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBKUFwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIEpQXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBKUFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gSlBcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBKUFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIEpQXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIEpQXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBKUFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBKUFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBKUFwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IEpQXCJ9JyksWmE9SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCLsg4gg7LC9XCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCLsg4gg7Y6Y7J207KeAXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLrp4jsp4Drp4nsnLzroZwg7KCA7J6l7ZWcIOuzgOqyvSDsgqztla3snLzroZwg67O17JuQXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7KCE7ZmYXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLrqqjslpFcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7KCA7J6lXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuuLpOuluCDsnbTrpoTsnLzroZwg7J6R7JeFIOqzteqwhCDsoIDsnqUuLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi7J6R7JeFIOqzteqwhCDsnbTrpoQg67CU6r646riwXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7IKt7KCcXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIuuLpOyatOuhnOuTnFwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIu2OmOydtOyngCDsoIDsnqVcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuuLpOuluCDsnbTrpoTsnLzroZwg7Y6Y7J207KeAIOyggOyepS4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuyduOyHhC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIu2ZlOuptCDsnbjsh4RcIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLssL0g64ur6riwXCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwi66ek7J6lIOyXtOq4sFwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLtlIzrnqvtj7wg7KKF66OMXCIsXCJjb250ZXh0TWVudS5uZXdWaWV3XCI6XCLsg4gg67ewXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi6riw67O4IOybuSDruIzrnbzsmrDsoIDroZwg67ewIOyXtOq4sFwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLquLDrs7gg7Ju5IOu4jOudvOyasOyggOuhnCDrt7Ag7Je06riwXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBLUlwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi67ewIOuLpOyLnCDroZzrk5xcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLrt7Ag64uk7IucIOuhnOuTnFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgS1JcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIuu3sCDrs7XsoJxcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLrt7Ag67O17KCcXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLssYTrhJDsl5Ag67ewIOy2lOqwgFwiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuyxhOuEkOyXkCDrt7Ag7LaU6rCAXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCLssYTrhJDsl5DshJwg67ewIOygnOqxsFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIuyxhOuEkOyXkOyEnCDrt7Ag7KCc6rGwXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIuu3sCDri6vquLBcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIuu3sCDri6vquLBcIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgS1JcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIu2OmOydtOyngCDrs7XsoJxcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuyduOyHhFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi66qo65GQIOyduOyHhFwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLri6Trpbgg7J2066aE7Jy866GcIOyekeyXhSDqs7XqsIQg7KCA7J6lXCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCLri6Trpbgg7J2066aE7Jy866GcIO2OmOydtOyngCDsoIDsnqVcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBLUlwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9feydtCjqsIApIOydtOuvuCDsobTsnqztlanri4jri6QuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuycoO2aqO2VnCDsnbTrpoTsnYQg7J6F66Cl7ZWY7Iut7Iuc7JikLlwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIu2OmOydtOyngCDsnbTrpoQg67CU6r646riwXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLtjpjsnbTsp4Ag64ur6riwXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuuzgOqyvSDsgqztla0g7Y+Q6riwXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi66qo65GQIO2PkOq4sFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuuqqOuRkCDsoIDsnqVcIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwi64ur6riwIOyghOyXkCDtjpjsnbTsp4Aoe3tjb3VudH196rCcKeulvCDsoIDsnqXtlZjsi5zqsqDsirXri4jquYw/XCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIEtSXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgS1JcIixcImFkZE5ld1BhZ2VcIjpcIuyDiCDtjpjsnbTsp4Ag7LaU6rCAXCIsXCJhZGROZXdUYWJcIjpcIuyDiCDtg60g7LaU6rCAXCIsXCJhZGROZXdWaWV3XCI6XCLsg4gg67ewXCIsXCJyZXN0b3JlTW9kYWxcIjpcIuuniOyngOunieycvOuhnCDsoIDsnqXtlZwg67OA6rK9IOyCrO2VreycvOuhnCDrs7Xsm5DtlZjsi5zqsqDsirXri4jquYw/XCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwi7KCA7J6l7ZWY7KeAIOyViuydgCDrs4Dqsr0g7IKs7ZWt7J2AIOuqqOuRkCDtj5DquLDrkKnri4jri6RcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi7J20IO2OmOydtOyngOydmCDsoIDsnqXtlZjsp4Ag7JWK7J2AIOuzgOqyvSDsgqztla3snYAg66qo65GQIOyGkOyLpOuQqeuLiOuLpC5cIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLri6vquLAg7KCE7JeQIOuzgOqyvSDsgqztla3snYQg7KCA7J6l7ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCLtjpjsnbTsp4Ag64ur6riwXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwie3t3b3Jrc3BhY2V9fSjsnLwp66GcIOyghO2ZmO2VmOyLnOqyoOyKteuLiOq5jD9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuyggOyepe2VmOyngCDslYrsnYAg67OA6rK9IOyCrO2VreydgCDrqqjrkZAg7Y+Q6riw65Cp64uI64ukXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi7J20IOyekeyXhSDqs7XqsITsnYQg7JiB6rWs7KCB7Jy866GcIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCJ7e3dvcmtzcGFjZX19KOydtCnrnbzripQg7J2066aE7J2YIOyekeyXhSDqs7XqsITsnbQg7J2066+4IOyhtOyerO2VqeuLiOuLpC4g6rWQ7LK07ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi6rCZ7J2AIOydtOumhOydmCDsnpHsl4Ug6rO16rCE7J20IOydtOuvuCDsobTsnqztlanri4jri6QuIOq1kOyytO2VmOuptCDtmITsnqwg64K07Jqp7J2EIOuNruyWtOyTsOqyjCDrkKnri4jri6QuXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi6rWQ7LK0XCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLtlIzrnqvtj7wg64ur6riwXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwie3t3b3Jrc3BhY2V9fSDtlIzrnqvtj7wg64ur6riwXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIu2UjOueq+2PvOydhCDri6vsnLzrqbQg7Iuk7ZaJIOykkeyduCDrqqjrk6Ag7J6R7JeFIOqzteqwhCwg7JWxIOuYkOuKlCDtlITroZzshLjsiqTqsIAg64ur7Z6Z64uI64ukLlwiLFwiYmFja1wiOlwi65Kk66GcIOqwgOq4sFwiLFwiZm9yd2FyZFwiOlwi7JWe7Jy866GcIOqwgOq4sFwiLFwicmVsb2FkXCI6XCLsg4jroZzqs6DsuahcIixcImdyZWVuXCI6XCLrhbnsg4lcIixcInB1cnBsZVwiOlwi67O065287IOJXCIsXCJvcmFuZ2VcIjpcIuyYpOugjOyngOyDiVwiLFwicmVkXCI6XCLruajqsITsg4lcIixcInBpbmtcIjpcIu2Vke2BrOyDiVwiLFwieWVsbG93XCI6XCLrhbjrnoDsg4lcIixcInRoZW1lLmxpZ2h0XCI6XCLrsJ3snYBcIixcInRoZW1lLmRhcmtcIjpcIuyWtOuRkOyatFwiLFwidGhlbWUuc3lzdGVtXCI6XCJPUyDshKTsoJXqs7wg64+Z6riw7ZmUXCIsXCJ0b29sYmFyLmhpZGVUYWJzXCI6XCLtg60g7Iio6riw6riwXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLtg60g7ZGc7IucXCIsXCJ0b29sYmFyLmxvY2tcIjpcIuyeoOq4iFwiLFwidG9vbGJhci51bmxvY2tcIjpcIuyeoOq4iCDtlbTsoJxcIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCLsg4nsg4Eg7Jew6rKwXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi66CI7J207JWE7JuDIOuzgOqyvVwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi7KCA7J6lIOuplOuJtFwiLFwidG9vbGJhci5tYXhpbWl6ZVdpbmRvd1wiOlwi7LC9IOy1nOuMgO2ZlFwiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLssL0g67O17JuQXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLssL0g7LWc7IaM7ZmUXCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCLsoITssrQg64SI67mEXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi7Je0XCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi7ZaJXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi6re466as65OcXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLsnpHsl4Ug6rO16rCEIOyghO2ZmFwiLFwic3VjY2Vzc0luZGljYXRvci5oaWRkZW5cIjpcIu2DrSDsiKjquYBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIu2DrSDtkZzsi5xcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLtjpjsnbTsp4Ag7J6g6riIXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCLtjpjsnbTsp4Ag7J6g6riIIO2VtOygnOuQqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi7J6R7JeFIOqzteqwhCDsoIDsnqXrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi7J6R7JeFIOqzteqwhOydtCB7e3dvcmtzcGFjZX19KOycvCnroZwg7KCA7J6l65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuyekeyXhSDqs7XqsIQg7J2066aEIOuzgOqyveuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIu2OmOydtOyngCDsoIDsnqXrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLiBLUlwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCLtjpjsnbTsp4DqsIAge3t0aXRsZX19KOycvCnroZwg7KCA7J6l65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCLtjpjsnbTsp4Ag7J2066aEIOuzgOqyveuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLsu6jthY3siqTtirgg6re466O5IOyggeyaqeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujuSDsoIHsmqnrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIuy7qO2FjeyKpO2KuCDqt7jro7nsl5DshJwg67ewIOygnOqxsOuQqFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIuy7qO2FjeyKpO2KuCDqt7jro7nsl5DshJwg67ewIOygnOqxsOuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCJ7e2xheW91dE5hbWV9fSDroIjsnbTslYTsm4Mg7KCB7Jqp65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuyekeyXhSDqs7XqsIQg7IKt7KCc65CoXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwi7Y6Y7J207KeAIOyggOyepSDsi6TtjKhcIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIuyekeyXhSDqs7XqsIQg7KCA7J6lIOyLpO2MqFwiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCLtjpjsnbTsp4Ag67O17KCcIOyLpO2MqFwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLsnbQg7YOt7J2YIOyDieyDgSDrp4Htgazrpbwg7Iuc64+E7ZaI7KeA66eMIOyCrOydtO2KuC/svZjthZDsuKAg7IaM7Jyg7J6Q6rCAIOyVhOyngSDtmZzshLHtmZTtlZjsp4Ag7JWK7JWY7Iq164uI64ukLlwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwi7Leo7IaMXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi7ZmV7J24XCIsXCJnbG9iYWwuc2F2ZVwiOlwi7KCA7J6lXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgS1JcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IEtSXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBLUlwiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBLUlwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwi67iM65287Jqw7KCAIOuplOuJtCDsl7TquLBcIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIuu4jOudvOyasOyggCDtg61cIixcImFyaWEudmlld1RhYlwiOlwie3t0aXRsZX197J2YIOu3sCDtg61cIixcImFyaWEuY2xvc2VQYWdlXCI6XCJ7e3RpdGxlfX3snZgg7Y6Y7J207KeAIOuLq+q4sCDtg61cIixcImFyaWEuY2xvc2VUYWJcIjpcIu2DrSB7e3RpdGxlfX0g64ur6riwXCIsXCJhcmlhLnRpdGxlXCI6XCLsoJzrqqlcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuydtOyKpOy8gOydtO2UhOulvCDsgqzsmqntlZjsl6wg7Luo7YWN7Iqk7Yq4IOq3uOujuSDshKDtg50g64yA7ZmU7IOB7J6QIOuLq+q4sFwiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcIuyDieyDgSDsl7DqsrAg7ZGc7IucIOuYkOuKlCDsiKjquLDquLBcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIuyDieyDgSDsl7DqsrDsnYQg7KCB7Jqp7ZWY66Ck66m0IOu3sOulvCDshKDtg53tlZjsi63si5zsmKQuXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCJ7e25hbWV9fSDsu6jthY3siqTtirgg6re466O57JeQIO2VoOuLueuQnCDtmITsnqwg67ewXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwie3tuYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujueyXkCDtlaDri7nrkJwg7ZiE7J6sIOu3sFwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCLtmZzshLEg67ew66W8IHt7bmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7nsnLzroZwg7ISk7KCVXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCLtmZzshLEg67ew66W8IHt7bmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7nsnLzroZwg7ISk7KCVXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi7J207Iqk7LyA7J207ZSE66W8IOyCrOyaqe2VmOyXrCDroIjsnbTslYTsm4Mg67OA6rK9IOuMgO2ZlOyDgeyekCDri6vquLBcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgS1JcIixcImdsb2JhbC50YWJcIjpcIlRhYiBLUlwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIEtSXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBLUlwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBLUlwiLFwiYm9va21hcmtzLmNsb3NlUGFuZWxcIjpcIkNsb3NlIEJvb2ttYXJrcyBQYW5lbCBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIEtSXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIEtSXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgS1JcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgS1JcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgS1JcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIEtSXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgS1JcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgS1JcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgS1JcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIEtSXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgS1JcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBLUlwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgS1JcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgS1JcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBLUlwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIEtSXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIEtSXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBLUlwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgS1JcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBLUlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBLUlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnNhdmVTdXBlcnRhYkNvdW50XCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IEtSXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIFN1cGVydGFiIHdpbGwgYmUgbG9zdC4gS1JcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IEtSXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gS1JcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIEtSXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBLUlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIEtSXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gS1JcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgS1JcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIEtSXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IEtSXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIEtSXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgS1JcIn0nKSxqYT1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcItCd0L7QstC+0LUg0L7QutC90L5cIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcItCd0L7QstCw0Y8g0YHRgtGA0LDQvdC40YbQsFwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwi0JLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMINC/0L7RgdC70LXQtNC90LjQtSDRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRj1wiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCLQn9C10YDQtdC60LvRjtGH0LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLQktC90LXRiNC90LjQuSDQstC40LRcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjFwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0Ywg0LrQsNC6Li4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcItCf0LXRgNC10LjQvNC10L3QvtCy0LDRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcItCj0LTQsNC70LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcItCX0LDQs9GA0YPQt9C60LhcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YMg0LrQsNC6Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwi0J/QtdGH0LDRgtGMLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwi0KDQsNGB0L/QtdGH0LDRgtCw0YLRjCDRjdC60YDQsNC9XCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwi0JfQsNC60YDRi9GC0Ywg0L7QutC90L5cIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLQntGC0LrRgNGL0YLRjCBTdG9yZWZyb250XCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcItCS0YvQudGC0Lgg0LjQtyDQv9C70LDRgtGE0L7RgNC80YtcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcItCd0L7QstC+0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCLQntGC0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDRgSDQv9C+0LzQvtGJ0YzRjiDQstC10LEt0LHRgNCw0YPQt9C10YDQsCDQv9C+INGD0LzQvtC70YfQsNC90LjRjlwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLQntGC0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDRgSDQv9C+0LzQvtGJ0YzRjiDQstC10LEt0LHRgNCw0YPQt9C10YDQsCDQv9C+INGD0LzQvtC70YfQsNC90LjRjlwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgUlVcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcItCf0LXRgNC10LfQsNCz0YDRg9C30LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi0J/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y9cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFJVXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLQlNGD0LHQu9C40YDQvtCy0LDRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi0JTRg9Cx0LvQuNGA0L7QstCw0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRj1wiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwi0JTQvtCx0LDQstC40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDQvdCwINC60LDQvdCw0LtcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLQlNC+0LHQsNCy0LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPINC90LAg0LrQsNC90LDQu1wiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi0KPQtNCw0LvQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0LjQtyDQutCw0L3QsNC70LBcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCLQo9C00LDQu9C40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDQuNC3INC60LDQvdCw0LvQsFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLQl9Cw0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi0JfQsNC60YDRi9GC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y9cIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgUlVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcItCU0YPQsdC70LjRgNC+0LLQsNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwi0J/QtdGH0LDRgtCw0YLRjFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi0J/QtdGH0LDRgtCw0YLRjCDQstGB0LVcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMINC60LDQulwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YMg0LrQsNC6XCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgUlVcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0g0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLlwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCLQktCy0LXQtNC40YLQtSDQv9C+0LTRhdC+0LTRj9GJ0LXQtSDQuNC80Y9cIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCLQn9C10YDQtdC40LzQtdC90L7QstCw0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLQl9Cw0LrRgNGL0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcItCe0YLQvNC10L3QuNGC0Ywg0LjQt9C80LXQvdC10L3QuNGPXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi0J7RgtC80LXQvdC40YLRjCDQstGB0LVcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0LLRgdC1XCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcItCh0L7RhdGA0LDQvdC40YLRjCAoe3tjb3VudH19KSDRgdGC0YDQsNC90LjRhiDQv9C10YDQtdC0INC30LDQutGA0YvRgtC40LXQvD9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgUlVcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBSVVwiLFwiYWRkTmV3UGFnZVwiOlwi0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRg9GOINGB0YLRgNCw0L3QuNGG0YNcIixcImFkZE5ld1RhYlwiOlwi0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRg9GOINCy0LrQu9Cw0LTQutGDXCIsXCJhZGROZXdWaWV3XCI6XCLQndC+0LLQvtC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJyZXN0b3JlTW9kYWxcIjpcItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0LLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMINC/0L7RgdC70LXQtNC90LjQtSDRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRjz9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLQktGB0LUg0L3QtdGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPINCx0YPQtNGD0YIg0L7RgtC80LXQvdC10L3Ri1wiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLQktGB0LUg0L3QtdGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPINC90LAg0Y3RgtC+0Lkg0YHRgtGA0LDQvdC40YbQtSDQsdGD0LTRg9GCINC/0L7RgtC10YDRj9C90YsuXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi0KHQvtGF0YDQsNC90LjRgtGMINC40LfQvNC10L3QtdC90LjRjyDQv9C10YDQtdC0INC30LDQutGA0YvRgtC40LXQvD9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi0JfQsNC60YDRi9GC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0L/QtdGA0LXQudGC0Lgg0LIge3t3b3Jrc3BhY2V9fT9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcItCS0YHQtSDQvdC10YHQvtGF0YDQsNC90LXQvdC90YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0LHRg9C00YPRgiDQvtGC0LzQtdC90LXQvdGLXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDQvdCw0LLRgdC10LPQtNCwINGD0LTQsNC70LjRgtGMINGN0YLRgyDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRgSDQuNC80LXQvdC10Lwge3t3b3Jrc3BhY2V9fSDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIuINCS0Ysg0YXQvtGC0LjRgtC1INC30LDQvNC10L3QuNGC0Ywg0LXQtT9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGBINGC0LDQutC40Lwg0LbQtSDQuNC80LXQvdC10Lwg0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLiDQn9GA0Lgg0LXQtSDQt9Cw0LzQtdC90LUg0YLQtdC60YPRidC10LUg0YHQvtC00LXRgNC20LjQvNC+0LUg0LHRg9C00LXRgiDQv9C10YDQtdC30LDQv9C40YHQsNC90L4uXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi0JfQsNC80LXQvdC40YLRjFwiLFwiY2xvc2VQbGF0Zm9ybVwiOlwi0JfQsNC60YDRi9GC0Ywg0L/Qu9Cw0YLRhNC+0YDQvNGDXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwi0JfQsNC60YDRi9GC0Ywg0L/Qu9Cw0YLRhNC+0YDQvNGDIHt7d29ya3NwYWNlfX1cIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi0JfQsNC60YDRi9GC0LjQtSDQv9C70LDRgtGE0L7RgNC80Ysg0L/RgNC40LLQtdC00LXRgiDQuiDQt9Cw0LrRgNGL0YLQuNGOINCy0YHQtdGFINGA0LDQsdC+0YfQuNGFINC+0LHQu9Cw0YHRgtC10LksINC/0YDQuNC70L7QttC10L3QuNC5INC4INC30LDQv9GD0YnQtdC90L3Ri9GFINC/0YDQvtGG0LXRgdGB0L7Qsi5cIixcImJhY2tcIjpcItCd0LDQt9Cw0LRcIixcImZvcndhcmRcIjpcItCS0L/QtdGA0LXQtFwiLFwicmVsb2FkXCI6XCLQn9C10YDQtdC30LDQs9GA0YPQt9C40YLRjMKgXCIsXCJncmVlblwiOlwi0JfQtdC70LXQvdGL0LlcIixcInB1cnBsZVwiOlwi0KTQuNC+0LvQtdGC0L7QstGL0LlcIixcIm9yYW5nZVwiOlwi0J7RgNCw0L3QttC10LLRi9C5XCIsXCJyZWRcIjpcItCa0YDQsNGB0L3Ri9C5XCIsXCJwaW5rXCI6XCLQoNC+0LfQvtCy0YvQuVwiLFwieWVsbG93XCI6XCLQltC10LvRgtGL0LlcIixcInRoZW1lLmxpZ2h0XCI6XCLQodCy0LXRgtC70YvQuVwiLFwidGhlbWUuZGFya1wiOlwi0KLQtdC80L3Ri9C5XCIsXCJ0aGVtZS5zeXN0ZW1cIjpcItCh0LjQvdGF0YDQvtC90LjQt9C40YDQvtCy0LDRgtGMINGBINC90LDRgdGC0YDQvtC50LrQsNC80Lgg0J7QoVwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi0KHQutGA0YvRgtGMINCy0LrQu9Cw0LTQutC4XCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLQn9C+0LrQsNC30LDRgtGMINCy0LrQu9Cw0LTQutC4XCIsXCJ0b29sYmFyLmxvY2tcIjpcItCX0LDQsdC70L7QutC40YDQvtCy0LDRgtGMXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi0KDQsNC30LHQu9C+0LrQuNGA0L7QstCw0YLRjFwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcItCf0YDQuNCy0Y/Qt9C60LAg0Log0YbQstC10YLRg1wiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcItCY0LfQvNC10L3QuNGC0Ywg0LzQsNC60LXRglwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi0JzQtdC90Y4g0YHQvtGF0YDQsNC90LXQvdC40Y9cIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcItCj0LLQtdC70LjRh9C40YLRjCDQvtC60L3QvlwiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLQktC+0YHRgdGC0LDQvdC+0LLQuNGC0Ywg0L7QutC90L5cIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcItCh0LLQtdGA0L3Rg9GC0Ywg0L7QutC90L5cIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcItCf0L7Qu9C90LDRjyDRiNC40YDQuNC90LBcIixcImNoYW5nZUxheW91dC5jb2x1bW5zXCI6XCLQodGC0L7Qu9Cx0YbRi1wiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcItCh0YLRgNC+0LrQuFwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcItCh0LXRgtC60LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU3dpdGNoZWRcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINC/0LXRgNC10LrQu9GO0YfQtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLQktC60LvQsNC00LrQuCDRgdC60YDRi9GC0YtcIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcItCS0LrQu9Cw0LTQutC4INC/0L7QutCw0LfQsNC90YtcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLQodGC0YDQsNC90LjRhtCwINC30LDQsdC70L7QutC40YDQvtCy0LDQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCLQodGC0YDQsNC90LjRhtCwINGA0LDQt9Cx0LvQvtC60LjRgNC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGB0L7RhdGA0LDQvdC10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRgdC+0YXRgNCw0L3QtdC90LAg0LrQsNC6IHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0L/QtdGA0LXQuNC80LXQvdC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCLQodGC0YDQsNC90LjRhtCwINGB0L7RhdGA0LDQvdC10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIFJVXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0YHQvtGF0YDQsNC90LXQvdCwINC60LDQuiB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0L/QtdGA0LXQuNC80LXQvdC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwi0JrQvtC90YLQtdC60YHRgtC90LDRjyDQs9GA0YPQv9C/0LAg0L/RgNC40LzQtdC90LXQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwi0JrQvtC90YLQtdC60YHRgtC90LDRjyDQs9GA0YPQv9C/0LAge3tjb2xvck5hbWV9fSDQv9GA0LjQvNC10L3QtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcItCf0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INGD0LTQsNC70LXQvdC+INC40Lcg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0YtcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCLQn9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDRg9C00LDQu9C10L3RiyDQuNC3INC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9GLXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcItCc0LDQutC10YIge3tsYXlvdXROYW1lfX0g0L/RgNC40LzQtdC90LXQvVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRg9C00LDQu9C10L3QsFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtGF0YDQsNC90LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/RgNC+0LTRg9Cx0LvQuNGA0L7QstCw0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcItCc0Ysg0L/QvtC/0YvRgtCw0LvQuNGB0Ywg0L/RgNC40LLRj9C30LDRgtGMINGG0LLQtdGCINC6INGN0YLQvtC5INCy0LrQu9Cw0LTQutC1LCDQvdC+INCy0LvQsNC00LXQu9C10YYg0YHQsNC50YLQsC/QutC+0L3RgtC10L3RgtCwINC10YnQtSDQvdC1INCy0LrQu9GO0YfQuNC7INGN0YLRgyDQstC+0LfQvNC+0LbQvdC+0YHRgtGMXCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLQntGC0LzQtdC90LjRgtGMXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi0J/QvtC00YLQstC10YDQtNC40YLRjFwiLFwiZ2xvYmFsLnNhdmVcIjpcItCh0L7RhdGA0LDQvdC40YLRjFwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIFJVXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudCBSVVwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgUlVcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgUlVcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcItCe0YLQutGA0YvRgtGMINC80LXQvdGOINCx0YDQsNGD0LfQtdGA0LBcIixcImFyaWEuYnJvd3NlclRhYnNcIjpcItCS0LrQu9Cw0LTQutC4INCx0YDQsNGD0LfQtdGA0LBcIixcImFyaWEudmlld1RhYlwiOlwi0JLQutC70LDQtNC60LAg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8ge3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwi0JrQvdC+0L/QutCwIMKr0JfQsNC60YDRi9GC0YzCuyDQvdCwINCy0LrQu9Cw0LTQutC1INC00LvRjyDRgdGC0YDQsNC90LjRhtGLIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVRhYlwiOlwi0JfQsNC60YDRi9GC0Ywg0LLQutC70LDQtNC60YMge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCLQndCw0LfQstCw0L3QuNC1XCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCLQp9GC0L7QsdGLINC30LDQutGA0YvRgtGMINC00LjQsNC70L7QsyDQstGL0LHQvtGA0LAg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0YssINC40YHQv9C+0LvRjNC30YPQudGC0LUgZXNjYXBlXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi0J/QvtC60LDQt9Cw0YLRjCDQuNC70Lgg0YHQutGA0YvRgtGMINC/0YDQuNCy0Y/Qt9C60YMg0Log0YbQstC10YLRg1wiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwi0JLRi9Cx0LXRgNC40YLQtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSwg0YfRgtC+0LHRiyDQv9GA0LjQvNC10L3QuNGC0Ywg0L/RgNC40LLRj9C30LrRgyDQuiDRhtCy0LXRgtGDXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCLQotC10LrRg9GJ0LXQtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSwg0L3QsNC30L3QsNGH0LXQvdC90L7QtSDQutC+0L3RgtC10LrRgdGC0L3QvtC5INCz0YDRg9C/0L/QtSB7e25hbWV9fVwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcItCi0LXQutGD0YnQuNC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPLCDQvdCw0LfQvdCw0YfQtdC90L3Ri9C1INC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9C1IHt7bmFtZX19XCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcItCj0YHRgtCw0L3QvtCy0LjRgtGMINCw0LrRgtC40LLQvdC+0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0LIg0LrQvtC90YLQtdC60YHRgtC90YPRjiDQs9GA0YPQv9C/0YMge3tuYW1lfX1cIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcItCj0YHRgtCw0L3QvtCy0LjRgtGMINCw0LrRgtC40LLQvdGL0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0LIg0LrQvtC90YLQtdC60YHRgtC90YPRjiDQs9GA0YPQv9C/0YMge3tuYW1lfX1cIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLQp9GC0L7QsdGLINC30LDQutGA0YvRgtGMINC00LjQsNC70L7QsyDQuNC30LzQtdC90LXQvdC40Y8g0LzQsNC60LXRgtCwLCDQuNGB0L/QvtC70YzQt9GD0LnRgtC1IGVzY2FwZVwiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBSVVwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIFJVXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgUlVcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIFJVXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIFJVXCIsXCJib29rbWFya3MuY2xvc2VQYW5lbFwiOlwiQ2xvc2UgQm9va21hcmtzIFBhbmVsIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgUlVcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgUlVcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBSVVwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBSVVwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBSVVwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgUlVcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBSVVwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBSVVwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBSVVwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgUlVcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBSVVwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIFJVXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBSVVwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBSVVwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IFJVXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgUlVcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gUlVcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIFJVXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBSVVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgUlVcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIFJVXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIFJVXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWwuc2F2ZVN1cGVydGFiQ291bnRcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz8gUlVcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHRvIHRoaXMgU3VwZXJ0YWIgd2lsbCBiZSBsb3N0LiBSVVwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj8gUlVcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LiBSVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWQgUlVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuUlVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBSVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIFJVXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIFJVXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBSVVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBSVVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBSVVwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IFJVXCJ9Jyk7Y29uc3QgUWE9SGEoKS50LFlhPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHF0KGUpO3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGVhLkdldFBhZ2VzKX0sWGE9YXN5bmMgZT0+KGF3YWl0IHF0KGUuaWRlbnRpdHkpKS5kaXNwYXRjaChlYS5VcGRhdGVQYWdlRm9yV2luZG93LGUpO2xldCBlbj0hMTthc3luYyBmdW5jdGlvbiB0bihlLHQpe2NvbnN0IGE9ISF0O2xldCBuPW5ldyBTZXQ7aWYoYSl7Y29uc3R7aWRlbnRpdHk6ZSxwYWdlSWQ6YX09dCxvPUFhKCkuQnJvd3Nlci53cmFwU3luYyhlKSxyPWF3YWl0IG8uZ2V0UGFnZShhKTtyPy5wYW5lbHMmJihuPW5ldyBTZXQoci5wYW5lbHMubWFwKCgoe3ZpZXdPcHRpb25zOmV9KT0+ZS5uYW1lKSkpKX1yZXR1cm4gZS5tYXAoKGU9Pntjb25zdCB0PWUudmlld09wdGlvbnMubmFtZSxvPXQ/LnN0YXJ0c1dpdGgoVGEpO28mJighYXx8YSYmIW4uaGFzKHQpKSYmZGVsZXRlIGUudmlld09wdGlvbnMubmFtZTtjb25zdCByPShpPWUudmlld09wdGlvbnMsaS5uYW1lfHw9YCR7VGF9JHtSdCgpfWAsaSk7dmFyIGk7cmV0dXJuey4uLmUsdmlld09wdGlvbnM6ey4uLnIsdXVpZDp3ZS51dWlkfX19KSl9YXN5bmMgZnVuY3Rpb24gYW4oZSl7Zm9yKGNvbnN0IHQgb2YgZSl0LnBhbmVscyYmYXdhaXQgb24odC5wYW5lbHMpfWNvbnN0IG5uPWU9Pm51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJtZXNzYWdlXCJpbiBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5tZXNzYWdlJiYvRVJSXyhbQS1aXStfKikrLy50ZXN0KGUubWVzc2FnZSk7YXN5bmMgZnVuY3Rpb24gb24oZSl7Y29uc3QgdD1lLm1hcCgoZT0+ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlVmlldyhlLnZpZXdPcHRpb25zLGZpbi5tZS5pZGVudGl0eSkuY2F0Y2goKGU9PntpZighbm4oZSkpdGhyb3cgZTtjb25zb2xlLmVycm9yKGUpfSkpKSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQpfWNvbnN0IHJuPShlLHQpPT4hdC5maW5kKCh0PT50PT09ZSkpLHNuPShlLHQpPT5gJHtlfSAoJHt0fSlgLGNuPShlLHQpPT57aWYocm4oZSx0KSlyZXR1cm4gZTtsZXQgYT0xO2NvbnN0IG49ZS5yZXBsYWNlKC8gKlxcKFxcZCtcXCkkLyxcIlwiKTtmb3IoOyFybihzbihuLGEpLHQpOylhKz0xO3JldHVybiBzbihuLGEpfSxsbj1hc3luYygpPT57Y29uc3QgZT1hd2FpdCBiZSgpO3JldHVybihhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+e3RyeXtyZXR1cm4gWWEoZS5pZGVudGl0eSl9Y2F0Y2godCl7SlNPTi5zdHJpbmdpZnkoZS5pZGVudGl0eSk7Y29uc3QgYT1hd2FpdCBlLmdldE9wdGlvbnMoKTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXN8fFtdfX0pKSkpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQpKSxbXSl9LGRuPWFzeW5jKCk9Pihhd2FpdCBwdCh3ZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkUGFnZXMsdm9pZCAwKSx1bj1hc3luYyBlPT4oYXdhaXQgcHQod2UpKS5kaXNwYXRjaChsdC5HZXRTYXZlZFBhZ2UsZSkscG49YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGxuKCkpLmZpbmQoKHQ9PnQucGFnZUlkPT09ZSkpKShlKTtyZXR1cm4hYXx8YS50aXRsZT09PXQudGl0bGUmJmU9PT10LnBhZ2VJZHx8YXdhaXQgWGEoe2lkZW50aXR5OmEucGFyZW50SWRlbnRpdHkscGFnZUlkOmUscGFnZTp7cGFnZUlkOnQucGFnZUlkLHRpdGxlOnQudGl0bGV9fSksYX0sd249YXN5bmMoe3BhZ2U6ZX0pPT57YXdhaXQgcG4oZS5wYWdlSWQsZSksYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuQ3JlYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZTplfSl9LGhuPWFzeW5jIGU9Pnthd2FpdCB1bihlKSYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuRGVsZXRlU2F2ZWRQYWdlLGUpKShlKX0sZ249YXN5bmMoe3BhZ2VJZDplLHBhZ2U6dH0pPT57YXdhaXQgcG4oZSx0KTtyZXR1cm4gYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuVXBkYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZUlkOmUscGFnZTp0fSl9LG1uPWFzeW5jIGU9PmF3YWl0IHVuKGUucGFnZUlkKT9nbih7cGFnZUlkOmUucGFnZUlkLHBhZ2U6ZX0pOnduKHtwYWdlOmV9KSxrbj1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHF0KGUuaWRlbnRpdHkpKS5kaXNwYXRjaChlYS5BdHRhY2hQYWdlc1RvV2luZG93LGUpKShlKX0sYm49YXN5bmMgZT0+e2NvbnN0IHQ9ey4uLmUucGFnZSxwYW5lbHM6ZS5wYWdlLnBhbmVscyYmYXdhaXQgdG4oZS5wYWdlLnBhbmVscyxlKX07dC5wYW5lbHMmJmF3YWl0IG9uKHQucGFuZWxzKSxhd2FpdCBYYSh7Li4uZSxwYWdlOnR9KX0seW49YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBxdChlLmlkZW50aXR5KSkuZGlzcGF0Y2goZWEuRGV0YWNoUGFnZXNGcm9tV2luZG93LGUpKShlKX0sZm49YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBxdChlLmlkZW50aXR5KSkuZGlzcGF0Y2goZWEuU2V0QWN0aXZlUGFnZUZvcldpbmRvdyxlKSkoZSl9LFNuPWU9PllhKGUpLHZuPWFzeW5jKHtpZGVudGl0eTplLHBhZ2VJZDp0fSk9Pihhd2FpdCBTbihlKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSksUG49YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBxdChlLmlkZW50aXR5KSkuZGlzcGF0Y2goZWEuUmVvcmRlclBhZ2VzRm9yV2luZG93LGUpKShlKX0sQ249bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5xdWV1ZT1bXSx0aGlzLmxvY2tlZD0hMX1sb2NrKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlPT57dGhpcy5sb2NrZWQ/dGhpcy5xdWV1ZS5wdXNoKGUpOih0aGlzLmxvY2tlZD0hMCxlKCkpfSkpfXVubG9jaygpe2lmKHRoaXMucXVldWUubGVuZ3RoPjApe2NvbnN0IGU9dGhpcy5xdWV1ZS5zaGlmdCgpO2UmJmUoKX1lbHNlIHRoaXMubG9ja2VkPSExfX07YXN5bmMgZnVuY3Rpb24gTW4oZSl7YXdhaXQgQ24ubG9jaygpO3RyeXtjb25zdCB0PVFhKGVuP1wiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcImRlZmF1bHRQYWdlVGl0bGVcIiksYT1lPz90LFtuLG9dPWF3YWl0IFByb21pc2UuYWxsKFtkbigpLGxuKCldKSxyPVsuLi5uLC4uLm9dLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtyZXR1cm4gY24oYSxyKX1maW5hbGx5e0NuLnVubG9jaygpfX1hc3luYyBmdW5jdGlvbiB4bih7cGFnZTplfSl7cmV0dXJue3Nob3VsZFNob3dNb2RhbDohKCFlfHwhZS5oYXNVbnNhdmVkQ2hhbmdlcyl9fWFzeW5jIGZ1bmN0aW9uIEluKHtwYWdlOmUsaWRlbnRpdHk6dH0pe2NvbnN0IGE9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7aWYoKGF3YWl0IGEuZ2V0SW5mbygpKS5pbml0aWFsT3B0aW9ucy5lbmFibGVCZWZvcmVVbmxvYWQpe2NvbnN0IGE9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Vmlld3MoKSxuPU5hKGUubGF5b3V0LmNvbnRlbnQpLmZpbHRlcigoZT0+ZS5uYW1lJiZhLnNvbWUoKHQ9PnQuaWRlbnRpdHkubmFtZT09PWUubmFtZSkpKSkubWFwKChlPT5maW4uVmlldy53cmFwU3luYyh7bmFtZTplLm5hbWUsdXVpZDp0LnV1aWR9KSkpLG89YXdhaXQgdGhpcy5jaGVja1ZpZXdzRm9yUHJldmVudFVubG9hZChuKTtpZihvLnZpZXdzUHJldmVudGluZ1VubG9hZC5sZW5ndGg+MCl7aWYoKGF3YWl0IHRoaXMuZ2V0VXNlckRlY2lzaW9uRm9yQmVmb3JlVW5sb2FkKHsuLi5vLHdpbmRvd0lkOnQsd2luZG93U2hvdWxkQ2xvc2U6ITEsY2xvc2VUeXBlOlwicGFnZVwifSkpLnZpZXdzVG9DbG9zZS5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm4gZS5wYWdlSWQse3Nob3VsZFBhZ2VDbG9zZTohMX19fXJldHVybntzaG91bGRQYWdlQ2xvc2U6ITB9fWFzeW5jIGZ1bmN0aW9uIEFuKHtwYWdlczplLGlkZW50aXR5OnR9KXtjb25zdCBhPWF3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT50aGlzLnNob3VsZFBhZ2VDbG9zZSh7cGFnZTplLGNsb3NlVHlwZTpcIndpbmRvd1wiLGlkZW50aXR5OnR9KSkpKSx7cGFnZXNQcmV2ZW50aW5nQ2xvc2U6bixwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpvfT1lLnJlZHVjZSgoKGUsdCxuKT0+IWFbbl0uc2hvdWxkUGFnZUNsb3NlP3twYWdlc05vdFByZXZlbnRpbmdDbG9zZTplLnBhZ2VzTm90UHJldmVudGluZ0Nsb3NlLHBhZ2VzUHJldmVudGluZ0Nsb3NlOlsuLi5lLnBhZ2VzUHJldmVudGluZ0Nsb3NlLHRdfTp7cGFnZXNQcmV2ZW50aW5nQ2xvc2U6ZS5wYWdlc1ByZXZlbnRpbmdDbG9zZSxwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpbLi4uZS5wYWdlc05vdFByZXZlbnRpbmdDbG9zZSx0XX0pLHtwYWdlc1ByZXZlbnRpbmdDbG9zZTpbXSxwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpbXX0pO3JldHVybiB0aGlzLmhhbmRsZVBhZ2VzQW5kV2luZG93Q2xvc2Uoe3BhZ2VzTm90UHJldmVudGluZ0Nsb3NlOm8scGFnZXNQcmV2ZW50aW5nQ2xvc2U6bixpZGVudGl0eTp0fSl9YXN5bmMgZnVuY3Rpb24gV24oe3BhZ2VzUHJldmVudGluZ0Nsb3NlOmUscGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6dCxpZGVudGl0eTphfSl7cmV0dXJue3Nob3VsZFdpbmRvd0Nsb3NlOjA9PT1lLmxlbmd0aH19YXN5bmMgZnVuY3Rpb24gRG4oe3BhZ2U6ZX0pe3JldHVybiBVdChlKX1hc3luYyBmdW5jdGlvbiBUbihlKXtyZXR1cm57aGFzVW5zYXZlZENoYW5nZXM6ITB9fWNvbnN0IFJuPWFzeW5jKCk9Pntjb25zdCBlPUFhKCksdD0oYXdhaXQgYmUoKSkubWFwKCh0PT5lLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSkpKTthd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZS5nZXRQYWdlcygpO2F3YWl0IFByb21pc2UuYWxsKHQubWFwKChhc3luYyB0PT57dC50aXRsZSxhd2FpdCBlLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDp0LnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMX19KSx0LnBhZ2VJZCx0LnRpdGxlLGF3YWl0IG1uKHsuLi50LGhhc1Vuc2F2ZWRDaGFuZ2VzOiExfSl9KSkpfSkpKX0sQm49bmV3IE1hcCxFbj0oKT0+Qm4sRm49ZT0+Qm4uZGVsZXRlKGUpO2xldCBWbj0hMTtjb25zdCBObj0oKT0+e1ZufHwoVm49ITAsZmluLldpbmRvdy53cmFwU3luYyhnZSkub25jZShcImNsb3NlZFwiLCgoKT0+e1ZuPSExLChhc3luYyhlLHQpPT57YXdhaXQgJGUoSGUoZSkse3NvdXJjZTpcIlN0b3JlXCIsLi4udH0pfSkoZmluLm1lLmlkZW50aXR5LHt0eXBlOlwiTmF2aWdhdGlvblwiLGFjdGlvbjpcIkNsb3NlIFN0b3JlXCIsc2tpcFZhbHVlSGFzaGluZzohMH0pfSkpKX07bGV0IExuLF9uLE9uO2NvbnN0IFVuPWFzeW5jKCk9Pih2b2lkIDA9PT1PbiYmKE9uPSEhKGF3YWl0IFEoKSkuZGlzYWJsZU9wZW5GaW5BbmFseXRpY3MpLE9uKTthc3luYyBmdW5jdGlvbiBHbihlKXtlLmZvckVhY2goKGU9Pnt2YXIgdCxhO1wiUGFnZVwiPT09ZS50eXBlP1wiT3BlbiBQYWdlXCI9PT1lLmFjdGlvbj8odD1lLmRhdGEudXVpZCxhPWUsQm4uc2V0KHQsYSkpOlwiQ2xvc2UgUGFnZVwiPT09ZS5hY3Rpb24mJkZuKGUuZGF0YS51dWlkKTpcIlN0b3JlXCI9PT1lLnNvdXJjZSYmXCJDbG9zZVwiIT09ZS5hY3Rpb24mJk5uKCl9KSksYXdhaXQoYXN5bmMgZT0+e0xuPy5zZW5kVG9PcGVuRmluJiYoYXdhaXQgVW4oKXx8ZS5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1BdCh7fSxlKTt0LmVudGl0eUlkJiYodC5lbnRpdHlJZC51dWlkPWF3YWl0IHh0KHQuZW50aXR5SWQudXVpZCksdC5lbnRpdHlJZC5uYW1lPWF3YWl0IHh0KHQuZW50aXR5SWQubmFtZSkpLCFlLnNraXBWYWx1ZUhhc2hpbmcmJlwidmFsdWVcImluIHQmJih0LnZhbHVlPWF3YWl0IHh0KHQudmFsdWUpKSxfbih0KX0pKSl9KShlKTtjb25zdCB0PWUubWFwKCgoe3NraXBWYWx1ZUhhc2hpbmc6ZSwuLi50fSk9PnQpKTt0aGlzLmhhbmRsZUFuYWx5dGljcyh0KX1jb25zdCBIbj1hc3luYyBlPT57TG49ZTtMbj8uc2VuZFRvT3BlbkZpbiYmIWF3YWl0IFVuKCkmJigoKT0+e2NvbnN0IGU9Tix0PWUrSy5BbmFseXRpY3MsYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSUZSQU1FXCIpO2Euc2V0QXR0cmlidXRlKFwic3JjXCIsdCksYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDBweCAhaW1wb3J0YW50XCIpLGEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImhlaWdodDogMHB4ICFpbXBvcnRhbnRcIiksYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTogbm9uZSAhaW1wb3J0YW50XCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksX249YXN5bmMgdD0+e2EuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh0LGUpfX0pKCk7Y29uc3QgdD1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTt0LmFkZExpc3RlbmVyKFwidmlldy1jcmVhdGVkXCIsKGFzeW5jIGU9Pnt2YXIgdDtLZSh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJPcGVuIFZpZXdcIix2YWx1ZTplLnZpZXdJZGVudGl0eS5uYW1lLGRhdGE6e3V1aWQ6ZS52aWV3SWRlbnRpdHkudXVpZCx1cmw6YXdhaXQodD1lLnZpZXdJZGVudGl0eSxmaW4uVmlldy53cmFwU3luYyh0KS5nZXRJbmZvKCkudGhlbigoZT0+ZS51cmwpKSl9fSl9KSksdC5hZGRMaXN0ZW5lcihcInZpZXctZGVzdHJveWVkXCIsKGFzeW5jIGU9PntLZSh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJDbG9zZSBWaWV3XCIsdmFsdWU6ZS52aWV3SWRlbnRpdHkubmFtZSxkYXRhOnt1dWlkOmUudmlld0lkZW50aXR5LnV1aWR9fSl9KSksdC5hZGRMaXN0ZW5lcihcIndpbmRvdy1jbG9zZWRcIiwoZT0+e2UubmFtZS5zdGFydHNXaXRoKGRlLkJyb3dzZXJNZW51KXx8KEtlKHt0eXBlOlwiV2luZG93XCIsYWN0aW9uOlwiQ2xvc2UgV2luZG93XCIsdmFsdWU6ZS5uYW1lLGRhdGE6e3V1aWQ6ZS51dWlkfX0pLChhc3luYygpPT57Y29uc3QgZT1FbigpLHQ9YXdhaXQgbG4oKTtpZih0Lmxlbmd0aD09PWUuc2l6ZSlyZXR1cm47Y29uc3QgYT10LnJlZHVjZSgoKGUsdCk9PmUuc2V0KHQucGFnZUlkLDEpKSxuZXcgTWFwKTtmb3IoY29uc3RbdCxuXW9mIGUpYS5oYXModCl8fChuLmFjdGlvbj1cIkNsb3NlIFBhZ2VcIixLZShuKSxGbih0KSl9KSgpKX0pKX0sJG49Q2Uoe2Fsd2F5c09uVG9wOiEwLGF1dG9TaG93OiExLGZyYW1lOiExLHJlc2l6YWJsZTohMSxzaG93VGFza2Jhckljb246ITF9KTtjb25zdCBLbj1mdW5jdGlvbihlPSRuKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGFzeW5jKGEsbixvLHIsaSk9PntpZih0LmhhcyhhKSl7Y29uc3R7Y3VycmVudFVybDplLGN1cnJlbnROYW1lOm99PXQuZ2V0KGEpO2lmKGU9PT1uKXJldHVybjtjb25zdCByPWZpbi5XaW5kb3cud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLnV1aWQsbmFtZTpvfSk7YXdhaXQgci5jbG9zZSgpfWNvbnN0IHM9YCR7ZGUuSG9tZUludGVybmFsfS0ke0RhdGUubm93KCl9JHtNYXRoLnJhbmRvbSgpfWA7dC5zZXQoYSx7Y3VycmVudFVybDpuLGN1cnJlbnROYW1lOnN9KTtjb25zdCBjPWBOZXcgJHtyfSBpbmRpY2F0b3I6ICR7b30gJHtpfWAsbD1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coey4uLmUsbmFtZTpzLHVybDpufSk7KChlLHQpPT57Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIix0fHxcInBvbGl0ZVwiKSwoZT0+e2Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUud2lkdGg9XCIxcHhcIixlLnN0eWxlLmhlaWdodD1cIjFweFwiLGUuc3R5bGUucGFkZGluZz1cIjBcIixlLnN0eWxlLm1hcmdpbj1cIi0xcHhcIixlLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCIsZS5zdHlsZS5ib3JkZXI9XCIwXCJ9KShhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLHNldFRpbWVvdXQoKCgpPT57YS5pbm5lckhUTUw9ZX0pLDMwMCksc2V0VGltZW91dCgoKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfSksMWUzKX0pKGMpLGwub25jZShcImNsb3NlZFwiLCgoKT0+e3QuZGVsZXRlKGEpfSkpfX0oKTthc3luYyBmdW5jdGlvbiB6bihlLHQsYSxuLG8scil7aWYoYSYmZmluLm1lLm5hbWUhPT1hKXtjb25zdCBpPXt0eXBlOmUsbWVzc2FnZTp0LHBhcmVudEJyb3dzZXJOYW1lOmEsc2Vjb25kYXJ5TWVzc2FnZTpuLGljb246byxpc0VudGVycHJpc2U6cn07cmV0dXJuKGF3YWl0IHF0KHt1dWlkOmZpbi5tZS51dWlkLG5hbWU6YX0pKS5kaXNwYXRjaChlYS5TaG93QnJvd3NlckluZGljYXRvcixpKX1jb25zdCBpPW5ldyBVUkxTZWFyY2hQYXJhbXM7aWYoaS5hcHBlbmQoXCJ0eXBlXCIsZSksaS5hcHBlbmQoXCJtZXNzYWdlXCIsdCksaS5hcHBlbmQoXCJwYXJlbnROYW1lXCIsYXx8XCJcIiksaS5hcHBlbmQoXCJzZWNvbmRhcnlNZXNzYWdlXCIsbnx8XCJcIiksaS5hcHBlbmQoXCJpY29uXCIsb3x8XCJcIiksaS5hcHBlbmQoXCJpc0VudGVycHJpc2VcIixgJHtyfWB8fFwiXCIpLGEpe2NvbnN0IGU9cGUoYT97dXVpZDpSLG5hbWU6YX06dm9pZCAwKSx0PWAkeyhzPWF3YWl0IGUuZ2V0Qm91bmRzKCkpLnRvcH0sJHtzLmxlZnR9LCR7cy5oZWlnaHR9LCR7cy53aWR0aH0sJHtzLmJvdHRvbX0sJHtzLnJpZ2h0fSwke3MuY29udGVudC50b3B9LCR7cy5jb250ZW50LmxlZnR9LCR7cy5jb250ZW50LmhlaWdodH0sJHtzLmNvbnRlbnQud2lkdGh9YDtpLmFwcGVuZChcInBhcmVudEJvdW5kc1wiLHQpfXZhciBzO2NvbnN0IGM9YCR7KHI/YXdhaXQgYWUoKTphd2FpdCB0ZSgpKStLLkJyb3dzZXJJbmRpY2F0b3J9IyR7aS50b1N0cmluZygpfWA7cmV0dXJuIEtuKFwiYnJvd3NlclwiK2EsYyx0LGUsbil9YXN5bmMgZnVuY3Rpb24gSm4oZSx0LGEsbil7Y29uc3Qgbz1hd2FpdCBBZSh0KTtyZXR1cm4gem4oXCJzdWNjZXNzXCIsZSx0Lm5hbWUsYSxuLG8pfWNvbnN0IHFuPWFzeW5jKGU9d2UpPT57Y29uc3R7d29ya3NwYWNlUGxhdGZvcm06dH09YXdhaXQgcGUoZSkuZ2V0T3B0aW9ucygpLGE9dD8ubmV3UGFnZVVybCxuPXQ/Lm5ld1RhYlVybDtyZXR1cm57bmV3UGFnZVVybDphLG5ld1RhYlVybDpufX0sWm49YXN5bmMoZT13ZSk9Pntjb25zdCB0PWF3YWl0IEFlKGUpfHxlbixhPWF3YWl0IEFhKCkuQnJvd3Nlci5nZXRVbmlxdWVQYWdlVGl0bGUoKTtsZXQgbjtpZihlJiZhd2FpdCBrZShlKSluPWF3YWl0KGFzeW5jKGUsdD13ZSk9Pntjb25zdHtuZXdQYWdlVXJsOmF9PWF3YWl0IHFuKHQpO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7cmV0dXJuIExhKGUsYSx0KX0pKGEsZSk7ZWxzZSBpZih0KXtjb25zdCBlPWF3YWl0IG5lKCk7bj1hd2FpdCBMYShhLGUpfXQmJihuLnNldHRpbmdzPW4uc2V0dGluZ3M/P3t9LG4uZGltZW5zaW9ucz1uLmRpbWVuc2lvbnM/P3t9LG4uc2V0dGluZ3MuaGFzSGVhZGVycz0hMSxuLnNldHRpbmdzLnJlb3JkZXJFbmFibGVkPSEwLG4uZGltZW5zaW9ucy5oZWFkZXJIZWlnaHQ9MCk7Y29uc3Qgbz1hd2FpdCBPdChhLG4pO3JldHVybiB0JiYoby5oYXNVbnNhdmVkQ2hhbmdlcz0hMSksb307dmFyIGpuOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZVwiLGUuQnJvd3Nlcj1cIi9icm93c2VyXCIsZS5FbnRlcnByaXNlPVwiL2VudGVycHJpc2VcIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnRcIixlLkRvY2s9XCIvZG9ja1wifShqbnx8KGpuPXt9KSk7ZnVuY3Rpb24gUW4oZSx0KXtyZXR1cm4gYXN5bmMoYSwuLi5uKT0+e2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSksdCYmYXdhaXQgdCh7ZXZlbnQ6YSxwYXlsb2FkOm59KX19ZnVuY3Rpb24gWW4oZSx0KXtyZXR1cm4gdCYmdCgodD0+e2NvbnN0e2V2ZW50OmEscGF5bG9hZDpufT10O2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSl9KSksKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KS5hZGQoYSl9fWZ1bmN0aW9uIFhuKGUpe3JldHVybih0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCk7Y29uc3Qgbj1lLmdldCh0KSxvPSguLi5lKT0+e2EoLi4uZSksbi5kZWxldGUobyl9O24uYWRkKG8pfX1mdW5jdGlvbiBlbyhlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5kZWxldGUoYSl9fWNvbnN0IHRvPXtuYW1lOmRlLkJyb3dzZXJNZW51LGFsd2F5c09uVG9wOiEwLGF1dG9TaG93OiEwLGZyYW1lOiExLHJlc2l6YWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6XCIjMmYzMTM2XCIsc21hbGxXaW5kb3c6ITAsc2hvd1Rhc2tiYXJJY29uOiExLGJhY2tncm91bmRUaHJvdHRsaW5nOiExLHNhdmVXaW5kb3dTdGF0ZTohMX07ZnVuY3Rpb24gYW8oZSl7Y29uc3QgdD17Li4udG8sLi4uZX07cmV0dXJuIHQudXJsPWZ1bmN0aW9uKGUsdCl7aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwicmVzb2x2ZUFic29sdXRlUGF0aCBjYW4gb25seSBiZSB1c2VkIGluIGEgd2luZG93XCIpO2NvbnN0IGE9dD8/d2luZG93LmxvY2F0aW9uO2lmKC9eKD86W2Etel0rOik/XFwvXFwvL2kudGVzdChlKSlyZXR1cm4gZTtjb25zdCBuPWAke2EucHJvdG9jb2x9Ly8ke2EuaG9zdG5hbWV9YDtyZXR1cm4gbmV3IFVSTChlLG4pLmhyZWZ9KHQudXJsPz9cIlwiKSx0fWNvbnN0IG5vPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm57ZW1pdDpRbih0LCh0PT5BJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZGRMaXN0ZW5lcjpZbih0LCh0PT5BJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxhZGRMaXN0ZW5lcldpdGhVVUlEOmE9PlluKHQsKHQ9PkEmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDphfSxlLHQpKSkscmVtb3ZlTGlzdGVuZXI6ZW8odCksb25jZTpYbih0KX19KFwid2luZG93Lm1lbnVcIiksb289KGUsdCk9PmZpbi5XaW5kb3cud3JhcFN5bmMoZSkudXBkYXRlT3B0aW9ucyh7b3BhY2l0eTp0fSkscm89ZT0+bm8uZW1pdChcInJlc3BvbnNlXCIsZSksaW89UmUoKCgpPT5sZSgpLmdldENoaWxkV2luZG93cygpKSw1MDApO2NvbnN0IHNvPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gY28oZSx0KXtjb25zdCBhPWFvKGUpLG49e3RvcDphLnRvcCxsZWZ0OmEubGVmdCx3aWR0aDphLmRlZmF1bHRXaWR0aHx8YS53aWR0aCxoZWlnaHQ6YS5kZWZhdWx0SGVpZ2h0fHxhLmhlaWdodH07cmV0dXJuIHQuc2V0KFwicGFyZW50TmFtZVwiLGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKS5pZGVudGl0eS5uYW1lKSx7bmFtZTphLm5hbWUsYm91bmRzOm4scm91dGU6YCR7YS51cmx9IyR7dC50b1N0cmluZygpfWB9fWFzeW5jIGZ1bmN0aW9uIGxvKHtvcHRpb25zOmUscGFyYW1ldGVyczp0fSl7Y29uc3QgYT10Pz9uZXcgVVJMU2VhcmNoUGFyYW1zLG49YW8oZSkse25hbWU6byxtb2RhbFBhcmVudElkZW50aXR5OnJ9PW47aWYoIWEuaGFzKFwiaXNFbnRlcnByaXNlXCIpKXtjb25zdCBlPWAke2F3YWl0KGFzeW5jIGU9PihEZXx8KERlPWF3YWl0IEFlKGUpKSxEZSkpKHIpfWA7YS5zZXQoXCJpc0VudGVycHJpc2VcIixlKX1sZXQgaT1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtyZXR1cm4oYXdhaXQgaW8oKSkuZmluZCgodD0+dC5pZGVudGl0eS5uYW1lPT09ZSkpfShvKTtpZihpKWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3R7bmFtZTphLGJvdW5kczpuLHJvdXRlOm99PWF3YWl0IGNvKGUsdCkscj17dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZCxuYW1lOmF9LGk9ZmluLldpbmRvdy53cmFwU3luYyhyKTthd2FpdCBQcm9taXNlLmFsbChbb28ociwwKSxpLnNldEJvdW5kcyhuKV0pLGkub25jZShcImJsdXJyZWRcIiwoKCk9PntvbyhyLDApLGkuaGlkZSgpLHJvKHtuYW1lOnIubmFtZSxkYXRhOnthY3Rpb25OYW1lOlwiQ2FuY2VsXCJ9fSl9KSksbm8uZW1pdChcInVwZGF0ZVwiLGEsbixvKSxhd2FpdCBybyh7bmFtZTphLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KX0obixhKTtlbHNle2NvbnN0e3JvdXRlOnQsYm91bmRzOm99PWF3YWl0IGNvKGUsYSk7aT1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsYSl7Y29uc3Qgbj1hbyhlKSxvPWF3YWl0IHZ0KGZpbi5tZS5pZGVudGl0eSkscj1hd2FpdCBQdChmaW4ubWUuaWRlbnRpdHkpPT09bS5EYXJrLGk9bz8udGhlbWU7aWYobi5iYWNrZ3JvdW5kQ29sb3I9aT8uW3I/bS5EYXJrOm0uTGlnaHRdPy5wYWxldHRlPy5pbnB1dEJhY2tncm91bmR8fG4uYmFja2dyb3VuZENvbG9yLCFzby5oYXMobi5uYW1lKSlyZXR1cm4gbmV3IFByb21pc2UoKGU9Pntuby5vbmNlKFwicmVhZHlcIiwoYXN5bmMgdD0+e2lmKHQubmFtZT09PW4ubmFtZSl7Y29uc3QgYT1hd2FpdCBzby5nZXQobi5uYW1lKTthLm9uY2UoXCJibHVycmVkXCIsKGFzeW5jKCk9PntpZihvbyh0LDApLGEuaGlkZSgpLHJvKHtuYW1lOm4ubmFtZSxkYXRhOnthY3Rpb25OYW1lOlwiQ2FuY2VsXCJ9fSksYS5pZGVudGl0eS5uYW1lPT09ZGUuQnJvd3NlclNhdmVNZW51KXtjb25zdCBlPWF3YWl0IGEuZ2V0T3B0aW9ucygpO1wic3VibWl0dGluZ1wiIT09ZS5jdXN0b21Db250ZXh0JiZcImVycm9yXCIhPT1lLmN1c3RvbUNvbnRleHQmJmEuY2xvc2UoKX1lbHNlIGEuaWRlbnRpdHkubmFtZS5zdGFydHNXaXRoKGRlLkJyb3dzZXJNZW51KSYmYS5jbG9zZSgpfSkpLHNldFRpbWVvdXQoKGFzeW5jKCk9Pnthd2FpdCBvbyh0LDEpLDEhPT0oYXdhaXQgZmluLldpbmRvdy53cmFwU3luYyh0KS5nZXRPcHRpb25zKCkpLm9wYWNpdHkmJm9vKHQsMSl9KSksZShhKX19KSk7Y29uc3Qgbz0oYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KENlKHsuLi5uLG9wYWNpdHk6MCx1cmw6dHx8bi51cmwsZGVmYXVsdExlZnQ6YT8ubGVmdCxkZWZhdWx0VG9wOmE/LnRvcCxkZWZhdWx0V2lkdGg6YT8ud2lkdGgsZGVmYXVsdEhlaWdodDphPy5oZWlnaHR9LCEwKSk7cmV0dXJuIGUub25jZShcImNsb3NlZFwiLCgoKT0+e3NvLmRlbGV0ZShuLm5hbWUpfSkpLGV9KSgpO3NvLnNldChuLm5hbWUsbyl9KSk7cmV0dXJuIHNvLmdldChuLm5hbWUpfSh7Li4ubn0sdCxvKX1yZXR1cm4gaX1jb25zdCB1bz1hc3luYyh7b3B0aW9uczplLGNvbnRlbnQ6dCxwYXJhbWV0ZXJzOmF9KT0+e2NvbnN0IG49YT8/bmV3IFVSTFNlYXJjaFBhcmFtcztuLnNldChcImNvbnRlbnRcIixKU09OLnN0cmluZ2lmeSh7Li4udCxpbnZvY2F0aW9uSWQ6UnQoKX0pKTtjb25zdCBvPXsuLi5lLG5hbWU6YCR7ZS5uYW1lfS0tJHtlLm1vZGFsUGFyZW50SWRlbnRpdHk/Lm5hbWU/P1wiXCJ9YH07cmV0dXJuIGF3YWl0IGxvKHtvcHRpb25zOm8scGFyYW1ldGVyczpufSksbmV3IFByb21pc2UoKGU9Pntuby5vbmNlKFwicmVzcG9uc2VcIiwoYXN5bmMgdD0+e3QubmFtZT09PW8ubmFtZSYmZSh7ZGF0YTp0LmRhdGF9KX0pKX0pKX0scG89YXN5bmMoZSx0LGEpPT57Y29uc3R7d2luZG93T3B0aW9uczpuLGNvbnRlbnQ6b309YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgQWUodCk7cmV0dXJue3RpdGxlOlwiU3dpdGNoIFdvcmtzcGFjZVwiLHdpbmRvd09wdGlvbnM6e3VybDphd2FpdCBvZShhLCExKStLLlJlc3BvbnNlTW9kYWwsbmFtZTpkZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDEwLG1vZGFsUGFyZW50SWRlbnRpdHk6dH0sY29udGVudDp7dGl0bGU6UWEoXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiLHt3b3Jrc3BhY2U6ZX0pLGJvZHk6UWEoXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6UWEoXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwifSx7bGFiZWw6UWEoXCJnbG9iYWwuY29uZmlybVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiQ29uZmlybVwifV19fX19KSh0LGE/dm9pZCAwOmUpLHI9YXdhaXQgTGUobixlLGEpLGk9ey4uLm4sdG9wOnIudG9wLGxlZnQ6ci5sZWZ0fTtyZXR1cm5cIkNvbmZpcm1cIj09PShhd2FpdCB1byh7b3B0aW9uczppLGNvbnRlbnQ6b30pKS5kYXRhLmFjdGlvbk5hbWV9LHdvPWFzeW5jKGUsdCk9Pntjb25zdHt3aW5kb3dPcHRpb25zOmEsY29udGVudDpufT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBBZShlKTtyZXR1cm57dGl0bGU6XCJEZWxldGUgV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOmF3YWl0IG9lKGEsITEpK0suUmVzcG9uc2VNb2RhbCxuYW1lOmRlLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTQ0LGRlZmF1bHRXaWR0aDo0MTAsbW9kYWxQYXJlbnRJZGVudGl0eTplfSxjb250ZW50Ont0aXRsZTpRYShcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCIpLGJvZHk6YCR7dH1gLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6UWEoXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwifSx7bGFiZWw6UWEoXCJnbG9iYWwuY29uZmlybVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiQ29uZmlybVwifV19fX19KShlLHQpLG89YXdhaXQgTGUoYSxhLm1vZGFsUGFyZW50SWRlbnRpdHkpLHI9ey4uLmEsdG9wOm8udG9wLGxlZnQ6by5sZWZ0fTtyZXR1cm5cIkNvbmZpcm1cIj09PShhd2FpdCB1byh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhLmFjdGlvbk5hbWV9LGhvPWFzeW5jKGUsdCxhKT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6bixjb250ZW50Om99PWF3YWl0KGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49YXdhaXQgQWUoZSk7cmV0dXJue3RpdGxlOlwiUGxhdGZvcm0gUXVpdFwiLHdpbmRvd09wdGlvbnM6e3VybDphd2FpdCBvZShuLCExKStLLlJlc3BvbnNlTW9kYWwsbmFtZTpkZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDEwLG1vZGFsUGFyZW50SWRlbnRpdHk6YT92b2lkIDA6ZX0sY29udGVudDp7dGl0bGU6UWEoXCJQbGF0Zm9ybVwiPT09dD9cImNsb3NlUGxhdGZvcm1cIjpcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCIse3dvcmtzcGFjZTp0fSksYm9keTpRYShcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiKSxidXR0b25zOntyaWdodDpbe2xhYmVsOlFhKFwiZ2xvYmFsLmNhbmNlbFwiKSx0eXBlOlwic2Vjb25kYXJ5XCIsaWQ6XCJDYW5jZWxcIn0se2xhYmVsOlFhKFwiZ2xvYmFsLmNvbmZpcm1cIiksdHlwZTpcInByaW1hcnlcIixpZDpcIkNvbmZpcm1cIn1dfX19fSkoZSx0LGEpLHI9YXdhaXQgTGUobixlLGEpLGk9ey4uLm4sdG9wOnIudG9wLGxlZnQ6ci5sZWZ0fTtyZXR1cm5cIkNvbmZpcm1cIj09PShhd2FpdCB1byh7b3B0aW9uczppLGNvbnRlbnQ6b30pKS5kYXRhLmFjdGlvbk5hbWV9LGdvPWFzeW5jIGU9Pntjb25zdHt3aW5kb3dPcHRpb25zOnQsY29udGVudDphfT1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBBZShlKTtyZXR1cm57dGl0bGU6XCJSZXN0b3JlIENoYW5nZXNcIix3aW5kb3dPcHRpb25zOnt1cmw6YXdhaXQgb2UodCwhMSkrSy5SZXNwb25zZU1vZGFsLG5hbWU6ZGUuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMzQsZGVmYXVsdFdpZHRoOjQxMCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlFhKFwicmVzdG9yZU1vZGFsXCIpLGJvZHk6UWEoXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiKSxidXR0b25zOntyaWdodDpbe2xhYmVsOlFhKFwiZ2xvYmFsLmNhbmNlbFwiKSx0eXBlOlwic2Vjb25kYXJ5XCIsaWQ6XCJDYW5jZWxcIn0se2xhYmVsOlFhKFwiZ2xvYmFsLmNvbmZpcm1cIiksdHlwZTpcInByaW1hcnlcIixpZDpcIkNvbmZpcm1cIn1dfX19fSkoZSksbj1hd2FpdCBMZSh0LHQubW9kYWxQYXJlbnRJZGVudGl0eSksbz17Li4udCx0b3A6bi50b3AsbGVmdDpuLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IHVvKHtvcHRpb25zOm8sY29udGVudDphfSkpLmRhdGEuYWN0aW9uTmFtZX0sbW89YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEFlKGUpO3JldHVybnt0aXRsZTpcIkRlbGV0ZSBQYWdlXCIsd2luZG93T3B0aW9uczp7dXJsOm5ldyBVUkwoYXdhaXQgb2UoYSwhMSkrSy5SZXNwb25zZU1vZGFsKS50b1N0cmluZygpLG5hbWU6ZGUuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxNzIsZGVmYXVsdFdpZHRoOjQ2NCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlFhKFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCIse3RpdGxlOnR9KSxib2R5OlFhKFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiKSxidXR0b25zOntyaWdodDpbe2xhYmVsOlFhKFwiZ2xvYmFsLmNhbmNlbFwiKSx0eXBlOlwic2Vjb25kYXJ5XCIsaWQ6XCJDYW5jZWxcIix2YXJpYW50OmE/XCJvdXRsaW5lXCI6dm9pZCAwfSx7bGFiZWw6UWEoXCJnbG9iYWwuZGVsZXRlXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJEZWxldGVcIix2YXJpYW50OmE/XCJzdWJtaXRcIjp2b2lkIDB9XX19fX0pKGUsdCksbz1hd2FpdCBMZShhLGEubW9kYWxQYXJlbnRJZGVudGl0eSkscj17Li4uYSx0b3A6by50b3AsbGVmdDpvLmxlZnR9O3JldHVyblwiRGVsZXRlXCI9PT0oYXdhaXQgdW8oe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YS5hY3Rpb25OYW1lfTthc3luYyBmdW5jdGlvbiBrbyh7b3B0aW9uczplLC4uLnR9KXtpZighKCEhZT8uc2tpcFByb21wdHx8YXdhaXQgcG8oZT8ucHJvbXB0Q29udGFpbmVyV2luZG93SWRlbnRpdHksdC50aXRsZSxlPy5zaG91bGRDZW50ZXJNb2RhbE9uTW9uaXRvcikpKXJldHVybiExO2NvbnN0IGE9QWEoKTtyZXR1cm4gYXdhaXQgYS5hcHBseVNuYXBzaG90KHQuc25hcHNob3Qsey4uLmU/LmFwcGx5U25hcHNob3RPcHRpb25zPz97fSxjbG9zZUV4aXN0aW5nV2luZG93czplPy5hcHBseVNuYXBzaG90T3B0aW9ucz8uY2xvc2VFeGlzdGluZ1dpbmRvd3M/PyEwfSksZm8odCksem4oXCJzdWNjZXNzXCIsUWEoXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCIpKS5jYXRjaChjb25zb2xlLndhcm4pLCEwfWFzeW5jIGZ1bmN0aW9uIGJvKGUpe3RyeXtyZXR1cm4gYXdhaXQga28oZSl9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gYXBwbHkgdGhlIGN1cnJlbnQgd29ya3NwYWNlOiBcIixlKSwhMX19YXN5bmMgZnVuY3Rpb24geW8oZSl7dHJ5e2NvbnN0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPUFhKCksdD1hd2FpdCBlLmdldEN1cnJlbnRXb3Jrc3BhY2UoKTtyZXR1cm4oYXdhaXQgZS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKX0oKTtpZighdClyZXR1cm5cIm5vdC1zYXZlZC13b3Jrc3BhY2VcIjtyZXR1cm4hIWU/LnNraXBQcm9tcHR8fGF3YWl0IGdvKGU/LnByb21wdENvbnRhaW5lcldpbmRvd0lkZW50aXR5KT8oYXdhaXQga28oe29wdGlvbnM6e3NraXBQcm9tcHQ6ITAsYXBwbHlTbmFwc2hvdE9wdGlvbnM6ZT8uYXBwbHlTbmFwc2hvdE9wdGlvbnN9LC4uLnR9KSxcInN1Y2Nlc3NcIik6XCJ1c2VyLWRlY2xpbmVkXCJ9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcImZhaWxlZCB0byByZXN0b3JlIGxhc3Qgc2F2ZWQgd29ya3NwYWNlOiBcIixlKSxlfX1mdW5jdGlvbiBmbyhlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO3NhKEJ0LkN1cnJlbnRXb3Jrc3BhY2VJZCx0KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHNldCB0aGUgYWN0aXZlIHdvcmtzcGFjZTogXCIsZSl9fWFzeW5jIGZ1bmN0aW9uIFNvKCl7Y29uc3QgZT1BYSgpLHQ9YXdhaXQgZS5nZXRTbmFwc2hvdCgpO3JldHVybnt3b3Jrc3BhY2VJZDpSdCgpLHRpdGxlOmF3YWl0IE1vKCksbWV0YWRhdGE6e0FQSVZlcnNpb246T30sc25hcHNob3Q6dH19YXN5bmMgZnVuY3Rpb24gdm8oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybiBTbygpO2NvbnN0IGU9Y2EoQnQuQ3VycmVudFdvcmtzcGFjZUlkKTtpZighZSlyZXR1cm4gU28oKTtjb25zdCB0PUpTT04ucGFyc2UoZSksYT1BYSgpLG49YXdhaXQgYS5nZXRTbmFwc2hvdCgpO3JldHVybnsuLi50LG1ldGFkYXRhOntBUElWZXJzaW9uOk99LHNuYXBzaG90Om59fWNvbnN0IFBvPWFzeW5jKCk9Pihhd2FpdCBwdCh3ZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkV29ya3NwYWNlcyx2b2lkIDApLENvPWFzeW5jIGU9PmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBwdCh3ZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkV29ya3NwYWNlLGUpKShlLndvcmtzcGFjZUlkKT8oYXN5bmMgZT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2VJZDplLndvcmtzcGFjZUlkLHdvcmtzcGFjZTplfSk6KGFzeW5jIGU9Pihhd2FpdCBwdCh3ZSkpLmRpc3BhdGNoKGx0LkNyZWF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlOmV9KTthc3luYyBmdW5jdGlvbiBNbyhlPVwiVW50aXRsZWQgV29ya3NwYWNlXCIpe2NvbnN0IHQ9KGF3YWl0IFBvKCkpLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtyZXR1cm4gY24oZSx0KX1jb25zdCB4bz1lPT4oey4uLmUsc25hcHNob3Q6ey4uLmUuc25hcHNob3Qsd2luZG93czplLnNuYXBzaG90LndpbmRvd3MubWFwKChlPT4oey4uLmUsd29ya3NwYWNlUGxhdGZvcm06ey4uLmUud29ya3NwYWNlUGxhdGZvcm0scGFnZXM6ZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lm1hcCgoZT0+KHsuLi5lLGhhc1Vuc2F2ZWRDaGFuZ2VzOiExfSkpKX19KSkpfX0pLElvPWFzeW5jKGUsdCk9Pntjb25zdCBhPXQ/P0FhKCk7YXdhaXQgYS5TdG9yYWdlLnNhdmVXb3Jrc3BhY2UoeG8oZSkpLGF3YWl0KGFzeW5jKCk9Pihhd2FpdCBwdCh3ZSkpLmRpc3BhdGNoKGx0Lk1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWwsdm9pZCAwKSkoKX0sQW89YXN5bmMgZT0+e2NvbnN0IHQ9QWEoKSxhPWF3YWl0IHQuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLG49YXdhaXQgdC5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxvPWEud29ya3NwYWNlSWQ7aWYobi5zb21lKChlPT5lLndvcmtzcGFjZUlkPT09bykpKWF3YWl0IElvKGEsdCksYXdhaXQgdC5zZXRBY3RpdmVXb3Jrc3BhY2UoYSksYXdhaXQgSm4oUWEoXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCIpLGUpO2Vsc2V7Y29uc3QgYT10LkJyb3dzZXIud3JhcFN5bmMoZSk7YXdhaXQgYS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6eC5TQVZFX1dPUktTUEFDRX0pfX0sV289ZT0+e0FhKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6eC5TQVZFX1dPUktTUEFDRV9BU30pfSxEbz1hc3luYyBlPT57Y29uc3QgdD1BYSgpLkJyb3dzZXIud3JhcFN5bmMoZSkse25ld1BhZ2VVcmw6YX09YXdhaXQgcW4oKSxuPWF3YWl0IFpuKGUpLG89YXx8dm9pZCAwO2F3YWl0IHQuX2FkZERlZmF1bHRQYWdlKHtpZGVudGl0eTplLHBhZ2U6bixuZXdQYWdlVXJsOm99KX0sVG89YXN5bmMoZSx0KT0+e2NvbnN0IGE9QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49YXdhaXQgQWEoKS5TdG9yYWdlLmdldFBhZ2VzKCksbz0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSkscj1uLnNvbWUoKGU9Pm8ucGFnZUlkPT09ZS5wYWdlSWQpKSxpPWF3YWl0IEFlKGUpO2lmKHIpdHJ5e2F3YWl0IEFhKCkuU3RvcmFnZS5zYXZlUGFnZSgoZD1vLHsuLi5kLGhhc1Vuc2F2ZWRDaGFuZ2VzOnZvaWQgMCxwYXJlbnRJZGVudGl0eTp2b2lkIDAsaXNBY3RpdmU6dm9pZCAwLGxheW91dDpWYShkLmxheW91dCl9KSksYXdhaXQgYS51cGRhdGVQYWdlKHtwYWdlSWQ6by5wYWdlSWQscGFnZTp7aGFzVW5zYXZlZENoYW5nZXM6ITF9fSksSm4oUWEoaT9cImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCIpLGUsUWEoaT9cImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIix7dGl0bGU6by50aXRsZX0pKX1jYXRjaHtzPVFhKFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIiksYz1vLnBhcmVudElkZW50aXR5Lm5hbWUsem4oXCJlcnJvclwiLHMsYyxsKX1lbHNlIGEuX29wZW5TYXZlTW9kYWwoe2lkOm8ucGFnZUlkLG1lbnVUeXBlOnguU0FWRV9QQUdFfSk7dmFyIHMsYyxsLGR9LFJvPWFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKTthLl9vcGVuU2F2ZU1vZGFsKHtpZDpuLnBhZ2VJZCxtZW51VHlwZTp4LlNBVkVfUEFHRV9BU30pLEtlKHt0eXBlOlwiUGFnZSBNb2RhbFwiLGFjdGlvbjpcIlNlbGVjdCBTYXZlIEFzXCIsdmFsdWU6bi50aXRsZSxza2lwVmFsdWVIYXNoaW5nOiEwfSl9LEJvPXt0aXRsZTpcIkRvd25sb2Fkc1wiLHBhZ2VJZDpcImRvd25sb2Fkcy1wYWdlLWlkXCIsbGF5b3V0Ontjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOntuYW1lOlwic2hvdy1kb3dubG9hZC12aWV3XCIsdXJsOlwiY2hyb21lOi8vZG93bmxvYWRzL1wifX1dfV19fSxFbz1hc3luYyBlPT57Y29uc3QgdD1wZShlKSxhPWF3YWl0IHQuZ2V0Q3VycmVudFZpZXdzKCksbj0oYXdhaXQgQWEoKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTt0cnl7Y29uc3QgdD0oYXdhaXQgUHJvbWlzZS5hbGwoYS5tYXAoKGFzeW5jIGU9Pih7aWRlbnRpdHk6ZS5pZGVudGl0eSxpbmZvOmF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKGUuaWRlbnRpdHkpLmdldEluZm8oKX0pKSkpKS5maW5kKChlPT5cImNocm9tZTovL2Rvd25sb2Fkcy9cIj09PWUuaW5mby51cmwpKTtpZih0KWF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKHQuaWRlbnRpdHkpLmZvY3VzKCk7ZWxzZXtjb25zdCB0PUFhKCk7aWYobj8uaXNMb2NrZWQpe2NvbnN0IGU9KGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maW5kKChlPT5cInNob3ctZG93bmxvYWQtd2luZG93XCI9PT1lLmlkZW50aXR5Lm5hbWUpKTtyZXR1cm4gdm9pZChlP2F3YWl0IGUuZm9jdXMoKTp0LkJyb3dzZXIuY3JlYXRlV2luZG93KHtuYW1lOlwic2hvdy1kb3dubG9hZC13aW5kb3dcIix3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W0JvXX19KSl9KGF3YWl0IEFhKCkuY3JlYXRlVmlldyh7bmFtZTpcInNob3ctZG93bmxvYWQtdmlld1wiLHVybDpcImNocm9tZTovL2Rvd25sb2Fkcy9cIix0YXJnZXQ6ZX0sZSkpLmZvY3VzKCl9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBvcGVuIGRvd25sb2FkcyB2aWV3XCIsZSl9fSxGbz1hc3luYyBlPT57Y29uc3QgdD1lLm1hcCgoZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkucHJpbnQoKSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfSxWbz1lPT57Y29uc3RbdCxhLG5dPWUuc3BsaXQoXCIuXCIpLm1hcCgoZT0+XCJ4XCI9PT1lPzA6MSkpO3JldHVybiAxMDAqdCsxMCphKzEqbn07Y2xhc3MgTm8gZXh0ZW5kcyBFcnJvcnt9Y29uc3QgTG89YXN5bmMgZT0+e3RyeXtjb25zdCBhPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCBRKCksdD1lPy50cmFuc2xhdGlvbk92ZXJyaWRlc1VybD8/XCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS9hc3NldHMvdHJhbnNsYXRpb24tb3ZlcnJpZGUuanNvblwiO2lmKFwiXCI9PT10KXRocm93IG5ldyBObyhcIkVtcHR5IHN0cmluZyBwcm92aWRlZCBhcyB1cmwgdG8gdHJhbnNsYXRpb25PdmVycmlkZXNVcmwsIG92ZXJyaWRlcyB3aWxsIG5vdCBiZSBmZXRjaGVkLlwiKTtyZXR1cm4gYXdhaXQgZmV0Y2godCkudGhlbigoZT0+ZS5qc29uKCkpKX0oKTsodD0oZT0+e2NvbnN0IHQ9Ty5zcGxpdChcIi5cIik7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZT0+e2NvbnN0IGE9ZS5zcGxpdChcIi5cIik7aWYoMyE9PWEubGVuZ3RoKXJldHVybiBjb25zb2xlLndhcm4oYEVuY291bnRlcmVkIGEgdHJhbnNsYXRpb24gb3ZlcnJpZGUgdmVyc2lvbiBzdHJpbmcgaW4gYW4gdW5zdXBwb3J0ZWQgZm9ybWF0OiAke2V9LiBWZXJzaW9ucyBtdXN0IGJlIGluIEEuQi5DIGZvcm1hdCB3aGVyZSBBLCBCLCBDIGFyZSBlaXRoZXIgaW50ZWdlcnMgb3IgdGhlIHdpbGRjYXJkIHN5bWJvbCAneCcuYCksITE7Y29uc3RbbixvLHJdPWE7cmV0dXJuIShuIT09dFswXSYmXCJ4XCIhPT1ufHxvIT09dFsxXSYmXCJ4XCIhPT1vfHxyIT09dFsyXSYmXCJ4XCIhPT1yKX0pKX0pKGEpLFsuLi50XS5zb3J0KCgoZSx0KT0+Vm8oZSktVm8odCkpKSkuZm9yRWFjaCgodD0+e2NvbnN0IG49YVt0XTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKCh0PT57ZS5hZGRSZXNvdXJjZUJ1bmRsZSh0LFwidHJhbnNsYXRpb25cIixuW3RdLCEwLCEwKX0pKX0pKX1jYXRjaChlKXtlIGluc3RhbmNlb2YgTm8/Y29uc29sZS53YXJuKGUubWVzc2FnZSk6Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcGx5aW5nIGEgdHJhbnNsYXRpb24gb3ZlcnJpZGU6IFwiLGUpfXZhciB0fTtmdW5jdGlvbiBfbygpe3JldHVybiBIYSgpLmxhbmd1YWdlfWNvbnN0IE9vPWFzeW5jIGU9PntIbyhlKSwoZT0+e0hhKCkuY2hhbmdlTGFuZ3VhZ2UoZSl9KShlKSxhd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBiZSgpO3JldHVybiBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgcXQodC5pZGVudGl0eSk7YXdhaXQgYS5kaXNwYXRjaChlYS5TZXRTZWxlY3RlZExhbmd1YWdlLGUpfSkpKX0pKGUpfTtmdW5jdGlvbiBVbygpe2lmKCFIYSgpLm9wdGlvbnMucmVzb3VyY2VzKXRocm93IG5ldyBFcnJvcihcIk5vIGxhbmd1YWdlIHJlc291cmNlcyBmb3VuZFwiKTtyZXR1cm57Y3VycmVudExhbmd1YWdlOl9vKCkscmVzb3VyY2VzOkhhKCkub3B0aW9ucy5yZXNvdXJjZXN9fWFzeW5jIGZ1bmN0aW9uIEdvKGU9XCJlbi1VU1wiKXtIbyhlKSxmdW5jdGlvbihlPVwiZW4tVVNcIil7SGEoKS51c2UoVWEuaW5pdFJlYWN0STE4bmV4dCkuaW5pdCh7bG5nOmUsZmFsbGJhY2tMbmc6XCJlbi1VU1wiLHJlc291cmNlczp7XCJlbi1VU1wiOnt0cmFuc2xhdGlvbjp6YX0sXCJqYS1KUFwiOnt0cmFuc2xhdGlvbjpxYX0sXCJ6aC1DTlwiOnt0cmFuc2xhdGlvbjokYX0sXCJrby1LUlwiOnt0cmFuc2xhdGlvbjpaYX0sXCJydS1SVVwiOnt0cmFuc2xhdGlvbjpqYX0sXCJkZS1ERVwiOnt0cmFuc2xhdGlvbjpKYX0sXCJ6aC1IYW50XCI6e3RyYW5zbGF0aW9uOkthfX0saW50ZXJwb2xhdGlvbjp7ZXNjYXBlVmFsdWU6ITF9fSl9KGUpLGF3YWl0IExvKEhhKCkpfWZ1bmN0aW9uIEhvKGUpe2lmKCFNLmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgVGhlIElTTyBsYW5ndWFnZSBwcm92aWRlZCAke2V9IGlzIG5vdCBzdXBwb3J0ZWRgKX1jb25zdCAkbz1bXCJncmVlblwiLFwicHVycGxlXCIsXCJvcmFuZ2VcIixcInJlZFwiLFwicGlua1wiLFwieWVsbG93XCJdLEtvPVwiQ09OVEVYVF9HUk9VUF9QQUdFXCIsem89KCk9PmU9PmNsYXNzIGV4dGVuZHMgZXtnZXRDb250ZXh0R3JvdXBzKCl7cmV0dXJuIHN1cGVyLmdldENvbnRleHRHcm91cHMoKS5tYXAoKGU9PiRvLmluY2x1ZGVzKGUuZGlzcGxheU1ldGFkYXRhPy5uYW1lKT97Li4uZSxkaXNwbGF5TWV0YWRhdGE6ey4uLmUuZGlzcGxheU1ldGFkYXRhLG5hbWU6UWEoZS5kaXNwbGF5TWV0YWRhdGE/Lm5hbWUpfX06ZSkpfX0sSm89KCk9Pntjb25zdCBlPW5ldyBTZXQ7cmV0dXJuIHQ9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5vbkNsaWVudENvbm5lY3RlZD1lPT57ZS5uYW1lLnN0YXJ0c1dpdGgoXCJpbnRlcm5hbC1nZW5lcmF0ZWQtdmlld1wiKSYmdGhpcy5qb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDpLbyx0YXJnZXQ6ZX0se3V1aWQ6dGhpcy5maW4ubWUudXVpZCxuYW1lOnRoaXMuZmluLm1lLm5hbWV9KX07Y29uc3QgZT10aGlzLmludGVyb3BDbGllbnRzLnNldDt0aGlzLmludGVyb3BDbGllbnRzLnNldD0odCxhKT0+e2UuY2FsbCh0aGlzLmludGVyb3BDbGllbnRzLHQsYSksdGhpcy5vbkNsaWVudENvbm5lY3RlZChhLmNsaWVudElkZW50aXR5KX19YXN5bmMgam9pbkNvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6dCx0YXJnZXQ6YX0sbil7aWYodCE9PUtvKXJldHVybiBzdXBlci5qb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDp0LHRhcmdldDphfSxuKTt0cnl7Y29uc3QgdD0oYXdhaXQgQWEoKS5Ccm93c2VyLmdldFBhZ2VCeVZpZXdJZGVudGl0eShhKSkucGFnZS5sYXlvdXROYW1lO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlZpZXcgZG9lcyBub3QgYmVsb25nIHRvIGEgcGFnZVwiKTtpZighZS5oYXModCkmJihlLmFkZCh0KSwhdGhpcy5jb250ZXh0R3JvdXBzQnlJZC5oYXModCkpKXtjb25zdCBlPW5ldyBNYXA7dGhpcy5jb250ZXh0R3JvdXBzQnlJZC5zZXQodCxlKX1hd2FpdCBzdXBlci5qb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDp0LHRhcmdldDphfSxuKSxhLm5hbWV9Y2F0Y2goZSl7SlNPTi5zdHJpbmdpZnkoYSksZS5zdGFja319Z2V0Q29udGV4dEdyb3Vwcygpe3JldHVybiBBcnJheS5mcm9tKGUpLm1hcCgoZT0+KHtpZDplLGRpc3BsYXlNZXRhZGF0YTp7fX0pKSl9c2V0Q29udGV4dEZvckdyb3VwKGUsdCl7aWYoIXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuaGFzKHQpKXtjb25zdCBlPW5ldyBNYXA7dGhpcy5jb250ZXh0R3JvdXBzQnlJZC5zZXQodCxlKX1yZXR1cm4gc3VwZXIuc2V0Q29udGV4dEZvckdyb3VwKGUsdCl9fX0scW89KGUsdCk9Pntjb25zdCBhPShlPT5XZShlKT9KbygpOnpvKCkpKHQpO3RyeXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3Q9PmUoYSh0KSk6QXJyYXkuaXNBcnJheShlKT9bLi4uZSxhXTplPT5uZXcoYShlKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiV29ya3NwYWNlUGxhdGZvcm0uaW5pdCBFcnJvcjpcIixlKX19LFpvPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gam8oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCBlPWNhKEJ0Lkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9SlNPTi5wYXJzZShlKTtpZihhd2FpdCBmZSh0KSlyZXR1cm4gdH1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiAke2V9YCl9fWFzeW5jIGZ1bmN0aW9uIFFvKGU9ZmluLm1lLmlkZW50aXR5KXthd2FpdCBrZShlKSYmKFpvLmRlbGV0ZShlLm5hbWUpLFpvLnNldChlLm5hbWUsZSksZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtzYShCdC5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byBzYXZlIGxhc3QgZm9jdXNlZCBicm93c2VyIHdpbmRvdzogXCIsZSl9fShlKSl9YXN5bmMgZnVuY3Rpb24gWW8oZT1maW4ubWUuaWRlbnRpdHkpe1pvLmRlbGV0ZShlLm5hbWUpfWNvbnN0IFhvPVR0KCkoKGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLkFwcGxpY2F0aW9uLmdldENoaWxkV2luZG93cygpO2xldCB0LGE9ITE7Zm9yKGNvbnN0IG4gb2YgZSlpZihuLmlkZW50aXR5Lm5hbWU9PT1kZS5Ccm93c2VyTWVudXx8bi5pZGVudGl0eS5uYW1lPT09ZGUuQnJvd3NlclNhdmVNZW51P3Q9bjphd2FpdCBrZShuLmlkZW50aXR5KSYmKGE9ITApLGEpYnJlYWs7IWEmJnQmJnQuY2xvc2UoKX0pLDEwMCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pO2xldCBlcj17fTtjb25zdCB0cj1hc3luYyh7YWN0aW9uSWQ6ZSxwYXlsb2FkOnR9KT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGVyW2VdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBjb25maWd1cmVkIGZ1bmN0aW9uIGZvciB0aGUgYWN0aW9uICcke2V9J2ApO3JldHVybiBlcltlXSh0KX0sYXI9KCk9PmBjdXN0b20tY29udGV4dC1tZW51LSR7QWEoKS5pZGVudGl0eS51dWlkfS0ke099YCxucj0oKT0+YGN1c3RvbS1ib29rbWFyay1jb250ZXh0LW1lbnUtJHtBYSgpLmlkZW50aXR5LnV1aWR9LSR7T31gLG9yPSgpPT5maW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoYXIoKSk7dmFyIHJyLGlyOyFmdW5jdGlvbihlKXtlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlQXNcIn0ocnJ8fChycj17fSkpLGZ1bmN0aW9uKGUpe2UuR2xvYmFsTWVudT1cImdsb2JhbC1tZW51XCIsZS5Db250ZXh0TWVudT1cImNvbnRleHQtbWVudVwiLGUuUmVuYW1lU3VwZXJ0YWI9XCJyZW5hbWUtc3VwZXJ0YWJcIixlLkFkZEVkaXRCb29rbWFyaz1cImFkZC1lZGl0LWJvb2ttYXJrXCIsZS5Ecm9wZG93bk1lbnU9XCJkcm9wZG93bi1tZW51XCJ9KGlyfHwoaXI9e30pKTtjb25zdCBzcj1yZXF1aXJlKFwiZGV4aWVcIiksY3I9ZT0+ZStcIi1cIitmaW4ubWUudXVpZCxscj0oZSx0KT0+e2NvbnN0IGE9RCYmQSYmbmV3IHNyLkRleGllKGUpO3JldHVybiBhJiZhLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3RdOlwiXCJ9KSxhfSxkcj0oZSx0KT0+e2NvbnN0IGE9bHIoY3IoZSksdCksbj1scihlLHQpO2lmKCFhfHwhbil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbWlncmF0ZSBzdG9yZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4oYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1jYShCdC5IYXNNb3ZlZFN0b3JlKSxvPW4/SlNPTi5wYXJzZShuKTp7fTtpZihvJiZvW2FdKXJldHVybjtvW2FdPSEwLHNhKEJ0Lkhhc01vdmVkU3RvcmUsSlNPTi5zdHJpbmdpZnkobykpO2NvbnN0IHI9YXdhaXQgZVthXS50b0FycmF5KCk7YXdhaXQgdFthXS5idWxrUHV0KHIpfSkobixhLGUpLGF9LHVyPShlLHQ9XCJcIik9PmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpLHByPVwidmlzaXRlZC1zaXRlc1wiLHdyPVwicmVtb3ZlZC10YWItc3RhY2tcIixocj1EJiZBJiZkcihcIm9wZW5maW4taG9tZS1wYWdlc1wiLFwicGFnZXNcIiksZ3I9RCYmQSYmbmV3IHNyLkRleGllKGNyKFwib3BlbmZpbi1lbnRlcnByaXNlLXNpdGUtaGlzdG9yeVwiKSk7Z3ImJmdyLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3ByXTpcImlkLCB1cmxcIn0pO2NvbnN0IG1yPUQmJkEmJm5ldyBzci5EZXhpZShjcihcIm9wZW5maW4tZW50ZXJwcmlzZS10YWItaGlzdG9yeVwiKSk7YXN5bmMgZnVuY3Rpb24ga3IoZSl7aWYoIWhyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgcGFnZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PWF3YWl0IGhyLnBhZ2VzLmdldChlKTtpZih0KXJldHVybiB0LnBhZ2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LnBhZ2VJZCx0fWFzeW5jIGZ1bmN0aW9uIGJyKGUpe2lmKCFocil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHBhZ2UgbGlzdCAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PWF3YWl0IGhyLnBhZ2VzLnRvQ29sbGVjdGlvbigpLmtleXMoKSxhPShhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+a3IoZS50b1N0cmluZygpKSkpKSkuZmlsdGVyKChlPT4hIWUpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+dXIodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24geXIoe3BhZ2U6ZX0pe2lmKCFocil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHBhZ2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgaHIucGFnZXMucHV0KGUsZS5wYWdlSWQpfWFzeW5jIGZ1bmN0aW9uIGZyKGUpe2lmKCFocil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVsZXRlIHBhZ2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgaHIucGFnZXMuZGVsZXRlKGUpfWFzeW5jIGZ1bmN0aW9uIFNyKHtwYWdlSWQ6ZSxwYWdlOnR9KXtpZighaHIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHVwZGF0ZSBwYWdlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2lmKHZvaWQgMD09PWF3YWl0IGtyKGUpKXRocm93IG5ldyBFcnJvcihcInBhZ2Ugbm90IGZvdW5kXCIpO2F3YWl0IHlyKHtwYWdlOnR9KSxlIT09dC5wYWdlSWQmJmF3YWl0IGZyKGUpfW1yJiZtci52ZXJzaW9uKC4xKS5zdG9yZXMoe1t3cl06XCJcIn0pO2NvbnN0IHZyPWFzeW5jIGU9PntpZighbXIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGFkZCByZW1vdmVkIHRhYiAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PURhdGUubm93KCkudG9TdHJpbmcoKSxhPXsuLi5lLGlkOnR9O2F3YWl0IG1yW3dyXS5wdXQoYSx0KX07ZnVuY3Rpb24gUHIoZSl7cmV0dXJuXCJhcHBcIj09PWUudHlwZXx8XCJ3ZWJzaXRlXCI9PT1lLnR5cGV9Y29uc3QgQ3I9YXN5bmMgZT0+e2lmKFwid2Vic2l0ZVwiPT09ZS50eXBlKXtjb25zdCB0PWUsYT10LnVybHx8XCJcIjtsZXQgbj1hd2FpdCBncltwcl0uZ2V0KGEpO24mJlByKG4pPyhuLmljb249dC5pY29uLG4udGl0bGU9dC50aXRsZSxuLnR5cGU9dC50eXBlLG4udmlzaXRDb3VudD0obi52aXNpdENvdW50fHwwKSsxLG4udXJsPXQudXJsKTpuPXsuLi50LGlkOmEsdmlzaXRDb3VudDoxLGFjY2Vzc1RpbWU6dm9pZCAwfSxuLmFjY2Vzc1RpbWU9RGF0ZS5ub3coKSxhd2FpdCBncltwcl0ucHV0KG4sYSl9fSxNcj1hc3luYygpPT57aWYoIWdyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgZnJlcXVlbnRseSB2aXNpdGVkIHNpdGVzIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IGU9Z3JbcHJdLHQ9YXdhaXQgZS50b0NvbGxlY3Rpb24oKS50b0FycmF5KCk7dC5zb3J0KCgoZSx0KT0+KHQudmlzaXRDb3VudHx8MCktKGUudmlzaXRDb3VudHx8MCkpKTtyZXR1cm4odC5sZW5ndGg+NT90LnNsaWNlKDAsNSk6dCkubWFwKCgoe2lkOmUsLi4udH0pPT50KSl9O2NvbnN0IHhyPWFzeW5jKCk9Pihhd2FpdCBmaW4uU3lzdGVtLmdldEhvc3RTcGVjcygpKS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ3aW5kb3dzXCIpLElyPWFzeW5jIGU9Pntjb25zdHtjdHJsS2V5OnQsbWV0YUtleTphLHNoaWZ0S2V5Om59PWUuc291cmNlRXZlbnQse3VybDpvfT1lLmJvb2ttYXJrLHtzb3VyY2VJZGVudGl0eTpyfT1lLGk9YXdhaXQgeHIoKTtpZighYXdhaXQga2UocikpcmV0dXJuIGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUFhKCksYT1hd2FpdCBMYShlLnVybCxlLnVybCksbj1hd2FpdCBPdChlLnVybCxhKTttZSgoYXdhaXQgdC5Ccm93c2VyLmNyZWF0ZVdpbmRvdyh7d29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOltuXX19KSkuaWRlbnRpdHkpfSkoZS5ib29rbWFyayk7Y29uc3Qgcz1BYSgpLkJyb3dzZXIud3JhcFN5bmMociksYz1hd2FpdCBzLmdldFBhZ2VzKCksbD0oYXdhaXQgcy5fZ2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtpZighbCl0aHJvdyBFcnJvcihgQnJvd3NlciAke3J9IGRvZXMgbm90IGhhdmUgYW55IGFjdGl2ZSBsYXlvdXRzYCk7Y29uc3QgZD1jLmZpbmQoKGU9PmUuaXNBY3RpdmUpKSx1PTE9PT1PYShkLmxheW91dC5jb250ZW50KSxwPWwuc2VsZWN0ZWRWaWV3c1swXTt1P2F3YWl0KGFzeW5jKHtpc1dpbmRvd3M6ZSxjdHJsS2V5OnQsbWV0YUtleTphLGN1cnJlbnRWaWV3SWQ6bixicm93c2VySWRlbnRpdHk6byx1cmw6cixzaGlmdEtleTppLGFjdGl2ZVBhZ2U6cyxwYWdlczpjfSk9PntpZihlP3Q6YSl7Y29uc3QgZT1BYSgpLkJyb3dzZXIud3JhcFN5bmMobyksdD1hd2FpdCBMYShyLHIsbyksYT17Li4uYXdhaXQgT3Qocix0KSxhdHRhY2hlZFBhZ2VUeXBlOlwic2luZ2xlVmlld1wiLHNpbmdsZVZpZXdOYW1lOnJ9LG49Yy5maW5kSW5kZXgoKGU9PmUucGFnZUlkPT09cy5wYWdlSWQpKTthd2FpdCBlLl9hZGRQYWdlKGEse2luZGV4Om4rMX0pLGkmJmUuc2V0QWN0aXZlUGFnZShhLnBhZ2VJZCl9ZWxzZSBmaW4uVmlldy53cmFwU3luYyhuKS5uYXZpZ2F0ZShyKX0pKHtpc1dpbmRvd3M6aSxjdHJsS2V5OnQsbWV0YUtleTphLGN1cnJlbnRWaWV3SWQ6cCxicm93c2VySWRlbnRpdHk6cix1cmw6byxzaGlmdEtleTpuLGFjdGl2ZVBhZ2U6ZCxwYWdlczpjfSk6YXdhaXQoYXN5bmMoe2lzV2luZG93czplLGN0cmxLZXk6dCxtZXRhS2V5OmEsY3VycmVudFZpZXdJZDpuLGJyb3dzZXJJZGVudGl0eTpvLHVybDpyLHNoaWZ0S2V5OmksYWN0aXZlTGF5b3V0OnN9KT0+e2lmKGU/dDphKXtjb25zdCBlPWZpbi5WaWV3LndyYXBTeW5jKG4pLHQ9YXdhaXQgZS5nZXRDdXJyZW50U3RhY2soKSxhPShhd2FpdCB0LmdldFZpZXdzKCkpLmZpbmRJbmRleCgoZT0+ZS5uYW1lPT09bi5uYW1lKSksaT17dXJsOnIsYnJvd3NlcklkZW50aXR5Om8sdGl0bGU6cn07YXdhaXQgdC5hZGRWaWV3KGkse2luZGV4OmErMX0pfWVsc2UgYXdhaXQgZmluLlZpZXcud3JhcFN5bmMocy5zZWxlY3RlZFZpZXdzWzBdKS5uYXZpZ2F0ZShyKX0pKHtpc1dpbmRvd3M6aSxjdHJsS2V5OnQsbWV0YUtleTphLGN1cnJlbnRWaWV3SWQ6cCxicm93c2VySWRlbnRpdHk6cix1cmw6byxzaGlmdEtleTpuLGFjdGl2ZUxheW91dDpsfSl9O3ZhciBBcjshZnVuY3Rpb24oZSl7ZS5MYWJlbD1cIm5vcm1hbFwiLGUuU2VwYXJhdG9yPVwic2VwYXJhdG9yXCIsZS5TdWJtZW51PVwic3VibWVudVwiLGUuQ2hlY2tib3g9XCJjaGVja2JveFwifShBcnx8KEFyPXt9KSk7Y29uc3QgV3I9e3R5cGU6QXIuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSxEcj1hc3luYygpPT4oe3R5cGU6QXIuU3VibWVudSxsYWJlbDpRYShcImNvbnRleHRNZW51LnByaW50XCIpLHN1Ym1lbnU6W3t0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiKSxkYXRhOnt0eXBlOmYuUHJpbnR9fSx7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIiksZGF0YTp7dHlwZTpmLlByaW50QWxsfX0sV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiKSxkYXRhOnt0eXBlOmYuUHJpbnRTY3JlZW59fV19KSxUcj0oKT0+KHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIiksZGF0YTp7dHlwZTpnLkNsb3NlV2luZG93fX0pLFJyPWU9Pih7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShlP1wiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIiksZGF0YTp7dHlwZTpnLlF1aXR9fSksQnI9KCk9Pih7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiKSxkYXRhOnt0eXBlOmcuTmV3V2luZG93fX0pLEVyPWU9Pih7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShlP1wiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIiksZGF0YTp7dHlwZTpnLlNhdmVQYWdlfX0pLEZyPWU9Pih7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShlP1wiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCIpLGRhdGE6e3R5cGU6Zy5TYXZlUGFnZUFzfX0pLFZyPShlLHQpPT4oe3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEodD9cImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcImNvbnRleHRNZW51Lm5ld1BhZ2VcIiksZGF0YTp7dHlwZTpnLk5ld1BhZ2V9LGVuYWJsZWQ6ZX0pLE5yPSgpPT4oe2xhYmVsOlFhKFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCIpfSksTHI9KCk9Pih7bGFiZWw6UWEoXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIil9KSxfcj0oKT0+KHtsYWJlbDpRYShcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIil9KSxPcj0oZSx0LGEpPT50Lm1hcCgodD0+e2NvbnN0IG49dC53b3Jrc3BhY2VJZD09PWUud29ya3NwYWNlSWQ7cmV0dXJue2xhYmVsOnQudGl0bGUsdHlwZTpBci5DaGVja2JveCxlbmFibGVkOiFuLGNoZWNrZWQ6bixkYXRhOnt0eXBlOmEsd29ya3NwYWNlSWQ6dC53b3Jrc3BhY2VJZH19fSkpLFVyPWFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IEFhKCkuVGhlbWUuZ2V0U2VsZWN0ZWRTY2hlbWUoKTtyZXR1cm5be2xhYmVsOlFhKFwidGhlbWUubGlnaHRcIiksdHlwZTpBci5DaGVja2JveCxjaGVja2VkOmU9PT1tLkxpZ2h0LGRhdGE6e3R5cGU6Zy5BcHBlYXJhbmNlLHNjaGVtZTptLkxpZ2h0fX0se2xhYmVsOlFhKFwidGhlbWUuZGFya1wiKSx0eXBlOkFyLkNoZWNrYm94LGNoZWNrZWQ6ZT09PW0uRGFyayxkYXRhOnt0eXBlOmcuQXBwZWFyYW5jZSxzY2hlbWU6bS5EYXJrfX0se2xhYmVsOlFhKFwidGhlbWUuc3lzdGVtXCIpLHR5cGU6QXIuQ2hlY2tib3gsY2hlY2tlZDplPT09bS5TeXN0ZW0sZGF0YTp7dHlwZTpnLkFwcGVhcmFuY2Usc2NoZW1lOm0uU3lzdGVtfX1dfSxHcj1hc3luYyhlLHQ9W10pPT57Y29uc3QgYT1hd2FpdCBTZSgpLHtuZXdQYWdlVXJsOm59PWF3YWl0IHFuKGUpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9cGUoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5kaXNhYmxlTXVsdGlwbGVQYWdlc30pKGUpLHI9YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9cGUoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5pc0xvY2tlZH0pKGUpLGk9YXdhaXQgQWUoZSkscz1bXSxjPXQubGVuZ3RoPjA7biYmKHMucHVzaChCcigpKSxvfHxzLnB1c2goVnIoIXIsaSkpKSxzLnB1c2goV3IpO2NvbnN0IGw9QWEoKSxkPWF3YWl0IGwuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLHU9YXdhaXQgbC5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxwPXUuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PWQud29ya3NwYWNlSWQpKTtzLnB1c2goe3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5yZXN0b3JlXCIpLGRhdGE6e3R5cGU6Zy5SZXN0b3JlQ2hhbmdlc30sZW5hYmxlZDohIXB9KSxzLnB1c2goe3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCIpLGRhdGE6e3R5cGU6Zy5TYXZlV29ya3NwYWNlfSxlbmFibGVkOiEhcH0pLHMucHVzaCh7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiKSxkYXRhOnt0eXBlOmcuU2F2ZVdvcmtzcGFjZUFzfX0pLHMucHVzaCh7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiKSxkYXRhOnt0eXBlOmcuUmVuYW1lV29ya3NwYWNlfSxlbmFibGVkOiEhcH0pLHUuc29tZSgoZT0+ZS53b3Jrc3BhY2VJZCE9PWQud29ya3NwYWNlSWQpKT9zLnB1c2goe2xhYmVsOk5yKCkubGFiZWwsc3VibWVudTpPcihkLHUsZy5Td2l0Y2hXb3Jrc3BhY2UpLGRhdGE6dm9pZCAwfSx7bGFiZWw6THIoKS5sYWJlbCxzdWJtZW51Ok9yKGQsdSxnLkRlbGV0ZVdvcmtzcGFjZSksZGF0YTp2b2lkIDB9KTpzLnB1c2goe2xhYmVsOk5yKCkubGFiZWwsZW5hYmxlZDohMSxkYXRhOnZvaWQgMH0se2xhYmVsOkxyKCkubGFiZWwsZW5hYmxlZDohMSxkYXRhOnZvaWQgMH0pLHMucHVzaCh7bGFiZWw6UWEoXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIiksZGF0YTp7dHlwZTpnLkRvd25sb2Fkc319KTtjb25zdCB3PWF3YWl0IGwuVGhlbWUuZ2V0VGhlbWVzKCk7cmV0dXJuKHdbMF0mJlwicGFsZXR0ZXNcImluIHdbMF18fCF3WzBdfHwwPT09dy5sZW5ndGgpJiZzLnB1c2goe2xhYmVsOl9yKCkubGFiZWwsc3VibWVudTphd2FpdCBVcigpLGRhdGE6dm9pZCAwfSkscy5wdXNoKFdyLEVyKGkpLEZyKGkpLGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHhyKCk7cmV0dXJue2xhYmVsOlFhKFwiY29udGV4dE1lbnUucHJpbnRcIiksc3VibWVudTpbe3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCIpLGRhdGE6e3R5cGU6Zy5QcmludH0sZW5hYmxlZDplfSx7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIiksZGF0YTp7dHlwZTpnLlByaW50QWxsfX0sLi4udD9bV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiKSxkYXRhOnt0eXBlOmcuUHJpbnRTY3JlZW59fV06W11dLGRhdGE6dm9pZCAwfX0pKGMpKSxhP1suLi5zLFRyKCksV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiKSxkYXRhOnt0eXBlOmcuT3BlblN0b3JlZnJvbnR9fSxXcixScigpXTpbLi4ucyxXcixUcigpLFdyLFJyKCldfSxIcj1hc3luYyhlLHQpPT57Y29uc3QgYT10LnNlbGVjdGVkVmlld3NbMF0sbj1maW4uVmlldy53cmFwU3luYyhhKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdHtuZXdUYWJVcmw6dH09YXdhaXQgcW4oZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdUYWJVcmwgc2V0XCIpO3JldHVybnt1cmw6dCx0YXJnZXQ6ZSx0aXRsZTpcIk5ldyBUYWJcIn19KShlKTthd2FpdCBBYSgpLmNyZWF0ZVZpZXcobyxlLG4uaWRlbnRpdHkpfSwkcj1hc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSksbz1hd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldEN1cnJlbnRWaWV3cygpO2lmKHQubGVuZ3RoPT09by5sZW5ndGgtKG4ucGFuZWxzPz9bXSkubGVuZ3RoKXtyZXR1cm4gdm9pZChhd2FpdCBxdChlKSkuZGlzcGF0Y2goZWEuQ2xvc2VQYWdlLHtwYWdlSWQ6bj8ucGFnZUlkfSl9Y29uc3Qgcj1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTt0LmZvckVhY2goKGFzeW5jIHQ9Pntjb25zdCBvPWF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKHQpLmdldFBhcmVudExheW91dCgpO2F3YWl0IHIuY2xvc2VWaWV3KHQpO2NvbnN0e2hhc1Vuc2F2ZWRDaGFuZ2VzOml9PWF3YWl0KGFzeW5jIGU9Pihhd2FpdCB3dCh3ZSkpLmRpc3BhdGNoKGx0LkhhbmRsZVBhZ2VDaGFuZ2VzLGUpKSh7cGFnZTp7Li4ubixsYXlvdXQ6YXdhaXQgby5nZXRDb25maWcoKX0saWRlbnRpdHk6ZSxldmVudERldGFpbHM6e3R5cGU6aC5WaWV3UmVtb3ZlZCx2aWV3SWRlbnRpdHk6dH19KTtpJiZhd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpuLnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMH19KX0pKX0sS3I9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoZT0+UHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLmdldEluZm8oKSkpKSkodCkse25ld1BhZ2VVcmw6bixuZXdUYWJVcmw6b309YXdhaXQgcW4oZSk7YS5mb3JFYWNoKChhc3luYyBlPT57ZS51cmwhPT1uJiZlLnVybCE9PW8mJmF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGUudXJsKX0pKX0senI9KGUsdCk9Pnt0LmZvckVhY2goKGFzeW5jIHQ9Pntjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpO2F3YWl0KGFzeW5jKGUsdCk9Pntjb25zdHt1cmw6YX09YXdhaXQgdC5nZXRJbmZvKCksbj17Li4uYXdhaXQgdC5nZXRPcHRpb25zKCksdXJsOmEsdGFyZ2V0OmUsbmFtZTp2b2lkIDB9O2F3YWl0IEFhKCkuY3JlYXRlVmlldyhuLGUsdC5pZGVudGl0eSl9KShlLGEpfSkpfSxKcj1hc3luYyhlLHQsYSk9Pntjb25zdCBuPXtuZXdDaGFubmVsSWQ6dCxzZWxlY3RlZFZpZXdzOmF9Oyhhd2FpdCBxdChlKSkuZGlzcGF0Y2goZWEuQWRkVG9DaGFubmVsLG4pfSxxcj1hc3luYyhlLHQpPT57KGF3YWl0IHF0KGUpKS5kaXNwYXRjaChlYS5SZW1vdmVGcm9tQ2hhbm5lbCx0KX0sWnI9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHksbj1maW4uV2luZG93LndyYXBTeW5jKGEpO3N3aXRjaChLZSh7dHlwZTpcIlZpZXcgVGFiIE1lbnVcIixhY3Rpb246XCJTZWxlY3QgTWVudSBJdGVtXCIsdmFsdWU6ZS50eXBlLHNraXBWYWx1ZUhhc2hpbmc6ITB9KSxlLnR5cGUpe2Nhc2UgZi5CYWNrOmF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWUubWFwKChlPT5maW4uVmlldy53cmFwU3luYyhlKS5uYXZpZ2F0ZUJhY2soKSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfSkodC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuRm9yd2FyZDphd2FpdChhc3luYyBlPT57Y29uc3QgdD1lLm1hcCgoZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkubmF2aWdhdGVGb3J3YXJkKCkpKTthd2FpdCBQcm9taXNlLmFsbCh0KX0pKHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlByaW50OmF3YWl0IEZvKHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlByaW50QWxsOmF3YWl0IG4ucHJpbnQoe2NvbnRlbnQ6XCJ2aWV3c1wiLGluY2x1ZGVTZWxmOiExfSk7YnJlYWs7Y2FzZSBmLlByaW50U2NyZWVuOmF3YWl0IG4ucHJpbnQoe2NvbnRlbnQ6XCJzY3JlZW5zaG90XCJ9KTticmVhaztjYXNlIGYuQ2xvc2VWaWV3czphd2FpdCAkcihhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI6YXdhaXQgS3IoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5SZWxvYWRWaWV3czp0LnNlbGVjdGVkVmlld3MuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlZpZXcud3JhcFN5bmMoZSk7YXdhaXQgdC5yZWxvYWQoKX0pKTticmVhaztjYXNlIGYuTmV3Vmlldzphd2FpdCBIcihhLHQpO2JyZWFrO2Nhc2UgZi5EdXBsaWNhdGVWaWV3czp6cihhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLkFkZFRvQ2hhbm5lbDpKcihhLGUub3B0aW9uLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlJlbW92ZUZyb21DaGFubmVsOnFyKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBuPXtjYWxsZXJUeXBlOkMuVmlld1RhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsc2VsZWN0ZWRWaWV3czp0LnNlbGVjdGVkVmlld3MsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtBYSgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsbil9fX07bGV0IGpyPVwiUGxhdGZvcm1cIjtjb25zdCBRcj1hc3luYygpPT5qcjtjb25zdCBZcj1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eSxuPWF3YWl0IHF0KGEpLG89QWEoKS5Ccm93c2VyLndyYXBTeW5jKGEpLHI9ZmluLldpbmRvdy53cmFwU3luYyhhKTtpZihLZSh7dHlwZTpcIkdsb2JhbCBNZW51XCIsYWN0aW9uOlwiU2VsZWN0IE1lbnUgSXRlbVwiLHZhbHVlOmUudHlwZSxza2lwVmFsdWVIYXNoaW5nOiEwLGRhdGE6e2FjdGlvbjplLmFjdGlvbj8uaWR9fSksYXdhaXQgQWUoYSkpe2NvbnN0IGE9YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9dC5pZGVudGl0eSxuPUFhKCkuQnJvd3Nlci53cmFwU3luYyhhKSxvPShhd2FpdCBuLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKSxyPUd0KHsuLi5hLGxheW91dE5hbWU6by5sYXlvdXRDb250YWluZXJLZXl9KSxpPXQuc2VsZWN0ZWRWaWV3cztzd2l0Y2goZT8udHlwZSl7Y2FzZSBiLkxvY2s6YXdhaXQgbi51cGRhdGVQYWdlKHtwYWdlSWQ6by5wYWdlSWQscGFnZTp7aXNMb2NrZWQ6IW8uaXNMb2NrZWR9fSk7YnJlYWs7Y2FzZSBiLkFkZFRvQ2hhbmVsOmUub3B0aW9uP2F3YWl0IEpyKGEsZS5vcHRpb24saSk6bnVsbD09PWUub3B0aW9uJiZhd2FpdCBxcihhLGkpO2JyZWFrO2Nhc2UgZy5OZXdXaW5kb3c6e2NvbnN0IGU9YXdhaXQgWm4oYSk7YXdhaXQgQWEoKS5Ccm93c2VyLmNyZWF0ZVdpbmRvdyh7d29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOltlXSx3aW5kb3dUeXBlOlwiZW50ZXJwcmlzZVwifX0pO2JyZWFrfWNhc2UgYi5QaW46e2NvbnN0e2Fsd2F5c09uVG9wOmV9PWF3YWl0IG4ub3BlbmZpbldpbmRvdy5nZXRPcHRpb25zKCk7YXdhaXQgbi5vcGVuZmluV2luZG93LnVwZGF0ZU9wdGlvbnMoe2Fsd2F5c09uVG9wOiFlfSk7YnJlYWt9Y2FzZSBiLlNob3dIaWRlVGFiczphd2FpdCByLmlzU2hvd2luZ1RhYnMoKT9hd2FpdCByLmhpZGUoKTphd2FpdCByLnNob3coKTticmVhaztkZWZhdWx0OnJldHVybiExfXJldHVybiEwfSkoZSx0KTtpZihhKXJldHVybn1zd2l0Y2goZS50eXBlKXtjYXNlIGcuTmV3V2luZG93Ontjb25zdHtuZXdQYWdlVXJsOmV9PWF3YWl0IHFuKGEpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgZW1wdHkgd2luZG93IHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtBYSgpLmNyZWF0ZVZpZXcoe3RhcmdldDp2b2lkIDAsdXJsOmV9KTticmVha31jYXNlIGcuTmV3UGFnZTphd2FpdCBEbyhhKTticmVhaztjYXNlIGcuQ2xvc2VXaW5kb3c6bi5kaXNwYXRjaChlYS5DbG9zZUJyb3dzZXJXaW5kb3cpO2JyZWFrO2Nhc2UgZy5TYXZlV29ya3NwYWNlOmF3YWl0IEFvKGEpO2JyZWFrO2Nhc2UgZy5TYXZlUGFnZTphd2FpdCBUbyhhKTticmVhaztjYXNlIGcuU2F2ZVBhZ2VBczphd2FpdCBSbyhhKTticmVhaztjYXNlIGcuU2F2ZVdvcmtzcGFjZUFzOmF3YWl0IFdvKGEpO2JyZWFrO2Nhc2UgZy5SZW5hbWVXb3Jrc3BhY2U6by5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6eC5SRU5BTUVfV09SS1NQQUNFfSk7YnJlYWs7Y2FzZSBnLlN3aXRjaFdvcmtzcGFjZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLG49KGF3YWl0IGEuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7YS5hcHBseVdvcmtzcGFjZShuLHtza2lwUHJvbXB0OiExLHByb21wdENvbnRhaW5lcldpbmRvd0lkZW50aXR5OmV9KX0pKGEsZSk7YnJlYWs7Y2FzZSBnLkRlbGV0ZVdvcmtzcGFjZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLG49KGF3YWl0IGEuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7biYmYXdhaXQgd28oZSxuLnRpdGxlKSYmKGF3YWl0IGEuU3RvcmFnZS5kZWxldGVXb3Jrc3BhY2UodC53b3Jrc3BhY2VJZCksSm4oUWEoXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIiksZSkpfSkoYSxlKTticmVhaztjYXNlIGcuRG93bmxvYWRzOmF3YWl0IEVvKGEpO2JyZWFrO2Nhc2UgZy5BcHBlYXJhbmNlOmF3YWl0IEFhKCkuVGhlbWUuc2V0U2VsZWN0ZWRTY2hlbWUoZS5zY2hlbWUpO2JyZWFrO2Nhc2UgZy5RdWl0Ontjb25zdCBlPVFyKCk7YXdhaXQgaG8oYSxhd2FpdCBlKSYmZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpfWJyZWFrO2Nhc2UgZy5PcGVuU3RvcmVmcm9udDooYXN5bmMoKT0+e2F3YWl0IFNlKCkmJm1lKGdlKX0pKCk7YnJlYWs7Y2FzZSBnLlJlc3RvcmVDaGFuZ2VzOmF3YWl0IHlvKCk7YnJlYWs7Y2FzZSBnLlByaW50OmF3YWl0IEZvKHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBnLlByaW50QWxsOmF3YWl0IHIucHJpbnQoe2NvbnRlbnQ6XCJ2aWV3c1wiLGluY2x1ZGVTZWxmOiExfSk7YnJlYWs7Y2FzZSBnLlByaW50U2NyZWVuOmF3YWl0IHIucHJpbnQoe2NvbnRlbnQ6XCJzY3JlZW5zaG90XCJ9KTticmVhaztjYXNlIGcuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCB0PXtjYWxsZXJUeXBlOkMuR2xvYmFsQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O0FhKCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCx0KX1lbHNlIGNvbnNvbGUud2FybihgRW5jb3VudGVyZWQgYSBDdXN0b20gY29udGV4dCBtZW51IG9wdGlvbiB3aXRoIGFuIFwiYWN0aW9uXCIgcHJvcGVydHkgd2l0aCB2YWx1ZSBcIiR7ZS5hY3Rpb259XCJgKX19LFhyPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49QWEoKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLG89ZmluLldpbmRvdy53cmFwU3luYyh0LmlkZW50aXR5KSxyPWF3YWl0IHF0KHQuaWRlbnRpdHkpLGk9YXdhaXQgQWUoKTtzd2l0Y2goZSYmS2Uoe3R5cGU6XCJQYWdlIFRhYiBNZW51XCIsYWN0aW9uOlwiU2VsZWN0IE1lbnUgSXRlbVwiLHZhbHVlOmUudHlwZSxza2lwVmFsdWVIYXNoaW5nOiEwfSksZT8udHlwZSl7Y2FzZSBrLlNhdmU6YXdhaXQgVG8odC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBrLlNhdmVBczphd2FpdCBSbyh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGsuTmV3UGFnZTphd2FpdCBEbyh0LmlkZW50aXR5KTticmVhaztjYXNlIGsuRGVsZXRlUGFnZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLG49YS5Ccm93c2VyLndyYXBTeW5jKGUpLG89KGF3YWl0IGEuU3RvcmFnZS5nZXRQYWdlcygpKS5maW5kKChlPT5lLnBhZ2VJZD09PXQpKTtvJiZhd2FpdCBtbyhlLG8udGl0bGUpJiYoYXdhaXQgYS5TdG9yYWdlLmRlbGV0ZVBhZ2Uoby5wYWdlSWQpLGF3YWl0IG4ucmVtb3ZlUGFnZSh0KSxKbihRYShcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiKSxlLFFhKFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiLHt0aXRsZTpvLnRpdGxlfSkpKX0pKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugay5SZW5hbWU6aWYoYXdhaXQgQWUodC5pZGVudGl0eSkpe2F3YWl0IG4uc2V0QWN0aXZlUGFnZSh0LnBhZ2VJZCk7Y29uc3QgZT1hd2FpdCBvcigpO2F3YWl0IGUuZGlzcGF0Y2goXCJvcGVuXCIse3BhcmVudElkZW50aXR5OnQuaWRlbnRpdHksdHlwZTppci5SZW5hbWVTdXBlcnRhYixhbmNob3JCZWhhdmlvcjp0aS5DZW50ZXIseDphLmxlZnQrYS53aWR0aC8yLTE2NCx5OmEuYm90dG9tLTgscGF5bG9hZDp7cGFnZUlkOnQucGFnZUlkfX0pfWVsc2UgYXdhaXQgbi5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6eC5SRU5BTUVfUEFHRSxpZDp0LnBhZ2VJZH0pO2JyZWFrO2Nhc2Ugay5EdXBsaWNhdGU6ci5kaXNwYXRjaChlYS5EdXBsaWNhdGVQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIGsuQ2xvc2U6aT9hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj1hd2FpdCBhLmdldFBhZ2VzKCk7Zm9yKGNvbnN0IG8gb2YgbilpZihvLnBhZ2VJZD09PXQpe2F3YWl0IGEucmVtb3ZlUGFnZShvLnBhZ2VJZCksYXdhaXQgYS5fdHJhY2tSZW1vdmVkVGFiKHtpZGVudGl0eTplLHBhZ2U6b30pO2JyZWFrfX0pKHQuaWRlbnRpdHksdC5wYWdlSWQpOnIuZGlzcGF0Y2goZWEuQ2xvc2VQYWdlLHtwYWdlSWQ6dC5wYWdlSWR9KTticmVhaztjYXNlIGsuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOkMuUGFnZVRhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07QWEoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfWVsc2UgY29uc29sZS53YXJuKGBFbmNvdW50ZXJlZCBhIEN1c3RvbSBjb250ZXh0IG1lbnUgb3B0aW9uIHdpdGggYW4gXCJhY3Rpb25cIiBwcm9wZXJ0eSB3aXRoIHZhbHVlIFwiJHtlLmFjdGlvbn1cImApO2JyZWFrO2Nhc2Ugay5SZWZyZXNoOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCksbj1hLkJyb3dzZXIud3JhcFN5bmMoZSksbz0oYXdhaXQgbi5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSk7bz8ubGF5b3V0Py5jb250ZW50JiZOYShvLmxheW91dC5jb250ZW50KS5mb3JFYWNoKChhc3luYyBlPT57KGF3YWl0IGZpbi5WaWV3LndyYXAoe3V1aWQ6YS5pZGVudGl0eS51dWlkLG5hbWU6ZS5uYW1lfSkpLnJlbG9hZCgpfSkpfSkodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBrLkNsb3NlT3RoZXJzOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPWF3YWl0IGEuZ2V0UGFnZXMoKTtmb3IoY29uc3QgbyBvZiBuKW8ucGFnZUlkIT09dCYmKGF3YWl0IGEucmVtb3ZlUGFnZShvLnBhZ2VJZCksYXdhaXQgYS5fdHJhY2tSZW1vdmVkVGFiKHtpZGVudGl0eTplLHBhZ2U6b30pKX0pKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugay5TYXZlV29ya3NwYWNlQXM6YXdhaXQgV28odC5pZGVudGl0eSk7YnJlYWs7Y2FzZSBrLlByaW50Ontjb25zdCBlPWF3YWl0IG4uX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3cygpLHtzZWxlY3RlZFZpZXdzOmF9PWUuZmluZCgoZT0+ZS5wYWdlSWQ9PT10LnBhZ2VJZCkpO2F3YWl0IEZvKGEpO2JyZWFrfWNhc2Ugay5QcmludEFsbDphd2FpdCBuLnNldEFjdGl2ZVBhZ2UodC5wYWdlSWQpLGF3YWl0IG8ucHJpbnQoe2NvbnRlbnQ6XCJ2aWV3c1wiLGluY2x1ZGVTZWxmOiExfSk7YnJlYWs7Y2FzZSBrLlByaW50U2NyZWVuOmF3YWl0IG4uc2V0QWN0aXZlUGFnZSh0LnBhZ2VJZCksYXdhaXQgby5wcmludCh7Y29udGVudDpcInNjcmVlbnNob3RcIn0pfX0sZWk9YXN5bmMoZSx0KT0+e2lmKGU/LnR5cGUpe2NvbnN0IGE9dC5pZGVudGl0eTtzd2l0Y2goZS50eXBlKXtjYXNlIHYuU2F2ZVBhZ2U6YXdhaXQgVG8oYSk7YnJlYWs7Y2FzZSB2LlNhdmVXb3Jrc3BhY2U6YXdhaXQgQW8oYSk7YnJlYWs7Y2FzZSB2LlNhdmVQYWdlQXM6YXdhaXQgUm8oYSk7YnJlYWs7Y2FzZSB2LlNhdmVXb3Jrc3BhY2VBczphd2FpdCBXbyhhKTticmVhaztjYXNlIHYuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOkMuU2F2ZUJ1dHRvbkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07QWEoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfWVsc2UgY29uc29sZS53YXJuKGBFbmNvdW50ZXJlZCBhIEN1c3RvbSBjb250ZXh0IG1lbnUgb3B0aW9uIHdpdGggYW4gXCJhY3Rpb25cIiBwcm9wZXJ0eSB3aXRoIHZhbHVlIFwiJHtlLmFjdGlvbn1cImApfX19O3ZhciB0aTshZnVuY3Rpb24oZSl7ZVtlLlRvcExlZnQ9MF09XCJUb3BMZWZ0XCIsZVtlLlRvcFJpZ2h0PTFdPVwiVG9wUmlnaHRcIixlW2UuQm90dG9tTGVmdD0yXT1cIkJvdHRvbUxlZnRcIixlW2UuQm90dG9tUmlnaHQ9M109XCJCb3R0b21SaWdodFwiLGVbZS5DZW50ZXI9NF09XCJDZW50ZXJcIn0odGl8fCh0aT17fSkpO2NvbnN0IGFpPWFzeW5jKGUsdCxhLG4pPT57Y29uc3R7eDpvLHk6cixpZGVudGl0eTppLHRlbXBsYXRlOnMsY2FsbGJhY2s6Y309ZSxsPWF3YWl0IEFlKGkpLHtkYXRhOmR9PWw/YXdhaXQoYXN5bmMoZSx0LGEsbik9PntpZighQSl0aHJvdyBuZXcgRXJyb3IoXCJzaG93RW50ZXJwcmlzZUNvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYSBIZXJlIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7aWYoIW4mJiFmaW4ubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwic2hvd0VudGVycHJpc2VDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGEgSGVyZSB3aW5kb3cuXCIpO2NvbnN0IG89ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDp3ZS51dWlkLG5hbWU6ZGUuRW50ZXJwcmlzZUNvbnRleHRNZW51fSk7YXdhaXQgby5pc1Nob3dpbmcoKSYmYXdhaXQgby5ibHVyKCk7Y29uc3Qgcj1hd2FpdCBvcigpLGk9bmV3IFByb21pc2UoKChlLHQpPT57ci5yZWdpc3RlcihcInJlc3BvbnNlXCIsKHQ9PntlKHQpfSkpfSkpLHt4OnMseTpjLHRlbXBsYXRlOmx9PWU7cmV0dXJuIGF3YWl0IHIuZGlzcGF0Y2goXCJvcGVuXCIse3BhcmVudElkZW50aXR5Om4uaWRlbnRpdHkscmVzcG9uc2VJZGVudGl0eTp3ZSx0eXBlOnQsYW5jaG9yQmVoYXZpb3I6YSx4OnMseTpjLHBheWxvYWQ6e3RlbXBsYXRlOmx9fSksaX0pKHt4Om8seTpyLHRlbXBsYXRlOnN9LGEsbixmaW4uV2luZG93LndyYXBTeW5jKGkpKTphd2FpdCBmdW5jdGlvbihlLHQpe2lmKCFBKXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtpZighdCYmIWZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIHdpbmRvdy5cIik7cmV0dXJuKHR8fGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKSkuc2hvd1BvcHVwTWVudShlKX0oe3g6byx5OnIsdGVtcGxhdGU6c30sZmluLldpbmRvdy53cmFwU3luYyhpKSk7YyhkLGUpfTthc3luYyBmdW5jdGlvbiBuaShlLHQpe2NvbnN0IGE9YXdhaXQgQWUoZS5pZGVudGl0eSksbj1hP2F3YWl0KGFzeW5jKHtpZGVudGl0eTplLHNlbGVjdGVkVmlld3M6dH0pPT57Y29uc3QgYT1BYSgpLG49YS5Ccm93c2VyLndyYXBTeW5jKGUpLG89KGF3YWl0IG4uZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpLHI9T2Eoby5sYXlvdXQuY29udGVudCk+MSxpPWF3YWl0IEFlKGUpLHM9YXdhaXQgYS5UaGVtZS5nZXRUaGVtZXMoKSxjPXNbMF0mJlwicGFsZXR0ZXNcImluIHNbMF18fCFzWzBdfHwwPT09cy5sZW5ndGgsbD17Li4uRXIoaSksZW5hYmxlZDpyfSxkPXsuLi5GcihpKSxlbmFibGVkOnJ9O3JldHVybltCcigpLFZyKCEwLGkpLHt0eXBlOkFyLlNlcGFyYXRvcn0sbCxkLHt0eXBlOkFyLlNlcGFyYXRvcn0sLi4uYz9be3R5cGU6QXIuU3VibWVudSxsYWJlbDpfcigpLmxhYmVsLHN1Ym1lbnU6YXdhaXQgVXIoKX1dOltdLHt0eXBlOkFyLlNlcGFyYXRvcn0sVHIoKSx7dHlwZTpBci5TZXBhcmF0b3J9LFJyKCEwKV19KSh7aWRlbnRpdHk6ZS5pZGVudGl0eSxzZWxlY3RlZFZpZXdzOmUuc2VsZWN0ZWRWaWV3c30pOmF3YWl0IEdyKGUuaWRlbnRpdHksZS5zZWxlY3RlZFZpZXdzKSxvPWF3YWl0IFFyKCk7YXx8KG4uZmluZCgoZT0+ZS5kYXRhPy50eXBlPT09Zy5RdWl0KSkubGFiZWw9YFF1aXQgJHtvfWApO2NvbnN0e3JlY3Q6ciwuLi5pfT1lLHt4OnMseTpjfT1hP3t4OnIubGVmdCtyLndpZHRoLHk6ci5ib3R0b219OmUsbD17Li4uaSx4OnMseTpjLHRlbXBsYXRlOm4sY2FsbGJhY2s6WXJ9O2F3YWl0IHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51KGwsdCl9YXN5bmMgZnVuY3Rpb24gb2koZSx0KXtjb25zdCBhPXsuLi5lLGNhbGxiYWNrOlpyfTthd2FpdCB0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUoYSx0KX1hc3luYyBmdW5jdGlvbiByaShlLHQpe2NvbnN0IGE9YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgQWEoKS5TdG9yYWdlLmdldFBhZ2UoZSksbj1hd2FpdCBsbigpLG89YXdhaXQgQWUodCkscj1uLmZpbmQoKHQ9PnQucGFnZUlkPT09ZSkpLGk9T2Eoci5sYXlvdXQuY29udGVudCk+MSx7d29ya3NwYWNlUGxhdGZvcm06c309YXdhaXQgcGUodCkuZ2V0T3B0aW9ucygpLGM9IShzLmlzTG9ja2VkfHxzLnByZXZlbnRQYWdlQ2xvc2V8fHIuY2xvc2VCdXR0b24/LmRpc2FibGVkfHxyLmNsb3NlQnV0dG9uPy5oaWRkZW4pLGw9W3t0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiKSxkYXRhOnt0eXBlOmsuTmV3UGFnZX19LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwicmVsb2FkXCIpLGRhdGE6e3R5cGU6ay5SZWZyZXNofX0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCIpLGRhdGE6e3R5cGU6ay5EdXBsaWNhdGV9LGVuYWJsZWQ6IXMuaXNMb2NrZWR9LGF3YWl0IERyKCksV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoaT9cImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiKSxkYXRhOnt0eXBlOmsuQ2xvc2V9LGVuYWJsZWQ6Y31dLGQ9W3t0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiKSxkYXRhOnt0eXBlOmsuTmV3UGFnZX19LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiKSxkYXRhOnt0eXBlOmsuUmVuYW1lfSxlbmFibGVkOiFzLmlzTG9ja2VkJiYhIWEmJml9LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiKSxkYXRhOnt0eXBlOmsuRHVwbGljYXRlfSxlbmFibGVkOiFzLmlzTG9ja2VkfSxXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIiksZGF0YTp7dHlwZTprLlNhdmV9LGVuYWJsZWQ6aX0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIiksZGF0YTp7dHlwZTprLlNhdmVBc30sZW5hYmxlZDppfSxXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiKSxkYXRhOnt0eXBlOmsuRGVsZXRlUGFnZX0sZW5hYmxlZDohIWF9LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKGk/XCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIiksZGF0YTp7dHlwZTprLkNsb3NlfSxlbmFibGVkOmN9XSx1PVt7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnNhdmVQYWdlXCIpLGRhdGE6e3R5cGU6ay5TYXZlfSxlbmFibGVkOiEwfSx7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcInNhdmVNZW51LnNhdmVQYWdlQXNcIiksZGF0YTp7dHlwZTprLlNhdmVBc30sZW5hYmxlZDohMH0se3R5cGU6QXIuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZSBBc1wiLGRhdGE6e3R5cGU6ay5TYXZlV29ya3NwYWNlQXN9fSx7dHlwZTpBci5MYWJlbCxsYWJlbDpcIlJlZnJlc2hcIixkYXRhOnt0eXBlOmsuUmVmcmVzaH19LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIiksZGF0YTp7dHlwZTprLlJlbmFtZX0sZW5hYmxlZDohIWF9LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiKSxkYXRhOnt0eXBlOmsuRHVwbGljYXRlfSxlbmFibGVkOiFzLmlzTG9ja2VkfSxXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIiksZGF0YTp7dHlwZTprLkNsb3NlfSxlbmFibGVkOmN9XTtyZXR1cm4gbz9pP2Q6bDp1fSkoZS5wYWdlSWQsZS5pZGVudGl0eSksbj17Li4uZSx0ZW1wbGF0ZTphLGNhbGxiYWNrOih0LGEpPT57WHIodCxhLGUucmVjdCl9fTthd2FpdCB0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnUobix0KX1hc3luYyBmdW5jdGlvbiBpaShlLHQpe2NvbnN0IGE9ey4uLmUsdGVtcGxhdGU6YXdhaXQoYXN5bmMoKT0+e2NvbnN0IGU9QWEoKSx0PWF3YWl0IGUuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLGE9KGF3YWl0IGUuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7cmV0dXJuW3t0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiKSxlbmFibGVkOiEhYSxkYXRhOnt0eXBlOnYuU2F2ZVdvcmtzcGFjZX19LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCIpLGRhdGE6e3R5cGU6di5TYXZlV29ya3NwYWNlQXN9fSx7dHlwZTpBci5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIiksZGF0YTp7dHlwZTp2LlNhdmVQYWdlfX0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJzYXZlTWVudS5zYXZlUGFnZUFzXCIpLGRhdGE6e3R5cGU6di5TYXZlUGFnZUFzfX1dfSkoKSxjYWxsYmFjazplaX07YXdhaXQgdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51KGEsdCl9Y29uc3Qgc2k9XCJkb2NrLWNvbXBhbmlvbi11cGRhdGVzXCIsY2k9YXN5bmMoKT0+KGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maW5kKChlPT5lLmlkZW50aXR5Lm5hbWU9PT1kZS5Eb2NrQ29tcGFuaW9uKSksbGk9b3QoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluPy5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWRvY2tgKSxkaT1hc3luYygpPT57Y29uc3QgZT1BYSgpO2xldCB0PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1BcnJheS5mcm9tKFpvLnZhbHVlcygpKTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGVbdF0pO2lmKGF3YWl0IGEuaXNTaG93aW5nKCkpcmV0dXJuIGVbdF19fSgpO2lmKHQpe2NvbnN0IGE9ZS5Ccm93c2VyLndyYXBTeW5jKHQpLG49KGF3YWl0IGEuZ2V0UGFnZXMoKSkuYXQoLTEpLG89TmEobi5sYXlvdXQuY29udGVudCk7aWYoMT09PW8ubGVuZ3RoJiZUZShvWzBdLnVybCkpYXdhaXQgYS5zZXRBY3RpdmVQYWdlKG4ucGFnZUlkKTtlbHNle2NvbnN0IGU9YXdhaXQgWm4odCkse25ld1BhZ2VVcmw6bn09YXdhaXQgcW4oKTthd2FpdCBhLl9hZGREZWZhdWx0UGFnZSh7aWRlbnRpdHk6YS5pZGVudGl0eSxwYWdlOmUsbmV3UGFnZVVybDpufHx2b2lkIDB9KX19ZWxzZXtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLnV1aWQsbmFtZTpkZS5Eb2NrQ29tcGFuaW9ufSksbj1hd2FpdCBQZShhd2FpdCBhLmdldEJvdW5kcygpKSxvPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxhKXtjb25zdCBuPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxvPWE/LmF2YWlsYWJsZVJlY3Q/P24ucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdCxyPXt3aWR0aDpvLnJpZ2h0LW8ubGVmdCxoZWlnaHQ6by5ib3R0b20tby50b3B9LGk9TWF0aC5taW4oZSxyLmhlaWdodCkscz1NYXRoLm1pbih0LHIud2lkdGgpLGM9by50b3ArTWF0aC5mbG9vcigoci5oZWlnaHQtaSkvMik7cmV0dXJue2hlaWdodDppLHdpZHRoOnMsbGVmdDpvLmxlZnQrTWF0aC5mbG9vcigoci53aWR0aC1zKS8yKSx0b3A6Y319KDYwMCw5MDAsbikscj1hd2FpdCBabigpO3Q9KGF3YWl0IGUuQnJvd3Nlci5jcmVhdGVXaW5kb3coe2RlZmF1bHRIZWlnaHQ6NjAwLGRlZmF1bHRXaWR0aDo5MDAsZGVmYXVsdExlZnQ6by5sZWZ0LGRlZmF1bHRUb3A6by50b3Asd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOltyXX19KSkuaWRlbnRpdHl9KGF3YWl0IHF0KHQpKS5kaXNwYXRjaChlYS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKX0sdWk9XCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIixwaT1EJiZBJiZuZXcgc3IuRGV4aWUoY3IoXCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIikpO2FzeW5jIGZ1bmN0aW9uIHdpKGUpe2lmKCFwaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO3RyeXtyZXR1cm4gYXdhaXQgcGlbdWldLmdldChlKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gcmV0cmlldmUgRG9jayBwcm92aWRlciBjb25maWcgZnJvbSBJbmRleGVkREJcIixlKX19YXN5bmMgZnVuY3Rpb24gaGkoZSl7aWYoIXBpKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzYXZlIERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2F3YWl0IHBpW3VpXS5wdXQoZSxlLmlkKX1waSYmcGkudmVyc2lvbiguMSkuc3RvcmVzKHtbdWldOlwiXCJ9KTtjb25zdCBnaT1cIndvcmtzcGFjZXNcIixtaT1EJiZBJiZkcihcIm9wZW5maW4td29ya3NwYWNlLXBsYXRmb3JtLXdvcmtzcGFjZXNcIixnaSk7YXN5bmMgZnVuY3Rpb24ga2koZSl7aWYoIW1pKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgd29ya3NwYWNlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgbWlbZ2ldLmdldChlKTtyZXR1cm4gdCYmKHQud29ya3NwYWNlSWQ9ZS50b1N0cmluZygpLHQudGl0bGU9dC50aXRsZXx8dC53b3Jrc3BhY2VJZCksdH1hc3luYyBmdW5jdGlvbiBiaShlKXtpZighbWkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCB3b3Jrc3BhY2VzIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgbWlbZ2ldLnRvQ29sbGVjdGlvbigpLmtleXMoKSxhPShhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+a2koZS50b1N0cmluZygpKSkpKSkuZmlsdGVyKChlPT4hIWUpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+dXIodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24geWkoe3dvcmtzcGFjZTplfSl7aWYoIW1pKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgd29ya3NwYWNlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9KGF3YWl0IGJpKCkpLmZpbmQoKHQ9PnQudGl0bGU9PT1lLnRpdGxlKSk7aWYodCYmdC53b3Jrc3BhY2VJZCE9PWUud29ya3NwYWNlSWQpdGhyb3cgbmV3IEVycm9yKGBXb3Jrc3BhY2Ugd2l0aCB0aXRsZSAnJHtlLnRpdGxlfScgYWxyZWFkeSBleGlzdHMuYCk7YXdhaXQgbWlbZ2ldLnB1dChlLGUud29ya3NwYWNlSWQpfWFzeW5jIGZ1bmN0aW9uIGZpKGUpe2lmKCFtaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVsZXRlIHdvcmtzcGFjZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTthd2FpdCBtaVtnaV0uZGVsZXRlKGUpfWFzeW5jIGZ1bmN0aW9uIFNpKHt3b3Jrc3BhY2VJZDplLHdvcmtzcGFjZTp0fSl7aWYoIW1pKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byB1cGRhdGUgd29ya3NwYWNlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2lmKCFhd2FpdCBraShlKSl0aHJvdyBuZXcgRXJyb3IoXCJ3b3Jrc3BhY2Ugbm90IGZvdW5kXCIpO2F3YWl0IHlpKHt3b3Jrc3BhY2U6dH0pLGUhPT10LndvcmtzcGFjZUlkJiZhd2FpdCBmaShlKX1jb25zdCB2aT1lPT57Y29uc3QgdD1lLmxheW91dCxhPXQuY29udGVudD9OYSh0LmNvbnRlbnQpOltdLG49YS5sZW5ndGg7cmV0dXJuIG4+MT97Li4uZSxzaW5nbGVWaWV3TmFtZTpudWxsfToxPT09bj97Li4uZSxzaW5nbGVWaWV3TmFtZTphWzBdLm5hbWV9OnZvaWQgMH0sUGk9YXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1hd2FpdCBBYSgpLkJyb3dzZXIuZ2V0QWxsQXR0YWNoZWRQYWdlcygpLG89bmV3IFNldChuLm1hcCgoZT0+ZS50aXRsZSkpLmZpbHRlcigoZT0+ISFlKSkpLHI9bmV3IFNldChuLm1hcCgoZT0+ZS5wYWdlSWQpKS5maWx0ZXIoKGU9PiEhZSkpKSxpPXQ/LmRlZmF1bHRQYWdlT3B0aW9ucyxzPVwiZW50ZXJwcmlzZVwiPT09YT8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGV8fFwiZW50ZXJwcmlzZVwiPT09dD8uZGVmYXVsdFdpbmRvd09wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlLGM9YXdhaXQgZWUoKSxsPWF3YWl0KGFzeW5jKGUsdCxhKT0+e2lmKGEpcmV0dXJuIG5lKCk7Y29uc3Qgbj10Py53b3Jrc3BhY2VQbGF0Zm9ybT8ubmV3VGFiVXJsO2lmKG4pcmV0dXJuIG47Y29uc3Qgbz1lPy5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/Lm5ld1RhYlVybDtyZXR1cm4gb3x8dm9pZCAwfSkodCxhLHMpO3JldHVybiBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+e2lmKFwicmVwYXJlbnRcIj09PWUubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcilyZXR1cm57Li4uZSxsYXlvdXRDb250YWluZXJLZXk6UnQoKX07KChlLHQpPT57ZS5wYWdlSWR8fD1SdCgpLHQuaGFzKGUucGFnZUlkKSYmKGNvbnNvbGUud2FybihcIlBhZ2VJRCBjb2xsaXNpb24gZGV0ZWN0ZWQuIEFsbCBQYWdlIElEcyBzaG91bGQgYmUgdW5pcXVlLiBBIHJhbmRvbSBuZXcgcGFnZUlkIHdpbGwgYmUgZ2VuZXJhdGVkXCIpLGUucGFnZUlkPVJ0KCkpLHQuYWRkKGUucGFnZUlkKX0pKGUscikscz9lLmljb25Vcmw9YCR7Y30vZW50ZXJwcmlzZS9pY29ucy9lbnRlcnByaXNlLXBhZ2Uuc3ZnYDplLnRpdGxlPWNuKGUudGl0bGUsQXJyYXkuZnJvbShvLmtleXMoKSkpLG8uYWRkKGUudGl0bGUpLGUucGFuZWxzPy5yZWR1Y2UoKChlLHQpPT57Y29uc3QgYT1PYmplY3QudmFsdWVzKHcpO2lmKCFhLmluY2x1ZGVzKHQucG9zaXRpb24pKXRocm93IG5ldyBFcnJvcihgRW5jb3VudGVyZWQgYSBwYW5lbCB3aXRoIHVuc3VwcG9ydGVkIHBvc2l0aW9uIFwiJHt0LnBvc2l0aW9ufVwiLiBTdXBwb3J0ZWQgcG9zaXRpb25zIGFyZTogJHthLnRvU3RyaW5nKCl9YCk7aWYoMT09ZVt0LnBvc2l0aW9uXSl0aHJvdyBuZXcgRXJyb3IoYEZvdW5kIG1vcmUgdGhhbiAxIHBhbmVsIGF0IHBvc2l0aW9uOiAke3QucG9zaXRpb259LiBPbmx5IDEgcGFuZWwgYXQgYSBnaXZlbiBwb3NpdGlvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLmApO3JldHVybnsuLi5lLFt0LnBvc2l0aW9uXTplW3QucG9zaXRpb25dKzF9fSkse1t3LkxlZnRdOjAsW3cuUmlnaHRdOjAsW3cuVG9wXTowLFt3LkJvdHRvbV06MH0pO2NvbnN0IGE9XCJwYW5lbHNcImluIGU/ZS5wYW5lbHM6aT8ucGFuZWxzO2xldCBuPShkPWUubGF5b3V0LHU9dD8uZGVmYXVsdFZpZXdPcHRpb25zLFJhKHsuLi5kfSwoZT0+QmEoZSx1KSkpKTt2YXIgZCx1O2wmJiFuPy5zZXR0aW5ncz8ubmV3VGFiQnV0dG9uJiYobj17Li4ubixzZXR0aW5nczp7Li4ubj8uc2V0dGluZ3MsbmV3VGFiQnV0dG9uOnt1cmw6bH19fSk7cmV0dXJuey4uLmksLi4uZSxwYW5lbHM6YSYmYXdhaXQgdG4oYSksbGF5b3V0Q29udGFpbmVyS2V5OlJ0KCksbGF5b3V0Om4saXNMYXlvdXRDcmVhdGVkOiExfX0pKSl9O2FzeW5jIGZ1bmN0aW9uIENpKGUpe3JldHVybiBlP1wiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PVwiOihhd2FpdCBRKCkpLmRpc3BsYXlWaWV3VGFiRGVmYXVsdEljb24/XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiOlwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHN0eWxlJTNEJTIyYmFja2dyb3VuZC1jb2xvciUzQSUyMzdEODA4QSUyMiUyMHdpZHRoJTNEJTIyMTAlMjIlMjBoZWlnaHQlM0QlMjIxMCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDEwJTIwMTAlMjIlMjBmaWxsJTNEJTIybm9uZSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTNFJTNDcGF0aCUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMjBjbGlwLXJ1bGUlM0QlMjJldmVub2RkJTIyJTIwZCUzRCUyMk00LjY0NjQ4JTIwMC44NzQ5NjJDNC44NDE3NCUyMDAuNjc5NyUyMDUuMTU4MzMlMjAwLjY3OTclMjA1LjM1MzU5JTIwMC44NzQ5NjJMOS4xMjQ4MiUyMDQuNjQ2MkM5LjMyMDA5JTIwNC44NDE0NiUyMDkuMzIwMDklMjA1LjE1ODA0JTIwOS4xMjQ4MiUyMDUuMzUzM0w1LjM1MzU5JTIwOS4xMjQ1NEM1LjE1ODMzJTIwOS4zMTk4JTIwNC44NDE3NCUyMDkuMzE5OCUyMDQuNjQ2NDglMjA5LjEyNDU0TDAuODc1MjQ1JTIwNS4zNTMzQzAuNjc5OTgyJTIwNS4xNTgwNCUyMDAuNjc5OTgyJTIwNC44NDE0NiUyMDAuODc1MjQ1JTIwNC42NDYyTDQuNjQ2NDglMjAwLjg3NDk2MlpNNS4wMDAwMyUyMDEuOTM1NjJMMS45MzU5JTIwNC45OTk3NUw1LjAwMDAzJTIwOC4wNjM4OEw4LjA2NDE2JTIwNC45OTk3NUw1LjAwMDAzJTIwMS45MzU2MlolMjIlMjBmaWxsJTNEJTIyd2hpdGUlMjIlMkYlM0UlM0MlMkZzdmclM0VcIn1jb25zdCBNaT17ZGltZW5zaW9uczp7Ym9yZGVyV2lkdGg6MyxoZWFkZXJIZWlnaHQ6MzB9fSx4aT0od2UudXVpZCxkZS5Ccm93c2VyQWRkcmVzc1NlYXJjaFByZWZpeCk7YXN5bmMgZnVuY3Rpb24gSWkoZSx0LGEpe2xldCBuPWU7Y29uc3Qgbz1cImVudGVycHJpc2VcIj09PW4ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGV8fFwiZW50ZXJwcmlzZVwiPT09dD8uZGVmYXVsdFdpbmRvd09wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlO2lmKG4ubGF5b3V0JiYhbi53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lmxlbmd0aCl7Y29uc3QgZT1hd2FpdCBNbigpLGE9ey4uLmF3YWl0IE90KGUsbi5sYXlvdXQpLGlzQWN0aXZlOiEwfTtuLndvcmtzcGFjZVBsYXRmb3JtfHw9e30sbi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcz1hd2FpdCBQaShbYV0sdCxuKX10Py5icm93c2VySWNvblNpemUmJihuLndvcmtzcGFjZVBsYXRmb3JtfHw9e30sbi53b3Jrc3BhY2VQbGF0Zm9ybS5icm93c2VySWNvblNpemU9dC5icm93c2VySWNvblNpemUpO2NvbnN0IHI9YT8udGhlbWVzPy5bMF07aWYobi53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lmxlbmd0aCl7Y29uc3QgZT1hd2FpdCBQaShuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLHQsbiksaT1lLHM9KGU9PntpZighZSlyZXR1cm47bGV0IHQ9ZS5maW5kKChlPT5lLmlzQWN0aXZlKSk7cmV0dXJuIXQmJmUubGVuZ3RoPjAmJihlWzBdLmlzQWN0aXZlPSEwLHQ9ZVswXSksdH0pKGkpO2lmKGkuZm9yRWFjaCgoZT0+e2UucGFnZUlkIT09cz8ucGFnZUlkJiYoZS5pc0FjdGl2ZT0hMSl9KSksYXdhaXQgYW4oaSksbi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcz1lLG49QXQoe30sYXdhaXQoYXN5bmMgZT0+KHtjb250ZXh0TWVudU9wdGlvbnM6e2VuYWJsZWQ6ITF9LGV4cGVyaW1lbnRhbDp7c2hvd0Zhdmljb25zOiEwLGRlZmF1bHRGYXZpY29uVXJsOmF3YWl0IENpKGUpfSx2aWV3VmlzaWJpbGl0eTp7c2hvd1ZpZXdzT25TcGxpdHRlckRyYWc6e2VuYWJsZWQ6ITB9LHNob3dWaWV3c09uV2luZG93UmVzaXplOntlbmFibGVkOiEwfX19KSkobyksdD8uZGVmYXVsdFdpbmRvd09wdGlvbnMsbixhd2FpdChhc3luYyBlPT4oe2JhY2tncm91bmRUaHJvdHRsaW5nOiEwLHVybDphd2FpdCBvZShlLCEwKSxjb250ZXh0TWVudTohMCxjbG9zZU9uTGFzdFZpZXdSZW1vdmVkOiExLHBlcm1pc3Npb25zOntTeXN0ZW06e29wZW5VcmxXaXRoQnJvd3Nlcjp7ZW5hYmxlZDohMCxwcm90b2NvbHM6W1wibWFpbHRvXCJdfX19fSkpKG8pKSxzLmxheW91dD1BdChzLmxheW91dCxNaSksYXN5bmMgZnVuY3Rpb24oZSl7aWYoZS5pY29ufHxlLnRhc2tiYXJJY29uKXtjb25zdCB0PWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLGE9YXdhaXQoYXdhaXQgdC5nZXRXaW5kb3coKSkuZ2V0T3B0aW9ucygpO2UudGFza2Jhckljb25Hcm91cHx8PWEudGFza2Jhckljb25Hcm91cHx8ZmluLm1lLmlkZW50aXR5LnV1aWR9aWYoZS53b3Jrc3BhY2VQbGF0Zm9ybS5pY29uKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlLndvcmtzcGFjZVBsYXRmb3JtLmljb24pe2NvbnN0IHQ9d2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpO2UuaWNvbj10Lm1hdGNoZXM/ZS53b3Jrc3BhY2VQbGF0Zm9ybS5pY29uLmRhcms6ZS53b3Jrc3BhY2VQbGF0Zm9ybS5pY29uLmxpZ2h0fWVsc2UgZS5pY29uPWUud29ya3NwYWNlUGxhdGZvcm0uaWNvbn0obiksIW4uYmFja2dyb3VuZENvbG9yJiZyKWlmKFwicGFsZXR0ZVwiaW4gciluLmJhY2tncm91bmRDb2xvcj1yPy5wYWxldHRlPy5iYWNrZ3JvdW5kMnx8cj8ucGFsZXR0ZT8uYmFja2dyb3VuZFByaW1hcnk7ZWxzZXtjb25zdCBlPWEuc2VsZWN0ZWRTY2hlbWU9PT1tLkRhcmt8fGEuc2VsZWN0ZWRTY2hlbWU9PT1tLlN5c3RlbSYmd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpP3I/LnBhbGV0dGVzLmRhcms6cj8ucGFsZXR0ZXMubGlnaHQ7bi5iYWNrZ3JvdW5kQ29sb3I9ZT8uYmFja2dyb3VuZDJ8fGU/LmJhY2tncm91bmRQcmltYXJ5fW49Q2UobiwhMCk7Y29uc3QgYz1hd2FpdCBvZShvLCEwKTtjJiYobi51cmw9Yyksbi5sYXlvdXQ9cy5sYXlvdXQsbi5sYXlvdXRTbmFwc2hvdD0oKGUsdCk9Pih7bGF5b3V0czplLnJlZHVjZSgoKGUsYSk9PntpZighYS5pc0FjdGl2ZSl7aWYoIXQpcmV0dXJuIGU7aWYoIXZpKGEpLnNpbmdsZVZpZXdOYW1lKXJldHVybiBlfXJldHVybiBlW2EubGF5b3V0Q29udGFpbmVyS2V5XT1hLmxheW91dCxlfSkse30pLHBhZ2VzOmV9KSkobi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcyxvKSxuLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGU9bi53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlPz9QLkJyb3dzZXJ9aWYobi5jb3JuZXJSb3VuZGluZyYmZGVsZXRlIG4uY29ybmVyUm91bmRpbmcsbi5uYW1lfHxuLmxheW91dFNuYXBzaG90P24uY29udGV4dE1lbnVPcHRpb25zPy50ZW1wbGF0ZT8ubGVuZ3RoPjA/bi5jb250ZXh0TWVudU9wdGlvbnMudGVtcGxhdGU9bi5jb250ZXh0TWVudU9wdGlvbnMudGVtcGxhdGUuZmlsdGVyKChlPT5cInByaW50XCIhPT1lKSk6bi5jb250ZXh0TWVudU9wdGlvbnM9e3RlbXBsYXRlOltdLGVuYWJsZWQ6ITF9Om4ubmFtZT1gJHtkZS5DbGFzc2ljV2luZG93fS0ke1J0KCl9YCxuLndvcmtzcGFjZVBsYXRmb3JtJiZhJiYobi53b3Jrc3BhY2VQbGF0Zm9ybS5fdGhlbWVEYXRhPWEpLG8pe2NvbnN0IGU9YXdhaXQgbmUoKTtuLndvcmtzcGFjZVBsYXRmb3JtLm5ld1BhZ2VVcmw9ZSxuLndvcmtzcGFjZVBsYXRmb3JtLm5ld1RhYlVybD1lLG4ubGF5b3V0JiYobi5sYXlvdXQuZGltZW5zaW9ucy5ib3JkZXJXaWR0aD00LG4ubGF5b3V0LmRpbWVuc2lvbnMuaGVhZGVySGVpZ2h0PTI4KSxuLm5hbWU9bi5uYW1lfHxgJHtkZS5Ccm93c2VyV2luZG93fS0ke1J0KCl9YDtjb25zdCB0PXhpK24ubmFtZSxhPWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpO2lmKCEoYXdhaXQgYS5nZXRWaWV3cygpKS5zb21lKChlPT5lLmlkZW50aXR5Lm5hbWU9PT10KSkmJm4ubmFtZS5zdGFydHNXaXRoKGRlLkJyb3dzZXJXaW5kb3cpKXtjb25zdCBlPWF3YWl0IGFlKCkrSy5Ccm93c2VyUG9wdXBNZW51QWRkcmVzc1NlYXJjaFJlc3VsdHNWaWV3Oyhhd2FpdCBmaW4uVmlldy5jcmVhdGUoe25hbWU6dCxjb250ZXh0TWVudU9wdGlvbnM6e2VuYWJsZWQ6ITB9LHVybDplLHRhcmdldDpmaW4ubWUuaWRlbnRpdHksYm91bmRzOnt0b3A6MCxsZWZ0OjAsd2lkdGg6MCxoZWlnaHQ6MH19KSkubmF2aWdhdGUoZSl9fXJldHVybiBufWNvbnN0IEFpPWFzeW5jKGUsdCk9Pntjb25zdCBhPXt1dWlkOnQudXVpZCxuYW1lOnQubmFtZX07YXdhaXQgaG8oYSxlLnRpdGxlPz9hd2FpdCBRcigpLGUuc2hvdWxkQ2VudGVyT25Nb25pdG9yKSYmZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpfSxXaT1lPT57Y29uc3QgdD1lLm5hbWU9PT1kZS5Ib21lLGE9ZS5uYW1lPy5zdGFydHNXaXRoKGRlLkhvbWVJbnRlcm5hbCksbj1lLm5hbWU/LnN0YXJ0c1dpdGgoZGUuQnJvd3Nlck1lbnUpfHxlLm5hbWU/LnN0YXJ0c1dpdGgoZGUuQnJvd3NlclNhdmVNZW51KTtyZXR1cm4hdCYmIWEmJiFufTtjb25zdCBEaT1lPT5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTthc3luYyBmdW5jdGlvbiBUaShlLHQsYSl7Y29uc3Qgbj1lLm1hbmlmZXN0VXJsP2F3YWl0IHQoe21hbmlmZXN0VXJsOmUubWFuaWZlc3RVcmx9LGEpOnZvaWQgMDtpZihuPy5pbnRlcm9wJiZlLmludGVyb3Ape2NvbnN0IHQ9ey4uLmUsLi4ubixpbnRlcm9wOmUuaW50ZXJvcH07cmV0dXJuIGRlbGV0ZSB0Lm1hbmlmZXN0VXJsLHR9cmV0dXJuIGV9Y29uc3QgUmk9ZT0+e2NvbnN0IHQ9RGkoZSk7cmV0dXJuIHQuX2ludGVybmFsV29ya3NwYWNlRGF0YT8uYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zJiYodC53b3Jrc3BhY2VQbGF0Zm9ybT17Li4udC53b3Jrc3BhY2VQbGF0Zm9ybSxicm93c2VyTmF2aWdhdGlvbkJ1dHRvbnM6dC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhLmJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9uc30sZGVsZXRlIHQuX2ludGVybmFsV29ya3NwYWNlRGF0YS5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnMpLHR9LEJpPWU9Pntjb25zdCB0PURpKGUpO3JldHVybiB0LndvcmtzcGFjZVBsYXRmb3JtJiYodC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPXsuLi50Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGEsLi4udC53b3Jrc3BhY2VQbGF0Zm9ybX0sZGVsZXRlIHQud29ya3NwYWNlUGxhdGZvcm0pLHR9LEVpPXtyZWxvYWQ6W3trZXlzOlwiQ3RybCtSXCIscHJldmVudERlZmF1bHQ6ITB9XSxiYWNrOlt7a2V5czpcIkFsdCtMZWZ0XCIscHJldmVudERlZmF1bHQ6ITB9XSxmb3J3YXJkOlt7a2V5czpcIkFsdCtSaWdodFwiLHByZXZlbnREZWZhdWx0OiEwfV19LEZpPXtyZWxvYWQ6W3trZXlzOlwiQ21kK1JcIixwcmV2ZW50RGVmYXVsdDohMH1dLGJhY2s6W3trZXlzOlwiQ21kK1tcIixwcmV2ZW50RGVmYXVsdDohMH0se2tleXM6XCJDbWQrTGVmdFwiLHByZXZlbnREZWZhdWx0OiEwfV0sZm9yd2FyZDpbe2tleXM6XCJDbWQrXVwiLHByZXZlbnREZWZhdWx0OiEwfSx7a2V5czpcIkNtZCtSaWdodFwiLHByZXZlbnREZWZhdWx0OiEwfV19LFZpPWFzeW5jKCk9PmF3YWl0IHhyKCk/RWk6RmksTmk9KGUsdCk9Pntjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKGUpO2lmKCF0KXJldHVybjtjb25zdCBuPWU9PnsoYXN5bmMoZSx0LGEpPT57aWYoXCJrZXlEb3duXCIhPT1hLmlucHV0VHlwZSlyZXR1cm47Y29uc3Qgbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmdldEN1cnJlbnRXaW5kb3coKSxhPWF3YWl0IHQuZ2V0T3B0aW9ucygpLG49YS53b3Jrc3BhY2VQbGF0Zm9ybT8ubmF2aWdhdGlvbkJ1dHRvbnM7cmV0dXJuIG4uZW5hYmxlZCYmIW4uaG90a2V5c0Rpc2FibGVkfSkoZSksbz1hd2FpdCB4cigpO2lmKG4pe2lmKHQucmVsb2FkKXtjb25zdCBuPWEuY3RybEtleSYmIWEuYWx0S2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJyXCI9PT1hLmtleSxyPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJyXCI9PT1hLmtleTsobz9uOnIpJiZ0Py5yZWxvYWQmJihlLnJlbG9hZCgpLEtlKHt0eXBlOlwiVmlld1wiLGFjdGlvbjpcIlJlbG9hZFwiLHZhbHVlOmUuaWRlbnRpdHkubmFtZX0pKX1pZih0LmJhY2spe2NvbnN0IG49IWEuY3RybEtleSYmYS5hbHRLZXkmJiFhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIkFycm93TGVmdFwiPT09YS5rZXkscj0hYS5jdHJsS2V5JiYhYS5hbHRLZXkmJmEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiQXJyb3dMZWZ0XCI9PT1hLmtleSxpPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJbXCI9PT1hLmtleTsobz9uOnJ8fGkpJiZ0Py5iYWNrJiYoZS5uYXZpZ2F0ZUJhY2soKSxLZSh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJCYWNrXCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lfSkpfWlmKHQuZm9yd2FyZCl7Y29uc3Qgbj0hYS5jdHJsS2V5JiZhLmFsdEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiQXJyb3dSaWdodFwiPT09YS5rZXkscj0hYS5jdHJsS2V5JiYhYS5hbHRLZXkmJmEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiQXJyb3dSaWdodFwiPT09YS5rZXksaT0hYS5jdHJsS2V5JiYhYS5hbHRLZXkmJmEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiXVwiPT09YS5rZXk7KG8/bjpyfHxpKSYmdD8uZm9yd2FyZCYmKGUubmF2aWdhdGVGb3J3YXJkKCksS2Uoe3R5cGU6XCJWaWV3XCIsYWN0aW9uOlwiRm9yd2FyZFwiLHZhbHVlOmUuaWRlbnRpdHkubmFtZX0pKX19fSkoYSx0LGUpfTthLmFkZExpc3RlbmVyKFwiaG90a2V5XCIsbiksYS5vbmNlKFwiZGVzdHJveWVkXCIsKCgpPT57YS5yZW1vdmVMaXN0ZW5lcihcImhvdGtleVwiLG4pfSkpfSxMaT0oZSx0KT0+RGkoZSkubWFwKChlPT4oXCJjb21wb25lbnRTdGF0ZVwiaW4gZT9lLmNvbXBvbmVudFN0YXRlPXQoZS5jb21wb25lbnRTdGF0ZSk6XCJjb250ZW50XCJpbiBlJiYoZS5jb250ZW50PUxpKGUuY29udGVudCx0KSksZSkpKSxfaT1lPT57aWYoZSl7Y29uc3QgdD1EaShlKTtyZXR1cm4gdC5jb250ZW50JiYodC5jb250ZW50PUxpKHQuY29udGVudCxSaSkpLHR9cmV0dXJuIGV9LE9pPWU9PntpZihlKXtjb25zdCB0PURpKGUpO3JldHVybiB0LmNvbnRlbnQmJih0LmNvbnRlbnQ9TGkodC5jb250ZW50LEJpKSksdH1yZXR1cm4gZX07YXN5bmMgZnVuY3Rpb24gVWkoe2FwcDplLHRhcmdldDp0fSl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtzd2l0Y2goZS5tYW5pZmVzdFR5cGUpe2Nhc2UgYy5TbmFwc2hvdDpyZXR1cm4gYS5hcHBseVNuYXBzaG90KGUubWFuaWZlc3QpO2Nhc2UgYy5WaWV3OnJldHVybiBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoXCJ2aWV3XCI9PT10LmVudGl0eVR5cGUpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCksbj1hd2FpdCBhLmdldFBhcmVudExheW91dCgpO3JldHVybiBhd2FpdCBuLnJlcGxhY2VWaWV3KHQse21hbmlmZXN0VXJsOmUubWFuaWZlc3QsdXJsOnZvaWQgMCx0YXJnZXQ6dm9pZCAwfSksYS5kZXN0cm95KCl9cmV0dXJuIGEuY3JlYXRlVmlldyh7bmFtZTp2b2lkIDAsdXJsOnZvaWQgMCxtYW5pZmVzdFVybDplLm1hbmlmZXN0LHRhcmdldDp2b2lkIDB9KX0oZSx0KTtjYXNlIGMuRXh0ZXJuYWw6cmV0dXJuIGZpbi5TeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzKHtwYXRoOmUubWFuaWZlc3QsdXVpZDplLmFwcElkfSk7ZGVmYXVsdDpyZXR1cm4gZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGUubWFuaWZlc3QpfX1sZXQgR2k7Y29uc3QgSGk9KCk9PntpZighR2kpe2NvbnN0IGU9b3QoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluLm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtYXBwLWRpcmVjdG9yeWApO0dpPWUoKX1yZXR1cm4gR2l9O2FzeW5jIGZ1bmN0aW9uICRpKGUpe2lmKCFhd2FpdCBBZShlLmlkZW50aXR5KSlyZXR1cm5bXTtyZXR1cm4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goUXQuR2V0QXBwcyxlLnJlcSl9YXN5bmMgZnVuY3Rpb24gS2koZSl7aWYoIWF3YWl0IEFlKGUuaWRlbnRpdHkpKXJldHVybltdO3JldHVybihhd2FpdCBIaSgpKS5kaXNwYXRjaChRdC5HZXRTZWFyY2hQcm92aWRlcnMsZSl9YXN5bmMgZnVuY3Rpb24gemkoZSl7cmV0dXJuKGF3YWl0IEhpKCkpLmRpc3BhdGNoKFF0LkdldEN1cmF0ZWRDb250ZW50LGUpfWFzeW5jIGZ1bmN0aW9uIEppKGUpe3JldHVybihhd2FpdCBIaSgpKS5kaXNwYXRjaChRdC5HZXRSZWNlbnRseVZpc2l0ZWQsZSl9YXN5bmMgZnVuY3Rpb24gcWkoZSl7Y29uc3QgdD0oYXdhaXQgYmUoKSkubWFwKChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmdldE9wdGlvbnMoKTt0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcyYmdC5sYXlvdXQmJmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBxdChlKSkuZGlzcGF0Y2goZWEuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zKSkoZS5pZGVudGl0eSl9KSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQpLGU/ZSgpOkx0KCl9bGV0IFppPVtdO2NvbnN0IGppPSgpPT5aaTthc3luYyBmdW5jdGlvbiBRaShlKXtjb25zdCB0PWU9PntpZighZS5pbmNsdWRlcyhcIiNcIikmJiFlLmluY2x1ZGVzKFwicmdiXCIpJiYhZS5pbmNsdWRlcyhcImhzbFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIHByaW1hcnkgY29sb3IgaXMgbm90IHRoZSByaWdodCBmb3JtYXQuXCIpfTtlLmZvckVhY2goKGU9PntcInBhbGV0dGVcImluIGUmJnQoZS5wYWxldHRlLmJhY2tncm91bmRQcmltYXJ5KSxcInBhbGV0dGVzXCJpbiBlJiYodChlLnBhbGV0dGVzLmRhcmsuYmFja2dyb3VuZFByaW1hcnkpLHQoZS5wYWxldHRlcy5saWdodC5iYWNrZ3JvdW5kUHJpbWFyeSkpfSkpLChlPT57Y29uc3QgdD1lWzBdO2lmKFwicGFsZXR0ZVwiaW4gdCl7Y29uc3R7cGFsZXR0ZTplfT10O3dhLnNldFBhbGV0dGVzKHtkYXJrOmUsbGlnaHQ6ZX0pfWlmKFwicGFsZXR0ZXNcImluIHQpe2NvbnN0e2Rhcms6ZSxsaWdodDphfT10LnBhbGV0dGVzO3dhLnNldFBhbGV0dGVzKHtkYXJrOmUsbGlnaHQ6YX0pfX0pKGUpLFppPWV9Y29uc3QgWWk9KGUsdCk9PmE9Pntjb25zdCBuPW51bGwhPT1lO3JldHVybiBjbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaXNXb3Jrc3BhY2VQbGF0Zm9ybT0oKT0+KHtpc1dvcmtzcGFjZVBsYXRmb3JtOiEwLGlzQnJvd3NlckluaXRpYWxpemVkOiEhZSxhbmFseXRpY3M6e2lzU3VwcG9ydGVkOiEwfX0pLHRoaXMuZGV0YWNoUGFnZXNGcm9tV2luZG93PXluLHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcz1sbix0aGlzLmdldFBhZ2VzRm9yV2luZG93PVNuLHRoaXMuZ2V0UGFnZUZvcldpbmRvdz12bix0aGlzLm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWw9Um4sdGhpcy5sYXVuY2hBcHA9VWksdGhpcy5zYXZlUGFnZT1tbix0aGlzLnNhdmVXb3Jrc3BhY2U9Q28sdGhpcy5jcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD13bix0aGlzLnVwZGF0ZVNhdmVkUGFnZUludGVybmFsPWduLHRoaXMuZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9aG4sdGhpcy5yZW9yZGVyUGFnZXNGb3JXaW5kb3c9UG4sdGhpcy5nZXRVbmlxdWVQYWdlVGl0bGU9TW4sdGhpcy51cGRhdGVQYWdlRm9yV2luZG93PWJuLHRoaXMuZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PWpvLHRoaXMuZ2V0VGhlbWVzPWppLHRoaXMuaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9dHIsdGhpcy5yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9QWksdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXZvLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPWZvLHRoaXMuZ2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbD1Vbyx0aGlzLmdldFBhZ2VCeVZpZXdJZGVudGl0eT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uUGxhdGZvcm0uTGF5b3V0LmdldExheW91dEJ5Vmlld0lkZW50aXR5KGUpLGE9dC5pZGVudGl0eTtpZighKFwibGF5b3V0TmFtZVwiaW4gYSkpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdldCBsYXlvdXQncyBpZGVudGl0eVwiKTtjb25zdCBuPWF3YWl0IEFhKCkuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KS5nZXRQYWdlcygpLG89bi5maW5kSW5kZXgoKGU9PmUubGF5b3V0TmFtZT09PWEubGF5b3V0TmFtZSkpO2lmKC0xPT09byl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHBhZ2UncyBpbmRleFwiKTtyZXR1cm57d2luZG93SWRlbnRpdHk6e25hbWU6dC5pZGVudGl0eS5uYW1lLHV1aWQ6dC5pZGVudGl0eS51dWlkfSxwYWdlOm5bb10scGFnZUluZGV4Om99fSx0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudT10aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlcz10aGlzLmdldFNhdmVkUGFnZXMuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkUGFnZT10aGlzLmdldFNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuY3JlYXRlU2F2ZWRQYWdlPXRoaXMuY3JlYXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFBhZ2U9dGhpcy51cGRhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmRlbGV0ZVNhdmVkUGFnZT10aGlzLmRlbGV0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlUGFnZUNoYW5nZXM9dGhpcy5oYW5kbGVQYWdlQ2hhbmdlcy5iaW5kKHRoaXMpLHRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdz10aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3cuYmluZCh0aGlzKSx0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudT10aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudT10aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkV29ya3NwYWNlcz10aGlzLmdldFNhdmVkV29ya3NwYWNlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2U9dGhpcy5nZXRTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuY3JlYXRlU2F2ZWRXb3Jrc3BhY2U9dGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlU2F2ZWRXb3Jrc3BhY2U9dGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRXb3Jrc3BhY2U9dGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZT10aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmdldERvY2tQcm92aWRlckNvbmZpZz10aGlzLmdldERvY2tQcm92aWRlckNvbmZpZy5iaW5kKHRoaXMpLHRoaXMuc2F2ZURvY2tQcm92aWRlckNvbmZpZz10aGlzLnNhdmVEb2NrUHJvdmlkZXJDb25maWcuYmluZCh0aGlzKSx0aGlzLmFwcGx5V29ya3NwYWNlPXRoaXMuYXBwbHlXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLnJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbD10aGlzLnJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXRoaXMuc2V0QWN0aXZlV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRTZWxlY3RlZFNjaGVtZT10aGlzLmdldFNlbGVjdGVkU2NoZW1lLmJpbmQodGhpcyksdGhpcy5zZXRTZWxlY3RlZFNjaGVtZT10aGlzLnNldFNlbGVjdGVkU2NoZW1lLmJpbmQodGhpcyksdGhpcy5hbmFseXRpY3NJbnRlcm5hbD10aGlzLmFuYWx5dGljc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5oYW5kbGVBbmFseXRpY3M9dGhpcy5oYW5kbGVBbmFseXRpY3MuYmluZCh0aGlzKSx0aGlzLmdldExhbmd1YWdlPXRoaXMuZ2V0TGFuZ3VhZ2UuYmluZCh0aGlzKSx0aGlzLnNldExhbmd1YWdlPXRoaXMuc2V0TGFuZ3VhZ2UuYmluZCh0aGlzKSx0aGlzLmhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlPXRoaXMuaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2UuYmluZCh0aGlzKSx0aGlzLnNob3VsZFBhZ2VDbG9zZT10aGlzLnNob3VsZFBhZ2VDbG9zZS5iaW5kKHRoaXMpLHRoaXMuc2hvdWxkV2luZG93Q2xvc2U9dGhpcy5zaG91bGRXaW5kb3dDbG9zZS5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZT10aGlzLmhhbmRsZVBhZ2VzQW5kV2luZG93Q2xvc2UuYmluZCh0aGlzKSx0aGlzLnNldEFjdGl2ZVBhZ2U9dGhpcy5zZXRBY3RpdmVQYWdlLmJpbmQodGhpcyksdGhpcy5oYW5kbGVQYWdlQ2hhbmdlcz10aGlzLmhhbmRsZVBhZ2VDaGFuZ2VzLmJpbmQodGhpcyksdGhpcy5jb3B5UGFnZT10aGlzLmNvcHlQYWdlLmJpbmQodGhpcyksdGhpcy5hZGRQYWdlPXRoaXMuYWRkUGFnZS5iaW5kKHRoaXMpLHRoaXMuYWRkRGVmYXVsdFBhZ2U9dGhpcy5hZGREZWZhdWx0UGFnZS5iaW5kKHRoaXMpLHRoaXMubWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD10aGlzLm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnRyYWNrUmVtb3ZlZFRhYkludGVybmFsPXRoaXMudHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWw9dGhpcy5yZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsLmJpbmQodGhpcyksdGhpcy50cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWw9dGhpcy50cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9dGhpcy5nZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9dGhpcy5nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnNlYXJjaFNpdGVzSW50ZXJuYWw9dGhpcy5zZWFyY2hTaXRlc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbD10aGlzLmdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRDdXJhdGVkQ29udGVudEludGVybmFsPXRoaXMuZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbD10aGlzLmhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD10aGlzLnJlZnJlc2hCb29rbWFya3NJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMubGF1bmNoQm9va21hcmtJbnRlcm5hbD10aGlzLmxhdW5jaEJvb2ttYXJrSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldE5vdGlmaWNhdGlvbnNDb25maWc9dGhpcy5nZXROb3RpZmljYXRpb25zQ29uZmlnLmJpbmQodGhpcyksdGhpcy51cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw9dGhpcy51cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw9dGhpcy51cGRhdGVDb250ZW50TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5sYXVuY2hEb2NrRW50cnlJbnRlcm5hbD10aGlzLmxhdW5jaERvY2tFbnRyeUludGVybmFsLmJpbmQodGhpcyksdGhpcy5zZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbD10aGlzLnNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsLmJpbmQodGhpcyksdGhpcy5uYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw9dGhpcy5uYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw9dGhpcy5zZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5nZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw9dGhpcy5oYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5yZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbD10aGlzLnJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5hZGREb2NrRmF2b3JpdGVJbnRlcm5hbD10aGlzLmFkZERvY2tGYXZvcml0ZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPXRoaXMuZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbC5iaW5kKHRoaXMpfWFzeW5jIGFwcGx5V29ya3NwYWNlKC4uLmUpe3JldHVybiBiby5hcHBseSh0aGlzLGUpfWFzeW5jIHJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbCguLi5lKXtyZXR1cm4geW8uYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTbmFwc2hvdCgpe2NvbnN0IGU9bj9hd2FpdCBxaSgoYXN5bmMoKT0+THQoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpKSk6YXdhaXQgTHQoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpO2xldCB0PXsuLi5lLHdpbmRvd3M6ZS53aW5kb3dzLmZpbHRlcihXaSkubWFwKE50KX07cmV0dXJuIHQ9KGU9Pntjb25zdCB0PURpKGUpO3JldHVybiB0LndpbmRvd3MuZm9yRWFjaCgoZT0+e2UubGF5b3V0JiYoZS5sYXlvdXQ9X2koZS5sYXlvdXQpKSxlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8uZm9yRWFjaCgoZT0+e2U/LmxheW91dCYmKGUubGF5b3V0PV9pKGUubGF5b3V0KSl9KSl9KSksdH0pKHQpLHR9YXN5bmMgZ2V0Vmlld1NuYXBzaG90KGUpe2xldCB0PWF3YWl0IHN1cGVyLmdldFZpZXdTbmFwc2hvdChlKTtyZXR1cm4gdD1SaSh0KSx0fWFzeW5jIGFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp0fSl7bGV0IGE9ZTtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9YXdhaXQgc3VwZXIuZmV0Y2hNYW5pZmVzdCh7bWFuaWZlc3RVcmw6YX0sZmluLm1lLmlkZW50aXR5KSk7Y29uc3Qgbz1mdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlLndpbmRvd3MpaWYodC53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hMX0oYSk7aWYoIW4mJm8pdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzbmFwc2hvdCBjYW5ub3QgYmUgYXBwbGllZCBhcyB0aGUgcGxhdGZvcm0gaGFzIGJlZW4gaW5pdGlhbGl6ZWQgd2l0aG91dCB0aGUgYnJvd3Nlci5cIik7cmV0dXJuIGE9KGU9Pntjb25zdCB0PURpKGUpO3JldHVybiB0LndpbmRvd3MuZm9yRWFjaCgoZT0+e2UubGF5b3V0PU9pKGUubGF5b3V0KSxlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8uZm9yRWFjaCgoZT0+e2UubGF5b3V0PU9pKGUubGF5b3V0KX0pKX0pKSx0fSkoYSksc3VwZXIuYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6YSxvcHRpb25zOnR9KX1hc3luYyBjcmVhdGVXaW5kb3codCxhKXtpZihuJiZcInRlYXJvdXRcIj09PXQucmVhc29uKXtjb25zdCBlPWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoYSkuZ2V0T3B0aW9ucygpLG49ZS53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZTt0LnRhc2tiYXJJY29uR3JvdXA9ZS50YXNrYmFySWNvbkdyb3VwLG4mJih0LndvcmtzcGFjZVBsYXRmb3JtfHw9e30sdC53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlPWUud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZSxuPT09UC5QbGF0Zm9ybSYmKHQudXJsPWUudXJsKSl9aWYoIW58fHQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU9PT1QLlBsYXRmb3JtKXtjb25zdCBlPWF3YWl0IHN1cGVyLmNyZWF0ZVdpbmRvdyh0LGEpO3JldHVybiBLZSh7dHlwZTpcIldpbmRvd1wiLGFjdGlvbjpcIk9wZW4gV2luZG93XCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lLGRhdGE6e3V1aWQ6ZS5pZGVudGl0eS51dWlkfX0pLGV9dmFyIG87bz17YWxsb3dlZDohMH0sVWV8fChVZT0hMCxPZShfZS5Ccm93c2VyLG8pKSwoKGU9W10pPT57Y29uc3QgdD1lLmZpbHRlcigoZT0+ZS50eXBlIT09Uy5DdXN0b20pKSxhPW5ldyBTZXQsbj1bXTtmb3IoY29uc3QgZSBvZiB0KWEuaGFzKGUudHlwZSkmJm4ucHVzaChlLnR5cGUpLGEuYWRkKGUudHlwZSk7aWYobi5sZW5ndGg+MCl7Y29uc3QgZT1uLmpvaW4oXCIsIFwiKTt0aHJvdyBuZXcgRXJyb3IoYEVuY291bnRlcmVkIGEgZHVwbGljYXRlIFwiJHtlfVwiIHRvb2xiYXIgYnV0dG9uLiBObyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIG9mIGEgYnV0dG9uIHR5cGUgbWF5IGJlIHByb3ZpZGVkLmApfX0pKHQud29ya3NwYWNlUGxhdGZvcm0/LnRvb2xiYXJPcHRpb25zPy5idXR0b25zKTtsZXQgcj0oZT0+XCJ3b3Jrc3BhY2VQbGF0Zm9ybVwiaW4gZT9lOigoe3dvcmtzdGFja3M6ZSxwYWdlczp0LC4uLmF9KT0+KHsuLi5hLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczp0fHxlfHxudWxsfX0pKShlKSkodCk7ZT8uZGVmYXVsdFdpbmRvd09wdGlvbnM/LmhvdGtleXMmJihyLmhvdGtleXM9ZS5kZWZhdWx0V2luZG93T3B0aW9ucy5ob3RrZXlzKSxyPWF3YWl0IElpKHIsZSx7dGhlbWVzOmppKCksc2VsZWN0ZWRTY2hlbWU6dGhpcy5nZXRTZWxlY3RlZFNjaGVtZSgpfSkscj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCk7bGV0IGE9dC5wcmltYXJ5TW9uaXRvcjtjb25zdCBuPWUuZGVmYXVsdExlZnQsbz1lLmRlZmF1bHRUb3A7dC5ub25QcmltYXJ5TW9uaXRvcnMuZm9yRWFjaCgoZT0+e2NvbnN0e3RvcDp0LGJvdHRvbTpyLGxlZnQ6aSxyaWdodDpzfT1lLmF2YWlsYWJsZVJlY3Q7bj49aSYmbjw9cyYmbz49dCYmbzw9ciYmKGE9ZSl9KSk7Y29uc3Qgcj1hLmF2YWlsYWJsZVJlY3QuYm90dG9tLWEuYXZhaWxhYmxlUmVjdC50b3AsaT1hLmF2YWlsYWJsZVJlY3QucmlnaHQtYS5hdmFpbGFibGVSZWN0LmxlZnQ7cmV0dXJuIGUuZGVmYXVsdEhlaWdodD1NYXRoLm1pbihlLmRlZmF1bHRIZWlnaHR8fDgwMCxyKSxlLmRlZmF1bHRXaWR0aD1NYXRoLm1pbihlLmRlZmF1bHRXaWR0aHx8ODAwLGkpLGV9KShyKTtjb25zdCBpPWF3YWl0KGU9PmFzeW5jKHQsYSk9PntsZXQgbj0hMTtjb25zdCBvPWF3YWl0IGUodCxhKTtyZXR1cm4gdD8ud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM/LmRlZmVyU2hvd0VuYWJsZWQ/KGF3YWl0IG8uYWRkTGlzdGVuZXIoXCJzaG93LXJlcXVlc3RlZFwiLChhc3luYygpPT57aWYobilyZXR1cm47Y29uc3QgZT1hd2FpdCBvLmdldE9wdGlvbnMoKTthd2FpdCBvLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnsuLi5lLndvcmtzcGFjZVBsYXRmb3JtLF9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM6ey4uLmUud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucyxhdXRvU2hvdzohMH19fSksbj0hMH0pKSxvKTpvfSkoKChlLHQpPT5zdXBlci5jcmVhdGVXaW5kb3coZSx0KSkpKHIsYSk7cmV0dXJuIEtlKHt0eXBlOlwiV2luZG93XCIsYWN0aW9uOlwiT3BlbiBXaW5kb3dcIix2YWx1ZTppLmlkZW50aXR5Lm5hbWUsZGF0YTp7dXVpZDppLmlkZW50aXR5LnV1aWR9fSksaX1hc3luYyBjcmVhdGVWaWV3KHQsYSl7dC5vcHRzPURhKHQub3B0cyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLGU/LmRlZmF1bHRWaWV3T3B0aW9ucz8uaG90a2V5cyYmKHQub3B0cy5ob3RrZXlzPWUuZGVmYXVsdFZpZXdPcHRpb25zLmhvdGtleXMpLHQub3B0cz1hd2FpdCBUaSh0Lm9wdHMsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHQub3B0cz1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1EaShlKSxhPXQud29ya3NwYWNlUGxhdGZvcm0/LmJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9ucztpZihhKXtjb25zdCBlPU9iamVjdC5rZXlzKGEpO2Zvcihjb25zdCBuIG9mIGUpaWYoYVtuXSl7Y29uc3QgZT0oYXdhaXQgVmkoKSlbbl07dC5ob3RrZXlzP3QuaG90a2V5cy5wdXNoKC4uLmUpOnQuaG90a2V5cz1bLi4uZV19fXJldHVybiB0fSkodC5vcHRzKSx0Lm9wdHM9QmkodC5vcHRzKTtjb25zdCBuPWF3YWl0IHN1cGVyLmNyZWF0ZVZpZXcodCxhKTtyZXR1cm4gTmkobi5pZGVudGl0eSx0Lm9wdHMuX2ludGVybmFsV29ya3NwYWNlRGF0YT8uYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zKSxufWFzeW5jIHJlcGxhY2VWaWV3KHQsYSl7cmV0dXJuIHQub3B0cy5uZXdWaWV3PWF3YWl0IERhKHQub3B0cy5uZXdWaWV3LGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzLm5ld1ZpZXc9YXdhaXQgVGkodC5vcHRzLm5ld1ZpZXcsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLnJlcGxhY2VWaWV3KHQsYSl9YXN5bmMgcmVwbGFjZUxheW91dChlLHQpe3JldHVybiBhd2FpdCBBZSh0KXx8ZGVsZXRlIGUub3B0cy5sYXlvdXQ/LmRpbWVuc2lvbnMsc3VwZXIucmVwbGFjZUxheW91dChlLHQpfWFzeW5jIGdldFNhdmVkUGFnZSguLi5lKXtyZXR1cm4ga3IuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFBhZ2VzKC4uLmUpe3JldHVybiBici5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4geXIuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIGZyLmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBTci5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBraS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlcyguLi5lKXtyZXR1cm4gYmkuYXBwbHkodGhpcyxlKX1hc3luYyBjcmVhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4geWkuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gZmkuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gU2kuYXBwbHkodGhpcyxlKX1hc3luYyBnZXREb2NrUHJvdmlkZXJDb25maWcoLi4uZSl7cmV0dXJuIHdpLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2F2ZURvY2tQcm92aWRlckNvbmZpZyguLi5lKXtyZXR1cm4gaGkuYXBwbHkodGhpcyxlKX1hc3luYyBhdHRhY2hQYWdlc1RvV2luZG93KHQpe2NvbnN0IGE9YXdhaXQgUGkodC5wYWdlcyxlKTthd2FpdCBhbihhKSxhd2FpdCBrbih7Li4udCxwYWdlczphfSl9YXN5bmMgYWRkUGFnZShlKXtjb25zdCB0PWF3YWl0IEFlKGUuaWRlbnRpdHkpLGE9YXdhaXQgd3QoZS5pZGVudGl0eSkse3BhZ2U6bixpbnNlcnRpb25JbmRleDpvfT1lO24/LnRpdGxlfHwobi50aXRsZT1hd2FpdCBhLmRpc3BhdGNoKGx0LkdldFVuaXF1ZVBhZ2VUaXRsZSx2b2lkIDApKTtjb25zdCByPShhd2FpdCB0aGlzLmdldEFsbEF0dGFjaGVkUGFnZXMoKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT1uLnBhZ2VJZHx8ZS50aXRsZT09PW4udGl0bGUpKTtpZihyKXtpZihyLnBhZ2VJZD09PW4ucGFnZUlkKXRocm93IG5ldyBFcnJvcihgcGFnZSB3aXRoIGlkICR7bi5wYWdlSWR9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke3IucGFyZW50SWRlbnRpdHkubmFtZX1gKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYGFkZFBhZ2UgdGl0bGUgY29sbGlzaW9uLCBwYWdlIHdpdGggdGl0bGUgJHtuLnRpdGxlfSBhbHJlYWR5IGV4aXN0cywgY29uZmxpY3RpbmcgcGFnZSBpZDogJHtyLnBhZ2VJZH0gd2l0aCB0aXRsZSAke3IudGl0bGV9YCl9Y29uc3QgaT17aWRlbnRpdHk6ZS5pZGVudGl0eSxwYWdlczpbey4uLm4sbXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcjplLm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J8fFwiZHVwbGljYXRlXCJ9XSxpbnNlcnRpb25JbmRleDpvfTthd2FpdCB0aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3coaSl9YXN5bmMgYWRkRGVmYXVsdFBhZ2UoZSl7YXdhaXQgdGhpcy5hZGRQYWdlKGUpLGF3YWl0IHRoaXMuc2V0QWN0aXZlUGFnZSh7aWRlbnRpdHk6ZS5pZGVudGl0eSxwYWdlSWQ6ZS5wYWdlLnBhZ2VJZH0pfWFzeW5jIHNldEFjdGl2ZVBhZ2UoLi4uZSl7cmV0dXJuIGZuLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIG5pLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51KC4uLmUpe3JldHVybiBhaS5hcHBseSh0aGlzLFsuLi5lLGlyLkdsb2JhbE1lbnUsdGkuQm90dG9tUmlnaHRdKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIG9pLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gYWkuYXBwbHkodGhpcyxbLi4uZSxpci5Db250ZXh0TWVudV0pfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gcmkuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBhaS5hcHBseSh0aGlzLFsuLi5lLGlyLkNvbnRleHRNZW51XSl9YXN5bmMgb3BlblNhdmVCdXR0b25Db250ZXh0TWVudSguLi5lKXtyZXR1cm4gYWkuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIGlpLmFwcGx5KHRoaXMsZSl9Z2V0U2VsZWN0ZWRTY2hlbWUoLi4uZSl7cmV0dXJuIHhhLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2V0U2VsZWN0ZWRTY2hlbWUoLi4uZSl7cmV0dXJuIE1hLmFwcGx5KHRoaXMsZSl9YXN5bmMgaGFuZGxlUGFnZUNoYW5nZXMoLi4uZSl7cmV0dXJuIFRuLmFwcGx5KHRoaXMsZSl9YXN5bmMgYW5hbHl0aWNzSW50ZXJuYWwoLi4uZSl7cmV0dXJuIEduLmFwcGx5KHRoaXMsZSl9YXN5bmMgaGFuZGxlQW5hbHl0aWNzKC4uLmUpe31hc3luYyBoYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZSguLi5lKXtyZXR1cm4geG4uYXBwbHkodGhpcyxlKX1hc3luYyBzaG91bGRQYWdlQ2xvc2UoLi4uZSl7cmV0dXJuIEluLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2hvdWxkV2luZG93Q2xvc2UoLi4uZSl7cmV0dXJuIEFuLmFwcGx5KHRoaXMsZSl9aGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZSguLi5lKXtyZXR1cm4gV24uYXBwbHkodGhpcyxlKX1hc3luYyBjb3B5UGFnZSguLi5lKXtyZXR1cm4gRG4uYXBwbHkodGhpcyxlKX1hc3luYyBnZXROb3RpZmljYXRpb25zQ29uZmlnKCl7cmV0dXJuIHR9YXN5bmMgc2V0TGFuZ3VhZ2UoLi4uZSl7cmV0dXJuIE9vLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0TGFuZ3VhZ2UoKXtyZXR1cm4gX28uYXBwbHkodGhpcyl9YXN5bmMgdHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwoLi4uZSl7cmV0dXJuIHZyLmFwcGx5KHRoaXMsZSl9YXN5bmMgcmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbCgpe2NvbnN0IGU9YXdhaXQoYXN5bmMoKT0+e2lmKCFtcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcG9wIGxhc3QgcmVtb3ZlZCB0YWIgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgZT1tclt3cl0sdD1hd2FpdCBlLnRvQ29sbGVjdGlvbigpLmtleXMoKTtpZih0Lmxlbmd0aD4wKXtjb25zdCBhPU1hdGgubWF4KC4uLnQubWFwKChlPT5OdW1iZXIoZSkpKSkudG9TdHJpbmcoKSxuPWF3YWl0IGUuZ2V0KGEpO2lmKG4pe2F3YWl0IGUuZGVsZXRlKGEpO2NvbnN0e2lkOnQsLi4ub309bjtyZXR1cm4gb319fSkoKTtpZihcInBhZ2VcImluIGUpaWYoYXdhaXQgZmUoZS5pZGVudGl0eSkpe2NvbnN0IHQ9QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUuaWRlbnRpdHkpO2F3YWl0IHQuYWRkUGFnZShlLnBhZ2UpLGF3YWl0IHQuc2V0QWN0aXZlUGFnZShlLnBhZ2UucGFnZUlkKX1lbHNlIEFhKCkuY3JlYXRlV2luZG93KHtuYW1lOmUuaWRlbnRpdHkubmFtZSx3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W2UucGFnZV0sd2luZG93VHlwZTpQLkJyb3dzZXJ9fSk7ZWxzZShmdW5jdGlvbihlKXtyZXR1cm5cIndpbmRvd1wiaW4gZX0pKGUpJiZBYSgpLmNyZWF0ZVdpbmRvdyh7d29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOmUud2luZG93LnBhZ2VzLHdpbmRvd1R5cGU6UC5Ccm93c2VyfX0pfWFzeW5jIHRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbCguLi5lKXtyZXR1cm4gQ3IuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCBKaS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCguLi5lKXtyZXR1cm4gTXIuYXBwbHkodGhpcyxlKX1hc3luYyBzZWFyY2hTaXRlc0ludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCAkaS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCBLaS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWwoLi4uZSl7cmV0dXJuIGF3YWl0IHppLmFwcGx5KHRoaXMsZSl9YXN5bmMgaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbCguLi5lKXt9YXN5bmMgcmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKCl7KGF3YWl0IEFhKCkuQnJvd3Nlci5nZXRBbGxXaW5kb3dzKCkpLmZvckVhY2goKGFzeW5jKHtpZGVudGl0eTplfSk9PnsoYXdhaXQgcXQoZSkpLmRpc3BhdGNoKGVhLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCl9KSk7KGF3YWl0IEp0KG5yKCkpKS5kaXNwYXRjaChlYS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWwpLGF3YWl0KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGNpKCk7aWYoZSl7Y29uc3QgdD1hd2FpdCBxdChlLmlkZW50aXR5LHNpKTthd2FpdCB0LmRpc3BhdGNoKGVhLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCl9fSkoKX1hc3luYyBsYXVuY2hCb29rbWFya0ludGVybmFsKGUpe3JldHVybiBJcihlKX1hc3luYyB1cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGNpKCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFuaW9uIERvY2sgd2luZG93IG5vdCBmb3VuZFwiKTt7Y29uc3QgYT1hd2FpdCBxdCh0LmlkZW50aXR5LHNpKTthd2FpdCBhLmRpc3BhdGNoKFh0LlVwZGF0ZUZhdm9yaXRlRW50cmllcyxlKX19KShlKX1hc3luYyB1cGRhdGVDb250ZW50TWVudUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBjaSgpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNvbXBhbmlvbiBEb2NrIHdpbmRvdyBub3QgZm91bmRcIik7e2NvbnN0IGE9YXdhaXQgcXQodC5pZGVudGl0eSxzaSk7YXdhaXQgYS5kaXNwYXRjaChYdC5VcGRhdGVDb250ZW50TWVudSxlKX19KShlKX1hc3luYyBsYXVuY2hEb2NrRW50cnlJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IGxpKCkpLmRpc3BhdGNoKFwibGF1bmNoLWVudHJ5XCIsZSkpKGUpfWFzeW5jIHNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBsaSgpKS5kaXNwYXRjaChcInNldC1kZWZhdWx0LWRvY2stYnV0dG9ucy1vcmRlclwiLGUpKShlKX1hc3luYyBzZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IGxpKCkpLmRpc3BhdGNoKFwic2V0LWRvY2stZmF2b3JpdGVzLW9yZGVyXCIsZSkpKGUpfWFzeW5jIGFkZERvY2tGYXZvcml0ZUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgbGkoKSkuZGlzcGF0Y2goXCJhZGQtZmF2b3JpdGUtZW50cnlcIixlKSkoZSl9YXN5bmMgcmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBsaSgpKS5kaXNwYXRjaChcInJlbW92ZS1mYXZvcml0ZS1lbnRyeVwiLGUpKShlKX1hc3luYyBuYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGNpKCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFuaW9uIERvY2sgd2luZG93IG5vdCBmb3VuZFwiKTt7Y29uc3QgYT1hd2FpdCBxdCh0LmlkZW50aXR5LHNpKTthd2FpdCBhLmRpc3BhdGNoKFh0Lk5hdmlnYXRlQ29udGVudE1lbnUsZSl9fSkoZSl9YXN5bmMgZ2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsKCl7cmV0dXJuKGFzeW5jKCk9Pihhd2FpdCBsaSgpKS5kaXNwYXRjaChcImdldC1kb2NrLXdvcmtzcGFjZXMtY29udGV4dC1tZW51XCIsdm9pZCAwKSkoKX1hc3luYyBoYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgbGkoKSkuZGlzcGF0Y2goXCJoYW5kbGUtZG9jay13b3Jrc3BhY2VzLW1lbnUtcmVzcG9uc2VcIixlKSkoZSl9YXN5bmMgZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbCgpe3JldHVybiBkaSgpfX19O2Z1bmN0aW9uIFhpKGUsdCxhKXtjb25zdCBuPVlpKGUsYSk7dHJ5e3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZT0+dChuKGUpKTpBcnJheS5pc0FycmF5KHQpP1suLi50LG5dOmU9Pm5ldyhuKGUpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0IEVycm9yOlwiLGUpfX1hc3luYyBmdW5jdGlvbiBlcygpeyhhc3luYygpPT57bGUoKS5vbihcIndpbmRvdy1jbG9zZWRcIixYbyl9KSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTthd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIixRbyksYXdhaXQgZS5hZGRMaXN0ZW5lcihcIndpbmRvdy1jbG9zZWRcIixZbyl9KCk7Zm8oYXdhaXQgU28oKSl9bGV0IHRzO2FzeW5jIGZ1bmN0aW9uIGFzKGUsdCl7aWYoIWF3YWl0IGZlKHt1dWlkOndlLnV1aWQsbmFtZTpkZS5Eb2NrQ29tcGFuaW9ufSkpe2NvbnN0IGE9YXdhaXQgVmUod2UpO2F3YWl0IHQuY3JlYXRlV2luZG93KENlKHtuYW1lOmRlLkRvY2tDb21wYW5pb24sdXJsOmF3YWl0IGFlKCkrSy5FbnRlcnByaXNlRG9jayxhdXRvU2hvdzohMCxmcmFtZTohMSxzbWFsbFdpbmRvdzohMCxzYXZlV2luZG93U3RhdGU6ITEsZGVmYXVsdEhlaWdodDpNZSxkZWZhdWx0V2lkdGg6eGUsaW5jbHVkZUluU25hcHNob3RzOiExLGRlZmF1bHRUb3A6ZS5kb2NrUG9zaXRpb24/LnRvcD8/SWUsZGVmYXVsdExlZnQ6ZS5kb2NrUG9zaXRpb24/LmxlZnQ/P2EubGVmdC14ZS8yLHdvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dUeXBlOlwiZW50ZXJwcmlzZVwiLC4uLmV9LHRocm90dGxpbmc6XCJkaXNhYmxlZFwiLHJlc2l6YWJsZTohMSxtYXhpbWl6YWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6YXdhaXQgQ3QoXCJiYWNrZ3JvdW5kMVwiKX0pKX19ZnVuY3Rpb24gbnMoe292ZXJyaWRlQ2FsbGJhY2s6ZSxpbnRlcm9wT3ZlcnJpZGU6dCxicm93c2VyOmEsbm90aWZpY2F0aW9uczpuLGFuYWx5dGljczpvLGludGVncmF0aW9uczpyPVtdLHdvcmtzcGFjZUFzYXI6aX0pe2lmKCFBKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuXCIpO3JldHVybiB0c3x8KHRzPShhc3luYygpPT57Y29uc3Qgcz1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTt2YXIgYyxsO2lmKHMub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+ZXMoKSkpLHMub24oXCJ3aW5kb3ctc2hvdy1hbGwtZG93bmxvYWRzXCIsKCh7bmFtZTplLHV1aWQ6dH0pPT57RW8oe25hbWU6ZSx1dWlkOnR9KX0pKSxhPy50aXRsZSYmKGM9YS50aXRsZSxqcj1jKSxIbihvKSxpKXtjb25zdCBlPWB3b3Jrc3BhY2UtJHtlbmNvZGVVUklDb21wb25lbnQoZmluLm1lLnV1aWQpfWAse2Jhc2VVcmw6dH09YXdhaXQgZmluLlN5c3RlbS5zZXJ2ZUFzc2V0KHsuLi5pLGhvc3ROYW1lOmV9KTtZKHQpfWlmKGE/LmJyb3dzZXJCYXNlVXJsJiZZKGEuYnJvd3NlckJhc2VVcmwpLFdlKGEpKXtlbj0hMDtjb25zdCBlPWhhKCk7ZS5zZXRXb3Jrc3BhY2VTdG9yYWdlUHJveHkoYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YHN0b3JhZ2UtcHJveHktd2luZG93LSR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFthLG5dPWF3YWl0IFByb21pc2UuYWxsKFtmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoYGNoYW5uZWwtJHt0fWAse3dhaXQ6ITB9KSxmaW4uV2luZG93LmNyZWF0ZSh7YXV0b1Nob3c6ITEsaW5jbHVkZUluU25hcHNob3RzOiExLG5hbWU6dCx1cmw6ZX0pXSk7cmV0dXJue3NldEl0ZW06KGUsdCk9PmEuZGlzcGF0Y2goXCJzZXRJdGVtXCIse2tleTplLHZhbHVlOnR9KSxkZXN0cm95OigpPT5uLmNsb3NlKCl9fSkoYCR7YXdhaXQgZWUoKX0ke0suRW50ZXJwcmlzZVN0b3JhZ2VQcm94eX1gKSksYXdhaXQgZS50cnlTeW5jaHJvbml6ZVdvcmtzcGFjZVN0b3JhZ2UoKX1yZXR1cm4gYXdhaXQgZmluLlBsYXRmb3JtLmluaXQoe292ZXJyaWRlQ2FsbGJhY2s6WGkoYSxlfHxhPy5vdmVycmlkZUNhbGxiYWNrLG4pLGludGVyb3BPdmVycmlkZTpxbyh0fHxhPy5pbnRlcm9wT3ZlcnJpZGUsYSl9KSxsPXthbGxvd2VkOiEwfSxPZShfZS5QbGF0Zm9ybSxsKSxhd2FpdCBQcm9taXNlLmFsbChyLm1hcCgoYXN5bmMgZT0+eygoZSx0KT0+e09lKGAke19lLk1pY3JvZmxvd306JHtlfWAsdCxcImludGVncmF0aW9uLWZlYXR1cmVcIil9KShlLndvcmtmbG93SW50ZWdyYXRpb25OYW1lLHthbGxvd2VkOiEwLGFwaVZlcnNpb246X30pLGF3YWl0IGUuX2luaXRpYWxpemVXb3JrZmxvd3MoKX0pKSksc30pKCkpLHRzfWNvbnN0IG9zPWFzeW5jKHt0aGVtZTplLGN1c3RvbUFjdGlvbnM6dCxsYW5ndWFnZTphLC4uLm59KT0+e2NvbnN0IG89Xy5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpLHI9YXdhaXQoYXN5bmMgZT0+e2lmKChhd2FpdCBRKCkpLmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbilyZXR1cm4hMDtpZihhd2FpdCBBZSgpKXJldHVybiEwO2NvbnN0IHQ9KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0VmVyc2lvbigpKS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpO3JldHVybiBlLmV2ZXJ5KCgoYSxuKT0+IShuPDMpfHx0W25dPT09ZVtuXSkpfSkobyk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBSdW50aW1lIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZC4gICR7b1swXX0uJHtvWzFdfS4ke29bMl19LiogaXMgcmVxdWlyZWRgKTt2YXIgaTtyZXR1cm4gZSYmKFFpKGUpLGk9e2FsbG93ZWQ6ITB9LE9lKF9lLlRoZW1pbmcsaSkpLHQmJihlcj10KSxhd2FpdCBHbyhhPy5pbml0aWFsTGFuZ3VhZ2UpLG5zKG4pfX0pKCksbW9kdWxlLmV4cG9ydHM9bn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIoKCk9Pnt2YXIgZT17ODQ3OihlLHQpPT57dmFyIGE9ezIzNDY6ZnVuY3Rpb24oZSx0LGEpe3ZhciBuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0TW9zdFJlYWRhYmxlPXQuZGFya2VuQ29sb3I9dC5saWdodGVuQ29sb3I9dm9pZCAwO2NvbnN0IHI9bihhKDY1MzUpKTt0LmxpZ2h0ZW5Db2xvcj0oZSx0KT0+byhlLFwibGlnaHRlblwiLHQpLHQuZGFya2VuQ29sb3I9KGUsdCk9Pm8oZSxcImRhcmtlblwiLHQpO2NvbnN0IG89KGUsdCxhKT0+e2lmKGEmJihhPDB8fGE+MTAwKSl0aHJvdyBuZXcgRXJyb3IoYCR7YX0gbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMGApO3JldHVybigwLHIuZGVmYXVsdCkoZSlbdF0oYSkudG9TdHJpbmcoKX07dC5nZXRNb3N0UmVhZGFibGU9KGUsdCk9PnIuZGVmYXVsdC5tb3N0UmVhZGFibGUoZSx0KS50b0hleFN0cmluZygpfSwyMzE3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JY29uU2l6ZT10LlRyYW5zaXRpb249dC5MaW5lSGVpZ2h0PXQuRm9udFdlaWdodD10LkZvbnRTaXplPXQuRm9udEZhbWlseT10LlNoYWRvdz10LlJhZGl1cz10LlVuaXRQeD10LlVuaXQ9dC5TaXplTmFtZT10LlNpemU9dC5Db2xvcj12b2lkIDAsdC5Db2xvcj17d2hpdGU6XCIjRkZGRkZGXCIsbGlnaHRHcmF5MTpcIiNGQUZCRkVcIixsaWdodEdyYXkyOlwiI0YzRjVGOFwiLGxpZ2h0R3JheTM6XCIjRUNFRUYxXCIsbGlnaHRHcmF5NDpcIiNERERGRTRcIixsaWdodEdyYXk1OlwiI0M5Q0JEMlwiLG5ldXRyYWxHcmF5OlwiIzdEODA4QVwiLG5ldXRyYWxHcmF5ODA6XCJyZ2JhKDEyNSwxMjgsMTM4LDAuOClcIixzaWx2ZXJHcmF5OlwiI0MwQzFDMlwiLGRhcmtHcmF5MTpcIiM1MzU2NUZcIixkYXJrR3JheTI6XCIjMzgzQTQwXCIsZGFya0dyYXkzOlwiIzJGMzEzNlwiLGRhcmtHcmF5NDpcIiMyNDI2MkJcIixkYXJrR3JheTU6XCIjMUUxRjIzXCIsZGFya0dyYXk2OlwiIzExMTIxNFwiLG9wZW5GaW5EYXJrZXN0OlwiIzNEMzlDRFwiLG9wZW5GaW5EYXJrZXI6XCIjNDY0MkUwXCIsb3BlbkZpbjpcIiM1MDRDRkZcIixvcGVuRmluTGlnaHQ6XCIjNTI1NEZCXCIsb3BlbkZpbkxpZ2h0ZXI6XCIjNUM1RUZFXCIsb3BlbkZpbkxpZ2h0ZXN0OlwiIzY4NjRGRlwiLGZ1bmN0aW9uYWwxOlwiIzIwNzczNVwiLGZ1bmN0aW9uYWwyOlwiIzQ2QzhGMVwiLGZ1bmN0aW9uYWwzOlwiIzBBNzZEM1wiLGZ1bmN0aW9uYWw0OlwiIzZDQURFNVwiLGZ1bmN0aW9uYWw1OlwiIzBBNzZEM1wiLGZ1bmN0aW9uYWw2OlwiIzg4MkJGRVwiLGZ1bmN0aW9uYWw3OlwiI0YzMTgxOFwiLGZ1bmN0aW9uYWw4OlwiI0M5MzQwMFwiLGZ1bmN0aW9uYWw5OlwiI0ZGNUU2MFwiLGZ1bmN0aW9uYWwxMDpcIiNGNDhGMDBcIixwdXJwbGU6XCIjOEM2MUZGXCIsbGlnaHRibHVlOlwiIzM2QzNGRVwiLGFxdWE6XCIjMDBDQzg4XCIseWVsbG93OlwiI0ZGRUIwMFwiLHNhbG1vbjpcIiNGRjhDNENcIixwaW5rOlwiI0ZGNUU2MFwiLGxpZ2h0cGluazpcIiNGRjhGQjhcIix3aGl0ZTAwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjApXCIsd2hpdGUxMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4xKVwiLHdoaXRlMjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMilcIix3aGl0ZTMwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjMpXCIsd2hpdGU0MDpcInJnYmEoMjU1LDI1NSwyNTUsMC40KVwiLHdoaXRlNTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIix3aGl0ZTYwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjYpXCIsd2hpdGU3MDpcInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiLHdoaXRlODA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIix3aGl0ZTkwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCIsYmxhY2swMDpcInJnYmEoMCwwLDAsMC4wKVwiLGJsYWNrMTA6XCJyZ2JhKDAsMCwwLDAuMSlcIixibGFjazIwOlwicmdiYSgwLDAsMCwwLjIpXCIsYmxhY2szMDpcInJnYmEoMCwwLDAsMC4zKVwiLGJsYWNrNDA6XCJyZ2JhKDAsMCwwLDAuNClcIixibGFjazUwOlwicmdiYSgwLDAsMCwwLjUpXCIsYmxhY2s2MDpcInJnYmEoMCwwLDAsMC42KVwiLGJsYWNrNzA6XCJyZ2JhKDAsMCwwLDAuNylcIixibGFjazgwOlwicmdiYSgwLDAsMCwwLjgpXCIsYmxhY2s5MDpcInJnYmEoMCwwLDAsMC45KVwiLHRyYW5zcGFyZW50OlwidHJhbnNwYXJlbnRcIn0sdC5TaXplPXt4c21hbGw6XCJ4c21hbGxcIixzbWFsbDpcInNtYWxsXCIsYmFzZTpcImJhc2VcIixsYXJnZTpcImxhcmdlXCIseGxhcmdlOlwieGxhcmdlXCIseHhsYXJnZTpcInh4bGFyZ2VcIix4eHhsYXJnZTpcInh4eGxhcmdlXCIseHh4eGxhcmdlOlwieHh4eGxhcmdlXCJ9LHQuU2l6ZU5hbWU9e1t0LlNpemUueHNtYWxsXTpcIkV4dHJhIFNtYWxsXCIsW3QuU2l6ZS5zbWFsbF06XCJTbWFsbFwiLFt0LlNpemUuYmFzZV06XCJCYXNlXCIsW3QuU2l6ZS5sYXJnZV06XCJMYXJnZVwiLFt0LlNpemUueGxhcmdlXTpcIkV4dHJhIExhcmdlXCIsW3QuU2l6ZS54eGxhcmdlXTpcIjJYIExhcmdlXCIsW3QuU2l6ZS54eHhsYXJnZV06XCIzWCBMYXJnZVwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjRYIExhcmdlXCJ9LHQuVW5pdD17W3QuU2l6ZS54c21hbGxdOjQsW3QuU2l6ZS5zbWFsbF06OCxbdC5TaXplLmJhc2VdOjEyLFt0LlNpemUubGFyZ2VdOjE2LFt0LlNpemUueGxhcmdlXToyMCxbdC5TaXplLnh4bGFyZ2VdOjI0LFt0LlNpemUueHh4bGFyZ2VdOjMyLFt0LlNpemUueHh4eGxhcmdlXTo0OH0sdC5Vbml0UHg9e1t0LlNpemUueHNtYWxsXTpcIjRweFwiLFt0LlNpemUuc21hbGxdOlwiOHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjEycHhcIixbdC5TaXplLmxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eGxhcmdlXTpcIjI0cHhcIixbdC5TaXplLnh4eGxhcmdlXTpcIjMycHhcIixbdC5TaXplLnh4eHhsYXJnZV06XCI0OHB4XCJ9LHQuUmFkaXVzPXtbdC5TaXplLnhzbWFsbF06XCIycHhcIixbdC5TaXplLnNtYWxsXTpcIjRweFwiLFt0LlNpemUuYmFzZV06XCI4cHhcIixbdC5TaXplLmxhcmdlXTpcIjI0cHhcIixwaWxsOlwiMTAwdmhcIixyb3VuZDpcIjUwJVwiLG5vbmU6XCIwXCJ9LHQuU2hhZG93PXtbdC5TaXplLmJhc2VdOlwiMCA0cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSlcIn0sdC5Gb250RmFtaWx5PVtcIkludGVyXCIsXCJzeXN0ZW0tdWlcIixcIkJsaW5rTWFjU3lzdGVtRm9udFwiLFwiU2Vnb2UgVUlcIixcIlJvYm90b1wiLFwiT3h5Z2VuLVNhbnNcIixcIlVidW50dVwiLFwiQ2FudGFyZWxsXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLFwic2Fucy1zZXJpZlwiXS5qb2luKFwiLFwiKSx0LkZvbnRTaXplPXtbdC5TaXplLnhzbWFsbF06XCI4cHhcIixbdC5TaXplLnNtYWxsXTpcIjEwcHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTRweFwiLFt0LlNpemUueGxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMThweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMjBweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQwcHhcIn0sdC5Gb250V2VpZ2h0PXtub3JtYWw6NDAwLGJvbGQ6NjAwfSx0LkxpbmVIZWlnaHQ9e3VpOjEsaGVhZGluZzoxLjIsdGV4dDoxLjV9LHQuVHJhbnNpdGlvbj17YmFzZTpcIjIwMG1zIGN1YmljLWJlemllcigwLjE2LCAxLCAwLjMsIDEpXCIsbm9uZTpcIjBtc1wifSx0Lkljb25TaXplPXtbdC5TaXplLnhzbWFsbF06dC5Vbml0UHguc21hbGwsW3QuU2l6ZS5zbWFsbF06dC5Vbml0UHguYmFzZSxbdC5TaXplLmJhc2VdOlwiMTVweFwiLFt0LlNpemUubGFyZ2VdOnQuVW5pdFB4LnhsYXJnZSxbdC5TaXplLnhsYXJnZV06dC5Vbml0UHgueHhsYXJnZSxbdC5TaXplLnh4bGFyZ2VdOnQuVW5pdFB4Lnh4eGxhcmdlLFt0LlNpemUueHh4bGFyZ2VdOnQuVW5pdFB4Lnh4eHhsYXJnZX19LDY4OTM6KGUsdCxhKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlVGhlbWU9dm9pZCAwO2NvbnN0IG49YSgyMzE3KSxyPWEoMjM0Niksbz1hKDU5MzkpLGk9e2ZvbnRGYW1pbHk6bi5Gb250RmFtaWx5LGZvbnRTaXplOm4uRm9udFNpemUsZm9udFdlaWdodDpuLkZvbnRXZWlnaHQsbGluZUhlaWdodDpuLkxpbmVIZWlnaHQsaWNvblNpemU6bi5JY29uU2l6ZSxyYWRpdXM6bi5SYWRpdXMsc2hhZG93Om4uU2hhZG93LHRyYW5zaXRpb246bi5UcmFuc2l0aW9uLHVuaXQ6bi5Vbml0LHB4Om4uVW5pdFB4fSxzPShlLHQpPT4oe1tgJHtlfUFjdGl2ZWBdOigwLHIuZGFya2VuQ29sb3IpKHQsMiksW2Ake2V9SG92ZXJgXTooMCxyLmxpZ2h0ZW5Db2xvcikodCw1KSxbYCR7ZX1Gb2N1c2VkYF06KDAsci5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKSxbYCR7ZX1UZXh0YF06KDAsci5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKX0pO3QuY3JlYXRlVGhlbWU9ZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtwYWxldHRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHMoby5QYWxldHRlLmJyYW5kUHJpbWFyeSxlLmJyYW5kUHJpbWFyeSkpLHMoby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5LGUuYnJhbmRTZWNvbmRhcnkpKX0pfSw1OTM5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYWxldHRlPXZvaWQgMCx0LlBhbGV0dGU9e2JhY2tncm91bmQxOlwiYmFja2dyb3VuZDFcIixiYWNrZ3JvdW5kMjpcImJhY2tncm91bmQyXCIsYmFja2dyb3VuZDM6XCJiYWNrZ3JvdW5kM1wiLGJhY2tncm91bmQ0OlwiYmFja2dyb3VuZDRcIixiYWNrZ3JvdW5kNTpcImJhY2tncm91bmQ1XCIsYmFja2dyb3VuZDY6XCJiYWNrZ3JvdW5kNlwiLGJyYW5kUHJpbWFyeTpcImJyYW5kUHJpbWFyeVwiLGJyYW5kU2Vjb25kYXJ5OlwiYnJhbmRTZWNvbmRhcnlcIixicmFuZFByaW1hcnlBY3RpdmU6XCJicmFuZFByaW1hcnlBY3RpdmVcIixicmFuZFByaW1hcnlIb3ZlcjpcImJyYW5kUHJpbWFyeUhvdmVyXCIsYnJhbmRQcmltYXJ5Rm9jdXNlZDpcImJyYW5kUHJpbWFyeUZvY3VzZWRcIixicmFuZFByaW1hcnlUZXh0OlwiYnJhbmRQcmltYXJ5VGV4dFwiLGJyYW5kU2Vjb25kYXJ5QWN0aXZlOlwiYnJhbmRTZWNvbmRhcnlBY3RpdmVcIixicmFuZFNlY29uZGFyeUhvdmVyOlwiYnJhbmRTZWNvbmRhcnlIb3ZlclwiLGJyYW5kU2Vjb25kYXJ5Rm9jdXNlZDpcImJyYW5kU2Vjb25kYXJ5Rm9jdXNlZFwiLGJyYW5kU2Vjb25kYXJ5VGV4dDpcImJyYW5kU2Vjb25kYXJ5VGV4dFwiLGlucHV0QmFja2dyb3VuZDpcImlucHV0QmFja2dyb3VuZFwiLGlucHV0Q29sb3I6XCJpbnB1dENvbG9yXCIsaW5wdXRQbGFjZWhvbGRlcjpcImlucHV0UGxhY2Vob2xkZXJcIixpbnB1dERpc2FibGVkOlwiaW5wdXREaXNhYmxlZFwiLGlucHV0Rm9jdXNlZDpcImlucHV0Rm9jdXNlZFwiLGlucHV0Qm9yZGVyOlwiaW5wdXRCb3JkZXJcIixzdGF0dXNTdWNjZXNzOlwic3RhdHVzU3VjY2Vzc1wiLHN0YXR1c1dhcm5pbmc6XCJzdGF0dXNXYXJuaW5nXCIsc3RhdHVzQ3JpdGljYWw6XCJzdGF0dXNDcml0aWNhbFwiLHN0YXR1c0FjdGl2ZTpcInN0YXR1c0FjdGl2ZVwiLHRleHREZWZhdWx0OlwidGV4dERlZmF1bHRcIix0ZXh0SGVscDpcInRleHRIZWxwXCIsdGV4dEluYWN0aXZlOlwidGV4dEluYWN0aXZlXCIsYm9yZGVyTmV1dHJhbDpcImJvcmRlck5ldXRyYWxcIixjb250ZW50QmFja2dyb3VuZDE6XCJjb250ZW50QmFja2dyb3VuZDFcIixjb250ZW50QmFja2dyb3VuZDI6XCJjb250ZW50QmFja2dyb3VuZDJcIixjb250ZW50QmFja2dyb3VuZDM6XCJjb250ZW50QmFja2dyb3VuZDNcIixjb250ZW50QmFja2dyb3VuZDQ6XCJjb250ZW50QmFja2dyb3VuZDRcIixjb250ZW50QmFja2dyb3VuZDU6XCJjb250ZW50QmFja2dyb3VuZDVcIixsaW5rRGVmYXVsdDpcImxpbmtEZWZhdWx0XCIsbGlua0hvdmVyOlwibGlua0hvdmVyXCJ9fSw2NTM1OmZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJuKGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKHQpfXZhciB0PS9eXFxzKy8sYT0vXFxzKyQvO2Z1bmN0aW9uIG4ocixvKXtpZihvPW98fHt9LChyPXJ8fFwiXCIpaW5zdGFuY2VvZiBuKXJldHVybiByO2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbihyLG8pO3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciByLG8saSxzPXtyOjAsZzowLGI6MH0sYz0xLGQ9bnVsbCxsPW51bGwsdT1udWxsLHA9ITEsaD0hMTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbiYmKG49ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UodCxcIlwiKS5yZXBsYWNlKGEsXCJcIikudG9Mb3dlckNhc2UoKTt2YXIgbixyPSExO2lmKGtbZV0pZT1rW2VdLHI9ITA7ZWxzZSBpZihcInRyYW5zcGFyZW50XCI9PWUpcmV0dXJue3I6MCxnOjAsYjowLGE6MCxmb3JtYXQ6XCJuYW1lXCJ9O3JldHVybihuPU8ucmdiLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXX06KG49Ty5yZ2JhLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXSxhOm5bNF19OihuPU8uaHNsLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXX06KG49Ty5oc2xhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXSxhOm5bNF19OihuPU8uaHN2LmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXX06KG49Ty5oc3ZhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXSxhOm5bNF19OihuPU8uaGV4OC5leGVjKGUpKT97cjp4KG5bMV0pLGc6eChuWzJdKSxiOngoblszXSksYTpGKG5bNF0pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4OFwifToobj1PLmhleDYuZXhlYyhlKSk/e3I6eChuWzFdKSxnOngoblsyXSksYjp4KG5bM10pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4XCJ9OihuPU8uaGV4NC5leGVjKGUpKT97cjp4KG5bMV0rXCJcIituWzFdKSxnOngoblsyXStcIlwiK25bMl0pLGI6eChuWzNdK1wiXCIrblszXSksYTpGKG5bNF0rXCJcIituWzRdKSxmb3JtYXQ6cj9cIm5hbWVcIjpcImhleDhcIn06ISEobj1PLmhleDMuZXhlYyhlKSkmJntyOngoblsxXStcIlwiK25bMV0pLGc6eChuWzJdK1wiXCIrblsyXSksYjp4KG5bM10rXCJcIituWzNdKSxmb3JtYXQ6cj9cIm5hbWVcIjpcImhleFwifX0obikpLFwib2JqZWN0XCI9PWUobikmJihEKG4ucikmJkQobi5nKSYmRChuLmIpPyhyPW4ucixvPW4uZyxpPW4uYixzPXtyOjI1NSpQKHIsMjU1KSxnOjI1NSpQKG8sMjU1KSxiOjI1NSpQKGksMjU1KX0scD0hMCxoPVwiJVwiPT09U3RyaW5nKG4ucikuc3Vic3RyKC0xKT9cInByZ2JcIjpcInJnYlwiKTpEKG4uaCkmJkQobi5zKSYmRChuLnYpPyhkPU0obi5zKSxsPU0obi52KSxzPWZ1bmN0aW9uKGUsdCxhKXtlPTYqUChlLDM2MCksdD1QKHQsMTAwKSxhPVAoYSwxMDApO3ZhciBuPU1hdGguZmxvb3IoZSkscj1lLW4sbz1hKigxLXQpLGk9YSooMS1yKnQpLHM9YSooMS0oMS1yKSp0KSxjPW4lNjtyZXR1cm57cjoyNTUqW2EsaSxvLG8scyxhXVtjXSxnOjI1NSpbcyxhLGEsaSxvLG9dW2NdLGI6MjU1KltvLG8scyxhLGEsaV1bY119fShuLmgsZCxsKSxwPSEwLGg9XCJoc3ZcIik6RChuLmgpJiZEKG4ucykmJkQobi5sKSYmKGQ9TShuLnMpLHU9TShuLmwpLHM9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuLHIsbztmdW5jdGlvbiBpKGUsdCxhKXtyZXR1cm4gYTwwJiYoYSs9MSksYT4xJiYoYS09MSksYTwxLzY/ZSs2Kih0LWUpKmE6YTwuNT90OmE8Mi8zP2UrKHQtZSkqKDIvMy1hKSo2OmV9aWYoZT1QKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCksMD09PXQpbj1yPW89YTtlbHNle3ZhciBzPWE8LjU/YSooMSt0KTphK3QtYSp0LGM9MiphLXM7bj1pKGMscyxlKzEvMykscj1pKGMscyxlKSxvPWkoYyxzLGUtMS8zKX1yZXR1cm57cjoyNTUqbixnOjI1NSpyLGI6MjU1Km99fShuLmgsZCx1KSxwPSEwLGg9XCJoc2xcIiksbi5oYXNPd25Qcm9wZXJ0eShcImFcIikmJihjPW4uYSkpLGM9UyhjKSx7b2s6cCxmb3JtYXQ6bi5mb3JtYXR8fGgscjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5yLDApKSxnOk1hdGgubWluKDI1NSxNYXRoLm1heChzLmcsMCkpLGI6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuYiwwKSksYTpjfX0ocik7dGhpcy5fb3JpZ2luYWxJbnB1dD1yLHRoaXMuX3I9aS5yLHRoaXMuX2c9aS5nLHRoaXMuX2I9aS5iLHRoaXMuX2E9aS5hLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpcy5fZm9ybWF0PW8uZm9ybWF0fHxpLmZvcm1hdCx0aGlzLl9ncmFkaWVudFR5cGU9by5ncmFkaWVudFR5cGUsdGhpcy5fcjwxJiYodGhpcy5fcj1NYXRoLnJvdW5kKHRoaXMuX3IpKSx0aGlzLl9nPDEmJih0aGlzLl9nPU1hdGgucm91bmQodGhpcy5fZykpLHRoaXMuX2I8MSYmKHRoaXMuX2I9TWF0aC5yb3VuZCh0aGlzLl9iKSksdGhpcy5fb2s9aS5va31mdW5jdGlvbiByKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixyLG89TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9KG8raSkvMjtpZihvPT1pKW49cj0wO2Vsc2V7dmFyIGM9by1pO3N3aXRjaChyPXM+LjU/Yy8oMi1vLWkpOmMvKG8raSksbyl7Y2FzZSBlOm49KHQtYSkvYysodDxhPzY6MCk7YnJlYWs7Y2FzZSB0Om49KGEtZSkvYysyO2JyZWFrO2Nhc2UgYTpuPShlLXQpL2MrNH1uLz02fXJldHVybntoOm4sczpyLGw6c319ZnVuY3Rpb24gbyhlLHQsYSl7ZT1QKGUsMjU1KSx0PVAodCwyNTUpLGE9UChhLDI1NSk7dmFyIG4scixvPU1hdGgubWF4KGUsdCxhKSxpPU1hdGgubWluKGUsdCxhKSxzPW8sYz1vLWk7aWYocj0wPT09bz8wOmMvbyxvPT1pKW49MDtlbHNle3N3aXRjaChvKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOnIsdjpzfX1mdW5jdGlvbiBpKGUsdCxhLG4pe3ZhciByPVtBKE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV07cmV0dXJuIG4mJnJbMF0uY2hhckF0KDApPT1yWzBdLmNoYXJBdCgxKSYmclsxXS5jaGFyQXQoMCk9PXJbMV0uY2hhckF0KDEpJiZyWzJdLmNoYXJBdCgwKT09clsyXS5jaGFyQXQoMSk/clswXS5jaGFyQXQoMCkrclsxXS5jaGFyQXQoMCkrclsyXS5jaGFyQXQoMCk6ci5qb2luKFwiXCIpfWZ1bmN0aW9uIHMoZSx0LGEsbil7cmV0dXJuW0EoSShuKSksQShNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSksQShNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSksQShNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSldLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucy09dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGQoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLnMrPXQvMTAwLGEucz1DKGEucyksbihhKX1mdW5jdGlvbiBsKGUpe3JldHVybiBuKGUpLmRlc2F0dXJhdGUoMTAwKX1mdW5jdGlvbiB1KGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sKz10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gcChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvUmdiKCk7cmV0dXJuIGEucj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLnItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuZz1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmctTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuYj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLG4oYSl9ZnVuY3Rpb24gaChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEubC09dC8xMDAsYS5sPUMoYS5sKSxuKGEpfWZ1bmN0aW9uIGYoZSx0KXt2YXIgYT1uKGUpLnRvSHNsKCkscj0oYS5oK3QpJTM2MDtyZXR1cm4gYS5oPXI8MD8zNjArcjpyLG4oYSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1uKGUpLnRvSHNsKCk7cmV0dXJuIHQuaD0odC5oKzE4MCklMzYwLG4odCl9ZnVuY3Rpb24gbShlLHQpe2lmKGlzTmFOKHQpfHx0PD0wKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IHRvIHBvbHlhZCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO2Zvcih2YXIgYT1uKGUpLnRvSHNsKCkscj1bbihlKV0sbz0zNjAvdCxpPTE7aTx0O2krKylyLnB1c2gobih7aDooYS5oK2kqbyklMzYwLHM6YS5zLGw6YS5sfSkpO3JldHVybiByfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9bihlKS50b0hzbCgpLGE9dC5oO3JldHVybltuKGUpLG4oe2g6KGErNzIpJTM2MCxzOnQucyxsOnQubH0pLG4oe2g6KGErMjE2KSUzNjAsczp0LnMsbDp0Lmx9KV19ZnVuY3Rpb24geShlLHQsYSl7dD10fHw2LGE9YXx8MzA7dmFyIHI9bihlKS50b0hzbCgpLG89MzYwL2EsaT1bbihlKV07Zm9yKHIuaD0oci5oLShvKnQ+PjEpKzcyMCklMzYwOy0tdDspci5oPShyLmgrbyklMzYwLGkucHVzaChuKHIpKTtyZXR1cm4gaX1mdW5jdGlvbiB2KGUsdCl7dD10fHw2O2Zvcih2YXIgYT1uKGUpLnRvSHN2KCkscj1hLmgsbz1hLnMsaT1hLnYscz1bXSxjPTEvdDt0LS07KXMucHVzaChuKHtoOnIsczpvLHY6aX0pKSxpPShpK2MpJTE7cmV0dXJuIHN9bi5wcm90b3R5cGU9e2lzRGFyazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKTwxMjh9LGlzTGlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0RhcmsoKX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9va30sZ2V0T3JpZ2luYWxJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmlnaW5hbElucHV0fSxnZXRGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9ybWF0fSxnZXRBbHBoYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hfSxnZXRCcmlnaHRuZXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50b1JnYigpO3JldHVybigyOTkqZS5yKzU4NyplLmcrMTE0KmUuYikvMWUzfSxnZXRMdW1pbmFuY2U6ZnVuY3Rpb24oKXt2YXIgZSx0LGEsbj10aGlzLnRvUmdiKCk7cmV0dXJuIGU9bi5yLzI1NSx0PW4uZy8yNTUsYT1uLmIvMjU1LC4yMTI2KihlPD0uMDM5Mjg/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpKSsuNzE1MioodDw9LjAzOTI4P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KSkrLjA3MjIqKGE8PS4wMzkyOD9hLzEyLjkyOk1hdGgucG93KChhKy4wNTUpLzEuMDU1LDIuNCkpfSxzZXRBbHBoYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYT1TKGUpLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpc30sdG9Ic3Y6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLHY6ZS52LGE6dGhpcy5fYX19LHRvSHN2U3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9byh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUudik7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc3YoXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHN2YShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9Ic2w6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLGw6ZS5sLGE6dGhpcy5fYX19LHRvSHNsU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9cih0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUubCk7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc2woXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHNsYShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsZSl9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXgoZSl9LHRvSGV4ODpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGEsbixyKXt2YXIgbz1bQShNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSksQShNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSksQShNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSksQShJKG4pKV07cmV0dXJuIHImJm9bMF0uY2hhckF0KDApPT1vWzBdLmNoYXJBdCgxKSYmb1sxXS5jaGFyQXQoMCk9PW9bMV0uY2hhckF0KDEpJiZvWzJdLmNoYXJBdCgwKT09b1syXS5jaGFyQXQoMSkmJm9bM10uY2hhckF0KDApPT1vWzNdLmNoYXJBdCgxKT9vWzBdLmNoYXJBdCgwKStvWzFdLmNoYXJBdCgwKStvWzJdLmNoYXJBdCgwKStvWzNdLmNoYXJBdCgwKTpvLmpvaW4oXCJcIil9KHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EsZSl9LHRvSGV4OFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4OChlKX0sdG9SZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpNYXRoLnJvdW5kKHRoaXMuX3IpLGc6TWF0aC5yb3VuZCh0aGlzLl9nKSxiOk1hdGgucm91bmQodGhpcy5fYiksYTp0aGlzLl9hfX0sdG9SZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvUGVyY2VudGFnZVJnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiVcIixnOk1hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiVcIixiOk1hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiVcIixhOnRoaXMuX2F9fSx0b1BlcmNlbnRhZ2VSZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvTmFtZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fYT9cInRyYW5zcGFyZW50XCI6ISh0aGlzLl9hPDEpJiYoYltpKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLCEwKV18fCExKX0sdG9GaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9XCIjXCIrcyh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hKSxhPXQscj10aGlzLl9ncmFkaWVudFR5cGU/XCJHcmFkaWVudFR5cGUgPSAxLCBcIjpcIlwiO2lmKGUpe3ZhciBvPW4oZSk7YT1cIiNcIitzKG8uX3Isby5fZyxvLl9iLG8uX2EpfXJldHVyblwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK3IrXCJzdGFydENvbG9yc3RyPVwiK3QrXCIsZW5kQ29sb3JzdHI9XCIrYStcIilcIn0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlO2U9ZXx8dGhpcy5fZm9ybWF0O3ZhciBhPSExLG49dGhpcy5fYTwxJiZ0aGlzLl9hPj0wO3JldHVybiB0fHwhbnx8XCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZSYmXCJoZXgzXCIhPT1lJiZcImhleDRcIiE9PWUmJlwiaGV4OFwiIT09ZSYmXCJuYW1lXCIhPT1lPyhcInJnYlwiPT09ZSYmKGE9dGhpcy50b1JnYlN0cmluZygpKSxcInByZ2JcIj09PWUmJihhPXRoaXMudG9QZXJjZW50YWdlUmdiU3RyaW5nKCkpLFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWV8fChhPXRoaXMudG9IZXhTdHJpbmcoKSksXCJoZXgzXCI9PT1lJiYoYT10aGlzLnRvSGV4U3RyaW5nKCEwKSksXCJoZXg0XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZyghMCkpLFwiaGV4OFwiPT09ZSYmKGE9dGhpcy50b0hleDhTdHJpbmcoKSksXCJuYW1lXCI9PT1lJiYoYT10aGlzLnRvTmFtZSgpKSxcImhzbFwiPT09ZSYmKGE9dGhpcy50b0hzbFN0cmluZygpKSxcImhzdlwiPT09ZSYmKGE9dGhpcy50b0hzdlN0cmluZygpKSxhfHx0aGlzLnRvSGV4U3RyaW5nKCkpOlwibmFtZVwiPT09ZSYmMD09PXRoaXMuX2E/dGhpcy50b05hbWUoKTp0aGlzLnRvUmdiU3RyaW5nKCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy50b1N0cmluZygpKX0sX2FwcGx5TW9kaWZpY2F0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0KSkpO3JldHVybiB0aGlzLl9yPWEuX3IsdGhpcy5fZz1hLl9nLHRoaXMuX2I9YS5fYix0aGlzLnNldEFscGhhKGEuX2EpLHRoaXN9LGxpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24odSxhcmd1bWVudHMpfSxicmlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihwLGFyZ3VtZW50cyl9LGRhcmtlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihoLGFyZ3VtZW50cyl9LGRlc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oYyxhcmd1bWVudHMpfSxzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihkLGFyZ3VtZW50cyl9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihsLGFyZ3VtZW50cyl9LHNwaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZixhcmd1bWVudHMpfSxfYXBwbHlDb21iaW5hdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSl9LGFuYWxvZ291czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHksYXJndW1lbnRzKX0sY29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGcsYXJndW1lbnRzKX0sbW9ub2Nocm9tYXRpYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHYsYXJndW1lbnRzKX0sc3BsaXRjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odyxhcmd1bWVudHMpfSx0cmlhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG0sWzNdKX0sdGV0cmFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbNF0pfX0sbi5mcm9tUmF0aW89ZnVuY3Rpb24odCxhKXtpZihcIm9iamVjdFwiPT1lKHQpKXt2YXIgcj17fTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiYocltvXT1cImFcIj09PW8/dFtvXTpNKHRbb10pKTt0PXJ9cmV0dXJuIG4odCxhKX0sbi5lcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHwhdCkmJm4oZSkudG9SZ2JTdHJpbmcoKT09bih0KS50b1JnYlN0cmluZygpfSxuLnJhbmRvbT1mdW5jdGlvbigpe3JldHVybiBuLmZyb21SYXRpbyh7cjpNYXRoLnJhbmRvbSgpLGc6TWF0aC5yYW5kb20oKSxiOk1hdGgucmFuZG9tKCl9KX0sbi5taXg9ZnVuY3Rpb24oZSx0LGEpe2E9MD09PWE/MDphfHw1MDt2YXIgcj1uKGUpLnRvUmdiKCksbz1uKHQpLnRvUmdiKCksaT1hLzEwMDtyZXR1cm4gbih7cjooby5yLXIucikqaStyLnIsZzooby5nLXIuZykqaStyLmcsYjooby5iLXIuYikqaStyLmIsYTooby5hLXIuYSkqaStyLmF9KX0sbi5yZWFkYWJpbGl0eT1mdW5jdGlvbihlLHQpe3ZhciBhPW4oZSkscj1uKHQpO3JldHVybihNYXRoLm1heChhLmdldEx1bWluYW5jZSgpLHIuZ2V0THVtaW5hbmNlKCkpKy4wNSkvKE1hdGgubWluKGEuZ2V0THVtaW5hbmNlKCksci5nZXRMdW1pbmFuY2UoKSkrLjA1KX0sbi5pc1JlYWRhYmxlPWZ1bmN0aW9uKGUsdCxhKXt2YXIgcixvLGkscyxjLGQ9bi5yZWFkYWJpbGl0eShlLHQpO3N3aXRjaChvPSExLChpPWEsXCJBQVwiIT09KHM9KChpPWl8fHtsZXZlbDpcIkFBXCIsc2l6ZTpcInNtYWxsXCJ9KS5sZXZlbHx8XCJBQVwiKS50b1VwcGVyQ2FzZSgpKSYmXCJBQUFcIiE9PXMmJihzPVwiQUFcIiksXCJzbWFsbFwiIT09KGM9KGkuc2l6ZXx8XCJzbWFsbFwiKS50b0xvd2VyQ2FzZSgpKSYmXCJsYXJnZVwiIT09YyYmKGM9XCJzbWFsbFwiKSxyPXtsZXZlbDpzLHNpemU6Y30pLmxldmVsK3Iuc2l6ZSl7Y2FzZVwiQUFzbWFsbFwiOmNhc2VcIkFBQWxhcmdlXCI6bz1kPj00LjU7YnJlYWs7Y2FzZVwiQUFsYXJnZVwiOm89ZD49MzticmVhaztjYXNlXCJBQUFzbWFsbFwiOm89ZD49N31yZXR1cm4gb30sbi5tb3N0UmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciByLG8saSxzLGM9bnVsbCxkPTA7bz0oYT1hfHx7fSkuaW5jbHVkZUZhbGxiYWNrQ29sb3JzLGk9YS5sZXZlbCxzPWEuc2l6ZTtmb3IodmFyIGw9MDtsPHQubGVuZ3RoO2wrKykocj1uLnJlYWRhYmlsaXR5KGUsdFtsXSkpPmQmJihkPXIsYz1uKHRbbF0pKTtyZXR1cm4gbi5pc1JlYWRhYmxlKGUsYyx7bGV2ZWw6aSxzaXplOnN9KXx8IW8/YzooYS5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ITEsbi5tb3N0UmVhZGFibGUoZSxbXCIjZmZmXCIsXCIjMDAwXCJdLGEpKX07dmFyIGs9bi5uYW1lcz17YWxpY2VibHVlOlwiZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiZmFlYmQ3XCIsYXF1YTpcIjBmZlwiLGFxdWFtYXJpbmU6XCI3ZmZmZDRcIixhenVyZTpcImYwZmZmZlwiLGJlaWdlOlwiZjVmNWRjXCIsYmlzcXVlOlwiZmZlNGM0XCIsYmxhY2s6XCIwMDBcIixibGFuY2hlZGFsbW9uZDpcImZmZWJjZFwiLGJsdWU6XCIwMGZcIixibHVldmlvbGV0OlwiOGEyYmUyXCIsYnJvd246XCJhNTJhMmFcIixidXJseXdvb2Q6XCJkZWI4ODdcIixidXJudHNpZW5uYTpcImVhN2U1ZFwiLGNhZGV0Ymx1ZTpcIjVmOWVhMFwiLGNoYXJ0cmV1c2U6XCI3ZmZmMDBcIixjaG9jb2xhdGU6XCJkMjY5MWVcIixjb3JhbDpcImZmN2Y1MFwiLGNvcm5mbG93ZXJibHVlOlwiNjQ5NWVkXCIsY29ybnNpbGs6XCJmZmY4ZGNcIixjcmltc29uOlwiZGMxNDNjXCIsY3lhbjpcIjBmZlwiLGRhcmtibHVlOlwiMDAwMDhiXCIsZGFya2N5YW46XCIwMDhiOGJcIixkYXJrZ29sZGVucm9kOlwiYjg4NjBiXCIsZGFya2dyYXk6XCJhOWE5YTlcIixkYXJrZ3JlZW46XCIwMDY0MDBcIixkYXJrZ3JleTpcImE5YTlhOVwiLGRhcmtraGFraTpcImJkYjc2YlwiLGRhcmttYWdlbnRhOlwiOGIwMDhiXCIsZGFya29saXZlZ3JlZW46XCI1NTZiMmZcIixkYXJrb3JhbmdlOlwiZmY4YzAwXCIsZGFya29yY2hpZDpcIjk5MzJjY1wiLGRhcmtyZWQ6XCI4YjAwMDBcIixkYXJrc2FsbW9uOlwiZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiOGZiYzhmXCIsZGFya3NsYXRlYmx1ZTpcIjQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIyZjRmNGZcIixkYXJrc2xhdGVncmV5OlwiMmY0ZjRmXCIsZGFya3R1cnF1b2lzZTpcIjAwY2VkMVwiLGRhcmt2aW9sZXQ6XCI5NDAwZDNcIixkZWVwcGluazpcImZmMTQ5M1wiLGRlZXBza3libHVlOlwiMDBiZmZmXCIsZGltZ3JheTpcIjY5Njk2OVwiLGRpbWdyZXk6XCI2OTY5NjlcIixkb2RnZXJibHVlOlwiMWU5MGZmXCIsZmlyZWJyaWNrOlwiYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCJmZmZhZjBcIixmb3Jlc3RncmVlbjpcIjIyOGIyMlwiLGZ1Y2hzaWE6XCJmMGZcIixnYWluc2Jvcm86XCJkY2RjZGNcIixnaG9zdHdoaXRlOlwiZjhmOGZmXCIsZ29sZDpcImZmZDcwMFwiLGdvbGRlbnJvZDpcImRhYTUyMFwiLGdyYXk6XCI4MDgwODBcIixncmVlbjpcIjAwODAwMFwiLGdyZWVueWVsbG93OlwiYWRmZjJmXCIsZ3JleTpcIjgwODA4MFwiLGhvbmV5ZGV3OlwiZjBmZmYwXCIsaG90cGluazpcImZmNjliNFwiLGluZGlhbnJlZDpcImNkNWM1Y1wiLGluZGlnbzpcIjRiMDA4MlwiLGl2b3J5OlwiZmZmZmYwXCIsa2hha2k6XCJmMGU2OGNcIixsYXZlbmRlcjpcImU2ZTZmYVwiLGxhdmVuZGVyYmx1c2g6XCJmZmYwZjVcIixsYXduZ3JlZW46XCI3Y2ZjMDBcIixsZW1vbmNoaWZmb246XCJmZmZhY2RcIixsaWdodGJsdWU6XCJhZGQ4ZTZcIixsaWdodGNvcmFsOlwiZjA4MDgwXCIsbGlnaHRjeWFuOlwiZTBmZmZmXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCJmYWZhZDJcIixsaWdodGdyYXk6XCJkM2QzZDNcIixsaWdodGdyZWVuOlwiOTBlZTkwXCIsbGlnaHRncmV5OlwiZDNkM2QzXCIsbGlnaHRwaW5rOlwiZmZiNmMxXCIsbGlnaHRzYWxtb246XCJmZmEwN2FcIixsaWdodHNlYWdyZWVuOlwiMjBiMmFhXCIsbGlnaHRza3libHVlOlwiODdjZWZhXCIsbGlnaHRzbGF0ZWdyYXk6XCI3ODlcIixsaWdodHNsYXRlZ3JleTpcIjc4OVwiLGxpZ2h0c3RlZWxibHVlOlwiYjBjNGRlXCIsbGlnaHR5ZWxsb3c6XCJmZmZmZTBcIixsaW1lOlwiMGYwXCIsbGltZWdyZWVuOlwiMzJjZDMyXCIsbGluZW46XCJmYWYwZTZcIixtYWdlbnRhOlwiZjBmXCIsbWFyb29uOlwiODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIjY2Y2RhYVwiLG1lZGl1bWJsdWU6XCIwMDAwY2RcIixtZWRpdW1vcmNoaWQ6XCJiYTU1ZDNcIixtZWRpdW1wdXJwbGU6XCI5MzcwZGJcIixtZWRpdW1zZWFncmVlbjpcIjNjYjM3MVwiLG1lZGl1bXNsYXRlYmx1ZTpcIjdiNjhlZVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiMDBmYTlhXCIsbWVkaXVtdHVycXVvaXNlOlwiNDhkMWNjXCIsbWVkaXVtdmlvbGV0cmVkOlwiYzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiMTkxOTcwXCIsbWludGNyZWFtOlwiZjVmZmZhXCIsbWlzdHlyb3NlOlwiZmZlNGUxXCIsbW9jY2FzaW46XCJmZmU0YjVcIixuYXZham93aGl0ZTpcImZmZGVhZFwiLG5hdnk6XCIwMDAwODBcIixvbGRsYWNlOlwiZmRmNWU2XCIsb2xpdmU6XCI4MDgwMDBcIixvbGl2ZWRyYWI6XCI2YjhlMjNcIixvcmFuZ2U6XCJmZmE1MDBcIixvcmFuZ2VyZWQ6XCJmZjQ1MDBcIixvcmNoaWQ6XCJkYTcwZDZcIixwYWxlZ29sZGVucm9kOlwiZWVlOGFhXCIscGFsZWdyZWVuOlwiOThmYjk4XCIscGFsZXR1cnF1b2lzZTpcImFmZWVlZVwiLHBhbGV2aW9sZXRyZWQ6XCJkYjcwOTNcIixwYXBheWF3aGlwOlwiZmZlZmQ1XCIscGVhY2hwdWZmOlwiZmZkYWI5XCIscGVydTpcImNkODUzZlwiLHBpbms6XCJmZmMwY2JcIixwbHVtOlwiZGRhMGRkXCIscG93ZGVyYmx1ZTpcImIwZTBlNlwiLHB1cnBsZTpcIjgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCI2NjMzOTlcIixyZWQ6XCJmMDBcIixyb3N5YnJvd246XCJiYzhmOGZcIixyb3lhbGJsdWU6XCI0MTY5ZTFcIixzYWRkbGVicm93bjpcIjhiNDUxM1wiLHNhbG1vbjpcImZhODA3MlwiLHNhbmR5YnJvd246XCJmNGE0NjBcIixzZWFncmVlbjpcIjJlOGI1N1wiLHNlYXNoZWxsOlwiZmZmNWVlXCIsc2llbm5hOlwiYTA1MjJkXCIsc2lsdmVyOlwiYzBjMGMwXCIsc2t5Ymx1ZTpcIjg3Y2VlYlwiLHNsYXRlYmx1ZTpcIjZhNWFjZFwiLHNsYXRlZ3JheTpcIjcwODA5MFwiLHNsYXRlZ3JleTpcIjcwODA5MFwiLHNub3c6XCJmZmZhZmFcIixzcHJpbmdncmVlbjpcIjAwZmY3ZlwiLHN0ZWVsYmx1ZTpcIjQ2ODJiNFwiLHRhbjpcImQyYjQ4Y1wiLHRlYWw6XCIwMDgwODBcIix0aGlzdGxlOlwiZDhiZmQ4XCIsdG9tYXRvOlwiZmY2MzQ3XCIsdHVycXVvaXNlOlwiNDBlMGQwXCIsdmlvbGV0OlwiZWU4MmVlXCIsd2hlYXQ6XCJmNWRlYjNcIix3aGl0ZTpcImZmZlwiLHdoaXRlc21va2U6XCJmNWY1ZjVcIix5ZWxsb3c6XCJmZjBcIix5ZWxsb3dncmVlbjpcIjlhY2QzMlwifSxiPW4uaGV4TmFtZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHRbZVthXV09YSk7cmV0dXJuIHR9KGspO2Z1bmN0aW9uIFMoZSl7cmV0dXJuIGU9cGFyc2VGbG9hdChlKSwoaXNOYU4oZSl8fGU8MHx8ZT4xKSYmKGU9MSksZX1mdW5jdGlvbiBQKGUsdCl7KGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiLlwiKSYmMT09PXBhcnNlRmxvYXQoZSl9KShlKSYmKGU9XCIxMDAlXCIpO3ZhciBhPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiJVwiKX0oZSk7cmV0dXJuIGU9TWF0aC5taW4odCxNYXRoLm1heCgwLHBhcnNlRmxvYXQoZSkpKSxhJiYoZT1wYXJzZUludChlKnQsMTApLzEwMCksTWF0aC5hYnMoZS10KTwxZS02PzE6ZSV0L3BhcnNlRmxvYXQodCl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gTWF0aC5taW4oMSxNYXRoLm1heCgwLGUpKX1mdW5jdGlvbiB4KGUpe3JldHVybiBwYXJzZUludChlLDE2KX1mdW5jdGlvbiBBKGUpe3JldHVybiAxPT1lLmxlbmd0aD9cIjBcIitlOlwiXCIrZX1mdW5jdGlvbiBNKGUpe3JldHVybiBlPD0xJiYoZT0xMDAqZStcIiVcIiksZX1mdW5jdGlvbiBJKGUpe3JldHVybiBNYXRoLnJvdW5kKDI1NSpwYXJzZUZsb2F0KGUpKS50b1N0cmluZygxNil9ZnVuY3Rpb24gRihlKXtyZXR1cm4geChlKS8yNTV9dmFyIFcsVCxfLE89KFQ9XCJbXFxcXHN8XFxcXChdKyhcIisoVz1cIig/OlstXFxcXCtdP1xcXFxkKlxcXFwuXFxcXGQrJT8pfCg/OlstXFxcXCtdP1xcXFxkKyU/KVwiKStcIilbLHxcXFxcc10rKFwiK1crXCIpWyx8XFxcXHNdKyhcIitXK1wiKVxcXFxzKlxcXFwpP1wiLF89XCJbXFxcXHN8XFxcXChdKyhcIitXK1wiKVssfFxcXFxzXSsoXCIrVytcIilbLHxcXFxcc10rKFwiK1crXCIpWyx8XFxcXHNdKyhcIitXK1wiKVxcXFxzKlxcXFwpP1wiLHtDU1NfVU5JVDpuZXcgUmVnRXhwKFcpLHJnYjpuZXcgUmVnRXhwKFwicmdiXCIrVCkscmdiYTpuZXcgUmVnRXhwKFwicmdiYVwiK18pLGhzbDpuZXcgUmVnRXhwKFwiaHNsXCIrVCksaHNsYTpuZXcgUmVnRXhwKFwiaHNsYVwiK18pLGhzdjpuZXcgUmVnRXhwKFwiaHN2XCIrVCksaHN2YTpuZXcgUmVnRXhwKFwiaHN2YVwiK18pLGhleDM6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDY6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLGhleDQ6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg4Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC99KTtmdW5jdGlvbiBEKGUpe3JldHVybiEhTy5DU1NfVU5JVC5leGVjKGUpfXJldHVybiBufSgpfX0sbj17fTtmdW5jdGlvbiByKGUpe3ZhciB0PW5bZV07aWYodm9pZCAwIT09dClyZXR1cm4gdC5leHBvcnRzO3ZhciBvPW5bZV09e2V4cG9ydHM6e319O3JldHVybiBhW2VdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8uZXhwb3J0c312YXIgbz17fTsoKCk9Pnt2YXIgZT1vO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuY3JlYXRlVGhlbWU9ZS5QYWxldHRlPWUuQ29sb3I9dm9pZCAwO3ZhciB0PXIoMjMxNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJDb2xvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LkNvbG9yfX0pO3ZhciBhPXIoNTkzOSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJQYWxldHRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuUGFsZXR0ZX19KTt2YXIgbj1yKDY4OTMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY3JlYXRlVGhlbWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcmVhdGVUaGVtZX19KX0pKCk7dmFyIGk9dDtmb3IodmFyIHMgaW4gbylpW3NdPW9bc107by5fX2VzTW9kdWxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sODc3OigpPT57fSw2NzooKT0+e30sOTc4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7TnQ6KCk9Pmp9KTt2YXIgbj17fTthLnIobiksYS5kKG4se2dldEl0ZW06KCk9PkcscmVtb3ZlSXRlbTooKT0+VSxzZXRJdGVtOigpPT4kfSk7dmFyIHI9YSg2NzUpLG89YSg3MjMpO2EoMTgxKTt2YXIgaT1hKDcwKTtjb25zdCBzPWFzeW5jIGU9Pntjb25zdCB0PWU/ZmluLldpbmRvdy53cmFwU3luYyhlKTpmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCksYT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSYmXCJlbnRlcnByaXNlXCI9PT1hLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGV9O2NvbnN0IGM9KGUsdD0wKT0+e2xldCBhLG4scj0hMTtjb25zdCBvPWFzeW5jIG49Pntjb25zdCBpPWF3YWl0IGUoLi4ubik7aWYocil7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSx0KSkpO2NvbnN0IGU9YTtyZXR1cm4gYT12b2lkIDAscj0hMSxvKGUpfXJldHVybiBpfTtyZXR1cm4oLi4uZSk9PihuPyhyPSEwLGE9ZSk6bj1vKGUpLmNhdGNoKChlPT57dGhyb3cgY29uc29sZS5lcnJvcihcIm1ha2VEZWJvdW5jZWRGdW5jXCIsZSksZX0pKS5maW5hbGx5KCgoKT0+e249dm9pZCAwfSkpLG4pfTt2YXIgZDshZnVuY3Rpb24oZSl7ZS5Ub3A9XCJ0b3BcIixlLkJlbG93PVwiYmVsb3dcIn0oZHx8KGQ9e30pKTtjb25zdCBsPWFzeW5jIGU9Pnt0cnl7cmV0dXJuISFlJiZcIm1heGltaXplZFwiPT09YXdhaXQgZS5nZXRTdGF0ZSgpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJwYXJlbnRXaW5kb3dNYXhpbWl6ZWQgLSBGYWlsZWQgdG8gZ2V0IHBhcmVudCB3aW5kb3cgc3RhdGVcIixlKSwhMX19O2FzeW5jIGZ1bmN0aW9uIHUoZSx0LGEsbixyLG8pe2NvbnN0IHM9ISFlJiYoMCxpLklxKShlKSxjPWF3YWl0KGFzeW5jKGUsdCk9Pnt0cnl7cmV0dXJuIGU/YXdhaXQgZS5nZXRCb3VuZHMoKTp0fWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJnZXRQYXJlbnRXaW5kb3dCb3VuZHMgLSBGYWlsZWQgdG8gZ2V0IHBhcmVudCB3aW5kb3cgYm91bmRzXCIsZSksdH19KShzLG8pO2lmKG49PT1kLkJlbG93KXtpZighc3x8YXdhaXQgbChzKSl7Y29uc3QgZT1zPyhhd2FpdCgwLGkudXIpKGMpKS5hdmFpbGFibGVSZWN0Oihhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCkpLnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3Q7cmV0dXJue2xlZnQ6KDAsaS5WMSkoZSkubGVmdC10LzIsdG9wOnI/ZS5ib3R0b20tMTI4OmUuYm90dG9tKzEyLHdpZHRoOnQsaGVpZ2h0OmF9fXJldHVybntsZWZ0OigwLGkuVjEpKGMpLmxlZnQtdC8yLHRvcDpyP2MuYm90dG9tLTEyODpjLmJvdHRvbSsxMix3aWR0aDp0LGhlaWdodDphfX1pZighc3x8YXdhaXQgbChzKSl7Y29uc3QgZT1zPyhhd2FpdCgwLGkudXIpKGMpKS5hdmFpbGFibGVSZWN0Oihhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCkpLnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3Q7cmV0dXJue2xlZnQ6KDAsaS5WMSkoZSkubGVmdC10LzIsdG9wOmUudG9wKzIwLHdpZHRoOnQsaGVpZ2h0OmF9fXJldHVybntsZWZ0OigwLGkuVjEpKGMpLmxlZnQtdC8yLHRvcDpjLnRvcCsyMCx3aWR0aDp0LGhlaWdodDphfX1jKChhc3luYyBmdW5jdGlvbihlLHQsYSxuLHIpe2NvbnN0IG89dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPWF3YWl0IHUoZSxvLndpZHRoLG8uaGVpZ2h0LGEsbixyKTtpZigwPT09cy53aWR0aHx8MD09PXMuaGVpZ2h0KXJldHVybjtjb25zdCBjPSgwLGkuVHYpKCk7YXdhaXQgYy5zZXRCb3VuZHMocyksYXdhaXQgYy5zaG93KCk7Y29uc3QgZD1zZXRUaW1lb3V0KCgoKT0+Yy5jbG9zZSgpKSxuPzVlMzozZTMpLGw9KCk9PntjbGVhclRpbWVvdXQoZCksYy5jbG9zZSgpfTtpZihlKXtjb25zdCB0PSgwLGkuSXEpKGUpO3Qub24oXCJib3VuZHMtY2hhbmdpbmdcIiwoKCk9PmwoKSkpLHQub24oXCJibHVycmVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwibWF4aW1pemVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwibWluaW1pemVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwicmVzdG9yZWRcIiwoKCk9PmwoKSkpfX0pLDEwKTthKDI3NyksYSg5NTcpO3ZhciBwPWEoNDM4KTtjb25zdCBoPXJlcXVpcmUoXCJsb2Rhc2guZGVib3VuY2VcIik7dmFyIGYsZz1hLm4oaCk7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIixlLlNlbGVjdGVkQ29sb3JTY2hlbWU9XCJTZWxlY3RlZENvbG9yU2NoZW1lXCIsZS5UaGVtZVBhbGV0dGVTaGVldD1cIlRoZW1lUGFsZXR0ZVNoZWV0XCIsZS5IYXNNb3ZlZFN0b3JlPVwiSGFzTW92ZWRTdG9yZVwiLGUuUGFnZURyYWdTdGF0ZT1cIkJyb3dzZXJQYWdlRHJhZ1N0YXRlXCJ9KGZ8fChmPXt9KSk7Y29uc3QgbT1mO2Z1bmN0aW9uIHcoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0obS5NYWNoaW5lTmFtZSk/P1widW5rbm93blwifWxldCB5O2FzeW5jIGZ1bmN0aW9uIHYoKXtyZXR1cm4geXx8KHk9YXdhaXQgZmluLlN5c3RlbS5nZXRNYWNoaW5lSWQoKSkseX12YXIgaz1hKDMzMyk7Y29uc3QgYj1hc3luYyBlPT4oey4uLmUsbGF5b3V0RGV0YWlsczp7bWFjaGluZUlkOmF3YWl0IHYoKSxtYWNoaW5lTmFtZTp3KCl9fSksUz1hc3luYyBlPT57Y29uc3QgdD1hd2FpdChhc3luYyhlLHQpPT4oe3BhZ2VJZDooMCxrLk4pKCksdGl0bGU6ZSxsYXlvdXQ6YXdhaXQgYih0KSxpc1JlYWRPbmx5OiExfSkpKGUudGl0bGUsUShlLmxheW91dCkpO3JldHVybiBlLnBhbmVscyYmKHQucGFuZWxzPWUucGFuZWxzLm1hcCgoZT0+KHsuLi5lLHZpZXdPcHRpb25zOksoZS52aWV3T3B0aW9ucyl9KSkpKSx7Li4uZSwuLi50fX07dmFyIFA9YSg3OSksQz1hKDc4Nik7dmFyIHg9YSgxMDIpO2NvbnN0IEE9KGUsdCk9PnQ/YCR7dH0tJHtlLnV1aWR9LSR7ZS5uYW1lfWA6YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCxNPW5ldyBNYXAsST0oZSx0KT0+e2NvbnN0IGE9QShlLHQpO3JldHVybiBuPWEsTS5oYXMobil8fE0uc2V0KG4sKDAseC5BKShuKSksTS5nZXQobikoKTt2YXIgbn07dmFyIEYsVyxULF8sTzshZnVuY3Rpb24oZSl7ZS5DbG9zZUJyb3dzZXJXaW5kb3c9XCJjbG9zZS1icm93c2VyLXdpbmRvd1wiLGUuUXVpdFBsYXRmb3JtPVwicXVpdC1wbGF0Zm9ybVwiLGUuQ2xvc2VQYWdlPVwiY2xvc2UtcGFnZVwiLGUuQWRkVG9DaGFubmVsPVwiYWRkLXRvLWNoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwicmVtb3ZlLWZyb20tY2hhbm5lbFwiLGUuT3BlblNhdmVNb2RhbEludGVybmFsPVwib3Blbi1zYXZlLW1vZGFsLWludGVybmFsXCIsZS5EdXBsaWNhdGVQYWdlPVwiZHVwbGljYXRlLXBhZ2VcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0LXNlbGVjdGVkLXNjaGVtZVwiLGUuU2hvd0Jyb3dzZXJJbmRpY2F0b3I9XCJzaG93LWJyb3dzZXItaW5kaWNhdG9yXCIsZS5TZXRTZWxlY3RlZExhbmd1YWdlPVwic2V0LXNlbGVjdGVkLWxhbmd1YWdlXCIsZS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWw9XCJyZWZyZXNoLWJvb2ttYXJrc1wiLGUuR2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzSW50ZXJuYWw9XCJnZXQtbGF5b3V0cy13aXRoLXNlbGVjdGVkLXZpZXdzXCIsZS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPVwiZm9jdXMtYW5kLWV4cGFuZC1zZWFyY2hcIn0oRnx8KEY9e30pKSxmdW5jdGlvbihlKXtlLkdldFBhZ2VzPVwiZ2V0LXBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlRm9yV2luZG93PVwiZ2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2gtcGFnZXMtdG8td2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2gtcGFnZXMtZnJvbS13aW5kb3dcIixlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJzZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuUmVuYW1lUGFnZT1cInJlbmFtZS1wYWdlXCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyLXBhZ2VzLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGUtcGFnZS1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnM9XCJ1cGRhdGUtcGFnZXMtd2luZG93LW9wdGlvbnNcIixlLklzRGV0YWNoaW5nUGFnZXM9XCJpcy1kZXRhY2hpbmctcGFnZXNcIixlLklzQWN0aXZlUGFnZUNoYW5naW5nPVwiaXMtYWN0aXZlLXBhZ2UtY2hhbmdpbmdcIn0oV3x8KFc9e30pKSxmdW5jdGlvbihlKXtlLkdldEFwcHM9XCJnZXQtYXBwc1wiLGUuR2V0Q3VyYXRlZENvbnRlbnQ9XCJnZXQtY3VyYXRlZC1jb250ZW50XCIsZS5HZXRSZWNlbnRseVZpc2l0ZWQ9XCJnZXQtcmVjZW50bHktdmlzaXRlZFwiLGUuR2V0U2VhcmNoUHJvdmlkZXJzPVwiZ2V0LXNlYXJjaC1wcm92aWRlcnNcIn0oVHx8KFQ9e30pKSxmdW5jdGlvbihlKXtlLkNyZWF0ZUJvb2ttYXJrTm9kZT1cImNyZWF0ZS1ib29rbWFyay1ub2RlXCIsZS5HZXRCb29rbWFya05vZGU9XCJnZXQtYm9va21hcmstbm9kZVwiLGUuU2VhcmNoQm9va21hcmtOb2Rlcz1cInNlYXJjaC1ib29rbWFyay1ub2Rlc1wiLGUuVXBkYXRlQm9va21hcmtOb2RlPVwidXBkYXRlLWJvb2ttYXJrLW5vZGVcIixlLkRlbGV0ZUJvb2ttYXJrTm9kZT1cImRlbGV0ZS1ib29rbWFyay1ub2RlXCJ9KF98fChfPXt9KSksZnVuY3Rpb24oZSl7ZS5VcGRhdGVGYXZvcml0ZUVudHJpZXM9XCJ1cGRhdGUtZmF2b3JpdGUtZW50cmllc1wiLGUuVXBkYXRlQ29udGVudE1lbnU9XCJ1cGRhdGUtY29udGVudC1tZW51XCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51PVwibmF2aWdhdGUtY29udGVudC1tZW51XCJ9KE98fChPPXt9KSk7Y29uc3QgRD17Li4uRiwuLi5XLC4uLk99LEU9KDAseC5BKShgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4/Lm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtYm9va21hcmtzYCksUj1lPT4oe2lkZW50aXR5OmUsb3BlbmZpbldpbmRvdzpmaW4uV2luZG93LndyYXBTeW5jKGUpLF9ib29rbWFya3M6e19jcmVhdGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBFKCkpLmRpc3BhdGNoKF8uQ3JlYXRlQm9va21hcmtOb2RlLGUpKShlKSxfZ2V0Qm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgRSgpKS5kaXNwYXRjaChfLkdldEJvb2ttYXJrTm9kZSxlKSkoZSksX3NlYXJjaEJvb2ttYXJrTm9kZXM6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBFKCkpLmRpc3BhdGNoKF8uU2VhcmNoQm9va21hcmtOb2RlcyxlKSkoZSksX3VwZGF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEUoKSkuZGlzcGF0Y2goXy5VcGRhdGVCb29rbWFya05vZGUsZSkpKGUpLF9kZWxldGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBFKCkpLmRpc3BhdGNoKF8uRGVsZXRlQm9va21hcmtOb2RlLGUpKShlKX0sZ2V0UGFnZXM6YXN5bmMoKT0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0UGFnZXNGb3JXaW5kb3csZSksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRQYWdlRm9yV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZDp0fSksYWRkUGFnZTphc3luYyB0PT5qKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fYWRkUGFnZSh0KSxfYWRkUGFnZTphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCgwLFAuYlcpKGUpLHI9e2lkZW50aXR5OmUscGFnZTp0LGluc2VydGlvbkluZGV4OmE/LmluZGV4LG11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I6YT8ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcn07cmV0dXJuIG4uZGlzcGF0Y2goUC5PRi5BZGRQYWdlLHIpfSxyZW1vdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHJlcGFyZW50UGFnZTphc3luYyB0PT5qKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fcmVwYXJlbnRQYWdlKHQpLF9yZXBhcmVudFBhZ2U6YXN5bmMgdD0+e2NvbnN0e3BhZ2VJZDphfT10LG49YXdhaXQoMCxQLmJXKShlKSxyPShhd2FpdCBuLmRpc3BhdGNoKFAuT0YuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApKS5maW5kKCgoe3BhZ2VJZDplfSk9PmU9PT1hKSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBSZXBhcmVudCBQYWdlIEVycm9yOiBUYXJnZXQgcGFnZSB3aXRoIHBhZ2VJZCAke2F9IG5vdCBmb3VuZGApO3IubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcj1cInJlcGFyZW50XCI7Y29uc3Qgbz17aWRlbnRpdHk6ZSxwYWdlczpbcl0saW5zZXJ0aW9uSW5kZXg6dC5pbmRleH07cmV0dXJuIG4uZGlzcGF0Y2goUC5PRi5BdHRhY2hQYWdlc1RvV2luZG93LG8pfSxzZXRBY3RpdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLlNldEFjdGl2ZVBhZ2Use2lkZW50aXR5OmUscGFnZUlkOnR9KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsUC5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKFAuT0YuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsUC5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKFAuT0YuUmVvcmRlclBhZ2VzRm9yV2luZG93LHQpfSxfb3Blbkdsb2JhbENvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsUC5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKFAuT0YuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwsdCl9LHJlcGxhY2VUb29sYmFyT3B0aW9uczphc3luYyB0PT57YXdhaXQoMCxQLmJXKShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dG9vbGJhck9wdGlvbnM6dH19KX0scmVwbGFjZVdpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczphc3luYyB0PT57YXdhaXQoMCxQLmJXKShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LHVwZGF0ZUJyb3dzZXJXaW5kb3dUaXRsZTphc3luYyB0PT57Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO1wic3RyaW5nXCIhPXR5cGVvZiB0P2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3RpdGxlOnR9fSk6Y29uc29sZS53YXJuKFwiVHlwZSBzdHJpbmcgZm9yIHdpbmRvdyB0aXRsZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFdpbmRvd1RpdGxlIHR5cGUgaW5zdGVhZFwiLHQpfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLFAuYlcpKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChQLk9GLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5QYWdlVGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxQLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goUC5PRi5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pnthd2FpdCgwLFAuYlcpKGUpO3JldHVybihhd2FpdCBJKGUpKS5kaXNwYXRjaChELk9wZW5TYXZlTW9kYWxJbnRlcm5hbCx0KX0sX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3czphc3luYygpPT4oYXdhaXQgSShlKSkuZGlzcGF0Y2goRC5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbCxlKSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLFAuYlcpKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChQLk9GLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX2FkZERlZmF1bHRQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsUC5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKFAuT0YuQWRkRGVmYXVsdFBhZ2UsdCl9LF90cmFja1JlbW92ZWRUYWI6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwsdCksX3Jlc3RvcmVSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWwsdCksX3RyYWNrVmlzaXRlZFNpdGU6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuVHJhY2tWaXNpdGVkU2l0ZUludGVybmFsLHQpLF9nZXRSZWNlbnRseVZpc2l0ZWRTaXRlczphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCx0KSxfc2VhcmNoU2l0ZXM6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuU2VhcmNoU2l0ZXNJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6dH0pLF9nZXRTZWFyY2hQcm92aWRlcnM6YXN5bmMoKT0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwse2lkZW50aXR5OmV9KSxfZ2V0Q3VyYXRlZENvbnRlbnQ6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6dH0pLF9oYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbjphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsLHQpfSksQj1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJue3dyYXBTeW5jOmU9PlIoZSksY3JlYXRlV2luZG93OmFzeW5jIGE9Pntjb25zdCBuPSgoKT0+e2NvbnN0IGU9YGJyb3dzZXItd2luZG93LXN0YXJ0dXAtJHsoMCxrLk4pKCl9YDtyZXR1cm4gQy5BLm1hcmtTdGFydChlKSxlfSkoKTsoZT0+e2Zpbi5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0pLm9uY2UoXCJ3aW5kb3ctc2hvd25cIiwoKCk9PntDLkEubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zaG93blwiLGUpfSkpfSkobiksYXdhaXQoMCxQLmJXKShlKTtjb25zdCByPWF3YWl0IHQuY3JlYXRlV2luZG93KGEpO3JldHVybihlPT57Qy5BLm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci13aW5kb3ctc3RhcnRlZFwiLGUpfSkobiksUihyLmlkZW50aXR5KX0sZ2V0QWxsQXR0YWNoZWRQYWdlczphc3luYygpPT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCksZ2V0QWxsV2luZG93czphc3luYygpPT57YXdhaXQoMCxQLmJXKShlKTtyZXR1cm4oYXdhaXQoMCxpLklvKSgpKS5tYXAoKGU9PlIoZS5pZGVudGl0eSkpKX0sZ2V0VW5pcXVlUGFnZVRpdGxlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKSxnZXRQYWdlQnlWaWV3SWRlbnRpdHk6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0UGFnZUJ5Vmlld0lkZW50aXR5LHQpfX0sTj1lPT4oe2NyZWF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZGVsZXRlUGFnZTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0U2F2ZWRQYWdlLHQpLGdldFBhZ2VzOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldFNhdmVkUGFnZXMsdCksc2F2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuU2F2ZVBhZ2UsdCksY3JlYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZGVsZXRlV29ya3NwYWNlOmFzeW5jIHQ9Pntjb25zdCBhPWooKSxuPWF3YWl0IGEuZ2V0Q3VycmVudFdvcmtzcGFjZSgpO2lmKG4ud29ya3NwYWNlSWQ9PT10KXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlbGV0ZSBjdXJyZW50IGFjdGl2ZSB3b3Jrc3BhY2UgJHtuLnRpdGxlfWApO3JldHVybihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuRGVsZXRlU2F2ZWRXb3Jrc3BhY2UsdCl9LHVwZGF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlVwZGF0ZVNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkdldFNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZXM6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRTYXZlZFdvcmtzcGFjZXMsdCksc2F2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlNhdmVXb3Jrc3BhY2UsdCksZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0RG9ja1Byb3ZpZGVyQ29uZmlnLHQpLHNhdmVEb2NrUHJvdmlkZXJDb25maWc6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5TYXZlRG9ja1Byb3ZpZGVyQ29uZmlnLHQpfSk7dmFyIEw7IWZ1bmN0aW9uKGUpe2UuVXBkYXRlUGxhdGZvcm1UaGVtZVNjaGVtZT1cInVwZGF0ZS1wbGF0Zm9ybS10aGVtZS1zY2hlbWVcIn0oTHx8KEw9e30pKTsoMCx4LkEpKFwib2Ytd29ya3NwYWNlLW5vdGlmaWNhdGlvbnMtc3luY1wiKTthKDY5NSk7Y29uc3QgJD0oZSx0KT0+e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGAke28uJGh9LSR7ZX1gLHQpfSxHPWU9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke28uJGh9LSR7ZX1gKSxVPWU9PmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke28uJGh9LSR7ZX1gKSxWPXIucVQuU3lzdGVtLHo9ZT0+T2JqZWN0LmVudHJpZXMoZSkucmVkdWNlKCgoZSxbdCxhXSk9PmAke2V9LS13b3Jrc3BhY2UtcGFsZXR0ZS0ke3R9OiAke2F9O2ApLFwiXCIpLEg9KGUsdCk9Pih7c2VsZWN0ZWRUYWI6XCJkYXJrXCI9PT10P2UuYmFja2dyb3VuZDM6ZS5iYWNrZ3JvdW5kMX0pO25ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3ZpZGVyU3RvcmFnZT1lLHRoaXMuZ2V0VmFyc0J5U2NoZW1lPWU9PlwiZGFya1wiPT09ZT90aGlzLmRhcmtQYWxldHRlVmFyczp0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMsdGhpcy5zZXRXb3Jrc3BhY2VTdG9yYWdlUHJveHk9ZT0+e3RoaXMud29ya3NwYWNlU3RvcmFnZT1lfSx0aGlzLnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZT1hc3luYygpPT57aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlKXtjb25zdCBlPXRoaXMuZ2V0U2NoZW1lKCk7aWYoYXdhaXQgdGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0obS5TZWxlY3RlZENvbG9yU2NoZW1lLGUpLHRoaXMuZGFya1BhbGV0dGVWYXJzJiZ0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMpaWYoXCJkYXJrXCI9PT1lfHxcImxpZ2h0XCI9PT1lKWF3YWl0IHRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKG0uVGhlbWVQYWxldHRlU2hlZXQsYDpyb290eyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoZSl9fWApO2Vsc2V7Y29uc3QgZT1gQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7OnJvb3QgeyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoXCJkYXJrXCIpfX19YCx0PWBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCl7OnJvb3R7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShcImxpZ2h0XCIpfX19YDthd2FpdCB0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShtLlRoZW1lUGFsZXR0ZVNoZWV0LGAke3R9JHtlfWApfX19LHRoaXMuc2V0UGFsZXR0ZXM9YXN5bmMoe2xpZ2h0OmUsZGFyazp0fSk9Pnt0aGlzLmxpZ2h0UGFsZXR0ZVZhcnM9eih7Li4uZSwuLi5IKGUsXCJsaWdodFwiKX0pLHRoaXMuZGFya1BhbGV0dGVWYXJzPXooey4uLnQsLi4uSCh0LFwiZGFya1wiKX0pfX1zZXRTY2hlbWUoZSl7dGhpcy5wcm92aWRlclN0b3JhZ2Uuc2V0SXRlbShtLlNlbGVjdGVkQ29sb3JTY2hlbWUsZSl9Z2V0U2NoZW1lKCl7cmV0dXJuIG51bGw9PT10aGlzLnByb3ZpZGVyU3RvcmFnZS5nZXRJdGVtKG0uU2VsZWN0ZWRDb2xvclNjaGVtZSkmJnRoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0obS5TZWxlY3RlZENvbG9yU2NoZW1lLFYpLHRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0obS5TZWxlY3RlZENvbG9yU2NoZW1lKX19KG4pO2NvbnN0IHE9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRUaGVtZXMsdm9pZCAwKSxzZXRTZWxlY3RlZFNjaGVtZTphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlNldFNlbGVjdGVkU2NoZW1lLHQpLGdldFNlbGVjdGVkU2NoZW1lOmFzeW5jKCk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKX0pLGo9KCk9PihlPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7bGV0IGE7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHQse2FwcGx5U25hcHNob3Q6YXN5bmModCxhKT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYhdD8ud2luZG93cyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBicm93c2VyIHNuYXBzaG90XCIpO3JldHVybiBmaW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuYXBwbHlTbmFwc2hvdCh0LGEpfSxnZXRTbmFwc2hvdDooKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFNuYXBzaG90KCkudGhlbigoZT0+ZSkpLGdldFZpZXdTbmFwc2hvdDp0PT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0Vmlld1NuYXBzaG90KHQpLGNyZWF0ZVZpZXc6KHQsYSxuKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmNyZWF0ZVZpZXcodCxhLG4pLGxhdW5jaEFwcDphc3luYyB0PT4oY29uc29sZS53YXJuKFwibGF1bmNoQXBwIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBJdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgY3JlYXRlVmlldyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5vcGVuZmluLmNvL29mLWRvY3MvZG9jcy9wbGF0Zm9ybS1nZXR0aW5nLXN0YXJ0ZWQjYWRkLWEtdmlldy10by1hbi1leGlzdGluZy13aW5kb3cgb3IgIGNyZWF0ZVdpbmRvdyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5vcGVuZmluLmNvL29mLWRvY3MvZG9jcy9wbGF0Zm9ybS1nZXR0aW5nLXN0YXJ0ZWQjY3JlYXRlLWEtcGxhdGZvcm0td2luZG93IGluc3RlYWQuXCIpLHQudGFyZ2V0fHwodC50YXJnZXQ9e3V1aWQ6by4kaCxuYW1lOm8udkwsZW50aXR5VHlwZTpvLmZUfHxcInVua25vd25cIn0pLChhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuTGF1bmNoQXBwLHQpKSxfaW52b2tlQ3VzdG9tQWN0aW9uOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0KDAsUC5OKShlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fHIudmMuQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2goUC5PRi5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sX3JlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2c6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWwsdCksZ2V0Q3VycmVudFdvcmtzcGFjZTphc3luYygpPT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkdldEN1cnJlbnRXb3Jrc3BhY2Usdm9pZCAwKSxhcHBseVdvcmtzcGFjZTphc3luYyh0LGEpPT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkFwcGx5V29ya3NwYWNlLHsuLi50LG9wdGlvbnM6YX0pLHJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5SZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWwsdCksc2V0QWN0aXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuU2V0QWN0aXZlV29ya3NwYWNlLHQpLGdldExhbmd1YWdlOmFzeW5jKCk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0TGFuZ3VhZ2UpLF9nZXRMYW5ndWFnZVJlc291cmNlczphc3luYygpPT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWwpLHNldExhbmd1YWdlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuU2V0TGFuZ3VhZ2UsdCksX3JhaXNlQW5hbHl0aWNzOmFzeW5jIHQ9PntpZihhfHwoYT1hd2FpdCgwLFAuS1opKGUpKSxcIm9iamVjdFwiPT10eXBlb2YgYSYmYT8uYW5hbHl0aWNzPy5pc1N1cHBvcnRlZClyZXR1cm4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkFuYWx5dGljcyx0KTtlLnV1aWR9LGdldE5vdGlmaWNhdGlvbnNDb25maWc6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXROb3RpZmljYXRpb25zQ29uZmlnKSxfcmVmcmVzaEJvb2ttYXJrc0ludGVybmFsOmFzeW5jKCk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKSxfbGF1bmNoQm9va21hcmtJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkxhdW5jaEJvb2ttYXJrSW50ZXJuYWwsdCksX3VwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbCx0KSxfdXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwsdCksX2xhdW5jaERvY2tFbnRyeUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuTGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwsdCksX3NldERvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsLHQpLF9zZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbCx0KSxfcmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5BZGREb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfbmF2aWdhdGVDb250ZW50TWVudUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuTmF2aWdhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9vcGVuRG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsOmFzeW5jKCk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsKSxfaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWwsdCksX2ZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKSxUaGVtZTpxKGUpLEJyb3dzZXI6QihlKSxTdG9yYWdlOk4oZSl9KTtyZXR1cm4gbn0pKGZpbi5tZS5pZGVudGl0eSk7Y29uc3QgWD0oZSx0KT0+ZS5jb250ZW50P3suLi5lLGNvbnRlbnQ6ZS5jb250ZW50Lm1hcCgoZT0+WChlLHQpKSl9OnsuLi5lLGNvbXBvbmVudFN0YXRlOnQoZS5jb21wb25lbnRTdGF0ZSl9LEs9ZT0+KHsuLi5lLG5hbWU6dm9pZCAwfSksUT1lPT57Y29uc3QgdD17Li4uZX07cmV0dXJuIFgodCxLKX0sWj1lPT57Y29uc3QgdD1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKChlPT57aWYoXCJjb21wb25lbnRcIj09PWUudHlwZSlyZXR1cm4gdC5wdXNoKGUuY29tcG9uZW50U3RhdGUpO2NvbnN0IGE9WihlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fTtuZXcgTWFwLG5ldyBNYXA7Y29uc3QgWT1hc3luYyhlLHQpPT57Y29uc3QgYT0oZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyhlKTtyZXR1cm57c2hvdzphc3luYygpPT57Y29uc3QgYT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczpuLGRpbWVuc2lvbnM6cn09YSxvPWF3YWl0IHMoZSk7YXdhaXQgdC5yZXBsYWNlKHsuLi5hLHNldHRpbmdzOnsuLi5uLGhhc0hlYWRlcnM6ITAscmVvcmRlckVuYWJsZWQ6ITB9LGRpbWVuc2lvbnM6ey4uLnIsaGVhZGVySGVpZ2h0Om8/Mjg6MzB9fSl9LGhpZGU6YXN5bmMgZT0+e2NvbnN0IGE9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6bixkaW1lbnNpb25zOnJ9PWF3YWl0IGE7YXdhaXQgdC5yZXBsYWNlKHsuLi5hLHNldHRpbmdzOnsuLi5uLGhhc0hlYWRlcnM6ITEscmVvcmRlckVuYWJsZWQ6ZT8uc2V0dGluZ3M/LnJlb3JkZXJFbmFibGVkPz8hMX0sZGltZW5zaW9uczp7Li4ucixoZWFkZXJIZWlnaHQ6MH19KX0saXNTaG93aW5nVGFiczphc3luYygpPT57dHJ5e2NvbnN0IGU9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6YX09YXdhaXQgZTtyZXR1cm4gYS5oYXNIZWFkZXJzfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCBsYXlvdXQgY29uZmlnOiBcIixlKSwhMH19fX0pKHsuLi5pLiRwLGxheW91dE5hbWU6ZS5sYXlvdXRDb250YWluZXJLZXl9KSxuPWF3YWl0IGEuaXNTaG93aW5nVGFicygpO3Q+MT9ufHxhd2FpdCBhLnNob3coKToxPT09dCYmbiYmYXdhaXQgYS5oaWRlKHtzZXR0aW5nczp7cmVvcmRlckVuYWJsZWQ6ITB9fSl9LEo9KGcoKSgoYXN5bmMgZT0+e3RyeXtjb25zdCB0PWF3YWl0KGFzeW5jIGU9PmZpbi5QbGF0Zm9ybS5MYXlvdXQud3JhcFN5bmMoey4uLmZpbi5tZS5pZGVudGl0eSxsYXlvdXROYW1lOmV9KS5nZXRDb25maWcoKSkoZS5sYXlvdXRDb250YWluZXJLZXkpLGE9dC5jb250ZW50P1oodC5jb250ZW50KTpbXSxuPWEubGVuZ3RoO24+MT8oZT0+e1wibXVsdGlWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUmJmooKS5Ccm93c2VyLndyYXBTeW5jKGkuJHApLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOntzaW5nbGVWaWV3TmFtZTpudWxsLGF0dGFjaGVkUGFnZVR5cGU6XCJtdWx0aVZpZXdcIn19KX0pKGUpOjE9PT1uJiYoYXN5bmMoZSx0KT0+e2NvbnN0IGE9aigpLkJyb3dzZXIud3JhcFN5bmMoaS4kcCk7aWYoXCJzaW5nbGVWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUpe2NvbnN0IG49YXdhaXQgUyhlKSxyPWF3YWl0IGooKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZSgpO2RlbGV0ZSBuLmxheW91dDtjb25zdCBvPXsuLi5uLHNpbmdsZVZpZXdOYW1lOnQsdGl0bGU6cixoYXNVbnNhdmVkQ2hhbmdlczohMSxhdHRhY2hlZFBhZ2VUeXBlOlwic2luZ2xlVmlld1wifTthd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOm99KX19KShlLGFbMF0ubmFtZSksYXdhaXQgWShlLG4pfWNhdGNoKGUpe319KSw1MCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pLHJlcXVpcmUoXCJyZWFjdC1pMThuZXh0XCIpLHJlcXVpcmUoXCJpMThuZXh0XCIpKTthLm4oSikoKS50O25ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucXVldWU9W10sdGhpcy5sb2NrZWQ9ITF9bG9jaygpe3JldHVybiBuZXcgUHJvbWlzZSgoZT0+e3RoaXMubG9ja2VkP3RoaXMucXVldWUucHVzaChlKToodGhpcy5sb2NrZWQ9ITAsZSgpKX0pKX11bmxvY2soKXtpZih0aGlzLnF1ZXVlLmxlbmd0aD4wKXtjb25zdCBlPXRoaXMucXVldWUuc2hpZnQoKTtlJiZlKCl9ZWxzZSB0aGlzLmxvY2tlZD0hMX19O25ldyBNYXA7Y29uc3QgZWU9KChlLHQpPT57Y29uc3QgYT1lO3JldHVybiBhLndvcmtzcGFjZVBsYXRmb3JtfHwoYS53b3Jrc3BhY2VQbGF0Zm9ybT17fSksYS53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPXtzZXRBc0ZvcmVncm91bmQ6ISF0LGRlZmVyU2hvd0VuYWJsZWQ6ITAsYXV0b1Nob3c6YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsQXV0b1Nob3d8fGEud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM/LmF1dG9TaG93fHx2b2lkIDA9PT1hLmF1dG9TaG93fHxhLmF1dG9TaG93fSxhLmF1dG9TaG93PSExLGF9KSh7YWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsZnJhbWU6ITEscmVzaXphYmxlOiExLHNob3dUYXNrYmFySWNvbjohMX0pOyFmdW5jdGlvbihlPWVlKXtjb25zdCB0PW5ldyBNYXB9KCk7YSg1MjMpO2Z1bmN0aW9uIHRlKGUsdCl7cmV0dXJuIGFzeW5jKGEsLi4ubik9PntlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpLHQmJmF3YWl0IHQoe2V2ZW50OmEscGF5bG9hZDpufSl9fWZ1bmN0aW9uIGFlKGUsdCl7cmV0dXJuIHQmJnQoKHQ9Pntjb25zdHtldmVudDphLHBheWxvYWQ6bn09dDtlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpfSkpLCh0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCksZS5nZXQodCkuYWRkKGEpfX1mdW5jdGlvbiBuZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpO2NvbnN0IG49ZS5nZXQodCkscj0oLi4uZSk9PnthKC4uLmUpLG4uZGVsZXRlKHIpfTtuLmFkZChyKX19ZnVuY3Rpb24gcmUoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KSYmZS5nZXQodCkuZGVsZXRlKGEpfX1pLlEuQnJvd3Nlck1lbnU7KGZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDt0ZSh0LCh0PT5vLmNJJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZSh0LCh0PT5vLmNJJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxyZSh0KSxuZSh0KX0pKFwid2luZG93Lm1lbnVcIiksYygoKCk9PigwLHAudjEpKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLDUwMCk7bmV3IE1hcDtuZXcgTWFwO2coKSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuQXBwbGljYXRpb24uZ2V0Q2hpbGRXaW5kb3dzKCk7bGV0IHQsYT0hMTtmb3IoY29uc3QgbiBvZiBlKWlmKG4uaWRlbnRpdHkubmFtZT09PWkuUS5Ccm93c2VyTWVudXx8bi5pZGVudGl0eS5uYW1lPT09aS5RLkJyb3dzZXJTYXZlTWVudT90PW46YXdhaXQoMCxpLmhiKShuLmlkZW50aXR5KSYmKGE9ITApLGEpYnJlYWs7IWEmJnQmJnQuY2xvc2UoKX0pLDEwMCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pO3ZhciBvZSxpZTshZnVuY3Rpb24oZSl7ZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZUFzXCJ9KG9lfHwob2U9e30pKSxmdW5jdGlvbihlKXtlLkdsb2JhbE1lbnU9XCJnbG9iYWwtbWVudVwiLGUuQ29udGV4dE1lbnU9XCJjb250ZXh0LW1lbnVcIixlLlJlbmFtZVN1cGVydGFiPVwicmVuYW1lLXN1cGVydGFiXCIsZS5BZGRFZGl0Qm9va21hcms9XCJhZGQtZWRpdC1ib29rbWFya1wiLGUuRHJvcGRvd25NZW51PVwiZHJvcGRvd24tbWVudVwifShpZXx8KGllPXt9KSk7Y29uc3Qgc2U9cmVxdWlyZShcImRleGllXCIpLGNlPWU9PmUrXCItXCIrZmluLm1lLnV1aWQsZGU9KGUsdCk9Pntjb25zdCBhPW8uQVQmJm8uY0kmJm5ldyBzZS5EZXhpZShlKTtyZXR1cm4gYSYmYS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t0XTpcIlwifSksYX0sbGU9KGUsdCk9Pntjb25zdCBhPWRlKGNlKGUpLHQpLG49ZGUoZSx0KTtpZighYXx8IW4pdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1pZ3JhdGUgc3RvcmUgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuKGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49RyhtLkhhc01vdmVkU3RvcmUpLHI9bj9KU09OLnBhcnNlKG4pOnt9O2lmKHImJnJbYV0pcmV0dXJuO3JbYV09ITAsJChtLkhhc01vdmVkU3RvcmUsSlNPTi5zdHJpbmdpZnkocikpO2NvbnN0IG89YXdhaXQgZVthXS50b0FycmF5KCk7YXdhaXQgdFthXS5idWxrUHV0KG8pfSkobixhLGUpLGF9LHVlPVwidmlzaXRlZC1zaXRlc1wiLHBlPVwicmVtb3ZlZC10YWItc3RhY2tcIixoZT0oby5BVCYmby5jSSYmbGUoXCJvcGVuZmluLWhvbWUtcGFnZXNcIixcInBhZ2VzXCIpLG8uQVQmJm8uY0kmJm5ldyBzZS5EZXhpZShjZShcIm9wZW5maW4tZW50ZXJwcmlzZS1zaXRlLWhpc3RvcnlcIikpKTtoZSYmaGUudmVyc2lvbiguMSkuc3RvcmVzKHtbdWVdOlwiaWQsIHVybFwifSk7Y29uc3QgZmU9by5BVCYmby5jSSYmbmV3IHNlLkRleGllKGNlKFwib3BlbmZpbi1lbnRlcnByaXNlLXRhYi1oaXN0b3J5XCIpKTtmZSYmZmUudmVyc2lvbiguMSkuc3RvcmVzKHtbcGVdOlwiXCJ9KTt2YXIgZ2U7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0oZ2V8fChnZT17fSkpO2dlLlNlcGFyYXRvcjt2YXIgbWU7IWZ1bmN0aW9uKGUpe2VbZS5Ub3BMZWZ0PTBdPVwiVG9wTGVmdFwiLGVbZS5Ub3BSaWdodD0xXT1cIlRvcFJpZ2h0XCIsZVtlLkJvdHRvbUxlZnQ9Ml09XCJCb3R0b21MZWZ0XCIsZVtlLkJvdHRvbVJpZ2h0PTNdPVwiQm90dG9tUmlnaHRcIixlW2UuQ2VudGVyPTRdPVwiQ2VudGVyXCJ9KG1lfHwobWU9e30pKTsoMCx4LkEpKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1kb2NrYCk7Y29uc3Qgd2U9XCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIix5ZT1vLkFUJiZvLmNJJiZuZXcgc2UuRGV4aWUoY2UoXCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIikpO3llJiZ5ZS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t3ZV06XCJcIn0pO2NvbnN0IHZlPVwid29ya3NwYWNlc1wiO28uQVQmJm8uY0kmJmxlKFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLHZlKTthKDI1MCk7aS4kcC51dWlkLGkuUS5Ccm93c2VyQWRkcmVzc1NlYXJjaFByZWZpeDthKDE3OSl9LDY3NTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse3FUOigpPT5vLHZjOigpPT5ofSk7dmFyIG4scixvLGkscyxjLGQsbCx1LHAsaDthKDE3OSksYSgyNTApOyFmdW5jdGlvbihlKXtlLlVybENoYW5nZT1cIlVSTF9DSEFOR0VcIixlLlZpZXdBZGRlZD1cIlZJRVdfQURERURcIixlLlZpZXdSZW1vdmVkPVwiVklFV19SRU1PVkVEXCIsZS5QYWdlQ29udGV4dEFkZGVkPVwiUEFHRV9DT05URVhUX0FEREVEXCIsZS5QYWdlQ29udGV4dFJlbW92ZWQ9XCJQQUdFX0NPTlRFWFRfUkVNT1ZFRFwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3V2luZG93PVwiTmV3V2luZG93XCIsZS5OZXdQYWdlPVwiTmV3UGFnZVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkNsb3NlV2luZG93PVwiQ2xvc2VXaW5kb3dcIixlLlJlc3RvcmVDaGFuZ2VzPVwiUmVzdG9yZUNoYW5nZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLlJlbmFtZVdvcmtzcGFjZT1cIlJlbmFtZVdvcmtzcGFjZVwiLGUuU3dpdGNoV29ya3NwYWNlPVwiU3dpdGNoV29ya3NwYWNlXCIsZS5EZWxldGVXb3Jrc3BhY2U9XCJEZWxldGVXb3Jrc3BhY2VcIixlLkRvd25sb2Fkcz1cIkRvd25sb2Fkc1wiLGUuT3BlblN0b3JlZnJvbnQ9XCJPcGVuU3RvcmVmcm9udFwiLGUuQXBwZWFyYW5jZT1cIkFwcGVhcmFuY2VcIixlLlF1aXQ9XCJRdWl0XCIsZS5DdXN0b209XCJDdXN0b21cIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkxpZ2h0PVwibGlnaHRcIixlLkRhcms9XCJkYXJrXCIsZS5TeXN0ZW09XCJzeXN0ZW1cIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNsb3NlPVwiQ2xvc2VcIixlLkR1cGxpY2F0ZT1cIkR1cGxpY2F0ZVwiLGUuUmVuYW1lPVwiUmVuYW1lXCIsZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZSBBc1wiLGUuTmV3UGFnZT1cIk5ldyBQYWdlXCIsZS5EZWxldGVQYWdlPVwiRGVsZXRlIFBhZ2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVmcmVzaD1cIlJlZnJlc2hcIixlLkNsb3NlT3RoZXJzPVwiQ2xvc2Ugb3RoZXJzXCIsZS5EZWxldGU9XCJEZWxldGVcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkN1c3RvbT1cIkN1c3RvbVwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jaz1cIkxvY2tcIixlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQWRkVG9DaGFuZWw9XCJBZGRUb0NoYW5uZWxcIixlLlByaW50PVwiUHJpbnRcIixlLlBpbj1cIlBpblwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuRWRpdE5hbWU9XCJFZGl0IE5hbWVcIixlLk1vdmU9XCJNb3ZlXCIsZS5EZWxldGU9XCJEZWxldGVcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLk5ld1ZpZXc9XCJOZXdWaWV3XCIsZS5EdXBsaWNhdGVWaWV3cz1cIkR1cGxpY2F0ZVZpZXdcIixlLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI9XCJPcGVuV2l0aERlZmF1bHRCcm93c2VyXCIsZS5SZWxvYWRWaWV3cz1cIlJlbG9hZFRhYlwiLGUuQ2xvc2VWaWV3cz1cIkNsb3NlVGFiXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwiUmVtb3ZlRnJvbUNoYW5uZWxcIixlLkJhY2s9XCJCYWNrXCIsZS5Gb3J3YXJkPVwiRm9yd2FyZFwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGR8fChkPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkNvbG9yTGlua2luZz1cIkNvbG9yTGlua2luZ1wiLGUuUHJlc2V0TGF5b3V0cz1cIlByZXNldExheW91dHNcIixlLkxvY2tVbmxvY2tQYWdlPVwiTG9ja1VubG9ja1BhZ2VcIixlLlNhdmVNZW51PVwiU2F2ZU1lbnVcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLk1pbmltaXNlPVwiTWluaW1pc2VcIixlLk1heGltaXNlPVwiTWF4aW1pc2VcIixlLkNsb3NlPVwiQ2xvc2VcIixlLkN1c3RvbT1cIkN1c3RvbVwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cImJyb3dzZXJcIixlLlBsYXRmb3JtPVwicGxhdGZvcm1cIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbUJ1dHRvbj1cIkN1c3RvbUJ1dHRvblwiLGUuU3RvcmVDdXN0b21CdXR0b249XCJTdG9yZUN1c3RvbUJ1dHRvblwiLGUuQ3VzdG9tRHJvcGRvd25JdGVtPVwiQ3VzdG9tRHJvcGRvd25JdGVtXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PVwiU2F2ZUJ1dHRvbkNvbnRleHRNZW51XCIsZS5BUEk9XCJBUElcIn0oaHx8KGg9e30pKTt2YXIgZjshZnVuY3Rpb24oZSl7ZS5TQVZFX1BBR0U9XCJTQVZFX1BBR0VcIixlLlNBVkVfV09SS1NQQUNFPVwiU0FWRV9XT1JLU1BBQ0VcIixlLlNBVkVfUEFHRV9BUz1cIlNBVkVfUEFHRV9BU1wiLGUuU0FWRV9XT1JLU1BBQ0VfQVM9XCJTQVZFX1dPUktTUEFDRV9BU1wiLGUuUkVOQU1FX1BBR0U9XCJSRU5BTUVfUEFHRVwiLGUuUkVOQU1FX1dPUktTUEFDRT1cIlJFTkFNRV9XT1JLU1BBQ0VcIn0oZnx8KGY9e30pKX0sMjQ4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7SDooKT0+b30pO3ZhciBuPWEoNDM4KSxyPWEoNzg2KTtjb25zdCBvPShlLHQpPT57ci5BLm1hcmtTdGFydChgJHtlfS1yZWdpc3RyYXRpb25gKSwoMCxuLkJZKSgpLm9uY2UoXCJzdGFydGVkXCIsKCgpPT5yLkEubWFya0FuZE1lYXN1cmUoXCJ3b3Jrc3BhY2UtYXBwLXN0YXJ0ZWRcIixgJHtlfS1yZWdpc3RyYXRpb25gKSkpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyh0KTthLm9uY2UoXCJpbml0aWFsaXplZFwiLCgoKT0+ci5BLm1hcmtBbmRNZWFzdXJlKGAke2V9LXdpbmRvdy1pbml0aWFsaXplZGAsYCR7ZX0tcmVnaXN0cmF0aW9uYCkpKSxhLm9uY2UoXCJzaG93blwiLCgoKT0+e3IuQS5tYXJrQW5kTWVhc3VyZShgJHtlfS1zaG93YCxgJHtlfS1yZWdpc3RyYXRpb25gKX0pKX19LDgzNDooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5yKHQpLGEuZCh0LHtDTElBY3Rpb246KCk9PkEuUEssQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+QS5vbyxDTElUZW1wbGF0ZTooKT0+QS5mQyxkZXJlZ2lzdGVyOigpPT5GLGhpZGU6KCk9PlQscmVnaXN0ZXI6KCk9Pkksc2hvdzooKT0+V30pO3ZhciBuPWEoNzIzKSxyPWEoNzg2KSxvPWEoMjc3KSxpPWEoNzApO2NvbnN0IHM9XCIwXCIsYz1cIjJcIixkPVwiM1wiLGw9XCI1XCIsdT1cIjZcIjt2YXIgcD1hKDY5NSksaD1hKDc5KSxmPWEoNTc1KTt2YXIgZz1hKDkwNSk7Y29uc3QgbT0oKT0+e307ZnVuY3Rpb24gdyhlKXtjb25zdCB0PXt9O2xldCBhPVtdO2xldCBuPVtdO2xldCByPW51bGw7bGV0IG89Zy5aby5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5vLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5hLHQuc2V0UmVzdWx0QnVmZmVyPWU9PnthPWUsYT8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+bix0LnNldFJldm9rZWRCdWZmZXI9ZT0+e249ZSxuPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5zZXRVcGRhdGVkQ29udGV4dD1lPT57cj1lLG51bGwhPT1yJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0VXBkYXRlZENvbnRleHQ9KCk9PnIsdC5vbkNoYW5nZT1tO2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e28hPT1nLlpvLkNsb3NlJiYobz1nLlpvLkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e28hPT1nLlpvLk9wZW4mJihvPWcuWm8uT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9YT0+e2NvbnN0IG49ZnVuY3Rpb24oZT1bXSx0PVtdLGE9XCJhc2NlbmRpbmdcIil7Y29uc3Qgbj1bXSxyPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIHIuc2V0KGUua2V5LGUpO24ucHVzaChlKX0pKTtsZXQgbz1lLm1hcCgoZT0+e2lmKGUua2V5KXtjb25zdCB0PXIuZ2V0KGUua2V5KTtpZih0KXJldHVybiByLmRlbGV0ZShlLmtleSksdH1yZXR1cm4gZX0pKTtyZXR1cm4gby5wdXNoKC4uLnIudmFsdWVzKCksLi4ubiksbz1cImFzY2VuZGluZ1wiPT09YT9vLnNvcnQoKChlLHQpPT4oZT8uc2NvcmU/PzEvMCktKHQ/LnNjb3JlPz8xLzApKSk6by5zb3J0KCgoZSx0KT0+KHQ/LnNjb3JlPz8xLzApLShlPy5zY29yZT8/MS8wKSkpLG99KHQuZ2V0UmVzdWx0QnVmZmVyKCksYSxlKTt0LnNldFJlc3VsdEJ1ZmZlcihuKX0saS5yZXZva2U9KC4uLmUpPT57Y29uc3QgYT1uZXcgU2V0KGUpLG49dC5nZXRSZXN1bHRCdWZmZXIoKS5maWx0ZXIoKCh7a2V5OmV9KT0+e2NvbnN0IHQ9YS5oYXMoZSk7cmV0dXJuIHQmJmEuZGVsZXRlKGUpLCF0fSkpO3Quc2V0UmVzdWx0QnVmZmVyKG4pLGEuc2l6ZSYmKHQuZ2V0UmV2b2tlZEJ1ZmZlcigpLmZvckVhY2goKGU9PmEuYWRkKGUpKSksdC5zZXRSZXZva2VkQnVmZmVyKFsuLi5hXSkpfSxpLnVwZGF0ZUNvbnRleHQ9ZT0+e3Quc2V0VXBkYXRlZENvbnRleHQoZSl9LHR9Y29uc3QgeT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIHYoZSl7Y29uc3R7aWQ6dCxwcm92aWRlcklkOmF9PWUsbj1QLmdldFByb3ZpZGVyT3JGYWlsKGEpO2xldCByPXkuZ2V0KHQpO3J8fChyPWZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1uZXcgU2V0O2xldCBuPSExO3JldHVybntjbG9zZTooKT0+e249ITA7Zm9yKGNvbnN0IGUgb2YgYSllKCl9LHJlcTp7aWQ6ZSwuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e30sb25DbG9zZTplPT57YS5hZGQoZSksbiYmZSgpfSxyZW1vdmVMaXN0ZW5lcjplPT57YS5kZWxldGUoZSl9fX19KHQsZSkseS5zZXQodCxyKSk7Y29uc3Qgbz13KCksaT0oKT0+e2NvbnN0IGU9by5nZXRSZXN1bHRCdWZmZXIoKTtvLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3Qgbj1vLmdldFJldm9rZWRCdWZmZXIoKTtvLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHI9by5nZXRVcGRhdGVkQ29udGV4dCgpO28uc2V0VXBkYXRlZENvbnRleHQobnVsbCk7Y29uc3QgaT1vLmdldFN0YXR1cygpOyFhc3luYyBmdW5jdGlvbihlKXsoYXdhaXQoMCxwLmdqKSgpKS5kaXNwYXRjaChzLGUpfSh7aWQ6dCxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6bixzdGF0dXM6aSxjb250ZXh0OnJ9KX07bGV0IGM9ITAsZD0hMTtvLm9uQ2hhbmdlPSgpPT57aWYoYylyZXR1cm4gYz0hMSx2b2lkIGkoKTtkfHwoZD0hMCxzZXRUaW1lb3V0KCgoKT0+e2Q9ITEsaSgpfSksMTAwKSl9O3RyeXtjb25zdHtyZXN1bHRzOmUsY29udGV4dDppfT1hd2FpdCBuLm9uVXNlcklucHV0KHIucmVxLG8ucmVzKSxzPW8uZ2V0U3RhdHVzKCk7cmV0dXJue2lkOnQscHJvdmlkZXJJZDphLHN0YXR1czpzLHJlc3VsdHM6ZSxjb250ZXh0Oml9fWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKGBPcGVuRmluL1dvcmtzcGFjZS9Ib21lLiBVbmNhdWdodCBleGNlcHRpb24gaW4gc2VhcmNoIHByb3ZpZGVyICR7YX0gZm9yIHNlYXJjaCAke3R9YCxcIlRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc2VhcmNoIHByb3ZpZGVyLlwiLGUpLHtpZDp0LHByb3ZpZGVySWQ6YSxlcnJvcjplPy5tZXNzYWdlfX19YXN5bmMgZnVuY3Rpb24gaygpe2Zvcihjb25zdHtyZXE6ZSxjbG9zZTp0fW9mIHkudmFsdWVzKCkpdCgpLHkuZGVsZXRlKGUuaWQpfWFzeW5jIGZ1bmN0aW9uIGIoZSx0KXtjb25zdCBhPVAuZ2V0UHJvdmlkZXJPckZhaWwoZS5wcm92aWRlcklkKTtyZXR1cm4gZS5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PXQsYS5vblJlc3VsdERpc3BhdGNoPy4oZS5yZXN1bHQpfWZ1bmN0aW9uIFMoZSl7Y29uc3QgdD15LmdldChlLmlkKTt0Py5jbG9zZSgpLHkuZGVsZXRlKGUuaWQpfWNvbnN0IFA9bmV3IGYueE0oXCJob21lXCIpLEM9YXN5bmMgZT0+e2F3YWl0KDAscC5uQSkoKTshKFwic2tpcFBsYXRmb3JtSW5pdENoZWNrXCJpbiBlJiYhMD09PWUuc2tpcFBsYXRmb3JtSW5pdENoZWNrKSYmYXdhaXQoMCxoLktaKShmaW4ubWUuaWRlbnRpdHkpO1AuYXNzZXJ0Tm90QWxyZWFkeVJlZ2lzdGVyZWQoZS5pZCksUC5zZXRQcm92aWRlcihlKTtjb25zdCB0PWF3YWl0KDAscC5naikoKTtyZXR1cm4gZnVuY3Rpb24oZSl7ZS5ob21lQ2hhbm5lbEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5ob21lQ2hhbm5lbEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIocyx2KSxlLnJlZ2lzdGVyKHUsUyksZS5yZWdpc3RlcihsLGIpLGUuYWRkRGlzY29ubmVjdGlvbkxpc3RlbmVyKGspKX0odCksdC5kaXNwYXRjaChjLHtpZDplLmlkLHRpdGxlOmUudGl0bGUsaWNvbjplLmljb24sY2xpZW50QVBJVmVyc2lvbjpuLmV0LGlkZW50aXR5OmZpbi5tZS5pZGVudGl0eSxzY29yZU9yZGVyOmUuc2NvcmVPcmRlcixjb21tYW5kQ29kZTplLmNvbW1hbmRDb2RlLGRlc2NyaXB0aW9uOmUuZGVzY3JpcHRpb24saGlkZGVuOmUuaGlkZGVuLGxpc3RUaXRsZTplLmxpc3RUaXRsZSxpbnB1dFBsYWNlaG9sZGVyOmUuaW5wdXRQbGFjZWhvbGRlcixsb2dvVXJsOmUubG9nb1VybCxkaXNwYXRjaEZvY3VzRXZlbnRzOmUuZGlzcGF0Y2hGb2N1c0V2ZW50c30pfTt2YXIgeD1hKDI0OCksQT1hKDg3Mik7bGV0IE07Y29uc3QgST1hc3luYyBlPT57aWYoIWUuaWNvbil0aHJvdyBuZXcgRXJyb3IoYCR7ZS5pZH0gcHJvdmlkZXIgbmVlZHMgdG8gaGF2ZSBpY29uIHByb3BlcnR5IGRlZmluZWQuYCk7KDAseC5IKShcImhvbWVcIixpLkYyKTtjb25zdCB0PWF3YWl0IEMoZSk7cmV0dXJuIE09bmV3IFByb21pc2UoKChhLGkpPT57dHJ5eygwLG8uR1IpKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246dD8ud29ya3NwYWNlVmVyc2lvbn0pLG4uZXQsYSh7Li4udCxjbGllbnRBUElWZXJzaW9uOm4uZXQsc2V0U2VhcmNoUXVlcnk6YXN5bmMgdD0+KGF3YWl0KDAscC5ONykoKSkuZGlzcGF0Y2goXCJzZXQtc2VhcmNoLXF1ZXJ5XCIse3F1ZXJ5OnQscHJvdmlkZXJJRDplLmlkfSl9KX1jYXRjaChlKXsoMCxvLkdSKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUgaW5zdGFuY2VvZiBFcnJvcj9lLm1lc3NhZ2U6XCJ1bmtub3duXCJ9KSxpKGUpfWZpbmFsbHl7ci5BLm1hcmtFbmRBbmRNZWFzdXJlKFwiaG9tZS1yZWdpc3RyYXRpb25cIil9fSkpLE19LEY9YXN5bmMgZT0+e1AuZGVsZXRlUHJvdmlkZXIoZSk7Y29uc3QgdD1hd2FpdCgwLHAuZ2opKCk7YXdhaXQgdC5kaXNwYXRjaChkLGUpfTthc3luYyBmdW5jdGlvbiBXKCl7ci5BLm1hcmtTdGFydChcImhvbWUtc2hvd1wiKSxhd2FpdCBNO2NvbnN0IGU9YXdhaXQoMCxwLk43KSgpO2F3YWl0IGUuZGlzcGF0Y2goXCJzaG93LWhvbWVcIix2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIFQoKXthd2FpdCBNO2NvbnN0IGU9YXdhaXQoMCxwLk43KSgpO2F3YWl0IGUuZGlzcGF0Y2goXCJoaWRlLWhvbWVcIix2b2lkIDApfX0sNTc1OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7eE06KCk9PnN9KTtjb25zdCBuPXJlcXVpcmUoXCJ0aXRsZS1jYXNlXCIpO2NsYXNzIHIgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe2NvbnN0IGE9KDAsbi50aXRsZUNhc2UpKGUpO3N1cGVyKGAke2F9IFByb3ZpZGVyLiAke2F9IFByb3ZpZGVyJHt0P2Agd2l0aCBpZCAke3R9YDpcIlwifSBpcyBub3QgY3VycmVudGx5IHJlZ2lzdGVyZWQuYCl9fWNsYXNzIG8gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe2NvbnN0IGE9KDAsbi50aXRsZUNhc2UpKGUpO3N1cGVyKGAke2F9IFByb3ZpZGVyLiAke2F9IFByb3ZpZGVyJHt0P2Agd2l0aCBpZCAke3R9YDpcIlwifSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuIENhbGwgXFxgZGVyZWdpc3RlclxcYCBiZWZvcmUgcmVnaXN0ZXJpbmcgYWdhaW4uYCl9fWNsYXNzIGkgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe2NvbnN0IGE9KDAsbi50aXRsZUNhc2UpKGUpO3N1cGVyKGBGYWlsZWQgdG8gZ2V0ICR7YX0gUHJvdmlkZXIuICR7YX0gUHJvdmlkZXIgd2l0aCBpZCAke3R9IGlzIG5vdCBjdXJyZW50bHkgcmVnaXN0ZXJlZC5gKX19Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3ZpZGVyc01hcD1uZXcgTWFwLHRoaXMucHJvdmlkZXJUeXBlPWV9YXNzZXJ0Tm90QWxyZWFkeVJlZ2lzdGVyZWQoZSl7aWYodGhpcy5oYXNQcm92aWRlcihlKSl0aHJvdyBuZXcgbyh0aGlzLnByb3ZpZGVyVHlwZSxlKX1hc3NlcnRSZWdpc3RlcmVkKGUpe2lmKCF0aGlzLmhhc1Byb3ZpZGVyKGUpKXRocm93IG5ldyByKHRoaXMucHJvdmlkZXJUeXBlLGUpfWdldFByb3ZpZGVyKGUpe3JldHVybiB0aGlzLnByb3ZpZGVyc01hcC5nZXQoZSl9aGFzUHJvdmlkZXIoZSl7cmV0dXJuIHRoaXMucHJvdmlkZXJzTWFwLmhhcyhlKX1zZXRQcm92aWRlcihlKXt0aGlzLnByb3ZpZGVyc01hcC5zZXQoZS5pZCxlKX1kZWxldGVQcm92aWRlcihlKXt0aGlzLnByb3ZpZGVyc01hcC5kZWxldGUoZSl9Z2V0UHJvdmlkZXJPckZhaWwoZSl7Y29uc3QgdD10aGlzLmdldFByb3ZpZGVyKGUpO2lmKCF0KXRocm93IG5ldyBpKHRoaXMucHJvdmlkZXJUeXBlLGUpO3JldHVybiB0fWNsZWFyUHJvdmlkZXJzKCl7dGhpcy5wcm92aWRlcnNNYXAuY2xlYXIoKX19fSwxMjk6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuLHIsbzthLmQodCx7UDooKT0+cixSOigpPT5vfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSl9LDYwMDooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47YS5kKHQse2E6KCk9Pm59KSxmdW5jdGlvbihlKXtlLkFjdGlvbkJ1dHRvbj1cIkFjdGlvbkJ1dHRvblwiLGUuRHJvcGRvd25CdXR0b249XCJEcm9wZG93bkJ1dHRvblwifShufHwobj17fSkpfSw4NzI6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuLHIsbzthLmQodCx7UEs6KCk9Pm4sZkM6KCk9PnIsb286KCk9Pm99KSxmdW5jdGlvbihlKXtlLlN1Z2dlc3Rpb249XCJzdWdnZXN0aW9uXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5Db250YWN0PVwiQ29udGFjdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCIsZS5MaXN0PVwiTGlzdFwiLGUuUGxhaW49XCJQbGFpblwiLGUuU2ltcGxlVGV4dD1cIlNpbXBsZVRleHRcIixlLkxvYWRpbmc9XCJMb2FkaW5nXCIsZS5FcnJvcj1cIkVycm9yXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5NdWx0aVNlbGVjdD1cIk11bHRpU2VsZWN0XCJ9KG98fChvPXt9KSl9LDE3OTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YSgxMjkpLGEoODcyKSxhKDcxMCksYSgxODQpLGEoNjAwKX0sNzEwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbixyO2EuZCh0LHt2OigpPT5uLHo6KCk9PnJ9KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShyfHwocj17fSkpfSwxODQ6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtTTTooKT0+byxjZTooKT0+bixpbjooKT0+aSxucDooKT0+cn0pO2NvbnN0IG49e0NvbnRhaW5lcjpcIkNvbnRhaW5lclwiLEJ1dHRvbjpcIkJ1dHRvblwiLFNwbGl0QnV0dG9uOlwiU3BsaXRCdXR0b25cIn0scj17VGV4dDpcIlRleHRcIixJbWFnZTpcIkltYWdlXCIsTGlzdDpcIkxpc3RcIn0sbz17Li4ubiwuLi5yfTt2YXIgaTshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KGl8fChpPXt9KSl9LDU5ODooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5yKHQpLGEuZCh0LHtBcHBNYW5pZmVzdFR5cGU6KCk9Pm8udixTdG9yZWZyb250VGVtcGxhdGU6KCk9Pm8ueixkZXJlZ2lzdGVyOigpPT55LGhpZGU6KCk9PnYscmVnaXN0ZXI6KCk9Pncsc2hvdzooKT0+a30pO3ZhciBuPWEoMjc3KSxyPWEoNjk1KSxvPWEoNzEwKSxpPWEoNzIzKSxzPWEoNzg2KSxjPWEoNzApLGQ9YSg3OSksbD1hKDU3NSk7bGV0IHU9ITE7YXN5bmMgZnVuY3Rpb24gcChlLHQsYSl7Y29uc3Qgbj1hd2FpdCgwLHIucDQpKCk7dHJ5e3JldHVybiBhd2FpdCBuLmRpc3BhdGNoKGUuYWN0aW9uLGUucGF5bG9hZCl9Y2F0Y2gocil7aWYociBpbnN0YW5jZW9mIEVycm9yJiYtMSE9PXIudG9TdHJpbmcoKS5pbmRleE9mKGUuYWN0aW9uKSlyZXR1cm4gdXx8Y29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIFdvcmtzcGFjZSBjbGllbnQgbGlicmFyeSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnRseSBydW5uaW5nIHdvcmtzcGFjZSBwcm92aWRlci4gUGxlYXNlIHVwZ3JhZGUgdGhlIFdvcmtzcGFjZSB0byB2ZXJzaW9uIDkuMCBvciBsYXRlci5cIiksdT0hMCxhd2FpdCBuLmRpc3BhdGNoKHQuYWN0aW9uLHQucGF5bG9hZCksYTt0aHJvdyByfX1jb25zdCBoPW5ldyBsLnhNKFwic3RvcmVmcm9udFwiKSxmPWFzeW5jIGU9Pnthd2FpdCgwLGQuS1opKGZpbi5tZS5pZGVudGl0eSk7Y29uc3QgdD1hd2FpdCgwLHIuTjcpKCk7cmV0dXJuIGguYXNzZXJ0Tm90QWxyZWFkeVJlZ2lzdGVyZWQoZS5pZCksaC5zZXRQcm92aWRlcihlKSwoZT0+e2Uuc3RvcmVmcm9udENoYW5uZWxBY3Rpb25zUmVnaXN0ZXJlZHx8KGUuc3RvcmVmcm9udENoYW5uZWxBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKFwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldEFwcHMoKSkpLGUucmVnaXN0ZXIoXCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1mb290ZXJcIiwoZT0+aC5nZXRQcm92aWRlck9yRmFpbChlKS5nZXRGb290ZXIoKSkpLGUucmVnaXN0ZXIoXCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIiwoZT0+aC5nZXRQcm92aWRlck9yRmFpbChlKS5nZXRMYW5kaW5nUGFnZSgpKSksZS5yZWdpc3RlcihcImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIiwoZT0+aC5nZXRQcm92aWRlck9yRmFpbChlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKFwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsKCh7aWQ6ZSxhcHA6dH0pPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmxhdW5jaEFwcCh0KSkpKX0pKHQpLGUuY2xpZW50QVBJVmVyc2lvbj1pLmV0LHAoe2FjdGlvbjpcInJlZ2lzdGVyLXByb3ZpZGVyXCIscGF5bG9hZDp7cHJvdmlkZXJUeXBlOlwic3RvcmVmcm9udFwiLGluZm86ZX19LHthY3Rpb246XCJyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIscGF5bG9hZDplfSx7d29ya3NwYWNlVmVyc2lvbjpcInVua25vd25cIn0pfTt2YXIgZz1hKDI0OCk7bGV0IG07Y29uc3Qgdz1hc3luYyBlPT57KDAsZy5IKShcInN0b3JlXCIsYy5nUSk7Y29uc3QgdD1hd2FpdCBmKGUpO3JldHVybiBtPW5ldyBQcm9taXNlKCgoYSxvKT0+e3RyeXsoMCxuLnh0KSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOnQ/LndvcmtzcGFjZVZlcnNpb259KSxpLmV0LGEoe2NsaWVudEFQSVZlcnNpb246aS5ldCx3b3Jrc3BhY2VWZXJzaW9uOnQ/LndvcmtzcGFjZVZlcnNpb24/P1wiXCIsdXBkYXRlQXBwQ2FyZEJ1dHRvbnM6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxyLm1RKSgpO2F3YWl0IGEuZGlzcGF0Y2goXCJ1cGRhdGUtYXBwLWNhcmQtYnV0dG9uLWNvbmZpZ1wiLHsuLi50LGlkOmUuaWQsdGl0bGU6ZS50aXRsZSxpY29uOmUuaWNvbixwbGF0Zm9ybUlkZW50aXR5OmZpbi5tZS5pZGVudGl0eX0pfX0pfWNhdGNoKGUpeygwLG4ueHQpKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZSBpbnN0YW5jZW9mIEVycm9yP2UubWVzc2FnZTpcInVua25vd25cIn0pLG8oZSl9ZmluYWxseXtzLkEubWFya0VuZEFuZE1lYXN1cmUoXCJzdG9yZS1yZWdpc3RyYXRpb25cIil9fSkpLG19LHk9YXN5bmMgZT0+KGF3YWl0IG0saC5hc3NlcnRSZWdpc3RlcmVkKGUpLGguZGVsZXRlUHJvdmlkZXIoZSksYXdhaXQoMCxyLm5BKSgpLHAoe2FjdGlvbjpcImRlcmVnaXN0ZXItcHJvdmlkZXJcIixwYXlsb2FkOntwcm92aWRlclR5cGU6XCJzdG9yZWZyb250XCIsaWQ6ZX19LHthY3Rpb246XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixwYXlsb2FkOmV9KSksdj1hc3luYygpPT4oYXdhaXQgbSxhd2FpdCgwLHIubkEpKCkscCh7YWN0aW9uOlwiaGlkZS1wcm92aWRlci13aW5kb3dcIixwYXlsb2FkOntwcm92aWRlclR5cGU6XCJzdG9yZWZyb250XCJ9fSx7YWN0aW9uOlwiaGlkZS1zdG9yZWZyb250XCJ9KSksaz1hc3luYygpPT4ocy5BLm1hcmtTdGFydChcInN0b3JlLXNob3dcIiksYXdhaXQgbSxhd2FpdCgwLHIubkEpKCkscCh7YWN0aW9uOlwic2hvdy1wcm92aWRlci13aW5kb3dcIixwYXlsb2FkOntwcm92aWRlclR5cGU6XCJzdG9yZWZyb250XCJ9fSx7YWN0aW9uOlwic2hvdy1zdG9yZWZyb250XCJ9KSl9LDI1MDooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47IWZ1bmN0aW9uKGUpe2UuTGVmdD1cIkxlZnRcIixlLlJpZ2h0PVwiUmlnaHRcIixlLlRvcD1cIlRvcFwiLGUuQm90dG9tPVwiQm90dG9tXCJ9KG58fChuPXt9KSl9LDc5OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjthLmQodCx7S1o6KCk9Pm8sTjooKT0+aSxPRjooKT0+bixiVzooKT0+c30pLGZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuQWRkUGFnZT1cImFkZFBhZ2VcIixlLkFkZERlZmF1bHRQYWdlPVwiYWRkRGVmYXVsdFBhZ2VcIixlLkdldEFsbEF0dGFjaGVkUGFnZXM9XCJnZXRBbGxBdHRhY2hlZFBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3c9XCJnZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3dcIixlLkdldFBhZ2VzRm9yV2luZG93PVwiZ2V0UGFnZXNGb3JXaW5kb3dcIixlLkdldFBhZ2VGb3JXaW5kb3c9XCJnZXRQYWdlRm9yV2luZG93XCIsZS5HZXRTYXZlZFBhZ2VNZXRhZGF0YT1cImdldFNhdmVkUGFnZU1ldGFkYXRhXCIsZS5HZXRVbmlxdWVQYWdlVGl0bGU9XCJnZXRVbmlxdWVQYWdlVGl0bGVcIixlLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuR2V0UGFnZUJ5Vmlld0lkZW50aXR5PVwiZ2V0UGFnZUJ5Vmlld0lkZW50aXR5XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLkdldFNlbGVjdGVkU2NoZW1lPVwiZ2V0U2VsZWN0ZWRTY2hlbWVcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0U2VsZWN0ZWRTY2hlbWVcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbD1cInJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbFwiLGUuU2V0QWN0aXZlV29ya3NwYWNlPVwic2V0QWN0aXZlV29ya3NwYWNlXCIsZS5Jc0Jyb3dzZXJJbml0aWFsaXplZD1cImlzQnJvd3NlckluaXRpYWxpemVkXCIsZS5BbmFseXRpY3M9XCJhbmFseXRpY3NJbnRlcm5hbFwiLGUuR2V0TGFuZ3VhZ2U9XCJnZXRMYW5ndWFnZVwiLGUuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbD1cImdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWxcIixlLlNldExhbmd1YWdlPVwic2V0TGFuZ3VhZ2VcIixlLkdldERvY2tQcm92aWRlckNvbmZpZz1cImdldERvY2tQcm92aWRlckNvbmZpZ1wiLGUuU2F2ZURvY2tQcm92aWRlckNvbmZpZz1cInNhdmVEb2NrUHJvdmlkZXJDb25maWdcIixlLkhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlPVwiaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2VcIixlLlNob3VsZFBhZ2VDbG9zZT1cInNob3VsZFBhZ2VDbG9zZVwiLGUuU2hvdWxkV2luZG93Q2xvc2U9XCJzaG91bGRXaW5kb3dDbG9zZVwiLGUuQ29weVBhZ2U9XCJjb3B5UGFnZVwiLGUuSGFuZGxlUGFnZUNoYW5nZXM9XCJoYW5kbGVQYWdlQ2hhbmdlc1wiLGUuTWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD1cIm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWxcIixlLlRyYWNrUmVtb3ZlZFRhYkludGVybmFsPVwidHJhY2tSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWw9XCJyZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsXCIsZS5UcmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWw9XCJ0cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWxcIixlLkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsXCIsZS5HZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLlNlYXJjaFNpdGVzSW50ZXJuYWw9XCJzZWFyY2hTaXRlc0ludGVybmFsXCIsZS5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbD1cImdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsXCIsZS5HZXRDdXJhdGVkQ29udGVudEludGVybmFsPVwiZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbFwiLGUuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbD1cImhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWxcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2hCb29rbWFya3NJbnRlcm5hbFwiLGUuTGF1bmNoQm9va21hcmtJbnRlcm5hbD1cImxhdW5jaEJvb2ttYXJrSW50ZXJuYWxcIixlLkdldE5vdGlmaWNhdGlvbnNDb25maWc9XCJnZXROb3RpZmljYXRpb25zQ29uZmlnXCIsZS5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw9XCJ1cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWxcIixlLlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJ1cGRhdGVDb250ZW50TWVudUludGVybmFsXCIsZS5MYXVuY2hEb2NrRW50cnlJbnRlcm5hbD1cImxhdW5jaERvY2tFbnRyeUludGVybmFsXCIsZS5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbD1cInNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsXCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJuYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw9XCJzZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsXCIsZS5HZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw9XCJnZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWxcIixlLkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw9XCJoYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsXCIsZS5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbD1cInJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsXCIsZS5BZGREb2NrRmF2b3JpdGVJbnRlcm5hbD1cImFkZERvY2tGYXZvcml0ZUludGVybmFsXCIsZS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPVwiZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbFwifShufHwobj17fSkpO2NvbnN0IHI9YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLG89YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcihlKSxhPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG47dHJ5e249YXdhaXQgdC5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGEpfWlmKFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbilyZXR1cm4gY29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uIFBsZWFzZSB1cGRhdGUgeW91ciB3b3Jrc3BhY2UgcGxhdGZvcm0uXCIpLG47aWYoXCJvYmplY3RcIj09dHlwZW9mIG4mJm4uaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoYSl9LGk9YXN5bmMgZT0+KGF3YWl0IG8oZSkscihlKSkscz1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBvKGUpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhMCE9PXQ/LmlzQnJvd3NlckluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlRhcmdldCBpcyBub3QgYSBCcm93c2VyLWVuYWJsZWQgV29ya3NwYWNlIFBsYXRmb3JtLlwiKTtyZXR1cm4gcihlKX19LDY5NTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse043OigpPT5mLGdqOigpPT5sLG1ROigpPT5oLG5BOigpPT5wLHA0OigpPT5jfSk7dmFyIG49YSgxMDIpLHI9YSg3MjMpLG89YSg3MCksaT1hKDkwNSk7Y29uc3Qgcz0oMCxuLkEpKFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKSxjPXMsZD1zLGw9KDAsbi5BKShpLkJUKSx1PWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChcImlzTGF1bmNoZWRWaWFMaWJcIixcInRydWVcIiksdC50b1N0cmluZygpfSxwPWFzeW5jKCk9PntpZighYXdhaXQoMCxvLkMpKG8ueHQpKXtpZihyLmp3fHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSlyZXR1cm4gdm9pZCBhd2FpdCBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QodShyLm03KSk7YXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIodShyLnQ4KSl9fSxoPWFzeW5jKCk9Pihhd2FpdCBwKCksYygpKSxmPWFzeW5jKCk9Pihhd2FpdCBwKCksZCgpKX0sOTA1OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7QlQ6KCk9Pm4sWm86KCk9Pm99KTtjb25zdCBuPVwiX19zZWFyY2gtb3BlbmZpbi1icm93c2VyLWhvbWUtdG9waWNfX1wiO3ZhciByLG87IWZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShvfHwobz17fSkpfSw5NTc6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuPWEoODQ3KSxyPShhKDcwKSxhKDk3OCksYSg2NzUpLGEoODc3KSksbz1hLm4ociksaT1hKDY3KSxzPWEubihpKTtzKCksbygpO2EoNjk1KSxhKDc5KTtjb25zdCBjPXtbbi5QYWxldHRlLmJyYW5kUHJpbWFyeV06XCIjMEE3NkQzXCIsW24uUGFsZXR0ZS5zdGF0dXNTdWNjZXNzXTpuLkNvbG9yLmZ1bmN0aW9uYWwxLFtuLlBhbGV0dGUuc3RhdHVzV2FybmluZ106bi5Db2xvci5mdW5jdGlvbmFsMTAsW24uUGFsZXR0ZS5zdGF0dXNDcml0aWNhbF06bi5Db2xvci5mdW5jdGlvbmFsNyxbbi5QYWxldHRlLnN0YXR1c0FjdGl2ZV06bi5Db2xvci5mdW5jdGlvbmFsMyxbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMV06XCIjMEE3NkQzXCIsW24uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDJdOlwiIzAwMDAwMFwiLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQzXTpcIiMwMDAwMDBcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNF06XCIjMDAwMDAwXCIsW24uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDVdOlwiIzAwMDAwMFwifSxkPXsuLi5jLFtuLlBhbGV0dGUuYmFja2dyb3VuZDFdOm4uQ29sb3Iud2hpdGUsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMl06bi5Db2xvci5saWdodEdyYXkxLFtuLlBhbGV0dGUuYmFja2dyb3VuZDNdOm4uQ29sb3IubGlnaHRHcmF5Mixbbi5QYWxldHRlLmJhY2tncm91bmQ0XTpuLkNvbG9yLmxpZ2h0R3JheTMsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNV06bi5Db2xvci5saWdodEdyYXk0LFtuLlBhbGV0dGUuYmFja2dyb3VuZDZdOm4uQ29sb3IubGlnaHRHcmF5NSxbbi5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5XTpuLkNvbG9yLmxpZ2h0R3JheTQsW24uUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOm4uQ29sb3IubGlnaHRHcmF5Myxbbi5QYWxldHRlLmlucHV0Q29sb3JdOm4uQ29sb3IuZGFya0dyYXk1LFtuLlBhbGV0dGUuaW5wdXRQbGFjZWhvbGRlcl06bi5Db2xvci5kYXJrR3JheTIsW24uUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpuLkNvbG9yLm5ldXRyYWxHcmF5LFtuLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dEJvcmRlcl06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLnRleHREZWZhdWx0XTpuLkNvbG9yLmRhcmtHcmF5NSxbbi5QYWxldHRlLnRleHRIZWxwXTpuLkNvbG9yLmRhcmtHcmF5Myxbbi5QYWxldHRlLnRleHRJbmFjdGl2ZV06bi5Db2xvci5uZXV0cmFsR3JheX0sbD17Li4uYyxbbi5QYWxldHRlLmJhY2tncm91bmQxXTpuLkNvbG9yLmRhcmtHcmF5Nixbbi5QYWxldHRlLmJhY2tncm91bmQyXTpuLkNvbG9yLmRhcmtHcmF5NSxbbi5QYWxldHRlLmJhY2tncm91bmQzXTpuLkNvbG9yLmRhcmtHcmF5NCxbbi5QYWxldHRlLmJhY2tncm91bmQ0XTpuLkNvbG9yLmRhcmtHcmF5Myxbbi5QYWxldHRlLmJhY2tncm91bmQ1XTpuLkNvbG9yLmRhcmtHcmF5Mixbbi5QYWxldHRlLmJhY2tncm91bmQ2XTpuLkNvbG9yLmRhcmtHcmF5MSxbbi5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5XTpuLkNvbG9yLmRhcmtHcmF5Mixbbi5QYWxldHRlLmlucHV0QmFja2dyb3VuZF06bi5Db2xvci5kYXJrR3JheTEsW24uUGFsZXR0ZS5pbnB1dENvbG9yXTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuaW5wdXRQbGFjZWhvbGRlcl06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuaW5wdXREaXNhYmxlZF06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLmlucHV0Rm9jdXNlZF06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuaW5wdXRCb3JkZXJdOm4uQ29sb3IubmV1dHJhbEdyYXksW24uUGFsZXR0ZS50ZXh0RGVmYXVsdF06bi5Db2xvci53aGl0ZSxbbi5QYWxldHRlLnRleHRIZWxwXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS50ZXh0SW5hY3RpdmVdOm4uQ29sb3IubmV1dHJhbEdyYXl9O24uQ29sb3IubGlnaHRHcmF5NCxuLkNvbG9yLmRhcmtHcmF5NSxuLkNvbG9yLmRhcmtHcmF5MixuLkNvbG9yLmRhcmtHcmF5NX0sNDM4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7Qlk6KCk9PmwsTVc6KCk9Pm4sdjE6KCk9PmR9KTt2YXIgbixyLG89YSg3MjMpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4td29ya3NwYWNlXCIsZS5PbGRXb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KHJ8fChyPXt9KSk7Y29uc3QgaT17dXVpZDpvLiRofSxzPXt1dWlkOm4uV29ya3NwYWNlfSxjPWU9PntpZighby5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBcHBsaWNhdGlvbiBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKX0sZD0oKT0+YyhpKSxsPSgpPT5jKHMpfSwxMDI6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtBOigpPT5vfSk7dmFyIG49YSg3MjMpO2NvbnN0IHI9bi5ZWSYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7ZnVuY3Rpb24gbyhlKXtsZXQgdDtjb25zdCBhPW5ldyBTZXQ7cmV0dXJuKCk9PntpZighbi5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCByO2NvbnN0IG89e2NsaWVudEFQSVZlcnNpb246bi5ldH0saT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpvfSk7cmV0dXJuIGkub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57YS5mb3JFYWNoKChlPT5lKCkpKSxhLmNsZWFyKCksY29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSx0PXZvaWQgMH0pKSxpfSkoKS50aGVuKChlPT4oZS5hZGREaXNjb25uZWN0aW9uTGlzdGVuZXI9ZT0+e2EuYWRkKGUpfSxlKSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19fSw3MjM6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuO2EuZCh0LHskaDooKT0+YyxBVDooKT0+aSxZWTooKT0+byxjSTooKT0+cixldDooKT0+ZyxmVDooKT0+bCxqdzooKT0+dSxtNzooKT0+aCx0ODooKT0+cCx2TDooKT0+ZH0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0obnx8KG49e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sbz0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLGk9byYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixzPW8/d2luZG93Lm9yaWdpbjpuLkxvY2FsLGM9ciYmZmluLm1lLnV1aWQsZD1yJiZmaW4ubWUubmFtZSxsPXImJmZpbi5tZS5lbnRpdHlUeXBlLHU9XCJwcm9kXCI9PT1uLkxvY2FsLHA9KG4uRGV2LG4uU3RhZ2luZyxuLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLGg9XCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMS4wLjE1L2FwcC5qc29uXCIsZj1lPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOnMrZSxnPShmKFwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjEuMC4xNVwiKSxmKFwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjEuMC4xNVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZmKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmYoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCIyMS4wLjE1XCIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfQlVJTERfU0hBJiZXT1JLU1BBQ0VfQlVJTERfU0hBfSw3ODY6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtBOigpPT5yfSk7Y29uc3Qgbj1cIm9mLXdvcmtzcGFjZS1cIjtjb25zdCByPW5ldyBjbGFzc3ttYXJrKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9YCl9bWFya1N0YXJ0KGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9LXN0YXJ0YCl9bWFya0VuZChlKXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfS1lbmRgKX1tYXJrRW5kQW5kTWVhc3VyZShlKXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfS1lbmRgKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7bn0ke2V9YCxgJHtufSR7ZX0tc3RhcnRgLGAke259JHtlfS1lbmRgKX1jYXRjaChlKXswfX1tYXJrQW5kTWVhc3VyZShlLHQpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9YCk7dHJ5e3JldHVybiBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke259JHtlfS1tZWFzdXJlYCxgJHtufSR7dH0tc3RhcnRgLGAke259JHtlfWApfWNhdGNoKGUpezB9fXJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlRW50cmllcygpe3JldHVybiBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWVhc3VyZVwiKS5maWx0ZXIoKGU9PmUubmFtZS5zdGFydHNXaXRoKG4pKSl9cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2UoKXtyZXR1cm4gdGhpcy5yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKS5tYXAoKGU9Pih7bmFtZTplLm5hbWUucmVwbGFjZShgJHtufWAsXCJcIikucmVwbGFjZShcIi1tZWFzdXJlXCIsXCJcIiksZHVyYXRpb246ZS5kdXJhdGlvbn0pKSl9fX0sMTgxOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbixyO2EuZCh0LHtzUDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lL1wiLGUuSG9tZVNlYXJjaD1cIi9ob21lLz9kZWVwbGluaz1zZWFyY2hcIixlLkhvbWVQYWdlc1JlbmFtZT1cIi9ob21lL3BhZ2VzL3JlbmFtZS9cIixlLkRvY2s9XCIvZG9jay9cIixlLkRvY3M9XCIvcHJvdmlkZXIvZG9jcy9cIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udC9cIixlLkRlcHJlY2F0ZWRBbGVydD1cIi9wcm92aWRlci9kZXByZWNhdGVkLWFsZXJ0L1wiLGUuQW5hbHl0aWNzPVwiL3Byb3ZpZGVyL2FuYWx5dGljcy9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIi9icm93c2VyL1wiLGUuQnJvd3NlclBvcHVwTWVudT1cIi9wb3B1cC1tZW51L1wiLGUuQnJvd3NlclBvcHVwTWVudVNhdmVNb2RhbD1cIi9wb3B1cC1tZW51L3NhdmUtbW9kYWwvXCIsZS5Ccm93c2VyUG9wdXBNZW51TGF5b3V0cz1cIi9wb3B1cC1tZW51L2xheW91dHMvbGF5b3V0cy9cIixlLkJyb3dzZXJQb3B1cE1lbnVDb2xvckxpbmtpbmc9XCIvcG9wdXAtbWVudS9jb2xvci1saW5raW5nL2NvbG9yLWxpbmtpbmcvXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwiL2luZGljYXRvci9cIixlLkJyb3dzZXJQb3B1cE1lbnVBZGRyZXNzU2VhcmNoUmVzdWx0c1ZpZXc9XCIvcG9wdXAtbWVudS9hZGRyZXNzLXNlYXJjaC1yZXN1bHRzLXZpZXcvXCIsZS5SZXNwb25zZU1vZGFsPVwiL3BvcHVwLW1lbnUvcmVzcG9uc2UtbW9kYWwvXCIsZS5DbG9zZUNvbmZpcm1hdGlvbk1vZGFsPVwiL3BvcHVwLW1lbnUvY2xvc2UtY29uZmlybWF0aW9uLW1vZGFsL1wiLGUuRW50ZXJwcmlzZUJyb3dzZXI9XCIvZW50ZXJwcmlzZS9cIixlLkVudGVycHJpc2VDb250ZXh0TWVudT1cIi9jb250ZXh0LW1lbnUvXCIsZS5FbnRlcnByaXNlQm9va21hcmtEaWFsb2c9XCIvYm9va21hcmstZGlhbG9nL1wiLGUuRW50ZXJwcmlzZVN0b3JhZ2VQcm94eT1cIi9lbnRlcnByaXNlL3N0b3JhZ2UtcHJveHlcIixlLkRyb3Bkb3duTWVudT1cIi9kcm9wZG93bi1tZW51L1wiLGUuRW50ZXJwcmlzZURvY2s9XCIvZG9jay9cIn0ocnx8KHI9e30pKTtjb25zdCBvPVwiL21pY3Jvc29mdC0zNjUtaW50ZWdyYXRpb24tYXNzZXRzL1wiLGk9e0ljb25PcGVuRmluTG9nbzpcIi9pY29ucy9vcGVuZmlubG9nby5zdmdcIixJY29uRmlsdGVyOlwiL2ljb25zL2ZpbHRlci5zdmdcIixMaWdodFN0b3JlZnJvbnQ6XCIvaWNvbnMvc3RvcmUtaWNvbi1saWdodC5wbmdcIixEYXJrU3RvcmVmcm9udDpcIi9pY29ucy9zdG9yZS1pY29uLWRhcmsucG5nXCIsQ2FsbEljb25MaWdodDpcIi9pY29ucy9jYWxsLWljb24tbGlnaHQuc3ZnXCIsQ2FsbEljb25EYXJrOlwiL2ljb25zL2NhbGwtaWNvbi1kYXJrLnN2Z1wiLENoYXRJY29uTGlnaHQ6XCIvaWNvbnMvY2hhdC1pY29uLWxpZ2h0LnN2Z1wiLENoYXRJY29uRGFyazpcIi9pY29ucy9jaGF0LWljb24tZGFyay5zdmdcIixNZXNzYWdlSWNvbkxpZ2h0OlwiL2ljb25zL21lc3NhZ2UtaWNvbi1saWdodC5zdmdcIixNZXNzYWdlSWNvbkRhcms6XCIvaWNvbnMvbWVzc2FnZS1pY29uLWRhcmsuc3ZnXCIsTWljcm9zb2Z0MzY1QXNzZXRzOntNaWNyb3NvZnQzNjVEb2N1bWVudEljb246YCR7b31taWNyb3NvZnQtMzY1LWRvY3VtZW50LWljb24uc3ZnYCxNaWNyb3NvZnQzNjVFeGNlbEljb246YCR7b31taWNyb3NvZnQtMzY1LWV4Y2VsLWljb24uc3ZnYCxNaWNyb3NvZnQzNjVQb3dlcnBvaW50SWNvbjpgJHtvfW1pY3Jvc29mdC0zNjUtcG93ZXJwb2ludC1pY29uLnN2Z2AsTWljcm9zb2Z0MzY1T3V0bG9va0ljb246YCR7b31taWNyb3NvZnQtMzY1LW91dGxvb2staWNvbi5zdmdgLE1pY3Jvc29mdDM2NVRlYW1zSWNvbjpgJHtvfW1pY3Jvc29mdC0zNjUtdGVhbXMtaWNvbi5zdmdgLE1pY3Jvc29mdDM2NUljb246YCR7b31taWNyb3NvZnQtMzY1LWljb24uc3ZnYCxQREZGaWxlSWNvbjpgJHtvfXBkZi1maWxlLWljb24uc3ZnYH0sRG9ja0ljb25MaWdodDpcIi9pY29ucy9kb2NrLWljb24tbGlnaHQucG5nXCIsRG9ja0ljb25EYXJrOlwiL2ljb25zL2RvY2staWNvbi1kYXJrLnBuZ1wifTt2YXIgczshZnVuY3Rpb24oZSl7ZS5TZWFyY2g9XCJzZWFyY2hcIn0oc3x8KHM9e30pKX0sNTIzOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7T1g6KCk9Pm99KTt2YXIgbjthKDcyMyk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLkVudGVycHJpc2U9XCIvZW50ZXJwcmlzZVwiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXJcIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udFwiLGUuRG9jaz1cIi9kb2NrXCJ9KG58fChuPXt9KSk7Y29uc3Qgcj1cIi93b3Jrc3BhY2UvMjEuMC4xNVwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIHIrZX19LDI3NzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse0dSOigpPT5zLGtpOigpPT5kLHh0OigpPT5jfSk7dmFyIG4scj1hKDcyMyksbz1hKDcwKTthKDk3OCk7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5FbnRlcnByaXNlRG9jaz1cIkVudGVycHJpc2VEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIixlLk1pY3JvZmxvdz1cIk1pY3JvZmxvd1wifShufHwobj17fSkpO2NvbnN0IGk9YXN5bmMoZSx0LGE9XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIpPT57Y29uc3Qgbj17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fHIuZXQsY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246dC5jb21wb25lbnRWZXJzaW9ufHxyLmV0LGFsbG93ZWQ6dC5hbGxvd2VkLHJlamVjdGlvbkNvZGU6dC5yZWplY3Rpb25Db2RlfTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6YSxkYXRhOm59KX07Y29uc3Qgcz1lPT57by5GMi51dWlkPT09by4kcC51dWlkJiZvLkYyLm5hbWU9PT1vLiRwLm5hbWV8fGkobi5Ib21lLGUpfSxjPWU9PntpKG4uU3RvcmVmcm9udCxlKX0sZD1lPT57aShuLkRvY2ssZSl9O25ldyBNYXB9LDMzMzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3JldHVybiB2b2lkIDAhPT10eXBlb2YgY3J5cHRvJiZcInJhbmRvbVVVSURcImluIGNyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcIjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMFwiLnJlcGxhY2UoL1swMThdL2csKGU9PihlXmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj5lLzQpLnRvU3RyaW5nKDE2KSkpfWEuZCh0LHtOOigpPT5ufSl9LDcwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7JHA6KCk9PmMsQzooKT0+bSxGMjooKT0+bCxJbzooKT0+ZyxJcTooKT0+cyxROigpPT5uLFQ3OigpPT51LFR2OigpPT5kLFYxOigpPT5pLGdROigpPT5wLGhiOigpPT5mLHVyOigpPT53LHh0OigpPT5ofSk7dmFyIG4scj1hKDQzOCksbz1hKDcyMyk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VyU2F2ZU1lbnU9XCJvcGVuZmluLWJyb3dzZXItc2F2ZS1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIixlLkNsYXNzaWNXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtY2xhc3NpYy13aW5kb3dcIixlLkVudGVycHJpc2VDb250ZXh0TWVudT1cIm9wZW5maW4tZW50ZXJwcmlzZS1jb250ZXh0LW1lbnVcIixlLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4PVwib3BlbmZpbi1icm93c2VyLW1lbnUtYWRkcmVzcy1zZWFyY2gtXCIsZS5FbnRlcnByaXNlQm9va21hcmtEaWFsb2dXaW5kb3c9XCJvcGVuZmluLWVudGVycHJpc2UtYm9va21hcmstZGlhbG9nXCIsZS5Ecm9wZG93bk1lbnU9XCJvcGVuZmluLWVudGVycHJpc2UtZHJvcGRvd24tbWVudVwiLGUuRG9ja0NvbXBhbmlvbj1cIm9wZW5maW4tZG9jay1jb21wYW5pb25cIn0obnx8KG49e30pKTtjb25zdCBpPWU9Pih7bGVmdDooZS5sZWZ0KyhlLnJpZ2h0Pz9lLmxlZnQrZS53aWR0aCkpLzIsdG9wOihlLnRvcCsoZS5ib3R0b20/P2UudG9wK2UuaGVpZ2h0KSkvMn0pO2Z1bmN0aW9uIHMoZSl7aWYoIW8uY0kpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgYz17bmFtZTpvLnZMLHV1aWQ6by4kaH07ZnVuY3Rpb24gZCgpe3JldHVybiBzKGMpfWNvbnN0IGw9e25hbWU6bi5Ib21lLHV1aWQ6ci5NVy5Xb3Jrc3BhY2V9LHU9e25hbWU6bi5Eb2NrLHV1aWQ6ci5NVy5Xb3Jrc3BhY2V9LHA9e25hbWU6bi5TdG9yZWZyb250LHV1aWQ6ci5NVy5Xb3Jrc3BhY2V9LGg9e25hbWU6ci5NVy5Xb3Jrc3BhY2UsdXVpZDpyLk1XLldvcmtzcGFjZX07Y29uc3QgZj1hc3luYyBlPT57dHJ5e2NvbnN0IHQ9YXdhaXQgZmluLldpbmRvdy53cmFwU3luYyh7bmFtZTplLm5hbWUsdXVpZDplLnV1aWQ/P2Zpbi5tZS51dWlkfSkuZ2V0T3B0aW9ucygpO3JldHVybihcImJyb3dzZXJcIj09PXQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGV8fFwiZW50ZXJwcmlzZVwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSkmJnQud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJpc0Jyb3dzZXJXaW5kb3cgZXJyb3I6IFwiLGUpLCExfX07YXN5bmMgZnVuY3Rpb24gZygpe2NvbnN0IGU9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCksdD1hd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+ZihlLmlkZW50aXR5KSkpKTtyZXR1cm4gZS5maWx0ZXIoKChlLGEpPT50W2FdKSl9Y29uc3QgbT1lPT5zKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSk7YXN5bmMgZnVuY3Rpb24gdyhlKXtjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKTtyZXR1cm5bdC5wcmltYXJ5TW9uaXRvciwuLi50Lm5vblByaW1hcnlNb25pdG9yc10ucmVkdWNlKCgodCxhKT0+e2NvbnN0IG49ZnVuY3Rpb24oZSx0KXtjb25zdCBhPWUudG9wLG49ZS5sZWZ0LHI9ZS50b3ArZS5oZWlnaHQsbz1lLmxlZnQrZS53aWR0aCxpPXQubW9uaXRvclJlY3QudG9wLHM9dC5tb25pdG9yUmVjdC5sZWZ0LGM9dC5tb25pdG9yUmVjdC5ib3R0b20sZD10Lm1vbml0b3JSZWN0LnJpZ2h0O2lmKGE+Y3x8cjxpfHxuPmR8fG88cylyZXR1cm4gMDtjb25zdCBsPU1hdGgubWF4KGEsaSksdT1NYXRoLm1heChuLHMpO3JldHVybihNYXRoLm1pbihyLGMpLWwpKihNYXRoLm1pbihvLGQpLXUpLyhlLmhlaWdodCplLndpZHRoKX0oZSxhKTtyZXR1cm4gbj50LnBlcmNlbnRhZ2U/e3BlcmNlbnRhZ2U6bixtb25pdG9yOmF9OnR9KSx7cGVyY2VudGFnZTowLG1vbml0b3I6dC5wcmltYXJ5TW9uaXRvcn0pLm1vbml0b3J9fX0sdD17fTtmdW5jdGlvbiBhKG4pe3ZhciByPXRbbl07aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBvPXRbbl09e2V4cG9ydHM6e319O3JldHVybiBlW25dKG8sby5leHBvcnRzLGEpLG8uZXhwb3J0c31hLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiBhLmQodCx7YTp0fSksdH0sYS5kPShlLHQpPT57Zm9yKHZhciBuIGluIHQpYS5vKHQsbikmJiFhLm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6dFtuXX0pfSxhLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLGEucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIG49e307KCgpPT57XCJ1c2Ugc3RyaWN0XCI7YS5yKG4pLGEuZChuLHtBY3Rpb25UcmlnZ2VyOigpPT5SZS5QLEFwcE1hbmlmZXN0VHlwZTooKT0+TmUudixCdXR0b25TdHlsZTooKT0+QmUuaW4sQ0xJQWN0aW9uOigpPT4kLlBLLENMSUZpbHRlck9wdGlvblR5cGU6KCk9PiQub28sQ0xJVGVtcGxhdGU6KCk9PiQuZkMsQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5CZS5jZSxEb2NrOigpPT5lLERvY2tCdXR0b25OYW1lczooKT0+dS5hLEhvbWU6KCk9PlMsSW50ZWdyYXRpb25zOigpPT50LFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+QmUubnAsU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+UmUuUixTdG9yZWZyb250OigpPT5FZSxTdG9yZWZyb250VGVtcGxhdGU6KCk9Pk5lLnosVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5CZS5TTX0pO3ZhciBlPXt9O2EucihlKSxhLmQoZSx7RG9ja0J1dHRvbk5hbWVzOigpPT51LmEsZGVyZWdpc3RlcjooKT0+bSxtaW5pbWl6ZTooKT0+dyxyZWdpc3RlcjooKT0+ZyxzaG93OigpPT55fSk7dmFyIHQ9e307YS5yKHQpLGEuZCh0LHtNaWNyb3NvZnQzNjVXb3JrZmxvd0ludGVncmF0aW9uOigpPT5EZX0pO3ZhciByPWEoNzIzKSxvPWEoNzg2KSxpPWEoMjc3KSxzPWEoNzApLGM9YSg2OTUpLGQ9YSg3OSk7dmFyIGw9YSgyNDgpLHU9YSg2MDApO2xldCBwLGg7Y29uc3QgZj0oZT1bXSk9Pntjb25zdCB0PWUuZmlsdGVyKChlPT4hIWUuaWQpKS5tYXAoKGU9PmUuaWQpKTtpZihuZXcgU2V0KHQpLnNpemUhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJEb2NrIHByb3ZpZGVyIGJ1dHRvbnMgbXVzdCBoYXZlIHVuaXF1ZSBpZGVudGlmaWVycyBpZiBzcGVjaWZpZWQuXCIpfSxnPWFzeW5jIGU9PnsoMCxsLkgpKFwiZG9ja1wiLHMuVDcpO2NvbnN0IHQ9YXdhaXQoYXN5bmMgZT0+e2F3YWl0KDAsZC5LWikoZmluLm1lLmlkZW50aXR5KTtjb25zdCB0PWF3YWl0KDAsYy5ONykoKTtpZihoKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHVzaW5nIGBEb2NrLnJlZ2lzdGVyYC4gQSBEb2NrIHByb3ZpZGVyIGZvciB0aGlzIFdvcmtzcGFjZSBQbGF0Zm9ybSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuIENhbGwgYERvY2suZGVyZWdpc3RlcmAgYmVmb3JlIGNhbGxpbmcgYERvY2sucmVnaXN0ZXJgIGFnYWluLlwiKTtyZXR1cm4gaD1lLGUuY2xpZW50QVBJVmVyc2lvbj1yLmV0LHQuZGlzcGF0Y2goXCJyZWdpc3Rlci1wcm92aWRlclwiLHtwcm92aWRlclR5cGU6XCJkb2NrXCIsaW5mbzplfSl9KShlKTtyZXR1cm4gcD1uZXcgUHJvbWlzZSgoKGEsbik9Pnt0cnl7KGU9PntlLndvcmtzcGFjZUNvbXBvbmVudHMmJiFBcnJheS5pc0FycmF5KGUud29ya3NwYWNlQ29tcG9uZW50cykmJmNvbnNvbGUud2FybihcIlVzaW5nIHRoZSBgV29ya3NwYWNlQ29tcG9uZW50QnV0dG9uT3B0aW9uc2AgdHlwZSB0byBjb25maWd1cmUgdGhlIFdvcmtzcGFjZSBDb21wb25lbnRzIEJ1dHRvbnMgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgV29ya3NwYWNlQnV0dG9uc0NvbmZpZ2AgaW5zdGVhZC5cIil9KShlKSxmKGUuYnV0dG9ucyksKDAsaS5raSkoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjp0Py53b3Jrc3BhY2VWZXJzaW9ufSksci5ldCxhKHtjbGllbnRBUElWZXJzaW9uOnIuZXQsd29ya3NwYWNlVmVyc2lvbjp0Py53b3Jrc3BhY2VWZXJzaW9uPz9cIlwiLHVwZGF0ZURvY2tQcm92aWRlckNvbmZpZzphc3luYyB0PT57aWYoIWgpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdXNpbmcgYERvY2sudXBkYXRlRG9ja1Byb3ZpZGVyQ29uZmlnYC4gRG9jayBwcm92aWRlciBpcyBub3QgcmVnaXN0ZXJlZC4gTWFrZSBzdXJlIHRvIGNhbGwgYERvY2sucmVnaXN0ZXJgIGZpcnN0LlwiKTtmKHQuYnV0dG9ucyk7Y29uc3QgYT1hd2FpdCgwLGMuTjcpKCk7YXdhaXQgYS5kaXNwYXRjaChcInVwZGF0ZS1wcm92aWRlclwiLHtwcm92aWRlclR5cGU6XCJkb2NrXCIscHJvdmlkZXI6ey4uLmUsd29ya3NwYWNlQ29tcG9uZW50czp0LndvcmtzcGFjZUNvbXBvbmVudHMsYnV0dG9uczp0LmJ1dHRvbnMsdGl0bGU6dC50aXRsZSxpY29uOnQuaWNvbixkaXNhYmxlVXNlclJlYXJyYW5nZW1lbnQ6dC5kaXNhYmxlVXNlclJlYXJyYW5nZW1lbnQsaWQ6ZS5pZH19KX19KX1jYXRjaChlKXsoMCxpLmtpKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUgaW5zdGFuY2VvZiBFcnJvcj9lLm1lc3NhZ2U6XCJ1bmtub3duXCJ9KSxuKGUpLHA9dm9pZCAwfWZpbmFsbHl7by5BLm1hcmtFbmRBbmRNZWFzdXJlKFwiZG9jay1yZWdpc3RyYXRpb25cIil9fSkpLHB9LG09YXN5bmMoKT0+e2lmKGF3YWl0IHAsIWgpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdXNpbmcgYERvY2suZGVyZWdpc3RlcmAuIERvY2sgcHJvdmlkZXIgaXMgbm90IHJlZ2lzdGVyZWQuIENhbGwgYERvY2sucmVnaXN0ZXJgIGJlZm9yZSBjYWxsaW5nIGBEb2NrLmRlcmVnaXN0ZXJgLlwiKTtjb25zdCBlPWF3YWl0KDAsYy5ONykoKTthd2FpdCBlLmRpc3BhdGNoKFwiZGVyZWdpc3Rlci1wcm92aWRlclwiLHtwcm92aWRlclR5cGU6XCJkb2NrXCIsaWQ6aC5pZH0pLGg9dm9pZCAwLHA9dm9pZCAwfSx3PWFzeW5jKCk9Pnthd2FpdCBwLGF3YWl0KDAsYy5uQSkoKSxhd2FpdChhc3luYyBlPT4oYXdhaXQoMCxjLnA0KSgpKS5kaXNwYXRjaChcImhpZGUtcHJvdmlkZXItd2luZG93XCIse3Byb3ZpZGVyVHlwZTplfSkpKFwiZG9ja1wiKX0seT1hc3luYygpPT57by5BLm1hcmtTdGFydChcImRvY2stc2hvd1wiKSxhd2FpdCBwLGF3YWl0KDAsYy5uQSkoKSxhd2FpdChhc3luYyBlPT4oYXdhaXQoMCxjLnA0KSgpKS5kaXNwYXRjaChcInNob3ctcHJvdmlkZXItd2luZG93XCIse3Byb3ZpZGVyVHlwZTplfSkpKFwiZG9ja1wiKX07dmFyIHYsayxiLFM9YSg4MzQpLFA9ZnVuY3Rpb24oZSx0LGEsbixyKXtpZihcIm1cIj09PW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtpZihcImFcIj09PW4mJiFyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IXI6IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cImFcIj09PW4/ci5jYWxsKGUsYSk6cj9yLnZhbHVlPWE6dC5zZXQoZSxhKSxhfSxDPWZ1bmN0aW9uKGUsdCxhLG4pe2lmKFwiYVwiPT09YSYmIW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhbjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cIm1cIj09PWE/bjpcImFcIj09PWE/bi5jYWxsKGUpOm4/bi52YWx1ZTp0LmdldChlKX07dj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGI9bmV3IFdlYWtNYXA7Y29uc3QgeD1jbGFzc3tjb25zdHJ1Y3RvcihlKXt2LnNldCh0aGlzLHZvaWQgMCksay5zZXQodGhpcyx2b2lkIDApLGIuc2V0KHRoaXMsdm9pZCAwKSxQKHRoaXMsdixlLFwiZlwiKSxQKHRoaXMsayxuZXcgTWFwLFwiZlwiKSxQKHRoaXMsYixbXSxcImZcIil9Z2V0KGUpe2lmKEModGhpcyxrLFwiZlwiKS5oYXMoZSkpcmV0dXJuIHRoaXMudXBkYXRlUXVldWUoZSksQyh0aGlzLGssXCJmXCIpLmdldChlKX1oYXMoZSl7cmV0dXJuIEModGhpcyxrLFwiZlwiKS5oYXMoZSl9cHV0KGUsdCl7aWYoQyh0aGlzLGssXCJmXCIpLmhhcyhlKSlDKHRoaXMsayxcImZcIikuc2V0KGUsdCksdGhpcy51cGRhdGVRdWV1ZShlKTtlbHNle2lmKEModGhpcyxiLFwiZlwiKS5sZW5ndGg9PT1DKHRoaXMsdixcImZcIikpe2NvbnN0IGU9Qyh0aGlzLGIsXCJmXCIpLnNoaWZ0KCk7ZSYmQyh0aGlzLGssXCJmXCIpLmRlbGV0ZShlKX1DKHRoaXMsayxcImZcIikuc2V0KGUsdCksQyh0aGlzLGIsXCJmXCIpLnB1c2goZSl9fXVwZGF0ZVF1ZXVlKGUpe2NvbnN0IHQ9Qyh0aGlzLGIsXCJmXCIpLmluZGV4T2YoZSk7LTEhPT10JiYoQyh0aGlzLGIsXCJmXCIpLnNwbGljZSh0LDEpLEModGhpcyxiLFwiZlwiKS5wdXNoKGUpKX19O2Z1bmN0aW9uIEEoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBNKGUsLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGE9dC5zaGlmdCgpO3JldHVybiBBKGUpJiZBKGEpJiZPYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKCgoW3QsYV0pPT57aWYoQShhKSlyZXR1cm4gZVt0XXx8KGVbdF09e30pLE0oZVt0XSxhKTtlW3RdPWF9KSksTShlLC4uLnQpfXZhciBJLEYsVyxULF8sTz1hKDE4MSksRD1hKDUyMyksRT1mdW5jdGlvbihlLHQsYSxuLHIpe2lmKFwibVwiPT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO2lmKFwiYVwiPT09biYmIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhcjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwiYVwiPT09bj9yLmNhbGwoZSxhKTpyP3IudmFsdWU9YTp0LnNldChlLGEpLGF9LFI9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTtGPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsVD1uZXcgV2Vha01hcCxJPW5ldyBXZWFrU2V0LF89ZnVuY3Rpb24oKXtjb25zdCBlPUFycmF5LmZyb20oUih0aGlzLEYsXCJmXCIpLmVudHJpZXMoKSkucmVkdWNlKCgoZSx0KT0+IWV8fHRbMV0udGltZXN0YW1wPGVbMV0udGltZXN0YW1wP3Q6ZSksbnVsbCk7cmV0dXJuIGU/ZVswXTpudWxsfTtjb25zdCBCPWNsYXNze2NvbnN0cnVjdG9yKGU9M2U1LHQ9MTAwKXtJLmFkZCh0aGlzKSxGLnNldCh0aGlzLHZvaWQgMCksVy5zZXQodGhpcyx2b2lkIDApLFQuc2V0KHRoaXMsdm9pZCAwKSxFKHRoaXMsRixuZXcgTWFwLFwiZlwiKSxFKHRoaXMsVyxlLFwiZlwiKSxFKHRoaXMsVCx0LFwiZlwiKX1nZXQoZSl7Y29uc3QgdD1SKHRoaXMsRixcImZcIikuZ2V0KGUpO2lmKCF0KXJldHVybiBudWxsO3JldHVybiBEYXRlLm5vdygpLXQudGltZXN0YW1wPFIodGhpcyxXLFwiZlwiKT90LnZhbHVlOihSKHRoaXMsRixcImZcIikuZGVsZXRlKGUpLG51bGwpfXB1dChlLHQpe2lmKFIodGhpcyxGLFwiZlwiKS5zaXplPj1SKHRoaXMsVCxcImZcIikpe2NvbnN0IGU9Uih0aGlzLEksXCJtXCIsXykuY2FsbCh0aGlzKTtudWxsIT1lJiZSKHRoaXMsRixcImZcIikuZGVsZXRlKGUpfVIodGhpcyxGLFwiZlwiKS5zZXQoZSx7dmFsdWU6dCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfXJlbW92ZShlKXtSKHRoaXMsRixcImZcIikuZGVsZXRlKGUpfWNsZWFyKCl7Uih0aGlzLEYsXCJmXCIpLmNsZWFyKCl9fTt2YXIgTixMPWEoMzMzKSwkPWEoODcyKSxHPWZ1bmN0aW9uKGUsdCxhLG4pe2lmKFwiYVwiPT09YSYmIW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhbjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cIm1cIj09PWE/bjpcImFcIj09PWE/bi5jYWxsKGUpOm4/bi52YWx1ZTp0LmdldChlKX07Y29uc3QgVT17fTtjbGFzcyBWe2NvbnN0cnVjdG9yKGUpe04uc2V0KHRoaXMsbmV3IFNldCksdGhpcy5faW5pdGlhbGl6ZVdvcmtmbG93cz1hc3luYyhlPXRoaXMuY29uZmlnKT0+e2NvbnN0e3dvcmtmbG93czp0fT1lO2Zvcihjb25zdCBlIGluIHQpe2lmKCF0W2VdLmRpc2FibGVBdXRvSW5pdGlhbGl6ZSl0cnl7Ryh0aGlzLE4sXCJmXCIpLmhhcyhlKT9jb25zb2xlLndhcm4oYFdvcmtmbG93ICR7ZX0gYWxyZWFkeSBpbml0aWFsaXplZC5gKTooRyh0aGlzLE4sXCJmXCIpLmFkZChlKSxhd2FpdCB0aGlzLmluaXRpYWxpemVXb3JrZmxvdyhlKSl9Y2F0Y2godCl7Ryh0aGlzLE4sXCJmXCIpLmRlbGV0ZShlKSxjb25zb2xlLmVycm9yKGBFcnJvciByZWdpc3RlcmluZyAke2V9OmAsdCl9fX07Y29uc3QgdD1NKHt9LFUsZSk7dGhpcy5jb25maWc9dH1hc3luYyBpbml0aWFsaXplV29ya2Zsb3coZSl7Ryh0aGlzLE4sXCJmXCIpLmFkZChlKX19Tj1uZXcgV2Vha01hcDtjb25zdCB6PXJlcXVpcmUoXCJAb3BlbmZpbi9taWNyb3NvZnQzNjVcIik7bGV0IEg9MDtjb25zdCBxPXtjaGF0TWVzc2FnZTpcIkNoYXQgTWVzc2FnZVwiLGV2ZW50OlwiRXZlbnRcIixtZXNzYWdlOlwiRW1haWxcIixkcml2ZTpcIkRvY3VtZW50XCIsY29udGFjdDpcIkNvbnRhY3RcIix1c2VyOlwiVXNlclwiLGxpc3Q6XCJMaXN0XCJ9LGo9e3BkZjpcIlBERlwiLGRvY3g6XCJXb3JkXCIscHB0eDpcIlBvd2VyUG9pbnRcIix4bHN4OlwiRXhjZWxcIixvbmVub3RlOlwiT25lTm90ZVwifSxYPXtjaGF0TWVzc2FnZTpbXCJDaGF0LlJlYWRcIixcIkNoYW5uZWxNZXNzYWdlLlJlYWQuQWxsXCJdLGxpc3Q6W1wiU2l0ZXMuUmVhZC5BbGxcIl0sZXZlbnQ6W1wiQ2FsZW5kYXJzLlJlYWRcIl0sbWVzc2FnZTpbXCJNYWlsLlJlYWRXcml0ZS5TaGFyZWRcIl0sY29udGFjdDpbXCJDb250YWN0cy5SZWFkLlNoYXJlZFwiLFwiTWFpbC5SZWFkV3JpdGUuU2hhcmVkXCJdLHVzZXI6W1wiVXNlci5SZWFkLkFsbFwiLFwiUHJlc2VuY2UuUmVhZC5BbGxcIl19LEs9XCJNSUNST1NPRlRfMzY1X1NFQVJDSF9UWVBFX0ZJTFRFUlwiLFE9XCJNSUNST1NPRlRfMzY1X1NFQVJDSF9GSUxFX1RZUEVfRklMVEVSXCIsWj1cIk1JQ1JPU09GVF8zNjVfU0VBUkNIX0RFUEFSVE1FTlRfRklMVEVSXCIsWT1cIk1JQ1JPU09GVF8zNjVfU0VBUkNIX0pPQl9USVRMRV9GSUxURVJcIixKPVwiVGVhbXMgQ2FsbFwiLGVlPVwiVGVhbXMgQ2hhdFwiLHRlPVwiRW1haWxcIixhZT0oZSx0KT0+e2NvbnN0IGE9W10sbj17aXRlbTplLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09SykpLGRvY3VtZW50VHlwZTplLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09USkpfSxyPVt7dmFsdWU6XCJEb2N1bWVudFwiLGlzU2VsZWN0ZWQ6ISFuLml0ZW0/Lm9wdGlvbnM/LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkZpbGVcIj09PWUpKT8uaXNTZWxlY3RlZH0se3ZhbHVlOlwiQ29udGFjdFwiLGlzU2VsZWN0ZWQ6ISFuLml0ZW0/Lm9wdGlvbnM/LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkNvbnRhY3RcIj09PWUpKT8uaXNTZWxlY3RlZH0se3ZhbHVlOlwiQ2hhdCBNZXNzYWdlXCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiQ2hhdCBNZXNzYWdlXCI9PT1lKSk/LmlzU2VsZWN0ZWR9LHt2YWx1ZTpcIkVtYWlsXCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiRW1haWxcIj09PWUpKT8uaXNTZWxlY3RlZH0se3ZhbHVlOlwiRXZlbnRcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJFdmVudFwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJMaXN0XCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiTGlzdFwiPT09ZSkpPy5pc1NlbGVjdGVkfV07cmV0dXJuIGEucHVzaCh7aWQ6Syx0aXRsZTpcIlR5cGVcIix0eXBlOiQub28uTXVsdGlTZWxlY3Qsb3B0aW9uczpyLmZpbHRlcigoZT0+dC5oYXMoZS52YWx1ZSkpKX0pLFwiRG9jdW1lbnRcIj09PW4uaXRlbT8ub3B0aW9ucz8uZmlsdGVyKChlPT5lLmlzU2VsZWN0ZWQpKT8uWzBdLnZhbHVlJiZhLnB1c2goe2lkOlEsdGl0bGU6XCJGaWxlIFR5cGVcIix0eXBlOiQub28uTXVsdGlTZWxlY3Qsb3B0aW9uczpPYmplY3QuZW50cmllcyhqKS5tYXAoKChbLGVdKT0+KHt2YWx1ZTplLGlzU2VsZWN0ZWQ6ISFuLmRvY3VtZW50VHlwZT8ub3B0aW9ucz8uZmlsdGVyKChlPT5lLmlzU2VsZWN0ZWQpKT8uZmluZCgoKHt2YWx1ZTplfSk9PlwiRmlsZVwiPT09ZSkpPy5pc1NlbGVjdGVkfSkpKX0pLGF9LG5lPShlLHQpPT57Y29uc3QgYT10LmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09SykpPy5vcHRpb25zO2lmKCFBcnJheS5pc0FycmF5KGEpfHwhYS5maW5kKChlPT5cIkNvbnRhY3RcIj09PWUudmFsdWV8fFwiVXNlclwiPT09ZS52YWx1ZSkpPy5pc1NlbGVjdGVkKXJldHVybltdO2NvbnN0e2RlcGFydG1lbnQ6bixqb2JUaXRsZTpyfT1lLnJlZHVjZSgoKGUsdCk9Pih0LmRlcGFydG1lbnQmJmUuZGVwYXJ0bWVudC5hZGQodC5kZXBhcnRtZW50KSx0LmpvYlRpdGxlJiZlLmpvYlRpdGxlLmFkZCh0LmpvYlRpdGxlKSxlKSkse2RlcGFydG1lbnQ6bmV3IFNldCxqb2JUaXRsZTpuZXcgU2V0fSksbz10LmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09WikpLGk9QXJyYXkuZnJvbShuKS5tYXAoKGU9Pih7dmFsdWU6ZSxpc1NlbGVjdGVkOiEhbz8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTp0fSk9PnQ9PT1lKSk/LmlzU2VsZWN0ZWR9KSkpLHM9dC5jb250ZXh0LnNlbGVjdGVkRmlsdGVycz8uZmluZCgoZT0+ZS5pZD09PVopKSxjPUFycmF5LmZyb20ocikubWFwKChlPT4oe3ZhbHVlOmUsaXNTZWxlY3RlZDohIXM/Lm9wdGlvbnM/LmZpbmQoKCh7dmFsdWU6dH0pPT50PT09ZSkpPy5pc1NlbGVjdGVkfSkpKTtyZXR1cm5be2lkOlosdGl0bGU6XCJEZXBhcnRtZW50XCIsdHlwZTokLm9vLk11bHRpU2VsZWN0LG9wdGlvbnM6aX0se2lkOlksdGl0bGU6XCJKb2IgVGl0bGVcIix0eXBlOiQub28uTXVsdGlTZWxlY3Qsb3B0aW9uczpjfV19LHJlPWU9Pntjb25zdCB0PWUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1aKSksYT1BcnJheS5pc0FycmF5KHQ/Lm9wdGlvbnMpP3Qub3B0aW9ucy5maWx0ZXIoKGU9PmUuaXNTZWxlY3RlZCkpLm1hcCgoZT0+ZS52YWx1ZSkpOltdLG49ZS5jb250ZXh0LnNlbGVjdGVkRmlsdGVycz8uZmluZCgoZT0+ZS5pZD09PVkpKTtyZXR1cm57ZGVwYXJ0bWVudDphLGpvYlRpdGxlOkFycmF5LmlzQXJyYXkobj8ub3B0aW9ucyk/bi5vcHRpb25zLmZpbHRlcigoZT0+ZS5pc1NlbGVjdGVkKSkubWFwKChlPT5lLnZhbHVlKSk6W119fSxvZT0oZSx0KT0+e2NvbnN0e2RlcGFydG1lbnQ6YSxqb2JUaXRsZTpufT10O3JldHVybiBlLmZpbHRlcigoZT0+KCFhLmxlbmd0aHx8YS5pbmNsdWRlcyhlLmRlcGFydG1lbnQpKSYmKCFuLmxlbmd0aHx8bi5pbmNsdWRlcyhlLmpvYlRpdGxlKSkpKX0saWU9ZT0+e2NvbnN0IHQ9QXJyYXkuaXNBcnJheShlLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09USkpPy5vcHRpb25zKT9lLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzLmZpbmQoKGU9PmUuaWQ9PT1RKSk/Lm9wdGlvbnM6W107cmV0dXJue2ZpbHRlckZpbGVzOnQmJnQuc29tZSgoKHtpc1NlbGVjdGVkOmV9KT0+ZSkpLHNob3dXb3JkOnQuZmluZCgoKHt2YWx1ZTplfSk9PlwiV29yZFwiPT09ZSkpPy5pc1NlbGVjdGVkLHNob3dFeGNlbDp0LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkV4Y2VsXCI9PT1lKSk/LmlzU2VsZWN0ZWQsc2hvd1Bvd2VyUG9pbnQ6dC5maW5kKCgoe3ZhbHVlOmV9KT0+XCJQb3dlclBvaW50XCI9PT1lKSk/LmlzU2VsZWN0ZWQsc2hvd1BERjp0LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIlBERlwiPT09ZSkpPy5pc1NlbGVjdGVkLHNob3dPbmVOb3RlOnQuZmluZCgoKHt2YWx1ZTplfSk9PlwiT25lTm90ZVwiPT09ZSkpPy5pc1NlbGVjdGVkfX0sc2U9KGUsdCk9Pntjb25zdCBhPVtdO3JldHVybiB0LnNob3dXb3JkJiZhLnB1c2goXCIuZG9jeFwiKSx0LnNob3dFeGNlbCYmYS5wdXNoKFwiLnhsc3hcIiksdC5zaG93UG93ZXJQb2ludCYmYS5wdXNoKFwiLnBwdHhcIiksdC5zaG93UERGJiZhLnB1c2goXCIucGRmXCIpLHQuc2hvd09uZU5vdGUmJmEucHVzaChcIi5vbmVcIiksZS5maWx0ZXIoKGU9PntpZihlLmZpbGUpe2NvbnN0IHQ9ZS5uYW1lLnN1YnN0cmluZyhlLm5hbWUubGFzdEluZGV4T2YoXCIuXCIpKTtyZXR1cm4gYS5pbmNsdWRlcyh0KX1yZXR1cm4hMX0pKX0sY2U9KGU9XCJcIik9Pntzd2l0Y2goZS5zcGxpdChcIi5cIikucG9wKCk/LnRvTG93ZXJDYXNlKCk/P1wiXCIpe2Nhc2VcImRvY3hcIjpjYXNlXCJkb2NcIjpyZXR1cm5cIk1pY3Jvc29mdCBXb3JkXCI7Y2FzZVwieGxzeFwiOmNhc2VcInhsc1wiOnJldHVyblwiTWljcm9zb2Z0IEV4Y2VsXCI7Y2FzZVwicHB0eFwiOmNhc2VcInBwdFwiOnJldHVyblwiTWljcm9zb2Z0IFBvd2VyUG9pbnRcIjtjYXNlXCJwZGZcIjpyZXR1cm5cIlBERlwiO2Nhc2VcInBuZ1wiOmNhc2VcImpwZ1wiOmNhc2VcImpwZWdcIjpjYXNlXCJnaWZcIjpyZXR1cm5cIkltYWdlXCI7Y2FzZVwidHh0XCI6cmV0dXJuXCJUZXh0XCI7ZGVmYXVsdDpyZXR1cm5cIkZpbGVcIn19LGRlPShlPVwiXCIpPT57c3dpdGNoKGUuc3BsaXQoXCIuXCIpLnBvcCgpPy50b0xvd2VyQ2FzZSgpPz9cIlwiKXtjYXNlXCJkb2N4XCI6Y2FzZVwiZG9jXCI6cmV0dXJuKDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1RG9jdW1lbnRJY29uKTtjYXNlXCJ4bHN4XCI6Y2FzZVwieGxzXCI6cmV0dXJuKDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1RXhjZWxJY29uKTtjYXNlXCJwcHR4XCI6Y2FzZVwicHB0XCI6cmV0dXJuKDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1UG93ZXJwb2ludEljb24pO2Nhc2VcInBkZlwiOnJldHVybigwLEQuT1gpKE8uc1AuTWljcm9zb2Z0MzY1QXNzZXRzLlBERkZpbGVJY29uKTtkZWZhdWx0OnJldHVybn19LGxlPWU9PmUucmVwbGFjZSgvXFwrL2csXCJfXCIpLnJlcGxhY2UoL1xcLy9nLFwiLVwiKTt2YXIgdWUscGUsaGUsZmUsZ2UsbWUsd2UseWUsdmUsa2UsYmUsU2UsUGUsQ2UseGUsQWUsTWUsSWUsRmUsV2UsVGUsX2U9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfSxPZT1mdW5jdGlvbihlLHQsYSxuLHIpe2lmKFwibVwiPT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO2lmKFwiYVwiPT09biYmIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhcjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwiYVwiPT09bj9yLmNhbGwoZSxhKTpyP3IudmFsdWU9YTp0LnNldChlLGEpLGF9O2NsYXNzIERlIGV4dGVuZHMgVntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PU0oe30se3dvcmtmbG93czp7c2VhcmNoOihIKz0xLHtob21lUHJvdmlkZXI6e2Rlc2NyaXB0aW9uOlwiTWljcm9zb2Z0IDM2NSBzZWFyY2ggcmVzdWx0cyBwcm92aWRlclwiLGlkOmBNUzM2NS0ke2Zpbi5tZS5pZGVudGl0eS51dWlkfS0ke0h9YCxsb2dvVXJsOigwLEQuT1gpKE8uc1AuTWljcm9zb2Z0MzY1QXNzZXRzLk1pY3Jvc29mdDM2NUljb24pLGljb246KDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1SWNvbiksdGl0bGU6XCJNaWNyb3NvZnQgMzY1IFNlYXJjaFwiLGlucHV0UGxhY2Vob2xkZXI6XCJXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIHNlYXJjaCBpbiBNaWNyb3NvZnQgMzY1IHRvZGF5P1wiLGRpc3BhdGNoRm9jdXNFdmVudHM6ITB9LG1pY3Jvc29mdEVudGl0eVR5cGVDb25maWc6e21lc3NhZ2U6ITAsY2hhdE1lc3NhZ2U6ITAsZHJpdmU6ITAsZXZlbnQ6ITAsdXNlcjohMCxjb250YWN0OiEwLGxpc3Q6ITB9LHVzZVRlYW1zRGVlcExpbms6ITB9KX19LGUpO3N1cGVyKHQpLHVlLmFkZCh0aGlzKSxwZS5zZXQodGhpcyx2b2lkIDApLHRoaXMud29ya2Zsb3dJbnRlZ3JhdGlvbk5hbWU9XCJNaWNyb3NvZnQgMzY1XCIsaGUuc2V0KHRoaXMsdm9pZCAwKSxmZS5zZXQodGhpcyx2b2lkIDApLGdlLnNldCh0aGlzLDEpLG1lLnNldCh0aGlzLG5ldyBTZXQpLHdlLnNldCh0aGlzLG5ldyB4KDEwMCkpLHllLnNldCh0aGlzLG5ldyBCKDZlNCkpLHRoaXMuY29ubmVjdD1hc3luYyhlPXRoaXMuY29uZmlnLmNvbm5lY3QpPT57Y29uc3R7Y2xpZW50SWQ6dCx0ZW5hbnRJZDphLHJlZGlyZWN0VXJpOm59PWUscj10aGlzLmNvbmZpZy53b3JrZmxvd3M/LnNlYXJjaD9PYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZy53b3JrZmxvd3M/LnNlYXJjaD8ubWljcm9zb2Z0RW50aXR5VHlwZUNvbmZpZz8/e30pLmZpbHRlcigoKFtlLHRdKT0+dCkpLm1hcCgoKFtlXSk9PlhbZV0pKS5maWx0ZXIoKGU9PnZvaWQgMCE9PWUpKS5mbGF0KCk6W107dGhpcy5jb25maWcuY29ubmVjdD1lLE9lKHRoaXMscGUsYXdhaXQoMCx6LmNvbm5lY3QpKHQsYSxuLFsuLi5uZXcgU2V0KHIpXSksXCJmXCIpfSx2ZS5zZXQodGhpcywoKCk9PntpZighX2UodGhpcyxwZSxcImZcIikpdGhyb3cgbmV3IEVycm9yKFwiTWljcm9zb2Z0MzY1V29ya2Zsb3dJbnRlZ3JhdGlvbiBub3QgY29ubmVjdGVkXCIpO3JldHVybiBfZSh0aGlzLHBlLFwiZlwiKX0pKSxDZS5zZXQodGhpcywoYXN5bmMgZT0+e2lmKE9lKHRoaXMsZmUsZSxcImZcIiksZS5kYXRhPy5pdGVtPy5pZCl7Y29uc3QgdD1fZSh0aGlzLHllLFwiZlwiKS5nZXQoZS5kYXRhLml0ZW0uaWQpO2lmKHQpcmV0dXJuIHZvaWQgX2UodGhpcyxoZSxcImZcIikucmVzcG9uZChbdF0pfWlmKFwidXNlclwiPT09ZS5kYXRhPy50eXBlKV9lKHRoaXMsRmUsXCJmXCIpLmNhbGwodGhpcyxlKX0pKSx4ZS5zZXQodGhpcywoYXN5bmMgZT0+e2F3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh7bGF5b3V0Ontjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOnt1cmw6ZX19XX1dfSx3b3Jrc3BhY2VQbGF0Zm9ybTp2b2lkIDB9KX0pKSxBZS5zZXQodGhpcywoYXN5bmMgZT0+e2lmKGUuZGF0YS5pdGVtLmNoYW5uZWxJZGVudGl0eS50ZWFtSWQpe2NvbnN0IHQ9bmV3IFVSTChgbXN0ZWFtczovbC9jaGFubmVsLyR7ZS5kYXRhLml0ZW0uY2hhbm5lbElkZW50aXR5LmNoYW5uZWxJZH0vJHtlLmRhdGEuaXRlbS5pZH1gKTtyZXR1cm4hMT09PXRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoPy51c2VUZWFtc0RlZXBMaW5rJiYodC5wcm90b2NvbD1cImh0dHBzOlwiKSx0LnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJjb250ZXh0XCIsSlNPTi5zdHJpbmdpZnkoe2NvbnRleHRUeXBlOlwiY2hhbm5lbFwifSkpLHZvaWQgYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIodC50b1N0cmluZygpKX1jb25zdCB0PW5ldyBVUkwoYG1zdGVhbXM6L2wvbWVzc2FnZS8ke2UuZGF0YS5pdGVtLmNoYXRJZH0vJHtlLmRhdGEuaXRlbS5pZH1gKTshMT09PXRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoPy51c2VUZWFtc0RlZXBMaW5rJiYodC5wcm90b2NvbD1cImh0dHBzOlwiKSx0LnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJjb250ZXh0XCIsSlNPTi5zdHJpbmdpZnkoe2NvbnRleHRUeXBlOlwiY2hhdFwifSkpLGF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKHQudG9TdHJpbmcoKSl9KSksTWUuc2V0KHRoaXMsKGFzeW5jIGU9Pntzd2l0Y2goZS5hY3Rpb24ubmFtZSl7Y2FzZSBKOntjb25zdCB0PW5ldyB6LlRlYW1zQ29ubmVjdGlvbihfZSh0aGlzLHZlLFwiZlwiKS5jYWxsKHRoaXMpLHRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoPy51c2VUZWFtc0RlZXBMaW5rKTtfZSh0aGlzLHVlLFwibVwiLGtlKS5jYWxsKHRoaXMsKCgpPT50LnN0YXJ0Q2FsbChbZS5kYXRhLml0ZW0ubWFpbF0pKSk7YnJlYWt9Y2FzZSB0ZTp7Y29uc3QgdD1hd2FpdCB0aGlzLmV4ZWN1dGVBcGlSZXF1ZXN0KFwiL3YxLjAvbWUvbWVzc2FnZXNcIixcIlBPU1RcIix7dG9SZWNpcGllbnRzOlt7ZW1haWxBZGRyZXNzOnthZGRyZXNzOmUuZGF0YS5pdGVtLm1haWx9fV19KTtsZXQgYT10LmRhdGEud2ViTGluaztjb25zdCBuPW5ldyBVUkwodC5kYXRhLndlYkxpbmspO2lmKFwiL293YS9cIj09PW4ucGF0aG5hbWUpe2NvbnN0IGU9bi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoXCImXCIpLnJlZHVjZSgoKGUsdCk9Pntjb25zdFthLG5dPXQuc3BsaXQoXCI9XCIpO3JldHVybiBlW2FdPW4sZX0pLHt9KTtpZihlLkl0ZW1JRCl7Y29uc3QgdD1lLkl0ZW1JRDthPWAke24ub3JpZ2lufS9tYWlsL2RlZXBsaW5rL2NvbXBvc2UvJHt0fT9JdGVtSUQ9JHt0fSZleHZzdXJsPTFgfX1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVWaWV3KHt1cmw6YX0pO2JyZWFrfWNhc2UgZWU6e2NvbnN0IHQ9X2UodGhpcyx2ZSxcImZcIikuY2FsbCh0aGlzKSxhPW5ldyB6LlRlYW1zQ29ubmVjdGlvbih0LHRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoPy51c2VUZWFtc0RlZXBMaW5rKTtfZSh0aGlzLHVlLFwibVwiLGtlKS5jYWxsKHRoaXMsKCgpPT5hLnN0YXJ0Q2hhdCh7ZW1haWxBZGRyZXNzZXM6W3QuY3VycmVudFVzZXIubWFpbCxlLmRhdGEuaXRlbS5tYWlsXX0pKSk7YnJlYWt9ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJVbmhhbmRsZWQgdXNlciBhY3Rpb24gZm9yIHJlc3VsdDpcIixlLGBVbmtub3duIGFjdGlvbiBcIiR7ZS5hY3Rpb24ubmFtZX1cImApfX0pKSxJZS5zZXQodGhpcywoYXN5bmMgZT0+e3N3aXRjaChlLmRhdGEudHlwZSl7Y2FzZVwiZHJpdmVJdGVtXCI6X2UodGhpcyx4ZSxcImZcIikuY2FsbCh0aGlzLGUuZGF0YS5pdGVtLndlYlVybCk7YnJlYWs7Y2FzZVwiZXZlbnRcIjp7Y29uc3QgdD1lLmRhdGEuaXRlbSxhPWF3YWl0IHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL21lL2V2ZW50cy8ke3QuaWR9YCk7X2UodGhpcyx4ZSxcImZcIikuY2FsbCh0aGlzLGEuZGF0YS53ZWJMaW5rKTticmVha31jYXNlXCJjaGF0TWVzc2FnZVwiOl9lKHRoaXMsQWUsXCJmXCIpLmNhbGwodGhpcyxlKTticmVhaztjYXNlXCJtZXNzYWdlXCI6X2UodGhpcyx4ZSxcImZcIikuY2FsbCh0aGlzLGUuZGF0YS5pdGVtLndlYkxpbmspO2JyZWFrO2Nhc2VcImxpc3RcIjp7Y29uc3QgdD1lLmRhdGEuaXRlbSxhPWF3YWl0IHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL3NpdGVzLyR7dC5wYXJlbnRSZWZlcmVuY2U/LnNpdGVJZH0vbGlzdHMvJHt0LmlkfWApO19lKHRoaXMseGUsXCJmXCIpLmNhbGwodGhpcyxhLmRhdGEud2ViVXJsKTticmVha31jYXNlXCJ1c2VyXCI6X2UodGhpcyxNZSxcImZcIikuY2FsbCh0aGlzLGUpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKFwiVW5oYW5kbGVkIHVzZXIgYWN0aW9uIGZvciByZXN1bHQ6XCIsZSxgVW5rbm93biByZXN1bHQgdHlwZSBcIiR7ZS5kYXRhLnR5cGV9XCJgKX19KSksRmUuc2V0KHRoaXMsKGFzeW5jIGU9PntsZXQgdCxhO2NvbnN0IG49W10scj1lLmRhdGEuaXRlbTtfZSh0aGlzLHdlLFwiZlwiKS5oYXMoci5pZCk/dD1fZSh0aGlzLHdlLFwiZlwiKS5nZXQoci5pZCk6bi5wdXNoKHtpZDpcImNvbnRhY3RQaG90b1wiLG1ldGhvZDpcIkdFVFwiLHVybDpgL3VzZXJzLyR7ZS5kYXRhLml0ZW0uaWR9L3Bob3RvLyR2YWx1ZWAsaGVhZGVyczp7Q29uc2lzdGVuY3lMZXZlbDpcImV2ZW50dWFsXCJ9fSksbi5wdXNoKHtpZDpcInByZXNlbmNlXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvdXNlcnMvJHtlLmRhdGEuaXRlbS5pZH0vcHJlc2VuY2VgfSk7dHJ5e2NvbnN0IGU9YXdhaXQgX2UodGhpcyx1ZSxcIm1cIixiZSkuY2FsbCh0aGlzLG4pLGk9ZS5kYXRhPy5yZXNwb25zZXMuZmluZCgoZT0+XCJjb250YWN0UGhvdG9cIj09PWUuaWQpKTtpJiYyMDAhPT1pLnN0YXR1cyYmY29uc29sZS53YXJuKFwiRXJyb3IgZmV0Y2hpbmcgdXNlciBwaG90b1wiLGkpLGk/LmJvZHkmJjIwMD09PWk/LnN0YXR1cyYmKHQ9YGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsJHtpLmJvZHl9YCxfZSh0aGlzLHdlLFwiZlwiKS5wdXQoci5pZCx0KSk7Y29uc3Qgcz1lLmRhdGE/LnJlc3BvbnNlcy5maW5kKChlPT5cInByZXNlbmNlXCI9PT1lLmlkKSk7MjAwIT09cy5zdGF0dXMmJmNvbnNvbGUud2FybihcIkVycm9yIGZldGNoaW5nIHVzZXIgcHJlc2VuY2VcIixzKSxzPy5ib2R5JiYyMDA9PT1zLnN0YXR1cyYmKG89cy5ib2R5LGE9e2F2YWlsYWJsZTpcImF2YWlsYWJsZVwiLGF2YWlsYWJsZWlkbGU6XCJhdmFpbGFibGVcIixhd2F5OlwiYXdheVwiLGJlcmlnaHRiYWNrOlwiYXdheVwiLGJ1c3k6XCJidXN5XCIsYnVzeWlkbGU6XCJidXN5XCIsZG9ub3RkaXN0dXJiOlwiZG8tbm90LWRpc3R1cmJcIixvZmZsaW5lOlwib2ZmbGluZVwiLHByZXNlbmNldW5rbm93bjpcIm9mZmxpbmVcIn1bby5hdmFpbGFiaWxpdHk/LnRvTG93ZXJDYXNlKCldKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdXNlciBkYXRhXCIsZSl9dmFyIG87Y29uc3QgaT1bW1wiRGVwYXJ0bWVudFwiLHIuZGVwYXJ0bWVudHx8XCJOL0FcIl0sW1wiRW1haWxcIixyLm1haWx8fFwiTi9BXCJdLFtcIldvcmsgUGhvbmVcIixyLmJ1c2luZXNzUGhvbmVzPy5bMF18fFwiTi9BXCJdLFtcIk1vYmlsZVwiLHIubW9iaWxlUGhvbmV8fFwiTi9BXCJdLFtcIkxvY2F0aW9uXCIsci5vZmZpY2VMb2NhdGlvbnx8XCJOL0FcIl1dLHM9ey4uLmUsdGVtcGxhdGU6JC5mQy5Db250YWN0LHRlbXBsYXRlQ29udGVudDp7bmFtZTplLmRhdGEuaXRlbS5kaXNwbGF5TmFtZSx0aXRsZTplLmRhdGEuaXRlbS5qb2JUaXRsZSxkZXRhaWxzOltpXSxwaG90b1VybDp0LG9ubGluZVN0YXR1czphLGJ1dHRvbnM6W3t0eXBlOlwiYnV0dG9uXCIsaWNvbjp7bGlnaHQ6KDAsRC5PWCkoTy5zUC5DYWxsSWNvbkxpZ2h0KSxkYXJrOigwLEQuT1gpKE8uc1AuQ2FsbEljb25EYXJrKX0sdG9vbHRpcDpcIlRlYW1zIENhbGxcIixhY3Rpb246Sn0se3R5cGU6XCJidXR0b25cIixpY29uOntsaWdodDooMCxELk9YKShPLnNQLkNoYXRJY29uTGlnaHQpLGRhcms6KDAsRC5PWCkoTy5zUC5DaGF0SWNvbkRhcmspfSx0b29sdGlwOlwiQ2hhdFwiLGFjdGlvbjplZX0se3R5cGU6XCJidXR0b25cIixpY29uOntsaWdodDooMCxELk9YKShPLnNQLk1lc3NhZ2VJY29uTGlnaHQpLGRhcms6KDAsRC5PWCkoTy5zUC5NZXNzYWdlSWNvbkRhcmspfSx0b29sdGlwOlwiRS1tYWlsXCIsYWN0aW9uOnRlfV19fTtfZSh0aGlzLHllLFwiZlwiKS5wdXQoZS5kYXRhLml0ZW0uaWQscyksX2UodGhpcyxoZSxcImZcIikucmVzcG9uZChbc10pfSkpLFdlLnNldCh0aGlzLChhc3luYyhlLHQpPT57aWYoX2UodGhpcyxoZSxcImZcIikmJl9lKHRoaXMsaGUsXCJmXCIpLmNsb3NlKCksT2UodGhpcyxoZSx0LFwiZlwiKSxfZSh0aGlzLGhlLFwiZlwiKS5vcGVuKCksZS5xdWVyeS5sZW5ndGg8X2UodGhpcyxnZSxcImZcIikpcmV0dXJue3Jlc3VsdHM6W119O2NvbnN0IGE9ZW5jb2RlVVJJQ29tcG9uZW50KGUucXVlcnkpLG49W10scj0oKGUsdCk9Pntjb25zdCBhPUFycmF5LmlzQXJyYXkoZS5jb250ZXh0LnNlbGVjdGVkRmlsdGVycz8uZmluZCgoZT0+ZS5pZD09PUspKT8ub3B0aW9ucyk/ZS5jb250ZXh0LnNlbGVjdGVkRmlsdGVycy5maW5kKChlPT5lLmlkPT09SykpPy5vcHRpb25zOltdLG49YS5ldmVyeSgoKHtpc1NlbGVjdGVkOmV9KT0+IWUpKTtyZXR1cm57c2hvd0RvY3VtZW50czp0LmhhcyhcIkRvY3VtZW50XCIpJiYobnx8ISFhLmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkRvY3VtZW50XCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dDb250YWN0czp0LmhhcyhcIkNvbnRhY3RcIikmJihufHwhIWEuZmluZCgoKHt2YWx1ZTplfSk9PlwiQ29udGFjdFwiPT09ZSkpPy5pc1NlbGVjdGVkKSxzaG93Q2hhdE1lc3NhZ2VzOnQuaGFzKFwiQ2hhdCBNZXNzYWdlXCIpJiYobnx8ISFhLmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkNoYXQgTWVzc2FnZVwiPT09ZSkpPy5pc1NlbGVjdGVkKSxzaG93TWVzc2FnZXM6dC5oYXMoXCJFbWFpbFwiKSYmKG58fCEhYS5maW5kKCgoe3ZhbHVlOmV9KT0+XCJFbWFpbFwiPT09ZSkpPy5pc1NlbGVjdGVkKSxzaG93RXZlbnRzOnQuaGFzKFwiRXZlbnRcIikmJihufHwhIWEuZmluZCgoKHt2YWx1ZTplfSk9PlwiRXZlbnRcIj09PWUpKT8uaXNTZWxlY3RlZCksc2hvd0xpc3RzOnQuaGFzKFwiTGlzdFwiKSYmKG58fCEhYS5maW5kKCgoe3ZhbHVlOmV9KT0+XCJMaXN0XCI9PT1lKSk/LmlzU2VsZWN0ZWQpfX0pKGUsX2UodGhpcyxtZSxcImZcIikpO2lmKHIuc2hvd0RvY3VtZW50cyl7Y29uc3QgZT1gJyR7YX0nYDtuLnB1c2goe2lkOlwiZHJpdmVJdGVtXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvbWUvZHJpdmUvcm9vdC9zZWFyY2gocT0ke2VuY29kZVVSSUNvbXBvbmVudChlKX0pYCxoZWFkZXJzOntDb25zaXN0ZW5jeUxldmVsOlwiZXZlbnR1YWxcIn19KX1pZihyLnNob3dFdmVudHMmJm4ucHVzaCh7aWQ6XCJldmVudFwiLHVybDpcIi9zZWFyY2gvcXVlcnlcIixtZXRob2Q6XCJQT1NUXCIsYm9keTp7cmVxdWVzdHM6W3tlbnRpdHlUeXBlczpbXCJldmVudFwiXSxxdWVyeTp7cXVlcnlTdHJpbmc6ZS5xdWVyeX0sZnJvbTowLHNpemU6MTB9XX0saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KSxyLnNob3dDb250YWN0cyl7Y29uc3QgdD1gXCIke2UucXVlcnl9XCJgO24ucHVzaCh7aWQ6XCJjb250YWN0XCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvbWUvY29udGFjdHM/JHNlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudCh0KX0mJHRvcD0xMGB9KTtjb25zdCBhPVtcImRpc3BsYXlOYW1lXCIsXCJnaXZlbk5hbWVcIixcInN1cm5hbWVcIl0ubWFwKCh0PT5gXCIke3R9OiR7ZS5xdWVyeX1cImApKS5qb2luKFwiIE9SIFwiKTtuLnB1c2goe2lkOlwidXNlclwiLG1ldGhvZDpcIkdFVFwiLHVybDpgL3VzZXJzPyRzZWFyY2g9JHtlbmNvZGVVUklDb21wb25lbnQoYSl9JiR0b3A9MTAmJHNlbGVjdD1pZCxkaXNwbGF5TmFtZSxkZXBhcnRtZW50LG1haWwsYnVzaW5lc3NQaG9uZXMsbW9iaWxlUGhvbmUsb2ZmaWNlTG9jYXRpb24sam9iVGl0bGVgLGhlYWRlcnM6e0NvbnNpc3RlbmN5TGV2ZWw6XCJldmVudHVhbFwifX0pfWlmKHIuc2hvd01lc3NhZ2VzJiZuLnB1c2goe2lkOlwibWVzc2FnZVwiLG1ldGhvZDpcIkdFVFwiLHVybDpgL21lL21lc3NhZ2VzPyRzZWxlY3Q9c2VuZGVyLHN1YmplY3QsYm9keVByZXZpZXcscmVjZWl2ZWREYXRlVGltZSx3ZWJMaW5rJiRzZWFyY2g9JHtlbmNvZGVVUklDb21wb25lbnQoYFwiJHtlLnF1ZXJ5fVwiYCl9JiR0b3A9MTBgfSksci5zaG93Q2hhdE1lc3NhZ2VzJiZuLnB1c2goe2lkOlwiY2hhdE1lc3NhZ2VcIix1cmw6XCIvc2VhcmNoL3F1ZXJ5XCIsbWV0aG9kOlwiUE9TVFwiLGJvZHk6e3JlcXVlc3RzOlt7ZW50aXR5VHlwZXM6W1wiY2hhdE1lc3NhZ2VcIl0scXVlcnk6e3F1ZXJ5U3RyaW5nOmUucXVlcnl9LGZyb206MCxzaXplOjEwfV19LGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9fSksci5zaG93TGlzdHMmJm4ucHVzaCh7aWQ6XCJsaXN0XCIsdXJsOlwiL3NlYXJjaC9xdWVyeVwiLG1ldGhvZDpcIlBPU1RcIixib2R5OntyZXF1ZXN0czpbe2VudGl0eVR5cGVzOltcImxpc3RcIl0scXVlcnk6e3F1ZXJ5U3RyaW5nOmUucXVlcnl9LGZyb206MCxzaXplOjEwfV19LGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9fSksMD09PW4ubGVuZ3RoKXJldHVybntyZXN1bHRzOltdfTtjb25zdHtyZXN1bHRzOm8sZmlsdGVyczppfT1hd2FpdCBfZSh0aGlzLHVlLFwibVwiLFNlKS5jYWxsKHRoaXMsbixlKTtyZXR1cm4gby5maW5kKChlPT5lLmtleT09PV9lKHRoaXMsZmUsXCJmXCIpPy5rZXkpKT8udGVtcGxhdGU9PT0kLmZDLkxvYWRpbmcmJl9lKHRoaXMsQ2UsXCJmXCIpLmNhbGwodGhpcyxfZSh0aGlzLGZlLFwiZlwiKSkse3Jlc3VsdHM6byxjb250ZXh0OntmaWx0ZXJzOml9fX0pKSxUZS5zZXQodGhpcywoYXN5bmMgZT0+e3N3aXRjaChlLmFjdGlvbi50cmlnZ2VyKXtjYXNlIFJlLlAuRm9jdXNDaGFuZ2U6X2UodGhpcyxDZSxcImZcIikuY2FsbCh0aGlzLGUpO2JyZWFrO2Nhc2UgUmUuUC5Vc2VyQWN0aW9uOl9lKHRoaXMsSWUsXCJmXCIpLmNhbGwodGhpcyxlKTticmVhaztjYXNlIFJlLlAuUmVsb2FkOmJyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKGBVbmtub3duIGFjdGlvbiB0cmlnZ2VyOiAke2UuYWN0aW9uLnRyaWdnZXJ9YCl9fSkpLHRoaXMuaW5pdGlhbGl6ZVdvcmtmbG93PWFzeW5jIGU9PntpZihcInNlYXJjaFwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byBpbml0aWFsaXplIHVua25vd24gd29ya2Zsb3c6ICR7ZX1gKTthd2FpdCBTLnJlZ2lzdGVyKHsuLi50aGlzLmNvbmZpZy53b3JrZmxvd3Muc2VhcmNoLmhvbWVQcm92aWRlcixvblVzZXJJbnB1dDpfZSh0aGlzLFdlLFwiZlwiKSxvblJlc3VsdERpc3BhdGNoOl9lKHRoaXMsVGUsXCJmXCIpfSksKDAsei5lbmFibGVMb2dnaW5nKSgpLGF3YWl0IHRoaXMuY29ubmVjdCgpLHN1cGVyLmluaXRpYWxpemVXb3JrZmxvdyhlKX0sT2JqZWN0LmVudHJpZXModC53b3JrZmxvd3M/LnNlYXJjaD8ubWljcm9zb2Z0RW50aXR5VHlwZUNvbmZpZ3x8e30pLmZpbHRlcigoKFtlLHRdKT0+dCkpLmZvckVhY2goKChbZV0pPT57X2UodGhpcyxtZSxcImZcIikuYWRkKHFbZV0pfSkpfWFzeW5jIGV4ZWN1dGVBcGlSZXF1ZXN0KC4uLmUpe3JldHVybiBfZSh0aGlzLHVlLFwibVwiLGtlKS5jYWxsKHRoaXMsKCgpPT5fZSh0aGlzLHZlLFwiZlwiKS5jYWxsKHRoaXMpLmV4ZWN1dGVBcGlSZXF1ZXN0KC4uLmUpKSl9fXBlPW5ldyBXZWFrTWFwLGhlPW5ldyBXZWFrTWFwLGZlPW5ldyBXZWFrTWFwLGdlPW5ldyBXZWFrTWFwLG1lPW5ldyBXZWFrTWFwLHdlPW5ldyBXZWFrTWFwLHllPW5ldyBXZWFrTWFwLHZlPW5ldyBXZWFrTWFwLENlPW5ldyBXZWFrTWFwLHhlPW5ldyBXZWFrTWFwLEFlPW5ldyBXZWFrTWFwLE1lPW5ldyBXZWFrTWFwLEllPW5ldyBXZWFrTWFwLEZlPW5ldyBXZWFrTWFwLFdlPW5ldyBXZWFrTWFwLFRlPW5ldyBXZWFrTWFwLHVlPW5ldyBXZWFrU2V0LGtlPWFzeW5jIGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gYXdhaXQgZSgpfWNhdGNoKHQpe2lmKHQgaW5zdGFuY2VvZiB6LkF1dGhUb2tlbkV4cGlyZWRFcnJvcilyZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0KCksZSgpO3Rocm93IHR9fSxiZT1hc3luYyBmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5leGVjdXRlQXBpUmVxdWVzdChcIi92MS4wLyRiYXRjaFwiLFwiUE9TVFwiLHtyZXF1ZXN0czplfSl9LFNlPWFzeW5jIGZ1bmN0aW9uKGUsdCl7dHJ5e2NvbnN0IGE9YXdhaXQgX2UodGhpcyx1ZSxcIm1cIixiZSkuY2FsbCh0aGlzLGUpO3JldHVybntmaWx0ZXJzOlsuLi5hZSh0LF9lKHRoaXMsbWUsXCJmXCIpKSwuLi5uZShhLmRhdGEucmVzcG9uc2VzLmZpbmQoKGU9PlwidXNlclwiPT09ZS5pZCkpPy5ib2R5Py52YWx1ZXx8W10sdCldLHJlc3VsdHM6X2UodGhpcyx1ZSxcIm1cIixQZSkuY2FsbCh0aGlzLGEsdCl9fWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZXhlY3V0ZSBCYXRjaCBBUEkgcmVxdWVzdDogXCIsZSkse2ZpbHRlcnM6W10scmVzdWx0czpbe2tleTooMCxMLk4pKCksdGl0bGU6XCJFcnJvciBGZXRjaGluZyBTZWFyY2ggUmVzdWx0c1wiLGRlc2NyaXB0aW9uOlwiXCIsYWN0aW9uczpbXSx0ZW1wbGF0ZTokLmZDLkVycm9yLHRlbXBsYXRlQ29udGVudDpgRmFpbGVkIHRvIGV4ZWN1dGUgQmF0Y2ggQVBJIHJlcXVlc3Q6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YH1dfX19LFBlPWZ1bmN0aW9uKGUsdCl7bGV0IGE9W107Zm9yKGNvbnN0IG4gb2YgZS5kYXRhLnJlc3BvbnNlcylpZigyMDA9PT1uLnN0YXR1cylzd2l0Y2gobi5pZCl7Y2FzZVwiZHJpdmVJdGVtXCI6e2NvbnN0IGU9aWUodCkscj1lLmZpbHRlckZpbGVzP3NlKG4uYm9keS52YWx1ZSxlKTpuLmJvZHkudmFsdWU7YS5wdXNoKC4uLihyfHxbXSkubWFwKChlPT4oe2tleTplLmlkPz8oMCxMLk4pKCksdGl0bGU6ZS5uYW1lPz9cIlwiLGRlc2NyaXB0aW9uOmUuZmlsZT8ubWltZVR5cGU/P1wiXCIsbGFiZWw6Y2UoZS5uYW1lKSxpY29uOmRlKGUubmFtZSksZGF0YTp7dHlwZTpcImRyaXZlSXRlbVwiLGl0ZW06ZX0sYWN0aW9uczpbe25hbWU6XCJMYXVuY2hcIn1dLHRlbXBsYXRlOiQuZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH0pKSkpO2JyZWFrfWNhc2VcImV2ZW50XCI6YS5wdXNoKC4uLm4uYm9keT8udmFsdWU/LlswXT8uaGl0c0NvbnRhaW5lcnM/LlswXT8uaGl0cz8uZmlsdGVyKChlPT5lLnJlc291cmNlLnN1YmplY3QpKS5tYXAoKGU9Pntjb25zdCB0PWUucmVzb3VyY2UsYT1sZShlLmhpdElkKTtyZXR1cm57a2V5OmEsdGl0bGU6dC5zdWJqZWN0Pz9cIlwiLGxhYmVsOlwiQ2FsZW5kYXIgRXZlbnRcIixpY29uOigwLEQuT1gpKE8uc1AuTWljcm9zb2Z0MzY1QXNzZXRzLk1pY3Jvc29mdDM2NU91dGxvb2tJY29uKSxhY3Rpb25zOlt7bmFtZTpcIkxhdW5jaFwifV0sZGF0YTp7dHlwZTpcImV2ZW50XCIsaXRlbTp7Li4udCxpZDphfX0sdGVtcGxhdGU6JC5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfX0pKXx8W10pO2JyZWFrO2Nhc2VcImNvbnRhY3RcIjp7Y29uc3QgZT1yZSh0KSxyPW9lKG4uYm9keS52YWx1ZXx8W10sZSk7YS5wdXNoKC4uLihyfHxbXSkubWFwKChlPT4oe2tleTplLmlkPz8oMCxMLk4pKCksdGl0bGU6ZS5kaXNwbGF5TmFtZT8/XCJcIixsYWJlbDpcIk91dGxvb2sgY29udGFjdFwiLGljb246KDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1T3V0bG9va0ljb24pLGFjdGlvbnM6W10sZGF0YTp7dHlwZTpcImNvbnRhY3RcIixpdGVtOmV9LHRlbXBsYXRlOiQuZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH0pKSkpO2JyZWFrfWNhc2VcInVzZXJcIjp7Y29uc3QgZT1yZSh0KSxyPW9lKG4uYm9keS52YWx1ZXx8W10sZSk7YS5wdXNoKC4uLihyfHxbXSkubWFwKChlPT4oe2tleTplLmlkPz8oMCxMLk4pKCksdGl0bGU6ZS5kaXNwbGF5TmFtZT8/XCJcIixsYWJlbDpcIlRlYW1zIGNvbnRhY3RcIixpY29uOigwLEQuT1gpKE8uc1AuTWljcm9zb2Z0MzY1QXNzZXRzLk1pY3Jvc29mdDM2NVRlYW1zSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwidXNlclwiLGl0ZW06ZX0sdGVtcGxhdGU6JC5mQy5Mb2FkaW5nLHRlbXBsYXRlQ29udGVudDp2b2lkIDB9KSkpKTticmVha31jYXNlXCJtZXNzYWdlXCI6YS5wdXNoKC4uLihuLmJvZHkudmFsdWV8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTpgJHtlLnN1YmplY3Q/P1wiVW50aXRsZWQgTWVzc2FnZVwifSR7ZS5pc0RyYWZ0P1wiIChEcmFmdClcIjpcIlwifWAsbGFiZWw6XCJFbWFpbFwiLGljb246KDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1T3V0bG9va0ljb24pLGFjdGlvbnM6W10sZGF0YTp7dHlwZTpcIm1lc3NhZ2VcIixpdGVtOmV9LHRlbXBsYXRlOiQuZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH0pKSkpO2JyZWFrO2Nhc2VcImNoYXRNZXNzYWdlXCI6YS5wdXNoKC4uLm4uYm9keT8udmFsdWU/LlswXT8uaGl0c0NvbnRhaW5lcnM/LlswXT8uaGl0cz8ubWFwKChlPT57Y29uc3QgdD1lLnJlc291cmNlO3JldHVybntrZXk6dC5pZD8/KDAsTC5OKSgpLHRpdGxlOmUuc3VtbWFyeT8/XCJVbnRpdGxlZCBNZXNzYWdlXCIsbGFiZWw6XCJDaGF0XCIsaWNvbjooMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVUZWFtc0ljb24pLGFjdGlvbnM6W10sZGF0YTp7dHlwZTpcImNoYXRNZXNzYWdlXCIsaXRlbTp0fSx0ZW1wbGF0ZTokLmZDLlBsYWluLHRlbXBsYXRlQ29udGVudDp2b2lkIDB9fSkpfHxbXSk7YnJlYWs7Y2FzZVwibGlzdFwiOmEucHVzaCguLi5uLmJvZHk/LnZhbHVlPy5bMF0/LmhpdHNDb250YWluZXJzPy5bMF0/LmhpdHM/Lm1hcCgoZT0+e2NvbnN0IHQ9ZS5yZXNvdXJjZSxhPWxlKGUuaGl0SWQpO3JldHVybntrZXk6YSx0aXRsZTp0LmRpc3BsYXlOYW1lPz9cIlVudGl0bGVkIExpc3RcIixsYWJlbDpcIkxpc3RcIixhY3Rpb25zOlt7bmFtZTpcIkxhdW5jaFwifV0sZGF0YTp7dHlwZTpcImxpc3RcIixpdGVtOnsuLi50LGlkOmF9fSx0ZW1wbGF0ZTokLmZDLlBsYWluLHRlbXBsYXRlQ29udGVudDp2b2lkIDB9fSkpfHxbXSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oYFVua25vd24gYmF0Y2ggcmVzcG9uc2UgaWQ6ICR7bi5pZH1gLG4uYm9keSl9ZWxzZSBjb25zb2xlLndhcm4oXCJCYXRjaCBBUEkgcmVxdWVzdCBmYWlsZWQ6IFwiLG4pO3JldHVybiBhPWEubWFwKChlPT57aWYoIWUuZGF0YT8uaXRlbT8uaWQpcmV0dXJuIGU7Y29uc3QgdD1fZSh0aGlzLHllLFwiZlwiKS5nZXQoZS5kYXRhLml0ZW0uaWQpO3JldHVybiB0P3suLi5lLHRlbXBsYXRlOnQudGVtcGxhdGUsdGVtcGxhdGVDb250ZW50OnQudGVtcGxhdGVDb250ZW50fTplfSkpLGEuc29ydCgoKGUsdCk9PmUudGl0bGU+dC50aXRsZT8xOi0xKSl9O3ZhciBFZT1hKDU5OCksUmU9YSgxMjkpLEJlPWEoMTg0KSxOZT1hKDcxMCl9KSgpLG1vZHVsZS5leHBvcnRzPW59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLypcbiAqIERleGllLmpzIC0gYSBtaW5pbWFsaXN0aWMgd3JhcHBlciBmb3IgSW5kZXhlZERCXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEJ5IERhdmlkIEZhaGxhbmRlciwgZGF2aWQuZmFobGFuZGVyQGdtYWlsLmNvbVxuICpcbiAqIFZlcnNpb24gNC4wLjExLCBXZWQgSmFuIDE1IDIwMjVcbiAqXG4gKiBodHRwczovL2RleGllLm9yZ1xuICpcbiAqIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBKYW51YXJ5IDIwMDQsIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9cbiAqL1xuIFxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuRGV4aWUgPSBmYWN0b3J5KCkpO1xufSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4gICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4gICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcbiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG4gICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG4gICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcbiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG4gICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfVxuICAgIHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICAgICAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xuICAgIH1cblxuICAgIHZhciBfZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6XG4gICAgICAgIHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOlxuICAgICAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOlxuICAgICAgICAgICAgICAgIGdsb2JhbDtcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXM7XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIV9nbG9iYWwuUHJvbWlzZSkge1xuICAgICAgICBfZ2xvYmFsLlByb21pc2UgPSBQcm9taXNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleHRlbmQob2JqLCBleHRlbnNpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBleHRlbnNpb24gIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAga2V5cyhleHRlbnNpb24pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBleHRlbnNpb25ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICB2YXIgX2hhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIGhhc093bihvYmosIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIF9oYXNPd24uY2FsbChvYmosIHByb3ApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wcyhwcm90bywgZXh0ZW5zaW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uKGdldFByb3RvKHByb3RvKSk7XG4gICAgICAgICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IGtleXMgOiBSZWZsZWN0Lm93bktleXMpKGV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBzZXRQcm9wKHByb3RvLCBrZXksIGV4dGVuc2lvbltrZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgICBmdW5jdGlvbiBzZXRQcm9wKG9iaiwgcHJvcCwgZnVuY3Rpb25PckdldFNldCwgb3B0aW9ucykge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIGV4dGVuZChmdW5jdGlvbk9yR2V0U2V0ICYmIGhhc093bihmdW5jdGlvbk9yR2V0U2V0LCBcImdldFwiKSAmJiB0eXBlb2YgZnVuY3Rpb25PckdldFNldC5nZXQgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgeyBnZXQ6IGZ1bmN0aW9uT3JHZXRTZXQuZ2V0LCBzZXQ6IGZ1bmN0aW9uT3JHZXRTZXQuc2V0LCBjb25maWd1cmFibGU6IHRydWUgfSA6XG4gICAgICAgICAgICB7IHZhbHVlOiBmdW5jdGlvbk9yR2V0U2V0LCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVyaXZlKENoaWxkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiBmdW5jdGlvbiAoUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgQ2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQYXJlbnQucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICBzZXRQcm9wKENoaWxkLnByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBDaGlsZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kOiBwcm9wcy5iaW5kKG51bGwsIENoaWxkLnByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKSB7XG4gICAgICAgIHZhciBwZCA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApO1xuICAgICAgICB2YXIgcHJvdG87XG4gICAgICAgIHJldHVybiBwZCB8fCAocHJvdG8gPSBnZXRQcm90byhvYmopKSAmJiBnZXRQcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIHByb3ApO1xuICAgIH1cbiAgICB2YXIgX3NsaWNlID0gW10uc2xpY2U7XG4gICAgZnVuY3Rpb24gc2xpY2UoYXJncywgc3RhcnQsIGVuZCkge1xuICAgICAgICByZXR1cm4gX3NsaWNlLmNhbGwoYXJncywgc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG92ZXJyaWRlKG9yaWdGdW5jLCBvdmVycmlkZWRGYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiBvdmVycmlkZWRGYWN0b3J5KG9yaWdGdW5jKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNzZXJ0KGIpIHtcbiAgICAgICAgaWYgKCFiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXNzZXJ0aW9uIEZhaWxlZFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNhcCQxKGZuKSB7XG4gICAgICAgIGlmIChfZ2xvYmFsLnNldEltbWVkaWF0ZSlcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycmF5LCBleHRyYWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBpdGVtLCBpKSB7XG4gICAgICAgICAgICB2YXIgbmFtZUFuZFZhbHVlID0gZXh0cmFjdG9yKGl0ZW0sIGkpO1xuICAgICAgICAgICAgaWYgKG5hbWVBbmRWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXN1bHRbbmFtZUFuZFZhbHVlWzBdXSA9IG5hbWVBbmRWYWx1ZVsxXTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCkge1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnICYmIGhhc093bihvYmosIGtleVBhdGgpKVxuICAgICAgICAgICAgcmV0dXJuIG9ialtrZXlQYXRoXTtcbiAgICAgICAgaWYgKCFrZXlQYXRoKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHJ2ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleVBhdGgubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGhbaV0pO1xuICAgICAgICAgICAgICAgIHJ2LnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGVyaW9kID0ga2V5UGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICAgIGlmIChwZXJpb2QgIT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJPYmogPSBvYmpba2V5UGF0aC5zdWJzdHIoMCwgcGVyaW9kKV07XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJPYmogPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGdldEJ5S2V5UGF0aChpbm5lck9iaiwga2V5UGF0aC5zdWJzdHIocGVyaW9kICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHZhbHVlKSB7XG4gICAgICAgIGlmICghb2JqIHx8IGtleVBhdGggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCdpc0Zyb3plbicgaW4gT2JqZWN0ICYmIE9iamVjdC5pc0Zyb3plbihvYmopKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnICYmICdsZW5ndGgnIGluIGtleVBhdGgpIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmICdsZW5ndGgnIGluIHZhbHVlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5UGF0aC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoW2ldLCB2YWx1ZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcGVyaW9kID0ga2V5UGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICAgICAgICBpZiAocGVyaW9kICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50S2V5UGF0aCA9IGtleVBhdGguc3Vic3RyKDAsIHBlcmlvZCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0tleVBhdGggPSBrZXlQYXRoLnN1YnN0cihwZXJpb2QgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nS2V5UGF0aCA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KG9iaikgJiYgIWlzTmFOKHBhcnNlSW50KGN1cnJlbnRLZXlQYXRoKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNwbGljZShjdXJyZW50S2V5UGF0aCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtjdXJyZW50S2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2N1cnJlbnRLZXlQYXRoXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJPYmogPSBvYmpbY3VycmVudEtleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlubmVyT2JqIHx8ICFoYXNPd24ob2JqLCBjdXJyZW50S2V5UGF0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lck9iaiA9IChvYmpbY3VycmVudEtleVBhdGhdID0ge30pO1xuICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaW5uZXJPYmosIHJlbWFpbmluZ0tleVBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShvYmopICYmICFpc05hTihwYXJzZUludChrZXlQYXRoKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouc3BsaWNlKGtleVBhdGgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXlQYXRoXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbEJ5S2V5UGF0aChvYmosIGtleVBhdGgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHVuZGVmaW5lZCk7XG4gICAgICAgIGVsc2UgaWYgKCdsZW5ndGgnIGluIGtleVBhdGgpXG4gICAgICAgICAgICBbXS5tYXAuY2FsbChrZXlQYXRoLCBmdW5jdGlvbiAoa3ApIHtcbiAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrcCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaGFsbG93Q2xvbmUob2JqKSB7XG4gICAgICAgIHZhciBydiA9IHt9O1xuICAgICAgICBmb3IgKHZhciBtIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093bihvYmosIG0pKVxuICAgICAgICAgICAgICAgIHJ2W21dID0gb2JqW21dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgdmFyIGNvbmNhdCA9IFtdLmNvbmNhdDtcbiAgICBmdW5jdGlvbiBmbGF0dGVuKGEpIHtcbiAgICAgICAgcmV0dXJuIGNvbmNhdC5hcHBseShbXSwgYSk7XG4gICAgfVxuICAgIHZhciBpbnRyaW5zaWNUeXBlTmFtZXMgPSBcIkJpZ1VpbnQ2NEFycmF5LEJpZ0ludDY0QXJyYXksQXJyYXksQm9vbGVhbixTdHJpbmcsRGF0ZSxSZWdFeHAsQmxvYixGaWxlLEZpbGVMaXN0LEZpbGVTeXN0ZW1GaWxlSGFuZGxlLEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUsQXJyYXlCdWZmZXIsRGF0YVZpZXcsVWludDhDbGFtcGVkQXJyYXksSW1hZ2VCaXRtYXAsSW1hZ2VEYXRhLE1hcCxTZXQsQ3J5cHRvS2V5XCJcbiAgICAgICAgLnNwbGl0KCcsJykuY29uY2F0KGZsYXR0ZW4oWzgsIDE2LCAzMiwgNjRdLm1hcChmdW5jdGlvbiAobnVtKSB7IHJldHVybiBbXCJJbnRcIiwgXCJVaW50XCIsIFwiRmxvYXRcIl0ubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ICsgbnVtICsgXCJBcnJheVwiOyB9KTsgfSkpKS5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIF9nbG9iYWxbdF07IH0pO1xuICAgIHZhciBpbnRyaW5zaWNUeXBlcyA9IG5ldyBTZXQoaW50cmluc2ljVHlwZU5hbWVzLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gX2dsb2JhbFt0XTsgfSkpO1xuICAgIGZ1bmN0aW9uIGNsb25lU2ltcGxlT2JqZWN0VHJlZShvKSB7XG4gICAgICAgIHZhciBydiA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrIGluIG8pXG4gICAgICAgICAgICBpZiAoaGFzT3duKG8sIGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBvW2tdO1xuICAgICAgICAgICAgICAgIHJ2W2tdID0gIXYgfHwgdHlwZW9mIHYgIT09ICdvYmplY3QnIHx8IGludHJpbnNpY1R5cGVzLmhhcyh2LmNvbnN0cnVjdG9yKSA/IHYgOiBjbG9uZVNpbXBsZU9iamVjdFRyZWUodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZnVuY3Rpb24gb2JqZWN0SXNFbXB0eShvKSB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gbylcbiAgICAgICAgICAgIGlmIChoYXNPd24obywgaykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGNpcmN1bGFyUmVmcyA9IG51bGw7XG4gICAgZnVuY3Rpb24gZGVlcENsb25lKGFueSkge1xuICAgICAgICBjaXJjdWxhclJlZnMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB2YXIgcnYgPSBpbm5lckRlZXBDbG9uZShhbnkpO1xuICAgICAgICBjaXJjdWxhclJlZnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlubmVyRGVlcENsb25lKHgpIHtcbiAgICAgICAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB2YXIgcnYgPSBjaXJjdWxhclJlZnMuZ2V0KHgpO1xuICAgICAgICBpZiAocnYpXG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIGlmIChpc0FycmF5KHgpKSB7XG4gICAgICAgICAgICBydiA9IFtdO1xuICAgICAgICAgICAgY2lyY3VsYXJSZWZzLnNldCh4LCBydik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHgubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcnYucHVzaChpbm5lckRlZXBDbG9uZSh4W2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW50cmluc2ljVHlwZXMuaGFzKHguY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICBydiA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJvdG8gPSBnZXRQcm90byh4KTtcbiAgICAgICAgICAgIHJ2ID0gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgPyB7fSA6IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuICAgICAgICAgICAgY2lyY3VsYXJSZWZzLnNldCh4LCBydik7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHgsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ2W3Byb3BdID0gaW5uZXJEZWVwQ2xvbmUoeFtwcm9wXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgdmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG4gICAgZnVuY3Rpb24gdG9TdHJpbmdUYWcobykge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgU3ltYm9sLml0ZXJhdG9yIDpcbiAgICAgICAgJ0BAaXRlcmF0b3InO1xuICAgIHZhciBnZXRJdGVyYXRvck9mID0gdHlwZW9mIGl0ZXJhdG9yU3ltYm9sID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHJldHVybiB4ICE9IG51bGwgJiYgKGkgPSB4W2l0ZXJhdG9yU3ltYm9sXSkgJiYgaS5hcHBseSh4KTtcbiAgICB9IDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBmdW5jdGlvbiBkZWxBcnJheUl0ZW0oYSwgeCkge1xuICAgICAgICB2YXIgaSA9IGEuaW5kZXhPZih4KTtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIGEuc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm4gaSA+PSAwO1xuICAgIH1cbiAgICB2YXIgTk9fQ0hBUl9BUlJBWSA9IHt9O1xuICAgIGZ1bmN0aW9uIGdldEFycmF5T2YoYXJyYXlMaWtlKSB7XG4gICAgICAgIHZhciBpLCBhLCB4LCBpdDtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGFycmF5TGlrZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5TGlrZS5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMgPT09IE5PX0NIQVJfQVJSQVkgJiYgdHlwZW9mIGFycmF5TGlrZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICAgICAgaWYgKChpdCA9IGdldEl0ZXJhdG9yT2YoYXJyYXlMaWtlKSkpIHtcbiAgICAgICAgICAgICAgICBhID0gW107XG4gICAgICAgICAgICAgICAgd2hpbGUgKCh4ID0gaXQubmV4dCgpKSwgIXguZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHgudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFycmF5TGlrZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBbYXJyYXlMaWtlXTtcbiAgICAgICAgICAgIGkgPSBhcnJheUxpa2UubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGEgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICAgICAgYVtpXSA9IGFycmF5TGlrZVtpXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbYXJyYXlMaWtlXTtcbiAgICAgICAgfVxuICAgICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgYSA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgIGFbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICB2YXIgaXNBc3luY0Z1bmN0aW9uID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdBc3luY0Z1bmN0aW9uJzsgfVxuICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuXG4gICAgdmFyIGRleGllRXJyb3JOYW1lcyA9IFtcbiAgICAgICAgJ01vZGlmeScsXG4gICAgICAgICdCdWxrJyxcbiAgICAgICAgJ09wZW5GYWlsZWQnLFxuICAgICAgICAnVmVyc2lvbkNoYW5nZScsXG4gICAgICAgICdTY2hlbWEnLFxuICAgICAgICAnVXBncmFkZScsXG4gICAgICAgICdJbnZhbGlkVGFibGUnLFxuICAgICAgICAnTWlzc2luZ0FQSScsXG4gICAgICAgICdOb1N1Y2hEYXRhYmFzZScsXG4gICAgICAgICdJbnZhbGlkQXJndW1lbnQnLFxuICAgICAgICAnU3ViVHJhbnNhY3Rpb24nLFxuICAgICAgICAnVW5zdXBwb3J0ZWQnLFxuICAgICAgICAnSW50ZXJuYWwnLFxuICAgICAgICAnRGF0YWJhc2VDbG9zZWQnLFxuICAgICAgICAnUHJlbWF0dXJlQ29tbWl0JyxcbiAgICAgICAgJ0ZvcmVpZ25Bd2FpdCdcbiAgICBdO1xuICAgIHZhciBpZGJEb21FcnJvck5hbWVzID0gW1xuICAgICAgICAnVW5rbm93bicsXG4gICAgICAgICdDb25zdHJhaW50JyxcbiAgICAgICAgJ0RhdGEnLFxuICAgICAgICAnVHJhbnNhY3Rpb25JbmFjdGl2ZScsXG4gICAgICAgICdSZWFkT25seScsXG4gICAgICAgICdWZXJzaW9uJyxcbiAgICAgICAgJ05vdEZvdW5kJyxcbiAgICAgICAgJ0ludmFsaWRTdGF0ZScsXG4gICAgICAgICdJbnZhbGlkQWNjZXNzJyxcbiAgICAgICAgJ0Fib3J0JyxcbiAgICAgICAgJ1RpbWVvdXQnLFxuICAgICAgICAnUXVvdGFFeGNlZWRlZCcsXG4gICAgICAgICdTeW50YXgnLFxuICAgICAgICAnRGF0YUNsb25lJ1xuICAgIF07XG4gICAgdmFyIGVycm9yTGlzdCA9IGRleGllRXJyb3JOYW1lcy5jb25jYXQoaWRiRG9tRXJyb3JOYW1lcyk7XG4gICAgdmFyIGRlZmF1bHRUZXh0cyA9IHtcbiAgICAgICAgVmVyc2lvbkNoYW5nZWQ6IFwiRGF0YWJhc2UgdmVyc2lvbiBjaGFuZ2VkIGJ5IG90aGVyIGRhdGFiYXNlIGNvbm5lY3Rpb25cIixcbiAgICAgICAgRGF0YWJhc2VDbG9zZWQ6IFwiRGF0YWJhc2UgaGFzIGJlZW4gY2xvc2VkXCIsXG4gICAgICAgIEFib3J0OiBcIlRyYW5zYWN0aW9uIGFib3J0ZWRcIixcbiAgICAgICAgVHJhbnNhY3Rpb25JbmFjdGl2ZTogXCJUcmFuc2FjdGlvbiBoYXMgYWxyZWFkeSBjb21wbGV0ZWQgb3IgZmFpbGVkXCIsXG4gICAgICAgIE1pc3NpbmdBUEk6IFwiSW5kZXhlZERCIEFQSSBtaXNzaW5nLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly90aW55dXJsLmNvbS95MnV1dnNrYlwiXG4gICAgfTtcbiAgICBmdW5jdGlvbiBEZXhpZUVycm9yKG5hbWUsIG1zZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuICAgIGRlcml2ZShEZXhpZUVycm9yKS5mcm9tKEVycm9yKS5leHRlbmQoe1xuICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5uYW1lICsgXCI6IFwiICsgdGhpcy5tZXNzYWdlOyB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCBmYWlsdXJlcykge1xuICAgICAgICByZXR1cm4gbXNnICsgXCIuIEVycm9yczogXCIgKyBPYmplY3Qua2V5cyhmYWlsdXJlcylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmFpbHVyZXNba2V5XS50b1N0cmluZygpOyB9KVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodiwgaSwgcykgeyByZXR1cm4gcy5pbmRleE9mKHYpID09PSBpOyB9KVxuICAgICAgICAgICAgLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBNb2RpZnlFcnJvcihtc2csIGZhaWx1cmVzLCBzdWNjZXNzQ291bnQsIGZhaWxlZEtleXMpIHtcbiAgICAgICAgdGhpcy5mYWlsdXJlcyA9IGZhaWx1cmVzO1xuICAgICAgICB0aGlzLmZhaWxlZEtleXMgPSBmYWlsZWRLZXlzO1xuICAgICAgICB0aGlzLnN1Y2Nlc3NDb3VudCA9IHN1Y2Nlc3NDb3VudDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCBmYWlsdXJlcyk7XG4gICAgfVxuICAgIGRlcml2ZShNb2RpZnlFcnJvcikuZnJvbShEZXhpZUVycm9yKTtcbiAgICBmdW5jdGlvbiBCdWxrRXJyb3IobXNnLCBmYWlsdXJlcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkJ1bGtFcnJvclwiO1xuICAgICAgICB0aGlzLmZhaWx1cmVzID0gT2JqZWN0LmtleXMoZmFpbHVyZXMpLm1hcChmdW5jdGlvbiAocG9zKSB7IHJldHVybiBmYWlsdXJlc1twb3NdOyB9KTtcbiAgICAgICAgdGhpcy5mYWlsdXJlc0J5UG9zID0gZmFpbHVyZXM7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGdldE11bHRpRXJyb3JNZXNzYWdlKG1zZywgdGhpcy5mYWlsdXJlcyk7XG4gICAgfVxuICAgIGRlcml2ZShCdWxrRXJyb3IpLmZyb20oRGV4aWVFcnJvcik7XG4gICAgdmFyIGVycm5hbWVzID0gZXJyb3JMaXN0LnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7IHJldHVybiAob2JqW25hbWVdID0gbmFtZSArIFwiRXJyb3JcIiwgb2JqKTsgfSwge30pO1xuICAgIHZhciBCYXNlRXhjZXB0aW9uID0gRGV4aWVFcnJvcjtcbiAgICB2YXIgZXhjZXB0aW9ucyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgICAgICB2YXIgZnVsbE5hbWUgPSBuYW1lICsgXCJFcnJvclwiO1xuICAgICAgICBmdW5jdGlvbiBEZXhpZUVycm9yKG1zZ09ySW5uZXIsIGlubmVyKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdWxsTmFtZTtcbiAgICAgICAgICAgIGlmICghbXNnT3JJbm5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRUZXh0c1tuYW1lXSB8fCBmdWxsTmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtc2dPcklubmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IFwiXCIuY29uY2F0KG1zZ09ySW5uZXIpLmNvbmNhdCghaW5uZXIgPyAnJyA6ICdcXG4gJyArIGlubmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyID0gaW5uZXIgfHwgbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtc2dPcklubmVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IFwiXCIuY29uY2F0KG1zZ09ySW5uZXIubmFtZSwgXCIgXCIpLmNvbmNhdChtc2dPcklubmVyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBtc2dPcklubmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlcml2ZShEZXhpZUVycm9yKS5mcm9tKEJhc2VFeGNlcHRpb24pO1xuICAgICAgICBvYmpbbmFtZV0gPSBEZXhpZUVycm9yO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBleGNlcHRpb25zLlN5bnRheCA9IFN5bnRheEVycm9yO1xuICAgIGV4Y2VwdGlvbnMuVHlwZSA9IFR5cGVFcnJvcjtcbiAgICBleGNlcHRpb25zLlJhbmdlID0gUmFuZ2VFcnJvcjtcbiAgICB2YXIgZXhjZXB0aW9uTWFwID0gaWRiRG9tRXJyb3JOYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgICAgICBvYmpbbmFtZSArIFwiRXJyb3JcIl0gPSBleGNlcHRpb25zW25hbWVdO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBmdW5jdGlvbiBtYXBFcnJvcihkb21FcnJvciwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIWRvbUVycm9yIHx8IGRvbUVycm9yIGluc3RhbmNlb2YgRGV4aWVFcnJvciB8fCBkb21FcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciB8fCBkb21FcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yIHx8ICFkb21FcnJvci5uYW1lIHx8ICFleGNlcHRpb25NYXBbZG9tRXJyb3IubmFtZV0pXG4gICAgICAgICAgICByZXR1cm4gZG9tRXJyb3I7XG4gICAgICAgIHZhciBydiA9IG5ldyBleGNlcHRpb25NYXBbZG9tRXJyb3IubmFtZV0obWVzc2FnZSB8fCBkb21FcnJvci5tZXNzYWdlLCBkb21FcnJvcik7XG4gICAgICAgIGlmIChcInN0YWNrXCIgaW4gZG9tRXJyb3IpIHtcbiAgICAgICAgICAgIHNldFByb3AocnYsIFwic3RhY2tcIiwgeyBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXIuc3RhY2s7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIHZhciBmdWxsTmFtZUV4Y2VwdGlvbnMgPSBlcnJvckxpc3QucmVkdWNlKGZ1bmN0aW9uIChvYmosIG5hbWUpIHtcbiAgICAgICAgaWYgKFtcIlN5bnRheFwiLCBcIlR5cGVcIiwgXCJSYW5nZVwiXS5pbmRleE9mKG5hbWUpID09PSAtMSlcbiAgICAgICAgICAgIG9ialtuYW1lICsgXCJFcnJvclwiXSA9IGV4Y2VwdGlvbnNbbmFtZV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGZ1bGxOYW1lRXhjZXB0aW9ucy5Nb2RpZnlFcnJvciA9IE1vZGlmeUVycm9yO1xuICAgIGZ1bGxOYW1lRXhjZXB0aW9ucy5EZXhpZUVycm9yID0gRGV4aWVFcnJvcjtcbiAgICBmdWxsTmFtZUV4Y2VwdGlvbnMuQnVsa0Vycm9yID0gQnVsa0Vycm9yO1xuXG4gICAgZnVuY3Rpb24gbm9wKCkgeyB9XG4gICAgZnVuY3Rpb24gbWlycm9yKHZhbCkgeyByZXR1cm4gdmFsOyB9XG4gICAgZnVuY3Rpb24gcHVyZUZ1bmN0aW9uQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PSBudWxsIHx8IGYxID09PSBtaXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZjIoZjEodmFsKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxCb3RoKG9uMSwgb24yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvbjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIG9uMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBob29rQ3JlYXRpbmdDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0gPSByZXM7XG4gICAgICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsXG4gICAgICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yO1xuICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXMyID0gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChvbnN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyA/IGNhbGxCb3RoKG9uc3VjY2VzcywgdGhpcy5vbnN1Y2Nlc3MpIDogb25zdWNjZXNzO1xuICAgICAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gdGhpcy5vbmVycm9yID8gY2FsbEJvdGgob25lcnJvciwgdGhpcy5vbmVycm9yKSA6IG9uZXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gcmVzMiAhPT0gdW5kZWZpbmVkID8gcmVzMiA6IHJlcztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaG9va0RlbGV0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBvbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyxcbiAgICAgICAgICAgIG9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XG4gICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzID8gY2FsbEJvdGgob25zdWNjZXNzLCB0aGlzLm9uc3VjY2VzcykgOiBvbnN1Y2Nlc3M7XG4gICAgICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaG9va1VwZGF0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1vZGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgZXh0ZW5kKG1vZGlmaWNhdGlvbnMsIHJlcyk7XG4gICAgICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsXG4gICAgICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yO1xuICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXMyID0gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChvbnN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyA/IGNhbGxCb3RoKG9uc3VjY2VzcywgdGhpcy5vbnN1Y2Nlc3MpIDogb25zdWNjZXNzO1xuICAgICAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gdGhpcy5vbmVycm9yID8gY2FsbEJvdGgob25lcnJvciwgdGhpcy5vbmVycm9yKSA6IG9uZXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gcmVzID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgIChyZXMyID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByZXMyKSA6XG4gICAgICAgICAgICAgICAgKGV4dGVuZChyZXMsIHJlczIpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV2ZXJzZVN0b3BwYWJsZUV2ZW50Q2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9taXNhYmxlQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAocmVzICYmIHR5cGVvZiByZXMudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHZhciB0aGl6ID0gdGhpcywgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZjIuYXBwbHkodGhpeiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZGVidWcgPSB0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC9eKGh0dHB8aHR0cHMpOlxcL1xcLyhsb2NhbGhvc3R8MTI3XFwuMFxcLjBcXC4xKS8udGVzdChsb2NhdGlvbi5ocmVmKTtcbiAgICBmdW5jdGlvbiBzZXREZWJ1Zyh2YWx1ZSwgZmlsdGVyKSB7XG4gICAgICAgIGRlYnVnID0gdmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIElOVEVSTkFMID0ge307XG4gICAgdmFyIFpPTkVfRUNIT19MSU1JVCA9IDEwMCwgX2EkMSA9IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/XG4gICAgICAgIFtdIDpcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBnbG9iYWxQID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCcgfHwgIWNyeXB0by5zdWJ0bGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtnbG9iYWxQLCBnZXRQcm90byhnbG9iYWxQKSwgZ2xvYmFsUF07XG4gICAgICAgICAgICB2YXIgbmF0aXZlUCA9IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTUxMlwiLCBuZXcgVWludDhBcnJheShbMF0pKTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmF0aXZlUCxcbiAgICAgICAgICAgICAgICBnZXRQcm90byhuYXRpdmVQKSxcbiAgICAgICAgICAgICAgICBnbG9iYWxQXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KSgpLCByZXNvbHZlZE5hdGl2ZVByb21pc2UgPSBfYSQxWzBdLCBuYXRpdmVQcm9taXNlUHJvdG8gPSBfYSQxWzFdLCByZXNvbHZlZEdsb2JhbFByb21pc2UgPSBfYSQxWzJdLCBuYXRpdmVQcm9taXNlVGhlbiA9IG5hdGl2ZVByb21pc2VQcm90byAmJiBuYXRpdmVQcm9taXNlUHJvdG8udGhlbjtcbiAgICB2YXIgTmF0aXZlUHJvbWlzZSA9IHJlc29sdmVkTmF0aXZlUHJvbWlzZSAmJiByZXNvbHZlZE5hdGl2ZVByb21pc2UuY29uc3RydWN0b3I7XG4gICAgdmFyIHBhdGNoR2xvYmFsUHJvbWlzZSA9ICEhcmVzb2x2ZWRHbG9iYWxQcm9taXNlO1xuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUGh5c2ljYWxUaWNrKCkge1xuICAgICAgICBxdWV1ZU1pY3JvdGFzayhwaHlzaWNhbFRpY2spO1xuICAgIH1cbiAgICB2YXIgYXNhcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYXJncykge1xuICAgICAgICBtaWNyb3RpY2tRdWV1ZS5wdXNoKFtjYWxsYmFjaywgYXJnc10pO1xuICAgICAgICBpZiAobmVlZHNOZXdQaHlzaWNhbFRpY2spIHtcbiAgICAgICAgICAgIHNjaGVkdWxlUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgICAgICBuZWVkc05ld1BoeXNpY2FsVGljayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaXNPdXRzaWRlTWljcm9UaWNrID0gdHJ1ZSxcbiAgICBuZWVkc05ld1BoeXNpY2FsVGljayA9IHRydWUsXG4gICAgdW5oYW5kbGVkRXJyb3JzID0gW10sXG4gICAgcmVqZWN0aW5nRXJyb3JzID0gW10sXG4gICAgcmVqZWN0aW9uTWFwcGVyID0gbWlycm9yO1xuICAgIHZhciBnbG9iYWxQU0QgPSB7XG4gICAgICAgIGlkOiAnZ2xvYmFsJyxcbiAgICAgICAgZ2xvYmFsOiB0cnVlLFxuICAgICAgICByZWY6IDAsXG4gICAgICAgIHVuaGFuZGxlZHM6IFtdLFxuICAgICAgICBvbnVuaGFuZGxlZDogbm9wLFxuICAgICAgICBwZ3A6IGZhbHNlLFxuICAgICAgICBlbnY6IHt9LFxuICAgICAgICBmaW5hbGl6ZTogbm9wXG4gICAgfTtcbiAgICB2YXIgUFNEID0gZ2xvYmFsUFNEO1xuICAgIHZhciBtaWNyb3RpY2tRdWV1ZSA9IFtdO1xuICAgIHZhciBudW1TY2hlZHVsZWRDYWxscyA9IDA7XG4gICAgdmFyIHRpY2tGaW5hbGl6ZXJzID0gW107XG4gICAgZnVuY3Rpb24gRGV4aWVQcm9taXNlKGZuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcyAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2xpYiA9IGZhbHNlO1xuICAgICAgICB2YXIgcHNkID0gKHRoaXMuX1BTRCA9IFBTRCk7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChmbiAhPT0gSU5URVJOQUwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIGhhbmRsZVJlamVjdGlvbih0aGlzLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgICAgICsrcHNkLnJlZjtcbiAgICAgICAgZXhlY3V0ZVByb21pc2VUYXNrKHRoaXMsIGZuKTtcbiAgICB9XG4gICAgdmFyIHRoZW5Qcm9wID0ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwc2QgPSBQU0QsIG1pY3JvVGFza0lkID0gdG90YWxFY2hvZXM7XG4gICAgICAgICAgICBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVBd2FpdCA9ICFwc2QuZ2xvYmFsICYmIChwc2QgIT09IFBTRCB8fCBtaWNyb1Rhc2tJZCAhPT0gdG90YWxFY2hvZXMpO1xuICAgICAgICAgICAgICAgIHZhciBjbGVhbnVwID0gcG9zc2libGVBd2FpdCAmJiAhZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICB2YXIgcnYgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcihfdGhpcywgbmV3IExpc3RlbmVyKG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAob25GdWxmaWxsZWQsIHBzZCwgcG9zc2libGVBd2FpdCwgY2xlYW51cCksIG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAob25SZWplY3RlZCwgcHNkLCBwb3NzaWJsZUF3YWl0LCBjbGVhbnVwKSwgcmVzb2x2ZSwgcmVqZWN0LCBwc2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uc29sZVRhc2spXG4gICAgICAgICAgICAgICAgICAgIHJ2Ll9jb25zb2xlVGFzayA9IHRoaXMuX2NvbnNvbGVUYXNrO1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoZW4ucHJvdG90eXBlID0gSU5URVJOQUw7XG4gICAgICAgICAgICByZXR1cm4gdGhlbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNldFByb3AodGhpcywgJ3RoZW4nLCB2YWx1ZSAmJiB2YWx1ZS5wcm90b3R5cGUgPT09IElOVEVSTkFMID9cbiAgICAgICAgICAgICAgICB0aGVuUHJvcCA6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB0aGVuUHJvcC5zZXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvcHMoRGV4aWVQcm9taXNlLnByb3RvdHlwZSwge1xuICAgICAgICB0aGVuOiB0aGVuUHJvcCxcbiAgICAgICAgX3RoZW46IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcih0aGlzLCBuZXcgTGlzdGVuZXIobnVsbCwgbnVsbCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIFBTRCkpO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaDogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXSwgaGFuZGxlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyciBpbnN0YW5jZW9mIHR5cGUgPyBoYW5kbGVyKGVycikgOiBQcm9taXNlUmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogdGhpcy50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyciAmJiBlcnIubmFtZSA9PT0gdHlwZSA/IGhhbmRsZXIoZXJyKSA6IFByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZmluYWxseTogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUob25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlUmVqZWN0KGVycik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVvdXQ6IGZ1bmN0aW9uIChtcywgbXNnKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG1zIDwgSW5maW5pdHkgP1xuICAgICAgICAgICAgICAgIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiByZWplY3QobmV3IGV4Y2VwdGlvbnMuVGltZW91dChtc2cpKTsgfSwgbXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50aGVuKHJlc29sdmUsIHJlamVjdCkuZmluYWxseShjbGVhclRpbWVvdXQuYmluZChudWxsLCBoYW5kbGUpKTtcbiAgICAgICAgICAgICAgICB9KSA6IHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKVxuICAgICAgICBzZXRQcm9wKERleGllUHJvbWlzZS5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywgJ0RleGllLlByb21pc2UnKTtcbiAgICBnbG9iYWxQU0QuZW52ID0gc25hcFNob3QoKTtcbiAgICBmdW5jdGlvbiBMaXN0ZW5lcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcmVzb2x2ZSwgcmVqZWN0LCB6b25lKSB7XG4gICAgICAgIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gICAgICAgIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB0aGlzLnBzZCA9IHpvbmU7XG4gICAgfVxuICAgIHByb3BzKERleGllUHJvbWlzZSwge1xuICAgICAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgfSwgcmVqZWN0KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEZXhpZVByb21pc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJ2ID0gbmV3IERleGllUHJvbWlzZShJTlRFUk5BTCwgdHJ1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9LFxuICAgICAgICByZWplY3Q6IFByb21pc2VSZWplY3QsXG4gICAgICAgIHJhY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cykubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKHJlc29sdmUsIHJlamVjdCk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFBTRDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBQU0Q7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gUFNEID0gdmFsdWU7IH1cbiAgICAgICAgfSxcbiAgICAgICAgdG90YWxFY2hvZXM6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b3RhbEVjaG9lczsgfSB9LFxuICAgICAgICBuZXdQU0Q6IG5ld1Njb3BlLFxuICAgICAgICB1c2VQU0Q6IHVzZVBTRCxcbiAgICAgICAgc2NoZWR1bGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFzYXA7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBhc2FwID0gdmFsdWU7IH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uTWFwcGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdGlvbk1hcHBlcjsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHJlamVjdGlvbk1hcHBlciA9IHZhbHVlOyB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvbGxvdzogZnVuY3Rpb24gKGZuLCB6b25lUHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHNkID0gUFNEO1xuICAgICAgICAgICAgICAgICAgICBwc2QudW5oYW5kbGVkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBwc2Qub251bmhhbmRsZWQgPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHBzZC5maW5hbGl6ZSA9IGNhbGxCb3RoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYXRfZW5kX29mX3RoaXNfb3JfbmV4dF9waHlzaWNhbF90aWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51bmhhbmRsZWRzLmxlbmd0aCA9PT0gMCA/IHJlc29sdmUoKSA6IHJlamVjdChfdGhpcy51bmhhbmRsZWRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBwc2QuZmluYWxpemUpO1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgIH0sIHpvbmVQcm9wcywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKE5hdGl2ZVByb21pc2UpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVByb21pc2UuYWxsU2V0dGxlZClcbiAgICAgICAgICAgIHNldFByb3AoRGV4aWVQcm9taXNlLCBcImFsbFNldHRsZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZVByb21pc2VzID0gZ2V0QXJyYXlPZi5hcHBseShudWxsLCBhcmd1bWVudHMpLm1hcChvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZVByb21pc2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gcG9zc2libGVQcm9taXNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlUHJvbWlzZXMuZm9yRWFjaChmdW5jdGlvbiAocCwgaSkgeyByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHJlc3VsdHNbaV0gPSB7IHN0YXR1czogXCJmdWxmaWxsZWRcIiwgdmFsdWU6IHZhbHVlIH07IH0sIGZ1bmN0aW9uIChyZWFzb24pIHsgcmV0dXJuIHJlc3VsdHNbaV0gPSB7IHN0YXR1czogXCJyZWplY3RlZFwiLCByZWFzb246IHJlYXNvbiB9OyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gLS1yZW1haW5pbmcgfHwgcmVzb2x2ZShyZXN1bHRzKTsgfSk7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChOYXRpdmVQcm9taXNlLmFueSAmJiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgc2V0UHJvcChEZXhpZVByb21pc2UsIFwiYW55XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVQcm9taXNlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZVByb21pc2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoW10pKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBuZXcgQXJyYXkocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVQcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShwKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0sIGZ1bmN0aW9uIChmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlc1tpXSA9IGZhaWx1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoZmFpbHVyZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChOYXRpdmVQcm9taXNlLndpdGhSZXNvbHZlcnMpXG4gICAgICAgICAgICBEZXhpZVByb21pc2Uud2l0aFJlc29sdmVycyA9IE5hdGl2ZVByb21pc2Uud2l0aFJlc29sdmVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZVByb21pc2VUYXNrKHByb21pc2UsIGZuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHByb21pc2UpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgICAgICAgICAgICAgdmFyIHNob3VsZEV4ZWN1dGVUaWNrID0gcHJvbWlzZS5fbGliICYmIGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVByb21pc2VUYXNrKHByb21pc2UsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgRGV4aWVQcm9taXNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5fdGhlbihyZXNvbHZlLCByZWplY3QpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fc3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRFeGVjdXRlVGljaylcbiAgICAgICAgICAgICAgICAgICAgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIH0sIGhhbmRsZVJlamVjdGlvbi5iaW5kKG51bGwsIHByb21pc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlamVjdGlvbihwcm9taXNlLCBleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVqZWN0aW9uKHByb21pc2UsIHJlYXNvbikge1xuICAgICAgICByZWplY3RpbmdFcnJvcnMucHVzaChyZWFzb24pO1xuICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzaG91bGRFeGVjdXRlVGljayA9IHByb21pc2UuX2xpYiAmJiBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgIHJlYXNvbiA9IHJlamVjdGlvbk1hcHBlcihyZWFzb24pO1xuICAgICAgICBwcm9taXNlLl9zdGF0ZSA9IGZhbHNlO1xuICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHJlYXNvbjtcbiAgICAgICAgYWRkUG9zc2libHlVbmhhbmRsZWRFcnJvcihwcm9taXNlKTtcbiAgICAgICAgcHJvcGFnYXRlQWxsTGlzdGVuZXJzKHByb21pc2UpO1xuICAgICAgICBpZiAoc2hvdWxkRXhlY3V0ZVRpY2spXG4gICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gcHJvbWlzZS5fbGlzdGVuZXJzO1xuICAgICAgICBwcm9taXNlLl9saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcihwcm9taXNlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwc2QgPSBwcm9taXNlLl9QU0Q7XG4gICAgICAgIC0tcHNkLnJlZiB8fCBwc2QuZmluYWxpemUoKTtcbiAgICAgICAgaWYgKG51bVNjaGVkdWxlZENhbGxzID09PSAwKSB7XG4gICAgICAgICAgICArK251bVNjaGVkdWxlZENhbGxzO1xuICAgICAgICAgICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsaXplUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlVG9MaXN0ZW5lcihwcm9taXNlLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2IgPSBwcm9taXNlLl9zdGF0ZSA/IGxpc3RlbmVyLm9uRnVsZmlsbGVkIDogbGlzdGVuZXIub25SZWplY3RlZDtcbiAgICAgICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHByb21pc2UuX3N0YXRlID8gbGlzdGVuZXIucmVzb2x2ZSA6IGxpc3RlbmVyLnJlamVjdCkocHJvbWlzZS5fdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgICsrbGlzdGVuZXIucHNkLnJlZjtcbiAgICAgICAgKytudW1TY2hlZHVsZWRDYWxscztcbiAgICAgICAgYXNhcChjYWxsTGlzdGVuZXIsIFtjYiwgcHJvbWlzZSwgbGlzdGVuZXJdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbExpc3RlbmVyKGNiLCBwcm9taXNlLCBsaXN0ZW5lcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJldCwgdmFsdWUgPSBwcm9taXNlLl92YWx1ZTtcbiAgICAgICAgICAgIGlmICghcHJvbWlzZS5fc3RhdGUgJiYgcmVqZWN0aW5nRXJyb3JzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZWplY3RpbmdFcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIHJldCA9IGRlYnVnICYmIHByb21pc2UuX2NvbnNvbGVUYXNrID8gcHJvbWlzZS5fY29uc29sZVRhc2sucnVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNiKHZhbHVlKTsgfSkgOiBjYih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXByb21pc2UuX3N0YXRlICYmIHJlamVjdGluZ0Vycm9ycy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXJrRXJyb3JBc0hhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lci5yZXNvbHZlKHJldCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICgtLW51bVNjaGVkdWxlZENhbGxzID09PSAwKVxuICAgICAgICAgICAgICAgIGZpbmFsaXplUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgICAgICAtLWxpc3RlbmVyLnBzZC5yZWYgfHwgbGlzdGVuZXIucHNkLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGh5c2ljYWxUaWNrKCkge1xuICAgICAgICB1c2VQU0QoZ2xvYmFsUFNELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiZWdpbk1pY3JvVGlja1Njb3BlKCkgJiYgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJlZ2luTWljcm9UaWNrU2NvcGUoKSB7XG4gICAgICAgIHZhciB3YXNSb290RXhlYyA9IGlzT3V0c2lkZU1pY3JvVGljaztcbiAgICAgICAgaXNPdXRzaWRlTWljcm9UaWNrID0gZmFsc2U7XG4gICAgICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB3YXNSb290RXhlYztcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kTWljcm9UaWNrU2NvcGUoKSB7XG4gICAgICAgIHZhciBjYWxsYmFja3MsIGksIGw7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHdoaWxlIChtaWNyb3RpY2tRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gbWljcm90aWNrUXVldWU7XG4gICAgICAgICAgICAgICAgbWljcm90aWNrUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICBsID0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gY2FsbGJhY2tzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpdGVtWzBdLmFwcGx5KG51bGwsIGl0ZW1bMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobWljcm90aWNrUXVldWUubGVuZ3RoID4gMCk7XG4gICAgICAgIGlzT3V0c2lkZU1pY3JvVGljayA9IHRydWU7XG4gICAgICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluYWxpemVQaHlzaWNhbFRpY2soKSB7XG4gICAgICAgIHZhciB1bmhhbmRsZWRFcnJzID0gdW5oYW5kbGVkRXJyb3JzO1xuICAgICAgICB1bmhhbmRsZWRFcnJvcnMgPSBbXTtcbiAgICAgICAgdW5oYW5kbGVkRXJycy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICBwLl9QU0Qub251bmhhbmRsZWQuY2FsbChudWxsLCBwLl92YWx1ZSwgcCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmluYWxpemVycyA9IHRpY2tGaW5hbGl6ZXJzLnNsaWNlKDApO1xuICAgICAgICB2YXIgaSA9IGZpbmFsaXplcnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaSlcbiAgICAgICAgICAgIGZpbmFsaXplcnNbLS1pXSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5fYXRfZW5kX29mX3RoaXNfb3JfbmV4dF9waHlzaWNhbF90aWNrKGZuKSB7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplcigpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aWNrRmluYWxpemVycy5zcGxpY2UodGlja0ZpbmFsaXplcnMuaW5kZXhPZihmaW5hbGl6ZXIpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aWNrRmluYWxpemVycy5wdXNoKGZpbmFsaXplcik7XG4gICAgICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICAgICAgZmluYWxpemVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgfSwgW10pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRQb3NzaWJseVVuaGFuZGxlZEVycm9yKHByb21pc2UpIHtcbiAgICAgICAgaWYgKCF1bmhhbmRsZWRFcnJvcnMuc29tZShmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5fdmFsdWUgPT09IHByb21pc2UuX3ZhbHVlOyB9KSlcbiAgICAgICAgICAgIHVuaGFuZGxlZEVycm9ycy5wdXNoKHByb21pc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrRXJyb3JBc0hhbmRsZWQocHJvbWlzZSkge1xuICAgICAgICB2YXIgaSA9IHVuaGFuZGxlZEVycm9ycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpKVxuICAgICAgICAgICAgaWYgKHVuaGFuZGxlZEVycm9yc1stLWldLl92YWx1ZSA9PT0gcHJvbWlzZS5fdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB1bmhhbmRsZWRFcnJvcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlamVjdChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoSU5URVJOQUwsIGZhbHNlLCByZWFzb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cmFwKGZuLCBlcnJvckNhdGNoZXIpIHtcbiAgICAgICAgdmFyIHBzZCA9IFBTRDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3YXNSb290RXhlYyA9IGJlZ2luTWljcm9UaWNrU2NvcGUoKSwgb3V0ZXJTY29wZSA9IFBTRDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVG9ab25lKHBzZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9yQ2F0Y2hlciAmJiBlcnJvckNhdGNoZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICh3YXNSb290RXhlYylcbiAgICAgICAgICAgICAgICAgICAgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHRhc2sgPSB7IGF3YWl0czogMCwgZWNob2VzOiAwLCBpZDogMCB9O1xuICAgIHZhciB0YXNrQ291bnRlciA9IDA7XG4gICAgdmFyIHpvbmVTdGFjayA9IFtdO1xuICAgIHZhciB6b25lRWNob2VzID0gMDtcbiAgICB2YXIgdG90YWxFY2hvZXMgPSAwO1xuICAgIHZhciB6b25lX2lkX2NvdW50ZXIgPSAwO1xuICAgIGZ1bmN0aW9uIG5ld1Njb3BlKGZuLCBwcm9wcywgYTEsIGEyKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBQU0QsIHBzZCA9IE9iamVjdC5jcmVhdGUocGFyZW50KTtcbiAgICAgICAgcHNkLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcHNkLnJlZiA9IDA7XG4gICAgICAgIHBzZC5nbG9iYWwgPSBmYWxzZTtcbiAgICAgICAgcHNkLmlkID0gKyt6b25lX2lkX2NvdW50ZXI7XG4gICAgICAgIGdsb2JhbFBTRC5lbnY7XG4gICAgICAgIHBzZC5lbnYgPSBwYXRjaEdsb2JhbFByb21pc2UgPyB7XG4gICAgICAgICAgICBQcm9taXNlOiBEZXhpZVByb21pc2UsXG4gICAgICAgICAgICBQcm9taXNlUHJvcDogeyB2YWx1ZTogRGV4aWVQcm9taXNlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICBhbGw6IERleGllUHJvbWlzZS5hbGwsXG4gICAgICAgICAgICByYWNlOiBEZXhpZVByb21pc2UucmFjZSxcbiAgICAgICAgICAgIGFsbFNldHRsZWQ6IERleGllUHJvbWlzZS5hbGxTZXR0bGVkLFxuICAgICAgICAgICAgYW55OiBEZXhpZVByb21pc2UuYW55LFxuICAgICAgICAgICAgcmVzb2x2ZTogRGV4aWVQcm9taXNlLnJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IERleGllUHJvbWlzZS5yZWplY3QsXG4gICAgICAgIH0gOiB7fTtcbiAgICAgICAgaWYgKHByb3BzKVxuICAgICAgICAgICAgZXh0ZW5kKHBzZCwgcHJvcHMpO1xuICAgICAgICArK3BhcmVudC5yZWY7XG4gICAgICAgIHBzZC5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC0tdGhpcy5wYXJlbnQucmVmIHx8IHRoaXMucGFyZW50LmZpbmFsaXplKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBydiA9IHVzZVBTRChwc2QsIGZuLCBhMSwgYTIpO1xuICAgICAgICBpZiAocHNkLnJlZiA9PT0gMClcbiAgICAgICAgICAgIHBzZC5maW5hbGl6ZSgpO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCkge1xuICAgICAgICBpZiAoIXRhc2suaWQpXG4gICAgICAgICAgICB0YXNrLmlkID0gKyt0YXNrQ291bnRlcjtcbiAgICAgICAgKyt0YXNrLmF3YWl0cztcbiAgICAgICAgdGFzay5lY2hvZXMgKz0gWk9ORV9FQ0hPX0xJTUlUO1xuICAgICAgICByZXR1cm4gdGFzay5pZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKSB7XG4gICAgICAgIGlmICghdGFzay5hd2FpdHMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICgtLXRhc2suYXdhaXRzID09PSAwKVxuICAgICAgICAgICAgdGFzay5pZCA9IDA7XG4gICAgICAgIHRhc2suZWNob2VzID0gdGFzay5hd2FpdHMgKiBaT05FX0VDSE9fTElNSVQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKCcnICsgbmF0aXZlUHJvbWlzZVRoZW4pLmluZGV4T2YoJ1tuYXRpdmUgY29kZV0nKSA9PT0gLTEpIHtcbiAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMgPSBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyA9IG5vcDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKHBvc3NpYmxlUHJvbWlzZSkge1xuICAgICAgICBpZiAodGFzay5lY2hvZXMgJiYgcG9zc2libGVQcm9taXNlICYmIHBvc3NpYmxlUHJvbWlzZS5jb25zdHJ1Y3RvciA9PT0gTmF0aXZlUHJvbWlzZSkge1xuICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZVByb21pc2UudGhlbihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NzaWJsZVByb21pc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHpvbmVFbnRlckVjaG8odGFyZ2V0Wm9uZSkge1xuICAgICAgICArK3RvdGFsRWNob2VzO1xuICAgICAgICBpZiAoIXRhc2suZWNob2VzIHx8IC0tdGFzay5lY2hvZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRhc2suZWNob2VzID0gdGFzay5hd2FpdHMgPSB0YXNrLmlkID0gMDtcbiAgICAgICAgfVxuICAgICAgICB6b25lU3RhY2sucHVzaChQU0QpO1xuICAgICAgICBzd2l0Y2hUb1pvbmUodGFyZ2V0Wm9uZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHpvbmVMZWF2ZUVjaG8oKSB7XG4gICAgICAgIHZhciB6b25lID0gem9uZVN0YWNrW3pvbmVTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgem9uZVN0YWNrLnBvcCgpO1xuICAgICAgICBzd2l0Y2hUb1pvbmUoem9uZSwgZmFsc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzd2l0Y2hUb1pvbmUodGFyZ2V0Wm9uZSwgYkVudGVyaW5nWm9uZSkge1xuICAgICAgICB2YXIgY3VycmVudFpvbmUgPSBQU0Q7XG4gICAgICAgIGlmIChiRW50ZXJpbmdab25lID8gdGFzay5lY2hvZXMgJiYgKCF6b25lRWNob2VzKysgfHwgdGFyZ2V0Wm9uZSAhPT0gUFNEKSA6IHpvbmVFY2hvZXMgJiYgKCEtLXpvbmVFY2hvZXMgfHwgdGFyZ2V0Wm9uZSAhPT0gUFNEKSkge1xuICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soYkVudGVyaW5nWm9uZSA/IHpvbmVFbnRlckVjaG8uYmluZChudWxsLCB0YXJnZXRab25lKSA6IHpvbmVMZWF2ZUVjaG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXRab25lID09PSBQU0QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFBTRCA9IHRhcmdldFpvbmU7XG4gICAgICAgIGlmIChjdXJyZW50Wm9uZSA9PT0gZ2xvYmFsUFNEKVxuICAgICAgICAgICAgZ2xvYmFsUFNELmVudiA9IHNuYXBTaG90KCk7XG4gICAgICAgIGlmIChwYXRjaEdsb2JhbFByb21pc2UpIHtcbiAgICAgICAgICAgIHZhciBHbG9iYWxQcm9taXNlID0gZ2xvYmFsUFNELmVudi5Qcm9taXNlO1xuICAgICAgICAgICAgdmFyIHRhcmdldEVudiA9IHRhcmdldFpvbmUuZW52O1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRab25lLmdsb2JhbCB8fCB0YXJnZXRab25lLmdsb2JhbCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZ2xvYmFsLCAnUHJvbWlzZScsIHRhcmdldEVudi5Qcm9taXNlUHJvcCk7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5hbGwgPSB0YXJnZXRFbnYuYWxsO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmFjZSA9IHRhcmdldEVudi5yYWNlO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmVzb2x2ZSA9IHRhcmdldEVudi5yZXNvbHZlO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmVqZWN0ID0gdGFyZ2V0RW52LnJlamVjdDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RW52LmFsbFNldHRsZWQpXG4gICAgICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UuYWxsU2V0dGxlZCA9IHRhcmdldEVudi5hbGxTZXR0bGVkO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbnYuYW55KVxuICAgICAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLmFueSA9IHRhcmdldEVudi5hbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc25hcFNob3QoKSB7XG4gICAgICAgIHZhciBHbG9iYWxQcm9taXNlID0gX2dsb2JhbC5Qcm9taXNlO1xuICAgICAgICByZXR1cm4gcGF0Y2hHbG9iYWxQcm9taXNlID8ge1xuICAgICAgICAgICAgUHJvbWlzZTogR2xvYmFsUHJvbWlzZSxcbiAgICAgICAgICAgIFByb21pc2VQcm9wOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9nbG9iYWwsIFwiUHJvbWlzZVwiKSxcbiAgICAgICAgICAgIGFsbDogR2xvYmFsUHJvbWlzZS5hbGwsXG4gICAgICAgICAgICByYWNlOiBHbG9iYWxQcm9taXNlLnJhY2UsXG4gICAgICAgICAgICBhbGxTZXR0bGVkOiBHbG9iYWxQcm9taXNlLmFsbFNldHRsZWQsXG4gICAgICAgICAgICBhbnk6IEdsb2JhbFByb21pc2UuYW55LFxuICAgICAgICAgICAgcmVzb2x2ZTogR2xvYmFsUHJvbWlzZS5yZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiBHbG9iYWxQcm9taXNlLnJlamVjdCxcbiAgICAgICAgfSA6IHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VQU0QocHNkLCBmbiwgYTEsIGEyLCBhMykge1xuICAgICAgICB2YXIgb3V0ZXJTY29wZSA9IFBTRDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaFRvWm9uZShwc2QsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZuKGExLCBhMiwgYTMpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3dpdGNoVG9ab25lKG91dGVyU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKGZuLCB6b25lLCBwb3NzaWJsZUF3YWl0LCBjbGVhbnVwKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicgPyBmbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdXRlclpvbmUgPSBQU0Q7XG4gICAgICAgICAgICBpZiAocG9zc2libGVBd2FpdClcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgc3dpdGNoVG9ab25lKHpvbmUsIHRydWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRvWm9uZShvdXRlclpvbmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cClcbiAgICAgICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBleGVjSW5HbG9iYWxDb250ZXh0KGNiKSB7XG4gICAgICAgIGlmIChQcm9taXNlID09PSBOYXRpdmVQcm9taXNlICYmIHRhc2suZWNob2VzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoem9uZUVjaG9lcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbnF1ZXVlTmF0aXZlTWljcm9UYXNrKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciByZWplY3Rpb24gPSBEZXhpZVByb21pc2UucmVqZWN0O1xuXG4gICAgZnVuY3Rpb24gdGVtcFRyYW5zYWN0aW9uKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBmbikge1xuICAgICAgICBpZiAoIWRiLmlkYmRiIHx8ICghZGIuX3N0YXRlLm9wZW5Db21wbGV0ZSAmJiAoIVBTRC5sZXRUaHJvdWdoICYmICFkYi5fdmlwKSkpIHtcbiAgICAgICAgICAgIGlmIChkYi5fc3RhdGUub3BlbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZChkYi5fc3RhdGUuZGJPcGVuRXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGIuX3N0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRiLl9zdGF0ZS5hdXRvT3BlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgpKTtcbiAgICAgICAgICAgICAgICBkYi5vcGVuKCkuY2F0Y2gobm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYi5fc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB0ZW1wVHJhbnNhY3Rpb24oZGIsIG1vZGUsIHN0b3JlTmFtZXMsIGZuKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSBkYi5fY3JlYXRlVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGIuX2RiU2NoZW1hKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHJhbnMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgIGlmIChleC5uYW1lID09PSBlcnJuYW1lcy5JbnZhbGlkU3RhdGUgJiYgZGIuaXNPcGVuKCkgJiYgLS1kYi5fc3RhdGUuUFIxMzk4X21heExvb3AgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV4aWU6IE5lZWQgdG8gcmVvcGVuIGRiJyk7XG4gICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLm9wZW4oKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRlbXBUcmFuc2FjdGlvbihkYiwgbW9kZSwgc3RvcmVOYW1lcywgZm4pOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnMuX3Byb21pc2UobW9kZSwgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFBTRC50cmFucyA9IHRyYW5zO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4ocmVzb2x2ZSwgcmVqZWN0LCB0cmFucyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScpXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucy5jb21taXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlID09PSAncmVhZG9ubHknID8gcmVzdWx0IDogdHJhbnMuX2NvbXBsZXRpb24udGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXN1bHQ7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgREVYSUVfVkVSU0lPTiA9ICc0LjAuMTEnO1xuICAgIHZhciBtYXhTdHJpbmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1KTtcbiAgICB2YXIgbWluS2V5ID0gLUluZmluaXR5O1xuICAgIHZhciBJTlZBTElEX0tFWV9BUkdVTUVOVCA9IFwiSW52YWxpZCBrZXkgcHJvdmlkZWQuIEtleXMgbXVzdCBiZSBvZiB0eXBlIHN0cmluZywgbnVtYmVyLCBEYXRlIG9yIEFycmF5PHN0cmluZyB8IG51bWJlciB8IERhdGU+LlwiO1xuICAgIHZhciBTVFJJTkdfRVhQRUNURUQgPSBcIlN0cmluZyBleHBlY3RlZC5cIjtcbiAgICB2YXIgY29ubmVjdGlvbnMgPSBbXTtcbiAgICB2YXIgREJOQU1FU19EQiA9ICdfX2RibmFtZXMnO1xuICAgIHZhciBSRUFET05MWSA9ICdyZWFkb25seSc7XG4gICAgdmFyIFJFQURXUklURSA9ICdyZWFkd3JpdGUnO1xuXG4gICAgZnVuY3Rpb24gY29tYmluZShmaWx0ZXIxLCBmaWx0ZXIyKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXIxID9cbiAgICAgICAgICAgIGZpbHRlcjIgP1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpbHRlcjEuYXBwbHkodGhpcywgYXJndW1lbnRzKSAmJiBmaWx0ZXIyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gOlxuICAgICAgICAgICAgICAgIGZpbHRlcjEgOlxuICAgICAgICAgICAgZmlsdGVyMjtcbiAgICB9XG5cbiAgICB2YXIgQW55UmFuZ2UgPSB7XG4gICAgICAgIHR5cGU6IDMgLFxuICAgICAgICBsb3dlcjogLUluZmluaXR5LFxuICAgICAgICBsb3dlck9wZW46IGZhbHNlLFxuICAgICAgICB1cHBlcjogW1tdXSxcbiAgICAgICAgdXBwZXJPcGVuOiBmYWxzZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiB3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Yga2V5UGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAhL1xcLi8udGVzdChrZXlQYXRoKVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ialtrZXlQYXRoXSA9PT0gdW5kZWZpbmVkICYmIChrZXlQYXRoIGluIG9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZGVlcENsb25lKG9iaik7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iajsgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBFbnRpdHkoKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbnMuVHlwZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNtcChhLCBiKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGEgPSB0eXBlKGEpO1xuICAgICAgICAgICAgdmFyIHRiID0gdHlwZShiKTtcbiAgICAgICAgICAgIGlmICh0YSAhPT0gdGIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGEgPT09ICdBcnJheScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGlmICh0YiA9PT0gJ0FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ2JpbmFyeScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGlmICh0YiA9PT0gJ2JpbmFyeScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAodGEgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnRGF0ZScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGlmICh0YiAhPT0gJ0RhdGUnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodGEpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbiAgICAgICAgICAgICAgICBjYXNlICdiaW5hcnknOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlVWludDhBcnJheXMoZ2V0VWludDhBcnJheShhKSwgZ2V0VWludDhBcnJheShiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVBcnJheXMoYSwgYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9hKSB7IH1cbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhLCBiKSB7XG4gICAgICAgIHZhciBhbCA9IGEubGVuZ3RoO1xuICAgICAgICB2YXIgYmwgPSBiLmxlbmd0aDtcbiAgICAgICAgdmFyIGwgPSBhbCA8IGJsID8gYWwgOiBibDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBjbXAoYVtpXSwgYltpXSk7XG4gICAgICAgICAgICBpZiAocmVzICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsID09PSBibCA/IDAgOiBhbCA8IGJsID8gLTEgOiAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlVWludDhBcnJheXMoYSwgYikge1xuICAgICAgICB2YXIgYWwgPSBhLmxlbmd0aDtcbiAgICAgICAgdmFyIGJsID0gYi5sZW5ndGg7XG4gICAgICAgIHZhciBsID0gYWwgPCBibCA/IGFsIDogYmw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYVtpXSA8IGJbaV0gPyAtMSA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsID09PSBibCA/IDAgOiBhbCA8IGJsID8gLTEgOiAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0eXBlKHgpIHtcbiAgICAgICAgdmFyIHQgPSB0eXBlb2YgeDtcbiAgICAgICAgaWYgKHQgIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoeCkpXG4gICAgICAgICAgICByZXR1cm4gJ2JpbmFyeSc7XG4gICAgICAgIHZhciB0c1RhZyA9IHRvU3RyaW5nVGFnKHgpO1xuICAgICAgICByZXR1cm4gdHNUYWcgPT09ICdBcnJheUJ1ZmZlcicgPyAnYmluYXJ5JyA6IHRzVGFnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRVaW50OEFycmF5KGEpIHtcbiAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYSkpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsIGEuYnl0ZU9mZnNldCwgYS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGEpO1xuICAgIH1cblxuICAgIHZhciBUYWJsZSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBUYWJsZSgpIHtcbiAgICAgICAgfVxuICAgICAgICBUYWJsZS5wcm90b3R5cGUuX3RyYW5zID0gZnVuY3Rpb24gKG1vZGUsIGZuLCB3cml0ZUxvY2tlZCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zID0gdGhpcy5fdHggfHwgUFNELnRyYW5zO1xuICAgICAgICAgICAgdmFyIHRhYmxlTmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgICAgIHZhciB0YXNrID0gZGVidWcgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUuY3JlYXRlVGFzayAmJiBjb25zb2xlLmNyZWF0ZVRhc2soXCJEZXhpZTogXCIuY29uY2F0KG1vZGUgPT09ICdyZWFkb25seScgPyAncmVhZCcgOiAnd3JpdGUnLCBcIiBcIikuY29uY2F0KHRoaXMubmFtZSkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24ocmVzb2x2ZSwgcmVqZWN0LCB0cmFucykge1xuICAgICAgICAgICAgICAgIGlmICghdHJhbnMuc2NoZW1hW3RhYmxlTmFtZV0pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk5vdEZvdW5kKFwiVGFibGUgXCIgKyB0YWJsZU5hbWUgKyBcIiBub3QgcGFydCBvZiB0cmFuc2FjdGlvblwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odHJhbnMuaWRidHJhbnMsIHRyYW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3YXNSb290RXhlYyA9IGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSB0cmFucyAmJiB0cmFucy5kYi5fbm92aXAgPT09IHRoaXMuZGIuX25vdmlwID9cbiAgICAgICAgICAgICAgICAgICAgdHJhbnMgPT09IFBTRC50cmFucyA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5fcHJvbWlzZShtb2RlLCBjaGVja1RhYmxlSW5UcmFuc2FjdGlvbiwgd3JpdGVMb2NrZWQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zLl9wcm9taXNlKG1vZGUsIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uLCB3cml0ZUxvY2tlZCk7IH0sIHsgdHJhbnM6IHRyYW5zLCB0cmFuc2xlc3M6IFBTRC50cmFuc2xlc3MgfHwgUFNEIH0pIDpcbiAgICAgICAgICAgICAgICAgICAgdGVtcFRyYW5zYWN0aW9uKHRoaXMuZGIsIG1vZGUsIFt0aGlzLm5hbWVdLCBjaGVja1RhYmxlSW5UcmFuc2FjdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgcC5fY29uc29sZVRhc2sgPSB0YXNrO1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLnRyYWNlKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICh3YXNSb290RXhlYylcbiAgICAgICAgICAgICAgICAgICAgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXlPckNyaXQsIGNiKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGtleU9yQ3JpdCAmJiBrZXlPckNyaXQuY29uc3RydWN0b3IgPT09IE9iamVjdClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShrZXlPckNyaXQpLmZpcnN0KGNiKTtcbiAgICAgICAgICAgIGlmIChrZXlPckNyaXQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlR5cGUoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIFRhYmxlLmdldCgpXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZG9ubHknLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5nZXQoeyB0cmFuczogdHJhbnMsIGtleToga2V5T3JDcml0IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIF90aGlzLmhvb2sucmVhZGluZy5maXJlKHJlcyk7IH0pO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS53aGVyZSA9IGZ1bmN0aW9uIChpbmRleE9yQ3JpdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleE9yQ3JpdCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMsIGluZGV4T3JDcml0KTtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGluZGV4T3JDcml0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcywgXCJbXCIuY29uY2F0KGluZGV4T3JDcml0LmpvaW4oJysnKSwgXCJdXCIpKTtcbiAgICAgICAgICAgIHZhciBrZXlQYXRocyA9IGtleXMoaW5kZXhPckNyaXQpO1xuICAgICAgICAgICAgaWYgKGtleVBhdGhzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAud2hlcmUoa2V5UGF0aHNbMF0pXG4gICAgICAgICAgICAgICAgICAgIC5lcXVhbHMoaW5kZXhPckNyaXRba2V5UGF0aHNbMF1dKTtcbiAgICAgICAgICAgIHZhciBjb21wb3VuZEluZGV4ID0gdGhpcy5zY2hlbWEuaW5kZXhlcy5jb25jYXQodGhpcy5zY2hlbWEucHJpbUtleSkuZmlsdGVyKGZ1bmN0aW9uIChpeCkge1xuICAgICAgICAgICAgICAgIGlmIChpeC5jb21wb3VuZCAmJlxuICAgICAgICAgICAgICAgICAgICBrZXlQYXRocy5ldmVyeShmdW5jdGlvbiAoa2V5UGF0aCkgeyByZXR1cm4gaXgua2V5UGF0aC5pbmRleE9mKGtleVBhdGgpID49IDA7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5UGF0aHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlQYXRocy5pbmRleE9mKGl4LmtleVBhdGhbaV0pID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEua2V5UGF0aC5sZW5ndGggLSBiLmtleVBhdGgubGVuZ3RoOyB9KVswXTtcbiAgICAgICAgICAgIGlmIChjb21wb3VuZEluZGV4ICYmIHRoaXMuZGIuX21heEtleSAhPT0gbWF4U3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleVBhdGhzSW5WYWxpZE9yZGVyID0gY29tcG91bmRJbmRleC5rZXlQYXRoLnNsaWNlKDAsIGtleVBhdGhzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLndoZXJlKGtleVBhdGhzSW5WYWxpZE9yZGVyKVxuICAgICAgICAgICAgICAgICAgICAuZXF1YWxzKGtleVBhdGhzSW5WYWxpZE9yZGVyLm1hcChmdW5jdGlvbiAoa3ApIHsgcmV0dXJuIGluZGV4T3JDcml0W2twXTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb21wb3VuZEluZGV4ICYmIGRlYnVnKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSBxdWVyeSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaW5kZXhPckNyaXQpLCBcIiBvbiBcIikuY29uY2F0KHRoaXMubmFtZSwgXCIgd291bGQgYmVuZWZpdCBmcm9tIGEgXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCJjb21wb3VuZCBpbmRleCBbXCIuY29uY2F0KGtleVBhdGhzLmpvaW4oJysnKSwgXCJdXCIpKTtcbiAgICAgICAgICAgIHZhciBpZHhCeU5hbWUgPSB0aGlzLnNjaGVtYS5pZHhCeU5hbWU7XG4gICAgICAgICAgICBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbXAoYSwgYikgPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSBrZXlQYXRocy5yZWR1Y2UoZnVuY3Rpb24gKF9hLCBrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IF9hWzBdLCBwcmV2RmlsdGVyRm4gPSBfYVsxXTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpZHhCeU5hbWVba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5kZXhPckNyaXRba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4IHx8IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXggfHwgIWluZGV4ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJpbmUocHJldkZpbHRlckZuLCBpbmRleCAmJiBpbmRleC5tdWx0aSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSBnZXRCeUtleVBhdGgoeCwga2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHByb3ApICYmIHByb3Auc29tZShmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gZXF1YWxzKHZhbHVlLCBpdGVtKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICh4KSB7IHJldHVybiBlcXVhbHModmFsdWUsIGdldEJ5S2V5UGF0aCh4LCBrZXlQYXRoKSk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHByZXZGaWx0ZXJGblxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9LCBbbnVsbCwgbnVsbF0pLCBpZHggPSBfYVswXSwgZmlsdGVyRnVuY3Rpb24gPSBfYVsxXTtcbiAgICAgICAgICAgIHJldHVybiBpZHggP1xuICAgICAgICAgICAgICAgIHRoaXMud2hlcmUoaWR4Lm5hbWUpLmVxdWFscyhpbmRleE9yQ3JpdFtpZHgua2V5UGF0aF0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZmlsdGVyRnVuY3Rpb24pIDpcbiAgICAgICAgICAgICAgICBjb21wb3VuZEluZGV4ID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIoZmlsdGVyRnVuY3Rpb24pIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVyZShrZXlQYXRocykuZXF1YWxzKCcnKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuYW5kKGZpbHRlckZ1bmN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKHRoZW5TaG9ydGN1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuY291bnQodGhlblNob3J0Y3V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLm9mZnNldChvZmZzZXQpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbiAobnVtUm93cykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkubGltaXQobnVtUm93cyk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5lYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAodGhlblNob3J0Y3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS50b0FycmF5KHRoZW5TaG9ydGN1dCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS50b0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuZGIuQ29sbGVjdGlvbihuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzKSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5vcmRlckJ5ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuZGIuQ29sbGVjdGlvbihuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLCBpc0FycmF5KGluZGV4KSA/XG4gICAgICAgICAgICAgICAgXCJbXCIuY29uY2F0KGluZGV4LmpvaW4oJysnKSwgXCJdXCIpIDpcbiAgICAgICAgICAgICAgICBpbmRleCkpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLnJldmVyc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLm1hcFRvQ2xhc3MgPSBmdW5jdGlvbiAoY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIGRiID0gX2EuZGIsIHRhYmxlTmFtZSA9IF9hLm5hbWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYS5tYXBwZWRDbGFzcyA9IGNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yLnByb3RvdHlwZSBpbnN0YW5jZW9mIEVudGl0eSkge1xuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fZXh0ZW5kcyhjbGFzc18xLCBfc3VwZXIpO1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjbGFzc18xKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbGFzc18xLnByb3RvdHlwZSwgXCJkYlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRiOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFibGVOYW1lOyB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICAgICAgICAgICAgICB9KGNvbnN0cnVjdG9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5oZXJpdGVkUHJvcHMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm90byA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTsgcHJvdG87IHByb3RvID0gZ2V0UHJvdG8ocHJvdG8pKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7IHJldHVybiBpbmhlcml0ZWRQcm9wcy5hZGQocHJvcE5hbWUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZWFkSG9vayA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9iailcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShjb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG0gaW4gb2JqKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluaGVyaXRlZFByb3BzLmhhcyhtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzW21dID0gb2JqW21dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2NoZW1hLnJlYWRIb29rKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rLnJlYWRpbmcudW5zdWJzY3JpYmUodGhpcy5zY2hlbWEucmVhZEhvb2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2hlbWEucmVhZEhvb2sgPSByZWFkSG9vaztcbiAgICAgICAgICAgIHRoaXMuaG9vayhcInJlYWRpbmdcIiwgcmVhZEhvb2spO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZGVmaW5lQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBDbGFzcyhjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIGNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwVG9DbGFzcyhDbGFzcyk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnNjaGVtYS5wcmltS2V5LCBhdXRvID0gX2EuYXV0bywga2V5UGF0aCA9IF9hLmtleVBhdGg7XG4gICAgICAgICAgICB2YXIgb2JqVG9BZGQgPSBvYmo7XG4gICAgICAgICAgICBpZiAoa2V5UGF0aCAmJiBhdXRvKSB7XG4gICAgICAgICAgICAgICAgb2JqVG9BZGQgPSB3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdhZGQnLCBrZXlzOiBrZXkgIT0gbnVsbCA/IFtrZXldIDogbnVsbCwgdmFsdWVzOiBbb2JqVG9BZGRdIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMubnVtRmFpbHVyZXMgPyBEZXhpZVByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSkgOiByZXMubGFzdFJlc3VsdDsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobGFzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCBsYXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoa2V5T3JPYmplY3QsIG1vZGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5T3JPYmplY3QgPT09ICdvYmplY3QnICYmICFpc0FycmF5KGtleU9yT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXRCeUtleVBhdGgoa2V5T3JPYmplY3QsIHRoaXMuc2NoZW1hLnByaW1LZXkua2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkdpdmVuIG9iamVjdCBkb2VzIG5vdCBjb250YWluIGl0cyBwcmltYXJ5IGtleVwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud2hlcmUoXCI6aWRcIikuZXF1YWxzKGtleSkubW9kaWZ5KG1vZGlmaWNhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud2hlcmUoXCI6aWRcIikuZXF1YWxzKGtleU9yT2JqZWN0KS5tb2RpZnkobW9kaWZpY2F0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnNjaGVtYS5wcmltS2V5LCBhdXRvID0gX2EuYXV0bywga2V5UGF0aCA9IF9hLmtleVBhdGg7XG4gICAgICAgICAgICB2YXIgb2JqVG9BZGQgPSBvYmo7XG4gICAgICAgICAgICBpZiAoa2V5UGF0aCAmJiBhdXRvKSB7XG4gICAgICAgICAgICAgICAgb2JqVG9BZGQgPSB3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAncHV0JywgdmFsdWVzOiBbb2JqVG9BZGRdLCBrZXlzOiBrZXkgIT0gbnVsbCA/IFtrZXldIDogbnVsbCB9KTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMubnVtRmFpbHVyZXMgPyBEZXhpZVByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSkgOiByZXMubGFzdFJlc3VsdDsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobGFzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCBsYXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnZGVsZXRlJywga2V5czogW2tleV0gfSk7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7IHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2RlbGV0ZVJhbmdlJywgcmFuZ2U6IEFueVJhbmdlIH0pOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHVuZGVmaW5lZDsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrR2V0ID0gZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWRvbmx5JywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUuZ2V0TWFueSh7XG4gICAgICAgICAgICAgICAgICAgIGtleXM6IGtleXMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFuc1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0Lm1hcChmdW5jdGlvbiAocmVzKSB7IHJldHVybiBfdGhpcy5ob29rLnJlYWRpbmcuZmlyZShyZXMpOyB9KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtBZGQgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5c09yT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBrZXlzID0gQXJyYXkuaXNBcnJheShrZXlzT3JPcHRpb25zKSA/IGtleXNPck9wdGlvbnMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCAoa2V5cyA/IHVuZGVmaW5lZCA6IGtleXNPck9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIHdhbnRSZXN1bHRzID0gb3B0aW9ucyA/IG9wdGlvbnMuYWxsS2V5cyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCAmJiBrZXlzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJidWxrQWRkKCk6IGtleXMgYXJndW1lbnQgaW52YWxpZCBvbiB0YWJsZXMgd2l0aCBpbmJvdW5kIGtleXNcIik7XG4gICAgICAgICAgICAgICAgaWYgKGtleXMgJiYga2V5cy5sZW5ndGggIT09IG9iamVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJBcmd1bWVudHMgb2JqZWN0cyBhbmQga2V5cyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoXCIpO1xuICAgICAgICAgICAgICAgIHZhciBudW1PYmplY3RzID0gb2JqZWN0cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdHNUb0FkZCA9IGtleVBhdGggJiYgYXV0byA/XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMubWFwKHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKSA6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnYWRkJywga2V5czoga2V5cywgdmFsdWVzOiBvYmplY3RzVG9BZGQsIHdhbnRSZXN1bHRzOiB3YW50UmVzdWx0cyB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIHJlc3VsdHMgPSBfYS5yZXN1bHRzLCBsYXN0UmVzdWx0ID0gX2EubGFzdFJlc3VsdCwgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHdhbnRSZXN1bHRzID8gcmVzdWx0cyA6IGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1GYWlsdXJlcyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBCdWxrRXJyb3IoXCJcIi5jb25jYXQoX3RoaXMubmFtZSwgXCIuYnVsa0FkZCgpOiBcIikuY29uY2F0KG51bUZhaWx1cmVzLCBcIiBvZiBcIikuY29uY2F0KG51bU9iamVjdHMsIFwiIG9wZXJhdGlvbnMgZmFpbGVkXCIpLCBmYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtQdXQgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5c09yT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBrZXlzID0gQXJyYXkuaXNBcnJheShrZXlzT3JPcHRpb25zKSA/IGtleXNPck9wdGlvbnMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCAoa2V5cyA/IHVuZGVmaW5lZCA6IGtleXNPck9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIHdhbnRSZXN1bHRzID0gb3B0aW9ucyA/IG9wdGlvbnMuYWxsS2V5cyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCAmJiBrZXlzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJidWxrUHV0KCk6IGtleXMgYXJndW1lbnQgaW52YWxpZCBvbiB0YWJsZXMgd2l0aCBpbmJvdW5kIGtleXNcIik7XG4gICAgICAgICAgICAgICAgaWYgKGtleXMgJiYga2V5cy5sZW5ndGggIT09IG9iamVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJBcmd1bWVudHMgb2JqZWN0cyBhbmQga2V5cyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoXCIpO1xuICAgICAgICAgICAgICAgIHZhciBudW1PYmplY3RzID0gb2JqZWN0cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdHNUb1B1dCA9IGtleVBhdGggJiYgYXV0byA/XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMubWFwKHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKSA6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAncHV0Jywga2V5czoga2V5cywgdmFsdWVzOiBvYmplY3RzVG9QdXQsIHdhbnRSZXN1bHRzOiB3YW50UmVzdWx0cyB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIHJlc3VsdHMgPSBfYS5yZXN1bHRzLCBsYXN0UmVzdWx0ID0gX2EubGFzdFJlc3VsdCwgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHdhbnRSZXN1bHRzID8gcmVzdWx0cyA6IGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1GYWlsdXJlcyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBCdWxrRXJyb3IoXCJcIi5jb25jYXQoX3RoaXMubmFtZSwgXCIuYnVsa1B1dCgpOiBcIikuY29uY2F0KG51bUZhaWx1cmVzLCBcIiBvZiBcIikuY29uY2F0KG51bU9iamVjdHMsIFwiIG9wZXJhdGlvbnMgZmFpbGVkXCIpLCBmYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtVcGRhdGUgPSBmdW5jdGlvbiAoa2V5c0FuZENoYW5nZXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY29yZVRhYmxlID0gdGhpcy5jb3JlO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBrZXlzQW5kQ2hhbmdlcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS5rZXk7IH0pO1xuICAgICAgICAgICAgdmFyIGNoYW5nZVNwZWNzID0ga2V5c0FuZENoYW5nZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuY2hhbmdlczsgfSk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0TWFwID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlVGFibGUuZ2V0TWFueSh7IHRyYW5zOiB0cmFucywga2V5czoga2V5cywgY2FjaGU6ICdjbG9uZScgfSkudGhlbihmdW5jdGlvbiAob2Jqcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0S2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0T2JqcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBrZXlzQW5kQ2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uIChfYSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2Eua2V5LCBjaGFuZ2VzID0gX2EuY2hhbmdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBvYmpzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYiA9IE9iamVjdC5rZXlzKGNoYW5nZXMpOyBfaSA8IF9iLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IF9iW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2hhbmdlc1trZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVBhdGggPT09IF90aGlzLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbXAodmFsdWUsIGtleSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5Db25zdHJhaW50KFwiQ2Fubm90IHVwZGF0ZSBwcmltYXJ5IGtleSBpbiBidWxrVXBkYXRlKClcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TWFwLnB1c2goaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmpzLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1FbnRyaWVzID0gcmVzdWx0S2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3B1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiByZXN1bHRLZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiByZXN1bHRPYmpzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3BlY3M6IGNoYW5nZVNwZWNzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1FbnRyaWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYiA9IE9iamVjdC5rZXlzKGZhaWx1cmVzKTsgX2kgPCBfYi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gX2JbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXBwZWRPZmZzZXQgPSBvZmZzZXRNYXBbTnVtYmVyKG9mZnNldCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXBwZWRPZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZSA9IGZhaWx1cmVzW29mZnNldF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmYWlsdXJlc1tvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlc1ttYXBwZWRPZmZzZXRdID0gZmFpbHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtVcGRhdGUoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1FbnRyaWVzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa0RlbGV0ZSA9IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG51bUtleXMgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnZGVsZXRlJywga2V5czoga2V5cyB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0LCBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzO1xuICAgICAgICAgICAgICAgIGlmIChudW1GYWlsdXJlcyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrRGVsZXRlKCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtS2V5cywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVGFibGU7XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIEV2ZW50cyhjdHgpIHtcbiAgICAgICAgdmFyIGV2cyA9IHt9O1xuICAgICAgICB2YXIgcnYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShpIC0gMSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0taSlcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgZXZzW2V2ZW50TmFtZV0uc3Vic2NyaWJlLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgKGV2ZW50TmFtZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2c1tldmVudE5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBydi5hZGRFdmVudFR5cGUgPSBhZGQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgYWRkKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICBmdW5jdGlvbiBhZGQoZXZlbnROYW1lLCBjaGFpbkZ1bmN0aW9uLCBkZWZhdWx0RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkQ29uZmlndXJlZEV2ZW50cyhldmVudE5hbWUpO1xuICAgICAgICAgICAgaWYgKCFjaGFpbkZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgIGNoYWluRnVuY3Rpb24gPSByZXZlcnNlU3RvcHBhYmxlRXZlbnRDaGFpbjtcbiAgICAgICAgICAgIGlmICghZGVmYXVsdEZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgIGRlZmF1bHRGdW5jdGlvbiA9IG5vcDtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzOiBbXSxcbiAgICAgICAgICAgICAgICBmaXJlOiBkZWZhdWx0RnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuc3Vic2NyaWJlcnMuaW5kZXhPZihjYikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN1YnNjcmliZXJzLnB1c2goY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maXJlID0gY2hhaW5GdW5jdGlvbihjb250ZXh0LmZpcmUsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN1YnNjcmliZXJzID0gY29udGV4dC5zdWJzY3JpYmVycy5maWx0ZXIoZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbiAhPT0gY2I7IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpcmUgPSBjb250ZXh0LnN1YnNjcmliZXJzLnJlZHVjZShjaGFpbkZ1bmN0aW9uLCBkZWZhdWx0RnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBldnNbZXZlbnROYW1lXSA9IHJ2W2V2ZW50TmFtZV0gPSBjb250ZXh0O1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYWRkQ29uZmlndXJlZEV2ZW50cyhjZmcpIHtcbiAgICAgICAgICAgIGtleXMoY2ZnKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGNmZ1tldmVudE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZChldmVudE5hbWUsIGNmZ1tldmVudE5hbWVdWzBdLCBjZmdbZXZlbnROYW1lXVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MgPT09ICdhc2FwJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGFkZChldmVudE5hbWUsIG1pcnJvciwgZnVuY3Rpb24gZmlyZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2FwJDEoZnVuY3Rpb24gZmlyZUV2ZW50KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJJbnZhbGlkIGV2ZW50IGNvbmZpZ1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUNsYXNzQ29uc3RydWN0b3IocHJvdG90eXBlLCBjb25zdHJ1Y3Rvcikge1xuICAgICAgICBkZXJpdmUoY29uc3RydWN0b3IpLmZyb20oeyBwcm90b3R5cGU6IHByb3RvdHlwZSB9KTtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFRhYmxlLnByb3RvdHlwZSwgZnVuY3Rpb24gVGFibGUobmFtZSwgdGFibGVTY2hlbWEsIHRyYW5zKSB7XG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgICAgICAgICB0aGlzLl90eCA9IHRyYW5zO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hID0gdGFibGVTY2hlbWE7XG4gICAgICAgICAgICB0aGlzLmhvb2sgPSBkYi5fYWxsVGFibGVzW25hbWVdID8gZGIuX2FsbFRhYmxlc1tuYW1lXS5ob29rIDogRXZlbnRzKG51bGwsIHtcbiAgICAgICAgICAgICAgICBcImNyZWF0aW5nXCI6IFtob29rQ3JlYXRpbmdDaGFpbiwgbm9wXSxcbiAgICAgICAgICAgICAgICBcInJlYWRpbmdcIjogW3B1cmVGdW5jdGlvbkNoYWluLCBtaXJyb3JdLFxuICAgICAgICAgICAgICAgIFwidXBkYXRpbmdcIjogW2hvb2tVcGRhdGluZ0NoYWluLCBub3BdLFxuICAgICAgICAgICAgICAgIFwiZGVsZXRpbmdcIjogW2hvb2tEZWxldGluZ0NoYWluLCBub3BdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNQbGFpbktleVJhbmdlKGN0eCwgaWdub3JlTGltaXRGaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuICEoY3R4LmZpbHRlciB8fCBjdHguYWxnb3JpdGhtIHx8IGN0eC5vcikgJiZcbiAgICAgICAgICAgIChpZ25vcmVMaW1pdEZpbHRlciA/IGN0eC5qdXN0TGltaXQgOiAhY3R4LnJlcGxheUZpbHRlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEZpbHRlcihjdHgsIGZuKSB7XG4gICAgICAgIGN0eC5maWx0ZXIgPSBjb21iaW5lKGN0eC5maWx0ZXIsIGZuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkUmVwbGF5RmlsdGVyKGN0eCwgZmFjdG9yeSwgaXNMaW1pdEZpbHRlcikge1xuICAgICAgICB2YXIgY3VyciA9IGN0eC5yZXBsYXlGaWx0ZXI7XG4gICAgICAgIGN0eC5yZXBsYXlGaWx0ZXIgPSBjdXJyID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tYmluZShjdXJyKCksIGZhY3RvcnkoKSk7IH0gOiBmYWN0b3J5O1xuICAgICAgICBjdHguanVzdExpbWl0ID0gaXNMaW1pdEZpbHRlciAmJiAhY3VycjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkTWF0Y2hGaWx0ZXIoY3R4LCBmbikge1xuICAgICAgICBjdHguaXNNYXRjaCA9IGNvbWJpbmUoY3R4LmlzTWF0Y2gsIGZuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY29yZVNjaGVtYSkge1xuICAgICAgICBpZiAoY3R4LmlzUHJpbUtleSlcbiAgICAgICAgICAgIHJldHVybiBjb3JlU2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBpbmRleCA9IGNvcmVTY2hlbWEuZ2V0SW5kZXhCeUtleVBhdGgoY3R4LmluZGV4KTtcbiAgICAgICAgaWYgKCFpbmRleClcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIktleVBhdGggXCIgKyBjdHguaW5kZXggKyBcIiBvbiBvYmplY3Qgc3RvcmUgXCIgKyBjb3JlU2NoZW1hLm5hbWUgKyBcIiBpcyBub3QgaW5kZXhlZFwiKTtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQ3Vyc29yKGN0eCwgY29yZVRhYmxlLCB0cmFucykge1xuICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleE9yU3RvcmUoY3R4LCBjb3JlVGFibGUuc2NoZW1hKTtcbiAgICAgICAgcmV0dXJuIGNvcmVUYWJsZS5vcGVuQ3Vyc29yKHtcbiAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgIHZhbHVlczogIWN0eC5rZXlzT25seSxcbiAgICAgICAgICAgIHJldmVyc2U6IGN0eC5kaXIgPT09ICdwcmV2JyxcbiAgICAgICAgICAgIHVuaXF1ZTogISFjdHgudW5pcXVlLFxuICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IGN0eC5yYW5nZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXRlcihjdHgsIGZuLCBjb3JlVHJhbnMsIGNvcmVUYWJsZSkge1xuICAgICAgICB2YXIgZmlsdGVyID0gY3R4LnJlcGxheUZpbHRlciA/IGNvbWJpbmUoY3R4LmZpbHRlciwgY3R4LnJlcGxheUZpbHRlcigpKSA6IGN0eC5maWx0ZXI7XG4gICAgICAgIGlmICghY3R4Lm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0ZShvcGVuQ3Vyc29yKGN0eCwgY29yZVRhYmxlLCBjb3JlVHJhbnMpLCBjb21iaW5lKGN0eC5hbGdvcml0aG0sIGZpbHRlciksIGZuLCAhY3R4LmtleXNPbmx5ICYmIGN0eC52YWx1ZU1hcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2V0XzEgPSB7fTtcbiAgICAgICAgICAgIHZhciB1bmlvbiA9IGZ1bmN0aW9uIChpdGVtLCBjdXJzb3IsIGFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoY3Vyc29yLCBhZHZhbmNlLCBmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiBjdXJzb3Iuc3RvcChyZXN1bHQpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBjdXJzb3IuZmFpbChlcnIpOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gJycgKyBwcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJycgKyBuZXcgVWludDhBcnJheShwcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNPd24oc2V0XzEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldF8xW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4oaXRlbSwgY3Vyc29yLCBhZHZhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIGN0eC5vci5faXRlcmF0ZSh1bmlvbiwgY29yZVRyYW5zKSxcbiAgICAgICAgICAgICAgICBpdGVyYXRlKG9wZW5DdXJzb3IoY3R4LCBjb3JlVGFibGUsIGNvcmVUcmFucyksIGN0eC5hbGdvcml0aG0sIHVuaW9uLCAhY3R4LmtleXNPbmx5ICYmIGN0eC52YWx1ZU1hcHBlcilcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGl0ZXJhdGUoY3Vyc29yUHJvbWlzZSwgZmlsdGVyLCBmbiwgdmFsdWVNYXBwZXIpIHtcbiAgICAgICAgdmFyIG1hcHBlZEZuID0gdmFsdWVNYXBwZXIgPyBmdW5jdGlvbiAoeCwgYywgYSkgeyByZXR1cm4gZm4odmFsdWVNYXBwZXIoeCksIGMsIGEpOyB9IDogZm47XG4gICAgICAgIHZhciB3cmFwcGVkRm4gPSB3cmFwKG1hcHBlZEZuKTtcbiAgICAgICAgcmV0dXJuIGN1cnNvclByb21pc2UudGhlbihmdW5jdGlvbiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvci5zdGFydChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY3Vyc29yLmNvbnRpbnVlKCk7IH07XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihjdXJzb3IsIGZ1bmN0aW9uIChhZHZhbmNlcikgeyByZXR1cm4gYyA9IGFkdmFuY2VyOyB9LCBmdW5jdGlvbiAodmFsKSB7IGN1cnNvci5zdG9wKHZhbCk7IGMgPSBub3A7IH0sIGZ1bmN0aW9uIChlKSB7IGN1cnNvci5mYWlsKGUpOyBjID0gbm9wOyB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZWRGbihjdXJzb3IudmFsdWUsIGN1cnNvciwgZnVuY3Rpb24gKGFkdmFuY2VyKSB7IHJldHVybiBjID0gYWR2YW5jZXI7IH0pO1xuICAgICAgICAgICAgICAgICAgICBjKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBQcm9wTW9kaWZpY2F0aW9uID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFByb3BNb2RpZmljYXRpb24oc3BlYykge1xuICAgICAgICAgICAgdGhpc1tcIkBAcHJvcG1vZFwiXSA9IHNwZWM7XG4gICAgICAgIH1cbiAgICAgICAgUHJvcE1vZGlmaWNhdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIHNwZWMgPSB0aGlzW1wiQEBwcm9wbW9kXCJdO1xuICAgICAgICAgICAgaWYgKHNwZWMuYWRkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVybSA9IHNwZWMuYWRkO1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHRlcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIChpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10pLCB0cnVlKSwgdGVybSwgdHJ1ZSkuc29ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRlcm0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKE51bWJlcih2YWx1ZSkgfHwgMCkgKyB0ZXJtO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVybSA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQodmFsdWUpICsgdGVybTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQoMCkgKyB0ZXJtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRlcm0gXCIuY29uY2F0KHRlcm0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcGVjLnJlbW92ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YnRyYWhlbmRfMSA9IHNwZWMucmVtb3ZlO1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHN1YnRyYWhlbmRfMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAhc3VidHJhaGVuZF8xLmluY2x1ZGVzKGl0ZW0pOyB9KS5zb3J0KCkgOiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWJ0cmFoZW5kXzEgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKSAtIHN1YnRyYWhlbmRfMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN1YnRyYWhlbmRfMSA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQodmFsdWUpIC0gc3VidHJhaGVuZF8xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKSAtIHN1YnRyYWhlbmRfMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdWJ0cmFoZW5kIFwiLmNvbmNhdChzdWJ0cmFoZW5kXzEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmVmaXhUb1JlcGxhY2UgPSAoX2EgPSBzcGVjLnJlcGxhY2VQcmVmaXgpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXTtcbiAgICAgICAgICAgIGlmIChwcmVmaXhUb1JlcGxhY2UgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5zdGFydHNXaXRoKHByZWZpeFRvUmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BlYy5yZXBsYWNlUHJlZml4WzFdICsgdmFsdWUuc3Vic3RyaW5nKHByZWZpeFRvUmVwbGFjZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUHJvcE1vZGlmaWNhdGlvbjtcbiAgICB9KCkpO1xuXG4gICAgdmFyIENvbGxlY3Rpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICAgICAgfVxuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChmbiwgY2IpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gY3R4LmVycm9yID9cbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKG51bGwsIHJlamVjdGlvbi5iaW5kKG51bGwsIGN0eC5lcnJvcikpIDpcbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKCdyZWFkb25seScsIGZuKS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5lcnJvciA/XG4gICAgICAgICAgICAgICAgY3R4LnRhYmxlLl90cmFucyhudWxsLCByZWplY3Rpb24uYmluZChudWxsLCBjdHguZXJyb3IpKSA6XG4gICAgICAgICAgICAgICAgY3R4LnRhYmxlLl90cmFucygncmVhZHdyaXRlJywgZm4sIFwibG9ja2VkXCIpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRkQWxnb3JpdGhtID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmFsZ29yaXRobSA9IGNvbWJpbmUoY3R4LmFsZ29yaXRobSwgZm4pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgY29yZVRyYW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcih0aGlzLl9jdHgsIGZuLCBjb3JlVHJhbnMsIHRoaXMuX2N0eC50YWJsZS5jb3JlKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBydiA9IE9iamVjdC5jcmVhdGUodGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpLCBjdHggPSBPYmplY3QuY3JlYXRlKHRoaXMuX2N0eCk7XG4gICAgICAgICAgICBpZiAocHJvcHMpXG4gICAgICAgICAgICAgICAgZXh0ZW5kKGN0eCwgcHJvcHMpO1xuICAgICAgICAgICAgcnYuX2N0eCA9IGN0eDtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fY3R4LnZhbHVlTWFwcGVyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7IHJldHVybiBpdGVyKGN0eCwgZm4sIHRyYW5zLCBjdHgudGFibGUuY29yZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSBfdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIHZhciBjb3JlVGFibGUgPSBjdHgudGFibGUuY29yZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVUYWJsZS5jb3VudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBnZXRJbmRleE9yU3RvcmUoY3R4LCBjb3JlVGFibGUuc2NoZW1hKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvdW50KSB7IHJldHVybiBNYXRoLm1pbihjb3VudCwgY3R4LmxpbWl0KTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlcihjdHgsIGZ1bmN0aW9uICgpIHsgKytjb3VudDsgcmV0dXJuIGZhbHNlOyB9LCB0cmFucywgY29yZVRhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY291bnQ7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbiAoa2V5UGF0aCwgY2IpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGtleVBhdGguc3BsaXQoJy4nKS5yZXZlcnNlKCksIGxhc3RQYXJ0ID0gcGFydHNbMF0sIGxhc3RJbmRleCA9IHBhcnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXR2YWwob2JqLCBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR2YWwob2JqW3BhcnRzW2ldXSwgaSAtIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmpbbGFzdFBhcnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9yZGVyID0gdGhpcy5fY3R4LmRpciA9PT0gXCJuZXh0XCIgPyAxIDogLTE7XG4gICAgICAgICAgICBmdW5jdGlvbiBzb3J0ZXIoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhVmFsID0gZ2V0dmFsKGEsIGxhc3RJbmRleCksIGJWYWwgPSBnZXR2YWwoYiwgbGFzdEluZGV4KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY21wKGFWYWwsIGJWYWwpICogb3JkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuc29ydChzb3J0ZXIpO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gX3RoaXMuX2N0eDtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmRpciA9PT0gJ25leHQnICYmIGlzUGxhaW5LZXlSYW5nZShjdHgsIHRydWUpICYmIGN0eC5saW1pdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlTWFwcGVyXzEgPSBjdHgudmFsdWVNYXBwZXI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4T3JTdG9yZShjdHgsIGN0eC50YWJsZS5jb3JlLnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5xdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogY3R4LmxpbWl0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGN0eC5yYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZU1hcHBlcl8xID8gcmVzdWx0Lm1hcCh2YWx1ZU1hcHBlcl8xKSA6IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYV8xID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVyKGN0eCwgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGFfMS5wdXNoKGl0ZW0pOyB9LCB0cmFucywgY3R4LnRhYmxlLmNvcmUpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gYV8xOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDw9IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBjdHgub2Zmc2V0ICs9IG9mZnNldDtcbiAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4KSkge1xuICAgICAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcihjdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0TGVmdCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRMZWZ0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlKG9mZnNldExlZnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRSZXBsYXlGaWx0ZXIoY3R4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gKC0tb2Zmc2V0TGVmdCA8IDApOyB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0ID0gZnVuY3Rpb24gKG51bVJvd3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5saW1pdCA9IE1hdGgubWluKHRoaXMuX2N0eC5saW1pdCwgbnVtUm93cyk7XG4gICAgICAgICAgICBhZGRSZXBsYXlGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvd3NMZWZ0ID0gbnVtUm93cztcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoLS1yb3dzTGVmdCA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd3NMZWZ0ID49IDA7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnVudGlsID0gZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uLCBiSW5jbHVkZVN0b3BFbnRyeSkge1xuICAgICAgICAgICAgYWRkRmlsdGVyKHRoaXMuX2N0eCwgZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJGdW5jdGlvbihjdXJzb3IudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiSW5jbHVkZVN0b3BFbnRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW1pdCgxKS50b0FycmF5KGZ1bmN0aW9uIChhKSB7IHJldHVybiBhWzBdOyB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubGFzdCA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpcnN0KGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBhZGRGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlckZ1bmN0aW9uKGN1cnNvci52YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFkZE1hdGNoRmlsdGVyKHRoaXMuX2N0eCwgZmlsdGVyRnVuY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmaWx0ZXIpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uIChpbmRleE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLl9jdHgudGFibGUsIGluZGV4TmFtZSwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHguZGlyID0gKHRoaXMuX2N0eC5kaXIgPT09IFwicHJldlwiID8gXCJuZXh0XCIgOiBcInByZXZcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25kaXJlY3Rpb25jaGFuZ2UpXG4gICAgICAgICAgICAgICAgdGhpcy5fb25kaXJlY3Rpb25jaGFuZ2UodGhpcy5fY3R4LmRpcik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZGVzYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZWFjaEtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHZhbCwgY3Vyc29yKSB7IGNiKGN1cnNvci5rZXksIGN1cnNvcik7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoVW5pcXVlS2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHgudW5pcXVlID0gXCJ1bmlxdWVcIjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2hLZXkoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoUHJpbWFyeUtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHZhbCwgY3Vyc29yKSB7IGNiKGN1cnNvci5wcmltYXJ5S2V5LCBjdXJzb3IpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtLCBjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goY3Vyc29yLmtleSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5wcmltYXJ5S2V5cyA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGlmIChjdHguZGlyID09PSAnbmV4dCcgJiYgaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkgJiYgY3R4LmxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleE9yU3RvcmUoY3R4LCBjdHgudGFibGUuY29yZS5zY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnRhYmxlLmNvcmUucXVlcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiBjdHgubGltaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfYS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgua2V5c09ubHkgPSAhY3R4LmlzTWF0Y2g7XG4gICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaXRlbSwgY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnVuaXF1ZUtleXMgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC51bmlxdWUgPSBcInVuaXF1ZVwiO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5cyhjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmZpcnN0S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW1pdCgxKS5rZXlzKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhWzBdOyB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubGFzdEtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpcnN0S2V5KGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZGlzdGluY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4LCBpZHggPSBjdHguaW5kZXggJiYgY3R4LnRhYmxlLnNjaGVtYS5pZHhCeU5hbWVbY3R4LmluZGV4XTtcbiAgICAgICAgICAgIGlmICghaWR4IHx8ICFpZHgubXVsdGkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB2YXIgc2V0ID0ge307XG4gICAgICAgICAgICBhZGRGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0cktleSA9IGN1cnNvci5wcmltYXJ5S2V5LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gaGFzT3duKHNldCwgc3RyS2V5KTtcbiAgICAgICAgICAgICAgICBzZXRbc3RyS2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFmb3VuZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLm1vZGlmeSA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0ZShmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9kaWZ5ZXI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmeWVyID0gY2hhbmdlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRocyA9IGtleXMoY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1LZXlzID0ga2V5UGF0aHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZnllciA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW55dGhpbmdNb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1LZXlzOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IGtleVBhdGhzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFuZ2VzW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnVmFsID0gZ2V0QnlLZXlQYXRoKGl0ZW0sIGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBQcm9wTW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpdGVtLCBrZXlQYXRoLCB2YWwuZXhlY3V0ZShvcmlnVmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueXRoaW5nTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcmlnVmFsICE9PSB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKGl0ZW0sIGtleVBhdGgsIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueXRoaW5nTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbnl0aGluZ01vZGlmaWVkO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29yZVRhYmxlID0gY3R4LnRhYmxlLmNvcmU7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gY29yZVRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5LCBvdXRib3VuZCA9IF9hLm91dGJvdW5kLCBleHRyYWN0S2V5ID0gX2EuZXh0cmFjdEtleTtcbiAgICAgICAgICAgICAgICB2YXIgbGltaXQgPSAyMDA7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGlmeUNodW5rU2l6ZSA9IF90aGlzLmRiLl9vcHRpb25zLm1vZGlmeUNodW5rU2l6ZTtcbiAgICAgICAgICAgICAgICBpZiAobW9kaWZ5Q2h1bmtTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kaWZ5Q2h1bmtTaXplID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IG1vZGlmeUNodW5rU2l6ZVtjb3JlVGFibGUubmFtZV0gfHwgbW9kaWZ5Q2h1bmtTaXplWycqJ10gfHwgMjAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQgPSBtb2RpZnlDaHVua1NpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsRmFpbHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkS2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBhcHBseU11dGF0ZVJlc3VsdCA9IGZ1bmN0aW9uIChleHBlY3RlZENvdW50LCByZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gcmVzLmZhaWx1cmVzLCBudW1GYWlsdXJlcyA9IHJlcy5udW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50ICs9IGV4cGVjdGVkQ291bnQgLSBudW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGtleXMoZmFpbHVyZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsRmFpbHVyZXMucHVzaChmYWlsdXJlc1twb3NdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNsb25lKCkucHJpbWFyeUtleXMoKS50aGVuKGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjcml0ZXJpYSA9IGlzUGxhaW5LZXlSYW5nZShjdHgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgubGltaXQgPT09IEluZmluaXR5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGNoYW5nZXMgIT09ICdmdW5jdGlvbicgfHwgY2hhbmdlcyA9PT0gZGVsZXRlQ2FsbGJhY2spICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBjdHguaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2h1bmsgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSBNYXRoLm1pbihsaW1pdCwga2V5cy5sZW5ndGggLSBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVUYWJsZS5nZXRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czoga2V5cy5zbGljZShvZmZzZXQsIG9mZnNldCArIGNvdW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogXCJpbW11dGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwdXRWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHV0S2V5cyA9IG91dGJvdW5kID8gW10gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVLZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnVmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHhfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkZWVwQ2xvbmUob3JpZ1ZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1LZXk6IGtleXNbb2Zmc2V0ICsgaV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmeWVyLmNhbGwoY3R4XzEsIGN0eF8xLnZhbHVlLCBjdHhfMSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4XzEudmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUtleXMucHVzaChrZXlzW29mZnNldCArIGldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFvdXRib3VuZCAmJiBjbXAoZXh0cmFjdEtleShvcmlnVmFsdWUpLCBleHRyYWN0S2V5KGN0eF8xLnZhbHVlKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVLZXlzLnB1c2goa2V5c1tvZmZzZXQgKyBpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmFsdWVzLnB1c2goY3R4XzEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0VmFsdWVzLnB1c2goY3R4XzEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRib3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0S2V5cy5wdXNoKGtleXNbb2Zmc2V0ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYWRkVmFsdWVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZVRhYmxlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2FkZCcsIHZhbHVlczogYWRkVmFsdWVzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwb3MgaW4gcmVzLmZhaWx1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlS2V5cy5zcGxpY2UocGFyc2VJbnQocG9zKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseU11dGF0ZVJlc3VsdChhZGRWYWx1ZXMubGVuZ3RoLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAocHV0VmFsdWVzLmxlbmd0aCA+IDAgfHwgKGNyaXRlcmlhICYmIHR5cGVvZiBjaGFuZ2VzID09PSAnb2JqZWN0JykpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVUYWJsZS5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3B1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBwdXRLZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBwdXRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcml0ZXJpYTogY3JpdGVyaWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTcGVjOiB0eXBlb2YgY2hhbmdlcyAhPT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FkZGl0aW9uYWxDaHVuazogb2Zmc2V0ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGFwcGx5TXV0YXRlUmVzdWx0KHB1dFZhbHVlcy5sZW5ndGgsIHJlcyk7IH0pOyB9KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIChkZWxldGVLZXlzLmxlbmd0aCA+IDAgfHwgKGNyaXRlcmlhICYmIGNoYW5nZXMgPT09IGRlbGV0ZUNhbGxiYWNrKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZVRhYmxlLm11dGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGRlbGV0ZUtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcml0ZXJpYTogY3JpdGVyaWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FkZGl0aW9uYWxDaHVuazogb2Zmc2V0ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGFwcGx5TXV0YXRlUmVzdWx0KGRlbGV0ZUtleXMubGVuZ3RoLCByZXMpOyB9KTsgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzLmxlbmd0aCA+IG9mZnNldCArIGNvdW50ICYmIG5leHRDaHVuayhvZmZzZXQgKyBsaW1pdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRDaHVuaygwKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbEZhaWx1cmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGlmeUVycm9yKFwiRXJyb3IgbW9kaWZ5aW5nIG9uZSBvciBtb3JlIG9iamVjdHNcIiwgdG90YWxGYWlsdXJlcywgc3VjY2Vzc0NvdW50LCBmYWlsZWRLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eCwgcmFuZ2UgPSBjdHgucmFuZ2U7XG4gICAgICAgICAgICBpZiAoaXNQbGFpbktleVJhbmdlKGN0eCkgJiZcbiAgICAgICAgICAgICAgICAoY3R4LmlzUHJpbUtleSB8fCByYW5nZS50eXBlID09PSAzICkpXG4gICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0ZShmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBjdHgudGFibGUuY29yZS5zY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvcmVSYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnRhYmxlLmNvcmUuY291bnQoeyB0cmFuczogdHJhbnMsIHF1ZXJ5OiB7IGluZGV4OiBwcmltYXJ5S2V5LCByYW5nZTogY29yZVJhbmdlIH0gfSkudGhlbihmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGVSYW5nZScsIHJhbmdlOiBjb3JlUmFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBfYS5mYWlsdXJlczsgX2EubGFzdFJlc3VsdDsgX2EucmVzdWx0czsgdmFyIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kaWZ5RXJyb3IoXCJDb3VsZCBub3QgZGVsZXRlIHNvbWUgdmFsdWVzXCIsIE9iamVjdC5rZXlzKGZhaWx1cmVzKS5tYXAoZnVuY3Rpb24gKHBvcykgeyByZXR1cm4gZmFpbHVyZXNbcG9zXTsgfSksIGNvdW50IC0gbnVtRmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCAtIG51bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kaWZ5KGRlbGV0ZUNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIENvbGxlY3Rpb247XG4gICAgfSgpKTtcbiAgICB2YXIgZGVsZXRlQ2FsbGJhY2sgPSBmdW5jdGlvbiAodmFsdWUsIGN0eCkgeyByZXR1cm4gY3R4LnZhbHVlID0gbnVsbDsgfTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbGxlY3Rpb25Db25zdHJ1Y3RvcihkYikge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzQ29uc3RydWN0b3IoQ29sbGVjdGlvbi5wcm90b3R5cGUsIGZ1bmN0aW9uIENvbGxlY3Rpb24od2hlcmVDbGF1c2UsIGtleVJhbmdlR2VuZXJhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgICAgICAgICB2YXIga2V5UmFuZ2UgPSBBbnlSYW5nZSwgZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGtleVJhbmdlR2VuZXJhdG9yKVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleVJhbmdlID0ga2V5UmFuZ2VHZW5lcmF0b3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdoZXJlQ3R4ID0gd2hlcmVDbGF1c2UuX2N0eDtcbiAgICAgICAgICAgIHZhciB0YWJsZSA9IHdoZXJlQ3R4LnRhYmxlO1xuICAgICAgICAgICAgdmFyIHJlYWRpbmdIb29rID0gdGFibGUuaG9vay5yZWFkaW5nLmZpcmU7XG4gICAgICAgICAgICB0aGlzLl9jdHggPSB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGluZGV4OiB3aGVyZUN0eC5pbmRleCxcbiAgICAgICAgICAgICAgICBpc1ByaW1LZXk6ICghd2hlcmVDdHguaW5kZXggfHwgKHRhYmxlLnNjaGVtYS5wcmltS2V5LmtleVBhdGggJiYgd2hlcmVDdHguaW5kZXggPT09IHRhYmxlLnNjaGVtYS5wcmltS2V5Lm5hbWUpKSxcbiAgICAgICAgICAgICAgICByYW5nZToga2V5UmFuZ2UsXG4gICAgICAgICAgICAgICAga2V5c09ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpcjogXCJuZXh0XCIsXG4gICAgICAgICAgICAgICAgdW5pcXVlOiBcIlwiLFxuICAgICAgICAgICAgICAgIGFsZ29yaXRobTogbnVsbCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVwbGF5RmlsdGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGp1c3RMaW1pdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc01hdGNoOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICBsaW1pdDogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIG9yOiB3aGVyZUN0eC5vcixcbiAgICAgICAgICAgICAgICB2YWx1ZU1hcHBlcjogcmVhZGluZ0hvb2sgIT09IG1pcnJvciA/IHJlYWRpbmdIb29rIDogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2ltcGxlQ29tcGFyZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogYSA9PT0gYiA/IDAgOiAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaW1wbGVDb21wYXJlUmV2ZXJzZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBhID4gYiA/IC0xIDogYSA9PT0gYiA/IDAgOiAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZhaWwoY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UsIGVyciwgVCkge1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25PcldoZXJlQ2xhdXNlIGluc3RhbmNlb2YgV2hlcmVDbGF1c2UgP1xuICAgICAgICAgICAgbmV3IGNvbGxlY3Rpb25PcldoZXJlQ2xhdXNlLkNvbGxlY3Rpb24oY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UpIDpcbiAgICAgICAgICAgIGNvbGxlY3Rpb25PcldoZXJlQ2xhdXNlO1xuICAgICAgICBjb2xsZWN0aW9uLl9jdHguZXJyb3IgPSBUID8gbmV3IFQoZXJyKSA6IG5ldyBUeXBlRXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtcHR5Q29sbGVjdGlvbih3aGVyZUNsYXVzZSkge1xuICAgICAgICByZXR1cm4gbmV3IHdoZXJlQ2xhdXNlLkNvbGxlY3Rpb24od2hlcmVDbGF1c2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJhbmdlRXF1YWwoXCJcIik7IH0pLmxpbWl0KDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cHBlckZhY3RvcnkoZGlyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09IFwibmV4dFwiID9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvVXBwZXJDYXNlKCk7IH0gOlxuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9Mb3dlckNhc2UoKTsgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbG93ZXJGYWN0b3J5KGRpcikge1xuICAgICAgICByZXR1cm4gZGlyID09PSBcIm5leHRcIiA/XG4gICAgICAgICAgICBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b0xvd2VyQ2FzZSgpOyB9IDpcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvVXBwZXJDYXNlKCk7IH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHRDYXNpbmcoa2V5LCBsb3dlcktleSwgdXBwZXJOZWVkbGUsIGxvd2VyTmVlZGxlLCBjbXAsIGRpcikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oa2V5Lmxlbmd0aCwgbG93ZXJOZWVkbGUubGVuZ3RoKTtcbiAgICAgICAgdmFyIGxscCA9IC0xO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbHdyS2V5Q2hhciA9IGxvd2VyS2V5W2ldO1xuICAgICAgICAgICAgaWYgKGx3cktleUNoYXIgIT09IGxvd2VyTmVlZGxlW2ldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChrZXlbaV0sIHVwcGVyTmVlZGxlW2ldKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGkpICsgdXBwZXJOZWVkbGVbaV0gKyB1cHBlck5lZWRsZS5zdWJzdHIoaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChjbXAoa2V5W2ldLCBsb3dlck5lZWRsZVtpXSkgPCAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCBpKSArIGxvd2VyTmVlZGxlW2ldICsgdXBwZXJOZWVkbGUuc3Vic3RyKGkgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAobGxwID49IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGxscCkgKyBsb3dlcktleVtsbHBdICsgdXBwZXJOZWVkbGUuc3Vic3RyKGxscCArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNtcChrZXlbaV0sIGx3cktleUNoYXIpIDwgMClcbiAgICAgICAgICAgICAgICBsbHAgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGggPCBsb3dlck5lZWRsZS5sZW5ndGggJiYgZGlyID09PSBcIm5leHRcIilcbiAgICAgICAgICAgIHJldHVybiBrZXkgKyB1cHBlck5lZWRsZS5zdWJzdHIoa2V5Lmxlbmd0aCk7XG4gICAgICAgIGlmIChsZW5ndGggPCBrZXkubGVuZ3RoICYmIGRpciA9PT0gXCJwcmV2XCIpXG4gICAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCB1cHBlck5lZWRsZS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gKGxscCA8IDAgPyBudWxsIDoga2V5LnN1YnN0cigwLCBsbHApICsgbG93ZXJOZWVkbGVbbGxwXSArIHVwcGVyTmVlZGxlLnN1YnN0cihsbHAgKyAxKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZElnbm9yZUNhc2VBbGdvcml0aG0od2hlcmVDbGF1c2UsIG1hdGNoLCBuZWVkbGVzLCBzdWZmaXgpIHtcbiAgICAgICAgdmFyIHVwcGVyLCBsb3dlciwgY29tcGFyZSwgdXBwZXJOZWVkbGVzLCBsb3dlck5lZWRsZXMsIGRpcmVjdGlvbiwgbmV4dEtleVN1ZmZpeCwgbmVlZGxlc0xlbiA9IG5lZWRsZXMubGVuZ3RoO1xuICAgICAgICBpZiAoIW5lZWRsZXMuZXZlcnkoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHR5cGVvZiBzID09PSAnc3RyaW5nJzsgfSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWlsKHdoZXJlQ2xhdXNlLCBTVFJJTkdfRVhQRUNURUQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGluaXREaXJlY3Rpb24oZGlyKSB7XG4gICAgICAgICAgICB1cHBlciA9IHVwcGVyRmFjdG9yeShkaXIpO1xuICAgICAgICAgICAgbG93ZXIgPSBsb3dlckZhY3RvcnkoZGlyKTtcbiAgICAgICAgICAgIGNvbXBhcmUgPSAoZGlyID09PSBcIm5leHRcIiA/IHNpbXBsZUNvbXBhcmUgOiBzaW1wbGVDb21wYXJlUmV2ZXJzZSk7XG4gICAgICAgICAgICB2YXIgbmVlZGxlQm91bmRzID0gbmVlZGxlcy5tYXAoZnVuY3Rpb24gKG5lZWRsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGxvd2VyOiBsb3dlcihuZWVkbGUpLCB1cHBlcjogdXBwZXIobmVlZGxlKSB9O1xuICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlKGEubG93ZXIsIGIubG93ZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1cHBlck5lZWRsZXMgPSBuZWVkbGVCb3VuZHMubWFwKGZ1bmN0aW9uIChuYikgeyByZXR1cm4gbmIudXBwZXI7IH0pO1xuICAgICAgICAgICAgbG93ZXJOZWVkbGVzID0gbmVlZGxlQm91bmRzLm1hcChmdW5jdGlvbiAobmIpIHsgcmV0dXJuIG5iLmxvd2VyOyB9KTtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IGRpcjtcbiAgICAgICAgICAgIG5leHRLZXlTdWZmaXggPSAoZGlyID09PSBcIm5leHRcIiA/IFwiXCIgOiBzdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGluaXREaXJlY3Rpb24oXCJuZXh0XCIpO1xuICAgICAgICB2YXIgYyA9IG5ldyB3aGVyZUNsYXVzZS5Db2xsZWN0aW9uKHdoZXJlQ2xhdXNlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh1cHBlck5lZWRsZXNbMF0sIGxvd2VyTmVlZGxlc1tuZWVkbGVzTGVuIC0gMV0gKyBzdWZmaXgpOyB9KTtcbiAgICAgICAgYy5fb25kaXJlY3Rpb25jaGFuZ2UgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpbml0RGlyZWN0aW9uKGRpcmVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBmaXJzdFBvc3NpYmxlTmVlZGxlID0gMDtcbiAgICAgICAgYy5fYWRkQWxnb3JpdGhtKGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBsb3dlcktleSA9IGxvd2VyKGtleSk7XG4gICAgICAgICAgICBpZiAobWF0Y2gobG93ZXJLZXksIGxvd2VyTmVlZGxlcywgZmlyc3RQb3NzaWJsZU5lZWRsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb3dlc3RQb3NzaWJsZUNhc2luZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0UG9zc2libGVOZWVkbGU7IGkgPCBuZWVkbGVzTGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhc2luZyA9IG5leHRDYXNpbmcoa2V5LCBsb3dlcktleSwgdXBwZXJOZWVkbGVzW2ldLCBsb3dlck5lZWRsZXNbaV0sIGNvbXBhcmUsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXNpbmcgPT09IG51bGwgJiYgbG93ZXN0UG9zc2libGVDYXNpbmcgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFBvc3NpYmxlTmVlZGxlID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvd2VzdFBvc3NpYmxlQ2FzaW5nID09PSBudWxsIHx8IGNvbXBhcmUobG93ZXN0UG9zc2libGVDYXNpbmcsIGNhc2luZykgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RQb3NzaWJsZUNhc2luZyA9IGNhc2luZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobG93ZXN0UG9zc2libGVDYXNpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7IGN1cnNvci5jb250aW51ZShsb3dlc3RQb3NzaWJsZUNhc2luZyArIG5leHRLZXlTdWZmaXgpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShsb3dlciwgdXBwZXIsIGxvd2VyT3BlbiwgdXBwZXJPcGVuKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAyICxcbiAgICAgICAgICAgIGxvd2VyOiBsb3dlcixcbiAgICAgICAgICAgIHVwcGVyOiB1cHBlcixcbiAgICAgICAgICAgIGxvd2VyT3BlbjogbG93ZXJPcGVuLFxuICAgICAgICAgICAgdXBwZXJPcGVuOiB1cHBlck9wZW5cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmFuZ2VFcXVhbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogMSAsXG4gICAgICAgICAgICBsb3dlcjogdmFsdWUsXG4gICAgICAgICAgICB1cHBlcjogdmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgV2hlcmVDbGF1c2UgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gV2hlcmVDbGF1c2UoKSB7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdoZXJlQ2xhdXNlLnByb3RvdHlwZSwgXCJDb2xsZWN0aW9uXCIsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdHgudGFibGUuZGIuQ29sbGVjdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmJldHdlZW4gPSBmdW5jdGlvbiAobG93ZXIsIHVwcGVyLCBpbmNsdWRlTG93ZXIsIGluY2x1ZGVVcHBlcikge1xuICAgICAgICAgICAgaW5jbHVkZUxvd2VyID0gaW5jbHVkZUxvd2VyICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGluY2x1ZGVVcHBlciA9IGluY2x1ZGVVcHBlciA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLl9jbXAobG93ZXIsIHVwcGVyKSA+IDApIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9jbXAobG93ZXIsIHVwcGVyKSA9PT0gMCAmJiAoaW5jbHVkZUxvd2VyIHx8IGluY2x1ZGVVcHBlcikgJiYgIShpbmNsdWRlTG93ZXIgJiYgaW5jbHVkZVVwcGVyKSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UobG93ZXIsIHVwcGVyLCAhaW5jbHVkZUxvd2VyLCAhaW5jbHVkZVVwcGVyKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmFuZ2VFcXVhbCh2YWx1ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYWJvdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHZhbHVlLCB1bmRlZmluZWQsIHRydWUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmFib3ZlT3JFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodmFsdWUsIHVuZGVmaW5lZCwgZmFsc2UpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmJlbG93ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh1bmRlZmluZWQsIHZhbHVlLCBmYWxzZSwgdHJ1ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmVsb3dPckVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh1bmRlZmluZWQsIHZhbHVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIFNUUklOR19FWFBFQ1RFRCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iZXR3ZWVuKHN0ciwgc3RyICsgbWF4U3RyaW5nLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLnN0YXJ0c1dpdGhJZ25vcmVDYXNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgaWYgKHN0ciA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydHNXaXRoKHN0cik7XG4gICAgICAgICAgICByZXR1cm4gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh0aGlzLCBmdW5jdGlvbiAoeCwgYSkgeyByZXR1cm4geC5pbmRleE9mKGFbMF0pID09PSAwOyB9LCBbc3RyXSwgbWF4U3RyaW5nKTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmVxdWFsc0lnbm9yZUNhc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh0aGlzLCBmdW5jdGlvbiAoeCwgYSkgeyByZXR1cm4geCA9PT0gYVswXTsgfSwgW3N0cl0sIFwiXCIpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYW55T2ZJZ25vcmVDYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh0aGlzLCBmdW5jdGlvbiAoeCwgYSkgeyByZXR1cm4gYS5pbmRleE9mKHgpICE9PSAtMTsgfSwgc2V0LCBcIlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLnN0YXJ0c1dpdGhBbnlPZklnbm9yZUNhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiBhLnNvbWUoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHguaW5kZXhPZihuKSA9PT0gMDsgfSk7IH0sIHNldCwgbWF4U3RyaW5nKTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmFueU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgY29tcGFyZSA9IHRoaXMuX2NtcDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQoY29tcGFyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICB2YXIgYyA9IG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2Uoc2V0WzBdLCBzZXRbc2V0Lmxlbmd0aCAtIDFdKTsgfSk7XG4gICAgICAgICAgICBjLl9vbmRpcmVjdGlvbmNoYW5nZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb21wYXJlID0gKGRpcmVjdGlvbiA9PT0gXCJuZXh0XCIgP1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYXNjZW5kaW5nIDpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Rlc2NlbmRpbmcpO1xuICAgICAgICAgICAgICAgIHNldC5zb3J0KGNvbXBhcmUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoa2V5LCBzZXRbaV0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKGtleSwgc2V0W2ldKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZnVuY3Rpb24gKCkgeyBjdXJzb3IuY29udGludWUoc2V0W2ldKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUubm90RXF1YWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluQW55UmFuZ2UoW1ttaW5LZXksIHZhbHVlXSwgW3ZhbHVlLCB0aGlzLmRiLl9tYXhLZXldXSwgeyBpbmNsdWRlTG93ZXJzOiBmYWxzZSwgaW5jbHVkZVVwcGVyczogZmFsc2UgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5ub25lT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNldC5zb3J0KHRoaXMuX2FzY2VuZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByYW5nZXMgPSBzZXQucmVkdWNlKGZ1bmN0aW9uIChyZXMsIHZhbCkgeyByZXR1cm4gcmVzID9cbiAgICAgICAgICAgICAgICByZXMuY29uY2F0KFtbcmVzW3Jlcy5sZW5ndGggLSAxXVsxXSwgdmFsXV0pIDpcbiAgICAgICAgICAgICAgICBbW21pbktleSwgdmFsXV07IH0sIG51bGwpO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goW3NldFtzZXQubGVuZ3RoIC0gMV0sIHRoaXMuZGIuX21heEtleV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5BbnlSYW5nZShyYW5nZXMsIHsgaW5jbHVkZUxvd2VyczogZmFsc2UsIGluY2x1ZGVVcHBlcnM6IGZhbHNlIH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuaW5BbnlSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY21wID0gdGhpcy5fY21wLCBhc2NlbmRpbmcgPSB0aGlzLl9hc2NlbmRpbmcsIGRlc2NlbmRpbmcgPSB0aGlzLl9kZXNjZW5kaW5nLCBtaW4gPSB0aGlzLl9taW4sIG1heCA9IHRoaXMuX21heDtcbiAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICBpZiAoIXJhbmdlcy5ldmVyeShmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VbMF0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICByYW5nZVsxXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIGFzY2VuZGluZyhyYW5nZVswXSwgcmFuZ2VbMV0pIDw9IDA7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIFwiRmlyc3QgYXJndW1lbnQgdG8gaW5BbnlSYW5nZSgpIG11c3QgYmUgYW4gQXJyYXkgb2YgdHdvLXZhbHVlIEFycmF5cyBbbG93ZXIsdXBwZXJdIHdoZXJlIHVwcGVyIG11c3Qgbm90IGJlIGxvd2VyIHRoYW4gbG93ZXJcIiwgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluY2x1ZGVMb3dlcnMgPSAhb3B0aW9ucyB8fCBvcHRpb25zLmluY2x1ZGVMb3dlcnMgIT09IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGluY2x1ZGVVcHBlcnMgPSBvcHRpb25zICYmIG9wdGlvbnMuaW5jbHVkZVVwcGVycyA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFJhbmdlKHJhbmdlcywgbmV3UmFuZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIGwgPSByYW5nZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtcChuZXdSYW5nZVswXSwgcmFuZ2VbMV0pIDwgMCAmJiBjbXAobmV3UmFuZ2VbMV0sIHJhbmdlWzBdKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlWzBdID0gbWluKHJhbmdlWzBdLCBuZXdSYW5nZVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVsxXSA9IG1heChyYW5nZVsxXSwgbmV3UmFuZ2VbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGwpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKG5ld1JhbmdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNvcnREaXJlY3Rpb24gPSBhc2NlbmRpbmc7XG4gICAgICAgICAgICBmdW5jdGlvbiByYW5nZVNvcnRlcihhLCBiKSB7IHJldHVybiBzb3J0RGlyZWN0aW9uKGFbMF0sIGJbMF0pOyB9XG4gICAgICAgICAgICB2YXIgc2V0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZXQgPSByYW5nZXMucmVkdWNlKGFkZFJhbmdlLCBbXSk7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQocmFuZ2VTb3J0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlUG9zID0gMDtcbiAgICAgICAgICAgIHZhciBrZXlJc0JleW9uZEN1cnJlbnRFbnRyeSA9IGluY2x1ZGVVcHBlcnMgP1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGFzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMV0pID4gMDsgfSA6XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXNjZW5kaW5nKGtleSwgc2V0W3JhbmdlUG9zXVsxXSkgPj0gMDsgfTtcbiAgICAgICAgICAgIHZhciBrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeSA9IGluY2x1ZGVMb3dlcnMgP1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGRlc2NlbmRpbmcoa2V5LCBzZXRbcmFuZ2VQb3NdWzBdKSA+IDA7IH0gOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGRlc2NlbmRpbmcoa2V5LCBzZXRbcmFuZ2VQb3NdWzBdKSA+PSAwOyB9O1xuICAgICAgICAgICAgZnVuY3Rpb24ga2V5V2l0aGluQ3VycmVudFJhbmdlKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAha2V5SXNCZXlvbmRDdXJyZW50RW50cnkoa2V5KSAmJiAha2V5SXNCZWZvcmVDdXJyZW50RW50cnkoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGVja0tleSA9IGtleUlzQmV5b25kQ3VycmVudEVudHJ5O1xuICAgICAgICAgICAgdmFyIGMgPSBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHNldFswXVswXSwgc2V0W3NldC5sZW5ndGggLSAxXVsxXSwgIWluY2x1ZGVMb3dlcnMsICFpbmNsdWRlVXBwZXJzKTsgfSk7XG4gICAgICAgICAgICBjLl9vbmRpcmVjdGlvbmNoYW5nZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcIm5leHRcIikge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0tleSA9IGtleUlzQmV5b25kQ3VycmVudEVudHJ5O1xuICAgICAgICAgICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gYXNjZW5kaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tLZXkgPSBrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgc29ydERpcmVjdGlvbiA9IGRlc2NlbmRpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldC5zb3J0KHJhbmdlU29ydGVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgICAgIHdoaWxlIChjaGVja0tleShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICsrcmFuZ2VQb3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZVBvcyA9PT0gc2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5V2l0aGluQ3VycmVudFJhbmdlKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLl9jbXAoa2V5LCBzZXRbcmFuZ2VQb3NdWzFdKSA9PT0gMCB8fCBfdGhpcy5fY21wKGtleSwgc2V0W3JhbmdlUG9zXVswXSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29ydERpcmVjdGlvbiA9PT0gYXNjZW5kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShzZXRbcmFuZ2VQb3NdWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoc2V0W3JhbmdlUG9zXVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLnN0YXJ0c1dpdGhBbnlPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoIXNldC5ldmVyeShmdW5jdGlvbiAocykgeyByZXR1cm4gdHlwZW9mIHMgPT09ICdzdHJpbmcnOyB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIFwic3RhcnRzV2l0aEFueU9mKCkgb25seSB3b3JrcyB3aXRoIHN0cmluZ3NcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5BbnlSYW5nZShzZXQubWFwKGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIFtzdHIsIHN0ciArIG1heFN0cmluZ107IH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFdoZXJlQ2xhdXNlO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVXaGVyZUNsYXVzZUNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihXaGVyZUNsYXVzZS5wcm90b3R5cGUsIGZ1bmN0aW9uIFdoZXJlQ2xhdXNlKHRhYmxlLCBpbmRleCwgb3JDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgICAgICAgICB0aGlzLl9jdHggPSB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCA9PT0gXCI6aWRcIiA/IG51bGwgOiBpbmRleCxcbiAgICAgICAgICAgICAgICBvcjogb3JDb2xsZWN0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fY21wID0gdGhpcy5fYXNjZW5kaW5nID0gY21wO1xuICAgICAgICAgICAgdGhpcy5fZGVzY2VuZGluZyA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjbXAoYiwgYSk7IH07XG4gICAgICAgICAgICB0aGlzLl9tYXggPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpID4gMCA/IGEgOiBiOyB9O1xuICAgICAgICAgICAgdGhpcy5fbWluID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBhIDogYjsgfTtcbiAgICAgICAgICAgIHRoaXMuX0lEQktleVJhbmdlID0gZGIuX2RlcHMuSURCS2V5UmFuZ2U7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX0lEQktleVJhbmdlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCkge1xuICAgICAgICByZXR1cm4gd3JhcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgICAgICAgIHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciBERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSA9ICdzdG9yYWdlbXV0YXRlZCc7XG4gICAgdmFyIFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSA9ICd4LXN0b3JhZ2VtdXRhdGVkLTEnO1xuICAgIHZhciBnbG9iYWxFdmVudHMgPSBFdmVudHMobnVsbCwgREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUpO1xuXG4gICAgdmFyIFRyYW5zYWN0aW9uID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKCkge1xuICAgICAgICB9XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzc2VydCghUFNELmdsb2JhbCk7XG4gICAgICAgICAgICArK3RoaXMuX3JlY3Vsb2NrO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlY3Vsb2NrID09PSAxICYmICFQU0QuZ2xvYmFsKVxuICAgICAgICAgICAgICAgIFBTRC5sb2NrT3duZXJGb3IgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fdW5sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXNzZXJ0KCFQU0QuZ2xvYmFsKTtcbiAgICAgICAgICAgIGlmICgtLXRoaXMuX3JlY3Vsb2NrID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFQU0QuZ2xvYmFsKVxuICAgICAgICAgICAgICAgICAgICBQU0QubG9ja093bmVyRm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fYmxvY2tlZEZ1bmNzLmxlbmd0aCA+IDAgJiYgIXRoaXMuX2xvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbkFuZFBTRCA9IHRoaXMuX2Jsb2NrZWRGdW5jcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlUFNEKGZuQW5kUFNEWzFdLCBmbkFuZFBTRFswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX2xvY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWN1bG9jayAmJiBQU0QubG9ja093bmVyRm9yICE9PSB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGlkYnRyYW5zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB2YXIgaWRiZGIgPSB0aGlzLmRiLmlkYmRiO1xuICAgICAgICAgICAgdmFyIGRiT3BlbkVycm9yID0gdGhpcy5kYi5fc3RhdGUuZGJPcGVuRXJyb3I7XG4gICAgICAgICAgICBhc3NlcnQoIXRoaXMuaWRidHJhbnMpO1xuICAgICAgICAgICAgaWYgKCFpZGJ0cmFucyAmJiAhaWRiZGIpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRiT3BlbkVycm9yICYmIGRiT3BlbkVycm9yLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRhdGFiYXNlQ2xvc2VkRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKGRiT3BlbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1pc3NpbmdBUElFcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSShkYk9wZW5FcnJvci5tZXNzYWdlLCBkYk9wZW5FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5PcGVuRmFpbGVkKGRiT3BlbkVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlRyYW5zYWN0aW9uSW5hY3RpdmUoKTtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9jb21wbGV0aW9uLl9zdGF0ZSA9PT0gbnVsbCk7XG4gICAgICAgICAgICBpZGJ0cmFucyA9IHRoaXMuaWRidHJhbnMgPSBpZGJ0cmFucyB8fFxuICAgICAgICAgICAgICAgICh0aGlzLmRiLmNvcmVcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmRiLmNvcmUudHJhbnNhY3Rpb24odGhpcy5zdG9yZU5hbWVzLCB0aGlzLm1vZGUsIHsgZHVyYWJpbGl0eTogdGhpcy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHkgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBpZGJkYi50cmFuc2FjdGlvbih0aGlzLnN0b3JlTmFtZXMsIHRoaXMubW9kZSwgeyBkdXJhYmlsaXR5OiB0aGlzLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSB9KSk7XG4gICAgICAgICAgICBpZGJ0cmFucy5vbmVycm9yID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChldik7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlamVjdChpZGJ0cmFucy5lcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uYWJvcnQgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgJiYgX3RoaXMuX3JlamVjdChuZXcgZXhjZXB0aW9ucy5BYm9ydChpZGJ0cmFucy5lcnJvcikpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uKFwiYWJvcnRcIikuZmlyZShldik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uY29tcGxldGUgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGlmICgnbXV0YXRlZFBhcnRzJyBpbiBpZGJ0cmFucykge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuc3RvcmFnZW11dGF0ZWQuZmlyZShpZGJ0cmFuc1tcIm11dGF0ZWRQYXJ0c1wiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9wcm9taXNlID0gZnVuY3Rpb24gKG1vZGUsIGZuLCBiV3JpdGVMb2NrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnICYmIHRoaXMubW9kZSAhPT0gJ3JlYWR3cml0ZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5SZWFkT25seShcIlRyYW5zYWN0aW9uIGlzIHJlYWRvbmx5XCIpKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5UcmFuc2FjdGlvbkluYWN0aXZlKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYmxvY2tlZEZ1bmNzLnB1c2goW2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcHJvbWlzZShtb2RlLCBmbiwgYldyaXRlTG9jaykudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgUFNEXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiV3JpdGVMb2NrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9sb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBmbihyZXNvbHZlLCByZWplY3QsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydiAmJiBydi50aGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ2LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHAuZmluYWxseShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fdW5sb2NrKCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICBwLl9saWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGZuKHJlc29sdmUsIHJlamVjdCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocnYgJiYgcnYudGhlbilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ2LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwLl9saWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3Jvb3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5fcm9vdCgpIDogdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLndhaXRGb3IgPSBmdW5jdGlvbiAocHJvbWlzZUxpa2UpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gdGhpcy5fcm9vdCgpO1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSBEZXhpZVByb21pc2UucmVzb2x2ZShwcm9taXNlTGlrZSk7XG4gICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0Zvcikge1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdGb3IgPSByb290Ll93YWl0aW5nRm9yLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvbWlzZTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByb290Ll93YWl0aW5nRm9yID0gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICByb290Ll93YWl0aW5nUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSByb290LmlkYnRyYW5zLm9iamVjdFN0b3JlKHJvb3Quc3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIHNwaW4oKSB7XG4gICAgICAgICAgICAgICAgICAgICsrcm9vdC5fc3BpbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocm9vdC5fd2FpdGluZ1F1ZXVlLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIChyb290Ll93YWl0aW5nUXVldWUuc2hpZnQoKSkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3QuX3dhaXRpbmdGb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5nZXQoLUluZmluaXR5KS5vbnN1Y2Nlc3MgPSBzcGluO1xuICAgICAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3VycmVudFdhaXRQcm9taXNlID0gcm9vdC5fd2FpdGluZ0ZvcjtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcm9vdC5fd2FpdGluZ1F1ZXVlLnB1c2god3JhcChyZXNvbHZlLmJpbmQobnVsbCwgcmVzKSkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByb290Ll93YWl0aW5nUXVldWUucHVzaCh3cmFwKHJlamVjdC5iaW5kKG51bGwsIGVycikpKTsgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290Ll93YWl0aW5nRm9yID09PSBjdXJyZW50V2FpdFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdGb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pZGJ0cmFucylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGJ0cmFucy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdChuZXcgZXhjZXB0aW9ucy5BYm9ydCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgdmFyIG1lbW9pemVkVGFibGVzID0gKHRoaXMuX21lbW9pemVkVGFibGVzIHx8ICh0aGlzLl9tZW1vaXplZFRhYmxlcyA9IHt9KSk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKG1lbW9pemVkVGFibGVzLCB0YWJsZU5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFRhYmxlc1t0YWJsZU5hbWVdO1xuICAgICAgICAgICAgdmFyIHRhYmxlU2NoZW1hID0gdGhpcy5zY2hlbWFbdGFibGVOYW1lXTtcbiAgICAgICAgICAgIGlmICghdGFibGVTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5Ob3RGb3VuZChcIlRhYmxlIFwiICsgdGFibGVOYW1lICsgXCIgbm90IHBhcnQgb2YgdHJhbnNhY3Rpb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb25Cb3VuZFRhYmxlID0gbmV3IHRoaXMuZGIuVGFibGUodGFibGVOYW1lLCB0YWJsZVNjaGVtYSwgdGhpcyk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbkJvdW5kVGFibGUuY29yZSA9IHRoaXMuZGIuY29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgbWVtb2l6ZWRUYWJsZXNbdGFibGVOYW1lXSA9IHRyYW5zYWN0aW9uQm91bmRUYWJsZTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkJvdW5kVGFibGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBUcmFuc2FjdGlvbjtcbiAgICB9KCkpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlVHJhbnNhY3Rpb25Db25zdHJ1Y3RvcihkYikge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzQ29uc3RydWN0b3IoVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBmdW5jdGlvbiBUcmFuc2FjdGlvbihtb2RlLCBzdG9yZU5hbWVzLCBkYnNjaGVtYSwgY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5LCBwYXJlbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICAgICAgdGhpcy5zdG9yZU5hbWVzID0gc3RvcmVOYW1lcztcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hID0gZGJzY2hlbWE7XG4gICAgICAgICAgICB0aGlzLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSA9IGNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eTtcbiAgICAgICAgICAgIHRoaXMuaWRidHJhbnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbiA9IEV2ZW50cyh0aGlzLCBcImNvbXBsZXRlXCIsIFwiZXJyb3JcIiwgXCJhYm9ydFwiKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50IHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZWN1bG9jayA9IDA7XG4gICAgICAgICAgICB0aGlzLl9ibG9ja2VkRnVuY3MgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3dhaXRpbmdGb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ1F1ZXVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3NwaW5Db3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0aW9uID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRpb24udGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24uY29tcGxldGUuZmlyZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2FzQWN0aXZlID0gX3RoaXMuYWN0aXZlO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uLmVycm9yLmZpcmUoZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50ID9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50Ll9yZWplY3QoZSkgOlxuICAgICAgICAgICAgICAgICAgICB3YXNBY3RpdmUgJiYgX3RoaXMuaWRidHJhbnMgJiYgX3RoaXMuaWRidHJhbnMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4U3BlYyhuYW1lLCBrZXlQYXRoLCB1bmlxdWUsIG11bHRpLCBhdXRvLCBjb21wb3VuZCwgaXNQcmltS2V5KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAga2V5UGF0aDoga2V5UGF0aCxcbiAgICAgICAgICAgIHVuaXF1ZTogdW5pcXVlLFxuICAgICAgICAgICAgbXVsdGk6IG11bHRpLFxuICAgICAgICAgICAgYXV0bzogYXV0byxcbiAgICAgICAgICAgIGNvbXBvdW5kOiBjb21wb3VuZCxcbiAgICAgICAgICAgIHNyYzogKHVuaXF1ZSAmJiAhaXNQcmltS2V5ID8gJyYnIDogJycpICsgKG11bHRpID8gJyonIDogJycpICsgKGF1dG8gPyBcIisrXCIgOiBcIlwiKSArIG5hbWVGcm9tS2V5UGF0aChrZXlQYXRoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBuYW1lRnJvbUtleVBhdGgoa2V5UGF0aCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgIGtleVBhdGggOlxuICAgICAgICAgICAga2V5UGF0aCA/ICgnWycgKyBbXS5qb2luLmNhbGwoa2V5UGF0aCwgJysnKSArICddJykgOiBcIlwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlU2NoZW1hKG5hbWUsIHByaW1LZXksIGluZGV4ZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwcmltS2V5OiBwcmltS2V5LFxuICAgICAgICAgICAgaW5kZXhlczogaW5kZXhlcyxcbiAgICAgICAgICAgIG1hcHBlZENsYXNzOiBudWxsLFxuICAgICAgICAgICAgaWR4QnlOYW1lOiBhcnJheVRvT2JqZWN0KGluZGV4ZXMsIGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gW2luZGV4Lm5hbWUsIGluZGV4XTsgfSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYWZhcmlNdWx0aVN0b3JlRml4KHN0b3JlTmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIHN0b3JlTmFtZXMubGVuZ3RoID09PSAxID8gc3RvcmVOYW1lc1swXSA6IHN0b3JlTmFtZXM7XG4gICAgfVxuICAgIHZhciBnZXRNYXhLZXkgPSBmdW5jdGlvbiAoSWRiS2V5UmFuZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIElkYktleVJhbmdlLm9ubHkoW1tdXSk7XG4gICAgICAgICAgICBnZXRNYXhLZXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbW11dOyB9O1xuICAgICAgICAgICAgcmV0dXJuIFtbXV07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdldE1heEtleSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1heFN0cmluZzsgfTtcbiAgICAgICAgICAgIHJldHVybiBtYXhTdHJpbmc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0S2V5RXh0cmFjdG9yKGtleVBhdGgpIHtcbiAgICAgICAgaWYgKGtleVBhdGggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRTaW5nbGVQYXRoS2V5RXh0cmFjdG9yKGtleVBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGgpOyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNpbmdsZVBhdGhLZXlFeHRyYWN0b3Ioa2V5UGF0aCkge1xuICAgICAgICB2YXIgc3BsaXQgPSBrZXlQYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIGlmIChzcGxpdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmpba2V5UGF0aF07IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCk7IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheWlmeShhcnJheUxpa2UpIHtcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoYXJyYXlMaWtlKTtcbiAgICB9XG4gICAgdmFyIF9pZF9jb3VudGVyID0gMDtcbiAgICBmdW5jdGlvbiBnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCkge1xuICAgICAgICByZXR1cm4ga2V5UGF0aCA9PSBudWxsID9cbiAgICAgICAgICAgIFwiOmlkXCIgOlxuICAgICAgICAgICAgdHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgICAgICBrZXlQYXRoIDpcbiAgICAgICAgICAgICAgICBcIltcIi5jb25jYXQoa2V5UGF0aC5qb2luKCcrJyksIFwiXVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlREJDb3JlKGRiLCBJZGJLZXlSYW5nZSwgdG1wVHJhbnMpIHtcbiAgICAgICAgZnVuY3Rpb24gZXh0cmFjdFNjaGVtYShkYiwgdHJhbnMpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZXMgPSBhcnJheWlmeShkYi5vYmplY3RTdG9yZU5hbWVzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NoZW1hOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGRiLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlczogdGFibGVzLm1hcChmdW5jdGlvbiAodGFibGUpIHsgcmV0dXJuIHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlKTsgfSkubWFwKGZ1bmN0aW9uIChzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5rZXlQYXRoLCBhdXRvSW5jcmVtZW50ID0gc3RvcmUuYXV0b0luY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb3VuZCA9IGlzQXJyYXkoa2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Ym91bmQgPSBrZXlQYXRoID09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhCeUtleVBhdGggPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RvcmUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5S2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Ym91bmQ6IG91dGJvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb3VuZDogY29tcG91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IGtleVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IGF1dG9JbmNyZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdEtleTogZ2V0S2V5RXh0cmFjdG9yKGtleVBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVzOiBhcnJheWlmeShzdG9yZS5pbmRleE5hbWVzKS5tYXAoZnVuY3Rpb24gKGluZGV4TmFtZSkgeyByZXR1cm4gc3RvcmUuaW5kZXgoaW5kZXhOYW1lKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbmRleC5uYW1lLCB1bmlxdWUgPSBpbmRleC51bmlxdWUsIG11bHRpRW50cnkgPSBpbmRleC5tdWx0aUVudHJ5LCBrZXlQYXRoID0gaW5kZXgua2V5UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvdW5kID0gaXNBcnJheShrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb3VuZDogY29tcG91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBrZXlQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiB1bmlxdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aUVudHJ5OiBtdWx0aUVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdEtleTogZ2V0S2V5RXh0cmFjdG9yKGtleVBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4QnlLZXlQYXRoW2dldEtleVBhdGhBbGlhcyhrZXlQYXRoKV0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0SW5kZXhCeUtleVBhdGg6IGZ1bmN0aW9uIChrZXlQYXRoKSB7IHJldHVybiBpbmRleEJ5S2V5UGF0aFtnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCldOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhCeUtleVBhdGhbXCI6aWRcIl0gPSByZXN1bHQucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEJ5S2V5UGF0aFtnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCldID0gcmVzdWx0LnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGFzR2V0QWxsOiB0YWJsZXMubGVuZ3RoID4gMCAmJiAoJ2dldEFsbCcgaW4gdHJhbnMub2JqZWN0U3RvcmUodGFibGVzWzBdKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgISh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhLyhDaHJvbWVcXC98RWRnZVxcLykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLmNvbmNhdChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9TYWZhcmlcXC8oXFxkKikvKSlbMV0gPCA2MDQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VJREJLZXlSYW5nZShyYW5nZSkge1xuICAgICAgICAgICAgaWYgKHJhbmdlLnR5cGUgPT09IDMgKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgaWYgKHJhbmdlLnR5cGUgPT09IDQgKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG5ldmVyIHR5cGUgdG8gSURCS2V5UmFuZ2VcIik7XG4gICAgICAgICAgICB2YXIgbG93ZXIgPSByYW5nZS5sb3dlciwgdXBwZXIgPSByYW5nZS51cHBlciwgbG93ZXJPcGVuID0gcmFuZ2UubG93ZXJPcGVuLCB1cHBlck9wZW4gPSByYW5nZS51cHBlck9wZW47XG4gICAgICAgICAgICB2YXIgaWRiUmFuZ2UgPSBsb3dlciA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICB1cHBlciA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgbnVsbCA6XG4gICAgICAgICAgICAgICAgICAgIElkYktleVJhbmdlLnVwcGVyQm91bmQodXBwZXIsICEhdXBwZXJPcGVuKSA6XG4gICAgICAgICAgICAgICAgdXBwZXIgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIElkYktleVJhbmdlLmxvd2VyQm91bmQobG93ZXIsICEhbG93ZXJPcGVuKSA6XG4gICAgICAgICAgICAgICAgICAgIElkYktleVJhbmdlLmJvdW5kKGxvd2VyLCB1cHBlciwgISFsb3dlck9wZW4sICEhdXBwZXJPcGVuKTtcbiAgICAgICAgICAgIHJldHVybiBpZGJSYW5nZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEYkNvcmVUYWJsZSh0YWJsZVNjaGVtYSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlTmFtZSA9IHRhYmxlU2NoZW1hLm5hbWU7XG4gICAgICAgICAgICBmdW5jdGlvbiBtdXRhdGUoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywgdHlwZSA9IF9hLnR5cGUsIGtleXMgPSBfYS5rZXlzLCB2YWx1ZXMgPSBfYS52YWx1ZXMsIHJhbmdlID0gX2EucmFuZ2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXRib3VuZCA9IHN0b3JlLmtleVBhdGggPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzQWRkT3JQdXQgPSB0eXBlID09PSBcInB1dFwiIHx8IHR5cGUgPT09IFwiYWRkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNBZGRPclB1dCAmJiB0eXBlICE9PSAnZGVsZXRlJyAmJiB0eXBlICE9PSAnZGVsZXRlUmFuZ2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvcGVyYXRpb24gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IChrZXlzIHx8IHZhbHVlcyB8fCB7IGxlbmd0aDogMSB9KS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzICYmIHZhbHVlcyAmJiBrZXlzLmxlbmd0aCAhPT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4ga2V5cyBhcnJheSBtdXN0IGhhdmUgc2FtZSBsZW5ndGggYXMgZ2l2ZW4gdmFsdWVzIGFycmF5LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyBudW1GYWlsdXJlczogMCwgZmFpbHVyZXM6IHt9LCByZXN1bHRzOiBbXSwgbGFzdFJlc3VsdDogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUZhaWx1cmVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytudW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkZWxldGVSYW5nZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSA0IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IG51bUZhaWx1cmVzOiBudW1GYWlsdXJlcywgZmFpbHVyZXM6IGZhaWx1cmVzLCByZXN1bHRzOiBbXSwgbGFzdFJlc3VsdDogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnR5cGUgPT09IDMgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXMucHVzaChyZXEgPSBzdG9yZS5jbGVhcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gc3RvcmUuZGVsZXRlKG1ha2VJREJLZXlSYW5nZShyYW5nZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IGlzQWRkT3JQdXQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGJvdW5kID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlcywga2V5c10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVzLCBudWxsXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2tleXMsIG51bGxdLCBhcmdzMSA9IF9hWzBdLCBhcmdzMiA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWRkT3JQdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXMucHVzaChyZXEgPSAoYXJnczIgJiYgYXJnczJbaV0gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVt0eXBlXShhcmdzMVtpXSwgYXJnczJbaV0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW3R5cGVdKGFyZ3MxW2ldKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGVycm9ySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXMucHVzaChyZXEgPSBzdG9yZVt0eXBlXShhcmdzMVtpXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGVycm9ySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0UmVzdWx0ID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXMuZm9yRWFjaChmdW5jdGlvbiAocmVxLCBpKSB7IHJldHVybiByZXEuZXJyb3IgIT0gbnVsbCAmJiAoZmFpbHVyZXNbaV0gPSByZXEuZXJyb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bUZhaWx1cmVzOiBudW1GYWlsdXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlczogZmFpbHVyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogdHlwZSA9PT0gXCJkZWxldGVcIiA/IGtleXMgOiByZXFzLm1hcChmdW5jdGlvbiAocmVxKSB7IHJldHVybiByZXEucmVzdWx0OyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmVzdWx0OiBsYXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGRvbmU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvcGVuQ3Vyc29yKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gX2EudHJhbnMsIHZhbHVlcyA9IF9hLnZhbHVlcywgcXVlcnkgPSBfYS5xdWVyeSwgcmV2ZXJzZSA9IF9hLnJldmVyc2UsIHVuaXF1ZSA9IF9hLnVuaXF1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcXVlcnkuaW5kZXgsIHJhbmdlID0gcXVlcnkucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBpbmRleC5pc1ByaW1hcnlLZXkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuaW5kZXgoaW5kZXgubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSByZXZlcnNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2dW5pcXVlXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldlwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZXh0dW5pcXVlXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmV4dFwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gdmFsdWVzIHx8ICEoJ29wZW5LZXlDdXJzb3InIGluIHNvdXJjZSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLm9wZW5DdXJzb3IobWFrZUlEQktleVJhbmdlKHJhbmdlKSwgZGlyZWN0aW9uKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbktleUN1cnNvcihtYWtlSURCS2V5UmFuZ2UocmFuZ2UpLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5fX19pZCA9ICsrX2lkX2NvdW50ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jdXJzb3JDb250aW51ZSA9IGN1cnNvci5jb250aW51ZS5iaW5kKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2N1cnNvckNvbnRpbnVlUHJpbWFyeUtleSA9IGN1cnNvci5jb250aW51ZVByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2N1cnNvckNvbnRpbnVlUHJpbWFyeUtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5ID0gX2N1cnNvckNvbnRpbnVlUHJpbWFyeUtleS5iaW5kKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2N1cnNvckFkdmFuY2UgPSBjdXJzb3IuYWR2YW5jZS5iaW5kKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9UaHJvd0N1cnNvcklzTm90U3RhcnRlZCA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ3Vyc29yIG5vdCBzdGFydGVkXCIpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvVGhyb3dDdXJzb3JJc1N0b3BwZWQgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcihcIkN1cnNvciBub3Qgc3RvcHBlZFwiKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci50cmFucyA9IHRyYW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0b3AgPSBjdXJzb3IuY29udGludWUgPSBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5ID0gY3Vyc29yLmFkdmFuY2UgPSBkb1Rocm93Q3Vyc29ySXNOb3RTdGFydGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmZhaWwgPSB3cmFwKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnb3RPbmUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdvdE9uZS0tID8gX3RoaXMuY29udGludWUoKSA6IF90aGlzLnN0b3AoKTsgfSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpczsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0YXJ0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZUl0ZXJhdGlvbiwgcmVqZWN0SXRlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVJdGVyYXRpb24gPSB3cmFwKHJlc29sdmVJdGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3RJdGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZmFpbCA9IHJlamVjdEl0ZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0b3AgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wID0gY3Vyc29yLmNvbnRpbnVlID0gY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleSA9IGN1cnNvci5hZHZhbmNlID0gZG9UaHJvd0N1cnNvcklzU3RvcHBlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVJdGVyYXRpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBndWFyZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEucmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmZhaWwoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdGFydCA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ3Vyc29yIGJlaGluZCBsYXN0IGVudHJ5XCIpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBndWFyZGVkQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSA9IF9jdXJzb3JDb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5ID0gX2N1cnNvckNvbnRpbnVlUHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuYWR2YW5jZSA9IF9jdXJzb3JBZHZhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVyYXRpb25Qcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHF1ZXJ5KGhhc0dldEFsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSByZXF1ZXN0LnRyYW5zLCB2YWx1ZXMgPSByZXF1ZXN0LnZhbHVlcywgbGltaXQgPSByZXF1ZXN0LmxpbWl0LCBxdWVyeSA9IHJlcXVlc3QucXVlcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9uSW5maW5pdExpbWl0ID0gbGltaXQgPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogbGltaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBxdWVyeS5pbmRleCwgcmFuZ2UgPSBxdWVyeS5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gaW5kZXguaXNQcmltYXJ5S2V5ID8gc3RvcmUgOiBzdG9yZS5pbmRleChpbmRleC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZGJLZXlSYW5nZSA9IG1ha2VJREJLZXlSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGltaXQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyByZXN1bHQ6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0dldEFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSB2YWx1ZXMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0QWxsKGlkYktleVJhbmdlLCBub25JbmZpbml0TGltaXQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLmdldEFsbEtleXMoaWRiS2V5UmFuZ2UsIG5vbkluZmluaXRMaW1pdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogZXZlbnQudGFyZ2V0LnJlc3VsdCB9KTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50XzEgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXFfMSA9IHZhbHVlcyB8fCAhKCdvcGVuS2V5Q3Vyc29yJyBpbiBzb3VyY2UpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLm9wZW5DdXJzb3IoaWRiS2V5UmFuZ2UpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLm9wZW5LZXlDdXJzb3IoaWRiS2V5UmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcV8xLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxXzEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnNvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiByZXN1bHRfMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XzEucHVzaCh2YWx1ZXMgPyBjdXJzb3IudmFsdWUgOiBjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgrK2NvdW50XzEgPT09IGxpbWl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyByZXN1bHQ6IHJlc3VsdF8xIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcV8xLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGFibGVOYW1lLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogdGFibGVTY2hlbWEsXG4gICAgICAgICAgICAgICAgbXV0YXRlOiBtdXRhdGUsXG4gICAgICAgICAgICAgICAgZ2V0TWFueTogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCBrZXlzID0gX2Eua2V5cztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3NIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdFtyZXEuX3Bvc10gPSByZXEucmVzdWx0KSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCsrY2FsbGJhY2tDb3VudCA9PT0ga2V5Q291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcSA9IHN0b3JlLmdldChrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLl9wb3MgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gc3VjY2Vzc0hhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2tleUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlDb3VudCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gX2EudHJhbnMsIGtleSA9IF9hLmtleTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeShoYXNHZXRBbGwpLFxuICAgICAgICAgICAgICAgIG9wZW5DdXJzb3I6IG9wZW5DdXJzb3IsXG4gICAgICAgICAgICAgICAgY291bnQ6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBfYS5xdWVyeSwgdHJhbnMgPSBfYS50cmFucztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcXVlcnkuaW5kZXgsIHJhbmdlID0gcXVlcnkucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGluZGV4LmlzUHJpbWFyeUtleSA/IHN0b3JlIDogc3RvcmUuaW5kZXgoaW5kZXgubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRiS2V5UmFuZ2UgPSBtYWtlSURCS2V5UmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IGlkYktleVJhbmdlID8gc291cmNlLmNvdW50KGlkYktleVJhbmdlKSA6IHNvdXJjZS5jb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7IHJldHVybiByZXNvbHZlKGV2LnRhcmdldC5yZXN1bHQpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZXh0cmFjdFNjaGVtYShkYiwgdG1wVHJhbnMpLCBzY2hlbWEgPSBfYS5zY2hlbWEsIGhhc0dldEFsbCA9IF9hLmhhc0dldEFsbDtcbiAgICAgICAgdmFyIHRhYmxlcyA9IHNjaGVtYS50YWJsZXMubWFwKGZ1bmN0aW9uICh0YWJsZVNjaGVtYSkgeyByZXR1cm4gY3JlYXRlRGJDb3JlVGFibGUodGFibGVTY2hlbWEpOyB9KTtcbiAgICAgICAgdmFyIHRhYmxlTWFwID0ge307XG4gICAgICAgIHRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkgeyByZXR1cm4gdGFibGVNYXBbdGFibGUubmFtZV0gPSB0YWJsZTsgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uOiBkYi50cmFuc2FjdGlvbi5iaW5kKGRiKSxcbiAgICAgICAgICAgIHRhYmxlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YWJsZU1hcFtuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFibGUgJ1wiLmNvbmNhdChuYW1lLCBcIicgbm90IGZvdW5kXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVNYXBbbmFtZV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTUlOX0tFWTogLUluZmluaXR5LFxuICAgICAgICAgICAgTUFYX0tFWTogZ2V0TWF4S2V5KElkYktleVJhbmdlKSxcbiAgICAgICAgICAgIHNjaGVtYTogc2NoZW1hXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZVN0YWNrKHN0YWNrSW1wbCwgbWlkZGxld2FyZXMpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmVzLnJlZHVjZShmdW5jdGlvbiAoZG93biwgX2EpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGUgPSBfYS5jcmVhdGU7XG4gICAgICAgICAgICByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duKSwgY3JlYXRlKGRvd24pKSk7XG4gICAgICAgIH0sIHN0YWNrSW1wbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1pZGRsZXdhcmVTdGFja3MobWlkZGxld2FyZXMsIGlkYmRiLCBfYSwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7IF9hLmluZGV4ZWREQjtcbiAgICAgICAgdmFyIGRiY29yZSA9IGNyZWF0ZU1pZGRsZXdhcmVTdGFjayhjcmVhdGVEQkNvcmUoaWRiZGIsIElEQktleVJhbmdlLCB0bXBUcmFucyksIG1pZGRsZXdhcmVzLmRiY29yZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYmNvcmU6IGRiY29yZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIHRtcFRyYW5zKSB7XG4gICAgICAgIHZhciBpZGJkYiA9IHRtcFRyYW5zLmRiO1xuICAgICAgICB2YXIgc3RhY2tzID0gY3JlYXRlTWlkZGxld2FyZVN0YWNrcyhkYi5fbWlkZGxld2FyZXMsIGlkYmRiLCBkYi5fZGVwcywgdG1wVHJhbnMpO1xuICAgICAgICBkYi5jb3JlID0gc3RhY2tzLmRiY29yZTtcbiAgICAgICAgZGIudGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVOYW1lID0gdGFibGUubmFtZTtcbiAgICAgICAgICAgIGlmIChkYi5jb3JlLnNjaGVtYS50YWJsZXMuc29tZShmdW5jdGlvbiAodGJsKSB7IHJldHVybiB0YmwubmFtZSA9PT0gdGFibGVOYW1lOyB9KSkge1xuICAgICAgICAgICAgICAgIHRhYmxlLmNvcmUgPSBkYi5jb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRiW3RhYmxlTmFtZV0gaW5zdGFuY2VvZiBkYi5UYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBkYlt0YWJsZU5hbWVdLmNvcmUgPSB0YWJsZS5jb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0QXBpT25QbGFjZShkYiwgb2JqcywgdGFibGVOYW1lcywgZGJzY2hlbWEpIHtcbiAgICAgICAgdGFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWEgPSBkYnNjaGVtYVt0YWJsZU5hbWVdO1xuICAgICAgICAgICAgb2Jqcy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcERlc2MgPSBnZXRQcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCB0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICghcHJvcERlc2MgfHwgKFwidmFsdWVcIiBpbiBwcm9wRGVzYyAmJiBwcm9wRGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqID09PSBkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGUgfHwgb2JqIGluc3RhbmNlb2YgZGIuVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb3Aob2JqLCB0YWJsZU5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudGFibGUodGFibGVOYW1lKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCB0YWJsZU5hbWUsIHsgdmFsdWU6IHZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3RhYmxlTmFtZV0gPSBuZXcgZGIuVGFibGUodGFibGVOYW1lLCBzY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVUYWJsZXNBcGkoZGIsIG9ianMpIHtcbiAgICAgICAgb2Jqcy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2tleV0gaW5zdGFuY2VvZiBkYi5UYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbG93ZXJWZXJzaW9uRmlyc3QoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5fY2ZnLnZlcnNpb24gLSBiLl9jZmcudmVyc2lvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuVXBncmFkZXJzKGRiLCBvbGRWZXJzaW9uLCBpZGJVcGdyYWRlVHJhbnMsIHJlamVjdCkge1xuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0gZGIuX2RiU2NoZW1hO1xuICAgICAgICBpZiAoaWRiVXBncmFkZVRyYW5zLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJyRtZXRhJykgJiYgIWdsb2JhbFNjaGVtYS4kbWV0YSkge1xuICAgICAgICAgICAgZ2xvYmFsU2NoZW1hLiRtZXRhID0gY3JlYXRlVGFibGVTY2hlbWEoXCIkbWV0YVwiLCBwYXJzZUluZGV4U3ludGF4KFwiXCIpWzBdLCBbXSk7XG4gICAgICAgICAgICBkYi5fc3RvcmVOYW1lcy5wdXNoKCckbWV0YScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFucyA9IGRiLl9jcmVhdGVUcmFuc2FjdGlvbigncmVhZHdyaXRlJywgZGIuX3N0b3JlTmFtZXMsIGdsb2JhbFNjaGVtYSk7XG4gICAgICAgIHRyYW5zLmNyZWF0ZShpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB0cmFucy5fY29tcGxldGlvbi5jYXRjaChyZWplY3QpO1xuICAgICAgICB2YXIgcmVqZWN0VHJhbnNhY3Rpb24gPSB0cmFucy5fcmVqZWN0LmJpbmQodHJhbnMpO1xuICAgICAgICB2YXIgdHJhbnNsZXNzID0gUFNELnRyYW5zbGVzcyB8fCBQU0Q7XG4gICAgICAgIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFBTRC50cmFucyA9IHRyYW5zO1xuICAgICAgICAgICAgUFNELnRyYW5zbGVzcyA9IHRyYW5zbGVzcztcbiAgICAgICAgICAgIGlmIChvbGRWZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAga2V5cyhnbG9iYWxTY2hlbWEpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJVcGdyYWRlVHJhbnMsIHRhYmxlTmFtZSwgZ2xvYmFsU2NoZW1hW3RhYmxlTmFtZV0ucHJpbUtleSwgZ2xvYmFsU2NoZW1hW3RhYmxlTmFtZV0uaW5kZXhlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgIERleGllUHJvbWlzZS5mb2xsb3coZnVuY3Rpb24gKCkgeyByZXR1cm4gZGIub24ucG9wdWxhdGUuZmlyZSh0cmFucyk7IH0pLmNhdGNoKHJlamVjdFRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RXhpc3RpbmdWZXJzaW9uKGRiLCB0cmFucywgb2xkVmVyc2lvbilcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG9sZFZlcnNpb24pIHsgcmV0dXJuIHVwZGF0ZVRhYmxlc0FuZEluZGV4ZXMoZGIsIG9sZFZlcnNpb24sIHRyYW5zLCBpZGJVcGdyYWRlVHJhbnMpOyB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGF0Y2hDdXJyZW50VmVyc2lvbihkYiwgaWRiVXBncmFkZVRyYW5zKSB7XG4gICAgICAgIGNyZWF0ZU1pc3NpbmdUYWJsZXMoZGIuX2RiU2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICBpZiAoaWRiVXBncmFkZVRyYW5zLmRiLnZlcnNpb24gJSAxMCA9PT0gMCAmJiAhaWRiVXBncmFkZVRyYW5zLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJyRtZXRhJykpIHtcbiAgICAgICAgICAgIGlkYlVwZ3JhZGVUcmFucy5kYi5jcmVhdGVPYmplY3RTdG9yZSgnJG1ldGEnKS5hZGQoTWF0aC5jZWlsKChpZGJVcGdyYWRlVHJhbnMuZGIudmVyc2lvbiAvIDEwKSAtIDEpLCAndmVyc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSBidWlsZEdsb2JhbFNjaGVtYShkYiwgZGIuaWRiZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBkYi5fZGJTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIHZhciBkaWZmID0gZ2V0U2NoZW1hRGlmZihnbG9iYWxTY2hlbWEsIGRiLl9kYlNjaGVtYSk7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHRhYmxlQ2hhbmdlKSB7XG4gICAgICAgICAgICBpZiAodGFibGVDaGFuZ2UuY2hhbmdlLmxlbmd0aCB8fCB0YWJsZUNoYW5nZS5yZWNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBwYXRjaCBpbmRleGVzIG9mIHRhYmxlIFwiLmNvbmNhdCh0YWJsZUNoYW5nZS5uYW1lLCBcIiBiZWNhdXNlIGl0IGhhcyBjaGFuZ2VzIG9uIHRoZSB0eXBlIG9mIGluZGV4IG9yIHByaW1hcnkga2V5LlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0b3JlID0gaWRiVXBncmFkZVRyYW5zLm9iamVjdFN0b3JlKHRhYmxlQ2hhbmdlLm5hbWUpO1xuICAgICAgICAgICAgdGFibGVDaGFuZ2UuYWRkLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkRleGllIHVwZ3JhZGUgcGF0Y2g6IENyZWF0aW5nIG1pc3NpbmcgaW5kZXggXCIuY29uY2F0KHRhYmxlQ2hhbmdlLm5hbWUsIFwiLlwiKS5jb25jYXQoaWR4LnNyYykpO1xuICAgICAgICAgICAgICAgIGFkZEluZGV4KHN0b3JlLCBpZHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBkaWZmLmNoYW5nZTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB0YWJsZUNoYW5nZSA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMSh0YWJsZUNoYW5nZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlXzEgPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlXzEudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXhpc3RpbmdWZXJzaW9uKGRiLCB0cmFucywgb2xkVmVyc2lvbikge1xuICAgICAgICBpZiAodHJhbnMuc3RvcmVOYW1lcy5pbmNsdWRlcygnJG1ldGEnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zLnRhYmxlKCckbWV0YScpLmdldCgndmVyc2lvbicpLnRoZW4oZnVuY3Rpb24gKG1ldGFWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGFWZXJzaW9uICE9IG51bGwgPyBtZXRhVmVyc2lvbiA6IG9sZFZlcnNpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShvbGRWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVUYWJsZXNBbmRJbmRleGVzKGRiLCBvbGRWZXJzaW9uLCB0cmFucywgaWRiVXBncmFkZVRyYW5zKSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgICB2YXIgdmVyc2lvbnMgPSBkYi5fdmVyc2lvbnM7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBidWlsZEdsb2JhbFNjaGVtYShkYiwgZGIuaWRiZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIHZhciB2ZXJzVG9SdW4gPSB2ZXJzaW9ucy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYuX2NmZy52ZXJzaW9uID49IG9sZFZlcnNpb247IH0pO1xuICAgICAgICBpZiAodmVyc1RvUnVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRTY2hlbWEgPSBnbG9iYWxTY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1NjaGVtYSA9IHZlcnNpb24uX2NmZy5kYnNjaGVtYTtcbiAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgb2xkU2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBuZXdTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgZ2xvYmFsU2NoZW1hID0gZGIuX2RiU2NoZW1hID0gbmV3U2NoZW1hO1xuICAgICAgICAgICAgICAgIHZhciBkaWZmID0gZ2V0U2NoZW1hRGlmZihvbGRTY2hlbWEsIG5ld1NjaGVtYSk7XG4gICAgICAgICAgICAgICAgZGlmZi5hZGQuZm9yRWFjaChmdW5jdGlvbiAodHVwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGFibGUoaWRiVXBncmFkZVRyYW5zLCB0dXBsZVswXSwgdHVwbGVbMV0ucHJpbUtleSwgdHVwbGVbMV0uaW5kZXhlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UucmVjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlVwZ3JhZGUoXCJOb3QgeWV0IHN1cHBvcnQgZm9yIGNoYW5naW5nIHByaW1hcnkga2V5XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlXzEgPSBpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmUoY2hhbmdlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmFkZC5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHsgcmV0dXJuIGFkZEluZGV4KHN0b3JlXzEsIGlkeCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZV8xLmRlbGV0ZUluZGV4KGlkeC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRJbmRleChzdG9yZV8xLCBpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuZGVsLmZvckVhY2goZnVuY3Rpb24gKGlkeE5hbWUpIHsgcmV0dXJuIHN0b3JlXzEuZGVsZXRlSW5kZXgoaWR4TmFtZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRVcGdyYWRlID0gdmVyc2lvbi5fY2ZnLmNvbnRlbnRVcGdyYWRlO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50VXBncmFkZSAmJiB2ZXJzaW9uLl9jZmcudmVyc2lvbiA+IG9sZFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICB0cmFucy5fbWVtb2l6ZWRUYWJsZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZ3JhZGVTY2hlbWFfMSA9IHNoYWxsb3dDbG9uZShuZXdTY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICBkaWZmLmRlbC5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBncmFkZVNjaGVtYV8xW3RhYmxlXSA9IG9sZFNjaGVtYVt0YWJsZV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVUYWJsZXNBcGkoZGIsIFtkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QXBpT25QbGFjZShkYiwgW2RiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0sIGtleXModXBncmFkZVNjaGVtYV8xKSwgdXBncmFkZVNjaGVtYV8xKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuc2NoZW1hID0gdXBncmFkZVNjaGVtYV8xO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFVwZ3JhZGVJc0FzeW5jXzEgPSBpc0FzeW5jRnVuY3Rpb24oY29udGVudFVwZ3JhZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFVwZ3JhZGVJc0FzeW5jXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlXzE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlRm9sbG93ZWQgPSBEZXhpZVByb21pc2UuZm9sbG93KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlXzEgPSBjb250ZW50VXBncmFkZSh0cmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuVmFsdWVfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VXBncmFkZUlzQXN5bmNfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVjcmVtZW50b3IgPSBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cy5iaW5kKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZV8xLnRoZW4oZGVjcmVtZW50b3IsIGRlY3JlbWVudG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHJldHVyblZhbHVlXzEgJiYgdHlwZW9mIHJldHVyblZhbHVlXzEudGhlbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UucmVzb2x2ZShyZXR1cm5WYWx1ZV8xKSA6IHByb21pc2VGb2xsb3dlZC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJldHVyblZhbHVlXzE7IH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZnVuY3Rpb24gKGlkYnRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1NjaGVtYSA9IHZlcnNpb24uX2NmZy5kYnNjaGVtYTtcbiAgICAgICAgICAgICAgICBkZWxldGVSZW1vdmVkVGFibGVzKG5ld1NjaGVtYSwgaWRidHJhbnMpO1xuICAgICAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShkYiwgW2RiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0pO1xuICAgICAgICAgICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdLCBkYi5fc3RvcmVOYW1lcywgZGIuX2RiU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB0cmFucy5zY2hlbWEgPSBkYi5fZGJTY2hlbWE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZnVuY3Rpb24gKGlkYnRyYW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRiLmlkYmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJyRtZXRhJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguY2VpbChkYi5pZGJkYi52ZXJzaW9uIC8gMTApID09PSB2ZXJzaW9uLl9jZmcudmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIuaWRiZGIuZGVsZXRlT2JqZWN0U3RvcmUoJyRtZXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGIuX2RiU2NoZW1hLiRtZXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIuX3N0b3JlTmFtZXMgPSBkYi5fc3RvcmVOYW1lcy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG5hbWUgIT09ICckbWV0YSc7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMub2JqZWN0U3RvcmUoJyRtZXRhJykucHV0KHZlcnNpb24uX2NmZy52ZXJzaW9uLCAndmVyc2lvbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBydW5RdWV1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWV1ZS5sZW5ndGggPyBEZXhpZVByb21pc2UucmVzb2x2ZShxdWV1ZS5zaGlmdCgpKHRyYW5zLmlkYnRyYW5zKSkudGhlbihydW5RdWV1ZSkgOlxuICAgICAgICAgICAgICAgIERleGllUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1blF1ZXVlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVNaXNzaW5nVGFibGVzKGdsb2JhbFNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNjaGVtYURpZmYob2xkU2NoZW1hLCBuZXdTY2hlbWEpIHtcbiAgICAgICAgdmFyIGRpZmYgPSB7XG4gICAgICAgICAgICBkZWw6IFtdLFxuICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgIGNoYW5nZTogW11cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRhYmxlO1xuICAgICAgICBmb3IgKHRhYmxlIGluIG9sZFNjaGVtYSkge1xuICAgICAgICAgICAgaWYgKCFuZXdTY2hlbWFbdGFibGVdKVxuICAgICAgICAgICAgICAgIGRpZmYuZGVsLnB1c2godGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodGFibGUgaW4gbmV3U2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgb2xkRGVmID0gb2xkU2NoZW1hW3RhYmxlXSwgbmV3RGVmID0gbmV3U2NoZW1hW3RhYmxlXTtcbiAgICAgICAgICAgIGlmICghb2xkRGVmKSB7XG4gICAgICAgICAgICAgICAgZGlmZi5hZGQucHVzaChbdGFibGUsIG5ld0RlZl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZjogbmV3RGVmLFxuICAgICAgICAgICAgICAgICAgICByZWNyZWF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlbDogW10sXG4gICAgICAgICAgICAgICAgICAgIGFkZDogW10sXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZTogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgoXG4gICAgICAgICAgICAgICAgJycgKyAob2xkRGVmLnByaW1LZXkua2V5UGF0aCB8fCAnJykpICE9PSAoJycgKyAobmV3RGVmLnByaW1LZXkua2V5UGF0aCB8fCAnJykpIHx8XG4gICAgICAgICAgICAgICAgICAgIChvbGREZWYucHJpbUtleS5hdXRvICE9PSBuZXdEZWYucHJpbUtleS5hdXRvKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2UucmVjcmVhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBkaWZmLmNoYW5nZS5wdXNoKGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkSW5kZXhlcyA9IG9sZERlZi5pZHhCeU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbmRleGVzID0gbmV3RGVmLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeE5hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaWR4TmFtZSBpbiBvbGRJbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld0luZGV4ZXNbaWR4TmFtZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmRlbC5wdXNoKGlkeE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaWR4TmFtZSBpbiBuZXdJbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkSWR4ID0gb2xkSW5kZXhlc1tpZHhOYW1lXSwgbmV3SWR4ID0gbmV3SW5kZXhlc1tpZHhOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2xkSWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5hZGQucHVzaChuZXdJZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkSWR4LnNyYyAhPT0gbmV3SWR4LnNyYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuY2hhbmdlLnB1c2gobmV3SWR4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlLmRlbC5sZW5ndGggPiAwIHx8IGNoYW5nZS5hZGQubGVuZ3RoID4gMCB8fCBjaGFuZ2UuY2hhbmdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYuY2hhbmdlLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlVGFibGUoaWRidHJhbnMsIHRhYmxlTmFtZSwgcHJpbUtleSwgaW5kZXhlcykge1xuICAgICAgICB2YXIgc3RvcmUgPSBpZGJ0cmFucy5kYi5jcmVhdGVPYmplY3RTdG9yZSh0YWJsZU5hbWUsIHByaW1LZXkua2V5UGF0aCA/XG4gICAgICAgICAgICB7IGtleVBhdGg6IHByaW1LZXkua2V5UGF0aCwgYXV0b0luY3JlbWVudDogcHJpbUtleS5hdXRvIH0gOlxuICAgICAgICAgICAgeyBhdXRvSW5jcmVtZW50OiBwcmltS2V5LmF1dG8gfSk7XG4gICAgICAgIGluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBhZGRJbmRleChzdG9yZSwgaWR4KTsgfSk7XG4gICAgICAgIHJldHVybiBzdG9yZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlTWlzc2luZ1RhYmxlcyhuZXdTY2hlbWEsIGlkYnRyYW5zKSB7XG4gICAgICAgIGtleXMobmV3U2NoZW1hKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgIGlmICghaWRidHJhbnMuZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyh0YWJsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEZXhpZTogQ3JlYXRpbmcgbWlzc2luZyB0YWJsZScsIHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgY3JlYXRlVGFibGUoaWRidHJhbnMsIHRhYmxlTmFtZSwgbmV3U2NoZW1hW3RhYmxlTmFtZV0ucHJpbUtleSwgbmV3U2NoZW1hW3RhYmxlTmFtZV0uaW5kZXhlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVSZW1vdmVkVGFibGVzKG5ld1NjaGVtYSwgaWRidHJhbnMpIHtcbiAgICAgICAgW10uc2xpY2UuY2FsbChpZGJ0cmFucy5kYi5vYmplY3RTdG9yZU5hbWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdTY2hlbWFbc3RvcmVOYW1lXSA9PSBudWxsICYmIGlkYnRyYW5zLmRiLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRJbmRleChzdG9yZSwgaWR4KSB7XG4gICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KGlkeC5uYW1lLCBpZHgua2V5UGF0aCwgeyB1bmlxdWU6IGlkeC51bmlxdWUsIG11bHRpRW50cnk6IGlkeC5tdWx0aSB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0ge307XG4gICAgICAgIHZhciBkYlN0b3JlTmFtZXMgPSBzbGljZShpZGJkYi5vYmplY3RTdG9yZU5hbWVzLCAwKTtcbiAgICAgICAgZGJTdG9yZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gdG1wVHJhbnMub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIHZhciBrZXlQYXRoID0gc3RvcmUua2V5UGF0aDtcbiAgICAgICAgICAgIHZhciBwcmltS2V5ID0gY3JlYXRlSW5kZXhTcGVjKG5hbWVGcm9tS2V5UGF0aChrZXlQYXRoKSwga2V5UGF0aCB8fCBcIlwiLCB0cnVlLCBmYWxzZSwgISFzdG9yZS5hdXRvSW5jcmVtZW50LCBrZXlQYXRoICYmIHR5cGVvZiBrZXlQYXRoICE9PSBcInN0cmluZ1wiLCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBpbmRleGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0b3JlLmluZGV4TmFtZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgaWRiaW5kZXggPSBzdG9yZS5pbmRleChzdG9yZS5pbmRleE5hbWVzW2pdKTtcbiAgICAgICAgICAgICAgICBrZXlQYXRoID0gaWRiaW5kZXgua2V5UGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBjcmVhdGVJbmRleFNwZWMoaWRiaW5kZXgubmFtZSwga2V5UGF0aCwgISFpZGJpbmRleC51bmlxdWUsICEhaWRiaW5kZXgubXVsdGlFbnRyeSwgZmFsc2UsIGtleVBhdGggJiYgdHlwZW9mIGtleVBhdGggIT09IFwic3RyaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2xvYmFsU2NoZW1hW3N0b3JlTmFtZV0gPSBjcmVhdGVUYWJsZVNjaGVtYShzdG9yZU5hbWUsIHByaW1LZXksIGluZGV4ZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFNjaGVtYTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEdsb2JhbFNjaGVtYShkYiwgaWRiZGIsIHRtcFRyYW5zKSB7XG4gICAgICAgIGRiLnZlcm5vID0gaWRiZGIudmVyc2lvbiAvIDEwO1xuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0gZGIuX2RiU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucyk7XG4gICAgICAgIGRiLl9zdG9yZU5hbWVzID0gc2xpY2UoaWRiZGIub2JqZWN0U3RvcmVOYW1lcywgMCk7XG4gICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5fYWxsVGFibGVzXSwga2V5cyhnbG9iYWxTY2hlbWEpLCBnbG9iYWxTY2hlbWEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlJbnN0YWxsZWRTY2hlbWEoZGIsIHRtcFRyYW5zKSB7XG4gICAgICAgIHZhciBpbnN0YWxsZWRTY2hlbWEgPSBidWlsZEdsb2JhbFNjaGVtYShkYiwgZGIuaWRiZGIsIHRtcFRyYW5zKTtcbiAgICAgICAgdmFyIGRpZmYgPSBnZXRTY2hlbWFEaWZmKGluc3RhbGxlZFNjaGVtYSwgZGIuX2RiU2NoZW1hKTtcbiAgICAgICAgcmV0dXJuICEoZGlmZi5hZGQubGVuZ3RoIHx8IGRpZmYuY2hhbmdlLnNvbWUoZnVuY3Rpb24gKGNoKSB7IHJldHVybiBjaC5hZGQubGVuZ3RoIHx8IGNoLmNoYW5nZS5sZW5ndGg7IH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIHNjaGVtYSwgaWRidHJhbnMpIHtcbiAgICAgICAgdmFyIHN0b3JlTmFtZXMgPSBpZGJ0cmFucy5kYi5vYmplY3RTdG9yZU5hbWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3JlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSBzdG9yZU5hbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gaWRidHJhbnMub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIGRiLl9oYXNHZXRBbGwgPSAnZ2V0QWxsJyBpbiBzdG9yZTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3RvcmUuaW5kZXhOYW1lcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleE5hbWUgPSBzdG9yZS5pbmRleE5hbWVzW2pdO1xuICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0gc3RvcmUuaW5kZXgoaW5kZXhOYW1lKS5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIHZhciBkZXhpZU5hbWUgPSB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgPyBrZXlQYXRoIDogXCJbXCIgKyBzbGljZShrZXlQYXRoKS5qb2luKCcrJykgKyBcIl1cIjtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hW3N0b3JlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4U3BlYyA9IHNjaGVtYVtzdG9yZU5hbWVdLmlkeEJ5TmFtZVtkZXhpZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhTcGVjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleFNwZWMubmFtZSA9IGluZGV4TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFbc3RvcmVOYW1lXS5pZHhCeU5hbWVbZGV4aWVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVtzdG9yZU5hbWVdLmlkeEJ5TmFtZVtpbmRleE5hbWVdID0gaW5kZXhTcGVjO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICAhLyhDaHJvbWVcXC98RWRnZVxcLykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgIF9nbG9iYWwuV29ya2VyR2xvYmFsU2NvcGUgJiYgX2dsb2JhbCBpbnN0YW5jZW9mIF9nbG9iYWwuV29ya2VyR2xvYmFsU2NvcGUgJiZcbiAgICAgICAgICAgIFtdLmNvbmNhdChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9TYWZhcmlcXC8oXFxkKikvKSlbMV0gPCA2MDQpIHtcbiAgICAgICAgICAgIGRiLl9oYXNHZXRBbGwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUluZGV4U3ludGF4KHByaW1LZXlBbmRJbmRleGVzKSB7XG4gICAgICAgIHJldHVybiBwcmltS2V5QW5kSW5kZXhlcy5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoaW5kZXgsIGluZGV4TnVtKSB7XG4gICAgICAgICAgICBpbmRleCA9IGluZGV4LnRyaW0oKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW5kZXgucmVwbGFjZSgvKFsmKl18XFwrXFwrKS9nLCBcIlwiKTtcbiAgICAgICAgICAgIHZhciBrZXlQYXRoID0gL15cXFsvLnRlc3QobmFtZSkgPyBuYW1lLm1hdGNoKC9eXFxbKC4qKVxcXSQvKVsxXS5zcGxpdCgnKycpIDogbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmRleFNwZWMobmFtZSwga2V5UGF0aCB8fCBudWxsLCAvXFwmLy50ZXN0KGluZGV4KSwgL1xcKi8udGVzdChpbmRleCksIC9cXCtcXCsvLnRlc3QoaW5kZXgpLCBpc0FycmF5KGtleVBhdGgpLCBpbmRleE51bSA9PT0gMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBWZXJzaW9uID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFZlcnNpb24oKSB7XG4gICAgICAgIH1cbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUuX3BhcnNlU3RvcmVzU3BlYyA9IGZ1bmN0aW9uIChzdG9yZXMsIG91dFNjaGVtYSkge1xuICAgICAgICAgICAga2V5cyhzdG9yZXMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdG9yZXNbdGFibGVOYW1lXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHBhcnNlSW5kZXhTeW50YXgoc3RvcmVzW3RhYmxlTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbUtleSA9IGluZGV4ZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcHJpbUtleS51bmlxdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJpbUtleS5tdWx0aSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIlByaW1hcnkga2V5IGNhbm5vdCBiZSBtdWx0aS12YWx1ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4LmF1dG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiT25seSBwcmltYXJ5IGtleSBjYW4gYmUgbWFya2VkIGFzIGF1dG9JbmNyZW1lbnQgKCsrKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaWR4LmtleVBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiSW5kZXggbXVzdCBoYXZlIGEgbmFtZSBhbmQgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG91dFNjaGVtYVt0YWJsZU5hbWVdID0gY3JlYXRlVGFibGVTY2hlbWEodGFibGVOYW1lLCBwcmltS2V5LCBpbmRleGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUuc3RvcmVzID0gZnVuY3Rpb24gKHN0b3Jlcykge1xuICAgICAgICAgICAgdmFyIGRiID0gdGhpcy5kYjtcbiAgICAgICAgICAgIHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UgPSB0aGlzLl9jZmcuc3RvcmVzU291cmNlID9cbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSwgc3RvcmVzKSA6XG4gICAgICAgICAgICAgICAgc3RvcmVzO1xuICAgICAgICAgICAgdmFyIHZlcnNpb25zID0gZGIuX3ZlcnNpb25zO1xuICAgICAgICAgICAgdmFyIHN0b3Jlc1NwZWMgPSB7fTtcbiAgICAgICAgICAgIHZhciBkYnNjaGVtYSA9IHt9O1xuICAgICAgICAgICAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGV4dGVuZChzdG9yZXNTcGVjLCB2ZXJzaW9uLl9jZmcuc3RvcmVzU291cmNlKTtcbiAgICAgICAgICAgICAgICBkYnNjaGVtYSA9ICh2ZXJzaW9uLl9jZmcuZGJzY2hlbWEgPSB7fSk7XG4gICAgICAgICAgICAgICAgdmVyc2lvbi5fcGFyc2VTdG9yZXNTcGVjKHN0b3Jlc1NwZWMsIGRic2NoZW1hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGIuX2RiU2NoZW1hID0gZGJzY2hlbWE7XG4gICAgICAgICAgICByZW1vdmVUYWJsZXNBcGkoZGIsIFtkYi5fYWxsVGFibGVzLCBkYiwgZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSk7XG4gICAgICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuX2FsbFRhYmxlcywgZGIsIGRiLlRyYW5zYWN0aW9uLnByb3RvdHlwZSwgdGhpcy5fY2ZnLnRhYmxlc10sIGtleXMoZGJzY2hlbWEpLCBkYnNjaGVtYSk7XG4gICAgICAgICAgICBkYi5fc3RvcmVOYW1lcyA9IGtleXMoZGJzY2hlbWEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFZlcnNpb24ucHJvdG90eXBlLnVwZ3JhZGUgPSBmdW5jdGlvbiAodXBncmFkZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9jZmcuY29udGVudFVwZ3JhZGUgPSBwcm9taXNhYmxlQ2hhaW4odGhpcy5fY2ZnLmNvbnRlbnRVcGdyYWRlIHx8IG5vcCwgdXBncmFkZUZ1bmN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVmVyc2lvbjtcbiAgICB9KCkpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlVmVyc2lvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihWZXJzaW9uLnByb3RvdHlwZSwgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgICAgICAgICB0aGlzLl9jZmcgPSB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbk51bWJlcixcbiAgICAgICAgICAgICAgICBzdG9yZXNTb3VyY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgZGJzY2hlbWE6IHt9LFxuICAgICAgICAgICAgICAgIHRhYmxlczoge30sXG4gICAgICAgICAgICAgICAgY29udGVudFVwZ3JhZGU6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERiTmFtZXNUYWJsZShpbmRleGVkREIsIElEQktleVJhbmdlKSB7XG4gICAgICAgIHZhciBkYk5hbWVzREIgPSBpbmRleGVkREJbXCJfZGJOYW1lc0RCXCJdO1xuICAgICAgICBpZiAoIWRiTmFtZXNEQikge1xuICAgICAgICAgICAgZGJOYW1lc0RCID0gaW5kZXhlZERCW1wiX2RiTmFtZXNEQlwiXSA9IG5ldyBEZXhpZSQxKERCTkFNRVNfREIsIHtcbiAgICAgICAgICAgICAgICBhZGRvbnM6IFtdLFxuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogaW5kZXhlZERCLFxuICAgICAgICAgICAgICAgIElEQktleVJhbmdlOiBJREJLZXlSYW5nZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGJOYW1lc0RCLnZlcnNpb24oMSkuc3RvcmVzKHsgZGJuYW1lczogXCJuYW1lXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRiTmFtZXNEQi50YWJsZShcImRibmFtZXNcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc0RhdGFiYXNlc05hdGl2ZShpbmRleGVkREIpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ZWREQiAmJiB0eXBlb2YgaW5kZXhlZERCLmRhdGFiYXNlcyA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRhYmFzZU5hbWVzKF9hKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgIHJldHVybiBoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKVxuICAgICAgICAgICAgPyBQcm9taXNlLnJlc29sdmUoaW5kZXhlZERCLmRhdGFiYXNlcygpKS50aGVuKGZ1bmN0aW9uIChpbmZvcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmZvc1xuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpbmZvKSB7IHJldHVybiBpbmZvLm5hbWU7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG5hbWUgIT09IERCTkFNRVNfREI7IH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLnRvQ29sbGVjdGlvbigpLnByaW1hcnlLZXlzKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9vbkRhdGFiYXNlQ3JlYXRlZChfYSwgbmFtZSkge1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gX2EuaW5kZXhlZERCLCBJREJLZXlSYW5nZSA9IF9hLklEQktleVJhbmdlO1xuICAgICAgICAhaGFzRGF0YWJhc2VzTmF0aXZlKGluZGV4ZWREQikgJiZcbiAgICAgICAgICAgIG5hbWUgIT09IERCTkFNRVNfREIgJiZcbiAgICAgICAgICAgIGdldERiTmFtZXNUYWJsZShpbmRleGVkREIsIElEQktleVJhbmdlKS5wdXQoeyBuYW1lOiBuYW1lIH0pLmNhdGNoKG5vcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9vbkRhdGFiYXNlRGVsZXRlZChfYSwgbmFtZSkge1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gX2EuaW5kZXhlZERCLCBJREJLZXlSYW5nZSA9IF9hLklEQktleVJhbmdlO1xuICAgICAgICAhaGFzRGF0YWJhc2VzTmF0aXZlKGluZGV4ZWREQikgJiZcbiAgICAgICAgICAgIG5hbWUgIT09IERCTkFNRVNfREIgJiZcbiAgICAgICAgICAgIGdldERiTmFtZXNUYWJsZShpbmRleGVkREIsIElEQktleVJhbmdlKS5kZWxldGUobmFtZSkuY2F0Y2gobm9wKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aXAoZm4pIHtcbiAgICAgICAgcmV0dXJuIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFBTRC5sZXRUaHJvdWdoID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpZGJSZWFkeSgpIHtcbiAgICAgICAgdmFyIGlzU2FmYXJpID0gIW5hdmlnYXRvci51c2VyQWdlbnREYXRhICYmXG4gICAgICAgICAgICAvU2FmYXJpXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICAhL0Nocm9tKGV8aXVtKVxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgaWYgKCFpc1NhZmFyaSB8fCAhaW5kZXhlZERCLmRhdGFiYXNlcylcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdmFyIGludGVydmFsSWQ7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIHRyeUlkYiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4ZWREQi5kYXRhYmFzZXMoKS5maW5hbGx5KHJlc29sdmUpOyB9O1xuICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHRyeUlkYiwgMTAwKTtcbiAgICAgICAgICAgIHRyeUlkYigpO1xuICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7IH0pO1xuICAgIH1cblxuICAgIHZhciBfYTtcbiAgICBmdW5jdGlvbiBpc0VtcHR5UmFuZ2Uobm9kZSkge1xuICAgICAgICByZXR1cm4gIShcImZyb21cIiBpbiBub2RlKTtcbiAgICB9XG4gICAgdmFyIFJhbmdlU2V0ID0gZnVuY3Rpb24gKGZyb21PclRyZWUsIHRvKSB7XG4gICAgICAgIGlmICh0aGlzKSB7XG4gICAgICAgICAgICBleHRlbmQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA/IHsgZDogMSwgZnJvbTogZnJvbU9yVHJlZSwgdG86IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gdG8gOiBmcm9tT3JUcmVlIH0gOiB7IGQ6IDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcnYgPSBuZXcgUmFuZ2VTZXQoKTtcbiAgICAgICAgICAgIGlmIChmcm9tT3JUcmVlICYmIChcImRcIiBpbiBmcm9tT3JUcmVlKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuZChydiwgZnJvbU9yVHJlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHByb3BzKFJhbmdlU2V0LnByb3RvdHlwZSwgKF9hID0ge1xuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAocmFuZ2VTZXQpIHtcbiAgICAgICAgICAgICAgICBtZXJnZVJhbmdlcyh0aGlzLCByYW5nZVNldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkS2V5OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgYWRkUmFuZ2UodGhpcywga2V5LCBrZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEtleXM6IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYWRkUmFuZ2UoX3RoaXMsIGtleSwga2V5KTsgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzS2V5OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBnZXRSYW5nZVNldEl0ZXJhdG9yKHRoaXMpLm5leHQoa2V5KS52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZSAmJiBjbXAobm9kZS5mcm9tLCBrZXkpIDw9IDAgJiYgY21wKG5vZGUudG8sIGtleSkgPj0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2FbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFJhbmdlU2V0SXRlcmF0b3IodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9hKSk7XG4gICAgZnVuY3Rpb24gYWRkUmFuZ2UodGFyZ2V0LCBmcm9tLCB0bykge1xuICAgICAgICB2YXIgZGlmZiA9IGNtcChmcm9tLCB0byk7XG4gICAgICAgIGlmIChpc05hTihkaWZmKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGRpZmYgPiAwKVxuICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcigpO1xuICAgICAgICBpZiAoaXNFbXB0eVJhbmdlKHRhcmdldCkpXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kKHRhcmdldCwgeyBmcm9tOiBmcm9tLCB0bzogdG8sIGQ6IDEgfSk7XG4gICAgICAgIHZhciBsZWZ0ID0gdGFyZ2V0Lmw7XG4gICAgICAgIHZhciByaWdodCA9IHRhcmdldC5yO1xuICAgICAgICBpZiAoY21wKHRvLCB0YXJnZXQuZnJvbSkgPCAwKSB7XG4gICAgICAgICAgICBsZWZ0XG4gICAgICAgICAgICAgICAgPyBhZGRSYW5nZShsZWZ0LCBmcm9tLCB0bylcbiAgICAgICAgICAgICAgICA6ICh0YXJnZXQubCA9IHsgZnJvbTogZnJvbSwgdG86IHRvLCBkOiAxLCBsOiBudWxsLCByOiBudWxsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlYmFsYW5jZSh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAoZnJvbSwgdGFyZ2V0LnRvKSA+IDApIHtcbiAgICAgICAgICAgIHJpZ2h0XG4gICAgICAgICAgICAgICAgPyBhZGRSYW5nZShyaWdodCwgZnJvbSwgdG8pXG4gICAgICAgICAgICAgICAgOiAodGFyZ2V0LnIgPSB7IGZyb206IGZyb20sIHRvOiB0bywgZDogMSwgbDogbnVsbCwgcjogbnVsbCB9KTtcbiAgICAgICAgICAgIHJldHVybiByZWJhbGFuY2UodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21wKGZyb20sIHRhcmdldC5mcm9tKSA8IDApIHtcbiAgICAgICAgICAgIHRhcmdldC5mcm9tID0gZnJvbTtcbiAgICAgICAgICAgIHRhcmdldC5sID0gbnVsbDtcbiAgICAgICAgICAgIHRhcmdldC5kID0gcmlnaHQgPyByaWdodC5kICsgMSA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNtcCh0bywgdGFyZ2V0LnRvKSA+IDApIHtcbiAgICAgICAgICAgIHRhcmdldC50byA9IHRvO1xuICAgICAgICAgICAgdGFyZ2V0LnIgPSBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0LmQgPSB0YXJnZXQubCA/IHRhcmdldC5sLmQgKyAxIDogMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmlnaHRXYXNDdXRPZmYgPSAhdGFyZ2V0LnI7XG4gICAgICAgIGlmIChsZWZ0ICYmICF0YXJnZXQubCkge1xuICAgICAgICAgICAgbWVyZ2VSYW5nZXModGFyZ2V0LCBsZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmlnaHQgJiYgcmlnaHRXYXNDdXRPZmYpIHtcbiAgICAgICAgICAgIG1lcmdlUmFuZ2VzKHRhcmdldCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1lcmdlUmFuZ2VzKHRhcmdldCwgbmV3U2V0KSB7XG4gICAgICAgIGZ1bmN0aW9uIF9hZGRSYW5nZVNldCh0YXJnZXQsIF9hKSB7XG4gICAgICAgICAgICB2YXIgZnJvbSA9IF9hLmZyb20sIHRvID0gX2EudG8sIGwgPSBfYS5sLCByID0gX2EucjtcbiAgICAgICAgICAgIGFkZFJhbmdlKHRhcmdldCwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgaWYgKGwpXG4gICAgICAgICAgICAgICAgX2FkZFJhbmdlU2V0KHRhcmdldCwgbCk7XG4gICAgICAgICAgICBpZiAocilcbiAgICAgICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCByKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRW1wdHlSYW5nZShuZXdTZXQpKVxuICAgICAgICAgICAgX2FkZFJhbmdlU2V0KHRhcmdldCwgbmV3U2V0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmFuZ2VzT3ZlcmxhcChyYW5nZVNldDEsIHJhbmdlU2V0Mikge1xuICAgICAgICB2YXIgaTEgPSBnZXRSYW5nZVNldEl0ZXJhdG9yKHJhbmdlU2V0Mik7XG4gICAgICAgIHZhciBuZXh0UmVzdWx0MSA9IGkxLm5leHQoKTtcbiAgICAgICAgaWYgKG5leHRSZXN1bHQxLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBhID0gbmV4dFJlc3VsdDEudmFsdWU7XG4gICAgICAgIHZhciBpMiA9IGdldFJhbmdlU2V0SXRlcmF0b3IocmFuZ2VTZXQxKTtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQyID0gaTIubmV4dChhLmZyb20pO1xuICAgICAgICB2YXIgYiA9IG5leHRSZXN1bHQyLnZhbHVlO1xuICAgICAgICB3aGlsZSAoIW5leHRSZXN1bHQxLmRvbmUgJiYgIW5leHRSZXN1bHQyLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChjbXAoYi5mcm9tLCBhLnRvKSA8PSAwICYmIGNtcChiLnRvLCBhLmZyb20pID49IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjbXAoYS5mcm9tLCBiLmZyb20pIDwgMFxuICAgICAgICAgICAgICAgID8gKGEgPSAobmV4dFJlc3VsdDEgPSBpMS5uZXh0KGIuZnJvbSkpLnZhbHVlKVxuICAgICAgICAgICAgICAgIDogKGIgPSAobmV4dFJlc3VsdDIgPSBpMi5uZXh0KGEuZnJvbSkpLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJhbmdlU2V0SXRlcmF0b3Iobm9kZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBpc0VtcHR5UmFuZ2Uobm9kZSkgPyBudWxsIDogeyBzOiAwLCBuOiBub2RlIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleVByb3ZpZGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnMgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlQcm92aWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUubi5sICYmIGNtcChrZXksIHN0YXRlLm4uZnJvbSkgPCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IHVwOiBzdGF0ZSwgbjogc3RhdGUubi5sLCBzOiAxIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUubi5sKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IHVwOiBzdGF0ZSwgbjogc3RhdGUubi5sLCBzOiAxIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnMgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgha2V5UHJvdmlkZWQgfHwgY21wKGtleSwgc3RhdGUubi50bykgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHN0YXRlLm4sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLm4ucikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IHVwOiBzdGF0ZSwgbjogc3RhdGUubi5yLCBzOiAwIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLnVwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYmFsYW5jZSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIGRpZmYgPSAoKChfYSA9IHRhcmdldC5yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZCkgfHwgMCkgLSAoKChfYiA9IHRhcmdldC5sKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZCkgfHwgMCk7XG4gICAgICAgIHZhciByID0gZGlmZiA+IDEgPyBcInJcIiA6IGRpZmYgPCAtMSA/IFwibFwiIDogXCJcIjtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHZhciBsID0gciA9PT0gXCJyXCIgPyBcImxcIiA6IFwiclwiO1xuICAgICAgICAgICAgdmFyIHJvb3RDbG9uZSA9IF9fYXNzaWduKHt9LCB0YXJnZXQpO1xuICAgICAgICAgICAgdmFyIG9sZFJvb3RSaWdodCA9IHRhcmdldFtyXTtcbiAgICAgICAgICAgIHRhcmdldC5mcm9tID0gb2xkUm9vdFJpZ2h0LmZyb207XG4gICAgICAgICAgICB0YXJnZXQudG8gPSBvbGRSb290UmlnaHQudG87XG4gICAgICAgICAgICB0YXJnZXRbcl0gPSBvbGRSb290UmlnaHRbcl07XG4gICAgICAgICAgICByb290Q2xvbmVbcl0gPSBvbGRSb290UmlnaHRbbF07XG4gICAgICAgICAgICB0YXJnZXRbbF0gPSByb290Q2xvbmU7XG4gICAgICAgICAgICByb290Q2xvbmUuZCA9IGNvbXB1dGVEZXB0aChyb290Q2xvbmUpO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5kID0gY29tcHV0ZURlcHRoKHRhcmdldCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXB1dGVEZXB0aChfYSkge1xuICAgICAgICB2YXIgciA9IF9hLnIsIGwgPSBfYS5sO1xuICAgICAgICByZXR1cm4gKHIgPyAobCA/IE1hdGgubWF4KHIuZCwgbC5kKSA6IHIuZCkgOiBsID8gbC5kIDogMCkgKyAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4dGVuZE9ic2VydmFiaWxpdHlTZXQodGFyZ2V0LCBuZXdTZXQpIHtcbiAgICAgICAga2V5cyhuZXdTZXQpLmZvckVhY2goZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRbcGFydF0pXG4gICAgICAgICAgICAgICAgbWVyZ2VSYW5nZXModGFyZ2V0W3BhcnRdLCBuZXdTZXRbcGFydF0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRhcmdldFtwYXJ0XSA9IGNsb25lU2ltcGxlT2JqZWN0VHJlZShuZXdTZXRbcGFydF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvYnNTZXRzT3ZlcmxhcChvczEsIG9zMikge1xuICAgICAgICByZXR1cm4gb3MxLmFsbCB8fCBvczIuYWxsIHx8IE9iamVjdC5rZXlzKG9zMSkuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvczJba2V5XSAmJiByYW5nZXNPdmVybGFwKG9zMltrZXldLCBvczFba2V5XSk7IH0pO1xuICAgIH1cblxuICAgIHZhciBjYWNoZSA9IHt9O1xuXG4gICAgdmFyIHVuc2lnbmFsZWRQYXJ0cyA9IHt9O1xuICAgIHZhciBpc1Rhc2tFbnF1ZXVlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHBhcnQsIG9wdGltaXN0aWMpIHtcbiAgICAgICAgZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh1bnNpZ25hbGVkUGFydHMsIHBhcnQpO1xuICAgICAgICBpZiAoIWlzVGFza0VucXVldWVkKSB7XG4gICAgICAgICAgICBpc1Rhc2tFbnF1ZXVlZCA9IHRydWU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc1Rhc2tFbnF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IHVuc2lnbmFsZWRQYXJ0cztcbiAgICAgICAgICAgICAgICB1bnNpZ25hbGVkUGFydHMgPSB7fTtcbiAgICAgICAgICAgICAgICBzaWduYWxTdWJzY3JpYmVyc05vdyhwYXJ0cywgZmFsc2UpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2lnbmFsU3Vic2NyaWJlcnNOb3codXBkYXRlZFBhcnRzLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcykge1xuICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMgPT09IHZvaWQgMCkgeyBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBxdWVyaWVzVG9TaWduYWwgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmICh1cGRhdGVkUGFydHMuYWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LnZhbHVlcyhjYWNoZSk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRibENhY2hlID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGNvbGxlY3RUYWJsZVN1YnNjcmliZXJzKHRibENhY2hlLCB1cGRhdGVkUGFydHMsIHF1ZXJpZXNUb1NpZ25hbCwgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHVwZGF0ZWRQYXJ0cykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IC9eaWRiXFw6XFwvXFwvKC4qKVxcLyguKilcXC8vLmV4ZWMoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRiTmFtZSA9IHBhcnRzWzFdLCB0YWJsZU5hbWUgPSBwYXJ0c1syXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlTmFtZSldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGJsQ2FjaGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0VGFibGVTdWJzY3JpYmVycyh0YmxDYWNoZSwgdXBkYXRlZFBhcnRzLCBxdWVyaWVzVG9TaWduYWwsIGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVlcmllc1RvU2lnbmFsLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIHJlcXVlcnkoKTsgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbGxlY3RUYWJsZVN1YnNjcmliZXJzKHRibENhY2hlLCB1cGRhdGVkUGFydHMsIG91dFF1ZXJpZXNUb1NpZ25hbCwgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpIHtcbiAgICAgICAgdmFyIHVwZGF0ZWRFbnRyeUxpc3RzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QuZW50cmllcyh0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hW19pXSwgaW5kZXhOYW1lID0gX2JbMF0sIGVudHJpZXMgPSBfYlsxXTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudHJpZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2MgPCBlbnRyaWVzXzEubGVuZ3RoOyBfYysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc18xW19jXTtcbiAgICAgICAgICAgICAgICBpZiAob2JzU2V0c092ZXJsYXAodXBkYXRlZFBhcnRzLCBlbnRyeS5vYnNTZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIG91dFF1ZXJpZXNUb1NpZ25hbC5hZGQocmVxdWVyeSk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKVxuICAgICAgICAgICAgICAgIHVwZGF0ZWRFbnRyeUxpc3RzLnB1c2goW2luZGV4TmFtZSwgZmlsdGVyZWRFbnRyaWVzXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZCA9IDAsIHVwZGF0ZWRFbnRyeUxpc3RzXzEgPSB1cGRhdGVkRW50cnlMaXN0czsgX2QgPCB1cGRhdGVkRW50cnlMaXN0c18xLmxlbmd0aDsgX2QrKykge1xuICAgICAgICAgICAgICAgIHZhciBfZSA9IHVwZGF0ZWRFbnRyeUxpc3RzXzFbX2RdLCBpbmRleE5hbWUgPSBfZVswXSwgZmlsdGVyZWRFbnRyaWVzID0gX2VbMV07XG4gICAgICAgICAgICAgICAgdGJsQ2FjaGUucXVlcmllcy5xdWVyeVtpbmRleE5hbWVdID0gZmlsdGVyZWRFbnRyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGV4aWVPcGVuKGRiKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGRiLl9zdGF0ZTtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IGRiLl9kZXBzLmluZGV4ZWREQjtcbiAgICAgICAgaWYgKHN0YXRlLmlzQmVpbmdPcGVuZWQgfHwgZGIuaWRiZGIpXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0ZS5kYk9wZW5FcnJvciA/XG4gICAgICAgICAgICAgICAgcmVqZWN0aW9uKHN0YXRlLmRiT3BlbkVycm9yKSA6XG4gICAgICAgICAgICAgICAgZGI7IH0pO1xuICAgICAgICBzdGF0ZS5pc0JlaW5nT3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUuZGJPcGVuRXJyb3IgPSBudWxsO1xuICAgICAgICBzdGF0ZS5vcGVuQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIG9wZW5DYW5jZWxsZXIgPSBzdGF0ZS5vcGVuQ2FuY2VsbGVyO1xuICAgICAgICB2YXIgbmF0aXZlVmVyVG9PcGVuID0gTWF0aC5yb3VuZChkYi52ZXJubyAqIDEwKTtcbiAgICAgICAgdmFyIHNjaGVtYVBhdGNoTW9kZSA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGVkKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm9wZW5DYW5jZWxsZXIgIT09IG9wZW5DYW5jZWxsZXIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoJ2RiLm9wZW4oKSB3YXMgY2FuY2VsbGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc29sdmVEYlJlYWR5ID0gc3RhdGUuZGJSZWFkeVJlc29sdmUsXG4gICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbiA9IG51bGwsIHdhc0NyZWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRyeU9wZW5EQiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdGhyb3dJZkNhbmNlbGxlZCgpO1xuICAgICAgICAgICAgaWYgKCFpbmRleGVkREIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpO1xuICAgICAgICAgICAgdmFyIGRiTmFtZSA9IGRiLm5hbWU7XG4gICAgICAgICAgICB2YXIgcmVxID0gc3RhdGUuYXV0b1NjaGVtYSB8fCAhbmF0aXZlVmVyVG9PcGVuID9cbiAgICAgICAgICAgICAgICBpbmRleGVkREIub3BlbihkYk5hbWUpIDpcbiAgICAgICAgICAgICAgICBpbmRleGVkREIub3BlbihkYk5hbWUsIG5hdGl2ZVZlclRvT3Blbik7XG4gICAgICAgICAgICBpZiAoIXJlcSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCk7XG4gICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgcmVxLm9uYmxvY2tlZCA9IHdyYXAoZGIuX2ZpcmVPbkJsb2NrZWQpO1xuICAgICAgICAgICAgcmVxLm9udXBncmFkZW5lZWRlZCA9IHdyYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gPSByZXEudHJhbnNhY3Rpb247XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmF1dG9TY2hlbWEgJiYgIWRiLl9vcHRpb25zLmFsbG93RW1wdHlEQikge1xuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IHByZXZlbnREZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24uYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVscmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbHJlcS5vbnN1Y2Nlc3MgPSBkZWxyZXEub25lcnJvciA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBleGNlcHRpb25zLk5vU3VjaERhdGFiYXNlKFwiRGF0YWJhc2UgXCIuY29uY2F0KGRiTmFtZSwgXCIgZG9lc250IGV4aXN0XCIpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZFZlciA9IGUub2xkVmVyc2lvbiA+IE1hdGgucG93KDIsIDYyKSA/IDAgOiBlLm9sZFZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIHdhc0NyZWF0ZWQgPSBvbGRWZXIgPCAxO1xuICAgICAgICAgICAgICAgICAgICBkYi5pZGJkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2hlbWFQYXRjaE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoQ3VycmVudFZlcnNpb24oZGIsIHVwZ3JhZGVUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcnVuVXBncmFkZXJzKGRiLCBvbGRWZXIgLyAxMCwgdXBncmFkZVRyYW5zYWN0aW9uLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgaWRiZGIgPSBkYi5pZGJkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdFN0b3JlTmFtZXMgPSBzbGljZShpZGJkYi5vYmplY3RTdG9yZU5hbWVzKTtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0U3RvcmVOYW1lcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcFRyYW5zID0gaWRiZGIudHJhbnNhY3Rpb24oc2FmYXJpTXVsdGlTdG9yZUZpeChvYmplY3RTdG9yZU5hbWVzKSwgJ3JlYWRvbmx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXV0b1NjaGVtYSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIGRiLl9kYlNjaGVtYSwgdG1wVHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmVyaWZ5SW5zdGFsbGVkU2NoZW1hKGRiLCB0bXBUcmFucykgJiYgIXNjaGVtYVBhdGNoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEZXhpZSBTY2hlbWFEaWZmOiBTY2hlbWEgd2FzIGV4dGVuZGVkIHdpdGhvdXQgaW5jcmVhc2luZyB0aGUgbnVtYmVyIHBhc3NlZCB0byBkYi52ZXJzaW9uKCkuIERleGllIHdpbGwgYWRkIG1pc3NpbmcgcGFydHMgYW5kIGluY3JlbWVudCBuYXRpdmUgdmVyc2lvbiBudW1iZXIgdG8gd29ya2Fyb3VuZCB0aGlzLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRiZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmVyVG9PcGVuID0gaWRiZGIudmVyc2lvbiArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVBhdGNoTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRyeU9wZW5EQigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIHRtcFRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMucHVzaChkYik7XG4gICAgICAgICAgICAgICAgaWRiZGIub252ZXJzaW9uY2hhbmdlID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmNGaXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRiLm9uKFwidmVyc2lvbmNoYW5nZVwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZGJkYi5vbmNsb3NlID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgZGIub24oXCJjbG9zZVwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAod2FzQ3JlYXRlZClcbiAgICAgICAgICAgICAgICAgICAgX29uRGF0YWJhc2VDcmVhdGVkKGRiLl9kZXBzLCBkYk5hbWUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVW5rbm93bkVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5QUjEzOThfbWF4TG9vcCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlBSMTM5OF9tYXhMb29wLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RleGllOiBXb3JrYXJvdW5kIGZvciBDaHJvbWUgVW5rbm93bkVycm9yIG9uIG9wZW4oKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeU9wZW5EQigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJWZXJzaW9uRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdGl2ZVZlclRvT3BlbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZVZlclRvT3BlbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ5T3BlbkRCKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICB9KTsgfTtcbiAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgIG9wZW5DYW5jZWxsZXIsXG4gICAgICAgICAgICAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgPyBEZXhpZVByb21pc2UucmVzb2x2ZSgpIDogaWRiUmVhZHkoKSkudGhlbih0cnlPcGVuREIpXG4gICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3dJZkNhbmNlbGxlZCgpO1xuICAgICAgICAgICAgc3RhdGUub25SZWFkeUJlaW5nRmlyZWQgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSh2aXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gZGIub24ucmVhZHkuZmlyZShkYi52aXApOyB9KSkudGhlbihmdW5jdGlvbiBmaXJlUmVtYWluZGVycygpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUub25SZWFkeUJlaW5nRmlyZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluZGVyc18xID0gc3RhdGUub25SZWFkeUJlaW5nRmlyZWQucmVkdWNlKHByb21pc2FibGVDaGFpbiwgbm9wKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUub25SZWFkeUJlaW5nRmlyZWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHZpcChmdW5jdGlvbiAoKSB7IHJldHVybiByZW1haW5kZXJzXzEoZGIudmlwKTsgfSkpLnRoZW4oZmlyZVJlbWFpbmRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5vcGVuQ2FuY2VsbGVyID09PSBvcGVuQ2FuY2VsbGVyKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUub25SZWFkeUJlaW5nRmlyZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN0YXRlLmlzQmVpbmdPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3RhdGUuZGJPcGVuRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbiAmJiB1cGdyYWRlVHJhbnNhY3Rpb24uYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgICAgICBpZiAob3BlbkNhbmNlbGxlciA9PT0gc3RhdGUub3BlbkNhbmNlbGxlcikge1xuICAgICAgICAgICAgICAgIGRiLl9jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlcnIpO1xuICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0YXRlLm9wZW5Db21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXNvbHZlRGJSZWFkeSgpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh3YXNDcmVhdGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZXJ5dGhpbmdfMSA9IHt9O1xuICAgICAgICAgICAgICAgIGRiLnRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5zY2hlbWEuaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHgubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVyeXRoaW5nXzFbXCJpZGI6Ly9cIi5jb25jYXQoZGIubmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZS5uYW1lLCBcIi9cIikuY29uY2F0KGlkeC5uYW1lKV0gPSBuZXcgUmFuZ2VTZXQoLUluZmluaXR5LCBbW1tdXV0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZXZlcnl0aGluZ18xW1wiaWRiOi8vXCIuY29uY2F0KGRiLm5hbWUsIFwiL1wiKS5jb25jYXQodGFibGUubmFtZSwgXCIvXCIpXSA9IGV2ZXJ5dGhpbmdfMVtcImlkYjovL1wiLmNvbmNhdChkYi5uYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlLm5hbWUsIFwiLzpkZWxzXCIpXSA9IG5ldyBSYW5nZVNldCgtSW5maW5pdHksIFtbW11dXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzKERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FKS5maXJlKGV2ZXJ5dGhpbmdfMSk7XG4gICAgICAgICAgICAgICAgc2lnbmFsU3Vic2NyaWJlcnNOb3coZXZlcnl0aGluZ18xLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXdhaXRJdGVyYXRvcihpdGVyYXRvcikge1xuICAgICAgICB2YXIgY2FsbE5leHQgPSBmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiBpdGVyYXRvci5uZXh0KHJlc3VsdCk7IH0sIGRvVGhyb3cgPSBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGl0ZXJhdG9yLnRocm93KGVycm9yKTsgfSwgb25TdWNjZXNzID0gc3RlcChjYWxsTmV4dCksIG9uRXJyb3IgPSBzdGVwKGRvVGhyb3cpO1xuICAgICAgICBmdW5jdGlvbiBzdGVwKGdldE5leHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBnZXROZXh0KHZhbCksIHZhbHVlID0gbmV4dC52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dC5kb25lID8gdmFsdWUgOlxuICAgICAgICAgICAgICAgICAgICAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZS50aGVuICE9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXkodmFsdWUpID8gUHJvbWlzZS5hbGwodmFsdWUpLnRoZW4ob25TdWNjZXNzLCBvbkVycm9yKSA6IG9uU3VjY2Vzcyh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ZXAoY2FsbE5leHQpKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0cmFjdFRyYW5zYWN0aW9uQXJncyhtb2RlLCBfdGFibGVBcmdzXywgc2NvcGVGdW5jKSB7XG4gICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGkgPCAyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiVG9vIGZldyBhcmd1bWVudHNcIik7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGkgLSAxKTtcbiAgICAgICAgd2hpbGUgKC0taSlcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBzY29wZUZ1bmMgPSBhcmdzLnBvcCgpO1xuICAgICAgICB2YXIgdGFibGVzID0gZmxhdHRlbihhcmdzKTtcbiAgICAgICAgcmV0dXJuIFttb2RlLCB0YWJsZXMsIHNjb3BlRnVuY107XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGVyVHJhbnNhY3Rpb25TY29wZShkYiwgbW9kZSwgc3RvcmVOYW1lcywgcGFyZW50VHJhbnNhY3Rpb24sIHNjb3BlRnVuYykge1xuICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2xlc3MgPSBQU0QudHJhbnNsZXNzIHx8IFBTRDtcbiAgICAgICAgICAgIHZhciB0cmFucyA9IGRiLl9jcmVhdGVUcmFuc2FjdGlvbihtb2RlLCBzdG9yZU5hbWVzLCBkYi5fZGJTY2hlbWEsIHBhcmVudFRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIHRyYW5zLmV4cGxpY2l0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB6b25lUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgIHRyYW5zbGVzczogdHJhbnNsZXNzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdHJhbnMuaWRidHJhbnMgPSBwYXJlbnRUcmFuc2FjdGlvbi5pZGJ0cmFucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucy5fZXhwbGljaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBkYi5fc3RhdGUuUFIxMzk4X21heExvb3AgPSAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09IGVycm5hbWVzLkludmFsaWRTdGF0ZSAmJiBkYi5pc09wZW4oKSAmJiAtLWRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV4aWU6IE5lZWQgdG8gcmVvcGVuIGRiJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5jbG9zZSh7IGRpc2FibGVBdXRvT3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGIub3BlbigpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gZW50ZXJUcmFuc2FjdGlvblNjb3BlKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBudWxsLCBzY29wZUZ1bmMpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2NvcGVGdW5jSXNBc3luYyA9IGlzQXN5bmNGdW5jdGlvbihzY29wZUZ1bmMpO1xuICAgICAgICAgICAgaWYgKHNjb3BlRnVuY0lzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgdmFyIHByb21pc2VGb2xsb3dlZCA9IERleGllUHJvbWlzZS5mb2xsb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gc2NvcGVGdW5jLmNhbGwodHJhbnMsIHRyYW5zKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlRnVuY0lzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyZW1lbnRvciA9IGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzLmJpbmQobnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKGRlY3JlbWVudG9yLCBkZWNyZW1lbnRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJldHVyblZhbHVlLm5leHQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHJldHVyblZhbHVlLnRocm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGF3YWl0SXRlcmF0b3IocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgem9uZVByb3BzKTtcbiAgICAgICAgICAgIHJldHVybiAocmV0dXJuVmFsdWUgJiYgdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgIERleGllUHJvbWlzZS5yZXNvbHZlKHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uICh4KSB7IHJldHVybiB0cmFucy5hY3RpdmUgP1xuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICAgIDogcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlByZW1hdHVyZUNvbW1pdChcIlRyYW5zYWN0aW9uIGNvbW1pdHRlZCB0b28gZWFybHkuIFNlZSBodHRwOi8vYml0Lmx5LzJrZGNrTW5cIikpOyB9KVxuICAgICAgICAgICAgICAgIDogcHJvbWlzZUZvbGxvd2VkLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0dXJuVmFsdWU7IH0pKS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICB0cmFucy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFucy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB0cmFucy5fcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFkKGEsIHZhbHVlLCBjb3VudCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gaXNBcnJheShhKSA/IGEuc2xpY2UoKSA6IFthXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgKytpKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVWaXJ0dWFsSW5kZXhNaWRkbGV3YXJlKGRvd24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duKSwgeyB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGRvd24udGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICB2YXIgc2NoZW1hID0gdGFibGUuc2NoZW1hO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleExvb2t1cCA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBhbGxWaXJ0dWFsSW5kZXhlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFZpcnR1YWxJbmRleGVzKGtleVBhdGgsIGtleVRhaWwsIGxvd0xldmVsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGhBbGlhcyA9IGdldEtleVBhdGhBbGlhcyhrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4TGlzdCA9IChpbmRleExvb2t1cFtrZXlQYXRoQWxpYXNdID0gaW5kZXhMb29rdXBba2V5UGF0aEFsaWFzXSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlMZW5ndGggPSBrZXlQYXRoID09IG51bGwgPyAwIDogdHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnID8gMSA6IGtleVBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNWaXJ0dWFsID0ga2V5VGFpbCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsSW5kZXggPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbG93TGV2ZWxJbmRleCksIHsgbmFtZTogaXNWaXJ0dWFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlwiLmNvbmNhdChrZXlQYXRoQWxpYXMsIFwiKHZpcnR1YWwtZnJvbTpcIikuY29uY2F0KGxvd0xldmVsSW5kZXgubmFtZSwgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsb3dMZXZlbEluZGV4Lm5hbWUsIGxvd0xldmVsSW5kZXg6IGxvd0xldmVsSW5kZXgsIGlzVmlydHVhbDogaXNWaXJ0dWFsLCBrZXlUYWlsOiBrZXlUYWlsLCBrZXlMZW5ndGg6IGtleUxlbmd0aCwgZXh0cmFjdEtleTogZ2V0S2V5RXh0cmFjdG9yKGtleVBhdGgpLCB1bmlxdWU6ICFpc1ZpcnR1YWwgJiYgbG93TGV2ZWxJbmRleC51bmlxdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4TGlzdC5wdXNoKHZpcnR1YWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlydHVhbEluZGV4LmlzUHJpbWFyeUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmlydHVhbEluZGV4ZXMucHVzaCh2aXJ0dWFsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlMZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlydHVhbEtleVBhdGggPSBrZXlMZW5ndGggPT09IDIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVBhdGhbMF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVBhdGguc2xpY2UoMCwga2V5TGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRWaXJ0dWFsSW5kZXhlcyh2aXJ0dWFsS2V5UGF0aCwga2V5VGFpbCArIDEsIGxvd0xldmVsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluZGV4TGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmtleVRhaWwgLSBiLmtleVRhaWw7IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlydHVhbEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleSA9IGFkZFZpcnR1YWxJbmRleGVzKHNjaGVtYS5wcmltYXJ5S2V5LmtleVBhdGgsIDAsIHNjaGVtYS5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICBpbmRleExvb2t1cFtcIjppZFwiXSA9IFtwcmltYXJ5S2V5XTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gc2NoZW1hLmluZGV4ZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVmlydHVhbEluZGV4ZXMoaW5kZXgua2V5UGF0aCwgMCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmaW5kQmVzdEluZGV4KGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGluZGV4TG9va3VwW2dldEtleVBhdGhBbGlhcyhrZXlQYXRoKV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0WzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmFuc2xhdGVSYW5nZShyYW5nZSwga2V5VGFpbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogcmFuZ2UudHlwZSA9PT0gMSAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXI6IHBhZChyYW5nZS5sb3dlciwgcmFuZ2UubG93ZXJPcGVuID8gZG93bi5NQVhfS0VZIDogZG93bi5NSU5fS0VZLCBrZXlUYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyT3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyOiBwYWQocmFuZ2UudXBwZXIsIHJhbmdlLnVwcGVyT3BlbiA/IGRvd24uTUlOX0tFWSA6IGRvd24uTUFYX0tFWSwga2V5VGFpbCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cHBlck9wZW46IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdHJhbnNsYXRlUmVxdWVzdChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcmVxLnF1ZXJ5LmluZGV4O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXguaXNWaXJ0dWFsID8gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgubG93TGV2ZWxJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogdHJhbnNsYXRlUmFuZ2UocmVxLnF1ZXJ5LnJhbmdlLCBpbmRleC5rZXlUYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSA6IHJlcTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0YWJsZSksIHsgc2NoZW1hOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2NoZW1hKSwgeyBwcmltYXJ5S2V5OiBwcmltYXJ5S2V5LCBpbmRleGVzOiBhbGxWaXJ0dWFsSW5kZXhlcywgZ2V0SW5kZXhCeUtleVBhdGg6IGZpbmRCZXN0SW5kZXggfSksIGNvdW50OiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuY291bnQodHJhbnNsYXRlUmVxdWVzdChyZXEpKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgcXVlcnk6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5xdWVyeSh0cmFuc2xhdGVSZXF1ZXN0KHJlcSkpO1xuICAgICAgICAgICAgICAgICAgICB9LCBvcGVuQ3Vyc29yOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSByZXEucXVlcnkuaW5kZXgsIGtleVRhaWwgPSBfYS5rZXlUYWlsLCBpc1ZpcnR1YWwgPSBfYS5pc1ZpcnR1YWwsIGtleUxlbmd0aCA9IF9hLmtleUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWaXJ0dWFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5vcGVuQ3Vyc29yKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVWaXJ0dWFsQ3Vyc29yKGN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9jb250aW51ZShrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ICE9IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKHBhZChrZXksIHJlcS5yZXZlcnNlID8gZG93bi5NQVhfS0VZIDogZG93bi5NSU5fS0VZLCBrZXlUYWlsKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnVuaXF1ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKGN1cnNvci5rZXkuc2xpY2UoMCwga2V5TGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHJlcS5yZXZlcnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZG93bi5NSU5fS0VZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG93bi5NQVhfS0VZLCBrZXlUYWlsKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlydHVhbEN1cnNvciA9IE9iamVjdC5jcmVhdGUoY3Vyc29yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiB7IHZhbHVlOiBfY29udGludWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVQcmltYXJ5S2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKGtleSwgcHJpbWFyeUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkocGFkKGtleSwgZG93bi5NQVhfS0VZLCBrZXlUYWlsKSwgcHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5TGVuZ3RoID09PSAxID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5WzBdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LnNsaWNlKDAsIGtleUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxDdXJzb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUub3BlbkN1cnNvcih0cmFuc2xhdGVSZXF1ZXN0KHJlcSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGN1cnNvcikgeyByZXR1cm4gY3Vyc29yICYmIGNyZWF0ZVZpcnR1YWxDdXJzb3IoY3Vyc29yKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuICAgIHZhciB2aXJ0dWFsSW5kZXhNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgbmFtZTogXCJWaXJ0dWFsSW5kZXhNaWRkbGV3YXJlXCIsXG4gICAgICAgIGxldmVsOiAxLFxuICAgICAgICBjcmVhdGU6IGNyZWF0ZVZpcnR1YWxJbmRleE1pZGRsZXdhcmVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0RGlmZihhLCBiLCBydiwgcHJmeCkge1xuICAgICAgICBydiA9IHJ2IHx8IHt9O1xuICAgICAgICBwcmZ4ID0gcHJmeCB8fCAnJztcbiAgICAgICAga2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICBpZiAoIWhhc093bihiLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIHJ2W3ByZnggKyBwcm9wXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhcCA9IGFbcHJvcF0sIGJwID0gYltwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYnAgPT09ICdvYmplY3QnICYmIGFwICYmIGJwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcFR5cGVOYW1lID0gdG9TdHJpbmdUYWcoYXApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnBUeXBlTmFtZSA9IHRvU3RyaW5nVGFnKGJwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwVHlwZU5hbWUgIT09IGJwVHlwZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ2W3ByZnggKyBwcm9wXSA9IGJbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXBUeXBlTmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE9iamVjdERpZmYoYXAsIGJwLCBydiwgcHJmeCArIHByb3AgKyAnLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFwICE9PSBicCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcCAhPT0gYnApXG4gICAgICAgICAgICAgICAgICAgIHJ2W3ByZnggKyBwcm9wXSA9IGJbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBrZXlzKGIpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duKGEsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRFZmZlY3RpdmVLZXlzKHByaW1hcnlLZXksIHJlcSkge1xuICAgICAgICBpZiAocmVxLnR5cGUgPT09ICdkZWxldGUnKVxuICAgICAgICAgICAgcmV0dXJuIHJlcS5rZXlzO1xuICAgICAgICByZXR1cm4gcmVxLmtleXMgfHwgcmVxLnZhbHVlcy5tYXAocHJpbWFyeUtleS5leHRyYWN0S2V5KTtcbiAgICB9XG5cbiAgICB2YXIgaG9va3NNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgbmFtZTogXCJIb29rc01pZGRsZXdhcmVcIixcbiAgICAgICAgbGV2ZWw6IDIsXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGRvd25Db3JlKSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd25Db3JlKSwgeyB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBkb3duVGFibGUgPSBkb3duQ29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gZG93blRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZU1pZGRsZXdhcmUgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93blRhYmxlKSwgeyBtdXRhdGU6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkeFRyYW5zID0gUFNELnRyYW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gZHhUcmFucy50YWJsZSh0YWJsZU5hbWUpLmhvb2ssIGRlbGV0aW5nID0gX2EuZGVsZXRpbmcsIGNyZWF0aW5nID0gX2EuY3JlYXRpbmcsIHVwZGF0aW5nID0gX2EudXBkYXRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlcS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHV0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0aW5nLmZpcmUgPT09IG5vcCAmJiB1cGRhdGluZy5maXJlID09PSBub3ApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR4VHJhbnMuX3Byb21pc2UoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkZFB1dE9yRGVsZXRlKHJlcSk7IH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGluZy5maXJlID09PSBub3ApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR4VHJhbnMuX3Byb21pc2UoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkZFB1dE9yRGVsZXRlKHJlcSk7IH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZVJhbmdlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVsZXRlUmFuZ2UocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkUHV0T3JEZWxldGUocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR4VHJhbnMgPSBQU0QudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSByZXEua2V5cyB8fCBnZXRFZmZlY3RpdmVLZXlzKHByaW1hcnlLZXksIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJLZXlzIG1pc3NpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxID0gcmVxLnR5cGUgPT09ICdhZGQnIHx8IHJlcS50eXBlID09PSAncHV0JyA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXEpLCB7IGtleXM6IGtleXMgfSkgOiBfX2Fzc2lnbih7fSwgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnR5cGUgIT09ICdkZWxldGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudmFsdWVzID0gX19zcHJlYWRBcnJheShbXSwgcmVxLnZhbHVlcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5rZXlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEua2V5cyA9IF9fc3ByZWFkQXJyYXkoW10sIHJlcS5rZXlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RXhpc3RpbmdWYWx1ZXMoZG93blRhYmxlLCByZXEsIGtleXMpLnRoZW4oZnVuY3Rpb24gKGV4aXN0aW5nVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0cyA9IGtleXMubWFwKGZ1bmN0aW9uIChrZXksIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ1ZhbHVlID0gZXhpc3RpbmdWYWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3R4ID0geyBvbmVycm9yOiBudWxsLCBvbnN1Y2Nlc3M6IG51bGwgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGluZy5maXJlLmNhbGwoY3R4LCBrZXksIGV4aXN0aW5nVmFsdWUsIGR4VHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVxLnR5cGUgPT09ICdhZGQnIHx8IGV4aXN0aW5nVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZWRQcmltYXJ5S2V5ID0gY3JlYXRpbmcuZmlyZS5jYWxsKGN0eCwga2V5LCByZXEudmFsdWVzW2ldLCBkeFRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09IG51bGwgJiYgZ2VuZXJhdGVkUHJpbWFyeUtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdlbmVyYXRlZFByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5rZXlzW2ldID0ga2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByaW1hcnlLZXkub3V0Ym91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChyZXEudmFsdWVzW2ldLCBwcmltYXJ5S2V5LmtleVBhdGgsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0RGlmZiA9IGdldE9iamVjdERpZmYoZXhpc3RpbmdWYWx1ZSwgcmVxLnZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxDaGFuZ2VzXzEgPSB1cGRhdGluZy5maXJlLmNhbGwoY3R4LCBvYmplY3REaWZmLCBrZXksIGV4aXN0aW5nVmFsdWUsIGR4VHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsQ2hhbmdlc18xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ZWRWYWx1ZV8xID0gcmVxLnZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYWRkaXRpb25hbENoYW5nZXNfMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihyZXF1ZXN0ZWRWYWx1ZV8xLCBrZXlQYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZFZhbHVlXzFba2V5UGF0aF0gPSBhZGRpdGlvbmFsQ2hhbmdlc18xW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKHJlcXVlc3RlZFZhbHVlXzEsIGtleVBhdGgsIGFkZGl0aW9uYWxDaGFuZ2VzXzFba2V5UGF0aF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5tdXRhdGUocmVxKS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gX2EuZmFpbHVyZXMsIHJlc3VsdHMgPSBfYS5yZXN1bHRzLCBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCBsYXN0UmVzdWx0ID0gX2EubGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gcmVzdWx0cyA/IHJlc3VsdHNbaV0gOiBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSBjb250ZXh0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpbUtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5vbmVycm9yICYmIGN0eC5vbmVycm9yKGZhaWx1cmVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5vbnN1Y2Nlc3MgJiYgY3R4Lm9uc3VjY2VzcyhyZXEudHlwZSA9PT0gJ3B1dCcgJiYgZXhpc3RpbmdWYWx1ZXNbaV0gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnZhbHVlc1tpXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltS2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZmFpbHVyZXM6IGZhaWx1cmVzLCByZXN1bHRzOiByZXN1bHRzLCBudW1GYWlsdXJlczogbnVtRmFpbHVyZXMsIGxhc3RSZXN1bHQ6IGxhc3RSZXN1bHQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0cy5mb3JFYWNoKGZ1bmN0aW9uIChjdHgpIHsgcmV0dXJuIGN0eC5vbmVycm9yICYmIGN0eC5vbmVycm9yKGVycm9yKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlbGV0ZVJhbmdlKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWxldGVOZXh0Q2h1bmsocmVxLnRyYW5zLCByZXEucmFuZ2UsIDEwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlbGV0ZU5leHRDaHVuayh0cmFucywgcmFuZ2UsIGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5xdWVyeSh7IHRyYW5zOiB0cmFucywgdmFsdWVzOiBmYWxzZSwgcXVlcnk6IHsgaW5kZXg6IHByaW1hcnlLZXksIHJhbmdlOiByYW5nZSB9LCBsaW1pdDogbGltaXQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfYS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRQdXRPckRlbGV0ZSh7IHR5cGU6ICdkZWxldGUnLCBrZXlzOiByZXN1bHQsIHRyYW5zOiB0cmFucyB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGZhaWx1cmVzOiBbXSwgbnVtRmFpbHVyZXM6IDAsIGxhc3RSZXN1bHQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZU5leHRDaHVuayh0cmFucywgX19hc3NpZ24oX19hc3NpZ24oe30sIHJhbmdlKSwgeyBsb3dlcjogcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSwgbG93ZXJPcGVuOiB0cnVlIH0pLCBsaW1pdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZU1pZGRsZXdhcmU7XG4gICAgICAgICAgICB9IH0pKTsgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0RXhpc3RpbmdWYWx1ZXModGFibGUsIHJlcSwgZWZmZWN0aXZlS2V5cykge1xuICAgICAgICByZXR1cm4gcmVxLnR5cGUgPT09IFwiYWRkXCJcbiAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKFtdKVxuICAgICAgICAgICAgOiB0YWJsZS5nZXRNYW55KHsgdHJhbnM6IHJlcS50cmFucywga2V5czogZWZmZWN0aXZlS2V5cywgY2FjaGU6IFwiaW1tdXRhYmxlXCIgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RnJvbVRyYW5zYWN0aW9uQ2FjaGUoa2V5cywgY2FjaGUsIGNsb25lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgaWYgKGNhY2hlLmtleXMubGVuZ3RoIDwga2V5cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCBjYWNoZS5rZXlzLmxlbmd0aCAmJiBqIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChjbXAoY2FjaGUua2V5c1tpXSwga2V5c1tqXSkgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNsb25lID8gZGVlcENsb25lKGNhY2hlLnZhbHVlc1tpXSkgOiBjYWNoZS52YWx1ZXNbaV0pO1xuICAgICAgICAgICAgICAgICsrajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID09PSBrZXlzLmxlbmd0aCA/IHJlc3VsdCA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgY2FjaGVFeGlzdGluZ1ZhbHVlc01pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBsZXZlbDogLTEsXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGNvcmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gY29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHRhYmxlKSwgeyBnZXRNYW55OiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXEuY2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLmdldE1hbnkocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlZFJlc3VsdCA9IGdldEZyb21UcmFuc2FjdGlvbkNhY2hlKHJlcS5rZXlzLCByZXEudHJhbnNbXCJfY2FjaGVcIl0sIHJlcS5jYWNoZSA9PT0gXCJjbG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShjYWNoZWRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuZ2V0TWFueShyZXEpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudHJhbnNbXCJfY2FjaGVcIl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiByZXEua2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogcmVxLmNhY2hlID09PSBcImNsb25lXCIgPyBkZWVwQ2xvbmUocmVzKSA6IHJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEudHlwZSAhPT0gXCJhZGRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnRyYW5zW1wiX2NhY2hlXCJdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0NhY2hhYmxlQ29udGV4dChjdHgsIHRhYmxlKSB7XG4gICAgICAgIHJldHVybiAoY3R4LnRyYW5zLm1vZGUgPT09ICdyZWFkb25seScgJiZcbiAgICAgICAgICAgICEhY3R4LnN1YnNjciAmJlxuICAgICAgICAgICAgIWN0eC50cmFucy5leHBsaWNpdCAmJlxuICAgICAgICAgICAgY3R4LnRyYW5zLmRiLl9vcHRpb25zLmNhY2hlICE9PSAnZGlzYWJsZWQnICYmXG4gICAgICAgICAgICAhdGFibGUuc2NoZW1hLnByaW1hcnlLZXkub3V0Ym91bmQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQ2FjaGFibGVSZXF1ZXN0KHR5cGUsIHJlcSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3F1ZXJ5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxLnZhbHVlcyAmJiAhcmVxLnVuaXF1ZTtcbiAgICAgICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAnZ2V0TWFueSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAnY291bnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgJ29wZW5DdXJzb3InOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBvYnNlcnZhYmlsaXR5TWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgIGxldmVsOiAwLFxuICAgICAgICBuYW1lOiBcIk9ic2VydmFiaWxpdHlcIixcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgdmFyIGRiTmFtZSA9IGNvcmUuc2NoZW1hLm5hbWU7XG4gICAgICAgICAgICB2YXIgRlVMTF9SQU5HRSA9IG5ldyBSYW5nZVNldChjb3JlLk1JTl9LRVksIGNvcmUuTUFYX0tFWSk7XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvcmUpLCB7IHRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoc3RvcmVzLCBtb2RlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQU0Quc3Vic2NyICYmIG1vZGUgIT09ICdyZWFkb25seScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlJlYWRPbmx5KFwiUmVhZHdyaXRlIHRyYW5zYWN0aW9uIGluIGxpdmVRdWVyeSBjb250ZXh0LiBRdWVyaWVyIHNvdXJjZTogXCIuY29uY2F0KFBTRC5xdWVyaWVyKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9LCB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2hlbWEgPSB0YWJsZS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gc2NoZW1hLnByaW1hcnlLZXksIGluZGV4ZXMgPSBzY2hlbWEuaW5kZXhlcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhY3RLZXkgPSBwcmltYXJ5S2V5LmV4dHJhY3RLZXksIG91dGJvdW5kID0gcHJpbWFyeUtleS5vdXRib3VuZDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZXNXaXRoQXV0b0luY1BLID0gcHJpbWFyeUtleS5hdXRvSW5jcmVtZW50ICYmIGluZGV4ZXMuZmlsdGVyKGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gaW5kZXguY29tcG91bmQgJiYgaW5kZXgua2V5UGF0aC5pbmNsdWRlcyhwcmltYXJ5S2V5LmtleVBhdGgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlQ2xvbmUgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gcmVxLnRyYW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtdXRhdGVkUGFydHMgPSByZXEubXV0YXRlZFBhcnRzIHx8IChyZXEubXV0YXRlZFBhcnRzID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXRSYW5nZVNldCA9IGZ1bmN0aW9uIChpbmRleE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lLCBcIi9cIikuY29uY2F0KGluZGV4TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobXV0YXRlZFBhcnRzW3BhcnRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobXV0YXRlZFBhcnRzW3BhcnRdID0gbmV3IFJhbmdlU2V0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa1JhbmdlU2V0ID0gZ2V0UmFuZ2VTZXQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHNSYW5nZVNldCA9IGdldFJhbmdlU2V0KFwiOmRlbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSByZXEudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2MgPSByZXEudHlwZSA9PT0gXCJkZWxldGVSYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW3JlcS5yYW5nZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXEudHlwZSA9PT0gXCJkZWxldGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbcmVxLmtleXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlcS52YWx1ZXMubGVuZ3RoIDwgNTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtnZXRFZmZlY3RpdmVLZXlzKHByaW1hcnlLZXksIHJlcSkuZmlsdGVyKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gaWQ7IH0pLCByZXEudmFsdWVzXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW10sIGtleXMgPSBfY1swXSwgbmV3T2JqcyA9IF9jWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRDYWNoZSA9IHJlcS50cmFuc1tcIl9jYWNoZVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShrZXlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0LmFkZEtleXMoa2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRPYmpzID0gdHlwZSA9PT0gJ2RlbGV0ZScgfHwga2V5cy5sZW5ndGggPT09IG5ld09ianMubGVuZ3RoID8gZ2V0RnJvbVRyYW5zYWN0aW9uQ2FjaGUoa2V5cywgb2xkQ2FjaGUpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbGRPYmpzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXQuYWRkS2V5cyhrZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkT2JqcyB8fCBuZXdPYmpzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja0FmZmVjdGVkSW5kZXhlcyhnZXRSYW5nZVNldCwgc2NoZW1hLCBvbGRPYmpzLCBuZXdPYmpzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IChfYSA9IGtleXMubG93ZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvcmUuTUlOX0tFWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAoX2IgPSBrZXlzLnVwcGVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb3JlLk1BWF9LRVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0LmFkZChyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXQuYWRkKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXQuYWRkKEZVTExfUkFOR0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXQuYWRkKEZVTExfUkFOR0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEuaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHsgcmV0dXJuIGdldFJhbmdlU2V0KGlkeC5uYW1lKS5hZGQoRlVMTF9SQU5HRSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUubXV0YXRlKHJlcSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlzICYmIChyZXEudHlwZSA9PT0gJ2FkZCcgfHwgcmVxLnR5cGUgPT09ICdwdXQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGRLZXlzKHJlcy5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleGVzV2l0aEF1dG9JbmNQSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXNXaXRoQXV0b0luY1BLLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4VmFscyA9IHJlcS52YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBpZHguZXh0cmFjdEtleSh2KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa1BvcyA9IGlkeC5rZXlQYXRoLmZpbmRJbmRleChmdW5jdGlvbiAocHJvcCkgeyByZXR1cm4gcHJvcCA9PT0gcHJpbWFyeUtleS5rZXlQYXRoOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlcy5yZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhWYWxzW2ldW3BrUG9zXSA9IHJlcy5yZXN1bHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFJhbmdlU2V0KGlkeC5uYW1lKS5hZGRLZXlzKGlkeFZhbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLm11dGF0ZWRQYXJ0cyA9IGV4dGVuZE9ic2VydmFiaWxpdHlTZXQodHJhbnMubXV0YXRlZFBhcnRzIHx8IHt9LCBtdXRhdGVkUGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFJhbmdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kID0gX2EucXVlcnksIGluZGV4ID0gX2QuaW5kZXgsIHJhbmdlID0gX2QucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZVNldCgoX2IgPSByYW5nZS5sb3dlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29yZS5NSU5fS0VZLCAoX2MgPSByYW5nZS51cHBlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY29yZS5NQVhfS0VZKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkU3Vic2NyaWJlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChyZXEpIHsgcmV0dXJuIFtwcmltYXJ5S2V5LCBuZXcgUmFuZ2VTZXQocmVxLmtleSldOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWFueTogZnVuY3Rpb24gKHJlcSkgeyByZXR1cm4gW3ByaW1hcnlLZXksIG5ldyBSYW5nZVNldCgpLmFkZEtleXMocmVxLmtleXMpXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBnZXRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBnZXRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5DdXJzb3I6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBrZXlzKHJlYWRTdWJzY3JpYmVycykuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUNsb25lW21ldGhvZF0gPSBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjciA9IFBTRC5zdWJzY3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzTGl2ZVF1ZXJ5ID0gISFzdWJzY3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hhYmxlID0gaXNDYWNoYWJsZUNvbnRleHQoUFNELCB0YWJsZSkgJiYgaXNDYWNoYWJsZVJlcXVlc3QobWV0aG9kLCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNTZXQgPSBjYWNoYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlcS5vYnNTZXQgPSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMaXZlUXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFJhbmdlU2V0ID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lLCBcIi9cIikuY29uY2F0KGluZGV4TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9ic1NldFtwYXJ0XSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvYnNTZXRbcGFydF0gPSBuZXcgUmFuZ2VTZXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtSYW5nZVNldF8xID0gZ2V0UmFuZ2VTZXQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxzUmFuZ2VTZXRfMSA9IGdldFJhbmdlU2V0KFwiOmRlbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHJlYWRTdWJzY3JpYmVyc1ttZXRob2RdKHJlcSksIHF1ZXJpZWRJbmRleCA9IF9hWzBdLCBxdWVyaWVkUmFuZ2VzID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QgPT09ICdxdWVyeScgJiYgcXVlcmllZEluZGV4LmlzUHJpbWFyeUtleSAmJiAhcmVxLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkKHF1ZXJpZWRSYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UmFuZ2VTZXQocXVlcmllZEluZGV4Lm5hbWUgfHwgXCJcIikuYWRkKHF1ZXJpZWRSYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcXVlcmllZEluZGV4LmlzUHJpbWFyeUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJjb3VudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkKEZVTExfUkFOR0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXNQcm9taXNlXzEgPSBtZXRob2QgPT09IFwicXVlcnlcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRib3VuZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudmFsdWVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLnF1ZXJ5KF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXEpLCB7IHZhbHVlczogZmFsc2UgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZVttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicXVlcnlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGJvdW5kICYmIHJlcS52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5c1Byb21pc2VfMS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0aW5nS2V5cyA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldF8xLmFkZEtleXMocmVzdWx0aW5nS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcEtleXMgPSByZXEudmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZXMucmVzdWx0Lm1hcChleHRyYWN0S2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldF8xLmFkZEtleXMocEtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5cyhwS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWV0aG9kID09PSBcIm9wZW5DdXJzb3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvcl8xID0gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdhbnRWYWx1ZXNfMSA9IHJlcS52YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGN1cnNvcl8xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmNyZWF0ZShjdXJzb3JfMSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldF8xLmFkZEtleShjdXJzb3JfMS5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yXzEua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrZXkgPSBjdXJzb3JfMS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldF8xLmFkZEtleShwa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YW50VmFsdWVzXzEgJiYgcGtSYW5nZVNldF8xLmFkZEtleShjdXJzb3JfMS5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZVttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlQ2xvbmU7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHRyYWNrQWZmZWN0ZWRJbmRleGVzKGdldFJhbmdlU2V0LCBzY2hlbWEsIG9sZE9ianMsIG5ld09ianMpIHtcbiAgICAgICAgZnVuY3Rpb24gYWRkQWZmZWN0ZWRJbmRleChpeCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlU2V0ID0gZ2V0UmFuZ2VTZXQoaXgubmFtZSB8fCBcIlwiKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV4dHJhY3RLZXkob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsID8gaXguZXh0cmFjdEtleShvYmopIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhZGRLZXlPcktleXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBpeC5tdWx0aUVudHJ5ICYmIGlzQXJyYXkoa2V5KVxuICAgICAgICAgICAgICAgID8ga2V5LmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gcmFuZ2VTZXQuYWRkS2V5KGtleSk7IH0pXG4gICAgICAgICAgICAgICAgOiByYW5nZVNldC5hZGRLZXkoa2V5KTsgfTtcbiAgICAgICAgICAgIChvbGRPYmpzIHx8IG5ld09ianMpLmZvckVhY2goZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkS2V5ID0gb2xkT2JqcyAmJiBleHRyYWN0S2V5KG9sZE9ianNbaV0pO1xuICAgICAgICAgICAgICAgIHZhciBuZXdLZXkgPSBuZXdPYmpzICYmIGV4dHJhY3RLZXkobmV3T2Jqc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChvbGRLZXksIG5ld0tleSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZEtleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5T3JLZXlzKG9sZEtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdLZXkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEtleU9yS2V5cyhuZXdLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5pbmRleGVzLmZvckVhY2goYWRkQWZmZWN0ZWRJbmRleCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxLCByZXMpIHtcbiAgICAgICAgaWYgKHJlcy5udW1GYWlsdXJlcyA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiByZXE7XG4gICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ2RlbGV0ZVJhbmdlJykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG51bUJ1bGtPcHMgPSByZXEua2V5c1xuICAgICAgICAgICAgPyByZXEua2V5cy5sZW5ndGhcbiAgICAgICAgICAgIDogJ3ZhbHVlcycgaW4gcmVxICYmIHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICA/IHJlcS52YWx1ZXMubGVuZ3RoXG4gICAgICAgICAgICAgICAgOiAxO1xuICAgICAgICBpZiAocmVzLm51bUZhaWx1cmVzID09PSBudW1CdWxrT3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xvbmUgPSBfX2Fzc2lnbih7fSwgcmVxKTtcbiAgICAgICAgaWYgKGlzQXJyYXkoY2xvbmUua2V5cykpIHtcbiAgICAgICAgICAgIGNsb25lLmtleXMgPSBjbG9uZS5rZXlzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gIShpIGluIHJlcy5mYWlsdXJlcyk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgndmFsdWVzJyBpbiBjbG9uZSAmJiBpc0FycmF5KGNsb25lLnZhbHVlcykpIHtcbiAgICAgICAgICAgIGNsb25lLnZhbHVlcyA9IGNsb25lLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKF8sIGkpIHsgcmV0dXJuICEoaSBpbiByZXMuZmFpbHVyZXMpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBYm92ZUxvd2VyKGtleSwgcmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlLmxvd2VyID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgOiByYW5nZS5sb3dlck9wZW5cbiAgICAgICAgICAgICAgICA/IGNtcChrZXksIHJhbmdlLmxvd2VyKSA+IDBcbiAgICAgICAgICAgICAgICA6IGNtcChrZXksIHJhbmdlLmxvd2VyKSA+PSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0JlbG93VXBwZXIoa2V5LCByYW5nZSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UudXBwZXIgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IHJhbmdlLnVwcGVyT3BlblxuICAgICAgICAgICAgICAgID8gY21wKGtleSwgcmFuZ2UudXBwZXIpIDwgMFxuICAgICAgICAgICAgICAgIDogY21wKGtleSwgcmFuZ2UudXBwZXIpIDw9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzV2l0aGluUmFuZ2Uoa2V5LCByYW5nZSkge1xuICAgICAgICByZXR1cm4gaXNBYm92ZUxvd2VyKGtleSwgcmFuZ2UpICYmIGlzQmVsb3dVcHBlcihrZXksIHJhbmdlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseU9wdGltaXN0aWNPcHMocmVzdWx0LCByZXEsIG9wcywgdGFibGUsIGNhY2hlRW50cnksIGltbXV0YWJsZSkge1xuICAgICAgICBpZiAoIW9wcyB8fCBvcHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVxLnF1ZXJ5LmluZGV4O1xuICAgICAgICB2YXIgbXVsdGlFbnRyeSA9IGluZGV4Lm11bHRpRW50cnk7XG4gICAgICAgIHZhciBxdWVyeVJhbmdlID0gcmVxLnF1ZXJ5LnJhbmdlO1xuICAgICAgICB2YXIgcHJpbWFyeUtleSA9IHRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICB2YXIgZXh0cmFjdFByaW1LZXkgPSBwcmltYXJ5S2V5LmV4dHJhY3RLZXk7XG4gICAgICAgIHZhciBleHRyYWN0SW5kZXggPSBpbmRleC5leHRyYWN0S2V5O1xuICAgICAgICB2YXIgZXh0cmFjdExvd0xldmVsSW5kZXggPSAoaW5kZXgubG93TGV2ZWxJbmRleCB8fCBpbmRleCkuZXh0cmFjdEtleTtcbiAgICAgICAgdmFyIGZpbmFsUmVzdWx0ID0gb3BzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBvcCkge1xuICAgICAgICAgICAgdmFyIG1vZGlmZWRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgICB2YXIgaW5jbHVkZWRWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChvcC50eXBlID09PSAnYWRkJyB8fCBvcC50eXBlID09PSAncHV0Jykge1xuICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlZFBLcyA9IG5ldyBSYW5nZVNldCgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBvcC52YWx1ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb3AudmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGsgPSBleHRyYWN0UHJpbUtleSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlZFBLcy5oYXNLZXkocGspKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBleHRyYWN0SW5kZXgodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobXVsdGlFbnRyeSAmJiBpc0FycmF5KGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8ga2V5LnNvbWUoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGlzV2l0aGluUmFuZ2UoaywgcXVlcnlSYW5nZSk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzV2l0aGluUmFuZ2Uoa2V5LCBxdWVyeVJhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZWRQS3MuYWRkS2V5KHBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWRkJzoge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmdLZXlzXzEgPSBuZXcgUmFuZ2VTZXQoKS5hZGRLZXlzKHJlcS52YWx1ZXMgPyByZXN1bHQubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkgOiByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0LmNvbmNhdChyZXEudmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGluY2x1ZGVkVmFsdWVzLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBleHRyYWN0UHJpbUtleSh2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdLZXlzXzEuaGFzS2V5KGtleSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0tleXNfMS5hZGRLZXkoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY2x1ZGVkVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZXh0cmFjdFByaW1LZXkodik7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0tleXNfMS5oYXNLZXkoaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0tleXNfMS5hZGRLZXkoayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdwdXQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlTZXRfMSA9IG5ldyBSYW5nZVNldCgpLmFkZEtleXMob3AudmFsdWVzLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZXh0cmFjdFByaW1LZXkodik7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuICFrZXlTZXRfMS5oYXNLZXkocmVxLnZhbHVlcyA/IGV4dHJhY3RQcmltS2V5KGl0ZW0pIDogaXRlbSk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICByZXEudmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGluY2x1ZGVkVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY2x1ZGVkVmFsdWVzLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZXh0cmFjdFByaW1LZXkodik7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzVG9EZWxldGVfMSA9IG5ldyBSYW5nZVNldCgpLmFkZEtleXMob3Aua2V5cyk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmZWRSZXN1bHQgPSByZXN1bHQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWtleXNUb0RlbGV0ZV8xLmhhc0tleShyZXEudmFsdWVzID8gZXh0cmFjdFByaW1LZXkoaXRlbSkgOiBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZVJhbmdlJzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlXzEgPSBvcC5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuICFpc1dpdGhpblJhbmdlKGV4dHJhY3RQcmltS2V5KGl0ZW0pLCByYW5nZV8xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1vZGlmZWRSZXN1bHQ7XG4gICAgICAgIH0sIHJlc3VsdCk7XG4gICAgICAgIGlmIChmaW5hbFJlc3VsdCA9PT0gcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgZmluYWxSZXN1bHQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGNtcChleHRyYWN0TG93TGV2ZWxJbmRleChhKSwgZXh0cmFjdExvd0xldmVsSW5kZXgoYikpIHx8XG4gICAgICAgICAgICAgICAgY21wKGV4dHJhY3RQcmltS2V5KGEpLCBleHRyYWN0UHJpbUtleShiKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVxLmxpbWl0ICYmIHJlcS5saW1pdCA8IEluZmluaXR5KSB7XG4gICAgICAgICAgICBpZiAoZmluYWxSZXN1bHQubGVuZ3RoID4gcmVxLmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgZmluYWxSZXN1bHQubGVuZ3RoID0gcmVxLmxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gcmVxLmxpbWl0ICYmIGZpbmFsUmVzdWx0Lmxlbmd0aCA8IHJlcS5saW1pdCkge1xuICAgICAgICAgICAgICAgIGNhY2hlRW50cnkuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbW11dGFibGUgPyBPYmplY3QuZnJlZXplKGZpbmFsUmVzdWx0KSA6IGZpbmFsUmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFyZVJhbmdlc0VxdWFsKHIxLCByMikge1xuICAgICAgICByZXR1cm4gKGNtcChyMS5sb3dlciwgcjIubG93ZXIpID09PSAwICYmXG4gICAgICAgICAgICBjbXAocjEudXBwZXIsIHIyLnVwcGVyKSA9PT0gMCAmJlxuICAgICAgICAgICAgISFyMS5sb3dlck9wZW4gPT09ICEhcjIubG93ZXJPcGVuICYmXG4gICAgICAgICAgICAhIXIxLnVwcGVyT3BlbiA9PT0gISFyMi51cHBlck9wZW4pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBhcmVMb3dlcnMobG93ZXIxLCBsb3dlcjIsIGxvd2VyT3BlbjEsIGxvd2VyT3BlbjIpIHtcbiAgICAgICAgaWYgKGxvd2VyMSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGxvd2VyMiAhPT0gdW5kZWZpbmVkID8gLTEgOiAwO1xuICAgICAgICBpZiAobG93ZXIyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgdmFyIGMgPSBjbXAobG93ZXIxLCBsb3dlcjIpO1xuICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGxvd2VyT3BlbjEgJiYgbG93ZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmIChsb3dlck9wZW4xKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGxvd2VyT3BlbjIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlVXBwZXJzKHVwcGVyMSwgdXBwZXIyLCB1cHBlck9wZW4xLCB1cHBlck9wZW4yKSB7XG4gICAgICAgIGlmICh1cHBlcjEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB1cHBlcjIgIT09IHVuZGVmaW5lZCA/IDEgOiAwO1xuICAgICAgICBpZiAodXBwZXIyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIHZhciBjID0gY21wKHVwcGVyMSwgdXBwZXIyKTtcbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4xICYmIHVwcGVyT3BlbjIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBpZiAodXBwZXJPcGVuMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAodXBwZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNTdXBlclJhbmdlKHIxLCByMikge1xuICAgICAgICByZXR1cm4gKGNvbXBhcmVMb3dlcnMocjEubG93ZXIsIHIyLmxvd2VyLCByMS5sb3dlck9wZW4sIHIyLmxvd2VyT3BlbikgPD0gMCAmJlxuICAgICAgICAgICAgY29tcGFyZVVwcGVycyhyMS51cHBlciwgcjIudXBwZXIsIHIxLnVwcGVyT3BlbiwgcjIudXBwZXJPcGVuKSA+PSAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kQ29tcGF0aWJsZVF1ZXJ5KGRiTmFtZSwgdGFibGVOYW1lLCB0eXBlLCByZXEpIHtcbiAgICAgICAgdmFyIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlTmFtZSldO1xuICAgICAgICBpZiAoIXRibENhY2hlKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB2YXIgcXVlcmllcyA9IHRibENhY2hlLnF1ZXJpZXNbdHlwZV07XG4gICAgICAgIGlmICghcXVlcmllcylcbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgZmFsc2UsIHRibENhY2hlLCBudWxsXTtcbiAgICAgICAgdmFyIGluZGV4TmFtZSA9IHJlcS5xdWVyeSA/IHJlcS5xdWVyeS5pbmRleC5uYW1lIDogbnVsbDtcbiAgICAgICAgdmFyIGVudHJpZXMgPSBxdWVyaWVzW2luZGV4TmFtZSB8fCAnJ107XG4gICAgICAgIGlmICghZW50cmllcylcbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgZmFsc2UsIHRibENhY2hlLCBudWxsXTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdxdWVyeSc6XG4gICAgICAgICAgICAgICAgdmFyIGVxdWFsRW50cnkgPSBlbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS5yZXEubGltaXQgPT09IHJlcS5saW1pdCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkucmVxLnZhbHVlcyA9PT0gcmVxLnZhbHVlcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJlUmFuZ2VzRXF1YWwoZW50cnkucmVxLnF1ZXJ5LnJhbmdlLCByZXEucXVlcnkucmFuZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChlcXVhbEVudHJ5KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMsXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgdmFyIHN1cGVyRW50cnkgPSBlbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW1pdCA9ICdsaW1pdCcgaW4gZW50cnkucmVxID8gZW50cnkucmVxLmxpbWl0IDogSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobGltaXQgPj0gcmVxLmxpbWl0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVxLnZhbHVlcyA/IGVudHJ5LnJlcS52YWx1ZXMgOiB0cnVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdXBlclJhbmdlKGVudHJ5LnJlcS5xdWVyeS5yYW5nZSwgcmVxLnF1ZXJ5LnJhbmdlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzdXBlckVudHJ5LCBmYWxzZSwgdGJsQ2FjaGUsIGVudHJpZXNdO1xuICAgICAgICAgICAgY2FzZSAnY291bnQnOlxuICAgICAgICAgICAgICAgIHZhciBjb3VudFF1ZXJ5ID0gZW50cmllcy5maW5kKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJlUmFuZ2VzRXF1YWwoZW50cnkucmVxLnF1ZXJ5LnJhbmdlLCByZXEucXVlcnkucmFuZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbY291bnRRdWVyeSwgISFjb3VudFF1ZXJ5LCB0YmxDYWNoZSwgZW50cmllc107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmVUb0NhY2hlRW50cnkoY2FjaGVFbnRyeSwgY29udGFpbmVyLCByZXF1ZXJ5LCBzaWduYWwpIHtcbiAgICAgICAgY2FjaGVFbnRyeS5zdWJzY3JpYmVycy5hZGQocmVxdWVyeSk7XG4gICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FjaGVFbnRyeS5zdWJzY3JpYmVycy5kZWxldGUocmVxdWVyeSk7XG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5zdWJzY3JpYmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZW5xdWVGb3JEZWxldGlvbihjYWNoZUVudHJ5LCBjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWVGb3JEZWxldGlvbihjYWNoZUVudHJ5LCBjb250YWluZXIpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5zdWJzY3JpYmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGNvbnRhaW5lciwgY2FjaGVFbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMDApO1xuICAgIH1cblxuICAgIHZhciBjYWNoZU1pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiAnZGJjb3JlJyxcbiAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgIG5hbWU6ICdDYWNoZScsXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGNvcmUpIHtcbiAgICAgICAgICAgIHZhciBkYk5hbWUgPSBjb3JlLnNjaGVtYS5uYW1lO1xuICAgICAgICAgICAgdmFyIGNvcmVNVyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb3JlKSwgeyB0cmFuc2FjdGlvbjogZnVuY3Rpb24gKHN0b3JlcywgbW9kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWRidHJhbnMgPSBjb3JlLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAncmVhZHdyaXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjXzEgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2lnbmFsID0gYWNfMS5zaWduYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAod2FzQ29tbWl0dGVkKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNfMS5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAncmVhZHdyaXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWZmZWN0ZWRTdWJzY3JpYmVyc18xID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHN0b3Jlc18xID0gc3RvcmVzOyBfaSA8IHN0b3Jlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlTmFtZSA9IHN0b3Jlc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdChzdG9yZU5hbWUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YmxDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGNvcmUudGFibGUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3BzID0gdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC50cmFucyA9PT0gaWRidHJhbnM7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZGJ0cmFucy5fZXhwbGljaXQgJiYgd2FzQ29tbWl0dGVkICYmIGlkYnRyYW5zLm11dGF0ZWRQYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gT2JqZWN0LnZhbHVlcyh0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5KTsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyaWVzID0gX2JbX2FdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBfZCA9IGVudHJpZXMuc2xpY2UoKTsgX2MgPCBfZC5sZW5ndGg7IF9jKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBfZFtfY107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ic1NldHNPdmVybGFwKGVudHJ5Lm9ic1NldCwgaWRidHJhbnMubXV0YXRlZFBhcnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oZW50cmllcywgZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiBhZmZlY3RlZFN1YnNjcmliZXJzXzEuYWRkKHJlcXVlcnkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUub3B0aW1pc3RpY09wcyA9IHRibENhY2hlLm9wdGltaXN0aWNPcHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3AudHJhbnMgIT09IGlkYnRyYW5zOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2UgPSAwLCBfZiA9IE9iamVjdC52YWx1ZXModGJsQ2FjaGUucXVlcmllcy5xdWVyeSk7IF9lIDwgX2YubGVuZ3RoOyBfZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cmllcyA9IF9mW19lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9nID0gMCwgX2ggPSBlbnRyaWVzLnNsaWNlKCk7IF9nIDwgX2gubGVuZ3RoOyBfZysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2hbX2ddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5yZXMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGJ0cmFucy5tdXRhdGVkUGFydHNcbiAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdhc0NvbW1pdHRlZCAmJiAhZW50cnkuZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVlemVSZXN1bHRzID0gT2JqZWN0LmlzRnJvemVuKGVudHJ5LnJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kUmVzID0gYXBwbHlPcHRpbWlzdGljT3BzKGVudHJ5LnJlcywgZW50cnkucmVxLCBvcHMsIHRhYmxlLCBlbnRyeSwgZnJlZXplUmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oZW50cmllcywgZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIGFmZmVjdGVkU3Vic2NyaWJlcnNfMS5hZGQocmVxdWVyeSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kUmVzICE9PSBlbnRyeS5yZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5yZXMgPSBtb2RSZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkucHJvbWlzZSA9IERleGllUHJvbWlzZS5yZXNvbHZlKHsgcmVzdWx0OiBtb2RSZXMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oZW50cmllcywgZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gYWZmZWN0ZWRTdWJzY3JpYmVyc18xLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRTdWJzY3JpYmVyc18xLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIHJlcXVlcnkoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZW5kVHJhbnNhY3Rpb24oZmFsc2UpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZW5kVHJhbnNhY3Rpb24oZmFsc2UpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgZW5kVHJhbnNhY3Rpb24odHJ1ZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpZGJ0cmFucztcbiAgICAgICAgICAgICAgICB9LCB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZG93blRhYmxlID0gY29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbUtleSA9IGRvd25UYWJsZS5zY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlTVcgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93blRhYmxlKSwgeyBtdXRhdGU6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBQU0QudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1LZXkub3V0Ym91bmQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuZGIuX29wdGlvbnMuY2FjaGUgPT09ICdkaXNhYmxlZCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuZXhwbGljaXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuaWRidHJhbnMubW9kZSAhPT0gJ3JlYWR3cml0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlTmFtZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGJsQ2FjaGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBkb3duVGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChyZXEudHlwZSA9PT0gJ2FkZCcgfHwgcmVxLnR5cGUgPT09ICdwdXQnKSAmJiAocmVxLnZhbHVlcy5sZW5ndGggPj0gNTAgfHwgZ2V0RWZmZWN0aXZlS2V5cyhwcmltS2V5LCByZXEpLnNvbWUoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4ga2V5ID09IG51bGw7IH0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcVdpdGhSZXNvbHZlZEtleXMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxKSwgeyB2YWx1ZXM6IHJlcS52YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZmFpbHVyZXNbaV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVdpdGhLZXkgPSAoKF9hID0gcHJpbUtleS5rZXlQYXRoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoJy4nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZGVlcENsb25lKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfX2Fzc2lnbih7fSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgodmFsdWVXaXRoS2V5LCBwcmltS2V5LmtleVBhdGgsIHJlcy5yZXN1bHRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlV2l0aEtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3RlZFJlcSA9IGFkanVzdE9wdGltaXN0aWNGcm9tRmFpbHVyZXModGJsQ2FjaGUsIHJlcVdpdGhSZXNvbHZlZEtleXMsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2goYWRqdXN0ZWRSZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVxLm11dGF0ZWRQYXJ0cyAmJiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShyZXEubXV0YXRlZFBhcnRzKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5wdXNoKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5tdXRhdGVkUGFydHMgJiYgc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocmVxLm11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm51bUZhaWx1cmVzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbSh0YmxDYWNoZS5vcHRpbWlzdGljT3BzLCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3RlZFJlcSA9IGFkanVzdE9wdGltaXN0aWNGcm9tRmFpbHVyZXModGJsQ2FjaGUsIHJlcSwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRqdXN0ZWRSZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5wdXNoKGFkanVzdGVkUmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm11dGF0ZWRQYXJ0cyAmJiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShyZXEubXV0YXRlZFBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKHRibENhY2hlLm9wdGltaXN0aWNPcHMsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBxdWVyeTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ2FjaGFibGVDb250ZXh0KFBTRCwgZG93blRhYmxlKSB8fCAhaXNDYWNoYWJsZVJlcXVlc3QoXCJxdWVyeVwiLCByZXEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLnF1ZXJ5KHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWV6ZVJlc3VsdHMgPSAoKF9hID0gUFNELnRyYW5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGIuX29wdGlvbnMuY2FjaGUpID09PSAnaW1tdXRhYmxlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBQU0QsIHJlcXVlcnkgPSBfYi5yZXF1ZXJ5LCBzaWduYWwgPSBfYi5zaWduYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jID0gZmluZENvbXBhdGlibGVRdWVyeShkYk5hbWUsIHRhYmxlTmFtZSwgJ3F1ZXJ5JywgcmVxKSwgY2FjaGVFbnRyeSA9IF9jWzBdLCBleGFjdE1hdGNoID0gX2NbMV0sIHRibENhY2hlID0gX2NbMl0sIGNvbnRhaW5lciA9IF9jWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5ICYmIGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5vYnNTZXQgPSByZXEub2JzU2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBkb3duVGFibGUucXVlcnkocmVxKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXMucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5yZXMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlZXplUmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHJlc3VsdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZXN1bHQgPSBkZWVwQ2xvbmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjYWNoZUVudHJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShjb250YWluZXIsIGNhY2hlRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNTZXQ6IHJlcS5vYnNTZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcnM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXE6IHJlcSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcnR5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnB1c2goY2FjaGVFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBbY2FjaGVFbnRyeV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRibENhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpbWlzdGljT3BzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduYWxlZFBhcnRzOiB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5W3JlcS5xdWVyeS5pbmRleC5uYW1lIHx8ICcnXSA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVUb0NhY2hlRW50cnkoY2FjaGVFbnRyeSwgY29udGFpbmVyLCByZXF1ZXJ5LCBzaWduYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5LnByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGFwcGx5T3B0aW1pc3RpY09wcyhyZXMucmVzdWx0LCByZXEsIHRibENhY2hlID09PSBudWxsIHx8IHRibENhY2hlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLCBkb3duVGFibGUsIGNhY2hlRW50cnksIGZyZWV6ZVJlc3VsdHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlTVc7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgIHJldHVybiBjb3JlTVc7XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHZpcGlmeSh0YXJnZXQsIHZpcERiKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdkYicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXBEYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBEZXhpZSQxID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIERleGllKG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLl9taWRkbGV3YXJlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy52ZXJubyA9IDA7XG4gICAgICAgICAgICB2YXIgZGVwcyA9IERleGllLmRlcGVuZGVuY2llcztcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zID0gX19hc3NpZ24oe1xuICAgICAgICAgICAgICAgIGFkZG9uczogRGV4aWUuYWRkb25zLCBhdXRvT3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbmRleGVkREI6IGRlcHMuaW5kZXhlZERCLCBJREJLZXlSYW5nZTogZGVwcy5JREJLZXlSYW5nZSwgY2FjaGU6ICdjbG9uZWQnIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fZGVwcyA9IHtcbiAgICAgICAgICAgICAgICBpbmRleGVkREI6IG9wdGlvbnMuaW5kZXhlZERCLFxuICAgICAgICAgICAgICAgIElEQktleVJhbmdlOiBvcHRpb25zLklEQktleVJhbmdlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGFkZG9ucyA9IG9wdGlvbnMuYWRkb25zO1xuICAgICAgICAgICAgdGhpcy5fZGJTY2hlbWEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnNpb25zID0gW107XG4gICAgICAgICAgICB0aGlzLl9zdG9yZU5hbWVzID0gW107XG4gICAgICAgICAgICB0aGlzLl9hbGxUYWJsZXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuaWRiZGIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbm92aXAgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGRiT3BlbkVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIGlzQmVpbmdPcGVuZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uUmVhZHlCZWluZ0ZpcmVkOiBudWxsLFxuICAgICAgICAgICAgICAgIG9wZW5Db21wbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGJSZWFkeVJlc29sdmU6IG5vcCxcbiAgICAgICAgICAgICAgICBkYlJlYWR5UHJvbWlzZTogbnVsbCxcbiAgICAgICAgICAgICAgICBjYW5jZWxPcGVuOiBub3AsXG4gICAgICAgICAgICAgICAgb3BlbkNhbmNlbGxlcjogbnVsbCxcbiAgICAgICAgICAgICAgICBhdXRvU2NoZW1hOiB0cnVlLFxuICAgICAgICAgICAgICAgIFBSMTM5OF9tYXhMb29wOiAzLFxuICAgICAgICAgICAgICAgIGF1dG9PcGVuOiBvcHRpb25zLmF1dG9PcGVuLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlQcm9taXNlID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUub3BlbkNhbmNlbGxlciA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmNhbmNlbE9wZW4gPSByZWplY3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5vbiA9IEV2ZW50cyh0aGlzLCBcInBvcHVsYXRlXCIsIFwiYmxvY2tlZFwiLCBcInZlcnNpb25jaGFuZ2VcIiwgXCJjbG9zZVwiLCB7IHJlYWR5OiBbcHJvbWlzYWJsZUNoYWluLCBub3BdIH0pO1xuICAgICAgICAgICAgdGhpcy5vbi5yZWFkeS5zdWJzY3JpYmUgPSBvdmVycmlkZSh0aGlzLm9uLnJlYWR5LnN1YnNjcmliZSwgZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlciwgYlN0aWNreSkge1xuICAgICAgICAgICAgICAgICAgICBEZXhpZS52aXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gX3RoaXMuX3N0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLm9wZW5Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGUuZGJPcGVuRXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERleGllUHJvbWlzZS5yZXNvbHZlKCkudGhlbihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYlN0aWNreSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUub25SZWFkeUJlaW5nRmlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiU3RpY2t5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRiXzEgPSBfdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJTdGlja3kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiXzEub24ucmVhZHkudW5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYl8xLm9uLnJlYWR5LnVuc3Vic2NyaWJlKHVuc3Vic2NyaWJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuQ29sbGVjdGlvbiA9IGNyZWF0ZUNvbGxlY3Rpb25Db25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuVGFibGUgPSBjcmVhdGVUYWJsZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5UcmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLlZlcnNpb24gPSBjcmVhdGVWZXJzaW9uQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLldoZXJlQ2xhdXNlID0gY3JlYXRlV2hlcmVDbGF1c2VDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub24oXCJ2ZXJzaW9uY2hhbmdlXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIGlmIChldi5uZXdWZXJzaW9uID4gMClcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQW5vdGhlciBjb25uZWN0aW9uIHdhbnRzIHRvIHVwZ3JhZGUgZGF0YWJhc2UgJ1wiLmNvbmNhdChfdGhpcy5uYW1lLCBcIicuIENsb3NpbmcgZGIgbm93IHRvIHJlc3VtZSB0aGUgdXBncmFkZS5cIikpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQW5vdGhlciBjb25uZWN0aW9uIHdhbnRzIHRvIGRlbGV0ZSBkYXRhYmFzZSAnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJy4gQ2xvc2luZyBkYiBub3cgdG8gcmVzdW1lIHRoZSBkZWxldGUgcmVxdWVzdC5cIikpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbihcImJsb2NrZWRcIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldi5uZXdWZXJzaW9uIHx8IGV2Lm5ld1ZlcnNpb24gPCBldi5vbGRWZXJzaW9uKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEZXhpZS5kZWxldGUoJ1wiLmNvbmNhdChfdGhpcy5uYW1lLCBcIicpIHdhcyBibG9ja2VkXCIpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVwZ3JhZGUgJ1wiLmNvbmNhdChfdGhpcy5uYW1lLCBcIicgYmxvY2tlZCBieSBvdGhlciBjb25uZWN0aW9uIGhvbGRpbmcgdmVyc2lvbiBcIikuY29uY2F0KGV2Lm9sZFZlcnNpb24gLyAxMCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9tYXhLZXkgPSBnZXRNYXhLZXkob3B0aW9ucy5JREJLZXlSYW5nZSk7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChtb2RlLCBzdG9yZU5hbWVzLCBkYnNjaGVtYSwgcGFyZW50VHJhbnNhY3Rpb24pIHsgcmV0dXJuIG5ldyBfdGhpcy5UcmFuc2FjdGlvbihtb2RlLCBzdG9yZU5hbWVzLCBkYnNjaGVtYSwgX3RoaXMuX29wdGlvbnMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5LCBwYXJlbnRUcmFuc2FjdGlvbik7IH07XG4gICAgICAgICAgICB0aGlzLl9maXJlT25CbG9ja2VkID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub24oXCJibG9ja2VkXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubmFtZSA9PT0gX3RoaXMubmFtZSAmJiBjICE9PSBfdGhpcyAmJiAhYy5fc3RhdGUudmNGaXJlZDsgfSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5vbihcInZlcnNpb25jaGFuZ2VcIikuZmlyZShldik7IH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudXNlKGNhY2hlRXhpc3RpbmdWYWx1ZXNNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHRoaXMudXNlKGNhY2hlTWlkZGxld2FyZSk7XG4gICAgICAgICAgICB0aGlzLnVzZShvYnNlcnZhYmlsaXR5TWlkZGxld2FyZSk7XG4gICAgICAgICAgICB0aGlzLnVzZSh2aXJ0dWFsSW5kZXhNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHRoaXMudXNlKGhvb2tzTWlkZGxld2FyZSk7XG4gICAgICAgICAgICB2YXIgdmlwREIgPSBuZXcgUHJveHkodGhpcywge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKF8sIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnX3ZpcCcpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICd0YWJsZScpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhYmxlTmFtZSkgeyByZXR1cm4gdmlwaWZ5KF90aGlzLnRhYmxlKHRhYmxlTmFtZSksIHZpcERCKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gUmVmbGVjdC5nZXQoXywgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocnYgaW5zdGFuY2VvZiBUYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXBpZnkocnYsIHZpcERCKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICd0YWJsZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2Lm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gdmlwaWZ5KHQsIHZpcERCKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnX2NyZWF0ZVRyYW5zYWN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4ID0gcnYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlwaWZ5KHR4LCB2aXBEQik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnZpcCA9IHZpcERCO1xuICAgICAgICAgICAgYWRkb25zLmZvckVhY2goZnVuY3Rpb24gKGFkZG9uKSB7IHJldHVybiBhZGRvbihfdGhpcyk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIERleGllLnByb3RvdHlwZS52ZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc05hTih2ZXJzaW9uTnVtYmVyKSB8fCB2ZXJzaW9uTnVtYmVyIDwgMC4xKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlR5cGUoXCJHaXZlbiB2ZXJzaW9uIGlzIG5vdCBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICAgICAgICAgIHZlcnNpb25OdW1iZXIgPSBNYXRoLnJvdW5kKHZlcnNpb25OdW1iZXIgKiAxMCkgLyAxMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmlkYmRiIHx8IHRoaXMuX3N0YXRlLmlzQmVpbmdPcGVuZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiQ2Fubm90IGFkZCB2ZXJzaW9uIHdoZW4gZGF0YWJhc2UgaXMgb3BlblwiKTtcbiAgICAgICAgICAgIHRoaXMudmVybm8gPSBNYXRoLm1heCh0aGlzLnZlcm5vLCB2ZXJzaW9uTnVtYmVyKTtcbiAgICAgICAgICAgIHZhciB2ZXJzaW9ucyA9IHRoaXMuX3ZlcnNpb25zO1xuICAgICAgICAgICAgdmFyIHZlcnNpb25JbnN0YW5jZSA9IHZlcnNpb25zLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi5fY2ZnLnZlcnNpb24gPT09IHZlcnNpb25OdW1iZXI7IH0pWzBdO1xuICAgICAgICAgICAgaWYgKHZlcnNpb25JbnN0YW5jZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbkluc3RhbmNlO1xuICAgICAgICAgICAgdmVyc2lvbkluc3RhbmNlID0gbmV3IHRoaXMuVmVyc2lvbih2ZXJzaW9uTnVtYmVyKTtcbiAgICAgICAgICAgIHZlcnNpb25zLnB1c2godmVyc2lvbkluc3RhbmNlKTtcbiAgICAgICAgICAgIHZlcnNpb25zLnNvcnQobG93ZXJWZXJzaW9uRmlyc3QpO1xuICAgICAgICAgICAgdmVyc2lvbkluc3RhbmNlLnN0b3Jlcyh7fSk7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5hdXRvU2NoZW1hID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbkluc3RhbmNlO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuX3doZW5SZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5pZGJkYiAmJiAodGhpcy5fc3RhdGUub3BlbkNvbXBsZXRlIHx8IFBTRC5sZXRUaHJvdWdoIHx8IHRoaXMuX3ZpcCkpID8gZm4oKSA6IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc3RhdGUub3BlbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoX3RoaXMuX3N0YXRlLmRiT3BlbkVycm9yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3N0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fc3RhdGUuYXV0b09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vcGVuKCkuY2F0Y2gobm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0YXRlLmRiUmVhZHlQcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZm4pO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBfYS5zdGFjaywgY3JlYXRlID0gX2EuY3JlYXRlLCBsZXZlbCA9IF9hLmxldmVsLCBuYW1lID0gX2EubmFtZTtcbiAgICAgICAgICAgIGlmIChuYW1lKVxuICAgICAgICAgICAgICAgIHRoaXMudW51c2UoeyBzdGFjazogc3RhY2ssIG5hbWU6IG5hbWUgfSk7XG4gICAgICAgICAgICB2YXIgbWlkZGxld2FyZXMgPSB0aGlzLl9taWRkbGV3YXJlc1tzdGFja10gfHwgKHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSA9IFtdKTtcbiAgICAgICAgICAgIG1pZGRsZXdhcmVzLnB1c2goeyBzdGFjazogc3RhY2ssIGNyZWF0ZTogY3JlYXRlLCBsZXZlbDogbGV2ZWwgPT0gbnVsbCA/IDEwIDogbGV2ZWwsIG5hbWU6IG5hbWUgfSk7XG4gICAgICAgICAgICBtaWRkbGV3YXJlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmxldmVsIC0gYi5sZXZlbDsgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnVudXNlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBfYS5zdGFjaywgbmFtZSA9IF9hLm5hbWUsIGNyZWF0ZSA9IF9hLmNyZWF0ZTtcbiAgICAgICAgICAgIGlmIChzdGFjayAmJiB0aGlzLl9taWRkbGV3YXJlc1tzdGFja10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taWRkbGV3YXJlc1tzdGFja10gPSB0aGlzLl9taWRkbGV3YXJlc1tzdGFja10uZmlsdGVyKGZ1bmN0aW9uIChtdykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlID8gbXcuY3JlYXRlICE9PSBjcmVhdGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA/IG13Lm5hbWUgIT09IG5hbWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB1c2VQU0QoZ2xvYmFsUFNELFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGV4aWVPcGVuKF90aGlzKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5fY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIHZhciBpZHggPSBjb25uZWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlkeCA+PSAwKVxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRiZGIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkYmRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICB0aGlzLmlkYmRiID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlQcm9taXNlID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdGUub3BlbkNhbmNlbGxlciA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jYW5jZWxPcGVuID0gcmVqZWN0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7IGRpc2FibGVBdXRvT3BlbjogdHJ1ZSB9IDogX2EsIGRpc2FibGVBdXRvT3BlbiA9IF9iLmRpc2FibGVBdXRvT3BlbjtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVBdXRvT3Blbikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmNhbmNlbE9wZW4obmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXV0b09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmF1dG9PcGVuID0gdGhpcy5fb3B0aW9ucy5hdXRvT3BlbiB8fFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0JlaW5nT3BlbmVkO1xuICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiT3BlbkVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChjbG9zZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoY2xvc2VPcHRpb25zID09PSB2b2lkIDApIHsgY2xvc2VPcHRpb25zID0geyBkaXNhYmxlQXV0b09wZW46IHRydWUgfTsgfVxuICAgICAgICAgICAgdmFyIGhhc0ludmFsaWRBcmd1bWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0JztcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBkb0RlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2UoY2xvc2VPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IF90aGlzLl9kZXBzLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShfdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29uRGF0YWJhc2VEZWxldGVkKF90aGlzLl9kZXBzLCBfdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmJsb2NrZWQgPSBfdGhpcy5fZmlyZU9uQmxvY2tlZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChoYXNJbnZhbGlkQXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJJbnZhbGlkIGNsb3NlT3B0aW9ucyBhcmd1bWVudCB0byBkYi5kZWxldGUoKVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGRvRGVsZXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRvRGVsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5iYWNrZW5kREIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGJkYjtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkYmRiICE9PSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuaGFzQmVlbkNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYk9wZW5FcnJvciA9IHRoaXMuX3N0YXRlLmRiT3BlbkVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIGRiT3BlbkVycm9yICYmIChkYk9wZW5FcnJvci5uYW1lID09PSAnRGF0YWJhc2VDbG9zZWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmhhc0ZhaWxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5kYk9wZW5FcnJvciAhPT0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmR5bmFtaWNhbGx5T3BlbmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmF1dG9TY2hlbWE7XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZXhpZS5wcm90b3R5cGUsIFwidGFibGVzXCIsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXModGhpcy5fYWxsVGFibGVzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIF90aGlzLl9hbGxUYWJsZXNbbmFtZV07IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGV4dHJhY3RUcmFuc2FjdGlvbkFyZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2FjdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLl90cmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChtb2RlLCB0YWJsZXMsIHNjb3BlRnVuYykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBwYXJlbnRUcmFuc2FjdGlvbiA9IFBTRC50cmFucztcbiAgICAgICAgICAgIGlmICghcGFyZW50VHJhbnNhY3Rpb24gfHwgcGFyZW50VHJhbnNhY3Rpb24uZGIgIT09IHRoaXMgfHwgbW9kZS5pbmRleE9mKCchJykgIT09IC0xKVxuICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBvbmx5SWZDb21wYXRpYmxlID0gbW9kZS5pbmRleE9mKCc/JykgIT09IC0xO1xuICAgICAgICAgICAgbW9kZSA9IG1vZGUucmVwbGFjZSgnIScsICcnKS5yZXBsYWNlKCc/JywgJycpO1xuICAgICAgICAgICAgdmFyIGlkYk1vZGUsIHN0b3JlTmFtZXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3JlTmFtZXMgPSB0YWJsZXMubWFwKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gdGFibGUgaW5zdGFuY2VvZiBfdGhpcy5UYWJsZSA/IHRhYmxlLm5hbWUgOiB0YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdG9yZU5hbWUgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFibGUgYXJndW1lbnQgdG8gRGV4aWUudHJhbnNhY3Rpb24oKS4gT25seSBUYWJsZSBvciBTdHJpbmcgYXJlIGFsbG93ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZU5hbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT0gXCJyXCIgfHwgbW9kZSA9PT0gUkVBRE9OTFkpXG4gICAgICAgICAgICAgICAgICAgIGlkYk1vZGUgPSBSRUFET05MWTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RlID09IFwicndcIiB8fCBtb2RlID09IFJFQURXUklURSlcbiAgICAgICAgICAgICAgICAgICAgaWRiTW9kZSA9IFJFQURXUklURTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgdHJhbnNhY3Rpb24gbW9kZTogXCIgKyBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uLm1vZGUgPT09IFJFQURPTkxZICYmIGlkYk1vZGUgPT09IFJFQURXUklURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ubHlJZkNvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU3ViVHJhbnNhY3Rpb24oXCJDYW5ub3QgZW50ZXIgYSBzdWItdHJhbnNhY3Rpb24gd2l0aCBSRUFEV1JJVEUgbW9kZSB3aGVuIHBhcmVudCB0cmFuc2FjdGlvbiBpcyBSRUFET05MWVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uICYmIHBhcmVudFRyYW5zYWN0aW9uLnN0b3JlTmFtZXMuaW5kZXhPZihzdG9yZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25seUlmQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlN1YlRyYW5zYWN0aW9uKFwiVGFibGUgXCIgKyBzdG9yZU5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIG5vdCBpbmNsdWRlZCBpbiBwYXJlbnQgdHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlICYmIHBhcmVudFRyYW5zYWN0aW9uICYmICFwYXJlbnRUcmFuc2FjdGlvbi5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudFRyYW5zYWN0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24uX3Byb21pc2UobnVsbCwgZnVuY3Rpb24gKF8sIHJlamVjdCkgeyByZWplY3QoZSk7IH0pIDpcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVudGVyVHJhbnNhY3Rpb24gPSBlbnRlclRyYW5zYWN0aW9uU2NvcGUuYmluZChudWxsLCB0aGlzLCBpZGJNb2RlLCBzdG9yZU5hbWVzLCBwYXJlbnRUcmFuc2FjdGlvbiwgc2NvcGVGdW5jKTtcbiAgICAgICAgICAgIHJldHVybiAocGFyZW50VHJhbnNhY3Rpb24gP1xuICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uLl9wcm9taXNlKGlkYk1vZGUsIGVudGVyVHJhbnNhY3Rpb24sIFwibG9ja1wiKSA6XG4gICAgICAgICAgICAgICAgUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICAgICAgdXNlUFNEKFBTRC50cmFuc2xlc3MsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl93aGVuUmVhZHkoZW50ZXJUcmFuc2FjdGlvbik7IH0pIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2hlblJlYWR5KGVudGVyVHJhbnNhY3Rpb24pKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd24odGhpcy5fYWxsVGFibGVzLCB0YWJsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZFRhYmxlKFwiVGFibGUgXCIuY29uY2F0KHRhYmxlTmFtZSwgXCIgZG9lcyBub3QgZXhpc3RcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsbFRhYmxlc1t0YWJsZU5hbWVdO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gRGV4aWU7XG4gICAgfSgpKTtcblxuICAgIHZhciBzeW1ib2xPYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcIm9ic2VydmFibGVcIiBpbiBTeW1ib2xcbiAgICAgICAgPyBTeW1ib2wub2JzZXJ2YWJsZVxuICAgICAgICA6IFwiQEBvYnNlcnZhYmxlXCI7XG4gICAgdmFyIE9ic2VydmFibGUgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgICAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoeCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKCF4IHx8IHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCIgPyB7IG5leHQ6IHgsIGVycm9yOiBlcnJvciwgY29tcGxldGU6IGNvbXBsZXRlIH0gOiB4KTtcbiAgICAgICAgfTtcbiAgICAgICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGU7XG4gICAgfSgpKTtcblxuICAgIHZhciBkb21EZXBzO1xuICAgIHRyeSB7XG4gICAgICAgIGRvbURlcHMgPSB7XG4gICAgICAgICAgICBpbmRleGVkREI6IF9nbG9iYWwuaW5kZXhlZERCIHx8IF9nbG9iYWwubW96SW5kZXhlZERCIHx8IF9nbG9iYWwud2Via2l0SW5kZXhlZERCIHx8IF9nbG9iYWwubXNJbmRleGVkREIsXG4gICAgICAgICAgICBJREJLZXlSYW5nZTogX2dsb2JhbC5JREJLZXlSYW5nZSB8fCBfZ2xvYmFsLndlYmtpdElEQktleVJhbmdlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGRvbURlcHMgPSB7IGluZGV4ZWREQjogbnVsbCwgSURCS2V5UmFuZ2U6IG51bGwgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXZlUXVlcnkocXVlcmllcikge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciBzY29wZUZ1bmNJc0FzeW5jID0gaXNBc3luY0Z1bmN0aW9uKHF1ZXJpZXIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXhlY3V0ZShjdHgpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2FzUm9vdEV4ZWMgPSBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlRnVuY0lzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gbmV3U2NvcGUocXVlcmllciwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlRnVuY0lzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ2ID0gcnYuZmluYWxseShkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgd2FzUm9vdEV4ZWMgJiYgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgYWJvcnRDb250cm9sbGVyO1xuICAgICAgICAgICAgdmFyIGFjY3VtTXV0cyA9IHt9O1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYnMgPSB7fTtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb3NlZDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ZWRMaXN0ZW5pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuc3RvcmFnZW11dGF0ZWQudW5zdWJzY3JpYmUobXV0YXRpb25MaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvYnNlcnZlci5zdGFydCAmJiBvYnNlcnZlci5zdGFydChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ZWRMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBkb1F1ZXJ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhlY0luR2xvYmFsQ29udGV4dChfZG9RdWVyeSk7IH07XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG91bGROb3RpZnkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic1NldHNPdmVybGFwKGN1cnJlbnRPYnMsIGFjY3VtTXV0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbXV0YXRpb25MaXN0ZW5lciA9IGZ1bmN0aW9uIChwYXJ0cykge1xuICAgICAgICAgICAgICAgIGV4dGVuZE9ic2VydmFiaWxpdHlTZXQoYWNjdW1NdXRzLCBwYXJ0cyk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZE5vdGlmeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvUXVlcnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIF9kb1F1ZXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgIWRvbURlcHMuaW5kZXhlZERCKVxuICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjdW1NdXRzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIHN1YnNjciA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3I6IHN1YnNjcixcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXJ5OiBkb1F1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBxdWVyaWVyOiBxdWVyaWVyLFxuICAgICAgICAgICAgICAgICAgICB0cmFuczogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IGV4ZWN1dGUoY3R4KTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUocmV0KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZWQgfHwgY3R4LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWNjdW1NdXRzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYnMgPSBzdWJzY3I7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0SXNFbXB0eShjdXJyZW50T2JzKSAmJiAhc3RhcnRlZExpc3RlbmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzKERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FLCBtdXRhdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ZWRMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNJbkdsb2JhbENvbnRleHQoZnVuY3Rpb24gKCkgeyByZXR1cm4gIWNsb3NlZCAmJiBvYnNlcnZlci5uZXh0ICYmIG9ic2VydmVyLm5leHQocmVzdWx0KTsgfSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVsnRGF0YWJhc2VDbG9zZWRFcnJvcicsICdBYm9ydEVycm9yJ10uaW5jbHVkZXMoZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsb3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjSW5HbG9iYWxDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IgJiYgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZG9RdWVyeSwgMCk7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2YWJsZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhc1ZhbHVlOyB9O1xuICAgICAgICBvYnNlcnZhYmxlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY3VycmVudFZhbHVlOyB9O1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9XG5cbiAgICB2YXIgRGV4aWUgPSBEZXhpZSQxO1xuICAgIHByb3BzKERleGllLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZnVsbE5hbWVFeGNlcHRpb25zKSwge1xuICAgICAgICBkZWxldGU6IGZ1bmN0aW9uIChkYXRhYmFzZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBkYiA9IG5ldyBEZXhpZShkYXRhYmFzZU5hbWUsIHsgYWRkb25zOiBbXSB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYi5kZWxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhpc3RzOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZShuYW1lLCB7IGFkZG9uczogW10gfSkub3BlbigpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pLmNhdGNoKCdOb1N1Y2hEYXRhYmFzZUVycm9yJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXREYXRhYmFzZU5hbWVzOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldERhdGFiYXNlTmFtZXMoRGV4aWUuZGVwZW5kZW5jaWVzKS50aGVuKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmaW5lQ2xhc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIENsYXNzKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ2xhc3M7XG4gICAgICAgIH0sIGlnbm9yZVRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoc2NvcGVGdW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICB1c2VQU0QoUFNELnRyYW5zbGVzcywgc2NvcGVGdW5jKSA6XG4gICAgICAgICAgICAgICAgc2NvcGVGdW5jKCk7XG4gICAgICAgIH0sIHZpcDogdmlwLCBhc3luYzogZnVuY3Rpb24gKGdlbmVyYXRvckZuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGF3YWl0SXRlcmF0b3IoZ2VuZXJhdG9yRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcnYgfHwgdHlwZW9mIHJ2LnRoZW4gIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocnYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgc3Bhd246IGZ1bmN0aW9uIChnZW5lcmF0b3JGbiwgYXJncywgdGhpeikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcnYgPSBhd2FpdEl0ZXJhdG9yKGdlbmVyYXRvckZuLmFwcGx5KHRoaXosIGFyZ3MgfHwgW10pKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJ2IHx8IHR5cGVvZiBydi50aGVuICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocnYpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudFRyYW5zYWN0aW9uOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBTRC50cmFucyB8fCBudWxsOyB9XG4gICAgICAgIH0sIHdhaXRGb3I6IGZ1bmN0aW9uIChwcm9taXNlT3JGdW5jdGlvbiwgb3B0aW9uYWxUaW1lb3V0KSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IERleGllUHJvbWlzZS5yZXNvbHZlKHR5cGVvZiBwcm9taXNlT3JGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgRGV4aWUuaWdub3JlVHJhbnNhY3Rpb24ocHJvbWlzZU9yRnVuY3Rpb24pIDpcbiAgICAgICAgICAgICAgICBwcm9taXNlT3JGdW5jdGlvbilcbiAgICAgICAgICAgICAgICAudGltZW91dChvcHRpb25hbFRpbWVvdXQgfHwgNjAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIFBTRC50cmFucyA/XG4gICAgICAgICAgICAgICAgUFNELnRyYW5zLndhaXRGb3IocHJvbWlzZSkgOlxuICAgICAgICAgICAgICAgIHByb21pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIFByb21pc2U6IERleGllUHJvbWlzZSxcbiAgICAgICAgZGVidWc6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVidWc7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldERlYnVnKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVyaXZlOiBkZXJpdmUsIGV4dGVuZDogZXh0ZW5kLCBwcm9wczogcHJvcHMsIG92ZXJyaWRlOiBvdmVycmlkZSxcbiAgICAgICAgRXZlbnRzOiBFdmVudHMsIG9uOiBnbG9iYWxFdmVudHMsIGxpdmVRdWVyeTogbGl2ZVF1ZXJ5LCBleHRlbmRPYnNlcnZhYmlsaXR5U2V0OiBleHRlbmRPYnNlcnZhYmlsaXR5U2V0LFxuICAgICAgICBnZXRCeUtleVBhdGg6IGdldEJ5S2V5UGF0aCwgc2V0QnlLZXlQYXRoOiBzZXRCeUtleVBhdGgsIGRlbEJ5S2V5UGF0aDogZGVsQnlLZXlQYXRoLCBzaGFsbG93Q2xvbmU6IHNoYWxsb3dDbG9uZSwgZGVlcENsb25lOiBkZWVwQ2xvbmUsIGdldE9iamVjdERpZmY6IGdldE9iamVjdERpZmYsIGNtcDogY21wLCBhc2FwOiBhc2FwJDEsXG4gICAgICAgIG1pbktleTogbWluS2V5LFxuICAgICAgICBhZGRvbnM6IFtdLFxuICAgICAgICBjb25uZWN0aW9uczogY29ubmVjdGlvbnMsXG4gICAgICAgIGVycm5hbWVzOiBlcnJuYW1lcyxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBkb21EZXBzLCBjYWNoZTogY2FjaGUsXG4gICAgICAgIHNlbVZlcjogREVYSUVfVkVSU0lPTiwgdmVyc2lvbjogREVYSUVfVkVSU0lPTi5zcGxpdCgnLicpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiBwYXJzZUludChuKTsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKHAsIGMsIGkpIHsgcmV0dXJuIHAgKyAoYyAvIE1hdGgucG93KDEwLCBpICogMikpOyB9KSB9KSk7XG4gICAgRGV4aWUubWF4S2V5ID0gZ2V0TWF4S2V5KERleGllLmRlcGVuZGVuY2llcy5JREJLZXlSYW5nZSk7XG5cbiAgICBpZiAodHlwZW9mIGRpc3BhdGNoRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBhZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUsIGZ1bmN0aW9uICh1cGRhdGVkUGFydHMpIHtcbiAgICAgICAgICAgIGlmICghcHJvcGFnYXRpbmdMb2NhbGx5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50XzE7XG4gICAgICAgICAgICAgICAgZXZlbnRfMSA9IG5ldyBDdXN0b21FdmVudChTVE9SQUdFX01VVEFURURfRE9NX0VWRU5UX05BTUUsIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB1cGRhdGVkUGFydHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRpbmdMb2NhbGx5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZGV0YWlsID0gX2EuZGV0YWlsO1xuICAgICAgICAgICAgaWYgKCFwcm9wYWdhdGluZ0xvY2FsbHkpIHtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGVMb2NhbGx5KGRldGFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVMb2NhbGx5KHVwZGF0ZVBhcnRzKSB7XG4gICAgICAgIHZhciB3YXNNZSA9IHByb3BhZ2F0aW5nTG9jYWxseTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IHRydWU7XG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuc3RvcmFnZW11dGF0ZWQuZmlyZSh1cGRhdGVQYXJ0cyk7XG4gICAgICAgICAgICBzaWduYWxTdWJzY3JpYmVyc05vdyh1cGRhdGVQYXJ0cywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSB3YXNNZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcHJvcGFnYXRpbmdMb2NhbGx5ID0gZmFsc2U7XG5cbiAgICB2YXIgYmM7XG4gICAgdmFyIGNyZWF0ZUJDID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIGlmICh0eXBlb2YgQnJvYWRjYXN0Q2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY3JlYXRlQkMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSk7XG4gICAgICAgICAgICBiYy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIGV2LmRhdGEgJiYgcHJvcGFnYXRlTG9jYWxseShldi5kYXRhKTsgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY3JlYXRlQkMoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBiYy51bnJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYmMudW5yZWYoKTtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUsIGZ1bmN0aW9uIChjaGFuZ2VkUGFydHMpIHtcbiAgICAgICAgICAgIGlmICghcHJvcGFnYXRpbmdMb2NhbGx5KSB7XG4gICAgICAgICAgICAgICAgYmMucG9zdE1lc3NhZ2UoY2hhbmdlZFBhcnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlaGlkZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFEZXhpZSQxLmRpc2FibGVCZkNhY2hlICYmIGV2ZW50LnBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRGV4aWU6IGhhbmRsaW5nIHBlcnNpc3RlZCBwYWdlaGlkZScpO1xuICAgICAgICAgICAgICAgIGJjID09PSBudWxsIHx8IGJjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiYy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY29ubmVjdGlvbnNfMSA9IGNvbm5lY3Rpb25zOyBfaSA8IGNvbm5lY3Rpb25zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IGNvbm5lY3Rpb25zXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICBkYi5jbG9zZSh7IGRpc2FibGVBdXRvT3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghRGV4aWUkMS5kaXNhYmxlQmZDYWNoZSAmJiBldmVudC5wZXJzaXN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0RleGllOiBoYW5kbGluZyBwZXJzaXN0ZWQgcGFnZXNob3cnKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVCQygpO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUxvY2FsbHkoeyBhbGw6IG5ldyBSYW5nZVNldCgtSW5maW5pdHksIFtbXV0pIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wTW9kaWZpY2F0aW9uKHsgYWRkOiB2YWx1ZSB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wTW9kaWZpY2F0aW9uKHsgcmVtb3ZlOiB2YWx1ZSB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlUHJlZml4KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wTW9kaWZpY2F0aW9uKHsgcmVwbGFjZVByZWZpeDogW2EsIGJdIH0pO1xuICAgIH1cblxuICAgIERleGllUHJvbWlzZS5yZWplY3Rpb25NYXBwZXIgPSBtYXBFcnJvcjtcbiAgICBzZXREZWJ1ZyhkZWJ1Zyk7XG5cbiAgICB2YXIgbmFtZWRFeHBvcnRzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgIERleGllOiBEZXhpZSQxLFxuICAgICAgICBsaXZlUXVlcnk6IGxpdmVRdWVyeSxcbiAgICAgICAgRW50aXR5OiBFbnRpdHksXG4gICAgICAgIGNtcDogY21wLFxuICAgICAgICBQcm9wTW9kaWZpY2F0aW9uOiBQcm9wTW9kaWZpY2F0aW9uLFxuICAgICAgICByZXBsYWNlUHJlZml4OiByZXBsYWNlUHJlZml4LFxuICAgICAgICBhZGQ6IGFkZCxcbiAgICAgICAgcmVtb3ZlOiByZW1vdmUsXG4gICAgICAgICdkZWZhdWx0JzogRGV4aWUkMSxcbiAgICAgICAgUmFuZ2VTZXQ6IFJhbmdlU2V0LFxuICAgICAgICBtZXJnZVJhbmdlczogbWVyZ2VSYW5nZXMsXG4gICAgICAgIHJhbmdlc092ZXJsYXA6IHJhbmdlc092ZXJsYXBcbiAgICB9KTtcblxuICAgIF9fYXNzaWduKERleGllJDEsIG5hbWVkRXhwb3J0cywgeyBkZWZhdWx0OiBEZXhpZSQxIH0pO1xuXG4gICAgcmV0dXJuIERleGllJDE7XG5cbn0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRleGllLmpzLm1hcFxuIiwiLy8gTWFraW5nIHRoZSBtb2R1bGUgdmVyc2lvbiBjb25zdW1hYmxlIHZpYSByZXF1aXJlIC0gdG8gcHJvaGliaXRcbi8vIG11bHRpcGxlIG9jY3VycmFuY2llcyBvZiB0aGUgc2FtZSBtb2R1bGUgaW4gdGhlIHNhbWUgYXBwXG4vLyAoZHVhbCBwYWNrYWdlIGhhemFyZCwgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wYWNrYWdlcy5odG1sI2R1YWwtcGFja2FnZS1oYXphcmQpXG5pbXBvcnQgX0RleGllIGZyb20gXCIuL2Rpc3QvZGV4aWUuanNcIjtcbmNvbnN0IERleGllU3ltYm9sID0gU3ltYm9sLmZvcihcIkRleGllXCIpO1xuY29uc3QgRGV4aWUgPSBnbG9iYWxUaGlzW0RleGllU3ltYm9sXSB8fCAoZ2xvYmFsVGhpc1tEZXhpZVN5bWJvbF0gPSBfRGV4aWUpO1xuaWYgKF9EZXhpZS5zZW1WZXIgIT09IERleGllLnNlbVZlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVHdvIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiBEZXhpZSBsb2FkZWQgaW4gdGhlIHNhbWUgYXBwOiAke19EZXhpZS5zZW1WZXJ9IGFuZCAke0RleGllLnNlbVZlcn1gKTtcbn1cbmNvbnN0IHsgbGl2ZVF1ZXJ5LCBtZXJnZVJhbmdlcywgcmFuZ2VzT3ZlcmxhcCwgUmFuZ2VTZXQsIGNtcCwgRW50aXR5LFxuICAgIFByb3BNb2RpZmljYXRpb24sIHJlcGxhY2VQcmVmaXgsIGFkZCwgcmVtb3ZlIH0gPSBEZXhpZTtcbmV4cG9ydCB7IGxpdmVRdWVyeSwgbWVyZ2VSYW5nZXMsIHJhbmdlc092ZXJsYXAsIFJhbmdlU2V0LCBjbXAsIERleGllLCBFbnRpdHksXG4gICAgUHJvcE1vZGlmaWNhdGlvbiwgcmVwbGFjZVByZWZpeCwgYWRkLCByZW1vdmUgfTtcbmV4cG9ydCBkZWZhdWx0IERleGllO1xuIiwiaW1wb3J0IGUgZnJvbVwidm9pZC1lbGVtZW50c1wiO3ZhciB0PS9cXHMoW14nXCIvXFxzPjxdKz8pW1xccy8+XXwoW15cXHM9XSspPVxccz8oXCIuKj9cInwnLio/JykvZztmdW5jdGlvbiBuKG4pe3ZhciByPXt0eXBlOlwidGFnXCIsbmFtZTpcIlwiLHZvaWRFbGVtZW50OiExLGF0dHJzOnt9LGNoaWxkcmVuOltdfSxpPW4ubWF0Y2goLzxcXC8/KFteXFxzXSs/KVsvXFxzPl0vKTtpZihpJiYoci5uYW1lPWlbMV0sKGVbaVsxXV18fFwiL1wiPT09bi5jaGFyQXQobi5sZW5ndGgtMikpJiYoci52b2lkRWxlbWVudD0hMCksci5uYW1lLnN0YXJ0c1dpdGgoXCIhLS1cIikpKXt2YXIgcz1uLmluZGV4T2YoXCItLVxceDNlXCIpO3JldHVybnt0eXBlOlwiY29tbWVudFwiLGNvbW1lbnQ6LTEhPT1zP24uc2xpY2UoNCxzKTpcIlwifX1mb3IodmFyIGE9bmV3IFJlZ0V4cCh0KSxjPW51bGw7bnVsbCE9PShjPWEuZXhlYyhuKSk7KWlmKGNbMF0udHJpbSgpKWlmKGNbMV0pe3ZhciBvPWNbMV0udHJpbSgpLGw9W28sXCJcIl07by5pbmRleE9mKFwiPVwiKT4tMSYmKGw9by5zcGxpdChcIj1cIikpLHIuYXR0cnNbbFswXV09bFsxXSxhLmxhc3RJbmRleC0tfWVsc2UgY1syXSYmKHIuYXR0cnNbY1syXV09Y1szXS50cmltKCkuc3Vic3RyaW5nKDEsY1szXS5sZW5ndGgtMSkpO3JldHVybiByfXZhciByPS88W2EtekEtWjAtOVxcLVxcIVxcL10oPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPi9nLGk9L15cXHMqJC8scz1PYmplY3QuY3JlYXRlKG51bGwpO2Z1bmN0aW9uIGEoZSx0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJ0ZXh0XCI6cmV0dXJuIGUrdC5jb250ZW50O2Nhc2VcInRhZ1wiOnJldHVybiBlKz1cIjxcIit0Lm5hbWUrKHQuYXR0cnM/ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4rJz1cIicrZVtuXSsnXCInKTtyZXR1cm4gdC5sZW5ndGg/XCIgXCIrdC5qb2luKFwiIFwiKTpcIlwifSh0LmF0dHJzKTpcIlwiKSsodC52b2lkRWxlbWVudD9cIi8+XCI6XCI+XCIpLHQudm9pZEVsZW1lbnQ/ZTplK3QuY2hpbGRyZW4ucmVkdWNlKGEsXCJcIikrXCI8L1wiK3QubmFtZStcIj5cIjtjYXNlXCJjb21tZW50XCI6cmV0dXJuIGUrXCJcXHgzYyEtLVwiK3QuY29tbWVudCtcIi0tXFx4M2VcIn19dmFyIGM9e3BhcnNlOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLHQuY29tcG9uZW50c3x8KHQuY29tcG9uZW50cz1zKTt2YXIgYSxjPVtdLG89W10sbD0tMSxtPSExO2lmKDAhPT1lLmluZGV4T2YoXCI8XCIpKXt2YXIgdT1lLmluZGV4T2YoXCI8XCIpO2MucHVzaCh7dHlwZTpcInRleHRcIixjb250ZW50Oi0xPT09dT9lOmUuc3Vic3RyaW5nKDAsdSl9KX1yZXR1cm4gZS5yZXBsYWNlKHIsZnVuY3Rpb24ocixzKXtpZihtKXtpZihyIT09XCI8L1wiK2EubmFtZStcIj5cIilyZXR1cm47bT0hMX12YXIgdSxmPVwiL1wiIT09ci5jaGFyQXQoMSksaD1yLnN0YXJ0c1dpdGgoXCJcXHgzYyEtLVwiKSxwPXMrci5sZW5ndGgsZD1lLmNoYXJBdChwKTtpZihoKXt2YXIgdj1uKHIpO3JldHVybiBsPDA/KGMucHVzaCh2KSxjKTooKHU9b1tsXSkuY2hpbGRyZW4ucHVzaCh2KSxjKX1pZihmJiYobCsrLFwidGFnXCI9PT0oYT1uKHIpKS50eXBlJiZ0LmNvbXBvbmVudHNbYS5uYW1lXSYmKGEudHlwZT1cImNvbXBvbmVudFwiLG09ITApLGEudm9pZEVsZW1lbnR8fG18fCFkfHxcIjxcIj09PWR8fGEuY2hpbGRyZW4ucHVzaCh7dHlwZTpcInRleHRcIixjb250ZW50OmUuc2xpY2UocCxlLmluZGV4T2YoXCI8XCIscCkpfSksMD09PWwmJmMucHVzaChhKSwodT1vW2wtMV0pJiZ1LmNoaWxkcmVuLnB1c2goYSksb1tsXT1hKSwoIWZ8fGEudm9pZEVsZW1lbnQpJiYobD4tMSYmKGEudm9pZEVsZW1lbnR8fGEubmFtZT09PXIuc2xpY2UoMiwtMSkpJiYobC0tLGE9LTE9PT1sP2M6b1tsXSksIW0mJlwiPFwiIT09ZCYmZCkpe3U9LTE9PT1sP2M6b1tsXS5jaGlsZHJlbjt2YXIgeD1lLmluZGV4T2YoXCI8XCIscCksZz1lLnNsaWNlKHAsLTE9PT14P3ZvaWQgMDp4KTtpLnRlc3QoZykmJihnPVwiIFwiKSwoeD4tMSYmbCt1Lmxlbmd0aD49MHx8XCIgXCIhPT1nKSYmdS5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6Z30pfX0pLGN9LHN0cmluZ2lmeTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSthKFwiXCIsdCl9LFwiXCIpfX07ZXhwb3J0IGRlZmF1bHQgYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0bWwtcGFyc2Utc3RyaW5naWZ5Lm1vZHVsZS5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgaXNTdHJpbmcgPSBvYmogPT4gdHlwZW9mIG9iaiA9PT0gJ3N0cmluZyc7XG5jb25zdCBkZWZlciA9ICgpID0+IHtcbiAgbGV0IHJlcztcbiAgbGV0IHJlajtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXMgPSByZXNvbHZlO1xuICAgIHJlaiA9IHJlamVjdDtcbiAgfSk7XG4gIHByb21pc2UucmVzb2x2ZSA9IHJlcztcbiAgcHJvbWlzZS5yZWplY3QgPSByZWo7XG4gIHJldHVybiBwcm9taXNlO1xufTtcbmNvbnN0IG1ha2VTdHJpbmcgPSBvYmplY3QgPT4ge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAnJztcbiAgcmV0dXJuICcnICsgb2JqZWN0O1xufTtcbmNvbnN0IGNvcHkgPSAoYSwgcywgdCkgPT4ge1xuICBhLmZvckVhY2gobSA9PiB7XG4gICAgaWYgKHNbbV0pIHRbbV0gPSBzW21dO1xuICB9KTtcbn07XG5jb25zdCBsYXN0T2ZQYXRoU2VwYXJhdG9yUmVnRXhwID0gLyMjIy9nO1xuY29uc3QgY2xlYW5LZXkgPSBrZXkgPT4ga2V5ICYmIGtleS5pbmRleE9mKCcjIyMnKSA+IC0xID8ga2V5LnJlcGxhY2UobGFzdE9mUGF0aFNlcGFyYXRvclJlZ0V4cCwgJy4nKSA6IGtleTtcbmNvbnN0IGNhbk5vdFRyYXZlcnNlRGVlcGVyID0gb2JqZWN0ID0+ICFvYmplY3QgfHwgaXNTdHJpbmcob2JqZWN0KTtcbmNvbnN0IGdldExhc3RPZlBhdGggPSAob2JqZWN0LCBwYXRoLCBFbXB0eSkgPT4ge1xuICBjb25zdCBzdGFjayA9ICFpc1N0cmluZyhwYXRoKSA/IHBhdGggOiBwYXRoLnNwbGl0KCcuJyk7XG4gIGxldCBzdGFja0luZGV4ID0gMDtcbiAgd2hpbGUgKHN0YWNrSW5kZXggPCBzdGFjay5sZW5ndGggLSAxKSB7XG4gICAgaWYgKGNhbk5vdFRyYXZlcnNlRGVlcGVyKG9iamVjdCkpIHJldHVybiB7fTtcbiAgICBjb25zdCBrZXkgPSBjbGVhbktleShzdGFja1tzdGFja0luZGV4XSk7XG4gICAgaWYgKCFvYmplY3Rba2V5XSAmJiBFbXB0eSkgb2JqZWN0W2tleV0gPSBuZXcgRW1wdHkoKTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdCA9IHt9O1xuICAgIH1cbiAgICArK3N0YWNrSW5kZXg7XG4gIH1cbiAgaWYgKGNhbk5vdFRyYXZlcnNlRGVlcGVyKG9iamVjdCkpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBvYmo6IG9iamVjdCxcbiAgICBrOiBjbGVhbktleShzdGFja1tzdGFja0luZGV4XSlcbiAgfTtcbn07XG5jb25zdCBzZXRQYXRoID0gKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUpID0+IHtcbiAgY29uc3Qge1xuICAgIG9iaixcbiAgICBrXG4gIH0gPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcGF0aCwgT2JqZWN0KTtcbiAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkIHx8IHBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgb2JqW2tdID0gbmV3VmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBlID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICBsZXQgcCA9IHBhdGguc2xpY2UoMCwgcGF0aC5sZW5ndGggLSAxKTtcbiAgbGV0IGxhc3QgPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcCwgT2JqZWN0KTtcbiAgd2hpbGUgKGxhc3Qub2JqID09PSB1bmRlZmluZWQgJiYgcC5sZW5ndGgpIHtcbiAgICBlID0gYCR7cFtwLmxlbmd0aCAtIDFdfS4ke2V9YDtcbiAgICBwID0gcC5zbGljZSgwLCBwLmxlbmd0aCAtIDEpO1xuICAgIGxhc3QgPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcCwgT2JqZWN0KTtcbiAgICBpZiAobGFzdCAmJiBsYXN0Lm9iaiAmJiB0eXBlb2YgbGFzdC5vYmpbYCR7bGFzdC5rfS4ke2V9YF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsYXN0Lm9iaiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgbGFzdC5vYmpbYCR7bGFzdC5rfS4ke2V9YF0gPSBuZXdWYWx1ZTtcbn07XG5jb25zdCBwdXNoUGF0aCA9IChvYmplY3QsIHBhdGgsIG5ld1ZhbHVlLCBjb25jYXQpID0+IHtcbiAgY29uc3Qge1xuICAgIG9iaixcbiAgICBrXG4gIH0gPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcGF0aCwgT2JqZWN0KTtcbiAgb2JqW2tdID0gb2JqW2tdIHx8IFtdO1xuICBvYmpba10ucHVzaChuZXdWYWx1ZSk7XG59O1xuY29uc3QgZ2V0UGF0aCA9IChvYmplY3QsIHBhdGgpID0+IHtcbiAgY29uc3Qge1xuICAgIG9iaixcbiAgICBrXG4gIH0gPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcGF0aCk7XG4gIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICByZXR1cm4gb2JqW2tdO1xufTtcbmNvbnN0IGdldFBhdGhXaXRoRGVmYXVsdHMgPSAoZGF0YSwgZGVmYXVsdERhdGEsIGtleSkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IGdldFBhdGgoZGF0YSwga2V5KTtcbiAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGdldFBhdGgoZGVmYXVsdERhdGEsIGtleSk7XG59O1xuY29uc3QgZGVlcEV4dGVuZCA9ICh0YXJnZXQsIHNvdXJjZSwgb3ZlcndyaXRlKSA9PiB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICBpZiAocHJvcCAhPT0gJ19fcHJvdG9fXycgJiYgcHJvcCAhPT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgaWYgKHByb3AgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGlmIChpc1N0cmluZyh0YXJnZXRbcHJvcF0pIHx8IHRhcmdldFtwcm9wXSBpbnN0YW5jZW9mIFN0cmluZyB8fCBpc1N0cmluZyhzb3VyY2VbcHJvcF0pIHx8IHNvdXJjZVtwcm9wXSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgIGlmIChvdmVyd3JpdGUpIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdLCBvdmVyd3JpdGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuY29uc3QgcmVnZXhFc2NhcGUgPSBzdHIgPT4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCAnXFxcXCQmJyk7XG52YXIgX2VudGl0eU1hcCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7JyxcbiAgJy8nOiAnJiN4MkY7J1xufTtcbmNvbnN0IGVzY2FwZSA9IGRhdGEgPT4ge1xuICBpZiAoaXNTdHJpbmcoZGF0YSkpIHtcbiAgICByZXR1cm4gZGF0YS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLCBzID0+IF9lbnRpdHlNYXBbc10pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufTtcbmNsYXNzIFJlZ0V4cENhY2hlIHtcbiAgY29uc3RydWN0b3IoY2FwYWNpdHkpIHtcbiAgICB0aGlzLmNhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgdGhpcy5yZWdFeHBNYXAgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZWdFeHBRdWV1ZSA9IFtdO1xuICB9XG4gIGdldFJlZ0V4cChwYXR0ZXJuKSB7XG4gICAgY29uc3QgcmVnRXhwRnJvbUNhY2hlID0gdGhpcy5yZWdFeHBNYXAuZ2V0KHBhdHRlcm4pO1xuICAgIGlmIChyZWdFeHBGcm9tQ2FjaGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHJlZ0V4cEZyb21DYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcmVnRXhwTmV3ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgICBpZiAodGhpcy5yZWdFeHBRdWV1ZS5sZW5ndGggPT09IHRoaXMuY2FwYWNpdHkpIHtcbiAgICAgIHRoaXMucmVnRXhwTWFwLmRlbGV0ZSh0aGlzLnJlZ0V4cFF1ZXVlLnNoaWZ0KCkpO1xuICAgIH1cbiAgICB0aGlzLnJlZ0V4cE1hcC5zZXQocGF0dGVybiwgcmVnRXhwTmV3KTtcbiAgICB0aGlzLnJlZ0V4cFF1ZXVlLnB1c2gocGF0dGVybik7XG4gICAgcmV0dXJuIHJlZ0V4cE5ldztcbiAgfVxufVxuY29uc3QgY2hhcnMgPSBbJyAnLCAnLCcsICc/JywgJyEnLCAnOyddO1xuY29uc3QgbG9va3NMaWtlT2JqZWN0UGF0aFJlZ0V4cENhY2hlID0gbmV3IFJlZ0V4cENhY2hlKDIwKTtcbmNvbnN0IGxvb2tzTGlrZU9iamVjdFBhdGggPSAoa2V5LCBuc1NlcGFyYXRvciwga2V5U2VwYXJhdG9yKSA9PiB7XG4gIG5zU2VwYXJhdG9yID0gbnNTZXBhcmF0b3IgfHwgJyc7XG4gIGtleVNlcGFyYXRvciA9IGtleVNlcGFyYXRvciB8fCAnJztcbiAgY29uc3QgcG9zc2libGVDaGFycyA9IGNoYXJzLmZpbHRlcihjID0+IG5zU2VwYXJhdG9yLmluZGV4T2YoYykgPCAwICYmIGtleVNlcGFyYXRvci5pbmRleE9mKGMpIDwgMCk7XG4gIGlmIChwb3NzaWJsZUNoYXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gIGNvbnN0IHIgPSBsb29rc0xpa2VPYmplY3RQYXRoUmVnRXhwQ2FjaGUuZ2V0UmVnRXhwKGAoJHtwb3NzaWJsZUNoYXJzLm1hcChjID0+IGMgPT09ICc/JyA/ICdcXFxcPycgOiBjKS5qb2luKCd8Jyl9KWApO1xuICBsZXQgbWF0Y2hlZCA9ICFyLnRlc3Qoa2V5KTtcbiAgaWYgKCFtYXRjaGVkKSB7XG4gICAgY29uc3Qga2kgPSBrZXkuaW5kZXhPZihrZXlTZXBhcmF0b3IpO1xuICAgIGlmIChraSA+IDAgJiYgIXIudGVzdChrZXkuc3Vic3RyaW5nKDAsIGtpKSkpIHtcbiAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0Y2hlZDtcbn07XG5jb25zdCBkZWVwRmluZCA9IGZ1bmN0aW9uIChvYmosIHBhdGgpIHtcbiAgbGV0IGtleVNlcGFyYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJy4nO1xuICBpZiAoIW9iaikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKG9ialtwYXRoXSkgcmV0dXJuIG9ialtwYXRoXTtcbiAgY29uc3QgdG9rZW5zID0gcGF0aC5zcGxpdChrZXlTZXBhcmF0b3IpO1xuICBsZXQgY3VycmVudCA9IG9iajtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOykge1xuICAgIGlmICghY3VycmVudCB8fCB0eXBlb2YgY3VycmVudCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCBuZXh0O1xuICAgIGxldCBuZXh0UGF0aCA9ICcnO1xuICAgIGZvciAobGV0IGogPSBpOyBqIDwgdG9rZW5zLmxlbmd0aDsgKytqKSB7XG4gICAgICBpZiAoaiAhPT0gaSkge1xuICAgICAgICBuZXh0UGF0aCArPSBrZXlTZXBhcmF0b3I7XG4gICAgICB9XG4gICAgICBuZXh0UGF0aCArPSB0b2tlbnNbal07XG4gICAgICBuZXh0ID0gY3VycmVudFtuZXh0UGF0aF07XG4gICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddLmluZGV4T2YodHlwZW9mIG5leHQpID4gLTEgJiYgaiA8IHRva2Vucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaSArPSBqIC0gaSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjdXJyZW50ID0gbmV4dDtcbiAgfVxuICByZXR1cm4gY3VycmVudDtcbn07XG5jb25zdCBnZXRDbGVhbmVkQ29kZSA9IGNvZGUgPT4gY29kZSAmJiBjb2RlLnJlcGxhY2UoJ18nLCAnLScpO1xuXG5jb25zdCBjb25zb2xlTG9nZ2VyID0ge1xuICB0eXBlOiAnbG9nZ2VyJyxcbiAgbG9nKGFyZ3MpIHtcbiAgICB0aGlzLm91dHB1dCgnbG9nJywgYXJncyk7XG4gIH0sXG4gIHdhcm4oYXJncykge1xuICAgIHRoaXMub3V0cHV0KCd3YXJuJywgYXJncyk7XG4gIH0sXG4gIGVycm9yKGFyZ3MpIHtcbiAgICB0aGlzLm91dHB1dCgnZXJyb3InLCBhcmdzKTtcbiAgfSxcbiAgb3V0cHV0KHR5cGUsIGFyZ3MpIHtcbiAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlW3R5cGVdKSBjb25zb2xlW3R5cGVdLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59O1xuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3IoY29uY3JldGVMb2dnZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5pbml0KGNvbmNyZXRlTG9nZ2VyLCBvcHRpb25zKTtcbiAgfVxuICBpbml0KGNvbmNyZXRlTG9nZ2VyKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHRoaXMucHJlZml4ID0gb3B0aW9ucy5wcmVmaXggfHwgJ2kxOG5leHQ6JztcbiAgICB0aGlzLmxvZ2dlciA9IGNvbmNyZXRlTG9nZ2VyIHx8IGNvbnNvbGVMb2dnZXI7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmRlYnVnID0gb3B0aW9ucy5kZWJ1ZztcbiAgfVxuICBsb2coKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdsb2cnLCAnJywgdHJ1ZSk7XG4gIH1cbiAgd2FybigpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnd2FybicsICcnLCB0cnVlKTtcbiAgfVxuICBlcnJvcigpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnZXJyb3InLCAnJyk7XG4gIH1cbiAgZGVwcmVjYXRlKCkge1xuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJ1dBUk5JTkcgREVQUkVDQVRFRDogJywgdHJ1ZSk7XG4gIH1cbiAgZm9yd2FyZChhcmdzLCBsdmwsIHByZWZpeCwgZGVidWdPbmx5KSB7XG4gICAgaWYgKGRlYnVnT25seSAmJiAhdGhpcy5kZWJ1ZykgcmV0dXJuIG51bGw7XG4gICAgaWYgKGlzU3RyaW5nKGFyZ3NbMF0pKSBhcmdzWzBdID0gYCR7cHJlZml4fSR7dGhpcy5wcmVmaXh9ICR7YXJnc1swXX1gO1xuICAgIHJldHVybiB0aGlzLmxvZ2dlcltsdmxdKGFyZ3MpO1xuICB9XG4gIGNyZWF0ZShtb2R1bGVOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIodGhpcy5sb2dnZXIsIHtcbiAgICAgIC4uLntcbiAgICAgICAgcHJlZml4OiBgJHt0aGlzLnByZWZpeH06JHttb2R1bGVOYW1lfTpgXG4gICAgICB9LFxuICAgICAgLi4udGhpcy5vcHRpb25zXG4gICAgfSk7XG4gIH1cbiAgY2xvbmUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHRoaXMub3B0aW9ucztcbiAgICBvcHRpb25zLnByZWZpeCA9IG9wdGlvbnMucHJlZml4IHx8IHRoaXMucHJlZml4O1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKHRoaXMubG9nZ2VyLCBvcHRpb25zKTtcbiAgfVxufVxudmFyIGJhc2VMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbmNsYXNzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub2JzZXJ2ZXJzID0ge307XG4gIH1cbiAgb24oZXZlbnRzLCBsaXN0ZW5lcikge1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1tldmVudF0pIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSA9IG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0IG51bUxpc3RlbmVycyA9IHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5nZXQobGlzdGVuZXIpIHx8IDA7XG4gICAgICB0aGlzLm9ic2VydmVyc1tldmVudF0uc2V0KGxpc3RlbmVyLCBudW1MaXN0ZW5lcnMgKyAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLm9ic2VydmVyc1tldmVudF0pIHJldHVybjtcbiAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbZXZlbnRdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm9ic2VydmVyc1tldmVudF0uZGVsZXRlKGxpc3RlbmVyKTtcbiAgfVxuICBlbWl0KGV2ZW50KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmICh0aGlzLm9ic2VydmVyc1tldmVudF0pIHtcbiAgICAgIGNvbnN0IGNsb25lZCA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbZXZlbnRdLmVudHJpZXMoKSk7XG4gICAgICBjbG9uZWQuZm9yRWFjaChfcmVmID0+IHtcbiAgICAgICAgbGV0IFtvYnNlcnZlciwgbnVtVGltZXNBZGRlZF0gPSBfcmVmO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVRpbWVzQWRkZWQ7IGkrKykge1xuICAgICAgICAgIG9ic2VydmVyKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzWycqJ10pIHtcbiAgICAgIGNvbnN0IGNsb25lZCA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbJyonXS5lbnRyaWVzKCkpO1xuICAgICAgY2xvbmVkLmZvckVhY2goX3JlZjIgPT4ge1xuICAgICAgICBsZXQgW29ic2VydmVyLCBudW1UaW1lc0FkZGVkXSA9IF9yZWYyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVRpbWVzQWRkZWQ7IGkrKykge1xuICAgICAgICAgIG9ic2VydmVyLmFwcGx5KG9ic2VydmVyLCBbZXZlbnQsIC4uLmFyZ3NdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFJlc291cmNlU3RvcmUgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgIG5zOiBbJ3RyYW5zbGF0aW9uJ10sXG4gICAgICBkZWZhdWx0TlM6ICd0cmFuc2xhdGlvbidcbiAgICB9O1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kYXRhID0gZGF0YSB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmICh0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGFkZE5hbWVzcGFjZXMobnMpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLm5zLmluZGV4T2YobnMpIDwgMCkge1xuICAgICAgdGhpcy5vcHRpb25zLm5zLnB1c2gobnMpO1xuICAgIH1cbiAgfVxuICByZW1vdmVOYW1lc3BhY2VzKG5zKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihucyk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICBnZXRSZXNvdXJjZShsbmcsIG5zLCBrZXkpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgY29uc3Qga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBjb25zdCBpZ25vcmVKU09OU3RydWN0dXJlID0gb3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgOiB0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZTtcbiAgICBsZXQgcGF0aDtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGggPSBbbG5nLCBuc107XG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgICBwYXRoLnB1c2goLi4ua2V5KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhrZXkpICYmIGtleVNlcGFyYXRvcikge1xuICAgICAgICAgIHBhdGgucHVzaCguLi5rZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgpO1xuICAgIGlmICghcmVzdWx0ICYmICFucyAmJiAha2V5ICYmIGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgbG5nID0gcGF0aFswXTtcbiAgICAgIG5zID0gcGF0aFsxXTtcbiAgICAgIGtleSA9IHBhdGguc2xpY2UoMikuam9pbignLicpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0IHx8ICFpZ25vcmVKU09OU3RydWN0dXJlIHx8ICFpc1N0cmluZyhrZXkpKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBkZWVwRmluZCh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhW2xuZ10gJiYgdGhpcy5kYXRhW2xuZ11bbnNdLCBrZXksIGtleVNlcGFyYXRvcik7XG4gIH1cbiAgYWRkUmVzb3VyY2UobG5nLCBucywga2V5LCB2YWx1ZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7XG4gICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgfTtcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGxldCBwYXRoID0gW2xuZywgbnNdO1xuICAgIGlmIChrZXkpIHBhdGggPSBwYXRoLmNvbmNhdChrZXlTZXBhcmF0b3IgPyBrZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSA6IGtleSk7XG4gICAgaWYgKGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgcGF0aCA9IGxuZy5zcGxpdCgnLicpO1xuICAgICAgdmFsdWUgPSBucztcbiAgICAgIG5zID0gcGF0aFsxXTtcbiAgICB9XG4gICAgdGhpcy5hZGROYW1lc3BhY2VzKG5zKTtcbiAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCBrZXksIHZhbHVlKTtcbiAgfVxuICBhZGRSZXNvdXJjZXMobG5nLCBucywgcmVzb3VyY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2VcbiAgICB9O1xuICAgIGZvciAoY29uc3QgbSBpbiByZXNvdXJjZXMpIHtcbiAgICAgIGlmIChpc1N0cmluZyhyZXNvdXJjZXNbbV0pIHx8IEFycmF5LmlzQXJyYXkocmVzb3VyY2VzW21dKSkgdGhpcy5hZGRSZXNvdXJjZShsbmcsIG5zLCBtLCByZXNvdXJjZXNbbV0sIHtcbiAgICAgICAgc2lsZW50OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gIH1cbiAgYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgcmVzb3VyY2VzLCBkZWVwLCBvdmVyd3JpdGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDoge1xuICAgICAgc2lsZW50OiBmYWxzZSxcbiAgICAgIHNraXBDb3B5OiBmYWxzZVxuICAgIH07XG4gICAgbGV0IHBhdGggPSBbbG5nLCBuc107XG4gICAgaWYgKGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgcGF0aCA9IGxuZy5zcGxpdCgnLicpO1xuICAgICAgZGVlcCA9IHJlc291cmNlcztcbiAgICAgIHJlc291cmNlcyA9IG5zO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgIH1cbiAgICB0aGlzLmFkZE5hbWVzcGFjZXMobnMpO1xuICAgIGxldCBwYWNrID0gZ2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgpIHx8IHt9O1xuICAgIGlmICghb3B0aW9ucy5za2lwQ29weSkgcmVzb3VyY2VzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNvdXJjZXMpKTtcbiAgICBpZiAoZGVlcCkge1xuICAgICAgZGVlcEV4dGVuZChwYWNrLCByZXNvdXJjZXMsIG92ZXJ3cml0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhY2sgPSB7XG4gICAgICAgIC4uLnBhY2ssXG4gICAgICAgIC4uLnJlc291cmNlc1xuICAgICAgfTtcbiAgICB9XG4gICAgc2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgsIHBhY2spO1xuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCByZXNvdXJjZXMpO1xuICB9XG4gIHJlbW92ZVJlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICBpZiAodGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkge1xuICAgICAgZGVsZXRlIHRoaXMuZGF0YVtsbmddW25zXTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVOYW1lc3BhY2VzKG5zKTtcbiAgICB0aGlzLmVtaXQoJ3JlbW92ZWQnLCBsbmcsIG5zKTtcbiAgfVxuICBoYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucykgIT09IHVuZGVmaW5lZDtcbiAgfVxuICBnZXRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSA9PT0gJ3YxJykgcmV0dXJuIHtcbiAgICAgIC4uLnt9LFxuICAgICAgLi4udGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucyk7XG4gIH1cbiAgZ2V0RGF0YUJ5TGFuZ3VhZ2UobG5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVtsbmddO1xuICB9XG4gIGhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhsbmcpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5nZXREYXRhQnlMYW5ndWFnZShsbmcpO1xuICAgIGNvbnN0IG4gPSBkYXRhICYmIE9iamVjdC5rZXlzKGRhdGEpIHx8IFtdO1xuICAgIHJldHVybiAhIW4uZmluZCh2ID0+IGRhdGFbdl0gJiYgT2JqZWN0LmtleXMoZGF0YVt2XSkubGVuZ3RoID4gMCk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cbn1cblxudmFyIHBvc3RQcm9jZXNzb3IgPSB7XG4gIHByb2Nlc3NvcnM6IHt9LFxuICBhZGRQb3N0UHJvY2Vzc29yKG1vZHVsZSkge1xuICAgIHRoaXMucHJvY2Vzc29yc1ttb2R1bGUubmFtZV0gPSBtb2R1bGU7XG4gIH0sXG4gIGhhbmRsZShwcm9jZXNzb3JzLCB2YWx1ZSwga2V5LCBvcHRpb25zLCB0cmFuc2xhdG9yKSB7XG4gICAgcHJvY2Vzc29ycy5mb3JFYWNoKHByb2Nlc3NvciA9PiB7XG4gICAgICBpZiAodGhpcy5wcm9jZXNzb3JzW3Byb2Nlc3Nvcl0pIHZhbHVlID0gdGhpcy5wcm9jZXNzb3JzW3Byb2Nlc3Nvcl0ucHJvY2Vzcyh2YWx1ZSwga2V5LCBvcHRpb25zLCB0cmFuc2xhdG9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmNvbnN0IGNoZWNrZWRMb2FkZWRGb3IgPSB7fTtcbmNsYXNzIFRyYW5zbGF0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBzdXBlcigpO1xuICAgIGNvcHkoWydyZXNvdXJjZVN0b3JlJywgJ2xhbmd1YWdlVXRpbHMnLCAncGx1cmFsUmVzb2x2ZXInLCAnaW50ZXJwb2xhdG9yJywgJ2JhY2tlbmRDb25uZWN0b3InLCAnaTE4bkZvcm1hdCcsICd1dGlscyddLCBzZXJ2aWNlcywgdGhpcyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAodGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yID0gJy4nO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCd0cmFuc2xhdG9yJyk7XG4gIH1cbiAgY2hhbmdlTGFuZ3VhZ2UobG5nKSB7XG4gICAgaWYgKGxuZykgdGhpcy5sYW5ndWFnZSA9IGxuZztcbiAgfVxuICBleGlzdHMoa2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgIGludGVycG9sYXRpb246IHt9XG4gICAgfTtcbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwga2V5ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVkID0gdGhpcy5yZXNvbHZlKGtleSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHJlc29sdmVkICYmIHJlc29sdmVkLnJlcyAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIGV4dHJhY3RGcm9tS2V5KGtleSwgb3B0aW9ucykge1xuICAgIGxldCBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7XG4gICAgaWYgKG5zU2VwYXJhdG9yID09PSB1bmRlZmluZWQpIG5zU2VwYXJhdG9yID0gJzonO1xuICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgbGV0IG5hbWVzcGFjZXMgPSBvcHRpb25zLm5zIHx8IHRoaXMub3B0aW9ucy5kZWZhdWx0TlMgfHwgW107XG4gICAgY29uc3Qgd291bGRDaGVja0Zvck5zSW5LZXkgPSBuc1NlcGFyYXRvciAmJiBrZXkuaW5kZXhPZihuc1NlcGFyYXRvcikgPiAtMTtcbiAgICBjb25zdCBzZWVtc05hdHVyYWxMYW5ndWFnZSA9ICF0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3IgJiYgIW9wdGlvbnMua2V5U2VwYXJhdG9yICYmICF0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvciAmJiAhb3B0aW9ucy5uc1NlcGFyYXRvciAmJiAhbG9va3NMaWtlT2JqZWN0UGF0aChrZXksIG5zU2VwYXJhdG9yLCBrZXlTZXBhcmF0b3IpO1xuICAgIGlmICh3b3VsZENoZWNrRm9yTnNJbktleSAmJiAhc2VlbXNOYXR1cmFsTGFuZ3VhZ2UpIHtcbiAgICAgIGNvbnN0IG0gPSBrZXkubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICBpZiAobSAmJiBtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgbmFtZXNwYWNlczogaXNTdHJpbmcobmFtZXNwYWNlcykgPyBbbmFtZXNwYWNlc10gOiBuYW1lc3BhY2VzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdChuc1NlcGFyYXRvcik7XG4gICAgICBpZiAobnNTZXBhcmF0b3IgIT09IGtleVNlcGFyYXRvciB8fCBuc1NlcGFyYXRvciA9PT0ga2V5U2VwYXJhdG9yICYmIHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKHBhcnRzWzBdKSA+IC0xKSBuYW1lc3BhY2VzID0gcGFydHMuc2hpZnQoKTtcbiAgICAgIGtleSA9IHBhcnRzLmpvaW4oa2V5U2VwYXJhdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleSxcbiAgICAgIG5hbWVzcGFjZXM6IGlzU3RyaW5nKG5hbWVzcGFjZXMpID8gW25hbWVzcGFjZXNdIDogbmFtZXNwYWNlc1xuICAgIH07XG4gIH1cbiAgdHJhbnNsYXRlKGtleXMsIG9wdGlvbnMsIGxhc3RLZXkpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnICYmIHRoaXMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcikge1xuICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihhcmd1bWVudHMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSBvcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgaWYgKGtleXMgPT09IHVuZGVmaW5lZCB8fCBrZXlzID09PSBudWxsKSByZXR1cm4gJyc7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGtleXMpKSBrZXlzID0gW1N0cmluZyhrZXlzKV07XG4gICAgY29uc3QgcmV0dXJuRGV0YWlscyA9IG9wdGlvbnMucmV0dXJuRGV0YWlscyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yZXR1cm5EZXRhaWxzIDogdGhpcy5vcHRpb25zLnJldHVybkRldGFpbHM7XG4gICAgY29uc3Qga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBjb25zdCB7XG4gICAgICBrZXksXG4gICAgICBuYW1lc3BhY2VzXG4gICAgfSA9IHRoaXMuZXh0cmFjdEZyb21LZXkoa2V5c1trZXlzLmxlbmd0aCAtIDFdLCBvcHRpb25zKTtcbiAgICBjb25zdCBuYW1lc3BhY2UgPSBuYW1lc3BhY2VzW25hbWVzcGFjZXMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgbG5nID0gb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZTtcbiAgICBjb25zdCBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSA9IG9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGUgfHwgdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlO1xuICAgIGlmIChsbmcgJiYgbG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnKSB7XG4gICAgICBpZiAoYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGUpIHtcbiAgICAgICAgY29uc3QgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yIHx8IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICAgICAgaWYgKHJldHVybkRldGFpbHMpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzOiBgJHtuYW1lc3BhY2V9JHtuc1NlcGFyYXRvcn0ke2tleX1gLFxuICAgICAgICAgICAgdXNlZEtleToga2V5LFxuICAgICAgICAgICAgZXhhY3RVc2VkS2V5OiBrZXksXG4gICAgICAgICAgICB1c2VkTG5nOiBsbmcsXG4gICAgICAgICAgICB1c2VkTlM6IG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHVzZWRQYXJhbXM6IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtuYW1lc3BhY2V9JHtuc1NlcGFyYXRvcn0ke2tleX1gO1xuICAgICAgfVxuICAgICAgaWYgKHJldHVybkRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXM6IGtleSxcbiAgICAgICAgICB1c2VkS2V5OiBrZXksXG4gICAgICAgICAgZXhhY3RVc2VkS2V5OiBrZXksXG4gICAgICAgICAgdXNlZExuZzogbG5nLFxuICAgICAgICAgIHVzZWROUzogbmFtZXNwYWNlLFxuICAgICAgICAgIHVzZWRQYXJhbXM6IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucylcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVkID0gdGhpcy5yZXNvbHZlKGtleXMsIG9wdGlvbnMpO1xuICAgIGxldCByZXMgPSByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXM7XG4gICAgY29uc3QgcmVzVXNlZEtleSA9IHJlc29sdmVkICYmIHJlc29sdmVkLnVzZWRLZXkgfHwga2V5O1xuICAgIGNvbnN0IHJlc0V4YWN0VXNlZEtleSA9IHJlc29sdmVkICYmIHJlc29sdmVkLmV4YWN0VXNlZEtleSB8fCBrZXk7XG4gICAgY29uc3QgcmVzVHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkocmVzKTtcbiAgICBjb25zdCBub09iamVjdCA9IFsnW29iamVjdCBOdW1iZXJdJywgJ1tvYmplY3QgRnVuY3Rpb25dJywgJ1tvYmplY3QgUmVnRXhwXSddO1xuICAgIGNvbnN0IGpvaW5BcnJheXMgPSBvcHRpb25zLmpvaW5BcnJheXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuam9pbkFycmF5cyA6IHRoaXMub3B0aW9ucy5qb2luQXJyYXlzO1xuICAgIGNvbnN0IGhhbmRsZUFzT2JqZWN0SW5JMThuRm9ybWF0ID0gIXRoaXMuaTE4bkZvcm1hdCB8fCB0aGlzLmkxOG5Gb3JtYXQuaGFuZGxlQXNPYmplY3Q7XG4gICAgY29uc3QgaGFuZGxlQXNPYmplY3QgPSAhaXNTdHJpbmcocmVzKSAmJiB0eXBlb2YgcmVzICE9PSAnYm9vbGVhbicgJiYgdHlwZW9mIHJlcyAhPT0gJ251bWJlcic7XG4gICAgaWYgKGhhbmRsZUFzT2JqZWN0SW5JMThuRm9ybWF0ICYmIHJlcyAmJiBoYW5kbGVBc09iamVjdCAmJiBub09iamVjdC5pbmRleE9mKHJlc1R5cGUpIDwgMCAmJiAhKGlzU3RyaW5nKGpvaW5BcnJheXMpICYmIEFycmF5LmlzQXJyYXkocmVzKSkpIHtcbiAgICAgIGlmICghb3B0aW9ucy5yZXR1cm5PYmplY3RzICYmICF0aGlzLm9wdGlvbnMucmV0dXJuT2JqZWN0cykge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdhY2Nlc3NpbmcgYW4gb2JqZWN0IC0gYnV0IHJldHVybk9iamVjdHMgb3B0aW9ucyBpcyBub3QgZW5hYmxlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlciA/IHRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIocmVzVXNlZEtleSwgcmVzLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICBuczogbmFtZXNwYWNlc1xuICAgICAgICB9KSA6IGBrZXkgJyR7a2V5fSAoJHt0aGlzLmxhbmd1YWdlfSknIHJldHVybmVkIGFuIG9iamVjdCBpbnN0ZWFkIG9mIHN0cmluZy5gO1xuICAgICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICAgIHJlc29sdmVkLnJlcyA9IHI7XG4gICAgICAgICAgcmVzb2x2ZWQudXNlZFBhcmFtcyA9IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucyk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgICAgaWYgKGtleVNlcGFyYXRvcikge1xuICAgICAgICBjb25zdCByZXNUeXBlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkocmVzKTtcbiAgICAgICAgY29uc3QgY29weSA9IHJlc1R5cGVJc0FycmF5ID8gW10gOiB7fTtcbiAgICAgICAgY29uc3QgbmV3S2V5VG9Vc2UgPSByZXNUeXBlSXNBcnJheSA/IHJlc0V4YWN0VXNlZEtleSA6IHJlc1VzZWRLZXk7XG4gICAgICAgIGZvciAoY29uc3QgbSBpbiByZXMpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcywgbSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZXBLZXkgPSBgJHtuZXdLZXlUb1VzZX0ke2tleVNlcGFyYXRvcn0ke219YDtcbiAgICAgICAgICAgIGNvcHlbbV0gPSB0aGlzLnRyYW5zbGF0ZShkZWVwS2V5LCB7XG4gICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgIC4uLntcbiAgICAgICAgICAgICAgICBqb2luQXJyYXlzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuczogbmFtZXNwYWNlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjb3B5W21dID09PSBkZWVwS2V5KSBjb3B5W21dID0gcmVzW21dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXMgPSBjb3B5O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgaXNTdHJpbmcoam9pbkFycmF5cykgJiYgQXJyYXkuaXNBcnJheShyZXMpKSB7XG4gICAgICByZXMgPSByZXMuam9pbihqb2luQXJyYXlzKTtcbiAgICAgIGlmIChyZXMpIHJlcyA9IHRoaXMuZXh0ZW5kVHJhbnNsYXRpb24ocmVzLCBrZXlzLCBvcHRpb25zLCBsYXN0S2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHVzZWREZWZhdWx0ID0gZmFsc2U7XG4gICAgICBsZXQgdXNlZEtleSA9IGZhbHNlO1xuICAgICAgY29uc3QgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiAhaXNTdHJpbmcob3B0aW9ucy5jb3VudCk7XG4gICAgICBjb25zdCBoYXNEZWZhdWx0VmFsdWUgPSBUcmFuc2xhdG9yLmhhc0RlZmF1bHRWYWx1ZShvcHRpb25zKTtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZVN1ZmZpeCA9IG5lZWRzUGx1cmFsSGFuZGxpbmcgPyB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChsbmcsIG9wdGlvbnMuY291bnQsIG9wdGlvbnMpIDogJyc7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWVTdWZmaXhPcmRpbmFsRmFsbGJhY2sgPSBvcHRpb25zLm9yZGluYWwgJiYgbmVlZHNQbHVyYWxIYW5kbGluZyA/IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGxuZywgb3B0aW9ucy5jb3VudCwge1xuICAgICAgICBvcmRpbmFsOiBmYWxzZVxuICAgICAgfSkgOiAnJztcbiAgICAgIGNvbnN0IG5lZWRzWmVyb1N1ZmZpeExvb2t1cCA9IG5lZWRzUGx1cmFsSGFuZGxpbmcgJiYgIW9wdGlvbnMub3JkaW5hbCAmJiBvcHRpb25zLmNvdW50ID09PSAwICYmIHRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gbmVlZHNaZXJvU3VmZml4TG9va3VwICYmIG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYF0gfHwgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHtkZWZhdWx0VmFsdWVTdWZmaXh9YF0gfHwgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHtkZWZhdWx0VmFsdWVTdWZmaXhPcmRpbmFsRmFsbGJhY2t9YF0gfHwgb3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChyZXMpICYmIGhhc0RlZmF1bHRWYWx1ZSkge1xuICAgICAgICB1c2VkRGVmYXVsdCA9IHRydWU7XG4gICAgICAgIHJlcyA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkTG9va3VwKHJlcykpIHtcbiAgICAgICAgdXNlZEtleSA9IHRydWU7XG4gICAgICAgIHJlcyA9IGtleTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSA9IG9wdGlvbnMubWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5IHx8IHRoaXMub3B0aW9ucy5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXk7XG4gICAgICBjb25zdCByZXNGb3JNaXNzaW5nID0gbWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5ICYmIHVzZWRLZXkgPyB1bmRlZmluZWQgOiByZXM7XG4gICAgICBjb25zdCB1cGRhdGVNaXNzaW5nID0gaGFzRGVmYXVsdFZhbHVlICYmIGRlZmF1bHRWYWx1ZSAhPT0gcmVzICYmIHRoaXMub3B0aW9ucy51cGRhdGVNaXNzaW5nO1xuICAgICAgaWYgKHVzZWRLZXkgfHwgdXNlZERlZmF1bHQgfHwgdXBkYXRlTWlzc2luZykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2codXBkYXRlTWlzc2luZyA/ICd1cGRhdGVLZXknIDogJ21pc3NpbmdLZXknLCBsbmcsIG5hbWVzcGFjZSwga2V5LCB1cGRhdGVNaXNzaW5nID8gZGVmYXVsdFZhbHVlIDogcmVzKTtcbiAgICAgICAgaWYgKGtleVNlcGFyYXRvcikge1xuICAgICAgICAgIGNvbnN0IGZrID0gdGhpcy5yZXNvbHZlKGtleSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGtleVNlcGFyYXRvcjogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoZmsgJiYgZmsucmVzKSB0aGlzLmxvZ2dlci53YXJuKCdTZWVtcyB0aGUgbG9hZGVkIHRyYW5zbGF0aW9ucyB3ZXJlIGluIGZsYXQgSlNPTiBmb3JtYXQgaW5zdGVhZCBvZiBuZXN0ZWQuIEVpdGhlciBzZXQga2V5U2VwYXJhdG9yOiBmYWxzZSBvbiBpbml0IG9yIG1ha2Ugc3VyZSB5b3VyIHRyYW5zbGF0aW9ucyBhcmUgcHVibGlzaGVkIGluIG5lc3RlZCBmb3JtYXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxuZ3MgPSBbXTtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tMbmdzID0gdGhpcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nLCBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvID09PSAnZmFsbGJhY2snICYmIGZhbGxiYWNrTG5ncyAmJiBmYWxsYmFja0xuZ3NbMF0pIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhbGxiYWNrTG5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbG5ncy5wdXNoKGZhbGxiYWNrTG5nc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvID09PSAnYWxsJykge1xuICAgICAgICAgIGxuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxuZ3MucHVzaChvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZW5kID0gKGwsIGssIHNwZWNpZmljRGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdEZvck1pc3NpbmcgPSBoYXNEZWZhdWx0VmFsdWUgJiYgc3BlY2lmaWNEZWZhdWx0VmFsdWUgIT09IHJlcyA/IHNwZWNpZmljRGVmYXVsdFZhbHVlIDogcmVzRm9yTWlzc2luZztcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIobCwgbmFtZXNwYWNlLCBrLCBkZWZhdWx0Rm9yTWlzc2luZywgdXBkYXRlTWlzc2luZywgb3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJhY2tlbmRDb25uZWN0b3IgJiYgdGhpcy5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcobCwgbmFtZXNwYWNlLCBrLCBkZWZhdWx0Rm9yTWlzc2luZywgdXBkYXRlTWlzc2luZywgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZW1pdCgnbWlzc2luZ0tleScsIGwsIG5hbWVzcGFjZSwgaywgcmVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZykge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdQbHVyYWxzICYmIG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGxuZ3MuZm9yRWFjaChsYW5ndWFnZSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN1ZmZpeGVzID0gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXhlcyhsYW5ndWFnZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc1plcm9TdWZmaXhMb29rdXAgJiYgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSAmJiBzdWZmaXhlcy5pbmRleE9mKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApIDwgMCkge1xuICAgICAgICAgICAgICAgIHN1ZmZpeGVzLnB1c2goYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3VmZml4ZXMuZm9yRWFjaChzdWZmaXggPT4ge1xuICAgICAgICAgICAgICAgIHNlbmQoW2xhbmd1YWdlXSwga2V5ICsgc3VmZml4LCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke3N1ZmZpeH1gXSB8fCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kKGxuZ3MsIGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlcyA9IHRoaXMuZXh0ZW5kVHJhbnNsYXRpb24ocmVzLCBrZXlzLCBvcHRpb25zLCByZXNvbHZlZCwgbGFzdEtleSk7XG4gICAgICBpZiAodXNlZEtleSAmJiByZXMgPT09IGtleSAmJiB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5KSByZXMgPSBgJHtuYW1lc3BhY2V9OiR7a2V5fWA7XG4gICAgICBpZiAoKHVzZWRLZXkgfHwgdXNlZERlZmF1bHQpICYmIHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJykge1xuICAgICAgICAgIHJlcyA9IHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXkgPyBgJHtuYW1lc3BhY2V9OiR7a2V5fWAgOiBrZXksIHVzZWREZWZhdWx0ID8gcmVzIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSB0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcihyZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZXR1cm5EZXRhaWxzKSB7XG4gICAgICByZXNvbHZlZC5yZXMgPSByZXM7XG4gICAgICByZXNvbHZlZC51c2VkUGFyYW1zID0gdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBleHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleSwgb3B0aW9ucywgcmVzb2x2ZWQsIGxhc3RLZXkpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LnBhcnNlKSB7XG4gICAgICByZXMgPSB0aGlzLmkxOG5Gb3JtYXQucGFyc2UocmVzLCB7XG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH0sIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UgfHwgcmVzb2x2ZWQudXNlZExuZywgcmVzb2x2ZWQudXNlZE5TLCByZXNvbHZlZC51c2VkS2V5LCB7XG4gICAgICAgIHJlc29sdmVkXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFvcHRpb25zLnNraXBJbnRlcnBvbGF0aW9uKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbnRlcnBvbGF0aW9uKSB0aGlzLmludGVycG9sYXRvci5pbml0KHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ue1xuICAgICAgICAgIGludGVycG9sYXRpb246IHtcbiAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgLi4ub3B0aW9ucy5pbnRlcnBvbGF0aW9uXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNraXBPblZhcmlhYmxlcyA9IGlzU3RyaW5nKHJlcykgJiYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMgOiB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMpO1xuICAgICAgbGV0IG5lc3RCZWY7XG4gICAgICBpZiAoc2tpcE9uVmFyaWFibGVzKSB7XG4gICAgICAgIGNvbnN0IG5iID0gcmVzLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO1xuICAgICAgICBuZXN0QmVmID0gbmIgJiYgbmIubGVuZ3RoO1xuICAgICAgfVxuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLnJlcGxhY2UgJiYgIWlzU3RyaW5nKG9wdGlvbnMucmVwbGFjZSkgPyBvcHRpb25zLnJlcGxhY2UgOiBvcHRpb25zO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMpIGRhdGEgPSB7XG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgICByZXMgPSB0aGlzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShyZXMsIGRhdGEsIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UgfHwgcmVzb2x2ZWQudXNlZExuZywgb3B0aW9ucyk7XG4gICAgICBpZiAoc2tpcE9uVmFyaWFibGVzKSB7XG4gICAgICAgIGNvbnN0IG5hID0gcmVzLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO1xuICAgICAgICBjb25zdCBuZXN0QWZ0ID0gbmEgJiYgbmEubGVuZ3RoO1xuICAgICAgICBpZiAobmVzdEJlZiA8IG5lc3RBZnQpIG9wdGlvbnMubmVzdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCFvcHRpb25zLmxuZyAmJiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJyAmJiByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXMpIG9wdGlvbnMubG5nID0gdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nO1xuICAgICAgaWYgKG9wdGlvbnMubmVzdCAhPT0gZmFsc2UpIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLm5lc3QocmVzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RLZXkgJiYgbGFzdEtleVswXSA9PT0gYXJnc1swXSAmJiAhb3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oYEl0IHNlZW1zIHlvdSBhcmUgbmVzdGluZyByZWN1cnNpdmVseSBrZXk6ICR7YXJnc1swXX0gaW4ga2V5OiAke2tleVswXX1gKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXMudHJhbnNsYXRlKC4uLmFyZ3MsIGtleSk7XG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHRoaXMuaW50ZXJwb2xhdG9yLnJlc2V0KCk7XG4gICAgfVxuICAgIGNvbnN0IHBvc3RQcm9jZXNzID0gb3B0aW9ucy5wb3N0UHJvY2VzcyB8fCB0aGlzLm9wdGlvbnMucG9zdFByb2Nlc3M7XG4gICAgY29uc3QgcG9zdFByb2Nlc3Nvck5hbWVzID0gaXNTdHJpbmcocG9zdFByb2Nlc3MpID8gW3Bvc3RQcm9jZXNzXSA6IHBvc3RQcm9jZXNzO1xuICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCAmJiByZXMgIT09IG51bGwgJiYgcG9zdFByb2Nlc3Nvck5hbWVzICYmIHBvc3RQcm9jZXNzb3JOYW1lcy5sZW5ndGggJiYgb3B0aW9ucy5hcHBseVBvc3RQcm9jZXNzb3IgIT09IGZhbHNlKSB7XG4gICAgICByZXMgPSBwb3N0UHJvY2Vzc29yLmhhbmRsZShwb3N0UHJvY2Vzc29yTmFtZXMsIHJlcywga2V5LCB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkID8ge1xuICAgICAgICBpMThuUmVzb2x2ZWQ6IHtcbiAgICAgICAgICAuLi5yZXNvbHZlZCxcbiAgICAgICAgICB1c2VkUGFyYW1zOiB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpXG4gICAgICAgIH0sXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH0gOiBvcHRpb25zLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXNvbHZlKGtleXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgbGV0IGZvdW5kO1xuICAgIGxldCB1c2VkS2V5O1xuICAgIGxldCBleGFjdFVzZWRLZXk7XG4gICAgbGV0IHVzZWRMbmc7XG4gICAgbGV0IHVzZWROUztcbiAgICBpZiAoaXNTdHJpbmcoa2V5cykpIGtleXMgPSBba2V5c107XG4gICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdEZyb21LZXkoaywgb3B0aW9ucyk7XG4gICAgICBjb25zdCBrZXkgPSBleHRyYWN0ZWQua2V5O1xuICAgICAgdXNlZEtleSA9IGtleTtcbiAgICAgIGxldCBuYW1lc3BhY2VzID0gZXh0cmFjdGVkLm5hbWVzcGFjZXM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmZhbGxiYWNrTlMpIG5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzLmNvbmNhdCh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUyk7XG4gICAgICBjb25zdCBuZWVkc1BsdXJhbEhhbmRsaW5nID0gb3B0aW9ucy5jb3VudCAhPT0gdW5kZWZpbmVkICYmICFpc1N0cmluZyhvcHRpb25zLmNvdW50KTtcbiAgICAgIGNvbnN0IG5lZWRzWmVyb1N1ZmZpeExvb2t1cCA9IG5lZWRzUGx1cmFsSGFuZGxpbmcgJiYgIW9wdGlvbnMub3JkaW5hbCAmJiBvcHRpb25zLmNvdW50ID09PSAwICYmIHRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpO1xuICAgICAgY29uc3QgbmVlZHNDb250ZXh0SGFuZGxpbmcgPSBvcHRpb25zLmNvbnRleHQgIT09IHVuZGVmaW5lZCAmJiAoaXNTdHJpbmcob3B0aW9ucy5jb250ZXh0KSB8fCB0eXBlb2Ygb3B0aW9ucy5jb250ZXh0ID09PSAnbnVtYmVyJykgJiYgb3B0aW9ucy5jb250ZXh0ICE9PSAnJztcbiAgICAgIGNvbnN0IGNvZGVzID0gb3B0aW9ucy5sbmdzID8gb3B0aW9ucy5sbmdzIDogdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlLCBvcHRpb25zLmZhbGxiYWNrTG5nKTtcbiAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChucyA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgIHVzZWROUyA9IG5zO1xuICAgICAgICBpZiAoIWNoZWNrZWRMb2FkZWRGb3JbYCR7Y29kZXNbMF19LSR7bnN9YF0gJiYgdGhpcy51dGlscyAmJiB0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSAmJiAhdGhpcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UodXNlZE5TKSkge1xuICAgICAgICAgIGNoZWNrZWRMb2FkZWRGb3JbYCR7Y29kZXNbMF19LSR7bnN9YF0gPSB0cnVlO1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYGtleSBcIiR7dXNlZEtleX1cIiBmb3IgbGFuZ3VhZ2VzIFwiJHtjb2Rlcy5qb2luKCcsICcpfVwiIHdvbid0IGdldCByZXNvbHZlZCBhcyBuYW1lc3BhY2UgXCIke3VzZWROU31cIiB3YXMgbm90IHlldCBsb2FkZWRgLCAnVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZXMuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgICAgIHVzZWRMbmcgPSBjb2RlO1xuICAgICAgICAgIGNvbnN0IGZpbmFsS2V5cyA9IFtrZXldO1xuICAgICAgICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMpIHtcbiAgICAgICAgICAgIHRoaXMuaTE4bkZvcm1hdC5hZGRMb29rdXBLZXlzKGZpbmFsS2V5cywga2V5LCBjb2RlLCBucywgb3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwbHVyYWxTdWZmaXg7XG4gICAgICAgICAgICBpZiAobmVlZHNQbHVyYWxIYW5kbGluZykgcGx1cmFsU3VmZml4ID0gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoY29kZSwgb3B0aW9ucy5jb3VudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCB6ZXJvU3VmZml4ID0gYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYDtcbiAgICAgICAgICAgIGNvbnN0IG9yZGluYWxQcmVmaXggPSBgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfW9yZGluYWwke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9YDtcbiAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGtleSArIHBsdXJhbFN1ZmZpeCk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLm9yZGluYWwgJiYgcGx1cmFsU3VmZml4LmluZGV4T2Yob3JkaW5hbFByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChrZXkgKyBwbHVyYWxTdWZmaXgucmVwbGFjZShvcmRpbmFsUHJlZml4LCB0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCkge1xuICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGtleSArIHplcm9TdWZmaXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVlZHNDb250ZXh0SGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29udGV4dEtleSA9IGAke2tleX0ke3RoaXMub3B0aW9ucy5jb250ZXh0U2VwYXJhdG9yfSR7b3B0aW9ucy5jb250ZXh0fWA7XG4gICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGNvbnRleHRLZXkpO1xuICAgICAgICAgICAgICBpZiAobmVlZHNQbHVyYWxIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGNvbnRleHRLZXkgKyBwbHVyYWxTdWZmaXgpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9yZGluYWwgJiYgcGx1cmFsU3VmZml4LmluZGV4T2Yob3JkaW5hbFByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGNvbnRleHRLZXkgKyBwbHVyYWxTdWZmaXgucmVwbGFjZShvcmRpbmFsUHJlZml4LCB0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZWVkc1plcm9TdWZmaXhMb29rdXApIHtcbiAgICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGNvbnRleHRLZXkgKyB6ZXJvU3VmZml4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHBvc3NpYmxlS2V5O1xuICAgICAgICAgIHdoaWxlIChwb3NzaWJsZUtleSA9IGZpbmFsS2V5cy5wb3AoKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSB7XG4gICAgICAgICAgICAgIGV4YWN0VXNlZEtleSA9IHBvc3NpYmxlS2V5O1xuICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIHBvc3NpYmxlS2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlczogZm91bmQsXG4gICAgICB1c2VkS2V5LFxuICAgICAgZXhhY3RVc2VkS2V5LFxuICAgICAgdXNlZExuZyxcbiAgICAgIHVzZWROU1xuICAgIH07XG4gIH1cbiAgaXNWYWxpZExvb2t1cChyZXMpIHtcbiAgICByZXR1cm4gcmVzICE9PSB1bmRlZmluZWQgJiYgISghdGhpcy5vcHRpb25zLnJldHVybk51bGwgJiYgcmVzID09PSBudWxsKSAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuRW1wdHlTdHJpbmcgJiYgcmVzID09PSAnJyk7XG4gIH1cbiAgZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBpZiAodGhpcy5pMThuRm9ybWF0ICYmIHRoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZSkgcmV0dXJuIHRoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZShjb2RlLCBucywga2V5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5yZXNvdXJjZVN0b3JlLmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICB9XG4gIGdldFVzZWRQYXJhbXNEZXRhaWxzKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBjb25zdCBvcHRpb25zS2V5cyA9IFsnZGVmYXVsdFZhbHVlJywgJ29yZGluYWwnLCAnY29udGV4dCcsICdyZXBsYWNlJywgJ2xuZycsICdsbmdzJywgJ2ZhbGxiYWNrTG5nJywgJ25zJywgJ2tleVNlcGFyYXRvcicsICduc1NlcGFyYXRvcicsICdyZXR1cm5PYmplY3RzJywgJ3JldHVybkRldGFpbHMnLCAnam9pbkFycmF5cycsICdwb3N0UHJvY2VzcycsICdpbnRlcnBvbGF0aW9uJ107XG4gICAgY29uc3QgdXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhID0gb3B0aW9ucy5yZXBsYWNlICYmICFpc1N0cmluZyhvcHRpb25zLnJlcGxhY2UpO1xuICAgIGxldCBkYXRhID0gdXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhID8gb3B0aW9ucy5yZXBsYWNlIDogb3B0aW9ucztcbiAgICBpZiAodXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhICYmIHR5cGVvZiBvcHRpb25zLmNvdW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5jb3VudCA9IG9wdGlvbnMuY291bnQ7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzLFxuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXVzZU9wdGlvbnNSZXBsYWNlRm9yRGF0YSkge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfTtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIG9wdGlvbnNLZXlzKSB7XG4gICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIHN0YXRpYyBoYXNEZWZhdWx0VmFsdWUob3B0aW9ucykge1xuICAgIGNvbnN0IHByZWZpeCA9ICdkZWZhdWx0VmFsdWUnO1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgb3B0aW9uKSAmJiBwcmVmaXggPT09IG9wdGlvbi5zdWJzdHJpbmcoMCwgcHJlZml4Lmxlbmd0aCkgJiYgdW5kZWZpbmVkICE9PSBvcHRpb25zW29wdGlvbl0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBjYXBpdGFsaXplID0gc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbmNsYXNzIExhbmd1YWdlVXRpbCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuc3VwcG9ydGVkTG5ncyA9IHRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IGZhbHNlO1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2xhbmd1YWdlVXRpbHMnKTtcbiAgfVxuICBnZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSkge1xuICAgIGNvZGUgPSBnZXRDbGVhbmVkQ29kZShjb2RlKTtcbiAgICBpZiAoIWNvZGUgfHwgY29kZS5pbmRleE9mKCctJykgPCAwKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwID0gY29kZS5zcGxpdCgnLScpO1xuICAgIGlmIChwLmxlbmd0aCA9PT0gMikgcmV0dXJuIG51bGw7XG4gICAgcC5wb3AoKTtcbiAgICBpZiAocFtwLmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKCkgPT09ICd4JykgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHAuam9pbignLScpKTtcbiAgfVxuICBnZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKSB7XG4gICAgY29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUpO1xuICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBjb2RlO1xuICAgIGNvbnN0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHBbMF0pO1xuICB9XG4gIGZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSB7XG4gICAgaWYgKGlzU3RyaW5nKGNvZGUpICYmIGNvZGUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgIGlmICh0eXBlb2YgSW50bCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEludGwuZ2V0Q2Fub25pY2FsTG9jYWxlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgZm9ybWF0dGVkQ29kZSA9IEludGwuZ2V0Q2Fub25pY2FsTG9jYWxlcyhjb2RlKVswXTtcbiAgICAgICAgICBpZiAoZm9ybWF0dGVkQ29kZSAmJiB0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRDb2RlID0gZm9ybWF0dGVkQ29kZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZm9ybWF0dGVkQ29kZSkgcmV0dXJuIGZvcm1hdHRlZENvZGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICBjb25zdCBzcGVjaWFsQ2FzZXMgPSBbJ2hhbnMnLCAnaGFudCcsICdsYXRuJywgJ2N5cmwnLCAnY2FucycsICdtb25nJywgJ2FyYWInXTtcbiAgICAgIGxldCBwID0gY29kZS5zcGxpdCgnLScpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcpIHtcbiAgICAgICAgcCA9IHAubWFwKHBhcnQgPT4gcGFydC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAocC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcFswXSA9IHBbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcFsxXSA9IHBbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMV0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsxXSA9IGNhcGl0YWxpemUocFsxXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAocC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgcFswXSA9IHBbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHBbMV0ubGVuZ3RoID09PSAyKSBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAocFswXSAhPT0gJ3NnbicgJiYgcFsyXS5sZW5ndGggPT09IDIpIHBbMl0gPSBwWzJdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzFdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMV0gPSBjYXBpdGFsaXplKHBbMV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzJdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMl0gPSBjYXBpdGFsaXplKHBbMl0udG9Mb3dlckNhc2UoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcC5qb2luKCctJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2xlYW5Db2RlIHx8IHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcgPyBjb2RlLnRvTG93ZXJDYXNlKCkgOiBjb2RlO1xuICB9XG4gIGlzU3VwcG9ydGVkQ29kZShjb2RlKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkID09PSAnbGFuZ3VhZ2VPbmx5JyB8fCB0aGlzLm9wdGlvbnMubm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzKSB7XG4gICAgICBjb2RlID0gdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLnN1cHBvcnRlZExuZ3MgfHwgIXRoaXMuc3VwcG9ydGVkTG5ncy5sZW5ndGggfHwgdGhpcy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoY29kZSkgPiAtMTtcbiAgfVxuICBnZXRCZXN0TWF0Y2hGcm9tQ29kZXMoY29kZXMpIHtcbiAgICBpZiAoIWNvZGVzKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgZm91bmQ7XG4gICAgY29kZXMuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xlYW5lZExuZyA9IHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpO1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncyB8fCB0aGlzLmlzU3VwcG9ydGVkQ29kZShjbGVhbmVkTG5nKSkgZm91bmQgPSBjbGVhbmVkTG5nO1xuICAgIH0pO1xuICAgIGlmICghZm91bmQgJiYgdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MpIHtcbiAgICAgIGNvZGVzLmZvckVhY2goY29kZSA9PiB7XG4gICAgICAgIGlmIChmb3VuZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBsbmdPbmx5ID0gdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGxuZ09ubHkpKSByZXR1cm4gZm91bmQgPSBsbmdPbmx5O1xuICAgICAgICBmb3VuZCA9IHRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmZpbmQoc3VwcG9ydGVkTG5nID0+IHtcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nID09PSBsbmdPbmx5KSByZXR1cm4gc3VwcG9ydGVkTG5nO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpIDwgMCAmJiBsbmdPbmx5LmluZGV4T2YoJy0nKSA8IDApIHJldHVybjtcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YoJy0nKSA+IDAgJiYgbG5nT25seS5pbmRleE9mKCctJykgPCAwICYmIHN1cHBvcnRlZExuZy5zdWJzdHJpbmcoMCwgc3VwcG9ydGVkTG5nLmluZGV4T2YoJy0nKSkgPT09IGxuZ09ubHkpIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZy5pbmRleE9mKGxuZ09ubHkpID09PSAwICYmIGxuZ09ubHkubGVuZ3RoID4gMSkgcmV0dXJuIHN1cHBvcnRlZExuZztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSB0aGlzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKVswXTtcbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja3MsIGNvZGUpIHtcbiAgICBpZiAoIWZhbGxiYWNrcykgcmV0dXJuIFtdO1xuICAgIGlmICh0eXBlb2YgZmFsbGJhY2tzID09PSAnZnVuY3Rpb24nKSBmYWxsYmFja3MgPSBmYWxsYmFja3MoY29kZSk7XG4gICAgaWYgKGlzU3RyaW5nKGZhbGxiYWNrcykpIGZhbGxiYWNrcyA9IFtmYWxsYmFja3NdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZhbGxiYWNrcykpIHJldHVybiBmYWxsYmFja3M7XG4gICAgaWYgKCFjb2RlKSByZXR1cm4gZmFsbGJhY2tzLmRlZmF1bHQgfHwgW107XG4gICAgbGV0IGZvdW5kID0gZmFsbGJhY2tzW2NvZGVdO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3MuZGVmYXVsdDtcbiAgICByZXR1cm4gZm91bmQgfHwgW107XG4gIH1cbiAgdG9SZXNvbHZlSGllcmFyY2h5KGNvZGUsIGZhbGxiYWNrQ29kZSkge1xuICAgIGNvbnN0IGZhbGxiYWNrQ29kZXMgPSB0aGlzLmdldEZhbGxiYWNrQ29kZXMoZmFsbGJhY2tDb2RlIHx8IHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyB8fCBbXSwgY29kZSk7XG4gICAgY29uc3QgY29kZXMgPSBbXTtcbiAgICBjb25zdCBhZGRDb2RlID0gYyA9PiB7XG4gICAgICBpZiAoIWMpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkQ29kZShjKSkge1xuICAgICAgICBjb2Rlcy5wdXNoKGMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgcmVqZWN0aW5nIGxhbmd1YWdlIGNvZGUgbm90IGZvdW5kIGluIHN1cHBvcnRlZExuZ3M6ICR7Y31gKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChpc1N0cmluZyhjb2RlKSAmJiAoY29kZS5pbmRleE9mKCctJykgPiAtMSB8fCBjb2RlLmluZGV4T2YoJ18nKSA+IC0xKSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnbGFuZ3VhZ2VPbmx5JykgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknICYmIHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2N1cnJlbnRPbmx5JykgYWRkQ29kZSh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNvZGUpKSB7XG4gICAgICBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpKTtcbiAgICB9XG4gICAgZmFsbGJhY2tDb2Rlcy5mb3JFYWNoKGZjID0+IHtcbiAgICAgIGlmIChjb2Rlcy5pbmRleE9mKGZjKSA8IDApIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZmMpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29kZXM7XG4gIH1cbn1cblxubGV0IHNldHMgPSBbe1xuICBsbmdzOiBbJ2FjaCcsICdhaycsICdhbScsICdhcm4nLCAnYnInLCAnZmlsJywgJ2d1bicsICdsbicsICdtZmUnLCAnbWcnLCAnbWknLCAnb2MnLCAncHQnLCAncHQtQlInLCAndGcnLCAndGwnLCAndGknLCAndHInLCAndXonLCAnd2EnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDFcbn0sIHtcbiAgbG5nczogWydhZicsICdhbicsICdhc3QnLCAnYXonLCAnYmcnLCAnYm4nLCAnY2EnLCAnZGEnLCAnZGUnLCAnZGV2JywgJ2VsJywgJ2VuJywgJ2VvJywgJ2VzJywgJ2V0JywgJ2V1JywgJ2ZpJywgJ2ZvJywgJ2Z1cicsICdmeScsICdnbCcsICdndScsICdoYScsICdoaScsICdodScsICdoeScsICdpYScsICdpdCcsICdraycsICdrbicsICdrdScsICdsYicsICdtYWknLCAnbWwnLCAnbW4nLCAnbXInLCAnbmFoJywgJ25hcCcsICduYicsICduZScsICdubCcsICdubicsICdubycsICduc28nLCAncGEnLCAncGFwJywgJ3BtcycsICdwcycsICdwdC1QVCcsICdybScsICdzY28nLCAnc2UnLCAnc2knLCAnc28nLCAnc29uJywgJ3NxJywgJ3N2JywgJ3N3JywgJ3RhJywgJ3RlJywgJ3RrJywgJ3VyJywgJ3lvJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiAyXG59LCB7XG4gIGxuZ3M6IFsnYXknLCAnYm8nLCAnY2dnJywgJ2ZhJywgJ2h0JywgJ2lkJywgJ2phJywgJ2pibycsICdrYScsICdrbScsICdrbycsICdreScsICdsbycsICdtcycsICdzYWgnLCAnc3UnLCAndGgnLCAndHQnLCAndWcnLCAndmknLCAnd28nLCAnemgnXSxcbiAgbnI6IFsxXSxcbiAgZmM6IDNcbn0sIHtcbiAgbG5nczogWydiZScsICdicycsICdjbnInLCAnZHonLCAnaHInLCAncnUnLCAnc3InLCAndWsnXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDRcbn0sIHtcbiAgbG5nczogWydhciddLFxuICBucjogWzAsIDEsIDIsIDMsIDExLCAxMDBdLFxuICBmYzogNVxufSwge1xuICBsbmdzOiBbJ2NzJywgJ3NrJ10sXG4gIG5yOiBbMSwgMiwgNV0sXG4gIGZjOiA2XG59LCB7XG4gIGxuZ3M6IFsnY3NiJywgJ3BsJ10sXG4gIG5yOiBbMSwgMiwgNV0sXG4gIGZjOiA3XG59LCB7XG4gIGxuZ3M6IFsnY3knXSxcbiAgbnI6IFsxLCAyLCAzLCA4XSxcbiAgZmM6IDhcbn0sIHtcbiAgbG5nczogWydmciddLFxuICBucjogWzEsIDJdLFxuICBmYzogOVxufSwge1xuICBsbmdzOiBbJ2dhJ10sXG4gIG5yOiBbMSwgMiwgMywgNywgMTFdLFxuICBmYzogMTBcbn0sIHtcbiAgbG5nczogWydnZCddLFxuICBucjogWzEsIDIsIDMsIDIwXSxcbiAgZmM6IDExXG59LCB7XG4gIGxuZ3M6IFsnaXMnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDEyXG59LCB7XG4gIGxuZ3M6IFsnanYnXSxcbiAgbnI6IFswLCAxXSxcbiAgZmM6IDEzXG59LCB7XG4gIGxuZ3M6IFsna3cnXSxcbiAgbnI6IFsxLCAyLCAzLCA0XSxcbiAgZmM6IDE0XG59LCB7XG4gIGxuZ3M6IFsnbHQnXSxcbiAgbnI6IFsxLCAyLCAxMF0sXG4gIGZjOiAxNVxufSwge1xuICBsbmdzOiBbJ2x2J10sXG4gIG5yOiBbMSwgMiwgMF0sXG4gIGZjOiAxNlxufSwge1xuICBsbmdzOiBbJ21rJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiAxN1xufSwge1xuICBsbmdzOiBbJ21uayddLFxuICBucjogWzAsIDEsIDJdLFxuICBmYzogMThcbn0sIHtcbiAgbG5nczogWydtdCddLFxuICBucjogWzEsIDIsIDExLCAyMF0sXG4gIGZjOiAxOVxufSwge1xuICBsbmdzOiBbJ29yJ10sXG4gIG5yOiBbMiwgMV0sXG4gIGZjOiAyXG59LCB7XG4gIGxuZ3M6IFsncm8nXSxcbiAgbnI6IFsxLCAyLCAyMF0sXG4gIGZjOiAyMFxufSwge1xuICBsbmdzOiBbJ3NsJ10sXG4gIG5yOiBbNSwgMSwgMiwgM10sXG4gIGZjOiAyMVxufSwge1xuICBsbmdzOiBbJ2hlJywgJ2l3J10sXG4gIG5yOiBbMSwgMiwgMjAsIDIxXSxcbiAgZmM6IDIyXG59XTtcbmxldCBfcnVsZXNQbHVyYWxzVHlwZXMgPSB7XG4gIDE6IG4gPT4gTnVtYmVyKG4gPiAxKSxcbiAgMjogbiA9PiBOdW1iZXIobiAhPSAxKSxcbiAgMzogbiA9PiAwLFxuICA0OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gJSAxMCA+PSAyICYmIG4gJSAxMCA8PSA0ICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMiksXG4gIDU6IG4gPT4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogbiA9PSAyID8gMiA6IG4gJSAxMDAgPj0gMyAmJiBuICUgMTAwIDw9IDEwID8gMyA6IG4gJSAxMDAgPj0gMTEgPyA0IDogNSksXG4gIDY6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID49IDIgJiYgbiA8PSA0ID8gMSA6IDIpLFxuICA3OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKSxcbiAgODogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuICE9IDggJiYgbiAhPSAxMSA/IDIgOiAzKSxcbiAgOTogbiA9PiBOdW1iZXIobiA+PSAyKSxcbiAgMTA6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiA8IDcgPyAyIDogbiA8IDExID8gMyA6IDQpLFxuICAxMTogbiA9PiBOdW1iZXIobiA9PSAxIHx8IG4gPT0gMTEgPyAwIDogbiA9PSAyIHx8IG4gPT0gMTIgPyAxIDogbiA+IDIgJiYgbiA8IDIwID8gMiA6IDMpLFxuICAxMjogbiA9PiBOdW1iZXIobiAlIDEwICE9IDEgfHwgbiAlIDEwMCA9PSAxMSksXG4gIDEzOiBuID0+IE51bWJlcihuICE9PSAwKSxcbiAgMTQ6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiA9PSAzID8gMiA6IDMpLFxuICAxNTogbiA9PiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpLFxuICAxNjogbiA9PiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICE9PSAwID8gMSA6IDIpLFxuICAxNzogbiA9PiBOdW1iZXIobiA9PSAxIHx8IG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogMSksXG4gIDE4OiBuID0+IE51bWJlcihuID09IDAgPyAwIDogbiA9PSAxID8gMSA6IDIpLFxuICAxOTogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMCB8fCBuICUgMTAwID4gMSAmJiBuICUgMTAwIDwgMTEgPyAxIDogbiAlIDEwMCA+IDEwICYmIG4gJSAxMDAgPCAyMCA/IDIgOiAzKSxcbiAgMjA6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDAgfHwgbiAlIDEwMCA+IDAgJiYgbiAlIDEwMCA8IDIwID8gMSA6IDIpLFxuICAyMTogbiA9PiBOdW1iZXIobiAlIDEwMCA9PSAxID8gMSA6IG4gJSAxMDAgPT0gMiA/IDIgOiBuICUgMTAwID09IDMgfHwgbiAlIDEwMCA9PSA0ID8gMyA6IDApLFxuICAyMjogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiAobiA8IDAgfHwgbiA+IDEwKSAmJiBuICUgMTAgPT0gMCA/IDIgOiAzKVxufTtcbmNvbnN0IG5vbkludGxWZXJzaW9ucyA9IFsndjEnLCAndjInLCAndjMnXTtcbmNvbnN0IGludGxWZXJzaW9ucyA9IFsndjQnXTtcbmNvbnN0IHN1ZmZpeGVzT3JkZXIgPSB7XG4gIHplcm86IDAsXG4gIG9uZTogMSxcbiAgdHdvOiAyLFxuICBmZXc6IDMsXG4gIG1hbnk6IDQsXG4gIG90aGVyOiA1XG59O1xuY29uc3QgY3JlYXRlUnVsZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHJ1bGVzID0ge307XG4gIHNldHMuZm9yRWFjaChzZXQgPT4ge1xuICAgIHNldC5sbmdzLmZvckVhY2gobCA9PiB7XG4gICAgICBydWxlc1tsXSA9IHtcbiAgICAgICAgbnVtYmVyczogc2V0Lm5yLFxuICAgICAgICBwbHVyYWxzOiBfcnVsZXNQbHVyYWxzVHlwZXNbc2V0LmZjXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBydWxlcztcbn07XG5jbGFzcyBQbHVyYWxSZXNvbHZlciB7XG4gIGNvbnN0cnVjdG9yKGxhbmd1YWdlVXRpbHMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5sYW5ndWFnZVV0aWxzID0gbGFuZ3VhZ2VVdGlscztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ3BsdXJhbFJlc29sdmVyJyk7XG4gICAgaWYgKCghdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OIHx8IGludGxWZXJzaW9ucy5pbmNsdWRlcyh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04pKSAmJiAodHlwZW9mIEludGwgPT09ICd1bmRlZmluZWQnIHx8ICFJbnRsLlBsdXJhbFJ1bGVzKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID0gJ3YzJztcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdZb3VyIGVudmlyb25tZW50IHNlZW1zIG5vdCB0byBiZSBJbnRsIEFQSSBjb21wYXRpYmxlLCB1c2UgYW4gSW50bC5QbHVyYWxSdWxlcyBwb2x5ZmlsbC4gV2lsbCBmYWxsYmFjayB0byB0aGUgY29tcGF0aWJpbGl0eUpTT04gdjMgZm9ybWF0IGhhbmRsaW5nLicpO1xuICAgIH1cbiAgICB0aGlzLnJ1bGVzID0gY3JlYXRlUnVsZXMoKTtcbiAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGUgPSB7fTtcbiAgfVxuICBhZGRSdWxlKGxuZywgb2JqKSB7XG4gICAgdGhpcy5ydWxlc1tsbmddID0gb2JqO1xuICB9XG4gIGNsZWFyQ2FjaGUoKSB7XG4gICAgdGhpcy5wbHVyYWxSdWxlc0NhY2hlID0ge307XG4gIH1cbiAgZ2V0UnVsZShjb2RlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgY29uc3QgY2xlYW5lZENvZGUgPSBnZXRDbGVhbmVkQ29kZShjb2RlID09PSAnZGV2JyA/ICdlbicgOiBjb2RlKTtcbiAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLm9yZGluYWwgPyAnb3JkaW5hbCcgOiAnY2FyZGluYWwnO1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGNsZWFuZWRDb2RlLFxuICAgICAgICB0eXBlXG4gICAgICB9KTtcbiAgICAgIGlmIChjYWNoZUtleSBpbiB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1cmFsUnVsZXNDYWNoZVtjYWNoZUtleV07XG4gICAgICB9XG4gICAgICBsZXQgcnVsZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bGUgPSBuZXcgSW50bC5QbHVyYWxSdWxlcyhjbGVhbmVkQ29kZSwge1xuICAgICAgICAgIHR5cGVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCFjb2RlLm1hdGNoKC8tfF8vKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBsbmdQYXJ0ID0gdGhpcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgICAgICBydWxlID0gdGhpcy5nZXRSdWxlKGxuZ1BhcnQsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgdGhpcy5wbHVyYWxSdWxlc0NhY2hlW2NhY2hlS2V5XSA9IHJ1bGU7XG4gICAgICByZXR1cm4gcnVsZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucnVsZXNbY29kZV0gfHwgdGhpcy5ydWxlc1t0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSldO1xuICB9XG4gIG5lZWRzUGx1cmFsKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgIHJldHVybiBydWxlICYmIHJ1bGUucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5sZW5ndGggPiAxO1xuICAgIH1cbiAgICByZXR1cm4gcnVsZSAmJiBydWxlLm51bWJlcnMubGVuZ3RoID4gMTtcbiAgfVxuICBnZXRQbHVyYWxGb3Jtc09mS2V5KGNvZGUsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICByZXR1cm4gdGhpcy5nZXRTdWZmaXhlcyhjb2RlLCBvcHRpb25zKS5tYXAoc3VmZml4ID0+IGAke2tleX0ke3N1ZmZpeH1gKTtcbiAgfVxuICBnZXRTdWZmaXhlcyhjb2RlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNvbnN0IHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSwgb3B0aW9ucyk7XG4gICAgaWYgKCFydWxlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgcmV0dXJuIHJ1bGUucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5zb3J0KChwbHVyYWxDYXRlZ29yeTEsIHBsdXJhbENhdGVnb3J5MikgPT4gc3VmZml4ZXNPcmRlcltwbHVyYWxDYXRlZ29yeTFdIC0gc3VmZml4ZXNPcmRlcltwbHVyYWxDYXRlZ29yeTJdKS5tYXAocGx1cmFsQ2F0ZWdvcnkgPT4gYCR7dGhpcy5vcHRpb25zLnByZXBlbmR9JHtvcHRpb25zLm9yZGluYWwgPyBgb3JkaW5hbCR7dGhpcy5vcHRpb25zLnByZXBlbmR9YCA6ICcnfSR7cGx1cmFsQ2F0ZWdvcnl9YCk7XG4gICAgfVxuICAgIHJldHVybiBydWxlLm51bWJlcnMubWFwKG51bWJlciA9PiB0aGlzLmdldFN1ZmZpeChjb2RlLCBudW1iZXIsIG9wdGlvbnMpKTtcbiAgfVxuICBnZXRTdWZmaXgoY29kZSwgY291bnQpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAocnVsZSkge1xuICAgICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke29wdGlvbnMub3JkaW5hbCA/IGBvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gIDogJyd9JHtydWxlLnNlbGVjdChjb3VudCl9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShydWxlLCBjb3VudCk7XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyLndhcm4oYG5vIHBsdXJhbCBydWxlIGZvdW5kIGZvcjogJHtjb2RlfWApO1xuICAgIHJldHVybiAnJztcbiAgfVxuICBnZXRTdWZmaXhSZXRyb0NvbXBhdGlibGUocnVsZSwgY291bnQpIHtcbiAgICBjb25zdCBpZHggPSBydWxlLm5vQWJzID8gcnVsZS5wbHVyYWxzKGNvdW50KSA6IHJ1bGUucGx1cmFscyhNYXRoLmFicyhjb3VudCkpO1xuICAgIGxldCBzdWZmaXggPSBydWxlLm51bWJlcnNbaWR4XTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICBpZiAoc3VmZml4ID09PSAyKSB7XG4gICAgICAgIHN1ZmZpeCA9ICdwbHVyYWwnO1xuICAgICAgfSBlbHNlIGlmIChzdWZmaXggPT09IDEpIHtcbiAgICAgICAgc3VmZml4ID0gJyc7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJldHVyblN1ZmZpeCA9ICgpID0+IHRoaXMub3B0aW9ucy5wcmVwZW5kICYmIHN1ZmZpeC50b1N0cmluZygpID8gdGhpcy5vcHRpb25zLnByZXBlbmQgKyBzdWZmaXgudG9TdHJpbmcoKSA6IHN1ZmZpeC50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gPT09ICd2MScpIHtcbiAgICAgIGlmIChzdWZmaXggPT09IDEpIHJldHVybiAnJztcbiAgICAgIGlmICh0eXBlb2Ygc3VmZml4ID09PSAnbnVtYmVyJykgcmV0dXJuIGBfcGx1cmFsXyR7c3VmZml4LnRvU3RyaW5nKCl9YDtcbiAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YyJykge1xuICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucHJlcGVuZCAmJiBpZHgudG9TdHJpbmcoKSA/IHRoaXMub3B0aW9ucy5wcmVwZW5kICsgaWR4LnRvU3RyaW5nKCkgOiBpZHgudG9TdHJpbmcoKTtcbiAgfVxuICBzaG91bGRVc2VJbnRsQXBpKCkge1xuICAgIHJldHVybiAhbm9uSW50bFZlcnNpb25zLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTik7XG4gIH1cbn1cblxuY29uc3QgZGVlcEZpbmRXaXRoRGVmYXVsdHMgPSBmdW5jdGlvbiAoZGF0YSwgZGVmYXVsdERhdGEsIGtleSkge1xuICBsZXQga2V5U2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnLic7XG4gIGxldCBpZ25vcmVKU09OU3RydWN0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB0cnVlO1xuICBsZXQgcGF0aCA9IGdldFBhdGhXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSk7XG4gIGlmICghcGF0aCAmJiBpZ25vcmVKU09OU3RydWN0dXJlICYmIGlzU3RyaW5nKGtleSkpIHtcbiAgICBwYXRoID0gZGVlcEZpbmQoZGF0YSwga2V5LCBrZXlTZXBhcmF0b3IpO1xuICAgIGlmIChwYXRoID09PSB1bmRlZmluZWQpIHBhdGggPSBkZWVwRmluZChkZWZhdWx0RGF0YSwga2V5LCBrZXlTZXBhcmF0b3IpO1xuICB9XG4gIHJldHVybiBwYXRoO1xufTtcbmNvbnN0IHJlZ2V4U2FmZSA9IHZhbCA9PiB2YWwucmVwbGFjZSgvXFwkL2csICckJCQkJyk7XG5jbGFzcyBJbnRlcnBvbGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnaW50ZXJwb2xhdG9yJyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmZvcm1hdCA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0IHx8ICh2YWx1ZSA9PiB2YWx1ZSk7XG4gICAgdGhpcy5pbml0KG9wdGlvbnMpO1xuICB9XG4gIGluaXQoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGlmICghb3B0aW9ucy5pbnRlcnBvbGF0aW9uKSBvcHRpb25zLmludGVycG9sYXRpb24gPSB7XG4gICAgICBlc2NhcGVWYWx1ZTogdHJ1ZVxuICAgIH07XG4gICAgY29uc3Qge1xuICAgICAgZXNjYXBlOiBlc2NhcGUkMSxcbiAgICAgIGVzY2FwZVZhbHVlLFxuICAgICAgdXNlUmF3VmFsdWVUb0VzY2FwZSxcbiAgICAgIHByZWZpeCxcbiAgICAgIHByZWZpeEVzY2FwZWQsXG4gICAgICBzdWZmaXgsXG4gICAgICBzdWZmaXhFc2NhcGVkLFxuICAgICAgZm9ybWF0U2VwYXJhdG9yLFxuICAgICAgdW5lc2NhcGVTdWZmaXgsXG4gICAgICB1bmVzY2FwZVByZWZpeCxcbiAgICAgIG5lc3RpbmdQcmVmaXgsXG4gICAgICBuZXN0aW5nUHJlZml4RXNjYXBlZCxcbiAgICAgIG5lc3RpbmdTdWZmaXgsXG4gICAgICBuZXN0aW5nU3VmZml4RXNjYXBlZCxcbiAgICAgIG5lc3RpbmdPcHRpb25zU2VwYXJhdG9yLFxuICAgICAgbWF4UmVwbGFjZXMsXG4gICAgICBhbHdheXNGb3JtYXRcbiAgICB9ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uO1xuICAgIHRoaXMuZXNjYXBlID0gZXNjYXBlJDEgIT09IHVuZGVmaW5lZCA/IGVzY2FwZSQxIDogZXNjYXBlO1xuICAgIHRoaXMuZXNjYXBlVmFsdWUgPSBlc2NhcGVWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZXNjYXBlVmFsdWUgOiB0cnVlO1xuICAgIHRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSA9IHVzZVJhd1ZhbHVlVG9Fc2NhcGUgIT09IHVuZGVmaW5lZCA/IHVzZVJhd1ZhbHVlVG9Fc2NhcGUgOiBmYWxzZTtcbiAgICB0aGlzLnByZWZpeCA9IHByZWZpeCA/IHJlZ2V4RXNjYXBlKHByZWZpeCkgOiBwcmVmaXhFc2NhcGVkIHx8ICd7eyc7XG4gICAgdGhpcy5zdWZmaXggPSBzdWZmaXggPyByZWdleEVzY2FwZShzdWZmaXgpIDogc3VmZml4RXNjYXBlZCB8fCAnfX0nO1xuICAgIHRoaXMuZm9ybWF0U2VwYXJhdG9yID0gZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgICB0aGlzLnVuZXNjYXBlUHJlZml4ID0gdW5lc2NhcGVTdWZmaXggPyAnJyA6IHVuZXNjYXBlUHJlZml4IHx8ICctJztcbiAgICB0aGlzLnVuZXNjYXBlU3VmZml4ID0gdGhpcy51bmVzY2FwZVByZWZpeCA/ICcnIDogdW5lc2NhcGVTdWZmaXggfHwgJyc7XG4gICAgdGhpcy5uZXN0aW5nUHJlZml4ID0gbmVzdGluZ1ByZWZpeCA/IHJlZ2V4RXNjYXBlKG5lc3RpbmdQcmVmaXgpIDogbmVzdGluZ1ByZWZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyR0KCcpO1xuICAgIHRoaXMubmVzdGluZ1N1ZmZpeCA9IG5lc3RpbmdTdWZmaXggPyByZWdleEVzY2FwZShuZXN0aW5nU3VmZml4KSA6IG5lc3RpbmdTdWZmaXhFc2NhcGVkIHx8IHJlZ2V4RXNjYXBlKCcpJyk7XG4gICAgdGhpcy5uZXN0aW5nT3B0aW9uc1NlcGFyYXRvciA9IG5lc3RpbmdPcHRpb25zU2VwYXJhdG9yIHx8ICcsJztcbiAgICB0aGlzLm1heFJlcGxhY2VzID0gbWF4UmVwbGFjZXMgfHwgMTAwMDtcbiAgICB0aGlzLmFsd2F5c0Zvcm1hdCA9IGFsd2F5c0Zvcm1hdCAhPT0gdW5kZWZpbmVkID8gYWx3YXlzRm9ybWF0IDogZmFsc2U7XG4gICAgdGhpcy5yZXNldFJlZ0V4cCgpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMpIHRoaXMuaW5pdCh0aGlzLm9wdGlvbnMpO1xuICB9XG4gIHJlc2V0UmVnRXhwKCkge1xuICAgIGNvbnN0IGdldE9yUmVzZXRSZWdFeHAgPSAoZXhpc3RpbmdSZWdFeHAsIHBhdHRlcm4pID0+IHtcbiAgICAgIGlmIChleGlzdGluZ1JlZ0V4cCAmJiBleGlzdGluZ1JlZ0V4cC5zb3VyY2UgPT09IHBhdHRlcm4pIHtcbiAgICAgICAgZXhpc3RpbmdSZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nUmVnRXhwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybiwgJ2cnKTtcbiAgICB9O1xuICAgIHRoaXMucmVnZXhwID0gZ2V0T3JSZXNldFJlZ0V4cCh0aGlzLnJlZ2V4cCwgYCR7dGhpcy5wcmVmaXh9KC4rPykke3RoaXMuc3VmZml4fWApO1xuICAgIHRoaXMucmVnZXhwVW5lc2NhcGUgPSBnZXRPclJlc2V0UmVnRXhwKHRoaXMucmVnZXhwVW5lc2NhcGUsIGAke3RoaXMucHJlZml4fSR7dGhpcy51bmVzY2FwZVByZWZpeH0oLis/KSR7dGhpcy51bmVzY2FwZVN1ZmZpeH0ke3RoaXMuc3VmZml4fWApO1xuICAgIHRoaXMubmVzdGluZ1JlZ2V4cCA9IGdldE9yUmVzZXRSZWdFeHAodGhpcy5uZXN0aW5nUmVnZXhwLCBgJHt0aGlzLm5lc3RpbmdQcmVmaXh9KC4rPykke3RoaXMubmVzdGluZ1N1ZmZpeH1gKTtcbiAgfVxuICBpbnRlcnBvbGF0ZShzdHIsIGRhdGEsIGxuZywgb3B0aW9ucykge1xuICAgIGxldCBtYXRjaDtcbiAgICBsZXQgdmFsdWU7XG4gICAgbGV0IHJlcGxhY2VzO1xuICAgIGNvbnN0IGRlZmF1bHREYXRhID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMgfHwge307XG4gICAgY29uc3QgaGFuZGxlRm9ybWF0ID0ga2V5ID0+IHtcbiAgICAgIGlmIChrZXkuaW5kZXhPZih0aGlzLmZvcm1hdFNlcGFyYXRvcikgPCAwKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkZWVwRmluZFdpdGhEZWZhdWx0cyhkYXRhLCBkZWZhdWx0RGF0YSwga2V5LCB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLCB0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFsd2F5c0Zvcm1hdCA/IHRoaXMuZm9ybWF0KHBhdGgsIHVuZGVmaW5lZCwgbG5nLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIGludGVycG9sYXRpb25rZXk6IGtleVxuICAgICAgICB9KSA6IHBhdGg7XG4gICAgICB9XG4gICAgICBjb25zdCBwID0ga2V5LnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICAgIGNvbnN0IGsgPSBwLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgY29uc3QgZiA9IHAuam9pbih0aGlzLmZvcm1hdFNlcGFyYXRvcikudHJpbSgpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZXBGaW5kV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrLCB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLCB0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSksIGYsIGxuZywge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBpbnRlcnBvbGF0aW9ua2V5OiBrXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMucmVzZXRSZWdFeHAoKTtcbiAgICBjb25zdCBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPSBvcHRpb25zICYmIG9wdGlvbnMubWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyIHx8IHRoaXMub3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI7XG4gICAgY29uc3Qgc2tpcE9uVmFyaWFibGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyA6IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcztcbiAgICBjb25zdCB0b2RvcyA9IFt7XG4gICAgICByZWdleDogdGhpcy5yZWdleHBVbmVzY2FwZSxcbiAgICAgIHNhZmVWYWx1ZTogdmFsID0+IHJlZ2V4U2FmZSh2YWwpXG4gICAgfSwge1xuICAgICAgcmVnZXg6IHRoaXMucmVnZXhwLFxuICAgICAgc2FmZVZhbHVlOiB2YWwgPT4gdGhpcy5lc2NhcGVWYWx1ZSA/IHJlZ2V4U2FmZSh0aGlzLmVzY2FwZSh2YWwpKSA6IHJlZ2V4U2FmZSh2YWwpXG4gICAgfV07XG4gICAgdG9kb3MuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgIHJlcGxhY2VzID0gMDtcbiAgICAgIHdoaWxlIChtYXRjaCA9IHRvZG8ucmVnZXguZXhlYyhzdHIpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRWYXIgPSBtYXRjaFsxXS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gaGFuZGxlRm9ybWF0KG1hdGNoZWRWYXIpO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgbWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gbWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyKHN0ciwgbWF0Y2gsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdmFsdWUgPSBpc1N0cmluZyh0ZW1wKSA/IHRlbXAgOiAnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIG1hdGNoZWRWYXIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2tpcE9uVmFyaWFibGVzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYG1pc3NlZCB0byBwYXNzIGluIHZhcmlhYmxlICR7bWF0Y2hlZFZhcn0gZm9yIGludGVycG9sYXRpbmcgJHtzdHJ9YCk7XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpbmcodmFsdWUpICYmICF0aGlzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUpIHtcbiAgICAgICAgICB2YWx1ZSA9IG1ha2VTdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhZmVWYWx1ZSA9IHRvZG8uc2FmZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHNhZmVWYWx1ZSk7XG4gICAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgICB0b2RvLnJlZ2V4Lmxhc3RJbmRleCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgdG9kby5yZWdleC5sYXN0SW5kZXggLT0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlcysrO1xuICAgICAgICBpZiAocmVwbGFjZXMgPj0gdGhpcy5tYXhSZXBsYWNlcykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBuZXN0KHN0ciwgZmMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgY2xvbmVkT3B0aW9ucztcbiAgICBjb25zdCBoYW5kbGVIYXNPcHRpb25zID0gKGtleSwgaW5oZXJpdGVkT3B0aW9ucykgPT4ge1xuICAgICAgY29uc3Qgc2VwID0gdGhpcy5uZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjtcbiAgICAgIGlmIChrZXkuaW5kZXhPZihzZXApIDwgMCkgcmV0dXJuIGtleTtcbiAgICAgIGNvbnN0IGMgPSBrZXkuc3BsaXQobmV3IFJlZ0V4cChgJHtzZXB9WyBdKntgKSk7XG4gICAgICBsZXQgb3B0aW9uc1N0cmluZyA9IGB7JHtjWzFdfWA7XG4gICAgICBrZXkgPSBjWzBdO1xuICAgICAgb3B0aW9uc1N0cmluZyA9IHRoaXMuaW50ZXJwb2xhdGUob3B0aW9uc1N0cmluZywgY2xvbmVkT3B0aW9ucyk7XG4gICAgICBjb25zdCBtYXRjaGVkU2luZ2xlUXVvdGVzID0gb3B0aW9uc1N0cmluZy5tYXRjaCgvJy9nKTtcbiAgICAgIGNvbnN0IG1hdGNoZWREb3VibGVRdW90ZXMgPSBvcHRpb25zU3RyaW5nLm1hdGNoKC9cIi9nKTtcbiAgICAgIGlmIChtYXRjaGVkU2luZ2xlUXVvdGVzICYmIG1hdGNoZWRTaW5nbGVRdW90ZXMubGVuZ3RoICUgMiA9PT0gMCAmJiAhbWF0Y2hlZERvdWJsZVF1b3RlcyB8fCBtYXRjaGVkRG91YmxlUXVvdGVzLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgb3B0aW9uc1N0cmluZyA9IG9wdGlvbnNTdHJpbmcucmVwbGFjZSgvJy9nLCAnXCInKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNsb25lZE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmcpO1xuICAgICAgICBpZiAoaW5oZXJpdGVkT3B0aW9ucykgY2xvbmVkT3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5pbmhlcml0ZWRPcHRpb25zLFxuICAgICAgICAgIC4uLmNsb25lZE9wdGlvbnNcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgZmFpbGVkIHBhcnNpbmcgb3B0aW9ucyBzdHJpbmcgaW4gbmVzdGluZyBmb3Iga2V5ICR7a2V5fWAsIGUpO1xuICAgICAgICByZXR1cm4gYCR7a2V5fSR7c2VwfSR7b3B0aW9uc1N0cmluZ31gO1xuICAgICAgfVxuICAgICAgaWYgKGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlICYmIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlLmluZGV4T2YodGhpcy5wcmVmaXgpID4gLTEpIGRlbGV0ZSBjbG9uZWRPcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgICB3aGlsZSAobWF0Y2ggPSB0aGlzLm5lc3RpbmdSZWdleHAuZXhlYyhzdHIpKSB7XG4gICAgICBsZXQgZm9ybWF0dGVycyA9IFtdO1xuICAgICAgY2xvbmVkT3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfTtcbiAgICAgIGNsb25lZE9wdGlvbnMgPSBjbG9uZWRPcHRpb25zLnJlcGxhY2UgJiYgIWlzU3RyaW5nKGNsb25lZE9wdGlvbnMucmVwbGFjZSkgPyBjbG9uZWRPcHRpb25zLnJlcGxhY2UgOiBjbG9uZWRPcHRpb25zO1xuICAgICAgY2xvbmVkT3B0aW9ucy5hcHBseVBvc3RQcm9jZXNzb3IgPSBmYWxzZTtcbiAgICAgIGRlbGV0ZSBjbG9uZWRPcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgIGxldCBkb1JlZHVjZSA9IGZhbHNlO1xuICAgICAgaWYgKG1hdGNoWzBdLmluZGV4T2YodGhpcy5mb3JtYXRTZXBhcmF0b3IpICE9PSAtMSAmJiAhL3suKn0vLnRlc3QobWF0Y2hbMV0pKSB7XG4gICAgICAgIGNvbnN0IHIgPSBtYXRjaFsxXS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcikubWFwKGVsZW0gPT4gZWxlbS50cmltKCkpO1xuICAgICAgICBtYXRjaFsxXSA9IHIuc2hpZnQoKTtcbiAgICAgICAgZm9ybWF0dGVycyA9IHI7XG4gICAgICAgIGRvUmVkdWNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gZmMoaGFuZGxlSGFzT3B0aW9ucy5jYWxsKHRoaXMsIG1hdGNoWzFdLnRyaW0oKSwgY2xvbmVkT3B0aW9ucyksIGNsb25lZE9wdGlvbnMpO1xuICAgICAgaWYgKHZhbHVlICYmIG1hdGNoWzBdID09PSBzdHIgJiYgIWlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgaWYgKCFpc1N0cmluZyh2YWx1ZSkpIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYG1pc3NlZCB0byByZXNvbHZlICR7bWF0Y2hbMV19IGZvciBuZXN0aW5nICR7c3RyfWApO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGRvUmVkdWNlKSB7XG4gICAgICAgIHZhbHVlID0gZm9ybWF0dGVycy5yZWR1Y2UoKHYsIGYpID0+IHRoaXMuZm9ybWF0KHYsIGYsIG9wdGlvbnMubG5nLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICBpbnRlcnBvbGF0aW9ua2V5OiBtYXRjaFsxXS50cmltKClcbiAgICAgICAgfSksIHZhbHVlLnRyaW0oKSk7XG4gICAgICB9XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgdmFsdWUpO1xuICAgICAgdGhpcy5yZWdleHAubGFzdEluZGV4ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5jb25zdCBwYXJzZUZvcm1hdFN0ciA9IGZvcm1hdFN0ciA9PiB7XG4gIGxldCBmb3JtYXROYW1lID0gZm9ybWF0U3RyLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICBjb25zdCBmb3JtYXRPcHRpb25zID0ge307XG4gIGlmIChmb3JtYXRTdHIuaW5kZXhPZignKCcpID4gLTEpIHtcbiAgICBjb25zdCBwID0gZm9ybWF0U3RyLnNwbGl0KCcoJyk7XG4gICAgZm9ybWF0TmFtZSA9IHBbMF0udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgY29uc3Qgb3B0U3RyID0gcFsxXS5zdWJzdHJpbmcoMCwgcFsxXS5sZW5ndGggLSAxKTtcbiAgICBpZiAoZm9ybWF0TmFtZSA9PT0gJ2N1cnJlbmN5JyAmJiBvcHRTdHIuaW5kZXhPZignOicpIDwgMCkge1xuICAgICAgaWYgKCFmb3JtYXRPcHRpb25zLmN1cnJlbmN5KSBmb3JtYXRPcHRpb25zLmN1cnJlbmN5ID0gb3B0U3RyLnRyaW0oKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdE5hbWUgPT09ICdyZWxhdGl2ZXRpbWUnICYmIG9wdFN0ci5pbmRleE9mKCc6JykgPCAwKSB7XG4gICAgICBpZiAoIWZvcm1hdE9wdGlvbnMucmFuZ2UpIGZvcm1hdE9wdGlvbnMucmFuZ2UgPSBvcHRTdHIudHJpbSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcHRzID0gb3B0U3RyLnNwbGl0KCc7Jyk7XG4gICAgICBvcHRzLmZvckVhY2gob3B0ID0+IHtcbiAgICAgICAgaWYgKG9wdCkge1xuICAgICAgICAgIGNvbnN0IFtrZXksIC4uLnJlc3RdID0gb3B0LnNwbGl0KCc6Jyk7XG4gICAgICAgICAgY29uc3QgdmFsID0gcmVzdC5qb2luKCc6JykudHJpbSgpLnJlcGxhY2UoL14nK3wnKyQvZywgJycpO1xuICAgICAgICAgIGNvbnN0IHRyaW1tZWRLZXkgPSBrZXkudHJpbSgpO1xuICAgICAgICAgIGlmICghZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSkgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IHZhbDtcbiAgICAgICAgICBpZiAodmFsID09PSAnZmFsc2UnKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHZhbCA9PT0gJ3RydWUnKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIWlzTmFOKHZhbCkpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSBwYXJzZUludCh2YWwsIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgZm9ybWF0TmFtZSxcbiAgICBmb3JtYXRPcHRpb25zXG4gIH07XG59O1xuY29uc3QgY3JlYXRlQ2FjaGVkRm9ybWF0dGVyID0gZm4gPT4ge1xuICBjb25zdCBjYWNoZSA9IHt9O1xuICByZXR1cm4gKHZhbCwgbG5nLCBvcHRpb25zKSA9PiB7XG4gICAgbGV0IG9wdEZvckNhY2hlID0gb3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb25rZXkgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSAmJiBvcHRpb25zW29wdGlvbnMuaW50ZXJwb2xhdGlvbmtleV0pIHtcbiAgICAgIG9wdEZvckNhY2hlID0ge1xuICAgICAgICAuLi5vcHRGb3JDYWNoZSxcbiAgICAgICAgW29wdGlvbnMuaW50ZXJwb2xhdGlvbmtleV06IHVuZGVmaW5lZFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gbG5nICsgSlNPTi5zdHJpbmdpZnkob3B0Rm9yQ2FjaGUpO1xuICAgIGxldCBmb3JtYXR0ZXIgPSBjYWNoZVtrZXldO1xuICAgIGlmICghZm9ybWF0dGVyKSB7XG4gICAgICBmb3JtYXR0ZXIgPSBmbihnZXRDbGVhbmVkQ29kZShsbmcpLCBvcHRpb25zKTtcbiAgICAgIGNhY2hlW2tleV0gPSBmb3JtYXR0ZXI7XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXR0ZXIodmFsKTtcbiAgfTtcbn07XG5jbGFzcyBGb3JtYXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnZm9ybWF0dGVyJyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmZvcm1hdHMgPSB7XG4gICAgICBudW1iZXI6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIGN1cnJlbmN5OiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHQsXG4gICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeSdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwpO1xuICAgICAgfSksXG4gICAgICBkYXRldGltZTogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwpO1xuICAgICAgfSksXG4gICAgICByZWxhdGl2ZXRpbWU6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCwgb3B0LnJhbmdlIHx8ICdkYXknKTtcbiAgICAgIH0pLFxuICAgICAgbGlzdDogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5MaXN0Rm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KVxuICAgIH07XG4gICAgdGhpcy5pbml0KG9wdGlvbnMpO1xuICB9XG4gIGluaXQoc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICB9O1xuICAgIHRoaXMuZm9ybWF0U2VwYXJhdG9yID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdFNlcGFyYXRvciB8fCAnLCc7XG4gIH1cbiAgYWRkKG5hbWUsIGZjKSB7XG4gICAgdGhpcy5mb3JtYXRzW25hbWUudG9Mb3dlckNhc2UoKS50cmltKCldID0gZmM7XG4gIH1cbiAgYWRkQ2FjaGVkKG5hbWUsIGZjKSB7XG4gICAgdGhpcy5mb3JtYXRzW25hbWUudG9Mb3dlckNhc2UoKS50cmltKCldID0gY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKGZjKTtcbiAgfVxuICBmb3JtYXQodmFsdWUsIGZvcm1hdCwgbG5nKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGNvbnN0IGZvcm1hdHMgPSBmb3JtYXQuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpO1xuICAgIGlmIChmb3JtYXRzLmxlbmd0aCA+IDEgJiYgZm9ybWF0c1swXS5pbmRleE9mKCcoJykgPiAxICYmIGZvcm1hdHNbMF0uaW5kZXhPZignKScpIDwgMCAmJiBmb3JtYXRzLmZpbmQoZiA9PiBmLmluZGV4T2YoJyknKSA+IC0xKSkge1xuICAgICAgY29uc3QgbGFzdEluZGV4ID0gZm9ybWF0cy5maW5kSW5kZXgoZiA9PiBmLmluZGV4T2YoJyknKSA+IC0xKTtcbiAgICAgIGZvcm1hdHNbMF0gPSBbZm9ybWF0c1swXSwgLi4uZm9ybWF0cy5zcGxpY2UoMSwgbGFzdEluZGV4KV0uam9pbih0aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdHMucmVkdWNlKChtZW0sIGYpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9ybWF0TmFtZSxcbiAgICAgICAgZm9ybWF0T3B0aW9uc1xuICAgICAgfSA9IHBhcnNlRm9ybWF0U3RyKGYpO1xuICAgICAgaWYgKHRoaXMuZm9ybWF0c1tmb3JtYXROYW1lXSkge1xuICAgICAgICBsZXQgZm9ybWF0dGVkID0gbWVtO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHZhbE9wdGlvbnMgPSBvcHRpb25zICYmIG9wdGlvbnMuZm9ybWF0UGFyYW1zICYmIG9wdGlvbnMuZm9ybWF0UGFyYW1zW29wdGlvbnMuaW50ZXJwb2xhdGlvbmtleV0gfHwge307XG4gICAgICAgICAgY29uc3QgbCA9IHZhbE9wdGlvbnMubG9jYWxlIHx8IHZhbE9wdGlvbnMubG5nIHx8IG9wdGlvbnMubG9jYWxlIHx8IG9wdGlvbnMubG5nIHx8IGxuZztcbiAgICAgICAgICBmb3JtYXR0ZWQgPSB0aGlzLmZvcm1hdHNbZm9ybWF0TmFtZV0obWVtLCBsLCB7XG4gICAgICAgICAgICAuLi5mb3JtYXRPcHRpb25zLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIC4uLnZhbE9wdGlvbnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgdGhlcmUgd2FzIG5vIGZvcm1hdCBmdW5jdGlvbiBmb3IgJHtmb3JtYXROYW1lfWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5jb25zdCByZW1vdmVQZW5kaW5nID0gKHEsIG5hbWUpID0+IHtcbiAgaWYgKHEucGVuZGluZ1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVsZXRlIHEucGVuZGluZ1tuYW1lXTtcbiAgICBxLnBlbmRpbmdDb3VudC0tO1xuICB9XG59O1xuY2xhc3MgQ29ubmVjdG9yIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoYmFja2VuZCwgc3RvcmUsIHNlcnZpY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgdGhpcy5zZXJ2aWNlcyA9IHNlcnZpY2VzO1xuICAgIHRoaXMubGFuZ3VhZ2VVdGlscyA9IHNlcnZpY2VzLmxhbmd1YWdlVXRpbHM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdiYWNrZW5kQ29ubmVjdG9yJyk7XG4gICAgdGhpcy53YWl0aW5nUmVhZHMgPSBbXTtcbiAgICB0aGlzLm1heFBhcmFsbGVsUmVhZHMgPSBvcHRpb25zLm1heFBhcmFsbGVsUmVhZHMgfHwgMTA7XG4gICAgdGhpcy5yZWFkaW5nQ2FsbHMgPSAwO1xuICAgIHRoaXMubWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA+PSAwID8gb3B0aW9ucy5tYXhSZXRyaWVzIDogNTtcbiAgICB0aGlzLnJldHJ5VGltZW91dCA9IG9wdGlvbnMucmV0cnlUaW1lb3V0ID49IDEgPyBvcHRpb25zLnJldHJ5VGltZW91dCA6IDM1MDtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIGlmICh0aGlzLmJhY2tlbmQgJiYgdGhpcy5iYWNrZW5kLmluaXQpIHtcbiAgICAgIHRoaXMuYmFja2VuZC5pbml0KHNlcnZpY2VzLCBvcHRpb25zLmJhY2tlbmQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICBxdWV1ZUxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHRvTG9hZCA9IHt9O1xuICAgIGNvbnN0IHBlbmRpbmcgPSB7fTtcbiAgICBjb25zdCB0b0xvYWRMYW5ndWFnZXMgPSB7fTtcbiAgICBjb25zdCB0b0xvYWROYW1lc3BhY2VzID0ge307XG4gICAgbGFuZ3VhZ2VzLmZvckVhY2gobG5nID0+IHtcbiAgICAgIGxldCBoYXNBbGxOYW1lc3BhY2VzID0gdHJ1ZTtcbiAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChucyA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBgJHtsbmd9fCR7bnN9YDtcbiAgICAgICAgaWYgKCFvcHRpb25zLnJlbG9hZCAmJiB0aGlzLnN0b3JlLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IDI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZVtuYW1lXSA8IDApIDsgZWxzZSBpZiAodGhpcy5zdGF0ZVtuYW1lXSA9PT0gMSkge1xuICAgICAgICAgIGlmIChwZW5kaW5nW25hbWVdID09PSB1bmRlZmluZWQpIHBlbmRpbmdbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGVbbmFtZV0gPSAxO1xuICAgICAgICAgIGhhc0FsbE5hbWVzcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICBpZiAocGVuZGluZ1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBwZW5kaW5nW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodG9Mb2FkW25hbWVdID09PSB1bmRlZmluZWQpIHRvTG9hZFtuYW1lXSA9IHRydWU7XG4gICAgICAgICAgaWYgKHRvTG9hZE5hbWVzcGFjZXNbbnNdID09PSB1bmRlZmluZWQpIHRvTG9hZE5hbWVzcGFjZXNbbnNdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWhhc0FsbE5hbWVzcGFjZXMpIHRvTG9hZExhbmd1YWdlc1tsbmddID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBpZiAoT2JqZWN0LmtleXModG9Mb2FkKS5sZW5ndGggfHwgT2JqZWN0LmtleXMocGVuZGluZykubGVuZ3RoKSB7XG4gICAgICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICAgICBwZW5kaW5nLFxuICAgICAgICBwZW5kaW5nQ291bnQ6IE9iamVjdC5rZXlzKHBlbmRpbmcpLmxlbmd0aCxcbiAgICAgICAgbG9hZGVkOiB7fSxcbiAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdG9Mb2FkOiBPYmplY3Qua2V5cyh0b0xvYWQpLFxuICAgICAgcGVuZGluZzogT2JqZWN0LmtleXMocGVuZGluZyksXG4gICAgICB0b0xvYWRMYW5ndWFnZXM6IE9iamVjdC5rZXlzKHRvTG9hZExhbmd1YWdlcyksXG4gICAgICB0b0xvYWROYW1lc3BhY2VzOiBPYmplY3Qua2V5cyh0b0xvYWROYW1lc3BhY2VzKVxuICAgIH07XG4gIH1cbiAgbG9hZGVkKG5hbWUsIGVyciwgZGF0YSkge1xuICAgIGNvbnN0IHMgPSBuYW1lLnNwbGl0KCd8Jyk7XG4gICAgY29uc3QgbG5nID0gc1swXTtcbiAgICBjb25zdCBucyA9IHNbMV07XG4gICAgaWYgKGVycikgdGhpcy5lbWl0KCdmYWlsZWRMb2FkaW5nJywgbG5nLCBucywgZXJyKTtcbiAgICBpZiAoIWVyciAmJiBkYXRhKSB7XG4gICAgICB0aGlzLnN0b3JlLmFkZFJlc291cmNlQnVuZGxlKGxuZywgbnMsIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgIHNraXBDb3B5OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZVtuYW1lXSA9IGVyciA/IC0xIDogMjtcbiAgICBpZiAoZXJyICYmIGRhdGEpIHRoaXMuc3RhdGVbbmFtZV0gPSAwO1xuICAgIGNvbnN0IGxvYWRlZCA9IHt9O1xuICAgIHRoaXMucXVldWUuZm9yRWFjaChxID0+IHtcbiAgICAgIHB1c2hQYXRoKHEubG9hZGVkLCBbbG5nXSwgbnMpO1xuICAgICAgcmVtb3ZlUGVuZGluZyhxLCBuYW1lKTtcbiAgICAgIGlmIChlcnIpIHEuZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgIGlmIChxLnBlbmRpbmdDb3VudCA9PT0gMCAmJiAhcS5kb25lKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHEubG9hZGVkKS5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgIGlmICghbG9hZGVkW2xdKSBsb2FkZWRbbF0gPSB7fTtcbiAgICAgICAgICBjb25zdCBsb2FkZWRLZXlzID0gcS5sb2FkZWRbbF07XG4gICAgICAgICAgaWYgKGxvYWRlZEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2FkZWRLZXlzLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICAgIGlmIChsb2FkZWRbbF1bbl0gPT09IHVuZGVmaW5lZCkgbG9hZGVkW2xdW25dID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHEuZG9uZSA9IHRydWU7XG4gICAgICAgIGlmIChxLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICBxLmNhbGxiYWNrKHEuZXJyb3JzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBxLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIGxvYWRlZCk7XG4gICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuZmlsdGVyKHEgPT4gIXEuZG9uZSk7XG4gIH1cbiAgcmVhZChsbmcsIG5zLCBmY05hbWUpIHtcbiAgICBsZXQgdHJpZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG4gICAgbGV0IHdhaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRoaXMucmV0cnlUaW1lb3V0O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogdW5kZWZpbmVkO1xuICAgIGlmICghbG5nLmxlbmd0aCkgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgICBpZiAodGhpcy5yZWFkaW5nQ2FsbHMgPj0gdGhpcy5tYXhQYXJhbGxlbFJlYWRzKSB7XG4gICAgICB0aGlzLndhaXRpbmdSZWFkcy5wdXNoKHtcbiAgICAgICAgbG5nLFxuICAgICAgICBucyxcbiAgICAgICAgZmNOYW1lLFxuICAgICAgICB0cmllZCxcbiAgICAgICAgd2FpdCxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlYWRpbmdDYWxscysrO1xuICAgIGNvbnN0IHJlc29sdmVyID0gKGVyciwgZGF0YSkgPT4ge1xuICAgICAgdGhpcy5yZWFkaW5nQ2FsbHMtLTtcbiAgICAgIGlmICh0aGlzLndhaXRpbmdSZWFkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLndhaXRpbmdSZWFkcy5zaGlmdCgpO1xuICAgICAgICB0aGlzLnJlYWQobmV4dC5sbmcsIG5leHQubnMsIG5leHQuZmNOYW1lLCBuZXh0LnRyaWVkLCBuZXh0LndhaXQsIG5leHQuY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgaWYgKGVyciAmJiBkYXRhICYmIHRyaWVkIDwgdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVhZC5jYWxsKHRoaXMsIGxuZywgbnMsIGZjTmFtZSwgdHJpZWQgKyAxLCB3YWl0ICogMiwgY2FsbGJhY2spO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soZXJyLCBkYXRhKTtcbiAgICB9O1xuICAgIGNvbnN0IGZjID0gdGhpcy5iYWNrZW5kW2ZjTmFtZV0uYmluZCh0aGlzLmJhY2tlbmQpO1xuICAgIGlmIChmYy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHIgPSBmYyhsbmcsIG5zKTtcbiAgICAgICAgaWYgKHIgJiYgdHlwZW9mIHIudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHIudGhlbihkYXRhID0+IHJlc29sdmVyKG51bGwsIGRhdGEpKS5jYXRjaChyZXNvbHZlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZXIobnVsbCwgcik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXNvbHZlcihlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZmMobG5nLCBucywgcmVzb2x2ZXIpO1xuICB9XG4gIHByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIXRoaXMuYmFja2VuZCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4nKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcobGFuZ3VhZ2VzKSkgbGFuZ3VhZ2VzID0gdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsYW5ndWFnZXMpO1xuICAgIGlmIChpc1N0cmluZyhuYW1lc3BhY2VzKSkgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXTtcbiAgICBjb25zdCB0b0xvYWQgPSB0aGlzLnF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICBpZiAoIXRvTG9hZC50b0xvYWQubGVuZ3RoKSB7XG4gICAgICBpZiAoIXRvTG9hZC5wZW5kaW5nLmxlbmd0aCkgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0b0xvYWQudG9Mb2FkLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICB0aGlzLmxvYWRPbmUobmFtZSk7XG4gICAgfSk7XG4gIH1cbiAgbG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wcmVwYXJlTG9hZGluZyhsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIHt9LCBjYWxsYmFjayk7XG4gIH1cbiAgcmVsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge1xuICAgICAgcmVsb2FkOiB0cnVlXG4gICAgfSwgY2FsbGJhY2spO1xuICB9XG4gIGxvYWRPbmUobmFtZSkge1xuICAgIGxldCBwcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgIGNvbnN0IHMgPSBuYW1lLnNwbGl0KCd8Jyk7XG4gICAgY29uc3QgbG5nID0gc1swXTtcbiAgICBjb25zdCBucyA9IHNbMV07XG4gICAgdGhpcy5yZWFkKGxuZywgbnMsICdyZWFkJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIChlcnIsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnIpIHRoaXMubG9nZ2VyLndhcm4oYCR7cHJlZml4fWxvYWRpbmcgbmFtZXNwYWNlICR7bnN9IGZvciBsYW5ndWFnZSAke2xuZ30gZmFpbGVkYCwgZXJyKTtcbiAgICAgIGlmICghZXJyICYmIGRhdGEpIHRoaXMubG9nZ2VyLmxvZyhgJHtwcmVmaXh9bG9hZGVkIG5hbWVzcGFjZSAke25zfSBmb3IgbGFuZ3VhZ2UgJHtsbmd9YCwgZGF0YSk7XG4gICAgICB0aGlzLmxvYWRlZChuYW1lLCBlcnIsIGRhdGEpO1xuICAgIH0pO1xuICB9XG4gIHNhdmVNaXNzaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIGlzVXBkYXRlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IHt9O1xuICAgIGxldCBjbGIgPSBhcmd1bWVudHMubGVuZ3RoID4gNiAmJiBhcmd1bWVudHNbNl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s2XSA6ICgpID0+IHt9O1xuICAgIGlmICh0aGlzLnNlcnZpY2VzLnV0aWxzICYmIHRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlICYmICF0aGlzLnNlcnZpY2VzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZShuYW1lc3BhY2UpKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGBkaWQgbm90IHNhdmUga2V5IFwiJHtrZXl9XCIgYXMgdGhlIG5hbWVzcGFjZSBcIiR7bmFtZXNwYWNlfVwiIHdhcyBub3QgeWV0IGxvYWRlZGAsICdUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCB8fCBrZXkgPT09ICcnKSByZXR1cm47XG4gICAgaWYgKHRoaXMuYmFja2VuZCAmJiB0aGlzLmJhY2tlbmQuY3JlYXRlKSB7XG4gICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBpc1VwZGF0ZVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZjID0gdGhpcy5iYWNrZW5kLmNyZWF0ZS5iaW5kKHRoaXMuYmFja2VuZCk7XG4gICAgICBpZiAoZmMubGVuZ3RoIDwgNikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByO1xuICAgICAgICAgIGlmIChmYy5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgICAgIHIgPSBmYyhsYW5ndWFnZXMsIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlLCBvcHRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAociAmJiB0eXBlb2Ygci50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByLnRoZW4oZGF0YSA9PiBjbGIobnVsbCwgZGF0YSkpLmNhdGNoKGNsYik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsYihudWxsLCByKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNsYihlcnIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmYyhsYW5ndWFnZXMsIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlLCBjbGIsIG9wdHMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWxhbmd1YWdlcyB8fCAhbGFuZ3VhZ2VzWzBdKSByZXR1cm47XG4gICAgdGhpcy5zdG9yZS5hZGRSZXNvdXJjZShsYW5ndWFnZXNbMF0sIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlKTtcbiAgfVxufVxuXG5jb25zdCBnZXQgPSAoKSA9PiAoe1xuICBkZWJ1ZzogZmFsc2UsXG4gIGluaXRJbW1lZGlhdGU6IHRydWUsXG4gIG5zOiBbJ3RyYW5zbGF0aW9uJ10sXG4gIGRlZmF1bHROUzogWyd0cmFuc2xhdGlvbiddLFxuICBmYWxsYmFja0xuZzogWydkZXYnXSxcbiAgZmFsbGJhY2tOUzogZmFsc2UsXG4gIHN1cHBvcnRlZExuZ3M6IGZhbHNlLFxuICBub25FeHBsaWNpdFN1cHBvcnRlZExuZ3M6IGZhbHNlLFxuICBsb2FkOiAnYWxsJyxcbiAgcHJlbG9hZDogZmFsc2UsXG4gIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0cnVlLFxuICBrZXlTZXBhcmF0b3I6ICcuJyxcbiAgbnNTZXBhcmF0b3I6ICc6JyxcbiAgcGx1cmFsU2VwYXJhdG9yOiAnXycsXG4gIGNvbnRleHRTZXBhcmF0b3I6ICdfJyxcbiAgcGFydGlhbEJ1bmRsZWRMYW5ndWFnZXM6IGZhbHNlLFxuICBzYXZlTWlzc2luZzogZmFsc2UsXG4gIHVwZGF0ZU1pc3Npbmc6IGZhbHNlLFxuICBzYXZlTWlzc2luZ1RvOiAnZmFsbGJhY2snLFxuICBzYXZlTWlzc2luZ1BsdXJhbHM6IHRydWUsXG4gIG1pc3NpbmdLZXlIYW5kbGVyOiBmYWxzZSxcbiAgbWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyOiBmYWxzZSxcbiAgcG9zdFByb2Nlc3M6IGZhbHNlLFxuICBwb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZDogZmFsc2UsXG4gIHJldHVybk51bGw6IGZhbHNlLFxuICByZXR1cm5FbXB0eVN0cmluZzogdHJ1ZSxcbiAgcmV0dXJuT2JqZWN0czogZmFsc2UsXG4gIGpvaW5BcnJheXM6IGZhbHNlLFxuICByZXR1cm5lZE9iamVjdEhhbmRsZXI6IGZhbHNlLFxuICBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyOiBmYWxzZSxcbiAgYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5OiBmYWxzZSxcbiAgYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU6IGZhbHNlLFxuICBvdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcjogYXJncyA9PiB7XG4gICAgbGV0IHJldCA9IHt9O1xuICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ29iamVjdCcpIHJldCA9IGFyZ3NbMV07XG4gICAgaWYgKGlzU3RyaW5nKGFyZ3NbMV0pKSByZXQuZGVmYXVsdFZhbHVlID0gYXJnc1sxXTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1syXSkpIHJldC50RGVzY3JpcHRpb24gPSBhcmdzWzJdO1xuICAgIGlmICh0eXBlb2YgYXJnc1syXSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGFyZ3NbM10gPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gYXJnc1szXSB8fCBhcmdzWzJdO1xuICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICByZXRba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgZXNjYXBlVmFsdWU6IHRydWUsXG4gICAgZm9ybWF0OiB2YWx1ZSA9PiB2YWx1ZSxcbiAgICBwcmVmaXg6ICd7eycsXG4gICAgc3VmZml4OiAnfX0nLFxuICAgIGZvcm1hdFNlcGFyYXRvcjogJywnLFxuICAgIHVuZXNjYXBlUHJlZml4OiAnLScsXG4gICAgbmVzdGluZ1ByZWZpeDogJyR0KCcsXG4gICAgbmVzdGluZ1N1ZmZpeDogJyknLFxuICAgIG5lc3RpbmdPcHRpb25zU2VwYXJhdG9yOiAnLCcsXG4gICAgbWF4UmVwbGFjZXM6IDEwMDAsXG4gICAgc2tpcE9uVmFyaWFibGVzOiB0cnVlXG4gIH1cbn0pO1xuY29uc3QgdHJhbnNmb3JtT3B0aW9ucyA9IG9wdGlvbnMgPT4ge1xuICBpZiAoaXNTdHJpbmcob3B0aW9ucy5ucykpIG9wdGlvbnMubnMgPSBbb3B0aW9ucy5uc107XG4gIGlmIChpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG5nKSkgb3B0aW9ucy5mYWxsYmFja0xuZyA9IFtvcHRpb25zLmZhbGxiYWNrTG5nXTtcbiAgaWYgKGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tOUykpIG9wdGlvbnMuZmFsbGJhY2tOUyA9IFtvcHRpb25zLmZhbGxiYWNrTlNdO1xuICBpZiAob3B0aW9ucy5zdXBwb3J0ZWRMbmdzICYmIG9wdGlvbnMuc3VwcG9ydGVkTG5ncy5pbmRleE9mKCdjaW1vZGUnKSA8IDApIHtcbiAgICBvcHRpb25zLnN1cHBvcnRlZExuZ3MgPSBvcHRpb25zLnN1cHBvcnRlZExuZ3MuY29uY2F0KFsnY2ltb2RlJ10pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuY29uc3QgYmluZE1lbWJlckZ1bmN0aW9ucyA9IGluc3QgPT4ge1xuICBjb25zdCBtZW1zID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKGluc3QpKTtcbiAgbWVtcy5mb3JFYWNoKG1lbSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpbnN0W21lbV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluc3RbbWVtXSA9IGluc3RbbWVtXS5iaW5kKGluc3QpO1xuICAgIH1cbiAgfSk7XG59O1xuY2xhc3MgSTE4biBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3B0aW9ucyA9IHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucyk7XG4gICAgdGhpcy5zZXJ2aWNlcyA9IHt9O1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlcjtcbiAgICB0aGlzLm1vZHVsZXMgPSB7XG4gICAgICBleHRlcm5hbDogW11cbiAgICB9O1xuICAgIGJpbmRNZW1iZXJGdW5jdGlvbnModGhpcyk7XG4gICAgaWYgKGNhbGxiYWNrICYmICF0aGlzLmlzSW5pdGlhbGl6ZWQgJiYgIW9wdGlvbnMuaXNDbG9uZSkge1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkge1xuICAgICAgICB0aGlzLmluaXQob3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmluaXQob3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9XG4gIGluaXQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5pc0luaXRpYWxpemluZyA9IHRydWU7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5kZWZhdWx0TlMgJiYgb3B0aW9ucy5kZWZhdWx0TlMgIT09IGZhbHNlICYmIG9wdGlvbnMubnMpIHtcbiAgICAgIGlmIChpc1N0cmluZyhvcHRpb25zLm5zKSkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHROUyA9IG9wdGlvbnMubnM7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMubnMuaW5kZXhPZigndHJhbnNsYXRpb24nKSA8IDApIHtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0TlMgPSBvcHRpb25zLm5zWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkZWZPcHRzID0gZ2V0KCk7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4uZGVmT3B0cyxcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIC4uLnRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucylcbiAgICB9O1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJykge1xuICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24gPSB7XG4gICAgICAgIC4uLmRlZk9wdHMuaW50ZXJwb2xhdGlvbixcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubnNTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkTnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgIH1cbiAgICBjb25zdCBjcmVhdGVDbGFzc09uRGVtYW5kID0gQ2xhc3NPck9iamVjdCA9PiB7XG4gICAgICBpZiAoIUNsYXNzT3JPYmplY3QpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBDbGFzc09yT2JqZWN0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gbmV3IENsYXNzT3JPYmplY3QoKTtcbiAgICAgIHJldHVybiBDbGFzc09yT2JqZWN0O1xuICAgIH07XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSkge1xuICAgICAgaWYgKHRoaXMubW9kdWxlcy5sb2dnZXIpIHtcbiAgICAgICAgYmFzZUxvZ2dlci5pbml0KGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmxvZ2dlciksIHRoaXMub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlTG9nZ2VyLmluaXQobnVsbCwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGxldCBmb3JtYXR0ZXI7XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmZvcm1hdHRlcikge1xuICAgICAgICBmb3JtYXR0ZXIgPSB0aGlzLm1vZHVsZXMuZm9ybWF0dGVyO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgSW50bCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZm9ybWF0dGVyID0gRm9ybWF0dGVyO1xuICAgICAgfVxuICAgICAgY29uc3QgbHUgPSBuZXcgTGFuZ3VhZ2VVdGlsKHRoaXMub3B0aW9ucyk7XG4gICAgICB0aGlzLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUodGhpcy5vcHRpb25zLnJlc291cmNlcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnNlcnZpY2VzO1xuICAgICAgcy5sb2dnZXIgPSBiYXNlTG9nZ2VyO1xuICAgICAgcy5yZXNvdXJjZVN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgIHMubGFuZ3VhZ2VVdGlscyA9IGx1O1xuICAgICAgcy5wbHVyYWxSZXNvbHZlciA9IG5ldyBQbHVyYWxSZXNvbHZlcihsdSwge1xuICAgICAgICBwcmVwZW5kOiB0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yLFxuICAgICAgICBjb21wYXRpYmlsaXR5SlNPTjogdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OLFxuICAgICAgICBzaW1wbGlmeVBsdXJhbFN1ZmZpeDogdGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4XG4gICAgICB9KTtcbiAgICAgIGlmIChmb3JtYXR0ZXIgJiYgKCF0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgfHwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0ID09PSBkZWZPcHRzLmludGVycG9sYXRpb24uZm9ybWF0KSkge1xuICAgICAgICBzLmZvcm1hdHRlciA9IGNyZWF0ZUNsYXNzT25EZW1hbmQoZm9ybWF0dGVyKTtcbiAgICAgICAgcy5mb3JtYXR0ZXIuaW5pdChzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgPSBzLmZvcm1hdHRlci5mb3JtYXQuYmluZChzLmZvcm1hdHRlcik7XG4gICAgICB9XG4gICAgICBzLmludGVycG9sYXRvciA9IG5ldyBJbnRlcnBvbGF0b3IodGhpcy5vcHRpb25zKTtcbiAgICAgIHMudXRpbHMgPSB7XG4gICAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogdGhpcy5oYXNMb2FkZWROYW1lc3BhY2UuYmluZCh0aGlzKVxuICAgICAgfTtcbiAgICAgIHMuYmFja2VuZENvbm5lY3RvciA9IG5ldyBDb25uZWN0b3IoY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMuYmFja2VuZCksIHMucmVzb3VyY2VTdG9yZSwgcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIHMuYmFja2VuZENvbm5lY3Rvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3Rvcikge1xuICAgICAgICBzLmxhbmd1YWdlRGV0ZWN0b3IgPSBjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKTtcbiAgICAgICAgaWYgKHMubGFuZ3VhZ2VEZXRlY3Rvci5pbml0KSBzLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdChzLCB0aGlzLm9wdGlvbnMuZGV0ZWN0aW9uLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubW9kdWxlcy5pMThuRm9ybWF0KSB7XG4gICAgICAgIHMuaTE4bkZvcm1hdCA9IGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpO1xuICAgICAgICBpZiAocy5pMThuRm9ybWF0LmluaXQpIHMuaTE4bkZvcm1hdC5pbml0KHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFuc2xhdG9yID0gbmV3IFRyYW5zbGF0b3IodGhpcy5zZXJ2aWNlcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIHRoaXMudHJhbnNsYXRvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5mb3JFYWNoKG0gPT4ge1xuICAgICAgICBpZiAobS5pbml0KSBtLmluaXQodGhpcyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQ7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcgJiYgIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiAhdGhpcy5vcHRpb25zLmxuZykge1xuICAgICAgY29uc3QgY29kZXMgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgaWYgKGNvZGVzLmxlbmd0aCA+IDAgJiYgY29kZXNbMF0gIT09ICdkZXYnKSB0aGlzLm9wdGlvbnMubG5nID0gY29kZXNbMF07XG4gICAgfVxuICAgIGlmICghdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLm9wdGlvbnMubG5nKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdpbml0OiBubyBsYW5ndWFnZURldGVjdG9yIGlzIHVzZWQgYW5kIG5vIGxuZyBpcyBkZWZpbmVkJyk7XG4gICAgfVxuICAgIGNvbnN0IHN0b3JlQXBpID0gWydnZXRSZXNvdXJjZScsICdoYXNSZXNvdXJjZUJ1bmRsZScsICdnZXRSZXNvdXJjZUJ1bmRsZScsICdnZXREYXRhQnlMYW5ndWFnZSddO1xuICAgIHN0b3JlQXBpLmZvckVhY2goZmNOYW1lID0+IHtcbiAgICAgIHRoaXNbZmNOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnN0b3JlW2ZjTmFtZV0oLi4uYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3Qgc3RvcmVBcGlDaGFpbmVkID0gWydhZGRSZXNvdXJjZScsICdhZGRSZXNvdXJjZXMnLCAnYWRkUmVzb3VyY2VCdW5kbGUnLCAncmVtb3ZlUmVzb3VyY2VCdW5kbGUnXTtcbiAgICBzdG9yZUFwaUNoYWluZWQuZm9yRWFjaChmY05hbWUgPT4ge1xuICAgICAgdGhpc1tmY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zdG9yZVtmY05hbWVdKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBmaW5pc2ggPSAoZXJyLCB0KSA9PiB7XG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCAmJiAhdGhpcy5pbml0aWFsaXplZFN0b3JlT25jZSkgdGhpcy5sb2dnZXIud2FybignaW5pdDogaTE4bmV4dCBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiBZb3Ugc2hvdWxkIGNhbGwgaW5pdCBqdXN0IG9uY2UhJyk7XG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlzQ2xvbmUpIHRoaXMubG9nZ2VyLmxvZygnaW5pdGlhbGl6ZWQnLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2luaXRpYWxpemVkJywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0KTtcbiAgICAgICAgY2FsbGJhY2soZXJyLCB0KTtcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5sYW5ndWFnZXMgJiYgdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgIT09ICd2MScgJiYgIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuIGZpbmlzaChudWxsLCB0aGlzLnQuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmNoYW5nZUxhbmd1YWdlKHRoaXMub3B0aW9ucy5sbmcsIGZpbmlzaCk7XG4gICAgfTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc291cmNlcyB8fCAhdGhpcy5vcHRpb25zLmluaXRJbW1lZGlhdGUpIHtcbiAgICAgIGxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dChsb2FkLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGxvYWRSZXNvdXJjZXMobGFuZ3VhZ2UpIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG4gICAgbGV0IHVzZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIGNvbnN0IHVzZWRMbmcgPSBpc1N0cmluZyhsYW5ndWFnZSkgPyBsYW5ndWFnZSA6IHRoaXMubGFuZ3VhZ2U7XG4gICAgaWYgKHR5cGVvZiBsYW5ndWFnZSA9PT0gJ2Z1bmN0aW9uJykgdXNlZENhbGxiYWNrID0gbGFuZ3VhZ2U7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzIHx8IHRoaXMub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykge1xuICAgICAgaWYgKHVzZWRMbmcgJiYgdXNlZExuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJyAmJiAoIXRoaXMub3B0aW9ucy5wcmVsb2FkIHx8IHRoaXMub3B0aW9ucy5wcmVsb2FkLmxlbmd0aCA9PT0gMCkpIHJldHVybiB1c2VkQ2FsbGJhY2soKTtcbiAgICAgIGNvbnN0IHRvTG9hZCA9IFtdO1xuICAgICAgY29uc3QgYXBwZW5kID0gbG5nID0+IHtcbiAgICAgICAgaWYgKCFsbmcpIHJldHVybjtcbiAgICAgICAgaWYgKGxuZyA9PT0gJ2NpbW9kZScpIHJldHVybjtcbiAgICAgICAgY29uc3QgbG5ncyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobG5nKTtcbiAgICAgICAgbG5ncy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgIGlmIChsID09PSAnY2ltb2RlJykgcmV0dXJuO1xuICAgICAgICAgIGlmICh0b0xvYWQuaW5kZXhPZihsKSA8IDApIHRvTG9hZC5wdXNoKGwpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBpZiAoIXVzZWRMbmcpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTtcbiAgICAgICAgZmFsbGJhY2tzLmZvckVhY2gobCA9PiBhcHBlbmQobCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwZW5kKHVzZWRMbmcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVsb2FkKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5wcmVsb2FkLmZvckVhY2gobCA9PiBhcHBlbmQobCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmxvYWQodG9Mb2FkLCB0aGlzLm9wdGlvbnMubnMsIGUgPT4ge1xuICAgICAgICBpZiAoIWUgJiYgIXRoaXMucmVzb2x2ZWRMYW5ndWFnZSAmJiB0aGlzLmxhbmd1YWdlKSB0aGlzLnNldFJlc29sdmVkTGFuZ3VhZ2UodGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIHVzZWRDYWxsYmFjayhlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1c2VkQ2FsbGJhY2sobnVsbCk7XG4gICAgfVxuICB9XG4gIHJlbG9hZFJlc291cmNlcyhsbmdzLCBucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgaWYgKHR5cGVvZiBsbmdzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGxuZ3M7XG4gICAgICBsbmdzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG5zO1xuICAgICAgbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghbG5ncykgbG5ncyA9IHRoaXMubGFuZ3VhZ2VzO1xuICAgIGlmICghbnMpIG5zID0gdGhpcy5vcHRpb25zLm5zO1xuICAgIGlmICghY2FsbGJhY2spIGNhbGxiYWNrID0gbm9vcDtcbiAgICB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IucmVsb2FkKGxuZ3MsIG5zLCBlcnIgPT4ge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgdXNlKG1vZHVsZSkge1xuICAgIGlmICghbW9kdWxlKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgcGFzc2luZyBhbiB1bmRlZmluZWQgbW9kdWxlISBQbGVhc2UgY2hlY2sgdGhlIG9iamVjdCB5b3UgYXJlIHBhc3NpbmcgdG8gaTE4bmV4dC51c2UoKScpO1xuICAgIGlmICghbW9kdWxlLnR5cGUpIHRocm93IG5ldyBFcnJvcignWW91IGFyZSBwYXNzaW5nIGEgd3JvbmcgbW9kdWxlISBQbGVhc2UgY2hlY2sgdGhlIG9iamVjdCB5b3UgYXJlIHBhc3NpbmcgdG8gaTE4bmV4dC51c2UoKScpO1xuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2JhY2tlbmQnKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuYmFja2VuZCA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnbG9nZ2VyJyB8fCBtb2R1bGUubG9nICYmIG1vZHVsZS53YXJuICYmIG1vZHVsZS5lcnJvcikge1xuICAgICAgdGhpcy5tb2R1bGVzLmxvZ2dlciA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnbGFuZ3VhZ2VEZXRlY3RvcicpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdpMThuRm9ybWF0Jykge1xuICAgICAgdGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ3Bvc3RQcm9jZXNzb3InKSB7XG4gICAgICBwb3N0UHJvY2Vzc29yLmFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnZm9ybWF0dGVyJykge1xuICAgICAgdGhpcy5tb2R1bGVzLmZvcm1hdHRlciA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnM3JkUGFydHknKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuZXh0ZXJuYWwucHVzaChtb2R1bGUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzZXRSZXNvbHZlZExhbmd1YWdlKGwpIHtcbiAgICBpZiAoIWwgfHwgIXRoaXMubGFuZ3VhZ2VzKSByZXR1cm47XG4gICAgaWYgKFsnY2ltb2RlJywgJ2RldiddLmluZGV4T2YobCkgPiAtMSkgcmV0dXJuO1xuICAgIGZvciAobGV0IGxpID0gMDsgbGkgPCB0aGlzLmxhbmd1YWdlcy5sZW5ndGg7IGxpKyspIHtcbiAgICAgIGNvbnN0IGxuZ0luTG5ncyA9IHRoaXMubGFuZ3VhZ2VzW2xpXTtcbiAgICAgIGlmIChbJ2NpbW9kZScsICdkZXYnXS5pbmRleE9mKGxuZ0luTG5ncykgPiAtMSkgY29udGludWU7XG4gICAgICBpZiAodGhpcy5zdG9yZS5oYXNMYW5ndWFnZVNvbWVUcmFuc2xhdGlvbnMobG5nSW5MbmdzKSkge1xuICAgICAgICB0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgPSBsbmdJbkxuZ3M7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjaGFuZ2VMYW5ndWFnZShsbmcsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IGxuZztcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgdGhpcy5lbWl0KCdsYW5ndWFnZUNoYW5naW5nJywgbG5nKTtcbiAgICBjb25zdCBzZXRMbmdQcm9wcyA9IGwgPT4ge1xuICAgICAgdGhpcy5sYW5ndWFnZSA9IGw7XG4gICAgICB0aGlzLmxhbmd1YWdlcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobCk7XG4gICAgICB0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnNldFJlc29sdmVkTGFuZ3VhZ2UobCk7XG4gICAgfTtcbiAgICBjb25zdCBkb25lID0gKGVyciwgbCkgPT4ge1xuICAgICAgaWYgKGwpIHtcbiAgICAgICAgc2V0TG5nUHJvcHMobCk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShsKTtcbiAgICAgICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbWl0KCdsYW5ndWFnZUNoYW5nZWQnLCBsKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdsYW5ndWFnZUNoYW5nZWQnLCBsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNMYW5ndWFnZUNoYW5naW5nVG8gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi50KC4uLmFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIudCguLi5hcmd1bWVudHMpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRMbmcgPSBsbmdzID0+IHtcbiAgICAgIGlmICghbG5nICYmICFsbmdzICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvcikgbG5ncyA9IFtdO1xuICAgICAgY29uc3QgbCA9IGlzU3RyaW5nKGxuZ3MpID8gbG5ncyA6IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRCZXN0TWF0Y2hGcm9tQ29kZXMobG5ncyk7XG4gICAgICBpZiAobCkge1xuICAgICAgICBpZiAoIXRoaXMubGFuZ3VhZ2UpIHtcbiAgICAgICAgICBzZXRMbmdQcm9wcyhsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudHJhbnNsYXRvci5sYW5ndWFnZSkgdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZSkgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2FkUmVzb3VyY2VzKGwsIGVyciA9PiB7XG4gICAgICAgIGRvbmUoZXJyLCBsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKCFsbmcgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmMpIHtcbiAgICAgIHNldExuZyh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkpO1xuICAgIH0gZWxzZSBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jKSB7XG4gICAgICBpZiAodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpLnRoZW4oc2V0TG5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3Qoc2V0TG5nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TG5nKGxuZyk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBnZXRGaXhlZFQobG5nLCBucywga2V5UHJlZml4KSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgY29uc3QgZml4ZWRUID0gZnVuY3Rpb24gKGtleSwgb3B0cykge1xuICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICBpZiAodHlwZW9mIG9wdHMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IG5ldyBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgcmVzdFtfa2V5MyAtIDJdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gX3RoaXMzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoW2tleSwgb3B0c10uY29uY2F0KHJlc3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgLi4ub3B0c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5sbmcgPSBvcHRpb25zLmxuZyB8fCBmaXhlZFQubG5nO1xuICAgICAgb3B0aW9ucy5sbmdzID0gb3B0aW9ucy5sbmdzIHx8IGZpeGVkVC5sbmdzO1xuICAgICAgb3B0aW9ucy5ucyA9IG9wdGlvbnMubnMgfHwgZml4ZWRULm5zO1xuICAgICAgaWYgKG9wdGlvbnMua2V5UHJlZml4ICE9PSAnJykgb3B0aW9ucy5rZXlQcmVmaXggPSBvcHRpb25zLmtleVByZWZpeCB8fCBrZXlQcmVmaXggfHwgZml4ZWRULmtleVByZWZpeDtcbiAgICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IF90aGlzMy5vcHRpb25zLmtleVNlcGFyYXRvciB8fCAnLic7XG4gICAgICBsZXQgcmVzdWx0S2V5O1xuICAgICAgaWYgKG9wdGlvbnMua2V5UHJlZml4ICYmIEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICByZXN1bHRLZXkgPSBrZXkubWFwKGsgPT4gYCR7b3B0aW9ucy5rZXlQcmVmaXh9JHtrZXlTZXBhcmF0b3J9JHtrfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0S2V5ID0gb3B0aW9ucy5rZXlQcmVmaXggPyBgJHtvcHRpb25zLmtleVByZWZpeH0ke2tleVNlcGFyYXRvcn0ke2tleX1gIDoga2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90aGlzMy50KHJlc3VsdEtleSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoaXNTdHJpbmcobG5nKSkge1xuICAgICAgZml4ZWRULmxuZyA9IGxuZztcbiAgICB9IGVsc2Uge1xuICAgICAgZml4ZWRULmxuZ3MgPSBsbmc7XG4gICAgfVxuICAgIGZpeGVkVC5ucyA9IG5zO1xuICAgIGZpeGVkVC5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgcmV0dXJuIGZpeGVkVDtcbiAgfVxuICB0KCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IgJiYgdGhpcy50cmFuc2xhdG9yLnRyYW5zbGF0ZSguLi5hcmd1bWVudHMpO1xuICB9XG4gIGV4aXN0cygpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yICYmIHRoaXMudHJhbnNsYXRvci5leGlzdHMoLi4uYXJndW1lbnRzKTtcbiAgfVxuICBzZXREZWZhdWx0TmFtZXNwYWNlKG5zKSB7XG4gICAgdGhpcy5vcHRpb25zLmRlZmF1bHROUyA9IG5zO1xuICB9XG4gIGhhc0xvYWRlZE5hbWVzcGFjZShucykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignaGFzTG9hZGVkTmFtZXNwYWNlOiBpMThuZXh0IHdhcyBub3QgaW5pdGlhbGl6ZWQnLCB0aGlzLmxhbmd1YWdlcyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghdGhpcy5sYW5ndWFnZXMgfHwgIXRoaXMubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignaGFzTG9hZGVkTmFtZXNwYWNlOiBpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eScsIHRoaXMubGFuZ3VhZ2VzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbG5nID0gb3B0aW9ucy5sbmcgfHwgdGhpcy5yZXNvbHZlZExhbmd1YWdlIHx8IHRoaXMubGFuZ3VhZ2VzWzBdO1xuICAgIGNvbnN0IGZhbGxiYWNrTG5nID0gdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIDogZmFsc2U7XG4gICAgY29uc3QgbGFzdExuZyA9IHRoaXMubGFuZ3VhZ2VzW3RoaXMubGFuZ3VhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IGxvYWROb3RQZW5kaW5nID0gKGwsIG4pID0+IHtcbiAgICAgIGNvbnN0IGxvYWRTdGF0ZSA9IHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5zdGF0ZVtgJHtsfXwke259YF07XG4gICAgICByZXR1cm4gbG9hZFN0YXRlID09PSAtMSB8fCBsb2FkU3RhdGUgPT09IDAgfHwgbG9hZFN0YXRlID09PSAyO1xuICAgIH07XG4gICAgaWYgKG9wdGlvbnMucHJlY2hlY2spIHtcbiAgICAgIGNvbnN0IHByZVJlc3VsdCA9IG9wdGlvbnMucHJlY2hlY2sodGhpcywgbG9hZE5vdFBlbmRpbmcpO1xuICAgICAgaWYgKHByZVJlc3VsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcHJlUmVzdWx0O1xuICAgIH1cbiAgICBpZiAodGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCF0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCB8fCB0aGlzLm9wdGlvbnMucmVzb3VyY2VzICYmICF0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpIHJldHVybiB0cnVlO1xuICAgIGlmIChsb2FkTm90UGVuZGluZyhsbmcsIG5zKSAmJiAoIWZhbGxiYWNrTG5nIHx8IGxvYWROb3RQZW5kaW5nKGxhc3RMbmcsIG5zKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsb2FkTmFtZXNwYWNlcyhucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubnMpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgaWYgKGlzU3RyaW5nKG5zKSkgbnMgPSBbbnNdO1xuICAgIG5zLmZvckVhY2gobiA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5zLmluZGV4T2YobikgPCAwKSB0aGlzLm9wdGlvbnMubnMucHVzaChuKTtcbiAgICB9KTtcbiAgICB0aGlzLmxvYWRSZXNvdXJjZXMoZXJyID0+IHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgbG9hZExhbmd1YWdlcyhsbmdzLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAoaXNTdHJpbmcobG5ncykpIGxuZ3MgPSBbbG5nc107XG4gICAgY29uc3QgcHJlbG9hZGVkID0gdGhpcy5vcHRpb25zLnByZWxvYWQgfHwgW107XG4gICAgY29uc3QgbmV3TG5ncyA9IGxuZ3MuZmlsdGVyKGxuZyA9PiBwcmVsb2FkZWQuaW5kZXhPZihsbmcpIDwgMCAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuaXNTdXBwb3J0ZWRDb2RlKGxuZykpO1xuICAgIGlmICghbmV3TG5ncy5sZW5ndGgpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zLnByZWxvYWQgPSBwcmVsb2FkZWQuY29uY2F0KG5ld0xuZ3MpO1xuICAgIHRoaXMubG9hZFJlc291cmNlcyhlcnIgPT4ge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBkaXIobG5nKSB7XG4gICAgaWYgKCFsbmcpIGxuZyA9IHRoaXMucmVzb2x2ZWRMYW5ndWFnZSB8fCAodGhpcy5sYW5ndWFnZXMgJiYgdGhpcy5sYW5ndWFnZXMubGVuZ3RoID4gMCA/IHRoaXMubGFuZ3VhZ2VzWzBdIDogdGhpcy5sYW5ndWFnZSk7XG4gICAgaWYgKCFsbmcpIHJldHVybiAncnRsJztcbiAgICBjb25zdCBydGxMbmdzID0gWydhcicsICdzaHUnLCAnc3FyJywgJ3NzaCcsICd4YWEnLCAneWhkJywgJ3l1ZCcsICdhYW8nLCAnYWJoJywgJ2FidicsICdhY20nLCAnYWNxJywgJ2FjdycsICdhY3gnLCAnYWN5JywgJ2FkZicsICdhZHMnLCAnYWViJywgJ2FlYycsICdhZmInLCAnYWpwJywgJ2FwYycsICdhcGQnLCAnYXJiJywgJ2FycScsICdhcnMnLCAnYXJ5JywgJ2FyeicsICdhdXonLCAnYXZsJywgJ2F5aCcsICdheWwnLCAnYXluJywgJ2F5cCcsICdiYnonLCAncGdhJywgJ2hlJywgJ2l3JywgJ3BzJywgJ3BidCcsICdwYnUnLCAncHN0JywgJ3BycCcsICdwcmQnLCAndWcnLCAndXInLCAneWRkJywgJ3lkcycsICd5aWgnLCAnamknLCAneWknLCAnaGJvJywgJ21lbicsICd4bW4nLCAnZmEnLCAnanByJywgJ3BlbycsICdwZXMnLCAncHJzJywgJ2R2JywgJ3NhbScsICdja2InXTtcbiAgICBjb25zdCBsYW5ndWFnZVV0aWxzID0gdGhpcy5zZXJ2aWNlcyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMgfHwgbmV3IExhbmd1YWdlVXRpbChnZXQoKSk7XG4gICAgcmV0dXJuIHJ0bExuZ3MuaW5kZXhPZihsYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGxuZykpID4gLTEgfHwgbG5nLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignLWFyYWInKSA+IDEgPyAncnRsJyA6ICdsdHInO1xuICB9XG4gIHN0YXRpYyBjcmVhdGVJbnN0YW5jZSgpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBJMThuKG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgfVxuICBjbG9uZUluc3RhbmNlKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG4gICAgY29uc3QgZm9ya1Jlc291cmNlU3RvcmUgPSBvcHRpb25zLmZvcmtSZXNvdXJjZVN0b3JlO1xuICAgIGlmIChmb3JrUmVzb3VyY2VTdG9yZSkgZGVsZXRlIG9wdGlvbnMuZm9ya1Jlc291cmNlU3RvcmU7XG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAuLi57XG4gICAgICAgIGlzQ2xvbmU6IHRydWVcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb25lID0gbmV3IEkxOG4obWVyZ2VkT3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMuZGVidWcgIT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnByZWZpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbG9uZS5sb2dnZXIgPSBjbG9uZS5sb2dnZXIuY2xvbmUob3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IG1lbWJlcnNUb0NvcHkgPSBbJ3N0b3JlJywgJ3NlcnZpY2VzJywgJ2xhbmd1YWdlJ107XG4gICAgbWVtYmVyc1RvQ29weS5mb3JFYWNoKG0gPT4ge1xuICAgICAgY2xvbmVbbV0gPSB0aGlzW21dO1xuICAgIH0pO1xuICAgIGNsb25lLnNlcnZpY2VzID0ge1xuICAgICAgLi4udGhpcy5zZXJ2aWNlc1xuICAgIH07XG4gICAgY2xvbmUuc2VydmljZXMudXRpbHMgPSB7XG4gICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IGNsb25lLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGNsb25lKVxuICAgIH07XG4gICAgaWYgKGZvcmtSZXNvdXJjZVN0b3JlKSB7XG4gICAgICBjbG9uZS5zdG9yZSA9IG5ldyBSZXNvdXJjZVN0b3JlKHRoaXMuc3RvcmUuZGF0YSwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICBjbG9uZS5zZXJ2aWNlcy5yZXNvdXJjZVN0b3JlID0gY2xvbmUuc3RvcmU7XG4gICAgfVxuICAgIGNsb25lLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcihjbG9uZS5zZXJ2aWNlcywgbWVyZ2VkT3B0aW9ucyk7XG4gICAgY2xvbmUudHJhbnNsYXRvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NCAtIDFdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cbiAgICAgIGNsb25lLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH0pO1xuICAgIGNsb25lLmluaXQobWVyZ2VkT3B0aW9ucywgY2FsbGJhY2spO1xuICAgIGNsb25lLnRyYW5zbGF0b3Iub3B0aW9ucyA9IG1lcmdlZE9wdGlvbnM7XG4gICAgY2xvbmUudHJhbnNsYXRvci5iYWNrZW5kQ29ubmVjdG9yLnNlcnZpY2VzLnV0aWxzID0ge1xuICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiBjbG9uZS5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChjbG9uZSlcbiAgICB9O1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIHN0b3JlOiB0aGlzLnN0b3JlLFxuICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2UsXG4gICAgICBsYW5ndWFnZXM6IHRoaXMubGFuZ3VhZ2VzLFxuICAgICAgcmVzb2x2ZWRMYW5ndWFnZTogdGhpcy5yZXNvbHZlZExhbmd1YWdlXG4gICAgfTtcbiAgfVxufVxuY29uc3QgaW5zdGFuY2UgPSBJMThuLmNyZWF0ZUluc3RhbmNlKCk7XG5pbnN0YW5jZS5jcmVhdGVJbnN0YW5jZSA9IEkxOG4uY3JlYXRlSW5zdGFuY2U7XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zdGFuY2U7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIEkxOG5leHRQcm92aWRlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgaTE4bixcbiAgICBkZWZhdWx0TlMsXG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIGkxOG4sXG4gICAgZGVmYXVsdE5TXG4gIH0pLCBbaTE4biwgZGVmYXVsdE5TXSk7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEkxOG5Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWVcbiAgfSwgY2hpbGRyZW4pO1xufSIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBub2Rlc1RvU3RyaW5nLCBUcmFucyBhcyBUcmFuc1dpdGhvdXRDb250ZXh0IH0gZnJvbSAnLi9UcmFuc1dpdGhvdXRDb250ZXh0LmpzJztcbmltcG9ydCB7IGdldEkxOG4sIEkxOG5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmV4cG9ydCB7IG5vZGVzVG9TdHJpbmcgfTtcbmV4cG9ydCBmdW5jdGlvbiBUcmFucyhfcmVmKSB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY291bnQsXG4gICAgcGFyZW50LFxuICAgIGkxOG5LZXksXG4gICAgY29udGV4dCxcbiAgICB0T3B0aW9ucyA9IHt9LFxuICAgIHZhbHVlcyxcbiAgICBkZWZhdWx0cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5zLFxuICAgIGkxOG46IGkxOG5Gcm9tUHJvcHMsXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbUNvbnRleHQsXG4gICAgZGVmYXVsdE5TOiBkZWZhdWx0TlNGcm9tQ29udGV4dFxuICB9ID0gdXNlQ29udGV4dChJMThuQ29udGV4dCkgfHwge307XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGkxOG5Gcm9tQ29udGV4dCB8fCBnZXRJMThuKCk7XG4gIGNvbnN0IHQgPSB0RnJvbVByb3BzIHx8IGkxOG4gJiYgaTE4bi50LmJpbmQoaTE4bik7XG4gIHJldHVybiBUcmFuc1dpdGhvdXRDb250ZXh0KHtcbiAgICBjaGlsZHJlbixcbiAgICBjb3VudCxcbiAgICBwYXJlbnQsXG4gICAgaTE4bktleSxcbiAgICBjb250ZXh0LFxuICAgIHRPcHRpb25zLFxuICAgIHZhbHVlcyxcbiAgICBkZWZhdWx0cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5zOiBucyB8fCB0ICYmIHQubnMgfHwgZGVmYXVsdE5TRnJvbUNvbnRleHQgfHwgaTE4biAmJiBpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLmRlZmF1bHROUyxcbiAgICBpMThuLFxuICAgIHQ6IHRGcm9tUHJvcHMsXG4gICAgc2hvdWxkVW5lc2NhcGUsXG4gICAgLi4uYWRkaXRpb25hbFByb3BzXG4gIH0pO1xufSIsImltcG9ydCB7IEZyYWdtZW50LCBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIVE1MIGZyb20gJ2h0bWwtcGFyc2Utc3RyaW5naWZ5JztcbmltcG9ydCB7IGlzT2JqZWN0LCBpc1N0cmluZywgd2Fybiwgd2Fybk9uY2UgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBnZXRJMThuIH0gZnJvbSAnLi9pMThuSW5zdGFuY2UuanMnO1xuY29uc3QgaGFzQ2hpbGRyZW4gPSAobm9kZSwgY2hlY2tMZW5ndGgpID0+IHtcbiAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGJhc2UgPSBub2RlLnByb3BzID8gbm9kZS5wcm9wcy5jaGlsZHJlbiA6IG5vZGUuY2hpbGRyZW47XG4gIGlmIChjaGVja0xlbmd0aCkgcmV0dXJuIGJhc2UubGVuZ3RoID4gMDtcbiAgcmV0dXJuICEhYmFzZTtcbn07XG5jb25zdCBnZXRDaGlsZHJlbiA9IG5vZGUgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiBbXTtcbiAgY29uc3QgY2hpbGRyZW4gPSBub2RlLnByb3BzID8gbm9kZS5wcm9wcy5jaGlsZHJlbiA6IG5vZGUuY2hpbGRyZW47XG4gIHJldHVybiBub2RlLnByb3BzICYmIG5vZGUucHJvcHMuaTE4bklzRHluYW1pY0xpc3QgPyBnZXRBc0FycmF5KGNoaWxkcmVuKSA6IGNoaWxkcmVuO1xufTtcbmNvbnN0IGhhc1ZhbGlkUmVhY3RDaGlsZHJlbiA9IGNoaWxkcmVuID0+IEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmIGNoaWxkcmVuLmV2ZXJ5KGlzVmFsaWRFbGVtZW50KTtcbmNvbnN0IGdldEFzQXJyYXkgPSBkYXRhID0+IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdO1xuY29uc3QgbWVyZ2VQcm9wcyA9IChzb3VyY2UsIHRhcmdldCkgPT4ge1xuICBjb25zdCBuZXdUYXJnZXQgPSB7XG4gICAgLi4udGFyZ2V0XG4gIH07XG4gIG5ld1RhcmdldC5wcm9wcyA9IE9iamVjdC5hc3NpZ24oc291cmNlLnByb3BzLCB0YXJnZXQucHJvcHMpO1xuICByZXR1cm4gbmV3VGFyZ2V0O1xufTtcbmV4cG9ydCBjb25zdCBub2Rlc1RvU3RyaW5nID0gKGNoaWxkcmVuLCBpMThuT3B0aW9ucykgPT4ge1xuICBpZiAoIWNoaWxkcmVuKSByZXR1cm4gJyc7XG4gIGxldCBzdHJpbmdOb2RlID0gJyc7XG4gIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBnZXRBc0FycmF5KGNoaWxkcmVuKTtcbiAgY29uc3Qga2VlcEFycmF5ID0gaTE4bk9wdGlvbnMudHJhbnNTdXBwb3J0QmFzaWNIdG1sTm9kZXMgJiYgaTE4bk9wdGlvbnMudHJhbnNLZWVwQmFzaWNIdG1sTm9kZXNGb3IgPyBpMThuT3B0aW9ucy50cmFuc0tlZXBCYXNpY0h0bWxOb2Rlc0ZvciA6IFtdO1xuICBjaGlsZHJlbkFycmF5LmZvckVhY2goKGNoaWxkLCBjaGlsZEluZGV4KSA9PiB7XG4gICAgaWYgKGlzU3RyaW5nKGNoaWxkKSkge1xuICAgICAgc3RyaW5nTm9kZSArPSBgJHtjaGlsZH1gO1xuICAgIH0gZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHByb3BzLFxuICAgICAgICB0eXBlXG4gICAgICB9ID0gY2hpbGQ7XG4gICAgICBjb25zdCBjaGlsZFByb3BzQ291bnQgPSBPYmplY3Qua2V5cyhwcm9wcykubGVuZ3RoO1xuICAgICAgY29uc3Qgc2hvdWxkS2VlcENoaWxkID0ga2VlcEFycmF5LmluZGV4T2YodHlwZSkgPiAtMTtcbiAgICAgIGNvbnN0IGNoaWxkQ2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAgIGlmICghY2hpbGRDaGlsZHJlbiAmJiBzaG91bGRLZWVwQ2hpbGQgJiYgIWNoaWxkUHJvcHNDb3VudCkge1xuICAgICAgICBzdHJpbmdOb2RlICs9IGA8JHt0eXBlfS8+YDtcbiAgICAgIH0gZWxzZSBpZiAoIWNoaWxkQ2hpbGRyZW4gJiYgKCFzaG91bGRLZWVwQ2hpbGQgfHwgY2hpbGRQcm9wc0NvdW50KSB8fCBwcm9wcy5pMThuSXNEeW5hbWljTGlzdCkge1xuICAgICAgICBzdHJpbmdOb2RlICs9IGA8JHtjaGlsZEluZGV4fT48LyR7Y2hpbGRJbmRleH0+YDtcbiAgICAgIH0gZWxzZSBpZiAoc2hvdWxkS2VlcENoaWxkICYmIGNoaWxkUHJvcHNDb3VudCA9PT0gMSAmJiBpc1N0cmluZyhjaGlsZENoaWxkcmVuKSkge1xuICAgICAgICBzdHJpbmdOb2RlICs9IGA8JHt0eXBlfT4ke2NoaWxkQ2hpbGRyZW59PC8ke3R5cGV9PmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gbm9kZXNUb1N0cmluZyhjaGlsZENoaWxkcmVuLCBpMThuT3B0aW9ucyk7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke2NoaWxkSW5kZXh9PiR7Y29udGVudH08LyR7Y2hpbGRJbmRleH0+YDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNoaWxkID09PSBudWxsKSB7XG4gICAgICB3YXJuKGBUcmFuczogdGhlIHBhc3NlZCBpbiB2YWx1ZSBpcyBpbnZhbGlkIC0gc2VlbXMgeW91IHBhc3NlZCBpbiBhIG51bGwgY2hpbGQuYCk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChjaGlsZCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICAuLi5jbG9uZVxuICAgICAgfSA9IGNoaWxkO1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGNsb25lKTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGZvcm1hdCA/IGAke2tleXNbMF19LCAke2Zvcm1hdH1gIDoga2V5c1swXTtcbiAgICAgICAgc3RyaW5nTm9kZSArPSBge3ske3ZhbHVlfX19YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm4oYHJlYWN0LWkxOG5leHQ6IHRoZSBwYXNzZWQgaW4gb2JqZWN0IGNvbnRhaW5lZCBtb3JlIHRoYW4gb25lIHZhcmlhYmxlIC0gdGhlIG9iamVjdCBzaG91bGQgbG9vayBsaWtlIHt7IHZhbHVlLCBmb3JtYXQgfX0gd2hlcmUgZm9ybWF0IGlzIG9wdGlvbmFsLmAsIGNoaWxkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2FybihgVHJhbnM6IHRoZSBwYXNzZWQgaW4gdmFsdWUgaXMgaW52YWxpZCAtIHNlZW1zIHlvdSBwYXNzZWQgaW4gYSB2YXJpYWJsZSBsaWtlIHtudW1iZXJ9IC0gcGxlYXNlIHBhc3MgaW4gdmFyaWFibGVzIGZvciBpbnRlcnBvbGF0aW9uIGFzIGZ1bGwgb2JqZWN0cyBsaWtlIHt7bnVtYmVyfX0uYCwgY2hpbGQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzdHJpbmdOb2RlO1xufTtcbmNvbnN0IHJlbmRlck5vZGVzID0gKGNoaWxkcmVuLCB0YXJnZXRTdHJpbmcsIGkxOG4sIGkxOG5PcHRpb25zLCBjb21iaW5lZFRPcHRzLCBzaG91bGRVbmVzY2FwZSkgPT4ge1xuICBpZiAodGFyZ2V0U3RyaW5nID09PSAnJykgcmV0dXJuIFtdO1xuICBjb25zdCBrZWVwQXJyYXkgPSBpMThuT3B0aW9ucy50cmFuc0tlZXBCYXNpY0h0bWxOb2Rlc0ZvciB8fCBbXTtcbiAgY29uc3QgZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgPSB0YXJnZXRTdHJpbmcgJiYgbmV3IFJlZ0V4cChrZWVwQXJyYXkubWFwKGtlZXAgPT4gYDwke2tlZXB9YCkuam9pbignfCcpKS50ZXN0KHRhcmdldFN0cmluZyk7XG4gIGlmICghY2hpbGRyZW4gJiYgIWVtcHR5Q2hpbGRyZW5CdXROZWVkc0hhbmRsaW5nICYmICFzaG91bGRVbmVzY2FwZSkgcmV0dXJuIFt0YXJnZXRTdHJpbmddO1xuICBjb25zdCBkYXRhID0ge307XG4gIGNvbnN0IGdldERhdGEgPSBjaGlsZHMgPT4ge1xuICAgIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBnZXRBc0FycmF5KGNoaWxkcyk7XG4gICAgY2hpbGRyZW5BcnJheS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgIGlmIChpc1N0cmluZyhjaGlsZCkpIHJldHVybjtcbiAgICAgIGlmIChoYXNDaGlsZHJlbihjaGlsZCkpIGdldERhdGEoZ2V0Q2hpbGRyZW4oY2hpbGQpKTtlbHNlIGlmIChpc09iamVjdChjaGlsZCkgJiYgIWlzVmFsaWRFbGVtZW50KGNoaWxkKSkgT2JqZWN0LmFzc2lnbihkYXRhLCBjaGlsZCk7XG4gICAgfSk7XG4gIH07XG4gIGdldERhdGEoY2hpbGRyZW4pO1xuICBjb25zdCBhc3QgPSBIVE1MLnBhcnNlKGA8MD4ke3RhcmdldFN0cmluZ308LzA+YCk7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgLi4uZGF0YSxcbiAgICAuLi5jb21iaW5lZFRPcHRzXG4gIH07XG4gIGNvbnN0IHJlbmRlcklubmVyID0gKGNoaWxkLCBub2RlLCByb290UmVhY3ROb2RlKSA9PiB7XG4gICAgY29uc3QgY2hpbGRzID0gZ2V0Q2hpbGRyZW4oY2hpbGQpO1xuICAgIGNvbnN0IG1hcHBlZENoaWxkcmVuID0gbWFwQVNUKGNoaWxkcywgbm9kZS5jaGlsZHJlbiwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgcmV0dXJuIGhhc1ZhbGlkUmVhY3RDaGlsZHJlbihjaGlsZHMpICYmIG1hcHBlZENoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fCBjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5pMThuSXNEeW5hbWljTGlzdCA/IGNoaWxkcyA6IG1hcHBlZENoaWxkcmVuO1xuICB9O1xuICBjb25zdCBwdXNoVHJhbnNsYXRlZEpTWCA9IChjaGlsZCwgaW5uZXIsIG1lbSwgaSwgaXNWb2lkKSA9PiB7XG4gICAgaWYgKGNoaWxkLmR1bW15KSB7XG4gICAgICBjaGlsZC5jaGlsZHJlbiA9IGlubmVyO1xuICAgICAgbWVtLnB1c2goY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgIGtleTogaVxuICAgICAgfSwgaXNWb2lkID8gdW5kZWZpbmVkIDogaW5uZXIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVtLnB1c2goLi4uQ2hpbGRyZW4ubWFwKFtjaGlsZF0sIGMgPT4ge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgICAuLi5jLnByb3BzXG4gICAgICAgIH07XG4gICAgICAgIGRlbGV0ZSBwcm9wcy5pMThuSXNEeW5hbWljTGlzdDtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYy50eXBlLCB7XG4gICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHJlZjogYy5yZWZcbiAgICAgICAgfSwgaXNWb2lkID8gbnVsbCA6IGlubmVyKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1hcEFTVCA9IChyZWFjdE5vZGUsIGFzdE5vZGUsIHJvb3RSZWFjdE5vZGUpID0+IHtcbiAgICBjb25zdCByZWFjdE5vZGVzID0gZ2V0QXNBcnJheShyZWFjdE5vZGUpO1xuICAgIGNvbnN0IGFzdE5vZGVzID0gZ2V0QXNBcnJheShhc3ROb2RlKTtcbiAgICByZXR1cm4gYXN0Tm9kZXMucmVkdWNlKChtZW0sIG5vZGUsIGkpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0aW9uQ29udGVudCA9IG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlblswXSAmJiBub2RlLmNoaWxkcmVuWzBdLmNvbnRlbnQgJiYgaTE4bi5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobm9kZS5jaGlsZHJlblswXS5jb250ZW50LCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgIGlmIChub2RlLnR5cGUgPT09ICd0YWcnKSB7XG4gICAgICAgIGxldCB0bXAgPSByZWFjdE5vZGVzW3BhcnNlSW50KG5vZGUubmFtZSwgMTApXTtcbiAgICAgICAgaWYgKHJvb3RSZWFjdE5vZGUubGVuZ3RoID09PSAxICYmICF0bXApIHRtcCA9IHJvb3RSZWFjdE5vZGVbMF1bbm9kZS5uYW1lXTtcbiAgICAgICAgaWYgKCF0bXApIHRtcCA9IHt9O1xuICAgICAgICBjb25zdCBjaGlsZCA9IE9iamVjdC5rZXlzKG5vZGUuYXR0cnMpLmxlbmd0aCAhPT0gMCA/IG1lcmdlUHJvcHMoe1xuICAgICAgICAgIHByb3BzOiBub2RlLmF0dHJzXG4gICAgICAgIH0sIHRtcCkgOiB0bXA7XG4gICAgICAgIGNvbnN0IGlzRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50KGNoaWxkKTtcbiAgICAgICAgY29uc3QgaXNWYWxpZFRyYW5zbGF0aW9uV2l0aENoaWxkcmVuID0gaXNFbGVtZW50ICYmIGhhc0NoaWxkcmVuKG5vZGUsIHRydWUpICYmICFub2RlLnZvaWRFbGVtZW50O1xuICAgICAgICBjb25zdCBpc0VtcHR5VHJhbnNXaXRoSFRNTCA9IGVtcHR5Q2hpbGRyZW5CdXROZWVkc0hhbmRsaW5nICYmIGlzT2JqZWN0KGNoaWxkKSAmJiBjaGlsZC5kdW1teSAmJiAhaXNFbGVtZW50O1xuICAgICAgICBjb25zdCBpc0tub3duQ29tcG9uZW50ID0gaXNPYmplY3QoY2hpbGRyZW4pICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoaWxkcmVuLCBub2RlLm5hbWUpO1xuICAgICAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBpMThuLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShjaGlsZCwgb3B0cywgaTE4bi5sYW5ndWFnZSk7XG4gICAgICAgICAgbWVtLnB1c2godmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0NoaWxkcmVuKGNoaWxkKSB8fCBpc1ZhbGlkVHJhbnNsYXRpb25XaXRoQ2hpbGRyZW4pIHtcbiAgICAgICAgICBjb25zdCBpbm5lciA9IHJlbmRlcklubmVyKGNoaWxkLCBub2RlLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgaW5uZXIsIG1lbSwgaSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbXB0eVRyYW5zV2l0aEhUTUwpIHtcbiAgICAgICAgICBjb25zdCBpbm5lciA9IG1hcEFTVChyZWFjdE5vZGVzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgaW5uZXIsIG1lbSwgaSk7XG4gICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyLmlzTmFOKHBhcnNlRmxvYXQobm9kZS5uYW1lKSkpIHtcbiAgICAgICAgICBpZiAoaXNLbm93bkNvbXBvbmVudCkge1xuICAgICAgICAgICAgY29uc3QgaW5uZXIgPSByZW5kZXJJbm5lcihjaGlsZCwgbm9kZSwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgaW5uZXIsIG1lbSwgaSwgbm9kZS52b2lkRWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpMThuT3B0aW9ucy50cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlcyAmJiBrZWVwQXJyYXkuaW5kZXhPZihub2RlLm5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnZvaWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIG1lbS5wdXNoKGNyZWF0ZUVsZW1lbnQobm9kZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAga2V5OiBgJHtub2RlLm5hbWV9LSR7aX1gXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gbWFwQVNUKHJlYWN0Tm9kZXMsIG5vZGUuY2hpbGRyZW4sIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgICAgICBtZW0ucHVzaChjcmVhdGVFbGVtZW50KG5vZGUubmFtZSwge1xuICAgICAgICAgICAgICAgIGtleTogYCR7bm9kZS5uYW1lfS0ke2l9YFxuICAgICAgICAgICAgICB9LCBpbm5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS52b2lkRWxlbWVudCkge1xuICAgICAgICAgICAgbWVtLnB1c2goYDwke25vZGUubmFtZX0gLz5gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5uZXIgPSBtYXBBU1QocmVhY3ROb2Rlcywgbm9kZS5jaGlsZHJlbiwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgICAgICAgICBtZW0ucHVzaChgPCR7bm9kZS5uYW1lfT4ke2lubmVyfTwvJHtub2RlLm5hbWV9PmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChjaGlsZCkgJiYgIWlzRWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBub2RlLmNoaWxkcmVuWzBdID8gdHJhbnNsYXRpb25Db250ZW50IDogbnVsbDtcbiAgICAgICAgICBpZiAoY29udGVudCkgbWVtLnB1c2goY29udGVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHVzaFRyYW5zbGF0ZWRKU1goY2hpbGQsIHRyYW5zbGF0aW9uQ29udGVudCwgbWVtLCBpLCBub2RlLmNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCAhdHJhbnNsYXRpb25Db250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICBjb25zdCB3cmFwVGV4dE5vZGVzID0gaTE4bk9wdGlvbnMudHJhbnNXcmFwVGV4dE5vZGVzO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gc2hvdWxkVW5lc2NhcGUgPyBpMThuT3B0aW9ucy51bmVzY2FwZShpMThuLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShub2RlLmNvbnRlbnQsIG9wdHMsIGkxOG4ubGFuZ3VhZ2UpKSA6IGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKG5vZGUuY29udGVudCwgb3B0cywgaTE4bi5sYW5ndWFnZSk7XG4gICAgICAgIGlmICh3cmFwVGV4dE5vZGVzKSB7XG4gICAgICAgICAgbWVtLnB1c2goY3JlYXRlRWxlbWVudCh3cmFwVGV4dE5vZGVzLCB7XG4gICAgICAgICAgICBrZXk6IGAke25vZGUubmFtZX0tJHtpfWBcbiAgICAgICAgICB9LCBjb250ZW50KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVtLnB1c2goY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW07XG4gICAgfSwgW10pO1xuICB9O1xuICBjb25zdCByZXN1bHQgPSBtYXBBU1QoW3tcbiAgICBkdW1teTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4gfHwgW11cbiAgfV0sIGFzdCwgZ2V0QXNBcnJheShjaGlsZHJlbiB8fCBbXSkpO1xuICByZXR1cm4gZ2V0Q2hpbGRyZW4ocmVzdWx0WzBdKTtcbn07XG5leHBvcnQgZnVuY3Rpb24gVHJhbnMoX3JlZikge1xuICBsZXQge1xuICAgIGNoaWxkcmVuLFxuICAgIGNvdW50LFxuICAgIHBhcmVudCxcbiAgICBpMThuS2V5LFxuICAgIGNvbnRleHQsXG4gICAgdE9wdGlvbnMgPSB7fSxcbiAgICB2YWx1ZXMsXG4gICAgZGVmYXVsdHMsXG4gICAgY29tcG9uZW50cyxcbiAgICBucyxcbiAgICBpMThuOiBpMThuRnJvbVByb3BzLFxuICAgIHQ6IHRGcm9tUHJvcHMsXG4gICAgc2hvdWxkVW5lc2NhcGUsXG4gICAgLi4uYWRkaXRpb25hbFByb3BzXG4gIH0gPSBfcmVmO1xuICBjb25zdCBpMThuID0gaTE4bkZyb21Qcm9wcyB8fCBnZXRJMThuKCk7XG4gIGlmICghaTE4bikge1xuICAgIHdhcm5PbmNlKCdZb3Ugd2lsbCBuZWVkIHRvIHBhc3MgaW4gYW4gaTE4bmV4dCBpbnN0YW5jZSBieSB1c2luZyBpMThuZXh0UmVhY3RNb2R1bGUnKTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgY29uc3QgdCA9IHRGcm9tUHJvcHMgfHwgaTE4bi50LmJpbmQoaTE4bikgfHwgKGsgPT4gayk7XG4gIGNvbnN0IHJlYWN0STE4bmV4dE9wdGlvbnMgPSB7XG4gICAgLi4uZ2V0RGVmYXVsdHMoKSxcbiAgICAuLi4oaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5yZWFjdClcbiAgfTtcbiAgbGV0IG5hbWVzcGFjZXMgPSBucyB8fCB0Lm5zIHx8IGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuZGVmYXVsdE5TO1xuICBuYW1lc3BhY2VzID0gaXNTdHJpbmcobmFtZXNwYWNlcykgPyBbbmFtZXNwYWNlc10gOiBuYW1lc3BhY2VzIHx8IFsndHJhbnNsYXRpb24nXTtcbiAgY29uc3Qgbm9kZUFzU3RyaW5nID0gbm9kZXNUb1N0cmluZyhjaGlsZHJlbiwgcmVhY3RJMThuZXh0T3B0aW9ucyk7XG4gIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRzIHx8IG5vZGVBc1N0cmluZyB8fCByZWFjdEkxOG5leHRPcHRpb25zLnRyYW5zRW1wdHlOb2RlVmFsdWUgfHwgaTE4bktleTtcbiAgY29uc3Qge1xuICAgIGhhc2hUcmFuc0tleVxuICB9ID0gcmVhY3RJMThuZXh0T3B0aW9ucztcbiAgY29uc3Qga2V5ID0gaTE4bktleSB8fCAoaGFzaFRyYW5zS2V5ID8gaGFzaFRyYW5zS2V5KG5vZGVBc1N0cmluZyB8fCBkZWZhdWx0VmFsdWUpIDogbm9kZUFzU3RyaW5nIHx8IGRlZmF1bHRWYWx1ZSk7XG4gIGlmIChpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLmludGVycG9sYXRpb24gJiYgaTE4bi5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcykge1xuICAgIHZhbHVlcyA9IHZhbHVlcyAmJiBPYmplY3Qua2V5cyh2YWx1ZXMpLmxlbmd0aCA+IDAgPyB7XG4gICAgICAuLi52YWx1ZXMsXG4gICAgICAuLi5pMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzXG4gICAgfSA6IHtcbiAgICAgIC4uLmkxOG4ub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXNcbiAgICB9O1xuICB9XG4gIGNvbnN0IGludGVycG9sYXRpb25PdmVycmlkZSA9IHZhbHVlcyB8fCBjb3VudCAhPT0gdW5kZWZpbmVkIHx8ICFjaGlsZHJlbiA/IHRPcHRpb25zLmludGVycG9sYXRpb24gOiB7XG4gICAgaW50ZXJwb2xhdGlvbjoge1xuICAgICAgLi4udE9wdGlvbnMuaW50ZXJwb2xhdGlvbixcbiAgICAgIHByZWZpeDogJyMkPycsXG4gICAgICBzdWZmaXg6ICc/JCMnXG4gICAgfVxuICB9O1xuICBjb25zdCBjb21iaW5lZFRPcHRzID0ge1xuICAgIC4uLnRPcHRpb25zLFxuICAgIGNvbnRleHQ6IGNvbnRleHQgfHwgdE9wdGlvbnMuY29udGV4dCxcbiAgICBjb3VudCxcbiAgICAuLi52YWx1ZXMsXG4gICAgLi4uaW50ZXJwb2xhdGlvbk92ZXJyaWRlLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBuczogbmFtZXNwYWNlc1xuICB9O1xuICBjb25zdCB0cmFuc2xhdGlvbiA9IGtleSA/IHQoa2V5LCBjb21iaW5lZFRPcHRzKSA6IGRlZmF1bHRWYWx1ZTtcbiAgaWYgKGNvbXBvbmVudHMpIHtcbiAgICBPYmplY3Qua2V5cyhjb21wb25lbnRzKS5mb3JFYWNoKGMgPT4ge1xuICAgICAgY29uc3QgY29tcCA9IGNvbXBvbmVudHNbY107XG4gICAgICBpZiAodHlwZW9mIGNvbXAudHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAhY29tcC5wcm9wcyB8fCAhY29tcC5wcm9wcy5jaGlsZHJlbiB8fCB0cmFuc2xhdGlvbi5pbmRleE9mKGAke2N9Lz5gKSA8IDAgJiYgdHJhbnNsYXRpb24uaW5kZXhPZihgJHtjfSAvPmApIDwgMCkgcmV0dXJuO1xuICAgICAgZnVuY3Rpb24gQ29tcG9uZW50aXplZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNvbXApO1xuICAgICAgfVxuICAgICAgY29tcG9uZW50c1tjXSA9IGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50aXplZCk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgY29udGVudCA9IHJlbmRlck5vZGVzKGNvbXBvbmVudHMgfHwgY2hpbGRyZW4sIHRyYW5zbGF0aW9uLCBpMThuLCByZWFjdEkxOG5leHRPcHRpb25zLCBjb21iaW5lZFRPcHRzLCBzaG91bGRVbmVzY2FwZSk7XG4gIGNvbnN0IHVzZUFzUGFyZW50ID0gcGFyZW50ICE9PSB1bmRlZmluZWQgPyBwYXJlbnQgOiByZWFjdEkxOG5leHRPcHRpb25zLmRlZmF1bHRUcmFuc1BhcmVudDtcbiAgcmV0dXJuIHVzZUFzUGFyZW50ID8gY3JlYXRlRWxlbWVudCh1c2VBc1BhcmVudCwgYWRkaXRpb25hbFByb3BzLCBjb250ZW50KSA6IGNvbnRlbnQ7XG59IiwiaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICcuL3VzZVRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2xhdGlvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgbnMsXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ub3B0aW9uc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFt0LCBpMThuLCByZWFkeV0gPSB1c2VUcmFuc2xhdGlvbihucywgb3B0aW9ucyk7XG4gIHJldHVybiBjaGlsZHJlbih0LCB7XG4gICAgaTE4bixcbiAgICBsbmc6IGkxOG4ubGFuZ3VhZ2VcbiAgfSwgcmVhZHkpO1xufSIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXREZWZhdWx0cywgc2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEkxOG4sIHNldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBpbml0UmVhY3RJMThuZXh0IH0gZnJvbSAnLi9pbml0UmVhY3RJMThuZXh0LmpzJztcbmV4cG9ydCB7IGdldERlZmF1bHRzLCBzZXREZWZhdWx0cywgZ2V0STE4biwgc2V0STE4biwgaW5pdFJlYWN0STE4bmV4dCB9O1xuZXhwb3J0IGNvbnN0IEkxOG5Db250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuZXhwb3J0IGNsYXNzIFJlcG9ydE5hbWVzcGFjZXMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnVzZWROYW1lc3BhY2VzID0ge307XG4gIH1cbiAgYWRkVXNlZE5hbWVzcGFjZXMobmFtZXNwYWNlcykge1xuICAgIG5hbWVzcGFjZXMuZm9yRWFjaChucyA9PiB7XG4gICAgICBpZiAoIXRoaXMudXNlZE5hbWVzcGFjZXNbbnNdKSB0aGlzLnVzZWROYW1lc3BhY2VzW25zXSA9IHRydWU7XG4gICAgfSk7XG4gIH1cbiAgZ2V0VXNlZE5hbWVzcGFjZXMgPSAoKSA9PiBPYmplY3Qua2V5cyh0aGlzLnVzZWROYW1lc3BhY2VzKTtcbn1cbmV4cG9ydCBjb25zdCBjb21wb3NlSW5pdGlhbFByb3BzID0gRm9yQ29tcG9uZW50ID0+IGFzeW5jIGN0eCA9PiB7XG4gIGNvbnN0IGNvbXBvbmVudHNJbml0aWFsUHJvcHMgPSBGb3JDb21wb25lbnQuZ2V0SW5pdGlhbFByb3BzID8gYXdhaXQgRm9yQ29tcG9uZW50LmdldEluaXRpYWxQcm9wcyhjdHgpIDoge307XG4gIGNvbnN0IGkxOG5Jbml0aWFsUHJvcHMgPSBnZXRJbml0aWFsUHJvcHMoKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5jb21wb25lbnRzSW5pdGlhbFByb3BzLFxuICAgIC4uLmkxOG5Jbml0aWFsUHJvcHNcbiAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0SW5pdGlhbFByb3BzID0gKCkgPT4ge1xuICBjb25zdCBpMThuID0gZ2V0STE4bigpO1xuICBjb25zdCBuYW1lc3BhY2VzID0gaTE4bi5yZXBvcnROYW1lc3BhY2VzID8gaTE4bi5yZXBvcnROYW1lc3BhY2VzLmdldFVzZWROYW1lc3BhY2VzKCkgOiBbXTtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNvbnN0IGluaXRpYWxJMThuU3RvcmUgPSB7fTtcbiAgaTE4bi5sYW5ndWFnZXMuZm9yRWFjaChsID0+IHtcbiAgICBpbml0aWFsSTE4blN0b3JlW2xdID0ge307XG4gICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgIGluaXRpYWxJMThuU3RvcmVbbF1bbnNdID0gaTE4bi5nZXRSZXNvdXJjZUJ1bmRsZShsLCBucykgfHwge307XG4gICAgfSk7XG4gIH0pO1xuICByZXQuaW5pdGlhbEkxOG5TdG9yZSA9IGluaXRpYWxJMThuU3RvcmU7XG4gIHJldC5pbml0aWFsTGFuZ3VhZ2UgPSBpMThuLmxhbmd1YWdlO1xuICByZXR1cm4gcmV0O1xufTsiLCJpbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xubGV0IGRlZmF1bHRPcHRpb25zID0ge1xuICBiaW5kSTE4bjogJ2xhbmd1YWdlQ2hhbmdlZCcsXG4gIGJpbmRJMThuU3RvcmU6ICcnLFxuICB0cmFuc0VtcHR5Tm9kZVZhbHVlOiAnJyxcbiAgdHJhbnNTdXBwb3J0QmFzaWNIdG1sTm9kZXM6IHRydWUsXG4gIHRyYW5zV3JhcFRleHROb2RlczogJycsXG4gIHRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yOiBbJ2JyJywgJ3N0cm9uZycsICdpJywgJ3AnXSxcbiAgdXNlU3VzcGVuc2U6IHRydWUsXG4gIHVuZXNjYXBlXG59O1xuZXhwb3J0IGNvbnN0IHNldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdHMgPSAoKSA9PiBkZWZhdWx0T3B0aW9uczsiLCJsZXQgaTE4bkluc3RhbmNlO1xuZXhwb3J0IGNvbnN0IHNldEkxOG4gPSBpbnN0YW5jZSA9PiB7XG4gIGkxOG5JbnN0YW5jZSA9IGluc3RhbmNlO1xufTtcbmV4cG9ydCBjb25zdCBnZXRJMThuID0gKCkgPT4gaTE4bkluc3RhbmNlOyIsImV4cG9ydCB7IFRyYW5zIH0gZnJvbSAnLi9UcmFucy5qcyc7XG5leHBvcnQgeyBUcmFucyBhcyBUcmFuc1dpdGhvdXRDb250ZXh0IH0gZnJvbSAnLi9UcmFuc1dpdGhvdXRDb250ZXh0LmpzJztcbmV4cG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnLi91c2VUcmFuc2xhdGlvbi5qcyc7XG5leHBvcnQgeyB3aXRoVHJhbnNsYXRpb24gfSBmcm9tICcuL3dpdGhUcmFuc2xhdGlvbi5qcyc7XG5leHBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gJy4vVHJhbnNsYXRpb24uanMnO1xuZXhwb3J0IHsgSTE4bmV4dFByb3ZpZGVyIH0gZnJvbSAnLi9JMThuZXh0UHJvdmlkZXIuanMnO1xuZXhwb3J0IHsgd2l0aFNTUiB9IGZyb20gJy4vd2l0aFNTUi5qcyc7XG5leHBvcnQgeyB1c2VTU1IgfSBmcm9tICcuL3VzZVNTUi5qcyc7XG5leHBvcnQgeyBpbml0UmVhY3RJMThuZXh0IH0gZnJvbSAnLi9pbml0UmVhY3RJMThuZXh0LmpzJztcbmV4cG9ydCB7IHNldERlZmF1bHRzLCBnZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMuanMnO1xuZXhwb3J0IHsgc2V0STE4biwgZ2V0STE4biB9IGZyb20gJy4vaTE4bkluc3RhbmNlLmpzJztcbmV4cG9ydCB7IEkxOG5Db250ZXh0LCBjb21wb3NlSW5pdGlhbFByb3BzLCBnZXRJbml0aWFsUHJvcHMgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuZXhwb3J0IGNvbnN0IGRhdGUgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCB0aW1lID0gKCkgPT4gJyc7XG5leHBvcnQgY29uc3QgbnVtYmVyID0gKCkgPT4gJyc7XG5leHBvcnQgY29uc3Qgc2VsZWN0ID0gKCkgPT4gJyc7XG5leHBvcnQgY29uc3QgcGx1cmFsID0gKCkgPT4gJyc7XG5leHBvcnQgY29uc3Qgc2VsZWN0T3JkaW5hbCA9ICgpID0+ICcnOyIsImltcG9ydCB7IHNldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBzZXRJMThuIH0gZnJvbSAnLi9pMThuSW5zdGFuY2UuanMnO1xuZXhwb3J0IGNvbnN0IGluaXRSZWFjdEkxOG5leHQgPSB7XG4gIHR5cGU6ICczcmRQYXJ0eScsXG4gIGluaXQoaW5zdGFuY2UpIHtcbiAgICBzZXREZWZhdWx0cyhpbnN0YW5jZS5vcHRpb25zLnJlYWN0KTtcbiAgICBzZXRJMThuKGluc3RhbmNlKTtcbiAgfVxufTsiLCJjb25zdCBtYXRjaEh0bWxFbnRpdHkgPSAvJig/OmFtcHwjMzh8bHR8IzYwfGd0fCM2MnxhcG9zfCMzOXxxdW90fCMzNHxuYnNwfCMxNjB8Y29weXwjMTY5fHJlZ3wjMTc0fGhlbGxpcHwjODIzMHwjeDJGfCM0Nyk7L2c7XG5jb25zdCBodG1sRW50aXRpZXMgPSB7XG4gICcmYW1wOyc6ICcmJyxcbiAgJyYjMzg7JzogJyYnLFxuICAnJmx0Oyc6ICc8JyxcbiAgJyYjNjA7JzogJzwnLFxuICAnJmd0Oyc6ICc+JyxcbiAgJyYjNjI7JzogJz4nLFxuICAnJmFwb3M7JzogXCInXCIsXG4gICcmIzM5Oyc6IFwiJ1wiLFxuICAnJnF1b3Q7JzogJ1wiJyxcbiAgJyYjMzQ7JzogJ1wiJyxcbiAgJyZuYnNwOyc6ICcgJyxcbiAgJyYjMTYwOyc6ICcgJyxcbiAgJyZjb3B5Oyc6ICfCqScsXG4gICcmIzE2OTsnOiAnwqknLFxuICAnJnJlZzsnOiAnwq4nLFxuICAnJiMxNzQ7JzogJ8KuJyxcbiAgJyZoZWxsaXA7JzogJ+KApicsXG4gICcmIzgyMzA7JzogJ+KApicsXG4gICcmI3gyRjsnOiAnLycsXG4gICcmIzQ3Oyc6ICcvJ1xufTtcbmNvbnN0IHVuZXNjYXBlSHRtbEVudGl0eSA9IG0gPT4gaHRtbEVudGl0aWVzW21dO1xuZXhwb3J0IGNvbnN0IHVuZXNjYXBlID0gdGV4dCA9PiB0ZXh0LnJlcGxhY2UobWF0Y2hIdG1sRW50aXR5LCB1bmVzY2FwZUh0bWxFbnRpdHkpOyIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRJMThuLCBJMThuQ29udGV4dCB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgY29uc3QgdXNlU1NSID0gZnVuY3Rpb24gKGluaXRpYWxJMThuU3RvcmUsIGluaXRpYWxMYW5ndWFnZSkge1xuICBsZXQgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBjb25zdCB7XG4gICAgaTE4bjogaTE4bkZyb21Qcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbUNvbnRleHRcbiAgfSA9IHVzZUNvbnRleHQoSTE4bkNvbnRleHQpIHx8IHt9O1xuICBjb25zdCBpMThuID0gaTE4bkZyb21Qcm9wcyB8fCBpMThuRnJvbUNvbnRleHQgfHwgZ2V0STE4bigpO1xuICBpZiAoaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5pc0Nsb25lKSByZXR1cm47XG4gIGlmIChpbml0aWFsSTE4blN0b3JlICYmICFpMThuLmluaXRpYWxpemVkU3RvcmVPbmNlKSB7XG4gICAgaTE4bi5zZXJ2aWNlcy5yZXNvdXJjZVN0b3JlLmRhdGEgPSBpbml0aWFsSTE4blN0b3JlO1xuICAgIGkxOG4ub3B0aW9ucy5ucyA9IE9iamVjdC52YWx1ZXMoaW5pdGlhbEkxOG5TdG9yZSkucmVkdWNlKChtZW0sIGxuZ1Jlc291cmNlcykgPT4ge1xuICAgICAgT2JqZWN0LmtleXMobG5nUmVzb3VyY2VzKS5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgaWYgKG1lbS5pbmRleE9mKG5zKSA8IDApIG1lbS5wdXNoKG5zKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LCBpMThuLm9wdGlvbnMubnMpO1xuICAgIGkxOG4uaW5pdGlhbGl6ZWRTdG9yZU9uY2UgPSB0cnVlO1xuICAgIGkxOG4uaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH1cbiAgaWYgKGluaXRpYWxMYW5ndWFnZSAmJiAhaTE4bi5pbml0aWFsaXplZExhbmd1YWdlT25jZSkge1xuICAgIGkxOG4uY2hhbmdlTGFuZ3VhZ2UoaW5pdGlhbExhbmd1YWdlKTtcbiAgICBpMThuLmluaXRpYWxpemVkTGFuZ3VhZ2VPbmNlID0gdHJ1ZTtcbiAgfVxufTsiLCJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0STE4biwgZ2V0RGVmYXVsdHMsIFJlcG9ydE5hbWVzcGFjZXMsIEkxOG5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IHdhcm5PbmNlLCBsb2FkTmFtZXNwYWNlcywgbG9hZExhbmd1YWdlcywgaGFzTG9hZGVkTmFtZXNwYWNlLCBpc1N0cmluZywgaXNPYmplY3QgfSBmcm9tICcuL3V0aWxzLmpzJztcbmNvbnN0IHVzZVByZXZpb3VzID0gKHZhbHVlLCBpZ25vcmUpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSBpZ25vcmUgPyByZWYuY3VycmVudCA6IHZhbHVlO1xuICB9LCBbdmFsdWUsIGlnbm9yZV0pO1xuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59O1xuY29uc3QgYWx3YXlzTmV3VCA9IChpMThuLCBsYW5ndWFnZSwgbmFtZXNwYWNlLCBrZXlQcmVmaXgpID0+IGkxOG4uZ2V0Rml4ZWRUKGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeCk7XG5jb25zdCB1c2VNZW1vaXplZFQgPSAoaTE4biwgbGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KSA9PiB1c2VDYWxsYmFjayhhbHdheXNOZXdUKGkxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeCksIFtpMThuLCBsYW5ndWFnZSwgbmFtZXNwYWNlLCBrZXlQcmVmaXhdKTtcbmV4cG9ydCBjb25zdCB1c2VUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChucykge1xuICBsZXQgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBjb25zdCB7XG4gICAgaTE4bjogaTE4bkZyb21Qcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbUNvbnRleHQsXG4gICAgZGVmYXVsdE5TOiBkZWZhdWx0TlNGcm9tQ29udGV4dFxuICB9ID0gdXNlQ29udGV4dChJMThuQ29udGV4dCkgfHwge307XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGkxOG5Gcm9tQ29udGV4dCB8fCBnZXRJMThuKCk7XG4gIGlmIChpMThuICYmICFpMThuLnJlcG9ydE5hbWVzcGFjZXMpIGkxOG4ucmVwb3J0TmFtZXNwYWNlcyA9IG5ldyBSZXBvcnROYW1lc3BhY2VzKCk7XG4gIGlmICghaTE4bikge1xuICAgIHdhcm5PbmNlKCdZb3Ugd2lsbCBuZWVkIHRvIHBhc3MgaW4gYW4gaTE4bmV4dCBpbnN0YW5jZSBieSB1c2luZyBpbml0UmVhY3RJMThuZXh0Jyk7XG4gICAgY29uc3Qgbm90UmVhZHlUID0gKGssIG9wdHNPckRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgaWYgKGlzU3RyaW5nKG9wdHNPckRlZmF1bHRWYWx1ZSkpIHJldHVybiBvcHRzT3JEZWZhdWx0VmFsdWU7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0c09yRGVmYXVsdFZhbHVlKSAmJiBpc1N0cmluZyhvcHRzT3JEZWZhdWx0VmFsdWUuZGVmYXVsdFZhbHVlKSkgcmV0dXJuIG9wdHNPckRlZmF1bHRWYWx1ZS5kZWZhdWx0VmFsdWU7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrKSA/IGtbay5sZW5ndGggLSAxXSA6IGs7XG4gICAgfTtcbiAgICBjb25zdCByZXROb3RSZWFkeSA9IFtub3RSZWFkeVQsIHt9LCBmYWxzZV07XG4gICAgcmV0Tm90UmVhZHkudCA9IG5vdFJlYWR5VDtcbiAgICByZXROb3RSZWFkeS5pMThuID0ge307XG4gICAgcmV0Tm90UmVhZHkucmVhZHkgPSBmYWxzZTtcbiAgICByZXR1cm4gcmV0Tm90UmVhZHk7XG4gIH1cbiAgaWYgKGkxOG4ub3B0aW9ucy5yZWFjdCAmJiBpMThuLm9wdGlvbnMucmVhY3Qud2FpdCAhPT0gdW5kZWZpbmVkKSB3YXJuT25jZSgnSXQgc2VlbXMgeW91IGFyZSBzdGlsbCB1c2luZyB0aGUgb2xkIHdhaXQgb3B0aW9uLCB5b3UgbWF5IG1pZ3JhdGUgdG8gdGhlIG5ldyB1c2VTdXNwZW5zZSBiZWhhdmlvdXIuJyk7XG4gIGNvbnN0IGkxOG5PcHRpb25zID0ge1xuICAgIC4uLmdldERlZmF1bHRzKCksXG4gICAgLi4uaTE4bi5vcHRpb25zLnJlYWN0LFxuICAgIC4uLnByb3BzXG4gIH07XG4gIGNvbnN0IHtcbiAgICB1c2VTdXNwZW5zZSxcbiAgICBrZXlQcmVmaXhcbiAgfSA9IGkxOG5PcHRpb25zO1xuICBsZXQgbmFtZXNwYWNlcyA9IG5zIHx8IGRlZmF1bHROU0Zyb21Db250ZXh0IHx8IGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuZGVmYXVsdE5TO1xuICBuYW1lc3BhY2VzID0gaXNTdHJpbmcobmFtZXNwYWNlcykgPyBbbmFtZXNwYWNlc10gOiBuYW1lc3BhY2VzIHx8IFsndHJhbnNsYXRpb24nXTtcbiAgaWYgKGkxOG4ucmVwb3J0TmFtZXNwYWNlcy5hZGRVc2VkTmFtZXNwYWNlcykgaTE4bi5yZXBvcnROYW1lc3BhY2VzLmFkZFVzZWROYW1lc3BhY2VzKG5hbWVzcGFjZXMpO1xuICBjb25zdCByZWFkeSA9IChpMThuLmlzSW5pdGlhbGl6ZWQgfHwgaTE4bi5pbml0aWFsaXplZFN0b3JlT25jZSkgJiYgbmFtZXNwYWNlcy5ldmVyeShuID0+IGhhc0xvYWRlZE5hbWVzcGFjZShuLCBpMThuLCBpMThuT3B0aW9ucykpO1xuICBjb25zdCBtZW1vR2V0VCA9IHVzZU1lbW9pemVkVChpMThuLCBwcm9wcy5sbmcgfHwgbnVsbCwgaTE4bk9wdGlvbnMubnNNb2RlID09PSAnZmFsbGJhY2snID8gbmFtZXNwYWNlcyA6IG5hbWVzcGFjZXNbMF0sIGtleVByZWZpeCk7XG4gIGNvbnN0IGdldFQgPSAoKSA9PiBtZW1vR2V0VDtcbiAgY29uc3QgZ2V0TmV3VCA9ICgpID0+IGFsd2F5c05ld1QoaTE4biwgcHJvcHMubG5nIHx8IG51bGwsIGkxOG5PcHRpb25zLm5zTW9kZSA9PT0gJ2ZhbGxiYWNrJyA/IG5hbWVzcGFjZXMgOiBuYW1lc3BhY2VzWzBdLCBrZXlQcmVmaXgpO1xuICBjb25zdCBbdCwgc2V0VF0gPSB1c2VTdGF0ZShnZXRUKTtcbiAgbGV0IGpvaW5lZE5TID0gbmFtZXNwYWNlcy5qb2luKCk7XG4gIGlmIChwcm9wcy5sbmcpIGpvaW5lZE5TID0gYCR7cHJvcHMubG5nfSR7am9pbmVkTlN9YDtcbiAgY29uc3QgcHJldmlvdXNKb2luZWROUyA9IHVzZVByZXZpb3VzKGpvaW5lZE5TKTtcbiAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKHRydWUpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGJpbmRJMThuLFxuICAgICAgYmluZEkxOG5TdG9yZVxuICAgIH0gPSBpMThuT3B0aW9ucztcbiAgICBpc01vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgaWYgKCFyZWFkeSAmJiAhdXNlU3VzcGVuc2UpIHtcbiAgICAgIGlmIChwcm9wcy5sbmcpIHtcbiAgICAgICAgbG9hZExhbmd1YWdlcyhpMThuLCBwcm9wcy5sbmcsIG5hbWVzcGFjZXMsICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHNldFQoZ2V0TmV3VCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZE5hbWVzcGFjZXMoaTE4biwgbmFtZXNwYWNlcywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkgc2V0VChnZXROZXdUKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZWFkeSAmJiBwcmV2aW91c0pvaW5lZE5TICYmIHByZXZpb3VzSm9pbmVkTlMgIT09IGpvaW5lZE5TICYmIGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICBzZXRUKGdldE5ld1QpO1xuICAgIH1cbiAgICBjb25zdCBib3VuZFJlc2V0ID0gKCkgPT4ge1xuICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSBzZXRUKGdldE5ld1QpO1xuICAgIH07XG4gICAgaWYgKGJpbmRJMThuICYmIGkxOG4pIGkxOG4ub24oYmluZEkxOG4sIGJvdW5kUmVzZXQpO1xuICAgIGlmIChiaW5kSTE4blN0b3JlICYmIGkxOG4pIGkxOG4uc3RvcmUub24oYmluZEkxOG5TdG9yZSwgYm91bmRSZXNldCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBpZiAoYmluZEkxOG4gJiYgaTE4bikgYmluZEkxOG4uc3BsaXQoJyAnKS5mb3JFYWNoKGUgPT4gaTE4bi5vZmYoZSwgYm91bmRSZXNldCkpO1xuICAgICAgaWYgKGJpbmRJMThuU3RvcmUgJiYgaTE4bikgYmluZEkxOG5TdG9yZS5zcGxpdCgnICcpLmZvckVhY2goZSA9PiBpMThuLnN0b3JlLm9mZihlLCBib3VuZFJlc2V0KSk7XG4gICAgfTtcbiAgfSwgW2kxOG4sIGpvaW5lZE5TXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzTW91bnRlZC5jdXJyZW50ICYmIHJlYWR5KSB7XG4gICAgICBzZXRUKGdldFQpO1xuICAgIH1cbiAgfSwgW2kxOG4sIGtleVByZWZpeCwgcmVhZHldKTtcbiAgY29uc3QgcmV0ID0gW3QsIGkxOG4sIHJlYWR5XTtcbiAgcmV0LnQgPSB0O1xuICByZXQuaTE4biA9IGkxOG47XG4gIHJldC5yZWFkeSA9IHJlYWR5O1xuICBpZiAocmVhZHkpIHJldHVybiByZXQ7XG4gIGlmICghcmVhZHkgJiYgIXVzZVN1c3BlbnNlKSByZXR1cm4gcmV0O1xuICB0aHJvdyBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBpZiAocHJvcHMubG5nKSB7XG4gICAgICBsb2FkTGFuZ3VhZ2VzKGkxOG4sIHByb3BzLmxuZywgbmFtZXNwYWNlcywgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZE5hbWVzcGFjZXMoaTE4biwgbmFtZXNwYWNlcywgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9XG4gIH0pO1xufTsiLCJleHBvcnQgZnVuY3Rpb24gd2FybigpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFyZ3NbMF0gPSBgcmVhY3QtaTE4bmV4dDo6ICR7YXJnc1swXX1gO1xuICAgIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgfVxufVxuY29uc3QgYWxyZWFkeVdhcm5lZCA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PbmNlKCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cbiAgaWYgKGlzU3RyaW5nKGFyZ3NbMF0pICYmIGFscmVhZHlXYXJuZWRbYXJnc1swXV0pIHJldHVybjtcbiAgaWYgKGlzU3RyaW5nKGFyZ3NbMF0pKSBhbHJlYWR5V2FybmVkW2FyZ3NbMF1dID0gbmV3IERhdGUoKTtcbiAgd2FybiguLi5hcmdzKTtcbn1cbmNvbnN0IGxvYWRlZENsYiA9IChpMThuLCBjYikgPT4gKCkgPT4ge1xuICBpZiAoaTE4bi5pc0luaXRpYWxpemVkKSB7XG4gICAgY2IoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpbml0aWFsaXplZCA9ICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpMThuLm9mZignaW5pdGlhbGl6ZWQnLCBpbml0aWFsaXplZCk7XG4gICAgICB9LCAwKTtcbiAgICAgIGNiKCk7XG4gICAgfTtcbiAgICBpMThuLm9uKCdpbml0aWFsaXplZCcsIGluaXRpYWxpemVkKTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBsb2FkTmFtZXNwYWNlcyA9IChpMThuLCBucywgY2IpID0+IHtcbiAgaTE4bi5sb2FkTmFtZXNwYWNlcyhucywgbG9hZGVkQ2xiKGkxOG4sIGNiKSk7XG59O1xuZXhwb3J0IGNvbnN0IGxvYWRMYW5ndWFnZXMgPSAoaTE4biwgbG5nLCBucywgY2IpID0+IHtcbiAgaWYgKGlzU3RyaW5nKG5zKSkgbnMgPSBbbnNdO1xuICBucy5mb3JFYWNoKG4gPT4ge1xuICAgIGlmIChpMThuLm9wdGlvbnMubnMuaW5kZXhPZihuKSA8IDApIGkxOG4ub3B0aW9ucy5ucy5wdXNoKG4pO1xuICB9KTtcbiAgaTE4bi5sb2FkTGFuZ3VhZ2VzKGxuZywgbG9hZGVkQ2xiKGkxOG4sIGNiKSk7XG59O1xuY29uc3Qgb2xkSTE4bmV4dEhhc0xvYWRlZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChucywgaTE4bikge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGNvbnN0IGxuZyA9IGkxOG4ubGFuZ3VhZ2VzWzBdO1xuICBjb25zdCBmYWxsYmFja0xuZyA9IGkxOG4ub3B0aW9ucyA/IGkxOG4ub3B0aW9ucy5mYWxsYmFja0xuZyA6IGZhbHNlO1xuICBjb25zdCBsYXN0TG5nID0gaTE4bi5sYW5ndWFnZXNbaTE4bi5sYW5ndWFnZXMubGVuZ3RoIC0gMV07XG4gIGlmIChsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHJldHVybiB0cnVlO1xuICBjb25zdCBsb2FkTm90UGVuZGluZyA9IChsLCBuKSA9PiB7XG4gICAgY29uc3QgbG9hZFN0YXRlID0gaTE4bi5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnN0YXRlW2Ake2x9fCR7bn1gXTtcbiAgICByZXR1cm4gbG9hZFN0YXRlID09PSAtMSB8fCBsb2FkU3RhdGUgPT09IDI7XG4gIH07XG4gIGlmIChvcHRpb25zLmJpbmRJMThuICYmIG9wdGlvbnMuYmluZEkxOG4uaW5kZXhPZignbGFuZ3VhZ2VDaGFuZ2luZycpID4gLTEgJiYgaTE4bi5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmJhY2tlbmQgJiYgaTE4bi5pc0xhbmd1YWdlQ2hhbmdpbmdUbyAmJiAhbG9hZE5vdFBlbmRpbmcoaTE4bi5pc0xhbmd1YWdlQ2hhbmdpbmdUbywgbnMpKSByZXR1cm4gZmFsc2U7XG4gIGlmIChpMThuLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCFpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCB8fCBpMThuLm9wdGlvbnMucmVzb3VyY2VzICYmICFpMThuLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpIHJldHVybiB0cnVlO1xuICBpZiAobG9hZE5vdFBlbmRpbmcobG5nLCBucykgJiYgKCFmYWxsYmFja0xuZyB8fCBsb2FkTm90UGVuZGluZyhsYXN0TG5nLCBucykpKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCBjb25zdCBoYXNMb2FkZWROYW1lc3BhY2UgPSBmdW5jdGlvbiAobnMsIGkxOG4pIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBpZiAoIWkxOG4ubGFuZ3VhZ2VzIHx8ICFpMThuLmxhbmd1YWdlcy5sZW5ndGgpIHtcbiAgICB3YXJuT25jZSgnaTE4bi5sYW5ndWFnZXMgd2VyZSB1bmRlZmluZWQgb3IgZW1wdHknLCBpMThuLmxhbmd1YWdlcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgaXNOZXdlckkxOG5leHQgPSBpMThuLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSAhPT0gdW5kZWZpbmVkO1xuICBpZiAoIWlzTmV3ZXJJMThuZXh0KSB7XG4gICAgcmV0dXJuIG9sZEkxOG5leHRIYXNMb2FkZWROYW1lc3BhY2UobnMsIGkxOG4sIG9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBpMThuLmhhc0xvYWRlZE5hbWVzcGFjZShucywge1xuICAgIGxuZzogb3B0aW9ucy5sbmcsXG4gICAgcHJlY2hlY2s6IChpMThuSW5zdGFuY2UsIGxvYWROb3RQZW5kaW5nKSA9PiB7XG4gICAgICBpZiAob3B0aW9ucy5iaW5kSTE4biAmJiBvcHRpb25zLmJpbmRJMThuLmluZGV4T2YoJ2xhbmd1YWdlQ2hhbmdpbmcnKSA+IC0xICYmIGkxOG5JbnN0YW5jZS5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmJhY2tlbmQgJiYgaTE4bkluc3RhbmNlLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvICYmICFsb2FkTm90UGVuZGluZyhpMThuSW5zdGFuY2UuaXNMYW5ndWFnZUNoYW5naW5nVG8sIG5zKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGdldERpc3BsYXlOYW1lID0gQ29tcG9uZW50ID0+IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAoaXNTdHJpbmcoQ29tcG9uZW50KSAmJiBDb21wb25lbnQubGVuZ3RoID4gMCA/IENvbXBvbmVudCA6ICdVbmtub3duJyk7XG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSBvYmogPT4gdHlwZW9mIG9iaiA9PT0gJ3N0cmluZyc7XG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSBvYmogPT4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsOyIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTU1IgfSBmcm9tICcuL3VzZVNTUi5qcyc7XG5pbXBvcnQgeyBjb21wb3NlSW5pdGlhbFByb3BzIH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IGdldERpc3BsYXlOYW1lIH0gZnJvbSAnLi91dGlscy5qcyc7XG5leHBvcnQgY29uc3Qgd2l0aFNTUiA9ICgpID0+IGZ1bmN0aW9uIEV4dGVuZChXcmFwcGVkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIEkxOG5leHRXaXRoU1NSKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgaW5pdGlhbEkxOG5TdG9yZSxcbiAgICAgIGluaXRpYWxMYW5ndWFnZSxcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gX3JlZjtcbiAgICB1c2VTU1IoaW5pdGlhbEkxOG5TdG9yZSwgaW5pdGlhbExhbmd1YWdlKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB7XG4gICAgICAuLi5yZXN0XG4gICAgfSk7XG4gIH1cbiAgSTE4bmV4dFdpdGhTU1IuZ2V0SW5pdGlhbFByb3BzID0gY29tcG9zZUluaXRpYWxQcm9wcyhXcmFwcGVkQ29tcG9uZW50KTtcbiAgSTE4bmV4dFdpdGhTU1IuZGlzcGxheU5hbWUgPSBgd2l0aEkxOG5leHRTU1IoJHtnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KX0pYDtcbiAgSTE4bmV4dFdpdGhTU1IuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gIHJldHVybiBJMThuZXh0V2l0aFNTUjtcbn07IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZm9yd2FyZFJlZiBhcyBmb3J3YXJkUmVmUmVhY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJy4vdXNlVHJhbnNsYXRpb24uanMnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU5hbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmV4cG9ydCBjb25zdCB3aXRoVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAobnMpIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gRXh0ZW5kKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICBmdW5jdGlvbiBJMThuZXh0V2l0aFRyYW5zbGF0aW9uKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGZvcndhcmRlZFJlZixcbiAgICAgICAgLi4ucmVzdFxuICAgICAgfSA9IF9yZWY7XG4gICAgICBjb25zdCBbdCwgaTE4biwgcmVhZHldID0gdXNlVHJhbnNsYXRpb24obnMsIHtcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAga2V5UHJlZml4OiBvcHRpb25zLmtleVByZWZpeFxuICAgICAgfSk7XG4gICAgICBjb25zdCBwYXNzRG93blByb3BzID0ge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICB0LFxuICAgICAgICBpMThuLFxuICAgICAgICB0UmVhZHk6IHJlYWR5XG4gICAgICB9O1xuICAgICAgaWYgKG9wdGlvbnMud2l0aFJlZiAmJiBmb3J3YXJkZWRSZWYpIHtcbiAgICAgICAgcGFzc0Rvd25Qcm9wcy5yZWYgPSBmb3J3YXJkZWRSZWY7XG4gICAgICB9IGVsc2UgaWYgKCFvcHRpb25zLndpdGhSZWYgJiYgZm9yd2FyZGVkUmVmKSB7XG4gICAgICAgIHBhc3NEb3duUHJvcHMuZm9yd2FyZGVkUmVmID0gZm9yd2FyZGVkUmVmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgcGFzc0Rvd25Qcm9wcyk7XG4gICAgfVxuICAgIEkxOG5leHRXaXRoVHJhbnNsYXRpb24uZGlzcGxheU5hbWUgPSBgd2l0aEkxOG5leHRUcmFuc2xhdGlvbigke2dldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpfSlgO1xuICAgIEkxOG5leHRXaXRoVHJhbnNsYXRpb24uV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gICAgY29uc3QgZm9yd2FyZFJlZiA9IChwcm9wcywgcmVmKSA9PiBjcmVhdGVFbGVtZW50KEkxOG5leHRXaXRoVHJhbnNsYXRpb24sIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICAgIH0pKTtcbiAgICByZXR1cm4gb3B0aW9ucy53aXRoUmVmID8gZm9yd2FyZFJlZlJlYWN0KGZvcndhcmRSZWYpIDogSTE4bmV4dFdpdGhUcmFuc2xhdGlvbjtcbiAgfTtcbn07IiwiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXNcIixcbiAgICAgICAgICAgIGluZm9bMF0sXG4gICAgICAgICAgICBpbmZvWzFdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgICAgaWYgKG51bGwgPT09IG1heWJlSXRlcmFibGUgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG1heWJlSXRlcmFibGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgbWF5YmVJdGVyYWJsZSA9XG4gICAgICAgIChNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgICBtYXliZUl0ZXJhYmxlW1wiQEBpdGVyYXRvclwiXTtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlID8gbWF5YmVJdGVyYWJsZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgICBwdWJsaWNJbnN0YW5jZSA9XG4gICAgICAgICgocHVibGljSW5zdGFuY2UgPSBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3RvcikgJiZcbiAgICAgICAgICAocHVibGljSW5zdGFuY2UuZGlzcGxheU5hbWUgfHwgcHVibGljSW5zdGFuY2UubmFtZSkpIHx8XG4gICAgICAgIFwiUmVhY3RDbGFzc1wiO1xuICAgICAgdmFyIHdhcm5pbmdLZXkgPSBwdWJsaWNJbnN0YW5jZSArIFwiLlwiICsgY2FsbGVyTmFtZTtcbiAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNhbid0IGNhbGwgJXMgb24gYSBjb21wb25lbnQgdGhhdCBpcyBub3QgeWV0IG1vdW50ZWQuIFRoaXMgaXMgYSBuby1vcCwgYnV0IGl0IG1pZ2h0IGluZGljYXRlIGEgYnVnIGluIHlvdXIgYXBwbGljYXRpb24uIEluc3RlYWQsIGFzc2lnbiB0byBgdGhpcy5zdGF0ZWAgZGlyZWN0bHkgb3IgZGVmaW5lIGEgYHN0YXRlID0ge307YCBjbGFzcyBwcm9wZXJ0eSB3aXRoIHRoZSBkZXNpcmVkIHN0YXRlIGluIHRoZSAlcyBjb21wb25lbnQuXCIsXG4gICAgICAgICAgY2FsbGVyTmFtZSxcbiAgICAgICAgICBwdWJsaWNJbnN0YW5jZVxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnREdW1teSgpIHt9XG4gICAgZnVuY3Rpb24gUHVyZUNvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBjb25zb2xlO1xuICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmVycm9yO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwID1cbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgIFwiT2JqZWN0XCI7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdC5jYWxsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCxcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgICBjYXNlIFJFQUNUX0FDVElWSVRZX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiQWN0aXZpdHlcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXNrTmFtZSh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkgcmV0dXJuIFwiPD5cIjtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICByZXR1cm4gbmFtZSA/IFwiPFwiICsgbmFtZSArIFwiPlwiIDogXCI8Li4uPlwiO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gVW5rbm93bk93bmVyKCkge1xuICAgICAgcmV0dXJuIEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb25maWcua2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHdhcm5BYm91dEFjY2Vzc2luZ0tleSgpIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gfHxcbiAgICAgICAgICAoKHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gITApLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zcGVjaWFsLXByb3BzKVwiLFxuICAgICAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9ICEwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBcImtleVwiLCB7XG4gICAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmcoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAoKGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgZWxlbWVudC5yZWYgd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIHJlZiBpcyBub3cgYSByZWd1bGFyIHByb3AuIEl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBKU1ggRWxlbWVudCB0eXBlIGluIGEgZnV0dXJlIHJlbGVhc2UuXCJcbiAgICAgICAgKSk7XG4gICAgICBjb21wb25lbnROYW1lID0gdGhpcy5wcm9wcy5yZWY7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb21wb25lbnROYW1lID8gY29tcG9uZW50TmFtZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RWxlbWVudChcbiAgICAgIHR5cGUsXG4gICAgICBrZXksXG4gICAgICBzZWxmLFxuICAgICAgc291cmNlLFxuICAgICAgb3duZXIsXG4gICAgICBwcm9wcyxcbiAgICAgIGRlYnVnU3RhY2ssXG4gICAgICBkZWJ1Z1Rhc2tcbiAgICApIHtcbiAgICAgIHNlbGYgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gc2VsZiA/IHNlbGYgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1N0YWNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnU3RhY2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnVGFza1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1Rhc2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgICAgbmV3S2V5ID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBvbGRFbGVtZW50LnR5cGUsXG4gICAgICAgIG5ld0tleSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG9sZEVsZW1lbnQuX293bmVyLFxuICAgICAgICBvbGRFbGVtZW50LnByb3BzLFxuICAgICAgICBvbGRFbGVtZW50Ll9kZWJ1Z1N0YWNrLFxuICAgICAgICBvbGRFbGVtZW50Ll9kZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgICBvbGRFbGVtZW50Ll9zdG9yZSAmJlxuICAgICAgICAobmV3S2V5Ll9zdG9yZS52YWxpZGF0ZWQgPSBvbGRFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQpO1xuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICAgICAgdmFyIGVzY2FwZXJMb29rdXAgPSB7IFwiPVwiOiBcIj0wXCIsIFwiOlwiOiBcIj0yXCIgfTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiJFwiICtcbiAgICAgICAga2V5LnJlcGxhY2UoL1s9Ol0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudEtleShlbGVtZW50LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT09IGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPSBlbGVtZW50LmtleVxuICAgICAgICA/IChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGVsZW1lbnQua2V5KSwgZXNjYXBlKFwiXCIgKyBlbGVtZW50LmtleSkpXG4gICAgICAgIDogaW5kZXgudG9TdHJpbmcoMzYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDEoKSB7fVxuICAgIGZ1bmN0aW9uIHJlc29sdmVUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgc3dpdGNoICh0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoZW5hYmxlLnN0YXR1c1xuICAgICAgICAgICAgICA/IHRoZW5hYmxlLnRoZW4obm9vcCQxLCBub29wJDEpXG4gICAgICAgICAgICAgIDogKCh0aGVuYWJsZS5zdGF0dXMgPSBcInBlbmRpbmdcIiksXG4gICAgICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUudmFsdWUgPSBmdWxmaWxsZWRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS5yZWFzb24gPSBlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuYW1lU29GYXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlKSBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSAhMTtcbiAgICAgIGlmIChudWxsID09PSBjaGlsZHJlbikgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW4uX2luaXQpLFxuICAgICAgICAgICAgICAgICAgbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayhjaGlsZHJlbi5fcGF5bG9hZCksXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgICAgIGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW47XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soaW52b2tlQ2FsbGJhY2spO1xuICAgICAgICB2YXIgY2hpbGRLZXkgPVxuICAgICAgICAgIFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiICsgZ2V0RWxlbWVudEtleShpbnZva2VDYWxsYmFjaywgMCkgOiBuYW1lU29GYXI7XG4gICAgICAgIGlzQXJyYXlJbXBsKGNhbGxiYWNrKVxuICAgICAgICAgID8gKChlc2NhcGVkUHJlZml4ID0gXCJcIiksXG4gICAgICAgICAgICBudWxsICE9IGNoaWxkS2V5ICYmXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID1cbiAgICAgICAgICAgICAgICBjaGlsZEtleS5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCBcIiQmL1wiKSArIFwiL1wiKSxcbiAgICAgICAgICAgIG1hcEludG9BcnJheShjYWxsYmFjaywgYXJyYXksIGVzY2FwZWRQcmVmaXgsIFwiXCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBudWxsICE9IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoaXNWYWxpZEVsZW1lbnQoY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgIChudWxsICE9IGNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgICgoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpIHx8XG4gICAgICAgICAgICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNhbGxiYWNrLmtleSkpLFxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9IGNsb25lQW5kUmVwbGFjZUtleShcbiAgICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4ICtcbiAgICAgICAgICAgICAgICAgIChudWxsID09IGNhbGxiYWNrLmtleSB8fFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KVxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgOiAoXCJcIiArIGNhbGxiYWNrLmtleSkucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIkJi9cIlxuICAgICAgICAgICAgICAgICAgICAgICkgKyBcIi9cIikgK1xuICAgICAgICAgICAgICAgICAgY2hpbGRLZXlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIFwiXCIgIT09IG5hbWVTb0ZhciAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gaW52b2tlQ2FsbGJhY2sgJiZcbiAgICAgICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChpbnZva2VDYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgICBudWxsID09IGludm9rZUNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAgICFpbnZva2VDYWxsYmFjay5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXguX3N0b3JlLnZhbGlkYXRlZCA9IDIpLFxuICAgICAgICAgICAgICAoY2FsbGJhY2sgPSBlc2NhcGVkUHJlZml4KSksXG4gICAgICAgICAgICBhcnJheS5wdXNoKGNhbGxiYWNrKSk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaW52b2tlQ2FsbGJhY2sgPSAwO1xuICAgICAgY2hpbGRLZXkgPSBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiA6IG5hbWVTb0ZhciArIFwiOlwiO1xuICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAobmFtZVNvRmFyID0gY2hpbGRyZW5baV0pLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGkgPT09IGNoaWxkcmVuLmVudHJpZXMgJiZcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZC4gVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgPSAhMCkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBpLmNhbGwoY2hpbGRyZW4pLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgIShuYW1lU29GYXIgPSBjaGlsZHJlbi5uZXh0KCkpLmRvbmU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBuYW1lU29GYXIudmFsdWUpLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKyspKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT09IHR5cGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNoaWxkcmVuLnRoZW4pXG4gICAgICAgICAgcmV0dXJuIG1hcEludG9BcnJheShcbiAgICAgICAgICAgIHJlc29sdmVUaGVuYWJsZShjaGlsZHJlbiksXG4gICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICk7XG4gICAgICAgIGFycmF5ID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSBhcnJheVxuICAgICAgICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICAgOiBhcnJheSkgK1xuICAgICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgICAgIGlmIChudWxsID09IGNoaWxkcmVuKSByZXR1cm4gY2hpbGRyZW47XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgIG1hcEludG9BcnJheShjaGlsZHJlbiwgcmVzdWx0LCBcIlwiLCBcIlwiLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgY291bnQrKyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhenlJbml0aWFsaXplcihwYXlsb2FkKSB7XG4gICAgICBpZiAoLTEgPT09IHBheWxvYWQuX3N0YXR1cykge1xuICAgICAgICB2YXIgY3RvciA9IHBheWxvYWQuX3Jlc3VsdDtcbiAgICAgICAgY3RvciA9IGN0b3IoKTtcbiAgICAgICAgY3Rvci50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChtb2R1bGVPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBwYXlsb2FkLl9zdGF0dXMgfHwgLTEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgICAgICAgKHBheWxvYWQuX3N0YXR1cyA9IDEpLCAocGF5bG9hZC5fcmVzdWx0ID0gbW9kdWxlT2JqZWN0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMiksIChwYXlsb2FkLl9yZXN1bHQgPSBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzICYmXG4gICAgICAgICAgKChwYXlsb2FkLl9zdGF0dXMgPSAwKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGN0b3IpKTtcbiAgICAgIH1cbiAgICAgIGlmICgxID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGN0b3IgPSBwYXlsb2FkLl9yZXN1bHQpLFxuICAgICAgICAgIHZvaWQgMCA9PT0gY3RvciAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcXG5cXG5EaWQgeW91IGFjY2lkZW50YWxseSBwdXQgY3VybHkgYnJhY2VzIGFyb3VuZCB0aGUgaW1wb3J0P1wiLFxuICAgICAgICAgICAgICBjdG9yXG4gICAgICAgICAgICApLFxuICAgICAgICAgIFwiZGVmYXVsdFwiIGluIGN0b3IgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwibGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gSW5zdGVhZCByZWNlaXZlZDogJXNcXG5cXG5Zb3VyIGNvZGUgc2hvdWxkIGxvb2sgbGlrZTogXFxuICBjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL015Q29tcG9uZW50JykpXCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgY3Rvci5kZWZhdWx0XG4gICAgICAgICk7XG4gICAgICB0aHJvdyBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVRhc2sodGFzaykge1xuICAgICAgaWYgKG51bGwgPT09IGVucXVldWVUYXNrSW1wbClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVxdWlyZVN0cmluZyA9IChcInJlcXVpcmVcIiArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDAsIDcpO1xuICAgICAgICAgIGVucXVldWVUYXNrSW1wbCA9IChtb2R1bGUgJiYgbW9kdWxlW3JlcXVpcmVTdHJpbmddKS5jYWxsKFxuICAgICAgICAgICAgbW9kdWxlLFxuICAgICAgICAgICAgXCJ0aW1lcnNcIlxuICAgICAgICAgICkuc2V0SW1tZWRpYXRlO1xuICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAhMSA9PT0gZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICEwKSxcbiAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgYSBNZXNzYWdlQ2hhbm5lbCBpbXBsZW1lbnRhdGlvbiwgc28gZW5xdWV1aW5nIHRhc2tzIHZpYSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aWxsIGZhaWwuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMgaWYgeW91IGVuY291bnRlciB0aGlzIHdhcm5pbmcuXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSh2b2lkIDApO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBlbnF1ZXVlVGFza0ltcGwodGFzayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFnZ3JlZ2F0ZUVycm9ycyhlcnJvcnMpIHtcbiAgICAgIHJldHVybiAxIDwgZXJyb3JzLmxlbmd0aCAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBBZ2dyZWdhdGVFcnJvclxuICAgICAgICA/IG5ldyBBZ2dyZWdhdGVFcnJvcihlcnJvcnMpXG4gICAgICAgIDogZXJyb3JzWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKSB7XG4gICAgICBwcmV2QWN0U2NvcGVEZXB0aCAhPT0gYWN0U2NvcGVEZXB0aCAtIDEgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBzZWVtIHRvIGhhdmUgb3ZlcmxhcHBpbmcgYWN0KCkgY2FsbHMsIHRoaXMgaXMgbm90IHN1cHBvcnRlZC4gQmUgc3VyZSB0byBhd2FpdCBwcmV2aW91cyBhY3QoKSBjYWxscyBiZWZvcmUgbWFraW5nIGEgbmV3IG9uZS4gXCJcbiAgICAgICAgKTtcbiAgICAgIGFjdFNjb3BlRGVwdGggPSBwcmV2QWN0U2NvcGVEZXB0aDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhyZXR1cm5WYWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSBxdWV1ZSlcbiAgICAgICAgaWYgKDAgIT09IHF1ZXVlLmxlbmd0aClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSk7XG4gICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBudWxsO1xuICAgICAgMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGhcbiAgICAgICAgPyAoKHF1ZXVlID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgcmVqZWN0KHF1ZXVlKSlcbiAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hBY3RRdWV1ZShxdWV1ZSkge1xuICAgICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICAgIGlzRmx1c2hpbmcgPSAhMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlID0gITE7XG4gICAgICAgICAgICAgIHZhciBjb250aW51YXRpb24gPSBjYWxsYmFjayghMSk7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSBjb250aW51YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgcXVldWVbaV0gPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjb250aW51YXRpb247XG4gICAgICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpICsgMSksIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpc0ZsdXNoaW5nID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTtcbiAgICB2YXIgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9BQ1RJVklUWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmFjdGl2aXR5XCIpLFxuICAgICAgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yLFxuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge30sXG4gICAgICBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJyZXBsYWNlU3RhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwic2V0U3RhdGVcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgZW1wdHlPYmplY3QgPSB7fTtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgbnVsbCAhPSBwYXJ0aWFsU3RhdGVcbiAgICAgIClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJ0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy5cIlxuICAgICAgICApO1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCBcInNldFN0YXRlXCIpO1xuICAgIH07XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICB9O1xuICAgIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBbXG4gICAgICAgICAgXCJpc01vdW50ZWRcIixcbiAgICAgICAgICBcIkluc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluIGNvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLlwiXG4gICAgICAgIF0sXG4gICAgICAgIHJlcGxhY2VTdGF0ZTogW1xuICAgICAgICAgIFwicmVwbGFjZVN0YXRlXCIsXG4gICAgICAgICAgXCJSZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIHNldFN0YXRlIGluc3RlYWQgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLlwiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBmbk5hbWU7XG4gICAgZm9yIChmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpXG4gICAgICBkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpICYmXG4gICAgICAgIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhmbk5hbWUsIGRlcHJlY2F0ZWRBUElzW2ZuTmFtZV0pO1xuICAgIENvbXBvbmVudER1bW15LnByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG4gICAgZGVwcmVjYXRlZEFQSXMgPSBQdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnREdW1teSgpO1xuICAgIGRlcHJlY2F0ZWRBUElzLmNvbnN0cnVjdG9yID0gUHVyZUNvbXBvbmVudDtcbiAgICBhc3NpZ24oZGVwcmVjYXRlZEFQSXMsIENvbXBvbmVudC5wcm90b3R5cGUpO1xuICAgIGRlcHJlY2F0ZWRBUElzLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gITA7XG4gICAgdmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0ge1xuICAgICAgICBIOiBudWxsLFxuICAgICAgICBBOiBudWxsLFxuICAgICAgICBUOiBudWxsLFxuICAgICAgICBTOiBudWxsLFxuICAgICAgICBWOiBudWxsLFxuICAgICAgICBhY3RRdWV1ZTogbnVsbCxcbiAgICAgICAgaXNCYXRjaGluZ0xlZ2FjeTogITEsXG4gICAgICAgIGRpZFNjaGVkdWxlTGVnYWN5VXBkYXRlOiAhMSxcbiAgICAgICAgZGlkVXNlUHJvbWlzZTogITEsXG4gICAgICAgIHRocm93bkVycm9yczogW10sXG4gICAgICAgIGdldEN1cnJlbnRTdGFjazogbnVsbCxcbiAgICAgICAgcmVjZW50bHlDcmVhdGVkT3duZXJTdGFja3M6IDBcbiAgICAgIH0sXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChjYWxsU3RhY2tGb3JFcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbFN0YWNrRm9yRXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biwgZGlkV2FybkFib3V0T2xkSlNYUnVudGltZTtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1N0YWNrID0gZGVwcmVjYXRlZEFQSXNbXG4gICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXG4gICAgXS5iaW5kKGRlcHJlY2F0ZWRBUElzLCBVbmtub3duT3duZXIpKCk7XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnVGFzayA9IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUoVW5rbm93bk93bmVyKSk7XG4gICAgdmFyIGRpZFdhcm5BYm91dE1hcHMgPSAhMSxcbiAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4ID0gL1xcLysvZyxcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVwb3J0RXJyb3JcbiAgICAgICAgICA/IHJlcG9ydEVycm9yXG4gICAgICAgICAgOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB3aW5kb3cgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB3aW5kb3cuRXJyb3JFdmVudFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgd2luZG93LkVycm9yRXZlbnQoXCJlcnJvclwiLCB7XG4gICAgICAgICAgICAgICAgICBidWJibGVzOiAhMCxcbiAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6ICEwLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJvY2Vzcy5lbWl0XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInVuY2F1Z2h0RXhjZXB0aW9uXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgPSAhMSxcbiAgICAgIGVucXVldWVUYXNrSW1wbCA9IG51bGwsXG4gICAgICBhY3RTY29wZURlcHRoID0gMCxcbiAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0ID0gITEsXG4gICAgICBpc0ZsdXNoaW5nID0gITEsXG4gICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcXVldWVNaWNyb3Rhc2tcbiAgICAgICAgICA/IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlTWljcm90YXNrKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBlbnF1ZXVlVGFzaztcbiAgICBkZXByZWNhdGVkQVBJcyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgX19wcm90b19fOiBudWxsLFxuICAgICAgYzogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGV4cG9ydHMuQ2hpbGRyZW4gPSB7XG4gICAgICBtYXA6IG1hcENoaWxkcmVuLFxuICAgICAgZm9yRWFjaDogZnVuY3Rpb24gKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgICAgICAgbWFwQ2hpbGRyZW4oXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yRWFjaEZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvckVhY2hDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY291bnQ6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9LFxuICAgICAgdG9BcnJheTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH0pIHx8IFtdXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgb25seTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIGV4cG9ydHMuUHVyZUNvbXBvbmVudCA9IFB1cmVDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5TdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICBleHBvcnRzLlN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICBleHBvcnRzLl9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSA9XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscztcbiAgICBleHBvcnRzLl9fQ09NUElMRVJfUlVOVElNRSA9IGRlcHJlY2F0ZWRBUElzO1xuICAgIGV4cG9ydHMuYWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcHJldkFjdFF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUsXG4gICAgICAgIHByZXZBY3RTY29wZURlcHRoID0gYWN0U2NvcGVEZXB0aDtcbiAgICAgIGFjdFNjb3BlRGVwdGgrKztcbiAgICAgIHZhciBxdWV1ZSA9IChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9XG4gICAgICAgICAgbnVsbCAhPT0gcHJldkFjdFF1ZXVlID8gcHJldkFjdFF1ZXVlIDogW10pLFxuICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpLFxuICAgICAgICAgIChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSByZXN1bHQgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJlc3VsdCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXN1bHQudGhlblxuICAgICAgKSB7XG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdDtcbiAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGlkQXdhaXRBY3RDYWxsIHx8XG4gICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGNhbGxlZCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aXRob3V0IGF3YWl0LiBUaGlzIGNvdWxkIGxlYWQgdG8gdW5leHBlY3RlZCB0ZXN0aW5nIGJlaGF2aW91ciwgaW50ZXJsZWF2aW5nIG11bHRpcGxlIGFjdCBjYWxscyBhbmQgbWl4aW5nIHRoZWlyIHNjb3Blcy4gWW91IHNob3VsZCAtIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pO1wiXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITA7XG4gICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAgICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IkMCkge1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvciQwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Rocm93bkVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KF90aHJvd25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgPyAoKGVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKSlcbiAgICAgICAgICAgICAgICAgIDogcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgcmV0dXJuVmFsdWUkanNjb21wJDAgPSByZXN1bHQ7XG4gICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoICYmXG4gICAgICAgIChmbHVzaEFjdFF1ZXVlKHF1ZXVlKSxcbiAgICAgICAgMCAhPT0gcXVldWUubGVuZ3RoICYmXG4gICAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgfHxcbiAgICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IHN1c3BlbmRlZCBpbnNpZGUgYW4gYGFjdGAgc2NvcGUsIGJ1dCB0aGUgYGFjdGAgY2FsbCB3YXMgbm90IGF3YWl0ZWQuIFdoZW4gdGVzdGluZyBSZWFjdCBjb21wb25lbnRzIHRoYXQgZGVwZW5kIG9uIGFzeW5jaHJvbm91cyBkYXRhLCB5b3UgbXVzdCBhd2FpdCB0aGUgcmVzdWx0OlxcblxcbmF3YWl0IGFjdCgoKSA9PiAuLi4pXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfSksXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGwpKTtcbiAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICgoY2FsbGJhY2sgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICBjYWxsYmFjaylcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAwID09PSBwcmV2QWN0U2NvcGVEZXB0aFxuICAgICAgICAgICAgPyAoKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gcXVldWUpLFxuICAgICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIDogcmVzb2x2ZShyZXR1cm5WYWx1ZSRqc2NvbXAkMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNhY2hlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNhcHR1cmVPd25lclN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjaztcbiAgICAgIHJldHVybiBudWxsID09PSBnZXRDdXJyZW50U3RhY2sgPyBudWxsIDogZ2V0Q3VycmVudFN0YWNrKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZWxlbWVudCB8fCB2b2lkIDAgPT09IGVsZW1lbnQpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCBcIiArXG4gICAgICAgICAgICBlbGVtZW50ICtcbiAgICAgICAgICAgIFwiLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpLFxuICAgICAgICBrZXkgPSBlbGVtZW50LmtleSxcbiAgICAgICAgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZykge1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgICBhOiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwicmVmXCIpICYmXG4gICAgICAgICAgICAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgICBcInJlZlwiXG4gICAgICAgICAgICApLmdldCkgJiZcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5pc1JlYWN0V2FybmluZ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSB2b2lkIDAgIT09IGNvbmZpZy5yZWY7XG4gICAgICAgIH1cbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ICYmIChvd25lciA9IGdldE93bmVyKCkpO1xuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChrZXkgPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSB8fFxuICAgICAgICAgICAgXCJrZXlcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zZWxmXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICBcIl9fc291cmNlXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICAoXCJyZWZcIiA9PT0gcHJvcE5hbWUgJiYgdm9pZCAwID09PSBjb25maWcucmVmKSB8fFxuICAgICAgICAgICAgKHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BOYW1lID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gcHJvcE5hbWUpIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgcHJvcE5hbWUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gQXJyYXkocHJvcE5hbWUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lOyBpKyspXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICB9XG4gICAgICBwcm9wcyA9IFJlYWN0RWxlbWVudChcbiAgICAgICAgZWxlbWVudC50eXBlLFxuICAgICAgICBrZXksXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBvd25lcixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIGVsZW1lbnQuX2RlYnVnU3RhY2ssXG4gICAgICAgIGVsZW1lbnQuX2RlYnVnVGFza1xuICAgICAgKTtcbiAgICAgIGZvciAoa2V5ID0gMjsga2V5IDwgYXJndW1lbnRzLmxlbmd0aDsga2V5KyspXG4gICAgICAgIChvd25lciA9IGFyZ3VtZW50c1trZXldKSxcbiAgICAgICAgICBpc1ZhbGlkRWxlbWVudChvd25lcikgJiYgb3duZXIuX3N0b3JlICYmIChvd25lci5fc3RvcmUudmFsaWRhdGVkID0gMSk7XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX3RocmVhZENvdW50OiAwLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgQ29uc3VtZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuUHJvdmlkZXIgPSBkZWZhdWx0VmFsdWU7XG4gICAgICBkZWZhdWx0VmFsdWUuQ29uc3VtZXIgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05TVU1FUl9UWVBFLFxuICAgICAgICBfY29udGV4dDogZGVmYXVsdFZhbHVlXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIyID0gbnVsbDtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGlzVmFsaWRFbGVtZW50KG5vZGUpICYmIG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgIH1cbiAgICAgIGkgPSB7fTtcbiAgICAgIG5vZGUgPSBudWxsO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluIChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lIHx8XG4gICAgICAgICAgIShcIl9fc2VsZlwiIGluIGNvbmZpZykgfHxcbiAgICAgICAgICBcImtleVwiIGluIGNvbmZpZyB8fFxuICAgICAgICAgICgoZGlkV2FybkFib3V0T2xkSlNYUnVudGltZSA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIllvdXIgYXBwIChvciBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcykgaXMgdXNpbmcgYW4gb3V0ZGF0ZWQgSlNYIHRyYW5zZm9ybS4gVXBkYXRlIHRvIHRoZSBtb2Rlcm4gSlNYIHRyYW5zZm9ybSBmb3IgZmFzdGVyIHBlcmZvcm1hbmNlOiBodHRwczovL3JlYWN0LmRldi9saW5rL25ldy1qc3gtdHJhbnNmb3JtXCJcbiAgICAgICAgICApKSxcbiAgICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAobm9kZSA9IFwiXCIgKyBjb25maWcua2V5KSksXG4gICAgICAgIGNvbmZpZykpXG4gICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJlxuICAgICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zZWxmXCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc291cmNlXCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICAoaVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKDEgPT09IGNoaWxkcmVuTGVuZ3RoKSBpLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgY2hpbGRyZW5MZW5ndGgpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKSwgX2kgPSAwO1xuICAgICAgICAgIF9pIDwgY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgICAgX2krK1xuICAgICAgICApXG4gICAgICAgICAgY2hpbGRBcnJheVtfaV0gPSBhcmd1bWVudHNbX2kgKyAyXTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgICBpLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluICgoY2hpbGRyZW5MZW5ndGggPSB0eXBlLmRlZmF1bHRQcm9wcyksIGNoaWxkcmVuTGVuZ3RoKSlcbiAgICAgICAgICB2b2lkIDAgPT09IGlbcHJvcE5hbWVdICYmIChpW3Byb3BOYW1lXSA9IGNoaWxkcmVuTGVuZ3RoW3Byb3BOYW1lXSk7XG4gICAgICBub2RlICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIGksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICB2YXIgcHJvcE5hbWUgPSAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbm9kZSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIGksXG4gICAgICAgIHByb3BOYW1lID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIikgOiB1bmtub3duT3duZXJEZWJ1Z1N0YWNrLFxuICAgICAgICBwcm9wTmFtZSA/IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUodHlwZSkpIDogdW5rbm93bk93bmVyRGVidWdUYXNrXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVmT2JqZWN0ID0geyBjdXJyZW50OiBudWxsIH07XG4gICAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICAgICAgcmV0dXJuIHJlZk9iamVjdDtcbiAgICB9O1xuICAgIGV4cG9ydHMuZm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChyZW5kZXIpIHtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmIHJlbmRlci4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgcmVjZWl2ZWQgYSBgbWVtb2AgY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlIG1lbW8oZm9yd2FyZFJlZiguLi4pKS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLlwiLFxuICAgICAgICAgICAgICBudWxsID09PSByZW5kZXIgPyBcIm51bGxcIiA6IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IDAgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIDIgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGFjY2VwdCBleGFjdGx5IHR3byBwYXJhbWV0ZXJzOiBwcm9wcyBhbmQgcmVmLiAlc1wiLFxuICAgICAgICAgICAgICAxID09PSByZW5kZXIubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBcIkRpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj9cIlxuICAgICAgICAgICAgICAgIDogXCJBbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXIgd2lsbCBiZSB1bmRlZmluZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICBudWxsICE9IHJlbmRlciAmJlxuICAgICAgICBudWxsICE9IHJlbmRlci5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBkbyBub3Qgc3VwcG9ydCBkZWZhdWx0UHJvcHMuIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgYSBSZWFjdCBjb21wb25lbnQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBlbGVtZW50VHlwZSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogcmVuZGVyIH0sXG4gICAgICAgIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudFR5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICByZW5kZXIubmFtZSB8fFxuICAgICAgICAgICAgcmVuZGVyLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlbmRlciwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAocmVuZGVyLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnQgPSBpc1ZhbGlkRWxlbWVudDtcbiAgICBleHBvcnRzLmxhenkgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0xBWllfVFlQRSxcbiAgICAgICAgX3BheWxvYWQ6IHsgX3N0YXR1czogLTEsIF9yZXN1bHQ6IGN0b3IgfSxcbiAgICAgICAgX2luaXQ6IGxhenlJbml0aWFsaXplclxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMubWVtbyA9IGZ1bmN0aW9uICh0eXBlLCBjb21wYXJlKSB7XG4gICAgICBudWxsID09IHR5cGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIm1lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1wiLFxuICAgICAgICAgIG51bGwgPT09IHR5cGUgPyBcIm51bGxcIiA6IHR5cGVvZiB0eXBlXG4gICAgICAgICk7XG4gICAgICBjb21wYXJlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTUVNT19UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBjb21wYXJlOiB2b2lkIDAgPT09IGNvbXBhcmUgPyBudWxsIDogY29tcGFyZVxuICAgICAgfTtcbiAgICAgIHZhciBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBhcmUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICB0eXBlLm5hbWUgfHxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAodHlwZS5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29tcGFyZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuc3RhcnRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBzY29wZSgpLFxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaChjdXJyZW50VHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gJiZcbiAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKG5vb3AsIHJlcG9ydEdsb2JhbEVycm9yKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAoKHNjb3BlID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAxMCA8IHNjb3BlICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV91c2VDYWNoZVJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWNoZVJlZnJlc2goKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlID0gZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlKHVzYWJsZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUFjdGlvblN0YXRlKFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGluaXRpYWxTdGF0ZSxcbiAgICAgICAgcGVybWFsaW5rXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDb250ZXh0ID0gZnVuY3Rpb24gKENvbnRleHQpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIENvbnRleHQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGNhdXNlIGJ1Z3MuIERpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVidWdWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0dGVyRm4pIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVmZXJyZWRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VFZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBjcmVhdGVEZXBzLCB1cGRhdGUpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlRWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdXBkYXRlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInVzZUVmZmVjdCBDUlVEIG92ZXJsb2FkIGlzIG5vdCBlbmFibGVkIGluIHRoaXMgYnVpbGQgb2YgUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyLnVzZUVmZmVjdChjcmVhdGUsIGNyZWF0ZURlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUlkKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUltcGVyYXRpdmVIYW5kbGUgPSBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJbnNlcnRpb25FZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBudWxsID09IGNyZWF0ZSAmJlxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJSZWFjdCBIb29rIHVzZUluc2VydGlvbkVmZmVjdCByZXF1aXJlcyBhbiBlZmZlY3QgY2FsbGJhY2suIERpZCB5b3UgZm9yZ2V0IHRvIHBhc3MgYSBjYWxsYmFjayB0byB0aGUgaG9vaz9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW5zZXJ0aW9uRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUxheW91dEVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlTGF5b3V0RWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTWVtbyA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChwYXNzdGhyb3VnaCwgcmVkdWNlcikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVJlZHVjZXIgPSBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVmID0gZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlUmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVN0YXRlID0gZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlU3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmUgPSBmdW5jdGlvbiAoXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBnZXRTbmFwc2hvdCxcbiAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VUcmFuc2l0aW9uKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjEuMFwiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsInZhciBTTUFMTF9XT1JEUyA9IC9cXGIoPzphbj9kP3xhW3N0XXxiZWNhdXNlfGJ1dHxieXxlbnxmb3J8aVtmbl18bmVpdGhlcnxub3J8b1tmbnJdfG9ubHl8b3ZlcnxwZXJ8c298c29tZXx0aGFbdG5dfHRoZXx0b3x1cHx1cG9ufHZzP1xcLj98dmVyc3VzfHZpYXx3aGVufHdpdGh8d2l0aG91dHx5ZXQpXFxiL2k7XG52YXIgVE9LRU5TID0gL1teXFxzOuKAk+KAlC1dK3wuL2c7XG52YXIgV0hJVEVTUEFDRSA9IC9cXHMvO1xudmFyIElTX01BTlVBTF9DQVNFID0gLy4oPz1bQS1aXXxcXC4uKS87XG52YXIgQUxQSEFOVU1FUklDX1BBVFRFUk4gPSAvW0EtWmEtejAtOVxcdTAwQzAtXFx1MDBGRl0vO1xuZXhwb3J0IGZ1bmN0aW9uIHRpdGxlQ2FzZShpbnB1dCkge1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIHZhciBtO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHdoaWxlICgobSA9IFRPS0VOUy5leGVjKGlucHV0KSkgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHRva2VuID0gbVswXSwgaW5kZXggPSBtLmluZGV4O1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIElnbm9yZSBhbHJlYWR5IGNhcGl0YWxpemVkIHdvcmRzLlxuICAgICAgICAhSVNfTUFOVUFMX0NBU0UudGVzdCh0b2tlbikgJiZcbiAgICAgICAgICAgIC8vIElnbm9yZSBzbWFsbCB3b3JkcyBleGNlcHQgYXQgYmVnaW5uaW5nIG9yIGVuZC5cbiAgICAgICAgICAgICghU01BTExfV09SRFMudGVzdCh0b2tlbikgfHxcbiAgICAgICAgICAgICAgICBpbmRleCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIGluZGV4ICsgdG9rZW4ubGVuZ3RoID09PSBpbnB1dC5sZW5ndGgpICYmXG4gICAgICAgICAgICAvLyBJZ25vcmUgVVJMcy5cbiAgICAgICAgICAgIChpbnB1dC5jaGFyQXQoaW5kZXggKyB0b2tlbi5sZW5ndGgpICE9PSBcIjpcIiB8fFxuICAgICAgICAgICAgICAgIFdISVRFU1BBQ0UudGVzdChpbnB1dC5jaGFyQXQoaW5kZXggKyB0b2tlbi5sZW5ndGggKyAxKSkpKSB7XG4gICAgICAgICAgICAvLyBGaW5kIGFuZCB1cHBlcmNhc2UgZmlyc3Qgd29yZCBjaGFyYWN0ZXIsIHNraXBzIG92ZXIgKm1vZGlmaWVycyouXG4gICAgICAgICAgICByZXN1bHQgKz0gdG9rZW4ucmVwbGFjZShBTFBIQU5VTUVSSUNfUEFUVEVSTiwgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0udG9VcHBlckNhc2UoKTsgfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gdG9rZW47XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcbiAqIFRoaXMgZmlsZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBmcm9tIGBwcmUtcHVibGlzaC5qc2AuXG4gKiBEbyBub3QgbWFudWFsbHkgZWRpdC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJhcmVhXCI6IHRydWUsXG4gIFwiYmFzZVwiOiB0cnVlLFxuICBcImJyXCI6IHRydWUsXG4gIFwiY29sXCI6IHRydWUsXG4gIFwiZW1iZWRcIjogdHJ1ZSxcbiAgXCJoclwiOiB0cnVlLFxuICBcImltZ1wiOiB0cnVlLFxuICBcImlucHV0XCI6IHRydWUsXG4gIFwibGlua1wiOiB0cnVlLFxuICBcIm1ldGFcIjogdHJ1ZSxcbiAgXCJwYXJhbVwiOiB0cnVlLFxuICBcInNvdXJjZVwiOiB0cnVlLFxuICBcInRyYWNrXCI6IHRydWUsXG4gIFwid2JyXCI6IHRydWVcbn07XG4iLCJpbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB7IEFwcE1hbmlmZXN0VHlwZSwgZ2V0Q3VycmVudFN5bmMgfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtXCI7XG5cbi8qKlxuICogQXBwIGRlZmluaXRpb24gdG8gdXNlIGZvciBkZW1vbnN0cmF0aW9uIHdoaWNoIHNob3cgT3BlbkZpbiBlbnZpcm9ubWVudCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IE9QRU5GSU5fSU5GT1JNQVRJT05fQVBQOiBBcHAgPSB7XG5cdGFwcElkOiBcIm9wZW5maW4taW5mb3JtYXRpb25cIixcblx0dGl0bGU6IFwiT3BlbkZpbiBJbmZvcm1hdGlvblwiLFxuXHRkZXNjcmlwdGlvbjogXCJEaXNwbGF5IGluZm9ybWF0aW9uIGFib3V0IHRoZSBPcGVuRmluIGVudmlyb25tZW50XCIsXG5cdG1hbmlmZXN0OiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vdmlld3MvcGxhdGZvcm0vb2YtaW5mby52aWV3LmZpbi5qc29uXCIsXG5cdG1hbmlmZXN0VHlwZTogXCJ2aWV3XCIsXG5cdGljb25zOiBbXG5cdFx0e1xuXHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL2ljb24tYmx1ZS5wbmdcIlxuXHRcdH1cblx0XSxcblx0Y29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcblx0c3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcblx0cHVibGlzaGVyOiBcIk9wZW5GaW5cIixcblx0aW50ZW50czogW10sXG5cdGltYWdlczogW1xuXHRcdHtcblx0XHRcdHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL2ltYWdlcy9wcmV2aWV3cy9vZi1pbmZvLnBuZ1wiXG5cdFx0fVxuXHRdLFxuXHR0YWdzOiBbXCJ2aWV3XCIsIFwib3BlbmZpblwiLCBcInZlcnNpb25zXCJdXG59O1xuXG4vKipcbiAqIEFwcCBkZWZpbml0aW9uIGZvciB0aGUgT3BlbkZpbiBOb3RpZmljYXRpb24gUHJvY2VzcyBNYW5hZ2VyIGRldmVsb3BtZW50IHRvb2wuXG4gKi9cbmV4cG9ydCBjb25zdCBQUk9DRVNTX01BTkFHRVI6IEFwcCA9IHtcblx0YXBwSWQ6IFwib3BlbmZpbi1wcm9jZXNzLW1hbmFnZXJcIixcblx0dGl0bGU6IFwiT3BlbkZpbiBQcm9jZXNzIE1hbmFnZXJcIixcblx0bWFuaWZlc3RUeXBlOiBcIm1hbmlmZXN0XCIsXG5cdGRlc2NyaXB0aW9uOlxuXHRcdFwiUHJvY2VzcyBNYW5hZ2VyOiBUaGlzIGlzIE9wZW5GaW4ncyB0b29sIGZvciBoZWxwaW5nIGRldmVsb3BlcnMgYnVpbGQgT3BlbkZpbiBBcHBsaWNhdGlvbnMuIEl0IGxldHMgeW91IHNlZSB0aGUgT3BlbkZpbiBhcHBsaWNhdGlvbnMgdGhhdCBhcmUgcnVubmluZywgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBhcHBsaWNhdGlvbnMgKG1lbW9yeSBhbmQgY3B1KSBhbmQgZWFzeSBhY2Nlc3MgdG8gdGhlIGRldiB0b29scyBmb3IgdGhlIFdpbmRvd3Mgb2YgeW91ciBhcHBsaWNhdGlvbi5cIixcblx0bWFuaWZlc3Q6IFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9yZWxlYXNlL2FwcHMvb3BlbmZpbi9wcm9jZXNzbWFuYWdlci9hcHAuanNvblwiLFxuXHRpY29uczogW3sgc3JjOiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vcmVsZWFzZS9hcHBzL29wZW5maW4vcHJvY2Vzc21hbmFnZXIvMi4wLjIvb2ZwbS1pY29uLnBuZ1wiIH1dLFxuXHRjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxuXHRzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxuXHRwdWJsaXNoZXI6IFwiT3BlbkZpblwiLFxuXHRpbnRlbnRzOiBbXSxcblx0aW1hZ2VzOiBbXG5cdFx0e1xuXHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL3ByZXZpZXdzL3Rvb2xzL29wZW5maW4tcHJvY2Vzcy1tYW5hZ2VyLnBuZ1wiXG5cdFx0fVxuXHRdLFxuXHR0YWdzOiBbXCJoZXJvXCIsIFwibWFuaWZlc3RcIiwgXCJ0b29sc1wiXVxufTtcblxuLyoqXG4gKiBBcHAgZGVmaW5pdGlvbiBmb3IgYSBzbmFwc2hvdCB3aGljaCBpbmNsdWRlcyBkZXZlbG9wbWVudCByZXNvdXJjZXMgZm9yIE9wZW5GaW4uXG4gKi9cbmV4cG9ydCBjb25zdCBERVZFTE9QRVJfQ09OVEVOVDogQXBwID0ge1xuXHRhcHBJZDogXCJvcGVuZmluLWRldmVsb3Blci1wYWdlXCIsXG5cdHRpdGxlOiBcIk9wZW5GaW4gRGV2ZWxvcGVyIERvY3NcIixcblx0bWFuaWZlc3RUeXBlOiBcInNuYXBzaG90XCIsXG5cdGRlc2NyaXB0aW9uOlxuXHRcdFwiU2hvd3MgYSBjb2xsZWN0aW9uIG9mIE9wZW5GaW4gZGV2ZWxvcGVyIHBhZ2VzIGFuZCBwcm92aWRlcyBhbiBleGFtcGxlIG9mIGhvdyB5b3UgY2FuIHByZXNlbnQgYSBwcmUtYnVpbHQgcGFnZSBhcyBhIGxhdW5jaCB0YXJnZXQgaW4gT3BlbkZpbiBIb21lLiBUaGlzIGVudHJ5IGhhcyBhIG1hbmlmZXN0IHR5cGUgb2YgJ3NuYXBzaG90Jy5cIixcblx0bWFuaWZlc3Q6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NvbW1vbi9zbmFwc2hvdHMvZGV2ZWxvcGVyLnNuYXBzaG90LmZpbi5qc29uXCIsXG5cdGljb25zOiBbeyBzcmM6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NvbW1vbi9pbWFnZXMvaWNvbi1ibHVlLnBuZ1wiIH1dLFxuXHRjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxuXHRzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxuXHRwdWJsaXNoZXI6IFwiT3BlbkZpblwiLFxuXHRpbnRlbnRzOiBbXSxcblx0aW1hZ2VzOiBbXG5cdFx0e1xuXHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL3ByZXZpZXdzL29wZW5maW4tcGFnZS1kb2NzLnBuZ1wiXG5cdFx0fVxuXHRdLFxuXHR0YWdzOiBbXCJwYWdlXCJdXG59O1xuXG4vKipcbiAqIExhdW5jaCB0aGUgcGFzc2VkIGFwcCB1c2luZyBpdHMgbWFuaWZlc3QgdHlwZSB0byBkZXRlcm1pbmUgaG93IHRvIGxhdW5jaCBpdC5cbiAqIEBwYXJhbSBhcHAgVGhlIGFwcCB0byBsYXVuY2guXG4gKiBAcmV0dXJucyBUaGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGxhdW5jaC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxhdW5jaEFwcChcblx0YXBwOiBBcHBcbik6IFByb21pc2U8T3BlbkZpbi5QbGF0Zm9ybSB8IE9wZW5GaW4uSWRlbnRpdHkgfCBPcGVuRmluLlZpZXcgfCBPcGVuRmluLkFwcGxpY2F0aW9uIHwgdW5kZWZpbmVkPiB7XG5cdGlmICghYXBwLm1hbmlmZXN0KSB7XG5cdFx0Y29uc29sZS5lcnJvcihgTm8gbWFuaWZlc3Qgd2FzIHByb3ZpZGVkIGZvciB0eXBlICR7YXBwLm1hbmlmZXN0VHlwZX1gKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRsZXQgcmV0OiBPcGVuRmluLlBsYXRmb3JtIHwgT3BlbkZpbi5JZGVudGl0eSB8IE9wZW5GaW4uVmlldyB8IE9wZW5GaW4uQXBwbGljYXRpb24gfCB1bmRlZmluZWQ7XG5cblx0Y29uc29sZS5sb2coXCJBcHBsaWNhdGlvbiBsYXVuY2ggcmVxdWVzdGVkOlwiLCBhcHApO1xuXG5cdHN3aXRjaCAoYXBwLm1hbmlmZXN0VHlwZSkge1xuXHRcdGNhc2UgQXBwTWFuaWZlc3RUeXBlLlNuYXBzaG90OiB7XG5cdFx0XHRjb25zdCBwbGF0Zm9ybSA9IGdldEN1cnJlbnRTeW5jKCk7XG5cdFx0XHRyZXQgPSBhd2FpdCBwbGF0Zm9ybS5hcHBseVNuYXBzaG90KGFwcC5tYW5pZmVzdCk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjYXNlIEFwcE1hbmlmZXN0VHlwZS5WaWV3OiB7XG5cdFx0XHRjb25zdCBwbGF0Zm9ybSA9IGdldEN1cnJlbnRTeW5jKCk7XG5cdFx0XHRyZXQgPSBhd2FpdCBwbGF0Zm9ybS5jcmVhdGVWaWV3KHsgbWFuaWZlc3RVcmw6IGFwcC5tYW5pZmVzdCB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNhc2UgQXBwTWFuaWZlc3RUeXBlLkV4dGVybmFsOiB7XG5cdFx0XHRyZXQgPSBhd2FpdCBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7IHBhdGg6IGFwcC5tYW5pZmVzdCwgdXVpZDogYXBwLmFwcElkIH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0cmV0ID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGFwcC5tYW5pZmVzdCk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRjb25zb2xlLmxvZyhcIkZpbmlzaGVkIGFwcGxpY2F0aW9uIGxhdW5jaCByZXF1ZXN0XCIpO1xuXG5cdHJldHVybiByZXQ7XG59XG4iLCJpbXBvcnQgeyBTdG9yZWZyb250LCBTdG9yZWZyb250VGVtcGxhdGUsIHR5cGUgU3RvcmVSZWdpc3RyYXRpb24gfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQge1xuXHRDdXN0b21BY3Rpb25DYWxsZXJUeXBlLFxuXHR0eXBlIEN1c3RvbUFjdGlvblBheWxvYWQsXG5cdHR5cGUgQ3VzdG9tQWN0aW9uc01hcFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtXCI7XG5pbXBvcnQgeyBERVZFTE9QRVJfQ09OVEVOVCwgT1BFTkZJTl9JTkZPUk1BVElPTl9BUFAsIFBST0NFU1NfTUFOQUdFUiwgbGF1bmNoQXBwIH0gZnJvbSBcIi4vYXBwc1wiO1xuXG4vKipcbiAqIFJlZ2lzdGVyIHdpdGggdGhlIHN0b3JlIGNvbXBvbmVudC5cbiAqIEBwYXJhbSBpZCBUaGUgaWQgdG8gcmVnaXN0ZXIgdGhlIHByb3ZpZGVyIHdpdGguXG4gKiBAcGFyYW0gdGl0bGUgVGhlIHRpdGxlIHRvIHVzZSBmb3IgdGhlIHN0b3JlIHJlZ2lzdHJhdGlvbi5cbiAqIEBwYXJhbSBpY29uIFRoZSBpY29uIHRvIHVzZSBmb3IgdGhlIHN0b3JlIHJlZ2lzdHJhdGlvbi5cbiAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gZGV0YWlscyBmb3IgaG9tZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKFxuXHRpZDogc3RyaW5nLFxuXHR0aXRsZTogc3RyaW5nLFxuXHRpY29uOiBzdHJpbmdcbik6IFByb21pc2U8U3RvcmVSZWdpc3RyYXRpb24gfCB1bmRlZmluZWQ+IHtcblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgdGhlIHN0b3JlZnJvbnQgcHJvdmlkZXIuXCIpO1xuXHR0cnkge1xuXHRcdGNvbnN0IG1ldGFJbmZvID0gYXdhaXQgU3RvcmVmcm9udC5yZWdpc3Rlcih7XG5cdFx0XHRpZCxcblx0XHRcdHRpdGxlLFxuXHRcdFx0aWNvbixcblx0XHRcdGdldE5hdmlnYXRpb246IGFzeW5jICgpID0+IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGlkOiBcImFwcHNcIixcblx0XHRcdFx0XHR0aXRsZTogXCJBcHBzXCIsXG5cdFx0XHRcdFx0aXRlbXM6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0aWQ6IFwidmlld1wiLFxuXHRcdFx0XHRcdFx0XHR0aXRsZTogXCJWaWV3c1wiLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZUlkOiBTdG9yZWZyb250VGVtcGxhdGUuQXBwR3JpZCxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVEYXRhOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXBwczogW09QRU5GSU5fSU5GT1JNQVRJT05fQVBQXVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRpZDogXCJwYWdlXCIsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBcIlBhZ2VzXCIsXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZURhdGE6IHtcblx0XHRcdFx0XHRcdFx0XHRhcHBzOiBbREVWRUxPUEVSX0NPTlRFTlRdXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGlkOiBcIm1hbmlmZXN0XCIsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBcIlRvb2xzXCIsXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZURhdGE6IHtcblx0XHRcdFx0XHRcdFx0XHRhcHBzOiBbUFJPQ0VTU19NQU5BR0VSXVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHRdLFxuXHRcdFx0Z2V0TGFuZGluZ1BhZ2U6IGFzeW5jICgpID0+ICh7XG5cdFx0XHRcdGhlcm86IHtcblx0XHRcdFx0XHR0aXRsZTogXCJDdXN0b20gSGVybyBUaXRsZVwiLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBcIlRoaXMgaXMgYSBkZW1vbnN0cmF0aW9uIG9mIHRoZSBoZXJvIHNlY3Rpb24gdGhhdCB5b3UgY2FuIGNvbmZpZ3VyZSBmb3IgeW91ciBzdG9yZS5cIixcblx0XHRcdFx0XHRjdGE6IHtcblx0XHRcdFx0XHRcdGlkOiBcImhlcm8tMVwiLFxuXHRcdFx0XHRcdFx0dGl0bGU6IFwiSGVybyBBcHBzIVwiLFxuXHRcdFx0XHRcdFx0dGVtcGxhdGVJZDogU3RvcmVmcm9udFRlbXBsYXRlLkFwcEdyaWQsXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZURhdGE6IHtcblx0XHRcdFx0XHRcdFx0YXBwczogW09QRU5GSU5fSU5GT1JNQVRJT05fQVBQLCBQUk9DRVNTX01BTkFHRVJdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRpbWFnZToge1xuXHRcdFx0XHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL3N0b3JlL3N1cGVyaGVyby11bnNwbGFzaC5qcGdcIlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0dG9wUm93OiB7XG5cdFx0XHRcdFx0dGl0bGU6IFwiQ3VzdG9tIFRvcCBSb3cgQ29udGVudFwiLFxuXHRcdFx0XHRcdGl0ZW1zOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGlkOiBcInRvcC1yb3ctaXRlbS0xXCIsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBcIkRldiBUb29sc1wiLFxuXHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjpcblx0XHRcdFx0XHRcdFx0XHRcIkEgY29sbGVjdGlvbiBvZiBkZXZlbG9wZXIgdG9vbHMgdGhhdCBjYW4gYWlkIHdpdGggYnVpbGRpbmcgYW5kIGRlYnVnZ2luZyBPcGVuRmluIGFwcGxpY2F0aW9ucy5cIixcblx0XHRcdFx0XHRcdFx0aW1hZ2U6IHtcblx0XHRcdFx0XHRcdFx0XHRzcmM6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NvbW1vbi9pbWFnZXMvc3RvcmUvY29kaW5nLTItdW5zcGxhc2guanBnXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVJZDogU3RvcmVmcm9udFRlbXBsYXRlLkFwcEdyaWQsXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlRGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdGFwcHM6IFtQUk9DRVNTX01BTkFHRVJdXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGJ1dHRvblRpdGxlOiBcIlZpZXcgVG9vbHNcIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fSxcblx0XHRcdFx0bWlkZGxlUm93OiB7XG5cdFx0XHRcdFx0dGl0bGU6IFwiQSBjb2xsZWN0aW9uIG9mIHRvb2xzIHByb3ZpZGluZyBpbmZvcm1hdGlvbiBhYm91dCBPcGVuRmluLlwiLFxuXHRcdFx0XHRcdGFwcHM6IFtPUEVORklOX0lORk9STUFUSU9OX0FQUF1cblx0XHRcdFx0fSxcblx0XHRcdFx0Ym90dG9tUm93OiB7XG5cdFx0XHRcdFx0dGl0bGU6IFwiUXVpY2sgQWNjZXNzXCIsXG5cdFx0XHRcdFx0aXRlbXM6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0aWQ6IFwiYm90dG9tLXJvdy1pdGVtLTFcIixcblx0XHRcdFx0XHRcdFx0dGl0bGU6IFwiVmlld3NcIixcblx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IFwiQSBjb2xsZWN0aW9uIG9mIHZpZXdzIG1hZGUgYXZhaWxhYmxlIHRocm91Z2ggb3VyIGNhdGFsb2cuXCIsXG5cdFx0XHRcdFx0XHRcdGltYWdlOiB7XG5cdFx0XHRcdFx0XHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL3N0b3JlL2NvZGluZy00LXVuc3BsYXNoLmpwZ1wiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZURhdGE6IHtcblx0XHRcdFx0XHRcdFx0XHRhcHBzOiBbT1BFTkZJTl9JTkZPUk1BVElPTl9BUFBdXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGJ1dHRvblRpdGxlOiBcIlNlZSBWaWV3c1wiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRpZDogXCJib3R0b20tcm93LWl0ZW0tMlwiLFxuXHRcdFx0XHRcdFx0XHR0aXRsZTogXCJXZWIgQXBwc1wiLFxuXHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJBIGNvbGxlY3Rpb24gb2Ygd2ViIGFwcHMgYnVpbHQgdXNpbmcgT3BlbkZpbi5cIixcblx0XHRcdFx0XHRcdFx0aW1hZ2U6IHtcblx0XHRcdFx0XHRcdFx0XHRzcmM6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NvbW1vbi9pbWFnZXMvc3RvcmUvY29kaW5nLTUtdW5zcGxhc2guanBnXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVJZDogU3RvcmVmcm9udFRlbXBsYXRlLkFwcEdyaWQsXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlRGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdGFwcHM6IFtQUk9DRVNTX01BTkFHRVJdXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGJ1dHRvblRpdGxlOiBcIlNlZSBXZWIgQXBwc1wiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdGdldEZvb3RlcjogYXN5bmMgKCkgPT4gKHtcblx0XHRcdFx0bG9nbzogeyBzcmM6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2Zhdmljb24uaWNvXCIsIHNpemU6IFwiMzJcIiB9LFxuXHRcdFx0XHR0ZXh0OiBcIldlbGNvbWUgdG8gdGhlIE9wZW5GaW4gU2FtcGxlIEZvb3RlclwiLFxuXHRcdFx0XHRsaW5rczogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHRpdGxlOiBcIkdpdGh1YlwiLFxuXHRcdFx0XHRcdFx0dXJsOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9idWlsdC1vbi1vcGVuZmluL3dvcmtzcGFjZS1zdGFydGVyXCJcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHRpdGxlOiBcIllvdVR1YmVcIixcblx0XHRcdFx0XHRcdHVybDogXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS91c2VyL09wZW5GaW5UZWNoXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdF1cblx0XHRcdH0pLFxuXHRcdFx0Z2V0QXBwczogYXN5bmMgKCkgPT4gW09QRU5GSU5fSU5GT1JNQVRJT05fQVBQLCBQUk9DRVNTX01BTkFHRVJdLFxuXHRcdFx0bGF1bmNoQXBwOiBhc3luYyAoYXBwKSA9PiB7XG5cdFx0XHRcdGF3YWl0IGxhdW5jaEFwcChhcHApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGNvbnNvbGUubG9nKFwiU3RvcmVmcm9udCBwcm92aWRlciBpbml0aWFsaXplZC5cIiwgbWV0YUluZm8pO1xuXHRcdHJldHVybiBtZXRhSW5mbztcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkFuIGVycm9yIHdhcyBlbmNvdW50ZXJlZCB3aGlsZSB0cnlpbmcgdG8gcmVnaXN0ZXIgdGhlIGNvbnRlbnQgc3RvcmUgcHJvdmlkZXJcIiwgZXJyKTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB0aGUgYWN0aW9ucyB0aGF0IHdpbGwgYmUgdHJpZ2dlcmVkIGJ5IHRoZSBidXR0b24gY2xpY2tzLlxuICogVGhlIGFjdGlvbiBhcmUgYWRkZWQgdG8gdGhlIHdvcmtzcGFjZSBwbGF0Zm9ybSB3aGVuIGl0IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgbWFwcyBvZiB0aGUgY3VzdG9tIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZUdldEN1c3RvbUFjdGlvbnMoKTogQ3VzdG9tQWN0aW9uc01hcCB7XG5cdHJldHVybiB7XG5cdFx0XCJvcGVuLXdlYi1zaXRlXCI6IGFzeW5jIChwYXlsb2FkOiBDdXN0b21BY3Rpb25QYXlsb2FkKTogUHJvbWlzZTx2b2lkPiA9PiB7XG5cdFx0XHRpZiAocGF5bG9hZC5jYWxsZXJUeXBlID09PSBDdXN0b21BY3Rpb25DYWxsZXJUeXBlLlN0b3JlQ3VzdG9tQnV0dG9uKSB7XG5cdFx0XHRcdHdpbmRvdy5vcGVuKHBheWxvYWQuY3VzdG9tRGF0YT8udXJsIGFzIHN0cmluZyk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcImxhdW5jaC1hcHBcIjogYXN5bmMgKHBheWxvYWQ6IEN1c3RvbUFjdGlvblBheWxvYWQpOiBQcm9taXNlPHZvaWQ+ID0+IHtcblx0XHRcdGlmIChwYXlsb2FkLmNhbGxlclR5cGUgPT09IEN1c3RvbUFjdGlvbkNhbGxlclR5cGUuU3RvcmVDdXN0b21CdXR0b24pIHtcblx0XHRcdFx0Y29uc3QgYXBwcyA9IFtPUEVORklOX0lORk9STUFUSU9OX0FQUCwgUFJPQ0VTU19NQU5BR0VSLCBERVZFTE9QRVJfQ09OVEVOVF07XG5cdFx0XHRcdGNvbnN0IGFwcCA9IGFwcHMuZmluZCgoYSkgPT4gYS5hcHBJZCA9PT0gcGF5bG9hZC5hcHBJZCk7XG5cdFx0XHRcdGlmIChhcHApIHtcblx0XHRcdFx0XHRhd2FpdCBsYXVuY2hBcHAoYXBwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsImltcG9ydCB7IHR5cGUgU3RvcmVSZWdpc3RyYXRpb24sIFN0b3JlZnJvbnQgfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgeyBpbml0IH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuaW1wb3J0IHsgcmVnaXN0ZXIsIHN0b3JlR2V0Q3VzdG9tQWN0aW9ucyB9IGZyb20gXCIuL3N0b3JlXCI7XG5cbmNvbnN0IFBMQVRGT1JNX0lEID0gXCJyZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljXCI7XG5jb25zdCBQTEFURk9STV9USVRMRSA9IFwiUmVnaXN0ZXIgV2l0aCBTdG9yZSBCYXNpY1wiO1xuY29uc3QgUExBVEZPUk1fSUNPTiA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2Zhdmljb24uaWNvXCI7XG5cbmxldCBzdG9yZVJlZ2lzdHJhdGlvbjogU3RvcmVSZWdpc3RyYXRpb24gfCB1bmRlZmluZWQ7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBhc3luYyAoKSA9PiB7XG5cdC8vIFdoZW4gdGhlIHBsYXRmb3JtIGFwaSBpcyByZWFkeSB3ZSBib290c3RyYXAgdGhlIHBsYXRmb3JtLlxuXHRjb25zdCBwbGF0Zm9ybSA9IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO1xuXHRhd2FpdCBwbGF0Zm9ybS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsIGFzeW5jICgpID0+IGluaXRpYWxpemVXb3Jrc3BhY2VDb21wb25lbnRzKCkpO1xuXG5cdC8vIFRoZSBET00gaXMgcmVhZHkgc28gaW5pdGlhbGl6ZSB0aGUgcGxhdGZvcm1cblx0Ly8gUHJvdmlkZSBkZWZhdWx0IGljb25zIGFuZCBkZWZhdWx0IHRoZW1lIGZvciB0aGUgYnJvd3NlciB3aW5kb3dzXG5cdGF3YWl0IGluaXRpYWxpemVXb3Jrc3BhY2VQbGF0Zm9ybSgpO1xuXG5cdC8vIEdldCB0aGUgRE9NIGVsZW1lbnRzIGZyb20gdGhlIHByb3ZpZGVyLmh0bWwgcGFnZSBhbmQgaW5pdGlhbGl6ZSB0aGVtXG5cdGF3YWl0IGluaXRpYWxpemVET00oKTtcbn0pO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIHdvcmtzcGFjZSBwbGF0Zm9ybS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVdvcmtzcGFjZVBsYXRmb3JtKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpemluZyB3b3Jrc3BhY2UgcGxhdGZvcm1cIik7XG5cdGF3YWl0IGluaXQoe1xuXHRcdGJyb3dzZXI6IHtcblx0XHRcdGRlZmF1bHRXaW5kb3dPcHRpb25zOiB7XG5cdFx0XHRcdGljb246IFBMQVRGT1JNX0lDT04sXG5cdFx0XHRcdHdvcmtzcGFjZVBsYXRmb3JtOiB7XG5cdFx0XHRcdFx0cGFnZXM6IFtdLFxuXHRcdFx0XHRcdGZhdmljb246IFBMQVRGT1JNX0lDT05cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGhlbWU6IFtcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6IFwiRGVmYXVsdFwiLFxuXHRcdFx0XHRkZWZhdWx0OiBcImRhcmtcIixcblx0XHRcdFx0cGFsZXR0ZToge1xuXHRcdFx0XHRcdGJyYW5kUHJpbWFyeTogXCIjMEE3NkQzXCIsXG5cdFx0XHRcdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzM4M0E0MFwiLFxuXHRcdFx0XHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiMxRTFGMjNcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XSxcblx0XHQvLyBHZXQgdGhlIGN1c3RvbSBhY3Rpb25zIGZyb20gdGhlIHN0b3JlIHdoaWNoIHdpbGwgYmUgdHJpZ2dlcmVkXG5cdFx0Ly8gd2hlbiB0aGUgYnV0dG9ucyBhcmUgY2xpY2tlZFxuXHRcdGN1c3RvbUFjdGlvbnM6IHN0b3JlR2V0Q3VzdG9tQWN0aW9ucygpXG5cdH0pO1xufVxuXG4vKipcbiAqIEJyaW5nIHRoZSBwbGF0Zm9ybSB0byBsaWZlLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplV29ya3NwYWNlQ29tcG9uZW50cygpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgdGhlIGJvb3RzdHJhcHBlclwiKTtcblxuXHQvLyBXaGVuIHRoZSBwbGF0Zm9ybSByZXF1ZXN0cyB0byBiZSBjbG9zZSB3ZSBkZXJlZ2lzdGVyIGZyb20gaG9tZSBhbmQgcXVpdFxuXHRjb25zdCBwcm92aWRlcldpbmRvdyA9IGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKTtcblx0YXdhaXQgcHJvdmlkZXJXaW5kb3cub25jZShcImNsb3NlLXJlcXVlc3RlZFwiLCBhc3luYyAoKSA9PiB7XG5cdFx0aWYgKHN0b3JlUmVnaXN0cmF0aW9uKSB7XG5cdFx0XHRhd2FpdCBTdG9yZWZyb250LmRlcmVnaXN0ZXIoUExBVEZPUk1fSUQpO1xuXHRcdH1cblxuXHRcdGF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKTtcblx0fSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgRE9NIGVsZW1lbnRzLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRE9NKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCByZWdpc3RlclN0b3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjcmVnaXN0ZXJcIik7XG5cdGNvbnN0IHNob3dTdG9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI3Nob3dcIik7XG5cdGNvbnN0IGhpZGVTdG9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2hpZGVcIik7XG5cdGNvbnN0IGRlcmVnaXN0ZXJTdG9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2RlcmVnaXN0ZXJcIik7XG5cblx0aWYgKHNob3dTdG9yZSAmJiBoaWRlU3RvcmUgJiYgZGVyZWdpc3RlclN0b3JlICYmIHJlZ2lzdGVyU3RvcmUpIHtcblx0XHRzaG93U3RvcmUuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdGhpZGVTdG9yZS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0ZGVyZWdpc3RlclN0b3JlLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRyZWdpc3RlclN0b3JlLmRpc2FibGVkID0gZmFsc2U7XG5cblx0XHRyZWdpc3RlclN0b3JlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRyZWdpc3RlclN0b3JlLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdHN0b3JlUmVnaXN0cmF0aW9uID0gYXdhaXQgcmVnaXN0ZXIoUExBVEZPUk1fSUQsIFBMQVRGT1JNX1RJVExFLCBQTEFURk9STV9JQ09OKTtcblx0XHRcdHNob3dTdG9yZS5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0aGlkZVN0b3JlLmRpc2FibGVkID0gZmFsc2U7XG5cdFx0XHRkZXJlZ2lzdGVyU3RvcmUuZGlzYWJsZWQgPSBmYWxzZTtcblx0XHR9KTtcblxuXHRcdGRlcmVnaXN0ZXJTdG9yZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0c2hvd1N0b3JlLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGhpZGVTdG9yZS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRkZXJlZ2lzdGVyU3RvcmUuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0cmVnaXN0ZXJTdG9yZS5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0YXdhaXQgU3RvcmVmcm9udC5kZXJlZ2lzdGVyKFBMQVRGT1JNX0lEKTtcblx0XHRcdHN0b3JlUmVnaXN0cmF0aW9uID0gdW5kZWZpbmVkO1xuXHRcdH0pO1xuXG5cdFx0c2hvd1N0b3JlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCBTdG9yZWZyb250LnNob3coKTtcblx0XHR9KTtcblxuXHRcdGhpZGVTdG9yZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgU3RvcmVmcm9udC5oaWRlKCk7XG5cdFx0fSk7XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==