var t;function o(t){return null==t}!function(t){t.CustomButton="CustomButton",t.StoreCustomButton="StoreCustomButton",t.CustomDropdownItem="CustomDropdownItem",t.GlobalContextMenu="GlobalContextMenu",t.ViewTabContextMenu="ViewTabContextMenu",t.PageTabContextMenu="PageTabContextMenu",t.SaveButtonContextMenu="SaveButtonContextMenu",t.API="API"}(t||(t={}));const n={actions:new class{async initialize(t,o,n){this._logger=o("IncludeInSnapshotActionsProvider"),this._helpers=n}async get(n){const e={};return e["include-in-snapshot"]=async e=>{if(e.callerType===t.CustomButton){this._logger?.info("Including in snapshot",e.windowIdentity);const t=n.Browser.wrapSync(e.windowIdentity),s=await t.openfinWindow.getOptions();if("platform"!==s.workspacePlatform.windowType){const n=s.workspacePlatform.toolbarOptions;if(await t.openfinWindow.updateOptions({includeInSnapshots:!0}),!o(n)&&this._helpers?.updateToolbarButtons){const o=await this._helpers.updateToolbarButtons(n.buttons,e.customData.sourceId,e.customData.replacementId);await t.replaceToolbarOptions({buttons:o})}}}},e["remove-from-snapshot"]=async e=>{if(e.callerType===t.CustomButton){this._logger?.info("Removing from snapshot",e.windowIdentity);const t=n.Browser.wrapSync(e.windowIdentity),s=await t.openfinWindow.getOptions();if("platform"!==s.workspacePlatform.windowType){const n=s.workspacePlatform.toolbarOptions;if(await t.openfinWindow.updateOptions({includeInSnapshots:!1}),!o(n)&&this._helpers?.updateToolbarButtons){const o=await this._helpers.updateToolbarButtons(n.buttons,e.customData.sourceId,e.customData.replacementId);await t.replaceToolbarOptions({buttons:o})}}}},e}},conditions:new class{async initialize(t,o,n){this._logger=o("IncludeInSnapshotConditionsProvider")}async get(){const t={};return t["included-in-snapshot"]=async(t,n)=>{if("browser"===n?.callerType&&!o(n?.customData)){const t=n.customData.includeInSnapshots??!0;return this._logger?.info("Included in snapshot",t),t}return!0},t["removed-from-snapshot"]=async(t,n)=>{if("browser"===n?.callerType&&!o(n?.customData)){const t=n.customData.includeInSnapshots??!0;return this._logger?.info("Removed from snapshot",!t),!t}return!1},t}}};export{n as entryPoints};
//# sourceMappingURL=include-in-snapshot.bundle.js.map