var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{mapInteropFromFDC3:()=>c,mapToAppMetaData:()=>a,mapToFDC3App:()=>r,mapToPlatformApp:()=>o});var n={};function i(t){return null==t}function s(t){return function(t){return null!=t&&"string"==typeof t}(t)&&t.trim().length>0}function o(t){return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,manifestType:t.manifestType,manifest:y(t),description:t.description,customConfig:t.customConfig,intents:t.intents,interop:c(t.intents),tags:g(t),version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:f(t.icons),images:m(t.images),private:h(t),autostart:b(t),instanceMode:t.customConfig?.instanceMode,tooltip:t.tooltip,launchPreference:t.customConfig?.launchPreference}}function r(t){const e=`${t.manifestType}`;return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,manifestType:e,manifest:t.manifest,description:t.description,customConfig:u(t),intents:p(t),categories:t.tags??[],version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:l(t),images:d(t),tooltip:t.tooltip}}function a(t){const e=[],n=[];if(Array.isArray(t.icons))for(const n of t.icons)i(n.src)||e.push(n.src);if(Array.isArray(t.images))for(const e of t.images)i(e.src)||n.push(e.src);return{appId:t.appId,description:t.description,icons:e,images:n,name:t.appId,title:t.title,tooltip:t.tooltip,version:t.version}}function c(t){if(i(t))return;const e={};for(const n of t)e[n.name]={contexts:n.contexts,customConfig:n.customConfig,displayName:n.displayName};return{intents:{listensFor:e}}}function p(t){const e=[],n=t.interop?.intents?.listensFor;if(!i(n)){const t=Object.keys(n);for(const i of t){const t=n[i].displayName??i;e.push({name:i,displayName:t,contexts:n[i].contexts,customConfig:n[i].customConfig})}}return 0!==e.length||i(t.intents)?e:t.intents}function u(t){return{autostart:v(t?.autostart,!1).toString(),instanceMode:t.instanceMode,private:v(t.private,!1).toString(),launchPreference:t.launchPreference}}function f(t){if(!Array.isArray(t))return[];const e=[];for(const n of t)e.push({src:n.icon});return e}function l(t){if(!Array.isArray(t.icons))return[];const e=[];for(const n of t.icons)e.push({icon:n.src});return e}function m(t){if(!Array.isArray(t))return[];const e=[];for(const n of t)e.push({src:n.url});return e}function d(t){if(!Array.isArray(t.images))return[];const e=[];for(const n of t.images)e.push({url:n.src});return e}function y(t){return s(t.manifest)&&t.manifest.startsWith("{")?JSON.parse(t.manifest):t.manifest}function g(t){const e=t.tags??t.categories??[];return 0===e.length&&e.push(t.manifestType),e}function h(t){return v(t?.customConfig?.private,!1)}function b(t){return v(t?.customConfig?.autostart,!1)}function v(t,e){if(s(t)||null!=(n=t)&&"boolean"==typeof n)switch(t){case"False":case"false":case!1:return!1;case"True":case"true":case!0:return!0;default:return!e}var n;return e}function A(t){return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,manifestType:C(t),manifest:O(t),description:t.description,instanceMode:t?.hostManifests?.OpenFin?.config?.instanceMode,intents:F(t.interop),interop:t.interop,customConfig:t.customConfig,tags:t.categories,version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:t.icons??[],images:t.screenshots,private:t?.hostManifests?.OpenFin?.config?.private,autostart:t?.hostManifests?.OpenFin?.config?.autostart,launchPreference:t?.hostManifests?.OpenFin?.config?.launchPreference}}function M(t){return{appId:t.appId,name:t.name??t.appId,title:t.title??t.name,type:E(t),details:{},description:t.description,categories:t.tags??[],version:t.version,publisher:t.publisher??"",contactEmail:t.contactEmail,supportEmail:t.supportEmail,icons:t.icons,screenshots:t.images,tooltip:t.tooltip,interop:T(t),hostManifests:P(t)}}function I(t,e){return{appId:t.appId,description:t.description,icons:t.icons,name:t.name,screenshots:t.images,title:t.title,tooltip:t.tooltip,version:t.version,resultType:e}}function F(t){const e=[],n=t?.intents?.listensFor;if(i(n))return e;const s=Object.keys(n);for(const t of s)e.push({name:t,displayName:n[t].displayName??"",contexts:n[t].contexts});return e}function T(t){if(!i(t.interop))return t.interop;const e={intents:{listensFor:{}}};if(Array.isArray(t.intents)&&t.intents.length>0){const n={};for(const e of t.intents)n[e.name]={displayName:e.displayName,contexts:e.contexts};i(e.intents)||(e.intents.listensFor=n)}return e}function C(t){let e;switch(t.type){case"web":e="inline-view";break;case"native":e="inline-external";break;case"onlineNative":e="desktop-browser";break;case"other":e=t.hostManifests?.OpenFin?.type??"";break;default:e=t.type}return e}function E(t){let e="other";if(i(t.manifestType))return e;switch(t.manifestType){case"inline-view":e="web";break;case"inline-external":e="native";break;case"desktop-browser":e="onlineNative"}return e}function O(t){let e;switch(t.type){case"web":if(!i(t?.details)){const i=t.hostManifests?.OpenFin?.details;e=null==(n=i)||"object"!=typeof n||Array.isArray(n)?{url:(t?.details).url,fdc3InteropApi:"2.0"}:{url:(t?.details).url,fdc3InteropApi:"2.0",...i}}break;case"native":i(t?.details)||(e=t.details);break;case"onlineNative":i(t?.details)||(e=(t?.details).url);break;case"other":e=t.hostManifests?.OpenFin?.details;break;default:e=t.details}var n;return e}function P(t){return{OpenFin:{type:t.manifestType,details:t.manifest,config:{autostart:t.autostart,private:t.private,instanceMode:t.instanceMode,launchPreference:t.launchPreference}}}}t.r(n),t.d(n,{mapIntentsFromFDC3:()=>F,mapToAppMetaData:()=>I,mapToFDC3App:()=>M,mapToPlatformApp:()=>A});export{e as fdc3Mapper1Point2,n as fdc3Mapper2Point0};
//# sourceMappingURL=fdc3.mapper.bundle.js.map