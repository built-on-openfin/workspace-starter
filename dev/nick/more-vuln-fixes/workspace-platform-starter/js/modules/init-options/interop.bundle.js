var t={};function e(t){return null==t}t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);const n={initOptions:new class{async initialize(t,e,n){this._logger=e("InitOptionsInteropHandler"),this._logger.info("The handler has been loaded")}async action(t,n,i){if(e(n))this._logger?.warn(`Actions passed to the module require a payload to be passed. Requested action: ${t} can not be fulfilled.`);else try{switch(t){case"raise-intent":await this.raiseIntent(n);break;case"share-context":await this.shareContext(n)}}catch(e){this._logger?.error(`Error trying to perform action ${t}.`,e)}}async raiseIntent(t){const e=fin.Interop.connectSync(fin.me.identity.uuid,{});this._logger?.info(`Received intent to raise. Intent Request ${JSON.stringify(t,null,4)}.`),await e.fireIntent(t)}async shareContext(t){const n=fin.Interop.connectSync(fin.me.identity.uuid,{}),i=(await n.getContextGroups()).find(e=>e.id===t.contextGroup);e(i)||(await n.joinContextGroup(i.id),this._logger?.info(`Received context to send. Context Group ${i.id}. Context: ${JSON.stringify(t.context,null,4)}`),await n.setContext(t.context))}}};export{n as entryPoints};
//# sourceMappingURL=interop.bundle.js.map