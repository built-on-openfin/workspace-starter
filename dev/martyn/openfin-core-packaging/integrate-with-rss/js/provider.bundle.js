/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module) => {

/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={525:e=>{var t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var i,s,c=o(e),d=1;d<arguments.length;d++){for(var p in i=Object(arguments[d]))a.call(i,p)&&(c[p]=i[p]);if(t){s=t(i);for(var l=0;l<s.length;l++)n.call(i,s[l])&&(c[s[l]]=i[s[l]])}}return c}},535:(e,t,a)=>{var n=a(525),o=60103,r=60106;var i=60109,s=60110,c=60112;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var l=Symbol.for;o=l("react.element"),r=l("react.portal"),l("react.fragment"),l("react.strict_mode"),l("react.profiler"),i=l("react.provider"),s=l("react.context"),c=l("react.forward_ref"),l("react.suspense"),d=l("react.memo"),p=l("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}function h(){}function m(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(w(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=y.prototype;var v=m.prototype=new h;v.constructor=m,n(v,y.prototype),v.isPureReactComponent=!0;var S={current:null},P=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var n,r={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)P.call(t,n)&&!b.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];r.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:o,type:e,key:i,ref:s,props:r,_owner:S.current}}function W(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var C=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case r:c=!0}}if(c)return i=i(c=e),e=""===n?"."+I(c,0):n,Array.isArray(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(W(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){var p=n+I(s=e[d],d);c+=A(s,t,a,p,i)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),d=0;!(s=e.next()).done;)c+=A(s=s.value,t,a,p=n+I(s,d++),i);else if("object"===s)throw t=""+e,Error(w(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function M(e,t,a){if(null==e)return e;var n=[],o=0;return A(e,n,"","",(function(e){return t.call(a,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function E(){var e=T.current;if(null===e)throw Error(w(321));return e}},378:(e,t,a)=>{a(535)}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{var e,t,o,r,i,s,c,d;a.r(n),a.d(n,{AppManifestType:()=>c,BrowserButtonType:()=>g,CustomActionCallerType:()=>h,GlobalContextMenuOptionType:()=>u,PageTabContextMenuOptionType:()=>w,SaveButtonContextMenuOptionType:()=>y,SaveModalType:()=>m,ViewTabMenuOptionType:()=>f,getCurrentSync:()=>Ut,init:()=>Cn,wrapSync:()=>Dt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(o||(o={})),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(i||(i={})),function(e){e.MultiSelect="MultiSelect"}(s||(s={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(c||(c={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(d||(d={}));var p,l,u,w,f,g,y,h,m,v;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(l||(l={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(u||(u={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(f||(f={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(g||(g={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(y||(y={})),function(e){e.CustomButton="CustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={})),function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(m||(m={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(v||(v={}));const S="undefined"!=typeof window&&"undefined"!=typeof fin,P=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),b=P&&"undefined"!=typeof indexedDB,k=P?window.origin:v.Local,W=S&&fin.me.uuid,C=S&&fin.me.name,I=S&&fin.me.entityType,A=(v.Local,v.Dev,v.Staging,v.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:k+e),M=(A("https://cdn.openfin.co/workspace/9.0.7"),A("https://cdn.openfin.co/workspace/9.0.7")),O=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&A(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&A(WORKSPACE_DOCS_CLIENT_URL),"26.102.71.5"),T="9.0.7";var E,B,x;!function(e){e.Workspace="openfin-browser"}(E||(E={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(B||(B={})),function(e){e.FinProtocol="fin-protocol"}(x||(x={}));const R={uuid:W},_=(E.Workspace,e=>{if(!S)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),L=()=>_(R);var V,D;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(V||(V={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(D||(D={}));function U(e){if(!S)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const F={name:C,uuid:W};function G(){return U(F)}V.Home,E.Workspace,V.Dock,E.Workspace;const $={name:V.Storefront,uuid:E.Workspace};E.Workspace,E.Workspace;async function N(e){const t=U(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.setAsForeground()}const j=e=>e.startsWith(V.BrowserWindow);async function H(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>j(e.identity.name)))}const q=e=>U(e).getOptions().then((()=>!0)).catch((()=>!1)),K=()=>q($);var Q;!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(Q||(Q={}));const z=async(e,t)=>{const a={apiVersion:t.apiVersion||T,componentName:e,componentVersion:t.componentVersion||T,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:a})};a(378);const J=e=>fin.System.getSystemAppConfig(e);let X;async function Y(){if(X)return X;if(!S)return{};const e=await async function(){if(S)try{let e=await J("workspace").catch((e=>{}));return e||(e=await J("home")),e}catch(e){}}(),t=await async function(){const{manifest:e,initialOptions:t}=await fin.Application.getCurrentSync().getInfo();return e?.workspace||e?.home||t?.workspace||t?.home,e?.workspace?e?.workspace:e?.home?e?.home:t?.workspace?t?.workspace:t?.home?t?.home:void 0}();return X={...t,...e},X}var Z;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(Z||(Z={}));const ee=Z,te=(e,t)=>{localStorage.setItem(`${W}-${e}`,t)},ae=e=>localStorage.getItem(`${W}-${e}`);var ne;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized"}(ne||(ne={}));const oe=async e=>fin.Platform.wrapSync(e).getClient(),re=async e=>{const t=await oe(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if(!0!==n?.isWorkspacePlatform)throw new Error(a);return n},ie=async e=>(await re(e),oe(e)),se=async e=>{if(!0!==(await re(e))?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return oe(e)},ce=(e,t)=>!t.find((t=>t===e)),de=(e,t)=>`${e} (${t})`,pe=(e,t)=>{let a=1;const n=e.replace(/ \(.+\)$/,"");for(;!ce(de(n,a),t);)a+=1;return de(n,a)};async function le(e){try{const t=Ut();await t.applySnapshot(e.snapshot,{closeExistingWindows:!0}),ue(e)}catch(e){}}function ue(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);te(ee.CurrentWorkspaceId,t)}catch(e){}}async function we(){if("undefined"==typeof localStorage)return;const e=Ut(),t=await e.getSnapshot();return{workspaceId:crypto.randomUUID(),title:await ye(),metadata:{APIVersion:T},snapshot:t}}async function fe(){if("undefined"==typeof localStorage)return;const e=ae(ee.CurrentWorkspaceId);if(!e)return we();const t=JSON.parse(e),a=Ut(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:T},snapshot:n}}const ge=async e=>await(async e=>(await ie(F)).dispatch(ne.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await ie(F)).dispatch(ne.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await ie(F)).dispatch(ne.CreateSavedWorkspace,e))({workspace:e});async function ye(e="Untitled Workspace"){const t=(await(async()=>(await ie(F)).dispatch(ne.GetSavedWorkspaces,void 0))()).map((({title:e})=>e));return t.find((t=>t===e))?pe(e,t):e}async function he(){if("undefined"!=typeof localStorage)try{const e=ae(ee.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await q(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function me(e=fin.me.identity){j(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);te(ee.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const ve=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw e})).finally((()=>{n=void 0})),n)};var Se;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Se||(Se={}));const Pe=(e,t)=>e.content?{...e,content:e.content.map((e=>Pe(e,t)))}:{...e,componentState:t(e.componentState)},be=e=>({...e,name:e.name?e.name:crypto.randomUUID()}),ke=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=ke(e.content);t.push(...a)})),t},We=async(e,t,a=F)=>{let n;if(j(a.name)){n=(await U(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;function Ce(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Ie(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Ae(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function Me(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Oe=P&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Te(e){let t;return()=>{if(!S)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Oe;const a={clientAPIVersion:T},n=await fin.InterApplicationBus.Channel.connect(e,{payload:a});return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Ee=e=>`__browser_window__-${e.uuid}-${e.name}`,Be=new Map,xe=e=>{const t=Ee(e);return Be.has(t)||Be.set(t,Te(t)),Be.get(t)()};var Re,_e;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page"}(Re||(Re={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(_e||(_e={}));const Le={...Re,..._e};var Ve;!function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(Ve||(Ve={}));new Map;const De=async e=>{const t=await xe(e);return await t.dispatch(Le.GetPages)},Ue=async e=>(await xe(e.identity)).dispatch(Le.UpdatePageForWindow,e),Fe=async()=>{const e=await H();return(await Promise.all(e.map((async({identity:e})=>De(e))))).reduce(((e,t)=>e.concat(t)),[])},Ge=async()=>(await ie(F)).dispatch(ne.GetSavedPages,void 0),$e=async e=>(await ie(F)).dispatch(ne.GetSavedPage,e),Ne=async(e,t)=>{const a=await(async e=>(await Fe()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Ue({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},je=async({page:e})=>{await Ne(e.pageId,e),await(async e=>(await ie(F)).dispatch(ne.CreateSavedPage,e))({page:e})},He=async e=>{await $e(e)&&await(async e=>(await ie(F)).dispatch(ne.DeleteSavedPage,e))(e)},qe=async({pageId:e,page:t})=>{await Ne(e,t);return await(async e=>(await ie(F)).dispatch(ne.UpdateSavedPage,e))({pageId:e,page:t})},Ke=async e=>await $e(e.pageId)?qe({pageId:e.pageId,page:e}):je({page:e}),Qe=async e=>{await(async e=>(await xe(e.identity)).dispatch(Le.AttachPagesToWindow,e))(e)},ze=async e=>{await Ue(e)},Je=async e=>{await(async e=>(await xe(e.identity)).dispatch(Le.DetachPagesFromWindow,e))(e)},Xe=async e=>{await(async e=>(await xe(e.identity)).dispatch(Le.SetActivePageForWindow,e))(e)},Ye=e=>De(e),Ze=async({identity:e,pageId:t})=>(await Ye(e)).find((e=>e.pageId===t)),et=async e=>{await(async e=>(await xe(e.identity)).dispatch(Le.ReorderPagesForWindow,e))(e)};async function tt(e="Untitled Page"){const[t,a]=await Promise.all([Ge(),Fe()]),n=[...t,...a].map((({title:e})=>e));return n.find((t=>t===e))?pe(e,n):e}const at=new Map,nt=e=>`${e.uuid}-${e.name}`;const ot=ve((async function(){let e=[];try{e=await Fe()}catch(e){return void at.forEach(((e,t)=>{clearTimeout(e),at.delete(t)}))}const t=new Set;e.forEach((e=>{ke(e.layout.content).forEach((e=>{if(e.name){const a=nt(e);t.add(a)}}))}));const a=G();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=nt(e);if(t.has(a)||at.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),at.delete(a)}),5e3);at.set(a,n)})),at.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),at.delete(a))}))}),2500),rt=({name:e})=>{e&&j(e)&&ot().catch((()=>{}))};let it={};const st=({actionId:e,payload:t})=>{if("function"!=typeof it[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return it[e](t)};function ct(){return localStorage.getItem(ee.MachineName)}let dt;async function pt(){return dt||(dt=await fin.System.getMachineId()),dt}const lt=e=>{if(e.layout&&Array.isArray(e.workspacePlatform?.pages)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t)if(t.isLocked){const a=((e,t)=>{const a=ke(t.content);return{...Pe(e,(e=>{const t=a.find((t=>t.name===e.name&&t.uuid===e.uuid)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}})(e.layout,t.layout);t.layout=a,e.layout=a}else t.layout=e.layout}return e};async function ut(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=ct();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await pt(),machineName:a}}}function wt(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function ft(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=wt(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}let gt;function yt(){return gt||(gt=ft("keyval-store","keyval")),gt}function ht(e,t=yt()){return t("readonly",(t=>wt(t.get(e))))}function mt(e,t,a=yt()){return a("readwrite",(a=>(a.put(t,e),wt(a.transaction))))}function vt(e,t=yt()){return t("readwrite",(t=>(t.delete(e),wt(t.transaction))))}function St(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},wt(e.transaction)}function Pt(e=yt()){return e("readonly",(e=>{if(e.getAllKeys)return wt(e.getAllKeys());const t=[];return St(e,(e=>t.push(e.key))).then((()=>t))}))}const bt=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),kt=b&&ft("openfin-home-pages","pages");async function Wt(e){const t=await ht(e,kt);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function Ct(e){const t=await Pt(kt),a=await Promise.all(t.map((e=>Wt(e.toString()))));return e?a.filter((t=>bt(t.title,e))):a}async function It({page:e}){await mt(e.pageId,e,kt)}async function At(e){await vt(e,kt)}async function Mt({pageId:e,page:t}){if(void 0===await Wt(e))throw new Error("page not found");await It({page:t}),e!==t.pageId&&await At(e)}var Ot;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Ot||(Ot={}));const Tt={type:Ot.Separator,data:void 0};var Et;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(Et||(Et={}));Te("__of_workspace_protocol__");const Bt=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await pt(),machineName:ct()}}))(t);return{pageId:crypto.randomUUID(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},xt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await se(e)).dispatch(ne.GetPagesForWindow,e),getPage:async t=>(await se(e)).dispatch(ne.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await se(e);t?.title||(t.title=await a.dispatch(ne.GetUniquePageTitle,void 0));const n=(await a.dispatch(ne.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(ne.AttachPagesToWindow,o)},removePage:async t=>(await se(e)).dispatch(ne.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await se(e)).dispatch(ne.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await se(e);return t.identity=e,a.dispatch(ne.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await se(e);return t.identity=e,a.dispatch(ne.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(ne.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await se(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await se(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(ne.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(ne.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await se(e);return(await xe(e)).dispatch(Le.OpenSaveModalInternal,t)},_openSaveButtonContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(ne.OpenSaveButtonContextMenuInternal,t)}});let Rt=!1;const _t=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>xt(e),createWindow:async a=>{await se(e),Rt||(Rt=!0,(async e=>{z(Q.Browser,e)})({allowed:!0}));const n=await t.createWindow(a);return xt(n.identity)},getAllAttachedPages:async()=>(await se(e)).dispatch(ne.GetAllAttachedPages,void 0),getAllWindows:async()=>{await se(e);return(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>xt(e.identity)))},getUniquePageTitle:async t=>(await se(e)).dispatch(ne.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await se(e)).dispatch(ne.GetLastFocusedBrowserWindow,void 0)}},Lt=e=>({createPage:async t=>(await se(e)).dispatch(ne.CreateSavedPageInternal,t),deletePage:async t=>(await se(e)).dispatch(ne.DeleteSavedPageInternal,t),updatePage:async t=>(await se(e)).dispatch(ne.UpdateSavedPageInternal,t),getPage:async t=>(await se(e)).dispatch(ne.GetSavedPage,t),getPages:async t=>(await se(e)).dispatch(ne.GetSavedPages,t),savePage:async t=>(await se(e)).dispatch(ne.SavePage,t),createWorkspace:async t=>(await ie(e)).dispatch(ne.CreateSavedWorkspace,t),deleteWorkspace:async t=>(await ie(e)).dispatch(ne.DeleteSavedWorkspace,t),updateWorkspace:async t=>(await ie(e)).dispatch(ne.UpdateSavedWorkspace,t),getWorkspace:async t=>(await ie(e)).dispatch(ne.GetSavedWorkspace,t),getWorkspaces:async t=>(await ie(e)).dispatch(ne.GetSavedWorkspaces,t),saveWorkspace:async t=>(await ie(e)).dispatch(ne.SaveWorkspace,t)}),Vt=e=>({getThemes:async()=>(await ie(e)).dispatch(ne.GetThemes,void 0)}),Dt=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:W,name:C,entityType:I||"unknown"});return(await ie(e)).dispatch(ne.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await ie(e),o={actionId:t,payload:{...a,callerType:a.callerType||h.API}};return n.dispatch(ne.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await ie(e)).dispatch(ne.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await ie(e)).dispatch(ne.GetCurrentWorkspace,void 0),applyWorkspace:async t=>(await ie(e)).dispatch(ne.ApplyWorkspace,t),setActiveWorkspace:async t=>(await ie(e)).dispatch(ne.SetActiveWorkspace,t),Theme:Vt(e),Browser:_t(e),Storage:Lt(e)})},Ut=()=>Dt(fin.me.identity),Ft=async(e=F)=>{const{workspacePlatform:t}=await U(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},Gt=async(e=F)=>{const t=await Ut().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=F)=>{const{newPageUrl:t}=await Ft(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return We("New Tab",t,e)})(e);return Bt(t,a)},$t={type:Ot.Label,label:"Close Window",data:{type:u.CloseWindow}},Nt={type:Ot.Label,label:"Open Storefront",data:{type:u.OpenStorefront}},jt={type:Ot.Label,label:"Quit Platform",data:{type:u.Quit}},Ht={type:Ot.Label,label:"New Window",data:{type:u.NewWindow}},qt={type:Ot.Label,label:"Save Page",data:{type:u.SavePage}},Kt={type:Ot.Label,label:"Save Page As...",data:{type:u.SavePageAs}},Qt={type:Ot.Label,label:"Restore to Last Saved Changes",data:{type:u.RestoreChanges}},zt={type:Ot.Label,label:"Save Workspace",data:{type:u.SaveWorkspace}},Jt={type:Ot.Label,label:"Save Workspace As...",data:{type:u.SaveWorkspaceAs}},Xt={type:Ot.Label,label:"Rename Workspace",data:{type:u.RenameWorkspace}},Yt="Switch Workspace",Zt="Delete Workspace",ea=[$t,Tt,Nt,Tt,jt],ta=[Tt,$t,Tt,jt],aa=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Ot.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),na=async e=>{const t=await K(),{newPageUrl:a}=await Ft(e),n=await(async e=>{const t=U(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=await(async e=>{const t=U(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),r=[];var i;a&&(r.push(Ht),n||r.push((i=!o,{type:Ot.Label,label:"New Page",data:{type:u.NewPage},enabled:i}))),r.push(Tt);const s=Ut(),c=await s.getCurrentWorkspace(),d=await s.Storage.getWorkspaces(),p=d.find((e=>e.workspaceId===c.workspaceId));return p?r.push(Qt):r.push({label:Qt.label,enabled:!1}),r.push(zt,Jt),p?r.push(Xt):r.push({label:Xt.label,enabled:!1}),d.some((e=>e.workspaceId!==c.workspaceId))?r.push({label:Yt,submenu:aa(c,d,u.SwitchWorkspace)},{label:Zt,submenu:aa(c,d,u.DeleteWorkspace)}):r.push({label:Yt,enabled:!1},{label:Zt,enabled:!1}),r.push(Tt,qt,Kt),t?[...r,...ea]:[...r,...ta]};let oa="Platform";const ra=async()=>oa;var ia,sa,ca;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSaveModal="/browser/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(ia||(ia={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(sa||(sa={})),function(e){e.Search="search"}(ca||(ca={}));const da={...sa,...ia};var pa;!function(e){e.Home="/home",e.Browser="/browser",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(pa||(pa={}));const la="/workspace/9.0.7";function ua(){return la.substring(0,la.length-"".length)}function wa(e){if(!P)throw new Error("getAbsoluteRoutePath can only be used in a window");return function(){if(!window)throw new Error("getAbsoluteBasePath can only be used in a window");return`${window.origin}${ua()}`}()+e}const fa={name:V.BrowserMenu,alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!0};function ga(e){const t={...fa,...e};return t.url=function(e){if(!P)throw new Error("resolveAbsolutePath can only be used in a window");return e.startsWith("http")?e:`${window.origin}${e}`}(t.url),t}var ya,ha;!function(e){e.Update="update",e.Response="response"}(ya||(ya={})),function(e){e.Canceled="canceled",e.Negative="negative",e.Affirmative="affirmative"}(ha||(ha={}));const ma=function(e){const t=new Map;return{emit:Ce(t,(t=>S&&fin.InterApplicationBus.publish(e,t))),addListener:Ie(t,(t=>S&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),removeListener:Me(t),once:Ae(t)}}("window.menu"),va=e=>ma.emit(ya.Response,e),Sa=ve((()=>L().getChildWindows()),500);const Pa=new Map;async function ba({options:e,parameters:t},a){const n=ga(e),{name:o}=n;let r=await async function(e){return(await Sa()).find((t=>t.identity.name===e))}(o);return r||(r=await async function(e){const t=ga(e);if(!Pa.has(t.name)){const e=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(t);return e.once("closed",(()=>{Pa.delete(t.name)})),e})();Pa.set(t.name,e)}return Pa.get(t.name)}(n)),await async function(e,t){const a=ga(e),{top:n,left:o,defaultWidth:r,defaultHeight:i}=a,s={top:n,left:o,width:r,height:i},c={parentName:fin.Window.getCurrentSync().identity.name};for(const[e,a]of Object.entries(c))t.set(e,a);const d=t.toString(),p=`${a.url}?${d}`;ma.emit(ya.Update,a.name,s,p),await va({name:a.name,data:ha.Canceled})}(e,t||new URLSearchParams),a&&r.center(),r}const ka=async(e,t,a)=>{const n=t?U(t):G();if(!a){await(async(e=fin.me.identity)=>{const t=U(e),a=await t.getBounds();(a.right>screen.availLeft+screen.width||a.left<screen.availLeft||a.bottom>screen.availTop+screen.height||a.top<screen.availTop)&&await t.center()})(n.identity);const t=(e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}))(await n.getBounds()),{defaultHeight:a,defaultWidth:o}=e;return((e,t)=>{const{height:a,width:n}=t,o=n/2,r=a/2;return{left:e.left-o,top:e.top-r}})(t,{height:a,width:o})}return await n.getBounds()},Wa=async({options:e,content:t},a)=>{const n=new URLSearchParams({...t});return await ba({options:e,parameters:n},a),new Promise((t=>{ma.once(ya.Response,(a=>{a.name===e.name&&t(a)}))}))},Ca=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Switch Workspace",windowOptions:{url:M+da.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:`Are you sure you want to switch to ${t}`,body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await ka(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Wa({options:r,content:n})).data===ha.Affirmative},Ia=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Delete Workspace",windowOptions:{url:M+da.ResponseModal,name:V.BrowserMenu,defaultHeight:144,defaultWidth:372,modalParentIdentity:e},content:{title:"Are you sure you want to permanently delete this workspace?",body:`${t}`,affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await ka(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Wa({options:r,content:n})).data===ha.Affirmative},Aa=async(e,t,a)=>{const n=a?void 0:e,{windowOptions:o,content:r}=await(async(e,t)=>({title:"Platform Quit",windowOptions:{url:M+da.ResponseModal,name:V.BrowserMenu,defaultHeight:134,defaultWidth:474,modalParentIdentity:t},content:{title:`Close the ${"Platform"===e?"platform":`${e} Platform`}?`,body:"Closing a platform will close any workspaces, apps or any processes that are running.",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(t,n),i=await ka(o,o.modalParentIdentity),s={...o,top:i.top,left:i.left};return(await Wa({options:s,content:r},a)).data===ha.Affirmative},Ma=async e=>{const{windowOptions:t,content:a}=await(async e=>({title:"Restore Changes",windowOptions:{url:M+da.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:"Are you sure you want to restore to last saved changes?",body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e),n=await ka(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return(await Wa({options:o,content:a})).data===ha.Affirmative};var Oa;!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(Oa||(Oa={}));const Ta={alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1};var Ea;!function(e){e.Locked="LockClosedIcon",e.Unlocked="LockOpen1Icon"}(Ea||(Ea={}));const Ba=function(e=Ta){const t=new Map;return async(a,n,o,r)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const i=`${V.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:i});const s=await fin.Platform.getCurrentSync().createWindow({...e,name:i,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),100),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(`New ${r} indicator: ${o}`),s.once("closed",(()=>{t.delete(a)}))}}();async function xa(e,t,a,n){const o=new URLSearchParams;o.append("type",e),o.append("message",t),o.append("parentName",a||""),o.append("icon",n||"");const r=`${wa(da.BrowserIndicator)}?${o.toString()}`;return Ba("browser"+a,r,t,e)}function Ra(e,t,a){return xa(Oa.SUCCESS,e,t,a)}const _a=async e=>{const t=Ut(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))t.Storage.saveWorkspace(a),t.setActiveWorkspace(a),Ra("Workspace Saved",e.name);else{t.Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE})}},La=e=>{Ut().Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE_AS})},Va=async(e,t)=>{const a=Ut().Browser.wrapSync(e),n=await Ut().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId));if(r)try{await Ut().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Ra("Page saved",o.parentIdentity.name)}catch{i="Page failed to save",s=o.parentIdentity.name,xa(Oa.ERROR,i,s,c)}else a._openSaveModal({id:o.pageId,menuType:m.SAVE_PAGE});var i,s,c,d},Da=async(e,t)=>{const a=Ut().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:m.SAVE_PAGE_AS})},Ua=async(e,t)=>{if(!e)return;const a=t.identity,n=await xe(a),o=Ut().Browser.wrapSync(t.identity);switch(e.type){case u.NewWindow:const{newPageUrl:t}=await Ft(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");Ut().createView({target:void 0,url:t});break;case u.NewPage:await(async e=>{const t=Ut().Browser.wrapSync(e),a=await Gt(e);await t.addPage(a),await t.setActivePage(a.pageId)})(a);break;case u.CloseWindow:n.dispatch(Le.CloseBrowserWindow);break;case u.SaveWorkspace:await _a(a);break;case u.SavePage:await Va(a);break;case u.SavePageAs:await Da(a);break;case u.SaveWorkspaceAs:await La(a);break;case u.RenameWorkspace:o._openSaveModal({menuType:m.RENAME_WORKSPACE});break;case u.SwitchWorkspace:await(async(e,t)=>{const a=Ut(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Ca(e,n.title)&&(await a.applyWorkspace(n),Ra("Workspace Switched!",null))})(a,e);break;case u.DeleteWorkspace:await(async(e,t)=>{const a=Ut(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Ia(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Ra("Workspace Deleted!",e.name))})(a,e);break;case u.Quit:const r=await ra();await Aa(a,r)&&fin.Platform.getCurrentSync().quit();break;case u.OpenStorefront:(async()=>{await K()&&N($)})();break;case u.RestoreChanges:const i=await async function(){const e=Ut(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();await Ma(a)&&await le(i);break;case u.Custom:if(e.action){const t={callerType:h.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Ut()._invokeCustomAction(e.action.id,t)}}},Fa=async(e,t)=>{const a=await xe(t.identity),n=Ut();switch(e?.type){case w.Save:await Va(t.identity,t.pageId);break;case w.SaveAs:await Da(t.identity,t.pageId);break;case w.Rename:await n.Browser.wrapSync(t.identity)._openSaveModal({menuType:m.RENAME_PAGE,id:t.pageId});break;case w.Duplicate:a.dispatch(Le.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(Le.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:h.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ut()._invokeCustomAction(e.action.id,a)}}},Ga=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case y.SavePage:await Va(a);break;case y.SaveWorkspace:await _a(a);break;case y.SavePageAs:await Da(a);break;case y.SaveWorkspaceAs:await La(a);break;case y.Custom:if(e.action){const a={callerType:h.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ut()._invokeCustomAction(e.action.id,a)}}}},$a=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Ft(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...We("New View",t),url:t,target:e}})(e);await Ut().createView(o,e,n.identity)},Na=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Ft(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},ja=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Ut().createView(n,e,t.identity)})(e,a)}))},Ha=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case f.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await Ut().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await xe(e)).dispatch(Le.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case f.OpenWithDefaultBrowser:await Na(a,t.selectedViews);break;case f.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case f.NewView:await $a(a,t);break;case f.DuplicateViews:ja(a,t.selectedViews);break;case f.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await xe(e)).dispatch(Le.AddToChannel,n)})(a,e.option,t.selectedViews);break;case f.RemoveFromChannel:(async(e,t)=>{(await xe(e)).dispatch(Le.RemoveFromChannel,t)})(a,t.selectedViews);break;case f.Custom:if(e.action){const n={callerType:h.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Ut()._invokeCustomAction(e.action.id,n)}}};async function qa(e,t){const a=await na(e.identity),n=await ra();a.find((e=>e.data?.type===u.Quit)).label=`Quit ${n}`;const o={...e,template:a,callback:Ua};await this.openGlobalContextMenu(o,t)}const Ka=async(e,t)=>{const{x:a,y:n,identity:o,template:r,callback:i}=e,{data:s}=await function(e,t){if(!S)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:r},fin.Window.wrapSync(o));i(s,e)};async function Qa(e,t){const a={...e,callback:Ha};await this.openViewTabContextMenu(a,t)}async function za(e,t){const a=await(async(e,t)=>{const a=await Ut().Storage.getPage(e),n=(await Fe()).find((t=>t.pageId===e)),{workspacePlatform:o}=await U(t).getOptions(),r=!(o.isLocked||o.preventPageClose||n.closeButton?.disabled||n.closeButton?.hidden);return[{type:Ot.Label,label:"Save Page",data:{type:w.Save}},{type:Ot.Label,label:"Save Page As",data:{type:w.SaveAs}},Tt,{type:Ot.Label,label:"Rename Page",data:{type:w.Rename},enabled:!!a},{type:Ot.Label,label:"Duplicate Page",data:{type:w.Duplicate},enabled:!o.isLocked},Tt,{type:Ot.Label,label:"Close Page",data:{type:w.Close},enabled:r}]})(e.pageId,e.identity),n={...e,template:a,callback:Fa};await this.openPageTabContextMenu(n,t)}async function Ja(e,t){const a={...e,template:await(async()=>[{type:Ot.Label,label:"Save Workspace",data:{type:y.SaveWorkspace}},{type:Ot.Label,label:"Save Workspace As",data:{type:y.SaveWorkspaceAs}},{type:Ot.Separator,data:void 0},{type:Ot.Label,label:"Save Page",data:{type:y.SavePage}},{type:Ot.Label,label:"Save Page As",data:{type:y.SavePageAs}}])(),callback:Ga};await this.openSaveButtonContextMenu(a,t)}const Xa=b&&ft("openfin-workspace-platform-workspaces","workspaces");async function Ya(e){const t=await ht(e,Xa);return t?(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId,t):null}async function Za(e){const t=await Pt(Xa),a=await Promise.all(t.map((e=>Ya(e.toString()))));return e?a.filter((t=>bt(t.title,e))):a}async function en({workspace:e}){await mt(e.workspaceId,e,Xa)}async function tn(e){await vt(e,Xa)}async function an({workspaceId:e,workspace:t}){if(void 0===await Ya(e))throw new Error("workspace not found");await en({workspace:t}),e!==t.workspaceId&&await tn(e)}async function nn({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case c.Snapshot:return a.applySnapshot(e.manifest);case c.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case c.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const on=e=>e&&"object"==typeof e&&!Array.isArray(e);function rn(e,...t){if(!t.length)return e;const a=t.shift();return on(e)&&on(a)&&Object.entries(a).forEach((([t,a])=>{if(on(a))return e[t]||(e[t]={}),rn(e[t],a);e[t]=a})),rn(e,...t)}const sn=M+da.Browser;function cn(e,t){const a=rn({},t,e);return a.detachOnClose=!0,a}async function dn(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const pn=e=>{const t=e.name===V.Home,a=e.name?.startsWith(V.HomeInternal),n=e.name?.startsWith(V.BrowserMenu);return!t&&!a&&!n},ln=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),un={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:sn,contextMenu:!0,closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${M}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},wn={dimensions:{borderWidth:3,headerHeight:30}},fn=async(e,t)=>{const a=await Ut().Storage.getPages(),n=await Ut().Browser.getAllAttachedPages();return e.map((e=>{let o=e.title;void 0===e.pageId&&(e.pageId=crypto.randomUUID());const r=a.find((e=>e.title===o));return(r&&r.pageId!==e.pageId||n.find((e=>e.title===o)))&&(o=pe(e.title,[...a,...n].map((e=>e.title)))),n.push({...e,title:o}),{...t,...e,title:o,layout:(i=e.layout,Pe({...i},be))};var i}))};var gn;!function(e){e.Browser="browser",e.Platform="platform",e.Classic="classic",e.Mixed="mixed"}(gn||(gn={}));const yn=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function hn(e){const t=(await H()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await xe(e)).dispatch(Le.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():ut()}const mn=async e=>{await Aa(fin.me.identity,e.title??await ra(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()};let vn=[];const Sn=()=>vn;const Pn=(e,t)=>async a=>{const n=null!==e;class o extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e}),this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=Je,this.getAllAttachedPages=Fe,this.getPagesForWindow=Ye,this.getPageForWindow=Ze,this.setActivePage=Xe,this.launchApp=nn,this.savePage=Ke,this.saveWorkspace=ge,this.createSavedPageInternal=je,this.updateSavedPageInternal=qe,this.deleteSavedPageInternal=He,this.reorderPagesForWindow=et,this.getUniquePageTitle=tt,this.updatePageForWindow=ze,this.getLastFocusedBrowserWindow=he,this.getThemes=Sn,this.invokeCustomActionInternal=st,this.requestQuitPlatformDialogInternal=mn,this.getCurrentWorkspace=fe,this.applyWorkspace=le,this.setActiveWorkspace=ue,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this)}async getSnapshot(){const e=n?await hn((async()=>ut(await super.getSnapshot(void 0,fin.me.identity)))):await ut(await super.getSnapshot(void 0,fin.me.identity));return{...e,windows:e.windows.filter(pn).map(lt)}}async applySnapshot({snapshot:e,options:t}){const a=e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}});let o=e;"string"==typeof o&&(o=await super.fetchManifest({manifestUrl:o},fin.me.identity));const r=function(e){let t=!1,a=!1;for(const n of e.windows){if(t&&a)break;n.workspacePlatform?.pages?.length?a=!0:n.layout&&(t=!0)}return t&&a?gn.Mixed:t?gn.Platform:a?gn.Browser:e.windows.length?gn.Classic:null}(o);if(r===gn.Mixed)throw new Error("This snapshot cannot be applied as it contains a mixture of browser and platform windows.");if(n)gn.Platform;else if(r===gn.Browser)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return t?.closeExistingWindows&&await async function(){const e=await H();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}(),n?async function(e,t){const a=await Fe(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),[o,r]=(e.windows||[]).reduce((([e,t],a)=>a?.workspacePlatform?.pages?.length?[[...e,a],t]:[e,[...t,a]]),[[],[]]),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const s=[],c=o.map((async e=>{const t=ln(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await tt();a.push(await Bt(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Xe({identity:o.parentIdentity,pageId:o.pageId}),yn(o.parentIdentity)]),a.length&&s.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(c),!s.length&&!r.length)return;const d=fin.Platform.getCurrentSync();return(t||d.applySnapshot.bind(d))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:[...s,...r]})}(o,a):a(o)}async createWindow(t,a){t.workspacePlatform?.toolbarOptions?.buttons&&(e=>{const t=e.filter((e=>e.type!==g.Custom)),a=new Set;for(const e of t){if(a.has(e.type))throw new Error(`Encountered a duplicate of ${e.type} button. No more than one instance of a button type may be provided.`);a.add(e.type)}})(t.workspacePlatform.toolbarOptions.buttons);let o=ln(t);if(n){const t=this.getThemes();o=await(async(e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=rn({},t.defaultWindowOptions,n,un),n.layout=rn(n.layout,wn),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;if(e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=((e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a})(n,!0),!n.workspacePlatform.pages?.length){const e=await tt("Untitled Page"),t={...await Bt(e,n.layout),isActive:!0};n.workspacePlatform.pages=[t]}}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=await fn(n.workspacePlatform.pages,t?.defaultPageOptions)),n.cornerRounding&&delete n.cornerRounding,n})(o,e,t[0])}o=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(o);const r=(e,t)=>super.createWindow(e,t),i=n?(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener(D.ShowRequested,(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(r):r;return i(o,a)}async createView(t,a){return t.opts=cn(t.opts,e?.defaultViewOptions),t.opts=await dn(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await cn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await dn(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return Wt.apply(this,e)}async getSavedPages(...e){return Ct.apply(this,e)}async createSavedPage(...e){return It.apply(this,e)}async deleteSavedPage(...e){return At.apply(this,e)}async updateSavedPage(...e){return Mt.apply(this,e)}async getSavedWorkspace(...e){return Ya.apply(this,e)}async getSavedWorkspaces(...e){return Za.apply(this,e)}async createSavedWorkspace(...e){return en.apply(this,e)}async deleteSavedWorkspace(...e){return tn.apply(this,e)}async updateSavedWorkspace(...e){return an.apply(this,e)}async attachPagesToWindow(t){t.pages=await fn(t.pages,e?.defaultPageOptions),await Qe(t)}async openGlobalContextMenuInternal(...e){return qa.apply(this,e)}async openGlobalContextMenu(...e){return Ka.apply(this,e)}async openViewTabContextMenuInternal(...e){return Qa.apply(this,e)}async openViewTabContextMenu(...e){return Ka.apply(this,e)}async openPageTabContextMenuInternal(...e){return za.apply(this,e)}async openPageTabContextMenu(...e){return Ka.apply(this,e)}async openSaveButtonContextMenu(...e){return Ka.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Ja.apply(this,e)}}return"function"==typeof t?t(o):new o};async function bn(){!function(){const e=L();e.addListener(B.WindowOptionsChanged,ot),e.addListener(B.WindowClosed,rt),e.addListener(B.WindowCreated,rt),fin.InterApplicationBus.subscribe({uuid:fin.me.identity.uuid},"browser-window-ready",rt)}(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",me)}();ue(await we())}let kn;function Wn({overrideCallback:e,interopOverride:t,browser:a}){if(!S)throw new Error("Cannot be used outside an OpenFin env.");if(!kn){fin.Platform.getCurrentSync().once("platform-api-ready",(()=>bn())),a?.title&&(n=a.title,oa=n),kn=fin.Platform.init({overrideCallback:Pn(a,e||a?.overrideCallback),interopOverride:t||a?.interopOverride}),(async e=>{z(Q.Platform,e)})({allowed:!0})}var n;return kn}const Cn=async({theme:e,customActions:t,...a})=>{const n=O.split(".").map((e=>parseInt(e))),o=await(async e=>new Promise((async t=>{(await Y()).disableRuntimeValidation&&t(!0);const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(n);var r;if(e&&((r=e).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),vn=r,(async e=>{z(Q.Theming,e)})({allowed:!0})),t&&(it=t),o)return Wn(a);throw new Error(`Runtime version is not supported.  ${n[0]}.${n[1]}.${n[2]}.* is required`)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={703:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,deregister:()=>et,hide:()=>nt,register:()=>Ye,show:()=>tt});var o={};n.r(o),n.d(o,{subscribe:()=>ae});var r={};n.r(r),n.d(r,{create:()=>He});var i=n(678),s=n(532),a=n(436);const c="home";var d;!function(e){e.Commands="home-commands"}(d||(d={}));var u,p=n(806),l=(n(298),n(758));n(114),n(109),n(427);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(u||(u={}));var f=n(316);const w="all",g="0",h="5",y="6",v=()=>{};function m(e,t){return e?`${e}-${t}`:t}function S(e){return`__search-${e}-topic__`}const P=new Map;function C(e,t){P.has(e)||P.set(e,new Set),P.get(e).add(t)}function k(e,t){const n=P.get(e);n&&n.delete(t)}const W=new Map;function R(e,t){W.has(e)||W.set(e,new Set),W.get(e).add(t)}function T(e,t){const n=W.get(e);n&&n.delete(t)}const I=new Map;async function b(e,t){I.has(e)||I.set(e,new Map),I.get(e).set(t.id,t);const n=P.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function D(e,t){const n=I.get(e);if(!n)return;n.delete(t);const o=W.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function B(e){return I.get(e)?[...I.get(e).values()]:[]}function F(e){const t=I.get(e);t&&t.clear()}function L(e,t){const n=I.get(e);return n?n.get(t):null}function A(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function O(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function x(e){const t={};let n=[];let o=[];let r=u.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=v;const i={};return t.res=i,i.close=()=>{r!==u.Close&&(r=u.Close,t.onChange())},i.open=()=>{r!==u.Open&&(r=u.Open,t.onChange())},i.respond=n=>{const o=O(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function E(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function V(){return{name:fin.me.name,uuid:fin.me.uuid}}function M(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const _="deregistered or does not exist",$=new Error(`provider ${_}`),q=new Error("provider with name already exists"),G=new Error("bad payload"),H=new Error("subscription rejected"),N=new Error(`channel ${_}`),U=new Map;function j(e){const t=X(e);if(t)return t;throw N}function X(e){const t=U.get(e);if(t)return t}function K(e,t){U.set(e,t)}const J=new Map;function z(e){J.has(e)||J.set(e,new Map);const t=J.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function Z(e,t){return(await j(e)).dispatch(g,t)}function Q({namespacedTopic:e,topic:t}){const n=L.bind(null,e),o=z(e),r=Z.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=G;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=$;return{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=E(t,s,e),d.set(e.id,u));const p=x(),l=()=>{const e=p.getResultBuffer();p.setResultBuffer([]);const t=p.getRevokedBuffer();p.setRevokedBuffer([]);const n=p.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let f=!0,w=!1;p.onChange=()=>{if(f)return f=!1,void l();w||(w=!0,setTimeout((()=>{w=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,p.res),n=p.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function Y(e,t,n){const o=n||await j(e),r=V(),i={identity:r,...t,onUserInput:void 0,onResultDispatch:void 0},s=await o.dispatch("2",i);return await b(e,{identity:r,...t}),s}async function ee(e,t){const n=await j(e);return await n.dispatch("3",t),D(e,t)}async function te(e,t,n,o){const r=A(n,V(),o),i=L(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await j(e)).dispatch(h,s)}async function ne(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await j(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id,o.close=()=>{!async function(e,t){(await j(e)).dispatch(y,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function oe(e){return(await j(e)).dispatch("4",null)}async function re(e){const t=await j(e);var n;n=e,U.delete(n),F(e),await t.disconnect()}function ie(e){const{namespacedTopic:t}=e,n=z(t);return async o=>{if(!X(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);K(t,(async e=>{const{namespacedTopic:t}=e,n=await se(e);for(const e of B(t))await Y(t,e,n);return n})(e))}}async function se(e){const{namespacedTopic:t}=e,n=S(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(g,Q(e)),o.register(y,function(e){const t=z(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=L(e,t.providerId);if(!o)return;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(ie(e)),o}async function ae(e){const t=("string"==typeof e?e:e?.topic)||w,n=("string"==typeof e?null:e?.uuid)||M(),o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=X(o);return i||(i=se(r),K(o,i),await i),{getAllProviders:oe.bind(null,o),register:Y.bind(null,o),search:ne.bind(null,o),deregister:ee.bind(null,o),dispatch:te.bind(null,o),disconnect:re.bind(null,o)}}const ce=new Map;function de(e){const t=ue(e);if(t)return t;throw N}function ue(e){const t=ce.get(e);if(t)return t}const pe=new Map;function le(e,t){pe.has(e)||pe.set(e,new Set),pe.get(e).add(t)}function fe(e,t){const n=pe.get(e);n&&n.delete(t)}function we(e){return[...B(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function ge(e,t){if(L(e,t.id))throw new Error("provider with name already exists");const n=V();await b(e,{identity:n,...t})}function he(e,t){D(e,t)}async function ye(e,t,n,o){const r=L(e,t);if(!r)throw $;const{onResultDispatch:i}=r;if(!i)return;return i(A(n,V(),o))}async function*ve(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=x(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=O(a.results,n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>L(e,t))).filter((e=>!!e)):[...B(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const d=e=>{c=e,n.setState(c)};let p,l=!1;t.onClose((()=>{l=!0,p&&p()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(d(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},w=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===u.Open||c===f.De.Fetching&&a===u.Initial)&&(w.push(t),n.onChange=o);const d=n.getResultBuffer();d.length&&(n.setResultBuffer([]),s.results=O(s.results,d),e=!0);const p=n.getRevokedBuffer();if(p.length){n.setRevokedBuffer([]);const t=new Set(p);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=w,e&&(yield r),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{p=e}))])}while(s.length||a.length);return d(f.De.Complete),r}let me=0;function Se({namespacedTopic:e,topic:t},n){me+=1;const o=E(t,me.toString(),n),r=ve(e,o.req,{setState:e=>{r.state=e}});return r.id=me.toString(),r.close=o.close,r.state=f.De.Fetching,r}const Pe=new Map;function Ce(e,t){return`${e}:${t}`}function ke(e){return async(t,...n)=>{if(!t)return{error:G.message};let o;if(t.id)o=Ce(e.namespacedTopic,t.id);else{const n=Se(e,t);o=Ce(e.namespacedTopic,n.id),t.id=n.id,Pe.set(o,{generator:n})}const r=Pe.get(o);clearTimeout(r.timeout);const i=await r.generator.next();return r.timeout=function(e){return window.setTimeout((()=>{Pe.delete(e)}),1e4)}(o),{...i,id:t.id,state:r.generator.state}}}function We(e,t,n){return de(e).dispatch(t,y,{id:n})}function Re(e){return t=>function(e,t){const n=Ce(e,t),o=Pe.get(n);o&&o.generator.close()}(e,t.id)}async function Te(e,t,{id:n,query:o,context:r,targets:i}){const s=de(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,g,a),d=c.error;if(d)throw new Error(d);return c}const Ie=new Map;function be(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const De=new Map;function Be(e,t,n){return`${e}:${t}:${n}`}function Fe(e,t){const n=be.bind(null,e,t.identity),o=We.bind(null,e,t.identity),r=Te.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Ie.has(a)){const e=()=>{o(i.id),Ie.delete(a)};Ie.set(a,e),i.onClose(e)}const c=Be(e,t.id,i.id),d=()=>{De.delete(c),s.close()};i.onClose(d),De.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===u.Open&&s.open(),e.status===u.Close&&d()}));const p=await r(i);return p.status===u.Open&&s.open(),p.status!==u.Close&&p.status!==u.Initial||d(),p}}function Le(e,t){return async n=>{const o=de(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,h,r)}}const Ae=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function xe(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(L(e,t.id))throw q;return t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Ae.has(n)||Ae.set(n,[]),Ae.get(n).push(t.id),await b(e,{...t,onUserInput:Fe(e,t),onResultDispatch:Le(e,t)})}(e,t),{workspaceVersion:i.u0,clientAPIVersion:t.clientAPIVersion}}}function Ee(e){return t=>{t&&function(e,t){const n=L(e,t);if(!n)return;const o=Oe(e,n.identity),r=Ae.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),D(e,t))}}(e,t)}}const Ve=new Map;function Me(e,t){Ve.has(e)||Ve.set(e,new Set),Ve.get(e).add(t)}function _e(e,t){const n=Ve.get(e);n&&n.delete(t)}function $e(e){return async t=>{!function(e,t){const n=Oe(e,t),o=Ae.get(n);if(o){for(const t of o)D(e,t);Ae.delete(n)}}(e,t);const n=Ve.get(e);n&&n.forEach((e=>e(t)))}}async function qe(e){const{namespacedTopic:t}=e,n=S(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=pe.get(e);if(n)for(const e of n)if(!await e(t))throw H}}(e)),o.onDisconnection($e(t)),o.register(y,Re(t)),o.register(g,function(e){return t=>{const n=Be(e,t.providerId,t.id),o=De.get(n);o&&o(t)}}(t)),o.register("2",xe(t)),o.register("3",Ee(t)),o.register("4",function(e){return async()=>we(e)}(t)),o.register("1",ke(e)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=L(e,t.providerId);if(!o)throw $;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function Ge(e){const t=de(e);var n;n=e,ce.delete(n),await t.destroy(),F(e)}async function He(e){const t=("string"==typeof e?e:e?.topic)||w,n=M(),o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=ue(o);i||(i=await qe(r),function(e,t){ce.set(e,t)}(o,i));const s=fe.bind(null,o),a=_e.bind(null,o),c=k.bind(null,o),d=T.bind(null,o);return{getAllProviders:we.bind(null,o),search:Se.bind(null,r),register:ge.bind(null,o),deregister:he.bind(null,o),onSubscription:le.bind(null,o),onDisconnect:Me.bind(null,o),onRegister:C.bind(null,o),onDeregister:R.bind(null,o),dispatch:ye.bind(null,r),disconnect:Ge.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=r,{subscribe:Ue}=o,je={create:Ne,subscribe:Ue,defaultTopic:"all"},Xe=()=>{window.search=je},Ke=e=>{const t=()=>{Xe(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Xe();const e="load",t=Ke(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=Ke(n);window.addEventListener(n,o)}const Je=new Map;async function ze(){await async function(e){Je.set(e,await Ue({topic:e,uuid:p.q9.Workspace}))}(c)}let Ze;async function Qe(e){return await async function(){return Ze||(Ze=ze()),Ze}(),Je.get(e)}const Ye=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,a.aB)();const t=await Qe(c);try{e.clientAPIVersion=i.u0;const n=await t.register(e);return(0,s.ck)({allowed:!0,componentVersion:n?.workspaceVersion}),n}catch(e){throw(0,s.ck)({allowed:!1,rejectionCode:e.message}),e}},et=async e=>{await(0,a.aB)();return(await Qe(c)).deregister(e)};async function tt(){return(await(0,a.Xl)()).dispatch(a.WF.ShowHome,void 0)}async function nt(){return(await(0,a.Xl)()).dispatch(a.WF.HideHome,void 0)}},298:(e,t,n)=>{n.d(t,{p:()=>o.px,w:()=>o.wt});var o=n(316)},427:(e,t,n)=>{var o;n.d(t,{v:()=>o}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,el:()=>i,yW:()=>r}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},109:(e,t,n)=>{n.d(t,{Go:()=>r,ZJ:()=>s,bI:()=>i,p6:()=>o});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},528:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>s.L,StorefrontTemplate:()=>s.T,deregister:()=>g,hide:()=>h,register:()=>w,show:()=>y});var o=n(532),r=n(436),i=n(82),s=n(114),a=n(678);let c,d=!1;async function u(e,t,n){const o=await(0,r.Dm)();try{return await o.dispatch(e.action,e.payload)}catch(r){if(-1!==r.toString().indexOf(e.action))return d=!0,await o.dispatch(t.action,t.payload),n;throw r}}const p=new Map,l=e=>{if(!p.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return p.get(e)},f=async e=>{const t=await(0,r.Xl)();if(p.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return p.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.WF.GetStorefrontProviderApps,(e=>l(e).getApps())),e.register(r.WF.GetStorefrontProviderFooter,(e=>l(e).getFooter())),e.register(r.WF.GetStorefrontProviderLandingPage,(e=>l(e).getLandingPage())),e.register(r.WF.GetStorefrontProviderNavigation,(e=>l(e).getNavigation())),e.register(r.WF.LaunchStorefrontProviderApp,(({id:e,app:t})=>l(e).launchApp(t))))})(t),e.clientAPIVersion=a.u0,u({action:r.WF.RegisterProvider,payload:{providerType:i.lP.Storefront,info:e}},{action:r.WF.RegisterStorefrontProvider,payload:e},{workspaceVersion:"unknown"})},w=e=>(c=new Promise((async(t,n)=>{try{const n=await f(e);(0,o.d9)({allowed:!0,componentVersion:n?.workspaceVersion}),t({clientAPIVersion:a.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,o.d9)({allowed:!1,rejectionCode:e.message}),n(e)}})),c),g=async e=>(await c,p.delete(e),await(0,r.aB)(),u({action:r.WF.DeregisterProvider,payload:{providerType:i.lP.Storefront,id:e}},{action:r.WF.DeregisterStorefrontProvider,payload:e})),h=async()=>(await c,await(0,r.aB)(),u({action:r.WF.HideProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.HideStorefront})),y=async()=>(await c,await(0,r.aB)(),u({action:r.WF.ShowProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.ShowStorefront}))},436:(e,t,n)=>{n.d(t,{WF:()=>s,Dm:()=>a,Xl:()=>p,aB:()=>u});var o=n(678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n={clientAPIVersion:o.u0},i=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return i.onDisconnection((async()=>{t=void 0})),i})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),fin.System.openUrlWithBrowser(d(o.GX))},p=async()=>(await u(),a())},82:(e,t,n)=>{n.d(t,{R8:()=>s,X_:()=>i,lP:()=>o});var o,r=n(436);!function(e){e.Storefront="storefront",e.Dock="dock"}(o||(o={}));const i=async e=>(await(0,r.Dm)()).dispatch(r.WF.ShowProviderWindow,{providerType:e}),s=async e=>(await(0,r.Dm)()).dispatch(r.WF.HideProviderWindow,{providerType:e})},806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,o.Workspace},678:(e,t,n)=>{var o;n.d(t,{AB:()=>a,Ax:()=>i,GX:()=>u,ZK:()=>d,aW:()=>p,oC:()=>c,sS:()=>r,u0:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),p="https://cdn.openfin.co/workspace/9.0.7/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,f=(l("https://cdn.openfin.co/workspace/9.0.7"),l("https://cdn.openfin.co/workspace/9.0.7"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"9.0.7")},532:(e,t,n)=>{n.d(t,{Wn:()=>d,ck:()=>a,d9:()=>c});var o,r=n(678),i=n(121);!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:t.componentVersion||r.u0,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)},d=async e=>{s(o.Dock,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>c,JV:()=>p,OI:()=>d,iW:()=>u});var o,r,i=n(806),s=n(678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:s.oC,uuid:s.AB};const d={name:o.Home,uuid:i.q9.Workspace},u=(o.Dock,i.q9.Workspace,o.Storefront,i.q9.Workspace,{name:i.q9.Workspace,uuid:i.q9.Workspace});const p=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{ActionTrigger:()=>P.p,AppManifestType:()=>W.L,ButtonStyle:()=>C.ZJ,CLIAction:()=>k.Pt,CLIFilterOptionType:()=>k.el,CLITemplate:()=>k.yW,ContainerTemplateFragmentNames:()=>C.p6,Dock:()=>e,DockButtonNames:()=>c.v,Home:()=>h,Legacy:()=>t,PresentationTemplateFragmentNames:()=>C.Go,SearchTagBackground:()=>P.w,Storefront:()=>S,StorefrontTemplate:()=>W.T,TemplateFragmentTypes:()=>C.bI});var e={};n.r(e),n.d(e,{DockButtonNames:()=>c.v,deregister:()=>l,minimize:()=>f,register:()=>p,show:()=>w});var t={};n.r(t),n.d(t,{getPages:()=>v,getWorkspaces:()=>m});var r=n(678),i=n(532),s=n(436),a=n(82),c=n(427);let d,u=!1;const p=e=>(d=new Promise((async(t,n)=>{try{const n=await(async e=>{const t=await(0,s.Xl)();if(u)throw new Error("A dock provider for the platform is already registered.");return u=!0,e.clientAPIVersion=r.u0,t.dispatch(s.WF.RegisterProvider,{providerType:a.lP.Dock,info:e})})(e);(0,i.Wn)({allowed:!0,componentVersion:n?.workspaceVersion}),t({clientAPIVersion:r.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,i.Wn)({allowed:!1,rejectionCode:e.message}),n(e),d=null}})),d),l=async()=>{await d,u=!1;return(await(0,s.Xl)()).dispatch(s.WF.DeregisterProvider,{providerType:a.lP.Dock})},f=async()=>{await d,await(0,s.aB)(),await(0,a.R8)(a.lP.Dock)},w=async()=>{await d,await(0,s.aB)(),await(0,a.X_)(a.lP.Dock)};var g,h=n(703);n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(g||(g={}));new Map;var y;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(y||(y={}));const v=()=>async function(){return(await(0,s.Dm)()).dispatch(s.WF.GetLegacyPages,void 0)}(),m=()=>(async()=>(await(0,s.Dm)()).dispatch(s.WF.GetLegacyWorkspaces,void 0))();var S=n(528),P=n(298),C=n(109),k=n(758),W=n(114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/bootstrapper.ts":
/*!************************************!*\
  !*** ./client/src/bootstrapper.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser */ "./client/src/browser.ts");
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home */ "./client/src/home.ts");
/* harmony import */ var _integrations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./integrations */ "./client/src/integrations.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");




async function init() {
    // you can kick off your bootstrapping process here where you may decide to prompt for authentication,
    // gather reference data etc before starting workspace and interacting with it.
    console.log("Initialising the bootstrapper");
    const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_3__.getSettings)();
    await (0,_home__WEBPACK_IMPORTED_MODULE_1__.register)();
    await (0,_home__WEBPACK_IMPORTED_MODULE_1__.show)();
    await (0,_integrations__WEBPACK_IMPORTED_MODULE_2__.register)({
        launchView: _browser__WEBPACK_IMPORTED_MODULE_0__.launchView
    }, settings.integrationProvider);
    const providerWindow = fin.Window.getCurrentSync();
    await providerWindow.once("close-requested", async (event) => {
        await (0,_integrations__WEBPACK_IMPORTED_MODULE_2__.deregister)(settings.integrationProvider);
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.deregister)();
        await fin.Platform.getCurrentSync().quit();
    });
}


/***/ }),

/***/ "./client/src/browser.ts":
/*!*******************************!*\
  !*** ./client/src/browser.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "launchView": () => (/* binding */ launchView)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);

async function launchView(view, targetIdentity, targetView) {
    const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
    let viewOptions;
    if (typeof view === "string") {
        viewOptions = { url: view, target: null };
    }
    else {
        viewOptions = view;
    }
    return platform.createView(viewOptions, targetIdentity, targetView);
}


/***/ }),

/***/ "./client/src/home.ts":
/*!****************************!*\
  !*** ./client/src/home.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _integrations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integrations */ "./client/src/integrations.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");



let isHomeRegistered = false;
async function register() {
    console.log("Initialising home.");
    const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
    if (settings.homeProvider === undefined ||
        settings.homeProvider.id === undefined ||
        settings.homeProvider.title === undefined) {
        console.warn("homeProvider: not configured in the customSettings of your manifest correctly. Ensure you have the homeProvider object defined in customSettings with the following defined: id, title");
        return;
    }
    let lastResponse;
    const onUserInput = async (request, response) => {
        try {
            const query = request.query.toLowerCase();
            if (lastResponse !== undefined) {
                lastResponse.close();
            }
            lastResponse = response;
            lastResponse.open();
            const searchResults = {
                results: [],
                context: {
                    filters: []
                }
            };
            if (query === "?") {
                searchResults.results = searchResults.results.concat(await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.getHelpSearchEntries)());
            }
            else {
                const integrationResults = await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.getSearchResults)(query, undefined, lastResponse);
                if (Array.isArray(integrationResults.results)) {
                    searchResults.results = searchResults.results.concat(integrationResults.results);
                }
                if (Array.isArray(integrationResults.context.filters)) {
                    searchResults.context.filters = searchResults.context.filters.concat(integrationResults.context.filters);
                }
            }
            return searchResults;
        }
        catch (err) {
            console.error("Exception while getting search list results", err);
        }
    };
    const onSelection = async (result) => {
        if (result.data !== undefined) {
            const handled = await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.itemSelection)(result, lastResponse);
            if (!handled) {
                console.warn(`Result not handled ${result.key}`, result.data);
            }
        }
        else {
            console.warn("Unable to execute result without data being passed");
        }
    };
    const cliProvider = {
        title: settings.homeProvider.title,
        id: settings.homeProvider.id,
        icon: settings.homeProvider.icon,
        onUserInput,
        onResultDispatch: onSelection,
        dispatchFocusEvents: true
    };
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.register(cliProvider);
    isHomeRegistered = true;
    console.log("Home configured.");
}
async function show() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.show();
}
async function hide() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.hide();
}
async function deregister() {
    if (isHomeRegistered) {
        const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
        return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.deregister(settings.homeProvider.id);
    }
    console.warn("Unable to deregister home as there is an indication it was never registered");
}


/***/ }),

/***/ "./client/src/integrations.ts":
/*!************************************!*\
  !*** ./client/src/integrations.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addKnownIntegrationProvider": () => (/* binding */ addKnownIntegrationProvider),
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "getHelpSearchEntries": () => (/* binding */ getHelpSearchEntries),
/* harmony export */   "getSearchResults": () => (/* binding */ getSearchResults),
/* harmony export */   "itemSelection": () => (/* binding */ itemSelection),
/* harmony export */   "register": () => (/* binding */ register)
/* harmony export */ });
const knownIntegrationProviders = {};
const homeIntegrations = [];
/**
 * Register all the workspace integrations.
 * @param integrationManager The integration manager.
 * @param integrationProvider The integration provider settings.
 */
async function register(integrationManager, integrationProvider) {
    const integrations = integrationProvider?.integrations;
    if (Array.isArray(integrations)) {
        for (const integration of integrations) {
            if (integration.enabled) {
                if (!knownIntegrationProviders[integration.id] && integration.moduleUrl) {
                    try {
                        const mod = await import(/* webpackIgnore: true */ integration.moduleUrl);
                        knownIntegrationProviders[integration.id] = mod.integration;
                    }
                    catch (err) {
                        console.error(`Error loading module ${integration.moduleUrl}`, err);
                    }
                }
                if (knownIntegrationProviders[integration.id]) {
                    const homeIntegration = knownIntegrationProviders[integration.id];
                    homeIntegrations.push({
                        module: homeIntegration,
                        integration
                    });
                    if (homeIntegration.register) {
                        await homeIntegration.register(integrationManager, integration);
                    }
                }
                else {
                    console.error("Missing module in integration providers", integration.id);
                }
            }
        }
    }
}
/**
 * Deregister all the integrations.
 * @param integrationProvider The integration provider.
 */
async function deregister(integrationProvider) {
    for (const homeIntegration of homeIntegrations) {
        if (homeIntegration.module.deregister) {
            await homeIntegration.module.deregister(homeIntegration.integration);
        }
    }
}
/**
 * Get the search results from all the integration providers.
 * @param query The query to get the search results for.
 * @param filters The filters to apply to the search results.
 * @param lastResponse The last search response used for updating existing results.
 * @returns The search results and new filters.
 */
async function getSearchResults(query, filters, lastResponse) {
    const homeResponse = {
        results: [],
        context: {
            filters: []
        }
    };
    const promises = [];
    for (const homeIntegration of homeIntegrations) {
        if (homeIntegration.module.getSearchResults) {
            promises.push(homeIntegration.module.getSearchResults(homeIntegration.integration, query, filters, lastResponse));
        }
    }
    const promiseResults = await Promise.allSettled(promises);
    for (const promiseResult of promiseResults) {
        if (promiseResult.status === "fulfilled") {
            if (Array.isArray(promiseResult.value.results)) {
                homeResponse.results = homeResponse.results.concat(promiseResult.value.results);
            }
            const newFilters = promiseResult.value.context?.filters;
            if (Array.isArray(newFilters) && homeResponse.context?.filters) {
                homeResponse.context.filters = homeResponse.context.filters.concat(newFilters);
            }
        }
        else {
            console.error(promiseResult.reason);
        }
    }
    return homeResponse;
}
/**
 * Get the help search entries for all the integration providers.
 * @returns The list of help entries.
 */
async function getHelpSearchEntries() {
    let results = [];
    for (const homeIntegration of homeIntegrations) {
        if (homeIntegration.module.getHelpSearchEntries) {
            const integrationResults = await homeIntegration.module.getHelpSearchEntries(homeIntegration.integration);
            results = results.concat(integrationResults);
        }
    }
    return results;
}
/**
 * The item for one of the providers was selected.
 * @param result The result of the selection.
 * @param lastResponse The last response.
 * @returns True if the selection was handled.
 */
async function itemSelection(result, lastResponse) {
    if (result.data) {
        const foundIntegration = homeIntegrations.find((hi) => hi.integration.id === result.data?.providerId);
        if (foundIntegration?.module?.itemSelection) {
            const handled = await foundIntegration.module.itemSelection(foundIntegration.integration, result, lastResponse);
            if (!handled) {
                console.warn(`Error while trying to handle ${foundIntegration.integration.id} entry`, result.data);
            }
            return handled;
        }
    }
    return false;
}
/**
 * Add an integration module that was loaded manually.
 * @param id The id of the module.
 * @param module The module.
 */
function addKnownIntegrationProvider(id, module) {
    knownIntegrationProviders[id] = module;
}


/***/ }),

/***/ "./client/src/platform.ts":
/*!********************************!*\
  !*** ./client/src/platform.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./themes */ "./client/src/themes.ts");


async function init() {
    console.log("Initialising platform");
    const browser = {};
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getThemes)();
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser,
        theme
    });
}


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSettings": () => (/* binding */ getSettings)
/* harmony export */ });
let settings;
async function getConfiguredSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    if (manifest.customSettings !== undefined) {
        settings = manifest.customSettings;
    }
    else {
        settings = {};
    }
    return settings;
}
async function getSettings() {
    if (settings === undefined) {
        settings = await getConfiguredSettings();
    }
    return settings;
}


/***/ }),

/***/ "./client/src/themes.ts":
/*!******************************!*\
  !*** ./client/src/themes.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCurrentTheme": () => (/* binding */ getCurrentTheme),
/* harmony export */   "getThemes": () => (/* binding */ getThemes),
/* harmony export */   "validateThemes": () => (/* binding */ validateThemes)
/* harmony export */ });
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");

const DEFAULT_PALETTES = {
    light: {
        brandPrimary: "#504CFF",
        brandSecondary: "#1E1F23",
        backgroundPrimary: "#FAFBFE",
        background1: "#FFFFFF",
        background2: "#FAFBFE",
        background3: "#F3F5F8",
        background4: "#ECEEF1",
        background5: "#DDDFE4",
        background6: "#C9CBD2",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#ECEEF1",
        inputColor: "#1E1F23",
        inputPlaceholder: "#383A40",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#1E1F23",
        textHelp: "#2F3136",
        textInactive: "#7D808A"
    },
    dark: {
        brandPrimary: "#504CFF",
        brandSecondary: "#383A40",
        backgroundPrimary: "#1E1F23",
        background1: "#111214",
        background2: "#1E1F23",
        background3: "#24262B",
        background4: "#2F3136",
        background5: "#383A40",
        background6: "#53565F",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#53565F",
        inputColor: "#FFFFFF",
        inputPlaceholder: "#C9CBD2",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#FFFFFF",
        textHelp: "#C9CBD2",
        textInactive: "#7D808A"
    }
};
let validatedThemes;
function getSystemPreferredColorScheme() {
    if (window.matchMedia?.("(prefers-color-scheme: dark)").matches) {
        return "dark";
    }
    return "light";
}
async function getCurrentTheme() {
    const themes = await getThemes();
    if (themes.length === 0) {
        return {
            label: "default",
            palette: DEFAULT_PALETTES.dark
        };
    }
    return themes[0];
}
async function getThemes() {
    if (!validatedThemes) {
        const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_0__.getSettings)();
        validatedThemes = validateThemes(settings?.themeProvider?.themes);
    }
    return validatedThemes.slice();
}
function validateThemes(themes) {
    const customThemes = [];
    if (Array.isArray(themes)) {
        const preferredColorScheme = getSystemPreferredColorScheme();
        for (let i = 0; i < themes.length; i++) {
            const themeToValidate = themes[i];
            const palette = validatePalette(themeToValidate.palette, themeToValidate.label);
            if (palette !== null) {
                themeToValidate.palette = palette;
            }
            else {
                // don't pass an empty object as there are no theme properties
                themeToValidate.palette = undefined;
            }
            if (themeToValidate.label.toLowerCase() === preferredColorScheme) {
                console.log(`Found a theme that matches system color scheme preferences and making it the default theme: ${preferredColorScheme}`);
                customThemes.unshift(themeToValidate);
            }
            else {
                customThemes.push(themeToValidate);
            }
        }
    }
    return customThemes;
}
function validatePalette(themePalette, themeLabel) {
    if (!themePalette) {
        return null;
    }
    const keys = Object.keys(themePalette);
    if (keys.length === 0) {
        return null;
    }
    const palette = {
        ...DEFAULT_PALETTES.dark
    };
    for (const key of keys) {
        if (themePalette[key] !== undefined &&
            themePalette[key] !== null &&
            themePalette[key].trim().length > 0) {
            palette[key] = themePalette[key];
        }
    }
    const brandPrimaryKey = "brandPrimary";
    const brandSecondaryKey = "brandSecondary";
    const backgroundPrimaryKey = "backgroundPrimary";
    if (!themePalette[brandPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    if (!themePalette[brandSecondaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandSecondaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandSecondary}`);
    }
    if (!themePalette[backgroundPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${backgroundPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    return palette;
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrapper */ "./client/src/bootstrapper.ts");
/* harmony import */ var _platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform */ "./client/src/platform.ts");


window.addEventListener("DOMContentLoaded", async () => {
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => (0,_bootstrapper__WEBPACK_IMPORTED_MODULE_0__.init)());
    await (0,_platform__WEBPACK_IMPORTED_MODULE_1__.init)();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7Ozs7Ozs7Ozs7O0FDTm1EO0FBQ0s7QUFFeEQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLEtBQUssSUFBSSxFQUFFO0lBQ3RELE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDL0MsTUFBTSxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLEtBQUssSUFBSSxFQUFFLENBQUMsbURBQVMsRUFBRSxDQUFDLENBQUM7SUFDbkUsTUFBTSwrQ0FBa0IsRUFBRSxDQUFDO0FBQzVCLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXJzcy8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1yc3MvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzLy4vY2xpZW50L3NyYy9ib290c3RyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXJzcy8uL2NsaWVudC9zcmMvYnJvd3Nlci50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzLy4vY2xpZW50L3NyYy9ob21lLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1yc3MvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzLy4vY2xpZW50L3NyYy9wbGF0Zm9ybS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzLy4vY2xpZW50L3NyYy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzLy4vY2xpZW50L3NyYy90aGVtZXMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXJzcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1yc3Mvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1yc3Mvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtcnNzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLXJzcy8uL2NsaWVudC9zcmMvcHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUgaW5kZXguanMuTElDRU5TRS50eHQgKi9cbigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs1MjU6ZT0+e3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtmdW5jdGlvbiBvKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO3ZhciBlPW5ldyBTdHJpbmcoXCJhYmNcIik7aWYoZVs1XT1cImRlXCIsXCI1XCI9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKVswXSlyZXR1cm4hMTtmb3IodmFyIHQ9e30sYT0wO2E8MTA7YSsrKXRbXCJfXCIrU3RyaW5nLmZyb21DaGFyQ29kZShhKV09YTtpZihcIjAxMjM0NTY3ODlcIiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgbj17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bltlXT1lfSkpLFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIj09PU9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sbikpLmpvaW4oXCJcIil9Y2F0Y2goZSl7cmV0dXJuITF9fSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oZSxyKXtmb3IodmFyIGkscyxjPW8oZSksZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe2Zvcih2YXIgcCBpbiBpPU9iamVjdChhcmd1bWVudHNbZF0pKWEuY2FsbChpLHApJiYoY1twXT1pW3BdKTtpZih0KXtzPXQoaSk7Zm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspbi5jYWxsKGksc1tsXSkmJihjW3NbbF1dPWlbc1tsXV0pfX1yZXR1cm4gY319LDUzNTooZSx0LGEpPT57dmFyIG49YSg1MjUpLG89NjAxMDMscj02MDEwNjt2YXIgaT02MDEwOSxzPTYwMTEwLGM9NjAxMTI7dmFyIGQ9NjAxMTUscD02MDExNjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Ipe3ZhciBsPVN5bWJvbC5mb3I7bz1sKFwicmVhY3QuZWxlbWVudFwiKSxyPWwoXCJyZWFjdC5wb3J0YWxcIiksbChcInJlYWN0LmZyYWdtZW50XCIpLGwoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxsKFwicmVhY3QucHJvZmlsZXJcIiksaT1sKFwicmVhY3QucHJvdmlkZXJcIikscz1sKFwicmVhY3QuY29udGV4dFwiKSxjPWwoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxsKFwicmVhY3Quc3VzcGVuc2VcIiksZD1sKFwicmVhY3QubWVtb1wiKSxwPWwoXCJyZWFjdC5sYXp5XCIpfXZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yO2Z1bmN0aW9uIHcoZSl7Zm9yKHZhciB0PVwiaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2Vycm9yLWRlY29kZXIuaHRtbD9pbnZhcmlhbnQ9XCIrZSxhPTE7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyl0Kz1cIiZhcmdzW109XCIrZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1thXSk7cmV0dXJuXCJNaW5pZmllZCBSZWFjdCBlcnJvciAjXCIrZStcIjsgdmlzaXQgXCIrdCtcIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuXCJ9dmFyIGY9e2lzTW91bnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbigpe319LGc9e307ZnVuY3Rpb24geShlLHQsYSl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10LHRoaXMucmVmcz1nLHRoaXMudXBkYXRlcj1hfHxmfWZ1bmN0aW9uIGgoKXt9ZnVuY3Rpb24gbShlLHQsYSl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10LHRoaXMucmVmcz1nLHRoaXMudXBkYXRlcj1hfHxmfXkucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e30seS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9ZSl0aHJvdyBFcnJvcih3KDg1KSk7dGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLGUsdCxcInNldFN0YXRlXCIpfSx5LnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsZSxcImZvcmNlVXBkYXRlXCIpfSxoLnByb3RvdHlwZT15LnByb3RvdHlwZTt2YXIgdj1tLnByb3RvdHlwZT1uZXcgaDt2LmNvbnN0cnVjdG9yPW0sbih2LHkucHJvdG90eXBlKSx2LmlzUHVyZVJlYWN0Q29tcG9uZW50PSEwO3ZhciBTPXtjdXJyZW50Om51bGx9LFA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxiPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07ZnVuY3Rpb24gayhlLHQsYSl7dmFyIG4scj17fSxpPW51bGwscz1udWxsO2lmKG51bGwhPXQpZm9yKG4gaW4gdm9pZCAwIT09dC5yZWYmJihzPXQucmVmKSx2b2lkIDAhPT10LmtleSYmKGk9XCJcIit0LmtleSksdClQLmNhbGwodCxuKSYmIWIuaGFzT3duUHJvcGVydHkobikmJihyW25dPXRbbl0pO3ZhciBjPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09YylyLmNoaWxkcmVuPWE7ZWxzZSBpZigxPGMpe2Zvcih2YXIgZD1BcnJheShjKSxwPTA7cDxjO3ArKylkW3BdPWFyZ3VtZW50c1twKzJdO3IuY2hpbGRyZW49ZH1pZihlJiZlLmRlZmF1bHRQcm9wcylmb3IobiBpbiBjPWUuZGVmYXVsdFByb3BzKXZvaWQgMD09PXJbbl0mJihyW25dPWNbbl0pO3JldHVybnskJHR5cGVvZjpvLHR5cGU6ZSxrZXk6aSxyZWY6cyxwcm9wczpyLF9vd25lcjpTLmN1cnJlbnR9fWZ1bmN0aW9uIFcoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09b312YXIgQz0vXFwvKy9nO2Z1bmN0aW9uIEkoZSx0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPWUua2V5P2Z1bmN0aW9uKGUpe3ZhciB0PXtcIj1cIjpcIj0wXCIsXCI6XCI6XCI9MlwifTtyZXR1cm5cIiRcIitlLnJlcGxhY2UoL1s9Ol0vZywoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9KFwiXCIrZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIEEoZSx0LGEsbixpKXt2YXIgcz10eXBlb2YgZTtcInVuZGVmaW5lZFwiIT09cyYmXCJib29sZWFuXCIhPT1zfHwoZT1udWxsKTt2YXIgYz0hMTtpZihudWxsPT09ZSljPSEwO2Vsc2Ugc3dpdGNoKHMpe2Nhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOmM9ITA7YnJlYWs7Y2FzZVwib2JqZWN0XCI6c3dpdGNoKGUuJCR0eXBlb2Ype2Nhc2UgbzpjYXNlIHI6Yz0hMH19aWYoYylyZXR1cm4gaT1pKGM9ZSksZT1cIlwiPT09bj9cIi5cIitJKGMsMCk6bixBcnJheS5pc0FycmF5KGkpPyhhPVwiXCIsbnVsbCE9ZSYmKGE9ZS5yZXBsYWNlKEMsXCIkJi9cIikrXCIvXCIpLEEoaSx0LGEsXCJcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkpOm51bGwhPWkmJihXKGkpJiYoaT1mdW5jdGlvbihlLHQpe3JldHVybnskJHR5cGVvZjpvLHR5cGU6ZS50eXBlLGtleTp0LHJlZjplLnJlZixwcm9wczplLnByb3BzLF9vd25lcjplLl9vd25lcn19KGksYSsoIWkua2V5fHxjJiZjLmtleT09PWkua2V5P1wiXCI6KFwiXCIraS5rZXkpLnJlcGxhY2UoQyxcIiQmL1wiKStcIi9cIikrZSkpLHQucHVzaChpKSksMTtpZihjPTAsbj1cIlwiPT09bj9cIi5cIjpuK1wiOlwiLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBwPW4rSShzPWVbZF0sZCk7Yys9QShzLHQsYSxwLGkpfWVsc2UgaWYocD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YoZT11JiZlW3VdfHxlW1wiQEBpdGVyYXRvclwiXSk/ZTpudWxsfShlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBwKWZvcihlPXAuY2FsbChlKSxkPTA7IShzPWUubmV4dCgpKS5kb25lOyljKz1BKHM9cy52YWx1ZSx0LGEscD1uK0kocyxkKyspLGkpO2Vsc2UgaWYoXCJvYmplY3RcIj09PXMpdGhyb3cgdD1cIlwiK2UsRXJyb3IodygzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09dD9cIm9iamVjdCB3aXRoIGtleXMge1wiK09iamVjdC5rZXlzKGUpLmpvaW4oXCIsIFwiKStcIn1cIjp0KSk7cmV0dXJuIGN9ZnVuY3Rpb24gTShlLHQsYSl7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgbj1bXSxvPTA7cmV0dXJuIEEoZSxuLFwiXCIsXCJcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2FsbChhLGUsbysrKX0pKSxufWZ1bmN0aW9uIE8oZSl7aWYoLTE9PT1lLl9zdGF0dXMpe3ZhciB0PWUuX3Jlc3VsdDt0PXQoKSxlLl9zdGF0dXM9MCxlLl9yZXN1bHQ9dCx0LnRoZW4oKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJih0PXQuZGVmYXVsdCxlLl9zdGF0dXM9MSxlLl9yZXN1bHQ9dCl9KSwoZnVuY3Rpb24odCl7MD09PWUuX3N0YXR1cyYmKGUuX3N0YXR1cz0yLGUuX3Jlc3VsdD10KX0pKX1pZigxPT09ZS5fc3RhdHVzKXJldHVybiBlLl9yZXN1bHQ7dGhyb3cgZS5fcmVzdWx0fXZhciBUPXtjdXJyZW50Om51bGx9O2Z1bmN0aW9uIEUoKXt2YXIgZT1ULmN1cnJlbnQ7aWYobnVsbD09PWUpdGhyb3cgRXJyb3IodygzMjEpKTtyZXR1cm4gZX19LDM3ODooZSx0LGEpPT57YSg1MzUpfX0sdD17fTtmdW5jdGlvbiBhKG4pe3ZhciBvPXRbbl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciByPXRbbl09e2V4cG9ydHM6e319O3JldHVybiBlW25dKHIsci5leHBvcnRzLGEpLHIuZXhwb3J0c31hLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClhLm8odCxuKSYmIWEubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGEubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksYS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbj17fTsoKCk9Pnt2YXIgZSx0LG8scixpLHMsYyxkO2EucihuKSxhLmQobix7QXBwTWFuaWZlc3RUeXBlOigpPT5jLEJyb3dzZXJCdXR0b25UeXBlOigpPT5nLEN1c3RvbUFjdGlvbkNhbGxlclR5cGU6KCk9PmgsR2xvYmFsQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT51LFBhZ2VUYWJDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PncsU2F2ZUJ1dHRvbkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+eSxTYXZlTW9kYWxUeXBlOigpPT5tLFZpZXdUYWJNZW51T3B0aW9uVHlwZTooKT0+ZixnZXRDdXJyZW50U3luYzooKT0+VXQsaW5pdDooKT0+Q24sd3JhcFN5bmM6KCk9PkR0fSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHR8fCh0PXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KGR8fChkPXt9KSk7dmFyIHAsbCx1LHcsZixnLHksaCxtLHY7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShwfHwocD17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuUmVzdG9yZUNoYW5nZXM9XCJSZXN0b3JlQ2hhbmdlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVuYW1lV29ya3NwYWNlPVwiUmVuYW1lV29ya3NwYWNlXCIsZS5Td2l0Y2hXb3Jrc3BhY2U9XCJTd2l0Y2hXb3Jrc3BhY2VcIixlLkRlbGV0ZVdvcmtzcGFjZT1cIkRlbGV0ZVdvcmtzcGFjZVwiLGUuT3BlblN0b3JlZnJvbnQ9XCJPcGVuU3RvcmVmcm9udFwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5DdXN0b209XCJDdXN0b21cIn0od3x8KHc9e30pKSxmdW5jdGlvbihlKXtlLk5ld1ZpZXc9XCJOZXdWaWV3XCIsZS5EdXBsaWNhdGVWaWV3cz1cIkR1cGxpY2F0ZVZpZXdcIixlLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI9XCJPcGVuV2l0aERlZmF1bHRCcm93c2VyXCIsZS5SZWxvYWRWaWV3cz1cIlJlbG9hZFRhYlwiLGUuQ2xvc2VWaWV3cz1cIkNsb3NlVGFiXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwiUmVtb3ZlRnJvbUNoYW5uZWxcIixlLkN1c3RvbT1cIkN1c3RvbVwifShmfHwoZj17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5Db2xvckxpbmtpbmc9XCJDb2xvckxpbmtpbmdcIixlLlByZXNldExheW91dHM9XCJQcmVzZXRMYXlvdXRzXCIsZS5Mb2NrVW5sb2NrUGFnZT1cIkxvY2tVbmxvY2tQYWdlXCIsZS5TYXZlTWVudT1cIlNhdmVNZW51XCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5NaW5pbWlzZT1cIk1pbmltaXNlXCIsZS5NYXhpbWlzZT1cIk1heGltaXNlXCIsZS5DbG9zZT1cIkNsb3NlXCIsZS5DdXN0b209XCJDdXN0b21cIn0oZ3x8KGc9e30pKSxmdW5jdGlvbihlKXtlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5DdXN0b209XCJDdXN0b21cIn0oeXx8KHk9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbUJ1dHRvbj1cIkN1c3RvbUJ1dHRvblwiLGUuQ3VzdG9tRHJvcGRvd25JdGVtPVwiQ3VzdG9tRHJvcGRvd25JdGVtXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PVwiU2F2ZUJ1dHRvbkNvbnRleHRNZW51XCIsZS5BUEk9XCJBUElcIn0oaHx8KGg9e30pKSxmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifShtfHwobT17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0odnx8KHY9e30pKTtjb25zdCBTPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sUD0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxiPVAmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREIsaz1QP3dpbmRvdy5vcmlnaW46di5Mb2NhbCxXPVMmJmZpbi5tZS51dWlkLEM9UyYmZmluLm1lLm5hbWUsST1TJiZmaW4ubWUuZW50aXR5VHlwZSxBPSh2LkxvY2FsLHYuRGV2LHYuU3RhZ2luZyx2LlByb2QsZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTprK2UpLE09KEEoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuN1wiKSxBKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjdcIikpLE89KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJkEoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmQShXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjI2LjEwMi43MS41XCIpLFQ9XCI5LjAuN1wiO3ZhciBFLEIseDshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0oRXx8KEU9e30pKSxmdW5jdGlvbihlKXtlLlJ1blJlcXVlc3RlZD1cInJ1bi1yZXF1ZXN0ZWRcIixlLldpbmRvd09wdGlvbnNDaGFuZ2VkPVwid2luZG93LW9wdGlvbnMtY2hhbmdlZFwiLGUuV2luZG93Q2xvc2VkPVwid2luZG93LWNsb3NlZFwiLGUuV2luZG93Q3JlYXRlZD1cIndpbmRvdy1jcmVhdGVkXCJ9KEJ8fChCPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifSh4fHwoeD17fSkpO2NvbnN0IFI9e3V1aWQ6V30sXz0oRS5Xb3Jrc3BhY2UsZT0+e2lmKCFTKXRocm93IG5ldyBFcnJvcihcImdldEFwcGxpY2F0aW9uIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpfSksTD0oKT0+XyhSKTt2YXIgVixEOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KFZ8fChWPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZWQ9XCJjbG9zZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShEfHwoRD17fSkpO2Z1bmN0aW9uIFUoZSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgRj17bmFtZTpDLHV1aWQ6V307ZnVuY3Rpb24gRygpe3JldHVybiBVKEYpfVYuSG9tZSxFLldvcmtzcGFjZSxWLkRvY2ssRS5Xb3Jrc3BhY2U7Y29uc3QgJD17bmFtZTpWLlN0b3JlZnJvbnQsdXVpZDpFLldvcmtzcGFjZX07RS5Xb3Jrc3BhY2UsRS5Xb3Jrc3BhY2U7YXN5bmMgZnVuY3Rpb24gTihlKXtjb25zdCB0PVUoZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5zZXRBc0ZvcmVncm91bmQoKX1jb25zdCBqPWU9PmUuc3RhcnRzV2l0aChWLkJyb3dzZXJXaW5kb3cpO2FzeW5jIGZ1bmN0aW9uIEgoKXtyZXR1cm4oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbHRlcigoZT0+aihlLmlkZW50aXR5Lm5hbWUpKSl9Y29uc3QgcT1lPT5VKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSksSz0oKT0+cSgkKTt2YXIgUTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wifShRfHwoUT17fSkpO2NvbnN0IHo9YXN5bmMoZSx0KT0+e2NvbnN0IGE9e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxULGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOnQuY29tcG9uZW50VmVyc2lvbnx8VCxhbGxvd2VkOnQuYWxsb3dlZCxyZWplY3Rpb25Db2RlOnQucmVqZWN0aW9uQ29kZX07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwid29ya3NwYWNlLWxpY2Vuc2luZ1wiLGRhdGE6YX0pfTthKDM3OCk7Y29uc3QgSj1lPT5maW4uU3lzdGVtLmdldFN5c3RlbUFwcENvbmZpZyhlKTtsZXQgWDthc3luYyBmdW5jdGlvbiBZKCl7aWYoWClyZXR1cm4gWDtpZighUylyZXR1cm57fTtjb25zdCBlPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7aWYoUyl0cnl7bGV0IGU9YXdhaXQgSihcIndvcmtzcGFjZVwiKS5jYXRjaCgoZT0+e30pKTtyZXR1cm4gZXx8KGU9YXdhaXQgSihcImhvbWVcIikpLGV9Y2F0Y2goZSl7fX0oKSx0PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3R7bWFuaWZlc3Q6ZSxpbml0aWFsT3B0aW9uczp0fT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRJbmZvKCk7cmV0dXJuIGU/LndvcmtzcGFjZXx8ZT8uaG9tZXx8dD8ud29ya3NwYWNlfHx0Py5ob21lLGU/LndvcmtzcGFjZT9lPy53b3Jrc3BhY2U6ZT8uaG9tZT9lPy5ob21lOnQ/LndvcmtzcGFjZT90Py53b3Jrc3BhY2U6dD8uaG9tZT90Py5ob21lOnZvaWQgMH0oKTtyZXR1cm4gWD17Li4udCwuLi5lfSxYfXZhciBaOyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCJ9KFp8fChaPXt9KSk7Y29uc3QgZWU9Wix0ZT0oZSx0KT0+e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGAke1d9LSR7ZX1gLHQpfSxhZT1lPT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtXfS0ke2V9YCk7dmFyIG5lOyFmdW5jdGlvbihlKXtlLkxhdW5jaEFwcD1cImxhdW5jaEFwcFwiLGUuU2F2ZVBhZ2U9XCJzYXZlUGFnZVwiLGUuR2V0U2F2ZWRQYWdlPVwiZ2V0U2F2ZWRQYWdlXCIsZS5DcmVhdGVTYXZlZFBhZ2U9XCJjcmVhdGVTYXZlZFBhZ2VcIixlLlVwZGF0ZVNhdmVkUGFnZT1cInVwZGF0ZVNhdmVkUGFnZVwiLGUuRGVsZXRlU2F2ZWRQYWdlPVwiZGVsZXRlU2F2ZWRQYWdlXCIsZS5HZXRTYXZlZFBhZ2VzPVwiZ2V0U2F2ZWRQYWdlc1wiLGUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJjcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJ1cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJkZWxldGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuU2hhcmVQYWdlPVwic2hhcmVQYWdlXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwiLGUuSXNCcm93c2VySW5pdGlhbGl6ZWQ9XCJpc0Jyb3dzZXJJbml0aWFsaXplZFwifShuZXx8KG5lPXt9KSk7Y29uc3Qgb2U9YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLHJlPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IG9lKGUpLGE9XCJUYXJnZXQgaXMgbm90IGEgV29ya3NwYWNlIFBsYXRmb3JtLiBUYXJnZXQgbXVzdCBjYWxsIFdvcmtzcGFjZVBsYXRmb3JtLmluaXRcIjtsZXQgbjt0cnl7bj1hd2FpdCB0LmRpc3BhdGNoKFwiaXNXb3Jrc3BhY2VQbGF0Zm9ybVwiKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoITAhPT1uPy5pc1dvcmtzcGFjZVBsYXRmb3JtKXRocm93IG5ldyBFcnJvcihhKTtyZXR1cm4gbn0saWU9YXN5bmMgZT0+KGF3YWl0IHJlKGUpLG9lKGUpKSxzZT1hc3luYyBlPT57aWYoITAhPT0oYXdhaXQgcmUoZSkpPy5pc0Jyb3dzZXJJbml0aWFsaXplZCl0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgaXMgbm90IGEgQnJvd3Nlci1lbmFibGVkIFdvcmtzcGFjZSBQbGF0Zm9ybS5cIik7cmV0dXJuIG9lKGUpfSxjZT0oZSx0KT0+IXQuZmluZCgodD0+dD09PWUpKSxkZT0oZSx0KT0+YCR7ZX0gKCR7dH0pYCxwZT0oZSx0KT0+e2xldCBhPTE7Y29uc3Qgbj1lLnJlcGxhY2UoLyBcXCguK1xcKSQvLFwiXCIpO2Zvcig7IWNlKGRlKG4sYSksdCk7KWErPTE7cmV0dXJuIGRlKG4sYSl9O2FzeW5jIGZ1bmN0aW9uIGxlKGUpe3RyeXtjb25zdCB0PVV0KCk7YXdhaXQgdC5hcHBseVNuYXBzaG90KGUuc25hcHNob3Qse2Nsb3NlRXhpc3RpbmdXaW5kb3dzOiEwfSksdWUoZSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiB1ZShlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO3RlKGVlLkN1cnJlbnRXb3Jrc3BhY2VJZCx0KX1jYXRjaChlKXt9fWFzeW5jIGZ1bmN0aW9uIHdlKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZSlyZXR1cm47Y29uc3QgZT1VdCgpLHQ9YXdhaXQgZS5nZXRTbmFwc2hvdCgpO3JldHVybnt3b3Jrc3BhY2VJZDpjcnlwdG8ucmFuZG9tVVVJRCgpLHRpdGxlOmF3YWl0IHllKCksbWV0YWRhdGE6e0FQSVZlcnNpb246VH0sc25hcHNob3Q6dH19YXN5bmMgZnVuY3Rpb24gZmUoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybjtjb25zdCBlPWFlKGVlLkN1cnJlbnRXb3Jrc3BhY2VJZCk7aWYoIWUpcmV0dXJuIHdlKCk7Y29uc3QgdD1KU09OLnBhcnNlKGUpLGE9VXQoKSxuPWF3YWl0IGEuZ2V0U25hcHNob3QoKTtyZXR1cm57Li4udCxtZXRhZGF0YTp7QVBJVmVyc2lvbjpUfSxzbmFwc2hvdDpufX1jb25zdCBnZT1hc3luYyBlPT5hd2FpdChhc3luYyBlPT4oYXdhaXQgaWUoRikpLmRpc3BhdGNoKG5lLkdldFNhdmVkV29ya3NwYWNlLGUpKShlLndvcmtzcGFjZUlkKT8oYXN5bmMgZT0+KGF3YWl0IGllKEYpKS5kaXNwYXRjaChuZS5VcGRhdGVTYXZlZFdvcmtzcGFjZSxlKSkoe3dvcmtzcGFjZUlkOmUud29ya3NwYWNlSWQsd29ya3NwYWNlOmV9KTooYXN5bmMgZT0+KGF3YWl0IGllKEYpKS5kaXNwYXRjaChuZS5DcmVhdGVTYXZlZFdvcmtzcGFjZSxlKSkoe3dvcmtzcGFjZTplfSk7YXN5bmMgZnVuY3Rpb24geWUoZT1cIlVudGl0bGVkIFdvcmtzcGFjZVwiKXtjb25zdCB0PShhd2FpdChhc3luYygpPT4oYXdhaXQgaWUoRikpLmRpc3BhdGNoKG5lLkdldFNhdmVkV29ya3NwYWNlcyx2b2lkIDApKSgpKS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIHQuZmluZCgodD0+dD09PWUpKT9wZShlLHQpOmV9YXN5bmMgZnVuY3Rpb24gaGUoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCBlPWFlKGVlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9SlNPTi5wYXJzZShlKTtpZihhd2FpdCBxKHQpKXJldHVybiB0fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGdldCBsYXN0IGZvY3VzZWQgYnJvd3NlciB3aW5kb3c6ICR7ZX1gKX19ZnVuY3Rpb24gbWUoZT1maW4ubWUuaWRlbnRpdHkpe2ooZS5uYW1lKSYmZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTt0ZShlZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdCl9Y2F0Y2goZSl7fX0oZSl9Y29uc3QgdmU9KGUsdD0wKT0+e2xldCBhLG4sbz0hMTtjb25zdCByPWFzeW5jIG49Pntjb25zdCBpPWF3YWl0IGUoLi4ubik7aWYobyl7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSx0KSkpO2NvbnN0IGU9YTtyZXR1cm4gYT12b2lkIDAsbz0hMSxyKGUpfXJldHVybiBpfTtyZXR1cm4oLi4uZSk9PihuPyhvPSEwLGE9ZSk6bj1yKGUpLmNhdGNoKChlPT57dGhyb3cgZX0pKS5maW5hbGx5KCgoKT0+e249dm9pZCAwfSkpLG4pfTt2YXIgU2U7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifShTZXx8KFNlPXt9KSk7Y29uc3QgUGU9KGUsdCk9PmUuY29udGVudD97Li4uZSxjb250ZW50OmUuY29udGVudC5tYXAoKGU9PlBlKGUsdCkpKX06ey4uLmUsY29tcG9uZW50U3RhdGU6dChlLmNvbXBvbmVudFN0YXRlKX0sYmU9ZT0+KHsuLi5lLG5hbWU6ZS5uYW1lP2UubmFtZTpjcnlwdG8ucmFuZG9tVVVJRCgpfSksa2U9ZT0+e2NvbnN0IHQ9W107cmV0dXJuKGUmJkFycmF5LmlzQXJyYXkoZSk/ZTpbXSkuZm9yRWFjaCgoZT0+e2lmKFwiY29tcG9uZW50XCI9PT1lLnR5cGUpcmV0dXJuIHQucHVzaChlLmNvbXBvbmVudFN0YXRlKTtjb25zdCBhPWtlKGUuY29udGVudCk7dC5wdXNoKC4uLmEpfSkpLHR9LFdlPWFzeW5jKGUsdCxhPUYpPT57bGV0IG47aWYoaihhLm5hbWUpKXtuPShhd2FpdCBVKGEpLmdldE9wdGlvbnMoKSkubGF5b3V0fHx7c2V0dGluZ3M6e319fXJldHVybnsuLi5uLGNvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3RpdGxlOmUsdXJsOnR9fV19XX19O25ldyBNYXA7ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gYXN5bmMoYSwuLi5uKT0+e2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSksdCYmYXdhaXQgdCh7ZXZlbnQ6YSxwYXlsb2FkOm59KX19ZnVuY3Rpb24gSWUoZSx0KXtyZXR1cm4gdCYmdCgodD0+e2NvbnN0e2V2ZW50OmEscGF5bG9hZDpufT10O2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSl9KSksKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KS5hZGQoYSl9fWZ1bmN0aW9uIEFlKGUpe3JldHVybih0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCk7Y29uc3Qgbj1lLmdldCh0KSxvPSguLi5lKT0+e2EoLi4uZSksbi5kZWxldGUobyl9O24uYWRkKG8pfX1mdW5jdGlvbiBNZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5kZWxldGUoYSl9fWNvbnN0IE9lPVAmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO2Z1bmN0aW9uIFRlKGUpe2xldCB0O3JldHVybigpPT57aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgT2U7Y29uc3QgYT17Y2xpZW50QVBJVmVyc2lvbjpUfSxuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHtwYXlsb2FkOmF9KTtyZXR1cm4gbi5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9Pnt0PXZvaWQgMH0pKSxufSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKGE9Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHthfWApfSkpKSx0fX1jb25zdCBFZT1lPT5gX19icm93c2VyX3dpbmRvd19fLSR7ZS51dWlkfS0ke2UubmFtZX1gLEJlPW5ldyBNYXAseGU9ZT0+e2NvbnN0IHQ9RWUoZSk7cmV0dXJuIEJlLmhhcyh0KXx8QmUuc2V0KHQsVGUodCkpLEJlLmdldCh0KSgpfTt2YXIgUmUsX2U7IWZ1bmN0aW9uKGUpe2UuQ2xvc2VCcm93c2VyV2luZG93PVwiY2xvc2UtYnJvd3Nlci13aW5kb3dcIixlLlF1aXRQbGF0Zm9ybT1cInF1aXQtcGxhdGZvcm1cIixlLkNsb3NlUGFnZT1cImNsb3NlLXBhZ2VcIixlLkFkZFRvQ2hhbm5lbD1cImFkZC10by1jaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cInJlbW92ZS1mcm9tLWNoYW5uZWxcIixlLk9wZW5TYXZlTW9kYWxJbnRlcm5hbD1cIm9wZW4tc2F2ZS1tb2RhbC1pbnRlcm5hbFwiLGUuRHVwbGljYXRlUGFnZT1cImR1cGxpY2F0ZS1wYWdlXCJ9KFJlfHwoUmU9e30pKSxmdW5jdGlvbihlKXtlLkdldFBhZ2VzPVwiZ2V0LXBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlRm9yV2luZG93PVwiZ2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2gtcGFnZXMtdG8td2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2gtcGFnZXMtZnJvbS13aW5kb3dcIixlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJzZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuUmVuYW1lUGFnZT1cInJlbmFtZS1wYWdlXCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyLXBhZ2VzLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGUtcGFnZS1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnM9XCJ1cGRhdGUtcGFnZXMtd2luZG93LW9wdGlvbnNcIixlLklzRGV0YWNoaW5nUGFnZXM9XCJpcy1kZXRhY2hpbmctcGFnZXNcIixlLklzQWN0aXZlUGFnZUNoYW5naW5nPVwiaXMtYWN0aXZlLXBhZ2UtY2hhbmdpbmdcIn0oX2V8fChfZT17fSkpO2NvbnN0IExlPXsuLi5SZSwuLi5fZX07dmFyIFZlOyFmdW5jdGlvbihlKXtlLkF0dGFjaGVkUGFnZXNUb1dpbmRvdz1cImF0dGFjaGVkLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoZWRQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2hlZC1wYWdlcy1mcm9tLXdpbmRvd1wifShWZXx8KFZlPXt9KSk7bmV3IE1hcDtjb25zdCBEZT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCB4ZShlKTtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChMZS5HZXRQYWdlcyl9LFVlPWFzeW5jIGU9Pihhd2FpdCB4ZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goTGUuVXBkYXRlUGFnZUZvcldpbmRvdyxlKSxGZT1hc3luYygpPT57Y29uc3QgZT1hd2FpdCBIKCk7cmV0dXJuKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKChhc3luYyh7aWRlbnRpdHk6ZX0pPT5EZShlKSkpKSkucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodCkpLFtdKX0sR2U9YXN5bmMoKT0+KGF3YWl0IGllKEYpKS5kaXNwYXRjaChuZS5HZXRTYXZlZFBhZ2VzLHZvaWQgMCksJGU9YXN5bmMgZT0+KGF3YWl0IGllKEYpKS5kaXNwYXRjaChuZS5HZXRTYXZlZFBhZ2UsZSksTmU9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoYXN5bmMgZT0+KGF3YWl0IEZlKCkpLmZpbmQoKHQ9PnQucGFnZUlkPT09ZSkpKShlKTtyZXR1cm4hYXx8YS50aXRsZT09PXQudGl0bGUmJmU9PT10LnBhZ2VJZHx8YXdhaXQgVWUoe2lkZW50aXR5OmEucGFyZW50SWRlbnRpdHkscGFnZUlkOmUscGFnZTp7cGFnZUlkOnQucGFnZUlkLHRpdGxlOnQudGl0bGV9fSksYX0samU9YXN5bmMoe3BhZ2U6ZX0pPT57YXdhaXQgTmUoZS5wYWdlSWQsZSksYXdhaXQoYXN5bmMgZT0+KGF3YWl0IGllKEYpKS5kaXNwYXRjaChuZS5DcmVhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlOmV9KX0sSGU9YXN5bmMgZT0+e2F3YWl0ICRlKGUpJiZhd2FpdChhc3luYyBlPT4oYXdhaXQgaWUoRikpLmRpc3BhdGNoKG5lLkRlbGV0ZVNhdmVkUGFnZSxlKSkoZSl9LHFlPWFzeW5jKHtwYWdlSWQ6ZSxwYWdlOnR9KT0+e2F3YWl0IE5lKGUsdCk7cmV0dXJuIGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBpZShGKSkuZGlzcGF0Y2gobmUuVXBkYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZUlkOmUscGFnZTp0fSl9LEtlPWFzeW5jIGU9PmF3YWl0ICRlKGUucGFnZUlkKT9xZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6ZX0pOmplKHtwYWdlOmV9KSxRZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHhlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChMZS5BdHRhY2hQYWdlc1RvV2luZG93LGUpKShlKX0semU9YXN5bmMgZT0+e2F3YWl0IFVlKGUpfSxKZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHhlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChMZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3csZSkpKGUpfSxYZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHhlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChMZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93LGUpKShlKX0sWWU9ZT0+RGUoZSksWmU9YXN5bmMoe2lkZW50aXR5OmUscGFnZUlkOnR9KT0+KGF3YWl0IFllKGUpKS5maW5kKChlPT5lLnBhZ2VJZD09PXQpKSxldD1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHhlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChMZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csZSkpKGUpfTthc3luYyBmdW5jdGlvbiB0dChlPVwiVW50aXRsZWQgUGFnZVwiKXtjb25zdFt0LGFdPWF3YWl0IFByb21pc2UuYWxsKFtHZSgpLEZlKCldKSxuPVsuLi50LC4uLmFdLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtyZXR1cm4gbi5maW5kKCh0PT50PT09ZSkpP3BlKGUsbik6ZX1jb25zdCBhdD1uZXcgTWFwLG50PWU9PmAke2UudXVpZH0tJHtlLm5hbWV9YDtjb25zdCBvdD12ZSgoYXN5bmMgZnVuY3Rpb24oKXtsZXQgZT1bXTt0cnl7ZT1hd2FpdCBGZSgpfWNhdGNoKGUpe3JldHVybiB2b2lkIGF0LmZvckVhY2goKChlLHQpPT57Y2xlYXJUaW1lb3V0KGUpLGF0LmRlbGV0ZSh0KX0pKX1jb25zdCB0PW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57a2UoZS5sYXlvdXQuY29udGVudCkuZm9yRWFjaCgoZT0+e2lmKGUubmFtZSl7Y29uc3QgYT1udChlKTt0LmFkZChhKX19KSl9KSk7Y29uc3QgYT1HKCk7KGF3YWl0IGEuZ2V0Q3VycmVudFZpZXdzKCkpLmZvckVhY2goKCh7aWRlbnRpdHk6ZX0pPT57Y29uc3QgYT1udChlKTtpZih0LmhhcyhhKXx8YXQuaGFzKGEpKXJldHVybjtjb25zdCBuPXNldFRpbWVvdXQoKCgpPT57ZmluLlZpZXcud3JhcFN5bmMoZSkuZGVzdHJveSgpLGF0LmRlbGV0ZShhKX0pLDVlMyk7YXQuc2V0KGEsbil9KSksYXQuZm9yRWFjaCgoKGUsYSk9Pnt0LmhhcyhhKSYmKGNsZWFyVGltZW91dChlKSxhdC5kZWxldGUoYSkpfSkpfSksMjUwMCkscnQ9KHtuYW1lOmV9KT0+e2UmJmooZSkmJm90KCkuY2F0Y2goKCgpPT57fSkpfTtsZXQgaXQ9e307Y29uc3Qgc3Q9KHthY3Rpb25JZDplLHBheWxvYWQ6dH0pPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaXRbZV0pdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGNvbmZpZ3VyZWQgZnVuY3Rpb24gZm9yIHRoZSBhY3Rpb24gJyR7ZX0nYCk7cmV0dXJuIGl0W2VdKHQpfTtmdW5jdGlvbiBjdCgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlZS5NYWNoaW5lTmFtZSl9bGV0IGR0O2FzeW5jIGZ1bmN0aW9uIHB0KCl7cmV0dXJuIGR0fHwoZHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNYWNoaW5lSWQoKSksZHR9Y29uc3QgbHQ9ZT0+e2lmKGUubGF5b3V0JiZBcnJheS5pc0FycmF5KGUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzKSl7Y29uc3QgdD1lLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtpZih0KWlmKHQuaXNMb2NrZWQpe2NvbnN0IGE9KChlLHQpPT57Y29uc3QgYT1rZSh0LmNvbnRlbnQpO3JldHVybnsuLi5QZShlLChlPT57Y29uc3QgdD1hLmZpbmQoKHQ9PnQubmFtZT09PWUubmFtZSYmdC51dWlkPT09ZS51dWlkKSksbj10P3QuaXNDbG9zYWJsZTplLmlzQ2xvc2FibGU7cmV0dXJuey4uLmUsaXNDbG9zYWJsZTpufX0pKSxzZXR0aW5nczp0LnNldHRpbmdzfX0pKGUubGF5b3V0LHQubGF5b3V0KTt0LmxheW91dD1hLGUubGF5b3V0PWF9ZWxzZSB0LmxheW91dD1lLmxheW91dH1yZXR1cm4gZX07YXN5bmMgZnVuY3Rpb24gdXQoZSl7Y29uc3QgdD1lfHxhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5nZXRTbmFwc2hvdCgpO2lmKHQuc25hcHNob3REZXRhaWxzPy5tYWNoaW5lSWQpcmV0dXJuIHQ7Y29uc3QgYT1jdCgpO3JldHVybnsuLi50LHNuYXBzaG90RGV0YWlsczp7Li4uZS5zbmFwc2hvdERldGFpbHMsbWFjaGluZUlkOmF3YWl0IHB0KCksbWFjaGluZU5hbWU6YX19fWZ1bmN0aW9uIHd0KGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHQsYSk9PntlLm9uY29tcGxldGU9ZS5vbnN1Y2Nlc3M9KCk9PnQoZS5yZXN1bHQpLGUub25hYm9ydD1lLm9uZXJyb3I9KCk9PmEoZS5lcnJvcil9KSl9ZnVuY3Rpb24gZnQoZSx0KXtjb25zdCBhPWluZGV4ZWREQi5vcGVuKGUpO2Eub251cGdyYWRlbmVlZGVkPSgpPT5hLnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZSh0KTtjb25zdCBuPXd0KGEpO3JldHVybihlLGEpPT5uLnRoZW4oKG49PmEobi50cmFuc2FjdGlvbih0LGUpLm9iamVjdFN0b3JlKHQpKSkpfWxldCBndDtmdW5jdGlvbiB5dCgpe3JldHVybiBndHx8KGd0PWZ0KFwia2V5dmFsLXN0b3JlXCIsXCJrZXl2YWxcIikpLGd0fWZ1bmN0aW9uIGh0KGUsdD15dCgpKXtyZXR1cm4gdChcInJlYWRvbmx5XCIsKHQ9Pnd0KHQuZ2V0KGUpKSkpfWZ1bmN0aW9uIG10KGUsdCxhPXl0KCkpe3JldHVybiBhKFwicmVhZHdyaXRlXCIsKGE9PihhLnB1dCh0LGUpLHd0KGEudHJhbnNhY3Rpb24pKSkpfWZ1bmN0aW9uIHZ0KGUsdD15dCgpKXtyZXR1cm4gdChcInJlYWR3cml0ZVwiLCh0PT4odC5kZWxldGUoZSksd3QodC50cmFuc2FjdGlvbikpKSl9ZnVuY3Rpb24gU3QoZSx0KXtyZXR1cm4gZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzPWZ1bmN0aW9uKCl7dGhpcy5yZXN1bHQmJih0KHRoaXMucmVzdWx0KSx0aGlzLnJlc3VsdC5jb250aW51ZSgpKX0sd3QoZS50cmFuc2FjdGlvbil9ZnVuY3Rpb24gUHQoZT15dCgpKXtyZXR1cm4gZShcInJlYWRvbmx5XCIsKGU9PntpZihlLmdldEFsbEtleXMpcmV0dXJuIHd0KGUuZ2V0QWxsS2V5cygpKTtjb25zdCB0PVtdO3JldHVybiBTdChlLChlPT50LnB1c2goZS5rZXkpKSkudGhlbigoKCk9PnQpKX0pKX1jb25zdCBidD0oZSx0PVwiXCIpPT5lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKSxrdD1iJiZmdChcIm9wZW5maW4taG9tZS1wYWdlc1wiLFwicGFnZXNcIik7YXN5bmMgZnVuY3Rpb24gV3QoZSl7Y29uc3QgdD1hd2FpdCBodChlLGt0KTtyZXR1cm4gdD8odC5wYWdlSWQ9ZS50b1N0cmluZygpLHQudGl0bGU9dC50aXRsZXx8dC5wYWdlSWQsdCk6bnVsbH1hc3luYyBmdW5jdGlvbiBDdChlKXtjb25zdCB0PWF3YWl0IFB0KGt0KSxhPWF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5XdChlLnRvU3RyaW5nKCkpKSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT5idCh0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiBJdCh7cGFnZTplfSl7YXdhaXQgbXQoZS5wYWdlSWQsZSxrdCl9YXN5bmMgZnVuY3Rpb24gQXQoZSl7YXdhaXQgdnQoZSxrdCl9YXN5bmMgZnVuY3Rpb24gTXQoe3BhZ2VJZDplLHBhZ2U6dH0pe2lmKHZvaWQgMD09PWF3YWl0IFd0KGUpKXRocm93IG5ldyBFcnJvcihcInBhZ2Ugbm90IGZvdW5kXCIpO2F3YWl0IEl0KHtwYWdlOnR9KSxlIT09dC5wYWdlSWQmJmF3YWl0IEF0KGUpfXZhciBPdDshZnVuY3Rpb24oZSl7ZS5MYWJlbD1cIm5vcm1hbFwiLGUuU2VwYXJhdG9yPVwic2VwYXJhdG9yXCIsZS5TdWJtZW51PVwic3VibWVudVwiLGUuQ2hlY2tib3g9XCJjaGVja2JveFwifShPdHx8KE90PXt9KSk7Y29uc3QgVHQ9e3R5cGU6T3QuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfTt2YXIgRXQ7IWZ1bmN0aW9uKGUpe2UuUmVnaXN0ZXJQcm92aWRlcj1cInJlZ2lzdGVyLXByb3ZpZGVyXCIsZS5EZXJlZ2lzdGVyUHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXByb3ZpZGVyXCIsZS5DcmVhdGVQcm92aWRlcldpbmRvdz1cImNyZWF0ZS1wcm92aWRlci13aW5kb3dcIixlLkdldFByb3ZpZGVycz1cImdldC1wcm92aWRlcnNcIixlLlNob3dQcm92aWRlcldpbmRvdz1cInNob3ctcHJvdmlkZXItd2luZG93XCIsZS5IaWRlUHJvdmlkZXJXaW5kb3c9XCJoaWRlLXByb3ZpZGVyLXdpbmRvd1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcHNcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbGFuZGluZy1wYWdlXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJGb290ZXI9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1mb290ZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlck5hdmlnYXRpb249XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1uYXZpZ2F0aW9uXCIsZS5MYXVuY2hTdG9yZWZyb250UHJvdmlkZXJBcHA9XCJsYXVuY2gtc3RvcmVmcm9udC1wcm92aWRlci1hcHBcIixlLlNob3dIb21lPVwic2hvdy1ob21lXCIsZS5IaWRlSG9tZT1cImhpZGUtaG9tZVwiLGUuQXNzaWduSG9tZVNlYXJjaENvbnRleHQ9XCJhc3NpZ24taG9tZS1zZWFyY2gtY29udGV4dFwiLGUuR2V0TGVnYWN5UGFnZXM9XCJnZXQtbGVnYWN5LXBhZ2VzXCIsZS5HZXRMZWdhY3lXb3Jrc3BhY2VzPVwiZ2V0LWxlZ2FjeS13b3Jrc3BhY2VzXCIsZS5HZXRDb21wdXRlZFBsYXRmb3JtVGhlbWU9XCJnZXQtY29tcHV0ZWQtcGxhdGZvcm0tdGhlbWVcIixlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLlNob3dTdG9yZWZyb250PVwic2hvdy1zdG9yZWZyb250XCJ9KEV0fHwoRXQ9e30pKTtUZShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIik7Y29uc3QgQnQ9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoYXN5bmMgZT0+KHsuLi5lLGxheW91dERldGFpbHM6e21hY2hpbmVJZDphd2FpdCBwdCgpLG1hY2hpbmVOYW1lOmN0KCl9fSkpKHQpO3JldHVybntwYWdlSWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSx0aXRsZTplLGxheW91dDphLGlzUmVhZE9ubHk6ITEsaGFzVW5zYXZlZENoYW5nZXM6ITB9fSx4dD1lPT4oe2lkZW50aXR5OmUsb3BlbmZpbldpbmRvdzpmaW4uV2luZG93LndyYXBTeW5jKGUpLGdldFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gobmUuR2V0UGFnZXNGb3JXaW5kb3csZSksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG5lLkdldFBhZ2VGb3JXaW5kb3cse2lkZW50aXR5OmUscGFnZUlkOnR9KSxhZGRQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3Q/LnRpdGxlfHwodC50aXRsZT1hd2FpdCBhLmRpc3BhdGNoKG5lLkdldFVuaXF1ZVBhZ2VUaXRsZSx2b2lkIDApKTtjb25zdCBuPShhd2FpdCBhLmRpc3BhdGNoKG5lLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10LnBhZ2VJZHx8ZS50aXRsZT09PXQudGl0bGUpKTtpZihuKXRocm93IG4ucGFnZUlkPT09dC5wYWdlSWQ/bmV3IEVycm9yKGBwYWdlIHdpdGggaWQgJHt0LnBhZ2VJZH0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7bi5wYXJlbnRJZGVudGl0eS5uYW1lfWApOm5ldyBFcnJvcihgcGFnZSB3aXRoIHRpdGxlICR7dC50aXRsZX0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7bi5wYXJlbnRJZGVudGl0eS5uYW1lfWApO2NvbnN0IG89e2lkZW50aXR5OmUscGFnZXM6W3RdfTtyZXR1cm4gYS5kaXNwYXRjaChuZS5BdHRhY2hQYWdlc1RvV2luZG93LG8pfSxyZW1vdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gobmUuRGV0YWNoUGFnZXNGcm9tV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZHM6W3RdfSksc2V0QWN0aXZlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG5lLlNldEFjdGl2ZVBhZ2Use2lkZW50aXR5OmUscGFnZUlkOnR9KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChuZS5VcGRhdGVQYWdlRm9yV2luZG93LHQpfSxyZW9yZGVyUGFnZXM6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG5lLlJlb3JkZXJQYWdlc0ZvcldpbmRvdyx0KX0sX29wZW5HbG9iYWxDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBzZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobmUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwsdCl9LHJlcGxhY2VUb29sYmFyT3B0aW9uczphc3luYyB0PT57YXdhaXQgc2UoZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3Rvb2xiYXJPcHRpb25zOnR9fSl9LHJlcGxhY2VXaW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IHNlKGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6dH19KX0sX29wZW5WaWV3VGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG5lLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5QYWdlVGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG5lLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5TYXZlTW9kYWw6YXN5bmMgdD0+e2F3YWl0IHNlKGUpO3JldHVybihhd2FpdCB4ZShlKSkuZGlzcGF0Y2goTGUuT3BlblNhdmVNb2RhbEludGVybmFsLHQpfSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBzZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobmUuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLHQpfX0pO2xldCBSdD0hMTtjb25zdCBfdD1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJue3dyYXBTeW5jOmU9Pnh0KGUpLGNyZWF0ZVdpbmRvdzphc3luYyBhPT57YXdhaXQgc2UoZSksUnR8fChSdD0hMCwoYXN5bmMgZT0+e3ooUS5Ccm93c2VyLGUpfSkoe2FsbG93ZWQ6ITB9KSk7Y29uc3Qgbj1hd2FpdCB0LmNyZWF0ZVdpbmRvdyhhKTtyZXR1cm4geHQobi5pZGVudGl0eSl9LGdldEFsbEF0dGFjaGVkUGFnZXM6YXN5bmMoKT0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChuZS5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCksZ2V0QWxsV2luZG93czphc3luYygpPT57YXdhaXQgc2UoZSk7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5lLmlkZW50aXR5Lm5hbWUuaW5jbHVkZXMoXCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93LVwiKSkpLm1hcCgoZT0+eHQoZS5pZGVudGl0eSkpKX0sZ2V0VW5pcXVlUGFnZVRpdGxlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gobmUuR2V0VW5pcXVlUGFnZVRpdGxlLHQpLGdldExhc3RGb2N1c2VkV2luZG93OmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gobmUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHZvaWQgMCl9fSxMdD1lPT4oe2NyZWF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChuZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gobmUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksdXBkYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG5lLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChuZS5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChuZS5HZXRTYXZlZFBhZ2VzLHQpLHNhdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gobmUuU2F2ZVBhZ2UsdCksY3JlYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZGVsZXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2UsdCksdXBkYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuR2V0U2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlczphc3luYyB0PT4oYXdhaXQgaWUoZSkpLmRpc3BhdGNoKG5lLkdldFNhdmVkV29ya3NwYWNlcyx0KSxzYXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuU2F2ZVdvcmtzcGFjZSx0KX0pLFZ0PWU9Pih7Z2V0VGhlbWVzOmFzeW5jKCk9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuR2V0VGhlbWVzLHZvaWQgMCl9KSxEdD1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx7YXBwbHlTbmFwc2hvdDphc3luYyh0LGEpPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiF0Py53aW5kb3dzKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIGJyb3dzZXIgc25hcHNob3RcIik7cmV0dXJuIGZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5hcHBseVNuYXBzaG90KHQsYSl9LGdldFNuYXBzaG90OigpPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0U25hcHNob3QoKS50aGVuKChlPT5lKSksbGF1bmNoQXBwOmFzeW5jIHQ9Pnt0LnRhcmdldHx8KHQudGFyZ2V0PXt1dWlkOlcsbmFtZTpDLGVudGl0eVR5cGU6SXx8XCJ1bmtub3duXCJ9KTtyZXR1cm4oYXdhaXQgaWUoZSkpLmRpc3BhdGNoKG5lLkxhdW5jaEFwcCx0KX0sX2ludm9rZUN1c3RvbUFjdGlvbjphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCBpZShlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fGguQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2gobmUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWwsbyl9LF9yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nOmFzeW5jIHQ9Pihhd2FpdCBpZShlKSkuZGlzcGF0Y2gobmUuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsLHQpLGdldEN1cnJlbnRXb3Jrc3BhY2U6YXN5bmMoKT0+KGF3YWl0IGllKGUpKS5kaXNwYXRjaChuZS5HZXRDdXJyZW50V29ya3NwYWNlLHZvaWQgMCksYXBwbHlXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IGllKGUpKS5kaXNwYXRjaChuZS5BcHBseVdvcmtzcGFjZSx0KSxzZXRBY3RpdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IGllKGUpKS5kaXNwYXRjaChuZS5TZXRBY3RpdmVXb3Jrc3BhY2UsdCksVGhlbWU6VnQoZSksQnJvd3NlcjpfdChlKSxTdG9yYWdlOkx0KGUpfSl9LFV0PSgpPT5EdChmaW4ubWUuaWRlbnRpdHkpLEZ0PWFzeW5jKGU9Rik9Pntjb25zdHt3b3Jrc3BhY2VQbGF0Zm9ybTp0fT1hd2FpdCBVKGUpLmdldE9wdGlvbnMoKSxhPXQ/Lm5ld1BhZ2VVcmwsbj10Py5uZXdUYWJVcmw7cmV0dXJue25ld1BhZ2VVcmw6YSxuZXdUYWJVcmw6bn19LEd0PWFzeW5jKGU9Rik9Pntjb25zdCB0PWF3YWl0IFV0KCkuQnJvd3Nlci5nZXRVbmlxdWVQYWdlVGl0bGUoXCJVbnRpdGxlZCBQYWdlXCIpLGE9YXdhaXQoYXN5bmMoZT1GKT0+e2NvbnN0e25ld1BhZ2VVcmw6dH09YXdhaXQgRnQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtyZXR1cm4gV2UoXCJOZXcgVGFiXCIsdCxlKX0pKGUpO3JldHVybiBCdCh0LGEpfSwkdD17dHlwZTpPdC5MYWJlbCxsYWJlbDpcIkNsb3NlIFdpbmRvd1wiLGRhdGE6e3R5cGU6dS5DbG9zZVdpbmRvd319LE50PXt0eXBlOk90LkxhYmVsLGxhYmVsOlwiT3BlbiBTdG9yZWZyb250XCIsZGF0YTp7dHlwZTp1Lk9wZW5TdG9yZWZyb250fX0sanQ9e3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJRdWl0IFBsYXRmb3JtXCIsZGF0YTp7dHlwZTp1LlF1aXR9fSxIdD17dHlwZTpPdC5MYWJlbCxsYWJlbDpcIk5ldyBXaW5kb3dcIixkYXRhOnt0eXBlOnUuTmV3V2luZG93fX0scXQ9e3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2VcIixkYXRhOnt0eXBlOnUuU2F2ZVBhZ2V9fSxLdD17dHlwZTpPdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBcy4uLlwiLGRhdGE6e3R5cGU6dS5TYXZlUGFnZUFzfX0sUXQ9e3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJSZXN0b3JlIHRvIExhc3QgU2F2ZWQgQ2hhbmdlc1wiLGRhdGE6e3R5cGU6dS5SZXN0b3JlQ2hhbmdlc319LHp0PXt0eXBlOk90LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2VcIixkYXRhOnt0eXBlOnUuU2F2ZVdvcmtzcGFjZX19LEp0PXt0eXBlOk90LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2UgQXMuLi5cIixkYXRhOnt0eXBlOnUuU2F2ZVdvcmtzcGFjZUFzfX0sWHQ9e3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJSZW5hbWUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTp1LlJlbmFtZVdvcmtzcGFjZX19LFl0PVwiU3dpdGNoIFdvcmtzcGFjZVwiLFp0PVwiRGVsZXRlIFdvcmtzcGFjZVwiLGVhPVskdCxUdCxOdCxUdCxqdF0sdGE9W1R0LCR0LFR0LGp0XSxhYT0oZSx0LGEpPT50Lm1hcCgodD0+e2NvbnN0IG49dC53b3Jrc3BhY2VJZD09PWUud29ya3NwYWNlSWQ7cmV0dXJue2xhYmVsOnQudGl0bGUsdHlwZTpPdC5DaGVja2JveCxlbmFibGVkOiFuLGNoZWNrZWQ6bixkYXRhOnt0eXBlOmEsd29ya3NwYWNlSWQ6dC53b3Jrc3BhY2VJZH19fSkpLG5hPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEsoKSx7bmV3UGFnZVVybDphfT1hd2FpdCBGdChlKSxuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PVUoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5kaXNhYmxlTXVsdGlwbGVQYWdlc30pKGUpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9VShlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmlzTG9ja2VkfSkoZSkscj1bXTt2YXIgaTthJiYoci5wdXNoKEh0KSxufHxyLnB1c2goKGk9IW8se3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJOZXcgUGFnZVwiLGRhdGE6e3R5cGU6dS5OZXdQYWdlfSxlbmFibGVkOml9KSkpLHIucHVzaChUdCk7Y29uc3Qgcz1VdCgpLGM9YXdhaXQgcy5nZXRDdXJyZW50V29ya3NwYWNlKCksZD1hd2FpdCBzLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpLHA9ZC5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09Yy53b3Jrc3BhY2VJZCkpO3JldHVybiBwP3IucHVzaChRdCk6ci5wdXNoKHtsYWJlbDpRdC5sYWJlbCxlbmFibGVkOiExfSksci5wdXNoKHp0LEp0KSxwP3IucHVzaChYdCk6ci5wdXNoKHtsYWJlbDpYdC5sYWJlbCxlbmFibGVkOiExfSksZC5zb21lKChlPT5lLndvcmtzcGFjZUlkIT09Yy53b3Jrc3BhY2VJZCkpP3IucHVzaCh7bGFiZWw6WXQsc3VibWVudTphYShjLGQsdS5Td2l0Y2hXb3Jrc3BhY2UpfSx7bGFiZWw6WnQsc3VibWVudTphYShjLGQsdS5EZWxldGVXb3Jrc3BhY2UpfSk6ci5wdXNoKHtsYWJlbDpZdCxlbmFibGVkOiExfSx7bGFiZWw6WnQsZW5hYmxlZDohMX0pLHIucHVzaChUdCxxdCxLdCksdD9bLi4uciwuLi5lYV06Wy4uLnIsLi4udGFdfTtsZXQgb2E9XCJQbGF0Zm9ybVwiO2NvbnN0IHJhPWFzeW5jKCk9Pm9hO3ZhciBpYSxzYSxjYTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvP2RlZXBsaW5rPXNlYXJjaFwiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9kb2NrL1wiLGUuQnJvd3NlclBhZ2VzTGFuZGluZz1cIi9icm93c2VyL3BhZ2VzL2xhbmRpbmcvXCIsZS5Ib21lSW5kaWNhdG9yPVwiL2hvbWUvaW5kaWNhdG9yL1wiLGUuQnJvd3Nlcj1cIi9icm93c2VyL1wiLGUuQnJvd3NlclBvcHVwTWVudT1cIi9icm93c2VyL3BvcHVwLW1lbnUvXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlci9cIixlLkJyb3dzZXJQb3B1cE1lbnVTaGFyZVBhZ2U9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3NoYXJlLXBhZ2UvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2F2ZU1vZGFsPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9zYXZlLW1vZGFsL1wiLGUuQnJvd3NlclBvcHVwTWVudUxheW91dHM9XCIvYnJvd3Nlci9wb3B1cC1tZW51L2xheW91dHMvbGF5b3V0cy9cIixlLkJyb3dzZXJQb3B1cE1lbnVDb2xvckxpbmtpbmc9XCIvYnJvd3Nlci9wb3B1cC1tZW51L2NvbG9yLWxpbmtpbmcvY29sb3ItbGlua2luZy9cIixlLkJyb3dzZXJJbmRpY2F0b3I9XCIvYnJvd3Nlci9pbmRpY2F0b3IvXCIsZS5SZXNwb25zZU1vZGFsPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9yZXNwb25zZS1tb2RhbC9cIixlLkRvY3M9XCIvcHJvdmlkZXIvZG9jcy9cIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udC9cIixlLkRlcHJlY2F0ZWRBbGVydD1cIi9wcm92aWRlci9kZXByZWNhdGVkLWFsZXJ0L1wifShpYXx8KGlhPXt9KSksZnVuY3Rpb24oZSl7ZS5JY29uT3BlbkZpbkxvZ289XCIvaWNvbnMvb3BlbmZpbmxvZ28uc3ZnXCIsZS5JY29uRmlsdGVyPVwiL2ljb25zL2ZpbHRlci5zdmdcIn0oc2F8fChzYT17fSkpLGZ1bmN0aW9uKGUpe2UuU2VhcmNoPVwic2VhcmNoXCJ9KGNhfHwoY2E9e30pKTtjb25zdCBkYT17Li4uc2EsLi4uaWF9O3ZhciBwYTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWVcIixlLkJyb3dzZXI9XCIvYnJvd3NlclwiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXJcIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udFwiLGUuRG9jaz1cIi9kb2NrXCJ9KHBhfHwocGE9e30pKTtjb25zdCBsYT1cIi93b3Jrc3BhY2UvOS4wLjdcIjtmdW5jdGlvbiB1YSgpe3JldHVybiBsYS5zdWJzdHJpbmcoMCxsYS5sZW5ndGgtXCJcIi5sZW5ndGgpfWZ1bmN0aW9uIHdhKGUpe2lmKCFQKXRocm93IG5ldyBFcnJvcihcImdldEFic29sdXRlUm91dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBYnNvbHV0ZUJhc2VQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuYCR7d2luZG93Lm9yaWdpbn0ke3VhKCl9YH0oKStlfWNvbnN0IGZhPXtuYW1lOlYuQnJvd3Nlck1lbnUsYWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsZnJhbWU6ITEscmVzaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjpcIiMyZjMxMzZcIixzbWFsbFdpbmRvdzohMCxzaG93VGFza2Jhckljb246ITEsYmFja2dyb3VuZFRocm90dGxpbmc6ITB9O2Z1bmN0aW9uIGdhKGUpe2NvbnN0IHQ9ey4uLmZhLC4uLmV9O3JldHVybiB0LnVybD1mdW5jdGlvbihlKXtpZighUCl0aHJvdyBuZXcgRXJyb3IoXCJyZXNvbHZlQWJzb2x1dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuIGUuc3RhcnRzV2l0aChcImh0dHBcIik/ZTpgJHt3aW5kb3cub3JpZ2lufSR7ZX1gfSh0LnVybCksdH12YXIgeWEsaGE7IWZ1bmN0aW9uKGUpe2UuVXBkYXRlPVwidXBkYXRlXCIsZS5SZXNwb25zZT1cInJlc3BvbnNlXCJ9KHlhfHwoeWE9e30pKSxmdW5jdGlvbihlKXtlLkNhbmNlbGVkPVwiY2FuY2VsZWRcIixlLk5lZ2F0aXZlPVwibmVnYXRpdmVcIixlLkFmZmlybWF0aXZlPVwiYWZmaXJtYXRpdmVcIn0oaGF8fChoYT17fSkpO2NvbnN0IG1hPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm57ZW1pdDpDZSh0LCh0PT5TJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZGRMaXN0ZW5lcjpJZSh0LCh0PT5TJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxyZW1vdmVMaXN0ZW5lcjpNZSh0KSxvbmNlOkFlKHQpfX0oXCJ3aW5kb3cubWVudVwiKSx2YT1lPT5tYS5lbWl0KHlhLlJlc3BvbnNlLGUpLFNhPXZlKCgoKT0+TCgpLmdldENoaWxkV2luZG93cygpKSw1MDApO2NvbnN0IFBhPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gYmEoe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOnR9LGEpe2NvbnN0IG49Z2EoZSkse25hbWU6b309bjtsZXQgcj1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtyZXR1cm4oYXdhaXQgU2EoKSkuZmluZCgodD0+dC5pZGVudGl0eS5uYW1lPT09ZSkpfShvKTtyZXR1cm4gcnx8KHI9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Y29uc3QgdD1nYShlKTtpZighUGEuaGFzKHQubmFtZSkpe2NvbnN0IGU9KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh0KTtyZXR1cm4gZS5vbmNlKFwiY2xvc2VkXCIsKCgpPT57UGEuZGVsZXRlKHQubmFtZSl9KSksZX0pKCk7UGEuc2V0KHQubmFtZSxlKX1yZXR1cm4gUGEuZ2V0KHQubmFtZSl9KG4pKSxhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9Z2EoZSkse3RvcDpuLGxlZnQ6byxkZWZhdWx0V2lkdGg6cixkZWZhdWx0SGVpZ2h0Oml9PWEscz17dG9wOm4sbGVmdDpvLHdpZHRoOnIsaGVpZ2h0Oml9LGM9e3BhcmVudE5hbWU6ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLmlkZW50aXR5Lm5hbWV9O2Zvcihjb25zdFtlLGFdb2YgT2JqZWN0LmVudHJpZXMoYykpdC5zZXQoZSxhKTtjb25zdCBkPXQudG9TdHJpbmcoKSxwPWAke2EudXJsfT8ke2R9YDttYS5lbWl0KHlhLlVwZGF0ZSxhLm5hbWUscyxwKSxhd2FpdCB2YSh7bmFtZTphLm5hbWUsZGF0YTpoYS5DYW5jZWxlZH0pfShlLHR8fG5ldyBVUkxTZWFyY2hQYXJhbXMpLGEmJnIuY2VudGVyKCkscn1jb25zdCBrYT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPXQ/VSh0KTpHKCk7aWYoIWEpe2F3YWl0KGFzeW5jKGU9ZmluLm1lLmlkZW50aXR5KT0+e2NvbnN0IHQ9VShlKSxhPWF3YWl0IHQuZ2V0Qm91bmRzKCk7KGEucmlnaHQ+c2NyZWVuLmF2YWlsTGVmdCtzY3JlZW4ud2lkdGh8fGEubGVmdDxzY3JlZW4uYXZhaWxMZWZ0fHxhLmJvdHRvbT5zY3JlZW4uYXZhaWxUb3Arc2NyZWVuLmhlaWdodHx8YS50b3A8c2NyZWVuLmF2YWlsVG9wKSYmYXdhaXQgdC5jZW50ZXIoKX0pKG4uaWRlbnRpdHkpO2NvbnN0IHQ9KGU9Pih7bGVmdDooZS5sZWZ0K2UucmlnaHQpLzIsdG9wOihlLnRvcCtlLmJvdHRvbSkvMn0pKShhd2FpdCBuLmdldEJvdW5kcygpKSx7ZGVmYXVsdEhlaWdodDphLGRlZmF1bHRXaWR0aDpvfT1lO3JldHVybigoZSx0KT0+e2NvbnN0e2hlaWdodDphLHdpZHRoOm59PXQsbz1uLzIscj1hLzI7cmV0dXJue2xlZnQ6ZS5sZWZ0LW8sdG9wOmUudG9wLXJ9fSkodCx7aGVpZ2h0OmEsd2lkdGg6b30pfXJldHVybiBhd2FpdCBuLmdldEJvdW5kcygpfSxXYT1hc3luYyh7b3B0aW9uczplLGNvbnRlbnQ6dH0sYSk9Pntjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXMoey4uLnR9KTtyZXR1cm4gYXdhaXQgYmEoe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOm59LGEpLG5ldyBQcm9taXNlKCh0PT57bWEub25jZSh5YS5SZXNwb25zZSwoYT0+e2EubmFtZT09PWUubmFtZSYmdChhKX0pKX0pKX0sQ2E9YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJTd2l0Y2ggV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOk0rZGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMTIsZGVmYXVsdFdpZHRoOjQyNCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOmBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc3dpdGNoIHRvICR7dH1gLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkXCIsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSx0KSxvPWF3YWl0IGthKGEsYS5tb2RhbFBhcmVudElkZW50aXR5KSxyPXsuLi5hLHRvcDpvLnRvcCxsZWZ0Om8ubGVmdH07cmV0dXJuKGF3YWl0IFdhKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGE9PT1oYS5BZmZpcm1hdGl2ZX0sSWE9YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJEZWxldGUgV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOk0rZGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxNDQsZGVmYXVsdFdpZHRoOjM3Mixtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSB0aGlzIHdvcmtzcGFjZT9cIixib2R5OmAke3R9YCxhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlLHQpLG89YXdhaXQga2EoYSxhLm1vZGFsUGFyZW50SWRlbnRpdHkpLHI9ey4uLmEsdG9wOm8udG9wLGxlZnQ6by5sZWZ0fTtyZXR1cm4oYXdhaXQgV2Eoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YT09PWhhLkFmZmlybWF0aXZlfSxBYT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPWE/dm9pZCAwOmUse3dpbmRvd09wdGlvbnM6byxjb250ZW50OnJ9PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJQbGF0Zm9ybSBRdWl0XCIsd2luZG93T3B0aW9uczp7dXJsOk0rZGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMzQsZGVmYXVsdFdpZHRoOjQ3NCxtb2RhbFBhcmVudElkZW50aXR5OnR9LGNvbnRlbnQ6e3RpdGxlOmBDbG9zZSB0aGUgJHtcIlBsYXRmb3JtXCI9PT1lP1wicGxhdGZvcm1cIjpgJHtlfSBQbGF0Zm9ybWB9P2AsYm9keTpcIkNsb3NpbmcgYSBwbGF0Zm9ybSB3aWxsIGNsb3NlIGFueSB3b3Jrc3BhY2VzLCBhcHBzIG9yIGFueSBwcm9jZXNzZXMgdGhhdCBhcmUgcnVubmluZy5cIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKSh0LG4pLGk9YXdhaXQga2EobyxvLm1vZGFsUGFyZW50SWRlbnRpdHkpLHM9ey4uLm8sdG9wOmkudG9wLGxlZnQ6aS5sZWZ0fTtyZXR1cm4oYXdhaXQgV2Eoe29wdGlvbnM6cyxjb250ZW50OnJ9LGEpKS5kYXRhPT09aGEuQWZmaXJtYXRpdmV9LE1hPWFzeW5jIGU9Pntjb25zdHt3aW5kb3dPcHRpb25zOnQsY29udGVudDphfT1hd2FpdChhc3luYyBlPT4oe3RpdGxlOlwiUmVzdG9yZSBDaGFuZ2VzXCIsd2luZG93T3B0aW9uczp7dXJsOk0rZGEuUmVzcG9uc2VNb2RhbCxuYW1lOlYuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMTIsZGVmYXVsdFdpZHRoOjQyNCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc3RvcmUgdG8gbGFzdCBzYXZlZCBjaGFuZ2VzP1wiLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkXCIsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSksbj1hd2FpdCBrYSh0LHQubW9kYWxQYXJlbnRJZGVudGl0eSksbz17Li4udCx0b3A6bi50b3AsbGVmdDpuLmxlZnR9O3JldHVybihhd2FpdCBXYSh7b3B0aW9uczpvLGNvbnRlbnQ6YX0pKS5kYXRhPT09aGEuQWZmaXJtYXRpdmV9O3ZhciBPYTshZnVuY3Rpb24oZSl7ZS5FUlJPUj1cImVycm9yXCIsZS5TVUNDRVNTPVwic3VjY2Vzc1wiLGUuSU5GTz1cImluZm9cIn0oT2F8fChPYT17fSkpO2NvbnN0IFRhPXthbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExfTt2YXIgRWE7IWZ1bmN0aW9uKGUpe2UuTG9ja2VkPVwiTG9ja0Nsb3NlZEljb25cIixlLlVubG9ja2VkPVwiTG9ja09wZW4xSWNvblwifShFYXx8KEVhPXt9KSk7Y29uc3QgQmE9ZnVuY3Rpb24oZT1UYSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybiBhc3luYyhhLG4sbyxyKT0+e2lmKHQuaGFzKGEpKXtjb25zdHtjdXJyZW50VXJsOmUsY3VycmVudE5hbWU6b309dC5nZXQoYSk7aWYoZT09PW4pcmV0dXJuO2NvbnN0IHI9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOm99KTthd2FpdCByLmNsb3NlKCl9Y29uc3QgaT1gJHtWLkhvbWVJbnRlcm5hbH0tJHtEYXRlLm5vdygpfSR7TWF0aC5yYW5kb20oKX1gO3Quc2V0KGEse2N1cnJlbnRVcmw6bixjdXJyZW50TmFtZTppfSk7Y29uc3Qgcz1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coey4uLmUsbmFtZTppLHVybDpufSk7KChlLHQpPT57Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsdHx8XCJwb2xpdGVcIiksKGU9PntlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLndpZHRoPVwiMXB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIxcHhcIixlLnN0eWxlLnBhZGRpbmc9XCIwXCIsZS5zdHlsZS5tYXJnaW49XCItMXB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiLGUuc3R5bGUuYm9yZGVyPVwiMFwifSkoYSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxzZXRUaW1lb3V0KCgoKT0+e2EuaW5uZXJIVE1MPWV9KSwxMDApLHNldFRpbWVvdXQoKCgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKX0pLDFlMyl9KShgTmV3ICR7cn0gaW5kaWNhdG9yOiAke299YCkscy5vbmNlKFwiY2xvc2VkXCIsKCgpPT57dC5kZWxldGUoYSl9KSl9fSgpO2FzeW5jIGZ1bmN0aW9uIHhhKGUsdCxhLG4pe2NvbnN0IG89bmV3IFVSTFNlYXJjaFBhcmFtcztvLmFwcGVuZChcInR5cGVcIixlKSxvLmFwcGVuZChcIm1lc3NhZ2VcIix0KSxvLmFwcGVuZChcInBhcmVudE5hbWVcIixhfHxcIlwiKSxvLmFwcGVuZChcImljb25cIixufHxcIlwiKTtjb25zdCByPWAke3dhKGRhLkJyb3dzZXJJbmRpY2F0b3IpfT8ke28udG9TdHJpbmcoKX1gO3JldHVybiBCYShcImJyb3dzZXJcIithLHIsdCxlKX1mdW5jdGlvbiBSYShlLHQsYSl7cmV0dXJuIHhhKE9hLlNVQ0NFU1MsZSx0LGEpfWNvbnN0IF9hPWFzeW5jIGU9Pntjb25zdCB0PVV0KCksYT1hd2FpdCB0LmdldEN1cnJlbnRXb3Jrc3BhY2UoKSxuPWF3YWl0IHQuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCksbz1hLndvcmtzcGFjZUlkO2lmKG4uc29tZSgoZT0+ZS53b3Jrc3BhY2VJZD09PW8pKSl0LlN0b3JhZ2Uuc2F2ZVdvcmtzcGFjZShhKSx0LnNldEFjdGl2ZVdvcmtzcGFjZShhKSxSYShcIldvcmtzcGFjZSBTYXZlZFwiLGUubmFtZSk7ZWxzZXt0LkJyb3dzZXIud3JhcFN5bmMoZSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uU0FWRV9XT1JLU1BBQ0V9KX19LExhPWU9PntVdCgpLkJyb3dzZXIud3JhcFN5bmMoZSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uU0FWRV9XT1JLU1BBQ0VfQVN9KX0sVmE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9VXQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49YXdhaXQgVXQoKS5TdG9yYWdlLmdldFBhZ2VzKCksbz0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSkscj1uLnNvbWUoKGU9Pm8ucGFnZUlkPT09ZS5wYWdlSWQpKTtpZihyKXRyeXthd2FpdCBVdCgpLlN0b3JhZ2Uuc2F2ZVBhZ2UoKGQ9byx7Li4uZCxoYXNVbnNhdmVkQ2hhbmdlczp2b2lkIDAscGFyZW50SWRlbnRpdHk6dm9pZCAwLGlzQWN0aXZlOnZvaWQgMH0pKSxhd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpvLnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMX19KSxSYShcIlBhZ2Ugc2F2ZWRcIixvLnBhcmVudElkZW50aXR5Lm5hbWUpfWNhdGNoe2k9XCJQYWdlIGZhaWxlZCB0byBzYXZlXCIscz1vLnBhcmVudElkZW50aXR5Lm5hbWUseGEoT2EuRVJST1IsaSxzLGMpfWVsc2UgYS5fb3BlblNhdmVNb2RhbCh7aWQ6by5wYWdlSWQsbWVudVR5cGU6bS5TQVZFX1BBR0V9KTt2YXIgaSxzLGMsZH0sRGE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9VXQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49KGF3YWl0IGEuZ2V0UGFnZXMoKSkuZmluZCgoZT0+dD9lLnBhZ2VJZD09PXQ6ZS5pc0FjdGl2ZSkpO2EuX29wZW5TYXZlTW9kYWwoe2lkOm4ucGFnZUlkLG1lbnVUeXBlOm0uU0FWRV9QQUdFX0FTfSl9LFVhPWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5LG49YXdhaXQgeGUoYSksbz1VdCgpLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSk7c3dpdGNoKGUudHlwZSl7Y2FzZSB1Lk5ld1dpbmRvdzpjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IEZ0KGEpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgZW1wdHkgd2luZG93IHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtVdCgpLmNyZWF0ZVZpZXcoe3RhcmdldDp2b2lkIDAsdXJsOnR9KTticmVhaztjYXNlIHUuTmV3UGFnZTphd2FpdChhc3luYyBlPT57Y29uc3QgdD1VdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksYT1hd2FpdCBHdChlKTthd2FpdCB0LmFkZFBhZ2UoYSksYXdhaXQgdC5zZXRBY3RpdmVQYWdlKGEucGFnZUlkKX0pKGEpO2JyZWFrO2Nhc2UgdS5DbG9zZVdpbmRvdzpuLmRpc3BhdGNoKExlLkNsb3NlQnJvd3NlcldpbmRvdyk7YnJlYWs7Y2FzZSB1LlNhdmVXb3Jrc3BhY2U6YXdhaXQgX2EoYSk7YnJlYWs7Y2FzZSB1LlNhdmVQYWdlOmF3YWl0IFZhKGEpO2JyZWFrO2Nhc2UgdS5TYXZlUGFnZUFzOmF3YWl0IERhKGEpO2JyZWFrO2Nhc2UgdS5TYXZlV29ya3NwYWNlQXM6YXdhaXQgTGEoYSk7YnJlYWs7Y2FzZSB1LlJlbmFtZVdvcmtzcGFjZTpvLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTptLlJFTkFNRV9XT1JLU1BBQ0V9KTticmVhaztjYXNlIHUuU3dpdGNoV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPVV0KCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtuJiZhd2FpdCBDYShlLG4udGl0bGUpJiYoYXdhaXQgYS5hcHBseVdvcmtzcGFjZShuKSxSYShcIldvcmtzcGFjZSBTd2l0Y2hlZCFcIixudWxsKSl9KShhLGUpO2JyZWFrO2Nhc2UgdS5EZWxldGVXb3Jrc3BhY2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9VXQoKSxuPShhd2FpdCBhLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO24mJmF3YWl0IElhKGUsbi50aXRsZSkmJihhd2FpdCBhLlN0b3JhZ2UuZGVsZXRlV29ya3NwYWNlKHQud29ya3NwYWNlSWQpLFJhKFwiV29ya3NwYWNlIERlbGV0ZWQhXCIsZS5uYW1lKSl9KShhLGUpO2JyZWFrO2Nhc2UgdS5RdWl0OmNvbnN0IHI9YXdhaXQgcmEoKTthd2FpdCBBYShhLHIpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCk7YnJlYWs7Y2FzZSB1Lk9wZW5TdG9yZWZyb250Oihhc3luYygpPT57YXdhaXQgSygpJiZOKCQpfSkoKTticmVhaztjYXNlIHUuUmVzdG9yZUNoYW5nZXM6Y29uc3QgaT1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9VXQoKSx0PWF3YWl0IGUuZ2V0Q3VycmVudFdvcmtzcGFjZSgpO3JldHVybihhd2FpdCBlLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpfSgpO2F3YWl0IE1hKGEpJiZhd2FpdCBsZShpKTticmVhaztjYXNlIHUuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCB0PXtjYWxsZXJUeXBlOmguR2xvYmFsQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O1V0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCx0KX19fSxGYT1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCB4ZSh0LmlkZW50aXR5KSxuPVV0KCk7c3dpdGNoKGU/LnR5cGUpe2Nhc2Ugdy5TYXZlOmF3YWl0IFZhKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugdy5TYXZlQXM6YXdhaXQgRGEodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LlJlbmFtZTphd2FpdCBuLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uUkVOQU1FX1BBR0UsaWQ6dC5wYWdlSWR9KTticmVhaztjYXNlIHcuRHVwbGljYXRlOmEuZGlzcGF0Y2goTGUuRHVwbGljYXRlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LkNsb3NlOmEuZGlzcGF0Y2goTGUuQ2xvc2VQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOmguUGFnZVRhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07VXQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfX19LEdhPWFzeW5jKGUsdCk9PntpZihlPy50eXBlKXtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSB5LlNhdmVQYWdlOmF3YWl0IFZhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlV29ya3NwYWNlOmF3YWl0IF9hKGEpO2JyZWFrO2Nhc2UgeS5TYXZlUGFnZUFzOmF3YWl0IERhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlV29ya3NwYWNlQXM6YXdhaXQgTGEoYSk7YnJlYWs7Y2FzZSB5LkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgYT17Y2FsbGVyVHlwZTpoLlNhdmVCdXR0b25Db250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTp0LmlkZW50aXR5LHBhZ2VJZDp0LnBhZ2VJZCxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O1V0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxhKX19fX0sJGE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9dC5zZWxlY3RlZFZpZXdzWzBdLG49ZmluLlZpZXcud3JhcFN5bmMoYSksbz1hd2FpdChhc3luYyBlPT57Y29uc3R7bmV3VGFiVXJsOnR9PWF3YWl0IEZ0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3VGFiVXJsIHNldFwiKTtyZXR1cm57Li4uV2UoXCJOZXcgVmlld1wiLHQpLHVybDp0LHRhcmdldDplfX0pKGUpO2F3YWl0IFV0KCkuY3JlYXRlVmlldyhvLGUsbi5pZGVudGl0eSl9LE5hPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGU9PlByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT5maW4uVmlldy53cmFwU3luYyhlKS5nZXRJbmZvKCkpKSkpKHQpLHtuZXdQYWdlVXJsOm4sbmV3VGFiVXJsOm99PWF3YWl0IEZ0KGUpO2EuZm9yRWFjaCgoYXN5bmMgZT0+e2UudXJsIT09biYmZS51cmwhPT1vJiZhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihlLnVybCl9KSl9LGphPShlLHQpPT57dC5mb3JFYWNoKChhc3luYyB0PT57Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KTthd2FpdChhc3luYyhlLHQpPT57Y29uc3R7dXJsOmF9PWF3YWl0IHQuZ2V0SW5mbygpLG49ey4uLmF3YWl0IHQuZ2V0T3B0aW9ucygpLHVybDphLHRhcmdldDplLG5hbWU6dm9pZCAwfTthd2FpdCBVdCgpLmNyZWF0ZVZpZXcobixlLHQuaWRlbnRpdHkpfSkoZSxhKX0pKX0sSGE9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSBmLkNsb3NlVmlld3M6YXdhaXQoYXN5bmMoZSx0KT0+e2lmKChhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldEN1cnJlbnRWaWV3cygpKS5sZW5ndGghPT10Lmxlbmd0aCl0LmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PWZpbi5WaWV3LndyYXBTeW5jKGUpO2F3YWl0IHQuZGVzdHJveSgpfSkpO2Vsc2V7Y29uc3QgdD0oYXdhaXQgVXQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTsoYXdhaXQgeGUoZSkpLmRpc3BhdGNoKExlLkNsb3NlUGFnZSx0Py5wYWdlSWQpfX0pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcjphd2FpdCBOYShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlJlbG9hZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cy5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LnJlbG9hZCgpfSkpO2JyZWFrO2Nhc2UgZi5OZXdWaWV3OmF3YWl0ICRhKGEsdCk7YnJlYWs7Y2FzZSBmLkR1cGxpY2F0ZVZpZXdzOmphKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuQWRkVG9DaGFubmVsOihhc3luYyhlLHQsYSk9Pntjb25zdCBuPXtuZXdDaGFubmVsSWQ6dCxzZWxlY3RlZFZpZXdzOmF9Oyhhd2FpdCB4ZShlKSkuZGlzcGF0Y2goTGUuQWRkVG9DaGFubmVsLG4pfSkoYSxlLm9wdGlvbix0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5SZW1vdmVGcm9tQ2hhbm5lbDooYXN5bmMoZSx0KT0+eyhhd2FpdCB4ZShlKSkuZGlzcGF0Y2goTGUuUmVtb3ZlRnJvbUNoYW5uZWwsdCl9KShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3Qgbj17Y2FsbGVyVHlwZTpoLlZpZXdUYWJDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLHNlbGVjdGVkVmlld3M6dC5zZWxlY3RlZFZpZXdzLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07VXQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLG4pfX19O2FzeW5jIGZ1bmN0aW9uIHFhKGUsdCl7Y29uc3QgYT1hd2FpdCBuYShlLmlkZW50aXR5KSxuPWF3YWl0IHJhKCk7YS5maW5kKChlPT5lLmRhdGE/LnR5cGU9PT11LlF1aXQpKS5sYWJlbD1gUXVpdCAke259YDtjb25zdCBvPXsuLi5lLHRlbXBsYXRlOmEsY2FsbGJhY2s6VWF9O2F3YWl0IHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51KG8sdCl9Y29uc3QgS2E9YXN5bmMoZSx0KT0+e2NvbnN0e3g6YSx5Om4saWRlbnRpdHk6byx0ZW1wbGF0ZTpyLGNhbGxiYWNrOml9PWUse2RhdGE6c309YXdhaXQgZnVuY3Rpb24oZSx0KXtpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7aWYoIXQmJiFmaW4ubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiB3aW5kb3cuXCIpO3JldHVybih0fHxmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkpLnNob3dQb3B1cE1lbnUoZSl9KHt4OmEseTpuLHRlbXBsYXRlOnJ9LGZpbi5XaW5kb3cud3JhcFN5bmMobykpO2kocyxlKX07YXN5bmMgZnVuY3Rpb24gUWEoZSx0KXtjb25zdCBhPXsuLi5lLGNhbGxiYWNrOkhhfTthd2FpdCB0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUoYSx0KX1hc3luYyBmdW5jdGlvbiB6YShlLHQpe2NvbnN0IGE9YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgVXQoKS5TdG9yYWdlLmdldFBhZ2UoZSksbj0oYXdhaXQgRmUoKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkse3dvcmtzcGFjZVBsYXRmb3JtOm99PWF3YWl0IFUodCkuZ2V0T3B0aW9ucygpLHI9IShvLmlzTG9ja2VkfHxvLnByZXZlbnRQYWdlQ2xvc2V8fG4uY2xvc2VCdXR0b24/LmRpc2FibGVkfHxuLmNsb3NlQnV0dG9uPy5oaWRkZW4pO3JldHVyblt7dHlwZTpPdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6dy5TYXZlfX0se3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXNcIixkYXRhOnt0eXBlOncuU2F2ZUFzfX0sVHQse3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJSZW5hbWUgUGFnZVwiLGRhdGE6e3R5cGU6dy5SZW5hbWV9LGVuYWJsZWQ6ISFhfSx7dHlwZTpPdC5MYWJlbCxsYWJlbDpcIkR1cGxpY2F0ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkR1cGxpY2F0ZX0sZW5hYmxlZDohby5pc0xvY2tlZH0sVHQse3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJDbG9zZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkNsb3NlfSxlbmFibGVkOnJ9XX0pKGUucGFnZUlkLGUuaWRlbnRpdHkpLG49ey4uLmUsdGVtcGxhdGU6YSxjYWxsYmFjazpGYX07YXdhaXQgdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51KG4sdCl9YXN5bmMgZnVuY3Rpb24gSmEoZSx0KXtjb25zdCBhPXsuLi5lLHRlbXBsYXRlOmF3YWl0KGFzeW5jKCk9Plt7dHlwZTpPdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTp5LlNhdmVXb3Jrc3BhY2V9fSx7dHlwZTpPdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzXCIsZGF0YTp7dHlwZTp5LlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOk90LlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6T3QuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2VcIixkYXRhOnt0eXBlOnkuU2F2ZVBhZ2V9fSx7dHlwZTpPdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBc1wiLGRhdGE6e3R5cGU6eS5TYXZlUGFnZUFzfX1dKSgpLGNhbGxiYWNrOkdhfTthd2FpdCB0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoYSx0KX1jb25zdCBYYT1iJiZmdChcIm9wZW5maW4td29ya3NwYWNlLXBsYXRmb3JtLXdvcmtzcGFjZXNcIixcIndvcmtzcGFjZXNcIik7YXN5bmMgZnVuY3Rpb24gWWEoZSl7Y29uc3QgdD1hd2FpdCBodChlLFhhKTtyZXR1cm4gdD8odC53b3Jrc3BhY2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LndvcmtzcGFjZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gWmEoZSl7Y29uc3QgdD1hd2FpdCBQdChYYSksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+WWEoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+YnQodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gZW4oe3dvcmtzcGFjZTplfSl7YXdhaXQgbXQoZS53b3Jrc3BhY2VJZCxlLFhhKX1hc3luYyBmdW5jdGlvbiB0bihlKXthd2FpdCB2dChlLFhhKX1hc3luYyBmdW5jdGlvbiBhbih7d29ya3NwYWNlSWQ6ZSx3b3Jrc3BhY2U6dH0pe2lmKHZvaWQgMD09PWF3YWl0IFlhKGUpKXRocm93IG5ldyBFcnJvcihcIndvcmtzcGFjZSBub3QgZm91bmRcIik7YXdhaXQgZW4oe3dvcmtzcGFjZTp0fSksZSE9PXQud29ya3NwYWNlSWQmJmF3YWl0IHRuKGUpfWFzeW5jIGZ1bmN0aW9uIG5uKHthcHA6ZSx0YXJnZXQ6dH0pe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7c3dpdGNoKGUubWFuaWZlc3RUeXBlKXtjYXNlIGMuU25hcHNob3Q6cmV0dXJuIGEuYXBwbHlTbmFwc2hvdChlLm1hbmlmZXN0KTtjYXNlIGMuVmlldzpyZXR1cm4gYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKFwidmlld1wiPT09dC5lbnRpdHlUeXBlKXtjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpLG49YXdhaXQgYS5nZXRQYXJlbnRMYXlvdXQoKTtyZXR1cm4gYXdhaXQgbi5yZXBsYWNlVmlldyh0LHttYW5pZmVzdFVybDplLm1hbmlmZXN0LHVybDp2b2lkIDAsdGFyZ2V0OnZvaWQgMH0pLGEuZGVzdHJveSgpfXJldHVybiBhLmNyZWF0ZVZpZXcoe25hbWU6dm9pZCAwLHVybDp2b2lkIDAsbWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx0YXJnZXQ6dm9pZCAwfSl9KGUsdCk7Y2FzZSBjLkV4dGVybmFsOnJldHVybiBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7cGF0aDplLm1hbmlmZXN0LHV1aWQ6ZS5hcHBJZH0pO2RlZmF1bHQ6cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChlLm1hbmlmZXN0KX19Y29uc3Qgb249ZT0+ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpO2Z1bmN0aW9uIHJuKGUsLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGE9dC5zaGlmdCgpO3JldHVybiBvbihlKSYmb24oYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZihvbihhKSlyZXR1cm4gZVt0XXx8KGVbdF09e30pLHJuKGVbdF0sYSk7ZVt0XT1hfSkpLHJuKGUsLi4udCl9Y29uc3Qgc249TStkYS5Ccm93c2VyO2Z1bmN0aW9uIGNuKGUsdCl7Y29uc3QgYT1ybih7fSx0LGUpO3JldHVybiBhLmRldGFjaE9uQ2xvc2U9ITAsYX1hc3luYyBmdW5jdGlvbiBkbihlLHQsYSl7Y29uc3Qgbj1lLm1hbmlmZXN0VXJsP2F3YWl0IHQoe21hbmlmZXN0VXJsOmUubWFuaWZlc3RVcmx9LGEpOnZvaWQgMDtpZihuPy5pbnRlcm9wJiZlLmludGVyb3Ape2NvbnN0IHQ9ey4uLmUsLi4ubixpbnRlcm9wOmUuaW50ZXJvcH07cmV0dXJuIGRlbGV0ZSB0Lm1hbmlmZXN0VXJsLHR9cmV0dXJuIGV9Y29uc3QgcG49ZT0+e2NvbnN0IHQ9ZS5uYW1lPT09Vi5Ib21lLGE9ZS5uYW1lPy5zdGFydHNXaXRoKFYuSG9tZUludGVybmFsKSxuPWUubmFtZT8uc3RhcnRzV2l0aChWLkJyb3dzZXJNZW51KTtyZXR1cm4hdCYmIWEmJiFufSxsbj1lPT5cIndvcmtzcGFjZVBsYXRmb3JtXCJpbiBlP2U6KCh7d29ya3N0YWNrczplLHBhZ2VzOnQsLi4uYX0pPT4oey4uLmEsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOnR8fGV8fG51bGx9fSkpKGUpLHVuPXtjb250ZXh0TWVudVNldHRpbmdzOntyZWxvYWQ6ITF9LGJhY2tncm91bmRUaHJvdHRsaW5nOiEwLHVybDpzbixjb250ZXh0TWVudTohMCxjbG9zZU9uTGFzdFZpZXdSZW1vdmVkOiExLGV4cGVyaW1lbnRhbDp7c2hvd0Zhdmljb25zOiEwLGRlZmF1bHRGYXZpY29uVXJsOmAke019L2ljb25zL2RlZmF1bHRGYXZpY29uLnN2Z2B9LHBlcm1pc3Npb25zOntTeXN0ZW06e29wZW5VcmxXaXRoQnJvd3Nlcjp7ZW5hYmxlZDohMCxwcm90b2NvbHM6W1wibWFpbHRvXCJdfX19fSx3bj17ZGltZW5zaW9uczp7Ym9yZGVyV2lkdGg6MyxoZWFkZXJIZWlnaHQ6MzB9fSxmbj1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBVdCgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxuPWF3YWl0IFV0KCkuQnJvd3Nlci5nZXRBbGxBdHRhY2hlZFBhZ2VzKCk7cmV0dXJuIGUubWFwKChlPT57bGV0IG89ZS50aXRsZTt2b2lkIDA9PT1lLnBhZ2VJZCYmKGUucGFnZUlkPWNyeXB0by5yYW5kb21VVUlEKCkpO2NvbnN0IHI9YS5maW5kKChlPT5lLnRpdGxlPT09bykpO3JldHVybihyJiZyLnBhZ2VJZCE9PWUucGFnZUlkfHxuLmZpbmQoKGU9PmUudGl0bGU9PT1vKSkpJiYobz1wZShlLnRpdGxlLFsuLi5hLC4uLm5dLm1hcCgoZT0+ZS50aXRsZSkpKSksbi5wdXNoKHsuLi5lLHRpdGxlOm99KSx7Li4udCwuLi5lLHRpdGxlOm8sbGF5b3V0OihpPWUubGF5b3V0LFBlKHsuLi5pfSxiZSkpfTt2YXIgaX0pKX07dmFyIGduOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJicm93c2VyXCIsZS5QbGF0Zm9ybT1cInBsYXRmb3JtXCIsZS5DbGFzc2ljPVwiY2xhc3NpY1wiLGUuTWl4ZWQ9XCJtaXhlZFwifShnbnx8KGduPXt9KSk7Y29uc3QgeW49ZT0+e2NvbnN0IHQ9ZmluLldpbmRvdy53cmFwU3luYyhlKTtyZXR1cm4gUHJvbWlzZS5hbGwoW3QuYnJpbmdUb0Zyb250KCksdC5yZXN0b3JlKCksdC5mb2N1cygpXSl9O2FzeW5jIGZ1bmN0aW9uIGhuKGUpe2NvbnN0IHQ9KGF3YWl0IEgoKSkubWFwKChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmdldE9wdGlvbnMoKTt0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcyYmdC5sYXlvdXQmJmF3YWl0KGFzeW5jIGU9Pihhd2FpdCB4ZShlKSkuZGlzcGF0Y2goTGUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zKSkoZS5pZGVudGl0eSl9KSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQpLGU/ZSgpOnV0KCl9Y29uc3QgbW49YXN5bmMgZT0+e2F3YWl0IEFhKGZpbi5tZS5pZGVudGl0eSxlLnRpdGxlPz9hd2FpdCByYSgpLGUuc2hvdWxkQ2VudGVyT25Nb25pdG9yKSYmZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpfTtsZXQgdm49W107Y29uc3QgU249KCk9PnZuO2NvbnN0IFBuPShlLHQpPT5hc3luYyBhPT57Y29uc3Qgbj1udWxsIT09ZTtjbGFzcyBvIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4oe2lzV29ya3NwYWNlUGxhdGZvcm06ITAsaXNCcm93c2VySW5pdGlhbGl6ZWQ6ISFlfSksdGhpcy5hZGRQYWdlPXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdyx0aGlzLmRldGFjaFBhZ2VzRnJvbVdpbmRvdz1KZSx0aGlzLmdldEFsbEF0dGFjaGVkUGFnZXM9RmUsdGhpcy5nZXRQYWdlc0ZvcldpbmRvdz1ZZSx0aGlzLmdldFBhZ2VGb3JXaW5kb3c9WmUsdGhpcy5zZXRBY3RpdmVQYWdlPVhlLHRoaXMubGF1bmNoQXBwPW5uLHRoaXMuc2F2ZVBhZ2U9S2UsdGhpcy5zYXZlV29ya3NwYWNlPWdlLHRoaXMuY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9amUsdGhpcy51cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1xZSx0aGlzLmRlbGV0ZVNhdmVkUGFnZUludGVybmFsPUhlLHRoaXMucmVvcmRlclBhZ2VzRm9yV2luZG93PWV0LHRoaXMuZ2V0VW5pcXVlUGFnZVRpdGxlPXR0LHRoaXMudXBkYXRlUGFnZUZvcldpbmRvdz16ZSx0aGlzLmdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1oZSx0aGlzLmdldFRoZW1lcz1Tbix0aGlzLmludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPXN0LHRoaXMucmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPW1uLHRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZT1mZSx0aGlzLmFwcGx5V29ya3NwYWNlPWxlLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXVlLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51PXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2VzPXRoaXMuZ2V0U2F2ZWRQYWdlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlPXRoaXMuZ2V0U2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFBhZ2U9dGhpcy5jcmVhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkUGFnZT10aGlzLnVwZGF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRQYWdlPXRoaXMuZGVsZXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93PXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdy5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51PXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51PXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZT10aGlzLmdldFNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZT10aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZT10aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZT10aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dGhpcy5hcHBseVdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXRoaXMuc2V0QWN0aXZlV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyl9YXN5bmMgZ2V0U25hcHNob3QoKXtjb25zdCBlPW4/YXdhaXQgaG4oKGFzeW5jKCk9PnV0KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKSkpOmF3YWl0IHV0KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKTtyZXR1cm57Li4uZSx3aW5kb3dzOmUud2luZG93cy5maWx0ZXIocG4pLm1hcChsdCl9fWFzeW5jIGFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp0fSl7Y29uc3QgYT1lPT5zdXBlci5hcHBseVNuYXBzaG90KHtzbmFwc2hvdDplLG9wdGlvbnM6ey4uLnQsY2xvc2VFeGlzdGluZ1dpbmRvd3M6ITF9fSk7bGV0IG89ZTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89YXdhaXQgc3VwZXIuZmV0Y2hNYW5pZmVzdCh7bWFuaWZlc3RVcmw6b30sZmluLm1lLmlkZW50aXR5KSk7Y29uc3Qgcj1mdW5jdGlvbihlKXtsZXQgdD0hMSxhPSExO2Zvcihjb25zdCBuIG9mIGUud2luZG93cyl7aWYodCYmYSlicmVhaztuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoP2E9ITA6bi5sYXlvdXQmJih0PSEwKX1yZXR1cm4gdCYmYT9nbi5NaXhlZDp0P2duLlBsYXRmb3JtOmE/Z24uQnJvd3NlcjplLndpbmRvd3MubGVuZ3RoP2duLkNsYXNzaWM6bnVsbH0obyk7aWYocj09PWduLk1peGVkKXRocm93IG5ldyBFcnJvcihcIlRoaXMgc25hcHNob3QgY2Fubm90IGJlIGFwcGxpZWQgYXMgaXQgY29udGFpbnMgYSBtaXh0dXJlIG9mIGJyb3dzZXIgYW5kIHBsYXRmb3JtIHdpbmRvd3MuXCIpO2lmKG4pZ24uUGxhdGZvcm07ZWxzZSBpZihyPT09Z24uQnJvd3Nlcil0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNuYXBzaG90IGNhbm5vdCBiZSBhcHBsaWVkIGFzIHRoZSBwbGF0Zm9ybSBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRob3V0IHRoZSBicm93c2VyLlwiKTtyZXR1cm4gdD8uY2xvc2VFeGlzdGluZ1dpbmRvd3MmJmF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCBIKCk7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PmUuY2xvc2UoITApLmNhdGNoKCgoKT0+e30pKSkpKX0oKSxuP2FzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1hd2FpdCBGZSgpLG49ZS5zbmFwc2hvdERldGFpbHM/Lm1vbml0b3JJbmZvfHxhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksW28scl09KGUud2luZG93c3x8W10pLnJlZHVjZSgoKFtlLHRdLGEpPT5hPy53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/Lmxlbmd0aD9bWy4uLmUsYV0sdF06W2UsWy4uLnQsYV1dKSxbW10sW11dKSxpPW5ldyBNYXA7YS5mb3JFYWNoKChlPT5pLnNldChlLnBhZ2VJZCxlKSkpO2NvbnN0IHM9W10sYz1vLm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9bG4oZSksYT1bXSxuPShlPT57bGV0IHQ9ITE7Y29uc3QgYT0oZXx8W10pLm1hcCgoZT0+e2NvbnN0IGE9ZnVuY3Rpb24oe2lkOmUsbmFtZTp0LC4uLmF9KXtyZXR1cm57cGFnZUlkOmUsdGl0bGU6dCwuLi5hfX0oZSk7cmV0dXJuIHQmJmEuaXNBY3RpdmUmJihhLmlzQWN0aXZlPSExKSxhLmlzQWN0aXZlJiYodD0hMCksYX0pKTtyZXR1cm4hdCYmYS5sZW5ndGgmJihhWzBdLmlzQWN0aXZlPSEwKSxhfSkodD8ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzKTtpZighbj8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IHR0KCk7YS5wdXNoKGF3YWl0IEJ0KGUsdC5sYXlvdXQpKX1sZXQgbztuLmZvckVhY2goKGU9Pntjb25zdCB0PWkuZ2V0KGUucGFnZUlkKTt0P289dDphLnB1c2goZSl9KSksbyYmYXdhaXQgUHJvbWlzZS5hbGwoW1hlKHtpZGVudGl0eTpvLnBhcmVudElkZW50aXR5LHBhZ2VJZDpvLnBhZ2VJZH0pLHluKG8ucGFyZW50SWRlbnRpdHkpXSksYS5sZW5ndGgmJnMucHVzaCh7Li4udCx3b3Jrc3BhY2VQbGF0Zm9ybTp7Li4udC53b3Jrc3BhY2VQbGF0Zm9ybSxwYWdlczphfX0pfSkpO2lmKGF3YWl0IFByb21pc2UuYWxsKGMpLCFzLmxlbmd0aCYmIXIubGVuZ3RoKXJldHVybjtjb25zdCBkPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3JldHVybih0fHxkLmFwcGx5U25hcHNob3QuYmluZChkKSkoey4uLmUsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtb25pdG9ySW5mbzpufSx3aW5kb3dzOlsuLi5zLC4uLnJdfSl9KG8sYSk6YShvKX1hc3luYyBjcmVhdGVXaW5kb3codCxhKXt0LndvcmtzcGFjZVBsYXRmb3JtPy50b29sYmFyT3B0aW9ucz8uYnV0dG9ucyYmKGU9Pntjb25zdCB0PWUuZmlsdGVyKChlPT5lLnR5cGUhPT1nLkN1c3RvbSkpLGE9bmV3IFNldDtmb3IoY29uc3QgZSBvZiB0KXtpZihhLmhhcyhlLnR5cGUpKXRocm93IG5ldyBFcnJvcihgRW5jb3VudGVyZWQgYSBkdXBsaWNhdGUgb2YgJHtlLnR5cGV9IGJ1dHRvbi4gTm8gbW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBvZiBhIGJ1dHRvbiB0eXBlIG1heSBiZSBwcm92aWRlZC5gKTthLmFkZChlLnR5cGUpfX0pKHQud29ya3NwYWNlUGxhdGZvcm0udG9vbGJhck9wdGlvbnMuYnV0dG9ucyk7bGV0IG89bG4odCk7aWYobil7Y29uc3QgdD10aGlzLmdldFRoZW1lcygpO289YXdhaXQoYXN5bmMoZSx0LGEpPT57bGV0IG49ZTtjb25zdCBvPW4/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcztpZihvKXtjb25zdCBlPW8uZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2U/bi5sYXlvdXQ9ZS5sYXlvdXQ6KG9bMF0uaXNBY3RpdmU9ITAsbi5sYXlvdXQ9b1swXS5sYXlvdXQpfWlmKG4ubGF5b3V0KXtpZihuPXJuKHt9LHQuZGVmYXVsdFdpbmRvd09wdGlvbnMsbix1biksbi5sYXlvdXQ9cm4obi5sYXlvdXQsd24pLChuLmljb258fG4udGFza2Jhckljb24pJiYobi50YXNrYmFySWNvbkdyb3VwPW4udGFza2Jhckljb25Hcm91cHx8ZmluLm1lLmlkZW50aXR5LnV1aWQpLCFuLmJhY2tncm91bmRDb2xvcil7Y29uc3QgZT1hPy5wYWxldHRlO24uYmFja2dyb3VuZENvbG9yPWU/LmJhY2tncm91bmQyfHxlPy5iYWNrZ3JvdW5kUHJpbWFyeX1jb25zdCBlPW4ud29ya3NwYWNlUGxhdGZvcm0ubmV3VGFiVXJsO2lmKGUmJihuLmxheW91dC5zZXR0aW5nc3x8KG4ubGF5b3V0LnNldHRpbmdzPXt9KSxuLmxheW91dC5zZXR0aW5ncy5uZXdUYWJCdXR0b249e3VybDplfSksbj0oKGUsdCk9Pntjb25zdCBhPWU7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm18fChhLndvcmtzcGFjZVBsYXRmb3JtPXt9KSxhLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXQsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzphLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PWEuYXV0b1Nob3d8fGEuYXV0b1Nob3d9LGEuYXV0b1Nob3c9ITEsYX0pKG4sITApLCFuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgdHQoXCJVbnRpdGxlZCBQYWdlXCIpLHQ9ey4uLmF3YWl0IEJ0KGUsbi5sYXlvdXQpLGlzQWN0aXZlOiEwfTtuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPVt0XX19cmV0dXJuIG4ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiYobi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcz1hd2FpdCBmbihuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLHQ/LmRlZmF1bHRQYWdlT3B0aW9ucykpLG4uY29ybmVyUm91bmRpbmcmJmRlbGV0ZSBuLmNvcm5lclJvdW5kaW5nLG59KShvLGUsdFswXSl9bz1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksYT10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QuYm90dG9tLXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC50b3Asbj10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QucmlnaHQtdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LmxlZnQ7cmV0dXJuIGUuZGVmYXVsdEhlaWdodD1lLmRlZmF1bHRIZWlnaHR8fFwiODAwXCIsZS5kZWZhdWx0V2lkdGg9ZS5kZWZhdWx0V2lkdGh8fFwiODAwXCIsYTxlLmRlZmF1bHRIZWlnaHQmJihlLmRlZmF1bHRIZWlnaHQ9YSksbjxlLmRlZmF1bHRXaWR0aCYmKGUuZGVmYXVsdFdpZHRoPW4pLGV9KShvKTtjb25zdCByPShlLHQpPT5zdXBlci5jcmVhdGVXaW5kb3coZSx0KSxpPW4/KGU9PmFzeW5jKHQsYSk9PntsZXQgbj0hMTtjb25zdCBvPWF3YWl0IGUodCxhKTtyZXR1cm4gdD8ud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM/LmRlZmVyU2hvd0VuYWJsZWQ/KGF3YWl0IG8uYWRkTGlzdGVuZXIoRC5TaG93UmVxdWVzdGVkLChhc3luYygpPT57aWYobilyZXR1cm47Y29uc3QgZT1hd2FpdCBvLmdldE9wdGlvbnMoKTthd2FpdCBvLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnsuLi5lLndvcmtzcGFjZVBsYXRmb3JtLF9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM6ey4uLmUud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucyxhdXRvU2hvdzohMH19fSksbj0hMH0pKSxvKTpvfSkocik6cjtyZXR1cm4gaShvLGEpfWFzeW5jIGNyZWF0ZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzPWNuKHQub3B0cyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cz1hd2FpdCBkbih0Lm9wdHMsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLmNyZWF0ZVZpZXcodCxhKX1hc3luYyByZXBsYWNlVmlldyh0LGEpe3JldHVybiB0Lm9wdHMubmV3Vmlldz1hd2FpdCBjbih0Lm9wdHMubmV3VmlldyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cy5uZXdWaWV3PWF3YWl0IGRuKHQub3B0cy5uZXdWaWV3LHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSxzdXBlci5yZXBsYWNlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VMYXlvdXQoZSx0KXtyZXR1cm4gZGVsZXRlIGUub3B0cy5sYXlvdXQ/LmRpbWVuc2lvbnMsc3VwZXIucmVwbGFjZUxheW91dChlLHQpfWFzeW5jIGNsb3NlVmlldyhlLHQpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmMoZS52aWV3KTthd2FpdCBzdXBlci5jbG9zZVZpZXcoZSx0KSxhd2FpdCBhLmRlc3Ryb3koKS5jYXRjaCgoZT0+ZSkpfWFzeW5jIGdldFNhdmVkUGFnZSguLi5lKXtyZXR1cm4gV3QuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFBhZ2VzKC4uLmUpe3JldHVybiBDdC5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gSXQuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIEF0LmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBNdC5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBZYS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlcyguLi5lKXtyZXR1cm4gWmEuYXBwbHkodGhpcyxlKX1hc3luYyBjcmVhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gZW4uYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gdG4uYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gYW4uYXBwbHkodGhpcyxlKX1hc3luYyBhdHRhY2hQYWdlc1RvV2luZG93KHQpe3QucGFnZXM9YXdhaXQgZm4odC5wYWdlcyxlPy5kZWZhdWx0UGFnZU9wdGlvbnMpLGF3YWl0IFFlKHQpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBxYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gS2EuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIFFhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gS2EuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIHphLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gS2EuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBLYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gSmEuYXBwbHkodGhpcyxlKX19cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG8pOm5ldyBvfTthc3luYyBmdW5jdGlvbiBibigpeyFmdW5jdGlvbigpe2NvbnN0IGU9TCgpO2UuYWRkTGlzdGVuZXIoQi5XaW5kb3dPcHRpb25zQ2hhbmdlZCxvdCksZS5hZGRMaXN0ZW5lcihCLldpbmRvd0Nsb3NlZCxydCksZS5hZGRMaXN0ZW5lcihCLldpbmRvd0NyZWF0ZWQscnQpLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0sXCJicm93c2VyLXdpbmRvdy1yZWFkeVwiLHJ0KX0oKSxhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7YXdhaXQgZS5hZGRMaXN0ZW5lcihcIndpbmRvdy1mb2N1c2VkXCIsbWUpfSgpO3VlKGF3YWl0IHdlKCkpfWxldCBrbjtmdW5jdGlvbiBXbih7b3ZlcnJpZGVDYWxsYmFjazplLGludGVyb3BPdmVycmlkZTp0LGJyb3dzZXI6YX0pe2lmKCFTKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuXCIpO2lmKCFrbil7ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+Ym4oKSkpLGE/LnRpdGxlJiYobj1hLnRpdGxlLG9hPW4pLGtuPWZpbi5QbGF0Zm9ybS5pbml0KHtvdmVycmlkZUNhbGxiYWNrOlBuKGEsZXx8YT8ub3ZlcnJpZGVDYWxsYmFjayksaW50ZXJvcE92ZXJyaWRlOnR8fGE/LmludGVyb3BPdmVycmlkZX0pLChhc3luYyBlPT57eihRLlBsYXRmb3JtLGUpfSkoe2FsbG93ZWQ6ITB9KX12YXIgbjtyZXR1cm4ga259Y29uc3QgQ249YXN5bmMoe3RoZW1lOmUsY3VzdG9tQWN0aW9uczp0LC4uLmF9KT0+e2NvbnN0IG49Ty5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpLG89YXdhaXQoYXN5bmMgZT0+bmV3IFByb21pc2UoKGFzeW5jIHQ9PnsoYXdhaXQgWSgpKS5kaXNhYmxlUnVudGltZVZhbGlkYXRpb24mJnQoITApO2NvbnN0IGE9KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0VmVyc2lvbigpKS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpO3QoZS5ldmVyeSgoKHQsbik9PiEobjwzKXx8YVtuXT09PWVbbl0pKSl9KSkpKG4pO3ZhciByO2lmKGUmJigocj1lKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnk7aWYoIXQuaW5jbHVkZXMoXCIjXCIpJiYhdC5pbmNsdWRlcyhcInJnYlwiKSYmIXQuaW5jbHVkZXMoXCJoc2xcIikpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBwcmltYXJ5IGNvbG9yIGlzIG5vdCB0aGUgcmlnaHQgZm9ybWF0LlwiKX0pKSx2bj1yLChhc3luYyBlPT57eihRLlRoZW1pbmcsZSl9KSh7YWxsb3dlZDohMH0pKSx0JiYoaXQ9dCksbylyZXR1cm4gV24oYSk7dGhyb3cgbmV3IEVycm9yKGBSdW50aW1lIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZC4gICR7blswXX0uJHtuWzFdfS4ke25bMl19LiogaXMgcmVxdWlyZWRgKX19KSgpLG1vZHVsZS5leHBvcnRzPW59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezcwMzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtDTElBY3Rpb246KCk9PmwuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+bC5lbCxDTElUZW1wbGF0ZTooKT0+bC55VyxkZXJlZ2lzdGVyOigpPT5ldCxoaWRlOigpPT5udCxyZWdpc3RlcjooKT0+WWUsc2hvdzooKT0+dHR9KTt2YXIgbz17fTtuLnIobyksbi5kKG8se3N1YnNjcmliZTooKT0+YWV9KTt2YXIgcj17fTtuLnIociksbi5kKHIse2NyZWF0ZTooKT0+SGV9KTt2YXIgaT1uKDY3OCkscz1uKDUzMiksYT1uKDQzNik7Y29uc3QgYz1cImhvbWVcIjt2YXIgZDshZnVuY3Rpb24oZSl7ZS5Db21tYW5kcz1cImhvbWUtY29tbWFuZHNcIn0oZHx8KGQ9e30pKTt2YXIgdSxwPW4oODA2KSxsPShuKDI5OCksbig3NTgpKTtuKDExNCksbigxMDkpLG4oNDI3KTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0odXx8KHU9e30pKTt2YXIgZj1uKDMxNik7Y29uc3Qgdz1cImFsbFwiLGc9XCIwXCIsaD1cIjVcIix5PVwiNlwiLHY9KCk9Pnt9O2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4gZT9gJHtlfS0ke3R9YDp0fWZ1bmN0aW9uIFMoZSl7cmV0dXJuYF9fc2VhcmNoLSR7ZX0tdG9waWNfX2B9Y29uc3QgUD1uZXcgTWFwO2Z1bmN0aW9uIEMoZSx0KXtQLmhhcyhlKXx8UC5zZXQoZSxuZXcgU2V0KSxQLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gayhlLHQpe2NvbnN0IG49UC5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgVz1uZXcgTWFwO2Z1bmN0aW9uIFIoZSx0KXtXLmhhcyhlKXx8Vy5zZXQoZSxuZXcgU2V0KSxXLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gVChlLHQpe2NvbnN0IG49Vy5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgST1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGIoZSx0KXtJLmhhcyhlKXx8SS5zZXQoZSxuZXcgTWFwKSxJLmdldChlKS5zZXQodC5pZCx0KTtjb25zdCBuPVAuZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCBvPVsuLi5uXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pfWFzeW5jIGZ1bmN0aW9uIEQoZSx0KXtjb25zdCBuPUkuZ2V0KGUpO2lmKCFuKXJldHVybjtuLmRlbGV0ZSh0KTtjb25zdCBvPVcuZ2V0KGUpO2lmKCFvKXJldHVybjtjb25zdCByPVsuLi5vXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKHIpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIEkuZ2V0KGUpP1suLi5JLmdldChlKS52YWx1ZXMoKV06W119ZnVuY3Rpb24gRihlKXtjb25zdCB0PUkuZ2V0KGUpO3QmJnQuY2xlYXIoKX1mdW5jdGlvbiBMKGUsdCl7Y29uc3Qgbj1JLmdldChlKTtyZXR1cm4gbj9uLmdldCh0KTpudWxsfWZ1bmN0aW9uIEEoZSx0LG4pe3JldHVybnsuLi5lLGFjdGlvbjpufHx7Li4uZS5hY3Rpb25zWzBdLHRyaWdnZXI6Zi5weC5Vc2VyQWN0aW9ufSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24gTyhlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCBvPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIG87Y29uc3Qgcj1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO3IucHVzaChlKX0pKTtsZXQgcz1vLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5yKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCktKG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKSkpOnMuc29ydCgoKGUsdCk9PihudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCktKG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKSkpLHN9ZnVuY3Rpb24geChlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCBvPVtdO2xldCByPXUuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+cix0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9Pm8sdC5zZXRSZXZva2VkQnVmZmVyPWU9PntvPWUsbz8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9djtjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntyIT09dS5DbG9zZSYmKHI9dS5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntyIT09dS5PcGVuJiYocj11Lk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCBvPU8odC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKG8pfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSksbz10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIobyksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gRShlLHQsbil7Y29uc3Qgbz1uZXcgU2V0O2xldCByPSExO3JldHVybntjbG9zZTooKT0+e3I9ITA7Zm9yKGNvbnN0IGUgb2YgbyllKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntvLmFkZChlKSxyJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntvLmRlbGV0ZShlKX19fX1mdW5jdGlvbiBWKCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24gTSgpe2xldCBlO3RyeXtjb25zdCB0PWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKCF0Py5pZGVudGl0eSlyZXR1cm47ZT10LmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IF89XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIiwkPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtffWApLHE9bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLEc9bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIiksSD1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIiksTj1uZXcgRXJyb3IoYGNoYW5uZWwgJHtffWApLFU9bmV3IE1hcDtmdW5jdGlvbiBqKGUpe2NvbnN0IHQ9WChlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gWChlKXtjb25zdCB0PVUuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gSyhlLHQpe1Uuc2V0KGUsdCl9Y29uc3QgSj1uZXcgTWFwO2Z1bmN0aW9uIHooZSl7Si5oYXMoZSl8fEouc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD1KLmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIFooZSx0KXtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goZyx0KX1mdW5jdGlvbiBRKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1MLmJpbmQobnVsbCxlKSxvPXooZSkscj1aLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT1HO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT0kO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9by5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PUUodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IHA9eCgpLGw9KCk9Pntjb25zdCBlPXAuZ2V0UmVzdWx0QnVmZmVyKCk7cC5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9cC5nZXRSZXZva2VkQnVmZmVyKCk7cC5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPXAuZ2V0U3RhdHVzKCk7cih7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgZj0hMCx3PSExO3Aub25DaGFuZ2U9KCk9PntpZihmKXJldHVybiBmPSExLHZvaWQgbCgpO3d8fCh3PSEwLHNldFRpbWVvdXQoKCgpPT57dz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEscC5yZXMpLG49cC5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmUubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiBZKGUsdCxuKXtjb25zdCBvPW58fGF3YWl0IGooZSkscj1WKCksaT17aWRlbnRpdHk6ciwuLi50LG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0scz1hd2FpdCBvLmRpc3BhdGNoKFwiMlwiLGkpO3JldHVybiBhd2FpdCBiKGUse2lkZW50aXR5OnIsLi4udH0pLHN9YXN5bmMgZnVuY3Rpb24gZWUoZSx0KXtjb25zdCBuPWF3YWl0IGooZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksRChlLHQpfWFzeW5jIGZ1bmN0aW9uIHRlKGUsdCxuLG8pe2NvbnN0IHI9QShuLFYoKSxvKSxpPUwoZSx0KTtpZihpKXtjb25zdHtvblJlc3VsdERpc3BhdGNoOmV9PWk7aWYoIWUpcmV0dXJuO3JldHVybiBlKHIpfWNvbnN0IHM9e3Byb3ZpZGVySWQ6dCxyZXN1bHQ6cn07cmV0dXJuKGF3YWl0IGooZSkpLmRpc3BhdGNoKGgscyl9YXN5bmMgZnVuY3Rpb24gbmUoZSx0KXtjb25zdCBuPXsuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e319LG89e30scj1hc3luYyBmdW5jdGlvbiooZSx0LHtzZXRTdGF0ZTpufSl7Y29uc3Qgbz1hd2FpdCBqKGUpO2Zvcig7Oyl7Y29uc3QgZT1hd2FpdCBvLmRpc3BhdGNoKFwiMVwiLHQpLHI9ZS5lcnJvcjtpZihyKXRocm93IG5ldyBFcnJvcihyKTtjb25zdCBpPWU7aWYodC5pZD1pLmlkLG4oaS5zdGF0ZSksaS5kb25lKXJldHVybiBpLnZhbHVlO3lpZWxkIGkudmFsdWV9fShlLG4se3NldFN0YXRlOmU9PntvLnN0YXRlPWV9fSk7bGV0IGk9YXdhaXQgci5uZXh0KCk7cmV0dXJuIG8uaWQ9bi5pZCxvLmNsb3NlPSgpPT57IWFzeW5jIGZ1bmN0aW9uKGUsdCl7KGF3YWl0IGooZSkpLmRpc3BhdGNoKHkse2lkOnR9KX0oZSxvLmlkKX0sby5uZXh0PSgpPT57aWYoaSl7Y29uc3QgZT1pO3JldHVybiBpPXZvaWQgMCxlfXJldHVybiByLm5leHQoKX0sb31hc3luYyBmdW5jdGlvbiBvZShlKXtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goXCI0XCIsbnVsbCl9YXN5bmMgZnVuY3Rpb24gcmUoZSl7Y29uc3QgdD1hd2FpdCBqKGUpO3ZhciBuO249ZSxVLmRlbGV0ZShuKSxGKGUpLGF3YWl0IHQuZGlzY29ubmVjdCgpfWZ1bmN0aW9uIGllKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49eih0KTtyZXR1cm4gYXN5bmMgbz0+e2lmKCFYKHQpKXJldHVybjtjb25zdCByPW4uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShvKTtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiByLnZhbHVlcygpKXQoKSxyLmRlbGV0ZShlLmlkKTtLKHQsKGFzeW5jIGU9Pntjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWF3YWl0IHNlKGUpO2Zvcihjb25zdCBlIG9mIEIodCkpYXdhaXQgWSh0LGUsbik7cmV0dXJuIG59KShlKSl9fWFzeW5jIGZ1bmN0aW9uIHNlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49Uyh0KSxvPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8NTA7dCsrKXRyeXtyZXR1cm4gYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3dhaXQ6ITF9KX1jYXRjaChlKXtpZig0OT09PXQpdGhyb3cgZTthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDFlMykpKX19KG4pO3JldHVybiBvLnJlZ2lzdGVyKGcsUShlKSksby5yZWdpc3Rlcih5LGZ1bmN0aW9uKGUpe2NvbnN0IHQ9eihlKTtyZXR1cm4oZSxuKT0+e2NvbnN0IG89dC5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG4pLHI9by5nZXQoZS5pZCk7ciYmKHIuY2xvc2UoKSxvLmRlbGV0ZShlLmlkKSl9fSh0KSksby5yZWdpc3RlcihoLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgbz1MKGUsdC5wcm92aWRlcklkKTtpZighbylyZXR1cm47Y29uc3R7b25SZXN1bHREaXNwYXRjaDpyfT1vO3JldHVybiByPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixyKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLG8ub25EaXNjb25uZWN0aW9uKGllKGUpKSxvfWFzeW5jIGZ1bmN0aW9uIGFlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx3LG49KFwic3RyaW5nXCI9PXR5cGVvZiBlP251bGw6ZT8udXVpZCl8fE0oKSxvPW0obix0KSxyPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpvfTtsZXQgaT1YKG8pO3JldHVybiBpfHwoaT1zZShyKSxLKG8saSksYXdhaXQgaSkse2dldEFsbFByb3ZpZGVyczpvZS5iaW5kKG51bGwsbykscmVnaXN0ZXI6WS5iaW5kKG51bGwsbyksc2VhcmNoOm5lLmJpbmQobnVsbCxvKSxkZXJlZ2lzdGVyOmVlLmJpbmQobnVsbCxvKSxkaXNwYXRjaDp0ZS5iaW5kKG51bGwsbyksZGlzY29ubmVjdDpyZS5iaW5kKG51bGwsbyl9fWNvbnN0IGNlPW5ldyBNYXA7ZnVuY3Rpb24gZGUoZSl7Y29uc3QgdD11ZShlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gdWUoZSl7Y29uc3QgdD1jZS5nZXQoZSk7aWYodClyZXR1cm4gdH1jb25zdCBwZT1uZXcgTWFwO2Z1bmN0aW9uIGxlKGUsdCl7cGUuaGFzKGUpfHxwZS5zZXQoZSxuZXcgU2V0KSxwZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIGZlKGUsdCl7Y29uc3Qgbj1wZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gd2UoZSl7cmV0dXJuWy4uLkIoZSldLm1hcCgoZT0+KHsuLi5lLG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0pKSl9YXN5bmMgZnVuY3Rpb24gZ2UoZSx0KXtpZihMKGUsdC5pZCkpdGhyb3cgbmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpO2NvbnN0IG49VigpO2F3YWl0IGIoZSx7aWRlbnRpdHk6biwuLi50fSl9ZnVuY3Rpb24gaGUoZSx0KXtEKGUsdCl9YXN5bmMgZnVuY3Rpb24geWUoZSx0LG4sbyl7Y29uc3Qgcj1MKGUsdCk7aWYoIXIpdGhyb3cgJDtjb25zdHtvblJlc3VsdERpc3BhdGNoOml9PXI7aWYoIWkpcmV0dXJuO3JldHVybiBpKEEobixWKCksbykpfWFzeW5jIGZ1bmN0aW9uKnZlKGUsdCxuKXtjb25zdCBvPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxvPVtdLHI9W10saT1bXTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXgocy5zY29yZU9yZGVyKSxhPXtyZXN1bHRzOltdLHByb3ZpZGVyOntpZDpzLmlkLGlkZW50aXR5OnMuaWRlbnRpdHksdGl0bGU6cy50aXRsZSxzY29yZU9yZGVyOnMuc2NvcmVPcmRlcixpY29uOnMuaWNvbixkaXNwYXRjaEZvY3VzRXZlbnRzOnMuZGlzcGF0Y2hGb2N1c0V2ZW50c319O24ucHVzaChhKSxvLnB1c2goZSk7Y29uc3QgYz0oYXN5bmMoKT0+e3RyeXtjb25zdHtyZXN1bHRzOm4sY29udGV4dDpvfT1hd2FpdCBzLm9uVXNlcklucHV0KHQsZS5yZXMpO2EucmVzdWx0cz1PKGEucmVzdWx0cyxuKSxhLmNvbnRleHQ9ey4uLmEuY29udGV4dCwuLi5vfX1jYXRjaChlKXthLmVycm9yPWV9fSkoKTtjLmZpbmFsbHkoKCgpPT57Yy5kb25lPSEwfSkpLGkucHVzaChjKSxyLnB1c2goci5sZW5ndGgpfXJldHVybntwcm92aWRlclJlc3BvbnNlczpuLGxpc3RlbmVyUmVzcG9uc2VzOm8sb3Blbkxpc3RlbmVyUmVzcG9uc2VzOnIsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6aX19KHQudGFyZ2V0cz90LnRhcmdldHMubWFwKCh0PT5MKGUsdCkpKS5maWx0ZXIoKGU9PiEhZSkpOlsuLi5CKGUpLmZpbHRlcigoZT0+IWUuaGlkZGVuKSldLHQpLHtwcm92aWRlclJlc3BvbnNlczpyLGxpc3RlbmVyUmVzcG9uc2VzOml9PW87bGV0e29wZW5MaXN0ZW5lclJlc3BvbnNlczpzLGluaXRpYWxSZXNwb25zZVByb21pc2VzOmF9PW8sYz1mLkRlLkZldGNoaW5nO2NvbnN0IGQ9ZT0+e2M9ZSxuLnNldFN0YXRlKGMpfTtsZXQgcCxsPSExO3Qub25DbG9zZSgoKCk9PntsPSEwLHAmJnAoKX0pKTtkb3tsZXQgZT0hMTtpZihhLmxlbmd0aCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBhKW4uZG9uZT9lPSEwOnQucHVzaChuKTthPXQsYS5sZW5ndGh8fChkKGYuRGUuRmV0Y2hlZCksZT0hMCl9bGV0IHQsbj0hMTtjb25zdCBvPSgpPT57bj0hMCx0JiZ0KCl9LHc9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1pW3RdLHM9clt0XSxhPW4uZ2V0U3RhdHVzKCk7KGE9PT11Lk9wZW58fGM9PT1mLkRlLkZldGNoaW5nJiZhPT09dS5Jbml0aWFsKSYmKHcucHVzaCh0KSxuLm9uQ2hhbmdlPW8pO2NvbnN0IGQ9bi5nZXRSZXN1bHRCdWZmZXIoKTtkLmxlbmd0aCYmKG4uc2V0UmVzdWx0QnVmZmVyKFtdKSxzLnJlc3VsdHM9TyhzLnJlc3VsdHMsZCksZT0hMCk7Y29uc3QgcD1uLmdldFJldm9rZWRCdWZmZXIoKTtpZihwLmxlbmd0aCl7bi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCB0PW5ldyBTZXQocCk7cy5yZXN1bHRzPXMucmVzdWx0cy5maWx0ZXIoKCh7a2V5OmV9KT0+IXQuaGFzKGUpKSksZT0hMH19aWYocz13LGUmJih5aWVsZCByKSxsKWJyZWFrO258fChzLmxlbmd0aHx8YS5sZW5ndGgpJiZhd2FpdCBQcm9taXNlLnJhY2UoWy4uLmEsbmV3IFByb21pc2UoKGU9Pnt0PWV9KSksbmV3IFByb21pc2UoKGU9PntwPWV9KSldKX13aGlsZShzLmxlbmd0aHx8YS5sZW5ndGgpO3JldHVybiBkKGYuRGUuQ29tcGxldGUpLHJ9bGV0IG1lPTA7ZnVuY3Rpb24gU2Uoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9LG4pe21lKz0xO2NvbnN0IG89RSh0LG1lLnRvU3RyaW5nKCksbikscj12ZShlLG8ucmVxLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO3JldHVybiByLmlkPW1lLnRvU3RyaW5nKCksci5jbG9zZT1vLmNsb3NlLHIuc3RhdGU9Zi5EZS5GZXRjaGluZyxyfWNvbnN0IFBlPW5ldyBNYXA7ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm5gJHtlfToke3R9YH1mdW5jdGlvbiBrZShlKXtyZXR1cm4gYXN5bmModCwuLi5uKT0+e2lmKCF0KXJldHVybntlcnJvcjpHLm1lc3NhZ2V9O2xldCBvO2lmKHQuaWQpbz1DZShlLm5hbWVzcGFjZWRUb3BpYyx0LmlkKTtlbHNle2NvbnN0IG49U2UoZSx0KTtvPUNlKGUubmFtZXNwYWNlZFRvcGljLG4uaWQpLHQuaWQ9bi5pZCxQZS5zZXQobyx7Z2VuZXJhdG9yOm59KX1jb25zdCByPVBlLmdldChvKTtjbGVhclRpbWVvdXQoci50aW1lb3V0KTtjb25zdCBpPWF3YWl0IHIuZ2VuZXJhdG9yLm5leHQoKTtyZXR1cm4gci50aW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCgoKCk9PntQZS5kZWxldGUoZSl9KSwxZTQpfShvKSx7Li4uaSxpZDp0LmlkLHN0YXRlOnIuZ2VuZXJhdG9yLnN0YXRlfX19ZnVuY3Rpb24gV2UoZSx0LG4pe3JldHVybiBkZShlKS5kaXNwYXRjaCh0LHkse2lkOm59KX1mdW5jdGlvbiBSZShlKXtyZXR1cm4gdD0+ZnVuY3Rpb24oZSx0KXtjb25zdCBuPUNlKGUsdCksbz1QZS5nZXQobik7byYmby5nZW5lcmF0b3IuY2xvc2UoKX0oZSx0LmlkKX1hc3luYyBmdW5jdGlvbiBUZShlLHQse2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppfSl7Y29uc3Qgcz1kZShlKSxhPXtpZDpuLHF1ZXJ5Om8sY29udGV4dDpyLHRhcmdldHM6aSxwcm92aWRlcklkOnQuaWR9LGM9YXdhaXQgcy5kaXNwYXRjaCh0LmlkZW50aXR5LGcsYSksZD1jLmVycm9yO2lmKGQpdGhyb3cgbmV3IEVycm9yKGQpO3JldHVybiBjfWNvbnN0IEllPW5ldyBNYXA7ZnVuY3Rpb24gYmUoZSx0LG4pe3JldHVybmAke2V9OiR7dC5uYW1lfToke3QudXVpZH06JHtufWB9Y29uc3QgRGU9bmV3IE1hcDtmdW5jdGlvbiBCZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0fToke259YH1mdW5jdGlvbiBGZShlLHQpe2NvbnN0IG49YmUuYmluZChudWxsLGUsdC5pZGVudGl0eSksbz1XZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPVRlLmJpbmQobnVsbCxlLHQpO3JldHVybiBhc3luYyhpLHMpPT57Y29uc3QgYT1uKGkuaWQpO2lmKCFJZS5oYXMoYSkpe2NvbnN0IGU9KCk9PntvKGkuaWQpLEllLmRlbGV0ZShhKX07SWUuc2V0KGEsZSksaS5vbkNsb3NlKGUpfWNvbnN0IGM9QmUoZSx0LmlkLGkuaWQpLGQ9KCk9PntEZS5kZWxldGUoYykscy5jbG9zZSgpfTtpLm9uQ2xvc2UoZCksRGUuc2V0KGMsKGU9PntlLnJlc3VsdHM/Lmxlbmd0aCYmcy5yZXNwb25kKGUucmVzdWx0cyksZS5yZXZva2VkPy5sZW5ndGgmJnMucmV2b2tlKC4uLmUucmV2b2tlZCksZS5zdGF0dXM9PT11Lk9wZW4mJnMub3BlbigpLGUuc3RhdHVzPT09dS5DbG9zZSYmZCgpfSkpO2NvbnN0IHA9YXdhaXQgcihpKTtyZXR1cm4gcC5zdGF0dXM9PT11Lk9wZW4mJnMub3BlbigpLHAuc3RhdHVzIT09dS5DbG9zZSYmcC5zdGF0dXMhPT11LkluaXRpYWx8fGQoKSxwfX1mdW5jdGlvbiBMZShlLHQpe3JldHVybiBhc3luYyBuPT57Y29uc3Qgbz1kZShlKSxyPXtwcm92aWRlcklkOnQuaWQscmVzdWx0Om59O3JldHVybiBvLmRpc3BhdGNoKHQuaWRlbnRpdHksaCxyKX19Y29uc3QgQWU9bmV3IE1hcDtmdW5jdGlvbiBPZShlLHQpe3JldHVybmAke2V9LSR7dC5uYW1lfS0ke3QudXVpZH1gfWZ1bmN0aW9uIHhlKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LmlkKXJldHVybiB2b2lkIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh0KSk7aWYoTChlLHQuaWQpKXRocm93IHE7cmV0dXJuIHQuaWRlbnRpdHk9bixhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0LmlkZW50aXR5KTtBZS5oYXMobil8fEFlLnNldChuLFtdKSxBZS5nZXQobikucHVzaCh0LmlkKSxhd2FpdCBiKGUsey4uLnQsb25Vc2VySW5wdXQ6RmUoZSx0KSxvblJlc3VsdERpc3BhdGNoOkxlKGUsdCl9KX0oZSx0KSx7d29ya3NwYWNlVmVyc2lvbjppLnUwLGNsaWVudEFQSVZlcnNpb246dC5jbGllbnRBUElWZXJzaW9ufX19ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIHQ9Pnt0JiZmdW5jdGlvbihlLHQpe2NvbnN0IG49TChlLHQpO2lmKCFuKXJldHVybjtjb25zdCBvPU9lKGUsbi5pZGVudGl0eSkscj1BZS5nZXQobyk7aWYocil7Y29uc3Qgbj1yLmZpbmRJbmRleCgoZT0+ZT09PXQpKTstMSE9PW4mJihyLnNwbGljZShuLDEpLEQoZSx0KSl9fShlLHQpfX1jb25zdCBWZT1uZXcgTWFwO2Z1bmN0aW9uIE1lKGUsdCl7VmUuaGFzKGUpfHxWZS5zZXQoZSxuZXcgU2V0KSxWZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIF9lKGUsdCl7Y29uc3Qgbj1WZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gJGUoZSl7cmV0dXJuIGFzeW5jIHQ9PnshZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9lKGUsdCksbz1BZS5nZXQobik7aWYobyl7Zm9yKGNvbnN0IHQgb2YgbylEKGUsdCk7QWUuZGVsZXRlKG4pfX0oZSx0KTtjb25zdCBuPVZlLmdldChlKTtuJiZuLmZvckVhY2goKGU9PmUodCkpKX19YXN5bmMgZnVuY3Rpb24gcWUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1TKGUubmFtZXNwYWNlZFRvcGljKSxvPWF3YWl0KHI9bixmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNyZWF0ZShyKSk7dmFyIHI7cmV0dXJuIG8ub25Db25uZWN0aW9uKGZ1bmN0aW9uKHtuYW1lc3BhY2VkVG9waWM6ZX0pe3JldHVybiBhc3luYyB0PT57Y29uc3Qgbj1wZS5nZXQoZSk7aWYobilmb3IoY29uc3QgZSBvZiBuKWlmKCFhd2FpdCBlKHQpKXRocm93IEh9fShlKSksby5vbkRpc2Nvbm5lY3Rpb24oJGUodCkpLG8ucmVnaXN0ZXIoeSxSZSh0KSksby5yZWdpc3RlcihnLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj1CZShlLHQucHJvdmlkZXJJZCx0LmlkKSxvPURlLmdldChuKTtvJiZvKHQpfX0odCkpLG8ucmVnaXN0ZXIoXCIyXCIseGUodCkpLG8ucmVnaXN0ZXIoXCIzXCIsRWUodCkpLG8ucmVnaXN0ZXIoXCI0XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKCk9PndlKGUpfSh0KSksby5yZWdpc3RlcihcIjFcIixrZShlKSksby5yZWdpc3RlcihoLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgbz1MKGUsdC5wcm92aWRlcklkKTtpZighbyl0aHJvdyAkO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6cn09bztyZXR1cm4gcj8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4scih0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxvfWFzeW5jIGZ1bmN0aW9uIEdlKGUpe2NvbnN0IHQ9ZGUoZSk7dmFyIG47bj1lLGNlLmRlbGV0ZShuKSxhd2FpdCB0LmRlc3Ryb3koKSxGKGUpfWFzeW5jIGZ1bmN0aW9uIEhlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx3LG49TSgpLG89bShuLHQpLHI9e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOm99O2xldCBpPXVlKG8pO2l8fChpPWF3YWl0IHFlKHIpLGZ1bmN0aW9uKGUsdCl7Y2Uuc2V0KGUsdCl9KG8saSkpO2NvbnN0IHM9ZmUuYmluZChudWxsLG8pLGE9X2UuYmluZChudWxsLG8pLGM9ay5iaW5kKG51bGwsbyksZD1ULmJpbmQobnVsbCxvKTtyZXR1cm57Z2V0QWxsUHJvdmlkZXJzOndlLmJpbmQobnVsbCxvKSxzZWFyY2g6U2UuYmluZChudWxsLHIpLHJlZ2lzdGVyOmdlLmJpbmQobnVsbCxvKSxkZXJlZ2lzdGVyOmhlLmJpbmQobnVsbCxvKSxvblN1YnNjcmlwdGlvbjpsZS5iaW5kKG51bGwsbyksb25EaXNjb25uZWN0Ok1lLmJpbmQobnVsbCxvKSxvblJlZ2lzdGVyOkMuYmluZChudWxsLG8pLG9uRGVyZWdpc3RlcjpSLmJpbmQobnVsbCxvKSxkaXNwYXRjaDp5ZS5iaW5kKG51bGwsciksZGlzY29ubmVjdDpHZS5iaW5kKG51bGwsbykscmVtb3ZlTGlzdGVuZXI6ZT0+e3MoZSksYShlKSxjKGUpLGQoZSl9fX1jb25zdHtjcmVhdGU6TmV9PXIse3N1YnNjcmliZTpVZX09byxqZT17Y3JlYXRlOk5lLHN1YnNjcmliZTpVZSxkZWZhdWx0VG9waWM6XCJhbGxcIn0sWGU9KCk9Pnt3aW5kb3cuc2VhcmNoPWplfSxLZT1lPT57Y29uc3QgdD0oKT0+e1hlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1hlKCk7Y29uc3QgZT1cImxvYWRcIix0PUtlKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixvPUtlKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4sbyl9Y29uc3QgSmU9bmV3IE1hcDthc3luYyBmdW5jdGlvbiB6ZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0plLnNldChlLGF3YWl0IFVlKHt0b3BpYzplLHV1aWQ6cC5xOS5Xb3Jrc3BhY2V9KSl9KGMpfWxldCBaZTthc3luYyBmdW5jdGlvbiBRZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gWmV8fChaZT16ZSgpKSxaZX0oKSxKZS5nZXQoZSl9Y29uc3QgWWU9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAsYS5hQikoKTtjb25zdCB0PWF3YWl0IFFlKGMpO3RyeXtlLmNsaWVudEFQSVZlcnNpb249aS51MDtjb25zdCBuPWF3YWl0IHQucmVnaXN0ZXIoZSk7cmV0dXJuKDAscy5jaykoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbn1jYXRjaChlKXt0aHJvdygwLHMuY2spKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZS5tZXNzYWdlfSksZX19LGV0PWFzeW5jIGU9Pnthd2FpdCgwLGEuYUIpKCk7cmV0dXJuKGF3YWl0IFFlKGMpKS5kZXJlZ2lzdGVyKGUpfTthc3luYyBmdW5jdGlvbiB0dCgpe3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuU2hvd0hvbWUsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiBudCgpe3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuSGlkZUhvbWUsdm9pZCAwKX19LDI5ODooZSx0LG4pPT57bi5kKHQse3A6KCk9Pm8ucHgsdzooKT0+by53dH0pO3ZhciBvPW4oMzE2KX0sNDI3OihlLHQsbik9Pnt2YXIgbztuLmQodCx7djooKT0+b30pLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KG98fChvPXt9KSl9LDc1ODooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtQdDooKT0+byxlbDooKT0+aSx5VzooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sMTE0OihlLHQsbik9Pnt2YXIgbyxyO24uZCh0LHtMOigpPT5vLFQ6KCk9PnJ9KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShyfHwocj17fSkpfSwxMDk6KGUsdCxuKT0+e24uZCh0LHtHbzooKT0+cixaSjooKT0+cyxiSTooKT0+aSxwNjooKT0+b30pO2NvbnN0IG89e0NvbnRhaW5lcjpcIkNvbnRhaW5lclwiLEJ1dHRvbjpcIkJ1dHRvblwifSxyPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxpPXsuLi5vLC4uLnJ9O3ZhciBzOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oc3x8KHM9e30pKX0sNTI4OihlLHQsbik9PntuLnIodCksbi5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+cy5MLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+cy5ULGRlcmVnaXN0ZXI6KCk9PmcsaGlkZTooKT0+aCxyZWdpc3RlcjooKT0+dyxzaG93OigpPT55fSk7dmFyIG89big1MzIpLHI9big0MzYpLGk9big4Mikscz1uKDExNCksYT1uKDY3OCk7bGV0IGMsZD0hMTthc3luYyBmdW5jdGlvbiB1KGUsdCxuKXtjb25zdCBvPWF3YWl0KDAsci5EbSkoKTt0cnl7cmV0dXJuIGF3YWl0IG8uZGlzcGF0Y2goZS5hY3Rpb24sZS5wYXlsb2FkKX1jYXRjaChyKXtpZigtMSE9PXIudG9TdHJpbmcoKS5pbmRleE9mKGUuYWN0aW9uKSlyZXR1cm4gZD0hMCxhd2FpdCBvLmRpc3BhdGNoKHQuYWN0aW9uLHQucGF5bG9hZCksbjt0aHJvdyByfX1jb25zdCBwPW5ldyBNYXAsbD1lPT57aWYoIXAuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcC5nZXQoZSl9LGY9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxyLlhsKSgpO2lmKHAuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIHAuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+bChlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5sKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihyLldGLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5sKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+bChlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKHIuV0YuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+bChlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSxlLmNsaWVudEFQSVZlcnNpb249YS51MCx1KHthY3Rpb246ci5XRi5SZWdpc3RlclByb3ZpZGVyLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnQsaW5mbzplfX0se2FjdGlvbjpyLldGLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLHBheWxvYWQ6ZX0se3dvcmtzcGFjZVZlcnNpb246XCJ1bmtub3duXCJ9KX0sdz1lPT4oYz1uZXcgUHJvbWlzZSgoYXN5bmModCxuKT0+e3RyeXtjb25zdCBuPWF3YWl0IGYoZSk7KDAsby5kOSkoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksdCh7Y2xpZW50QVBJVmVyc2lvbjphLnUwLHdvcmtzcGFjZVZlcnNpb246bi53b3Jrc3BhY2VWZXJzaW9ufHxcIlwifSl9Y2F0Y2goZSl7KDAsby5kOSkoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxuKGUpfX0pKSxjKSxnPWFzeW5jIGU9Pihhd2FpdCBjLHAuZGVsZXRlKGUpLGF3YWl0KDAsci5hQikoKSx1KHthY3Rpb246ci5XRi5EZXJlZ2lzdGVyUHJvdmlkZXIscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udCxpZDplfX0se2FjdGlvbjpyLldGLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIscGF5bG9hZDplfSkpLGg9YXN5bmMoKT0+KGF3YWl0IGMsYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLkhpZGVQcm92aWRlcldpbmRvdyxwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250fX0se2FjdGlvbjpyLldGLkhpZGVTdG9yZWZyb250fSkpLHk9YXN5bmMoKT0+KGF3YWl0IGMsYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLlNob3dQcm92aWRlcldpbmRvdyxwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250fX0se2FjdGlvbjpyLldGLlNob3dTdG9yZWZyb250fSkpfSw0MzY6KGUsdCxuKT0+e24uZCh0LHtXRjooKT0+cyxEbTooKT0+YSxYbDooKT0+cCxhQjooKT0+dX0pO3ZhciBvPW4oNjc4KTtjb25zdCByPW8uQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclByb3ZpZGVyPVwicmVnaXN0ZXItcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJQcm92aWRlcj1cImRlcmVnaXN0ZXItcHJvdmlkZXJcIixlLkNyZWF0ZVByb3ZpZGVyV2luZG93PVwiY3JlYXRlLXByb3ZpZGVyLXdpbmRvd1wiLGUuR2V0UHJvdmlkZXJzPVwiZ2V0LXByb3ZpZGVyc1wiLGUuU2hvd1Byb3ZpZGVyV2luZG93PVwic2hvdy1wcm92aWRlci13aW5kb3dcIixlLkhpZGVQcm92aWRlcldpbmRvdz1cImhpZGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwiLGUuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwiZGVyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5IaWRlU3RvcmVmcm9udD1cImhpZGUtc3RvcmVmcm9udFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIW8uc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgcjtjb25zdCBuPXtjbGllbnRBUElWZXJzaW9uOm8udTB9LGk9YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3BheWxvYWQ6bn0pO3JldHVybiBpLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLGl9KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgobj0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke259YCl9KSkpLHR9fShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1cImlzTGF1bmNoZWRWaWFMaWJcIixkPWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChjLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHU9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLGkuSlYpKGkuaVcpKXJldHVybihvLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKG8uYVcpKSxmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKG8uR1gpKX0scD1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDgyOihlLHQsbik9PntuLmQodCx7Ujg6KCk9PnMsWF86KCk9PmksbFA6KCk9Pm99KTt2YXIgbyxyPW4oNDM2KTshZnVuY3Rpb24oZSl7ZS5TdG9yZWZyb250PVwic3RvcmVmcm9udFwiLGUuRG9jaz1cImRvY2tcIn0ob3x8KG89e30pKTtjb25zdCBpPWFzeW5jIGU9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuV0YuU2hvd1Byb3ZpZGVyV2luZG93LHtwcm92aWRlclR5cGU6ZX0pLHM9YXN5bmMgZT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5XRi5IaWRlUHJvdmlkZXJXaW5kb3cse3Byb3ZpZGVyVHlwZTplfSl9LDgwNjooZSx0LG4pPT57bi5kKHQse3E5OigpPT5vfSk7dmFyIG8scixpLHM9big2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixvLldvcmtzcGFjZX0sNjc4OihlLHQsbik9Pnt2YXIgbztuLmQodCx7QUI6KCk9PmEsQXg6KCk9PmksR1g6KCk9PnUsWks6KCk9PmQsYVc6KCk9PnAsb0M6KCk9PmMsc1M6KCk9PnIsdTA6KCk9PmZ9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KG98fChvPXt9KSk7Y29uc3Qgcj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46by5Mb2NhbCxhPXImJmZpbi5tZS51dWlkLGM9ciYmZmluLm1lLm5hbWUsZD0ociYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1vLkxvY2FsKSx1PShvLkRldixvLlN0YWdpbmcsby5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxwPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjcvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLGY9KGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuN1wiKSxsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4wLjdcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiOS4wLjdcIil9LDUzMjooZSx0LG4pPT57bi5kKHQse1duOigpPT5kLGNrOigpPT5hLGQ5OigpPT5jfSk7dmFyIG8scj1uKDY3OCksaT1uKDEyMSk7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0ob3x8KG89e30pKTtjb25zdCBzPWFzeW5jKGUsdCk9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci51MCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fHIudTAsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOm59KX0sYT1hc3luYyBlPT57aS5PSS51dWlkPT09aS5HaS51dWlkJiZpLk9JLm5hbWU9PT1pLkdpLm5hbWV8fHMoby5Ib21lLGUpfSxjPWFzeW5jIGU9PntzKG8uU3RvcmVmcm9udCxlKX0sZD1hc3luYyBlPT57cyhvLkRvY2ssZSl9fSwxMjE6KGUsdCxuKT0+e24uZCh0LHtHaTooKT0+YyxKVjooKT0+cCxPSTooKT0+ZCxpVzooKT0+dX0pO3ZhciBvLHIsaT1uKDgwNikscz1uKDY3OCk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlZD1cImNsb3NlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KHJ8fChyPXt9KSk7ZnVuY3Rpb24gYShlKXtpZighcy5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1jb25zdCBjPXtuYW1lOnMub0MsdXVpZDpzLkFCfTtjb25zdCBkPXtuYW1lOm8uSG9tZSx1dWlkOmkucTkuV29ya3NwYWNlfSx1PShvLkRvY2ssaS5xOS5Xb3Jrc3BhY2Usby5TdG9yZWZyb250LGkucTkuV29ya3NwYWNlLHtuYW1lOmkucTkuV29ya3NwYWNlLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9KTtjb25zdCBwPWU9PmEoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKX0sMzE2OihlLHQsbik9Pnt2YXIgbyxyLGk7bi5kKHQse0RlOigpPT5vLHB4OigpPT5yLHd0OigpPT5pfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KGl8fChpPXt9KSl9fSx0PXt9O2Z1bmN0aW9uIG4obyl7dmFyIHI9dFtvXTtpZih2b2lkIDAhPT1yKXJldHVybiByLmV4cG9ydHM7dmFyIGk9dFtvXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbb10oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgbyBpbiB0KW4ubyh0LG8pJiYhbi5vKGUsbykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8se2VudW1lcmFibGU6ITAsZ2V0OnRbb119KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBvPXt9OygoKT0+e24ucihvKSxuLmQobyx7QWN0aW9uVHJpZ2dlcjooKT0+UC5wLEFwcE1hbmlmZXN0VHlwZTooKT0+Vy5MLEJ1dHRvblN0eWxlOigpPT5DLlpKLENMSUFjdGlvbjooKT0+ay5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5rLmVsLENMSVRlbXBsYXRlOigpPT5rLnlXLENvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Qy5wNixEb2NrOigpPT5lLERvY2tCdXR0b25OYW1lczooKT0+Yy52LEhvbWU6KCk9PmgsTGVnYWN5OigpPT50LFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Qy5HbyxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT5QLncsU3RvcmVmcm9udDooKT0+UyxTdG9yZWZyb250VGVtcGxhdGU6KCk9PlcuVCxUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PkMuYkl9KTt2YXIgZT17fTtuLnIoZSksbi5kKGUse0RvY2tCdXR0b25OYW1lczooKT0+Yy52LGRlcmVnaXN0ZXI6KCk9PmwsbWluaW1pemU6KCk9PmYscmVnaXN0ZXI6KCk9PnAsc2hvdzooKT0+d30pO3ZhciB0PXt9O24ucih0KSxuLmQodCx7Z2V0UGFnZXM6KCk9PnYsZ2V0V29ya3NwYWNlczooKT0+bX0pO3ZhciByPW4oNjc4KSxpPW4oNTMyKSxzPW4oNDM2KSxhPW4oODIpLGM9big0MjcpO2xldCBkLHU9ITE7Y29uc3QgcD1lPT4oZD1uZXcgUHJvbWlzZSgoYXN5bmModCxuKT0+e3RyeXtjb25zdCBuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0KDAscy5YbCkoKTtpZih1KXRocm93IG5ldyBFcnJvcihcIkEgZG9jayBwcm92aWRlciBmb3IgdGhlIHBsYXRmb3JtIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7cmV0dXJuIHU9ITAsZS5jbGllbnRBUElWZXJzaW9uPXIudTAsdC5kaXNwYXRjaChzLldGLlJlZ2lzdGVyUHJvdmlkZXIse3Byb3ZpZGVyVHlwZTphLmxQLkRvY2ssaW5mbzplfSl9KShlKTsoMCxpLlduKSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb259KSx0KHtjbGllbnRBUElWZXJzaW9uOnIudTAsd29ya3NwYWNlVmVyc2lvbjpuLndvcmtzcGFjZVZlcnNpb258fFwiXCJ9KX1jYXRjaChlKXsoMCxpLlduKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUubWVzc2FnZX0pLG4oZSksZD1udWxsfX0pKSxkKSxsPWFzeW5jKCk9Pnthd2FpdCBkLHU9ITE7cmV0dXJuKGF3YWl0KDAscy5YbCkoKSkuZGlzcGF0Y2gocy5XRi5EZXJlZ2lzdGVyUHJvdmlkZXIse3Byb3ZpZGVyVHlwZTphLmxQLkRvY2t9KX0sZj1hc3luYygpPT57YXdhaXQgZCxhd2FpdCgwLHMuYUIpKCksYXdhaXQoMCxhLlI4KShhLmxQLkRvY2spfSx3PWFzeW5jKCk9Pnthd2FpdCBkLGF3YWl0KDAscy5hQikoKSxhd2FpdCgwLGEuWF8pKGEubFAuRG9jayl9O3ZhciBnLGg9big3MDMpO24oMTIxKTshZnVuY3Rpb24oZSl7ZS5UYWJDcmVhdGVkPVwidGFiLWNyZWF0ZWRcIixlLkNvbnRhaW5lckNyZWF0ZWQ9XCJjb250YWluZXItY3JlYXRlZFwiLGUuQ29udGFpbmVyUmVzaXplZD1cImNvbnRhaW5lci1yZXNpemVkXCJ9KGd8fChnPXt9KSk7bmV3IE1hcDt2YXIgeTshZnVuY3Rpb24oZSl7ZS5DdXJyZW50V29ya3NwYWNlSWQ9XCJjdXJyZW50V29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIixlLkRvY2tQb3NpdGlvbj1cIkRvY2tQb3NpdGlvblwifSh5fHwoeT17fSkpO2NvbnN0IHY9KCk9PmFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5XRi5HZXRMZWdhY3lQYWdlcyx2b2lkIDApfSgpLG09KCk9Pihhc3luYygpPT4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLldGLkdldExlZ2FjeVdvcmtzcGFjZXMsdm9pZCAwKSkoKTt2YXIgUz1uKDUyOCksUD1uKDI5OCksQz1uKDEwOSksaz1uKDc1OCksVz1uKDExNCl9KSgpLG1vZHVsZS5leHBvcnRzPW99KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgbGF1bmNoVmlldyB9IGZyb20gXCIuL2Jyb3dzZXJcIjtcbmltcG9ydCB7IGRlcmVnaXN0ZXIgYXMgZGVyZWdpc3RlckhvbWUsIHJlZ2lzdGVyIGFzIHJlZ2lzdGVySG9tZSwgc2hvdyBhcyBzaG93SG9tZSB9IGZyb20gXCIuL2hvbWVcIjtcbmltcG9ydCB7IGRlcmVnaXN0ZXIgYXMgZGVyZWdpc3RlckludGVncmF0aW9uLCByZWdpc3RlciBhcyByZWdpc3RlckludGVncmF0aW9uIH0gZnJvbSBcIi4vaW50ZWdyYXRpb25zXCI7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHQvLyB5b3UgY2FuIGtpY2sgb2ZmIHlvdXIgYm9vdHN0cmFwcGluZyBwcm9jZXNzIGhlcmUgd2hlcmUgeW91IG1heSBkZWNpZGUgdG8gcHJvbXB0IGZvciBhdXRoZW50aWNhdGlvbixcblx0Ly8gZ2F0aGVyIHJlZmVyZW5jZSBkYXRhIGV0YyBiZWZvcmUgc3RhcnRpbmcgd29ya3NwYWNlIGFuZCBpbnRlcmFjdGluZyB3aXRoIGl0LlxuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyB0aGUgYm9vdHN0cmFwcGVyXCIpO1xuXHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cblx0YXdhaXQgcmVnaXN0ZXJIb21lKCk7XG5cdGF3YWl0IHNob3dIb21lKCk7XG5cblx0YXdhaXQgcmVnaXN0ZXJJbnRlZ3JhdGlvbihcblx0XHR7XG5cdFx0XHRsYXVuY2hWaWV3XG5cdFx0fSxcblx0XHRzZXR0aW5ncy5pbnRlZ3JhdGlvblByb3ZpZGVyXG5cdCk7XG5cblx0Y29uc3QgcHJvdmlkZXJXaW5kb3cgPSBmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCk7XG5cdGF3YWl0IHByb3ZpZGVyV2luZG93Lm9uY2UoXCJjbG9zZS1yZXF1ZXN0ZWRcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0YXdhaXQgZGVyZWdpc3RlckludGVncmF0aW9uKHNldHRpbmdzLmludGVncmF0aW9uUHJvdmlkZXIpO1xuXHRcdGF3YWl0IGRlcmVnaXN0ZXJIb21lKCk7XG5cdFx0YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpO1xuXHR9KTtcbn1cbiIsImltcG9ydCB7IGdldEN1cnJlbnRTeW5jIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGF1bmNoVmlldyhcblx0dmlldzogT3BlbkZpbi5QbGF0Zm9ybVZpZXdDcmVhdGlvbk9wdGlvbnMgfCBzdHJpbmcsXG5cdHRhcmdldElkZW50aXR5PzogT3BlbkZpbi5JZGVudGl0eSxcblx0dGFyZ2V0Vmlldz86IE9wZW5GaW4uSWRlbnRpdHlcbikge1xuXHRjb25zdCBwbGF0Zm9ybSA9IGdldEN1cnJlbnRTeW5jKCk7XG5cdGxldCB2aWV3T3B0aW9uczogT3BlbkZpbi5QbGF0Zm9ybVZpZXdDcmVhdGlvbk9wdGlvbnM7XG5cdGlmICh0eXBlb2YgdmlldyA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHZpZXdPcHRpb25zID0geyB1cmw6IHZpZXcsIHRhcmdldDogbnVsbCB9O1xuXHR9IGVsc2Uge1xuXHRcdHZpZXdPcHRpb25zID0gdmlldztcblx0fVxuXHRyZXR1cm4gcGxhdGZvcm0uY3JlYXRlVmlldyh2aWV3T3B0aW9ucywgdGFyZ2V0SWRlbnRpdHksIHRhcmdldFZpZXcpO1xufVxuIiwiaW1wb3J0IHtcblx0SG9tZSxcblx0SG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdEhvbWVQcm92aWRlcixcblx0SG9tZVNlYXJjaExpc3RlbmVyUmVxdWVzdCxcblx0SG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2UsXG5cdEhvbWVTZWFyY2hSZXNwb25zZVxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgeyBnZXRIZWxwU2VhcmNoRW50cmllcywgZ2V0U2VhcmNoUmVzdWx0cywgaXRlbVNlbGVjdGlvbiB9IGZyb20gXCIuL2ludGVncmF0aW9uc1wiO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5sZXQgaXNIb21lUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG5cdGNvbnNvbGUubG9nKFwiSW5pdGlhbGlzaW5nIGhvbWUuXCIpO1xuXHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdGlmIChcblx0XHRzZXR0aW5ncy5ob21lUHJvdmlkZXIgPT09IHVuZGVmaW5lZCB8fFxuXHRcdHNldHRpbmdzLmhvbWVQcm92aWRlci5pZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0c2V0dGluZ3MuaG9tZVByb3ZpZGVyLnRpdGxlID09PSB1bmRlZmluZWRcblx0KSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XCJob21lUHJvdmlkZXI6IG5vdCBjb25maWd1cmVkIGluIHRoZSBjdXN0b21TZXR0aW5ncyBvZiB5b3VyIG1hbmlmZXN0IGNvcnJlY3RseS4gRW5zdXJlIHlvdSBoYXZlIHRoZSBob21lUHJvdmlkZXIgb2JqZWN0IGRlZmluZWQgaW4gY3VzdG9tU2V0dGluZ3Mgd2l0aCB0aGUgZm9sbG93aW5nIGRlZmluZWQ6IGlkLCB0aXRsZVwiXG5cdFx0KTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRsZXQgbGFzdFJlc3BvbnNlOiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZTtcblxuXHRjb25zdCBvblVzZXJJbnB1dCA9IGFzeW5jIChcblx0XHRyZXF1ZXN0OiBIb21lU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LFxuXHRcdHJlc3BvbnNlOiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuXHQpOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT4gPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBxdWVyeSA9IHJlcXVlc3QucXVlcnkudG9Mb3dlckNhc2UoKTtcblx0XHRcdGlmIChsYXN0UmVzcG9uc2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRsYXN0UmVzcG9uc2UuY2xvc2UoKTtcblx0XHRcdH1cblx0XHRcdGxhc3RSZXNwb25zZSA9IHJlc3BvbnNlO1xuXHRcdFx0bGFzdFJlc3BvbnNlLm9wZW4oKTtcblxuXHRcdFx0Y29uc3Qgc2VhcmNoUmVzdWx0czogSG9tZVNlYXJjaFJlc3BvbnNlID0ge1xuXHRcdFx0XHRyZXN1bHRzOiBbXSxcblx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdGZpbHRlcnM6IFtdXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGlmIChxdWVyeSA9PT0gXCI/XCIpIHtcblx0XHRcdFx0c2VhcmNoUmVzdWx0cy5yZXN1bHRzID0gc2VhcmNoUmVzdWx0cy5yZXN1bHRzLmNvbmNhdChhd2FpdCBnZXRIZWxwU2VhcmNoRW50cmllcygpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGludGVncmF0aW9uUmVzdWx0cyA9IGF3YWl0IGdldFNlYXJjaFJlc3VsdHMocXVlcnksIHVuZGVmaW5lZCwgbGFzdFJlc3BvbnNlKTtcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW50ZWdyYXRpb25SZXN1bHRzLnJlc3VsdHMpKSB7XG5cdFx0XHRcdFx0c2VhcmNoUmVzdWx0cy5yZXN1bHRzID0gc2VhcmNoUmVzdWx0cy5yZXN1bHRzLmNvbmNhdChpbnRlZ3JhdGlvblJlc3VsdHMucmVzdWx0cyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW50ZWdyYXRpb25SZXN1bHRzLmNvbnRleHQuZmlsdGVycykpIHtcblx0XHRcdFx0XHRzZWFyY2hSZXN1bHRzLmNvbnRleHQuZmlsdGVycyA9IHNlYXJjaFJlc3VsdHMuY29udGV4dC5maWx0ZXJzLmNvbmNhdChcblx0XHRcdFx0XHRcdGludGVncmF0aW9uUmVzdWx0cy5jb250ZXh0LmZpbHRlcnNcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWFyY2hSZXN1bHRzO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkV4Y2VwdGlvbiB3aGlsZSBnZXR0aW5nIHNlYXJjaCBsaXN0IHJlc3VsdHNcIiwgZXJyKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3Qgb25TZWxlY3Rpb24gPSBhc3luYyAocmVzdWx0OiBIb21lRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCkgPT4ge1xuXHRcdGlmIChyZXN1bHQuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBoYW5kbGVkID0gYXdhaXQgaXRlbVNlbGVjdGlvbihyZXN1bHQsIGxhc3RSZXNwb25zZSk7XG5cblx0XHRcdGlmICghaGFuZGxlZCkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYFJlc3VsdCBub3QgaGFuZGxlZCAke3Jlc3VsdC5rZXl9YCwgcmVzdWx0LmRhdGEpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gZXhlY3V0ZSByZXN1bHQgd2l0aG91dCBkYXRhIGJlaW5nIHBhc3NlZFwiKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgY2xpUHJvdmlkZXI6IEhvbWVQcm92aWRlciA9IHtcblx0XHR0aXRsZTogc2V0dGluZ3MuaG9tZVByb3ZpZGVyLnRpdGxlLFxuXHRcdGlkOiBzZXR0aW5ncy5ob21lUHJvdmlkZXIuaWQsXG5cdFx0aWNvbjogc2V0dGluZ3MuaG9tZVByb3ZpZGVyLmljb24sXG5cdFx0b25Vc2VySW5wdXQsXG5cdFx0b25SZXN1bHREaXNwYXRjaDogb25TZWxlY3Rpb24sXG5cdFx0ZGlzcGF0Y2hGb2N1c0V2ZW50czogdHJ1ZVxuXHR9O1xuXG5cdGF3YWl0IEhvbWUucmVnaXN0ZXIoY2xpUHJvdmlkZXIpO1xuXHRpc0hvbWVSZWdpc3RlcmVkID0gdHJ1ZTtcblx0Y29uc29sZS5sb2coXCJIb21lIGNvbmZpZ3VyZWQuXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvdygpIHtcblx0cmV0dXJuIEhvbWUuc2hvdygpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGlkZSgpIHtcblx0cmV0dXJuIEhvbWUuaGlkZSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVyZWdpc3RlcigpIHtcblx0aWYgKGlzSG9tZVJlZ2lzdGVyZWQpIHtcblx0XHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdFx0cmV0dXJuIEhvbWUuZGVyZWdpc3RlcihzZXR0aW5ncy5ob21lUHJvdmlkZXIuaWQpO1xuXHR9XG5cdGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBkZXJlZ2lzdGVyIGhvbWUgYXMgdGhlcmUgaXMgYW4gaW5kaWNhdGlvbiBpdCB3YXMgbmV2ZXIgcmVnaXN0ZXJlZFwiKTtcbn1cbiIsImltcG9ydCB0eXBlIHtcblx0SG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdENMSUZpbHRlcixcblx0SG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2UsXG5cdEhvbWVTZWFyY2hSZXNwb25zZSxcblx0SG9tZVNlYXJjaFJlc3VsdFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSB7XG5cdEludGVncmF0aW9uLFxuXHRJbnRlZ3JhdGlvbk1hbmFnZXIsXG5cdEludGVncmF0aW9uTW9kdWxlLFxuXHRJbnRlZ3JhdGlvblByb3ZpZGVyT3B0aW9uc1xufSBmcm9tIFwiLi9pbnRlZ3JhdGlvbnMtc2hhcGVzXCI7XG5cbmNvbnN0IGtub3duSW50ZWdyYXRpb25Qcm92aWRlcnM6IHsgW2lkOiBzdHJpbmddOiBJbnRlZ3JhdGlvbk1vZHVsZTx1bmtub3duPiB9ID0ge307XG5cbmNvbnN0IGhvbWVJbnRlZ3JhdGlvbnM6IHtcblx0bW9kdWxlOiBJbnRlZ3JhdGlvbk1vZHVsZTx1bmtub3duPjtcblx0aW50ZWdyYXRpb246IEludGVncmF0aW9uPHVua25vd24+O1xufVtdID0gW107XG5cbi8qKlxuICogUmVnaXN0ZXIgYWxsIHRoZSB3b3Jrc3BhY2UgaW50ZWdyYXRpb25zLlxuICogQHBhcmFtIGludGVncmF0aW9uTWFuYWdlciBUaGUgaW50ZWdyYXRpb24gbWFuYWdlci5cbiAqIEBwYXJhbSBpbnRlZ3JhdGlvblByb3ZpZGVyIFRoZSBpbnRlZ3JhdGlvbiBwcm92aWRlciBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKFxuXHRpbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlcixcblx0aW50ZWdyYXRpb25Qcm92aWRlcj86IEludGVncmF0aW9uUHJvdmlkZXJPcHRpb25zXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgaW50ZWdyYXRpb25zID0gaW50ZWdyYXRpb25Qcm92aWRlcj8uaW50ZWdyYXRpb25zO1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnRlZ3JhdGlvbnMpKSB7XG5cdFx0Zm9yIChjb25zdCBpbnRlZ3JhdGlvbiBvZiBpbnRlZ3JhdGlvbnMpIHtcblx0XHRcdGlmIChpbnRlZ3JhdGlvbi5lbmFibGVkKSB7XG5cdFx0XHRcdGlmICgha25vd25JbnRlZ3JhdGlvblByb3ZpZGVyc1tpbnRlZ3JhdGlvbi5pZF0gJiYgaW50ZWdyYXRpb24ubW9kdWxlVXJsKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IG1vZCA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGludGVncmF0aW9uLm1vZHVsZVVybCk7XG5cdFx0XHRcdFx0XHRrbm93bkludGVncmF0aW9uUHJvdmlkZXJzW2ludGVncmF0aW9uLmlkXSA9IG1vZC5pbnRlZ3JhdGlvbjtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgbW9kdWxlICR7aW50ZWdyYXRpb24ubW9kdWxlVXJsfWAsIGVycik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChrbm93bkludGVncmF0aW9uUHJvdmlkZXJzW2ludGVncmF0aW9uLmlkXSkge1xuXHRcdFx0XHRcdGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiA9IGtub3duSW50ZWdyYXRpb25Qcm92aWRlcnNbaW50ZWdyYXRpb24uaWRdO1xuXHRcdFx0XHRcdGhvbWVJbnRlZ3JhdGlvbnMucHVzaCh7XG5cdFx0XHRcdFx0XHRtb2R1bGU6IGhvbWVJbnRlZ3JhdGlvbixcblx0XHRcdFx0XHRcdGludGVncmF0aW9uXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5yZWdpc3Rlcikge1xuXHRcdFx0XHRcdFx0YXdhaXQgaG9tZUludGVncmF0aW9uLnJlZ2lzdGVyKGludGVncmF0aW9uTWFuYWdlciwgaW50ZWdyYXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiTWlzc2luZyBtb2R1bGUgaW4gaW50ZWdyYXRpb24gcHJvdmlkZXJzXCIsIGludGVncmF0aW9uLmlkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIERlcmVnaXN0ZXIgYWxsIHRoZSBpbnRlZ3JhdGlvbnMuXG4gKiBAcGFyYW0gaW50ZWdyYXRpb25Qcm92aWRlciBUaGUgaW50ZWdyYXRpb24gcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXJlZ2lzdGVyKGludGVncmF0aW9uUHJvdmlkZXI/OiBJbnRlZ3JhdGlvblByb3ZpZGVyT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuXHRmb3IgKGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiBvZiBob21lSW50ZWdyYXRpb25zKSB7XG5cdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZGVyZWdpc3Rlcikge1xuXHRcdFx0YXdhaXQgaG9tZUludGVncmF0aW9uLm1vZHVsZS5kZXJlZ2lzdGVyKGhvbWVJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvbik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogR2V0IHRoZSBzZWFyY2ggcmVzdWx0cyBmcm9tIGFsbCB0aGUgaW50ZWdyYXRpb24gcHJvdmlkZXJzLlxuICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBnZXQgdGhlIHNlYXJjaCByZXN1bHRzIGZvci5cbiAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5IHRvIHRoZSBzZWFyY2ggcmVzdWx0cy5cbiAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3Qgc2VhcmNoIHJlc3BvbnNlIHVzZWQgZm9yIHVwZGF0aW5nIGV4aXN0aW5nIHJlc3VsdHMuXG4gKiBAcmV0dXJucyBUaGUgc2VhcmNoIHJlc3VsdHMgYW5kIG5ldyBmaWx0ZXJzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0cyhcblx0cXVlcnk6IHN0cmluZyxcblx0ZmlsdGVyczogQ0xJRmlsdGVyW10sXG5cdGxhc3RSZXNwb25zZTogSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcbik6IFByb21pc2U8SG9tZVNlYXJjaFJlc3BvbnNlPiB7XG5cdGNvbnN0IGhvbWVSZXNwb25zZTogSG9tZVNlYXJjaFJlc3BvbnNlID0ge1xuXHRcdHJlc3VsdHM6IFtdLFxuXHRcdGNvbnRleHQ6IHtcblx0XHRcdGZpbHRlcnM6IFtdXG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IHByb21pc2VzOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT5bXSA9IFtdO1xuXHRmb3IgKGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiBvZiBob21lSW50ZWdyYXRpb25zKSB7XG5cdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZ2V0U2VhcmNoUmVzdWx0cykge1xuXHRcdFx0cHJvbWlzZXMucHVzaChcblx0XHRcdFx0aG9tZUludGVncmF0aW9uLm1vZHVsZS5nZXRTZWFyY2hSZXN1bHRzKGhvbWVJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvbiwgcXVlcnksIGZpbHRlcnMsIGxhc3RSZXNwb25zZSlcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgcHJvbWlzZVJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuXHRmb3IgKGNvbnN0IHByb21pc2VSZXN1bHQgb2YgcHJvbWlzZVJlc3VsdHMpIHtcblx0XHRpZiAocHJvbWlzZVJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHByb21pc2VSZXN1bHQudmFsdWUucmVzdWx0cykpIHtcblx0XHRcdFx0aG9tZVJlc3BvbnNlLnJlc3VsdHMgPSBob21lUmVzcG9uc2UucmVzdWx0cy5jb25jYXQocHJvbWlzZVJlc3VsdC52YWx1ZS5yZXN1bHRzKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IG5ld0ZpbHRlcnMgPSBwcm9taXNlUmVzdWx0LnZhbHVlLmNvbnRleHQ/LmZpbHRlcnM7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShuZXdGaWx0ZXJzKSAmJiBob21lUmVzcG9uc2UuY29udGV4dD8uZmlsdGVycykge1xuXHRcdFx0XHRob21lUmVzcG9uc2UuY29udGV4dC5maWx0ZXJzID0gaG9tZVJlc3BvbnNlLmNvbnRleHQuZmlsdGVycy5jb25jYXQobmV3RmlsdGVycyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IocHJvbWlzZVJlc3VsdC5yZWFzb24pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBob21lUmVzcG9uc2U7XG59XG5cbi8qKlxuICogR2V0IHRoZSBoZWxwIHNlYXJjaCBlbnRyaWVzIGZvciBhbGwgdGhlIGludGVncmF0aW9uIHByb3ZpZGVycy5cbiAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIGhlbHAgZW50cmllcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEhlbHBTZWFyY2hFbnRyaWVzKCk6IFByb21pc2U8SG9tZVNlYXJjaFJlc3VsdFtdPiB7XG5cdGxldCByZXN1bHRzOiBIb21lU2VhcmNoUmVzdWx0W10gPSBbXTtcblxuXHRmb3IgKGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiBvZiBob21lSW50ZWdyYXRpb25zKSB7XG5cdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZ2V0SGVscFNlYXJjaEVudHJpZXMpIHtcblx0XHRcdGNvbnN0IGludGVncmF0aW9uUmVzdWx0cyA9IGF3YWl0IGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZ2V0SGVscFNlYXJjaEVudHJpZXMoXG5cdFx0XHRcdGhvbWVJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvblxuXHRcdFx0KTtcblx0XHRcdHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChpbnRlZ3JhdGlvblJlc3VsdHMpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIFRoZSBpdGVtIGZvciBvbmUgb2YgdGhlIHByb3ZpZGVycyB3YXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0gcmVzdWx0IFRoZSByZXN1bHQgb2YgdGhlIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3QgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzZWxlY3Rpb24gd2FzIGhhbmRsZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpdGVtU2VsZWN0aW9uKFxuXHRyZXN1bHQ6IEhvbWVEaXNwYXRjaGVkU2VhcmNoUmVzdWx0LFxuXHRsYXN0UmVzcG9uc2U/OiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdGlmIChyZXN1bHQuZGF0YSkge1xuXHRcdGNvbnN0IGZvdW5kSW50ZWdyYXRpb24gPSBob21lSW50ZWdyYXRpb25zLmZpbmQoKGhpKSA9PiBoaS5pbnRlZ3JhdGlvbi5pZCA9PT0gcmVzdWx0LmRhdGE/LnByb3ZpZGVySWQpO1xuXG5cdFx0aWYgKGZvdW5kSW50ZWdyYXRpb24/Lm1vZHVsZT8uaXRlbVNlbGVjdGlvbikge1xuXHRcdFx0Y29uc3QgaGFuZGxlZCA9IGF3YWl0IGZvdW5kSW50ZWdyYXRpb24ubW9kdWxlLml0ZW1TZWxlY3Rpb24oXG5cdFx0XHRcdGZvdW5kSW50ZWdyYXRpb24uaW50ZWdyYXRpb24sXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0bGFzdFJlc3BvbnNlXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoIWhhbmRsZWQpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gaGFuZGxlICR7Zm91bmRJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvbi5pZH0gZW50cnlgLCByZXN1bHQuZGF0YSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBoYW5kbGVkO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYW4gaW50ZWdyYXRpb24gbW9kdWxlIHRoYXQgd2FzIGxvYWRlZCBtYW51YWxseS5cbiAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIG1vZHVsZS5cbiAqIEBwYXJhbSBtb2R1bGUgVGhlIG1vZHVsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEtub3duSW50ZWdyYXRpb25Qcm92aWRlcihpZDogc3RyaW5nLCBtb2R1bGU6IEludGVncmF0aW9uTW9kdWxlPHVua25vd24+KTogdm9pZCB7XG5cdGtub3duSW50ZWdyYXRpb25Qcm92aWRlcnNbaWRdID0gbW9kdWxlO1xufVxuIiwiaW1wb3J0IHsgaW5pdCBhcyB3b3Jrc3BhY2VQbGF0Zm9ybUluaXQsIEJyb3dzZXJJbml0Q29uZmlnIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuaW1wb3J0IHsgZ2V0VGhlbWVzIH0gZnJvbSBcIi4vdGhlbWVzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyBwbGF0Zm9ybVwiKTtcblx0Y29uc3QgYnJvd3NlcjogQnJvd3NlckluaXRDb25maWcgPSB7fTtcblxuXHRjb25zdCB0aGVtZSA9IGF3YWl0IGdldFRoZW1lcygpO1xuXG5cdGF3YWl0IHdvcmtzcGFjZVBsYXRmb3JtSW5pdCh7XG5cdFx0YnJvd3Nlcixcblx0XHR0aGVtZVxuXHR9KTtcbn1cbiIsImltcG9ydCB7IEN1c3RvbVNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmxldCBzZXR0aW5nczogQ3VzdG9tU2V0dGluZ3M7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbmZpZ3VyZWRTZXR0aW5ncygpOiBQcm9taXNlPEN1c3RvbVNldHRpbmdzPiB7XG5cdGNvbnN0IGFwcCA9IGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCk7XG5cdGNvbnN0IG1hbmlmZXN0OiBPcGVuRmluLk1hbmlmZXN0ICYgeyBjdXN0b21TZXR0aW5ncz86IEN1c3RvbVNldHRpbmdzIH0gPSBhd2FpdCBhcHAuZ2V0TWFuaWZlc3QoKTtcblxuXHRpZiAobWFuaWZlc3QuY3VzdG9tU2V0dGluZ3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdHNldHRpbmdzID0gbWFuaWZlc3QuY3VzdG9tU2V0dGluZ3M7XG5cdH0gZWxzZSB7XG5cdFx0c2V0dGluZ3MgPSB7fTtcblx0fVxuXG5cdHJldHVybiBzZXR0aW5ncztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmdzKCk6IFByb21pc2U8Q3VzdG9tU2V0dGluZ3M+IHtcblx0aWYgKHNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcblx0XHRzZXR0aW5ncyA9IGF3YWl0IGdldENvbmZpZ3VyZWRTZXR0aW5ncygpO1xuXHR9XG5cdHJldHVybiBzZXR0aW5ncztcbn1cbiIsImltcG9ydCB7IEN1c3RvbVRoZW1lcyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcbmltcG9ydCB7IEN1c3RvbVBhbGV0dGVTZXQsIEN1c3RvbVRoZW1lT3B0aW9ucyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vY29tbW9uL3NyYy9hcGkvdGhlbWluZ1wiO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5jb25zdCBERUZBVUxUX1BBTEVUVEVTID0ge1xuXHRsaWdodDoge1xuXHRcdGJyYW5kUHJpbWFyeTogXCIjNTA0Q0ZGXCIsXG5cdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzFFMUYyM1wiLFxuXHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiNGQUZCRkVcIixcblx0XHRiYWNrZ3JvdW5kMTogXCIjRkZGRkZGXCIsXG5cdFx0YmFja2dyb3VuZDI6IFwiI0ZBRkJGRVwiLFxuXHRcdGJhY2tncm91bmQzOiBcIiNGM0Y1RjhcIixcblx0XHRiYWNrZ3JvdW5kNDogXCIjRUNFRUYxXCIsXG5cdFx0YmFja2dyb3VuZDU6IFwiI0REREZFNFwiLFxuXHRcdGJhY2tncm91bmQ2OiBcIiNDOUNCRDJcIixcblx0XHRzdGF0dXNTdWNjZXNzOiBcIiMzNUM3NTlcIixcblx0XHRzdGF0dXNXYXJuaW5nOiBcIiNGNDhGMDBcIixcblx0XHRzdGF0dXNDcml0aWNhbDogXCIjQkUxRDFGXCIsXG5cdFx0c3RhdHVzQWN0aXZlOiBcIiMwNDk4RkJcIixcblx0XHRpbnB1dEJhY2tncm91bmQ6IFwiI0VDRUVGMVwiLFxuXHRcdGlucHV0Q29sb3I6IFwiIzFFMUYyM1wiLFxuXHRcdGlucHV0UGxhY2Vob2xkZXI6IFwiIzM4M0E0MFwiLFxuXHRcdGlucHV0RGlzYWJsZWQ6IFwiIzdEODA4QVwiLFxuXHRcdGlucHV0Rm9jdXNlZDogXCIjQzlDQkQyXCIsXG5cdFx0dGV4dERlZmF1bHQ6IFwiIzFFMUYyM1wiLFxuXHRcdHRleHRIZWxwOiBcIiMyRjMxMzZcIixcblx0XHR0ZXh0SW5hY3RpdmU6IFwiIzdEODA4QVwiXG5cdH0sXG5cdGRhcms6IHtcblx0XHRicmFuZFByaW1hcnk6IFwiIzUwNENGRlwiLFxuXHRcdGJyYW5kU2Vjb25kYXJ5OiBcIiMzODNBNDBcIixcblx0XHRiYWNrZ3JvdW5kUHJpbWFyeTogXCIjMUUxRjIzXCIsXG5cdFx0YmFja2dyb3VuZDE6IFwiIzExMTIxNFwiLFxuXHRcdGJhY2tncm91bmQyOiBcIiMxRTFGMjNcIixcblx0XHRiYWNrZ3JvdW5kMzogXCIjMjQyNjJCXCIsXG5cdFx0YmFja2dyb3VuZDQ6IFwiIzJGMzEzNlwiLFxuXHRcdGJhY2tncm91bmQ1OiBcIiMzODNBNDBcIixcblx0XHRiYWNrZ3JvdW5kNjogXCIjNTM1NjVGXCIsXG5cdFx0c3RhdHVzU3VjY2VzczogXCIjMzVDNzU5XCIsXG5cdFx0c3RhdHVzV2FybmluZzogXCIjRjQ4RjAwXCIsXG5cdFx0c3RhdHVzQ3JpdGljYWw6IFwiI0JFMUQxRlwiLFxuXHRcdHN0YXR1c0FjdGl2ZTogXCIjMDQ5OEZCXCIsXG5cdFx0aW5wdXRCYWNrZ3JvdW5kOiBcIiM1MzU2NUZcIixcblx0XHRpbnB1dENvbG9yOiBcIiNGRkZGRkZcIixcblx0XHRpbnB1dFBsYWNlaG9sZGVyOiBcIiNDOUNCRDJcIixcblx0XHRpbnB1dERpc2FibGVkOiBcIiM3RDgwOEFcIixcblx0XHRpbnB1dEZvY3VzZWQ6IFwiI0M5Q0JEMlwiLFxuXHRcdHRleHREZWZhdWx0OiBcIiNGRkZGRkZcIixcblx0XHR0ZXh0SGVscDogXCIjQzlDQkQyXCIsXG5cdFx0dGV4dEluYWN0aXZlOiBcIiM3RDgwOEFcIlxuXHR9XG59O1xuXG5sZXQgdmFsaWRhdGVkVGhlbWVzOiBDdXN0b21UaGVtZXM7XG5cbmZ1bmN0aW9uIGdldFN5c3RlbVByZWZlcnJlZENvbG9yU2NoZW1lKCk6IFwibGlnaHRcIiB8IFwiZGFya1wiIHtcblx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhPy4oXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcblx0XHRyZXR1cm4gXCJkYXJrXCI7XG5cdH1cblx0cmV0dXJuIFwibGlnaHRcIjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRUaGVtZSgpOiBQcm9taXNlPEN1c3RvbVRoZW1lT3B0aW9ucz4ge1xuXHRjb25zdCB0aGVtZXMgPSBhd2FpdCBnZXRUaGVtZXMoKTtcblx0aWYgKHRoZW1lcy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGFiZWw6IFwiZGVmYXVsdFwiLFxuXHRcdFx0cGFsZXR0ZTogREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdGhlbWVzWzBdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGhlbWVzKCk6IFByb21pc2U8Q3VzdG9tVGhlbWVzPiB7XG5cdGlmICghdmFsaWRhdGVkVGhlbWVzKSB7XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBnZXRTZXR0aW5ncygpO1xuXHRcdHZhbGlkYXRlZFRoZW1lcyA9IHZhbGlkYXRlVGhlbWVzKHNldHRpbmdzPy50aGVtZVByb3ZpZGVyPy50aGVtZXMpO1xuXHR9XG5cdHJldHVybiB2YWxpZGF0ZWRUaGVtZXMuc2xpY2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGhlbWVzKHRoZW1lczogQ3VzdG9tVGhlbWVzKTogQ3VzdG9tVGhlbWVzIHtcblx0Y29uc3QgY3VzdG9tVGhlbWVzOiBDdXN0b21UaGVtZXMgPSBbXTtcblxuXHRpZiAoQXJyYXkuaXNBcnJheSh0aGVtZXMpKSB7XG5cdFx0Y29uc3QgcHJlZmVycmVkQ29sb3JTY2hlbWUgPSBnZXRTeXN0ZW1QcmVmZXJyZWRDb2xvclNjaGVtZSgpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGVtZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHRoZW1lVG9WYWxpZGF0ZSA9IHRoZW1lc1tpXTtcblx0XHRcdGNvbnN0IHBhbGV0dGUgPSB2YWxpZGF0ZVBhbGV0dGUodGhlbWVUb1ZhbGlkYXRlLnBhbGV0dGUsIHRoZW1lVG9WYWxpZGF0ZS5sYWJlbCk7XG5cdFx0XHRpZiAocGFsZXR0ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHR0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSA9IHBhbGV0dGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBkb24ndCBwYXNzIGFuIGVtcHR5IG9iamVjdCBhcyB0aGVyZSBhcmUgbm8gdGhlbWUgcHJvcGVydGllc1xuXHRcdFx0XHR0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGlmICh0aGVtZVRvVmFsaWRhdGUubGFiZWwudG9Mb3dlckNhc2UoKSA9PT0gcHJlZmVycmVkQ29sb3JTY2hlbWUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0YEZvdW5kIGEgdGhlbWUgdGhhdCBtYXRjaGVzIHN5c3RlbSBjb2xvciBzY2hlbWUgcHJlZmVyZW5jZXMgYW5kIG1ha2luZyBpdCB0aGUgZGVmYXVsdCB0aGVtZTogJHtwcmVmZXJyZWRDb2xvclNjaGVtZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGN1c3RvbVRoZW1lcy51bnNoaWZ0KHRoZW1lVG9WYWxpZGF0ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXN0b21UaGVtZXMucHVzaCh0aGVtZVRvVmFsaWRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjdXN0b21UaGVtZXM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUGFsZXR0ZShcblx0dGhlbWVQYWxldHRlOiBDdXN0b21QYWxldHRlU2V0IHwgdW5kZWZpbmVkLFxuXHR0aGVtZUxhYmVsOiBzdHJpbmdcbik6IEN1c3RvbVBhbGV0dGVTZXQgfCBudWxsIHtcblx0aWYgKCF0aGVtZVBhbGV0dGUpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGVtZVBhbGV0dGUpO1xuXHRpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IHBhbGV0dGU6IEN1c3RvbVBhbGV0dGVTZXQgPSB7XG5cdFx0Li4uREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdH07XG5cblx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuXHRcdGlmIChcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldICE9PSBudWxsICYmXG5cdFx0XHR0aGVtZVBhbGV0dGVba2V5XS50cmltKCkubGVuZ3RoID4gMFxuXHRcdCkge1xuXHRcdFx0cGFsZXR0ZVtrZXldID0gdGhlbWVQYWxldHRlW2tleV07XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgYnJhbmRQcmltYXJ5S2V5ID0gXCJicmFuZFByaW1hcnlcIjtcblx0Y29uc3QgYnJhbmRTZWNvbmRhcnlLZXkgPSBcImJyYW5kU2Vjb25kYXJ5XCI7XG5cdGNvbnN0IGJhY2tncm91bmRQcmltYXJ5S2V5ID0gXCJiYWNrZ3JvdW5kUHJpbWFyeVwiO1xuXG5cdGlmICghdGhlbWVQYWxldHRlW2JyYW5kUHJpbWFyeUtleV0pIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgVGhlbWU6ICR7dGhlbWVMYWJlbH0gOiAke2JyYW5kUHJpbWFyeUtleX0gbm90IHNwZWNpZmllZCAoaXQgaXMgcmVxdWlyZWQgaWYgc3BlY2lmeWluZyBvdGhlciB0aGVtZSBwYWxldHRlIHNldHRpbmdzKS4gUHJvdmlkaW5nIGRlZmF1bHQgb2Y6ICR7REVGQVVMVF9QQUxFVFRFUy5kYXJrLmJyYW5kUHJpbWFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdGlmICghdGhlbWVQYWxldHRlW2JyYW5kU2Vjb25kYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YnJhbmRTZWNvbmRhcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke0RFRkFVTFRfUEFMRVRURVMuZGFyay5icmFuZFNlY29uZGFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdGlmICghdGhlbWVQYWxldHRlW2JhY2tncm91bmRQcmltYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YmFja2dyb3VuZFByaW1hcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke0RFRkFVTFRfUEFMRVRURVMuZGFyay5icmFuZFByaW1hcnl9YFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gcGFsZXR0ZTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBpbml0IGFzIGJvb3RzdHJhcCB9IGZyb20gXCIuL2Jvb3RzdHJhcHBlclwiO1xuaW1wb3J0IHsgaW5pdCBhcyBpbml0aWFsaXNlUGxhdGZvcm0gfSBmcm9tIFwiLi9wbGF0Zm9ybVwiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHRjb25zdCBwbGF0Zm9ybSA9IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO1xuXHRhd2FpdCBwbGF0Zm9ybS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsIGFzeW5jICgpID0+IGJvb3RzdHJhcCgpKTtcblx0YXdhaXQgaW5pdGlhbGlzZVBsYXRmb3JtKCk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==