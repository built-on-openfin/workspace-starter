/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module) => {

/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={525:e=>{var t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var i,s,c=o(e),d=1;d<arguments.length;d++){for(var p in i=Object(arguments[d]))a.call(i,p)&&(c[p]=i[p]);if(t){s=t(i);for(var l=0;l<s.length;l++)n.call(i,s[l])&&(c[s[l]]=i[s[l]])}}return c}},535:(e,t,a)=>{var n=a(525),o=60103,r=60106;var i=60109,s=60110,c=60112;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var l=Symbol.for;o=l("react.element"),r=l("react.portal"),l("react.fragment"),l("react.strict_mode"),l("react.profiler"),i=l("react.provider"),s=l("react.context"),c=l("react.forward_ref"),l("react.suspense"),d=l("react.memo"),p=l("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}function h(){}function m(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(w(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=y.prototype;var v=m.prototype=new h;v.constructor=m,n(v,y.prototype),v.isPureReactComponent=!0;var S={current:null},P=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var n,r={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)P.call(t,n)&&!b.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];r.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:o,type:e,key:i,ref:s,props:r,_owner:S.current}}function W(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var C=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case r:c=!0}}if(c)return i=i(c=e),e=""===n?"."+I(c,0):n,Array.isArray(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(W(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){var p=n+I(s=e[d],d);c+=A(s,t,a,p,i)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),d=0;!(s=e.next()).done;)c+=A(s=s.value,t,a,p=n+I(s,d++),i);else if("object"===s)throw t=""+e,Error(w(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function M(e,t,a){if(null==e)return e;var n=[],o=0;return A(e,n,"","",(function(e){return t.call(a,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function E(){var e=T.current;if(null===e)throw Error(w(321));return e}},378:(e,t,a)=>{a(535)}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{var e,t,o,r,i,s,c,d;a.r(n),a.d(n,{AppManifestType:()=>c,BrowserButtonType:()=>g,CustomActionCallerType:()=>h,GlobalContextMenuOptionType:()=>u,PageTabContextMenuOptionType:()=>w,SaveButtonContextMenuOptionType:()=>y,SaveModalType:()=>m,ViewTabMenuOptionType:()=>f,getCurrentSync:()=>Ft,init:()=>In,wrapSync:()=>Ut}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(o||(o={})),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(i||(i={})),function(e){e.MultiSelect="MultiSelect"}(s||(s={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(c||(c={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(d||(d={}));var p,l,u,w,f,g,y,h,m,v;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(l||(l={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(u||(u={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(f||(f={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(g||(g={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(y||(y={})),function(e){e.CustomButton="CustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={})),function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(m||(m={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(v||(v={}));const S="undefined"!=typeof window&&"undefined"!=typeof fin,P=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),b=P&&"undefined"!=typeof indexedDB,k=P?window.origin:v.Local,W=S&&fin.me.uuid,C=S&&fin.me.name,I=S&&fin.me.entityType,A=(v.Local,v.Dev,v.Staging,v.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:k+e),M=(A("https://cdn.openfin.co/workspace/9.0.14"),A("https://cdn.openfin.co/workspace/9.0.14")),O=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&A(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&A(WORKSPACE_DOCS_CLIENT_URL),"26.102.71.7"),T="9.0.14";var E,B,x;!function(e){e.Workspace="openfin-browser"}(E||(E={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(B||(B={})),function(e){e.FinProtocol="fin-protocol"}(x||(x={}));const R={uuid:W},_=(E.Workspace,e=>{if(!S)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),L=()=>_(R);var V,D,U;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(V||(V={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(D||(D={})),function(e){e.BeforeUnload="beforeunload"}(U||(U={}));function F(e){if(!S)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const G={name:C,uuid:W};function $(){return F(G)}V.Home,E.Workspace,V.Dock,E.Workspace;const N={name:V.Storefront,uuid:E.Workspace};E.Workspace,E.Workspace;async function j(e){const t=F(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.setAsForeground()}const H=e=>e.startsWith(V.BrowserWindow);async function q(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>H(e.identity.name)))}const K=e=>F(e).getOptions().then((()=>!0)).catch((()=>!1)),Q=()=>K(N);var z;!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(z||(z={}));const J=async(e,t)=>{const a={apiVersion:t.apiVersion||T,componentName:e,componentVersion:t.componentVersion||T,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:a})};a(378);const X=e=>fin.System.getSystemAppConfig(e);let Y;async function Z(){if(Y)return Y;if(!S)return{};const e=await async function(){if(S)try{let e=await X("workspace").catch((e=>{}));return e||(e=await X("home")),e}catch(e){}}(),t=await async function(){const{manifest:e,initialOptions:t}=await fin.Application.getCurrentSync().getInfo();return e?.workspace||e?.home||t?.workspace||t?.home,e?.workspace?e?.workspace:e?.home?e?.home:t?.workspace?t?.workspace:t?.home?t?.home:void 0}();return Y={...t,...e},Y}var ee;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(ee||(ee={}));const te=ee,ae=(e,t)=>{localStorage.setItem(`${W}-${e}`,t)},ne=e=>localStorage.getItem(`${W}-${e}`);var oe;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized"}(oe||(oe={}));const re=async e=>fin.Platform.wrapSync(e).getClient(),ie=async e=>{const t=await re(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&!0!==n||"object"==typeof n&&!0!==n?.isWorkspacePlatform)throw new Error(a);return n},se=async e=>(await ie(e),re(e)),ce=async e=>{const t=await ie(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return re(e)},de=(e,t)=>!t.find((t=>t===e)),pe=(e,t)=>`${e} (${t})`,le=(e,t)=>{let a=1;const n=e.replace(/ \(.+\)$/,"");for(;!de(pe(n,a),t);)a+=1;return pe(n,a)};async function ue(e){try{const t=Ft();await t.applySnapshot(e.snapshot,{closeExistingWindows:!0}),we(e)}catch(e){}}function we(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);ae(te.CurrentWorkspaceId,t)}catch(e){}}async function fe(){if("undefined"==typeof localStorage)return;const e=Ft(),t=await e.getSnapshot();return{workspaceId:crypto.randomUUID(),title:await he(),metadata:{APIVersion:T},snapshot:t}}async function ge(){if("undefined"==typeof localStorage)return;const e=ne(te.CurrentWorkspaceId);if(!e)return fe();const t=JSON.parse(e),a=Ft(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:T},snapshot:n}}const ye=async e=>await(async e=>(await se(G)).dispatch(oe.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await se(G)).dispatch(oe.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await se(G)).dispatch(oe.CreateSavedWorkspace,e))({workspace:e});async function he(e="Untitled Workspace"){const t=(await(async()=>(await se(G)).dispatch(oe.GetSavedWorkspaces,void 0))()).map((({title:e})=>e));return t.find((t=>t===e))?le(e,t):e}async function me(){if("undefined"!=typeof localStorage)try{const e=ne(te.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await K(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function ve(e=fin.me.identity){H(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);ae(te.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const Se=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw e})).finally((()=>{n=void 0})),n)};var Pe;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Pe||(Pe={}));const be=(e,t)=>e.content?{...e,content:e.content.map((e=>be(e,t)))}:{...e,componentState:t(e.componentState)},ke=e=>({...e,name:e.name?e.name:crypto.randomUUID()}),We=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=We(e.content);t.push(...a)})),t},Ce=async(e,t,a=G)=>{let n;if(H(a.name)){n=(await F(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;function Ie(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Ae(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Me(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function Oe(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Te=P&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Ee(e){let t;return()=>{if(!S)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Te;const a={clientAPIVersion:T},n=await fin.InterApplicationBus.Channel.connect(e,{payload:a});return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Be=e=>`__browser_window__-${e.uuid}-${e.name}`,xe=new Map,Re=e=>{const t=Be(e);return xe.has(t)||xe.set(t,Ee(t)),xe.get(t)()};var _e,Le;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page"}(_e||(_e={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(Le||(Le={}));const Ve={..._e,...Le};var De;!function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(De||(De={}));new Map;const Ue=async e=>{const t=await Re(e);return await t.dispatch(Ve.GetPages)},Fe=async e=>(await Re(e.identity)).dispatch(Ve.UpdatePageForWindow,e),Ge=async()=>{const e=await q();return(await Promise.all(e.map((async({identity:e})=>Ue(e))))).reduce(((e,t)=>e.concat(t)),[])},$e=async()=>(await se(G)).dispatch(oe.GetSavedPages,void 0),Ne=async e=>(await se(G)).dispatch(oe.GetSavedPage,e),je=async(e,t)=>{const a=await(async e=>(await Ge()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Fe({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},He=async({page:e})=>{await je(e.pageId,e),await(async e=>(await se(G)).dispatch(oe.CreateSavedPage,e))({page:e})},qe=async e=>{await Ne(e)&&await(async e=>(await se(G)).dispatch(oe.DeleteSavedPage,e))(e)},Ke=async({pageId:e,page:t})=>{await je(e,t);return await(async e=>(await se(G)).dispatch(oe.UpdateSavedPage,e))({pageId:e,page:t})},Qe=async e=>await Ne(e.pageId)?Ke({pageId:e.pageId,page:e}):He({page:e}),ze=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.AttachPagesToWindow,e))(e)},Je=async e=>{await Fe(e)},Xe=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.DetachPagesFromWindow,e))(e)},Ye=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.SetActivePageForWindow,e))(e)},Ze=e=>Ue(e),et=async({identity:e,pageId:t})=>(await Ze(e)).find((e=>e.pageId===t)),tt=async e=>{await(async e=>(await Re(e.identity)).dispatch(Ve.ReorderPagesForWindow,e))(e)};async function at(e="Untitled Page"){const[t,a]=await Promise.all([$e(),Ge()]),n=[...t,...a].map((({title:e})=>e));return n.find((t=>t===e))?le(e,n):e}const nt=new Map,ot=e=>`${e.uuid}-${e.name}`;const rt=Se((async function(){let e=[];try{e=await Ge()}catch(e){return void nt.forEach(((e,t)=>{clearTimeout(e),nt.delete(t)}))}const t=new Set;e.forEach((e=>{We(e.layout.content).forEach((e=>{if(e.name){const a=ot(e);t.add(a)}}))}));const a=$();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=ot(e);if(t.has(a)||nt.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),nt.delete(a)}),5e3);nt.set(a,n)})),nt.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),nt.delete(a))}))}),2500),it=({name:e})=>{e&&H(e)&&rt().catch((()=>{}))};let st={};const ct=({actionId:e,payload:t})=>{if("function"!=typeof st[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return st[e](t)};function dt(){return localStorage.getItem(te.MachineName)}let pt;async function lt(){return pt||(pt=await fin.System.getMachineId()),pt}const ut=e=>{if(e.layout&&Array.isArray(e.workspacePlatform?.pages)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t)if(t.isLocked){const a=((e,t)=>{const a=We(t.content);return{...be(e,(e=>{const t=a.find((t=>t.name===e.name&&t.uuid===e.uuid)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}})(e.layout,t.layout);t.layout=a,e.layout=a}else t.layout=e.layout}return e};async function wt(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=dt();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await lt(),machineName:a}}}function ft(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function gt(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=ft(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}let yt;function ht(){return yt||(yt=gt("keyval-store","keyval")),yt}function mt(e,t=ht()){return t("readonly",(t=>ft(t.get(e))))}function vt(e,t,a=ht()){return a("readwrite",(a=>(a.put(t,e),ft(a.transaction))))}function St(e,t=ht()){return t("readwrite",(t=>(t.delete(e),ft(t.transaction))))}function Pt(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ft(e.transaction)}function bt(e=ht()){return e("readonly",(e=>{if(e.getAllKeys)return ft(e.getAllKeys());const t=[];return Pt(e,(e=>t.push(e.key))).then((()=>t))}))}const kt=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),Wt=b&&gt("openfin-home-pages","pages");async function Ct(e){const t=await mt(e,Wt);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function It(e){const t=await bt(Wt),a=await Promise.all(t.map((e=>Ct(e.toString()))));return e?a.filter((t=>kt(t.title,e))):a}async function At({page:e}){await vt(e.pageId,e,Wt)}async function Mt(e){await St(e,Wt)}async function Ot({pageId:e,page:t}){if(void 0===await Ct(e))throw new Error("page not found");await At({page:t}),e!==t.pageId&&await Mt(e)}var Tt;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Tt||(Tt={}));const Et={type:Tt.Separator,data:void 0};var Bt;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(Bt||(Bt={}));Ee("__of_workspace_protocol__");const xt=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await lt(),machineName:dt()}}))(t);return{pageId:crypto.randomUUID(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},Rt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await ce(e)).dispatch(oe.GetPagesForWindow,e),getPage:async t=>(await ce(e)).dispatch(oe.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await ce(e);t?.title||(t.title=await a.dispatch(oe.GetUniquePageTitle,void 0));const n=(await a.dispatch(oe.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(oe.AttachPagesToWindow,o)},removePage:async t=>(await ce(e)).dispatch(oe.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await ce(e)).dispatch(oe.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await ce(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await ce(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await ce(e);return(await Re(e)).dispatch(Ve.OpenSaveModalInternal,t)},_openSaveButtonContextMenu:async t=>{const a=await ce(e);return t.identity=e,a.dispatch(oe.OpenSaveButtonContextMenuInternal,t)}});let _t=!1;const Lt=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Rt(e),createWindow:async a=>{await ce(e),_t||(_t=!0,(async e=>{J(z.Browser,e)})({allowed:!0}));const n=await t.createWindow(a);return Rt(n.identity)},getAllAttachedPages:async()=>(await ce(e)).dispatch(oe.GetAllAttachedPages,void 0),getAllWindows:async()=>{await ce(e);return(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>Rt(e.identity)))},getUniquePageTitle:async t=>(await ce(e)).dispatch(oe.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await ce(e)).dispatch(oe.GetLastFocusedBrowserWindow,void 0)}},Vt=e=>({createPage:async t=>(await ce(e)).dispatch(oe.CreateSavedPageInternal,t),deletePage:async t=>(await ce(e)).dispatch(oe.DeleteSavedPageInternal,t),updatePage:async t=>(await ce(e)).dispatch(oe.UpdateSavedPageInternal,t),getPage:async t=>(await ce(e)).dispatch(oe.GetSavedPage,t),getPages:async t=>(await ce(e)).dispatch(oe.GetSavedPages,t),savePage:async t=>(await ce(e)).dispatch(oe.SavePage,t),createWorkspace:async t=>(await se(e)).dispatch(oe.CreateSavedWorkspace,t),deleteWorkspace:async t=>(await se(e)).dispatch(oe.DeleteSavedWorkspace,t),updateWorkspace:async t=>(await se(e)).dispatch(oe.UpdateSavedWorkspace,t),getWorkspace:async t=>(await se(e)).dispatch(oe.GetSavedWorkspace,t),getWorkspaces:async t=>(await se(e)).dispatch(oe.GetSavedWorkspaces,t),saveWorkspace:async t=>(await se(e)).dispatch(oe.SaveWorkspace,t)}),Dt=e=>({getThemes:async()=>(await se(e)).dispatch(oe.GetThemes,void 0)}),Ut=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:W,name:C,entityType:I||"unknown"});return(await se(e)).dispatch(oe.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await se(e),o={actionId:t,payload:{...a,callerType:a.callerType||h.API}};return n.dispatch(oe.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await se(e)).dispatch(oe.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await se(e)).dispatch(oe.GetCurrentWorkspace,void 0),applyWorkspace:async t=>(await se(e)).dispatch(oe.ApplyWorkspace,t),setActiveWorkspace:async t=>(await se(e)).dispatch(oe.SetActiveWorkspace,t),Theme:Dt(e),Browser:Lt(e),Storage:Vt(e)})},Ft=()=>Ut(fin.me.identity),Gt=async(e=G)=>{const{workspacePlatform:t}=await F(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},$t=async(e=G)=>{const t=await Ft().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=G)=>{const{newPageUrl:t}=await Gt(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return Ce("New Tab",t,e)})(e);return xt(t,a)},Nt={type:Tt.Label,label:"Close Window",data:{type:u.CloseWindow}},jt={type:Tt.Label,label:"Open Storefront",data:{type:u.OpenStorefront}},Ht={type:Tt.Label,label:"Quit Platform",data:{type:u.Quit}},qt={type:Tt.Label,label:"New Window",data:{type:u.NewWindow}},Kt={type:Tt.Label,label:"Save Page",data:{type:u.SavePage}},Qt={type:Tt.Label,label:"Save Page As...",data:{type:u.SavePageAs}},zt={type:Tt.Label,label:"Restore to Last Saved Changes",data:{type:u.RestoreChanges}},Jt={type:Tt.Label,label:"Save Workspace",data:{type:u.SaveWorkspace}},Xt={type:Tt.Label,label:"Save Workspace As...",data:{type:u.SaveWorkspaceAs}},Yt={type:Tt.Label,label:"Rename Workspace",data:{type:u.RenameWorkspace}},Zt="Switch Workspace",ea="Delete Workspace",ta=[Nt,Et,jt,Et,Ht],aa=[Et,Nt,Et,Ht],na=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Tt.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),oa=async e=>{const t=await Q(),{newPageUrl:a}=await Gt(e),n=await(async e=>{const t=F(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=await(async e=>{const t=F(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),r=[];var i;a&&(r.push(qt),n||r.push((i=!o,{type:Tt.Label,label:"New Page",data:{type:u.NewPage},enabled:i}))),r.push(Et);const s=Ft(),c=await s.getCurrentWorkspace(),d=await s.Storage.getWorkspaces(),p=d.find((e=>e.workspaceId===c.workspaceId));return p?r.push(zt):r.push({label:zt.label,enabled:!1}),r.push(Jt,Xt),p?r.push(Yt):r.push({label:Yt.label,enabled:!1}),d.some((e=>e.workspaceId!==c.workspaceId))?r.push({label:Zt,submenu:na(c,d,u.SwitchWorkspace)},{label:ea,submenu:na(c,d,u.DeleteWorkspace)}):r.push({label:Zt,enabled:!1},{label:ea,enabled:!1}),r.push(Et,Kt,Qt),t?[...r,...ta]:[...r,...aa]};let ra="Platform";const ia=async()=>ra;var sa,ca,da;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSaveModal="/browser/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(sa||(sa={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(ca||(ca={})),function(e){e.Search="search"}(da||(da={}));const pa={...ca,...sa};var la;!function(e){e.Home="/home",e.Browser="/browser",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(la||(la={}));const ua="/workspace/9.0.14";function wa(){return ua.substring(0,ua.length-"".length)}function fa(e){if(!P)throw new Error("getAbsoluteRoutePath can only be used in a window");return function(){if(!window)throw new Error("getAbsoluteBasePath can only be used in a window");return`${window.origin}${wa()}`}()+e}const ga={name:V.BrowserMenu,alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!0};function ya(e){const t={...ga,...e};return t.url=function(e){if(!P)throw new Error("resolveAbsolutePath can only be used in a window");return e.startsWith("http")?e:`${window.origin}${e}`}(t.url),t}var ha,ma;!function(e){e.Update="update",e.Response="response"}(ha||(ha={})),function(e){e.Canceled="canceled",e.Negative="negative",e.Affirmative="affirmative"}(ma||(ma={}));const va=function(e){const t=new Map;return{emit:Ie(t,(t=>S&&fin.InterApplicationBus.publish(e,t))),addListener:Ae(t,(t=>S&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),removeListener:Oe(t),once:Me(t)}}("window.menu"),Sa=e=>va.emit(ha.Response,e),Pa=Se((()=>L().getChildWindows()),500);const ba=new Map;async function ka({options:e,parameters:t},a){const n=ya(e),{name:o}=n;let r=await async function(e){return(await Pa()).find((t=>t.identity.name===e))}(o);return r||(r=await async function(e){const t=ya(e);if(!ba.has(t.name)){const e=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(t);return e.once("closed",(()=>{ba.delete(t.name)})),e})();ba.set(t.name,e)}return ba.get(t.name)}(n)),await async function(e,t){const a=ya(e),{top:n,left:o,defaultWidth:r,defaultHeight:i}=a,s={top:n,left:o,width:r,height:i},c={parentName:fin.Window.getCurrentSync().identity.name};for(const[e,a]of Object.entries(c))t.set(e,a);const d=t.toString(),p=`${a.url}?${d}`;va.emit(ha.Update,a.name,s,p),await Sa({name:a.name,data:ma.Canceled})}(e,t||new URLSearchParams),a&&r.center(),r}const Wa=async(e,t,a)=>{const n=t?F(t):$();if(!a){await(async(e=fin.me.identity)=>{const t=F(e),a=await t.getBounds();(a.right>screen.availLeft+screen.width||a.left<screen.availLeft||a.bottom>screen.availTop+screen.height||a.top<screen.availTop)&&await t.center()})(n.identity);const t=(e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}))(await n.getBounds()),{defaultHeight:a,defaultWidth:o}=e;return((e,t)=>{const{height:a,width:n}=t,o=n/2,r=a/2;return{left:e.left-o,top:e.top-r}})(t,{height:a,width:o})}return await n.getBounds()},Ca=async({options:e,content:t},a)=>{const n=new URLSearchParams({...t});return await ka({options:e,parameters:n},a),new Promise((t=>{va.once(ha.Response,(a=>{a.name===e.name&&t(a)}))}))},Ia=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Switch Workspace",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:`Are you sure you want to switch to ${t}`,body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await Wa(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Ca({options:r,content:n})).data===ma.Affirmative},Aa=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Delete Workspace",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:144,defaultWidth:372,modalParentIdentity:e},content:{title:"Are you sure you want to permanently delete this workspace?",body:`${t}`,affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),o=await Wa(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return(await Ca({options:r,content:n})).data===ma.Affirmative},Ma=async(e,t,a)=>{const n=a?void 0:e,{windowOptions:o,content:r}=await(async(e,t)=>({title:"Platform Quit",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:134,defaultWidth:474,modalParentIdentity:t},content:{title:`Close the ${"Platform"===e?"platform":`${e} Platform`}?`,body:"Closing a platform will close any workspaces, apps or any processes that are running.",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(t,n),i=await Wa(o,o.modalParentIdentity),s={...o,top:i.top,left:i.left};return(await Ca({options:s,content:r},a)).data===ma.Affirmative},Oa=async e=>{const{windowOptions:t,content:a}=await(async e=>({title:"Restore Changes",windowOptions:{url:M+pa.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:"Are you sure you want to restore to last saved changes?",body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e),n=await Wa(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return(await Ca({options:o,content:a})).data===ma.Affirmative};var Ta;!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(Ta||(Ta={}));const Ea={alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1};var Ba;!function(e){e.Locked="LockClosedIcon",e.Unlocked="LockOpen1Icon"}(Ba||(Ba={}));const xa=function(e=Ea){const t=new Map;return async(a,n,o,r)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const i=`${V.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:i});const s=await fin.Platform.getCurrentSync().createWindow({...e,name:i,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),100),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(`New ${r} indicator: ${o}`),s.once("closed",(()=>{t.delete(a)}))}}();async function Ra(e,t,a,n){const o=new URLSearchParams;o.append("type",e),o.append("message",t),o.append("parentName",a||""),o.append("icon",n||"");const r=`${fa(pa.BrowserIndicator)}?${o.toString()}`;return xa("browser"+a,r,t,e)}function _a(e,t,a){return Ra(Ta.SUCCESS,e,t,a)}const La=async e=>{const t=Ft(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))t.Storage.saveWorkspace(a),t.setActiveWorkspace(a),_a("Workspace Saved",e.name);else{t.Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE})}},Va=e=>{Ft().Browser.wrapSync(e)._openSaveModal({menuType:m.SAVE_WORKSPACE_AS})},Da=async(e,t)=>{const a=Ft().Browser.wrapSync(e),n=await Ft().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId));if(r)try{await Ft().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),_a("Page saved",o.parentIdentity.name)}catch{i="Page failed to save",s=o.parentIdentity.name,Ra(Ta.ERROR,i,s,c)}else a._openSaveModal({id:o.pageId,menuType:m.SAVE_PAGE});var i,s,c,d},Ua=async(e,t)=>{const a=Ft().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:m.SAVE_PAGE_AS})},Fa=async(e,t)=>{if(!e)return;const a=t.identity,n=await Re(a),o=Ft().Browser.wrapSync(t.identity);switch(e.type){case u.NewWindow:const{newPageUrl:t}=await Gt(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");Ft().createView({target:void 0,url:t});break;case u.NewPage:await(async e=>{const t=Ft().Browser.wrapSync(e),a=await $t(e);await t.addPage(a),await t.setActivePage(a.pageId)})(a);break;case u.CloseWindow:n.dispatch(Ve.CloseBrowserWindow);break;case u.SaveWorkspace:await La(a);break;case u.SavePage:await Da(a);break;case u.SavePageAs:await Ua(a);break;case u.SaveWorkspaceAs:await Va(a);break;case u.RenameWorkspace:o._openSaveModal({menuType:m.RENAME_WORKSPACE});break;case u.SwitchWorkspace:await(async(e,t)=>{const a=Ft(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Ia(e,n.title)&&(await a.applyWorkspace(n),_a("Workspace Switched!",null))})(a,e);break;case u.DeleteWorkspace:await(async(e,t)=>{const a=Ft(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Aa(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),_a("Workspace Deleted!",e.name))})(a,e);break;case u.Quit:const r=await ia();await Ma(a,r)&&fin.Platform.getCurrentSync().quit();break;case u.OpenStorefront:(async()=>{await Q()&&j(N)})();break;case u.RestoreChanges:const i=await async function(){const e=Ft(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();await Oa(a)&&await ue(i);break;case u.Custom:if(e.action){const t={callerType:h.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,t)}}},Ga=async(e,t)=>{const a=await Re(t.identity),n=Ft();switch(e?.type){case w.Save:await Da(t.identity,t.pageId);break;case w.SaveAs:await Ua(t.identity,t.pageId);break;case w.Rename:await n.Browser.wrapSync(t.identity)._openSaveModal({menuType:m.RENAME_PAGE,id:t.pageId});break;case w.Duplicate:a.dispatch(Ve.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(Ve.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:h.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,a)}}},$a=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case y.SavePage:await Da(a);break;case y.SaveWorkspace:await La(a);break;case y.SavePageAs:await Ua(a);break;case y.SaveWorkspaceAs:await Va(a);break;case y.Custom:if(e.action){const a={callerType:h.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,a)}}}},Na=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Gt(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...Ce("New View",t),url:t,target:e}})(e);await Ft().createView(o,e,n.identity)},ja=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Gt(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},Ha=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Ft().createView(n,e,t.identity)})(e,a)}))},qa=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case f.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await Ft().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await Re(e)).dispatch(Ve.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case f.OpenWithDefaultBrowser:await ja(a,t.selectedViews);break;case f.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case f.NewView:await Na(a,t);break;case f.DuplicateViews:Ha(a,t.selectedViews);break;case f.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Re(e)).dispatch(Ve.AddToChannel,n)})(a,e.option,t.selectedViews);break;case f.RemoveFromChannel:(async(e,t)=>{(await Re(e)).dispatch(Ve.RemoveFromChannel,t)})(a,t.selectedViews);break;case f.Custom:if(e.action){const n={callerType:h.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Ft()._invokeCustomAction(e.action.id,n)}}};async function Ka(e,t){const a=await oa(e.identity),n=await ia();a.find((e=>e.data?.type===u.Quit)).label=`Quit ${n}`;const o={...e,template:a,callback:Fa};await this.openGlobalContextMenu(o,t)}const Qa=async(e,t)=>{const{x:a,y:n,identity:o,template:r,callback:i}=e,{data:s}=await function(e,t){if(!S)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:r},fin.Window.wrapSync(o));i(s,e)};async function za(e,t){const a={...e,callback:qa};await this.openViewTabContextMenu(a,t)}async function Ja(e,t){const a=await(async(e,t)=>{const a=await Ft().Storage.getPage(e),n=(await Ge()).find((t=>t.pageId===e)),{workspacePlatform:o}=await F(t).getOptions(),r=!(o.isLocked||o.preventPageClose||n.closeButton?.disabled||n.closeButton?.hidden);return[{type:Tt.Label,label:"Save Page",data:{type:w.Save}},{type:Tt.Label,label:"Save Page As",data:{type:w.SaveAs}},Et,{type:Tt.Label,label:"Rename Page",data:{type:w.Rename},enabled:!!a},{type:Tt.Label,label:"Duplicate Page",data:{type:w.Duplicate},enabled:!o.isLocked},Et,{type:Tt.Label,label:"Close Page",data:{type:w.Close},enabled:r}]})(e.pageId,e.identity),n={...e,template:a,callback:Ga};await this.openPageTabContextMenu(n,t)}async function Xa(e,t){const a={...e,template:await(async()=>[{type:Tt.Label,label:"Save Workspace",data:{type:y.SaveWorkspace}},{type:Tt.Label,label:"Save Workspace As",data:{type:y.SaveWorkspaceAs}},{type:Tt.Separator,data:void 0},{type:Tt.Label,label:"Save Page",data:{type:y.SavePage}},{type:Tt.Label,label:"Save Page As",data:{type:y.SavePageAs}}])(),callback:$a};await this.openSaveButtonContextMenu(a,t)}const Ya=b&&gt("openfin-workspace-platform-workspaces","workspaces");async function Za(e){const t=await mt(e,Ya);return t?(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId,t):null}async function en(e){const t=await bt(Ya),a=await Promise.all(t.map((e=>Za(e.toString()))));return e?a.filter((t=>kt(t.title,e))):a}async function tn({workspace:e}){await vt(e.workspaceId,e,Ya)}async function an(e){await St(e,Ya)}async function nn({workspaceId:e,workspace:t}){if(void 0===await Za(e))throw new Error("workspace not found");await tn({workspace:t}),e!==t.workspaceId&&await an(e)}async function on({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case c.Snapshot:return a.applySnapshot(e.manifest);case c.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case c.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const rn=e=>e&&"object"==typeof e&&!Array.isArray(e);function sn(e,...t){if(!t.length)return e;const a=t.shift();return rn(e)&&rn(a)&&Object.entries(a).forEach((([t,a])=>{if(rn(a))return e[t]||(e[t]={}),sn(e[t],a);e[t]=a})),sn(e,...t)}const cn=M+pa.Browser;function dn(e,t){const a=sn({},t,e);return a.detachOnClose=!0,a}async function pn(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const ln=e=>{const t=e.name===V.Home,a=e.name?.startsWith(V.HomeInternal),n=e.name?.startsWith(V.BrowserMenu);return!t&&!a&&!n},un=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),wn={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:cn,contextMenu:!0,closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${M}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},fn={dimensions:{borderWidth:3,headerHeight:30}},gn=async(e,t)=>{const a=await Ft().Storage.getPages(),n=await Ft().Browser.getAllAttachedPages();return e.map((e=>{let o=e.title;void 0===e.pageId&&(e.pageId=crypto.randomUUID());const r=a.find((e=>e.title===o));return(r&&r.pageId!==e.pageId||n.find((e=>e.title===o)))&&(o=le(e.title,[...a,...n].map((e=>e.title)))),n.push({...e,title:o}),{...t,...e,title:o,layout:(i=e.layout,be({...i},ke))};var i}))};var yn;!function(e){e.Browser="browser",e.Platform="platform",e.Classic="classic",e.Mixed="mixed"}(yn||(yn={}));const hn=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function mn(e){const t=(await q()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await Re(e)).dispatch(Ve.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():wt()}const vn=async e=>{await Ma(fin.me.identity,e.title??await ia(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()};let Sn=[];const Pn=()=>Sn;const bn=(e,t)=>async a=>{const n=null!==e;class o extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e}),this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=Xe,this.getAllAttachedPages=Ge,this.getPagesForWindow=Ze,this.getPageForWindow=et,this.setActivePage=Ye,this.launchApp=on,this.savePage=Qe,this.saveWorkspace=ye,this.createSavedPageInternal=He,this.updateSavedPageInternal=Ke,this.deleteSavedPageInternal=qe,this.reorderPagesForWindow=tt,this.getUniquePageTitle=at,this.updatePageForWindow=Je,this.getLastFocusedBrowserWindow=me,this.getThemes=Pn,this.invokeCustomActionInternal=ct,this.requestQuitPlatformDialogInternal=vn,this.getCurrentWorkspace=ge,this.applyWorkspace=ue,this.setActiveWorkspace=we,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this)}async getSnapshot(){const e=n?await mn((async()=>wt(await super.getSnapshot(void 0,fin.me.identity)))):await wt(await super.getSnapshot(void 0,fin.me.identity));return{...e,windows:e.windows.filter(ln).map(ut)}}async applySnapshot({snapshot:e,options:t}){const a=e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}});let o=e;"string"==typeof o&&(o=await super.fetchManifest({manifestUrl:o},fin.me.identity));const r=function(e){let t=!1,a=!1;for(const n of e.windows){if(t&&a)break;n.workspacePlatform?.pages?.length?a=!0:n.layout&&(t=!0)}return t&&a?yn.Mixed:t?yn.Platform:a?yn.Browser:e.windows.length?yn.Classic:null}(o);if(r===yn.Mixed)throw new Error("This snapshot cannot be applied as it contains a mixture of browser and platform windows.");if(n)yn.Platform;else if(r===yn.Browser)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return t?.closeExistingWindows&&await async function(){const e=await q();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}(),n?async function(e,t){const a=await Ge(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),[o,r]=(e.windows||[]).reduce((([e,t],a)=>a?.workspacePlatform?.pages?.length?[[...e,a],t]:[e,[...t,a]]),[[],[]]),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const s=[],c=o.map((async e=>{const t=un(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await at();a.push(await xt(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Ye({identity:o.parentIdentity,pageId:o.pageId}),hn(o.parentIdentity)]),a.length&&s.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(c),!s.length&&!r.length)return;const d=fin.Platform.getCurrentSync();return(t||d.applySnapshot.bind(d))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:[...s,...r]})}(o,a):a(o)}async createWindow(t,a){t.workspacePlatform?.toolbarOptions?.buttons&&(e=>{const t=e.filter((e=>e.type!==g.Custom)),a=new Set;for(const e of t){if(a.has(e.type))throw new Error(`Encountered a duplicate of ${e.type} button. No more than one instance of a button type may be provided.`);a.add(e.type)}})(t.workspacePlatform.toolbarOptions.buttons);let o=un(t);if(n){const t=this.getThemes();o=await(async(e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=sn({},t.defaultWindowOptions,n,wn),n.layout=sn(n.layout,fn),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;if(e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=((e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a})(n,!0),!n.workspacePlatform.pages?.length){const e=await at("Untitled Page"),t={...await xt(e,n.layout),isActive:!0};n.workspacePlatform.pages=[t]}}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=await gn(n.workspacePlatform.pages,t?.defaultPageOptions)),n.cornerRounding&&delete n.cornerRounding,n})(o,e,t[0])}o=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(o);const r=(e,t)=>super.createWindow(e,t),i=n?(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener(D.ShowRequested,(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(r):r;return i(o,a)}async createView(t,a){return t.opts=dn(t.opts,e?.defaultViewOptions),t.opts=await pn(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await dn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await pn(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return Ct.apply(this,e)}async getSavedPages(...e){return It.apply(this,e)}async createSavedPage(...e){return At.apply(this,e)}async deleteSavedPage(...e){return Mt.apply(this,e)}async updateSavedPage(...e){return Ot.apply(this,e)}async getSavedWorkspace(...e){return Za.apply(this,e)}async getSavedWorkspaces(...e){return en.apply(this,e)}async createSavedWorkspace(...e){return tn.apply(this,e)}async deleteSavedWorkspace(...e){return an.apply(this,e)}async updateSavedWorkspace(...e){return nn.apply(this,e)}async attachPagesToWindow(t){t.pages=await gn(t.pages,e?.defaultPageOptions),await ze(t)}async openGlobalContextMenuInternal(...e){return Ka.apply(this,e)}async openGlobalContextMenu(...e){return Qa.apply(this,e)}async openViewTabContextMenuInternal(...e){return za.apply(this,e)}async openViewTabContextMenu(...e){return Qa.apply(this,e)}async openPageTabContextMenuInternal(...e){return Ja.apply(this,e)}async openPageTabContextMenu(...e){return Qa.apply(this,e)}async openSaveButtonContextMenu(...e){return Qa.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Xa.apply(this,e)}}return"function"==typeof t?t(o):new o};async function kn(){!function(){const e=L();e.addListener(B.WindowOptionsChanged,rt),e.addListener(B.WindowClosed,it),e.addListener(B.WindowCreated,it),fin.InterApplicationBus.subscribe({uuid:fin.me.identity.uuid},"browser-window-ready",it)}(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",ve)}();we(await fe())}let Wn;function Cn({overrideCallback:e,interopOverride:t,browser:a}){if(!S)throw new Error("Cannot be used outside an OpenFin env.");if(!Wn){fin.Platform.getCurrentSync().once("platform-api-ready",(()=>kn())),a?.title&&(n=a.title,ra=n),Wn=fin.Platform.init({overrideCallback:bn(a,e||a?.overrideCallback),interopOverride:t||a?.interopOverride}),(async e=>{J(z.Platform,e)})({allowed:!0})}var n;return Wn}const In=async({theme:e,customActions:t,...a})=>{const n=O.split(".").map((e=>parseInt(e))),o=await(async e=>new Promise((async t=>{(await Z()).disableRuntimeValidation&&t(!0);const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(n);var r;if(e&&((r=e).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),Sn=r,(async e=>{J(z.Theming,e)})({allowed:!0})),t&&(st=t),o)return Cn(a);throw new Error(`Runtime version is not supported.  ${n[0]}.${n[1]}.${n[2]}.* is required`)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={703:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,deregister:()=>et,hide:()=>nt,register:()=>Ye,show:()=>tt});var o={};n.r(o),n.d(o,{subscribe:()=>ae});var r={};n.r(r),n.d(r,{create:()=>He});var i=n(678),s=n(532),a=n(436);const c="home";var d;!function(e){e.Commands="home-commands"}(d||(d={}));var u,p=n(806),l=(n(298),n(758));n(114),n(109),n(427);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(u||(u={}));var f=n(316);const w="all",g="0",h="5",y="6",v=()=>{};function m(e,t){return e?`${e}-${t}`:t}function S(e){return`__search-${e}-topic__`}const P=new Map;function C(e,t){P.has(e)||P.set(e,new Set),P.get(e).add(t)}function k(e,t){const n=P.get(e);n&&n.delete(t)}const W=new Map;function R(e,t){W.has(e)||W.set(e,new Set),W.get(e).add(t)}function T(e,t){const n=W.get(e);n&&n.delete(t)}const I=new Map;async function b(e,t){I.has(e)||I.set(e,new Map),I.get(e).set(t.id,t);const n=P.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function D(e,t){const n=I.get(e);if(!n)return;n.delete(t);const o=W.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function B(e){return I.get(e)?[...I.get(e).values()]:[]}function F(e){const t=I.get(e);t&&t.clear()}function L(e,t){const n=I.get(e);return n?n.get(t):null}function A(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function O(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function x(e){const t={};let n=[];let o=[];let r=u.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=v;const i={};return t.res=i,i.close=()=>{r!==u.Close&&(r=u.Close,t.onChange())},i.open=()=>{r!==u.Open&&(r=u.Open,t.onChange())},i.respond=n=>{const o=O(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function E(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function V(){return{name:fin.me.name,uuid:fin.me.uuid}}function M(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const _="deregistered or does not exist",$=new Error(`provider ${_}`),q=new Error("provider with name already exists"),G=new Error("bad payload"),H=new Error("subscription rejected"),N=new Error(`channel ${_}`),U=new Map;function j(e){const t=X(e);if(t)return t;throw N}function X(e){const t=U.get(e);if(t)return t}function K(e,t){U.set(e,t)}const J=new Map;function z(e){J.has(e)||J.set(e,new Map);const t=J.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function Z(e,t){return(await j(e)).dispatch(g,t)}function Q({namespacedTopic:e,topic:t}){const n=L.bind(null,e),o=z(e),r=Z.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=G;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=$;return{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=E(t,s,e),d.set(e.id,u));const p=x(),l=()=>{const e=p.getResultBuffer();p.setResultBuffer([]);const t=p.getRevokedBuffer();p.setRevokedBuffer([]);const n=p.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let f=!0,w=!1;p.onChange=()=>{if(f)return f=!1,void l();w||(w=!0,setTimeout((()=>{w=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,p.res),n=p.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function Y(e,t,n){const o=n||await j(e),r=V(),i={identity:r,...t,onUserInput:void 0,onResultDispatch:void 0},s=await o.dispatch("2",i);return await b(e,{identity:r,...t}),s}async function ee(e,t){const n=await j(e);return await n.dispatch("3",t),D(e,t)}async function te(e,t,n,o){const r=A(n,V(),o),i=L(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await j(e)).dispatch(h,s)}async function ne(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await j(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id,o.close=()=>{!async function(e,t){(await j(e)).dispatch(y,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function oe(e){return(await j(e)).dispatch("4",null)}async function re(e){const t=await j(e);var n;n=e,U.delete(n),F(e),await t.disconnect()}function ie(e){const{namespacedTopic:t}=e,n=z(t);return async o=>{if(!X(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);K(t,(async e=>{const{namespacedTopic:t}=e,n=await se(e);for(const e of B(t))await Y(t,e,n);return n})(e))}}async function se(e){const{namespacedTopic:t}=e,n=S(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(g,Q(e)),o.register(y,function(e){const t=z(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=L(e,t.providerId);if(!o)return;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(ie(e)),o}async function ae(e){const t=("string"==typeof e?e:e?.topic)||w,n=("string"==typeof e?null:e?.uuid)||M(),o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=X(o);return i||(i=se(r),K(o,i),await i),{getAllProviders:oe.bind(null,o),register:Y.bind(null,o),search:ne.bind(null,o),deregister:ee.bind(null,o),dispatch:te.bind(null,o),disconnect:re.bind(null,o)}}const ce=new Map;function de(e){const t=ue(e);if(t)return t;throw N}function ue(e){const t=ce.get(e);if(t)return t}const pe=new Map;function le(e,t){pe.has(e)||pe.set(e,new Set),pe.get(e).add(t)}function fe(e,t){const n=pe.get(e);n&&n.delete(t)}function we(e){return[...B(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function ge(e,t){if(L(e,t.id))throw new Error("provider with name already exists");const n=V();await b(e,{identity:n,...t})}function he(e,t){D(e,t)}async function ye(e,t,n,o){const r=L(e,t);if(!r)throw $;const{onResultDispatch:i}=r;if(!i)return;return i(A(n,V(),o))}async function*ve(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=x(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=O(a.results,n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>L(e,t))).filter((e=>!!e)):[...B(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const d=e=>{c=e,n.setState(c)};let p,l=!1;t.onClose((()=>{l=!0,p&&p()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(d(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},w=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===u.Open||c===f.De.Fetching&&a===u.Initial)&&(w.push(t),n.onChange=o);const d=n.getResultBuffer();d.length&&(n.setResultBuffer([]),s.results=O(s.results,d),e=!0);const p=n.getRevokedBuffer();if(p.length){n.setRevokedBuffer([]);const t=new Set(p);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=w,e&&(yield r),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{p=e}))])}while(s.length||a.length);return d(f.De.Complete),r}let me=0;function Se({namespacedTopic:e,topic:t},n){me+=1;const o=E(t,me.toString(),n),r=ve(e,o.req,{setState:e=>{r.state=e}});return r.id=me.toString(),r.close=o.close,r.state=f.De.Fetching,r}const Pe=new Map;function Ce(e,t){return`${e}:${t}`}function ke(e){return async(t,...n)=>{if(!t)return{error:G.message};let o;if(t.id)o=Ce(e.namespacedTopic,t.id);else{const n=Se(e,t);o=Ce(e.namespacedTopic,n.id),t.id=n.id,Pe.set(o,{generator:n})}const r=Pe.get(o);clearTimeout(r.timeout);const i=await r.generator.next();return r.timeout=function(e){return window.setTimeout((()=>{Pe.delete(e)}),1e4)}(o),{...i,id:t.id,state:r.generator.state}}}function We(e,t,n){return de(e).dispatch(t,y,{id:n})}function Re(e){return t=>function(e,t){const n=Ce(e,t),o=Pe.get(n);o&&o.generator.close()}(e,t.id)}async function Te(e,t,{id:n,query:o,context:r,targets:i}){const s=de(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,g,a),d=c.error;if(d)throw new Error(d);return c}const Ie=new Map;function be(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const De=new Map;function Be(e,t,n){return`${e}:${t}:${n}`}function Fe(e,t){const n=be.bind(null,e,t.identity),o=We.bind(null,e,t.identity),r=Te.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Ie.has(a)){const e=()=>{o(i.id),Ie.delete(a)};Ie.set(a,e),i.onClose(e)}const c=Be(e,t.id,i.id),d=()=>{De.delete(c),s.close()};i.onClose(d),De.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===u.Open&&s.open(),e.status===u.Close&&d()}));const p=await r(i);return p.status===u.Open&&s.open(),p.status!==u.Close&&p.status!==u.Initial||d(),p}}function Le(e,t){return async n=>{const o=de(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,h,r)}}const Ae=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function xe(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(L(e,t.id))throw q;return t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Ae.has(n)||Ae.set(n,[]),Ae.get(n).push(t.id),await b(e,{...t,onUserInput:Fe(e,t),onResultDispatch:Le(e,t)})}(e,t),{workspaceVersion:i.u0,clientAPIVersion:t.clientAPIVersion}}}function Ee(e){return t=>{t&&function(e,t){const n=L(e,t);if(!n)return;const o=Oe(e,n.identity),r=Ae.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),D(e,t))}}(e,t)}}const Ve=new Map;function Me(e,t){Ve.has(e)||Ve.set(e,new Set),Ve.get(e).add(t)}function _e(e,t){const n=Ve.get(e);n&&n.delete(t)}function $e(e){return async t=>{!function(e,t){const n=Oe(e,t),o=Ae.get(n);if(o){for(const t of o)D(e,t);Ae.delete(n)}}(e,t);const n=Ve.get(e);n&&n.forEach((e=>e(t)))}}async function qe(e){const{namespacedTopic:t}=e,n=S(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=pe.get(e);if(n)for(const e of n)if(!await e(t))throw H}}(e)),o.onDisconnection($e(t)),o.register(y,Re(t)),o.register(g,function(e){return t=>{const n=Be(e,t.providerId,t.id),o=De.get(n);o&&o(t)}}(t)),o.register("2",xe(t)),o.register("3",Ee(t)),o.register("4",function(e){return async()=>we(e)}(t)),o.register("1",ke(e)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=L(e,t.providerId);if(!o)throw $;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function Ge(e){const t=de(e);var n;n=e,ce.delete(n),await t.destroy(),F(e)}async function He(e){const t=("string"==typeof e?e:e?.topic)||w,n=M(),o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=ue(o);i||(i=await qe(r),function(e,t){ce.set(e,t)}(o,i));const s=fe.bind(null,o),a=_e.bind(null,o),c=k.bind(null,o),d=T.bind(null,o);return{getAllProviders:we.bind(null,o),search:Se.bind(null,r),register:ge.bind(null,o),deregister:he.bind(null,o),onSubscription:le.bind(null,o),onDisconnect:Me.bind(null,o),onRegister:C.bind(null,o),onDeregister:R.bind(null,o),dispatch:ye.bind(null,r),disconnect:Ge.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=r,{subscribe:Ue}=o,je={create:Ne,subscribe:Ue,defaultTopic:"all"},Xe=()=>{window.search=je},Ke=e=>{const t=()=>{Xe(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Xe();const e="load",t=Ke(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=Ke(n);window.addEventListener(n,o)}const Je=new Map;async function ze(){await async function(e){Je.set(e,await Ue({topic:e,uuid:p.q9.Workspace}))}(c)}let Ze;async function Qe(e){return await async function(){return Ze||(Ze=ze()),Ze}(),Je.get(e)}const Ye=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,a.aB)();const t=await Qe(c);try{e.clientAPIVersion=i.u0;const n=await t.register(e);return(0,s.ck)({allowed:!0,componentVersion:n?.workspaceVersion}),n}catch(e){throw(0,s.ck)({allowed:!1,rejectionCode:e.message}),e}},et=async e=>{await(0,a.aB)();return(await Qe(c)).deregister(e)};async function tt(){return(await(0,a.Xl)()).dispatch(a.WF.ShowHome,void 0)}async function nt(){return(await(0,a.Xl)()).dispatch(a.WF.HideHome,void 0)}},298:(e,t,n)=>{n.d(t,{p:()=>o.px,w:()=>o.wt});var o=n(316)},427:(e,t,n)=>{var o;n.d(t,{v:()=>o}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,el:()=>i,yW:()=>r}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},109:(e,t,n)=>{n.d(t,{Go:()=>r,ZJ:()=>s,bI:()=>i,p6:()=>o});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},528:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>s.L,StorefrontTemplate:()=>s.T,deregister:()=>g,hide:()=>h,register:()=>w,show:()=>y});var o=n(532),r=n(436),i=n(82),s=n(114),a=n(678);let c,d=!1;async function u(e,t,n){const o=await(0,r.Dm)();try{return await o.dispatch(e.action,e.payload)}catch(r){if(-1!==r.toString().indexOf(e.action))return d=!0,await o.dispatch(t.action,t.payload),n;throw r}}const p=new Map,l=e=>{if(!p.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return p.get(e)},f=async e=>{const t=await(0,r.Xl)();if(p.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return p.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.WF.GetStorefrontProviderApps,(e=>l(e).getApps())),e.register(r.WF.GetStorefrontProviderFooter,(e=>l(e).getFooter())),e.register(r.WF.GetStorefrontProviderLandingPage,(e=>l(e).getLandingPage())),e.register(r.WF.GetStorefrontProviderNavigation,(e=>l(e).getNavigation())),e.register(r.WF.LaunchStorefrontProviderApp,(({id:e,app:t})=>l(e).launchApp(t))))})(t),e.clientAPIVersion=a.u0,u({action:r.WF.RegisterProvider,payload:{providerType:i.lP.Storefront,info:e}},{action:r.WF.RegisterStorefrontProvider,payload:e},{workspaceVersion:"unknown"})},w=e=>(c=new Promise((async(t,n)=>{try{const n=await f(e);(0,o.d9)({allowed:!0,componentVersion:n?.workspaceVersion}),t({clientAPIVersion:a.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,o.d9)({allowed:!1,rejectionCode:e.message}),n(e)}})),c),g=async e=>(await c,p.delete(e),await(0,r.aB)(),u({action:r.WF.DeregisterProvider,payload:{providerType:i.lP.Storefront,id:e}},{action:r.WF.DeregisterStorefrontProvider,payload:e})),h=async()=>(await c,await(0,r.aB)(),u({action:r.WF.HideProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.HideStorefront})),y=async()=>(await c,await(0,r.aB)(),u({action:r.WF.ShowProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.ShowStorefront}))},436:(e,t,n)=>{n.d(t,{WF:()=>s,Dm:()=>a,Xl:()=>p,aB:()=>u});var o=n(678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n={clientAPIVersion:o.u0},i=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return i.onDisconnection((async()=>{t=void 0})),i})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),fin.System.openUrlWithBrowser(d(o.GX))},p=async()=>(await u(),a())},82:(e,t,n)=>{n.d(t,{R8:()=>s,X_:()=>i,lP:()=>o});var o,r=n(436);!function(e){e.Storefront="storefront",e.Dock="dock"}(o||(o={}));const i=async e=>(await(0,r.Dm)()).dispatch(r.WF.ShowProviderWindow,{providerType:e}),s=async e=>(await(0,r.Dm)()).dispatch(r.WF.HideProviderWindow,{providerType:e})},806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,o.Workspace},678:(e,t,n)=>{var o;n.d(t,{AB:()=>a,Ax:()=>i,GX:()=>u,ZK:()=>d,aW:()=>p,oC:()=>c,sS:()=>r,u0:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),p="https://cdn.openfin.co/workspace/9.0.14/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,f=(l("https://cdn.openfin.co/workspace/9.0.14"),l("https://cdn.openfin.co/workspace/9.0.14"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"9.0.14")},532:(e,t,n)=>{n.d(t,{Wn:()=>d,ck:()=>a,d9:()=>c});var o,r=n(678),i=n(121);!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:t.componentVersion||r.u0,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)},d=async e=>{s(o.Dock,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>d,JV:()=>l,OI:()=>u,iW:()=>p});var o,r,i,s=n(806),a=n(678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={})),function(e){e.BeforeUnload="beforeunload"}(i||(i={}));function c(e){if(!a.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const d={name:a.oC,uuid:a.AB};const u={name:o.Home,uuid:s.q9.Workspace},p=(o.Dock,s.q9.Workspace,o.Storefront,s.q9.Workspace,{name:s.q9.Workspace,uuid:s.q9.Workspace});const l=e=>c(e).getOptions().then((()=>!0)).catch((()=>!1))},316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{ActionTrigger:()=>P.p,AppManifestType:()=>W.L,ButtonStyle:()=>C.ZJ,CLIAction:()=>k.Pt,CLIFilterOptionType:()=>k.el,CLITemplate:()=>k.yW,ContainerTemplateFragmentNames:()=>C.p6,Dock:()=>e,DockButtonNames:()=>c.v,Home:()=>h,Legacy:()=>t,PresentationTemplateFragmentNames:()=>C.Go,SearchTagBackground:()=>P.w,Storefront:()=>S,StorefrontTemplate:()=>W.T,TemplateFragmentTypes:()=>C.bI});var e={};n.r(e),n.d(e,{DockButtonNames:()=>c.v,deregister:()=>l,minimize:()=>f,register:()=>p,show:()=>w});var t={};n.r(t),n.d(t,{getPages:()=>v,getWorkspaces:()=>m});var r=n(678),i=n(532),s=n(436),a=n(82),c=n(427);let d,u=!1;const p=e=>(d=new Promise((async(t,n)=>{try{const n=await(async e=>{const t=await(0,s.Xl)();if(u)throw new Error("A dock provider for the platform is already registered.");return u=!0,e.clientAPIVersion=r.u0,t.dispatch(s.WF.RegisterProvider,{providerType:a.lP.Dock,info:e})})(e);(0,i.Wn)({allowed:!0,componentVersion:n?.workspaceVersion}),t({clientAPIVersion:r.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,i.Wn)({allowed:!1,rejectionCode:e.message}),n(e),d=null}})),d),l=async()=>{await d,u=!1;return(await(0,s.Xl)()).dispatch(s.WF.DeregisterProvider,{providerType:a.lP.Dock})},f=async()=>{await d,await(0,s.aB)(),await(0,a.R8)(a.lP.Dock)},w=async()=>{await d,await(0,s.aB)(),await(0,a.X_)(a.lP.Dock)};var g,h=n(703);n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(g||(g={}));new Map;var y;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(y||(y={}));const v=()=>async function(){return(await(0,s.Dm)()).dispatch(s.WF.GetLegacyPages,void 0)}(),m=()=>(async()=>(await(0,s.Dm)()).dispatch(s.WF.GetLegacyWorkspaces,void 0))();var S=n(528),P=n(298),C=n(109),k=n(758),W=n(114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/bootstrapper.ts":
/*!************************************!*\
  !*** ./client/src/bootstrapper.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home */ "./client/src/home.ts");
/* harmony import */ var _integrations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integrations */ "./client/src/integrations.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");



async function init() {
    // you can kick off your bootstrapping process here where you may decide to prompt for authentication,
    // gather reference data etc before starting workspace and interacting with it.
    console.log("Initialising the bootstrapper");
    const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
    await (0,_home__WEBPACK_IMPORTED_MODULE_0__.register)();
    await (0,_home__WEBPACK_IMPORTED_MODULE_0__.show)();
    await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.register)({
        openUrl: async (url) => fin.System.openUrlWithBrowser(url)
    }, settings.integrationProvider);
    const providerWindow = fin.Window.getCurrentSync();
    await providerWindow.once("close-requested", async (event) => {
        await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.deregister)(settings.integrationProvider);
        await (0,_home__WEBPACK_IMPORTED_MODULE_0__.deregister)();
        await fin.Platform.getCurrentSync().quit();
    });
}


/***/ }),

/***/ "./client/src/home.ts":
/*!****************************!*\
  !*** ./client/src/home.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _integrations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integrations */ "./client/src/integrations.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");



let isHomeRegistered = false;
async function register() {
    console.log("Initialising home.");
    const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
    if (settings.homeProvider === undefined ||
        settings.homeProvider.id === undefined ||
        settings.homeProvider.title === undefined) {
        console.warn("homeProvider: not configured in the customSettings of your manifest correctly. Ensure you have the homeProvider object defined in customSettings with the following defined: id, title");
        return;
    }
    let lastResponse;
    const onUserInput = async (request, response) => {
        try {
            const query = request.query.toLowerCase();
            if (lastResponse !== undefined) {
                lastResponse.close();
            }
            lastResponse = response;
            lastResponse.open();
            const searchResults = {
                results: [],
                context: {
                    filters: []
                }
            };
            if (query === "?") {
                searchResults.results = searchResults.results.concat(await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.getHelpSearchEntries)());
            }
            else {
                const integrationResults = await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.getSearchResults)(query, undefined, lastResponse);
                if (Array.isArray(integrationResults.results)) {
                    searchResults.results = searchResults.results.concat(integrationResults.results);
                }
                if (Array.isArray(integrationResults.context.filters)) {
                    searchResults.context.filters = searchResults.context.filters.concat(integrationResults.context.filters);
                }
            }
            return searchResults;
        }
        catch (err) {
            console.error("Exception while getting search list results", err);
        }
    };
    const onSelection = async (result) => {
        if (result.data !== undefined) {
            const handled = await (0,_integrations__WEBPACK_IMPORTED_MODULE_1__.itemSelection)(result, lastResponse);
            if (!handled) {
                console.warn(`Result not handled ${result.key}`, result.data);
            }
        }
        else {
            console.warn("Unable to execute result without data being passed");
        }
    };
    const cliProvider = {
        title: settings.homeProvider.title,
        id: settings.homeProvider.id,
        icon: settings.homeProvider.icon,
        onUserInput,
        onResultDispatch: onSelection,
        dispatchFocusEvents: true
    };
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.register(cliProvider);
    isHomeRegistered = true;
    console.log("Home configured.");
}
async function show() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.show();
}
async function hide() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.hide();
}
async function deregister() {
    if (isHomeRegistered) {
        const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
        return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.deregister(settings.homeProvider.id);
    }
    console.warn("Unable to deregister home as there is an indication it was never registered");
}


/***/ }),

/***/ "./client/src/integrations.ts":
/*!************************************!*\
  !*** ./client/src/integrations.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addKnownIntegrationProvider": () => (/* binding */ addKnownIntegrationProvider),
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "getHelpSearchEntries": () => (/* binding */ getHelpSearchEntries),
/* harmony export */   "getSearchResults": () => (/* binding */ getSearchResults),
/* harmony export */   "itemSelection": () => (/* binding */ itemSelection),
/* harmony export */   "register": () => (/* binding */ register)
/* harmony export */ });
const knownIntegrationProviders = {};
const homeIntegrations = [];
/**
 * Register all the workspace integrations.
 * @param integrationManager The integration manager.
 * @param integrationProvider The integration provider settings.
 */
async function register(integrationManager, integrationProvider) {
    const integrations = integrationProvider?.integrations;
    if (Array.isArray(integrations)) {
        for (const integration of integrations) {
            if (integration.enabled) {
                if (!knownIntegrationProviders[integration.id] && integration.moduleUrl) {
                    try {
                        const mod = await import(/* webpackIgnore: true */ integration.moduleUrl);
                        knownIntegrationProviders[integration.id] = mod.integration;
                    }
                    catch (err) {
                        console.error(`Error loading module ${integration.moduleUrl}`, err);
                    }
                }
                if (knownIntegrationProviders[integration.id]) {
                    const homeIntegration = knownIntegrationProviders[integration.id];
                    homeIntegrations.push({
                        module: homeIntegration,
                        integration
                    });
                    if (homeIntegration.register) {
                        await homeIntegration.register(integrationManager, integration);
                    }
                }
                else {
                    console.error("Missing module in integration providers", integration.id);
                }
            }
        }
    }
}
/**
 * Deregister all the integrations.
 * @param integrationProvider The integration provider.
 */
async function deregister(integrationProvider) {
    for (const homeIntegration of homeIntegrations) {
        if (homeIntegration.module.deregister) {
            await homeIntegration.module.deregister(homeIntegration.integration);
        }
    }
}
/**
 * Get the search results from all the integration providers.
 * @param query The query to get the search results for.
 * @param filters The filters to apply to the search results.
 * @param lastResponse The last search response used for updating existing results.
 * @returns The search results and new filters.
 */
async function getSearchResults(query, filters, lastResponse) {
    const homeResponse = {
        results: [],
        context: {
            filters: []
        }
    };
    const promises = [];
    for (const homeIntegration of homeIntegrations) {
        if (homeIntegration.module.getSearchResults) {
            promises.push(homeIntegration.module.getSearchResults(homeIntegration.integration, query, filters, lastResponse));
        }
    }
    const promiseResults = await Promise.allSettled(promises);
    for (const promiseResult of promiseResults) {
        if (promiseResult.status === "fulfilled") {
            if (Array.isArray(promiseResult.value.results)) {
                homeResponse.results = homeResponse.results.concat(promiseResult.value.results);
            }
            const newFilters = promiseResult.value.context?.filters;
            if (Array.isArray(newFilters) && homeResponse.context?.filters) {
                homeResponse.context.filters = homeResponse.context.filters.concat(newFilters);
            }
        }
        else {
            console.error(promiseResult.reason);
        }
    }
    return homeResponse;
}
/**
 * Get the help search entries for all the integration providers.
 * @returns The list of help entries.
 */
async function getHelpSearchEntries() {
    let results = [];
    for (const homeIntegration of homeIntegrations) {
        if (homeIntegration.module.getHelpSearchEntries) {
            const integrationResults = await homeIntegration.module.getHelpSearchEntries(homeIntegration.integration);
            results = results.concat(integrationResults);
        }
    }
    return results;
}
/**
 * The item for one of the providers was selected.
 * @param result The result of the selection.
 * @param lastResponse The last response.
 * @returns True if the selection was handled.
 */
async function itemSelection(result, lastResponse) {
    if (result.data) {
        const foundIntegration = homeIntegrations.find((hi) => hi.integration.id === result.data?.providerId);
        if (foundIntegration?.module?.itemSelection) {
            const handled = await foundIntegration.module.itemSelection(foundIntegration.integration, result, lastResponse);
            if (!handled) {
                console.warn(`Error while trying to handle ${foundIntegration.integration.id} entry`, result.data);
            }
            return handled;
        }
    }
    return false;
}
/**
 * Add an integration module that was loaded manually.
 * @param id The id of the module.
 * @param module The module.
 */
function addKnownIntegrationProvider(id, module) {
    knownIntegrationProviders[id] = module;
}


/***/ }),

/***/ "./client/src/platform.ts":
/*!********************************!*\
  !*** ./client/src/platform.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./themes */ "./client/src/themes.ts");


async function init() {
    console.log("Initialising platform");
    const browser = {};
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getThemes)();
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser,
        theme
    });
}


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSettings": () => (/* binding */ getSettings)
/* harmony export */ });
let settings;
async function getConfiguredSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    if (manifest.customSettings !== undefined) {
        settings = manifest.customSettings;
    }
    else {
        settings = {};
    }
    return settings;
}
async function getSettings() {
    if (settings === undefined) {
        settings = await getConfiguredSettings();
    }
    return settings;
}


/***/ }),

/***/ "./client/src/themes.ts":
/*!******************************!*\
  !*** ./client/src/themes.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCurrentTheme": () => (/* binding */ getCurrentTheme),
/* harmony export */   "getThemes": () => (/* binding */ getThemes),
/* harmony export */   "validateThemes": () => (/* binding */ validateThemes)
/* harmony export */ });
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");

const DEFAULT_PALETTES = {
    light: {
        brandPrimary: "#504CFF",
        brandSecondary: "#1E1F23",
        backgroundPrimary: "#FAFBFE",
        background1: "#FFFFFF",
        background2: "#FAFBFE",
        background3: "#F3F5F8",
        background4: "#ECEEF1",
        background5: "#DDDFE4",
        background6: "#C9CBD2",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#ECEEF1",
        inputColor: "#1E1F23",
        inputPlaceholder: "#383A40",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#1E1F23",
        textHelp: "#2F3136",
        textInactive: "#7D808A"
    },
    dark: {
        brandPrimary: "#504CFF",
        brandSecondary: "#383A40",
        backgroundPrimary: "#1E1F23",
        background1: "#111214",
        background2: "#1E1F23",
        background3: "#24262B",
        background4: "#2F3136",
        background5: "#383A40",
        background6: "#53565F",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#53565F",
        inputColor: "#FFFFFF",
        inputPlaceholder: "#C9CBD2",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#FFFFFF",
        textHelp: "#C9CBD2",
        textInactive: "#7D808A"
    }
};
let validatedThemes;
function getSystemPreferredColorScheme() {
    if (window.matchMedia?.("(prefers-color-scheme: dark)").matches) {
        return "dark";
    }
    return "light";
}
async function getCurrentTheme() {
    const themes = await getThemes();
    if (themes.length === 0) {
        return {
            label: "default",
            palette: DEFAULT_PALETTES.dark
        };
    }
    return themes[0];
}
async function getThemes() {
    if (!validatedThemes) {
        const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_0__.getSettings)();
        validatedThemes = validateThemes(settings?.themeProvider?.themes);
    }
    return validatedThemes.slice();
}
function validateThemes(themes) {
    const customThemes = [];
    if (Array.isArray(themes)) {
        const preferredColorScheme = getSystemPreferredColorScheme();
        for (let i = 0; i < themes.length; i++) {
            const themeToValidate = themes[i];
            const palette = validatePalette(themeToValidate.palette, themeToValidate.label);
            if (palette !== null) {
                themeToValidate.palette = palette;
            }
            else {
                // don't pass an empty object as there are no theme properties
                themeToValidate.palette = undefined;
            }
            if (themeToValidate.label.toLowerCase() === preferredColorScheme) {
                console.log(`Found a theme that matches system color scheme preferences and making it the default theme: ${preferredColorScheme}`);
                customThemes.unshift(themeToValidate);
            }
            else {
                customThemes.push(themeToValidate);
            }
        }
    }
    return customThemes;
}
function validatePalette(themePalette, themeLabel) {
    if (!themePalette) {
        return null;
    }
    const keys = Object.keys(themePalette);
    if (keys.length === 0) {
        return null;
    }
    const palette = {
        ...DEFAULT_PALETTES.dark
    };
    for (const key of keys) {
        if (themePalette[key] !== undefined &&
            themePalette[key] !== null &&
            themePalette[key].trim().length > 0) {
            palette[key] = themePalette[key];
        }
    }
    const brandPrimaryKey = "brandPrimary";
    const brandSecondaryKey = "brandSecondary";
    const backgroundPrimaryKey = "backgroundPrimary";
    if (!themePalette[brandPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    if (!themePalette[brandSecondaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandSecondaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandSecondary}`);
    }
    if (!themePalette[backgroundPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${backgroundPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    return palette;
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrapper */ "./client/src/bootstrapper.ts");
/* harmony import */ var _platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform */ "./client/src/platform.ts");


window.addEventListener("DOMContentLoaded", async () => {
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => (0,_bootstrapper__WEBPACK_IMPORTED_MODULE_0__.init)());
    await (0,_platform__WEBPACK_IMPORTED_MODULE_1__.init)();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxJQUFJLEVBQUUsQ0FBQyxtREFBUyxFQUFFLENBQUMsQ0FBQztJQUNuRSxNQUFNLCtDQUFrQixFQUFFLENBQUM7QUFDNUIsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvLi9jbGllbnQvc3JjL2Jvb3RzdHJhcHBlci50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy9ob21lLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy9wbGF0Zm9ybS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy90aGVtZXMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy8uL2NsaWVudC9zcmMvcHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUgaW5kZXguanMuTElDRU5TRS50eHQgKi9cbigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs1MjU6ZT0+e3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtmdW5jdGlvbiBvKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO3ZhciBlPW5ldyBTdHJpbmcoXCJhYmNcIik7aWYoZVs1XT1cImRlXCIsXCI1XCI9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKVswXSlyZXR1cm4hMTtmb3IodmFyIHQ9e30sYT0wO2E8MTA7YSsrKXRbXCJfXCIrU3RyaW5nLmZyb21DaGFyQ29kZShhKV09YTtpZihcIjAxMjM0NTY3ODlcIiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgbj17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bltlXT1lfSkpLFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIj09PU9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sbikpLmpvaW4oXCJcIil9Y2F0Y2goZSl7cmV0dXJuITF9fSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oZSxyKXtmb3IodmFyIGkscyxjPW8oZSksZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe2Zvcih2YXIgcCBpbiBpPU9iamVjdChhcmd1bWVudHNbZF0pKWEuY2FsbChpLHApJiYoY1twXT1pW3BdKTtpZih0KXtzPXQoaSk7Zm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspbi5jYWxsKGksc1tsXSkmJihjW3NbbF1dPWlbc1tsXV0pfX1yZXR1cm4gY319LDUzNTooZSx0LGEpPT57dmFyIG49YSg1MjUpLG89NjAxMDMscj02MDEwNjt2YXIgaT02MDEwOSxzPTYwMTEwLGM9NjAxMTI7dmFyIGQ9NjAxMTUscD02MDExNjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Ipe3ZhciBsPVN5bWJvbC5mb3I7bz1sKFwicmVhY3QuZWxlbWVudFwiKSxyPWwoXCJyZWFjdC5wb3J0YWxcIiksbChcInJlYWN0LmZyYWdtZW50XCIpLGwoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxsKFwicmVhY3QucHJvZmlsZXJcIiksaT1sKFwicmVhY3QucHJvdmlkZXJcIikscz1sKFwicmVhY3QuY29udGV4dFwiKSxjPWwoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxsKFwicmVhY3Quc3VzcGVuc2VcIiksZD1sKFwicmVhY3QubWVtb1wiKSxwPWwoXCJyZWFjdC5sYXp5XCIpfXZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yO2Z1bmN0aW9uIHcoZSl7Zm9yKHZhciB0PVwiaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2Vycm9yLWRlY29kZXIuaHRtbD9pbnZhcmlhbnQ9XCIrZSxhPTE7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyl0Kz1cIiZhcmdzW109XCIrZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1thXSk7cmV0dXJuXCJNaW5pZmllZCBSZWFjdCBlcnJvciAjXCIrZStcIjsgdmlzaXQgXCIrdCtcIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuXCJ9dmFyIGY9e2lzTW91bnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbigpe319LGc9e307ZnVuY3Rpb24geShlLHQsYSl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10LHRoaXMucmVmcz1nLHRoaXMudXBkYXRlcj1hfHxmfWZ1bmN0aW9uIGgoKXt9ZnVuY3Rpb24gbShlLHQsYSl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10LHRoaXMucmVmcz1nLHRoaXMudXBkYXRlcj1hfHxmfXkucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e30seS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9ZSl0aHJvdyBFcnJvcih3KDg1KSk7dGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLGUsdCxcInNldFN0YXRlXCIpfSx5LnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsZSxcImZvcmNlVXBkYXRlXCIpfSxoLnByb3RvdHlwZT15LnByb3RvdHlwZTt2YXIgdj1tLnByb3RvdHlwZT1uZXcgaDt2LmNvbnN0cnVjdG9yPW0sbih2LHkucHJvdG90eXBlKSx2LmlzUHVyZVJlYWN0Q29tcG9uZW50PSEwO3ZhciBTPXtjdXJyZW50Om51bGx9LFA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxiPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07ZnVuY3Rpb24gayhlLHQsYSl7dmFyIG4scj17fSxpPW51bGwscz1udWxsO2lmKG51bGwhPXQpZm9yKG4gaW4gdm9pZCAwIT09dC5yZWYmJihzPXQucmVmKSx2b2lkIDAhPT10LmtleSYmKGk9XCJcIit0LmtleSksdClQLmNhbGwodCxuKSYmIWIuaGFzT3duUHJvcGVydHkobikmJihyW25dPXRbbl0pO3ZhciBjPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09YylyLmNoaWxkcmVuPWE7ZWxzZSBpZigxPGMpe2Zvcih2YXIgZD1BcnJheShjKSxwPTA7cDxjO3ArKylkW3BdPWFyZ3VtZW50c1twKzJdO3IuY2hpbGRyZW49ZH1pZihlJiZlLmRlZmF1bHRQcm9wcylmb3IobiBpbiBjPWUuZGVmYXVsdFByb3BzKXZvaWQgMD09PXJbbl0mJihyW25dPWNbbl0pO3JldHVybnskJHR5cGVvZjpvLHR5cGU6ZSxrZXk6aSxyZWY6cyxwcm9wczpyLF9vd25lcjpTLmN1cnJlbnR9fWZ1bmN0aW9uIFcoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09b312YXIgQz0vXFwvKy9nO2Z1bmN0aW9uIEkoZSx0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPWUua2V5P2Z1bmN0aW9uKGUpe3ZhciB0PXtcIj1cIjpcIj0wXCIsXCI6XCI6XCI9MlwifTtyZXR1cm5cIiRcIitlLnJlcGxhY2UoL1s9Ol0vZywoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9KFwiXCIrZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIEEoZSx0LGEsbixpKXt2YXIgcz10eXBlb2YgZTtcInVuZGVmaW5lZFwiIT09cyYmXCJib29sZWFuXCIhPT1zfHwoZT1udWxsKTt2YXIgYz0hMTtpZihudWxsPT09ZSljPSEwO2Vsc2Ugc3dpdGNoKHMpe2Nhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOmM9ITA7YnJlYWs7Y2FzZVwib2JqZWN0XCI6c3dpdGNoKGUuJCR0eXBlb2Ype2Nhc2UgbzpjYXNlIHI6Yz0hMH19aWYoYylyZXR1cm4gaT1pKGM9ZSksZT1cIlwiPT09bj9cIi5cIitJKGMsMCk6bixBcnJheS5pc0FycmF5KGkpPyhhPVwiXCIsbnVsbCE9ZSYmKGE9ZS5yZXBsYWNlKEMsXCIkJi9cIikrXCIvXCIpLEEoaSx0LGEsXCJcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkpOm51bGwhPWkmJihXKGkpJiYoaT1mdW5jdGlvbihlLHQpe3JldHVybnskJHR5cGVvZjpvLHR5cGU6ZS50eXBlLGtleTp0LHJlZjplLnJlZixwcm9wczplLnByb3BzLF9vd25lcjplLl9vd25lcn19KGksYSsoIWkua2V5fHxjJiZjLmtleT09PWkua2V5P1wiXCI6KFwiXCIraS5rZXkpLnJlcGxhY2UoQyxcIiQmL1wiKStcIi9cIikrZSkpLHQucHVzaChpKSksMTtpZihjPTAsbj1cIlwiPT09bj9cIi5cIjpuK1wiOlwiLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBwPW4rSShzPWVbZF0sZCk7Yys9QShzLHQsYSxwLGkpfWVsc2UgaWYocD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YoZT11JiZlW3VdfHxlW1wiQEBpdGVyYXRvclwiXSk/ZTpudWxsfShlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBwKWZvcihlPXAuY2FsbChlKSxkPTA7IShzPWUubmV4dCgpKS5kb25lOyljKz1BKHM9cy52YWx1ZSx0LGEscD1uK0kocyxkKyspLGkpO2Vsc2UgaWYoXCJvYmplY3RcIj09PXMpdGhyb3cgdD1cIlwiK2UsRXJyb3IodygzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09dD9cIm9iamVjdCB3aXRoIGtleXMge1wiK09iamVjdC5rZXlzKGUpLmpvaW4oXCIsIFwiKStcIn1cIjp0KSk7cmV0dXJuIGN9ZnVuY3Rpb24gTShlLHQsYSl7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgbj1bXSxvPTA7cmV0dXJuIEEoZSxuLFwiXCIsXCJcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2FsbChhLGUsbysrKX0pKSxufWZ1bmN0aW9uIE8oZSl7aWYoLTE9PT1lLl9zdGF0dXMpe3ZhciB0PWUuX3Jlc3VsdDt0PXQoKSxlLl9zdGF0dXM9MCxlLl9yZXN1bHQ9dCx0LnRoZW4oKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJih0PXQuZGVmYXVsdCxlLl9zdGF0dXM9MSxlLl9yZXN1bHQ9dCl9KSwoZnVuY3Rpb24odCl7MD09PWUuX3N0YXR1cyYmKGUuX3N0YXR1cz0yLGUuX3Jlc3VsdD10KX0pKX1pZigxPT09ZS5fc3RhdHVzKXJldHVybiBlLl9yZXN1bHQ7dGhyb3cgZS5fcmVzdWx0fXZhciBUPXtjdXJyZW50Om51bGx9O2Z1bmN0aW9uIEUoKXt2YXIgZT1ULmN1cnJlbnQ7aWYobnVsbD09PWUpdGhyb3cgRXJyb3IodygzMjEpKTtyZXR1cm4gZX19LDM3ODooZSx0LGEpPT57YSg1MzUpfX0sdD17fTtmdW5jdGlvbiBhKG4pe3ZhciBvPXRbbl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciByPXRbbl09e2V4cG9ydHM6e319O3JldHVybiBlW25dKHIsci5leHBvcnRzLGEpLHIuZXhwb3J0c31hLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClhLm8odCxuKSYmIWEubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGEubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksYS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbj17fTsoKCk9Pnt2YXIgZSx0LG8scixpLHMsYyxkO2EucihuKSxhLmQobix7QXBwTWFuaWZlc3RUeXBlOigpPT5jLEJyb3dzZXJCdXR0b25UeXBlOigpPT5nLEN1c3RvbUFjdGlvbkNhbGxlclR5cGU6KCk9PmgsR2xvYmFsQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT51LFBhZ2VUYWJDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PncsU2F2ZUJ1dHRvbkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+eSxTYXZlTW9kYWxUeXBlOigpPT5tLFZpZXdUYWJNZW51T3B0aW9uVHlwZTooKT0+ZixnZXRDdXJyZW50U3luYzooKT0+RnQsaW5pdDooKT0+SW4sd3JhcFN5bmM6KCk9PlV0fSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHR8fCh0PXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KGR8fChkPXt9KSk7dmFyIHAsbCx1LHcsZixnLHksaCxtLHY7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShwfHwocD17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuUmVzdG9yZUNoYW5nZXM9XCJSZXN0b3JlQ2hhbmdlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVuYW1lV29ya3NwYWNlPVwiUmVuYW1lV29ya3NwYWNlXCIsZS5Td2l0Y2hXb3Jrc3BhY2U9XCJTd2l0Y2hXb3Jrc3BhY2VcIixlLkRlbGV0ZVdvcmtzcGFjZT1cIkRlbGV0ZVdvcmtzcGFjZVwiLGUuT3BlblN0b3JlZnJvbnQ9XCJPcGVuU3RvcmVmcm9udFwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5DdXN0b209XCJDdXN0b21cIn0od3x8KHc9e30pKSxmdW5jdGlvbihlKXtlLk5ld1ZpZXc9XCJOZXdWaWV3XCIsZS5EdXBsaWNhdGVWaWV3cz1cIkR1cGxpY2F0ZVZpZXdcIixlLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI9XCJPcGVuV2l0aERlZmF1bHRCcm93c2VyXCIsZS5SZWxvYWRWaWV3cz1cIlJlbG9hZFRhYlwiLGUuQ2xvc2VWaWV3cz1cIkNsb3NlVGFiXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwiUmVtb3ZlRnJvbUNoYW5uZWxcIixlLkN1c3RvbT1cIkN1c3RvbVwifShmfHwoZj17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5Db2xvckxpbmtpbmc9XCJDb2xvckxpbmtpbmdcIixlLlByZXNldExheW91dHM9XCJQcmVzZXRMYXlvdXRzXCIsZS5Mb2NrVW5sb2NrUGFnZT1cIkxvY2tVbmxvY2tQYWdlXCIsZS5TYXZlTWVudT1cIlNhdmVNZW51XCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5NaW5pbWlzZT1cIk1pbmltaXNlXCIsZS5NYXhpbWlzZT1cIk1heGltaXNlXCIsZS5DbG9zZT1cIkNsb3NlXCIsZS5DdXN0b209XCJDdXN0b21cIn0oZ3x8KGc9e30pKSxmdW5jdGlvbihlKXtlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5DdXN0b209XCJDdXN0b21cIn0oeXx8KHk9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbUJ1dHRvbj1cIkN1c3RvbUJ1dHRvblwiLGUuQ3VzdG9tRHJvcGRvd25JdGVtPVwiQ3VzdG9tRHJvcGRvd25JdGVtXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PVwiU2F2ZUJ1dHRvbkNvbnRleHRNZW51XCIsZS5BUEk9XCJBUElcIn0oaHx8KGg9e30pKSxmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifShtfHwobT17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0odnx8KHY9e30pKTtjb25zdCBTPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sUD0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxiPVAmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREIsaz1QP3dpbmRvdy5vcmlnaW46di5Mb2NhbCxXPVMmJmZpbi5tZS51dWlkLEM9UyYmZmluLm1lLm5hbWUsST1TJiZmaW4ubWUuZW50aXR5VHlwZSxBPSh2LkxvY2FsLHYuRGV2LHYuU3RhZ2luZyx2LlByb2QsZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTprK2UpLE09KEEoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuMTRcIiksQShcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzkuMC4xNFwiKSksTz0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmQShXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZBKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiMjYuMTAyLjcxLjdcIiksVD1cIjkuMC4xNFwiO3ZhciBFLEIseDshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0oRXx8KEU9e30pKSxmdW5jdGlvbihlKXtlLlJ1blJlcXVlc3RlZD1cInJ1bi1yZXF1ZXN0ZWRcIixlLldpbmRvd09wdGlvbnNDaGFuZ2VkPVwid2luZG93LW9wdGlvbnMtY2hhbmdlZFwiLGUuV2luZG93Q2xvc2VkPVwid2luZG93LWNsb3NlZFwiLGUuV2luZG93Q3JlYXRlZD1cIndpbmRvdy1jcmVhdGVkXCJ9KEJ8fChCPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifSh4fHwoeD17fSkpO2NvbnN0IFI9e3V1aWQ6V30sXz0oRS5Xb3Jrc3BhY2UsZT0+e2lmKCFTKXRocm93IG5ldyBFcnJvcihcImdldEFwcGxpY2F0aW9uIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpfSksTD0oKT0+XyhSKTt2YXIgVixELFU7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0oVnx8KFY9e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlZD1cImNsb3NlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KER8fChEPXt9KSksZnVuY3Rpb24oZSl7ZS5CZWZvcmVVbmxvYWQ9XCJiZWZvcmV1bmxvYWRcIn0oVXx8KFU9e30pKTtmdW5jdGlvbiBGKGUpe2lmKCFTKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IEc9e25hbWU6Qyx1dWlkOld9O2Z1bmN0aW9uICQoKXtyZXR1cm4gRihHKX1WLkhvbWUsRS5Xb3Jrc3BhY2UsVi5Eb2NrLEUuV29ya3NwYWNlO2NvbnN0IE49e25hbWU6Vi5TdG9yZWZyb250LHV1aWQ6RS5Xb3Jrc3BhY2V9O0UuV29ya3NwYWNlLEUuV29ya3NwYWNlO2FzeW5jIGZ1bmN0aW9uIGooZSl7Y29uc3QgdD1GKGUpO1wibWluaW1pemVkXCI9PT1hd2FpdCB0LmdldFN0YXRlKCkmJmF3YWl0IHQucmVzdG9yZSgpLGF3YWl0IHQuc2hvdygpLGF3YWl0IHQuc2V0QXNGb3JlZ3JvdW5kKCl9Y29uc3QgSD1lPT5lLnN0YXJ0c1dpdGgoVi5Ccm93c2VyV2luZG93KTthc3luYyBmdW5jdGlvbiBxKCl7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PkgoZS5pZGVudGl0eS5uYW1lKSkpfWNvbnN0IEs9ZT0+RihlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpLFE9KCk9PksoTik7dmFyIHo7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0oenx8KHo9e30pKTtjb25zdCBKPWFzeW5jKGUsdCk9Pntjb25zdCBhPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8VCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fFQsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOmF9KX07YSgzNzgpO2NvbnN0IFg9ZT0+ZmluLlN5c3RlbS5nZXRTeXN0ZW1BcHBDb25maWcoZSk7bGV0IFk7YXN5bmMgZnVuY3Rpb24gWigpe2lmKFkpcmV0dXJuIFk7aWYoIVMpcmV0dXJue307Y29uc3QgZT1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2lmKFMpdHJ5e2xldCBlPWF3YWl0IFgoXCJ3b3Jrc3BhY2VcIikuY2F0Y2goKGU9Pnt9KSk7cmV0dXJuIGV8fChlPWF3YWl0IFgoXCJob21lXCIpKSxlfWNhdGNoKGUpe319KCksdD1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0e21hbmlmZXN0OmUsaW5pdGlhbE9wdGlvbnM6dH09YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0SW5mbygpO3JldHVybiBlPy53b3Jrc3BhY2V8fGU/LmhvbWV8fHQ/LndvcmtzcGFjZXx8dD8uaG9tZSxlPy53b3Jrc3BhY2U/ZT8ud29ya3NwYWNlOmU/LmhvbWU/ZT8uaG9tZTp0Py53b3Jrc3BhY2U/dD8ud29ya3NwYWNlOnQ/LmhvbWU/dD8uaG9tZTp2b2lkIDB9KCk7cmV0dXJuIFk9ey4uLnQsLi4uZX0sWX12YXIgZWU7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIn0oZWV8fChlZT17fSkpO2NvbnN0IHRlPWVlLGFlPShlLHQpPT57bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7V30tJHtlfWAsdCl9LG5lPWU9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1d9LSR7ZX1gKTt2YXIgb2U7IWZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5TaGFyZVBhZ2U9XCJzaGFyZVBhZ2VcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5HZXRBbGxBdHRhY2hlZFBhZ2VzPVwiZ2V0QWxsQXR0YWNoZWRQYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUlkRm9yV2luZG93PVwiZ2V0QWN0aXZlUGFnZUlkRm9yV2luZG93XCIsZS5HZXRQYWdlc0ZvcldpbmRvdz1cImdldFBhZ2VzRm9yV2luZG93XCIsZS5HZXRQYWdlRm9yV2luZG93PVwiZ2V0UGFnZUZvcldpbmRvd1wiLGUuR2V0U2F2ZWRQYWdlTWV0YWRhdGE9XCJnZXRTYXZlZFBhZ2VNZXRhZGF0YVwiLGUuR2V0VW5pcXVlUGFnZVRpdGxlPVwiZ2V0VW5pcXVlUGFnZVRpdGxlXCIsZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJnZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9XCJpbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbFwiLGUuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPVwicmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsXCIsZS5HZXRTYXZlZFdvcmtzcGFjZT1cImdldFNhdmVkV29ya3NwYWNlXCIsZS5DcmVhdGVTYXZlZFdvcmtzcGFjZT1cImNyZWF0ZVNhdmVkV29ya3NwYWNlXCIsZS5VcGRhdGVTYXZlZFdvcmtzcGFjZT1cInVwZGF0ZVNhdmVkV29ya3NwYWNlXCIsZS5EZWxldGVTYXZlZFdvcmtzcGFjZT1cImRlbGV0ZVNhdmVkV29ya3NwYWNlXCIsZS5HZXRTYXZlZFdvcmtzcGFjZXM9XCJnZXRTYXZlZFdvcmtzcGFjZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJzYXZlV29ya3NwYWNlXCIsZS5HZXRDdXJyZW50V29ya3NwYWNlPVwiZ2V0Q3VycmVudFdvcmtzcGFjZVwiLGUuQXBwbHlXb3Jrc3BhY2U9XCJhcHBseVdvcmtzcGFjZVwiLGUuU2V0QWN0aXZlV29ya3NwYWNlPVwic2V0QWN0aXZlV29ya3NwYWNlXCIsZS5Jc0Jyb3dzZXJJbml0aWFsaXplZD1cImlzQnJvd3NlckluaXRpYWxpemVkXCJ9KG9lfHwob2U9e30pKTtjb25zdCByZT1hc3luYyBlPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0Q2xpZW50KCksaWU9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcmUoZSksYT1cIlRhcmdldCBpcyBub3QgYSBXb3Jrc3BhY2UgUGxhdGZvcm0uIFRhcmdldCBtdXN0IGNhbGwgV29ya3NwYWNlUGxhdGZvcm0uaW5pdFwiO2xldCBuO3RyeXtuPWF3YWl0IHQuZGlzcGF0Y2goXCJpc1dvcmtzcGFjZVBsYXRmb3JtXCIpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihhKX1pZihcImJvb2xlYW5cIj09dHlwZW9mIG4mJiEwIT09bnx8XCJvYmplY3RcIj09dHlwZW9mIG4mJiEwIT09bj8uaXNXb3Jrc3BhY2VQbGF0Zm9ybSl0aHJvdyBuZXcgRXJyb3IoYSk7cmV0dXJuIG59LHNlPWFzeW5jIGU9Pihhd2FpdCBpZShlKSxyZShlKSksY2U9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgaWUoZSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEwIT09dD8uaXNCcm93c2VySW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGlzIG5vdCBhIEJyb3dzZXItZW5hYmxlZCBXb3Jrc3BhY2UgUGxhdGZvcm0uXCIpO3JldHVybiByZShlKX0sZGU9KGUsdCk9PiF0LmZpbmQoKHQ9PnQ9PT1lKSkscGU9KGUsdCk9PmAke2V9ICgke3R9KWAsbGU9KGUsdCk9PntsZXQgYT0xO2NvbnN0IG49ZS5yZXBsYWNlKC8gXFwoLitcXCkkLyxcIlwiKTtmb3IoOyFkZShwZShuLGEpLHQpOylhKz0xO3JldHVybiBwZShuLGEpfTthc3luYyBmdW5jdGlvbiB1ZShlKXt0cnl7Y29uc3QgdD1GdCgpO2F3YWl0IHQuYXBwbHlTbmFwc2hvdChlLnNuYXBzaG90LHtjbG9zZUV4aXN0aW5nV2luZG93czohMH0pLHdlKGUpfWNhdGNoKGUpe319ZnVuY3Rpb24gd2UoZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTthZSh0ZS5DdXJyZW50V29ya3NwYWNlSWQsdCl9Y2F0Y2goZSl7fX1hc3luYyBmdW5jdGlvbiBmZSgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2UpcmV0dXJuO2NvbnN0IGU9RnQoKSx0PWF3YWl0IGUuZ2V0U25hcHNob3QoKTtyZXR1cm57d29ya3NwYWNlSWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSx0aXRsZTphd2FpdCBoZSgpLG1ldGFkYXRhOntBUElWZXJzaW9uOlR9LHNuYXBzaG90OnR9fWFzeW5jIGZ1bmN0aW9uIGdlKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZSlyZXR1cm47Y29uc3QgZT1uZSh0ZS5DdXJyZW50V29ya3NwYWNlSWQpO2lmKCFlKXJldHVybiBmZSgpO2NvbnN0IHQ9SlNPTi5wYXJzZShlKSxhPUZ0KCksbj1hd2FpdCBhLmdldFNuYXBzaG90KCk7cmV0dXJuey4uLnQsbWV0YWRhdGE6e0FQSVZlcnNpb246VH0sc25hcHNob3Q6bn19Y29uc3QgeWU9YXN5bmMgZT0+YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZSxlKSkoZS53b3Jrc3BhY2VJZCk/KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2VJZDplLndvcmtzcGFjZUlkLHdvcmtzcGFjZTplfSk6KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2U6ZX0pO2FzeW5jIGZ1bmN0aW9uIGhlKGU9XCJVbnRpdGxlZCBXb3Jrc3BhY2VcIil7Y29uc3QgdD0oYXdhaXQoYXN5bmMoKT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZXMsdm9pZCAwKSkoKSkubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiB0LmZpbmQoKHQ9PnQ9PT1lKSk/bGUoZSx0KTplfWFzeW5jIGZ1bmN0aW9uIG1lKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgZT1uZSh0ZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3cpO2lmKCFlKXJldHVybjtjb25zdCB0PUpTT04ucGFyc2UoZSk7aWYoYXdhaXQgSyh0KSlyZXR1cm4gdH1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiAke2V9YCl9fWZ1bmN0aW9uIHZlKGU9ZmluLm1lLmlkZW50aXR5KXtIKGUubmFtZSkmJmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7YWUodGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHQpfWNhdGNoKGUpe319KGUpfWNvbnN0IFNlPShlLHQ9MCk9PntsZXQgYSxuLG89ITE7Y29uc3Qgcj1hc3luYyBuPT57Y29uc3QgaT1hd2FpdCBlKC4uLm4pO2lmKG8pe2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsdCkpKTtjb25zdCBlPWE7cmV0dXJuIGE9dm9pZCAwLG89ITEscihlKX1yZXR1cm4gaX07cmV0dXJuKC4uLmUpPT4obj8obz0hMCxhPWUpOm49cihlKS5jYXRjaCgoZT0+e3Rocm93IGV9KSkuZmluYWxseSgoKCk9PntuPXZvaWQgMH0pKSxuKX07dmFyIFBlOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0oUGV8fChQZT17fSkpO2NvbnN0IGJlPShlLHQpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKChlPT5iZShlLHQpKSl9OnsuLi5lLGNvbXBvbmVudFN0YXRlOnQoZS5jb21wb25lbnRTdGF0ZSl9LGtlPWU9Pih7Li4uZSxuYW1lOmUubmFtZT9lLm5hbWU6Y3J5cHRvLnJhbmRvbVVVSUQoKX0pLFdlPWU9Pntjb25zdCB0PVtdO3JldHVybihlJiZBcnJheS5pc0FycmF5KGUpP2U6W10pLmZvckVhY2goKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiB0LnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgYT1XZShlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fSxDZT1hc3luYyhlLHQsYT1HKT0+e2xldCBuO2lmKEgoYS5uYW1lKSl7bj0oYXdhaXQgRihhKS5nZXRPcHRpb25zKCkpLmxheW91dHx8e3NldHRpbmdzOnt9fX1yZXR1cm57Li4ubixjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOnt0aXRsZTplLHVybDp0fX1dfV19fTtuZXcgTWFwO2Z1bmN0aW9uIEllKGUsdCl7cmV0dXJuIGFzeW5jKGEsLi4ubik9PntlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpLHQmJmF3YWl0IHQoe2V2ZW50OmEscGF5bG9hZDpufSl9fWZ1bmN0aW9uIEFlKGUsdCl7cmV0dXJuIHQmJnQoKHQ9Pntjb25zdHtldmVudDphLHBheWxvYWQ6bn09dDtlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpfSkpLCh0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCksZS5nZXQodCkuYWRkKGEpfX1mdW5jdGlvbiBNZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpO2NvbnN0IG49ZS5nZXQodCksbz0oLi4uZSk9PnthKC4uLmUpLG4uZGVsZXRlKG8pfTtuLmFkZChvKX19ZnVuY3Rpb24gT2UoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KSYmZS5nZXQodCkuZGVsZXRlKGEpfX1jb25zdCBUZT1QJiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBFZShlKXtsZXQgdDtyZXR1cm4oKT0+e2lmKCFTKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IFRlO2NvbnN0IGE9e2NsaWVudEFQSVZlcnNpb246VH0sbj1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDphfSk7cmV0dXJuIG4ub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57dD12b2lkIDB9KSksbn0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19Y29uc3QgQmU9ZT0+YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCx4ZT1uZXcgTWFwLFJlPWU9Pntjb25zdCB0PUJlKGUpO3JldHVybiB4ZS5oYXModCl8fHhlLnNldCh0LEVlKHQpKSx4ZS5nZXQodCkoKX07dmFyIF9lLExlOyFmdW5jdGlvbihlKXtlLkNsb3NlQnJvd3NlcldpbmRvdz1cImNsb3NlLWJyb3dzZXItd2luZG93XCIsZS5RdWl0UGxhdGZvcm09XCJxdWl0LXBsYXRmb3JtXCIsZS5DbG9zZVBhZ2U9XCJjbG9zZS1wYWdlXCIsZS5BZGRUb0NoYW5uZWw9XCJhZGQtdG8tY2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJyZW1vdmUtZnJvbS1jaGFubmVsXCIsZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWw9XCJvcGVuLXNhdmUtbW9kYWwtaW50ZXJuYWxcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwifShfZXx8KF9lPXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRQYWdlcz1cImdldC1wYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cImdldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoLXBhZ2VzLWZyb20td2luZG93XCIsZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93PVwic2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLlJlbmFtZVBhZ2U9XCJyZW5hbWUtcGFnZVwiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlci1wYWdlcy1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zPVwidXBkYXRlLXBhZ2VzLXdpbmRvdy1vcHRpb25zXCIsZS5Jc0RldGFjaGluZ1BhZ2VzPVwiaXMtZGV0YWNoaW5nLXBhZ2VzXCIsZS5Jc0FjdGl2ZVBhZ2VDaGFuZ2luZz1cImlzLWFjdGl2ZS1wYWdlLWNoYW5naW5nXCJ9KExlfHwoTGU9e30pKTtjb25zdCBWZT17Li4uX2UsLi4uTGV9O3ZhciBEZTshZnVuY3Rpb24oZSl7ZS5BdHRhY2hlZFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hlZC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaGVkUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoZWQtcGFnZXMtZnJvbS13aW5kb3dcIn0oRGV8fChEZT17fSkpO25ldyBNYXA7Y29uc3QgVWU9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgUmUoZSk7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goVmUuR2V0UGFnZXMpfSxGZT1hc3luYyBlPT4oYXdhaXQgUmUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFZlLlVwZGF0ZVBhZ2VGb3JXaW5kb3csZSksR2U9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgcSgpO3JldHVybihhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMoe2lkZW50aXR5OmV9KT0+VWUoZSkpKSkpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQpKSxbXSl9LCRlPWFzeW5jKCk9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlcyx2b2lkIDApLE5lPWFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlLGUpLGplPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pihhd2FpdCBHZSgpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSkoZSk7cmV0dXJuIWF8fGEudGl0bGU9PT10LnRpdGxlJiZlPT09dC5wYWdlSWR8fGF3YWl0IEZlKHtpZGVudGl0eTphLnBhcmVudElkZW50aXR5LHBhZ2VJZDplLHBhZ2U6e3BhZ2VJZDp0LnBhZ2VJZCx0aXRsZTp0LnRpdGxlfX0pLGF9LEhlPWFzeW5jKHtwYWdlOmV9KT0+e2F3YWl0IGplKGUucGFnZUlkLGUpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzZShHKSkuZGlzcGF0Y2gob2UuQ3JlYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZTplfSl9LHFlPWFzeW5jIGU9Pnthd2FpdCBOZShlKSYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKEcpKS5kaXNwYXRjaChvZS5EZWxldGVTYXZlZFBhZ2UsZSkpKGUpfSxLZT1hc3luYyh7cGFnZUlkOmUscGFnZTp0fSk9Pnthd2FpdCBqZShlLHQpO3JldHVybiBhd2FpdChhc3luYyBlPT4oYXdhaXQgc2UoRykpLmRpc3BhdGNoKG9lLlVwZGF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2VJZDplLHBhZ2U6dH0pfSxRZT1hc3luYyBlPT5hd2FpdCBOZShlLnBhZ2VJZCk/S2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOmV9KTpIZSh7cGFnZTplfSksemU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuQXR0YWNoUGFnZXNUb1dpbmRvdyxlKSkoZSl9LEplPWFzeW5jIGU9Pnthd2FpdCBGZShlKX0sWGU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuRGV0YWNoUGFnZXNGcm9tV2luZG93LGUpKShlKX0sWWU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdyxlKSkoZSl9LFplPWU9PlVlKGUpLGV0PWFzeW5jKHtpZGVudGl0eTplLHBhZ2VJZDp0fSk9Pihhd2FpdCBaZShlKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSksdHQ9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBSZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVmUuUmVvcmRlclBhZ2VzRm9yV2luZG93LGUpKShlKX07YXN5bmMgZnVuY3Rpb24gYXQoZT1cIlVudGl0bGVkIFBhZ2VcIil7Y29uc3RbdCxhXT1hd2FpdCBQcm9taXNlLmFsbChbJGUoKSxHZSgpXSksbj1bLi4udCwuLi5hXS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIG4uZmluZCgodD0+dD09PWUpKT9sZShlLG4pOmV9Y29uc3QgbnQ9bmV3IE1hcCxvdD1lPT5gJHtlLnV1aWR9LSR7ZS5uYW1lfWA7Y29uc3QgcnQ9U2UoKGFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9W107dHJ5e2U9YXdhaXQgR2UoKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBudC5mb3JFYWNoKCgoZSx0KT0+e2NsZWFyVGltZW91dChlKSxudC5kZWxldGUodCl9KSl9Y29uc3QgdD1uZXcgU2V0O2UuZm9yRWFjaCgoZT0+e1dlKGUubGF5b3V0LmNvbnRlbnQpLmZvckVhY2goKGU9PntpZihlLm5hbWUpe2NvbnN0IGE9b3QoZSk7dC5hZGQoYSl9fSkpfSkpO2NvbnN0IGE9JCgpOyhhd2FpdCBhLmdldEN1cnJlbnRWaWV3cygpKS5mb3JFYWNoKCgoe2lkZW50aXR5OmV9KT0+e2NvbnN0IGE9b3QoZSk7aWYodC5oYXMoYSl8fG50LmhhcyhhKSlyZXR1cm47Y29uc3Qgbj1zZXRUaW1lb3V0KCgoKT0+e2Zpbi5WaWV3LndyYXBTeW5jKGUpLmRlc3Ryb3koKSxudC5kZWxldGUoYSl9KSw1ZTMpO250LnNldChhLG4pfSkpLG50LmZvckVhY2goKChlLGEpPT57dC5oYXMoYSkmJihjbGVhclRpbWVvdXQoZSksbnQuZGVsZXRlKGEpKX0pKX0pLDI1MDApLGl0PSh7bmFtZTplfSk9PntlJiZIKGUpJiZydCgpLmNhdGNoKCgoKT0+e30pKX07bGV0IHN0PXt9O2NvbnN0IGN0PSh7YWN0aW9uSWQ6ZSxwYXlsb2FkOnR9KT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN0W2VdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBjb25maWd1cmVkIGZ1bmN0aW9uIGZvciB0aGUgYWN0aW9uICcke2V9J2ApO3JldHVybiBzdFtlXSh0KX07ZnVuY3Rpb24gZHQoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGUuTWFjaGluZU5hbWUpfWxldCBwdDthc3luYyBmdW5jdGlvbiBsdCgpe3JldHVybiBwdHx8KHB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TWFjaGluZUlkKCkpLHB0fWNvbnN0IHV0PWU9PntpZihlLmxheW91dCYmQXJyYXkuaXNBcnJheShlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcykpe2NvbnN0IHQ9ZS53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcy5maW5kKChlPT5lLmlzQWN0aXZlKSk7aWYodClpZih0LmlzTG9ja2VkKXtjb25zdCBhPSgoZSx0KT0+e2NvbnN0IGE9V2UodC5jb250ZW50KTtyZXR1cm57Li4uYmUoZSwoZT0+e2NvbnN0IHQ9YS5maW5kKCh0PT50Lm5hbWU9PT1lLm5hbWUmJnQudXVpZD09PWUudXVpZCkpLG49dD90LmlzQ2xvc2FibGU6ZS5pc0Nsb3NhYmxlO3JldHVybnsuLi5lLGlzQ2xvc2FibGU6bn19KSksc2V0dGluZ3M6dC5zZXR0aW5nc319KShlLmxheW91dCx0LmxheW91dCk7dC5sYXlvdXQ9YSxlLmxheW91dD1hfWVsc2UgdC5sYXlvdXQ9ZS5sYXlvdXR9cmV0dXJuIGV9O2FzeW5jIGZ1bmN0aW9uIHd0KGUpe2NvbnN0IHQ9ZXx8YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuZ2V0U25hcHNob3QoKTtpZih0LnNuYXBzaG90RGV0YWlscz8ubWFjaGluZUlkKXJldHVybiB0O2NvbnN0IGE9ZHQoKTtyZXR1cm57Li4udCxzbmFwc2hvdERldGFpbHM6ey4uLmUuc25hcHNob3REZXRhaWxzLG1hY2hpbmVJZDphd2FpdCBsdCgpLG1hY2hpbmVOYW1lOmF9fX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LGEpPT57ZS5vbmNvbXBsZXRlPWUub25zdWNjZXNzPSgpPT50KGUucmVzdWx0KSxlLm9uYWJvcnQ9ZS5vbmVycm9yPSgpPT5hKGUuZXJyb3IpfSkpfWZ1bmN0aW9uIGd0KGUsdCl7Y29uc3QgYT1pbmRleGVkREIub3BlbihlKTthLm9udXBncmFkZW5lZWRlZD0oKT0+YS5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUodCk7Y29uc3Qgbj1mdChhKTtyZXR1cm4oZSxhKT0+bi50aGVuKChuPT5hKG4udHJhbnNhY3Rpb24odCxlKS5vYmplY3RTdG9yZSh0KSkpKX1sZXQgeXQ7ZnVuY3Rpb24gaHQoKXtyZXR1cm4geXR8fCh5dD1ndChcImtleXZhbC1zdG9yZVwiLFwia2V5dmFsXCIpKSx5dH1mdW5jdGlvbiBtdChlLHQ9aHQoKSl7cmV0dXJuIHQoXCJyZWFkb25seVwiLCh0PT5mdCh0LmdldChlKSkpKX1mdW5jdGlvbiB2dChlLHQsYT1odCgpKXtyZXR1cm4gYShcInJlYWR3cml0ZVwiLChhPT4oYS5wdXQodCxlKSxmdChhLnRyYW5zYWN0aW9uKSkpKX1mdW5jdGlvbiBTdChlLHQ9aHQoKSl7cmV0dXJuIHQoXCJyZWFkd3JpdGVcIiwodD0+KHQuZGVsZXRlKGUpLGZ0KHQudHJhbnNhY3Rpb24pKSkpfWZ1bmN0aW9uIFB0KGUsdCl7cmV0dXJuIGUub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMucmVzdWx0JiYodCh0aGlzLnJlc3VsdCksdGhpcy5yZXN1bHQuY29udGludWUoKSl9LGZ0KGUudHJhbnNhY3Rpb24pfWZ1bmN0aW9uIGJ0KGU9aHQoKSl7cmV0dXJuIGUoXCJyZWFkb25seVwiLChlPT57aWYoZS5nZXRBbGxLZXlzKXJldHVybiBmdChlLmdldEFsbEtleXMoKSk7Y29uc3QgdD1bXTtyZXR1cm4gUHQoZSwoZT0+dC5wdXNoKGUua2V5KSkpLnRoZW4oKCgpPT50KSl9KSl9Y29uc3Qga3Q9KGUsdD1cIlwiKT0+ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSksV3Q9YiYmZ3QoXCJvcGVuZmluLWhvbWUtcGFnZXNcIixcInBhZ2VzXCIpO2FzeW5jIGZ1bmN0aW9uIEN0KGUpe2NvbnN0IHQ9YXdhaXQgbXQoZSxXdCk7cmV0dXJuIHQ/KHQucGFnZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQucGFnZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gSXQoZSl7Y29uc3QgdD1hd2FpdCBidChXdCksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+Q3QoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+a3QodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gQXQoe3BhZ2U6ZX0pe2F3YWl0IHZ0KGUucGFnZUlkLGUsV3QpfWFzeW5jIGZ1bmN0aW9uIE10KGUpe2F3YWl0IFN0KGUsV3QpfWFzeW5jIGZ1bmN0aW9uIE90KHtwYWdlSWQ6ZSxwYWdlOnR9KXtpZih2b2lkIDA9PT1hd2FpdCBDdChlKSl0aHJvdyBuZXcgRXJyb3IoXCJwYWdlIG5vdCBmb3VuZFwiKTthd2FpdCBBdCh7cGFnZTp0fSksZSE9PXQucGFnZUlkJiZhd2FpdCBNdChlKX12YXIgVHQ7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0oVHR8fChUdD17fSkpO2NvbnN0IEV0PXt0eXBlOlR0LlNlcGFyYXRvcixkYXRhOnZvaWQgMH07dmFyIEJ0OyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyUHJvdmlkZXI9XCJyZWdpc3Rlci1wcm92aWRlclwiLGUuRGVyZWdpc3RlclByb3ZpZGVyPVwiZGVyZWdpc3Rlci1wcm92aWRlclwiLGUuQ3JlYXRlUHJvdmlkZXJXaW5kb3c9XCJjcmVhdGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRQcm92aWRlcnM9XCJnZXQtcHJvdmlkZXJzXCIsZS5TaG93UHJvdmlkZXJXaW5kb3c9XCJzaG93LXByb3ZpZGVyLXdpbmRvd1wiLGUuSGlkZVByb3ZpZGVyV2luZG93PVwiaGlkZS1wcm92aWRlci13aW5kb3dcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93SG9tZT1cInNob3ctaG9tZVwiLGUuSGlkZUhvbWU9XCJoaWRlLWhvbWVcIixlLkFzc2lnbkhvbWVTZWFyY2hDb250ZXh0PVwiYXNzaWduLWhvbWUtc2VhcmNoLWNvbnRleHRcIixlLkdldExlZ2FjeVBhZ2VzPVwiZ2V0LWxlZ2FjeS1wYWdlc1wiLGUuR2V0TGVnYWN5V29ya3NwYWNlcz1cImdldC1sZWdhY3ktd29ya3NwYWNlc1wiLGUuR2V0Q29tcHV0ZWRQbGF0Zm9ybVRoZW1lPVwiZ2V0LWNvbXB1dGVkLXBsYXRmb3JtLXRoZW1lXCIsZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwifShCdHx8KEJ0PXt9KSk7RWUoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpO2NvbnN0IHh0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgbHQoKSxtYWNoaW5lTmFtZTpkdCgpfX0pKSh0KTtyZXR1cm57cGFnZUlkOmNyeXB0by5yYW5kb21VVUlEKCksdGl0bGU6ZSxsYXlvdXQ6YSxpc1JlYWRPbmx5OiExLGhhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0sUnQ9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldFBhZ2VzRm9yV2luZG93LGUpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5HZXRQYWdlRm9yV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZDp0fSksYWRkUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTt0Py50aXRsZXx8KHQudGl0bGU9YXdhaXQgYS5kaXNwYXRjaChvZS5HZXRVbmlxdWVQYWdlVGl0bGUsdm9pZCAwKSk7Y29uc3Qgbj0oYXdhaXQgYS5kaXNwYXRjaChvZS5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKGU9PmUucGFnZUlkPT09dC5wYWdlSWR8fGUudGl0bGU9PT10LnRpdGxlKSk7aWYobil0aHJvdyBuLnBhZ2VJZD09PXQucGFnZUlkP25ldyBFcnJvcihgcGFnZSB3aXRoIGlkICR7dC5wYWdlSWR9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTpuZXcgRXJyb3IoYHBhZ2Ugd2l0aCB0aXRsZSAke3QudGl0bGV9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTtjb25zdCBvPXtpZGVudGl0eTplLHBhZ2VzOlt0XX07cmV0dXJuIGEuZGlzcGF0Y2gob2UuQXR0YWNoUGFnZXNUb1dpbmRvdyxvKX0scmVtb3ZlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob2UuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG9lLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IGNlKGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCBjZShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuUGFnZVRhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pnthd2FpdCBjZShlKTtyZXR1cm4oYXdhaXQgUmUoZSkpLmRpc3BhdGNoKFZlLk9wZW5TYXZlTW9kYWxJbnRlcm5hbCx0KX0sX29wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG9lLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCx0KX19KTtsZXQgX3Q9ITE7Y29uc3QgTHQ9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybnt3cmFwU3luYzplPT5SdChlKSxjcmVhdGVXaW5kb3c6YXN5bmMgYT0+e2F3YWl0IGNlKGUpLF90fHwoX3Q9ITAsKGFzeW5jIGU9PntKKHouQnJvd3NlcixlKX0pKHthbGxvd2VkOiEwfSkpO2NvbnN0IG49YXdhaXQgdC5jcmVhdGVXaW5kb3coYSk7cmV0dXJuIFJ0KG4uaWRlbnRpdHkpfSxnZXRBbGxBdHRhY2hlZFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApLGdldEFsbFdpbmRvd3M6YXN5bmMoKT0+e2F3YWl0IGNlKGUpO3JldHVybihhd2FpdCBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbHRlcigoZT0+ZS5pZGVudGl0eS5uYW1lLmluY2x1ZGVzKFwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvdy1cIikpKS5tYXAoKGU9PlJ0KGUuaWRlbnRpdHkpKSl9LGdldFVuaXF1ZVBhZ2VUaXRsZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApfX0sVnQ9ZT0+KHtjcmVhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZGVsZXRlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsLHQpLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGNlKGUpKS5kaXNwYXRjaChvZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlLHQpLGdldFBhZ2VzOmFzeW5jIHQ9Pihhd2FpdCBjZShlKSkuZGlzcGF0Y2gob2UuR2V0U2F2ZWRQYWdlcyx0KSxzYXZlUGFnZTphc3luYyB0PT4oYXdhaXQgY2UoZSkpLmRpc3BhdGNoKG9lLlNhdmVQYWdlLHQpLGNyZWF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkNyZWF0ZVNhdmVkV29ya3NwYWNlLHQpLGRlbGV0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkRlbGV0ZVNhdmVkV29ya3NwYWNlLHQpLHVwZGF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlVwZGF0ZVNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkdldFNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZXM6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5HZXRTYXZlZFdvcmtzcGFjZXMsdCksc2F2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlNhdmVXb3Jrc3BhY2UsdCl9KSxEdD1lPT4oe2dldFRoZW1lczphc3luYygpPT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLkdldFRoZW1lcyx2b2lkIDApfSksVXQ9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybiBPYmplY3QuYXNzaWduKHQse2FwcGx5U25hcHNob3Q6YXN5bmModCxhKT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYhdD8ud2luZG93cyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBicm93c2VyIHNuYXBzaG90XCIpO3JldHVybiBmaW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuYXBwbHlTbmFwc2hvdCh0LGEpfSxnZXRTbmFwc2hvdDooKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFNuYXBzaG90KCkudGhlbigoZT0+ZSkpLGxhdW5jaEFwcDphc3luYyB0PT57dC50YXJnZXR8fCh0LnRhcmdldD17dXVpZDpXLG5hbWU6QyxlbnRpdHlUeXBlOkl8fFwidW5rbm93blwifSk7cmV0dXJuKGF3YWl0IHNlKGUpKS5kaXNwYXRjaChvZS5MYXVuY2hBcHAsdCl9LF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQgc2UoZSksbz17YWN0aW9uSWQ6dCxwYXlsb2FkOnsuLi5hLGNhbGxlclR5cGU6YS5jYWxsZXJUeXBlfHxoLkFQSX19O3JldHVybiBuLmRpc3BhdGNoKG9lLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsLG8pfSxfcmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZzphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKG9lLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbCx0KSxnZXRDdXJyZW50V29ya3NwYWNlOmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuR2V0Q3VycmVudFdvcmtzcGFjZSx2b2lkIDApLGFwcGx5V29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuQXBwbHlXb3Jrc3BhY2UsdCksc2V0QWN0aXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gob2UuU2V0QWN0aXZlV29ya3NwYWNlLHQpLFRoZW1lOkR0KGUpLEJyb3dzZXI6THQoZSksU3RvcmFnZTpWdChlKX0pfSxGdD0oKT0+VXQoZmluLm1lLmlkZW50aXR5KSxHdD1hc3luYyhlPUcpPT57Y29uc3R7d29ya3NwYWNlUGxhdGZvcm06dH09YXdhaXQgRihlKS5nZXRPcHRpb25zKCksYT10Py5uZXdQYWdlVXJsLG49dD8ubmV3VGFiVXJsO3JldHVybntuZXdQYWdlVXJsOmEsbmV3VGFiVXJsOm59fSwkdD1hc3luYyhlPUcpPT57Y29uc3QgdD1hd2FpdCBGdCgpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKFwiVW50aXRsZWQgUGFnZVwiKSxhPWF3YWl0KGFzeW5jKGU9Ryk9Pntjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IEd0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7cmV0dXJuIENlKFwiTmV3IFRhYlwiLHQsZSl9KShlKTtyZXR1cm4geHQodCxhKX0sTnQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJDbG9zZSBXaW5kb3dcIixkYXRhOnt0eXBlOnUuQ2xvc2VXaW5kb3d9fSxqdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIk9wZW4gU3RvcmVmcm9udFwiLGRhdGE6e3R5cGU6dS5PcGVuU3RvcmVmcm9udH19LEh0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiUXVpdCBQbGF0Zm9ybVwiLGRhdGE6e3R5cGU6dS5RdWl0fX0scXQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJOZXcgV2luZG93XCIsZGF0YTp7dHlwZTp1Lk5ld1dpbmRvd319LEt0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlXCIsZGF0YTp7dHlwZTp1LlNhdmVQYWdlfX0sUXQ9e3R5cGU6VHQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXMuLi5cIixkYXRhOnt0eXBlOnUuU2F2ZVBhZ2VBc319LHp0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiUmVzdG9yZSB0byBMYXN0IFNhdmVkIENoYW5nZXNcIixkYXRhOnt0eXBlOnUuUmVzdG9yZUNoYW5nZXN9fSxKdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTp1LlNhdmVXb3Jrc3BhY2V9fSxYdD17dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzLi4uXCIsZGF0YTp7dHlwZTp1LlNhdmVXb3Jrc3BhY2VBc319LFl0PXt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiUmVuYW1lIFdvcmtzcGFjZVwiLGRhdGE6e3R5cGU6dS5SZW5hbWVXb3Jrc3BhY2V9fSxadD1cIlN3aXRjaCBXb3Jrc3BhY2VcIixlYT1cIkRlbGV0ZSBXb3Jrc3BhY2VcIix0YT1bTnQsRXQsanQsRXQsSHRdLGFhPVtFdCxOdCxFdCxIdF0sbmE9KGUsdCxhKT0+dC5tYXAoKHQ9Pntjb25zdCBuPXQud29ya3NwYWNlSWQ9PT1lLndvcmtzcGFjZUlkO3JldHVybntsYWJlbDp0LnRpdGxlLHR5cGU6VHQuQ2hlY2tib3gsZW5hYmxlZDohbixjaGVja2VkOm4sZGF0YTp7dHlwZTphLHdvcmtzcGFjZUlkOnQud29ya3NwYWNlSWR9fX0pKSxvYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBRKCkse25ld1BhZ2VVcmw6YX09YXdhaXQgR3QoZSksbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1GKGUpLHt3b3Jrc3BhY2VQbGF0Zm9ybTphfT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYT8uZGlzYWJsZU11bHRpcGxlUGFnZXN9KShlKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUYoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5pc0xvY2tlZH0pKGUpLHI9W107dmFyIGk7YSYmKHIucHVzaChxdCksbnx8ci5wdXNoKChpPSFvLHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiTmV3IFBhZ2VcIixkYXRhOnt0eXBlOnUuTmV3UGFnZX0sZW5hYmxlZDppfSkpKSxyLnB1c2goRXQpO2NvbnN0IHM9RnQoKSxjPWF3YWl0IHMuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLGQ9YXdhaXQgcy5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxwPWQuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PWMud29ya3NwYWNlSWQpKTtyZXR1cm4gcD9yLnB1c2goenQpOnIucHVzaCh7bGFiZWw6enQubGFiZWwsZW5hYmxlZDohMX0pLHIucHVzaChKdCxYdCkscD9yLnB1c2goWXQpOnIucHVzaCh7bGFiZWw6WXQubGFiZWwsZW5hYmxlZDohMX0pLGQuc29tZSgoZT0+ZS53b3Jrc3BhY2VJZCE9PWMud29ya3NwYWNlSWQpKT9yLnB1c2goe2xhYmVsOlp0LHN1Ym1lbnU6bmEoYyxkLHUuU3dpdGNoV29ya3NwYWNlKX0se2xhYmVsOmVhLHN1Ym1lbnU6bmEoYyxkLHUuRGVsZXRlV29ya3NwYWNlKX0pOnIucHVzaCh7bGFiZWw6WnQsZW5hYmxlZDohMX0se2xhYmVsOmVhLGVuYWJsZWQ6ITF9KSxyLnB1c2goRXQsS3QsUXQpLHQ/Wy4uLnIsLi4udGFdOlsuLi5yLC4uLmFhXX07bGV0IHJhPVwiUGxhdGZvcm1cIjtjb25zdCBpYT1hc3luYygpPT5yYTt2YXIgc2EsY2EsZGE7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lL1wiLGUuSG9tZVNlYXJjaD1cIi9ob21lLz9kZWVwbGluaz1zZWFyY2hcIixlLkhvbWVQYWdlc1JlbmFtZT1cIi9ob21lL3BhZ2VzL3JlbmFtZS9cIixlLkRvY2s9XCIvZG9jay9cIixlLkJyb3dzZXJQYWdlc0xhbmRpbmc9XCIvYnJvd3Nlci9wYWdlcy9sYW5kaW5nL1wiLGUuSG9tZUluZGljYXRvcj1cIi9ob21lL2luZGljYXRvci9cIixlLkJyb3dzZXI9XCIvYnJvd3Nlci9cIixlLkJyb3dzZXJQb3B1cE1lbnU9XCIvYnJvd3Nlci9wb3B1cC1tZW51L1wiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2hhcmVQYWdlPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9zaGFyZS1wYWdlL1wiLGUuQnJvd3NlclBvcHVwTWVudVNhdmVNb2RhbD1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2F2ZS1tb2RhbC9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9sYXlvdXRzL2xheW91dHMvXCIsZS5Ccm93c2VyUG9wdXBNZW51Q29sb3JMaW5raW5nPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9jb2xvci1saW5raW5nL2NvbG9yLWxpbmtpbmcvXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwiL2Jyb3dzZXIvaW5kaWNhdG9yL1wiLGUuUmVzcG9uc2VNb2RhbD1cIi9icm93c2VyL3BvcHVwLW1lbnUvcmVzcG9uc2UtbW9kYWwvXCIsZS5Eb2NzPVwiL3Byb3ZpZGVyL2RvY3MvXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnQvXCIsZS5EZXByZWNhdGVkQWxlcnQ9XCIvcHJvdmlkZXIvZGVwcmVjYXRlZC1hbGVydC9cIn0oc2F8fChzYT17fSkpLGZ1bmN0aW9uKGUpe2UuSWNvbk9wZW5GaW5Mb2dvPVwiL2ljb25zL29wZW5maW5sb2dvLnN2Z1wiLGUuSWNvbkZpbHRlcj1cIi9pY29ucy9maWx0ZXIuc3ZnXCJ9KGNhfHwoY2E9e30pKSxmdW5jdGlvbihlKXtlLlNlYXJjaD1cInNlYXJjaFwifShkYXx8KGRhPXt9KSk7Y29uc3QgcGE9ey4uLmNhLC4uLnNhfTt2YXIgbGE7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnRcIixlLkRvY2s9XCIvZG9ja1wifShsYXx8KGxhPXt9KSk7Y29uc3QgdWE9XCIvd29ya3NwYWNlLzkuMC4xNFwiO2Z1bmN0aW9uIHdhKCl7cmV0dXJuIHVhLnN1YnN0cmluZygwLHVhLmxlbmd0aC1cIlwiLmxlbmd0aCl9ZnVuY3Rpb24gZmEoZSl7aWYoIVApdGhyb3cgbmV3IEVycm9yKFwiZ2V0QWJzb2x1dGVSb3V0ZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm4gZnVuY3Rpb24oKXtpZighd2luZG93KXRocm93IG5ldyBFcnJvcihcImdldEFic29sdXRlQmFzZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm5gJHt3aW5kb3cub3JpZ2lufSR7d2EoKX1gfSgpK2V9Y29uc3QgZ2E9e25hbWU6Vi5Ccm93c2VyTWVudSxhbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsYmFja2dyb3VuZENvbG9yOlwiIzJmMzEzNlwiLHNtYWxsV2luZG93OiEwLHNob3dUYXNrYmFySWNvbjohMSxiYWNrZ3JvdW5kVGhyb3R0bGluZzohMH07ZnVuY3Rpb24geWEoZSl7Y29uc3QgdD17Li4uZ2EsLi4uZX07cmV0dXJuIHQudXJsPWZ1bmN0aW9uKGUpe2lmKCFQKXRocm93IG5ldyBFcnJvcihcInJlc29sdmVBYnNvbHV0ZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm4gZS5zdGFydHNXaXRoKFwiaHR0cFwiKT9lOmAke3dpbmRvdy5vcmlnaW59JHtlfWB9KHQudXJsKSx0fXZhciBoYSxtYTshZnVuY3Rpb24oZSl7ZS5VcGRhdGU9XCJ1cGRhdGVcIixlLlJlc3BvbnNlPVwicmVzcG9uc2VcIn0oaGF8fChoYT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2FuY2VsZWQ9XCJjYW5jZWxlZFwiLGUuTmVnYXRpdmU9XCJuZWdhdGl2ZVwiLGUuQWZmaXJtYXRpdmU9XCJhZmZpcm1hdGl2ZVwifShtYXx8KG1hPXt9KSk7Y29uc3QgdmE9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybntlbWl0OkllKHQsKHQ9PlMmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goZSx0KSkpLGFkZExpc3RlbmVyOkFlKHQsKHQ9PlMmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSx0KSkpLHJlbW92ZUxpc3RlbmVyOk9lKHQpLG9uY2U6TWUodCl9fShcIndpbmRvdy5tZW51XCIpLFNhPWU9PnZhLmVtaXQoaGEuUmVzcG9uc2UsZSksUGE9U2UoKCgpPT5MKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLDUwMCk7Y29uc3QgYmE9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBrYSh7b3B0aW9uczplLHBhcmFtZXRlcnM6dH0sYSl7Y29uc3Qgbj15YShlKSx7bmFtZTpvfT1uO2xldCByPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCBQYSgpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lKSl9KG8pO3JldHVybiByfHwocj1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtjb25zdCB0PXlhKGUpO2lmKCFiYS5oYXModC5uYW1lKSl7Y29uc3QgZT0oYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KHQpO3JldHVybiBlLm9uY2UoXCJjbG9zZWRcIiwoKCk9PntiYS5kZWxldGUodC5uYW1lKX0pKSxlfSkoKTtiYS5zZXQodC5uYW1lLGUpfXJldHVybiBiYS5nZXQodC5uYW1lKX0obikpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT15YShlKSx7dG9wOm4sbGVmdDpvLGRlZmF1bHRXaWR0aDpyLGRlZmF1bHRIZWlnaHQ6aX09YSxzPXt0b3A6bixsZWZ0Om8sd2lkdGg6cixoZWlnaHQ6aX0sYz17cGFyZW50TmFtZTpmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHkubmFtZX07Zm9yKGNvbnN0W2UsYV1vZiBPYmplY3QuZW50cmllcyhjKSl0LnNldChlLGEpO2NvbnN0IGQ9dC50b1N0cmluZygpLHA9YCR7YS51cmx9PyR7ZH1gO3ZhLmVtaXQoaGEuVXBkYXRlLGEubmFtZSxzLHApLGF3YWl0IFNhKHtuYW1lOmEubmFtZSxkYXRhOm1hLkNhbmNlbGVkfSl9KGUsdHx8bmV3IFVSTFNlYXJjaFBhcmFtcyksYSYmci5jZW50ZXIoKSxyfWNvbnN0IFdhPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49dD9GKHQpOiQoKTtpZighYSl7YXdhaXQoYXN5bmMoZT1maW4ubWUuaWRlbnRpdHkpPT57Y29uc3QgdD1GKGUpLGE9YXdhaXQgdC5nZXRCb3VuZHMoKTsoYS5yaWdodD5zY3JlZW4uYXZhaWxMZWZ0K3NjcmVlbi53aWR0aHx8YS5sZWZ0PHNjcmVlbi5hdmFpbExlZnR8fGEuYm90dG9tPnNjcmVlbi5hdmFpbFRvcCtzY3JlZW4uaGVpZ2h0fHxhLnRvcDxzY3JlZW4uYXZhaWxUb3ApJiZhd2FpdCB0LmNlbnRlcigpfSkobi5pZGVudGl0eSk7Y29uc3QgdD0oZT0+KHtsZWZ0OihlLmxlZnQrZS5yaWdodCkvMix0b3A6KGUudG9wK2UuYm90dG9tKS8yfSkpKGF3YWl0IG4uZ2V0Qm91bmRzKCkpLHtkZWZhdWx0SGVpZ2h0OmEsZGVmYXVsdFdpZHRoOm99PWU7cmV0dXJuKChlLHQpPT57Y29uc3R7aGVpZ2h0OmEsd2lkdGg6bn09dCxvPW4vMixyPWEvMjtyZXR1cm57bGVmdDplLmxlZnQtbyx0b3A6ZS50b3Atcn19KSh0LHtoZWlnaHQ6YSx3aWR0aDpvfSl9cmV0dXJuIGF3YWl0IG4uZ2V0Qm91bmRzKCl9LENhPWFzeW5jKHtvcHRpb25zOmUsY29udGVudDp0fSxhKT0+e2NvbnN0IG49bmV3IFVSTFNlYXJjaFBhcmFtcyh7Li4udH0pO3JldHVybiBhd2FpdCBrYSh7b3B0aW9uczplLHBhcmFtZXRlcnM6bn0sYSksbmV3IFByb21pc2UoKHQ9Pnt2YS5vbmNlKGhhLlJlc3BvbnNlLChhPT57YS5uYW1lPT09ZS5uYW1lJiZ0KGEpfSkpfSkpfSxJYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIlN3aXRjaCBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjExMixkZWZhdWx0V2lkdGg6NDI0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6YEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzd2l0Y2ggdG8gJHt0fWAsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlLHQpLG89YXdhaXQgV2EoYSxhLm1vZGFsUGFyZW50SWRlbnRpdHkpLHI9ey4uLmEsdG9wOm8udG9wLGxlZnQ6by5sZWZ0fTtyZXR1cm4oYXdhaXQgQ2Eoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YT09PW1hLkFmZmlybWF0aXZlfSxBYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIkRlbGV0ZSBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjE0NCxkZWZhdWx0V2lkdGg6MzcyLG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoaXMgd29ya3NwYWNlP1wiLGJvZHk6YCR7dH1gLGFmZmlybWF0aXZlQnV0dG9uOlwiQ29uZmlybVwiLG5lZ2F0aXZlQnV0dG9uOlwiQ2FuY2VsXCJ9fSkpKGUsdCksbz1hd2FpdCBXYShhLGEubW9kYWxQYXJlbnRJZGVudGl0eSkscj17Li4uYSx0b3A6by50b3AsbGVmdDpvLmxlZnR9O3JldHVybihhd2FpdCBDYSh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhPT09bWEuQWZmaXJtYXRpdmV9LE1hPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49YT92b2lkIDA6ZSx7d2luZG93T3B0aW9uczpvLGNvbnRlbnQ6cn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIlBsYXRmb3JtIFF1aXRcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDc0LG1vZGFsUGFyZW50SWRlbnRpdHk6dH0sY29udGVudDp7dGl0bGU6YENsb3NlIHRoZSAke1wiUGxhdGZvcm1cIj09PWU/XCJwbGF0Zm9ybVwiOmAke2V9IFBsYXRmb3JtYH0/YCxib2R5OlwiQ2xvc2luZyBhIHBsYXRmb3JtIHdpbGwgY2xvc2UgYW55IHdvcmtzcGFjZXMsIGFwcHMgb3IgYW55IHByb2Nlc3NlcyB0aGF0IGFyZSBydW5uaW5nLlwiLGFmZmlybWF0aXZlQnV0dG9uOlwiQ29uZmlybVwiLG5lZ2F0aXZlQnV0dG9uOlwiQ2FuY2VsXCJ9fSkpKHQsbiksaT1hd2FpdCBXYShvLG8ubW9kYWxQYXJlbnRJZGVudGl0eSkscz17Li4ubyx0b3A6aS50b3AsbGVmdDppLmxlZnR9O3JldHVybihhd2FpdCBDYSh7b3B0aW9uczpzLGNvbnRlbnQ6cn0sYSkpLmRhdGE9PT1tYS5BZmZpcm1hdGl2ZX0sT2E9YXN5bmMgZT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6dCxjb250ZW50OmF9PWF3YWl0KGFzeW5jIGU9Pih7dGl0bGU6XCJSZXN0b3JlIENoYW5nZXNcIix3aW5kb3dPcHRpb25zOnt1cmw6TStwYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjExMixkZWZhdWx0V2lkdGg6NDI0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzdG9yZSB0byBsYXN0IHNhdmVkIGNoYW5nZXM/XCIsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlKSxuPWF3YWl0IFdhKHQsdC5tb2RhbFBhcmVudElkZW50aXR5KSxvPXsuLi50LHRvcDpuLnRvcCxsZWZ0Om4ubGVmdH07cmV0dXJuKGF3YWl0IENhKHtvcHRpb25zOm8sY29udGVudDphfSkpLmRhdGE9PT1tYS5BZmZpcm1hdGl2ZX07dmFyIFRhOyFmdW5jdGlvbihlKXtlLkVSUk9SPVwiZXJyb3JcIixlLlNVQ0NFU1M9XCJzdWNjZXNzXCIsZS5JTkZPPVwiaW5mb1wifShUYXx8KFRhPXt9KSk7Y29uc3QgRWE9e2Fsd2F5c09uVG9wOiEwLGF1dG9TaG93OiExLGZyYW1lOiExLHJlc2l6YWJsZTohMSxzaG93VGFza2Jhckljb246ITF9O3ZhciBCYTshZnVuY3Rpb24oZSl7ZS5Mb2NrZWQ9XCJMb2NrQ2xvc2VkSWNvblwiLGUuVW5sb2NrZWQ9XCJMb2NrT3BlbjFJY29uXCJ9KEJhfHwoQmE9e30pKTtjb25zdCB4YT1mdW5jdGlvbihlPUVhKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGFzeW5jKGEsbixvLHIpPT57aWYodC5oYXMoYSkpe2NvbnN0e2N1cnJlbnRVcmw6ZSxjdXJyZW50TmFtZTpvfT10LmdldChhKTtpZihlPT09bilyZXR1cm47Y29uc3Qgcj1maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS51dWlkLG5hbWU6b30pO2F3YWl0IHIuY2xvc2UoKX1jb25zdCBpPWAke1YuSG9tZUludGVybmFsfS0ke0RhdGUubm93KCl9JHtNYXRoLnJhbmRvbSgpfWA7dC5zZXQoYSx7Y3VycmVudFVybDpuLGN1cnJlbnROYW1lOml9KTtjb25zdCBzPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh7Li4uZSxuYW1lOmksdXJsOm59KTsoKGUsdCk9Pntjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIix0fHxcInBvbGl0ZVwiKSwoZT0+e2Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUud2lkdGg9XCIxcHhcIixlLnN0eWxlLmhlaWdodD1cIjFweFwiLGUuc3R5bGUucGFkZGluZz1cIjBcIixlLnN0eWxlLm1hcmdpbj1cIi0xcHhcIixlLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCIsZS5zdHlsZS5ib3JkZXI9XCIwXCJ9KShhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLHNldFRpbWVvdXQoKCgpPT57YS5pbm5lckhUTUw9ZX0pLDEwMCksc2V0VGltZW91dCgoKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfSksMWUzKX0pKGBOZXcgJHtyfSBpbmRpY2F0b3I6ICR7b31gKSxzLm9uY2UoXCJjbG9zZWRcIiwoKCk9Pnt0LmRlbGV0ZShhKX0pKX19KCk7YXN5bmMgZnVuY3Rpb24gUmEoZSx0LGEsbil7Y29uc3Qgbz1uZXcgVVJMU2VhcmNoUGFyYW1zO28uYXBwZW5kKFwidHlwZVwiLGUpLG8uYXBwZW5kKFwibWVzc2FnZVwiLHQpLG8uYXBwZW5kKFwicGFyZW50TmFtZVwiLGF8fFwiXCIpLG8uYXBwZW5kKFwiaWNvblwiLG58fFwiXCIpO2NvbnN0IHI9YCR7ZmEocGEuQnJvd3NlckluZGljYXRvcil9PyR7by50b1N0cmluZygpfWA7cmV0dXJuIHhhKFwiYnJvd3NlclwiK2Escix0LGUpfWZ1bmN0aW9uIF9hKGUsdCxhKXtyZXR1cm4gUmEoVGEuU1VDQ0VTUyxlLHQsYSl9Y29uc3QgTGE9YXN5bmMgZT0+e2NvbnN0IHQ9RnQoKSxhPWF3YWl0IHQuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLG49YXdhaXQgdC5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxvPWEud29ya3NwYWNlSWQ7aWYobi5zb21lKChlPT5lLndvcmtzcGFjZUlkPT09bykpKXQuU3RvcmFnZS5zYXZlV29ya3NwYWNlKGEpLHQuc2V0QWN0aXZlV29ya3NwYWNlKGEpLF9hKFwiV29ya3NwYWNlIFNhdmVkXCIsZS5uYW1lKTtlbHNle3QuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6bS5TQVZFX1dPUktTUEFDRX0pfX0sVmE9ZT0+e0Z0KCkuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6bS5TQVZFX1dPUktTUEFDRV9BU30pfSxEYT1hc3luYyhlLHQpPT57Y29uc3QgYT1GdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj1hd2FpdCBGdCgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxvPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKSxyPW4uc29tZSgoZT0+by5wYWdlSWQ9PT1lLnBhZ2VJZCkpO2lmKHIpdHJ5e2F3YWl0IEZ0KCkuU3RvcmFnZS5zYXZlUGFnZSgoZD1vLHsuLi5kLGhhc1Vuc2F2ZWRDaGFuZ2VzOnZvaWQgMCxwYXJlbnRJZGVudGl0eTp2b2lkIDAsaXNBY3RpdmU6dm9pZCAwfSkpLGF3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOm8ucGFnZUlkLHBhZ2U6e2hhc1Vuc2F2ZWRDaGFuZ2VzOiExfX0pLF9hKFwiUGFnZSBzYXZlZFwiLG8ucGFyZW50SWRlbnRpdHkubmFtZSl9Y2F0Y2h7aT1cIlBhZ2UgZmFpbGVkIHRvIHNhdmVcIixzPW8ucGFyZW50SWRlbnRpdHkubmFtZSxSYShUYS5FUlJPUixpLHMsYyl9ZWxzZSBhLl9vcGVuU2F2ZU1vZGFsKHtpZDpvLnBhZ2VJZCxtZW51VHlwZTptLlNBVkVfUEFHRX0pO3ZhciBpLHMsYyxkfSxVYT1hc3luYyhlLHQpPT57Y29uc3QgYT1GdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSk7YS5fb3BlblNhdmVNb2RhbCh7aWQ6bi5wYWdlSWQsbWVudVR5cGU6bS5TQVZFX1BBR0VfQVN9KX0sRmE9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHksbj1hd2FpdCBSZShhKSxvPUZ0KCkuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KTtzd2l0Y2goZS50eXBlKXtjYXNlIHUuTmV3V2luZG93OmNvbnN0e25ld1BhZ2VVcmw6dH09YXdhaXQgR3QoYSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBlbXB0eSB3aW5kb3cgd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO0Z0KCkuY3JlYXRlVmlldyh7dGFyZ2V0OnZvaWQgMCx1cmw6dH0pO2JyZWFrO2Nhc2UgdS5OZXdQYWdlOmF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUZ0KCkuQnJvd3Nlci53cmFwU3luYyhlKSxhPWF3YWl0ICR0KGUpO2F3YWl0IHQuYWRkUGFnZShhKSxhd2FpdCB0LnNldEFjdGl2ZVBhZ2UoYS5wYWdlSWQpfSkoYSk7YnJlYWs7Y2FzZSB1LkNsb3NlV2luZG93Om4uZGlzcGF0Y2goVmUuQ2xvc2VCcm93c2VyV2luZG93KTticmVhaztjYXNlIHUuU2F2ZVdvcmtzcGFjZTphd2FpdCBMYShhKTticmVhaztjYXNlIHUuU2F2ZVBhZ2U6YXdhaXQgRGEoYSk7YnJlYWs7Y2FzZSB1LlNhdmVQYWdlQXM6YXdhaXQgVWEoYSk7YnJlYWs7Y2FzZSB1LlNhdmVXb3Jrc3BhY2VBczphd2FpdCBWYShhKTticmVhaztjYXNlIHUuUmVuYW1lV29ya3NwYWNlOm8uX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOm0uUkVOQU1FX1dPUktTUEFDRX0pO2JyZWFrO2Nhc2UgdS5Td2l0Y2hXb3Jrc3BhY2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9RnQoKSxuPShhd2FpdCBhLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO24mJmF3YWl0IElhKGUsbi50aXRsZSkmJihhd2FpdCBhLmFwcGx5V29ya3NwYWNlKG4pLF9hKFwiV29ya3NwYWNlIFN3aXRjaGVkIVwiLG51bGwpKX0pKGEsZSk7YnJlYWs7Y2FzZSB1LkRlbGV0ZVdvcmtzcGFjZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1GdCgpLG49KGF3YWl0IGEuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7biYmYXdhaXQgQWEoZSxuLnRpdGxlKSYmKGF3YWl0IGEuU3RvcmFnZS5kZWxldGVXb3Jrc3BhY2UodC53b3Jrc3BhY2VJZCksX2EoXCJXb3Jrc3BhY2UgRGVsZXRlZCFcIixlLm5hbWUpKX0pKGEsZSk7YnJlYWs7Y2FzZSB1LlF1aXQ6Y29uc3Qgcj1hd2FpdCBpYSgpO2F3YWl0IE1hKGEscikmJmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKTticmVhaztjYXNlIHUuT3BlblN0b3JlZnJvbnQ6KGFzeW5jKCk9Pnthd2FpdCBRKCkmJmooTil9KSgpO2JyZWFrO2Nhc2UgdS5SZXN0b3JlQ2hhbmdlczpjb25zdCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1GdCgpLHQ9YXdhaXQgZS5nZXRDdXJyZW50V29ya3NwYWNlKCk7cmV0dXJuKGF3YWl0IGUuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSl9KCk7YXdhaXQgT2EoYSkmJmF3YWl0IHVlKGkpO2JyZWFrO2Nhc2UgdS5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IHQ9e2NhbGxlclR5cGU6aC5HbG9iYWxDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RnQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLHQpfX19LEdhPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IFJlKHQuaWRlbnRpdHkpLG49RnQoKTtzd2l0Y2goZT8udHlwZSl7Y2FzZSB3LlNhdmU6YXdhaXQgRGEodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LlNhdmVBczphd2FpdCBVYSh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIHcuUmVuYW1lOmF3YWl0IG4uQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6bS5SRU5BTUVfUEFHRSxpZDp0LnBhZ2VJZH0pO2JyZWFrO2Nhc2Ugdy5EdXBsaWNhdGU6YS5kaXNwYXRjaChWZS5EdXBsaWNhdGVQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuQ2xvc2U6YS5kaXNwYXRjaChWZS5DbG9zZVBhZ2UsdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugdy5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IGE9e2NhbGxlclR5cGU6aC5QYWdlVGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6dC5pZGVudGl0eSxwYWdlSWQ6dC5wYWdlSWQsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtGdCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsYSl9fX0sJGE9YXN5bmMoZSx0KT0+e2lmKGU/LnR5cGUpe2NvbnN0IGE9dC5pZGVudGl0eTtzd2l0Y2goZS50eXBlKXtjYXNlIHkuU2F2ZVBhZ2U6YXdhaXQgRGEoYSk7YnJlYWs7Y2FzZSB5LlNhdmVXb3Jrc3BhY2U6YXdhaXQgTGEoYSk7YnJlYWs7Y2FzZSB5LlNhdmVQYWdlQXM6YXdhaXQgVWEoYSk7YnJlYWs7Y2FzZSB5LlNhdmVXb3Jrc3BhY2VBczphd2FpdCBWYShhKTticmVhaztjYXNlIHkuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOmguU2F2ZUJ1dHRvbkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RnQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfX19fSxOYT1hc3luYyhlLHQpPT57Y29uc3QgYT10LnNlbGVjdGVkVmlld3NbMF0sbj1maW4uVmlldy53cmFwU3luYyhhKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdHtuZXdUYWJVcmw6dH09YXdhaXQgR3QoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdUYWJVcmwgc2V0XCIpO3JldHVybnsuLi5DZShcIk5ldyBWaWV3XCIsdCksdXJsOnQsdGFyZ2V0OmV9fSkoZSk7YXdhaXQgRnQoKS5jcmVhdGVWaWV3KG8sZSxuLmlkZW50aXR5KX0samE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoZT0+UHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLmdldEluZm8oKSkpKSkodCkse25ld1BhZ2VVcmw6bixuZXdUYWJVcmw6b309YXdhaXQgR3QoZSk7YS5mb3JFYWNoKChhc3luYyBlPT57ZS51cmwhPT1uJiZlLnVybCE9PW8mJmF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGUudXJsKX0pKX0sSGE9KGUsdCk9Pnt0LmZvckVhY2goKGFzeW5jIHQ9Pntjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpO2F3YWl0KGFzeW5jKGUsdCk9Pntjb25zdHt1cmw6YX09YXdhaXQgdC5nZXRJbmZvKCksbj17Li4uYXdhaXQgdC5nZXRPcHRpb25zKCksdXJsOmEsdGFyZ2V0OmUsbmFtZTp2b2lkIDB9O2F3YWl0IEZ0KCkuY3JlYXRlVmlldyhuLGUsdC5pZGVudGl0eSl9KShlLGEpfSkpfSxxYT1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eTtzd2l0Y2goZS50eXBlKXtjYXNlIGYuQ2xvc2VWaWV3czphd2FpdChhc3luYyhlLHQpPT57aWYoKGF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoZSkuZ2V0Q3VycmVudFZpZXdzKCkpLmxlbmd0aCE9PXQubGVuZ3RoKXQuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlZpZXcud3JhcFN5bmMoZSk7YXdhaXQgdC5kZXN0cm95KCl9KSk7ZWxzZXtjb25zdCB0PShhd2FpdCBGdCgpLkJyb3dzZXIud3JhcFN5bmMoZSkuZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpOyhhd2FpdCBSZShlKSkuZGlzcGF0Y2goVmUuQ2xvc2VQYWdlLHQ/LnBhZ2VJZCl9fSkoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5PcGVuV2l0aERlZmF1bHRCcm93c2VyOmF3YWl0IGphKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuUmVsb2FkVmlld3M6dC5zZWxlY3RlZFZpZXdzLmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PWZpbi5WaWV3LndyYXBTeW5jKGUpO2F3YWl0IHQucmVsb2FkKCl9KSk7YnJlYWs7Y2FzZSBmLk5ld1ZpZXc6YXdhaXQgTmEoYSx0KTticmVhaztjYXNlIGYuRHVwbGljYXRlVmlld3M6SGEoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5BZGRUb0NoYW5uZWw6KGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49e25ld0NoYW5uZWxJZDp0LHNlbGVjdGVkVmlld3M6YX07KGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5BZGRUb0NoYW5uZWwsbil9KShhLGUub3B0aW9uLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlJlbW92ZUZyb21DaGFubmVsOihhc3luYyhlLHQpPT57KGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5SZW1vdmVGcm9tQ2hhbm5lbCx0KX0pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBuPXtjYWxsZXJUeXBlOmguVmlld1RhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsc2VsZWN0ZWRWaWV3czp0LnNlbGVjdGVkVmlld3MsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtGdCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsbil9fX07YXN5bmMgZnVuY3Rpb24gS2EoZSx0KXtjb25zdCBhPWF3YWl0IG9hKGUuaWRlbnRpdHkpLG49YXdhaXQgaWEoKTthLmZpbmQoKGU9PmUuZGF0YT8udHlwZT09PXUuUXVpdCkpLmxhYmVsPWBRdWl0ICR7bn1gO2NvbnN0IG89ey4uLmUsdGVtcGxhdGU6YSxjYWxsYmFjazpGYX07YXdhaXQgdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUobyx0KX1jb25zdCBRYT1hc3luYyhlLHQpPT57Y29uc3R7eDphLHk6bixpZGVudGl0eTpvLHRlbXBsYXRlOnIsY2FsbGJhY2s6aX09ZSx7ZGF0YTpzfT1hd2FpdCBmdW5jdGlvbihlLHQpe2lmKCFTKXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtpZighdCYmIWZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIHdpbmRvdy5cIik7cmV0dXJuKHR8fGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKSkuc2hvd1BvcHVwTWVudShlKX0oe3g6YSx5Om4sdGVtcGxhdGU6cn0sZmluLldpbmRvdy53cmFwU3luYyhvKSk7aShzLGUpfTthc3luYyBmdW5jdGlvbiB6YShlLHQpe2NvbnN0IGE9ey4uLmUsY2FsbGJhY2s6cWF9O2F3YWl0IHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudShhLHQpfWFzeW5jIGZ1bmN0aW9uIEphKGUsdCl7Y29uc3QgYT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBGdCgpLlN0b3JhZ2UuZ2V0UGFnZShlKSxuPShhd2FpdCBHZSgpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSx7d29ya3NwYWNlUGxhdGZvcm06b309YXdhaXQgRih0KS5nZXRPcHRpb25zKCkscj0hKG8uaXNMb2NrZWR8fG8ucHJldmVudFBhZ2VDbG9zZXx8bi5jbG9zZUJ1dHRvbj8uZGlzYWJsZWR8fG4uY2xvc2VCdXR0b24/LmhpZGRlbik7cmV0dXJuW3t0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LlNhdmV9fSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBc1wiLGRhdGE6e3R5cGU6dy5TYXZlQXN9fSxFdCx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlJlbmFtZSBQYWdlXCIsZGF0YTp7dHlwZTp3LlJlbmFtZX0sZW5hYmxlZDohIWF9LHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiRHVwbGljYXRlIFBhZ2VcIixkYXRhOnt0eXBlOncuRHVwbGljYXRlfSxlbmFibGVkOiFvLmlzTG9ja2VkfSxFdCx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIkNsb3NlIFBhZ2VcIixkYXRhOnt0eXBlOncuQ2xvc2V9LGVuYWJsZWQ6cn1dfSkoZS5wYWdlSWQsZS5pZGVudGl0eSksbj17Li4uZSx0ZW1wbGF0ZTphLGNhbGxiYWNrOkdhfTthd2FpdCB0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnUobix0KX1hc3luYyBmdW5jdGlvbiBYYShlLHQpe2NvbnN0IGE9ey4uLmUsdGVtcGxhdGU6YXdhaXQoYXN5bmMoKT0+W3t0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2VcIixkYXRhOnt0eXBlOnkuU2F2ZVdvcmtzcGFjZX19LHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2UgQXNcIixkYXRhOnt0eXBlOnkuU2F2ZVdvcmtzcGFjZUFzfX0se3R5cGU6VHQuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpUdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6eS5TYXZlUGFnZX19LHt0eXBlOlR0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlIEFzXCIsZGF0YTp7dHlwZTp5LlNhdmVQYWdlQXN9fV0pKCksY2FsbGJhY2s6JGF9O2F3YWl0IHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudShhLHQpfWNvbnN0IFlhPWImJmd0KFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLFwid29ya3NwYWNlc1wiKTthc3luYyBmdW5jdGlvbiBaYShlKXtjb25zdCB0PWF3YWl0IG10KGUsWWEpO3JldHVybiB0Pyh0LndvcmtzcGFjZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQud29ya3NwYWNlSWQsdCk6bnVsbH1hc3luYyBmdW5jdGlvbiBlbihlKXtjb25zdCB0PWF3YWl0IGJ0KFlhKSxhPWF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5aYShlLnRvU3RyaW5nKCkpKSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT5rdCh0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiB0bih7d29ya3NwYWNlOmV9KXthd2FpdCB2dChlLndvcmtzcGFjZUlkLGUsWWEpfWFzeW5jIGZ1bmN0aW9uIGFuKGUpe2F3YWl0IFN0KGUsWWEpfWFzeW5jIGZ1bmN0aW9uIG5uKHt3b3Jrc3BhY2VJZDplLHdvcmtzcGFjZTp0fSl7aWYodm9pZCAwPT09YXdhaXQgWmEoZSkpdGhyb3cgbmV3IEVycm9yKFwid29ya3NwYWNlIG5vdCBmb3VuZFwiKTthd2FpdCB0bih7d29ya3NwYWNlOnR9KSxlIT09dC53b3Jrc3BhY2VJZCYmYXdhaXQgYW4oZSl9YXN5bmMgZnVuY3Rpb24gb24oe2FwcDplLHRhcmdldDp0fSl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtzd2l0Y2goZS5tYW5pZmVzdFR5cGUpe2Nhc2UgYy5TbmFwc2hvdDpyZXR1cm4gYS5hcHBseVNuYXBzaG90KGUubWFuaWZlc3QpO2Nhc2UgYy5WaWV3OnJldHVybiBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoXCJ2aWV3XCI9PT10LmVudGl0eVR5cGUpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCksbj1hd2FpdCBhLmdldFBhcmVudExheW91dCgpO3JldHVybiBhd2FpdCBuLnJlcGxhY2VWaWV3KHQse21hbmlmZXN0VXJsOmUubWFuaWZlc3QsdXJsOnZvaWQgMCx0YXJnZXQ6dm9pZCAwfSksYS5kZXN0cm95KCl9cmV0dXJuIGEuY3JlYXRlVmlldyh7bmFtZTp2b2lkIDAsdXJsOnZvaWQgMCxtYW5pZmVzdFVybDplLm1hbmlmZXN0LHRhcmdldDp2b2lkIDB9KX0oZSx0KTtjYXNlIGMuRXh0ZXJuYWw6cmV0dXJuIGZpbi5TeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzKHtwYXRoOmUubWFuaWZlc3QsdXVpZDplLmFwcElkfSk7ZGVmYXVsdDpyZXR1cm4gZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGUubWFuaWZlc3QpfX1jb25zdCBybj1lPT5lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk7ZnVuY3Rpb24gc24oZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIHJuKGUpJiZybihhKSYmT2JqZWN0LmVudHJpZXMoYSkuZm9yRWFjaCgoKFt0LGFdKT0+e2lmKHJuKGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksc24oZVt0XSxhKTtlW3RdPWF9KSksc24oZSwuLi50KX1jb25zdCBjbj1NK3BhLkJyb3dzZXI7ZnVuY3Rpb24gZG4oZSx0KXtjb25zdCBhPXNuKHt9LHQsZSk7cmV0dXJuIGEuZGV0YWNoT25DbG9zZT0hMCxhfWFzeW5jIGZ1bmN0aW9uIHBuKGUsdCxhKXtjb25zdCBuPWUubWFuaWZlc3RVcmw/YXdhaXQgdCh7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdFVybH0sYSk6dm9pZCAwO2lmKG4/LmludGVyb3AmJmUuaW50ZXJvcCl7Y29uc3QgdD17Li4uZSwuLi5uLGludGVyb3A6ZS5pbnRlcm9wfTtyZXR1cm4gZGVsZXRlIHQubWFuaWZlc3RVcmwsdH1yZXR1cm4gZX1jb25zdCBsbj1lPT57Y29uc3QgdD1lLm5hbWU9PT1WLkhvbWUsYT1lLm5hbWU/LnN0YXJ0c1dpdGgoVi5Ib21lSW50ZXJuYWwpLG49ZS5uYW1lPy5zdGFydHNXaXRoKFYuQnJvd3Nlck1lbnUpO3JldHVybiF0JiYhYSYmIW59LHVuPWU9Plwid29ya3NwYWNlUGxhdGZvcm1cImluIGU/ZTooKHt3b3Jrc3RhY2tzOmUscGFnZXM6dCwuLi5hfSk9Pih7Li4uYSx3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6dHx8ZXx8bnVsbH19KSkoZSksd249e2NvbnRleHRNZW51U2V0dGluZ3M6e3JlbG9hZDohMX0sYmFja2dyb3VuZFRocm90dGxpbmc6ITAsdXJsOmNuLGNvbnRleHRNZW51OiEwLGNsb3NlT25MYXN0Vmlld1JlbW92ZWQ6ITEsZXhwZXJpbWVudGFsOntzaG93RmF2aWNvbnM6ITAsZGVmYXVsdEZhdmljb25Vcmw6YCR7TX0vaWNvbnMvZGVmYXVsdEZhdmljb24uc3ZnYH0scGVybWlzc2lvbnM6e1N5c3RlbTp7b3BlblVybFdpdGhCcm93c2VyOntlbmFibGVkOiEwLHByb3RvY29sczpbXCJtYWlsdG9cIl19fX19LGZuPXtkaW1lbnNpb25zOntib3JkZXJXaWR0aDozLGhlYWRlckhlaWdodDozMH19LGduPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEZ0KCkuU3RvcmFnZS5nZXRQYWdlcygpLG49YXdhaXQgRnQoKS5Ccm93c2VyLmdldEFsbEF0dGFjaGVkUGFnZXMoKTtyZXR1cm4gZS5tYXAoKGU9PntsZXQgbz1lLnRpdGxlO3ZvaWQgMD09PWUucGFnZUlkJiYoZS5wYWdlSWQ9Y3J5cHRvLnJhbmRvbVVVSUQoKSk7Y29uc3Qgcj1hLmZpbmQoKGU9PmUudGl0bGU9PT1vKSk7cmV0dXJuKHImJnIucGFnZUlkIT09ZS5wYWdlSWR8fG4uZmluZCgoZT0+ZS50aXRsZT09PW8pKSkmJihvPWxlKGUudGl0bGUsWy4uLmEsLi4ubl0ubWFwKChlPT5lLnRpdGxlKSkpKSxuLnB1c2goey4uLmUsdGl0bGU6b30pLHsuLi50LC4uLmUsdGl0bGU6byxsYXlvdXQ6KGk9ZS5sYXlvdXQsYmUoey4uLml9LGtlKSl9O3ZhciBpfSkpfTt2YXIgeW47IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cImJyb3dzZXJcIixlLlBsYXRmb3JtPVwicGxhdGZvcm1cIixlLkNsYXNzaWM9XCJjbGFzc2ljXCIsZS5NaXhlZD1cIm1peGVkXCJ9KHlufHwoeW49e30pKTtjb25zdCBobj1lPT57Y29uc3QgdD1maW4uV2luZG93LndyYXBTeW5jKGUpO3JldHVybiBQcm9taXNlLmFsbChbdC5icmluZ1RvRnJvbnQoKSx0LnJlc3RvcmUoKSx0LmZvY3VzKCldKX07YXN5bmMgZnVuY3Rpb24gbW4oZSl7Y29uc3QgdD0oYXdhaXQgcSgpKS5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0T3B0aW9ucygpO3Qud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiZ0LmxheW91dCYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IFJlKGUpKS5kaXNwYXRjaChWZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnMpKShlLmlkZW50aXR5KX0pKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodCksZT9lKCk6d3QoKX1jb25zdCB2bj1hc3luYyBlPT57YXdhaXQgTWEoZmluLm1lLmlkZW50aXR5LGUudGl0bGU/P2F3YWl0IGlhKCksZS5zaG91bGRDZW50ZXJPbk1vbml0b3IpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCl9O2xldCBTbj1bXTtjb25zdCBQbj0oKT0+U247Y29uc3QgYm49KGUsdCk9PmFzeW5jIGE9Pntjb25zdCBuPW51bGwhPT1lO2NsYXNzIG8gZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzV29ya3NwYWNlUGxhdGZvcm09KCk9Pih7aXNXb3Jrc3BhY2VQbGF0Zm9ybTohMCxpc0Jyb3dzZXJJbml0aWFsaXplZDohIWV9KSx0aGlzLmFkZFBhZ2U9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LHRoaXMuZGV0YWNoUGFnZXNGcm9tV2luZG93PVhlLHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcz1HZSx0aGlzLmdldFBhZ2VzRm9yV2luZG93PVplLHRoaXMuZ2V0UGFnZUZvcldpbmRvdz1ldCx0aGlzLnNldEFjdGl2ZVBhZ2U9WWUsdGhpcy5sYXVuY2hBcHA9b24sdGhpcy5zYXZlUGFnZT1RZSx0aGlzLnNhdmVXb3Jrc3BhY2U9eWUsdGhpcy5jcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1IZSx0aGlzLnVwZGF0ZVNhdmVkUGFnZUludGVybmFsPUtlLHRoaXMuZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9cWUsdGhpcy5yZW9yZGVyUGFnZXNGb3JXaW5kb3c9dHQsdGhpcy5nZXRVbmlxdWVQYWdlVGl0bGU9YXQsdGhpcy51cGRhdGVQYWdlRm9yV2luZG93PUplLHRoaXMuZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PW1lLHRoaXMuZ2V0VGhlbWVzPVBuLHRoaXMuaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9Y3QsdGhpcy5yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9dm4sdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPWdlLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dWUsdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9d2UsdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnU9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkUGFnZXM9dGhpcy5nZXRTYXZlZFBhZ2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2U9dGhpcy5nZXRTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkUGFnZT10aGlzLmNyZWF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlU2F2ZWRQYWdlPXRoaXMudXBkYXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFBhZ2U9dGhpcy5kZWxldGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3c9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZXM9dGhpcy5nZXRTYXZlZFdvcmtzcGFjZXMuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkV29ya3NwYWNlPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlPXRoaXMuY3JlYXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlPXRoaXMudXBkYXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlPXRoaXMuZGVsZXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2U9dGhpcy5nZXRDdXJyZW50V29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5hcHBseVdvcmtzcGFjZT10aGlzLmFwcGx5V29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9dGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKX1hc3luYyBnZXRTbmFwc2hvdCgpe2NvbnN0IGU9bj9hd2FpdCBtbigoYXN5bmMoKT0+d3QoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpKSk6YXdhaXQgd3QoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpO3JldHVybnsuLi5lLHdpbmRvd3M6ZS53aW5kb3dzLmZpbHRlcihsbikubWFwKHV0KX19YXN5bmMgYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnR9KXtjb25zdCBhPWU9PnN1cGVyLmFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp7Li4udCxjbG9zZUV4aXN0aW5nV2luZG93czohMX19KTtsZXQgbz1lO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1hd2FpdCBzdXBlci5mZXRjaE1hbmlmZXN0KHttYW5pZmVzdFVybDpvfSxmaW4ubWUuaWRlbnRpdHkpKTtjb25zdCByPWZ1bmN0aW9uKGUpe2xldCB0PSExLGE9ITE7Zm9yKGNvbnN0IG4gb2YgZS53aW5kb3dzKXtpZih0JiZhKWJyZWFrO24ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5sZW5ndGg/YT0hMDpuLmxheW91dCYmKHQ9ITApfXJldHVybiB0JiZhP3luLk1peGVkOnQ/eW4uUGxhdGZvcm06YT95bi5Ccm93c2VyOmUud2luZG93cy5sZW5ndGg/eW4uQ2xhc3NpYzpudWxsfShvKTtpZihyPT09eW4uTWl4ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzbmFwc2hvdCBjYW5ub3QgYmUgYXBwbGllZCBhcyBpdCBjb250YWlucyBhIG1peHR1cmUgb2YgYnJvd3NlciBhbmQgcGxhdGZvcm0gd2luZG93cy5cIik7aWYobil5bi5QbGF0Zm9ybTtlbHNlIGlmKHI9PT15bi5Ccm93c2VyKXRocm93IG5ldyBFcnJvcihcIlRoaXMgc25hcHNob3QgY2Fubm90IGJlIGFwcGxpZWQgYXMgdGhlIHBsYXRmb3JtIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGhvdXQgdGhlIGJyb3dzZXIuXCIpO3JldHVybiB0Py5jbG9zZUV4aXN0aW5nV2luZG93cyYmYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWF3YWl0IHEoKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+ZS5jbG9zZSghMCkuY2F0Y2goKCgpPT57fSkpKSkpfSgpLG4/YXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWF3YWl0IEdlKCksbj1lLnNuYXBzaG90RGV0YWlscz8ubW9uaXRvckluZm98fGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxbbyxyXT0oZS53aW5kb3dzfHxbXSkucmVkdWNlKCgoW2UsdF0sYSk9PmE/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoP1tbLi4uZSxhXSx0XTpbZSxbLi4udCxhXV0pLFtbXSxbXV0pLGk9bmV3IE1hcDthLmZvckVhY2goKGU9Pmkuc2V0KGUucGFnZUlkLGUpKSk7Y29uc3Qgcz1bXSxjPW8ubWFwKChhc3luYyBlPT57Y29uc3QgdD11bihlKSxhPVtdLG49KGU9PntsZXQgdD0hMTtjb25zdCBhPShlfHxbXSkubWFwKChlPT57Y29uc3QgYT1mdW5jdGlvbih7aWQ6ZSxuYW1lOnQsLi4uYX0pe3JldHVybntwYWdlSWQ6ZSx0aXRsZTp0LC4uLmF9fShlKTtyZXR1cm4gdCYmYS5pc0FjdGl2ZSYmKGEuaXNBY3RpdmU9ITEpLGEuaXNBY3RpdmUmJih0PSEwKSxhfSkpO3JldHVybiF0JiZhLmxlbmd0aCYmKGFbMF0uaXNBY3RpdmU9ITApLGF9KSh0Py53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpO2lmKCFuPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgYXQoKTthLnB1c2goYXdhaXQgeHQoZSx0LmxheW91dCkpfWxldCBvO24uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9aS5nZXQoZS5wYWdlSWQpO3Q/bz10OmEucHVzaChlKX0pKSxvJiZhd2FpdCBQcm9taXNlLmFsbChbWWUoe2lkZW50aXR5Om8ucGFyZW50SWRlbnRpdHkscGFnZUlkOm8ucGFnZUlkfSksaG4oby5wYXJlbnRJZGVudGl0eSldKSxhLmxlbmd0aCYmcy5wdXNoKHsuLi50LHdvcmtzcGFjZVBsYXRmb3JtOnsuLi50LndvcmtzcGFjZVBsYXRmb3JtLHBhZ2VzOmF9fSl9KSk7aWYoYXdhaXQgUHJvbWlzZS5hbGwoYyksIXMubGVuZ3RoJiYhci5sZW5ndGgpcmV0dXJuO2NvbnN0IGQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7cmV0dXJuKHR8fGQuYXBwbHlTbmFwc2hvdC5iaW5kKGQpKSh7Li4uZSxzbmFwc2hvdERldGFpbHM6ey4uLmUuc25hcHNob3REZXRhaWxzLG1vbml0b3JJbmZvOm59LHdpbmRvd3M6Wy4uLnMsLi4ucl19KX0obyxhKTphKG8pfWFzeW5jIGNyZWF0ZVdpbmRvdyh0LGEpe3Qud29ya3NwYWNlUGxhdGZvcm0/LnRvb2xiYXJPcHRpb25zPy5idXR0b25zJiYoZT0+e2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PmUudHlwZSE9PWcuQ3VzdG9tKSksYT1uZXcgU2V0O2Zvcihjb25zdCBlIG9mIHQpe2lmKGEuaGFzKGUudHlwZSkpdGhyb3cgbmV3IEVycm9yKGBFbmNvdW50ZXJlZCBhIGR1cGxpY2F0ZSBvZiAke2UudHlwZX0gYnV0dG9uLiBObyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIG9mIGEgYnV0dG9uIHR5cGUgbWF5IGJlIHByb3ZpZGVkLmApO2EuYWRkKGUudHlwZSl9fSkodC53b3Jrc3BhY2VQbGF0Zm9ybS50b29sYmFyT3B0aW9ucy5idXR0b25zKTtsZXQgbz11bih0KTtpZihuKXtjb25zdCB0PXRoaXMuZ2V0VGhlbWVzKCk7bz1hd2FpdChhc3luYyhlLHQsYSk9PntsZXQgbj1lO2NvbnN0IG89bj8ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzO2lmKG8pe2NvbnN0IGU9by5maW5kKChlPT5lLmlzQWN0aXZlKSk7ZT9uLmxheW91dD1lLmxheW91dDoob1swXS5pc0FjdGl2ZT0hMCxuLmxheW91dD1vWzBdLmxheW91dCl9aWYobi5sYXlvdXQpe2lmKG49c24oe30sdC5kZWZhdWx0V2luZG93T3B0aW9ucyxuLHduKSxuLmxheW91dD1zbihuLmxheW91dCxmbiksKG4uaWNvbnx8bi50YXNrYmFySWNvbikmJihuLnRhc2tiYXJJY29uR3JvdXA9bi50YXNrYmFySWNvbkdyb3VwfHxmaW4ubWUuaWRlbnRpdHkudXVpZCksIW4uYmFja2dyb3VuZENvbG9yKXtjb25zdCBlPWE/LnBhbGV0dGU7bi5iYWNrZ3JvdW5kQ29sb3I9ZT8uYmFja2dyb3VuZDJ8fGU/LmJhY2tncm91bmRQcmltYXJ5fWNvbnN0IGU9bi53b3Jrc3BhY2VQbGF0Zm9ybS5uZXdUYWJVcmw7aWYoZSYmKG4ubGF5b3V0LnNldHRpbmdzfHwobi5sYXlvdXQuc2V0dGluZ3M9e30pLG4ubGF5b3V0LnNldHRpbmdzLm5ld1RhYkJ1dHRvbj17dXJsOmV9KSxuPSgoZSx0KT0+e2NvbnN0IGE9ZTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybXx8KGEud29ya3NwYWNlUGxhdGZvcm09e30pLGEud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz17c2V0QXNGb3JlZ3JvdW5kOiEhdCxkZWZlclNob3dFbmFibGVkOiEwLGF1dG9TaG93OmEud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHxhLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPy5hdXRvU2hvd3x8dm9pZCAwPT09YS5hdXRvU2hvd3x8YS5hdXRvU2hvd30sYS5hdXRvU2hvdz0hMSxhfSkobiwhMCksIW4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM/Lmxlbmd0aCl7Y29uc3QgZT1hd2FpdCBhdChcIlVudGl0bGVkIFBhZ2VcIiksdD17Li4uYXdhaXQgeHQoZSxuLmxheW91dCksaXNBY3RpdmU6ITB9O24ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM9W3RdfX1yZXR1cm4gbi53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMmJihuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPWF3YWl0IGduKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMsdD8uZGVmYXVsdFBhZ2VPcHRpb25zKSksbi5jb3JuZXJSb3VuZGluZyYmZGVsZXRlIG4uY29ybmVyUm91bmRpbmcsbn0pKG8sZSx0WzBdKX1vPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxhPXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5ib3R0b20tdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LnRvcCxuPXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5yaWdodC10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QubGVmdDtyZXR1cm4gZS5kZWZhdWx0SGVpZ2h0PWUuZGVmYXVsdEhlaWdodHx8XCI4MDBcIixlLmRlZmF1bHRXaWR0aD1lLmRlZmF1bHRXaWR0aHx8XCI4MDBcIixhPGUuZGVmYXVsdEhlaWdodCYmKGUuZGVmYXVsdEhlaWdodD1hKSxuPGUuZGVmYXVsdFdpZHRoJiYoZS5kZWZhdWx0V2lkdGg9biksZX0pKG8pO2NvbnN0IHI9KGUsdCk9PnN1cGVyLmNyZWF0ZVdpbmRvdyhlLHQpLGk9bj8oZT0+YXN5bmModCxhKT0+e2xldCBuPSExO2NvbnN0IG89YXdhaXQgZSh0LGEpO3JldHVybiB0Py53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uZGVmZXJTaG93RW5hYmxlZD8oYXdhaXQgby5hZGRMaXN0ZW5lcihELlNob3dSZXF1ZXN0ZWQsKGFzeW5jKCk9PntpZihuKXJldHVybjtjb25zdCBlPWF3YWl0IG8uZ2V0T3B0aW9ucygpO2F3YWl0IG8udXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06ey4uLmUud29ya3NwYWNlUGxhdGZvcm0sX2ludGVybmFsRGVmZXJTaG93T3B0aW9uczp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zLGF1dG9TaG93OiEwfX19KSxuPSEwfSkpLG8pOm99KShyKTpyO3JldHVybiBpKG8sYSl9YXN5bmMgY3JlYXRlVmlldyh0LGEpe3JldHVybiB0Lm9wdHM9ZG4odC5vcHRzLGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzPWF3YWl0IHBuKHQub3B0cyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIuY3JlYXRlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VWaWV3KHQsYSl7cmV0dXJuIHQub3B0cy5uZXdWaWV3PWF3YWl0IGRuKHQub3B0cy5uZXdWaWV3LGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzLm5ld1ZpZXc9YXdhaXQgcG4odC5vcHRzLm5ld1ZpZXcsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLnJlcGxhY2VWaWV3KHQsYSl9YXN5bmMgcmVwbGFjZUxheW91dChlLHQpe3JldHVybiBkZWxldGUgZS5vcHRzLmxheW91dD8uZGltZW5zaW9ucyxzdXBlci5yZXBsYWNlTGF5b3V0KGUsdCl9YXN5bmMgY2xvc2VWaWV3KGUsdCl7Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyhlLnZpZXcpO2F3YWl0IHN1cGVyLmNsb3NlVmlldyhlLHQpLGF3YWl0IGEuZGVzdHJveSgpLmNhdGNoKChlPT5lKSl9YXN5bmMgZ2V0U2F2ZWRQYWdlKC4uLmUpe3JldHVybiBDdC5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkUGFnZXMoLi4uZSl7cmV0dXJuIEl0LmFwcGx5KHRoaXMsZSl9YXN5bmMgY3JlYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBBdC5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gTXQuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIE90LmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIFphLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2VzKC4uLmUpe3JldHVybiBlbi5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiB0bi5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBhbi5hcHBseSh0aGlzLGUpfWFzeW5jIHVwZGF0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBubi5hcHBseSh0aGlzLGUpfWFzeW5jIGF0dGFjaFBhZ2VzVG9XaW5kb3codCl7dC5wYWdlcz1hd2FpdCBnbih0LnBhZ2VzLGU/LmRlZmF1bHRQYWdlT3B0aW9ucyksYXdhaXQgemUodCl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIEthLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gemEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gSmEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBRYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFFhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBYYS5hcHBseSh0aGlzLGUpfX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Qobyk6bmV3IG99O2FzeW5jIGZ1bmN0aW9uIGtuKCl7IWZ1bmN0aW9uKCl7Y29uc3QgZT1MKCk7ZS5hZGRMaXN0ZW5lcihCLldpbmRvd09wdGlvbnNDaGFuZ2VkLHJ0KSxlLmFkZExpc3RlbmVyKEIuV2luZG93Q2xvc2VkLGl0KSxlLmFkZExpc3RlbmVyKEIuV2luZG93Q3JlYXRlZCxpdCksZmluLkludGVyQXBwbGljYXRpb25CdXMuc3Vic2NyaWJlKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkfSxcImJyb3dzZXItd2luZG93LXJlYWR5XCIsaXQpfSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTthd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIix2ZSl9KCk7d2UoYXdhaXQgZmUoKSl9bGV0IFduO2Z1bmN0aW9uIENuKHtvdmVycmlkZUNhbGxiYWNrOmUsaW50ZXJvcE92ZXJyaWRlOnQsYnJvd3NlcjphfSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi5cIik7aWYoIVduKXtmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsKCgpPT5rbigpKSksYT8udGl0bGUmJihuPWEudGl0bGUscmE9biksV249ZmluLlBsYXRmb3JtLmluaXQoe292ZXJyaWRlQ2FsbGJhY2s6Ym4oYSxlfHxhPy5vdmVycmlkZUNhbGxiYWNrKSxpbnRlcm9wT3ZlcnJpZGU6dHx8YT8uaW50ZXJvcE92ZXJyaWRlfSksKGFzeW5jIGU9PntKKHouUGxhdGZvcm0sZSl9KSh7YWxsb3dlZDohMH0pfXZhciBuO3JldHVybiBXbn1jb25zdCBJbj1hc3luYyh7dGhlbWU6ZSxjdXN0b21BY3Rpb25zOnQsLi4uYX0pPT57Y29uc3Qgbj1PLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSksbz1hd2FpdChhc3luYyBlPT5uZXcgUHJvbWlzZSgoYXN5bmMgdD0+eyhhd2FpdCBaKCkpLmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbiYmdCghMCk7Y29uc3QgYT0oYXdhaXQgZmluLlN5c3RlbS5nZXRWZXJzaW9uKCkpLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSk7dChlLmV2ZXJ5KCgodCxuKT0+IShuPDMpfHxhW25dPT09ZVtuXSkpKX0pKSkobik7dmFyIHI7aWYoZSYmKChyPWUpLmZvckVhY2goKGU9Pntjb25zdCB0PWUucGFsZXR0ZS5iYWNrZ3JvdW5kUHJpbWFyeTtpZighdC5pbmNsdWRlcyhcIiNcIikmJiF0LmluY2x1ZGVzKFwicmdiXCIpJiYhdC5pbmNsdWRlcyhcImhzbFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIHByaW1hcnkgY29sb3IgaXMgbm90IHRoZSByaWdodCBmb3JtYXQuXCIpfSkpLFNuPXIsKGFzeW5jIGU9PntKKHouVGhlbWluZyxlKX0pKHthbGxvd2VkOiEwfSkpLHQmJihzdD10KSxvKXJldHVybiBDbihhKTt0aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkLiAgJHtuWzBdfS4ke25bMV19LiR7blsyXX0uKiBpcyByZXF1aXJlZGApfX0pKCksbW9kdWxlLmV4cG9ydHM9bn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17NzAzOihlLHQsbik9PntuLnIodCksbi5kKHQse0NMSUFjdGlvbjooKT0+bC5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5sLmVsLENMSVRlbXBsYXRlOigpPT5sLnlXLGRlcmVnaXN0ZXI6KCk9PmV0LGhpZGU6KCk9Pm50LHJlZ2lzdGVyOigpPT5ZZSxzaG93OigpPT50dH0pO3ZhciBvPXt9O24ucihvKSxuLmQobyx7c3Vic2NyaWJlOigpPT5hZX0pO3ZhciByPXt9O24ucihyKSxuLmQocix7Y3JlYXRlOigpPT5IZX0pO3ZhciBpPW4oNjc4KSxzPW4oNTMyKSxhPW4oNDM2KTtjb25zdCBjPVwiaG9tZVwiO3ZhciBkOyFmdW5jdGlvbihlKXtlLkNvbW1hbmRzPVwiaG9tZS1jb21tYW5kc1wifShkfHwoZD17fSkpO3ZhciB1LHA9big4MDYpLGw9KG4oMjk4KSxuKDc1OCkpO24oMTE0KSxuKDEwOSksbig0MjcpOyFmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifSh1fHwodT17fSkpO3ZhciBmPW4oMzE2KTtjb25zdCB3PVwiYWxsXCIsZz1cIjBcIixoPVwiNVwiLHk9XCI2XCIsdj0oKT0+e307ZnVuY3Rpb24gbShlLHQpe3JldHVybiBlP2Ake2V9LSR7dH1gOnR9ZnVuY3Rpb24gUyhlKXtyZXR1cm5gX19zZWFyY2gtJHtlfS10b3BpY19fYH1jb25zdCBQPW5ldyBNYXA7ZnVuY3Rpb24gQyhlLHQpe1AuaGFzKGUpfHxQLnNldChlLG5ldyBTZXQpLFAuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBrKGUsdCl7Y29uc3Qgbj1QLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBXPW5ldyBNYXA7ZnVuY3Rpb24gUihlLHQpe1cuaGFzKGUpfHxXLnNldChlLG5ldyBTZXQpLFcuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBUKGUsdCl7Y29uc3Qgbj1XLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBJPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gYihlLHQpe0kuaGFzKGUpfHxJLnNldChlLG5ldyBNYXApLEkuZ2V0KGUpLnNldCh0LmlkLHQpO2NvbnN0IG49UC5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IG89Wy4uLm5dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyl9YXN5bmMgZnVuY3Rpb24gRChlLHQpe2NvbnN0IG49SS5nZXQoZSk7aWYoIW4pcmV0dXJuO24uZGVsZXRlKHQpO2NvbnN0IG89Vy5nZXQoZSk7aWYoIW8pcmV0dXJuO2NvbnN0IHI9Wy4uLm9dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwocil9ZnVuY3Rpb24gQihlKXtyZXR1cm4gSS5nZXQoZSk/Wy4uLkkuZ2V0KGUpLnZhbHVlcygpXTpbXX1mdW5jdGlvbiBGKGUpe2NvbnN0IHQ9SS5nZXQoZSk7dCYmdC5jbGVhcigpfWZ1bmN0aW9uIEwoZSx0KXtjb25zdCBuPUkuZ2V0KGUpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9ZnVuY3Rpb24gQShlLHQsbil7cmV0dXJuey4uLmUsYWN0aW9uOm58fHsuLi5lLmFjdGlvbnNbMF0sdHJpZ2dlcjpmLnB4LlVzZXJBY3Rpb259LGRpc3BhdGNoZXJJZGVudGl0eTp0fX1mdW5jdGlvbiBPKGUsdCxuPVwiYXNjZW5kaW5nXCIpe2NvbnN0IG89ZXx8W107aWYoIXQ/Lmxlbmd0aClyZXR1cm4gbztjb25zdCByPVtdLGk9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gaS5zZXQoZS5rZXksZSk7ci5wdXNoKGUpfSkpO2xldCBzPW8ubWFwKChlPT57Y29uc3R7a2V5OnR9PWU7aWYodCYmaS5oYXModCkpe2NvbnN0IGU9aS5nZXQodCk7cmV0dXJuIGkuZGVsZXRlKHQpLGV9cmV0dXJuIGV9KSk7cmV0dXJuIHMucHVzaCguLi5pLnZhbHVlcygpLC4uLnIpLHM9XCJhc2NlbmRpbmdcIj09PW4/cy5zb3J0KCgoZSx0KT0+KG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKS0obnVsbCE9PXQuc2NvcmUmJnZvaWQgMCE9PXQuc2NvcmU/dC5zY29yZToxLzApKSk6cy5zb3J0KCgoZSx0KT0+KG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKS0obnVsbCE9PWUuc2NvcmUmJnZvaWQgMCE9PWUuc2NvcmU/ZS5zY29yZToxLzApKSksc31mdW5jdGlvbiB4KGUpe2NvbnN0IHQ9e307bGV0IG49W107bGV0IG89W107bGV0IHI9dS5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5yLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5uLHQuc2V0UmVzdWx0QnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+byx0LnNldFJldm9rZWRCdWZmZXI9ZT0+e289ZSxvPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5vbkNoYW5nZT12O2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e3IhPT11LkNsb3NlJiYocj11LkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e3IhPT11Lk9wZW4mJihyPXUuT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9bj0+e2NvbnN0IG89Tyh0LmdldFJlc3VsdEJ1ZmZlcigpLG4sZSk7dC5zZXRSZXN1bHRCdWZmZXIobyl9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IG49bmV3IFNldChlKSxvPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PW4uaGFzKGUpO3JldHVybiB0JiZuLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihvKSxuLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5uLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4ubl0pKX0sdH1mdW5jdGlvbiBFKGUsdCxuKXtjb25zdCBvPW5ldyBTZXQ7bGV0IHI9ITE7cmV0dXJue2Nsb3NlOigpPT57cj0hMDtmb3IoY29uc3QgZSBvZiBvKWUoKX0scmVxOntpZDp0LHRvcGljOmUsLi4ubixjb250ZXh0Om4/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e28uYWRkKGUpLHImJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e28uZGVsZXRlKGUpfX19fWZ1bmN0aW9uIFYoKXtyZXR1cm57bmFtZTpmaW4ubWUubmFtZSx1dWlkOmZpbi5tZS51dWlkfX1mdW5jdGlvbiBNKCl7bGV0IGU7dHJ5e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoIXQ/LmlkZW50aXR5KXJldHVybjtlPXQuaWRlbnRpdHkudXVpZH1jYXRjaChlKXt9cmV0dXJuIGV9Y29uc3QgXz1cImRlcmVnaXN0ZXJlZCBvciBkb2VzIG5vdCBleGlzdFwiLCQ9bmV3IEVycm9yKGBwcm92aWRlciAke199YCkscT1uZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIiksRz1uZXcgRXJyb3IoXCJiYWQgcGF5bG9hZFwiKSxIPW5ldyBFcnJvcihcInN1YnNjcmlwdGlvbiByZWplY3RlZFwiKSxOPW5ldyBFcnJvcihgY2hhbm5lbCAke199YCksVT1uZXcgTWFwO2Z1bmN0aW9uIGooZSl7Y29uc3QgdD1YKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgTn1mdW5jdGlvbiBYKGUpe2NvbnN0IHQ9VS5nZXQoZSk7aWYodClyZXR1cm4gdH1mdW5jdGlvbiBLKGUsdCl7VS5zZXQoZSx0KX1jb25zdCBKPW5ldyBNYXA7ZnVuY3Rpb24geihlKXtKLmhhcyhlKXx8Si5zZXQoZSxuZXcgTWFwKTtjb25zdCB0PUouZ2V0KGUpO3JldHVybntnZXRSZXF1ZXN0c0ZvcklkZW50aXR5OmU9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybmAke2UudXVpZH06JHtlLm5hbWV9YH0oZSk7cmV0dXJuIHQuaGFzKG4pfHx0LnNldChuLG5ldyBNYXApLHQuZ2V0KG4pfX19YXN5bmMgZnVuY3Rpb24gWihlLHQpe3JldHVybihhd2FpdCBqKGUpKS5kaXNwYXRjaChnLHQpfWZ1bmN0aW9uIFEoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9KXtjb25zdCBuPUwuYmluZChudWxsLGUpLG89eihlKSxyPVouYmluZChudWxsLGUpO3JldHVybiBhc3luYyhlLGkpPT57aWYoIWV8fCFlLmlkfHwhZS5wcm92aWRlcklkKXtjb25zdCBlPUc7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3R7aWQ6cyxwcm92aWRlcklkOmF9PWUsYz1uKGEpO2lmKCFjKXtjb25zdCBlPSQ7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3QgZD1vLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkoaSk7bGV0IHU9ZC5nZXQoZS5pZCk7dXx8KHU9RSh0LHMsZSksZC5zZXQoZS5pZCx1KSk7Y29uc3QgcD14KCksbD0oKT0+e2NvbnN0IGU9cC5nZXRSZXN1bHRCdWZmZXIoKTtwLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3QgdD1wLmdldFJldm9rZWRCdWZmZXIoKTtwLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IG49cC5nZXRTdGF0dXMoKTtyKHtpZDpzLHByb3ZpZGVySWQ6YSxyZXN1bHRzOmUscmV2b2tlZDp0LHN0YXR1czpufSl9O2xldCBmPSEwLHc9ITE7cC5vbkNoYW5nZT0oKT0+e2lmKGYpcmV0dXJuIGY9ITEsdm9pZCBsKCk7d3x8KHc9ITAsc2V0VGltZW91dCgoKCk9Pnt3PSExLGwoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6dH09YXdhaXQgYy5vblVzZXJJbnB1dCh1LnJlcSxwLnJlcyksbj1wLmdldFN0YXR1cygpO3JldHVybntpZDpzLHByb3ZpZGVySWQ6YSxzdGF0dXM6bixyZXN1bHRzOmUsY29udGV4dDp0fX1jYXRjaChlKXtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsZXJyb3I6ZS5tZXNzYWdlfX19fWFzeW5jIGZ1bmN0aW9uIFkoZSx0LG4pe2NvbnN0IG89bnx8YXdhaXQgaihlKSxyPVYoKSxpPXtpZGVudGl0eTpyLC4uLnQsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSxzPWF3YWl0IG8uZGlzcGF0Y2goXCIyXCIsaSk7cmV0dXJuIGF3YWl0IGIoZSx7aWRlbnRpdHk6ciwuLi50fSksc31hc3luYyBmdW5jdGlvbiBlZShlLHQpe2NvbnN0IG49YXdhaXQgaihlKTtyZXR1cm4gYXdhaXQgbi5kaXNwYXRjaChcIjNcIix0KSxEKGUsdCl9YXN5bmMgZnVuY3Rpb24gdGUoZSx0LG4sbyl7Y29uc3Qgcj1BKG4sVigpLG8pLGk9TChlLHQpO2lmKGkpe2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6ZX09aTtpZighZSlyZXR1cm47cmV0dXJuIGUocil9Y29uc3Qgcz17cHJvdmlkZXJJZDp0LHJlc3VsdDpyfTtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goaCxzKX1hc3luYyBmdW5jdGlvbiBuZShlLHQpe2NvbnN0IG49ey4uLnQsY29udGV4dDp0Py5jb250ZXh0fHx7fX0sbz17fSxyPWFzeW5jIGZ1bmN0aW9uKihlLHQse3NldFN0YXRlOm59KXtjb25zdCBvPWF3YWl0IGooZSk7Zm9yKDs7KXtjb25zdCBlPWF3YWl0IG8uZGlzcGF0Y2goXCIxXCIsdCkscj1lLmVycm9yO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIpO2NvbnN0IGk9ZTtpZih0LmlkPWkuaWQsbihpLnN0YXRlKSxpLmRvbmUpcmV0dXJuIGkudmFsdWU7eWllbGQgaS52YWx1ZX19KGUsbix7c2V0U3RhdGU6ZT0+e28uc3RhdGU9ZX19KTtsZXQgaT1hd2FpdCByLm5leHQoKTtyZXR1cm4gby5pZD1uLmlkLG8uY2xvc2U9KCk9PnshYXN5bmMgZnVuY3Rpb24oZSx0KXsoYXdhaXQgaihlKSkuZGlzcGF0Y2goeSx7aWQ6dH0pfShlLG8uaWQpfSxvLm5leHQ9KCk9PntpZihpKXtjb25zdCBlPWk7cmV0dXJuIGk9dm9pZCAwLGV9cmV0dXJuIHIubmV4dCgpfSxvfWFzeW5jIGZ1bmN0aW9uIG9lKGUpe3JldHVybihhd2FpdCBqKGUpKS5kaXNwYXRjaChcIjRcIixudWxsKX1hc3luYyBmdW5jdGlvbiByZShlKXtjb25zdCB0PWF3YWl0IGooZSk7dmFyIG47bj1lLFUuZGVsZXRlKG4pLEYoZSksYXdhaXQgdC5kaXNjb25uZWN0KCl9ZnVuY3Rpb24gaWUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj16KHQpO3JldHVybiBhc3luYyBvPT57aWYoIVgodCkpcmV0dXJuO2NvbnN0IHI9bi5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG8pO2Zvcihjb25zdHtyZXE6ZSxjbG9zZTp0fW9mIHIudmFsdWVzKCkpdCgpLHIuZGVsZXRlKGUuaWQpO0sodCwoYXN5bmMgZT0+e2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49YXdhaXQgc2UoZSk7Zm9yKGNvbnN0IGUgb2YgQih0KSlhd2FpdCBZKHQsZSxuKTtyZXR1cm4gbn0pKGUpKX19YXN5bmMgZnVuY3Rpb24gc2UoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1TKHQpLG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDw1MDt0KyspdHJ5e3JldHVybiBhd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pfWNhdGNoKGUpe2lmKDQ5PT09dCl0aHJvdyBlO2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsMWUzKSkpfX0obik7cmV0dXJuIG8ucmVnaXN0ZXIoZyxRKGUpKSxvLnJlZ2lzdGVyKHksZnVuY3Rpb24oZSl7Y29uc3QgdD16KGUpO3JldHVybihlLG4pPT57Y29uc3Qgbz10LmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobikscj1vLmdldChlLmlkKTtyJiYoci5jbG9zZSgpLG8uZGVsZXRlKGUuaWQpKX19KHQpKSxvLnJlZ2lzdGVyKGgsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCBvPUwoZSx0LnByb3ZpZGVySWQpO2lmKCFvKXJldHVybjtjb25zdHtvblJlc3VsdERpc3BhdGNoOnJ9PW87cmV0dXJuIHI/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLHIodC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksby5vbkRpc2Nvbm5lY3Rpb24oaWUoZSkpLG99YXN5bmMgZnVuY3Rpb24gYWUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fHcsbj0oXCJzdHJpbmdcIj09dHlwZW9mIGU/bnVsbDplPy51dWlkKXx8TSgpLG89bShuLHQpLHI9e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOm99O2xldCBpPVgobyk7cmV0dXJuIGl8fChpPXNlKHIpLEsobyxpKSxhd2FpdCBpKSx7Z2V0QWxsUHJvdmlkZXJzOm9lLmJpbmQobnVsbCxvKSxyZWdpc3RlcjpZLmJpbmQobnVsbCxvKSxzZWFyY2g6bmUuYmluZChudWxsLG8pLGRlcmVnaXN0ZXI6ZWUuYmluZChudWxsLG8pLGRpc3BhdGNoOnRlLmJpbmQobnVsbCxvKSxkaXNjb25uZWN0OnJlLmJpbmQobnVsbCxvKX19Y29uc3QgY2U9bmV3IE1hcDtmdW5jdGlvbiBkZShlKXtjb25zdCB0PXVlKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgTn1mdW5jdGlvbiB1ZShlKXtjb25zdCB0PWNlLmdldChlKTtpZih0KXJldHVybiB0fWNvbnN0IHBlPW5ldyBNYXA7ZnVuY3Rpb24gbGUoZSx0KXtwZS5oYXMoZSl8fHBlLnNldChlLG5ldyBTZXQpLHBlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gZmUoZSx0KXtjb25zdCBuPXBlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiB3ZShlKXtyZXR1cm5bLi4uQihlKV0ubWFwKChlPT4oey4uLmUsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSkpKX1hc3luYyBmdW5jdGlvbiBnZShlLHQpe2lmKEwoZSx0LmlkKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIik7Y29uc3Qgbj1WKCk7YXdhaXQgYihlLHtpZGVudGl0eTpuLC4uLnR9KX1mdW5jdGlvbiBoZShlLHQpe0QoZSx0KX1hc3luYyBmdW5jdGlvbiB5ZShlLHQsbixvKXtjb25zdCByPUwoZSx0KTtpZighcil0aHJvdyAkO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6aX09cjtpZighaSlyZXR1cm47cmV0dXJuIGkoQShuLFYoKSxvKSl9YXN5bmMgZnVuY3Rpb24qdmUoZSx0LG4pe2NvbnN0IG89ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLG89W10scj1bXSxpPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9eChzLnNjb3JlT3JkZXIpLGE9e3Jlc3VsdHM6W10scHJvdmlkZXI6e2lkOnMuaWQsaWRlbnRpdHk6cy5pZGVudGl0eSx0aXRsZTpzLnRpdGxlLHNjb3JlT3JkZXI6cy5zY29yZU9yZGVyLGljb246cy5pY29uLGRpc3BhdGNoRm9jdXNFdmVudHM6cy5kaXNwYXRjaEZvY3VzRXZlbnRzfX07bi5wdXNoKGEpLG8ucHVzaChlKTtjb25zdCBjPShhc3luYygpPT57dHJ5e2NvbnN0e3Jlc3VsdHM6bixjb250ZXh0Om99PWF3YWl0IHMub25Vc2VySW5wdXQodCxlLnJlcyk7YS5yZXN1bHRzPU8oYS5yZXN1bHRzLG4pLGEuY29udGV4dD17Li4uYS5jb250ZXh0LC4uLm99fWNhdGNoKGUpe2EuZXJyb3I9ZX19KSgpO2MuZmluYWxseSgoKCk9PntjLmRvbmU9ITB9KSksaS5wdXNoKGMpLHIucHVzaChyLmxlbmd0aCl9cmV0dXJue3Byb3ZpZGVyUmVzcG9uc2VzOm4sbGlzdGVuZXJSZXNwb25zZXM6byxvcGVuTGlzdGVuZXJSZXNwb25zZXM6cixpbml0aWFsUmVzcG9uc2VQcm9taXNlczppfX0odC50YXJnZXRzP3QudGFyZ2V0cy5tYXAoKHQ9PkwoZSx0KSkpLmZpbHRlcigoZT0+ISFlKSk6Wy4uLkIoZSkuZmlsdGVyKChlPT4hZS5oaWRkZW4pKV0sdCkse3Byb3ZpZGVyUmVzcG9uc2VzOnIsbGlzdGVuZXJSZXNwb25zZXM6aX09bztsZXR7b3Blbkxpc3RlbmVyUmVzcG9uc2VzOnMsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6YX09byxjPWYuRGUuRmV0Y2hpbmc7Y29uc3QgZD1lPT57Yz1lLG4uc2V0U3RhdGUoYyl9O2xldCBwLGw9ITE7dC5vbkNsb3NlKCgoKT0+e2w9ITAscCYmcCgpfSkpO2Rve2xldCBlPSExO2lmKGEubGVuZ3RoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGEpbi5kb25lP2U9ITA6dC5wdXNoKG4pO2E9dCxhLmxlbmd0aHx8KGQoZi5EZS5GZXRjaGVkKSxlPSEwKX1sZXQgdCxuPSExO2NvbnN0IG89KCk9PntuPSEwLHQmJnQoKX0sdz1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPWlbdF0scz1yW3RdLGE9bi5nZXRTdGF0dXMoKTsoYT09PXUuT3Blbnx8Yz09PWYuRGUuRmV0Y2hpbmcmJmE9PT11LkluaXRpYWwpJiYody5wdXNoKHQpLG4ub25DaGFuZ2U9byk7Y29uc3QgZD1uLmdldFJlc3VsdEJ1ZmZlcigpO2QubGVuZ3RoJiYobi5zZXRSZXN1bHRCdWZmZXIoW10pLHMucmVzdWx0cz1PKHMucmVzdWx0cyxkKSxlPSEwKTtjb25zdCBwPW4uZ2V0UmV2b2tlZEJ1ZmZlcigpO2lmKHAubGVuZ3RoKXtuLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHQ9bmV3IFNldChwKTtzLnJlc3VsdHM9cy5yZXN1bHRzLmZpbHRlcigoKHtrZXk6ZX0pPT4hdC5oYXMoZSkpKSxlPSEwfX1pZihzPXcsZSYmKHlpZWxkIHIpLGwpYnJlYWs7bnx8KHMubGVuZ3RofHxhLmxlbmd0aCkmJmF3YWl0IFByb21pc2UucmFjZShbLi4uYSxuZXcgUHJvbWlzZSgoZT0+e3Q9ZX0pKSxuZXcgUHJvbWlzZSgoZT0+e3A9ZX0pKV0pfXdoaWxlKHMubGVuZ3RofHxhLmxlbmd0aCk7cmV0dXJuIGQoZi5EZS5Db21wbGV0ZSkscn1sZXQgbWU9MDtmdW5jdGlvbiBTZSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0sbil7bWUrPTE7Y29uc3Qgbz1FKHQsbWUudG9TdHJpbmcoKSxuKSxyPXZlKGUsby5yZXEse3NldFN0YXRlOmU9PntyLnN0YXRlPWV9fSk7cmV0dXJuIHIuaWQ9bWUudG9TdHJpbmcoKSxyLmNsb3NlPW8uY2xvc2Usci5zdGF0ZT1mLkRlLkZldGNoaW5nLHJ9Y29uc3QgUGU9bmV3IE1hcDtmdW5jdGlvbiBDZShlLHQpe3JldHVybmAke2V9OiR7dH1gfWZ1bmN0aW9uIGtlKGUpe3JldHVybiBhc3luYyh0LC4uLm4pPT57aWYoIXQpcmV0dXJue2Vycm9yOkcubWVzc2FnZX07bGV0IG87aWYodC5pZClvPUNlKGUubmFtZXNwYWNlZFRvcGljLHQuaWQpO2Vsc2V7Y29uc3Qgbj1TZShlLHQpO289Q2UoZS5uYW1lc3BhY2VkVG9waWMsbi5pZCksdC5pZD1uLmlkLFBlLnNldChvLHtnZW5lcmF0b3I6bn0pfWNvbnN0IHI9UGUuZ2V0KG8pO2NsZWFyVGltZW91dChyLnRpbWVvdXQpO2NvbnN0IGk9YXdhaXQgci5nZW5lcmF0b3IubmV4dCgpO3JldHVybiByLnRpbWVvdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e1BlLmRlbGV0ZShlKX0pLDFlNCl9KG8pLHsuLi5pLGlkOnQuaWQsc3RhdGU6ci5nZW5lcmF0b3Iuc3RhdGV9fX1mdW5jdGlvbiBXZShlLHQsbil7cmV0dXJuIGRlKGUpLmRpc3BhdGNoKHQseSx7aWQ6bn0pfWZ1bmN0aW9uIFJlKGUpe3JldHVybiB0PT5mdW5jdGlvbihlLHQpe2NvbnN0IG49Q2UoZSx0KSxvPVBlLmdldChuKTtvJiZvLmdlbmVyYXRvci5jbG9zZSgpfShlLHQuaWQpfWFzeW5jIGZ1bmN0aW9uIFRlKGUsdCx7aWQ6bixxdWVyeTpvLGNvbnRleHQ6cix0YXJnZXRzOml9KXtjb25zdCBzPWRlKGUpLGE9e2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppLHByb3ZpZGVySWQ6dC5pZH0sYz1hd2FpdCBzLmRpc3BhdGNoKHQuaWRlbnRpdHksZyxhKSxkPWMuZXJyb3I7aWYoZCl0aHJvdyBuZXcgRXJyb3IoZCk7cmV0dXJuIGN9Y29uc3QgSWU9bmV3IE1hcDtmdW5jdGlvbiBiZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0Lm5hbWV9OiR7dC51dWlkfToke259YH1jb25zdCBEZT1uZXcgTWFwO2Z1bmN0aW9uIEJlKGUsdCxuKXtyZXR1cm5gJHtlfToke3R9OiR7bn1gfWZ1bmN0aW9uIEZlKGUsdCl7Y29uc3Qgbj1iZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxvPVdlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLHI9VGUuYmluZChudWxsLGUsdCk7cmV0dXJuIGFzeW5jKGkscyk9Pntjb25zdCBhPW4oaS5pZCk7aWYoIUllLmhhcyhhKSl7Y29uc3QgZT0oKT0+e28oaS5pZCksSWUuZGVsZXRlKGEpfTtJZS5zZXQoYSxlKSxpLm9uQ2xvc2UoZSl9Y29uc3QgYz1CZShlLHQuaWQsaS5pZCksZD0oKT0+e0RlLmRlbGV0ZShjKSxzLmNsb3NlKCl9O2kub25DbG9zZShkKSxEZS5zZXQoYywoZT0+e2UucmVzdWx0cz8ubGVuZ3RoJiZzLnJlc3BvbmQoZS5yZXN1bHRzKSxlLnJldm9rZWQ/Lmxlbmd0aCYmcy5yZXZva2UoLi4uZS5yZXZva2VkKSxlLnN0YXR1cz09PXUuT3BlbiYmcy5vcGVuKCksZS5zdGF0dXM9PT11LkNsb3NlJiZkKCl9KSk7Y29uc3QgcD1hd2FpdCByKGkpO3JldHVybiBwLnN0YXR1cz09PXUuT3BlbiYmcy5vcGVuKCkscC5zdGF0dXMhPT11LkNsb3NlJiZwLnN0YXR1cyE9PXUuSW5pdGlhbHx8ZCgpLHB9fWZ1bmN0aW9uIExlKGUsdCl7cmV0dXJuIGFzeW5jIG49Pntjb25zdCBvPWRlKGUpLHI9e3Byb3ZpZGVySWQ6dC5pZCxyZXN1bHQ6bn07cmV0dXJuIG8uZGlzcGF0Y2godC5pZGVudGl0eSxoLHIpfX1jb25zdCBBZT1uZXcgTWFwO2Z1bmN0aW9uIE9lKGUsdCl7cmV0dXJuYCR7ZX0tJHt0Lm5hbWV9LSR7dC51dWlkfWB9ZnVuY3Rpb24geGUoZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQuaWQpcmV0dXJuIHZvaWQgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHQpKTtpZihMKGUsdC5pZCkpdGhyb3cgcTtyZXR1cm4gdC5pZGVudGl0eT1uLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1PZShlLHQuaWRlbnRpdHkpO0FlLmhhcyhuKXx8QWUuc2V0KG4sW10pLEFlLmdldChuKS5wdXNoKHQuaWQpLGF3YWl0IGIoZSx7Li4udCxvblVzZXJJbnB1dDpGZShlLHQpLG9uUmVzdWx0RGlzcGF0Y2g6TGUoZSx0KX0pfShlLHQpLHt3b3Jrc3BhY2VWZXJzaW9uOmkudTAsY2xpZW50QVBJVmVyc2lvbjp0LmNsaWVudEFQSVZlcnNpb259fX1mdW5jdGlvbiBFZShlKXtyZXR1cm4gdD0+e3QmJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1MKGUsdCk7aWYoIW4pcmV0dXJuO2NvbnN0IG89T2UoZSxuLmlkZW50aXR5KSxyPUFlLmdldChvKTtpZihyKXtjb25zdCBuPXIuZmluZEluZGV4KChlPT5lPT09dCkpOy0xIT09biYmKHIuc3BsaWNlKG4sMSksRChlLHQpKX19KGUsdCl9fWNvbnN0IFZlPW5ldyBNYXA7ZnVuY3Rpb24gTWUoZSx0KXtWZS5oYXMoZSl8fFZlLnNldChlLG5ldyBTZXQpLFZlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gX2UoZSx0KXtjb25zdCBuPVZlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiAkZShlKXtyZXR1cm4gYXN5bmMgdD0+eyFmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0KSxvPUFlLmdldChuKTtpZihvKXtmb3IoY29uc3QgdCBvZiBvKUQoZSx0KTtBZS5kZWxldGUobil9fShlLHQpO2NvbnN0IG49VmUuZ2V0KGUpO24mJm4uZm9yRWFjaCgoZT0+ZSh0KSkpfX1hc3luYyBmdW5jdGlvbiBxZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPVMoZS5uYW1lc3BhY2VkVG9waWMpLG89YXdhaXQocj1uLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKHIpKTt2YXIgcjtyZXR1cm4gby5vbkNvbm5lY3Rpb24oZnVuY3Rpb24oe25hbWVzcGFjZWRUb3BpYzplfSl7cmV0dXJuIGFzeW5jIHQ9Pntjb25zdCBuPXBlLmdldChlKTtpZihuKWZvcihjb25zdCBlIG9mIG4paWYoIWF3YWl0IGUodCkpdGhyb3cgSH19KGUpKSxvLm9uRGlzY29ubmVjdGlvbigkZSh0KSksby5yZWdpc3Rlcih5LFJlKHQpKSxvLnJlZ2lzdGVyKGcsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9Pntjb25zdCBuPUJlKGUsdC5wcm92aWRlcklkLHQuaWQpLG89RGUuZ2V0KG4pO28mJm8odCl9fSh0KSksby5yZWdpc3RlcihcIjJcIix4ZSh0KSksby5yZWdpc3RlcihcIjNcIixFZSh0KSksby5yZWdpc3RlcihcIjRcIixmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmMoKT0+d2UoZSl9KHQpKSxvLnJlZ2lzdGVyKFwiMVwiLGtlKGUpKSxvLnJlZ2lzdGVyKGgsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCBvPUwoZSx0LnByb3ZpZGVySWQpO2lmKCFvKXRocm93ICQ7Y29uc3R7b25SZXN1bHREaXNwYXRjaDpyfT1vO3JldHVybiByPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixyKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLG99YXN5bmMgZnVuY3Rpb24gR2UoZSl7Y29uc3QgdD1kZShlKTt2YXIgbjtuPWUsY2UuZGVsZXRlKG4pLGF3YWl0IHQuZGVzdHJveSgpLEYoZSl9YXN5bmMgZnVuY3Rpb24gSGUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fHcsbj1NKCksbz1tKG4sdCkscj17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6b307bGV0IGk9dWUobyk7aXx8KGk9YXdhaXQgcWUociksZnVuY3Rpb24oZSx0KXtjZS5zZXQoZSx0KX0obyxpKSk7Y29uc3Qgcz1mZS5iaW5kKG51bGwsbyksYT1fZS5iaW5kKG51bGwsbyksYz1rLmJpbmQobnVsbCxvKSxkPVQuYmluZChudWxsLG8pO3JldHVybntnZXRBbGxQcm92aWRlcnM6d2UuYmluZChudWxsLG8pLHNlYXJjaDpTZS5iaW5kKG51bGwscikscmVnaXN0ZXI6Z2UuYmluZChudWxsLG8pLGRlcmVnaXN0ZXI6aGUuYmluZChudWxsLG8pLG9uU3Vic2NyaXB0aW9uOmxlLmJpbmQobnVsbCxvKSxvbkRpc2Nvbm5lY3Q6TWUuYmluZChudWxsLG8pLG9uUmVnaXN0ZXI6Qy5iaW5kKG51bGwsbyksb25EZXJlZ2lzdGVyOlIuYmluZChudWxsLG8pLGRpc3BhdGNoOnllLmJpbmQobnVsbCxyKSxkaXNjb25uZWN0OkdlLmJpbmQobnVsbCxvKSxyZW1vdmVMaXN0ZW5lcjplPT57cyhlKSxhKGUpLGMoZSksZChlKX19fWNvbnN0e2NyZWF0ZTpOZX09cix7c3Vic2NyaWJlOlVlfT1vLGplPXtjcmVhdGU6TmUsc3Vic2NyaWJlOlVlLGRlZmF1bHRUb3BpYzpcImFsbFwifSxYZT0oKT0+e3dpbmRvdy5zZWFyY2g9amV9LEtlPWU9Pntjb25zdCB0PSgpPT57WGUoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpfTtyZXR1cm4gdH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7WGUoKTtjb25zdCBlPVwibG9hZFwiLHQ9S2UoZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZSx0KTtjb25zdCBuPVwiRE9NQ29udGVudExvYWRlZFwiLG89S2Uobik7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIobixvKX1jb25zdCBKZT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIHplKCl7YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7SmUuc2V0KGUsYXdhaXQgVWUoe3RvcGljOmUsdXVpZDpwLnE5LldvcmtzcGFjZX0pKX0oYyl9bGV0IFplO2FzeW5jIGZ1bmN0aW9uIFFlKGUpe3JldHVybiBhd2FpdCBhc3luYyBmdW5jdGlvbigpe3JldHVybiBaZXx8KFplPXplKCkpLFplfSgpLEplLmdldChlKX1jb25zdCBZZT1hc3luYyBlPT57aWYoIWUuaWNvbil0aHJvdyBuZXcgRXJyb3IoYCR7ZS5pZH0gcHJvdmlkZXIgbmVlZHMgdG8gaGF2ZSBpY29uIHByb3BlcnR5IGRlZmluZWQuYCk7YXdhaXQoMCxhLmFCKSgpO2NvbnN0IHQ9YXdhaXQgUWUoYyk7dHJ5e2UuY2xpZW50QVBJVmVyc2lvbj1pLnUwO2NvbnN0IG49YXdhaXQgdC5yZWdpc3RlcihlKTtyZXR1cm4oMCxzLmNrKSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb259KSxufWNhdGNoKGUpe3Rocm93KDAscy5jaykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxlfX0sZXQ9YXN5bmMgZT0+e2F3YWl0KDAsYS5hQikoKTtyZXR1cm4oYXdhaXQgUWUoYykpLmRlcmVnaXN0ZXIoZSl9O2FzeW5jIGZ1bmN0aW9uIHR0KCl7cmV0dXJuKGF3YWl0KDAsYS5YbCkoKSkuZGlzcGF0Y2goYS5XRi5TaG93SG9tZSx2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIG50KCl7cmV0dXJuKGF3YWl0KDAsYS5YbCkoKSkuZGlzcGF0Y2goYS5XRi5IaWRlSG9tZSx2b2lkIDApfX0sMjk4OihlLHQsbik9PntuLmQodCx7cDooKT0+by5weCx3OigpPT5vLnd0fSk7dmFyIG89bigzMTYpfSw0Mjc6KGUsdCxuKT0+e3ZhciBvO24uZCh0LHt2OigpPT5vfSksZnVuY3Rpb24oZSl7ZS5BY3Rpb25CdXR0b249XCJBY3Rpb25CdXR0b25cIixlLkRyb3Bkb3duQnV0dG9uPVwiRHJvcGRvd25CdXR0b25cIn0ob3x8KG89e30pKX0sNzU4OihlLHQsbik9Pnt2YXIgbyxyLGk7bi5kKHQse1B0OigpPT5vLGVsOigpPT5pLHlXOigpPT5yfSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpfSwxMTQ6KGUsdCxuKT0+e3ZhciBvLHI7bi5kKHQse0w6KCk9Pm8sVDooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHJ8fChyPXt9KSl9LDEwOTooZSx0LG4pPT57bi5kKHQse0dvOigpPT5yLFpKOigpPT5zLGJJOigpPT5pLHA2OigpPT5vfSk7Y29uc3Qgbz17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCJ9LHI9e1RleHQ6XCJUZXh0XCIsSW1hZ2U6XCJJbWFnZVwiLExpc3Q6XCJMaXN0XCJ9LGk9ey4uLm8sLi4ucn07dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShzfHwocz17fSkpfSw1Mjg6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7QXBwTWFuaWZlc3RUeXBlOigpPT5zLkwsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5zLlQsZGVyZWdpc3RlcjooKT0+ZyxoaWRlOigpPT5oLHJlZ2lzdGVyOigpPT53LHNob3c6KCk9Pnl9KTt2YXIgbz1uKDUzMikscj1uKDQzNiksaT1uKDgyKSxzPW4oMTE0KSxhPW4oNjc4KTtsZXQgYyxkPSExO2FzeW5jIGZ1bmN0aW9uIHUoZSx0LG4pe2NvbnN0IG89YXdhaXQoMCxyLkRtKSgpO3RyeXtyZXR1cm4gYXdhaXQgby5kaXNwYXRjaChlLmFjdGlvbixlLnBheWxvYWQpfWNhdGNoKHIpe2lmKC0xIT09ci50b1N0cmluZygpLmluZGV4T2YoZS5hY3Rpb24pKXJldHVybiBkPSEwLGF3YWl0IG8uZGlzcGF0Y2godC5hY3Rpb24sdC5wYXlsb2FkKSxuO3Rocm93IHJ9fWNvbnN0IHA9bmV3IE1hcCxsPWU9PntpZighcC5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IFByb3ZpZGVyIHdpdGggaWQgJHtlfSBpcyBub3QgcmVnaXN0ZXJlZGApO3JldHVybiBwLmdldChlKX0sZj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHIuWGwpKCk7aWYocC5oYXMoZS5pZCkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IHByb3ZpZGVyIHdpdGggaWQgJHtlLmlkfSBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcC5zZXQoZS5pZCxlKSwoZT0+e2UuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWR8fChlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzLChlPT5sKGUpLmdldEFwcHMoKSkpLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJGb290ZXIsKGU9PmwoZSkuZ2V0Rm9vdGVyKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2UsKGU9PmwoZSkuZ2V0TGFuZGluZ1BhZ2UoKSkpLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uLChlPT5sKGUpLmdldE5hdmlnYXRpb24oKSkpLGUucmVnaXN0ZXIoci5XRi5MYXVuY2hTdG9yZWZyb250UHJvdmlkZXJBcHAsKCh7aWQ6ZSxhcHA6dH0pPT5sKGUpLmxhdW5jaEFwcCh0KSkpKX0pKHQpLGUuY2xpZW50QVBJVmVyc2lvbj1hLnUwLHUoe2FjdGlvbjpyLldGLlJlZ2lzdGVyUHJvdmlkZXIscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udCxpbmZvOmV9fSx7YWN0aW9uOnIuV0YuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIscGF5bG9hZDplfSx7d29ya3NwYWNlVmVyc2lvbjpcInVua25vd25cIn0pfSx3PWU9PihjPW5ldyBQcm9taXNlKChhc3luYyh0LG4pPT57dHJ5e2NvbnN0IG49YXdhaXQgZihlKTsoMCxvLmQ5KSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb259KSx0KHtjbGllbnRBUElWZXJzaW9uOmEudTAsd29ya3NwYWNlVmVyc2lvbjpuLndvcmtzcGFjZVZlcnNpb258fFwiXCJ9KX1jYXRjaChlKXsoMCxvLmQ5KSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUubWVzc2FnZX0pLG4oZSl9fSkpLGMpLGc9YXN5bmMgZT0+KGF3YWl0IGMscC5kZWxldGUoZSksYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLkRlcmVnaXN0ZXJQcm92aWRlcixwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250LGlkOmV9fSx7YWN0aW9uOnIuV0YuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixwYXlsb2FkOmV9KSksaD1hc3luYygpPT4oYXdhaXQgYyxhd2FpdCgwLHIuYUIpKCksdSh7YWN0aW9uOnIuV0YuSGlkZVByb3ZpZGVyV2luZG93LHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnR9fSx7YWN0aW9uOnIuV0YuSGlkZVN0b3JlZnJvbnR9KSkseT1hc3luYygpPT4oYXdhaXQgYyxhd2FpdCgwLHIuYUIpKCksdSh7YWN0aW9uOnIuV0YuU2hvd1Byb3ZpZGVyV2luZG93LHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnR9fSx7YWN0aW9uOnIuV0YuU2hvd1N0b3JlZnJvbnR9KSl9LDQzNjooZSx0LG4pPT57bi5kKHQse1dGOigpPT5zLERtOigpPT5hLFhsOigpPT5wLGFCOigpPT51fSk7dmFyIG89big2NzgpO2NvbnN0IHI9by5BeCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7dmFyIGk9bigxMjEpO3ZhciBzOyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyUHJvdmlkZXI9XCJyZWdpc3Rlci1wcm92aWRlclwiLGUuRGVyZWdpc3RlclByb3ZpZGVyPVwiZGVyZWdpc3Rlci1wcm92aWRlclwiLGUuQ3JlYXRlUHJvdmlkZXJXaW5kb3c9XCJjcmVhdGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRQcm92aWRlcnM9XCJnZXQtcHJvdmlkZXJzXCIsZS5TaG93UHJvdmlkZXJXaW5kb3c9XCJzaG93LXByb3ZpZGVyLXdpbmRvd1wiLGUuSGlkZVByb3ZpZGVyV2luZG93PVwiaGlkZS1wcm92aWRlci13aW5kb3dcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93SG9tZT1cInNob3ctaG9tZVwiLGUuSGlkZUhvbWU9XCJoaWRlLWhvbWVcIixlLkFzc2lnbkhvbWVTZWFyY2hDb250ZXh0PVwiYXNzaWduLWhvbWUtc2VhcmNoLWNvbnRleHRcIixlLkdldExlZ2FjeVBhZ2VzPVwiZ2V0LWxlZ2FjeS1wYWdlc1wiLGUuR2V0TGVnYWN5V29ya3NwYWNlcz1cImdldC1sZWdhY3ktd29ya3NwYWNlc1wiLGUuR2V0Q29tcHV0ZWRQbGF0Zm9ybVRoZW1lPVwiZ2V0LWNvbXB1dGVkLXBsYXRmb3JtLXRoZW1lXCIsZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwifShzfHwocz17fSkpO2NvbnN0IGE9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighby5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCByO2NvbnN0IG49e2NsaWVudEFQSVZlcnNpb246by51MH0saT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpufSk7cmV0dXJuIGkub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57dD12b2lkIDB9KSksaX0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChuPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7bn1gKX0pKSksdH19KFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKSxjPVwiaXNMYXVuY2hlZFZpYUxpYlwiLGQ9ZT0+e2NvbnN0IHQ9bmV3IFVSTChlKTtyZXR1cm4gdC5zZWFyY2hQYXJhbXMuYXBwZW5kKGMsXCJ0cnVlXCIpLHQudG9TdHJpbmcoKX0sdT1hc3luYygpPT57aWYoIWF3YWl0KDAsaS5KVikoaS5pVykpcmV0dXJuKG8uWkt8fC0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2luXCIpKSYmYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGQoby5hVykpLGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGQoby5HWCkpfSxwPWFzeW5jKCk9Pihhd2FpdCB1KCksYSgpKX0sODI6KGUsdCxuKT0+e24uZCh0LHtSODooKT0+cyxYXzooKT0+aSxsUDooKT0+b30pO3ZhciBvLHI9big0MzYpOyFmdW5jdGlvbihlKXtlLlN0b3JlZnJvbnQ9XCJzdG9yZWZyb250XCIsZS5Eb2NrPVwiZG9ja1wifShvfHwobz17fSkpO2NvbnN0IGk9YXN5bmMgZT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5XRi5TaG93UHJvdmlkZXJXaW5kb3cse3Byb3ZpZGVyVHlwZTplfSkscz1hc3luYyBlPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLldGLkhpZGVQcm92aWRlcldpbmRvdyx7cHJvdmlkZXJUeXBlOmV9KX0sODA2OihlLHQsbik9PntuLmQodCx7cTk6KCk9Pm99KTt2YXIgbyxyLGkscz1uKDY3OCk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaXx8KGk9e30pKTtzLkFCLG8uV29ya3NwYWNlfSw2Nzg6KGUsdCxuKT0+e3ZhciBvO24uZCh0LHtBQjooKT0+YSxBeDooKT0+aSxHWDooKT0+dSxaSzooKT0+ZCxhVzooKT0+cCxvQzooKT0+YyxzUzooKT0+cix1MDooKT0+Zn0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ob3x8KG89e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxzPWk/d2luZG93Lm9yaWdpbjpvLkxvY2FsLGE9ciYmZmluLm1lLnV1aWQsYz1yJiZmaW4ubWUubmFtZSxkPShyJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PW8uTG9jYWwpLHU9KG8uRGV2LG8uU3RhZ2luZyxvLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLHA9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuMTQvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLGY9KGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjAuMTRcIiksbChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzkuMC4xNFwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZsKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI5LjAuMTRcIil9LDUzMjooZSx0LG4pPT57bi5kKHQse1duOigpPT5kLGNrOigpPT5hLGQ5OigpPT5jfSk7dmFyIG8scj1uKDY3OCksaT1uKDEyMSk7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0ob3x8KG89e30pKTtjb25zdCBzPWFzeW5jKGUsdCk9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci51MCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fHIudTAsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOm59KX0sYT1hc3luYyBlPT57aS5PSS51dWlkPT09aS5HaS51dWlkJiZpLk9JLm5hbWU9PT1pLkdpLm5hbWV8fHMoby5Ib21lLGUpfSxjPWFzeW5jIGU9PntzKG8uU3RvcmVmcm9udCxlKX0sZD1hc3luYyBlPT57cyhvLkRvY2ssZSl9fSwxMjE6KGUsdCxuKT0+e24uZCh0LHtHaTooKT0+ZCxKVjooKT0+bCxPSTooKT0+dSxpVzooKT0+cH0pO3ZhciBvLHIsaSxzPW4oODA2KSxhPW4oNjc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VkPVwiY2xvc2VkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkJlZm9yZVVubG9hZD1cImJlZm9yZXVubG9hZFwifShpfHwoaT17fSkpO2Z1bmN0aW9uIGMoZSl7aWYoIWEuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgZD17bmFtZTphLm9DLHV1aWQ6YS5BQn07Y29uc3QgdT17bmFtZTpvLkhvbWUsdXVpZDpzLnE5LldvcmtzcGFjZX0scD0oby5Eb2NrLHMucTkuV29ya3NwYWNlLG8uU3RvcmVmcm9udCxzLnE5LldvcmtzcGFjZSx7bmFtZTpzLnE5LldvcmtzcGFjZSx1dWlkOnMucTkuV29ya3NwYWNlfSk7Y29uc3QgbD1lPT5jKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSl9LDMxNjooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtEZTooKT0+byxweDooKT0+cix3dDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShpfHwoaT17fSkpfX0sdD17fTtmdW5jdGlvbiBuKG8pe3ZhciByPXRbb107aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBpPXRbb109e2V4cG9ydHM6e319O3JldHVybiBlW29dKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIG8gaW4gdCluLm8odCxvKSYmIW4ubyhlLG8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtlbnVtZXJhYmxlOiEwLGdldDp0W29dfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbz17fTsoKCk9PntuLnIobyksbi5kKG8se0FjdGlvblRyaWdnZXI6KCk9PlAucCxBcHBNYW5pZmVzdFR5cGU6KCk9PlcuTCxCdXR0b25TdHlsZTooKT0+Qy5aSixDTElBY3Rpb246KCk9PmsuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+ay5lbCxDTElUZW1wbGF0ZTooKT0+ay55VyxDb250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PkMucDYsRG9jazooKT0+ZSxEb2NrQnV0dG9uTmFtZXM6KCk9PmMudixIb21lOigpPT5oLExlZ2FjeTooKT0+dCxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PkMuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+UC53LFN0b3JlZnJvbnQ6KCk9PlMsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5XLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5DLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtEb2NrQnV0dG9uTmFtZXM6KCk9PmMudixkZXJlZ2lzdGVyOigpPT5sLG1pbmltaXplOigpPT5mLHJlZ2lzdGVyOigpPT5wLHNob3c6KCk9Pnd9KTt2YXIgdD17fTtuLnIodCksbi5kKHQse2dldFBhZ2VzOigpPT52LGdldFdvcmtzcGFjZXM6KCk9Pm19KTt2YXIgcj1uKDY3OCksaT1uKDUzMikscz1uKDQzNiksYT1uKDgyKSxjPW4oNDI3KTtsZXQgZCx1PSExO2NvbnN0IHA9ZT0+KGQ9bmV3IFByb21pc2UoKGFzeW5jKHQsbik9Pnt0cnl7Y29uc3Qgbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHMuWGwpKCk7aWYodSl0aHJvdyBuZXcgRXJyb3IoXCJBIGRvY2sgcHJvdmlkZXIgZm9yIHRoZSBwbGF0Zm9ybSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO3JldHVybiB1PSEwLGUuY2xpZW50QVBJVmVyc2lvbj1yLnUwLHQuZGlzcGF0Y2gocy5XRi5SZWdpc3RlclByb3ZpZGVyLHtwcm92aWRlclR5cGU6YS5sUC5Eb2NrLGluZm86ZX0pfSkoZSk7KDAsaS5Xbikoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksdCh7Y2xpZW50QVBJVmVyc2lvbjpyLnUwLHdvcmtzcGFjZVZlcnNpb246bi53b3Jrc3BhY2VWZXJzaW9ufHxcIlwifSl9Y2F0Y2goZSl7KDAsaS5Xbikoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxuKGUpLGQ9bnVsbH19KSksZCksbD1hc3luYygpPT57YXdhaXQgZCx1PSExO3JldHVybihhd2FpdCgwLHMuWGwpKCkpLmRpc3BhdGNoKHMuV0YuRGVyZWdpc3RlclByb3ZpZGVyLHtwcm92aWRlclR5cGU6YS5sUC5Eb2NrfSl9LGY9YXN5bmMoKT0+e2F3YWl0IGQsYXdhaXQoMCxzLmFCKSgpLGF3YWl0KDAsYS5SOCkoYS5sUC5Eb2NrKX0sdz1hc3luYygpPT57YXdhaXQgZCxhd2FpdCgwLHMuYUIpKCksYXdhaXQoMCxhLlhfKShhLmxQLkRvY2spfTt2YXIgZyxoPW4oNzAzKTtuKDEyMSk7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifShnfHwoZz17fSkpO25ldyBNYXA7dmFyIHk7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIn0oeXx8KHk9e30pKTtjb25zdCB2PSgpPT5hc3luYyBmdW5jdGlvbigpe3JldHVybihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuV0YuR2V0TGVnYWN5UGFnZXMsdm9pZCAwKX0oKSxtPSgpPT4oYXN5bmMoKT0+KGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5XRi5HZXRMZWdhY3lXb3Jrc3BhY2VzLHZvaWQgMCkpKCk7dmFyIFM9big1MjgpLFA9bigyOTgpLEM9bigxMDkpLGs9big3NTgpLFc9bigxMTQpfSkoKSxtb2R1bGUuZXhwb3J0cz1vfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGRlcmVnaXN0ZXIsIHJlZ2lzdGVyLCBzaG93IH0gZnJvbSBcIi4vaG9tZVwiO1xuaW1wb3J0IHsgZGVyZWdpc3RlciBhcyBkZXJlZ2lzdGVySW50ZWdyYXRpb24sIHJlZ2lzdGVyIGFzIHJlZ2lzdGVySW50ZWdyYXRpb24gfSBmcm9tIFwiLi9pbnRlZ3JhdGlvbnNcIjtcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XG5cdC8vIHlvdSBjYW4ga2ljayBvZmYgeW91ciBib290c3RyYXBwaW5nIHByb2Nlc3MgaGVyZSB3aGVyZSB5b3UgbWF5IGRlY2lkZSB0byBwcm9tcHQgZm9yIGF1dGhlbnRpY2F0aW9uLFxuXHQvLyBnYXRoZXIgcmVmZXJlbmNlIGRhdGEgZXRjIGJlZm9yZSBzdGFydGluZyB3b3Jrc3BhY2UgYW5kIGludGVyYWN0aW5nIHdpdGggaXQuXG5cdGNvbnNvbGUubG9nKFwiSW5pdGlhbGlzaW5nIHRoZSBib290c3RyYXBwZXJcIik7XG5cdGNvbnN0IHNldHRpbmdzID0gYXdhaXQgZ2V0U2V0dGluZ3MoKTtcblxuXHRhd2FpdCByZWdpc3RlcigpO1xuXHRhd2FpdCBzaG93KCk7XG5cblx0YXdhaXQgcmVnaXN0ZXJJbnRlZ3JhdGlvbihcblx0XHR7XG5cdFx0XHRvcGVuVXJsOiBhc3luYyAodXJsKSA9PiBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3Nlcih1cmwpXG5cdFx0fSxcblx0XHRzZXR0aW5ncy5pbnRlZ3JhdGlvblByb3ZpZGVyXG5cdCk7XG5cblx0Y29uc3QgcHJvdmlkZXJXaW5kb3cgPSBmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCk7XG5cdGF3YWl0IHByb3ZpZGVyV2luZG93Lm9uY2UoXCJjbG9zZS1yZXF1ZXN0ZWRcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0YXdhaXQgZGVyZWdpc3RlckludGVncmF0aW9uKHNldHRpbmdzLmludGVncmF0aW9uUHJvdmlkZXIpO1xuXHRcdGF3YWl0IGRlcmVnaXN0ZXIoKTtcblx0XHRhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCk7XG5cdH0pO1xufVxuIiwiaW1wb3J0IHtcblx0SG9tZSxcblx0SG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdEhvbWVQcm92aWRlcixcblx0SG9tZVNlYXJjaExpc3RlbmVyUmVxdWVzdCxcblx0SG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2UsXG5cdEhvbWVTZWFyY2hSZXNwb25zZVxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgeyBnZXRIZWxwU2VhcmNoRW50cmllcywgZ2V0U2VhcmNoUmVzdWx0cywgaXRlbVNlbGVjdGlvbiB9IGZyb20gXCIuL2ludGVncmF0aW9uc1wiO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5sZXQgaXNIb21lUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG5cdGNvbnNvbGUubG9nKFwiSW5pdGlhbGlzaW5nIGhvbWUuXCIpO1xuXHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdGlmIChcblx0XHRzZXR0aW5ncy5ob21lUHJvdmlkZXIgPT09IHVuZGVmaW5lZCB8fFxuXHRcdHNldHRpbmdzLmhvbWVQcm92aWRlci5pZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0c2V0dGluZ3MuaG9tZVByb3ZpZGVyLnRpdGxlID09PSB1bmRlZmluZWRcblx0KSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XCJob21lUHJvdmlkZXI6IG5vdCBjb25maWd1cmVkIGluIHRoZSBjdXN0b21TZXR0aW5ncyBvZiB5b3VyIG1hbmlmZXN0IGNvcnJlY3RseS4gRW5zdXJlIHlvdSBoYXZlIHRoZSBob21lUHJvdmlkZXIgb2JqZWN0IGRlZmluZWQgaW4gY3VzdG9tU2V0dGluZ3Mgd2l0aCB0aGUgZm9sbG93aW5nIGRlZmluZWQ6IGlkLCB0aXRsZVwiXG5cdFx0KTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRsZXQgbGFzdFJlc3BvbnNlOiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZTtcblxuXHRjb25zdCBvblVzZXJJbnB1dCA9IGFzeW5jIChcblx0XHRyZXF1ZXN0OiBIb21lU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LFxuXHRcdHJlc3BvbnNlOiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuXHQpOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT4gPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBxdWVyeSA9IHJlcXVlc3QucXVlcnkudG9Mb3dlckNhc2UoKTtcblx0XHRcdGlmIChsYXN0UmVzcG9uc2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRsYXN0UmVzcG9uc2UuY2xvc2UoKTtcblx0XHRcdH1cblx0XHRcdGxhc3RSZXNwb25zZSA9IHJlc3BvbnNlO1xuXHRcdFx0bGFzdFJlc3BvbnNlLm9wZW4oKTtcblxuXHRcdFx0Y29uc3Qgc2VhcmNoUmVzdWx0czogSG9tZVNlYXJjaFJlc3BvbnNlID0ge1xuXHRcdFx0XHRyZXN1bHRzOiBbXSxcblx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdGZpbHRlcnM6IFtdXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGlmIChxdWVyeSA9PT0gXCI/XCIpIHtcblx0XHRcdFx0c2VhcmNoUmVzdWx0cy5yZXN1bHRzID0gc2VhcmNoUmVzdWx0cy5yZXN1bHRzLmNvbmNhdChhd2FpdCBnZXRIZWxwU2VhcmNoRW50cmllcygpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGludGVncmF0aW9uUmVzdWx0cyA9IGF3YWl0IGdldFNlYXJjaFJlc3VsdHMocXVlcnksIHVuZGVmaW5lZCwgbGFzdFJlc3BvbnNlKTtcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW50ZWdyYXRpb25SZXN1bHRzLnJlc3VsdHMpKSB7XG5cdFx0XHRcdFx0c2VhcmNoUmVzdWx0cy5yZXN1bHRzID0gc2VhcmNoUmVzdWx0cy5yZXN1bHRzLmNvbmNhdChpbnRlZ3JhdGlvblJlc3VsdHMucmVzdWx0cyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW50ZWdyYXRpb25SZXN1bHRzLmNvbnRleHQuZmlsdGVycykpIHtcblx0XHRcdFx0XHRzZWFyY2hSZXN1bHRzLmNvbnRleHQuZmlsdGVycyA9IHNlYXJjaFJlc3VsdHMuY29udGV4dC5maWx0ZXJzLmNvbmNhdChcblx0XHRcdFx0XHRcdGludGVncmF0aW9uUmVzdWx0cy5jb250ZXh0LmZpbHRlcnNcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWFyY2hSZXN1bHRzO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkV4Y2VwdGlvbiB3aGlsZSBnZXR0aW5nIHNlYXJjaCBsaXN0IHJlc3VsdHNcIiwgZXJyKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3Qgb25TZWxlY3Rpb24gPSBhc3luYyAocmVzdWx0OiBIb21lRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCkgPT4ge1xuXHRcdGlmIChyZXN1bHQuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBoYW5kbGVkID0gYXdhaXQgaXRlbVNlbGVjdGlvbihyZXN1bHQsIGxhc3RSZXNwb25zZSk7XG5cblx0XHRcdGlmICghaGFuZGxlZCkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYFJlc3VsdCBub3QgaGFuZGxlZCAke3Jlc3VsdC5rZXl9YCwgcmVzdWx0LmRhdGEpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gZXhlY3V0ZSByZXN1bHQgd2l0aG91dCBkYXRhIGJlaW5nIHBhc3NlZFwiKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgY2xpUHJvdmlkZXI6IEhvbWVQcm92aWRlciA9IHtcblx0XHR0aXRsZTogc2V0dGluZ3MuaG9tZVByb3ZpZGVyLnRpdGxlLFxuXHRcdGlkOiBzZXR0aW5ncy5ob21lUHJvdmlkZXIuaWQsXG5cdFx0aWNvbjogc2V0dGluZ3MuaG9tZVByb3ZpZGVyLmljb24sXG5cdFx0b25Vc2VySW5wdXQsXG5cdFx0b25SZXN1bHREaXNwYXRjaDogb25TZWxlY3Rpb24sXG5cdFx0ZGlzcGF0Y2hGb2N1c0V2ZW50czogdHJ1ZVxuXHR9O1xuXG5cdGF3YWl0IEhvbWUucmVnaXN0ZXIoY2xpUHJvdmlkZXIpO1xuXHRpc0hvbWVSZWdpc3RlcmVkID0gdHJ1ZTtcblx0Y29uc29sZS5sb2coXCJIb21lIGNvbmZpZ3VyZWQuXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvdygpIHtcblx0cmV0dXJuIEhvbWUuc2hvdygpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGlkZSgpIHtcblx0cmV0dXJuIEhvbWUuaGlkZSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVyZWdpc3RlcigpIHtcblx0aWYgKGlzSG9tZVJlZ2lzdGVyZWQpIHtcblx0XHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdFx0cmV0dXJuIEhvbWUuZGVyZWdpc3RlcihzZXR0aW5ncy5ob21lUHJvdmlkZXIuaWQpO1xuXHR9XG5cdGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBkZXJlZ2lzdGVyIGhvbWUgYXMgdGhlcmUgaXMgYW4gaW5kaWNhdGlvbiBpdCB3YXMgbmV2ZXIgcmVnaXN0ZXJlZFwiKTtcbn1cbiIsImltcG9ydCB0eXBlIHtcblx0SG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdENMSUZpbHRlcixcblx0SG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2UsXG5cdEhvbWVTZWFyY2hSZXNwb25zZSxcblx0SG9tZVNlYXJjaFJlc3VsdFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSB7XG5cdEludGVncmF0aW9uLFxuXHRJbnRlZ3JhdGlvbk1hbmFnZXIsXG5cdEludGVncmF0aW9uTW9kdWxlLFxuXHRJbnRlZ3JhdGlvblByb3ZpZGVyT3B0aW9uc1xufSBmcm9tIFwiLi9pbnRlZ3JhdGlvbnMtc2hhcGVzXCI7XG5cbmNvbnN0IGtub3duSW50ZWdyYXRpb25Qcm92aWRlcnM6IHsgW2lkOiBzdHJpbmddOiBJbnRlZ3JhdGlvbk1vZHVsZTx1bmtub3duPiB9ID0ge307XG5cbmNvbnN0IGhvbWVJbnRlZ3JhdGlvbnM6IHtcblx0bW9kdWxlOiBJbnRlZ3JhdGlvbk1vZHVsZTx1bmtub3duPjtcblx0aW50ZWdyYXRpb246IEludGVncmF0aW9uPHVua25vd24+O1xufVtdID0gW107XG5cbi8qKlxuICogUmVnaXN0ZXIgYWxsIHRoZSB3b3Jrc3BhY2UgaW50ZWdyYXRpb25zLlxuICogQHBhcmFtIGludGVncmF0aW9uTWFuYWdlciBUaGUgaW50ZWdyYXRpb24gbWFuYWdlci5cbiAqIEBwYXJhbSBpbnRlZ3JhdGlvblByb3ZpZGVyIFRoZSBpbnRlZ3JhdGlvbiBwcm92aWRlciBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKFxuXHRpbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlcixcblx0aW50ZWdyYXRpb25Qcm92aWRlcj86IEludGVncmF0aW9uUHJvdmlkZXJPcHRpb25zXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgaW50ZWdyYXRpb25zID0gaW50ZWdyYXRpb25Qcm92aWRlcj8uaW50ZWdyYXRpb25zO1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnRlZ3JhdGlvbnMpKSB7XG5cdFx0Zm9yIChjb25zdCBpbnRlZ3JhdGlvbiBvZiBpbnRlZ3JhdGlvbnMpIHtcblx0XHRcdGlmIChpbnRlZ3JhdGlvbi5lbmFibGVkKSB7XG5cdFx0XHRcdGlmICgha25vd25JbnRlZ3JhdGlvblByb3ZpZGVyc1tpbnRlZ3JhdGlvbi5pZF0gJiYgaW50ZWdyYXRpb24ubW9kdWxlVXJsKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IG1vZCA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGludGVncmF0aW9uLm1vZHVsZVVybCk7XG5cdFx0XHRcdFx0XHRrbm93bkludGVncmF0aW9uUHJvdmlkZXJzW2ludGVncmF0aW9uLmlkXSA9IG1vZC5pbnRlZ3JhdGlvbjtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgbW9kdWxlICR7aW50ZWdyYXRpb24ubW9kdWxlVXJsfWAsIGVycik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChrbm93bkludGVncmF0aW9uUHJvdmlkZXJzW2ludGVncmF0aW9uLmlkXSkge1xuXHRcdFx0XHRcdGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiA9IGtub3duSW50ZWdyYXRpb25Qcm92aWRlcnNbaW50ZWdyYXRpb24uaWRdO1xuXHRcdFx0XHRcdGhvbWVJbnRlZ3JhdGlvbnMucHVzaCh7XG5cdFx0XHRcdFx0XHRtb2R1bGU6IGhvbWVJbnRlZ3JhdGlvbixcblx0XHRcdFx0XHRcdGludGVncmF0aW9uXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5yZWdpc3Rlcikge1xuXHRcdFx0XHRcdFx0YXdhaXQgaG9tZUludGVncmF0aW9uLnJlZ2lzdGVyKGludGVncmF0aW9uTWFuYWdlciwgaW50ZWdyYXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiTWlzc2luZyBtb2R1bGUgaW4gaW50ZWdyYXRpb24gcHJvdmlkZXJzXCIsIGludGVncmF0aW9uLmlkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIERlcmVnaXN0ZXIgYWxsIHRoZSBpbnRlZ3JhdGlvbnMuXG4gKiBAcGFyYW0gaW50ZWdyYXRpb25Qcm92aWRlciBUaGUgaW50ZWdyYXRpb24gcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXJlZ2lzdGVyKGludGVncmF0aW9uUHJvdmlkZXI/OiBJbnRlZ3JhdGlvblByb3ZpZGVyT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuXHRmb3IgKGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiBvZiBob21lSW50ZWdyYXRpb25zKSB7XG5cdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZGVyZWdpc3Rlcikge1xuXHRcdFx0YXdhaXQgaG9tZUludGVncmF0aW9uLm1vZHVsZS5kZXJlZ2lzdGVyKGhvbWVJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvbik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogR2V0IHRoZSBzZWFyY2ggcmVzdWx0cyBmcm9tIGFsbCB0aGUgaW50ZWdyYXRpb24gcHJvdmlkZXJzLlxuICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBnZXQgdGhlIHNlYXJjaCByZXN1bHRzIGZvci5cbiAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5IHRvIHRoZSBzZWFyY2ggcmVzdWx0cy5cbiAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3Qgc2VhcmNoIHJlc3BvbnNlIHVzZWQgZm9yIHVwZGF0aW5nIGV4aXN0aW5nIHJlc3VsdHMuXG4gKiBAcmV0dXJucyBUaGUgc2VhcmNoIHJlc3VsdHMgYW5kIG5ldyBmaWx0ZXJzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0cyhcblx0cXVlcnk6IHN0cmluZyxcblx0ZmlsdGVyczogQ0xJRmlsdGVyW10sXG5cdGxhc3RSZXNwb25zZTogSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcbik6IFByb21pc2U8SG9tZVNlYXJjaFJlc3BvbnNlPiB7XG5cdGNvbnN0IGhvbWVSZXNwb25zZTogSG9tZVNlYXJjaFJlc3BvbnNlID0ge1xuXHRcdHJlc3VsdHM6IFtdLFxuXHRcdGNvbnRleHQ6IHtcblx0XHRcdGZpbHRlcnM6IFtdXG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IHByb21pc2VzOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT5bXSA9IFtdO1xuXHRmb3IgKGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiBvZiBob21lSW50ZWdyYXRpb25zKSB7XG5cdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZ2V0U2VhcmNoUmVzdWx0cykge1xuXHRcdFx0cHJvbWlzZXMucHVzaChcblx0XHRcdFx0aG9tZUludGVncmF0aW9uLm1vZHVsZS5nZXRTZWFyY2hSZXN1bHRzKGhvbWVJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvbiwgcXVlcnksIGZpbHRlcnMsIGxhc3RSZXNwb25zZSlcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgcHJvbWlzZVJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuXHRmb3IgKGNvbnN0IHByb21pc2VSZXN1bHQgb2YgcHJvbWlzZVJlc3VsdHMpIHtcblx0XHRpZiAocHJvbWlzZVJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHByb21pc2VSZXN1bHQudmFsdWUucmVzdWx0cykpIHtcblx0XHRcdFx0aG9tZVJlc3BvbnNlLnJlc3VsdHMgPSBob21lUmVzcG9uc2UucmVzdWx0cy5jb25jYXQocHJvbWlzZVJlc3VsdC52YWx1ZS5yZXN1bHRzKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IG5ld0ZpbHRlcnMgPSBwcm9taXNlUmVzdWx0LnZhbHVlLmNvbnRleHQ/LmZpbHRlcnM7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShuZXdGaWx0ZXJzKSAmJiBob21lUmVzcG9uc2UuY29udGV4dD8uZmlsdGVycykge1xuXHRcdFx0XHRob21lUmVzcG9uc2UuY29udGV4dC5maWx0ZXJzID0gaG9tZVJlc3BvbnNlLmNvbnRleHQuZmlsdGVycy5jb25jYXQobmV3RmlsdGVycyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IocHJvbWlzZVJlc3VsdC5yZWFzb24pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBob21lUmVzcG9uc2U7XG59XG5cbi8qKlxuICogR2V0IHRoZSBoZWxwIHNlYXJjaCBlbnRyaWVzIGZvciBhbGwgdGhlIGludGVncmF0aW9uIHByb3ZpZGVycy5cbiAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIGhlbHAgZW50cmllcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEhlbHBTZWFyY2hFbnRyaWVzKCk6IFByb21pc2U8SG9tZVNlYXJjaFJlc3VsdFtdPiB7XG5cdGxldCByZXN1bHRzOiBIb21lU2VhcmNoUmVzdWx0W10gPSBbXTtcblxuXHRmb3IgKGNvbnN0IGhvbWVJbnRlZ3JhdGlvbiBvZiBob21lSW50ZWdyYXRpb25zKSB7XG5cdFx0aWYgKGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZ2V0SGVscFNlYXJjaEVudHJpZXMpIHtcblx0XHRcdGNvbnN0IGludGVncmF0aW9uUmVzdWx0cyA9IGF3YWl0IGhvbWVJbnRlZ3JhdGlvbi5tb2R1bGUuZ2V0SGVscFNlYXJjaEVudHJpZXMoXG5cdFx0XHRcdGhvbWVJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvblxuXHRcdFx0KTtcblx0XHRcdHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChpbnRlZ3JhdGlvblJlc3VsdHMpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIFRoZSBpdGVtIGZvciBvbmUgb2YgdGhlIHByb3ZpZGVycyB3YXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0gcmVzdWx0IFRoZSByZXN1bHQgb2YgdGhlIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3QgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzZWxlY3Rpb24gd2FzIGhhbmRsZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpdGVtU2VsZWN0aW9uKFxuXHRyZXN1bHQ6IEhvbWVEaXNwYXRjaGVkU2VhcmNoUmVzdWx0LFxuXHRsYXN0UmVzcG9uc2U/OiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdGlmIChyZXN1bHQuZGF0YSkge1xuXHRcdGNvbnN0IGZvdW5kSW50ZWdyYXRpb24gPSBob21lSW50ZWdyYXRpb25zLmZpbmQoKGhpKSA9PiBoaS5pbnRlZ3JhdGlvbi5pZCA9PT0gcmVzdWx0LmRhdGE/LnByb3ZpZGVySWQpO1xuXG5cdFx0aWYgKGZvdW5kSW50ZWdyYXRpb24/Lm1vZHVsZT8uaXRlbVNlbGVjdGlvbikge1xuXHRcdFx0Y29uc3QgaGFuZGxlZCA9IGF3YWl0IGZvdW5kSW50ZWdyYXRpb24ubW9kdWxlLml0ZW1TZWxlY3Rpb24oXG5cdFx0XHRcdGZvdW5kSW50ZWdyYXRpb24uaW50ZWdyYXRpb24sXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0bGFzdFJlc3BvbnNlXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoIWhhbmRsZWQpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gaGFuZGxlICR7Zm91bmRJbnRlZ3JhdGlvbi5pbnRlZ3JhdGlvbi5pZH0gZW50cnlgLCByZXN1bHQuZGF0YSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBoYW5kbGVkO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYW4gaW50ZWdyYXRpb24gbW9kdWxlIHRoYXQgd2FzIGxvYWRlZCBtYW51YWxseS5cbiAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIG1vZHVsZS5cbiAqIEBwYXJhbSBtb2R1bGUgVGhlIG1vZHVsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEtub3duSW50ZWdyYXRpb25Qcm92aWRlcihpZDogc3RyaW5nLCBtb2R1bGU6IEludGVncmF0aW9uTW9kdWxlPHVua25vd24+KTogdm9pZCB7XG5cdGtub3duSW50ZWdyYXRpb25Qcm92aWRlcnNbaWRdID0gbW9kdWxlO1xufVxuIiwiaW1wb3J0IHsgaW5pdCBhcyB3b3Jrc3BhY2VQbGF0Zm9ybUluaXQsIEJyb3dzZXJJbml0Q29uZmlnIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuaW1wb3J0IHsgZ2V0VGhlbWVzIH0gZnJvbSBcIi4vdGhlbWVzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCkge1xuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyBwbGF0Zm9ybVwiKTtcblx0Y29uc3QgYnJvd3NlcjogQnJvd3NlckluaXRDb25maWcgPSB7fTtcblxuXHRjb25zdCB0aGVtZSA9IGF3YWl0IGdldFRoZW1lcygpO1xuXG5cdGF3YWl0IHdvcmtzcGFjZVBsYXRmb3JtSW5pdCh7XG5cdFx0YnJvd3Nlcixcblx0XHR0aGVtZVxuXHR9KTtcbn1cbiIsImltcG9ydCB7IEN1c3RvbVNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmxldCBzZXR0aW5nczogQ3VzdG9tU2V0dGluZ3M7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbmZpZ3VyZWRTZXR0aW5ncygpOiBQcm9taXNlPEN1c3RvbVNldHRpbmdzPiB7XG5cdGNvbnN0IGFwcCA9IGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCk7XG5cdGNvbnN0IG1hbmlmZXN0OiBPcGVuRmluLk1hbmlmZXN0ICYgeyBjdXN0b21TZXR0aW5ncz86IEN1c3RvbVNldHRpbmdzIH0gPSBhd2FpdCBhcHAuZ2V0TWFuaWZlc3QoKTtcblxuXHRpZiAobWFuaWZlc3QuY3VzdG9tU2V0dGluZ3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdHNldHRpbmdzID0gbWFuaWZlc3QuY3VzdG9tU2V0dGluZ3M7XG5cdH0gZWxzZSB7XG5cdFx0c2V0dGluZ3MgPSB7fTtcblx0fVxuXG5cdHJldHVybiBzZXR0aW5ncztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmdzKCk6IFByb21pc2U8Q3VzdG9tU2V0dGluZ3M+IHtcblx0aWYgKHNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcblx0XHRzZXR0aW5ncyA9IGF3YWl0IGdldENvbmZpZ3VyZWRTZXR0aW5ncygpO1xuXHR9XG5cdHJldHVybiBzZXR0aW5ncztcbn1cbiIsImltcG9ydCB7IEN1c3RvbVRoZW1lcyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcbmltcG9ydCB7IEN1c3RvbVBhbGV0dGVTZXQsIEN1c3RvbVRoZW1lT3B0aW9ucyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vY29tbW9uL3NyYy9hcGkvdGhlbWluZ1wiO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5jb25zdCBERUZBVUxUX1BBTEVUVEVTID0ge1xuXHRsaWdodDoge1xuXHRcdGJyYW5kUHJpbWFyeTogXCIjNTA0Q0ZGXCIsXG5cdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzFFMUYyM1wiLFxuXHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiNGQUZCRkVcIixcblx0XHRiYWNrZ3JvdW5kMTogXCIjRkZGRkZGXCIsXG5cdFx0YmFja2dyb3VuZDI6IFwiI0ZBRkJGRVwiLFxuXHRcdGJhY2tncm91bmQzOiBcIiNGM0Y1RjhcIixcblx0XHRiYWNrZ3JvdW5kNDogXCIjRUNFRUYxXCIsXG5cdFx0YmFja2dyb3VuZDU6IFwiI0REREZFNFwiLFxuXHRcdGJhY2tncm91bmQ2OiBcIiNDOUNCRDJcIixcblx0XHRzdGF0dXNTdWNjZXNzOiBcIiMzNUM3NTlcIixcblx0XHRzdGF0dXNXYXJuaW5nOiBcIiNGNDhGMDBcIixcblx0XHRzdGF0dXNDcml0aWNhbDogXCIjQkUxRDFGXCIsXG5cdFx0c3RhdHVzQWN0aXZlOiBcIiMwNDk4RkJcIixcblx0XHRpbnB1dEJhY2tncm91bmQ6IFwiI0VDRUVGMVwiLFxuXHRcdGlucHV0Q29sb3I6IFwiIzFFMUYyM1wiLFxuXHRcdGlucHV0UGxhY2Vob2xkZXI6IFwiIzM4M0E0MFwiLFxuXHRcdGlucHV0RGlzYWJsZWQ6IFwiIzdEODA4QVwiLFxuXHRcdGlucHV0Rm9jdXNlZDogXCIjQzlDQkQyXCIsXG5cdFx0dGV4dERlZmF1bHQ6IFwiIzFFMUYyM1wiLFxuXHRcdHRleHRIZWxwOiBcIiMyRjMxMzZcIixcblx0XHR0ZXh0SW5hY3RpdmU6IFwiIzdEODA4QVwiXG5cdH0sXG5cdGRhcms6IHtcblx0XHRicmFuZFByaW1hcnk6IFwiIzUwNENGRlwiLFxuXHRcdGJyYW5kU2Vjb25kYXJ5OiBcIiMzODNBNDBcIixcblx0XHRiYWNrZ3JvdW5kUHJpbWFyeTogXCIjMUUxRjIzXCIsXG5cdFx0YmFja2dyb3VuZDE6IFwiIzExMTIxNFwiLFxuXHRcdGJhY2tncm91bmQyOiBcIiMxRTFGMjNcIixcblx0XHRiYWNrZ3JvdW5kMzogXCIjMjQyNjJCXCIsXG5cdFx0YmFja2dyb3VuZDQ6IFwiIzJGMzEzNlwiLFxuXHRcdGJhY2tncm91bmQ1OiBcIiMzODNBNDBcIixcblx0XHRiYWNrZ3JvdW5kNjogXCIjNTM1NjVGXCIsXG5cdFx0c3RhdHVzU3VjY2VzczogXCIjMzVDNzU5XCIsXG5cdFx0c3RhdHVzV2FybmluZzogXCIjRjQ4RjAwXCIsXG5cdFx0c3RhdHVzQ3JpdGljYWw6IFwiI0JFMUQxRlwiLFxuXHRcdHN0YXR1c0FjdGl2ZTogXCIjMDQ5OEZCXCIsXG5cdFx0aW5wdXRCYWNrZ3JvdW5kOiBcIiM1MzU2NUZcIixcblx0XHRpbnB1dENvbG9yOiBcIiNGRkZGRkZcIixcblx0XHRpbnB1dFBsYWNlaG9sZGVyOiBcIiNDOUNCRDJcIixcblx0XHRpbnB1dERpc2FibGVkOiBcIiM3RDgwOEFcIixcblx0XHRpbnB1dEZvY3VzZWQ6IFwiI0M5Q0JEMlwiLFxuXHRcdHRleHREZWZhdWx0OiBcIiNGRkZGRkZcIixcblx0XHR0ZXh0SGVscDogXCIjQzlDQkQyXCIsXG5cdFx0dGV4dEluYWN0aXZlOiBcIiM3RDgwOEFcIlxuXHR9XG59O1xuXG5sZXQgdmFsaWRhdGVkVGhlbWVzOiBDdXN0b21UaGVtZXM7XG5cbmZ1bmN0aW9uIGdldFN5c3RlbVByZWZlcnJlZENvbG9yU2NoZW1lKCk6IFwibGlnaHRcIiB8IFwiZGFya1wiIHtcblx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhPy4oXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcblx0XHRyZXR1cm4gXCJkYXJrXCI7XG5cdH1cblx0cmV0dXJuIFwibGlnaHRcIjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRUaGVtZSgpOiBQcm9taXNlPEN1c3RvbVRoZW1lT3B0aW9ucz4ge1xuXHRjb25zdCB0aGVtZXMgPSBhd2FpdCBnZXRUaGVtZXMoKTtcblx0aWYgKHRoZW1lcy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGFiZWw6IFwiZGVmYXVsdFwiLFxuXHRcdFx0cGFsZXR0ZTogREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdGhlbWVzWzBdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGhlbWVzKCk6IFByb21pc2U8Q3VzdG9tVGhlbWVzPiB7XG5cdGlmICghdmFsaWRhdGVkVGhlbWVzKSB7XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBnZXRTZXR0aW5ncygpO1xuXHRcdHZhbGlkYXRlZFRoZW1lcyA9IHZhbGlkYXRlVGhlbWVzKHNldHRpbmdzPy50aGVtZVByb3ZpZGVyPy50aGVtZXMpO1xuXHR9XG5cdHJldHVybiB2YWxpZGF0ZWRUaGVtZXMuc2xpY2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGhlbWVzKHRoZW1lczogQ3VzdG9tVGhlbWVzKTogQ3VzdG9tVGhlbWVzIHtcblx0Y29uc3QgY3VzdG9tVGhlbWVzOiBDdXN0b21UaGVtZXMgPSBbXTtcblxuXHRpZiAoQXJyYXkuaXNBcnJheSh0aGVtZXMpKSB7XG5cdFx0Y29uc3QgcHJlZmVycmVkQ29sb3JTY2hlbWUgPSBnZXRTeXN0ZW1QcmVmZXJyZWRDb2xvclNjaGVtZSgpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGVtZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHRoZW1lVG9WYWxpZGF0ZSA9IHRoZW1lc1tpXTtcblx0XHRcdGNvbnN0IHBhbGV0dGUgPSB2YWxpZGF0ZVBhbGV0dGUodGhlbWVUb1ZhbGlkYXRlLnBhbGV0dGUsIHRoZW1lVG9WYWxpZGF0ZS5sYWJlbCk7XG5cdFx0XHRpZiAocGFsZXR0ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHR0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSA9IHBhbGV0dGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBkb24ndCBwYXNzIGFuIGVtcHR5IG9iamVjdCBhcyB0aGVyZSBhcmUgbm8gdGhlbWUgcHJvcGVydGllc1xuXHRcdFx0XHR0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGlmICh0aGVtZVRvVmFsaWRhdGUubGFiZWwudG9Mb3dlckNhc2UoKSA9PT0gcHJlZmVycmVkQ29sb3JTY2hlbWUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0YEZvdW5kIGEgdGhlbWUgdGhhdCBtYXRjaGVzIHN5c3RlbSBjb2xvciBzY2hlbWUgcHJlZmVyZW5jZXMgYW5kIG1ha2luZyBpdCB0aGUgZGVmYXVsdCB0aGVtZTogJHtwcmVmZXJyZWRDb2xvclNjaGVtZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGN1c3RvbVRoZW1lcy51bnNoaWZ0KHRoZW1lVG9WYWxpZGF0ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXN0b21UaGVtZXMucHVzaCh0aGVtZVRvVmFsaWRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjdXN0b21UaGVtZXM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUGFsZXR0ZShcblx0dGhlbWVQYWxldHRlOiBDdXN0b21QYWxldHRlU2V0IHwgdW5kZWZpbmVkLFxuXHR0aGVtZUxhYmVsOiBzdHJpbmdcbik6IEN1c3RvbVBhbGV0dGVTZXQgfCBudWxsIHtcblx0aWYgKCF0aGVtZVBhbGV0dGUpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGVtZVBhbGV0dGUpO1xuXHRpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IHBhbGV0dGU6IEN1c3RvbVBhbGV0dGVTZXQgPSB7XG5cdFx0Li4uREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdH07XG5cblx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuXHRcdGlmIChcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldICE9PSBudWxsICYmXG5cdFx0XHR0aGVtZVBhbGV0dGVba2V5XS50cmltKCkubGVuZ3RoID4gMFxuXHRcdCkge1xuXHRcdFx0cGFsZXR0ZVtrZXldID0gdGhlbWVQYWxldHRlW2tleV07XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgYnJhbmRQcmltYXJ5S2V5ID0gXCJicmFuZFByaW1hcnlcIjtcblx0Y29uc3QgYnJhbmRTZWNvbmRhcnlLZXkgPSBcImJyYW5kU2Vjb25kYXJ5XCI7XG5cdGNvbnN0IGJhY2tncm91bmRQcmltYXJ5S2V5ID0gXCJiYWNrZ3JvdW5kUHJpbWFyeVwiO1xuXG5cdGlmICghdGhlbWVQYWxldHRlW2JyYW5kUHJpbWFyeUtleV0pIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgVGhlbWU6ICR7dGhlbWVMYWJlbH0gOiAke2JyYW5kUHJpbWFyeUtleX0gbm90IHNwZWNpZmllZCAoaXQgaXMgcmVxdWlyZWQgaWYgc3BlY2lmeWluZyBvdGhlciB0aGVtZSBwYWxldHRlIHNldHRpbmdzKS4gUHJvdmlkaW5nIGRlZmF1bHQgb2Y6ICR7REVGQVVMVF9QQUxFVFRFUy5kYXJrLmJyYW5kUHJpbWFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdGlmICghdGhlbWVQYWxldHRlW2JyYW5kU2Vjb25kYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YnJhbmRTZWNvbmRhcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke0RFRkFVTFRfUEFMRVRURVMuZGFyay5icmFuZFNlY29uZGFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdGlmICghdGhlbWVQYWxldHRlW2JhY2tncm91bmRQcmltYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YmFja2dyb3VuZFByaW1hcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke0RFRkFVTFRfUEFMRVRURVMuZGFyay5icmFuZFByaW1hcnl9YFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gcGFsZXR0ZTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBpbml0IGFzIGJvb3RzdHJhcCB9IGZyb20gXCIuL2Jvb3RzdHJhcHBlclwiO1xuaW1wb3J0IHsgaW5pdCBhcyBpbml0aWFsaXNlUGxhdGZvcm0gfSBmcm9tIFwiLi9wbGF0Zm9ybVwiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHRjb25zdCBwbGF0Zm9ybSA9IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO1xuXHRhd2FpdCBwbGF0Zm9ybS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsIGFzeW5jICgpID0+IGJvb3RzdHJhcCgpKTtcblx0YXdhaXQgaW5pdGlhbGlzZVBsYXRmb3JtKCk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==