/******/ var __webpack_modules__ = ({

/***/ "./client/src/framework/utils.ts":
/*!***************************************!*\
  !*** ./client/src/framework/utils.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formatError: () => (/* binding */ formatError),
/* harmony export */   isBoolean: () => (/* binding */ isBoolean),
/* harmony export */   isEmpty: () => (/* binding */ isEmpty),
/* harmony export */   isInteger: () => (/* binding */ isInteger),
/* harmony export */   isNumber: () => (/* binding */ isNumber),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   isStringValue: () => (/* binding */ isStringValue),
/* harmony export */   objectClone: () => (/* binding */ objectClone),
/* harmony export */   randomUUID: () => (/* binding */ randomUUID),
/* harmony export */   sanitizeString: () => (/* binding */ sanitizeString)
/* harmony export */ });
/**
 * Test if a value is a undefined or null.
 * @param value The value to test.
 * @returns True if the value is null or undefined.
 */
function isEmpty(value) {
    // eslint-disable-next-line no-restricted-syntax
    return value === undefined || value === null;
}
/**
 * Test if a value is an object.
 * @param value The value to test.
 * @returns True if the value is an object.
 */
function isObject(value) {
    // eslint-disable-next-line no-restricted-syntax
    return value !== undefined && value !== null && typeof value === "object";
}
/**
 * Test if a value is a string.
 * @param value The value to test.
 * @returns True if the value is a string.
 */
function isString(value) {
    // eslint-disable-next-line no-restricted-syntax
    return value !== undefined && value !== null && typeof value === "string";
}
/**
 * Test if a value is a string that is not empty.
 * @param value The value to test.
 * @returns True if the value is a string that is not empty.
 */
function isStringValue(value) {
    return isString(value) && value.trim().length > 0;
}
/**
 * Test if a value is a number.
 * @param value The value to test.
 * @returns True if the value is a number.
 */
function isNumber(value) {
    // eslint-disable-next-line no-restricted-syntax
    return value !== undefined && value !== null && typeof value === "number";
}
/**
 * Test if a value is a boolean.
 * @param value The value to test.
 * @returns True if the value is a boolean.
 */
function isBoolean(value) {
    // eslint-disable-next-line no-restricted-syntax
    return value !== undefined && value !== null && typeof value === "boolean";
}
/**
 * Test if a value is an integer.
 * @param value The value to test.
 * @returns True if the value is an integer.
 */
function isInteger(value) {
    return isNumber(value) && Number.isInteger(value);
}
/**
 * Deep clone an object.
 * @param obj The object to clone.
 * @returns The clone of the object.
 */
function objectClone(obj) {
    // eslint-disable-next-line no-restricted-syntax
    return obj === undefined ? undefined : JSON.parse(JSON.stringify(obj));
}
/**
 * Polyfills randomUUID if running in a non-secure context.
 * @returns The random UUID.
 */
function randomUUID() {
    if ("randomUUID" in window.crypto) {
        // eslint-disable-next-line no-restricted-syntax
        return window.crypto.randomUUID();
    }
    // Polyfill the window.crypto.randomUUID if we are running in a non secure context that doesn't have it
    // we are still using window.crypto.getRandomValues which is always available
    // https://stackoverflow.com/a/2117523/2800218
    /**
     * Get random hex value.
     * @param c The number to base the random value on.
     * @returns The random value.
     */
    function getRandomHex(c) {
        // eslint-disable-next-line no-bitwise
        const rnd = window.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4));
        return (
        // eslint-disable-next-line no-bitwise
        (Number(c) ^ rnd).toString(16));
    }
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, getRandomHex);
}
/**
 * Format an error to a readable string.
 * @param err The error to format.
 * @returns The formatted error.
 */
function formatError(err) {
    if (err instanceof Error) {
        return err.message;
    }
    else if (typeof err === "string") {
        return err;
    }
    return JSON.stringify(err);
}
/**
 * A basic string sanitize function that removes angle brackets <> from a string.
 * @param content the content to sanitize
 * @returns a string without angle brackets <>
 */
function sanitizeString(content) {
    if (isString(content)) {
        return content.replace(/<[^>]*>?/gm, "");
    }
    return content;
}


/***/ }),

/***/ "./client/src/modules/auth/openid-connect/auth.ts":
/*!********************************************************!*\
  !*** ./client/src/modules/auth/openid-connect/auth.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OpenIdConnectProvider: () => (/* binding */ OpenIdConnectProvider)
/* harmony export */ });
/* harmony import */ var _openfin_openid_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/openid-connect */ "../../node_modules/@openfin/openid-connect/openfin.openid-connect.mjs");
/* harmony import */ var workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! workspace-platform-starter/utils */ "./client/src/framework/utils.ts");


/**
 * Implementation for the openid connect auth provider.
 */
class OpenIdConnectProvider {
    /**
     * Create a new instance of OpenIdConnectProvider.
     */
    constructor() {
        this._subscribeIdMap = {};
        this._eventSubscribers = {};
    }
    /**
     * Initialize the module.
     * @param definition The definition of the module from configuration include custom options.
     * @param loggerCreator For logging entries.
     * @param helpers Helper methods for the module to interact with the application core.
     * @returns Nothing.
     */
    async initialize(definition, loggerCreator, helpers) {
        this._definition = definition;
        this._logger = loggerCreator("OpenIdConnectProvider");
        this._logger.info("Initializing");
        if (this._definition.data?.enableLogging) {
            (0,_openfin_openid_connect__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
        }
        const providerUrl = this._definition.data?.providerUrl;
        const clientId = this._definition.data?.clientId;
        const loginRedirectUrl = this._definition.data?.loginRedirectUrl;
        const logoutRedirectUrl = this._definition.data?.logoutRedirectUrl;
        if (!(0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(providerUrl)) {
            this._logger.error("providerUrl is not configured");
        }
        if (!(0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(clientId)) {
            this._logger.error("ClientId is not configured");
        }
        if (!(0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(loginRedirectUrl)) {
            this._logger.error("loginRedirectUrl is not configured");
        }
        if (!(0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(logoutRedirectUrl)) {
            this._logger.error("logoutRedirectUrl is not configured");
        }
    }
    /**
     * Close down any resources being used by the module.
     * @returns Nothing.
     */
    async closedown() {
        this._logger?.info("Closedown");
        if (this._sessionExpiryTimerId) {
            window.clearTimeout(this._sessionExpiryTimerId);
            this._sessionExpiryTimerId = undefined;
        }
    }
    /**
     * Subscribe to one of the auth events.
     * @param to The event to subscribe to.
     * @param callback The callback to fire when the event occurs.
     * @returns Subscription id for unsubscribing or undefined if event type is not available.
     */
    subscribe(to, callback) {
        const subscriptionId = (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.randomUUID)();
        const toMap = this._eventSubscribers[to] ?? {};
        toMap[subscriptionId] = callback;
        this._eventSubscribers[to] = toMap;
        this._subscribeIdMap[subscriptionId] = to;
        this._logger?.info(`Subscription to ${to} events registered. Subscription Id: ${subscriptionId}`);
        return subscriptionId;
    }
    /**
     * Unsubscribe from an already subscribed event.
     * @param subscriptionId The id of the subscription returned from subscribe.
     * @returns True if the unsubscribe was successful.
     */
    unsubscribe(subscriptionId) {
        const eventType = this._subscribeIdMap[subscriptionId];
        if ((0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(eventType)) {
            this._logger?.warn(`You have tried to unsubscribe with a key ${subscriptionId} that is invalid`);
            return false;
        }
        const eventSubscribers = this._eventSubscribers[eventType];
        if (!(0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(eventSubscribers)) {
            delete eventSubscribers[subscriptionId];
        }
        if (this._subscribeIdMap[subscriptionId]) {
            delete this._subscribeIdMap[subscriptionId];
            this._logger?.info(`Subscription to ${eventType} events with subscription Id: ${subscriptionId} has been cleared`);
            return true;
        }
        this._logger?.warn(`Subscription to ${eventType} events with subscription Id: ${subscriptionId} could not be cleared as we do not have a register of that event type.`);
        return false;
    }
    /**
     * Does the auth provider require authentication.
     * @returns True if authentication is required.
     */
    async isAuthenticationRequired() {
        return (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(this._authResult);
    }
    /**
     * Perform the login operation on the auth provider.
     * @returns True if the login was successful.
     */
    async login() {
        const providerUrl = this._definition?.data?.providerUrl;
        const clientId = this._definition?.data?.clientId;
        const loginRedirectUrl = this._definition?.data?.loginRedirectUrl;
        const scopes = this._definition?.data?.scopes;
        if ((0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(providerUrl) && (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(clientId) && (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(loginRedirectUrl)) {
            try {
                this._authResult = await (0,_openfin_openid_connect__WEBPACK_IMPORTED_MODULE_0__.authenticate)(providerUrl, clientId, loginRedirectUrl, scopes);
                await this.notifySubscribers("logged-in");
                this.checkForSessionExpiry();
                return true;
            }
            catch (err) {
                this._logger?.error("Authentication failed", (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.formatError)(err));
            }
        }
        return false;
    }
    /**
     * Perform the logout operation on the auth provider.
     * @returns True if the logout was successful.
     */
    async logout() {
        if (this._authResult) {
            if (this._sessionExpiryTimerId) {
                window.clearTimeout(this._sessionExpiryTimerId);
                this._sessionExpiryTimerId = undefined;
            }
            const logoutRedirectUrl = this._definition?.data?.logoutRedirectUrl;
            if ((0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(logoutRedirectUrl)) {
                try {
                    await this.notifySubscribers("before-logged-out");
                    await this._authResult.logout(logoutRedirectUrl);
                }
                catch (err) {
                    this._logger?.error("Logout failed", (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.formatError)(err));
                }
                finally {
                    await this.notifySubscribers("logged-out");
                }
            }
            this._authResult = undefined;
        }
        return true;
    }
    /**
     * Get user information from the auth provider.
     * @returns The user information, the type is unknown as it is dependent on the auth provider.
     */
    async getUserInfo() {
        if (this._authResult) {
            return this._authResult.userInfo;
        }
    }
    /**
     * Notify subscribers of an event change.
     * @param authEventType The type of authentication event to send to.
     */
    async notifySubscribers(authEventType) {
        const subscribers = this._eventSubscribers[authEventType];
        if (subscribers) {
            const subscriberIds = Object.keys(subscribers);
            subscriberIds.reverse();
            for (const subscriberId of subscriberIds) {
                this._logger?.info(`Notifying subscriber with subscription Id: ${subscriberId} of event type: ${authEventType}`);
                await subscribers[subscriberId]();
            }
        }
    }
    /**
     * Check to see if a session has expired.
     */
    checkForSessionExpiry() {
        const validity = this._definition?.data?.checkSessionValidityInSeconds;
        if ((0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isNumber)(validity) && validity > 0 && (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(this._sessionExpiryTimerId)) {
            this._sessionExpiryTimerId = window.setTimeout(async () => {
                this._sessionExpiryTimerId = undefined;
                const idToken = this._authResult?.idToken;
                const providerUrl = this._definition?.data?.providerUrl;
                const clientId = this._definition?.data?.clientId;
                let isValid = false;
                if ((0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(idToken) && (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(providerUrl) && (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.isStringValue)(clientId)) {
                    try {
                        const result = await (0,_openfin_openid_connect__WEBPACK_IMPORTED_MODULE_0__.validateIdToken)(idToken, clientId, providerUrl);
                        isValid = result.valid;
                    }
                    catch (err) {
                        this._logger?.error("Failed validating token", (0,workspace_platform_starter_utils__WEBPACK_IMPORTED_MODULE_1__.formatError)(err));
                    }
                }
                if (isValid) {
                    this._logger?.info("Session Still Active");
                    this.checkForSessionExpiry();
                }
                else {
                    this._logger?.info("Session not valid");
                    this._authResult = undefined;
                    await this.notifySubscribers("session-expired");
                }
            }, validity * 1000);
        }
    }
}


/***/ }),

/***/ "../../node_modules/@openfin/openid-connect/openfin.openid-connect.mjs":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@openfin/openid-connect/openfin.openid-connect.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiError: () => (/* binding */ Ve),
/* harmony export */   AuthenticationError: () => (/* binding */ Be),
/* harmony export */   InitializationError: () => (/* binding */ Xe),
/* harmony export */   LogoutError: () => (/* binding */ Ye),
/* harmony export */   ParameterError: () => (/* binding */ Qe),
/* harmony export */   ValidationError: () => (/* binding */ Ze),
/* harmony export */   authenticate: () => (/* binding */ et),
/* harmony export */   disableLogging: () => (/* binding */ tt),
/* harmony export */   enableLogging: () => (/* binding */ rt),
/* harmony export */   validateIdToken: () => (/* binding */ ot)
/* harmony export */ });
var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{MS:()=>R,_7:()=>AuthenticationError,cX:()=>P,zL:()=>LogoutError,_W:()=>x,p8:()=>j,YR:()=>ze,U$:()=>Je,U7:()=>Ue,OF:()=>He});var r={d:(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},o={};r.d(o,{MS:()=>ApiError,cF:()=>ApiRequestError,AK:()=>AuthTokenExpiredError,M_:()=>AuthorizationError,cX:()=>InitializationError,Yd:()=>w,O4:()=>T,_W:()=>ParameterError,p8:()=>ValidationError,m$:()=>s,U$:()=>u,U7:()=>h,OV:()=>d,N7:()=>A,HP:()=>n,Rp:()=>O});class ApiError extends Error{constructor(e,t){var r,o;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:"An unexpected error has occurred"),this.name=this.constructor.name,this.stack=(e?this.stack:null!==(o=null==t?void 0:t.stack)&&void 0!==o?o:this.stack).replace(/^(\w*Error)/,`${this.constructor.name}`)}}class ApiRequestError extends ApiError{constructor(e,t,r){var o;super(e=null!==(o=null!=e?e:null==r?void 0:r.message)&&void 0!==o?o:"An error occurred when executing the API request",r),this.status=t}}class AuthorizationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:"An authorization error occurred",t)}}class AuthTokenExpiredError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:"The API request failed as the authorization tokens have expired",t)}}class InitializationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:"An initialization error occurred",t)}}class ParameterError extends ApiError{constructor(e){super(e=null!=e?e:"Invalid parameter detected")}}class ValidationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:"A token validation error occurred",t)}}const n=()=>void 0!==crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>{const t=window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4;return(Number(e)^t).toString(16)})),a="oauth-api-auth-flow",i=(e,t,r,o,n,a,i,s)=>async c=>{const d=new URL(c);if(0!==d.href.toLowerCase().indexOf(n.toLowerCase()))return!1;if(window.clearInterval(s),window.clearTimeout(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),d.searchParams.get("error")){const e=new AuthorizationError("Authorization error");return e.data=d.toString(),i(e),!0}if(d.searchParams.get("state")!==o){const e=new AuthorizationError("State mismatch");return e.data=d.toString(),i(e),!0}const l=d.searchParams.get("code");if(!l){const e=new AuthorizationError("Authorization code missing");return e.data=d.toString(),i(e),!0}return a(l),!0},s=async(e,t,r={})=>{const{defaultHeight:o,defaultWidth:n}=r;return t(await fin.Window.create(Object.assign({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:null!=o?o:750,defaultWidth:null!=n?n:600,includeInSnapshots:!1,name:a,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:e},r)))},c=(e,t,r)=>o=>new Promise(((n,a)=>{let s;const c=window.setTimeout((()=>{window.clearInterval(s),window.clearTimeout(c),o.removeAllListeners(),o.close(!0),a(new AuthorizationError("Authorization timed out"))}),3e5);o.addListener("closing",(async()=>{r.logInfo("User closed auth window"),window.clearInterval(s),window.clearTimeout(c),o.removeAllListeners(),a(new AuthorizationError("Failed to complete authorization code flow"))}));const d=window.setTimeout((async()=>{try{await o.isShowing()||(r.logInfo("Showing auth window"),await o.show(!0),await o.focus())}catch(e){r.logWarning("Unable to show auth window")}}),2e3);(async()=>{const{version:l}=await fin.System.getRuntimeInfo();parseInt(l.split(".")[0],10)>=30?await i(o,c,d,e,t,n,a)((await o.getInfo()).url)||await o.addListener("url-changed",(s=>{r.logInfo("Auth window navigated to",s.url),i(o,c,d,e,t,n,a)(s.url)})):s=window.setInterval((()=>(async(e,t,r,o,n,a,s,c)=>{let d;try{d=await e.getInfo()}catch(e){return window.clearInterval(t),window.clearTimeout(r),window.clearTimeout(o),c(new AuthorizationError("Could not locate auth window")),!1}return i(e,r,o,n,a,s,c,t)(d.url)})(o,s,c,d,e,t,n,a)),500)})()})),d=async(e,t)=>{let r;null==t||t.logInfo("Retrieving authorization server metadata",e);try{r=new URL(e)}catch(e){throw new ParameterError("Unexpected invalid discovery URL")}const o=await fetch(r,{headers:{Accept:"application/json"}});if(!o.ok)throw new Error("Failed to retrieve authorization server metadata");const n=await o.json();if(!n)throw new Error("Unexpected empty authorization server metadata response");return null==t||t.logInfo("Retrieved authorization server metadata",n),n},l=e=>{let t=fin.Integrations;t||(fin.Integrations={},t=fin.Integrations);let r=t[e];return r||(t[e]={},r=t[e]),r},u=e=>{l(e).loggingEnabled=!1},h=(e,t="0.0.0")=>{l(e).loggingEnabled=!0,console.log(p(e),`v${t}`)},p=e=>`[@openfin/${e.toLowerCase()}]`;class w{constructor(e){this.name=e,this.prefix=p(e),this.isLoggingEnabled=this.isLoggingEnabled.bind(this),this.logError=this.logError.bind(this),this.logInfo=this.logInfo.bind(this),this.logWarning=this.logWarning.bind(this)}isLoggingEnabled(){return l(this.name).loggingEnabled}logError(e){this.isLoggingEnabled()&&(e.innerError?console.error(this.prefix,e,"\n\n(inner)",e.innerError):console.error(this.prefix,e))}logInfo(...e){this.isLoggingEnabled()&&console.log(this.prefix,...e)}logWarning(...e){this.isLoggingEnabled()&&console.warn(this.prefix,...e)}}const g=()=>{let e,t,r,o,n;const a=async(t,r=!1)=>{const{command:o,data:n,id:s}=t,c={command:o,id:s};try{if(!e)throw new Error("Access token not found");const{apiRequestUrl:o,data:s,headers:d,httpMethod:l,includeAuthorization:u}=n,h=await(async(t,r,o,n,a)=>{var i,s;const c=Object.assign({Accept:"application/json"},n);"PATCH"!==r&&"POST"!==r&&"PUT"!==r||/content-type/i.test(Object.keys(c).join(","))||(c["Content-Type"]="application/json"),a&&(c.Authorization=`Bearer ${e}`);const d=await fetch(t,{body:"object"==typeof o?JSON.stringify(o):o,headers:c,method:r});if(!d.ok){const e={message:"Failed to execute API request"};return(null===(i=d.headers.get("Content-Type"))||void 0===i?void 0:i.includes("application/json"))&&(e.data=await d.json()),[d.status,void 0,void 0,e]}let l;const u=null!==(s=d.headers.get("Content-Type"))&&void 0!==s?s:"";switch(!0){case!u:break;case/^application\/(\w+\+)?json/i.test(u):l=await d.json();break;case/^multipart\/form-?data|^application\/x-?www-?form-?urlencoded/i.test(u):l=await d.formData();break;case/^application\/(([^/]+)?xml|vnd\.openxmlformats)|^text\/|^image\/svg/i.test(u):l=await d.text();break;default:l=await d.arrayBuffer()}return[d.status,l,u,void 0]})(o,l,s,d,u),[p,w,g,f]=h;if(c.status=p,f){if(!r&&401===p){const[e,r]=await i();return r?(c.status=e,c.error=r,c):await a(t,!0)}c.error=f}else w&&(c.data=w,c.type=g)}catch(e){e instanceof Error?c.error={message:e.message}:c.error={message:"Failed to execute API request"}}return Promise.resolve(c)},i=async()=>{var r;if(!o)throw new Error("Authorization server metadata not set");if(!t)throw new Error("Client ID not set");const a=`grant_type=refresh_token&client_id=${t}&refresh_token=${n}`,i=await fetch(o.token_endpoint,{body:a,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(!i.ok){const e={message:"Failed to refresh access token"};return(null===(r=i.headers.get("Content-Type"))||void 0===r?void 0:r.includes("application/json"))&&(e.data=await i.json()),[i.status,e]}const s=await i.json();return e=s.access_token,[i.status]};self.onmessage=async i=>{const{command:s,id:c}=i.data;let d={command:s,id:c};switch(s){case"API_REQUEST":d=await a(i.data);break;case"CODE_EXCHANGE":d=await(async a=>{var i;const{command:s,data:c,id:d}=a,l={command:s,id:d};try{if(!o)throw new Error("Authorization server metadata not set");if(!t)throw new Error("Client ID not set");const{code:a,codeVerifier:s,redirectUri:d}=c,u=`grant_type=authorization_code&client_id=${t}&code=${a}&code_verifier=${s}&redirect_uri=${d}`,h=await fetch(o.token_endpoint,{body:u,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(h.ok){const t=await h.json();e=t.access_token,r=t.id_token,n=t.refresh_token}else{const e={message:"Failed to retrieve tokens"};(null===(i=h.headers.get("Content-Type"))||void 0===i?void 0:i.includes("application/json"))&&(e.data=await h.json()),l.error=e}}catch(e){e instanceof Error?l.error={message:e.message}:l.error={message:"Failed to retrieve tokens"}}return Promise.resolve(l)})(i.data);break;case"EXPIRE_TOKENS":d=await(async r=>{var a;const{command:i,expireAccessTokenOnly:s,id:c}=r,d={command:i,id:c};try{if(!o)throw new Error("Authorization server metadata not set");if(!o.revocation_endpoint)throw new Error("Revocation endpoint missing in authorization server metadata");if(!s&&!n)throw new Error("Refresh token not found");const r=o.revocation_endpoint;let i,c=!1;const l={body:`client_id=${t}`,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"};if(s){const t=await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${e}&token_type_hint=access_token`}));t.ok||(c=!0,(null===(a=t.headers.get("Content-Type"))||void 0===a?void 0:a.includes("application/json"))&&(i=await t.json()))}else{const t=(await Promise.all([await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${e}&token_type_hint=access_token`})),await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${n}&token_type_hint=refresh_token`}))])).filter((e=>!e.ok));t.length&&(c=!0,i=await t[0].json())}if(c){const e={data:i,message:"Failed to expire tokens"};d.error=e}}catch(e){e instanceof Error?d.error={message:e.message}:d.error={message:"Failed to expire tokens"}}return Promise.resolve(d)})(i.data);break;case"GET_ID_TOKEN":l=i.data,d=Object.assign(Object.assign({},l),{idToken:r});break;case"INIT":d=await(async e=>{const{command:r,data:n,id:a}=e,i={command:r,id:a};return t=n.clientId,o=n.metadata,Promise.resolve(i)})(i.data);break;default:d.error=new Error(`Unexpected oauth worker command: ${s}`)}var l;self.postMessage(d)}};var f;!function(e){e.ApiRequest="API_REQUEST",e.CodeExchange="CODE_EXCHANGE",e.ExpireTokens="EXPIRE_TOKENS",e.GetIdToken="GET_ID_TOKEN",e.Init="INIT"}(f||(f={}));const m=[],y=e=>{m.push(e)},E=(e,t)=>(r,o,a)=>new Promise(((i,s)=>{const c={command:f.CodeExchange,data:{code:r,codeVerifier:o,redirectUri:a},id:n()},{command:d,id:l}=c;y({command:d,id:l,reject:s,resolve:i}),e.postMessage(c),t.logInfo("Worker request sent",c)})),v=(e,t,r)=>(o,a,i,s,c)=>new Promise(((d,l)=>{const u={command:f.ApiRequest,data:{apiRequestUrl:o,clientId:e,data:i,headers:s,httpMethod:a,includeAuthorization:c},id:n()},{command:h,id:p}=u;y({command:h,id:p,reject:l,resolve:d}),t.postMessage(u),r.logInfo("Worker request sent",u)})),S=(e,t)=>r=>new Promise(((o,a)=>{const i={command:f.ExpireTokens,expireAccessTokenOnly:r,id:n()},{command:s,id:c}=i;y({command:s,id:c,reject:a,resolve:o}),e.postMessage(i),t.logInfo("Worker request sent",i)})),b=(e,t)=>async()=>(await new Promise(((r,o)=>{const a={command:f.GetIdToken,id:n()},{command:i,id:s}=a;y({command:i,id:s,reject:o,resolve:r}),e.postMessage(a),t.logInfo("Worker request sent",a)}))).idToken,A=async(e,t,r)=>{const o=new Blob([`(${g})()`],{type:"text/javascript"}),a=URL.createObjectURL(o),i=new Worker(a);return i.onmessage=_(r),await((e,t,r,o)=>new Promise(((a,i)=>{const s={command:f.Init,data:{clientId:t,metadata:e},id:n()},{command:c,id:d}=s;y({command:c,id:d,reject:i,resolve:a}),r.postMessage(s),o.logInfo("Worker request sent",s)})))(e,t,i,r),{exchangeCodeForTokens:E(i,r),executeApiRequest:v(t,i,r),expireTokens:S(i,r),getIdToken:b(i,r),terminate:I(i,r)}},_=e=>t=>{e.logInfo("Worker response received",t.data);const r=t.data,{command:o,error:n,id:a}=r,i=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(r,["command","error","id"]),s=((e,t)=>m.find((r=>r.command===t&&r.id===e)))(a,o);s?(n?("status"in i&&void 0!==i.status&&(n.status=i.status),s.reject(n)):s.resolve(i),k(a,o)):e.logError(new Error("Unable to locate awaited request"))},k=(e,t)=>{const r=m.findIndex((r=>r.command===t&&r.id===e));r>=0&&m.splice(r,1)},I=(e,t)=>async()=>{try{await S(e,t)(!1)}catch(e){t.logWarning(e.message)}e.terminate(),t.logInfo("Worker terminated")};class T{get apiOrigin(){return this._apiOrigin}get clientId(){return this._clientId}get logger(){return this._logger}get metadata(){return this._metadata}get worker(){return this._worker}constructor(e,t,r,o,n){if(this.executeApiRequest=async(e,t="GET",r,o,n=!0,a=!1)=>{this._logger.logInfo("ExecuteApiRequest started",e,t,r,o);try{const a=await((e,t)=>async(r,o,n,a,i)=>{try{return await t.executeApiRequest(`${e}${r}`,o,n,a,i)}catch(e){let t;const{data:r,message:o,status:n}=e;throw t=e instanceof Error?new ApiRequestError(o,n):"Failed to refresh access token"===o?new AuthTokenExpiredError(o):new ApiRequestError(o,n),t.data=r,t}})(this._apiOrigin,this._worker)(e,t,r,o,n);return this._logger.logInfo("ExecuteApiRequest completed",a),a}catch(e){if(e instanceof ApiRequestError){const{data:t,message:r,name:o,stack:n}=e,a=this.getErrorMessageFromServerResponse(t);a&&(e.message=a,e.stack=null==n?void 0:n.replace(`${o}: ${r}`,`${o}: ${a}`))}throw a&&this.logger.logError(e),e}},!(t&&r&&o&&n))throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");this._apiOrigin=null!=e?e:"",this._clientId=t,this._metadata=r,this._worker=o,this._logger=n,this.authorize=this.authorize.bind(this),this.close=this.close.bind(this),this.executeApiRequest=this.executeApiRequest.bind(this),this.expireTokens=this.expireTokens.bind(this),this.getErrorMessageFromServerResponse=this.getErrorMessageFromServerResponse.bind(this),this.getIdToken=this.getIdToken.bind(this)}async authorize(e,t,r){this._logger.logInfo("Authorize started",e,t,r);try{await(o=this._metadata,i=this._clientId,d=this._worker,l=this._logger,async(e,t={},r={})=>{const{authorization_endpoint:u}=o,h=fin.Application.getCurrentSync(),p=(await h.getChildWindows()).find((e=>e.identity.name===a));p&&await p.close(!0);const w=n(),g=(()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.slice(-2))).join("")})(),f=(await(async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t),o=await(e=>new Promise(((t,r)=>{try{const o=new Blob([e]),n=new FileReader;n.onload=e=>{var o,n;const a=null===(o=e.target)||void 0===o?void 0:o.result;if(a){const[,e]=Array.from(null!==(n=a.match(/base64,(.*)$/i))&&void 0!==n?n:[]);t(null!=e?e:"")}r(new Error("Unexpected empty result"))},n.readAsDataURL(o)}catch(e){r(e)}})))(r);return o.replace(/\+/g,"-").replace(/\//g,"_")})(g)).replace(/=+$/,""),m=new URL(u);m.searchParams.set("client_id",i),m.searchParams.set("redirect_uri",e),m.searchParams.set("response_type","code"),m.searchParams.set("state",w),m.searchParams.set("code_challenge",f),m.searchParams.set("code_challenge_method","S256"),Object.entries(t).forEach((e=>m.searchParams.set(e[0],e[1]))),l.logInfo("Starting OAuth flow",m,r);const y=await s(m.toString(),c(w,e,l),r);l.logInfo("Received authorization code"),await d.exchangeCodeForTokens(y,g,e),l.logInfo("Received tokens")})(e,t,r),this._logger.logInfo("Authorize completed")}catch(e){let t;if(e instanceof ApiError){const{data:r}=e,o=this.getErrorMessageFromServerResponse(r);t=new AuthorizationError(o,e),t.data=r}else t=new AuthorizationError(void 0,e);throw this.logger.logError(t),t}var o,i,d,l}async close(){var e;this._logger.logInfo("Close started");try{await(null===(e=this._worker)||void 0===e?void 0:e.terminate()),this._worker=void 0,this._apiOrigin=void 0,this._clientId=void 0,this._metadata=void 0,this._logger.logInfo("Close completed")}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}async expireTokens(e=!1){var t;this._logger.logInfo("ExpireTokens started");try{await(null===(t=this._worker)||void 0===t?void 0:t.expireTokens(e)),this._logger.logInfo("ExpireTokens completed")}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}getErrorMessageFromServerResponse(e){e&&this._logger.logWarning(e)}async getIdToken(){var e;this._logger.logInfo("GetIdToken started");try{const t=await(null===(e=this._worker)||void 0===e?void 0:e.getIdToken());return this._logger.logInfo("GetIdToken completed",t),t}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}static async init(e,t,r,o,...n){const a=new w(o);a.logInfo("Init started",e,t,r);try{let o;if("discoveryEndpoint"in e){const{additionalMetadata:t,discoveryEndpoint:r}=e;o=Object.assign(Object.assign({},await d(r)),null!=t?t:{})}else o=e;if(!o.response_types_supported.find((e=>"code"===e.toLowerCase())))throw new InitializationError("Authorization server does not support the authorization code response type");const n=await A(o,r,a),i=new T(t,r,o,n,a);return a.logInfo("Init completed",i),i}catch(e){let t;throw t=e instanceof ApiError?e:new InitializationError(void 0,e),a.logError(t),t}}}const O=e=>async(t,r,o)=>{let n;null==e||e.logInfo("Validating token against introspection endpoint",t,r,o);try{n=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`token=${t}&client_id=${r}`})}catch(e){throw new ValidationError(void 0,e)}if(n.ok){const t=await n.json(),{active:r}=t,o=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(t,["active"]),a=Object.assign({valid:r},o);return null==e||e.logInfo("Token validation result",a),a}const a=await n.json();throw null==e||e.logWarning("Token Validation failed",a),new ValidationError};var R=o.MS,P=o.cX,C=o.Yd,W=o.O4,x=o._W,j=o.p8,$=o.m$,J=o.U$,U=o.U7,K=o.OV,D=o.N7,L=o.Rp;const H=new TextEncoder,M=new TextDecoder;function z(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let o=0;return e.forEach((e=>{r.set(e,o),o+=e.length})),r}const N=e=>{let t=e;t instanceof Uint8Array&&(t=M.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r})(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}};class JOSEError extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class F extends JOSEError{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}class q extends JOSEError{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}class G extends JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class V extends JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class B extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class X extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class Y extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class Q extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class Z extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator;class ee extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class te extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const re=crypto,oe=e=>e instanceof CryptoKey;re.getRandomValues.bind(re);const ne=async e=>{var t,r;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:o,keyUsages:n}=function(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new V(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new V('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),a=[o,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:n];if("PBKDF2"===o.name)return re.subtle.importKey("raw",N(e.k),...a);const i={...e};return delete i.alg,delete i.use,re.subtle.importKey("jwk",i,...a)};function ae(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}const ie=function(e,t,r,o,n){if(void 0!==n.crit&&void 0===o.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of o.crit){if(!a.has(t))throw new V(`Extension Header Parameter "${t}" is not recognized`);if(void 0===n[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(a.get(t)&&void 0===o[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(o.crit)};Symbol();function se(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ce(e,t){return e.name===t}function de(e){return parseInt(e.name.slice(4),10)}function le(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function ue(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!ce(e.algorithm,"HMAC"))throw se("HMAC");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ce(e.algorithm,"RSASSA-PKCS1-v1_5"))throw se("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ce(e.algorithm,"RSA-PSS"))throw se("RSA-PSS");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw se("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!ce(e.algorithm,"ECDSA"))throw se("ECDSA");const r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw se(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}le(e,r)}function he(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const pe=(e,...t)=>he("Key must be ",e,...t);function we(e,t,...r){return he(`Key for the ${e} algorithm must be `,t,...r)}const ge=e=>oe(e),fe=["CryptoKey"];const me=async(e,t,r,o)=>{const n=await function(e,t,r){if(oe(t))return ue(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(pe(t,...fe));return re.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(pe(t,...fe,"Uint8Array"))}(e,t,"verify");((e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}})(e,n);const a=function(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new V(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e,n.algorithm);try{return await re.subtle.verify(a,n,r,o)}catch(e){return!1}},ye=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0},Ee=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!ge(t))throw new TypeError(we(e,t,...fe,"Uint8Array"));if("secret"!==t.type)throw new TypeError(`${fe.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((e,t,r)=>{if(!ge(t))throw new TypeError(we(e,t,...fe));if("secret"===t.type)throw new TypeError(`${fe.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw new TypeError(`${fe.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw new TypeError(`${fe.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw new TypeError(`${fe.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw new TypeError(`${fe.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,r)},ve=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function Se(e,t,r){if(e instanceof Uint8Array&&(e=M.decode(e)),"string"!=typeof e)throw new B("Compact JWS must be a string or Uint8Array");const{0:o,1:n,2:a,length:i}=e.split(".");if(3!==i)throw new B("Invalid Compact JWS");const s=await async function(e,t,r){var o;if(!ae(e))throw new B("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new B('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new B("JWS Protected Header incorrect type");if(void 0===e.payload)throw new B("JWS Payload missing");if("string"!=typeof e.signature)throw new B("JWS Signature missing or incorrect type");if(void 0!==e.header&&!ae(e.header))throw new B("JWS Unprotected Header incorrect type");let n={};if(e.protected)try{const t=N(e.protected);n=JSON.parse(M.decode(t))}catch(e){throw new B("JWS Protected Header is invalid")}if(!ye(n,e.header))throw new B("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...n,...e.header};let i=!0;if(ie(B,new Map([["b64",!0]]),null==r?void 0:r.crit,n,a).has("b64")&&(i=n.b64,"boolean"!=typeof i))throw new B('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=a;if("string"!=typeof s||!s)throw new B('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=r&&ve("algorithms",r.algorithms);if(c&&!c.has(s))throw new G('"alg" (Algorithm) Header Parameter not allowed');if(i){if("string"!=typeof e.payload)throw new B("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new B("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(n,e),d=!0),Ee(s,t,"verify");const l=z(H.encode(null!==(o=e.protected)&&void 0!==o?o:""),H.encode("."),"string"==typeof e.payload?H.encode(e.payload):e.payload),u=N(e.signature);if(!await me(s,t,u,l))throw new te;let h;h=i?N(e.payload):"string"==typeof e.payload?H.encode(e.payload):e.payload;const p={payload:h};return void 0!==e.protected&&(p.protectedHeader=n),void 0!==e.header&&(p.unprotectedHeader=e.header),d?{...p,key:t}:p}({payload:n,protected:o,signature:a},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}const be=86400,Ae=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,_e=e=>{const t=Ae.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*be);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},ke=e=>e.toLowerCase().replace(/^application\//,""),Ie=(e,t,r={})=>{const{typ:o}=r;if(o&&("string"!=typeof e.typ||ke(e.typ)!==ke(o)))throw new F('unexpected "typ" JWT header value',"typ","check_failed");let n;try{n=JSON.parse(M.decode(t))}catch(e){}if(!ae(n))throw new X("JWT Claims Set must be a top-level JSON object");const{requiredClaims:a=[],issuer:i,subject:s,audience:c,maxTokenAge:d}=r;void 0!==d&&a.push("iat"),void 0!==c&&a.push("aud"),void 0!==s&&a.push("sub"),void 0!==i&&a.push("iss");for(const e of new Set(a.reverse()))if(!(e in n))throw new F(`missing required "${e}" claim`,e,"missing");if(i&&!(Array.isArray(i)?i:[i]).includes(n.iss))throw new F('unexpected "iss" claim value',"iss","check_failed");if(s&&n.sub!==s)throw new F('unexpected "sub" claim value',"sub","check_failed");if(c&&(l=n.aud,u="string"==typeof c?[c]:c,!("string"==typeof l?u.includes(l):Array.isArray(l)&&u.some(Set.prototype.has.bind(new Set(l))))))throw new F('unexpected "aud" claim value',"aud","check_failed");var l,u;let h;switch(typeof r.clockTolerance){case"string":h=_e(r.clockTolerance);break;case"number":h=r.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:p}=r,w=(g=p||new Date,Math.floor(g.getTime()/1e3));var g;if((void 0!==n.iat||d)&&"number"!=typeof n.iat)throw new F('"iat" claim must be a number',"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new F('"nbf" claim must be a number',"nbf","invalid");if(n.nbf>w+h)throw new F('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new F('"exp" claim must be a number',"exp","invalid");if(n.exp<=w-h)throw new q('"exp" claim timestamp check failed',"exp","check_failed")}if(d){const e=w-n.iat;if(e-h>("number"==typeof d?d:_e(d)))throw new q('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-h)throw new F('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return n};function Te(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Oe)}function Oe(e){return ae(e)}class Re{constructor(e){if(this._cached=new WeakMap,!Te(e))throw new Y("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:o}={...e,...null==t?void 0:t.header},n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new V('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter((e=>{let t=n===e.kty;if(t&&"string"==typeof o&&(t=o===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:i,length:s}=a;if(0===s)throw new Q;if(1!==s){const e=new Z,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await Pe(t,e,r)}catch(e){continue}},e}return Pe(this._cached,i,r)}}async function Pe(e,t,r){const o=e.get(t)||e.set(t,{}).get(t);if(void 0===o[r]){const e=await async function(e,t,r){var o;if(!ae(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?ne({...e,alg:t,ext:null!==(o=e.ext)&&void 0!==o&&o}):N(e.k);case"RSA":if(void 0!==e.oth)throw new V('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ne({...e,alg:t});default:throw new V('Unsupported "kty" (Key Type) Parameter value')}}({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new Y("JSON Web Key Set members must be public keys");o[r]=e}return o[r]}const Ce=async(e,t,r)=>{let o,n,a=!1;"function"==typeof AbortController&&(o=new AbortController,n=setTimeout((()=>{a=!0,o.abort()}),t));const i=await fetch(e.href,{signal:o?o.signal:void 0,redirect:"manual",headers:r.headers}).catch((e=>{if(a)throw new ee;throw e}));if(void 0!==n&&clearTimeout(n),200!==i.status)throw new JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch(e){throw new JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class We extends Re{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof Q&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=Ce(this._url,this._timeoutDuration,this._options).then((e=>{if(!Te(e))throw new Y("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}const xe=N;class AuthenticationError extends R{constructor(e,t){super(e=e??t?.message??"An error occurred during authentication",t)}}class LogoutError extends R{constructor(e,t){super(e=e??t?.message??"An error occurred during logout",t)}}const je="1.0.0",$e="OIDC",Je=()=>{J($e)},Ue=()=>{U($e,je)};"undefined"!=typeof window&&("undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{OIDC:{enableLogging:Ue,disableLogging:Je}}}));const Ke=e=>`${e.replace(/\/$/,"")}/.well-known/openid-configuration`;var De;!function(e){e.OpenIdConnect="OpenID-Connect"}(De||(De={}));class Le extends W{get idToken(){return this._idToken}get openIdProviderUrl(){return this._openIdProviderUrl}get redirectUri(){return this._redirectUri}get scope(){return this._scope}get userInfo(){return this._userInfo}async authorize(e,t,r){await super.authorize(e,t,r),this._idToken=await this.getIdToken(),this._userInfo=await(async e=>{const t=e.metadata?.userinfo_endpoint;if(!t)return;const{data:r}=await e.executeApiRequest(t);return r})(this)}async close(){await super.close(),this._idToken=void 0,this._openIdProviderUrl=void 0,this._redirectUri=void 0,this._scope=void 0,this._userInfo=void 0}getErrorMessageFromServerResponse(e){return e}static async init(e,t,r,o,n,a,i){const s=new C(o);s.logInfo("Init started",e,t,r,o,n,a,i);try{const{additionalMetadata:t,discoveryEndpoint:o}=e,c={...await K(o),...t??{}};if(!c.response_types_supported.find((e=>"code"===e.toLowerCase())))throw new P("OpenID Provider does not support the authorization code response type");const d=await D(c,r,s),l=new Le(void 0,r,c,d,s);return l._openIdProviderUrl=n,l._redirectUri=a,l._scope=i,s.logInfo("Init completed",l),(async(e,t)=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:je,componentName:e}})}catch(r){t.logWarning(`Unable to register usage for feature ${e}: ${r?.message}`)}})(De.OpenIdConnect,s),l}catch(e){let t;throw t=e instanceof R?e:new P(void 0,e),s.logError(t),t}}}const He=async(e,t,r)=>{const o=new C($e),n=Ke(r);let a;try{a=await K(n)}catch(e){const t=new j(`Failed to retrieve OpenID Connect metadata from ${n}`);throw o.logError(t),t}const{introspection_endpoint:i,jwks_uri:s}=a;if(i)try{return await L(o)(e,t,i)}catch(e){}else o?.logWarning("No introspection endpoint found in OpenID Connect metadata");if(!s){const e=new j(`Failed to retrieve JSON Web Key Set (JWKS) from ${s}`);throw o.logError(e),e}o?.logInfo("Validating id token against JWKS endpoint",s);try{const{payload:n}=await async function(e,t,r){var o;const n=await Se(e,t,r);if((null===(o=n.protectedHeader.crit)||void 0===o?void 0:o.includes("b64"))&&!1===n.protectedHeader.b64)throw new X("JWTs MUST NOT use unencoded payload");const a={payload:Ie(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return"function"==typeof t?{...a,key:n.key}:a}(e,function(e,t){const r=new We(e,t);return async function(e,t){return r.getKey(e,t)}}(new URL(s)),{audience:t,issuer:r});return o?.logInfo("ID token validation successful",n),{valid:!0,...n}}catch(e){if(!(e instanceof F||e instanceof q||e instanceof X||e instanceof te)){const t=new j(void 0,e);throw o.logError(t),t}return o.logWarning(`ID token validation failed: ${e.message}`),{valid:!1}}},Me=["openid","profile","email"],ze=async(e,t,r,o=[],n,a,i)=>{if(e=e?.trim().replace(/\/$/,""),!e)throw new x("OpenID Provider URL must be a non-empty string");if(!t)throw new x("Client Identifier must be a non-empty string");if(!r)throw new x("Redirection URI must be a non-empty string");const s=await Fe(e,t,r,o,n);if(!s)throw new P("Provider not initialized");const c=s.metadata?.scopes_supported;if(!c){const e=new AuthenticationError("OpenID Provider metadata does not define supported scopes");throw s.logger.logError(e),e}const d=Me.filter((e=>!c.includes(e)));if(d.length>0){const e=new AuthenticationError(`OpenID Provider does not support required scopes: ${d.join(", ")}`);throw s.logger.logError(e),e}const l=new Set([...Me,...o]);await s.authorize(r,{display:"popup",scope:[...l].join(" "),...a},i);const{idToken:u}=s;if(!u){const e=new AuthenticationError("No ID token returned");throw s.logger.logError(e),e}const h=function(e){if("string"!=typeof e)throw new X("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new X("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new X("Invalid JWT");if(!t)throw new X("JWTs must contain a payload");let o,n;try{o=xe(t)}catch(e){throw new X("Failed to parse the base64url encoded payload")}try{n=JSON.parse(M.decode(o))}catch(e){throw new X("Failed to parse the decoded payload as JSON")}if(!ae(n))throw new X("Invalid JWT Claims Set");return n}(u);if(!h){const e=new AuthenticationError("Failed to decode ID token");throw s.logger.logError(e),e}const{aud:p,iss:w}=h;return await He(u,Array.isArray(p)?p[0]:p,w),{claims:h,clientId:t,idToken:u,logout:qe(t,u,s),openIdProviderUrl:e,userInfo:s.userInfo}},Ne=(e,t,r,o,n,a)=>async n=>{if(0!==new URL(n).href.toLowerCase().indexOf(r.toLowerCase()))return!1;window.clearInterval(a),window.clearTimeout(t);try{e.removeAllListeners(),e.close(!0)}catch(e){}return o(),!0},Fe=async(e,t,r,o,n)=>{const a={additionalMetadata:n,discoveryEndpoint:Ke(e)};return Le.init(a,void 0,t,$e,e,r,o)},qe=(e,t,r)=>async(o,n)=>{if(!o)throw new x("Logout Redirection URI must be a non-empty string");const{logger:a,metadata:i}=r;a.logInfo("Logout started",e,t,o,n);const{end_session_endpoint:s}=i??{};if(!s){const e=new LogoutError("OpenID Provider metadata does not define end session endpoint");throw a.logError(e),e}const c=`${s}?id_token_hint=${t}&client_id=${e}&post_logout_redirect_uri=${encodeURIComponent(o)}${n?`&logout_hint=${encodeURIComponent(n)}`:""}`;await $(c,Ge(o,a)),await(r?.close()),a.logInfo("Logout completed")},Ge=(e,t)=>r=>new Promise(((o,n)=>{let a;r.addListener("closing",(async()=>{t.logInfo("User closed auth window"),window.clearInterval(a),r.removeAllListeners(),n(new LogoutError("Failed to complete logout process"))}));const i=window.setTimeout((async()=>{try{await r.isShowing()||(t.logInfo("Showing auth window"),await r.show(!0),await r.focus())}catch{t.logWarning("Unable to show auth window")}}),2e3);(async()=>{const{version:s}=await fin.System.getRuntimeInfo();if(parseInt(s.split(".")[0],10)>=30){await Ne(r,i,e,o,n)((await r.getInfo()).url)||await r.addListener("url-changed",(a=>{t.logInfo("Auth window navigated to",a.url),Ne(r,i,e,o,n)(a.url)}))}else a=window.setInterval((()=>(async(e,t,r,o,n,a)=>{let i;try{i=await e.getInfo()}catch(e){return window.clearInterval(t),window.clearTimeout(r),a(new LogoutError("Could not locate auth window")),!1}return Ne(e,r,o,n,a,t)(i.url)})(r,a,i,e,o,n)),500)})()}));var Ve=t.MS,Be=t._7,Xe=t.cX,Ye=t.zL,Qe=t._W,Ze=t.p8,et=t.YR,tt=t.U$,rt=t.U7,ot=t.OF;

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*********************************************************!*\
  !*** ./client/src/modules/auth/openid-connect/index.ts ***!
  \*********************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   entryPoints: () => (/* binding */ entryPoints)
/* harmony export */ });
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth */ "./client/src/modules/auth/openid-connect/auth.ts");

/**
 * Define the entry points for the module.
 */
const entryPoints = {
    auth: new _auth__WEBPACK_IMPORTED_MODULE_0__.OpenIdConnectProvider()
};

})();

var __webpack_exports__entryPoints = __webpack_exports__.entryPoints;
export { __webpack_exports__entryPoints as entryPoints };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVMsSUFBSSxPQUFPLDZEQUE2RCw2QkFBNkIsTUFBTSxZQUFZLEdBQUcsOENBQThDLHdGQUF3Riw2QkFBNkIsdUVBQXVFLCtDQUErQyxJQUFJLG1DQUFtQyxVQUFVLGNBQWMsdUJBQXVCLFNBQVMsOENBQThDLG9DQUFvQywwQkFBMEIsdUVBQXVFLE1BQU0sb0JBQW9CLEdBQUcsb0NBQW9DLE1BQU0sdUJBQXVCLE9BQU8sT0FBTyx5RkFBeUYsc0JBQXNCLFdBQVcsRUFBRSxpQkFBaUIsRUFBRSxhQUFhLEVBQUUsNEJBQTRCLHNCQUFzQixFQUFFLGtCQUFrQixzQkFBc0IsS0FBSyxFQUFFLG1FQUFtRSxtQ0FBbUMsTUFBTSxtQ0FBbUMsNElBQTRJLEdBQUcscUNBQXFDLElBQUkseUZBQXlGLE1BQU0sNENBQTRDLE9BQU8sV0FBVyxNQUFNLFVBQVUsbUNBQW1DLHFDQUFxQyxxRkFBcUYsaUVBQWlFLEdBQUcscURBQXFELE1BQU0sSUFBSSxvQkFBb0IsU0FBUyw0R0FBNEcsOEJBQThCLHFCQUFxQixJQUFJLEdBQUc7Ozs7OztTQ0E1bTVDO1NBQ0E7O1NBRUE7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7O1NBRUE7U0FDQTs7U0FFQTtTQUNBO1NBQ0E7Ozs7O1VDdEJBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EseUNBQXlDLHdDQUF3QztVQUNqRjtVQUNBO1VBQ0E7Ozs7O1VDUEE7Ozs7O1VDQUE7VUFDQTtVQUNBO1VBQ0EsdURBQXVELGlCQUFpQjtVQUN4RTtVQUNBLGdEQUFnRCxhQUFhO1VBQzdEOzs7Ozs7Ozs7Ozs7Ozs7QUNMK0M7QUFFL0M7O0dBRUc7QUFDSSxNQUFNLFdBQVcsR0FBcUQ7SUFDNUUsSUFBSSxFQUFFLElBQUksd0RBQXFCLEVBQUU7Q0FDakMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS13b3Jrc3BhY2UtcGxhdGZvcm0tc3RhcnRlci8uL2NsaWVudC9zcmMvZnJhbWV3b3JrL3V0aWxzLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS13b3Jrc3BhY2UtcGxhdGZvcm0tc3RhcnRlci8uL2NsaWVudC9zcmMvbW9kdWxlcy9hdXRoL29wZW5pZC1jb25uZWN0L2F1dGgudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXdvcmtzcGFjZS1wbGF0Zm9ybS1zdGFydGVyLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9vcGVuaWQtY29ubmVjdC9vcGVuZmluLm9wZW5pZC1jb25uZWN0Lm1qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0td29ya3NwYWNlLXBsYXRmb3JtLXN0YXJ0ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXdvcmtzcGFjZS1wbGF0Zm9ybS1zdGFydGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0td29ya3NwYWNlLXBsYXRmb3JtLXN0YXJ0ZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0td29ya3NwYWNlLXBsYXRmb3JtLXN0YXJ0ZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0td29ya3NwYWNlLXBsYXRmb3JtLXN0YXJ0ZXIvLi9jbGllbnQvc3JjL21vZHVsZXMvYXV0aC9vcGVuaWQtY29ubmVjdC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlc3QgaWYgYSB2YWx1ZSBpcyBhIHVuZGVmaW5lZCBvciBudWxsLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgbnVsbCB8IHVuZGVmaW5lZCB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuXHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbDtcbn1cblxuLyoqXG4gKiBUZXN0IGlmIGEgdmFsdWUgaXMgYW4gb2JqZWN0LlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBvYmplY3Qge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcblx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufVxuXG4vKipcbiAqIFRlc3QgaWYgYSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBzdHJpbmcge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcblx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xufVxuXG4vKipcbiAqIFRlc3QgaWYgYSB2YWx1ZSBpcyBhIHN0cmluZyB0aGF0IGlzIG5vdCBlbXB0eS5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHZhbHVlIGlzIGEgc3RyaW5nIHRoYXQgaXMgbm90IGVtcHR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIHN0cmluZyB7XG5cdHJldHVybiBpc1N0cmluZyh2YWx1ZSkgJiYgdmFsdWUudHJpbSgpLmxlbmd0aCA+IDA7XG59XG5cbi8qKlxuICogVGVzdCBpZiBhIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBudW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIG51bWJlciB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuXHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCI7XG59XG5cbi8qKlxuICogVGVzdCBpZiBhIHZhbHVlIGlzIGEgYm9vbGVhbi5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHZhbHVlIGlzIGEgYm9vbGVhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIGJvb2xlYW4ge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcblx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcbn1cblxuLyoqXG4gKiBUZXN0IGlmIGEgdmFsdWUgaXMgYW4gaW50ZWdlci5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBudW1iZXIge1xuXHRyZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xufVxuXG4vKipcbiAqIERlZXAgY2xvbmUgYW4gb2JqZWN0LlxuICogQHBhcmFtIG9iaiBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMgVGhlIGNsb25lIG9mIHRoZSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RDbG9uZTxUPihvYmo6IFQpOiBUIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG5cdHJldHVybiBvYmogPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbi8qKlxuICogUG9seWZpbGxzIHJhbmRvbVVVSUQgaWYgcnVubmluZyBpbiBhIG5vbi1zZWN1cmUgY29udGV4dC5cbiAqIEByZXR1cm5zIFRoZSByYW5kb20gVVVJRC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKTogc3RyaW5nIHtcblx0aWYgKFwicmFuZG9tVVVJRFwiIGluIHdpbmRvdy5jcnlwdG8pIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcblx0XHRyZXR1cm4gd2luZG93LmNyeXB0by5yYW5kb21VVUlEKCk7XG5cdH1cblx0Ly8gUG9seWZpbGwgdGhlIHdpbmRvdy5jcnlwdG8ucmFuZG9tVVVJRCBpZiB3ZSBhcmUgcnVubmluZyBpbiBhIG5vbiBzZWN1cmUgY29udGV4dCB0aGF0IGRvZXNuJ3QgaGF2ZSBpdFxuXHQvLyB3ZSBhcmUgc3RpbGwgdXNpbmcgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMgd2hpY2ggaXMgYWx3YXlzIGF2YWlsYWJsZVxuXHQvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG5cdC8qKlxuXHQgKiBHZXQgcmFuZG9tIGhleCB2YWx1ZS5cblx0ICogQHBhcmFtIGMgVGhlIG51bWJlciB0byBiYXNlIHRoZSByYW5kb20gdmFsdWUgb24uXG5cdCAqIEByZXR1cm5zIFRoZSByYW5kb20gdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSYW5kb21IZXgoYzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuXHRcdGNvbnN0IHJuZCA9IHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmICgxNSA+PiAoTnVtYmVyKGMpIC8gNCkpO1xuXHRcdHJldHVybiAoXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuXHRcdFx0KE51bWJlcihjKSBeIHJuZCkudG9TdHJpbmcoMTYpXG5cdFx0KTtcblx0fVxuXHRyZXR1cm4gXCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLCBnZXRSYW5kb21IZXgpO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhbiBlcnJvciB0byBhIHJlYWRhYmxlIHN0cmluZy5cbiAqIEBwYXJhbSBlcnIgVGhlIGVycm9yIHRvIGZvcm1hdC5cbiAqIEByZXR1cm5zIFRoZSBmb3JtYXR0ZWQgZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvcihlcnI6IHVua25vd24pOiBzdHJpbmcge1xuXHRpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRyZXR1cm4gZXJyLm1lc3NhZ2U7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGVyciA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBlcnI7XG5cdH1cblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycik7XG59XG5cbi8qKlxuICogQSBiYXNpYyBzdHJpbmcgc2FuaXRpemUgZnVuY3Rpb24gdGhhdCByZW1vdmVzIGFuZ2xlIGJyYWNrZXRzIDw+IGZyb20gYSBzdHJpbmcuXG4gKiBAcGFyYW0gY29udGVudCB0aGUgY29udGVudCB0byBzYW5pdGl6ZVxuICogQHJldHVybnMgYSBzdHJpbmcgd2l0aG91dCBhbmdsZSBicmFja2V0cyA8PlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVTdHJpbmcoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcblx0aWYgKGlzU3RyaW5nKGNvbnRlbnQpKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvPFtePl0qPj8vZ20sIFwiXCIpO1xuXHR9XG5cdHJldHVybiBjb250ZW50O1xufVxuIiwiaW1wb3J0IHtcblx0YXV0aGVudGljYXRlLFxuXHRlbmFibGVMb2dnaW5nLFxuXHR2YWxpZGF0ZUlkVG9rZW4sXG5cdHR5cGUgT2lkY0F1dGhlbnRpY2F0aW9uUmVzdWx0LFxuXHR0eXBlIFVzZXJJbmZvQ2xhaW1zXG59IGZyb20gXCJAb3BlbmZpbi9vcGVuaWQtY29ubmVjdFwiO1xuaW1wb3J0IHR5cGUgeyBBdXRoRXZlbnRUeXBlcywgQXV0aFByb3ZpZGVyIH0gZnJvbSBcIndvcmtzcGFjZS1wbGF0Zm9ybS1zdGFydGVyL3NoYXBlcy9hdXRoLXNoYXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBMb2dnZXIsIExvZ2dlckNyZWF0b3IgfSBmcm9tIFwid29ya3NwYWNlLXBsYXRmb3JtLXN0YXJ0ZXIvc2hhcGVzL2xvZ2dlci1zaGFwZXNcIjtcbmltcG9ydCB0eXBlIHsgTW9kdWxlRGVmaW5pdGlvbiwgTW9kdWxlSGVscGVycyB9IGZyb20gXCJ3b3Jrc3BhY2UtcGxhdGZvcm0tc3RhcnRlci9zaGFwZXMvbW9kdWxlLXNoYXBlc1wiO1xuaW1wb3J0IHsgZm9ybWF0RXJyb3IsIGlzRW1wdHksIGlzTnVtYmVyLCBpc1N0cmluZ1ZhbHVlLCByYW5kb21VVUlEIH0gZnJvbSBcIndvcmtzcGFjZS1wbGF0Zm9ybS1zdGFydGVyL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSB7IE9wZW5JZENvbm5lY3RQcm92aWRlck9wdGlvbnMgfSBmcm9tIFwiLi9zaGFwZXNcIjtcblxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG9wZW5pZCBjb25uZWN0IGF1dGggcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuSWRDb25uZWN0UHJvdmlkZXIgaW1wbGVtZW50cyBBdXRoUHJvdmlkZXI8T3BlbklkQ29ubmVjdFByb3ZpZGVyT3B0aW9ucz4ge1xuXHQvKipcblx0ICogVGhlIG1vZHVsZSBkZWZpbml0aW9uIGluY2x1ZGluZyBzZXR0aW5ncy5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIF9kZWZpbml0aW9uOiBNb2R1bGVEZWZpbml0aW9uPE9wZW5JZENvbm5lY3RQcm92aWRlck9wdGlvbnM+IHwgdW5kZWZpbmVkO1xuXG5cdC8qKlxuXHQgKiBUaGUgbG9nZ2VyIGZvciBkaXNwbGF5aW5nIGluZm9ybWF0aW9uIGZyb20gdGhlIG1vZHVsZS5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIF9sb2dnZXI/OiBMb2dnZXI7XG5cblx0LyoqXG5cdCAqIE1hcCBhIHN1YnNjcmlwdGlvbiBpZCB0byBhbiBldmVudC5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIHJlYWRvbmx5IF9zdWJzY3JpYmVJZE1hcDogeyBba2V5OiBzdHJpbmddOiBBdXRoRXZlbnRUeXBlcyB9O1xuXG5cdC8qKlxuXHQgKiBDYWxsYmFja3MgZm9yIGV2ZW50IHN1YnNjcmliZXJzLlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgcmVhZG9ubHkgX2V2ZW50U3Vic2NyaWJlcnM6IHsgW2V2ZW50IGluIEF1dGhFdmVudFR5cGVzXT86IHsgW2lkOiBzdHJpbmddOiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0gfTtcblxuXHQvKipcblx0ICogVGhlIHJlc3VsdCBvZiB0aGUgYXV0aGVudGljYXRpb24gcmVxdWVzdC5cblx0ICovXG5cdHByaXZhdGUgX2F1dGhSZXN1bHQ6IE9pZGNBdXRoZW50aWNhdGlvblJlc3VsdCB8IHVuZGVmaW5lZDtcblxuXHQvKipcblx0ICogU2Vzc2lvbiBleHBpcnkgdGltZXIuXG5cdCAqL1xuXHRwcml2YXRlIF9zZXNzaW9uRXhwaXJ5VGltZXJJZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgT3BlbklkQ29ubmVjdFByb3ZpZGVyLlxuXHQgKi9cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5fc3Vic2NyaWJlSWRNYXAgPSB7fTtcblx0XHR0aGlzLl9ldmVudFN1YnNjcmliZXJzID0ge307XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZSB0aGUgbW9kdWxlLlxuXHQgKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgbW9kdWxlIGZyb20gY29uZmlndXJhdGlvbiBpbmNsdWRlIGN1c3RvbSBvcHRpb25zLlxuXHQgKiBAcGFyYW0gbG9nZ2VyQ3JlYXRvciBGb3IgbG9nZ2luZyBlbnRyaWVzLlxuXHQgKiBAcGFyYW0gaGVscGVycyBIZWxwZXIgbWV0aG9kcyBmb3IgdGhlIG1vZHVsZSB0byBpbnRlcmFjdCB3aXRoIHRoZSBhcHBsaWNhdGlvbiBjb3JlLlxuXHQgKiBAcmV0dXJucyBOb3RoaW5nLlxuXHQgKi9cblx0cHVibGljIGFzeW5jIGluaXRpYWxpemUoXG5cdFx0ZGVmaW5pdGlvbjogTW9kdWxlRGVmaW5pdGlvbjxPcGVuSWRDb25uZWN0UHJvdmlkZXJPcHRpb25zPixcblx0XHRsb2dnZXJDcmVhdG9yOiBMb2dnZXJDcmVhdG9yLFxuXHRcdGhlbHBlcnM6IE1vZHVsZUhlbHBlcnNcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dGhpcy5fZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG5cdFx0dGhpcy5fbG9nZ2VyID0gbG9nZ2VyQ3JlYXRvcihcIk9wZW5JZENvbm5lY3RQcm92aWRlclwiKTtcblxuXHRcdHRoaXMuX2xvZ2dlci5pbmZvKFwiSW5pdGlhbGl6aW5nXCIpO1xuXG5cdFx0aWYgKHRoaXMuX2RlZmluaXRpb24uZGF0YT8uZW5hYmxlTG9nZ2luZykge1xuXHRcdFx0ZW5hYmxlTG9nZ2luZygpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHByb3ZpZGVyVXJsID0gdGhpcy5fZGVmaW5pdGlvbi5kYXRhPy5wcm92aWRlclVybDtcblx0XHRjb25zdCBjbGllbnRJZCA9IHRoaXMuX2RlZmluaXRpb24uZGF0YT8uY2xpZW50SWQ7XG5cdFx0Y29uc3QgbG9naW5SZWRpcmVjdFVybCA9IHRoaXMuX2RlZmluaXRpb24uZGF0YT8ubG9naW5SZWRpcmVjdFVybDtcblx0XHRjb25zdCBsb2dvdXRSZWRpcmVjdFVybCA9IHRoaXMuX2RlZmluaXRpb24uZGF0YT8ubG9nb3V0UmVkaXJlY3RVcmw7XG5cblx0XHRpZiAoIWlzU3RyaW5nVmFsdWUocHJvdmlkZXJVcmwpKSB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZXJyb3IoXCJwcm92aWRlclVybCBpcyBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRpZiAoIWlzU3RyaW5nVmFsdWUoY2xpZW50SWQpKSB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZXJyb3IoXCJDbGllbnRJZCBpcyBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRpZiAoIWlzU3RyaW5nVmFsdWUobG9naW5SZWRpcmVjdFVybCkpIHtcblx0XHRcdHRoaXMuX2xvZ2dlci5lcnJvcihcImxvZ2luUmVkaXJlY3RVcmwgaXMgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXG5cdFx0aWYgKCFpc1N0cmluZ1ZhbHVlKGxvZ291dFJlZGlyZWN0VXJsKSkge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmVycm9yKFwibG9nb3V0UmVkaXJlY3RVcmwgaXMgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlIGRvd24gYW55IHJlc291cmNlcyBiZWluZyB1c2VkIGJ5IHRoZSBtb2R1bGUuXG5cdCAqIEByZXR1cm5zIE5vdGhpbmcuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgY2xvc2Vkb3duKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuX2xvZ2dlcj8uaW5mbyhcIkNsb3NlZG93blwiKTtcblxuXHRcdGlmICh0aGlzLl9zZXNzaW9uRXhwaXJ5VGltZXJJZCkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zZXNzaW9uRXhwaXJ5VGltZXJJZCk7XG5cdFx0XHR0aGlzLl9zZXNzaW9uRXhwaXJ5VGltZXJJZCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3Vic2NyaWJlIHRvIG9uZSBvZiB0aGUgYXV0aCBldmVudHMuXG5cdCAqIEBwYXJhbSB0byBUaGUgZXZlbnQgdG8gc3Vic2NyaWJlIHRvLlxuXHQgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGZpcmUgd2hlbiB0aGUgZXZlbnQgb2NjdXJzLlxuXHQgKiBAcmV0dXJucyBTdWJzY3JpcHRpb24gaWQgZm9yIHVuc3Vic2NyaWJpbmcgb3IgdW5kZWZpbmVkIGlmIGV2ZW50IHR5cGUgaXMgbm90IGF2YWlsYWJsZS5cblx0ICovXG5cdHB1YmxpYyBzdWJzY3JpYmUodG86IEF1dGhFdmVudFR5cGVzLCBjYWxsYmFjazogKCkgPT4gUHJvbWlzZTx2b2lkPik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG5cdFx0Y29uc3Qgc3Vic2NyaXB0aW9uSWQgPSByYW5kb21VVUlEKCk7XG5cblx0XHRjb25zdCB0b01hcCA9IHRoaXMuX2V2ZW50U3Vic2NyaWJlcnNbdG9dID8/IHt9O1xuXHRcdHRvTWFwW3N1YnNjcmlwdGlvbklkXSA9IGNhbGxiYWNrO1xuXHRcdHRoaXMuX2V2ZW50U3Vic2NyaWJlcnNbdG9dID0gdG9NYXA7XG5cblx0XHR0aGlzLl9zdWJzY3JpYmVJZE1hcFtzdWJzY3JpcHRpb25JZF0gPSB0bztcblx0XHR0aGlzLl9sb2dnZXI/LmluZm8oYFN1YnNjcmlwdGlvbiB0byAke3RvfSBldmVudHMgcmVnaXN0ZXJlZC4gU3Vic2NyaXB0aW9uIElkOiAke3N1YnNjcmlwdGlvbklkfWApO1xuXG5cdFx0cmV0dXJuIHN1YnNjcmlwdGlvbklkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVuc3Vic2NyaWJlIGZyb20gYW4gYWxyZWFkeSBzdWJzY3JpYmVkIGV2ZW50LlxuXHQgKiBAcGFyYW0gc3Vic2NyaXB0aW9uSWQgVGhlIGlkIG9mIHRoZSBzdWJzY3JpcHRpb24gcmV0dXJuZWQgZnJvbSBzdWJzY3JpYmUuXG5cdCAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHVuc3Vic2NyaWJlIHdhcyBzdWNjZXNzZnVsLlxuXHQgKi9cblx0cHVibGljIHVuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbklkOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRjb25zdCBldmVudFR5cGUgPSB0aGlzLl9zdWJzY3JpYmVJZE1hcFtzdWJzY3JpcHRpb25JZF07XG5cdFx0aWYgKGlzRW1wdHkoZXZlbnRUeXBlKSkge1xuXHRcdFx0dGhpcy5fbG9nZ2VyPy53YXJuKGBZb3UgaGF2ZSB0cmllZCB0byB1bnN1YnNjcmliZSB3aXRoIGEga2V5ICR7c3Vic2NyaXB0aW9uSWR9IHRoYXQgaXMgaW52YWxpZGApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IGV2ZW50U3Vic2NyaWJlcnMgPSB0aGlzLl9ldmVudFN1YnNjcmliZXJzW2V2ZW50VHlwZV07XG5cdFx0aWYgKCFpc0VtcHR5KGV2ZW50U3Vic2NyaWJlcnMpKSB7XG5cdFx0XHRkZWxldGUgZXZlbnRTdWJzY3JpYmVyc1tzdWJzY3JpcHRpb25JZF07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3N1YnNjcmliZUlkTWFwW3N1YnNjcmlwdGlvbklkXSkge1xuXHRcdFx0ZGVsZXRlIHRoaXMuX3N1YnNjcmliZUlkTWFwW3N1YnNjcmlwdGlvbklkXTtcblx0XHRcdHRoaXMuX2xvZ2dlcj8uaW5mbyhcblx0XHRcdFx0YFN1YnNjcmlwdGlvbiB0byAke2V2ZW50VHlwZX0gZXZlbnRzIHdpdGggc3Vic2NyaXB0aW9uIElkOiAke3N1YnNjcmlwdGlvbklkfSBoYXMgYmVlbiBjbGVhcmVkYFxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHRoaXMuX2xvZ2dlcj8ud2Fybihcblx0XHRcdGBTdWJzY3JpcHRpb24gdG8gJHtldmVudFR5cGV9IGV2ZW50cyB3aXRoIHN1YnNjcmlwdGlvbiBJZDogJHtzdWJzY3JpcHRpb25JZH0gY291bGQgbm90IGJlIGNsZWFyZWQgYXMgd2UgZG8gbm90IGhhdmUgYSByZWdpc3RlciBvZiB0aGF0IGV2ZW50IHR5cGUuYFxuXHRcdCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIERvZXMgdGhlIGF1dGggcHJvdmlkZXIgcmVxdWlyZSBhdXRoZW50aWNhdGlvbi5cblx0ICogQHJldHVybnMgVHJ1ZSBpZiBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZC5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBpc0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIGlzRW1wdHkodGhpcy5fYXV0aFJlc3VsdCk7XG5cdH1cblxuXHQvKipcblx0ICogUGVyZm9ybSB0aGUgbG9naW4gb3BlcmF0aW9uIG9uIHRoZSBhdXRoIHByb3ZpZGVyLlxuXHQgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBsb2dpbiB3YXMgc3VjY2Vzc2Z1bC5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBsb2dpbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBwcm92aWRlclVybCA9IHRoaXMuX2RlZmluaXRpb24/LmRhdGE/LnByb3ZpZGVyVXJsO1xuXHRcdGNvbnN0IGNsaWVudElkID0gdGhpcy5fZGVmaW5pdGlvbj8uZGF0YT8uY2xpZW50SWQ7XG5cdFx0Y29uc3QgbG9naW5SZWRpcmVjdFVybCA9IHRoaXMuX2RlZmluaXRpb24/LmRhdGE/LmxvZ2luUmVkaXJlY3RVcmw7XG5cdFx0Y29uc3Qgc2NvcGVzID0gdGhpcy5fZGVmaW5pdGlvbj8uZGF0YT8uc2NvcGVzO1xuXG5cdFx0aWYgKGlzU3RyaW5nVmFsdWUocHJvdmlkZXJVcmwpICYmIGlzU3RyaW5nVmFsdWUoY2xpZW50SWQpICYmIGlzU3RyaW5nVmFsdWUobG9naW5SZWRpcmVjdFVybCkpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRoaXMuX2F1dGhSZXN1bHQgPSBhd2FpdCBhdXRoZW50aWNhdGUocHJvdmlkZXJVcmwsIGNsaWVudElkLCBsb2dpblJlZGlyZWN0VXJsLCBzY29wZXMpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKFwibG9nZ2VkLWluXCIpO1xuXHRcdFx0XHR0aGlzLmNoZWNrRm9yU2Vzc2lvbkV4cGlyeSgpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHR0aGlzLl9sb2dnZXI/LmVycm9yKFwiQXV0aGVudGljYXRpb24gZmFpbGVkXCIsIGZvcm1hdEVycm9yKGVycikpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBQZXJmb3JtIHRoZSBsb2dvdXQgb3BlcmF0aW9uIG9uIHRoZSBhdXRoIHByb3ZpZGVyLlxuXHQgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBsb2dvdXQgd2FzIHN1Y2Nlc3NmdWwuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgbG9nb3V0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGlmICh0aGlzLl9hdXRoUmVzdWx0KSB7XG5cdFx0XHRpZiAodGhpcy5fc2Vzc2lvbkV4cGlyeVRpbWVySWQpIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zZXNzaW9uRXhwaXJ5VGltZXJJZCk7XG5cdFx0XHRcdHRoaXMuX3Nlc3Npb25FeHBpcnlUaW1lcklkID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dvdXRSZWRpcmVjdFVybCA9IHRoaXMuX2RlZmluaXRpb24/LmRhdGE/LmxvZ291dFJlZGlyZWN0VXJsO1xuXHRcdFx0aWYgKGlzU3RyaW5nVmFsdWUobG9nb3V0UmVkaXJlY3RVcmwpKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhcImJlZm9yZS1sb2dnZWQtb3V0XCIpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuX2F1dGhSZXN1bHQubG9nb3V0KGxvZ291dFJlZGlyZWN0VXJsKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0dGhpcy5fbG9nZ2VyPy5lcnJvcihcIkxvZ291dCBmYWlsZWRcIiwgZm9ybWF0RXJyb3IoZXJyKSk7XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhcImxvZ2dlZC1vdXRcIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuX2F1dGhSZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB1c2VyIGluZm9ybWF0aW9uIGZyb20gdGhlIGF1dGggcHJvdmlkZXIuXG5cdCAqIEByZXR1cm5zIFRoZSB1c2VyIGluZm9ybWF0aW9uLCB0aGUgdHlwZSBpcyB1bmtub3duIGFzIGl0IGlzIGRlcGVuZGVudCBvbiB0aGUgYXV0aCBwcm92aWRlci5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBnZXRVc2VySW5mbygpOiBQcm9taXNlPFVzZXJJbmZvQ2xhaW1zIHwgdW5kZWZpbmVkPiB7XG5cdFx0aWYgKHRoaXMuX2F1dGhSZXN1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLl9hdXRoUmVzdWx0LnVzZXJJbmZvO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBOb3RpZnkgc3Vic2NyaWJlcnMgb2YgYW4gZXZlbnQgY2hhbmdlLlxuXHQgKiBAcGFyYW0gYXV0aEV2ZW50VHlwZSBUaGUgdHlwZSBvZiBhdXRoZW50aWNhdGlvbiBldmVudCB0byBzZW5kIHRvLlxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBub3RpZnlTdWJzY3JpYmVycyhhdXRoRXZlbnRUeXBlOiBBdXRoRXZlbnRUeXBlcyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHN1YnNjcmliZXJzID0gdGhpcy5fZXZlbnRTdWJzY3JpYmVyc1thdXRoRXZlbnRUeXBlXTtcblxuXHRcdGlmIChzdWJzY3JpYmVycykge1xuXHRcdFx0Y29uc3Qgc3Vic2NyaWJlcklkcyA9IE9iamVjdC5rZXlzKHN1YnNjcmliZXJzKTtcblx0XHRcdHN1YnNjcmliZXJJZHMucmV2ZXJzZSgpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXJJZCBvZiBzdWJzY3JpYmVySWRzKSB7XG5cdFx0XHRcdHRoaXMuX2xvZ2dlcj8uaW5mbyhcblx0XHRcdFx0XHRgTm90aWZ5aW5nIHN1YnNjcmliZXIgd2l0aCBzdWJzY3JpcHRpb24gSWQ6ICR7c3Vic2NyaWJlcklkfSBvZiBldmVudCB0eXBlOiAke2F1dGhFdmVudFR5cGV9YFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRhd2FpdCBzdWJzY3JpYmVyc1tzdWJzY3JpYmVySWRdKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHRvIHNlZSBpZiBhIHNlc3Npb24gaGFzIGV4cGlyZWQuXG5cdCAqL1xuXHRwcml2YXRlIGNoZWNrRm9yU2Vzc2lvbkV4cGlyeSgpOiB2b2lkIHtcblx0XHRjb25zdCB2YWxpZGl0eSA9IHRoaXMuX2RlZmluaXRpb24/LmRhdGE/LmNoZWNrU2Vzc2lvblZhbGlkaXR5SW5TZWNvbmRzO1xuXHRcdGlmIChpc051bWJlcih2YWxpZGl0eSkgJiYgdmFsaWRpdHkgPiAwICYmIGlzRW1wdHkodGhpcy5fc2Vzc2lvbkV4cGlyeVRpbWVySWQpKSB7XG5cdFx0XHR0aGlzLl9zZXNzaW9uRXhwaXJ5VGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5fc2Vzc2lvbkV4cGlyeVRpbWVySWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0Y29uc3QgaWRUb2tlbiA9IHRoaXMuX2F1dGhSZXN1bHQ/LmlkVG9rZW47XG5cdFx0XHRcdGNvbnN0IHByb3ZpZGVyVXJsID0gdGhpcy5fZGVmaW5pdGlvbj8uZGF0YT8ucHJvdmlkZXJVcmw7XG5cdFx0XHRcdGNvbnN0IGNsaWVudElkID0gdGhpcy5fZGVmaW5pdGlvbj8uZGF0YT8uY2xpZW50SWQ7XG5cblx0XHRcdFx0bGV0IGlzVmFsaWQgPSBmYWxzZTtcblxuXHRcdFx0XHRpZiAoaXNTdHJpbmdWYWx1ZShpZFRva2VuKSAmJiBpc1N0cmluZ1ZhbHVlKHByb3ZpZGVyVXJsKSAmJiBpc1N0cmluZ1ZhbHVlKGNsaWVudElkKSkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUlkVG9rZW4oaWRUb2tlbiwgY2xpZW50SWQsIHByb3ZpZGVyVXJsKTtcblxuXHRcdFx0XHRcdFx0aXNWYWxpZCA9IHJlc3VsdC52YWxpZDtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdHRoaXMuX2xvZ2dlcj8uZXJyb3IoXCJGYWlsZWQgdmFsaWRhdGluZyB0b2tlblwiLCBmb3JtYXRFcnJvcihlcnIpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaXNWYWxpZCkge1xuXHRcdFx0XHRcdHRoaXMuX2xvZ2dlcj8uaW5mbyhcIlNlc3Npb24gU3RpbGwgQWN0aXZlXCIpO1xuXHRcdFx0XHRcdHRoaXMuY2hlY2tGb3JTZXNzaW9uRXhwaXJ5KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5fbG9nZ2VyPy5pbmZvKFwiU2Vzc2lvbiBub3QgdmFsaWRcIik7XG5cdFx0XHRcdFx0dGhpcy5fYXV0aFJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKFwic2Vzc2lvbi1leHBpcmVkXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB2YWxpZGl0eSAqIDEwMDApO1xuXHRcdH1cblx0fVxufVxuIiwidmFyIGU9e2Q6KHQscik9Pntmb3IodmFyIG8gaW4gcillLm8ocixvKSYmIWUubyh0LG8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLHtlbnVtZXJhYmxlOiEwLGdldDpyW29dfSl9LG86KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0PXt9O2UuZCh0LHtNUzooKT0+UixfNzooKT0+QXV0aGVudGljYXRpb25FcnJvcixjWDooKT0+UCx6TDooKT0+TG9nb3V0RXJyb3IsX1c6KCk9PngscDg6KCk9PmosWVI6KCk9PnplLFUkOigpPT5KZSxVNzooKT0+VWUsT0Y6KCk9PkhlfSk7dmFyIHI9e2Q6KGUsdCk9Pntmb3IodmFyIG8gaW4gdClyLm8odCxvKSYmIXIubyhlLG8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtlbnVtZXJhYmxlOiEwLGdldDp0W29dfSl9LG86KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxvPXt9O3IuZChvLHtNUzooKT0+QXBpRXJyb3IsY0Y6KCk9PkFwaVJlcXVlc3RFcnJvcixBSzooKT0+QXV0aFRva2VuRXhwaXJlZEVycm9yLE1fOigpPT5BdXRob3JpemF0aW9uRXJyb3IsY1g6KCk9PkluaXRpYWxpemF0aW9uRXJyb3IsWWQ6KCk9PncsTzQ6KCk9PlQsX1c6KCk9PlBhcmFtZXRlckVycm9yLHA4OigpPT5WYWxpZGF0aW9uRXJyb3IsbSQ6KCk9PnMsVSQ6KCk9PnUsVTc6KCk9PmgsT1Y6KCk9PmQsTjc6KCk9PkEsSFA6KCk9Pm4sUnA6KCk9Pk99KTtjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7dmFyIHIsbztzdXBlcihlPW51bGwhPT0ocj1udWxsIT1lP2U6bnVsbD09dD92b2lkIDA6dC5tZXNzYWdlKSYmdm9pZCAwIT09cj9yOlwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIiksdGhpcy5uYW1lPXRoaXMuY29uc3RydWN0b3IubmFtZSx0aGlzLnN0YWNrPShlP3RoaXMuc3RhY2s6bnVsbCE9PShvPW51bGw9PXQ/dm9pZCAwOnQuc3RhY2spJiZ2b2lkIDAhPT1vP286dGhpcy5zdGFjaykucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9fWNsYXNzIEFwaVJlcXVlc3RFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGUsdCxyKXt2YXIgbztzdXBlcihlPW51bGwhPT0obz1udWxsIT1lP2U6bnVsbD09cj92b2lkIDA6ci5tZXNzYWdlKSYmdm9pZCAwIT09bz9vOlwiQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiBleGVjdXRpbmcgdGhlIEFQSSByZXF1ZXN0XCIsciksdGhpcy5zdGF0dXM9dH19Y2xhc3MgQXV0aG9yaXphdGlvbkVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZSx0KXt2YXIgcjtzdXBlcihlPW51bGwhPT0ocj1udWxsIT1lP2U6bnVsbD09dD92b2lkIDA6dC5tZXNzYWdlKSYmdm9pZCAwIT09cj9yOlwiQW4gYXV0aG9yaXphdGlvbiBlcnJvciBvY2N1cnJlZFwiLHQpfX1jbGFzcyBBdXRoVG9rZW5FeHBpcmVkRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3ZhciByO3N1cGVyKGU9bnVsbCE9PShyPW51bGwhPWU/ZTpudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UpJiZ2b2lkIDAhPT1yP3I6XCJUaGUgQVBJIHJlcXVlc3QgZmFpbGVkIGFzIHRoZSBhdXRob3JpemF0aW9uIHRva2VucyBoYXZlIGV4cGlyZWRcIix0KX19Y2xhc3MgSW5pdGlhbGl6YXRpb25FcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGUsdCl7dmFyIHI7c3VwZXIoZT1udWxsIT09KHI9bnVsbCE9ZT9lOm51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSkmJnZvaWQgMCE9PXI/cjpcIkFuIGluaXRpYWxpemF0aW9uIGVycm9yIG9jY3VycmVkXCIsdCl9fWNsYXNzIFBhcmFtZXRlckVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoZT1udWxsIT1lP2U6XCJJbnZhbGlkIHBhcmFtZXRlciBkZXRlY3RlZFwiKX19Y2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZSx0KXt2YXIgcjtzdXBlcihlPW51bGwhPT0ocj1udWxsIT1lP2U6bnVsbD09dD92b2lkIDA6dC5tZXNzYWdlKSYmdm9pZCAwIT09cj9yOlwiQSB0b2tlbiB2YWxpZGF0aW9uIGVycm9yIG9jY3VycmVkXCIsdCl9fWNvbnN0IG49KCk9PnZvaWQgMCE9PWNyeXB0by5yYW5kb21VVUlEP2NyeXB0by5yYW5kb21VVUlEKCk6XCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLChlPT57Y29uc3QgdD13aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+Pk51bWJlcihlKS80O3JldHVybihOdW1iZXIoZSledCkudG9TdHJpbmcoMTYpfSkpLGE9XCJvYXV0aC1hcGktYXV0aC1mbG93XCIsaT0oZSx0LHIsbyxuLGEsaSxzKT0+YXN5bmMgYz0+e2NvbnN0IGQ9bmV3IFVSTChjKTtpZigwIT09ZC5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihuLnRvTG93ZXJDYXNlKCkpKXJldHVybiExO2lmKHdpbmRvdy5jbGVhckludGVydmFsKHMpLHdpbmRvdy5jbGVhclRpbWVvdXQodCksd2luZG93LmNsZWFyVGltZW91dChyKSxlLnJlbW92ZUFsbExpc3RlbmVycygpLGUuY2xvc2UoITApLGQuc2VhcmNoUGFyYW1zLmdldChcImVycm9yXCIpKXtjb25zdCBlPW5ldyBBdXRob3JpemF0aW9uRXJyb3IoXCJBdXRob3JpemF0aW9uIGVycm9yXCIpO3JldHVybiBlLmRhdGE9ZC50b1N0cmluZygpLGkoZSksITB9aWYoZC5zZWFyY2hQYXJhbXMuZ2V0KFwic3RhdGVcIikhPT1vKXtjb25zdCBlPW5ldyBBdXRob3JpemF0aW9uRXJyb3IoXCJTdGF0ZSBtaXNtYXRjaFwiKTtyZXR1cm4gZS5kYXRhPWQudG9TdHJpbmcoKSxpKGUpLCEwfWNvbnN0IGw9ZC5zZWFyY2hQYXJhbXMuZ2V0KFwiY29kZVwiKTtpZighbCl7Y29uc3QgZT1uZXcgQXV0aG9yaXphdGlvbkVycm9yKFwiQXV0aG9yaXphdGlvbiBjb2RlIG1pc3NpbmdcIik7cmV0dXJuIGUuZGF0YT1kLnRvU3RyaW5nKCksaShlKSwhMH1yZXR1cm4gYShsKSwhMH0scz1hc3luYyhlLHQscj17fSk9Pntjb25zdHtkZWZhdWx0SGVpZ2h0Om8sZGVmYXVsdFdpZHRoOm59PXI7cmV0dXJuIHQoYXdhaXQgZmluLldpbmRvdy5jcmVhdGUoT2JqZWN0LmFzc2lnbih7YWx3YXlzT25Ub3A6ITAsbWF4aW1pemFibGU6ITEsbWluaW1pemFibGU6ITEsYXV0b1Nob3c6ITEsZGVmYXVsdENlbnRlcmVkOiEwLGRlZmF1bHRIZWlnaHQ6bnVsbCE9bz9vOjc1MCxkZWZhdWx0V2lkdGg6bnVsbCE9bj9uOjYwMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsbmFtZTphLHJlc2l6YWJsZTohMSxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExLHVybDplfSxyKSkpfSxjPShlLHQscik9Pm89Pm5ldyBQcm9taXNlKCgobixhKT0+e2xldCBzO2NvbnN0IGM9d2luZG93LnNldFRpbWVvdXQoKCgpPT57d2luZG93LmNsZWFySW50ZXJ2YWwocyksd2luZG93LmNsZWFyVGltZW91dChjKSxvLnJlbW92ZUFsbExpc3RlbmVycygpLG8uY2xvc2UoITApLGEobmV3IEF1dGhvcml6YXRpb25FcnJvcihcIkF1dGhvcml6YXRpb24gdGltZWQgb3V0XCIpKX0pLDNlNSk7by5hZGRMaXN0ZW5lcihcImNsb3NpbmdcIiwoYXN5bmMoKT0+e3IubG9nSW5mbyhcIlVzZXIgY2xvc2VkIGF1dGggd2luZG93XCIpLHdpbmRvdy5jbGVhckludGVydmFsKHMpLHdpbmRvdy5jbGVhclRpbWVvdXQoYyksby5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxhKG5ldyBBdXRob3JpemF0aW9uRXJyb3IoXCJGYWlsZWQgdG8gY29tcGxldGUgYXV0aG9yaXphdGlvbiBjb2RlIGZsb3dcIikpfSkpO2NvbnN0IGQ9d2luZG93LnNldFRpbWVvdXQoKGFzeW5jKCk9Pnt0cnl7YXdhaXQgby5pc1Nob3dpbmcoKXx8KHIubG9nSW5mbyhcIlNob3dpbmcgYXV0aCB3aW5kb3dcIiksYXdhaXQgby5zaG93KCEwKSxhd2FpdCBvLmZvY3VzKCkpfWNhdGNoKGUpe3IubG9nV2FybmluZyhcIlVuYWJsZSB0byBzaG93IGF1dGggd2luZG93XCIpfX0pLDJlMyk7KGFzeW5jKCk9Pntjb25zdHt2ZXJzaW9uOmx9PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0UnVudGltZUluZm8oKTtwYXJzZUludChsLnNwbGl0KFwiLlwiKVswXSwxMCk+PTMwP2F3YWl0IGkobyxjLGQsZSx0LG4sYSkoKGF3YWl0IG8uZ2V0SW5mbygpKS51cmwpfHxhd2FpdCBvLmFkZExpc3RlbmVyKFwidXJsLWNoYW5nZWRcIiwocz0+e3IubG9nSW5mbyhcIkF1dGggd2luZG93IG5hdmlnYXRlZCB0b1wiLHMudXJsKSxpKG8sYyxkLGUsdCxuLGEpKHMudXJsKX0pKTpzPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pihhc3luYyhlLHQscixvLG4sYSxzLGMpPT57bGV0IGQ7dHJ5e2Q9YXdhaXQgZS5nZXRJbmZvKCl9Y2F0Y2goZSl7cmV0dXJuIHdpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQociksd2luZG93LmNsZWFyVGltZW91dChvKSxjKG5ldyBBdXRob3JpemF0aW9uRXJyb3IoXCJDb3VsZCBub3QgbG9jYXRlIGF1dGggd2luZG93XCIpKSwhMX1yZXR1cm4gaShlLHIsbyxuLGEscyxjLHQpKGQudXJsKX0pKG8scyxjLGQsZSx0LG4sYSkpLDUwMCl9KSgpfSkpLGQ9YXN5bmMoZSx0KT0+e2xldCByO251bGw9PXR8fHQubG9nSW5mbyhcIlJldHJpZXZpbmcgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGFcIixlKTt0cnl7cj1uZXcgVVJMKGUpfWNhdGNoKGUpe3Rocm93IG5ldyBQYXJhbWV0ZXJFcnJvcihcIlVuZXhwZWN0ZWQgaW52YWxpZCBkaXNjb3ZlcnkgVVJMXCIpfWNvbnN0IG89YXdhaXQgZmV0Y2gocix7aGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwifX0pO2lmKCFvLm9rKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byByZXRyaWV2ZSBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YVwiKTtjb25zdCBuPWF3YWl0IG8uanNvbigpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZW1wdHkgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgcmVzcG9uc2VcIik7cmV0dXJuIG51bGw9PXR8fHQubG9nSW5mbyhcIlJldHJpZXZlZCBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YVwiLG4pLG59LGw9ZT0+e2xldCB0PWZpbi5JbnRlZ3JhdGlvbnM7dHx8KGZpbi5JbnRlZ3JhdGlvbnM9e30sdD1maW4uSW50ZWdyYXRpb25zKTtsZXQgcj10W2VdO3JldHVybiByfHwodFtlXT17fSxyPXRbZV0pLHJ9LHU9ZT0+e2woZSkubG9nZ2luZ0VuYWJsZWQ9ITF9LGg9KGUsdD1cIjAuMC4wXCIpPT57bChlKS5sb2dnaW5nRW5hYmxlZD0hMCxjb25zb2xlLmxvZyhwKGUpLGB2JHt0fWApfSxwPWU9PmBbQG9wZW5maW4vJHtlLnRvTG93ZXJDYXNlKCl9XWA7Y2xhc3Mgd3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD1wKGUpLHRoaXMuaXNMb2dnaW5nRW5hYmxlZD10aGlzLmlzTG9nZ2luZ0VuYWJsZWQuYmluZCh0aGlzKSx0aGlzLmxvZ0Vycm9yPXRoaXMubG9nRXJyb3IuYmluZCh0aGlzKSx0aGlzLmxvZ0luZm89dGhpcy5sb2dJbmZvLmJpbmQodGhpcyksdGhpcy5sb2dXYXJuaW5nPXRoaXMubG9nV2FybmluZy5iaW5kKHRoaXMpfWlzTG9nZ2luZ0VuYWJsZWQoKXtyZXR1cm4gbCh0aGlzLm5hbWUpLmxvZ2dpbmdFbmFibGVkfWxvZ0Vycm9yKGUpe3RoaXMuaXNMb2dnaW5nRW5hYmxlZCgpJiYoZS5pbm5lckVycm9yP2NvbnNvbGUuZXJyb3IodGhpcy5wcmVmaXgsZSxcIlxcblxcbihpbm5lcilcIixlLmlubmVyRXJyb3IpOmNvbnNvbGUuZXJyb3IodGhpcy5wcmVmaXgsZSkpfWxvZ0luZm8oLi4uZSl7dGhpcy5pc0xvZ2dpbmdFbmFibGVkKCkmJmNvbnNvbGUubG9nKHRoaXMucHJlZml4LC4uLmUpfWxvZ1dhcm5pbmcoLi4uZSl7dGhpcy5pc0xvZ2dpbmdFbmFibGVkKCkmJmNvbnNvbGUud2Fybih0aGlzLnByZWZpeCwuLi5lKX19Y29uc3QgZz0oKT0+e2xldCBlLHQscixvLG47Y29uc3QgYT1hc3luYyh0LHI9ITEpPT57Y29uc3R7Y29tbWFuZDpvLGRhdGE6bixpZDpzfT10LGM9e2NvbW1hbmQ6byxpZDpzfTt0cnl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQWNjZXNzIHRva2VuIG5vdCBmb3VuZFwiKTtjb25zdHthcGlSZXF1ZXN0VXJsOm8sZGF0YTpzLGhlYWRlcnM6ZCxodHRwTWV0aG9kOmwsaW5jbHVkZUF1dGhvcml6YXRpb246dX09bixoPWF3YWl0KGFzeW5jKHQscixvLG4sYSk9Pnt2YXIgaSxzO2NvbnN0IGM9T2JqZWN0LmFzc2lnbih7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwifSxuKTtcIlBBVENIXCIhPT1yJiZcIlBPU1RcIiE9PXImJlwiUFVUXCIhPT1yfHwvY29udGVudC10eXBlL2kudGVzdChPYmplY3Qua2V5cyhjKS5qb2luKFwiLFwiKSl8fChjW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24vanNvblwiKSxhJiYoYy5BdXRob3JpemF0aW9uPWBCZWFyZXIgJHtlfWApO2NvbnN0IGQ9YXdhaXQgZmV0Y2godCx7Ym9keTpcIm9iamVjdFwiPT10eXBlb2Ygbz9KU09OLnN0cmluZ2lmeShvKTpvLGhlYWRlcnM6YyxtZXRob2Q6cn0pO2lmKCFkLm9rKXtjb25zdCBlPXttZXNzYWdlOlwiRmFpbGVkIHRvIGV4ZWN1dGUgQVBJIHJlcXVlc3RcIn07cmV0dXJuKG51bGw9PT0oaT1kLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpJiYoZS5kYXRhPWF3YWl0IGQuanNvbigpKSxbZC5zdGF0dXMsdm9pZCAwLHZvaWQgMCxlXX1sZXQgbDtjb25zdCB1PW51bGwhPT0ocz1kLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKSYmdm9pZCAwIT09cz9zOlwiXCI7c3dpdGNoKCEwKXtjYXNlIXU6YnJlYWs7Y2FzZS9eYXBwbGljYXRpb25cXC8oXFx3K1xcKyk/anNvbi9pLnRlc3QodSk6bD1hd2FpdCBkLmpzb24oKTticmVhaztjYXNlL15tdWx0aXBhcnRcXC9mb3JtLT9kYXRhfF5hcHBsaWNhdGlvblxcL3gtP3d3dy0/Zm9ybS0/dXJsZW5jb2RlZC9pLnRlc3QodSk6bD1hd2FpdCBkLmZvcm1EYXRhKCk7YnJlYWs7Y2FzZS9eYXBwbGljYXRpb25cXC8oKFteL10rKT94bWx8dm5kXFwub3BlbnhtbGZvcm1hdHMpfF50ZXh0XFwvfF5pbWFnZVxcL3N2Zy9pLnRlc3QodSk6bD1hd2FpdCBkLnRleHQoKTticmVhaztkZWZhdWx0Omw9YXdhaXQgZC5hcnJheUJ1ZmZlcigpfXJldHVybltkLnN0YXR1cyxsLHUsdm9pZCAwXX0pKG8sbCxzLGQsdSksW3AsdyxnLGZdPWg7aWYoYy5zdGF0dXM9cCxmKXtpZighciYmNDAxPT09cCl7Y29uc3RbZSxyXT1hd2FpdCBpKCk7cmV0dXJuIHI/KGMuc3RhdHVzPWUsYy5lcnJvcj1yLGMpOmF3YWl0IGEodCwhMCl9Yy5lcnJvcj1mfWVsc2UgdyYmKGMuZGF0YT13LGMudHlwZT1nKX1jYXRjaChlKXtlIGluc3RhbmNlb2YgRXJyb3I/Yy5lcnJvcj17bWVzc2FnZTplLm1lc3NhZ2V9OmMuZXJyb3I9e21lc3NhZ2U6XCJGYWlsZWQgdG8gZXhlY3V0ZSBBUEkgcmVxdWVzdFwifX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMpfSxpPWFzeW5jKCk9Pnt2YXIgcjtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJBdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSBub3Qgc2V0XCIpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBJRCBub3Qgc2V0XCIpO2NvbnN0IGE9YGdyYW50X3R5cGU9cmVmcmVzaF90b2tlbiZjbGllbnRfaWQ9JHt0fSZyZWZyZXNoX3Rva2VuPSR7bn1gLGk9YXdhaXQgZmV0Y2goby50b2tlbl9lbmRwb2ludCx7Ym9keTphLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LG1ldGhvZDpcIlBPU1RcIn0pO2lmKCFpLm9rKXtjb25zdCBlPXttZXNzYWdlOlwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuXCJ9O3JldHVybihudWxsPT09KHI9aS5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSYmKGUuZGF0YT1hd2FpdCBpLmpzb24oKSksW2kuc3RhdHVzLGVdfWNvbnN0IHM9YXdhaXQgaS5qc29uKCk7cmV0dXJuIGU9cy5hY2Nlc3NfdG9rZW4sW2kuc3RhdHVzXX07c2VsZi5vbm1lc3NhZ2U9YXN5bmMgaT0+e2NvbnN0e2NvbW1hbmQ6cyxpZDpjfT1pLmRhdGE7bGV0IGQ9e2NvbW1hbmQ6cyxpZDpjfTtzd2l0Y2gocyl7Y2FzZVwiQVBJX1JFUVVFU1RcIjpkPWF3YWl0IGEoaS5kYXRhKTticmVhaztjYXNlXCJDT0RFX0VYQ0hBTkdFXCI6ZD1hd2FpdChhc3luYyBhPT57dmFyIGk7Y29uc3R7Y29tbWFuZDpzLGRhdGE6YyxpZDpkfT1hLGw9e2NvbW1hbmQ6cyxpZDpkfTt0cnl7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgbm90IHNldFwiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgSUQgbm90IHNldFwiKTtjb25zdHtjb2RlOmEsY29kZVZlcmlmaWVyOnMscmVkaXJlY3RVcmk6ZH09Yyx1PWBncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSZjbGllbnRfaWQ9JHt0fSZjb2RlPSR7YX0mY29kZV92ZXJpZmllcj0ke3N9JnJlZGlyZWN0X3VyaT0ke2R9YCxoPWF3YWl0IGZldGNoKG8udG9rZW5fZW5kcG9pbnQse2JvZHk6dSxoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxtZXRob2Q6XCJQT1NUXCJ9KTtpZihoLm9rKXtjb25zdCB0PWF3YWl0IGguanNvbigpO2U9dC5hY2Nlc3NfdG9rZW4scj10LmlkX3Rva2VuLG49dC5yZWZyZXNoX3Rva2VufWVsc2V7Y29uc3QgZT17bWVzc2FnZTpcIkZhaWxlZCB0byByZXRyaWV2ZSB0b2tlbnNcIn07KG51bGw9PT0oaT1oLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpJiYoZS5kYXRhPWF3YWl0IGguanNvbigpKSxsLmVycm9yPWV9fWNhdGNoKGUpe2UgaW5zdGFuY2VvZiBFcnJvcj9sLmVycm9yPXttZXNzYWdlOmUubWVzc2FnZX06bC5lcnJvcj17bWVzc2FnZTpcIkZhaWxlZCB0byByZXRyaWV2ZSB0b2tlbnNcIn19cmV0dXJuIFByb21pc2UucmVzb2x2ZShsKX0pKGkuZGF0YSk7YnJlYWs7Y2FzZVwiRVhQSVJFX1RPS0VOU1wiOmQ9YXdhaXQoYXN5bmMgcj0+e3ZhciBhO2NvbnN0e2NvbW1hbmQ6aSxleHBpcmVBY2Nlc3NUb2tlbk9ubHk6cyxpZDpjfT1yLGQ9e2NvbW1hbmQ6aSxpZDpjfTt0cnl7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgbm90IHNldFwiKTtpZighby5yZXZvY2F0aW9uX2VuZHBvaW50KXRocm93IG5ldyBFcnJvcihcIlJldm9jYXRpb24gZW5kcG9pbnQgbWlzc2luZyBpbiBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YVwiKTtpZighcyYmIW4pdGhyb3cgbmV3IEVycm9yKFwiUmVmcmVzaCB0b2tlbiBub3QgZm91bmRcIik7Y29uc3Qgcj1vLnJldm9jYXRpb25fZW5kcG9pbnQ7bGV0IGksYz0hMTtjb25zdCBsPXtib2R5OmBjbGllbnRfaWQ9JHt0fWAsaGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0sbWV0aG9kOlwiUE9TVFwifTtpZihzKXtjb25zdCB0PWF3YWl0IGZldGNoKHIsT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGwpLHtib2R5OmAke2wuYm9keX0mdG9rZW49JHtlfSZ0b2tlbl90eXBlX2hpbnQ9YWNjZXNzX3Rva2VuYH0pKTt0Lm9rfHwoYz0hMCwobnVsbD09PShhPXQuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkmJihpPWF3YWl0IHQuanNvbigpKSl9ZWxzZXtjb25zdCB0PShhd2FpdCBQcm9taXNlLmFsbChbYXdhaXQgZmV0Y2gocixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse2JvZHk6YCR7bC5ib2R5fSZ0b2tlbj0ke2V9JnRva2VuX3R5cGVfaGludD1hY2Nlc3NfdG9rZW5gfSkpLGF3YWl0IGZldGNoKHIsT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGwpLHtib2R5OmAke2wuYm9keX0mdG9rZW49JHtufSZ0b2tlbl90eXBlX2hpbnQ9cmVmcmVzaF90b2tlbmB9KSldKSkuZmlsdGVyKChlPT4hZS5vaykpO3QubGVuZ3RoJiYoYz0hMCxpPWF3YWl0IHRbMF0uanNvbigpKX1pZihjKXtjb25zdCBlPXtkYXRhOmksbWVzc2FnZTpcIkZhaWxlZCB0byBleHBpcmUgdG9rZW5zXCJ9O2QuZXJyb3I9ZX19Y2F0Y2goZSl7ZSBpbnN0YW5jZW9mIEVycm9yP2QuZXJyb3I9e21lc3NhZ2U6ZS5tZXNzYWdlfTpkLmVycm9yPXttZXNzYWdlOlwiRmFpbGVkIHRvIGV4cGlyZSB0b2tlbnNcIn19cmV0dXJuIFByb21pc2UucmVzb2x2ZShkKX0pKGkuZGF0YSk7YnJlYWs7Y2FzZVwiR0VUX0lEX1RPS0VOXCI6bD1pLmRhdGEsZD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse2lkVG9rZW46cn0pO2JyZWFrO2Nhc2VcIklOSVRcIjpkPWF3YWl0KGFzeW5jIGU9Pntjb25zdHtjb21tYW5kOnIsZGF0YTpuLGlkOmF9PWUsaT17Y29tbWFuZDpyLGlkOmF9O3JldHVybiB0PW4uY2xpZW50SWQsbz1uLm1ldGFkYXRhLFByb21pc2UucmVzb2x2ZShpKX0pKGkuZGF0YSk7YnJlYWs7ZGVmYXVsdDpkLmVycm9yPW5ldyBFcnJvcihgVW5leHBlY3RlZCBvYXV0aCB3b3JrZXIgY29tbWFuZDogJHtzfWApfXZhciBsO3NlbGYucG9zdE1lc3NhZ2UoZCl9fTt2YXIgZjshZnVuY3Rpb24oZSl7ZS5BcGlSZXF1ZXN0PVwiQVBJX1JFUVVFU1RcIixlLkNvZGVFeGNoYW5nZT1cIkNPREVfRVhDSEFOR0VcIixlLkV4cGlyZVRva2Vucz1cIkVYUElSRV9UT0tFTlNcIixlLkdldElkVG9rZW49XCJHRVRfSURfVE9LRU5cIixlLkluaXQ9XCJJTklUXCJ9KGZ8fChmPXt9KSk7Y29uc3QgbT1bXSx5PWU9PnttLnB1c2goZSl9LEU9KGUsdCk9PihyLG8sYSk9Pm5ldyBQcm9taXNlKCgoaSxzKT0+e2NvbnN0IGM9e2NvbW1hbmQ6Zi5Db2RlRXhjaGFuZ2UsZGF0YTp7Y29kZTpyLGNvZGVWZXJpZmllcjpvLHJlZGlyZWN0VXJpOmF9LGlkOm4oKX0se2NvbW1hbmQ6ZCxpZDpsfT1jO3koe2NvbW1hbmQ6ZCxpZDpsLHJlamVjdDpzLHJlc29sdmU6aX0pLGUucG9zdE1lc3NhZ2UoYyksdC5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLGMpfSkpLHY9KGUsdCxyKT0+KG8sYSxpLHMsYyk9Pm5ldyBQcm9taXNlKCgoZCxsKT0+e2NvbnN0IHU9e2NvbW1hbmQ6Zi5BcGlSZXF1ZXN0LGRhdGE6e2FwaVJlcXVlc3RVcmw6byxjbGllbnRJZDplLGRhdGE6aSxoZWFkZXJzOnMsaHR0cE1ldGhvZDphLGluY2x1ZGVBdXRob3JpemF0aW9uOmN9LGlkOm4oKX0se2NvbW1hbmQ6aCxpZDpwfT11O3koe2NvbW1hbmQ6aCxpZDpwLHJlamVjdDpsLHJlc29sdmU6ZH0pLHQucG9zdE1lc3NhZ2UodSksci5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLHUpfSkpLFM9KGUsdCk9PnI9Pm5ldyBQcm9taXNlKCgobyxhKT0+e2NvbnN0IGk9e2NvbW1hbmQ6Zi5FeHBpcmVUb2tlbnMsZXhwaXJlQWNjZXNzVG9rZW5Pbmx5OnIsaWQ6bigpfSx7Y29tbWFuZDpzLGlkOmN9PWk7eSh7Y29tbWFuZDpzLGlkOmMscmVqZWN0OmEscmVzb2x2ZTpvfSksZS5wb3N0TWVzc2FnZShpKSx0LmxvZ0luZm8oXCJXb3JrZXIgcmVxdWVzdCBzZW50XCIsaSl9KSksYj0oZSx0KT0+YXN5bmMoKT0+KGF3YWl0IG5ldyBQcm9taXNlKCgocixvKT0+e2NvbnN0IGE9e2NvbW1hbmQ6Zi5HZXRJZFRva2VuLGlkOm4oKX0se2NvbW1hbmQ6aSxpZDpzfT1hO3koe2NvbW1hbmQ6aSxpZDpzLHJlamVjdDpvLHJlc29sdmU6cn0pLGUucG9zdE1lc3NhZ2UoYSksdC5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLGEpfSkpKS5pZFRva2VuLEE9YXN5bmMoZSx0LHIpPT57Y29uc3Qgbz1uZXcgQmxvYihbYCgke2d9KSgpYF0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLGE9VVJMLmNyZWF0ZU9iamVjdFVSTChvKSxpPW5ldyBXb3JrZXIoYSk7cmV0dXJuIGkub25tZXNzYWdlPV8ociksYXdhaXQoKGUsdCxyLG8pPT5uZXcgUHJvbWlzZSgoKGEsaSk9Pntjb25zdCBzPXtjb21tYW5kOmYuSW5pdCxkYXRhOntjbGllbnRJZDp0LG1ldGFkYXRhOmV9LGlkOm4oKX0se2NvbW1hbmQ6YyxpZDpkfT1zO3koe2NvbW1hbmQ6YyxpZDpkLHJlamVjdDppLHJlc29sdmU6YX0pLHIucG9zdE1lc3NhZ2Uocyksby5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLHMpfSkpKShlLHQsaSxyKSx7ZXhjaGFuZ2VDb2RlRm9yVG9rZW5zOkUoaSxyKSxleGVjdXRlQXBpUmVxdWVzdDp2KHQsaSxyKSxleHBpcmVUb2tlbnM6UyhpLHIpLGdldElkVG9rZW46YihpLHIpLHRlcm1pbmF0ZTpJKGkscil9fSxfPWU9PnQ9PntlLmxvZ0luZm8oXCJXb3JrZXIgcmVzcG9uc2UgcmVjZWl2ZWRcIix0LmRhdGEpO2NvbnN0IHI9dC5kYXRhLHtjb21tYW5kOm8sZXJyb3I6bixpZDphfT1yLGk9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdC5pbmRleE9mKG8pPDAmJihyW29dPWVbb10pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPTA7Zm9yKG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtuPG8ubGVuZ3RoO24rKyl0LmluZGV4T2Yob1tuXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsb1tuXSkmJihyW29bbl1dPWVbb1tuXV0pfXJldHVybiByfShyLFtcImNvbW1hbmRcIixcImVycm9yXCIsXCJpZFwiXSkscz0oKGUsdCk9Pm0uZmluZCgocj0+ci5jb21tYW5kPT09dCYmci5pZD09PWUpKSkoYSxvKTtzPyhuPyhcInN0YXR1c1wiaW4gaSYmdm9pZCAwIT09aS5zdGF0dXMmJihuLnN0YXR1cz1pLnN0YXR1cykscy5yZWplY3QobikpOnMucmVzb2x2ZShpKSxrKGEsbykpOmUubG9nRXJyb3IobmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBhd2FpdGVkIHJlcXVlc3RcIikpfSxrPShlLHQpPT57Y29uc3Qgcj1tLmZpbmRJbmRleCgocj0+ci5jb21tYW5kPT09dCYmci5pZD09PWUpKTtyPj0wJiZtLnNwbGljZShyLDEpfSxJPShlLHQpPT5hc3luYygpPT57dHJ5e2F3YWl0IFMoZSx0KSghMSl9Y2F0Y2goZSl7dC5sb2dXYXJuaW5nKGUubWVzc2FnZSl9ZS50ZXJtaW5hdGUoKSx0LmxvZ0luZm8oXCJXb3JrZXIgdGVybWluYXRlZFwiKX07Y2xhc3MgVHtnZXQgYXBpT3JpZ2luKCl7cmV0dXJuIHRoaXMuX2FwaU9yaWdpbn1nZXQgY2xpZW50SWQoKXtyZXR1cm4gdGhpcy5fY2xpZW50SWR9Z2V0IGxvZ2dlcigpe3JldHVybiB0aGlzLl9sb2dnZXJ9Z2V0IG1ldGFkYXRhKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhfWdldCB3b3JrZXIoKXtyZXR1cm4gdGhpcy5fd29ya2VyfWNvbnN0cnVjdG9yKGUsdCxyLG8sbil7aWYodGhpcy5leGVjdXRlQXBpUmVxdWVzdD1hc3luYyhlLHQ9XCJHRVRcIixyLG8sbj0hMCxhPSExKT0+e3RoaXMuX2xvZ2dlci5sb2dJbmZvKFwiRXhlY3V0ZUFwaVJlcXVlc3Qgc3RhcnRlZFwiLGUsdCxyLG8pO3RyeXtjb25zdCBhPWF3YWl0KChlLHQpPT5hc3luYyhyLG8sbixhLGkpPT57dHJ5e3JldHVybiBhd2FpdCB0LmV4ZWN1dGVBcGlSZXF1ZXN0KGAke2V9JHtyfWAsbyxuLGEsaSl9Y2F0Y2goZSl7bGV0IHQ7Y29uc3R7ZGF0YTpyLG1lc3NhZ2U6byxzdGF0dXM6bn09ZTt0aHJvdyB0PWUgaW5zdGFuY2VvZiBFcnJvcj9uZXcgQXBpUmVxdWVzdEVycm9yKG8sbik6XCJGYWlsZWQgdG8gcmVmcmVzaCBhY2Nlc3MgdG9rZW5cIj09PW8/bmV3IEF1dGhUb2tlbkV4cGlyZWRFcnJvcihvKTpuZXcgQXBpUmVxdWVzdEVycm9yKG8sbiksdC5kYXRhPXIsdH19KSh0aGlzLl9hcGlPcmlnaW4sdGhpcy5fd29ya2VyKShlLHQscixvLG4pO3JldHVybiB0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkV4ZWN1dGVBcGlSZXF1ZXN0IGNvbXBsZXRlZFwiLGEpLGF9Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIEFwaVJlcXVlc3RFcnJvcil7Y29uc3R7ZGF0YTp0LG1lc3NhZ2U6cixuYW1lOm8sc3RhY2s6bn09ZSxhPXRoaXMuZ2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlKHQpO2EmJihlLm1lc3NhZ2U9YSxlLnN0YWNrPW51bGw9PW4/dm9pZCAwOm4ucmVwbGFjZShgJHtvfTogJHtyfWAsYCR7b306ICR7YX1gKSl9dGhyb3cgYSYmdGhpcy5sb2dnZXIubG9nRXJyb3IoZSksZX19LCEodCYmciYmbyYmbikpdGhyb3cgbmV3IEluaXRpYWxpemF0aW9uRXJyb3IoXCJQcm92aWRlciBoYXMgbm90IGJlZW4gcHJvcGVybHkgaW5pdGlhbGl6ZWQgKGNhbGwgaW5pdCB0byBjcmVhdGUgbmV3IGluc3RhbmNlcylcIik7dGhpcy5fYXBpT3JpZ2luPW51bGwhPWU/ZTpcIlwiLHRoaXMuX2NsaWVudElkPXQsdGhpcy5fbWV0YWRhdGE9cix0aGlzLl93b3JrZXI9byx0aGlzLl9sb2dnZXI9bix0aGlzLmF1dGhvcml6ZT10aGlzLmF1dGhvcml6ZS5iaW5kKHRoaXMpLHRoaXMuY2xvc2U9dGhpcy5jbG9zZS5iaW5kKHRoaXMpLHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3Q9dGhpcy5leGVjdXRlQXBpUmVxdWVzdC5iaW5kKHRoaXMpLHRoaXMuZXhwaXJlVG9rZW5zPXRoaXMuZXhwaXJlVG9rZW5zLmJpbmQodGhpcyksdGhpcy5nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2U9dGhpcy5nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2UuYmluZCh0aGlzKSx0aGlzLmdldElkVG9rZW49dGhpcy5nZXRJZFRva2VuLmJpbmQodGhpcyl9YXN5bmMgYXV0aG9yaXplKGUsdCxyKXt0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkF1dGhvcml6ZSBzdGFydGVkXCIsZSx0LHIpO3RyeXthd2FpdChvPXRoaXMuX21ldGFkYXRhLGk9dGhpcy5fY2xpZW50SWQsZD10aGlzLl93b3JrZXIsbD10aGlzLl9sb2dnZXIsYXN5bmMoZSx0PXt9LHI9e30pPT57Y29uc3R7YXV0aG9yaXphdGlvbl9lbmRwb2ludDp1fT1vLGg9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkscD0oYXdhaXQgaC5nZXRDaGlsZFdpbmRvd3MoKSkuZmluZCgoZT0+ZS5pZGVudGl0eS5uYW1lPT09YSkpO3AmJmF3YWl0IHAuY2xvc2UoITApO2NvbnN0IHc9bigpLGc9KCgpPT57Y29uc3QgZT1uZXcgVWludDMyQXJyYXkoNjQpO3JldHVybiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxBcnJheS5mcm9tKGUsKGU9PmAwJHtlLnRvU3RyaW5nKDE2KX1gLnNsaWNlKC0yKSkpLmpvaW4oXCJcIil9KSgpLGY9KGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PShuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKSxyPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIix0KSxvPWF3YWl0KGU9Pm5ldyBQcm9taXNlKCgodCxyKT0+e3RyeXtjb25zdCBvPW5ldyBCbG9iKFtlXSksbj1uZXcgRmlsZVJlYWRlcjtuLm9ubG9hZD1lPT57dmFyIG8sbjtjb25zdCBhPW51bGw9PT0obz1lLnRhcmdldCl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucmVzdWx0O2lmKGEpe2NvbnN0WyxlXT1BcnJheS5mcm9tKG51bGwhPT0obj1hLm1hdGNoKC9iYXNlNjQsKC4qKSQvaSkpJiZ2b2lkIDAhPT1uP246W10pO3QobnVsbCE9ZT9lOlwiXCIpfXIobmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSByZXN1bHRcIikpfSxuLnJlYWRBc0RhdGFVUkwobyl9Y2F0Y2goZSl7cihlKX19KSkpKHIpO3JldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiLVwiKS5yZXBsYWNlKC9cXC8vZyxcIl9cIil9KShnKSkucmVwbGFjZSgvPSskLyxcIlwiKSxtPW5ldyBVUkwodSk7bS5zZWFyY2hQYXJhbXMuc2V0KFwiY2xpZW50X2lkXCIsaSksbS5zZWFyY2hQYXJhbXMuc2V0KFwicmVkaXJlY3RfdXJpXCIsZSksbS5zZWFyY2hQYXJhbXMuc2V0KFwicmVzcG9uc2VfdHlwZVwiLFwiY29kZVwiKSxtLnNlYXJjaFBhcmFtcy5zZXQoXCJzdGF0ZVwiLHcpLG0uc2VhcmNoUGFyYW1zLnNldChcImNvZGVfY2hhbGxlbmdlXCIsZiksbS5zZWFyY2hQYXJhbXMuc2V0KFwiY29kZV9jaGFsbGVuZ2VfbWV0aG9kXCIsXCJTMjU2XCIpLE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKGU9Pm0uc2VhcmNoUGFyYW1zLnNldChlWzBdLGVbMV0pKSksbC5sb2dJbmZvKFwiU3RhcnRpbmcgT0F1dGggZmxvd1wiLG0scik7Y29uc3QgeT1hd2FpdCBzKG0udG9TdHJpbmcoKSxjKHcsZSxsKSxyKTtsLmxvZ0luZm8oXCJSZWNlaXZlZCBhdXRob3JpemF0aW9uIGNvZGVcIiksYXdhaXQgZC5leGNoYW5nZUNvZGVGb3JUb2tlbnMoeSxnLGUpLGwubG9nSW5mbyhcIlJlY2VpdmVkIHRva2Vuc1wiKX0pKGUsdCxyKSx0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkF1dGhvcml6ZSBjb21wbGV0ZWRcIil9Y2F0Y2goZSl7bGV0IHQ7aWYoZSBpbnN0YW5jZW9mIEFwaUVycm9yKXtjb25zdHtkYXRhOnJ9PWUsbz10aGlzLmdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZShyKTt0PW5ldyBBdXRob3JpemF0aW9uRXJyb3IobyxlKSx0LmRhdGE9cn1lbHNlIHQ9bmV3IEF1dGhvcml6YXRpb25FcnJvcih2b2lkIDAsZSk7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH12YXIgbyxpLGQsbH1hc3luYyBjbG9zZSgpe3ZhciBlO3RoaXMuX2xvZ2dlci5sb2dJbmZvKFwiQ2xvc2Ugc3RhcnRlZFwiKTt0cnl7YXdhaXQobnVsbD09PShlPXRoaXMuX3dvcmtlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUudGVybWluYXRlKCkpLHRoaXMuX3dvcmtlcj12b2lkIDAsdGhpcy5fYXBpT3JpZ2luPXZvaWQgMCx0aGlzLl9jbGllbnRJZD12b2lkIDAsdGhpcy5fbWV0YWRhdGE9dm9pZCAwLHRoaXMuX2xvZ2dlci5sb2dJbmZvKFwiQ2xvc2UgY29tcGxldGVkXCIpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFwaUVycm9yKHZvaWQgMCxlKTt0aHJvdyB0aGlzLl9sb2dnZXIubG9nRXJyb3IodCksdH19YXN5bmMgZXhwaXJlVG9rZW5zKGU9ITEpe3ZhciB0O3RoaXMuX2xvZ2dlci5sb2dJbmZvKFwiRXhwaXJlVG9rZW5zIHN0YXJ0ZWRcIik7dHJ5e2F3YWl0KG51bGw9PT0odD10aGlzLl93b3JrZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmV4cGlyZVRva2VucyhlKSksdGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJFeHBpcmVUb2tlbnMgY29tcGxldGVkXCIpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFwaUVycm9yKHZvaWQgMCxlKTt0aHJvdyB0aGlzLl9sb2dnZXIubG9nRXJyb3IodCksdH19Z2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlKGUpe2UmJnRoaXMuX2xvZ2dlci5sb2dXYXJuaW5nKGUpfWFzeW5jIGdldElkVG9rZW4oKXt2YXIgZTt0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkdldElkVG9rZW4gc3RhcnRlZFwiKTt0cnl7Y29uc3QgdD1hd2FpdChudWxsPT09KGU9dGhpcy5fd29ya2VyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRJZFRva2VuKCkpO3JldHVybiB0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkdldElkVG9rZW4gY29tcGxldGVkXCIsdCksdH1jYXRjaChlKXtjb25zdCB0PW5ldyBBcGlFcnJvcih2b2lkIDAsZSk7dGhyb3cgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fXN0YXRpYyBhc3luYyBpbml0KGUsdCxyLG8sLi4ubil7Y29uc3QgYT1uZXcgdyhvKTthLmxvZ0luZm8oXCJJbml0IHN0YXJ0ZWRcIixlLHQscik7dHJ5e2xldCBvO2lmKFwiZGlzY292ZXJ5RW5kcG9pbnRcImluIGUpe2NvbnN0e2FkZGl0aW9uYWxNZXRhZGF0YTp0LGRpc2NvdmVyeUVuZHBvaW50OnJ9PWU7bz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYXdhaXQgZChyKSksbnVsbCE9dD90Ont9KX1lbHNlIG89ZTtpZighby5yZXNwb25zZV90eXBlc19zdXBwb3J0ZWQuZmluZCgoZT0+XCJjb2RlXCI9PT1lLnRvTG93ZXJDYXNlKCkpKSl0aHJvdyBuZXcgSW5pdGlhbGl6YXRpb25FcnJvcihcIkF1dGhvcml6YXRpb24gc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGF1dGhvcml6YXRpb24gY29kZSByZXNwb25zZSB0eXBlXCIpO2NvbnN0IG49YXdhaXQgQShvLHIsYSksaT1uZXcgVCh0LHIsbyxuLGEpO3JldHVybiBhLmxvZ0luZm8oXCJJbml0IGNvbXBsZXRlZFwiLGkpLGl9Y2F0Y2goZSl7bGV0IHQ7dGhyb3cgdD1lIGluc3RhbmNlb2YgQXBpRXJyb3I/ZTpuZXcgSW5pdGlhbGl6YXRpb25FcnJvcih2b2lkIDAsZSksYS5sb2dFcnJvcih0KSx0fX19Y29uc3QgTz1lPT5hc3luYyh0LHIsbyk9PntsZXQgbjtudWxsPT1lfHxlLmxvZ0luZm8oXCJWYWxpZGF0aW5nIHRva2VuIGFnYWluc3QgaW50cm9zcGVjdGlvbiBlbmRwb2ludFwiLHQscixvKTt0cnl7bj1hd2FpdCBmZXRjaChvLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxib2R5OmB0b2tlbj0ke3R9JmNsaWVudF9pZD0ke3J9YH0pfWNhdGNoKGUpe3Rocm93IG5ldyBWYWxpZGF0aW9uRXJyb3Iodm9pZCAwLGUpfWlmKG4ub2spe2NvbnN0IHQ9YXdhaXQgbi5qc29uKCkse2FjdGl2ZTpyfT10LG89ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdC5pbmRleE9mKG8pPDAmJihyW29dPWVbb10pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPTA7Zm9yKG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtuPG8ubGVuZ3RoO24rKyl0LmluZGV4T2Yob1tuXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsb1tuXSkmJihyW29bbl1dPWVbb1tuXV0pfXJldHVybiByfSh0LFtcImFjdGl2ZVwiXSksYT1PYmplY3QuYXNzaWduKHt2YWxpZDpyfSxvKTtyZXR1cm4gbnVsbD09ZXx8ZS5sb2dJbmZvKFwiVG9rZW4gdmFsaWRhdGlvbiByZXN1bHRcIixhKSxhfWNvbnN0IGE9YXdhaXQgbi5qc29uKCk7dGhyb3cgbnVsbD09ZXx8ZS5sb2dXYXJuaW5nKFwiVG9rZW4gVmFsaWRhdGlvbiBmYWlsZWRcIixhKSxuZXcgVmFsaWRhdGlvbkVycm9yfTt2YXIgUj1vLk1TLFA9by5jWCxDPW8uWWQsVz1vLk80LHg9by5fVyxqPW8ucDgsJD1vLm0kLEo9by5VJCxVPW8uVTcsSz1vLk9WLEQ9by5ONyxMPW8uUnA7Y29uc3QgSD1uZXcgVGV4dEVuY29kZXIsTT1uZXcgVGV4dERlY29kZXI7ZnVuY3Rpb24geiguLi5lKXtjb25zdCB0PWUucmVkdWNlKCgoZSx7bGVuZ3RoOnR9KT0+ZSt0KSwwKSxyPW5ldyBVaW50OEFycmF5KHQpO2xldCBvPTA7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e3Iuc2V0KGUsbyksbys9ZS5sZW5ndGh9KSkscn1jb25zdCBOPWU9PntsZXQgdD1lO3QgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYodD1NLmRlY29kZSh0KSksdD10LnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKS5yZXBsYWNlKC9cXHMvZyxcIlwiKTt0cnl7cmV0dXJuKGU9Pntjb25zdCB0PWF0b2IoZSkscj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspcltlXT10LmNoYXJDb2RlQXQoZSk7cmV0dXJuIHJ9KSh0KX1jYXRjaChlKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGlucHV0IHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLlwiKX19O2NsYXNzIEpPU0VFcnJvciBleHRlbmRzIEVycm9ye3N0YXRpYyBnZXQgY29kZSgpe3JldHVyblwiRVJSX0pPU0VfR0VORVJJQ1wifWNvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGUpLHRoaXMuY29kZT1cIkVSUl9KT1NFX0dFTkVSSUNcIix0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLG51bGw9PT0odD1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSl8fHZvaWQgMD09PXR8fHQuY2FsbChFcnJvcix0aGlzLHRoaXMuY29uc3RydWN0b3IpfX1jbGFzcyBGIGV4dGVuZHMgSk9TRUVycm9ye3N0YXRpYyBnZXQgY29kZSgpe3JldHVyblwiRVJSX0pXVF9DTEFJTV9WQUxJREFUSU9OX0ZBSUxFRFwifWNvbnN0cnVjdG9yKGUsdD1cInVuc3BlY2lmaWVkXCIscj1cInVuc3BlY2lmaWVkXCIpe3N1cGVyKGUpLHRoaXMuY29kZT1cIkVSUl9KV1RfQ0xBSU1fVkFMSURBVElPTl9GQUlMRURcIix0aGlzLmNsYWltPXQsdGhpcy5yZWFzb249cn19Y2xhc3MgcSBleHRlbmRzIEpPU0VFcnJvcntzdGF0aWMgZ2V0IGNvZGUoKXtyZXR1cm5cIkVSUl9KV1RfRVhQSVJFRFwifWNvbnN0cnVjdG9yKGUsdD1cInVuc3BlY2lmaWVkXCIscj1cInVuc3BlY2lmaWVkXCIpe3N1cGVyKGUpLHRoaXMuY29kZT1cIkVSUl9KV1RfRVhQSVJFRFwiLHRoaXMuY2xhaW09dCx0aGlzLnJlYXNvbj1yfX1jbGFzcyBHIGV4dGVuZHMgSk9TRUVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvZGU9XCJFUlJfSk9TRV9BTEdfTk9UX0FMTE9XRURcIn1zdGF0aWMgZ2V0IGNvZGUoKXtyZXR1cm5cIkVSUl9KT1NFX0FMR19OT1RfQUxMT1dFRFwifX1jbGFzcyBWIGV4dGVuZHMgSk9TRUVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvZGU9XCJFUlJfSk9TRV9OT1RfU1VQUE9SVEVEXCJ9c3RhdGljIGdldCBjb2RlKCl7cmV0dXJuXCJFUlJfSk9TRV9OT1RfU1VQUE9SVEVEXCJ9fWNsYXNzIEIgZXh0ZW5kcyBKT1NFRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29kZT1cIkVSUl9KV1NfSU5WQUxJRFwifXN0YXRpYyBnZXQgY29kZSgpe3JldHVyblwiRVJSX0pXU19JTlZBTElEXCJ9fWNsYXNzIFggZXh0ZW5kcyBKT1NFRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29kZT1cIkVSUl9KV1RfSU5WQUxJRFwifXN0YXRpYyBnZXQgY29kZSgpe3JldHVyblwiRVJSX0pXVF9JTlZBTElEXCJ9fWNsYXNzIFkgZXh0ZW5kcyBKT1NFRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29kZT1cIkVSUl9KV0tTX0lOVkFMSURcIn1zdGF0aWMgZ2V0IGNvZGUoKXtyZXR1cm5cIkVSUl9KV0tTX0lOVkFMSURcIn19Y2xhc3MgUSBleHRlbmRzIEpPU0VFcnJvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5jb2RlPVwiRVJSX0pXS1NfTk9fTUFUQ0hJTkdfS0VZXCIsdGhpcy5tZXNzYWdlPVwibm8gYXBwbGljYWJsZSBrZXkgZm91bmQgaW4gdGhlIEpTT04gV2ViIEtleSBTZXRcIn1zdGF0aWMgZ2V0IGNvZGUoKXtyZXR1cm5cIkVSUl9KV0tTX05PX01BVENISU5HX0tFWVwifX1jbGFzcyBaIGV4dGVuZHMgSk9TRUVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvZGU9XCJFUlJfSldLU19NVUxUSVBMRV9NQVRDSElOR19LRVlTXCIsdGhpcy5tZXNzYWdlPVwibXVsdGlwbGUgbWF0Y2hpbmcga2V5cyBmb3VuZCBpbiB0aGUgSlNPTiBXZWIgS2V5IFNldFwifXN0YXRpYyBnZXQgY29kZSgpe3JldHVyblwiRVJSX0pXS1NfTVVMVElQTEVfTUFUQ0hJTkdfS0VZU1wifX1TeW1ib2wuYXN5bmNJdGVyYXRvcjtjbGFzcyBlZSBleHRlbmRzIEpPU0VFcnJvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5jb2RlPVwiRVJSX0pXS1NfVElNRU9VVFwiLHRoaXMubWVzc2FnZT1cInJlcXVlc3QgdGltZWQgb3V0XCJ9c3RhdGljIGdldCBjb2RlKCl7cmV0dXJuXCJFUlJfSldLU19USU1FT1VUXCJ9fWNsYXNzIHRlIGV4dGVuZHMgSk9TRUVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvZGU9XCJFUlJfSldTX1NJR05BVFVSRV9WRVJJRklDQVRJT05fRkFJTEVEXCIsdGhpcy5tZXNzYWdlPVwic2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIn1zdGF0aWMgZ2V0IGNvZGUoKXtyZXR1cm5cIkVSUl9KV1NfU0lHTkFUVVJFX1ZFUklGSUNBVElPTl9GQUlMRURcIn19Y29uc3QgcmU9Y3J5cHRvLG9lPWU9PmUgaW5zdGFuY2VvZiBDcnlwdG9LZXk7cmUuZ2V0UmFuZG9tVmFsdWVzLmJpbmQocmUpO2NvbnN0IG5lPWFzeW5jIGU9Pnt2YXIgdCxyO2lmKCFlLmFsZyl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImFsZ1wiIGFyZ3VtZW50IGlzIHJlcXVpcmVkIHdoZW4gXCJqd2suYWxnXCIgaXMgbm90IHByZXNlbnQnKTtjb25zdHthbGdvcml0aG06byxrZXlVc2FnZXM6bn09ZnVuY3Rpb24oZSl7bGV0IHQscjtzd2l0Y2goZS5rdHkpe2Nhc2VcIm9jdFwiOnN3aXRjaChlLmFsZyl7Y2FzZVwiSFMyNTZcIjpjYXNlXCJIUzM4NFwiOmNhc2VcIkhTNTEyXCI6dD17bmFtZTpcIkhNQUNcIixoYXNoOmBTSEEtJHtlLmFsZy5zbGljZSgtMyl9YH0scj1bXCJzaWduXCIsXCJ2ZXJpZnlcIl07YnJlYWs7Y2FzZVwiQTEyOENCQy1IUzI1NlwiOmNhc2VcIkExOTJDQkMtSFMzODRcIjpjYXNlXCJBMjU2Q0JDLUhTNTEyXCI6dGhyb3cgbmV3IFYoYCR7ZS5hbGd9IGtleXMgY2Fubm90IGJlIGltcG9ydGVkIGFzIENyeXB0b0tleSBpbnN0YW5jZXNgKTtjYXNlXCJBMTI4R0NNXCI6Y2FzZVwiQTE5MkdDTVwiOmNhc2VcIkEyNTZHQ01cIjpjYXNlXCJBMTI4R0NNS1dcIjpjYXNlXCJBMTkyR0NNS1dcIjpjYXNlXCJBMjU2R0NNS1dcIjp0PXtuYW1lOlwiQUVTLUdDTVwifSxyPVtcImVuY3J5cHRcIixcImRlY3J5cHRcIl07YnJlYWs7Y2FzZVwiQTEyOEtXXCI6Y2FzZVwiQTE5MktXXCI6Y2FzZVwiQTI1NktXXCI6dD17bmFtZTpcIkFFUy1LV1wifSxyPVtcIndyYXBLZXlcIixcInVud3JhcEtleVwiXTticmVhaztjYXNlXCJQQkVTMi1IUzI1NitBMTI4S1dcIjpjYXNlXCJQQkVTMi1IUzM4NCtBMTkyS1dcIjpjYXNlXCJQQkVTMi1IUzUxMitBMjU2S1dcIjp0PXtuYW1lOlwiUEJLREYyXCJ9LHI9W1wiZGVyaXZlQml0c1wiXTticmVhaztkZWZhdWx0OnRocm93IG5ldyBWKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIEpXSyBcImFsZ1wiIChBbGdvcml0aG0pIFBhcmFtZXRlciB2YWx1ZScpfWJyZWFrO2Nhc2VcIlJTQVwiOnN3aXRjaChlLmFsZyl7Y2FzZVwiUFMyNTZcIjpjYXNlXCJQUzM4NFwiOmNhc2VcIlBTNTEyXCI6dD17bmFtZTpcIlJTQS1QU1NcIixoYXNoOmBTSEEtJHtlLmFsZy5zbGljZSgtMyl9YH0scj1lLmQ/W1wic2lnblwiXTpbXCJ2ZXJpZnlcIl07YnJlYWs7Y2FzZVwiUlMyNTZcIjpjYXNlXCJSUzM4NFwiOmNhc2VcIlJTNTEyXCI6dD17bmFtZTpcIlJTQVNTQS1QS0NTMS12MV81XCIsaGFzaDpgU0hBLSR7ZS5hbGcuc2xpY2UoLTMpfWB9LHI9ZS5kP1tcInNpZ25cIl06W1widmVyaWZ5XCJdO2JyZWFrO2Nhc2VcIlJTQS1PQUVQXCI6Y2FzZVwiUlNBLU9BRVAtMjU2XCI6Y2FzZVwiUlNBLU9BRVAtMzg0XCI6Y2FzZVwiUlNBLU9BRVAtNTEyXCI6dD17bmFtZTpcIlJTQS1PQUVQXCIsaGFzaDpgU0hBLSR7cGFyc2VJbnQoZS5hbGcuc2xpY2UoLTMpLDEwKXx8MX1gfSxyPWUuZD9bXCJkZWNyeXB0XCIsXCJ1bndyYXBLZXlcIl06W1wiZW5jcnlwdFwiLFwid3JhcEtleVwiXTticmVhaztkZWZhdWx0OnRocm93IG5ldyBWKCdJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIEpXSyBcImFsZ1wiIChBbGdvcml0aG0pIFBhcmFtZXRlciB2YWx1ZScpfWJyZWFrO2Nhc2VcIkVDXCI6c3dpdGNoKGUuYWxnKXtjYXNlXCJFUzI1NlwiOnQ9e25hbWU6XCJFQ0RTQVwiLG5hbWVkQ3VydmU6XCJQLTI1NlwifSxyPWUuZD9bXCJzaWduXCJdOltcInZlcmlmeVwiXTticmVhaztjYXNlXCJFUzM4NFwiOnQ9e25hbWU6XCJFQ0RTQVwiLG5hbWVkQ3VydmU6XCJQLTM4NFwifSxyPWUuZD9bXCJzaWduXCJdOltcInZlcmlmeVwiXTticmVhaztjYXNlXCJFUzUxMlwiOnQ9e25hbWU6XCJFQ0RTQVwiLG5hbWVkQ3VydmU6XCJQLTUyMVwifSxyPWUuZD9bXCJzaWduXCJdOltcInZlcmlmeVwiXTticmVhaztjYXNlXCJFQ0RILUVTXCI6Y2FzZVwiRUNESC1FUytBMTI4S1dcIjpjYXNlXCJFQ0RILUVTK0ExOTJLV1wiOmNhc2VcIkVDREgtRVMrQTI1NktXXCI6dD17bmFtZTpcIkVDREhcIixuYW1lZEN1cnZlOmUuY3J2fSxyPWUuZD9bXCJkZXJpdmVCaXRzXCJdOltdO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFYoJ0ludmFsaWQgb3IgdW5zdXBwb3J0ZWQgSldLIFwiYWxnXCIgKEFsZ29yaXRobSkgUGFyYW1ldGVyIHZhbHVlJyl9YnJlYWs7Y2FzZVwiT0tQXCI6c3dpdGNoKGUuYWxnKXtjYXNlXCJFZERTQVwiOnQ9e25hbWU6ZS5jcnZ9LHI9ZS5kP1tcInNpZ25cIl06W1widmVyaWZ5XCJdO2JyZWFrO2Nhc2VcIkVDREgtRVNcIjpjYXNlXCJFQ0RILUVTK0ExMjhLV1wiOmNhc2VcIkVDREgtRVMrQTE5MktXXCI6Y2FzZVwiRUNESC1FUytBMjU2S1dcIjp0PXtuYW1lOmUuY3J2fSxyPWUuZD9bXCJkZXJpdmVCaXRzXCJdOltdO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFYoJ0ludmFsaWQgb3IgdW5zdXBwb3J0ZWQgSldLIFwiYWxnXCIgKEFsZ29yaXRobSkgUGFyYW1ldGVyIHZhbHVlJyl9YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVignSW52YWxpZCBvciB1bnN1cHBvcnRlZCBKV0sgXCJrdHlcIiAoS2V5IFR5cGUpIFBhcmFtZXRlciB2YWx1ZScpfXJldHVybnthbGdvcml0aG06dCxrZXlVc2FnZXM6cn19KGUpLGE9W28sbnVsbCE9PSh0PWUuZXh0KSYmdm9pZCAwIT09dCYmdCxudWxsIT09KHI9ZS5rZXlfb3BzKSYmdm9pZCAwIT09cj9yOm5dO2lmKFwiUEJLREYyXCI9PT1vLm5hbWUpcmV0dXJuIHJlLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixOKGUuayksLi4uYSk7Y29uc3QgaT17Li4uZX07cmV0dXJuIGRlbGV0ZSBpLmFsZyxkZWxldGUgaS51c2UscmUuc3VidGxlLmltcG9ydEtleShcImp3a1wiLGksLi4uYSl9O2Z1bmN0aW9uIGFlKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZih0PWUpfHxudWxsPT09dHx8XCJbb2JqZWN0IE9iamVjdF1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4hMTt2YXIgdDtpZihudWxsPT09T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKXJldHVybiEwO2xldCByPWU7Zm9yKDtudWxsIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpOylyPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09cn1jb25zdCBpZT1mdW5jdGlvbihlLHQscixvLG4pe2lmKHZvaWQgMCE9PW4uY3JpdCYmdm9pZCAwPT09by5jcml0KXRocm93IG5ldyBlKCdcImNyaXRcIiAoQ3JpdGljYWwpIEhlYWRlciBQYXJhbWV0ZXIgTVVTVCBiZSBpbnRlZ3JpdHkgcHJvdGVjdGVkJyk7aWYoIW98fHZvaWQgMD09PW8uY3JpdClyZXR1cm4gbmV3IFNldDtpZighQXJyYXkuaXNBcnJheShvLmNyaXQpfHwwPT09by5jcml0Lmxlbmd0aHx8by5jcml0LnNvbWUoKGU9Plwic3RyaW5nXCIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpKSl0aHJvdyBuZXcgZSgnXCJjcml0XCIgKENyaXRpY2FsKSBIZWFkZXIgUGFyYW1ldGVyIE1VU1QgYmUgYW4gYXJyYXkgb2Ygbm9uLWVtcHR5IHN0cmluZ3Mgd2hlbiBwcmVzZW50Jyk7bGV0IGE7YT12b2lkIDAhPT1yP25ldyBNYXAoWy4uLk9iamVjdC5lbnRyaWVzKHIpLC4uLnQuZW50cmllcygpXSk6dDtmb3IoY29uc3QgdCBvZiBvLmNyaXQpe2lmKCFhLmhhcyh0KSl0aHJvdyBuZXcgVihgRXh0ZW5zaW9uIEhlYWRlciBQYXJhbWV0ZXIgXCIke3R9XCIgaXMgbm90IHJlY29nbml6ZWRgKTtpZih2b2lkIDA9PT1uW3RdKXRocm93IG5ldyBlKGBFeHRlbnNpb24gSGVhZGVyIFBhcmFtZXRlciBcIiR7dH1cIiBpcyBtaXNzaW5nYCk7aWYoYS5nZXQodCkmJnZvaWQgMD09PW9bdF0pdGhyb3cgbmV3IGUoYEV4dGVuc2lvbiBIZWFkZXIgUGFyYW1ldGVyIFwiJHt0fVwiIE1VU1QgYmUgaW50ZWdyaXR5IHByb3RlY3RlZGApfXJldHVybiBuZXcgU2V0KG8uY3JpdCl9O1N5bWJvbCgpO2Z1bmN0aW9uIHNlKGUsdD1cImFsZ29yaXRobS5uYW1lXCIpe3JldHVybiBuZXcgVHlwZUVycm9yKGBDcnlwdG9LZXkgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIG9wZXJhdGlvbiwgaXRzICR7dH0gbXVzdCBiZSAke2V9YCl9ZnVuY3Rpb24gY2UoZSx0KXtyZXR1cm4gZS5uYW1lPT09dH1mdW5jdGlvbiBkZShlKXtyZXR1cm4gcGFyc2VJbnQoZS5uYW1lLnNsaWNlKDQpLDEwKX1mdW5jdGlvbiBsZShlLHQpe2lmKHQubGVuZ3RoJiYhdC5zb21lKCh0PT5lLnVzYWdlcy5pbmNsdWRlcyh0KSkpKXtsZXQgZT1cIkNyeXB0b0tleSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMgb3BlcmF0aW9uLCBpdHMgdXNhZ2VzIG11c3QgaW5jbHVkZSBcIjtpZih0Lmxlbmd0aD4yKXtjb25zdCByPXQucG9wKCk7ZSs9YG9uZSBvZiAke3Quam9pbihcIiwgXCIpfSwgb3IgJHtyfS5gfWVsc2UgMj09PXQubGVuZ3RoP2UrPWBvbmUgb2YgJHt0WzBdfSBvciAke3RbMV19LmA6ZSs9YCR7dFswXX0uYDt0aHJvdyBuZXcgVHlwZUVycm9yKGUpfX1mdW5jdGlvbiB1ZShlLHQsLi4ucil7c3dpdGNoKHQpe2Nhc2VcIkhTMjU2XCI6Y2FzZVwiSFMzODRcIjpjYXNlXCJIUzUxMlwiOntpZighY2UoZS5hbGdvcml0aG0sXCJITUFDXCIpKXRocm93IHNlKFwiSE1BQ1wiKTtjb25zdCByPXBhcnNlSW50KHQuc2xpY2UoMiksMTApO2lmKGRlKGUuYWxnb3JpdGhtLmhhc2gpIT09cil0aHJvdyBzZShgU0hBLSR7cn1gLFwiYWxnb3JpdGhtLmhhc2hcIik7YnJlYWt9Y2FzZVwiUlMyNTZcIjpjYXNlXCJSUzM4NFwiOmNhc2VcIlJTNTEyXCI6e2lmKCFjZShlLmFsZ29yaXRobSxcIlJTQVNTQS1QS0NTMS12MV81XCIpKXRocm93IHNlKFwiUlNBU1NBLVBLQ1MxLXYxXzVcIik7Y29uc3Qgcj1wYXJzZUludCh0LnNsaWNlKDIpLDEwKTtpZihkZShlLmFsZ29yaXRobS5oYXNoKSE9PXIpdGhyb3cgc2UoYFNIQS0ke3J9YCxcImFsZ29yaXRobS5oYXNoXCIpO2JyZWFrfWNhc2VcIlBTMjU2XCI6Y2FzZVwiUFMzODRcIjpjYXNlXCJQUzUxMlwiOntpZighY2UoZS5hbGdvcml0aG0sXCJSU0EtUFNTXCIpKXRocm93IHNlKFwiUlNBLVBTU1wiKTtjb25zdCByPXBhcnNlSW50KHQuc2xpY2UoMiksMTApO2lmKGRlKGUuYWxnb3JpdGhtLmhhc2gpIT09cil0aHJvdyBzZShgU0hBLSR7cn1gLFwiYWxnb3JpdGhtLmhhc2hcIik7YnJlYWt9Y2FzZVwiRWREU0FcIjppZihcIkVkMjU1MTlcIiE9PWUuYWxnb3JpdGhtLm5hbWUmJlwiRWQ0NDhcIiE9PWUuYWxnb3JpdGhtLm5hbWUpdGhyb3cgc2UoXCJFZDI1NTE5IG9yIEVkNDQ4XCIpO2JyZWFrO2Nhc2VcIkVTMjU2XCI6Y2FzZVwiRVMzODRcIjpjYXNlXCJFUzUxMlwiOntpZighY2UoZS5hbGdvcml0aG0sXCJFQ0RTQVwiKSl0aHJvdyBzZShcIkVDRFNBXCIpO2NvbnN0IHI9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcIkVTMjU2XCI6cmV0dXJuXCJQLTI1NlwiO2Nhc2VcIkVTMzg0XCI6cmV0dXJuXCJQLTM4NFwiO2Nhc2VcIkVTNTEyXCI6cmV0dXJuXCJQLTUyMVwiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIil9fSh0KTtpZihlLmFsZ29yaXRobS5uYW1lZEN1cnZlIT09cil0aHJvdyBzZShyLFwiYWxnb3JpdGhtLm5hbWVkQ3VydmVcIik7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ3J5cHRvS2V5IGRvZXMgbm90IHN1cHBvcnQgdGhpcyBvcGVyYXRpb25cIil9bGUoZSxyKX1mdW5jdGlvbiBoZShlLHQsLi4ucil7aWYoci5sZW5ndGg+Mil7Y29uc3QgdD1yLnBvcCgpO2UrPWBvbmUgb2YgdHlwZSAke3Iuam9pbihcIiwgXCIpfSwgb3IgJHt0fS5gfWVsc2UgMj09PXIubGVuZ3RoP2UrPWBvbmUgb2YgdHlwZSAke3JbMF19IG9yICR7clsxXX0uYDplKz1gb2YgdHlwZSAke3JbMF19LmA7cmV0dXJuIG51bGw9PXQ/ZSs9YCBSZWNlaXZlZCAke3R9YDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0Lm5hbWU/ZSs9YCBSZWNlaXZlZCBmdW5jdGlvbiAke3QubmFtZX1gOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT10JiZ0LmNvbnN0cnVjdG9yJiZ0LmNvbnN0cnVjdG9yLm5hbWUmJihlKz1gIFJlY2VpdmVkIGFuIGluc3RhbmNlIG9mICR7dC5jb25zdHJ1Y3Rvci5uYW1lfWApLGV9Y29uc3QgcGU9KGUsLi4udCk9PmhlKFwiS2V5IG11c3QgYmUgXCIsZSwuLi50KTtmdW5jdGlvbiB3ZShlLHQsLi4ucil7cmV0dXJuIGhlKGBLZXkgZm9yIHRoZSAke2V9IGFsZ29yaXRobSBtdXN0IGJlIGAsdCwuLi5yKX1jb25zdCBnZT1lPT5vZShlKSxmZT1bXCJDcnlwdG9LZXlcIl07Y29uc3QgbWU9YXN5bmMoZSx0LHIsbyk9Pntjb25zdCBuPWF3YWl0IGZ1bmN0aW9uKGUsdCxyKXtpZihvZSh0KSlyZXR1cm4gdWUodCxlLHIpLHQ7aWYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe2lmKCFlLnN0YXJ0c1dpdGgoXCJIU1wiKSl0aHJvdyBuZXcgVHlwZUVycm9yKHBlKHQsLi4uZmUpKTtyZXR1cm4gcmUuc3VidGxlLmltcG9ydEtleShcInJhd1wiLHQse2hhc2g6YFNIQS0ke2Uuc2xpY2UoLTMpfWAsbmFtZTpcIkhNQUNcIn0sITEsW3JdKX10aHJvdyBuZXcgVHlwZUVycm9yKHBlKHQsLi4uZmUsXCJVaW50OEFycmF5XCIpKX0oZSx0LFwidmVyaWZ5XCIpOygoZSx0KT0+e2lmKGUuc3RhcnRzV2l0aChcIlJTXCIpfHxlLnN0YXJ0c1dpdGgoXCJQU1wiKSl7Y29uc3R7bW9kdWx1c0xlbmd0aDpyfT10LmFsZ29yaXRobTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8cjwyMDQ4KXRocm93IG5ldyBUeXBlRXJyb3IoYCR7ZX0gcmVxdWlyZXMga2V5IG1vZHVsdXNMZW5ndGggdG8gYmUgMjA0OCBiaXRzIG9yIGxhcmdlcmApfX0pKGUsbik7Y29uc3QgYT1mdW5jdGlvbihlLHQpe2NvbnN0IHI9YFNIQS0ke2Uuc2xpY2UoLTMpfWA7c3dpdGNoKGUpe2Nhc2VcIkhTMjU2XCI6Y2FzZVwiSFMzODRcIjpjYXNlXCJIUzUxMlwiOnJldHVybntoYXNoOnIsbmFtZTpcIkhNQUNcIn07Y2FzZVwiUFMyNTZcIjpjYXNlXCJQUzM4NFwiOmNhc2VcIlBTNTEyXCI6cmV0dXJue2hhc2g6cixuYW1lOlwiUlNBLVBTU1wiLHNhbHRMZW5ndGg6ZS5zbGljZSgtMyk+PjN9O2Nhc2VcIlJTMjU2XCI6Y2FzZVwiUlMzODRcIjpjYXNlXCJSUzUxMlwiOnJldHVybntoYXNoOnIsbmFtZTpcIlJTQVNTQS1QS0NTMS12MV81XCJ9O2Nhc2VcIkVTMjU2XCI6Y2FzZVwiRVMzODRcIjpjYXNlXCJFUzUxMlwiOnJldHVybntoYXNoOnIsbmFtZTpcIkVDRFNBXCIsbmFtZWRDdXJ2ZTp0Lm5hbWVkQ3VydmV9O2Nhc2VcIkVkRFNBXCI6cmV0dXJue25hbWU6dC5uYW1lfTtkZWZhdWx0OnRocm93IG5ldyBWKGBhbGcgJHtlfSBpcyBub3Qgc3VwcG9ydGVkIGVpdGhlciBieSBKT1NFIG9yIHlvdXIgamF2YXNjcmlwdCBydW50aW1lYCl9fShlLG4uYWxnb3JpdGhtKTt0cnl7cmV0dXJuIGF3YWl0IHJlLnN1YnRsZS52ZXJpZnkoYSxuLHIsbyl9Y2F0Y2goZSl7cmV0dXJuITF9fSx5ZT0oLi4uZSk9Pntjb25zdCB0PWUuZmlsdGVyKEJvb2xlYW4pO2lmKDA9PT10Lmxlbmd0aHx8MT09PXQubGVuZ3RoKXJldHVybiEwO2xldCByO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9T2JqZWN0LmtleXMoZSk7aWYociYmMCE9PXIuc2l6ZSlmb3IoY29uc3QgZSBvZiB0KXtpZihyLmhhcyhlKSlyZXR1cm4hMTtyLmFkZChlKX1lbHNlIHI9bmV3IFNldCh0KX1yZXR1cm4hMH0sRWU9KGUsdCxyKT0+e2Uuc3RhcnRzV2l0aChcIkhTXCIpfHxcImRpclwiPT09ZXx8ZS5zdGFydHNXaXRoKFwiUEJFUzJcIil8fC9eQVxcZHszfSg/OkdDTSk/S1ckLy50ZXN0KGUpPygoZSx0KT0+e2lmKCEodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXtpZighZ2UodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih3ZShlLHQsLi4uZmUsXCJVaW50OEFycmF5XCIpKTtpZihcInNlY3JldFwiIT09dC50eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoYCR7ZmUuam9pbihcIiBvciBcIil9IGluc3RhbmNlcyBmb3Igc3ltbWV0cmljIGFsZ29yaXRobXMgbXVzdCBiZSBvZiB0eXBlIFwic2VjcmV0XCJgKX19KShlLHQpOigoZSx0LHIpPT57aWYoIWdlKHQpKXRocm93IG5ldyBUeXBlRXJyb3Iod2UoZSx0LC4uLmZlKSk7aWYoXCJzZWNyZXRcIj09PXQudHlwZSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke2ZlLmpvaW4oXCIgb3IgXCIpfSBpbnN0YW5jZXMgZm9yIGFzeW1tZXRyaWMgYWxnb3JpdGhtcyBtdXN0IG5vdCBiZSBvZiB0eXBlIFwic2VjcmV0XCJgKTtpZihcInNpZ25cIj09PXImJlwicHVibGljXCI9PT10LnR5cGUpdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtmZS5qb2luKFwiIG9yIFwiKX0gaW5zdGFuY2VzIGZvciBhc3ltbWV0cmljIGFsZ29yaXRobSBzaWduaW5nIG11c3QgYmUgb2YgdHlwZSBcInByaXZhdGVcImApO2lmKFwiZGVjcnlwdFwiPT09ciYmXCJwdWJsaWNcIj09PXQudHlwZSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke2ZlLmpvaW4oXCIgb3IgXCIpfSBpbnN0YW5jZXMgZm9yIGFzeW1tZXRyaWMgYWxnb3JpdGhtIGRlY3J5cHRpb24gbXVzdCBiZSBvZiB0eXBlIFwicHJpdmF0ZVwiYCk7aWYodC5hbGdvcml0aG0mJlwidmVyaWZ5XCI9PT1yJiZcInByaXZhdGVcIj09PXQudHlwZSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke2ZlLmpvaW4oXCIgb3IgXCIpfSBpbnN0YW5jZXMgZm9yIGFzeW1tZXRyaWMgYWxnb3JpdGhtIHZlcmlmeWluZyBtdXN0IGJlIG9mIHR5cGUgXCJwdWJsaWNcImApO2lmKHQuYWxnb3JpdGhtJiZcImVuY3J5cHRcIj09PXImJlwicHJpdmF0ZVwiPT09dC50eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoYCR7ZmUuam9pbihcIiBvciBcIil9IGluc3RhbmNlcyBmb3IgYXN5bW1ldHJpYyBhbGdvcml0aG0gZW5jcnlwdGlvbiBtdXN0IGJlIG9mIHR5cGUgXCJwdWJsaWNcImApfSkoZSx0LHIpfSx2ZT0oZSx0KT0+e2lmKHZvaWQgMCE9PXQmJighQXJyYXkuaXNBcnJheSh0KXx8dC5zb21lKChlPT5cInN0cmluZ1wiIT10eXBlb2YgZSkpKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBcIiR7ZX1cIiBvcHRpb24gbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzYCk7aWYodClyZXR1cm4gbmV3IFNldCh0KX07YXN5bmMgZnVuY3Rpb24gU2UoZSx0LHIpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoZT1NLmRlY29kZShlKSksXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEIoXCJDb21wYWN0IEpXUyBtdXN0IGJlIGEgc3RyaW5nIG9yIFVpbnQ4QXJyYXlcIik7Y29uc3R7MDpvLDE6biwyOmEsbGVuZ3RoOml9PWUuc3BsaXQoXCIuXCIpO2lmKDMhPT1pKXRocm93IG5ldyBCKFwiSW52YWxpZCBDb21wYWN0IEpXU1wiKTtjb25zdCBzPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxyKXt2YXIgbztpZighYWUoZSkpdGhyb3cgbmV3IEIoXCJGbGF0dGVuZWQgSldTIG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKHZvaWQgMD09PWUucHJvdGVjdGVkJiZ2b2lkIDA9PT1lLmhlYWRlcil0aHJvdyBuZXcgQignRmxhdHRlbmVkIEpXUyBtdXN0IGhhdmUgZWl0aGVyIG9mIHRoZSBcInByb3RlY3RlZFwiIG9yIFwiaGVhZGVyXCIgbWVtYmVycycpO2lmKHZvaWQgMCE9PWUucHJvdGVjdGVkJiZcInN0cmluZ1wiIT10eXBlb2YgZS5wcm90ZWN0ZWQpdGhyb3cgbmV3IEIoXCJKV1MgUHJvdGVjdGVkIEhlYWRlciBpbmNvcnJlY3QgdHlwZVwiKTtpZih2b2lkIDA9PT1lLnBheWxvYWQpdGhyb3cgbmV3IEIoXCJKV1MgUGF5bG9hZCBtaXNzaW5nXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLnNpZ25hdHVyZSl0aHJvdyBuZXcgQihcIkpXUyBTaWduYXR1cmUgbWlzc2luZyBvciBpbmNvcnJlY3QgdHlwZVwiKTtpZih2b2lkIDAhPT1lLmhlYWRlciYmIWFlKGUuaGVhZGVyKSl0aHJvdyBuZXcgQihcIkpXUyBVbnByb3RlY3RlZCBIZWFkZXIgaW5jb3JyZWN0IHR5cGVcIik7bGV0IG49e307aWYoZS5wcm90ZWN0ZWQpdHJ5e2NvbnN0IHQ9TihlLnByb3RlY3RlZCk7bj1KU09OLnBhcnNlKE0uZGVjb2RlKHQpKX1jYXRjaChlKXt0aHJvdyBuZXcgQihcIkpXUyBQcm90ZWN0ZWQgSGVhZGVyIGlzIGludmFsaWRcIil9aWYoIXllKG4sZS5oZWFkZXIpKXRocm93IG5ldyBCKFwiSldTIFByb3RlY3RlZCBhbmQgSldTIFVucHJvdGVjdGVkIEhlYWRlciBQYXJhbWV0ZXIgbmFtZXMgbXVzdCBiZSBkaXNqb2ludFwiKTtjb25zdCBhPXsuLi5uLC4uLmUuaGVhZGVyfTtsZXQgaT0hMDtpZihpZShCLG5ldyBNYXAoW1tcImI2NFwiLCEwXV0pLG51bGw9PXI/dm9pZCAwOnIuY3JpdCxuLGEpLmhhcyhcImI2NFwiKSYmKGk9bi5iNjQsXCJib29sZWFuXCIhPXR5cGVvZiBpKSl0aHJvdyBuZXcgQignVGhlIFwiYjY0XCIgKGJhc2U2NHVybC1lbmNvZGUgcGF5bG9hZCkgSGVhZGVyIFBhcmFtZXRlciBtdXN0IGJlIGEgYm9vbGVhbicpO2NvbnN0e2FsZzpzfT1hO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBzfHwhcyl0aHJvdyBuZXcgQignSldTIFwiYWxnXCIgKEFsZ29yaXRobSkgSGVhZGVyIFBhcmFtZXRlciBtaXNzaW5nIG9yIGludmFsaWQnKTtjb25zdCBjPXImJnZlKFwiYWxnb3JpdGhtc1wiLHIuYWxnb3JpdGhtcyk7aWYoYyYmIWMuaGFzKHMpKXRocm93IG5ldyBHKCdcImFsZ1wiIChBbGdvcml0aG0pIEhlYWRlciBQYXJhbWV0ZXIgbm90IGFsbG93ZWQnKTtpZihpKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5wYXlsb2FkKXRocm93IG5ldyBCKFwiSldTIFBheWxvYWQgbXVzdCBiZSBhIHN0cmluZ1wiKX1lbHNlIGlmKFwic3RyaW5nXCIhPXR5cGVvZiBlLnBheWxvYWQmJiEoZS5wYXlsb2FkIGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IEIoXCJKV1MgUGF5bG9hZCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIFVpbnQ4QXJyYXkgaW5zdGFuY2VcIik7bGV0IGQ9ITE7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHQ9YXdhaXQgdChuLGUpLGQ9ITApLEVlKHMsdCxcInZlcmlmeVwiKTtjb25zdCBsPXooSC5lbmNvZGUobnVsbCE9PShvPWUucHJvdGVjdGVkKSYmdm9pZCAwIT09bz9vOlwiXCIpLEguZW5jb2RlKFwiLlwiKSxcInN0cmluZ1wiPT10eXBlb2YgZS5wYXlsb2FkP0guZW5jb2RlKGUucGF5bG9hZCk6ZS5wYXlsb2FkKSx1PU4oZS5zaWduYXR1cmUpO2lmKCFhd2FpdCBtZShzLHQsdSxsKSl0aHJvdyBuZXcgdGU7bGV0IGg7aD1pP04oZS5wYXlsb2FkKTpcInN0cmluZ1wiPT10eXBlb2YgZS5wYXlsb2FkP0guZW5jb2RlKGUucGF5bG9hZCk6ZS5wYXlsb2FkO2NvbnN0IHA9e3BheWxvYWQ6aH07cmV0dXJuIHZvaWQgMCE9PWUucHJvdGVjdGVkJiYocC5wcm90ZWN0ZWRIZWFkZXI9biksdm9pZCAwIT09ZS5oZWFkZXImJihwLnVucHJvdGVjdGVkSGVhZGVyPWUuaGVhZGVyKSxkP3suLi5wLGtleTp0fTpwfSh7cGF5bG9hZDpuLHByb3RlY3RlZDpvLHNpZ25hdHVyZTphfSx0LHIpLGM9e3BheWxvYWQ6cy5wYXlsb2FkLHByb3RlY3RlZEhlYWRlcjpzLnByb3RlY3RlZEhlYWRlcn07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD97Li4uYyxrZXk6cy5rZXl9OmN9Y29uc3QgYmU9ODY0MDAsQWU9L14oXFxkK3xcXGQrXFwuXFxkKykgPyhzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpJC9pLF9lPWU9Pntjb25zdCB0PUFlLmV4ZWMoZSk7aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGltZSBwZXJpb2QgZm9ybWF0XCIpO2NvbnN0IHI9cGFyc2VGbG9hdCh0WzFdKTtzd2l0Y2godFsyXS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJzZWNcIjpjYXNlXCJzZWNzXCI6Y2FzZVwic2Vjb25kXCI6Y2FzZVwic2Vjb25kc1wiOmNhc2VcInNcIjpyZXR1cm4gTWF0aC5yb3VuZChyKTtjYXNlXCJtaW51dGVcIjpjYXNlXCJtaW51dGVzXCI6Y2FzZVwibWluXCI6Y2FzZVwibWluc1wiOmNhc2VcIm1cIjpyZXR1cm4gTWF0aC5yb3VuZCg2MCpyKTtjYXNlXCJob3VyXCI6Y2FzZVwiaG91cnNcIjpjYXNlXCJoclwiOmNhc2VcImhyc1wiOmNhc2VcImhcIjpyZXR1cm4gTWF0aC5yb3VuZCgzNjAwKnIpO2Nhc2VcImRheVwiOmNhc2VcImRheXNcIjpjYXNlXCJkXCI6cmV0dXJuIE1hdGgucm91bmQocipiZSk7Y2FzZVwid2Vla1wiOmNhc2VcIndlZWtzXCI6Y2FzZVwid1wiOnJldHVybiBNYXRoLnJvdW5kKDYwNDgwMCpyKTtkZWZhdWx0OnJldHVybiBNYXRoLnJvdW5kKDMxNTU3NjAwKnIpfX0sa2U9ZT0+ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15hcHBsaWNhdGlvblxcLy8sXCJcIiksSWU9KGUsdCxyPXt9KT0+e2NvbnN0e3R5cDpvfT1yO2lmKG8mJihcInN0cmluZ1wiIT10eXBlb2YgZS50eXB8fGtlKGUudHlwKSE9PWtlKG8pKSl0aHJvdyBuZXcgRigndW5leHBlY3RlZCBcInR5cFwiIEpXVCBoZWFkZXIgdmFsdWUnLFwidHlwXCIsXCJjaGVja19mYWlsZWRcIik7bGV0IG47dHJ5e249SlNPTi5wYXJzZShNLmRlY29kZSh0KSl9Y2F0Y2goZSl7fWlmKCFhZShuKSl0aHJvdyBuZXcgWChcIkpXVCBDbGFpbXMgU2V0IG11c3QgYmUgYSB0b3AtbGV2ZWwgSlNPTiBvYmplY3RcIik7Y29uc3R7cmVxdWlyZWRDbGFpbXM6YT1bXSxpc3N1ZXI6aSxzdWJqZWN0OnMsYXVkaWVuY2U6YyxtYXhUb2tlbkFnZTpkfT1yO3ZvaWQgMCE9PWQmJmEucHVzaChcImlhdFwiKSx2b2lkIDAhPT1jJiZhLnB1c2goXCJhdWRcIiksdm9pZCAwIT09cyYmYS5wdXNoKFwic3ViXCIpLHZvaWQgMCE9PWkmJmEucHVzaChcImlzc1wiKTtmb3IoY29uc3QgZSBvZiBuZXcgU2V0KGEucmV2ZXJzZSgpKSlpZighKGUgaW4gbikpdGhyb3cgbmV3IEYoYG1pc3NpbmcgcmVxdWlyZWQgXCIke2V9XCIgY2xhaW1gLGUsXCJtaXNzaW5nXCIpO2lmKGkmJiEoQXJyYXkuaXNBcnJheShpKT9pOltpXSkuaW5jbHVkZXMobi5pc3MpKXRocm93IG5ldyBGKCd1bmV4cGVjdGVkIFwiaXNzXCIgY2xhaW0gdmFsdWUnLFwiaXNzXCIsXCJjaGVja19mYWlsZWRcIik7aWYocyYmbi5zdWIhPT1zKXRocm93IG5ldyBGKCd1bmV4cGVjdGVkIFwic3ViXCIgY2xhaW0gdmFsdWUnLFwic3ViXCIsXCJjaGVja19mYWlsZWRcIik7aWYoYyYmKGw9bi5hdWQsdT1cInN0cmluZ1wiPT10eXBlb2YgYz9bY106YywhKFwic3RyaW5nXCI9PXR5cGVvZiBsP3UuaW5jbHVkZXMobCk6QXJyYXkuaXNBcnJheShsKSYmdS5zb21lKFNldC5wcm90b3R5cGUuaGFzLmJpbmQobmV3IFNldChsKSkpKSkpdGhyb3cgbmV3IEYoJ3VuZXhwZWN0ZWQgXCJhdWRcIiBjbGFpbSB2YWx1ZScsXCJhdWRcIixcImNoZWNrX2ZhaWxlZFwiKTt2YXIgbCx1O2xldCBoO3N3aXRjaCh0eXBlb2Ygci5jbG9ja1RvbGVyYW5jZSl7Y2FzZVwic3RyaW5nXCI6aD1fZShyLmNsb2NrVG9sZXJhbmNlKTticmVhaztjYXNlXCJudW1iZXJcIjpoPXIuY2xvY2tUb2xlcmFuY2U7YnJlYWs7Y2FzZVwidW5kZWZpbmVkXCI6aD0wO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgY2xvY2tUb2xlcmFuY2Ugb3B0aW9uIHR5cGVcIil9Y29uc3R7Y3VycmVudERhdGU6cH09cix3PShnPXB8fG5ldyBEYXRlLE1hdGguZmxvb3IoZy5nZXRUaW1lKCkvMWUzKSk7dmFyIGc7aWYoKHZvaWQgMCE9PW4uaWF0fHxkKSYmXCJudW1iZXJcIiE9dHlwZW9mIG4uaWF0KXRocm93IG5ldyBGKCdcImlhdFwiIGNsYWltIG11c3QgYmUgYSBudW1iZXInLFwiaWF0XCIsXCJpbnZhbGlkXCIpO2lmKHZvaWQgMCE9PW4ubmJmKXtpZihcIm51bWJlclwiIT10eXBlb2Ygbi5uYmYpdGhyb3cgbmV3IEYoJ1wibmJmXCIgY2xhaW0gbXVzdCBiZSBhIG51bWJlcicsXCJuYmZcIixcImludmFsaWRcIik7aWYobi5uYmY+dytoKXRocm93IG5ldyBGKCdcIm5iZlwiIGNsYWltIHRpbWVzdGFtcCBjaGVjayBmYWlsZWQnLFwibmJmXCIsXCJjaGVja19mYWlsZWRcIil9aWYodm9pZCAwIT09bi5leHApe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBuLmV4cCl0aHJvdyBuZXcgRignXCJleHBcIiBjbGFpbSBtdXN0IGJlIGEgbnVtYmVyJyxcImV4cFwiLFwiaW52YWxpZFwiKTtpZihuLmV4cDw9dy1oKXRocm93IG5ldyBxKCdcImV4cFwiIGNsYWltIHRpbWVzdGFtcCBjaGVjayBmYWlsZWQnLFwiZXhwXCIsXCJjaGVja19mYWlsZWRcIil9aWYoZCl7Y29uc3QgZT13LW4uaWF0O2lmKGUtaD4oXCJudW1iZXJcIj09dHlwZW9mIGQ/ZDpfZShkKSkpdGhyb3cgbmV3IHEoJ1wiaWF0XCIgY2xhaW0gdGltZXN0YW1wIGNoZWNrIGZhaWxlZCAodG9vIGZhciBpbiB0aGUgcGFzdCknLFwiaWF0XCIsXCJjaGVja19mYWlsZWRcIik7aWYoZTwwLWgpdGhyb3cgbmV3IEYoJ1wiaWF0XCIgY2xhaW0gdGltZXN0YW1wIGNoZWNrIGZhaWxlZCAoaXQgc2hvdWxkIGJlIGluIHRoZSBwYXN0KScsXCJpYXRcIixcImNoZWNrX2ZhaWxlZFwiKX1yZXR1cm4gbn07ZnVuY3Rpb24gVGUoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZBcnJheS5pc0FycmF5KGUua2V5cykmJmUua2V5cy5ldmVyeShPZSl9ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIGFlKGUpfWNsYXNzIFJle2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX2NhY2hlZD1uZXcgV2Vha01hcCwhVGUoZSkpdGhyb3cgbmV3IFkoXCJKU09OIFdlYiBLZXkgU2V0IG1hbGZvcm1lZFwiKTt2YXIgdDt0aGlzLl9qd2tzPSh0PWUsXCJmdW5jdGlvblwiPT10eXBlb2Ygc3RydWN0dXJlZENsb25lP3N0cnVjdHVyZWRDbG9uZSh0KTpKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSl9YXN5bmMgZ2V0S2V5KGUsdCl7Y29uc3R7YWxnOnIsa2lkOm99PXsuLi5lLC4uLm51bGw9PXQ/dm9pZCAwOnQuaGVhZGVyfSxuPWZ1bmN0aW9uKGUpe3N3aXRjaChcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5zbGljZSgwLDIpKXtjYXNlXCJSU1wiOmNhc2VcIlBTXCI6cmV0dXJuXCJSU0FcIjtjYXNlXCJFU1wiOnJldHVyblwiRUNcIjtjYXNlXCJFZFwiOnJldHVyblwiT0tQXCI7ZGVmYXVsdDp0aHJvdyBuZXcgVignVW5zdXBwb3J0ZWQgXCJhbGdcIiB2YWx1ZSBmb3IgYSBKU09OIFdlYiBLZXkgU2V0Jyl9fShyKSxhPXRoaXMuX2p3a3Mua2V5cy5maWx0ZXIoKGU9PntsZXQgdD1uPT09ZS5rdHk7aWYodCYmXCJzdHJpbmdcIj09dHlwZW9mIG8mJih0PW89PT1lLmtpZCksdCYmXCJzdHJpbmdcIj09dHlwZW9mIGUuYWxnJiYodD1yPT09ZS5hbGcpLHQmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnVzZSYmKHQ9XCJzaWdcIj09PWUudXNlKSx0JiZBcnJheS5pc0FycmF5KGUua2V5X29wcykmJih0PWUua2V5X29wcy5pbmNsdWRlcyhcInZlcmlmeVwiKSksdCYmXCJFZERTQVwiPT09ciYmKHQ9XCJFZDI1NTE5XCI9PT1lLmNydnx8XCJFZDQ0OFwiPT09ZS5jcnYpLHQpc3dpdGNoKHIpe2Nhc2VcIkVTMjU2XCI6dD1cIlAtMjU2XCI9PT1lLmNydjticmVhaztjYXNlXCJFUzI1NktcIjp0PVwic2VjcDI1NmsxXCI9PT1lLmNydjticmVhaztjYXNlXCJFUzM4NFwiOnQ9XCJQLTM4NFwiPT09ZS5jcnY7YnJlYWs7Y2FzZVwiRVM1MTJcIjp0PVwiUC01MjFcIj09PWUuY3J2fXJldHVybiB0fSkpLHswOmksbGVuZ3RoOnN9PWE7aWYoMD09PXMpdGhyb3cgbmV3IFE7aWYoMSE9PXMpe2NvbnN0IGU9bmV3IFose19jYWNoZWQ6dH09dGhpczt0aHJvdyBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1hc3luYyBmdW5jdGlvbiooKXtmb3IoY29uc3QgZSBvZiBhKXRyeXt5aWVsZCBhd2FpdCBQZSh0LGUscil9Y2F0Y2goZSl7Y29udGludWV9fSxlfXJldHVybiBQZSh0aGlzLl9jYWNoZWQsaSxyKX19YXN5bmMgZnVuY3Rpb24gUGUoZSx0LHIpe2NvbnN0IG89ZS5nZXQodCl8fGUuc2V0KHQse30pLmdldCh0KTtpZih2b2lkIDA9PT1vW3JdKXtjb25zdCBlPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxyKXt2YXIgbztpZighYWUoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkpXSyBtdXN0IGJlIGFuIG9iamVjdFwiKTtzd2l0Y2godHx8KHQ9ZS5hbGcpLGUua3R5KXtjYXNlXCJvY3RcIjppZihcInN0cmluZ1wiIT10eXBlb2YgZS5rfHwhZS5rKXRocm93IG5ldyBUeXBlRXJyb3IoJ21pc3NpbmcgXCJrXCIgKEtleSBWYWx1ZSkgUGFyYW1ldGVyIHZhbHVlJyk7cmV0dXJuIG51bGwhPXJ8fChyPSEwIT09ZS5leHQpLHI/bmUoey4uLmUsYWxnOnQsZXh0Om51bGwhPT0obz1lLmV4dCkmJnZvaWQgMCE9PW8mJm99KTpOKGUuayk7Y2FzZVwiUlNBXCI6aWYodm9pZCAwIT09ZS5vdGgpdGhyb3cgbmV3IFYoJ1JTQSBKV0sgXCJvdGhcIiAoT3RoZXIgUHJpbWVzIEluZm8pIFBhcmFtZXRlciB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkJyk7Y2FzZVwiRUNcIjpjYXNlXCJPS1BcIjpyZXR1cm4gbmUoey4uLmUsYWxnOnR9KTtkZWZhdWx0OnRocm93IG5ldyBWKCdVbnN1cHBvcnRlZCBcImt0eVwiIChLZXkgVHlwZSkgUGFyYW1ldGVyIHZhbHVlJyl9fSh7Li4udCxleHQ6ITB9LHIpO2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxcInB1YmxpY1wiIT09ZS50eXBlKXRocm93IG5ldyBZKFwiSlNPTiBXZWIgS2V5IFNldCBtZW1iZXJzIG11c3QgYmUgcHVibGljIGtleXNcIik7b1tyXT1lfXJldHVybiBvW3JdfWNvbnN0IENlPWFzeW5jKGUsdCxyKT0+e2xldCBvLG4sYT0hMTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihvPW5ldyBBYm9ydENvbnRyb2xsZXIsbj1zZXRUaW1lb3V0KCgoKT0+e2E9ITAsby5hYm9ydCgpfSksdCkpO2NvbnN0IGk9YXdhaXQgZmV0Y2goZS5ocmVmLHtzaWduYWw6bz9vLnNpZ25hbDp2b2lkIDAscmVkaXJlY3Q6XCJtYW51YWxcIixoZWFkZXJzOnIuaGVhZGVyc30pLmNhdGNoKChlPT57aWYoYSl0aHJvdyBuZXcgZWU7dGhyb3cgZX0pKTtpZih2b2lkIDAhPT1uJiZjbGVhclRpbWVvdXQobiksMjAwIT09aS5zdGF0dXMpdGhyb3cgbmV3IEpPU0VFcnJvcihcIkV4cGVjdGVkIDIwMCBPSyBmcm9tIHRoZSBKU09OIFdlYiBLZXkgU2V0IEhUVFAgcmVzcG9uc2VcIik7dHJ5e3JldHVybiBhd2FpdCBpLmpzb24oKX1jYXRjaChlKXt0aHJvdyBuZXcgSk9TRUVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHRoZSBKU09OIFdlYiBLZXkgU2V0IEhUVFAgcmVzcG9uc2UgYXMgSlNPTlwiKX19O2NsYXNzIFdlIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSx0KXtpZihzdXBlcih7a2V5czpbXX0pLHRoaXMuX2p3a3M9dm9pZCAwLCEoZSBpbnN0YW5jZW9mIFVSTCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInVybCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTFwiKTt0aGlzLl91cmw9bmV3IFVSTChlLmhyZWYpLHRoaXMuX29wdGlvbnM9e2FnZW50Om51bGw9PXQ/dm9pZCAwOnQuYWdlbnQsaGVhZGVyczpudWxsPT10P3ZvaWQgMDp0LmhlYWRlcnN9LHRoaXMuX3RpbWVvdXREdXJhdGlvbj1cIm51bWJlclwiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC50aW1lb3V0RHVyYXRpb24pP251bGw9PXQ/dm9pZCAwOnQudGltZW91dER1cmF0aW9uOjVlMyx0aGlzLl9jb29sZG93bkR1cmF0aW9uPVwibnVtYmVyXCI9PXR5cGVvZihudWxsPT10P3ZvaWQgMDp0LmNvb2xkb3duRHVyYXRpb24pP251bGw9PXQ/dm9pZCAwOnQuY29vbGRvd25EdXJhdGlvbjozZTQsdGhpcy5fY2FjaGVNYXhBZ2U9XCJudW1iZXJcIj09dHlwZW9mKG51bGw9PXQ/dm9pZCAwOnQuY2FjaGVNYXhBZ2UpP251bGw9PXQ/dm9pZCAwOnQuY2FjaGVNYXhBZ2U6NmU1fWNvb2xpbmdEb3duKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2p3a3NUaW1lc3RhbXAmJkRhdGUubm93KCk8dGhpcy5fandrc1RpbWVzdGFtcCt0aGlzLl9jb29sZG93bkR1cmF0aW9ufWZyZXNoKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2p3a3NUaW1lc3RhbXAmJkRhdGUubm93KCk8dGhpcy5fandrc1RpbWVzdGFtcCt0aGlzLl9jYWNoZU1heEFnZX1hc3luYyBnZXRLZXkoZSx0KXt0aGlzLl9qd2tzJiZ0aGlzLmZyZXNoKCl8fGF3YWl0IHRoaXMucmVsb2FkKCk7dHJ5e3JldHVybiBhd2FpdCBzdXBlci5nZXRLZXkoZSx0KX1jYXRjaChyKXtpZihyIGluc3RhbmNlb2YgUSYmITE9PT10aGlzLmNvb2xpbmdEb3duKCkpcmV0dXJuIGF3YWl0IHRoaXMucmVsb2FkKCksc3VwZXIuZ2V0S2V5KGUsdCk7dGhyb3cgcn19YXN5bmMgcmVsb2FkKCl7dGhpcy5fcGVuZGluZ0ZldGNoJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYlNvY2tldFBhaXJ8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwiQ2xvdWRmbGFyZS1Xb3JrZXJzXCI9PT1uYXZpZ2F0b3IudXNlckFnZW50fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgRWRnZVJ1bnRpbWUmJlwidmVyY2VsXCI9PT1FZGdlUnVudGltZSkmJih0aGlzLl9wZW5kaW5nRmV0Y2g9dm9pZCAwKSx0aGlzLl9wZW5kaW5nRmV0Y2h8fCh0aGlzLl9wZW5kaW5nRmV0Y2g9Q2UodGhpcy5fdXJsLHRoaXMuX3RpbWVvdXREdXJhdGlvbix0aGlzLl9vcHRpb25zKS50aGVuKChlPT57aWYoIVRlKGUpKXRocm93IG5ldyBZKFwiSlNPTiBXZWIgS2V5IFNldCBtYWxmb3JtZWRcIik7dGhpcy5fandrcz17a2V5czplLmtleXN9LHRoaXMuX2p3a3NUaW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLl9wZW5kaW5nRmV0Y2g9dm9pZCAwfSkpLmNhdGNoKChlPT57dGhyb3cgdGhpcy5fcGVuZGluZ0ZldGNoPXZvaWQgMCxlfSkpKSxhd2FpdCB0aGlzLl9wZW5kaW5nRmV0Y2h9fWNvbnN0IHhlPU47Y2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIFJ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlPWU/P3Q/Lm1lc3NhZ2U/P1wiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGF1dGhlbnRpY2F0aW9uXCIsdCl9fWNsYXNzIExvZ291dEVycm9yIGV4dGVuZHMgUntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGU9ZT8/dD8ubWVzc2FnZT8/XCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbG9nb3V0XCIsdCl9fWNvbnN0IGplPVwiMS4wLjBcIiwkZT1cIk9JRENcIixKZT0oKT0+e0ooJGUpfSxVZT0oKT0+e1UoJGUsamUpfTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGZpbiYmT2JqZWN0LmFzc2lnbih3aW5kb3cse2Zpbjp7fX0pLE9iamVjdC5hc3NpZ24oZmluLHtJbnRlZ3JhdGlvbnM6e09JREM6e2VuYWJsZUxvZ2dpbmc6VWUsZGlzYWJsZUxvZ2dpbmc6SmV9fX0pKTtjb25zdCBLZT1lPT5gJHtlLnJlcGxhY2UoL1xcLyQvLFwiXCIpfS8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbmA7dmFyIERlOyFmdW5jdGlvbihlKXtlLk9wZW5JZENvbm5lY3Q9XCJPcGVuSUQtQ29ubmVjdFwifShEZXx8KERlPXt9KSk7Y2xhc3MgTGUgZXh0ZW5kcyBXe2dldCBpZFRva2VuKCl7cmV0dXJuIHRoaXMuX2lkVG9rZW59Z2V0IG9wZW5JZFByb3ZpZGVyVXJsKCl7cmV0dXJuIHRoaXMuX29wZW5JZFByb3ZpZGVyVXJsfWdldCByZWRpcmVjdFVyaSgpe3JldHVybiB0aGlzLl9yZWRpcmVjdFVyaX1nZXQgc2NvcGUoKXtyZXR1cm4gdGhpcy5fc2NvcGV9Z2V0IHVzZXJJbmZvKCl7cmV0dXJuIHRoaXMuX3VzZXJJbmZvfWFzeW5jIGF1dGhvcml6ZShlLHQscil7YXdhaXQgc3VwZXIuYXV0aG9yaXplKGUsdCxyKSx0aGlzLl9pZFRva2VuPWF3YWl0IHRoaXMuZ2V0SWRUb2tlbigpLHRoaXMuX3VzZXJJbmZvPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWUubWV0YWRhdGE/LnVzZXJpbmZvX2VuZHBvaW50O2lmKCF0KXJldHVybjtjb25zdHtkYXRhOnJ9PWF3YWl0IGUuZXhlY3V0ZUFwaVJlcXVlc3QodCk7cmV0dXJuIHJ9KSh0aGlzKX1hc3luYyBjbG9zZSgpe2F3YWl0IHN1cGVyLmNsb3NlKCksdGhpcy5faWRUb2tlbj12b2lkIDAsdGhpcy5fb3BlbklkUHJvdmlkZXJVcmw9dm9pZCAwLHRoaXMuX3JlZGlyZWN0VXJpPXZvaWQgMCx0aGlzLl9zY29wZT12b2lkIDAsdGhpcy5fdXNlckluZm89dm9pZCAwfWdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZShlKXtyZXR1cm4gZX1zdGF0aWMgYXN5bmMgaW5pdChlLHQscixvLG4sYSxpKXtjb25zdCBzPW5ldyBDKG8pO3MubG9nSW5mbyhcIkluaXQgc3RhcnRlZFwiLGUsdCxyLG8sbixhLGkpO3RyeXtjb25zdHthZGRpdGlvbmFsTWV0YWRhdGE6dCxkaXNjb3ZlcnlFbmRwb2ludDpvfT1lLGM9ey4uLmF3YWl0IEsobyksLi4udD8/e319O2lmKCFjLnJlc3BvbnNlX3R5cGVzX3N1cHBvcnRlZC5maW5kKChlPT5cImNvZGVcIj09PWUudG9Mb3dlckNhc2UoKSkpKXRocm93IG5ldyBQKFwiT3BlbklEIFByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGF1dGhvcml6YXRpb24gY29kZSByZXNwb25zZSB0eXBlXCIpO2NvbnN0IGQ9YXdhaXQgRChjLHIscyksbD1uZXcgTGUodm9pZCAwLHIsYyxkLHMpO3JldHVybiBsLl9vcGVuSWRQcm92aWRlclVybD1uLGwuX3JlZGlyZWN0VXJpPWEsbC5fc2NvcGU9aSxzLmxvZ0luZm8oXCJJbml0IGNvbXBsZXRlZFwiLGwpLChhc3luYyhlLHQpPT57dHJ5e2F3YWl0IGZpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcImludGVncmF0aW9uLWZlYXR1cmVcIixkYXRhOnthcGlWZXJzaW9uOmplLGNvbXBvbmVudE5hbWU6ZX19KX1jYXRjaChyKXt0LmxvZ1dhcm5pbmcoYFVuYWJsZSB0byByZWdpc3RlciB1c2FnZSBmb3IgZmVhdHVyZSAke2V9OiAke3I/Lm1lc3NhZ2V9YCl9fSkoRGUuT3BlbklkQ29ubmVjdCxzKSxsfWNhdGNoKGUpe2xldCB0O3Rocm93IHQ9ZSBpbnN0YW5jZW9mIFI/ZTpuZXcgUCh2b2lkIDAsZSkscy5sb2dFcnJvcih0KSx0fX19Y29uc3QgSGU9YXN5bmMoZSx0LHIpPT57Y29uc3Qgbz1uZXcgQygkZSksbj1LZShyKTtsZXQgYTt0cnl7YT1hd2FpdCBLKG4pfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IGooYEZhaWxlZCB0byByZXRyaWV2ZSBPcGVuSUQgQ29ubmVjdCBtZXRhZGF0YSBmcm9tICR7bn1gKTt0aHJvdyBvLmxvZ0Vycm9yKHQpLHR9Y29uc3R7aW50cm9zcGVjdGlvbl9lbmRwb2ludDppLGp3a3NfdXJpOnN9PWE7aWYoaSl0cnl7cmV0dXJuIGF3YWl0IEwobykoZSx0LGkpfWNhdGNoKGUpe31lbHNlIG8/LmxvZ1dhcm5pbmcoXCJObyBpbnRyb3NwZWN0aW9uIGVuZHBvaW50IGZvdW5kIGluIE9wZW5JRCBDb25uZWN0IG1ldGFkYXRhXCIpO2lmKCFzKXtjb25zdCBlPW5ldyBqKGBGYWlsZWQgdG8gcmV0cmlldmUgSlNPTiBXZWIgS2V5IFNldCAoSldLUykgZnJvbSAke3N9YCk7dGhyb3cgby5sb2dFcnJvcihlKSxlfW8/LmxvZ0luZm8oXCJWYWxpZGF0aW5nIGlkIHRva2VuIGFnYWluc3QgSldLUyBlbmRwb2ludFwiLHMpO3RyeXtjb25zdHtwYXlsb2FkOm59PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxyKXt2YXIgbztjb25zdCBuPWF3YWl0IFNlKGUsdCxyKTtpZigobnVsbD09PShvPW4ucHJvdGVjdGVkSGVhZGVyLmNyaXQpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmluY2x1ZGVzKFwiYjY0XCIpKSYmITE9PT1uLnByb3RlY3RlZEhlYWRlci5iNjQpdGhyb3cgbmV3IFgoXCJKV1RzIE1VU1QgTk9UIHVzZSB1bmVuY29kZWQgcGF5bG9hZFwiKTtjb25zdCBhPXtwYXlsb2FkOkllKG4ucHJvdGVjdGVkSGVhZGVyLG4ucGF5bG9hZCxyKSxwcm90ZWN0ZWRIZWFkZXI6bi5wcm90ZWN0ZWRIZWFkZXJ9O3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ey4uLmEsa2V5Om4ua2V5fTphfShlLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1uZXcgV2UoZSx0KTtyZXR1cm4gYXN5bmMgZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5nZXRLZXkoZSx0KX19KG5ldyBVUkwocykpLHthdWRpZW5jZTp0LGlzc3VlcjpyfSk7cmV0dXJuIG8/LmxvZ0luZm8oXCJJRCB0b2tlbiB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWxcIixuKSx7dmFsaWQ6ITAsLi4ubn19Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgRnx8ZSBpbnN0YW5jZW9mIHF8fGUgaW5zdGFuY2VvZiBYfHxlIGluc3RhbmNlb2YgdGUpKXtjb25zdCB0PW5ldyBqKHZvaWQgMCxlKTt0aHJvdyBvLmxvZ0Vycm9yKHQpLHR9cmV0dXJuIG8ubG9nV2FybmluZyhgSUQgdG9rZW4gdmFsaWRhdGlvbiBmYWlsZWQ6ICR7ZS5tZXNzYWdlfWApLHt2YWxpZDohMX19fSxNZT1bXCJvcGVuaWRcIixcInByb2ZpbGVcIixcImVtYWlsXCJdLHplPWFzeW5jKGUsdCxyLG89W10sbixhLGkpPT57aWYoZT1lPy50cmltKCkucmVwbGFjZSgvXFwvJC8sXCJcIiksIWUpdGhyb3cgbmV3IHgoXCJPcGVuSUQgUHJvdmlkZXIgVVJMIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpO2lmKCF0KXRocm93IG5ldyB4KFwiQ2xpZW50IElkZW50aWZpZXIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIik7aWYoIXIpdGhyb3cgbmV3IHgoXCJSZWRpcmVjdGlvbiBVUkkgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIik7Y29uc3Qgcz1hd2FpdCBGZShlLHQscixvLG4pO2lmKCFzKXRocm93IG5ldyBQKFwiUHJvdmlkZXIgbm90IGluaXRpYWxpemVkXCIpO2NvbnN0IGM9cy5tZXRhZGF0YT8uc2NvcGVzX3N1cHBvcnRlZDtpZighYyl7Y29uc3QgZT1uZXcgQXV0aGVudGljYXRpb25FcnJvcihcIk9wZW5JRCBQcm92aWRlciBtZXRhZGF0YSBkb2VzIG5vdCBkZWZpbmUgc3VwcG9ydGVkIHNjb3Blc1wiKTt0aHJvdyBzLmxvZ2dlci5sb2dFcnJvcihlKSxlfWNvbnN0IGQ9TWUuZmlsdGVyKChlPT4hYy5pbmNsdWRlcyhlKSkpO2lmKGQubGVuZ3RoPjApe2NvbnN0IGU9bmV3IEF1dGhlbnRpY2F0aW9uRXJyb3IoYE9wZW5JRCBQcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IHJlcXVpcmVkIHNjb3BlczogJHtkLmpvaW4oXCIsIFwiKX1gKTt0aHJvdyBzLmxvZ2dlci5sb2dFcnJvcihlKSxlfWNvbnN0IGw9bmV3IFNldChbLi4uTWUsLi4ub10pO2F3YWl0IHMuYXV0aG9yaXplKHIse2Rpc3BsYXk6XCJwb3B1cFwiLHNjb3BlOlsuLi5sXS5qb2luKFwiIFwiKSwuLi5hfSxpKTtjb25zdHtpZFRva2VuOnV9PXM7aWYoIXUpe2NvbnN0IGU9bmV3IEF1dGhlbnRpY2F0aW9uRXJyb3IoXCJObyBJRCB0b2tlbiByZXR1cm5lZFwiKTt0aHJvdyBzLmxvZ2dlci5sb2dFcnJvcihlKSxlfWNvbnN0IGg9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFgoXCJKV1RzIG11c3QgdXNlIENvbXBhY3QgSldTIHNlcmlhbGl6YXRpb24sIEpXVCBtdXN0IGJlIGEgc3RyaW5nXCIpO2NvbnN0ezE6dCxsZW5ndGg6cn09ZS5zcGxpdChcIi5cIik7aWYoNT09PXIpdGhyb3cgbmV3IFgoXCJPbmx5IEpXVHMgdXNpbmcgQ29tcGFjdCBKV1Mgc2VyaWFsaXphdGlvbiBjYW4gYmUgZGVjb2RlZFwiKTtpZigzIT09cil0aHJvdyBuZXcgWChcIkludmFsaWQgSldUXCIpO2lmKCF0KXRocm93IG5ldyBYKFwiSldUcyBtdXN0IGNvbnRhaW4gYSBwYXlsb2FkXCIpO2xldCBvLG47dHJ5e289eGUodCl9Y2F0Y2goZSl7dGhyb3cgbmV3IFgoXCJGYWlsZWQgdG8gcGFyc2UgdGhlIGJhc2U2NHVybCBlbmNvZGVkIHBheWxvYWRcIil9dHJ5e249SlNPTi5wYXJzZShNLmRlY29kZShvKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFgoXCJGYWlsZWQgdG8gcGFyc2UgdGhlIGRlY29kZWQgcGF5bG9hZCBhcyBKU09OXCIpfWlmKCFhZShuKSl0aHJvdyBuZXcgWChcIkludmFsaWQgSldUIENsYWltcyBTZXRcIik7cmV0dXJuIG59KHUpO2lmKCFoKXtjb25zdCBlPW5ldyBBdXRoZW50aWNhdGlvbkVycm9yKFwiRmFpbGVkIHRvIGRlY29kZSBJRCB0b2tlblwiKTt0aHJvdyBzLmxvZ2dlci5sb2dFcnJvcihlKSxlfWNvbnN0e2F1ZDpwLGlzczp3fT1oO3JldHVybiBhd2FpdCBIZSh1LEFycmF5LmlzQXJyYXkocCk/cFswXTpwLHcpLHtjbGFpbXM6aCxjbGllbnRJZDp0LGlkVG9rZW46dSxsb2dvdXQ6cWUodCx1LHMpLG9wZW5JZFByb3ZpZGVyVXJsOmUsdXNlckluZm86cy51c2VySW5mb319LE5lPShlLHQscixvLG4sYSk9PmFzeW5jIG49PntpZigwIT09bmV3IFVSTChuKS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihyLnRvTG93ZXJDYXNlKCkpKXJldHVybiExO3dpbmRvdy5jbGVhckludGVydmFsKGEpLHdpbmRvdy5jbGVhclRpbWVvdXQodCk7dHJ5e2UucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5jbG9zZSghMCl9Y2F0Y2goZSl7fXJldHVybiBvKCksITB9LEZlPWFzeW5jKGUsdCxyLG8sbik9Pntjb25zdCBhPXthZGRpdGlvbmFsTWV0YWRhdGE6bixkaXNjb3ZlcnlFbmRwb2ludDpLZShlKX07cmV0dXJuIExlLmluaXQoYSx2b2lkIDAsdCwkZSxlLHIsbyl9LHFlPShlLHQscik9PmFzeW5jKG8sbik9PntpZighbyl0aHJvdyBuZXcgeChcIkxvZ291dCBSZWRpcmVjdGlvbiBVUkkgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIik7Y29uc3R7bG9nZ2VyOmEsbWV0YWRhdGE6aX09cjthLmxvZ0luZm8oXCJMb2dvdXQgc3RhcnRlZFwiLGUsdCxvLG4pO2NvbnN0e2VuZF9zZXNzaW9uX2VuZHBvaW50OnN9PWk/P3t9O2lmKCFzKXtjb25zdCBlPW5ldyBMb2dvdXRFcnJvcihcIk9wZW5JRCBQcm92aWRlciBtZXRhZGF0YSBkb2VzIG5vdCBkZWZpbmUgZW5kIHNlc3Npb24gZW5kcG9pbnRcIik7dGhyb3cgYS5sb2dFcnJvcihlKSxlfWNvbnN0IGM9YCR7c30/aWRfdG9rZW5faGludD0ke3R9JmNsaWVudF9pZD0ke2V9JnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT0ke2VuY29kZVVSSUNvbXBvbmVudChvKX0ke24/YCZsb2dvdXRfaGludD0ke2VuY29kZVVSSUNvbXBvbmVudChuKX1gOlwiXCJ9YDthd2FpdCAkKGMsR2UobyxhKSksYXdhaXQocj8uY2xvc2UoKSksYS5sb2dJbmZvKFwiTG9nb3V0IGNvbXBsZXRlZFwiKX0sR2U9KGUsdCk9PnI9Pm5ldyBQcm9taXNlKCgobyxuKT0+e2xldCBhO3IuYWRkTGlzdGVuZXIoXCJjbG9zaW5nXCIsKGFzeW5jKCk9Pnt0LmxvZ0luZm8oXCJVc2VyIGNsb3NlZCBhdXRoIHdpbmRvd1wiKSx3aW5kb3cuY2xlYXJJbnRlcnZhbChhKSxyLnJlbW92ZUFsbExpc3RlbmVycygpLG4obmV3IExvZ291dEVycm9yKFwiRmFpbGVkIHRvIGNvbXBsZXRlIGxvZ291dCBwcm9jZXNzXCIpKX0pKTtjb25zdCBpPXdpbmRvdy5zZXRUaW1lb3V0KChhc3luYygpPT57dHJ5e2F3YWl0IHIuaXNTaG93aW5nKCl8fCh0LmxvZ0luZm8oXCJTaG93aW5nIGF1dGggd2luZG93XCIpLGF3YWl0IHIuc2hvdyghMCksYXdhaXQgci5mb2N1cygpKX1jYXRjaHt0LmxvZ1dhcm5pbmcoXCJVbmFibGUgdG8gc2hvdyBhdXRoIHdpbmRvd1wiKX19KSwyZTMpOyhhc3luYygpPT57Y29uc3R7dmVyc2lvbjpzfT1hd2FpdCBmaW4uU3lzdGVtLmdldFJ1bnRpbWVJbmZvKCk7aWYocGFyc2VJbnQocy5zcGxpdChcIi5cIilbMF0sMTApPj0zMCl7YXdhaXQgTmUocixpLGUsbyxuKSgoYXdhaXQgci5nZXRJbmZvKCkpLnVybCl8fGF3YWl0IHIuYWRkTGlzdGVuZXIoXCJ1cmwtY2hhbmdlZFwiLChhPT57dC5sb2dJbmZvKFwiQXV0aCB3aW5kb3cgbmF2aWdhdGVkIHRvXCIsYS51cmwpLE5lKHIsaSxlLG8sbikoYS51cmwpfSkpfWVsc2UgYT13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT4oYXN5bmMoZSx0LHIsbyxuLGEpPT57bGV0IGk7dHJ5e2k9YXdhaXQgZS5nZXRJbmZvKCl9Y2F0Y2goZSl7cmV0dXJuIHdpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQociksYShuZXcgTG9nb3V0RXJyb3IoXCJDb3VsZCBub3QgbG9jYXRlIGF1dGggd2luZG93XCIpKSwhMX1yZXR1cm4gTmUoZSxyLG8sbixhLHQpKGkudXJsKX0pKHIsYSxpLGUsbyxuKSksNTAwKX0pKCl9KSk7dmFyIFZlPXQuTVMsQmU9dC5fNyxYZT10LmNYLFllPXQuekwsUWU9dC5fVyxaZT10LnA4LGV0PXQuWVIsdHQ9dC5VJCxydD10LlU3LG90PXQuT0Y7ZXhwb3J0e1ZlIGFzIEFwaUVycm9yLEJlIGFzIEF1dGhlbnRpY2F0aW9uRXJyb3IsWGUgYXMgSW5pdGlhbGl6YXRpb25FcnJvcixZZSBhcyBMb2dvdXRFcnJvcixRZSBhcyBQYXJhbWV0ZXJFcnJvcixaZSBhcyBWYWxpZGF0aW9uRXJyb3IsZXQgYXMgYXV0aGVudGljYXRlLHR0IGFzIGRpc2FibGVMb2dnaW5nLHJ0IGFzIGVuYWJsZUxvZ2dpbmcsb3QgYXMgdmFsaWRhdGVJZFRva2VufTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB0eXBlIHsgTW9kdWxlSW1wbGVtZW50YXRpb24sIE1vZHVsZVR5cGVzIH0gZnJvbSBcIndvcmtzcGFjZS1wbGF0Zm9ybS1zdGFydGVyL3NoYXBlcy9tb2R1bGUtc2hhcGVzXCI7XG5pbXBvcnQgeyBPcGVuSWRDb25uZWN0UHJvdmlkZXIgfSBmcm9tIFwiLi9hdXRoXCI7XG5cbi8qKlxuICogRGVmaW5lIHRoZSBlbnRyeSBwb2ludHMgZm9yIHRoZSBtb2R1bGUuXG4gKi9cbmV4cG9ydCBjb25zdCBlbnRyeVBvaW50czogeyBbdHlwZSBpbiBNb2R1bGVUeXBlc10/OiBNb2R1bGVJbXBsZW1lbnRhdGlvbiB9ID0ge1xuXHRhdXRoOiBuZXcgT3BlbklkQ29ubmVjdFByb3ZpZGVyKClcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=