/******/ var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={703:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,deregister:()=>tt,hide:()=>ot,register:()=>et,show:()=>nt});var o={};n.r(o),n.d(o,{subscribe:()=>ce});var r={};n.r(r),n.d(r,{create:()=>Ne});var i=n(678),s=n(532),a=n(436);const c="home";var d;!function(e){e.Commands="home-commands"}(d||(d={}));var u,p=n(806),l=(n(298),n(758));n(114),n(109),n(427);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(u||(u={}));var f=n(316);const w="all",g="0",h="5",y="6",v=()=>{};function m(e,t){return e?`${e}-${t}`:t}function P(e){return`__search-${e}-topic__`}const S=new Map;function k(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function C(e,t){const n=S.get(e);n&&n.delete(t)}const W=new Map;function R(e,t){W.has(e)||W.set(e,new Set),W.get(e).add(t)}function I(e,t){const n=W.get(e);n&&n.delete(t)}const T=new Map;async function b(e,t){T.has(e)||T.set(e,new Map),T.get(e).set(t.id,t);const n=S.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function D(e,t){const n=T.get(e);if(!n)return;n.delete(t);const o=W.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function B(e){const t=T.get(e);return t?[...t.values()]:[]}function F(e){const t=T.get(e);t&&t.clear()}function A(e,t){const n=T.get(e);return n?n.get(t):null}function L(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function O(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(e?.score??1/0)-(t?.score??1/0))):s.sort(((e,t)=>(t?.score??1/0)-(e?.score??1/0))),s}function x(e){const t={};let n=[];let o=[];let r=u.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=v;const i={};return t.res=i,i.close=()=>{r!==u.Close&&(r=u.Close,t.onChange())},i.open=()=>{r!==u.Open&&(r=u.Open,t.onChange())},i.respond=n=>{const o=O(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function V(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function E(){return{name:fin.me.name,uuid:fin.me.uuid}}function M(){let e;try{e=fin.Platform.getCurrentSync().identity.uuid}catch(e){}return e}const _="deregistered or does not exist",$=new Error(`provider ${_}`),q=new Error("provider with name already exists"),G=new Error("bad payload"),H=new Error("subscription rejected"),N=new Error(`channel ${_}`),U=new Map;function j(e){const t=X(e);if(t)return t;throw N}function X(e){const t=U.get(e);if(t)return t}function K(e,t){U.set(e,t)}function J(e){console.error("OpenFin Search API: ",e)}const z=new Map;function Z(e){z.has(e)||z.set(e,new Map);const t=z.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function Y(e,t){return(await j(e)).dispatch(g,t)}function Q({namespacedTopic:e,topic:t}){const n=A.bind(null,e),o=Z(e),r=Y.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=G;return J(e),{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=$;return J(e),{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=V(t,s,e),d.set(e.id,u));const p=x(),l=()=>{const e=p.getResultBuffer();p.setResultBuffer([]);const t=p.getRevokedBuffer();p.setRevokedBuffer([]);const n=p.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let f=!0,w=!1;p.onChange=()=>{if(f)return f=!1,void l();w||(w=!0,setTimeout((()=>{w=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,p.res),n=p.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return J(e),{id:s,providerId:a,error:e?.message}}}}async function ee(e,t,n){const o=n||await j(e),r=E(),i={...t,identity:r,onResultDispatch:void 0},s=await o.dispatch("2",i);return await b(e,{identity:r,...t}),s}async function te(e,t){const n=await j(e);return await n.dispatch("3",t),D(e,t)}async function ne(e,t,n,o){const r=L(n,E(),o),i=A(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await j(e)).dispatch(h,s)}async function oe(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await j(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id||"",o.close=()=>{!async function(e,t){(await j(e)).dispatch(y,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function re(e){return(await j(e)).dispatch("4",null)}async function ie(e){const t=await j(e);var n;n=e,U.delete(n),F(e),await t.disconnect()}function se(e){const{namespacedTopic:t}=e,n=Z(t);return async o=>{if(!X(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);K(t,(async e=>{const{namespacedTopic:t}=e,n=await ae(e);for(const e of B(t))await ee(t,e,n);return n})(e))}}async function ae(e){const{namespacedTopic:t}=e,n=P(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(g,Q(e)),o.register(y,function(e){const t=Z(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return void J(G);const o=A(e,t.providerId);if(!o)return void J($);const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(se(e)),o}async function ce(e){const t="string"==typeof e?e:e.topic,n="string"==typeof e?void 0:e.uuid,o=t||w,r=n||M()||"",i=m(r,o),s={topic:o,namespace:r,namespacedTopic:i};let a=X(i);return a||(a=ae(s),K(i,a),await a),{getAllProviders:re.bind(null,i),register:ee.bind(null,i),search:oe.bind(null,i),deregister:te.bind(null,i),dispatch:ne.bind(null,i),disconnect:ie.bind(null,i)}}const de=new Map;function ue(e){const t=pe(e);if(t)return t;throw N}function pe(e){const t=de.get(e);if(t)return t}const le=new Map;function fe(e,t){le.has(e)||le.set(e,new Set),le.get(e).add(t)}function we(e,t){const n=le.get(e);n&&n.delete(t)}async function ge(e){return[...B(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function he(e,t){if(A(e,t.id))throw new Error("provider with name already exists");const n=E();return await b(e,{identity:n,...t}),{workspaceVersion:i.u0||"",clientAPIVersion:t.clientAPIVersion||""}}async function ye(e,t){await D(e,t)}async function ve(e,t,n,o){const r=A(e,t);if(!r)throw $;const{onResultDispatch:i}=r;if(!i)return;return i(L(n,E(),o))}async function*me(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=x(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=O(a.results||[],n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>A(e,t))).filter((e=>!!e)):[...B(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const d=e=>{c=e,n.setState(c)};let p,l=!1;t.onClose((()=>{l=!0,p&&p()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(d(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},w=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===u.Open||c===f.De.Fetching&&a===u.Initial)&&(w.push(t),n.onChange=o);const d=n.getResultBuffer();d.length&&(n.setResultBuffer([]),s.results=O(s.results||[],d),e=!0);const p=n.getRevokedBuffer();if(p.length){n.setRevokedBuffer([]);const t=new Set(p);s.results=(s.results||[]).filter((({key:e})=>!t.has(e))),e=!0}}if(s=w,e&&(yield r),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{p=e}))])}while(s.length||a.length);return d(f.De.Complete),r}let Pe=0;async function Se({namespacedTopic:e,topic:t},n){Pe+=1;const o=V(t,Pe.toString(),n),r=me(e,o.req,{setState:e=>{r.state=e}});return r.id=Pe.toString(),r.close=o.close,r.state=f.De.Fetching,r}const ke=new Map;function Ce(e,t){return`${e}:${t}`}function We(e){return async t=>{if(!t)return J(G),{error:G.message};let n;if(t.id)n=Ce(e.namespacedTopic,t.id);else{const o=await Se(e,t);n=Ce(e.namespacedTopic,o.id),t.id=o.id,ke.set(n,{generator:o})}const o=ke.get(n);clearTimeout(o.timeout);const r=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ke.delete(e)}),1e4)}(n),{...r,id:t.id,state:o.generator.state}}}function Re(e,t,n){return ue(e).dispatch(t,y,{id:n})}function Ie(e){return t=>function(e,t){const n=Ce(e,t),o=ke.get(n);o&&o.generator.close()}(e,t.id)}async function Te(e,t,{id:n,query:o,context:r,targets:i=[]}){const s=ue(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,g,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function De(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Be=new Map;function Fe(e,t,n){return`${e}:${t}:${n}`}function Ae(e,t){const n=De.bind(null,e,t.identity),o=Re.bind(null,e,t.identity),r=Te.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{o(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const c=Fe(e,t.id,i.id),d=()=>{Be.delete(c),s.close()};i.onClose(d),Be.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===u.Open&&s.open(),e.status===u.Close&&d()}));const p=await r(i);return p.status===u.Open&&s.open(),p.status!==u.Close&&p.status!==u.Initial||d(),p}}function Le(e,t){return async n=>{const o=ue(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,h,r)}}const Oe=new Map;function xe(e,t){return`${e}-${t.name}-${t.uuid}`}function Ve(e){return async(t,n)=>{if(!t||!t.id)return J(new Error(JSON.stringify(t))),void J(G);if(A(e,t.id))throw q;return t.identity=n,await async function(e,t){const n=xe(e,t.identity);Oe.has(n)||Oe.set(n,[]),Oe.get(n).push(t.id),await b(e,{...t,onUserInput:Ae(e,t),onResultDispatch:Le(e,t)})}(e,t),{workspaceVersion:i.u0||"",clientAPIVersion:t.clientAPIVersion||""}}}function Ee(e){return t=>{t?function(e,t){const n=A(e,t);if(!n)return;const o=xe(e,n.identity),r=Oe.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),D(e,t))}}(e,t):J(G)}}const Me=new Map;function _e(e,t){Me.has(e)||Me.set(e,new Set),Me.get(e).add(t)}function $e(e,t){const n=Me.get(e);n&&n.delete(t)}function qe(e){return async t=>{!function(e,t){const n=xe(e,t),o=Oe.get(n);if(o){for(const t of o)D(e,t);Oe.delete(n)}}(e,t);const n=Me.get(e);n&&n.forEach((e=>e(t)))}}async function Ge(e){const{namespacedTopic:t}=e,n=P(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=le.get(e);if(n)for(const e of n)if(!await e(t))throw H}}(e)),o.onDisconnection(qe(t)),o.register(y,Ie(t)),o.register(g,function(e){return t=>{const n=Fe(e,t.providerId,t.id),o=Be.get(n);o&&o(t)}}(t)),o.register("2",Ve(t)),o.register("3",Ee(t)),o.register("4",function(e){return async()=>ge(e)}(t)),o.register("1",We(e)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return void J(G);const o=A(e,t.providerId);if(!o)throw $;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function He(e){const t=ue(e);var n;n=e,de.delete(n),await t.destroy(),F(e)}async function Ne(e){const t=("string"==typeof e?e:e?.topic||"")||w,n=M()||"",o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=pe(o);i||(i=await Ge(r),function(e,t){de.set(e,t)}(o,i));const s=we.bind(null,o),a=$e.bind(null,o),c=C.bind(null,o),d=I.bind(null,o);return{getAllProviders:ge.bind(null,o),search:Se.bind(null,r),register:he.bind(null,o),deregister:ye.bind(null,o),onSubscription:fe.bind(null,o),onDisconnect:_e.bind(null,o),onRegister:k.bind(null,o),onDeregister:R.bind(null,o),dispatch:ve.bind(null,o),disconnect:He.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ue}=r,{subscribe:je}=o,Xe={create:Ue,subscribe:je,defaultTopic:"all"},Ke=()=>{window.search=Xe},Je=e=>{const t=()=>{Ke(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ke();const e="load",t=Je(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=Je(n);window.addEventListener(n,o)}const ze=new Map;async function Ze(){await async function(e){ze.set(e,await je({topic:e,uuid:p.q9.Workspace}))}(c)}let Ye;async function Qe(e){return await async function(){return Ye||(Ye=Ze()),Ye}(),ze.get(e)}const et=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,a.aB)();const t=await Qe(c);try{e.clientAPIVersion=i.u0;const n=await t.register(e);return(0,s.ck)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,i.u0,n}catch(e){throw(0,s.ck)({allowed:!1,rejectionCode:e.message}),e}},tt=async e=>{await(0,a.aB)();return(await Qe(c)).deregister(e)};async function nt(){return(await(0,a.Xl)()).dispatch(a.WF.ShowHome,void 0)}async function ot(){return(await(0,a.Xl)()).dispatch(a.WF.HideHome,void 0)}},298:(e,t,n)=>{n.d(t,{p:()=>o.px,w:()=>o.wt});var o=n(316)},427:(e,t,n)=>{var o;n.d(t,{v:()=>o}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,el:()=>i,yW:()=>r}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},109:(e,t,n)=>{n.d(t,{Go:()=>r,ZJ:()=>s,bI:()=>i,p6:()=>o});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},528:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>s.L,StorefrontTemplate:()=>s.T,deregister:()=>g,hide:()=>h,register:()=>w,show:()=>y});var o=n(532),r=n(436),i=n(82),s=n(114),a=n(678);let c,d=!1;async function u(e,t,n){const o=await(0,r.Dm)();try{return await o.dispatch(e.action,e.payload)}catch(r){if(-1!==r.toString().indexOf(e.action))return d||console.warn("You are using a newer version of the Workspace client library that is not supported by the currently running workspace provider. Please upgrade the Workspace to version 9.0 or later."),d=!0,await o.dispatch(t.action,t.payload),n;throw r}}const p=new Map,l=e=>{if(!p.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return p.get(e)},f=async e=>{const t=await(0,r.Xl)();if(p.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return p.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.WF.GetStorefrontProviderApps,(e=>l(e).getApps())),e.register(r.WF.GetStorefrontProviderFooter,(e=>l(e).getFooter())),e.register(r.WF.GetStorefrontProviderLandingPage,(e=>l(e).getLandingPage())),e.register(r.WF.GetStorefrontProviderNavigation,(e=>l(e).getNavigation())),e.register(r.WF.LaunchStorefrontProviderApp,(({id:e,app:t})=>l(e).launchApp(t))))})(t),e.clientAPIVersion=a.u0,u({action:r.WF.RegisterProvider,payload:{providerType:i.lP.Storefront,info:e}},{action:r.WF.RegisterStorefrontProvider,payload:e},{workspaceVersion:"unknown"})},w=e=>(c=new Promise((async(t,n)=>{try{const n=await f(e);(0,o.d9)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,a.u0,t({clientAPIVersion:a.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,o.d9)({allowed:!1,rejectionCode:e.message}),n(e)}})),c),g=async e=>(await c,p.delete(e),await(0,r.aB)(),u({action:r.WF.DeregisterProvider,payload:{providerType:i.lP.Storefront,id:e}},{action:r.WF.DeregisterStorefrontProvider,payload:e})),h=async()=>(await c,await(0,r.aB)(),u({action:r.WF.HideProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.HideStorefront})),y=async()=>(await c,await(0,r.aB)(),u({action:r.WF.ShowProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.ShowStorefront}))},436:(e,t,n)=>{n.d(t,{WF:()=>s,Dm:()=>a,Xl:()=>p,aB:()=>u});var o=n(678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n={clientAPIVersion:o.u0},i=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return i.onDisconnection((async()=>{console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),fin.System.openUrlWithBrowser(d(o.GX))},p=async()=>(await u(),a())},82:(e,t,n)=>{n.d(t,{R8:()=>s,X_:()=>i,lP:()=>o});var o,r=n(436);!function(e){e.Storefront="storefront",e.Dock="dock"}(o||(o={}));const i=async e=>(await(0,r.Dm)()).dispatch(r.WF.ShowProviderWindow,{providerType:e}),s=async e=>(await(0,r.Dm)()).dispatch(r.WF.HideProviderWindow,{providerType:e})},806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,o.Workspace},678:(e,t,n)=>{var o;n.d(t,{AB:()=>a,Ax:()=>i,GX:()=>u,ZK:()=>d,aW:()=>p,oC:()=>c,sS:()=>r,u0:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),p="https://cdn.openfin.co/workspace/9.1.22/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,f=(l("https://cdn.openfin.co/workspace/9.1.22"),l("https://cdn.openfin.co/workspace/9.1.22"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"9.1.22")},532:(e,t,n)=>{n.d(t,{Wn:()=>d,ck:()=>a,d9:()=>c});var o,r=n(678),i=n(121);!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:t.componentVersion||r.u0,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)},d=async e=>{s(o.Dock,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>d,JV:()=>l,OI:()=>u,iW:()=>p});var o,r,i,s=n(806),a=n(678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={})),function(e){e.BeforeUnload="beforeunload"}(i||(i={}));function c(e){if(!a.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const d={name:a.oC,uuid:a.AB};const u={name:o.Home,uuid:s.q9.Workspace},p=(o.Dock,s.q9.Workspace,o.Storefront,s.q9.Workspace,{name:s.q9.Workspace,uuid:s.q9.Workspace});const l=e=>c(e).getOptions().then((()=>!0)).catch((()=>!1))},316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{ActionTrigger:()=>S.p,AppManifestType:()=>W.L,ButtonStyle:()=>k.ZJ,CLIAction:()=>C.Pt,CLIFilterOptionType:()=>C.el,CLITemplate:()=>C.yW,ContainerTemplateFragmentNames:()=>k.p6,Dock:()=>e,DockButtonNames:()=>c.v,Home:()=>h,Legacy:()=>t,PresentationTemplateFragmentNames:()=>k.Go,SearchTagBackground:()=>S.w,Storefront:()=>P,StorefrontTemplate:()=>W.T,TemplateFragmentTypes:()=>k.bI});var e={};n.r(e),n.d(e,{DockButtonNames:()=>c.v,deregister:()=>l,minimize:()=>f,register:()=>p,show:()=>w});var t={};n.r(t),n.d(t,{getPages:()=>v,getWorkspaces:()=>m});var r=n(678),i=n(532),s=n(436),a=n(82),c=n(427);let d,u=!1;const p=e=>(d=new Promise((async(t,n)=>{try{const n=await(async e=>{const t=await(0,s.Xl)();if(u)throw new Error("A dock provider for the platform is already registered.");return u=!0,e.clientAPIVersion=r.u0,t.dispatch(s.WF.RegisterProvider,{providerType:a.lP.Dock,info:e})})(e);(0,i.Wn)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,r.u0,t({clientAPIVersion:r.u0,workspaceVersion:n.workspaceVersion||""})}catch(e){(0,i.Wn)({allowed:!1,rejectionCode:e.message}),n(e),d=null}})),d),l=async()=>{await d,u=!1;return(await(0,s.Xl)()).dispatch(s.WF.DeregisterProvider,{providerType:a.lP.Dock})},f=async()=>{await d,await(0,s.aB)(),await(0,a.R8)(a.lP.Dock)},w=async()=>{await d,await(0,s.aB)(),await(0,a.X_)(a.lP.Dock)};var g,h=n(703);n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(g||(g={}));new Map;var y;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(y||(y={}));const v=()=>async function(){return(await(0,s.Dm)()).dispatch(s.WF.GetLegacyPages,void 0)}(),m=()=>(async()=>(await(0,s.Dm)()).dispatch(s.WF.GetLegacyWorkspaces,void 0))();var P=n(528),S=n(298),k=n(109),C=n(758),W=n(114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/async/integration-provider.ts":
/*!***************************************************************!*\
  !*** ./client/src/integrations/async/integration-provider.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AsyncIntegrationProvider": () => (/* binding */ AsyncIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates */ "./client/src/templates.ts");


/**
 * Implement the integration provider for async results.
 */
class AsyncIntegrationProvider {
    /**
     * Initialize the module.
     * @param definition The definition of the module from configuration include custom options.
     * @param loggerCreator For logging entries.
     * @param helpers Helper methods for the module to interact with the application core.
     * @returns Nothing.
     */
    async initialize(definition, loggerCreator, helpers) {
        this._integrationHelpers = helpers;
        this._settings = definition.data;
    }
    /**
     * The module is being deregistered.
     * @returns Nothing.
     */
    async closedown() { }
    /**
     * Get a list of the static help entries.
     * @returns The list of help entries.
     */
    async getHelpSearchEntries() {
        return [
            {
                key: `${AsyncIntegrationProvider._PROVIDER_ID}-help1`,
                title: "/contacts-sync",
                label: "Help",
                actions: [],
                data: {
                    providerId: AsyncIntegrationProvider._PROVIDER_ID,
                    populateQuery: "/contacts-sync"
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: await (0,_templates__WEBPACK_IMPORTED_MODULE_1__.createHelp)("/contacts-sync", [
                    "The contacts-sync command can be used to search for a contact.",
                    "It demonstrates how a long running retrieval would have to wait for the response before anything is display.",
                    "For example to search for a contact containing the letter a."
                ], ["/contacts-sync a"])
            },
            {
                key: `${AsyncIntegrationProvider._PROVIDER_ID}-help2`,
                title: "/contacts-partial",
                label: "Help",
                actions: [],
                data: {
                    providerId: AsyncIntegrationProvider._PROVIDER_ID,
                    populateQuery: "/contacts-partial"
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: await (0,_templates__WEBPACK_IMPORTED_MODULE_1__.createHelp)("/contacts-partial", [
                    "The contacts-partial command can be used to search for a contact.",
                    "It demonstrates how we would display results instantly while asynchronously retrieving all the results.",
                    "For example to search for a contact containing the letter a."
                ], ["/contacts-partial a"])
            },
            {
                key: `${AsyncIntegrationProvider._PROVIDER_ID}-help3`,
                title: "/contacts",
                label: "Help",
                actions: [],
                data: {
                    providerId: AsyncIntegrationProvider._PROVIDER_ID,
                    populateQuery: "/contacts"
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: await (0,_templates__WEBPACK_IMPORTED_MODULE_1__.createHelp)("/contacts", [
                    "The contacts command can be used to search for a contact.",
                    "It demonstrates how we would display results instantly and only retrieve full data on entry selection.",
                    "Contacts starting with E will show error on first load.",
                    "For example to search for a contact containing the letter a."
                ], ["/contacts a", "/contacts e"])
            }
        ];
    }
    /**
     * An entry has been selected.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(result, lastResponse) {
        const data = result.data;
        if (result.action.trigger === "user-action" &&
            result.action.name === AsyncIntegrationProvider._ASYNC_PROVIDER_DETAILS_ACTION &&
            data.url &&
            this._integrationHelpers.openUrl) {
            await this._integrationHelpers.openUrl(data.url);
            return true;
        }
        else if ((result.action.trigger === "focus-change" && result.data?.state === "loading") ||
            (result.action.trigger === "reload" && result.data?.state === "error")) {
            setTimeout(async () => {
                const contactResponse = await fetch(`${this._settings?.rootUrl}${result.data.contact.id}.json`);
                const contactFull = await contactResponse.json();
                lastResponse.respond([this.createResult(contactFull)]);
            }, 0);
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(query, filters, lastResponse) {
        const results = [];
        if (query.startsWith("/contacts-sync ")) {
            await this.contactsSync(query.slice(15), results);
        }
        else if (query.startsWith("/contacts-partial ")) {
            await this.contactsPartial(query.slice(18), results, lastResponse);
        }
        else if (query.startsWith("/contacts ")) {
            await this.contactsAsync(query.slice(10), results, lastResponse);
        }
        return {
            results
        };
    }
    /**
     * Retrieve the contacts in a synchronous manner.
     * @param query The query to search for
     * @param results The result list to populate.
     */
    async contactsSync(query, results) {
        const wildcard = query.trim().toLowerCase();
        if (wildcard.length > 0) {
            try {
                const response = await fetch(`${this._settings?.rootUrl}index.json`);
                const json = await response.json();
                for (const contact of json.data) {
                    if (contact.firstName.toLowerCase().includes(wildcard) ||
                        contact.lastName.toLowerCase().includes(wildcard)) {
                        const contactResponse = await fetch(`${this._settings?.rootUrl}${contact.id}.json`);
                        const contactFull = await contactResponse.json();
                        results.push(this.createResult(contactFull));
                    }
                }
            }
            catch (err) {
                console.error(err);
            }
        }
    }
    /**
     * Retrieve the contacts in a partially asynchronous manner.
     * @param query The query to search for
     * @param results The result list to populate.
     * @param lastResponse The last response to use for updating results.
     */
    async contactsPartial(query, results, lastResponse) {
        const wildcard = query.trim().toLowerCase();
        if (wildcard.length > 0) {
            try {
                const response = await fetch(`${this._settings?.rootUrl}index.json`);
                const json = await response.json();
                const finalContacts = [];
                for (const contact of json.data) {
                    if (contact.firstName.toLowerCase().includes(wildcard) ||
                        contact.lastName.toLowerCase().includes(wildcard)) {
                        finalContacts.push(contact);
                        results.push(this.createResult(contact));
                    }
                }
                setTimeout(async () => {
                    for (const contact of finalContacts) {
                        const contactResponse = await fetch(`${this._settings?.rootUrl}${contact.id}.json`);
                        const contactFull = await contactResponse.json();
                        lastResponse.respond([this.createResult(contactFull)]);
                    }
                }, 0);
            }
            catch (err) {
                console.error(err);
            }
        }
    }
    /**
     * Retrieve the contacts in an asynchronous manner.
     * @param query The query to search for
     * @param results The result list to populate.
     * @param lastResponse The last response to use for updating results.
     */
    async contactsAsync(query, results, lastResponse) {
        const wildcard = query.trim().toLowerCase();
        if (wildcard.length > 0) {
            try {
                const response = await fetch(`${this._settings?.rootUrl}index.json`);
                const json = await response.json();
                const finalContacts = [];
                for (const contact of json.data) {
                    if (contact.firstName.toLowerCase().includes(wildcard) ||
                        contact.lastName.toLowerCase().includes(wildcard)) {
                        finalContacts.push(contact);
                        // If a contact starts with E show it in errored state
                        if (contact.firstName.startsWith("E")) {
                            results.push(this.createResultErrored(contact));
                        }
                        else {
                            results.push(this.createResultLoading(contact));
                        }
                    }
                }
            }
            catch (err) {
                console.error(err);
            }
        }
    }
    /**
     * Create a search result.
     * @param contact The contact.
     * @returns The search result.
     */
    createResult(contact) {
        const fullName = `${contact.firstName} ${contact.lastName}`;
        const details = [];
        if (contact.email) {
            details.push(["E-mail", contact.email]);
        }
        return {
            key: `contact-${contact.id}`,
            title: fullName,
            label: "Information",
            actions: [],
            data: {
                providerId: AsyncIntegrationProvider._PROVIDER_ID,
                contact
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Contact,
            templateContent: {
                name: fullName,
                details: [details]
            }
        };
    }
    /**
     * Create a search result in loading state.
     * @param contact The contact.
     * @returns The search result.
     */
    createResultLoading(contact) {
        const fullName = `${contact.firstName} ${contact.lastName}`;
        return {
            key: `contact-${contact.id}`,
            title: fullName,
            label: "Information",
            actions: [],
            data: {
                providerId: AsyncIntegrationProvider._PROVIDER_ID,
                contact,
                state: "loading"
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Loading,
            templateContent: undefined
        };
    }
    /**
     * Create a search result in errored state.
     * @param contact The contact.
     * @returns The search result.
     */
    createResultErrored(contact) {
        const fullName = `${contact.firstName} ${contact.lastName}`;
        return {
            key: `contact-${contact.id}`,
            title: fullName,
            label: "Information",
            actions: [],
            data: {
                providerId: AsyncIntegrationProvider._PROVIDER_ID,
                contact,
                state: "error"
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Error,
            templateContent: "Unable to load data"
        };
    }
}
/**
 * Provider id.
 * @internal
 */
AsyncIntegrationProvider._PROVIDER_ID = "async";
/**
 * The key to use for a async result.
 * @internal
 */
AsyncIntegrationProvider._ASYNC_PROVIDER_DETAILS_ACTION = "Async Details";


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSettings": () => (/* binding */ getSettings)
/* harmony export */ });
let settings;
async function getConfiguredSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    if (manifest.customSettings !== undefined) {
        settings = manifest.customSettings;
    }
    else {
        settings = {};
    }
    return settings;
}
async function getSettings() {
    if (settings === undefined) {
        settings = await getConfiguredSettings();
    }
    return settings;
}


/***/ }),

/***/ "./client/src/templates.ts":
/*!*********************************!*\
  !*** ./client/src/templates.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createButton": () => (/* binding */ createButton),
/* harmony export */   "createContainer": () => (/* binding */ createContainer),
/* harmony export */   "createHelp": () => (/* binding */ createHelp),
/* harmony export */   "createImage": () => (/* binding */ createImage),
/* harmony export */   "createText": () => (/* binding */ createText),
/* harmony export */   "createTitle": () => (/* binding */ createTitle)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./themes */ "./client/src/themes.ts");


async function createHelp(title, description, examples
// eslint-disable-next-line @typescript-eslint/no-explicit-any
) {
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getCurrentTheme)();
    const additionalData = {};
    const fragments = [];
    for (let i = 0; i < description.length; i++) {
        const descriptionKey = `desc-${i}`;
        additionalData[descriptionKey] = description[i];
        fragments.push(await createText(descriptionKey, 12, {
            padding: "6px 0px"
        }));
    }
    const exampleFragments = [];
    for (let i = 0; i < examples.length; i++) {
        const exampleKey = `line-${i}`;
        additionalData[exampleKey] = examples[i];
        exampleFragments.push(await createText(exampleKey, 12, {
            fontFamily: "monospace",
            whiteSpace: "nowrap"
        }));
    }
    if (exampleFragments.length > 0) {
        fragments.push(await createContainer("column", exampleFragments, {
            padding: "10px",
            marginTop: "6px",
            backgroundColor: theme.palette.background5,
            color: theme.palette.inputColor,
            borderRadius: "5px",
            overflow: "auto"
        }));
    }
    return {
        layout: await createContainer("column", [
            await createTitle("title", undefined, undefined, {
                marginBottom: "10px",
                borderBottom: `1px solid ${theme.palette.background6}`
            }),
            ...fragments
        ], {
            padding: "10px"
        }),
        data: {
            title,
            ...additionalData
        }
    };
}
async function createContainer(containerType, children, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
        style: {
            display: "flex",
            flexDirection: containerType,
            ...style
        },
        children
    };
}
async function createTitle(dataKey, fontSize = 16, fontWeight = "bold", style) {
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getCurrentTheme)();
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Text,
        dataKey,
        style: {
            color: theme.palette.textDefault,
            fontSize: `${fontSize ?? 16}px`,
            fontWeight,
            ...style
        }
    };
}
async function createText(dataKey, fontSize = 14, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Text,
        dataKey,
        style: {
            fontSize: `${fontSize ?? 14}px`,
            ...style
        }
    };
}
async function createImage(dataKey, alternativeText, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Image,
        dataKey,
        alternativeText,
        style: {
            ...style
        }
    };
}
async function createButton(buttonStyle, titleKey, action, style) {
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getCurrentTheme)();
    const buttonOptions = buttonStyle === _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.ButtonStyle.Secondary
        ? {
            border: `1px solid ${theme.palette.inputColor}`
        }
        : {};
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Button,
        buttonStyle,
        children: [await createText(titleKey, 12)],
        action,
        style: {
            ...buttonOptions,
            ...style
        }
    };
}


/***/ }),

/***/ "./client/src/themes.ts":
/*!******************************!*\
  !*** ./client/src/themes.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCurrentTheme": () => (/* binding */ getCurrentTheme),
/* harmony export */   "getThemes": () => (/* binding */ getThemes),
/* harmony export */   "validateThemes": () => (/* binding */ validateThemes)
/* harmony export */ });
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");

const DEFAULT_PALETTES = {
    light: {
        brandPrimary: "#504CFF",
        brandSecondary: "#1E1F23",
        backgroundPrimary: "#FAFBFE",
        background1: "#FFFFFF",
        background2: "#FAFBFE",
        background3: "#F3F5F8",
        background4: "#ECEEF1",
        background5: "#DDDFE4",
        background6: "#C9CBD2",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#ECEEF1",
        inputColor: "#1E1F23",
        inputPlaceholder: "#383A40",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#1E1F23",
        textHelp: "#2F3136",
        textInactive: "#7D808A"
    },
    dark: {
        brandPrimary: "#504CFF",
        brandSecondary: "#383A40",
        backgroundPrimary: "#1E1F23",
        background1: "#111214",
        background2: "#1E1F23",
        background3: "#24262B",
        background4: "#2F3136",
        background5: "#383A40",
        background6: "#53565F",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#53565F",
        inputColor: "#FFFFFF",
        inputPlaceholder: "#C9CBD2",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#FFFFFF",
        textHelp: "#C9CBD2",
        textInactive: "#7D808A"
    }
};
let validatedThemes;
function getSystemPreferredColorScheme() {
    if (window.matchMedia?.("(prefers-color-scheme: dark)").matches) {
        return "dark";
    }
    return "light";
}
async function getCurrentTheme() {
    const themes = await getThemes();
    if (themes.length === 0) {
        return {
            label: "default",
            palette: DEFAULT_PALETTES.dark
        };
    }
    return themes[0];
}
async function getThemes() {
    if (!validatedThemes) {
        const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_0__.getSettings)();
        validatedThemes = validateThemes(settings?.themeProvider?.themes);
    }
    return validatedThemes.slice();
}
function validateThemes(themes) {
    const customThemes = [];
    if (Array.isArray(themes)) {
        const preferredColorScheme = getSystemPreferredColorScheme();
        for (let i = 0; i < themes.length; i++) {
            const themeToValidate = themes[i];
            const palette = validatePalette(themeToValidate.palette, themeToValidate.label);
            if (palette !== null) {
                themeToValidate.palette = palette;
            }
            else {
                // don't pass an empty object as there are no theme properties
                themeToValidate.palette = undefined;
            }
            if (themeToValidate.label.toLowerCase() === preferredColorScheme) {
                console.log(`Found a theme that matches system color scheme preferences and making it the default theme: ${preferredColorScheme}`);
                customThemes.unshift(themeToValidate);
            }
            else {
                customThemes.push(themeToValidate);
            }
        }
    }
    return customThemes;
}
function validatePalette(themePalette, themeLabel) {
    if (!themePalette) {
        return null;
    }
    const keys = Object.keys(themePalette);
    if (keys.length === 0) {
        return null;
    }
    const palette = {
        ...DEFAULT_PALETTES.dark
    };
    for (const key of keys) {
        if (themePalette[key] !== undefined &&
            themePalette[key] !== null &&
            themePalette[key].trim().length > 0) {
            palette[key] = themePalette[key];
        }
    }
    const brandPrimaryKey = "brandPrimary";
    const brandSecondaryKey = "brandSecondary";
    const backgroundPrimaryKey = "backgroundPrimary";
    if (!themePalette[brandPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    if (!themePalette[brandSecondaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandSecondaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandSecondary}`);
    }
    if (!themePalette[backgroundPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${backgroundPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    return palette;
}


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!************************************************!*\
  !*** ./client/src/integrations/async/index.ts ***!
  \************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "entryPoints": () => (/* binding */ entryPoints)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/async/integration-provider.ts");

const entryPoints = {
    integrations: new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.AsyncIntegrationProvider()
};

})();

var __webpack_exports__entryPoints = __webpack_exports__.entryPoints;
export { __webpack_exports__entryPoints as entryPoints };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO1VBQ0EsaUNBQWlDLFdBQVc7VUFDNUM7VUFDQTs7Ozs7VUNQQTtVQUNBO1VBQ0E7VUFDQTtVQUNBLHlDQUF5Qyx3Q0FBd0M7VUFDakY7VUFDQTtVQUNBOzs7OztVQ1BBOzs7OztVQ0FBO1VBQ0E7VUFDQTtVQUNBLHVEQUF1RCxpQkFBaUI7VUFDeEU7VUFDQSxnREFBZ0QsYUFBYTtVQUM3RDs7Ozs7Ozs7Ozs7Ozs7O0FDTmtFO0FBRTNELE1BQU0sV0FBVyxHQUErQztJQUN0RSxZQUFZLEVBQUUsSUFBSSwyRUFBd0IsRUFBRTtDQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy9hc3luYy9pbnRlZ3JhdGlvbi1wcm92aWRlci50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy90ZW1wbGF0ZXMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy8uL2NsaWVudC9zcmMvdGhlbWVzLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy9hc3luYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17NzAzOihlLHQsbik9PntuLnIodCksbi5kKHQse0NMSUFjdGlvbjooKT0+bC5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5sLmVsLENMSVRlbXBsYXRlOigpPT5sLnlXLGRlcmVnaXN0ZXI6KCk9PnR0LGhpZGU6KCk9Pm90LHJlZ2lzdGVyOigpPT5ldCxzaG93OigpPT5udH0pO3ZhciBvPXt9O24ucihvKSxuLmQobyx7c3Vic2NyaWJlOigpPT5jZX0pO3ZhciByPXt9O24ucihyKSxuLmQocix7Y3JlYXRlOigpPT5OZX0pO3ZhciBpPW4oNjc4KSxzPW4oNTMyKSxhPW4oNDM2KTtjb25zdCBjPVwiaG9tZVwiO3ZhciBkOyFmdW5jdGlvbihlKXtlLkNvbW1hbmRzPVwiaG9tZS1jb21tYW5kc1wifShkfHwoZD17fSkpO3ZhciB1LHA9big4MDYpLGw9KG4oMjk4KSxuKDc1OCkpO24oMTE0KSxuKDEwOSksbig0MjcpOyFmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifSh1fHwodT17fSkpO3ZhciBmPW4oMzE2KTtjb25zdCB3PVwiYWxsXCIsZz1cIjBcIixoPVwiNVwiLHk9XCI2XCIsdj0oKT0+e307ZnVuY3Rpb24gbShlLHQpe3JldHVybiBlP2Ake2V9LSR7dH1gOnR9ZnVuY3Rpb24gUChlKXtyZXR1cm5gX19zZWFyY2gtJHtlfS10b3BpY19fYH1jb25zdCBTPW5ldyBNYXA7ZnVuY3Rpb24gayhlLHQpe1MuaGFzKGUpfHxTLnNldChlLG5ldyBTZXQpLFMuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBDKGUsdCl7Y29uc3Qgbj1TLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBXPW5ldyBNYXA7ZnVuY3Rpb24gUihlLHQpe1cuaGFzKGUpfHxXLnNldChlLG5ldyBTZXQpLFcuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBJKGUsdCl7Y29uc3Qgbj1XLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBUPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gYihlLHQpe1QuaGFzKGUpfHxULnNldChlLG5ldyBNYXApLFQuZ2V0KGUpLnNldCh0LmlkLHQpO2NvbnN0IG49Uy5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IG89Wy4uLm5dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyl9YXN5bmMgZnVuY3Rpb24gRChlLHQpe2NvbnN0IG49VC5nZXQoZSk7aWYoIW4pcmV0dXJuO24uZGVsZXRlKHQpO2NvbnN0IG89Vy5nZXQoZSk7aWYoIW8pcmV0dXJuO2NvbnN0IHI9Wy4uLm9dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwocil9ZnVuY3Rpb24gQihlKXtjb25zdCB0PVQuZ2V0KGUpO3JldHVybiB0P1suLi50LnZhbHVlcygpXTpbXX1mdW5jdGlvbiBGKGUpe2NvbnN0IHQ9VC5nZXQoZSk7dCYmdC5jbGVhcigpfWZ1bmN0aW9uIEEoZSx0KXtjb25zdCBuPVQuZ2V0KGUpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9ZnVuY3Rpb24gTChlLHQsbil7cmV0dXJuey4uLmUsYWN0aW9uOm58fHsuLi5lLmFjdGlvbnNbMF0sdHJpZ2dlcjpmLnB4LlVzZXJBY3Rpb259LGRpc3BhdGNoZXJJZGVudGl0eTp0fX1mdW5jdGlvbiBPKGUsdCxuPVwiYXNjZW5kaW5nXCIpe2NvbnN0IG89ZXx8W107aWYoIXQ/Lmxlbmd0aClyZXR1cm4gbztjb25zdCByPVtdLGk9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gaS5zZXQoZS5rZXksZSk7ci5wdXNoKGUpfSkpO2xldCBzPW8ubWFwKChlPT57Y29uc3R7a2V5OnR9PWU7aWYodCYmaS5oYXModCkpe2NvbnN0IGU9aS5nZXQodCk7cmV0dXJuIGkuZGVsZXRlKHQpLGV9cmV0dXJuIGV9KSk7cmV0dXJuIHMucHVzaCguLi5pLnZhbHVlcygpLC4uLnIpLHM9XCJhc2NlbmRpbmdcIj09PW4/cy5zb3J0KCgoZSx0KT0+KGU/LnNjb3JlPz8xLzApLSh0Py5zY29yZT8/MS8wKSkpOnMuc29ydCgoKGUsdCk9Pih0Py5zY29yZT8/MS8wKS0oZT8uc2NvcmU/PzEvMCkpKSxzfWZ1bmN0aW9uIHgoZSl7Y29uc3QgdD17fTtsZXQgbj1bXTtsZXQgbz1bXTtsZXQgcj11LkluaXRpYWw7dC5nZXRTdGF0dXM9KCk9PnIsdC5nZXRSZXN1bHRCdWZmZXI9KCk9Pm4sdC5zZXRSZXN1bHRCdWZmZXI9ZT0+e249ZSxuPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5nZXRSZXZva2VkQnVmZmVyPSgpPT5vLHQuc2V0UmV2b2tlZEJ1ZmZlcj1lPT57bz1lLG8/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0Lm9uQ2hhbmdlPXY7Y29uc3QgaT17fTtyZXR1cm4gdC5yZXM9aSxpLmNsb3NlPSgpPT57ciE9PXUuQ2xvc2UmJihyPXUuQ2xvc2UsdC5vbkNoYW5nZSgpKX0saS5vcGVuPSgpPT57ciE9PXUuT3BlbiYmKHI9dS5PcGVuLHQub25DaGFuZ2UoKSl9LGkucmVzcG9uZD1uPT57Y29uc3Qgbz1PKHQuZ2V0UmVzdWx0QnVmZmVyKCksbixlKTt0LnNldFJlc3VsdEJ1ZmZlcihvKX0saS5yZXZva2U9KC4uLmUpPT57Y29uc3Qgbj1uZXcgU2V0KGUpLG89dC5nZXRSZXN1bHRCdWZmZXIoKS5maWx0ZXIoKCh7a2V5OmV9KT0+e2NvbnN0IHQ9bi5oYXMoZSk7cmV0dXJuIHQmJm4uZGVsZXRlKGUpLCF0fSkpO3Quc2V0UmVzdWx0QnVmZmVyKG8pLG4uc2l6ZSYmKHQuZ2V0UmV2b2tlZEJ1ZmZlcigpLmZvckVhY2goKGU9Pm4uYWRkKGUpKSksdC5zZXRSZXZva2VkQnVmZmVyKFsuLi5uXSkpfSx0fWZ1bmN0aW9uIFYoZSx0LG4pe2NvbnN0IG89bmV3IFNldDtsZXQgcj0hMTtyZXR1cm57Y2xvc2U6KCk9PntyPSEwO2Zvcihjb25zdCBlIG9mIG8pZSgpfSxyZXE6e2lkOnQsdG9waWM6ZSwuLi5uLGNvbnRleHQ6bj8uY29udGV4dHx8e30sb25DbG9zZTplPT57by5hZGQoZSksciYmZSgpfSxyZW1vdmVMaXN0ZW5lcjplPT57by5kZWxldGUoZSl9fX19ZnVuY3Rpb24gRSgpe3JldHVybntuYW1lOmZpbi5tZS5uYW1lLHV1aWQ6ZmluLm1lLnV1aWR9fWZ1bmN0aW9uIE0oKXtsZXQgZTt0cnl7ZT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5pZGVudGl0eS51dWlkfWNhdGNoKGUpe31yZXR1cm4gZX1jb25zdCBfPVwiZGVyZWdpc3RlcmVkIG9yIGRvZXMgbm90IGV4aXN0XCIsJD1uZXcgRXJyb3IoYHByb3ZpZGVyICR7X31gKSxxPW5ldyBFcnJvcihcInByb3ZpZGVyIHdpdGggbmFtZSBhbHJlYWR5IGV4aXN0c1wiKSxHPW5ldyBFcnJvcihcImJhZCBwYXlsb2FkXCIpLEg9bmV3IEVycm9yKFwic3Vic2NyaXB0aW9uIHJlamVjdGVkXCIpLE49bmV3IEVycm9yKGBjaGFubmVsICR7X31gKSxVPW5ldyBNYXA7ZnVuY3Rpb24gaihlKXtjb25zdCB0PVgoZSk7aWYodClyZXR1cm4gdDt0aHJvdyBOfWZ1bmN0aW9uIFgoZSl7Y29uc3QgdD1VLmdldChlKTtpZih0KXJldHVybiB0fWZ1bmN0aW9uIEsoZSx0KXtVLnNldChlLHQpfWZ1bmN0aW9uIEooZSl7Y29uc29sZS5lcnJvcihcIk9wZW5GaW4gU2VhcmNoIEFQSTogXCIsZSl9Y29uc3Qgej1uZXcgTWFwO2Z1bmN0aW9uIFooZSl7ei5oYXMoZSl8fHouc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD16LmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIFkoZSx0KXtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goZyx0KX1mdW5jdGlvbiBRKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1BLmJpbmQobnVsbCxlKSxvPVooZSkscj1ZLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT1HO3JldHVybiBKKGUpLHtlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT0kO3JldHVybiBKKGUpLHtlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9by5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PVYodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IHA9eCgpLGw9KCk9Pntjb25zdCBlPXAuZ2V0UmVzdWx0QnVmZmVyKCk7cC5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9cC5nZXRSZXZva2VkQnVmZmVyKCk7cC5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPXAuZ2V0U3RhdHVzKCk7cih7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgZj0hMCx3PSExO3Aub25DaGFuZ2U9KCk9PntpZihmKXJldHVybiBmPSExLHZvaWQgbCgpO3d8fCh3PSEwLHNldFRpbWVvdXQoKCgpPT57dz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEscC5yZXMpLG49cC5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJuIEooZSkse2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmU/Lm1lc3NhZ2V9fX19YXN5bmMgZnVuY3Rpb24gZWUoZSx0LG4pe2NvbnN0IG89bnx8YXdhaXQgaihlKSxyPUUoKSxpPXsuLi50LGlkZW50aXR5OnIsb25SZXN1bHREaXNwYXRjaDp2b2lkIDB9LHM9YXdhaXQgby5kaXNwYXRjaChcIjJcIixpKTtyZXR1cm4gYXdhaXQgYihlLHtpZGVudGl0eTpyLC4uLnR9KSxzfWFzeW5jIGZ1bmN0aW9uIHRlKGUsdCl7Y29uc3Qgbj1hd2FpdCBqKGUpO3JldHVybiBhd2FpdCBuLmRpc3BhdGNoKFwiM1wiLHQpLEQoZSx0KX1hc3luYyBmdW5jdGlvbiBuZShlLHQsbixvKXtjb25zdCByPUwobixFKCksbyksaT1BKGUsdCk7aWYoaSl7Y29uc3R7b25SZXN1bHREaXNwYXRjaDplfT1pO2lmKCFlKXJldHVybjtyZXR1cm4gZShyKX1jb25zdCBzPXtwcm92aWRlcklkOnQscmVzdWx0OnJ9O3JldHVybihhd2FpdCBqKGUpKS5kaXNwYXRjaChoLHMpfWFzeW5jIGZ1bmN0aW9uIG9lKGUsdCl7Y29uc3Qgbj17Li4udCxjb250ZXh0OnQ/LmNvbnRleHR8fHt9fSxvPXt9LHI9YXN5bmMgZnVuY3Rpb24qKGUsdCx7c2V0U3RhdGU6bn0pe2NvbnN0IG89YXdhaXQgaihlKTtmb3IoOzspe2NvbnN0IGU9YXdhaXQgby5kaXNwYXRjaChcIjFcIix0KSxyPWUuZXJyb3I7aWYocil0aHJvdyBuZXcgRXJyb3Iocik7Y29uc3QgaT1lO2lmKHQuaWQ9aS5pZCxuKGkuc3RhdGUpLGkuZG9uZSlyZXR1cm4gaS52YWx1ZTt5aWVsZCBpLnZhbHVlfX0oZSxuLHtzZXRTdGF0ZTplPT57by5zdGF0ZT1lfX0pO2xldCBpPWF3YWl0IHIubmV4dCgpO3JldHVybiBvLmlkPW4uaWR8fFwiXCIsby5jbG9zZT0oKT0+eyFhc3luYyBmdW5jdGlvbihlLHQpeyhhd2FpdCBqKGUpKS5kaXNwYXRjaCh5LHtpZDp0fSl9KGUsby5pZCl9LG8ubmV4dD0oKT0+e2lmKGkpe2NvbnN0IGU9aTtyZXR1cm4gaT12b2lkIDAsZX1yZXR1cm4gci5uZXh0KCl9LG99YXN5bmMgZnVuY3Rpb24gcmUoZSl7cmV0dXJuKGF3YWl0IGooZSkpLmRpc3BhdGNoKFwiNFwiLG51bGwpfWFzeW5jIGZ1bmN0aW9uIGllKGUpe2NvbnN0IHQ9YXdhaXQgaihlKTt2YXIgbjtuPWUsVS5kZWxldGUobiksRihlKSxhd2FpdCB0LmRpc2Nvbm5lY3QoKX1mdW5jdGlvbiBzZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPVoodCk7cmV0dXJuIGFzeW5jIG89PntpZighWCh0KSlyZXR1cm47Y29uc3Qgcj1uLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobyk7Zm9yKGNvbnN0e3JlcTplLGNsb3NlOnR9b2Ygci52YWx1ZXMoKSl0KCksci5kZWxldGUoZS5pZCk7Syh0LChhc3luYyBlPT57Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1hd2FpdCBhZShlKTtmb3IoY29uc3QgZSBvZiBCKHQpKWF3YWl0IGVlKHQsZSxuKTtyZXR1cm4gbn0pKGUpKX19YXN5bmMgZnVuY3Rpb24gYWUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1QKHQpLG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDw1MDt0KyspdHJ5e3JldHVybiBhd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pfWNhdGNoKGUpe2lmKDQ5PT09dCl0aHJvdyBlO2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsMWUzKSkpfX0obik7cmV0dXJuIG8ucmVnaXN0ZXIoZyxRKGUpKSxvLnJlZ2lzdGVyKHksZnVuY3Rpb24oZSl7Y29uc3QgdD1aKGUpO3JldHVybihlLG4pPT57Y29uc3Qgbz10LmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobikscj1vLmdldChlLmlkKTtyJiYoci5jbG9zZSgpLG8uZGVsZXRlKGUuaWQpKX19KHQpKSxvLnJlZ2lzdGVyKGgsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybiB2b2lkIEooRyk7Y29uc3Qgbz1BKGUsdC5wcm92aWRlcklkKTtpZighbylyZXR1cm4gdm9pZCBKKCQpO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6cn09bztyZXR1cm4gcj8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4scih0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxvLm9uRGlzY29ubmVjdGlvbihzZShlKSksb31hc3luYyBmdW5jdGlvbiBjZShlKXtjb25zdCB0PVwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZS50b3BpYyxuPVwic3RyaW5nXCI9PXR5cGVvZiBlP3ZvaWQgMDplLnV1aWQsbz10fHx3LHI9bnx8TSgpfHxcIlwiLGk9bShyLG8pLHM9e3RvcGljOm8sbmFtZXNwYWNlOnIsbmFtZXNwYWNlZFRvcGljOml9O2xldCBhPVgoaSk7cmV0dXJuIGF8fChhPWFlKHMpLEsoaSxhKSxhd2FpdCBhKSx7Z2V0QWxsUHJvdmlkZXJzOnJlLmJpbmQobnVsbCxpKSxyZWdpc3RlcjplZS5iaW5kKG51bGwsaSksc2VhcmNoOm9lLmJpbmQobnVsbCxpKSxkZXJlZ2lzdGVyOnRlLmJpbmQobnVsbCxpKSxkaXNwYXRjaDpuZS5iaW5kKG51bGwsaSksZGlzY29ubmVjdDppZS5iaW5kKG51bGwsaSl9fWNvbnN0IGRlPW5ldyBNYXA7ZnVuY3Rpb24gdWUoZSl7Y29uc3QgdD1wZShlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gcGUoZSl7Y29uc3QgdD1kZS5nZXQoZSk7aWYodClyZXR1cm4gdH1jb25zdCBsZT1uZXcgTWFwO2Z1bmN0aW9uIGZlKGUsdCl7bGUuaGFzKGUpfHxsZS5zZXQoZSxuZXcgU2V0KSxsZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIHdlKGUsdCl7Y29uc3Qgbj1sZS5nZXQoZSk7biYmbi5kZWxldGUodCl9YXN5bmMgZnVuY3Rpb24gZ2UoZSl7cmV0dXJuWy4uLkIoZSldLm1hcCgoZT0+KHsuLi5lLG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0pKSl9YXN5bmMgZnVuY3Rpb24gaGUoZSx0KXtpZihBKGUsdC5pZCkpdGhyb3cgbmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpO2NvbnN0IG49RSgpO3JldHVybiBhd2FpdCBiKGUse2lkZW50aXR5Om4sLi4udH0pLHt3b3Jrc3BhY2VWZXJzaW9uOmkudTB8fFwiXCIsY2xpZW50QVBJVmVyc2lvbjp0LmNsaWVudEFQSVZlcnNpb258fFwiXCJ9fWFzeW5jIGZ1bmN0aW9uIHllKGUsdCl7YXdhaXQgRChlLHQpfWFzeW5jIGZ1bmN0aW9uIHZlKGUsdCxuLG8pe2NvbnN0IHI9QShlLHQpO2lmKCFyKXRocm93ICQ7Y29uc3R7b25SZXN1bHREaXNwYXRjaDppfT1yO2lmKCFpKXJldHVybjtyZXR1cm4gaShMKG4sRSgpLG8pKX1hc3luYyBmdW5jdGlvbiptZShlLHQsbil7Y29uc3Qgbz1mdW5jdGlvbihlLHQpe2NvbnN0IG49W10sbz1bXSxyPVtdLGk9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT14KHMuc2NvcmVPcmRlciksYT17cmVzdWx0czpbXSxwcm92aWRlcjp7aWQ6cy5pZCxpZGVudGl0eTpzLmlkZW50aXR5LHRpdGxlOnMudGl0bGUsc2NvcmVPcmRlcjpzLnNjb3JlT3JkZXIsaWNvbjpzLmljb24sZGlzcGF0Y2hGb2N1c0V2ZW50czpzLmRpc3BhdGNoRm9jdXNFdmVudHN9fTtuLnB1c2goYSksby5wdXNoKGUpO2NvbnN0IGM9KGFzeW5jKCk9Pnt0cnl7Y29uc3R7cmVzdWx0czpuLGNvbnRleHQ6b309YXdhaXQgcy5vblVzZXJJbnB1dCh0LGUucmVzKTthLnJlc3VsdHM9TyhhLnJlc3VsdHN8fFtdLG4pLGEuY29udGV4dD17Li4uYS5jb250ZXh0LC4uLm99fWNhdGNoKGUpe2EuZXJyb3I9ZX19KSgpO2MuZmluYWxseSgoKCk9PntjLmRvbmU9ITB9KSksaS5wdXNoKGMpLHIucHVzaChyLmxlbmd0aCl9cmV0dXJue3Byb3ZpZGVyUmVzcG9uc2VzOm4sbGlzdGVuZXJSZXNwb25zZXM6byxvcGVuTGlzdGVuZXJSZXNwb25zZXM6cixpbml0aWFsUmVzcG9uc2VQcm9taXNlczppfX0odC50YXJnZXRzP3QudGFyZ2V0cy5tYXAoKHQ9PkEoZSx0KSkpLmZpbHRlcigoZT0+ISFlKSk6Wy4uLkIoZSkuZmlsdGVyKChlPT4hZS5oaWRkZW4pKV0sdCkse3Byb3ZpZGVyUmVzcG9uc2VzOnIsbGlzdGVuZXJSZXNwb25zZXM6aX09bztsZXR7b3Blbkxpc3RlbmVyUmVzcG9uc2VzOnMsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6YX09byxjPWYuRGUuRmV0Y2hpbmc7Y29uc3QgZD1lPT57Yz1lLG4uc2V0U3RhdGUoYyl9O2xldCBwLGw9ITE7dC5vbkNsb3NlKCgoKT0+e2w9ITAscCYmcCgpfSkpO2Rve2xldCBlPSExO2lmKGEubGVuZ3RoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGEpbi5kb25lP2U9ITA6dC5wdXNoKG4pO2E9dCxhLmxlbmd0aHx8KGQoZi5EZS5GZXRjaGVkKSxlPSEwKX1sZXQgdCxuPSExO2NvbnN0IG89KCk9PntuPSEwLHQmJnQoKX0sdz1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPWlbdF0scz1yW3RdLGE9bi5nZXRTdGF0dXMoKTsoYT09PXUuT3Blbnx8Yz09PWYuRGUuRmV0Y2hpbmcmJmE9PT11LkluaXRpYWwpJiYody5wdXNoKHQpLG4ub25DaGFuZ2U9byk7Y29uc3QgZD1uLmdldFJlc3VsdEJ1ZmZlcigpO2QubGVuZ3RoJiYobi5zZXRSZXN1bHRCdWZmZXIoW10pLHMucmVzdWx0cz1PKHMucmVzdWx0c3x8W10sZCksZT0hMCk7Y29uc3QgcD1uLmdldFJldm9rZWRCdWZmZXIoKTtpZihwLmxlbmd0aCl7bi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCB0PW5ldyBTZXQocCk7cy5yZXN1bHRzPShzLnJlc3VsdHN8fFtdKS5maWx0ZXIoKCh7a2V5OmV9KT0+IXQuaGFzKGUpKSksZT0hMH19aWYocz13LGUmJih5aWVsZCByKSxsKWJyZWFrO258fChzLmxlbmd0aHx8YS5sZW5ndGgpJiZhd2FpdCBQcm9taXNlLnJhY2UoWy4uLmEsbmV3IFByb21pc2UoKGU9Pnt0PWV9KSksbmV3IFByb21pc2UoKGU9PntwPWV9KSldKX13aGlsZShzLmxlbmd0aHx8YS5sZW5ndGgpO3JldHVybiBkKGYuRGUuQ29tcGxldGUpLHJ9bGV0IFBlPTA7YXN5bmMgZnVuY3Rpb24gU2Uoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9LG4pe1BlKz0xO2NvbnN0IG89Vih0LFBlLnRvU3RyaW5nKCksbikscj1tZShlLG8ucmVxLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO3JldHVybiByLmlkPVBlLnRvU3RyaW5nKCksci5jbG9zZT1vLmNsb3NlLHIuc3RhdGU9Zi5EZS5GZXRjaGluZyxyfWNvbnN0IGtlPW5ldyBNYXA7ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm5gJHtlfToke3R9YH1mdW5jdGlvbiBXZShlKXtyZXR1cm4gYXN5bmMgdD0+e2lmKCF0KXJldHVybiBKKEcpLHtlcnJvcjpHLm1lc3NhZ2V9O2xldCBuO2lmKHQuaWQpbj1DZShlLm5hbWVzcGFjZWRUb3BpYyx0LmlkKTtlbHNle2NvbnN0IG89YXdhaXQgU2UoZSx0KTtuPUNlKGUubmFtZXNwYWNlZFRvcGljLG8uaWQpLHQuaWQ9by5pZCxrZS5zZXQobix7Z2VuZXJhdG9yOm99KX1jb25zdCBvPWtlLmdldChuKTtjbGVhclRpbWVvdXQoby50aW1lb3V0KTtjb25zdCByPWF3YWl0IG8uZ2VuZXJhdG9yLm5leHQoKTtyZXR1cm4gby50aW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCgoKCk9PntrZS5kZWxldGUoZSl9KSwxZTQpfShuKSx7Li4ucixpZDp0LmlkLHN0YXRlOm8uZ2VuZXJhdG9yLnN0YXRlfX19ZnVuY3Rpb24gUmUoZSx0LG4pe3JldHVybiB1ZShlKS5kaXNwYXRjaCh0LHkse2lkOm59KX1mdW5jdGlvbiBJZShlKXtyZXR1cm4gdD0+ZnVuY3Rpb24oZSx0KXtjb25zdCBuPUNlKGUsdCksbz1rZS5nZXQobik7byYmby5nZW5lcmF0b3IuY2xvc2UoKX0oZSx0LmlkKX1hc3luYyBmdW5jdGlvbiBUZShlLHQse2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppPVtdfSl7Y29uc3Qgcz11ZShlKSxhPXtpZDpuLHF1ZXJ5Om8sY29udGV4dDpyLHRhcmdldHM6aSxwcm92aWRlcklkOnQuaWR9LGM9YXdhaXQgcy5kaXNwYXRjaCh0LmlkZW50aXR5LGcsYSksZD1jLmVycm9yO2lmKGQpdGhyb3cgbmV3IEVycm9yKGQpO3JldHVybiBjfWNvbnN0IGJlPW5ldyBNYXA7ZnVuY3Rpb24gRGUoZSx0LG4pe3JldHVybmAke2V9OiR7dC5uYW1lfToke3QudXVpZH06JHtufWB9Y29uc3QgQmU9bmV3IE1hcDtmdW5jdGlvbiBGZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0fToke259YH1mdW5jdGlvbiBBZShlLHQpe2NvbnN0IG49RGUuYmluZChudWxsLGUsdC5pZGVudGl0eSksbz1SZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPVRlLmJpbmQobnVsbCxlLHQpO3JldHVybiBhc3luYyhpLHMpPT57Y29uc3QgYT1uKGkuaWQpO2lmKCFiZS5oYXMoYSkpe2NvbnN0IGU9KCk9PntvKGkuaWQpLGJlLmRlbGV0ZShhKX07YmUuc2V0KGEsZSksaS5vbkNsb3NlKGUpfWNvbnN0IGM9RmUoZSx0LmlkLGkuaWQpLGQ9KCk9PntCZS5kZWxldGUoYykscy5jbG9zZSgpfTtpLm9uQ2xvc2UoZCksQmUuc2V0KGMsKGU9PntlLnJlc3VsdHM/Lmxlbmd0aCYmcy5yZXNwb25kKGUucmVzdWx0cyksZS5yZXZva2VkPy5sZW5ndGgmJnMucmV2b2tlKC4uLmUucmV2b2tlZCksZS5zdGF0dXM9PT11Lk9wZW4mJnMub3BlbigpLGUuc3RhdHVzPT09dS5DbG9zZSYmZCgpfSkpO2NvbnN0IHA9YXdhaXQgcihpKTtyZXR1cm4gcC5zdGF0dXM9PT11Lk9wZW4mJnMub3BlbigpLHAuc3RhdHVzIT09dS5DbG9zZSYmcC5zdGF0dXMhPT11LkluaXRpYWx8fGQoKSxwfX1mdW5jdGlvbiBMZShlLHQpe3JldHVybiBhc3luYyBuPT57Y29uc3Qgbz11ZShlKSxyPXtwcm92aWRlcklkOnQuaWQscmVzdWx0Om59O3JldHVybiBvLmRpc3BhdGNoKHQuaWRlbnRpdHksaCxyKX19Y29uc3QgT2U9bmV3IE1hcDtmdW5jdGlvbiB4ZShlLHQpe3JldHVybmAke2V9LSR7dC5uYW1lfS0ke3QudXVpZH1gfWZ1bmN0aW9uIFZlKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LmlkKXJldHVybiBKKG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh0KSkpLHZvaWQgSihHKTtpZihBKGUsdC5pZCkpdGhyb3cgcTtyZXR1cm4gdC5pZGVudGl0eT1uLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj14ZShlLHQuaWRlbnRpdHkpO09lLmhhcyhuKXx8T2Uuc2V0KG4sW10pLE9lLmdldChuKS5wdXNoKHQuaWQpLGF3YWl0IGIoZSx7Li4udCxvblVzZXJJbnB1dDpBZShlLHQpLG9uUmVzdWx0RGlzcGF0Y2g6TGUoZSx0KX0pfShlLHQpLHt3b3Jrc3BhY2VWZXJzaW9uOmkudTB8fFwiXCIsY2xpZW50QVBJVmVyc2lvbjp0LmNsaWVudEFQSVZlcnNpb258fFwiXCJ9fX1mdW5jdGlvbiBFZShlKXtyZXR1cm4gdD0+e3Q/ZnVuY3Rpb24oZSx0KXtjb25zdCBuPUEoZSx0KTtpZighbilyZXR1cm47Y29uc3Qgbz14ZShlLG4uaWRlbnRpdHkpLHI9T2UuZ2V0KG8pO2lmKHIpe2NvbnN0IG49ci5maW5kSW5kZXgoKGU9PmU9PT10KSk7LTEhPT1uJiYoci5zcGxpY2UobiwxKSxEKGUsdCkpfX0oZSx0KTpKKEcpfX1jb25zdCBNZT1uZXcgTWFwO2Z1bmN0aW9uIF9lKGUsdCl7TWUuaGFzKGUpfHxNZS5zZXQoZSxuZXcgU2V0KSxNZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uICRlKGUsdCl7Y29uc3Qgbj1NZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuIGFzeW5jIHQ9PnshZnVuY3Rpb24oZSx0KXtjb25zdCBuPXhlKGUsdCksbz1PZS5nZXQobik7aWYobyl7Zm9yKGNvbnN0IHQgb2YgbylEKGUsdCk7T2UuZGVsZXRlKG4pfX0oZSx0KTtjb25zdCBuPU1lLmdldChlKTtuJiZuLmZvckVhY2goKGU9PmUodCkpKX19YXN5bmMgZnVuY3Rpb24gR2UoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1QKGUubmFtZXNwYWNlZFRvcGljKSxvPWF3YWl0KHI9bixmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNyZWF0ZShyKSk7dmFyIHI7cmV0dXJuIG8ub25Db25uZWN0aW9uKGZ1bmN0aW9uKHtuYW1lc3BhY2VkVG9waWM6ZX0pe3JldHVybiBhc3luYyB0PT57Y29uc3Qgbj1sZS5nZXQoZSk7aWYobilmb3IoY29uc3QgZSBvZiBuKWlmKCFhd2FpdCBlKHQpKXRocm93IEh9fShlKSksby5vbkRpc2Nvbm5lY3Rpb24ocWUodCkpLG8ucmVnaXN0ZXIoeSxJZSh0KSksby5yZWdpc3RlcihnLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj1GZShlLHQucHJvdmlkZXJJZCx0LmlkKSxvPUJlLmdldChuKTtvJiZvKHQpfX0odCkpLG8ucmVnaXN0ZXIoXCIyXCIsVmUodCkpLG8ucmVnaXN0ZXIoXCIzXCIsRWUodCkpLG8ucmVnaXN0ZXIoXCI0XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKCk9PmdlKGUpfSh0KSksby5yZWdpc3RlcihcIjFcIixXZShlKSksby5yZWdpc3RlcihoLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm4gdm9pZCBKKEcpO2NvbnN0IG89QShlLHQucHJvdmlkZXJJZCk7aWYoIW8pdGhyb3cgJDtjb25zdHtvblJlc3VsdERpc3BhdGNoOnJ9PW87cmV0dXJuIHI/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLHIodC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksb31hc3luYyBmdW5jdGlvbiBIZShlKXtjb25zdCB0PXVlKGUpO3ZhciBuO249ZSxkZS5kZWxldGUobiksYXdhaXQgdC5kZXN0cm95KCksRihlKX1hc3luYyBmdW5jdGlvbiBOZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljfHxcIlwiKXx8dyxuPU0oKXx8XCJcIixvPW0obix0KSxyPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpvfTtsZXQgaT1wZShvKTtpfHwoaT1hd2FpdCBHZShyKSxmdW5jdGlvbihlLHQpe2RlLnNldChlLHQpfShvLGkpKTtjb25zdCBzPXdlLmJpbmQobnVsbCxvKSxhPSRlLmJpbmQobnVsbCxvKSxjPUMuYmluZChudWxsLG8pLGQ9SS5iaW5kKG51bGwsbyk7cmV0dXJue2dldEFsbFByb3ZpZGVyczpnZS5iaW5kKG51bGwsbyksc2VhcmNoOlNlLmJpbmQobnVsbCxyKSxyZWdpc3RlcjpoZS5iaW5kKG51bGwsbyksZGVyZWdpc3Rlcjp5ZS5iaW5kKG51bGwsbyksb25TdWJzY3JpcHRpb246ZmUuYmluZChudWxsLG8pLG9uRGlzY29ubmVjdDpfZS5iaW5kKG51bGwsbyksb25SZWdpc3RlcjprLmJpbmQobnVsbCxvKSxvbkRlcmVnaXN0ZXI6Ui5iaW5kKG51bGwsbyksZGlzcGF0Y2g6dmUuYmluZChudWxsLG8pLGRpc2Nvbm5lY3Q6SGUuYmluZChudWxsLG8pLHJlbW92ZUxpc3RlbmVyOmU9PntzKGUpLGEoZSksYyhlKSxkKGUpfX19Y29uc3R7Y3JlYXRlOlVlfT1yLHtzdWJzY3JpYmU6amV9PW8sWGU9e2NyZWF0ZTpVZSxzdWJzY3JpYmU6amUsZGVmYXVsdFRvcGljOlwiYWxsXCJ9LEtlPSgpPT57d2luZG93LnNlYXJjaD1YZX0sSmU9ZT0+e2NvbnN0IHQ9KCk9PntLZSgpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl9O3JldHVybiB0fTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXtLZSgpO2NvbnN0IGU9XCJsb2FkXCIsdD1KZShlKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlLHQpO2NvbnN0IG49XCJET01Db250ZW50TG9hZGVkXCIsbz1KZShuKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihuLG8pfWNvbnN0IHplPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gWmUoKXthd2FpdCBhc3luYyBmdW5jdGlvbihlKXt6ZS5zZXQoZSxhd2FpdCBqZSh7dG9waWM6ZSx1dWlkOnAucTkuV29ya3NwYWNlfSkpfShjKX1sZXQgWWU7YXN5bmMgZnVuY3Rpb24gUWUoZSl7cmV0dXJuIGF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuIFllfHwoWWU9WmUoKSksWWV9KCksemUuZ2V0KGUpfWNvbnN0IGV0PWFzeW5jIGU9PntpZighZS5pY29uKXRocm93IG5ldyBFcnJvcihgJHtlLmlkfSBwcm92aWRlciBuZWVkcyB0byBoYXZlIGljb24gcHJvcGVydHkgZGVmaW5lZC5gKTthd2FpdCgwLGEuYUIpKCk7Y29uc3QgdD1hd2FpdCBRZShjKTt0cnl7ZS5jbGllbnRBUElWZXJzaW9uPWkudTA7Y29uc3Qgbj1hd2FpdCB0LnJlZ2lzdGVyKGUpO3JldHVybigwLHMuY2spKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246bj8ud29ya3NwYWNlVmVyc2lvbn0pLG4/LndvcmtzcGFjZVZlcnNpb24saS51MCxufWNhdGNoKGUpe3Rocm93KDAscy5jaykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxlfX0sdHQ9YXN5bmMgZT0+e2F3YWl0KDAsYS5hQikoKTtyZXR1cm4oYXdhaXQgUWUoYykpLmRlcmVnaXN0ZXIoZSl9O2FzeW5jIGZ1bmN0aW9uIG50KCl7cmV0dXJuKGF3YWl0KDAsYS5YbCkoKSkuZGlzcGF0Y2goYS5XRi5TaG93SG9tZSx2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIG90KCl7cmV0dXJuKGF3YWl0KDAsYS5YbCkoKSkuZGlzcGF0Y2goYS5XRi5IaWRlSG9tZSx2b2lkIDApfX0sMjk4OihlLHQsbik9PntuLmQodCx7cDooKT0+by5weCx3OigpPT5vLnd0fSk7dmFyIG89bigzMTYpfSw0Mjc6KGUsdCxuKT0+e3ZhciBvO24uZCh0LHt2OigpPT5vfSksZnVuY3Rpb24oZSl7ZS5BY3Rpb25CdXR0b249XCJBY3Rpb25CdXR0b25cIixlLkRyb3Bkb3duQnV0dG9uPVwiRHJvcGRvd25CdXR0b25cIn0ob3x8KG89e30pKX0sNzU4OihlLHQsbik9Pnt2YXIgbyxyLGk7bi5kKHQse1B0OigpPT5vLGVsOigpPT5pLHlXOigpPT5yfSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpfSwxMTQ6KGUsdCxuKT0+e3ZhciBvLHI7bi5kKHQse0w6KCk9Pm8sVDooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHJ8fChyPXt9KSl9LDEwOTooZSx0LG4pPT57bi5kKHQse0dvOigpPT5yLFpKOigpPT5zLGJJOigpPT5pLHA2OigpPT5vfSk7Y29uc3Qgbz17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCJ9LHI9e1RleHQ6XCJUZXh0XCIsSW1hZ2U6XCJJbWFnZVwiLExpc3Q6XCJMaXN0XCJ9LGk9ey4uLm8sLi4ucn07dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShzfHwocz17fSkpfSw1Mjg6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7QXBwTWFuaWZlc3RUeXBlOigpPT5zLkwsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5zLlQsZGVyZWdpc3RlcjooKT0+ZyxoaWRlOigpPT5oLHJlZ2lzdGVyOigpPT53LHNob3c6KCk9Pnl9KTt2YXIgbz1uKDUzMikscj1uKDQzNiksaT1uKDgyKSxzPW4oMTE0KSxhPW4oNjc4KTtsZXQgYyxkPSExO2FzeW5jIGZ1bmN0aW9uIHUoZSx0LG4pe2NvbnN0IG89YXdhaXQoMCxyLkRtKSgpO3RyeXtyZXR1cm4gYXdhaXQgby5kaXNwYXRjaChlLmFjdGlvbixlLnBheWxvYWQpfWNhdGNoKHIpe2lmKC0xIT09ci50b1N0cmluZygpLmluZGV4T2YoZS5hY3Rpb24pKXJldHVybiBkfHxjb25zb2xlLndhcm4oXCJZb3UgYXJlIHVzaW5nIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgV29ya3NwYWNlIGNsaWVudCBsaWJyYXJ5IHRoYXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudGx5IHJ1bm5pbmcgd29ya3NwYWNlIHByb3ZpZGVyLiBQbGVhc2UgdXBncmFkZSB0aGUgV29ya3NwYWNlIHRvIHZlcnNpb24gOS4wIG9yIGxhdGVyLlwiKSxkPSEwLGF3YWl0IG8uZGlzcGF0Y2godC5hY3Rpb24sdC5wYXlsb2FkKSxuO3Rocm93IHJ9fWNvbnN0IHA9bmV3IE1hcCxsPWU9PntpZighcC5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IFByb3ZpZGVyIHdpdGggaWQgJHtlfSBpcyBub3QgcmVnaXN0ZXJlZGApO3JldHVybiBwLmdldChlKX0sZj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHIuWGwpKCk7aWYocC5oYXMoZS5pZCkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IHByb3ZpZGVyIHdpdGggaWQgJHtlLmlkfSBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcC5zZXQoZS5pZCxlKSwoZT0+e2UuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWR8fChlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzLChlPT5sKGUpLmdldEFwcHMoKSkpLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJGb290ZXIsKGU9PmwoZSkuZ2V0Rm9vdGVyKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2UsKGU9PmwoZSkuZ2V0TGFuZGluZ1BhZ2UoKSkpLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uLChlPT5sKGUpLmdldE5hdmlnYXRpb24oKSkpLGUucmVnaXN0ZXIoci5XRi5MYXVuY2hTdG9yZWZyb250UHJvdmlkZXJBcHAsKCh7aWQ6ZSxhcHA6dH0pPT5sKGUpLmxhdW5jaEFwcCh0KSkpKX0pKHQpLGUuY2xpZW50QVBJVmVyc2lvbj1hLnUwLHUoe2FjdGlvbjpyLldGLlJlZ2lzdGVyUHJvdmlkZXIscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udCxpbmZvOmV9fSx7YWN0aW9uOnIuV0YuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIscGF5bG9hZDplfSx7d29ya3NwYWNlVmVyc2lvbjpcInVua25vd25cIn0pfSx3PWU9PihjPW5ldyBQcm9taXNlKChhc3luYyh0LG4pPT57dHJ5e2NvbnN0IG49YXdhaXQgZihlKTsoMCxvLmQ5KSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb259KSxuPy53b3Jrc3BhY2VWZXJzaW9uLGEudTAsdCh7Y2xpZW50QVBJVmVyc2lvbjphLnUwLHdvcmtzcGFjZVZlcnNpb246bi53b3Jrc3BhY2VWZXJzaW9ufHxcIlwifSl9Y2F0Y2goZSl7KDAsby5kOSkoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxuKGUpfX0pKSxjKSxnPWFzeW5jIGU9Pihhd2FpdCBjLHAuZGVsZXRlKGUpLGF3YWl0KDAsci5hQikoKSx1KHthY3Rpb246ci5XRi5EZXJlZ2lzdGVyUHJvdmlkZXIscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udCxpZDplfX0se2FjdGlvbjpyLldGLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIscGF5bG9hZDplfSkpLGg9YXN5bmMoKT0+KGF3YWl0IGMsYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLkhpZGVQcm92aWRlcldpbmRvdyxwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250fX0se2FjdGlvbjpyLldGLkhpZGVTdG9yZWZyb250fSkpLHk9YXN5bmMoKT0+KGF3YWl0IGMsYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLlNob3dQcm92aWRlcldpbmRvdyxwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250fX0se2FjdGlvbjpyLldGLlNob3dTdG9yZWZyb250fSkpfSw0MzY6KGUsdCxuKT0+e24uZCh0LHtXRjooKT0+cyxEbTooKT0+YSxYbDooKT0+cCxhQjooKT0+dX0pO3ZhciBvPW4oNjc4KTtjb25zdCByPW8uQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclByb3ZpZGVyPVwicmVnaXN0ZXItcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJQcm92aWRlcj1cImRlcmVnaXN0ZXItcHJvdmlkZXJcIixlLkNyZWF0ZVByb3ZpZGVyV2luZG93PVwiY3JlYXRlLXByb3ZpZGVyLXdpbmRvd1wiLGUuR2V0UHJvdmlkZXJzPVwiZ2V0LXByb3ZpZGVyc1wiLGUuU2hvd1Byb3ZpZGVyV2luZG93PVwic2hvdy1wcm92aWRlci13aW5kb3dcIixlLkhpZGVQcm92aWRlcldpbmRvdz1cImhpZGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwiLGUuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwiZGVyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5IaWRlU3RvcmVmcm9udD1cImhpZGUtc3RvcmVmcm9udFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIW8uc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgcjtjb25zdCBuPXtjbGllbnRBUElWZXJzaW9uOm8udTB9LGk9YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3BheWxvYWQ6bn0pO3JldHVybiBpLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e2NvbnNvbGUud2FybihgZGlzY29ubmVjdGVkIGZyb20gY2hhbm5lbCBwcm92aWRlciAke2V9YCksdD12b2lkIDB9KSksaX0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChuPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7bn1gKX0pKSksdH19KFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKSxjPVwiaXNMYXVuY2hlZFZpYUxpYlwiLGQ9ZT0+e2NvbnN0IHQ9bmV3IFVSTChlKTtyZXR1cm4gdC5zZWFyY2hQYXJhbXMuYXBwZW5kKGMsXCJ0cnVlXCIpLHQudG9TdHJpbmcoKX0sdT1hc3luYygpPT57aWYoIWF3YWl0KDAsaS5KVikoaS5pVykpcmV0dXJuKG8uWkt8fC0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2luXCIpKSYmYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGQoby5hVykpLGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGQoby5HWCkpfSxwPWFzeW5jKCk9Pihhd2FpdCB1KCksYSgpKX0sODI6KGUsdCxuKT0+e24uZCh0LHtSODooKT0+cyxYXzooKT0+aSxsUDooKT0+b30pO3ZhciBvLHI9big0MzYpOyFmdW5jdGlvbihlKXtlLlN0b3JlZnJvbnQ9XCJzdG9yZWZyb250XCIsZS5Eb2NrPVwiZG9ja1wifShvfHwobz17fSkpO2NvbnN0IGk9YXN5bmMgZT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5XRi5TaG93UHJvdmlkZXJXaW5kb3cse3Byb3ZpZGVyVHlwZTplfSkscz1hc3luYyBlPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLldGLkhpZGVQcm92aWRlcldpbmRvdyx7cHJvdmlkZXJUeXBlOmV9KX0sODA2OihlLHQsbik9PntuLmQodCx7cTk6KCk9Pm99KTt2YXIgbyxyLGkscz1uKDY3OCk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaXx8KGk9e30pKTtzLkFCLG8uV29ya3NwYWNlfSw2Nzg6KGUsdCxuKT0+e3ZhciBvO24uZCh0LHtBQjooKT0+YSxBeDooKT0+aSxHWDooKT0+dSxaSzooKT0+ZCxhVzooKT0+cCxvQzooKT0+YyxzUzooKT0+cix1MDooKT0+Zn0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ob3x8KG89e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxzPWk/d2luZG93Lm9yaWdpbjpvLkxvY2FsLGE9ciYmZmluLm1lLnV1aWQsYz1yJiZmaW4ubWUubmFtZSxkPShyJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PW8uTG9jYWwpLHU9KG8uRGV2LG8uU3RhZ2luZyxvLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLHA9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjEuMjIvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLGY9KGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjEuMjJcIiksbChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzkuMS4yMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZsKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI5LjEuMjJcIil9LDUzMjooZSx0LG4pPT57bi5kKHQse1duOigpPT5kLGNrOigpPT5hLGQ5OigpPT5jfSk7dmFyIG8scj1uKDY3OCksaT1uKDEyMSk7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0ob3x8KG89e30pKTtjb25zdCBzPWFzeW5jKGUsdCk9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci51MCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fHIudTAsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOm59KX0sYT1hc3luYyBlPT57aS5PSS51dWlkPT09aS5HaS51dWlkJiZpLk9JLm5hbWU9PT1pLkdpLm5hbWV8fHMoby5Ib21lLGUpfSxjPWFzeW5jIGU9PntzKG8uU3RvcmVmcm9udCxlKX0sZD1hc3luYyBlPT57cyhvLkRvY2ssZSl9fSwxMjE6KGUsdCxuKT0+e24uZCh0LHtHaTooKT0+ZCxKVjooKT0+bCxPSTooKT0+dSxpVzooKT0+cH0pO3ZhciBvLHIsaSxzPW4oODA2KSxhPW4oNjc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wiLGUuQ2xhc3NpY1dpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC1jbGFzc2ljLXdpbmRvd1wifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VkPVwiY2xvc2VkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkJlZm9yZVVubG9hZD1cImJlZm9yZXVubG9hZFwifShpfHwoaT17fSkpO2Z1bmN0aW9uIGMoZSl7aWYoIWEuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgZD17bmFtZTphLm9DLHV1aWQ6YS5BQn07Y29uc3QgdT17bmFtZTpvLkhvbWUsdXVpZDpzLnE5LldvcmtzcGFjZX0scD0oby5Eb2NrLHMucTkuV29ya3NwYWNlLG8uU3RvcmVmcm9udCxzLnE5LldvcmtzcGFjZSx7bmFtZTpzLnE5LldvcmtzcGFjZSx1dWlkOnMucTkuV29ya3NwYWNlfSk7Y29uc3QgbD1lPT5jKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSl9LDMxNjooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtEZTooKT0+byxweDooKT0+cix3dDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShpfHwoaT17fSkpfX0sdD17fTtmdW5jdGlvbiBuKG8pe3ZhciByPXRbb107aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBpPXRbb109e2V4cG9ydHM6e319O3JldHVybiBlW29dKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIG8gaW4gdCluLm8odCxvKSYmIW4ubyhlLG8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtlbnVtZXJhYmxlOiEwLGdldDp0W29dfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbz17fTsoKCk9PntuLnIobyksbi5kKG8se0FjdGlvblRyaWdnZXI6KCk9PlMucCxBcHBNYW5pZmVzdFR5cGU6KCk9PlcuTCxCdXR0b25TdHlsZTooKT0+ay5aSixDTElBY3Rpb246KCk9PkMuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+Qy5lbCxDTElUZW1wbGF0ZTooKT0+Qy55VyxDb250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmsucDYsRG9jazooKT0+ZSxEb2NrQnV0dG9uTmFtZXM6KCk9PmMudixIb21lOigpPT5oLExlZ2FjeTooKT0+dCxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmsuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+Uy53LFN0b3JlZnJvbnQ6KCk9PlAsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5XLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5rLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtEb2NrQnV0dG9uTmFtZXM6KCk9PmMudixkZXJlZ2lzdGVyOigpPT5sLG1pbmltaXplOigpPT5mLHJlZ2lzdGVyOigpPT5wLHNob3c6KCk9Pnd9KTt2YXIgdD17fTtuLnIodCksbi5kKHQse2dldFBhZ2VzOigpPT52LGdldFdvcmtzcGFjZXM6KCk9Pm19KTt2YXIgcj1uKDY3OCksaT1uKDUzMikscz1uKDQzNiksYT1uKDgyKSxjPW4oNDI3KTtsZXQgZCx1PSExO2NvbnN0IHA9ZT0+KGQ9bmV3IFByb21pc2UoKGFzeW5jKHQsbik9Pnt0cnl7Y29uc3Qgbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHMuWGwpKCk7aWYodSl0aHJvdyBuZXcgRXJyb3IoXCJBIGRvY2sgcHJvdmlkZXIgZm9yIHRoZSBwbGF0Zm9ybSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO3JldHVybiB1PSEwLGUuY2xpZW50QVBJVmVyc2lvbj1yLnUwLHQuZGlzcGF0Y2gocy5XRi5SZWdpc3RlclByb3ZpZGVyLHtwcm92aWRlclR5cGU6YS5sUC5Eb2NrLGluZm86ZX0pfSkoZSk7KDAsaS5Xbikoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbj8ud29ya3NwYWNlVmVyc2lvbixyLnUwLHQoe2NsaWVudEFQSVZlcnNpb246ci51MCx3b3Jrc3BhY2VWZXJzaW9uOm4ud29ya3NwYWNlVmVyc2lvbnx8XCJcIn0pfWNhdGNoKGUpeygwLGkuV24pKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZS5tZXNzYWdlfSksbihlKSxkPW51bGx9fSkpLGQpLGw9YXN5bmMoKT0+e2F3YWl0IGQsdT0hMTtyZXR1cm4oYXdhaXQoMCxzLlhsKSgpKS5kaXNwYXRjaChzLldGLkRlcmVnaXN0ZXJQcm92aWRlcix7cHJvdmlkZXJUeXBlOmEubFAuRG9ja30pfSxmPWFzeW5jKCk9Pnthd2FpdCBkLGF3YWl0KDAscy5hQikoKSxhd2FpdCgwLGEuUjgpKGEubFAuRG9jayl9LHc9YXN5bmMoKT0+e2F3YWl0IGQsYXdhaXQoMCxzLmFCKSgpLGF3YWl0KDAsYS5YXykoYS5sUC5Eb2NrKX07dmFyIGcsaD1uKDcwMyk7bigxMjEpOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0oZ3x8KGc9e30pKTtuZXcgTWFwO3ZhciB5OyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCJ9KHl8fCh5PXt9KSk7Y29uc3Qgdj0oKT0+YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLldGLkdldExlZ2FjeVBhZ2VzLHZvaWQgMCl9KCksbT0oKT0+KGFzeW5jKCk9Pihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuV0YuR2V0TGVnYWN5V29ya3NwYWNlcyx2b2lkIDApKSgpO3ZhciBQPW4oNTI4KSxTPW4oMjk4KSxrPW4oMTA5KSxDPW4oNzU4KSxXPW4oMTE0KX0pKCksbW9kdWxlLmV4cG9ydHM9b30pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQge1xuXHRDTElUZW1wbGF0ZSxcblx0dHlwZSBDTElGaWx0ZXIsXG5cdHR5cGUgSG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdHR5cGUgSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2UsXG5cdHR5cGUgSG9tZVNlYXJjaFJlc3BvbnNlLFxuXHR0eXBlIEhvbWVTZWFyY2hSZXN1bHRcbn0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHR5cGUgeyBJbnRlZ3JhdGlvbkhlbHBlcnMsIEludGVncmF0aW9uTW9kdWxlLCBNb2R1bGVEZWZpbml0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVncmF0aW9ucy1zaGFwZXNcIjtcbmltcG9ydCB7IGNyZWF0ZUhlbHAgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGVzXCI7XG5pbXBvcnQgdHlwZSB7IEFzeW5jU2V0dGluZ3MsIENvbnRhY3QsIENvbnRhY3RGdWxsLCBDb250YWN0c1Jlc3VsdCB9IGZyb20gXCIuL3NoYXBlc1wiO1xuXG4vKipcbiAqIEltcGxlbWVudCB0aGUgaW50ZWdyYXRpb24gcHJvdmlkZXIgZm9yIGFzeW5jIHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIgaW1wbGVtZW50cyBJbnRlZ3JhdGlvbk1vZHVsZTxBc3luY1NldHRpbmdzPiB7XG5cdC8qKlxuXHQgKiBQcm92aWRlciBpZC5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBfUFJPVklERVJfSUQgPSBcImFzeW5jXCI7XG5cblx0LyoqXG5cdCAqIFRoZSBrZXkgdG8gdXNlIGZvciBhIGFzeW5jIHJlc3VsdC5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBfQVNZTkNfUFJPVklERVJfREVUQUlMU19BQ1RJT04gPSBcIkFzeW5jIERldGFpbHNcIjtcblxuXHQvKipcblx0ICogVGhlIGludGVncmF0aW9uIGhlbHBlcnMuXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0cHJpdmF0ZSBfaW50ZWdyYXRpb25IZWxwZXJzOiBJbnRlZ3JhdGlvbkhlbHBlcnMgfCB1bmRlZmluZWQ7XG5cblx0LyoqXG5cdCAqIFRoZSBzZXR0aW5ncyBmb3IgdGhlIGludGVncmF0aW9uLlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgX3NldHRpbmdzOiBBc3luY1NldHRpbmdzIHwgdW5kZWZpbmVkO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIHRoZSBtb2R1bGUuXG5cdCAqIEBwYXJhbSBkZWZpbml0aW9uIFRoZSBkZWZpbml0aW9uIG9mIHRoZSBtb2R1bGUgZnJvbSBjb25maWd1cmF0aW9uIGluY2x1ZGUgY3VzdG9tIG9wdGlvbnMuXG5cdCAqIEBwYXJhbSBsb2dnZXJDcmVhdG9yIEZvciBsb2dnaW5nIGVudHJpZXMuXG5cdCAqIEBwYXJhbSBoZWxwZXJzIEhlbHBlciBtZXRob2RzIGZvciB0aGUgbW9kdWxlIHRvIGludGVyYWN0IHdpdGggdGhlIGFwcGxpY2F0aW9uIGNvcmUuXG5cdCAqIEByZXR1cm5zIE5vdGhpbmcuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZShcblx0XHRkZWZpbml0aW9uOiBNb2R1bGVEZWZpbml0aW9uPEFzeW5jU2V0dGluZ3M+LFxuXHRcdGxvZ2dlckNyZWF0b3I6ICgpID0+IHZvaWQsXG5cdFx0aGVscGVyczogSW50ZWdyYXRpb25IZWxwZXJzXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuX2ludGVncmF0aW9uSGVscGVycyA9IGhlbHBlcnM7XG5cdFx0dGhpcy5fc2V0dGluZ3MgPSBkZWZpbml0aW9uLmRhdGE7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG1vZHVsZSBpcyBiZWluZyBkZXJlZ2lzdGVyZWQuXG5cdCAqIEByZXR1cm5zIE5vdGhpbmcuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgY2xvc2Vkb3duKCk6IFByb21pc2U8dm9pZD4ge31cblxuXHQvKipcblx0ICogR2V0IGEgbGlzdCBvZiB0aGUgc3RhdGljIGhlbHAgZW50cmllcy5cblx0ICogQHJldHVybnMgVGhlIGxpc3Qgb2YgaGVscCBlbnRyaWVzLlxuXHQgKi9cblx0cHVibGljIGFzeW5jIGdldEhlbHBTZWFyY2hFbnRyaWVzPygpOiBQcm9taXNlPEhvbWVTZWFyY2hSZXN1bHRbXT4ge1xuXHRcdHJldHVybiBbXG5cdFx0XHR7XG5cdFx0XHRcdGtleTogYCR7QXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRH0taGVscDFgLFxuXHRcdFx0XHR0aXRsZTogXCIvY29udGFjdHMtc3luY1wiLFxuXHRcdFx0XHRsYWJlbDogXCJIZWxwXCIsXG5cdFx0XHRcdGFjdGlvbnM6IFtdLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0cHJvdmlkZXJJZDogQXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcblx0XHRcdFx0XHRwb3B1bGF0ZVF1ZXJ5OiBcIi9jb250YWN0cy1zeW5jXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0dGVtcGxhdGU6IENMSVRlbXBsYXRlLkN1c3RvbSxcblx0XHRcdFx0dGVtcGxhdGVDb250ZW50OiBhd2FpdCBjcmVhdGVIZWxwKFxuXHRcdFx0XHRcdFwiL2NvbnRhY3RzLXN5bmNcIixcblx0XHRcdFx0XHRbXG5cdFx0XHRcdFx0XHRcIlRoZSBjb250YWN0cy1zeW5jIGNvbW1hbmQgY2FuIGJlIHVzZWQgdG8gc2VhcmNoIGZvciBhIGNvbnRhY3QuXCIsXG5cdFx0XHRcdFx0XHRcIkl0IGRlbW9uc3RyYXRlcyBob3cgYSBsb25nIHJ1bm5pbmcgcmV0cmlldmFsIHdvdWxkIGhhdmUgdG8gd2FpdCBmb3IgdGhlIHJlc3BvbnNlIGJlZm9yZSBhbnl0aGluZyBpcyBkaXNwbGF5LlwiLFxuXHRcdFx0XHRcdFx0XCJGb3IgZXhhbXBsZSB0byBzZWFyY2ggZm9yIGEgY29udGFjdCBjb250YWluaW5nIHRoZSBsZXR0ZXIgYS5cIlxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0W1wiL2NvbnRhY3RzLXN5bmMgYVwiXVxuXHRcdFx0XHQpXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRrZXk6IGAke0FzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUR9LWhlbHAyYCxcblx0XHRcdFx0dGl0bGU6IFwiL2NvbnRhY3RzLXBhcnRpYWxcIixcblx0XHRcdFx0bGFiZWw6IFwiSGVscFwiLFxuXHRcdFx0XHRhY3Rpb25zOiBbXSxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdHByb3ZpZGVySWQ6IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG5cdFx0XHRcdFx0cG9wdWxhdGVRdWVyeTogXCIvY29udGFjdHMtcGFydGlhbFwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5DdXN0b20sXG5cdFx0XHRcdHRlbXBsYXRlQ29udGVudDogYXdhaXQgY3JlYXRlSGVscChcblx0XHRcdFx0XHRcIi9jb250YWN0cy1wYXJ0aWFsXCIsXG5cdFx0XHRcdFx0W1xuXHRcdFx0XHRcdFx0XCJUaGUgY29udGFjdHMtcGFydGlhbCBjb21tYW5kIGNhbiBiZSB1c2VkIHRvIHNlYXJjaCBmb3IgYSBjb250YWN0LlwiLFxuXHRcdFx0XHRcdFx0XCJJdCBkZW1vbnN0cmF0ZXMgaG93IHdlIHdvdWxkIGRpc3BsYXkgcmVzdWx0cyBpbnN0YW50bHkgd2hpbGUgYXN5bmNocm9ub3VzbHkgcmV0cmlldmluZyBhbGwgdGhlIHJlc3VsdHMuXCIsXG5cdFx0XHRcdFx0XHRcIkZvciBleGFtcGxlIHRvIHNlYXJjaCBmb3IgYSBjb250YWN0IGNvbnRhaW5pbmcgdGhlIGxldHRlciBhLlwiXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRbXCIvY29udGFjdHMtcGFydGlhbCBhXCJdXG5cdFx0XHRcdClcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGtleTogYCR7QXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRH0taGVscDNgLFxuXHRcdFx0XHR0aXRsZTogXCIvY29udGFjdHNcIixcblx0XHRcdFx0bGFiZWw6IFwiSGVscFwiLFxuXHRcdFx0XHRhY3Rpb25zOiBbXSxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdHByb3ZpZGVySWQ6IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG5cdFx0XHRcdFx0cG9wdWxhdGVRdWVyeTogXCIvY29udGFjdHNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ3VzdG9tLFxuXHRcdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IGF3YWl0IGNyZWF0ZUhlbHAoXG5cdFx0XHRcdFx0XCIvY29udGFjdHNcIixcblx0XHRcdFx0XHRbXG5cdFx0XHRcdFx0XHRcIlRoZSBjb250YWN0cyBjb21tYW5kIGNhbiBiZSB1c2VkIHRvIHNlYXJjaCBmb3IgYSBjb250YWN0LlwiLFxuXHRcdFx0XHRcdFx0XCJJdCBkZW1vbnN0cmF0ZXMgaG93IHdlIHdvdWxkIGRpc3BsYXkgcmVzdWx0cyBpbnN0YW50bHkgYW5kIG9ubHkgcmV0cmlldmUgZnVsbCBkYXRhIG9uIGVudHJ5IHNlbGVjdGlvbi5cIixcblx0XHRcdFx0XHRcdFwiQ29udGFjdHMgc3RhcnRpbmcgd2l0aCBFIHdpbGwgc2hvdyBlcnJvciBvbiBmaXJzdCBsb2FkLlwiLFxuXHRcdFx0XHRcdFx0XCJGb3IgZXhhbXBsZSB0byBzZWFyY2ggZm9yIGEgY29udGFjdCBjb250YWluaW5nIHRoZSBsZXR0ZXIgYS5cIlxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0W1wiL2NvbnRhY3RzIGFcIiwgXCIvY29udGFjdHMgZVwiXVxuXHRcdFx0XHQpXG5cdFx0XHR9XG5cdFx0XTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBbiBlbnRyeSBoYXMgYmVlbiBzZWxlY3RlZC5cblx0ICogQHBhcmFtIHJlc3VsdCBUaGUgZGlzcGF0Y2hlZCByZXN1bHQuXG5cdCAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3QgcmVzcG9uc2UuXG5cdCAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGl0ZW0gd2FzIGhhbmRsZWQuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgaXRlbVNlbGVjdGlvbihcblx0XHRyZXN1bHQ6IEhvbWVEaXNwYXRjaGVkU2VhcmNoUmVzdWx0LFxuXHRcdGxhc3RSZXNwb25zZTogSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcblx0KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0Y29uc3QgZGF0YTogeyB1cmw/OiBzdHJpbmcgfSA9IHJlc3VsdC5kYXRhO1xuXG5cdFx0aWYgKFxuXHRcdFx0cmVzdWx0LmFjdGlvbi50cmlnZ2VyID09PSBcInVzZXItYWN0aW9uXCIgJiZcblx0XHRcdHJlc3VsdC5hY3Rpb24ubmFtZSA9PT0gQXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9BU1lOQ19QUk9WSURFUl9ERVRBSUxTX0FDVElPTiAmJlxuXHRcdFx0ZGF0YS51cmwgJiZcblx0XHRcdHRoaXMuX2ludGVncmF0aW9uSGVscGVycy5vcGVuVXJsXG5cdFx0KSB7XG5cdFx0XHRhd2FpdCB0aGlzLl9pbnRlZ3JhdGlvbkhlbHBlcnMub3BlblVybChkYXRhLnVybCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0KHJlc3VsdC5hY3Rpb24udHJpZ2dlciA9PT0gXCJmb2N1cy1jaGFuZ2VcIiAmJiByZXN1bHQuZGF0YT8uc3RhdGUgPT09IFwibG9hZGluZ1wiKSB8fFxuXHRcdFx0KHJlc3VsdC5hY3Rpb24udHJpZ2dlciA9PT0gXCJyZWxvYWRcIiAmJiByZXN1bHQuZGF0YT8uc3RhdGUgPT09IFwiZXJyb3JcIilcblx0XHQpIHtcblx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBjb250YWN0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9zZXR0aW5ncz8ucm9vdFVybH0ke3Jlc3VsdC5kYXRhLmNvbnRhY3QuaWR9Lmpzb25gKTtcblxuXHRcdFx0XHRjb25zdCBjb250YWN0RnVsbDogQ29udGFjdEZ1bGwgPSBhd2FpdCBjb250YWN0UmVzcG9uc2UuanNvbigpO1xuXG5cdFx0XHRcdGxhc3RSZXNwb25zZS5yZXNwb25kKFt0aGlzLmNyZWF0ZVJlc3VsdChjb250YWN0RnVsbCldKTtcblx0XHRcdH0sIDApO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgYSBsaXN0IG9mIHNlYXJjaCByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSBhbmQgZmlsdGVycy5cblx0ICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yLlxuXHQgKiBAcGFyYW0gZmlsdGVycyBUaGUgZmlsdGVycyB0byBhcHBseS5cblx0ICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCBzZWFyY2ggcmVzcG9uc2UgdXNlZCBmb3IgdXBkYXRpbmcgZXhpc3RpbmcgcmVzdWx0cy5cblx0ICogQHJldHVybnMgVGhlIGxpc3Qgb2YgcmVzdWx0cyBhbmQgbmV3IGZpbHRlcnMuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgZ2V0U2VhcmNoUmVzdWx0cyhcblx0XHRxdWVyeTogc3RyaW5nLFxuXHRcdGZpbHRlcnM6IENMSUZpbHRlcltdLFxuXHRcdGxhc3RSZXNwb25zZTogSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcblx0KTogUHJvbWlzZTxIb21lU2VhcmNoUmVzcG9uc2U+IHtcblx0XHRjb25zdCByZXN1bHRzOiBIb21lU2VhcmNoUmVzdWx0W10gPSBbXTtcblxuXHRcdGlmIChxdWVyeS5zdGFydHNXaXRoKFwiL2NvbnRhY3RzLXN5bmMgXCIpKSB7XG5cdFx0XHRhd2FpdCB0aGlzLmNvbnRhY3RzU3luYyhxdWVyeS5zbGljZSgxNSksIHJlc3VsdHMpO1xuXHRcdH0gZWxzZSBpZiAocXVlcnkuc3RhcnRzV2l0aChcIi9jb250YWN0cy1wYXJ0aWFsIFwiKSkge1xuXHRcdFx0YXdhaXQgdGhpcy5jb250YWN0c1BhcnRpYWwocXVlcnkuc2xpY2UoMTgpLCByZXN1bHRzLCBsYXN0UmVzcG9uc2UpO1xuXHRcdH0gZWxzZSBpZiAocXVlcnkuc3RhcnRzV2l0aChcIi9jb250YWN0cyBcIikpIHtcblx0XHRcdGF3YWl0IHRoaXMuY29udGFjdHNBc3luYyhxdWVyeS5zbGljZSgxMCksIHJlc3VsdHMsIGxhc3RSZXNwb25zZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3VsdHNcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHJpZXZlIHRoZSBjb250YWN0cyBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cblx0ICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yXG5cdCAqIEBwYXJhbSByZXN1bHRzIFRoZSByZXN1bHQgbGlzdCB0byBwb3B1bGF0ZS5cblx0ICovXG5cdHByaXZhdGUgYXN5bmMgY29udGFjdHNTeW5jKHF1ZXJ5OiBzdHJpbmcsIHJlc3VsdHM6IEhvbWVTZWFyY2hSZXN1bHRbXSkge1xuXHRcdGNvbnN0IHdpbGRjYXJkID0gcXVlcnkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAod2lsZGNhcmQubGVuZ3RoID4gMCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9zZXR0aW5ncz8ucm9vdFVybH1pbmRleC5qc29uYCk7XG5cblx0XHRcdFx0Y29uc3QganNvbjogQ29udGFjdHNSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBjb250YWN0IG9mIGpzb24uZGF0YSkge1xuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGNvbnRhY3QuZmlyc3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMod2lsZGNhcmQpIHx8XG5cdFx0XHRcdFx0XHRjb250YWN0Lmxhc3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMod2lsZGNhcmQpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjb250YWN0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9zZXR0aW5ncz8ucm9vdFVybH0ke2NvbnRhY3QuaWR9Lmpzb25gKTtcblxuXHRcdFx0XHRcdFx0Y29uc3QgY29udGFjdEZ1bGw6IENvbnRhY3RGdWxsID0gYXdhaXQgY29udGFjdFJlc3BvbnNlLmpzb24oKTtcblxuXHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKHRoaXMuY3JlYXRlUmVzdWx0KGNvbnRhY3RGdWxsKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSB0aGUgY29udGFjdHMgaW4gYSBwYXJ0aWFsbHkgYXN5bmNocm9ub3VzIG1hbm5lci5cblx0ICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yXG5cdCAqIEBwYXJhbSByZXN1bHRzIFRoZSByZXN1bHQgbGlzdCB0byBwb3B1bGF0ZS5cblx0ICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCByZXNwb25zZSB0byB1c2UgZm9yIHVwZGF0aW5nIHJlc3VsdHMuXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIGNvbnRhY3RzUGFydGlhbChcblx0XHRxdWVyeTogc3RyaW5nLFxuXHRcdHJlc3VsdHM6IEhvbWVTZWFyY2hSZXN1bHRbXSxcblx0XHRsYXN0UmVzcG9uc2U6IEhvbWVTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXG5cdCkge1xuXHRcdGNvbnN0IHdpbGRjYXJkID0gcXVlcnkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAod2lsZGNhcmQubGVuZ3RoID4gMCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9zZXR0aW5ncz8ucm9vdFVybH1pbmRleC5qc29uYCk7XG5cblx0XHRcdFx0Y29uc3QganNvbjogQ29udGFjdHNSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdGNvbnN0IGZpbmFsQ29udGFjdHMgPSBbXTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbnRhY3Qgb2YganNvbi5kYXRhKSB7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0Y29udGFjdC5maXJzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh3aWxkY2FyZCkgfHxcblx0XHRcdFx0XHRcdGNvbnRhY3QubGFzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh3aWxkY2FyZClcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGZpbmFsQ29udGFjdHMucHVzaChjb250YWN0KTtcblx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCh0aGlzLmNyZWF0ZVJlc3VsdChjb250YWN0KSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBjb250YWN0IG9mIGZpbmFsQ29udGFjdHMpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGNvbnRhY3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX3NldHRpbmdzPy5yb290VXJsfSR7Y29udGFjdC5pZH0uanNvbmApO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBjb250YWN0RnVsbDogQ29udGFjdEZ1bGwgPSBhd2FpdCBjb250YWN0UmVzcG9uc2UuanNvbigpO1xuXG5cdFx0XHRcdFx0XHRsYXN0UmVzcG9uc2UucmVzcG9uZChbdGhpcy5jcmVhdGVSZXN1bHQoY29udGFjdEZ1bGwpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHJpZXZlIHRoZSBjb250YWN0cyBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyLlxuXHQgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHNlYXJjaCBmb3Jcblx0ICogQHBhcmFtIHJlc3VsdHMgVGhlIHJlc3VsdCBsaXN0IHRvIHBvcHVsYXRlLlxuXHQgKiBAcGFyYW0gbGFzdFJlc3BvbnNlIFRoZSBsYXN0IHJlc3BvbnNlIHRvIHVzZSBmb3IgdXBkYXRpbmcgcmVzdWx0cy5cblx0ICovXG5cdHByaXZhdGUgYXN5bmMgY29udGFjdHNBc3luYyhcblx0XHRxdWVyeTogc3RyaW5nLFxuXHRcdHJlc3VsdHM6IEhvbWVTZWFyY2hSZXN1bHRbXSxcblx0XHRsYXN0UmVzcG9uc2U6IEhvbWVTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXG5cdCkge1xuXHRcdGNvbnN0IHdpbGRjYXJkID0gcXVlcnkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAod2lsZGNhcmQubGVuZ3RoID4gMCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9zZXR0aW5ncz8ucm9vdFVybH1pbmRleC5qc29uYCk7XG5cblx0XHRcdFx0Y29uc3QganNvbjogQ29udGFjdHNSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdGNvbnN0IGZpbmFsQ29udGFjdHMgPSBbXTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbnRhY3Qgb2YganNvbi5kYXRhKSB7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0Y29udGFjdC5maXJzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh3aWxkY2FyZCkgfHxcblx0XHRcdFx0XHRcdGNvbnRhY3QubGFzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh3aWxkY2FyZClcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGZpbmFsQ29udGFjdHMucHVzaChjb250YWN0KTtcblx0XHRcdFx0XHRcdC8vIElmIGEgY29udGFjdCBzdGFydHMgd2l0aCBFIHNob3cgaXQgaW4gZXJyb3JlZCBzdGF0ZVxuXHRcdFx0XHRcdFx0aWYgKGNvbnRhY3QuZmlyc3ROYW1lLnN0YXJ0c1dpdGgoXCJFXCIpKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCh0aGlzLmNyZWF0ZVJlc3VsdEVycm9yZWQoY29udGFjdCkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKHRoaXMuY3JlYXRlUmVzdWx0TG9hZGluZyhjb250YWN0KSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBzZWFyY2ggcmVzdWx0LlxuXHQgKiBAcGFyYW0gY29udGFjdCBUaGUgY29udGFjdC5cblx0ICogQHJldHVybnMgVGhlIHNlYXJjaCByZXN1bHQuXG5cdCAqL1xuXHRwcml2YXRlIGNyZWF0ZVJlc3VsdChjb250YWN0OiBQYXJ0aWFsPENvbnRhY3RGdWxsPik6IEhvbWVTZWFyY2hSZXN1bHQge1xuXHRcdGNvbnN0IGZ1bGxOYW1lID0gYCR7Y29udGFjdC5maXJzdE5hbWV9ICR7Y29udGFjdC5sYXN0TmFtZX1gO1xuXHRcdGNvbnN0IGRldGFpbHMgPSBbXTtcblx0XHRpZiAoY29udGFjdC5lbWFpbCkge1xuXHRcdFx0ZGV0YWlscy5wdXNoKFtcIkUtbWFpbFwiLCBjb250YWN0LmVtYWlsXSk7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRrZXk6IGBjb250YWN0LSR7Y29udGFjdC5pZH1gLFxuXHRcdFx0dGl0bGU6IGZ1bGxOYW1lLFxuXHRcdFx0bGFiZWw6IFwiSW5mb3JtYXRpb25cIixcblx0XHRcdGFjdGlvbnM6IFtdLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRwcm92aWRlcklkOiBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxuXHRcdFx0XHRjb250YWN0XG5cdFx0XHR9LFxuXHRcdFx0dGVtcGxhdGU6IENMSVRlbXBsYXRlLkNvbnRhY3QsXG5cdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IHtcblx0XHRcdFx0bmFtZTogZnVsbE5hbWUsXG5cdFx0XHRcdGRldGFpbHM6IFtkZXRhaWxzXVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIGEgc2VhcmNoIHJlc3VsdCBpbiBsb2FkaW5nIHN0YXRlLlxuXHQgKiBAcGFyYW0gY29udGFjdCBUaGUgY29udGFjdC5cblx0ICogQHJldHVybnMgVGhlIHNlYXJjaCByZXN1bHQuXG5cdCAqL1xuXHRwcml2YXRlIGNyZWF0ZVJlc3VsdExvYWRpbmcoY29udGFjdDogQ29udGFjdCk6IEhvbWVTZWFyY2hSZXN1bHQge1xuXHRcdGNvbnN0IGZ1bGxOYW1lID0gYCR7Y29udGFjdC5maXJzdE5hbWV9ICR7Y29udGFjdC5sYXN0TmFtZX1gO1xuXHRcdHJldHVybiB7XG5cdFx0XHRrZXk6IGBjb250YWN0LSR7Y29udGFjdC5pZH1gLFxuXHRcdFx0dGl0bGU6IGZ1bGxOYW1lLFxuXHRcdFx0bGFiZWw6IFwiSW5mb3JtYXRpb25cIixcblx0XHRcdGFjdGlvbnM6IFtdLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRwcm92aWRlcklkOiBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxuXHRcdFx0XHRjb250YWN0LFxuXHRcdFx0XHRzdGF0ZTogXCJsb2FkaW5nXCJcblx0XHRcdH0sXG5cdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuTG9hZGluZyxcblx0XHRcdHRlbXBsYXRlQ29udGVudDogdW5kZWZpbmVkXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBzZWFyY2ggcmVzdWx0IGluIGVycm9yZWQgc3RhdGUuXG5cdCAqIEBwYXJhbSBjb250YWN0IFRoZSBjb250YWN0LlxuXHQgKiBAcmV0dXJucyBUaGUgc2VhcmNoIHJlc3VsdC5cblx0ICovXG5cdHByaXZhdGUgY3JlYXRlUmVzdWx0RXJyb3JlZChjb250YWN0OiBDb250YWN0KTogSG9tZVNlYXJjaFJlc3VsdCB7XG5cdFx0Y29uc3QgZnVsbE5hbWUgPSBgJHtjb250YWN0LmZpcnN0TmFtZX0gJHtjb250YWN0Lmxhc3ROYW1lfWA7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGtleTogYGNvbnRhY3QtJHtjb250YWN0LmlkfWAsXG5cdFx0XHR0aXRsZTogZnVsbE5hbWUsXG5cdFx0XHRsYWJlbDogXCJJbmZvcm1hdGlvblwiLFxuXHRcdFx0YWN0aW9uczogW10sXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdHByb3ZpZGVySWQ6IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG5cdFx0XHRcdGNvbnRhY3QsXG5cdFx0XHRcdHN0YXRlOiBcImVycm9yXCJcblx0XHRcdH0sXG5cdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuRXJyb3IsXG5cdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IFwiVW5hYmxlIHRvIGxvYWQgZGF0YVwiXG5cdFx0fTtcblx0fVxufVxuIiwiaW1wb3J0IHR5cGUgeyBDdXN0b21TZXR0aW5ncyB9IGZyb20gXCIuL3NoYXBlc1wiO1xuXG5sZXQgc2V0dGluZ3M6IEN1c3RvbVNldHRpbmdzO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRDb25maWd1cmVkU2V0dGluZ3MoKTogUHJvbWlzZTxDdXN0b21TZXR0aW5ncz4ge1xuXHRjb25zdCBhcHAgPSBhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudCgpO1xuXHRjb25zdCBtYW5pZmVzdDogT3BlbkZpbi5NYW5pZmVzdCAmIHsgY3VzdG9tU2V0dGluZ3M/OiBDdXN0b21TZXR0aW5ncyB9ID0gYXdhaXQgYXBwLmdldE1hbmlmZXN0KCk7XG5cblx0aWYgKG1hbmlmZXN0LmN1c3RvbVNldHRpbmdzICE9PSB1bmRlZmluZWQpIHtcblx0XHRzZXR0aW5ncyA9IG1hbmlmZXN0LmN1c3RvbVNldHRpbmdzO1xuXHR9IGVsc2Uge1xuXHRcdHNldHRpbmdzID0ge307XG5cdH1cblxuXHRyZXR1cm4gc2V0dGluZ3M7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXR0aW5ncygpOiBQcm9taXNlPEN1c3RvbVNldHRpbmdzPiB7XG5cdGlmIChzZXR0aW5ncyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0c2V0dGluZ3MgPSBhd2FpdCBnZXRDb25maWd1cmVkU2V0dGluZ3MoKTtcblx0fVxuXHRyZXR1cm4gc2V0dGluZ3M7XG59XG4iLCJpbXBvcnQge1xuXHRCdXR0b25TdHlsZSxcblx0QnV0dG9uVGVtcGxhdGVGcmFnbWVudCxcblx0SW1hZ2VUZW1wbGF0ZUZyYWdtZW50LFxuXHRQbGFpbkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnQsXG5cdFRlbXBsYXRlRnJhZ21lbnQsXG5cdFRlbXBsYXRlRnJhZ21lbnRUeXBlcyxcblx0VGV4dFRlbXBsYXRlRnJhZ21lbnRcbn0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHR5cGUgKiBhcyBDU1MgZnJvbSBcImNzc3R5cGVcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRUaGVtZSB9IGZyb20gXCIuL3RoZW1lc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlSGVscChcblx0dGl0bGU6IHN0cmluZyxcblx0ZGVzY3JpcHRpb246IHN0cmluZ1tdLFxuXHRleGFtcGxlczogc3RyaW5nW11cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbik6IFByb21pc2U8eyBsYXlvdXQ6IFBsYWluQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudDsgZGF0YTogYW55IH0+IHtcblx0Y29uc3QgdGhlbWUgPSBhd2FpdCBnZXRDdXJyZW50VGhlbWUoKTtcblx0Y29uc3QgYWRkaXRpb25hbERhdGEgPSB7fTtcblx0Y29uc3QgZnJhZ21lbnRzOiBUZW1wbGF0ZUZyYWdtZW50W10gPSBbXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjcmlwdGlvbi5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGRlc2NyaXB0aW9uS2V5ID0gYGRlc2MtJHtpfWA7XG5cdFx0YWRkaXRpb25hbERhdGFbZGVzY3JpcHRpb25LZXldID0gZGVzY3JpcHRpb25baV07XG5cdFx0ZnJhZ21lbnRzLnB1c2goXG5cdFx0XHRhd2FpdCBjcmVhdGVUZXh0KGRlc2NyaXB0aW9uS2V5LCAxMiwge1xuXHRcdFx0XHRwYWRkaW5nOiBcIjZweCAwcHhcIlxuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG5cdGNvbnN0IGV4YW1wbGVGcmFnbWVudHM6IFRlbXBsYXRlRnJhZ21lbnRbXSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGV4YW1wbGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgZXhhbXBsZUtleSA9IGBsaW5lLSR7aX1gO1xuXHRcdGFkZGl0aW9uYWxEYXRhW2V4YW1wbGVLZXldID0gZXhhbXBsZXNbaV07XG5cdFx0ZXhhbXBsZUZyYWdtZW50cy5wdXNoKFxuXHRcdFx0YXdhaXQgY3JlYXRlVGV4dChleGFtcGxlS2V5LCAxMiwge1xuXHRcdFx0XHRmb250RmFtaWx5OiBcIm1vbm9zcGFjZVwiLFxuXHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblx0aWYgKGV4YW1wbGVGcmFnbWVudHMubGVuZ3RoID4gMCkge1xuXHRcdGZyYWdtZW50cy5wdXNoKFxuXHRcdFx0YXdhaXQgY3JlYXRlQ29udGFpbmVyKFwiY29sdW1uXCIsIGV4YW1wbGVGcmFnbWVudHMsIHtcblx0XHRcdFx0cGFkZGluZzogXCIxMHB4XCIsXG5cdFx0XHRcdG1hcmdpblRvcDogXCI2cHhcIixcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQ1LFxuXHRcdFx0XHRjb2xvcjogdGhlbWUucGFsZXR0ZS5pbnB1dENvbG9yLFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6IFwiNXB4XCIsXG5cdFx0XHRcdG92ZXJmbG93OiBcImF1dG9cIlxuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0bGF5b3V0OiBhd2FpdCBjcmVhdGVDb250YWluZXIoXG5cdFx0XHRcImNvbHVtblwiLFxuXHRcdFx0W1xuXHRcdFx0XHRhd2FpdCBjcmVhdGVUaXRsZShcInRpdGxlXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG5cdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIjEwcHhcIixcblx0XHRcdFx0XHRib3JkZXJCb3R0b206IGAxcHggc29saWQgJHt0aGVtZS5wYWxldHRlLmJhY2tncm91bmQ2fWBcblx0XHRcdFx0fSksXG5cdFx0XHRcdC4uLmZyYWdtZW50c1xuXHRcdFx0XSxcblx0XHRcdHtcblx0XHRcdFx0cGFkZGluZzogXCIxMHB4XCJcblx0XHRcdH1cblx0XHQpLFxuXHRcdGRhdGE6IHtcblx0XHRcdHRpdGxlLFxuXHRcdFx0Li4uYWRkaXRpb25hbERhdGFcblx0XHR9XG5cdH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb250YWluZXIoXG5cdGNvbnRhaW5lclR5cGU6IFwiY29sdW1uXCIgfCBcInJvd1wiLFxuXHRjaGlsZHJlbjogVGVtcGxhdGVGcmFnbWVudFtdLFxuXHRzdHlsZT86IENTUy5Qcm9wZXJ0aWVzXG4pOiBQcm9taXNlPFBsYWluQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudD4ge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5Db250YWluZXIsXG5cdFx0c3R5bGU6IHtcblx0XHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdFx0ZmxleERpcmVjdGlvbjogY29udGFpbmVyVHlwZSxcblx0XHRcdC4uLnN0eWxlXG5cdFx0fSxcblx0XHRjaGlsZHJlblxuXHR9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGl0bGUoXG5cdGRhdGFLZXk6IHN0cmluZyxcblx0Zm9udFNpemU6IG51bWJlciA9IDE2LFxuXHRmb250V2VpZ2h0OiBzdHJpbmcgPSBcImJvbGRcIixcblx0c3R5bGU/OiBDU1MuUHJvcGVydGllc1xuKTogUHJvbWlzZTxUZXh0VGVtcGxhdGVGcmFnbWVudD4ge1xuXHRjb25zdCB0aGVtZSA9IGF3YWl0IGdldEN1cnJlbnRUaGVtZSgpO1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5UZXh0LFxuXHRcdGRhdGFLZXksXG5cdFx0c3R5bGU6IHtcblx0XHRcdGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHREZWZhdWx0LFxuXHRcdFx0Zm9udFNpemU6IGAke2ZvbnRTaXplID8/IDE2fXB4YCxcblx0XHRcdGZvbnRXZWlnaHQsXG5cdFx0XHQuLi5zdHlsZVxuXHRcdH1cblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRleHQoXG5cdGRhdGFLZXk6IHN0cmluZyxcblx0Zm9udFNpemU6IG51bWJlciA9IDE0LFxuXHRzdHlsZT86IENTUy5Qcm9wZXJ0aWVzXG4pOiBQcm9taXNlPFRleHRUZW1wbGF0ZUZyYWdtZW50PiB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLlRleHQsXG5cdFx0ZGF0YUtleSxcblx0XHRzdHlsZToge1xuXHRcdFx0Zm9udFNpemU6IGAke2ZvbnRTaXplID8/IDE0fXB4YCxcblx0XHRcdC4uLnN0eWxlXG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlSW1hZ2UoXG5cdGRhdGFLZXk6IHN0cmluZyxcblx0YWx0ZXJuYXRpdmVUZXh0OiBzdHJpbmcsXG5cdHN0eWxlPzogQ1NTLlByb3BlcnRpZXNcbik6IFByb21pc2U8SW1hZ2VUZW1wbGF0ZUZyYWdtZW50PiB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLkltYWdlLFxuXHRcdGRhdGFLZXksXG5cdFx0YWx0ZXJuYXRpdmVUZXh0LFxuXHRcdHN0eWxlOiB7XG5cdFx0XHQuLi5zdHlsZVxuXHRcdH1cblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbihcblx0YnV0dG9uU3R5bGU6IEJ1dHRvblN0eWxlLFxuXHR0aXRsZUtleTogc3RyaW5nLFxuXHRhY3Rpb246IHN0cmluZyxcblx0c3R5bGU/OiBDU1MuUHJvcGVydGllc1xuKTogUHJvbWlzZTxCdXR0b25UZW1wbGF0ZUZyYWdtZW50PiB7XG5cdGNvbnN0IHRoZW1lID0gYXdhaXQgZ2V0Q3VycmVudFRoZW1lKCk7XG5cdGNvbnN0IGJ1dHRvbk9wdGlvbnMgPVxuXHRcdGJ1dHRvblN0eWxlID09PSBCdXR0b25TdHlsZS5TZWNvbmRhcnlcblx0XHRcdD8ge1xuXHRcdFx0XHRcdGJvcmRlcjogYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUuaW5wdXRDb2xvcn1gXG5cdFx0XHQgIH1cblx0XHRcdDoge307XG5cdHJldHVybiB7XG5cdFx0dHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLkJ1dHRvbixcblx0XHRidXR0b25TdHlsZSxcblx0XHRjaGlsZHJlbjogW2F3YWl0IGNyZWF0ZVRleHQodGl0bGVLZXksIDEyKV0sXG5cdFx0YWN0aW9uLFxuXHRcdHN0eWxlOiB7XG5cdFx0XHQuLi5idXR0b25PcHRpb25zLFxuXHRcdFx0Li4uc3R5bGVcblx0XHR9XG5cdH07XG59XG4iLCJpbXBvcnQgdHlwZSB7IEN1c3RvbVRoZW1lcyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcbmltcG9ydCB0eXBlIHtcblx0Q3VzdG9tUGFsZXR0ZVNldCxcblx0Q3VzdG9tVGhlbWVPcHRpb25zXG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vY29tbW9uL3NyYy9hcGkvdGhlbWluZ1wiO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5jb25zdCBERUZBVUxUX1BBTEVUVEVTID0ge1xuXHRsaWdodDoge1xuXHRcdGJyYW5kUHJpbWFyeTogXCIjNTA0Q0ZGXCIsXG5cdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzFFMUYyM1wiLFxuXHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiNGQUZCRkVcIixcblx0XHRiYWNrZ3JvdW5kMTogXCIjRkZGRkZGXCIsXG5cdFx0YmFja2dyb3VuZDI6IFwiI0ZBRkJGRVwiLFxuXHRcdGJhY2tncm91bmQzOiBcIiNGM0Y1RjhcIixcblx0XHRiYWNrZ3JvdW5kNDogXCIjRUNFRUYxXCIsXG5cdFx0YmFja2dyb3VuZDU6IFwiI0REREZFNFwiLFxuXHRcdGJhY2tncm91bmQ2OiBcIiNDOUNCRDJcIixcblx0XHRzdGF0dXNTdWNjZXNzOiBcIiMzNUM3NTlcIixcblx0XHRzdGF0dXNXYXJuaW5nOiBcIiNGNDhGMDBcIixcblx0XHRzdGF0dXNDcml0aWNhbDogXCIjQkUxRDFGXCIsXG5cdFx0c3RhdHVzQWN0aXZlOiBcIiMwNDk4RkJcIixcblx0XHRpbnB1dEJhY2tncm91bmQ6IFwiI0VDRUVGMVwiLFxuXHRcdGlucHV0Q29sb3I6IFwiIzFFMUYyM1wiLFxuXHRcdGlucHV0UGxhY2Vob2xkZXI6IFwiIzM4M0E0MFwiLFxuXHRcdGlucHV0RGlzYWJsZWQ6IFwiIzdEODA4QVwiLFxuXHRcdGlucHV0Rm9jdXNlZDogXCIjQzlDQkQyXCIsXG5cdFx0dGV4dERlZmF1bHQ6IFwiIzFFMUYyM1wiLFxuXHRcdHRleHRIZWxwOiBcIiMyRjMxMzZcIixcblx0XHR0ZXh0SW5hY3RpdmU6IFwiIzdEODA4QVwiXG5cdH0sXG5cdGRhcms6IHtcblx0XHRicmFuZFByaW1hcnk6IFwiIzUwNENGRlwiLFxuXHRcdGJyYW5kU2Vjb25kYXJ5OiBcIiMzODNBNDBcIixcblx0XHRiYWNrZ3JvdW5kUHJpbWFyeTogXCIjMUUxRjIzXCIsXG5cdFx0YmFja2dyb3VuZDE6IFwiIzExMTIxNFwiLFxuXHRcdGJhY2tncm91bmQyOiBcIiMxRTFGMjNcIixcblx0XHRiYWNrZ3JvdW5kMzogXCIjMjQyNjJCXCIsXG5cdFx0YmFja2dyb3VuZDQ6IFwiIzJGMzEzNlwiLFxuXHRcdGJhY2tncm91bmQ1OiBcIiMzODNBNDBcIixcblx0XHRiYWNrZ3JvdW5kNjogXCIjNTM1NjVGXCIsXG5cdFx0c3RhdHVzU3VjY2VzczogXCIjMzVDNzU5XCIsXG5cdFx0c3RhdHVzV2FybmluZzogXCIjRjQ4RjAwXCIsXG5cdFx0c3RhdHVzQ3JpdGljYWw6IFwiI0JFMUQxRlwiLFxuXHRcdHN0YXR1c0FjdGl2ZTogXCIjMDQ5OEZCXCIsXG5cdFx0aW5wdXRCYWNrZ3JvdW5kOiBcIiM1MzU2NUZcIixcblx0XHRpbnB1dENvbG9yOiBcIiNGRkZGRkZcIixcblx0XHRpbnB1dFBsYWNlaG9sZGVyOiBcIiNDOUNCRDJcIixcblx0XHRpbnB1dERpc2FibGVkOiBcIiM3RDgwOEFcIixcblx0XHRpbnB1dEZvY3VzZWQ6IFwiI0M5Q0JEMlwiLFxuXHRcdHRleHREZWZhdWx0OiBcIiNGRkZGRkZcIixcblx0XHR0ZXh0SGVscDogXCIjQzlDQkQyXCIsXG5cdFx0dGV4dEluYWN0aXZlOiBcIiM3RDgwOEFcIlxuXHR9XG59O1xuXG5sZXQgdmFsaWRhdGVkVGhlbWVzOiBDdXN0b21UaGVtZXM7XG5cbmZ1bmN0aW9uIGdldFN5c3RlbVByZWZlcnJlZENvbG9yU2NoZW1lKCk6IFwibGlnaHRcIiB8IFwiZGFya1wiIHtcblx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhPy4oXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcblx0XHRyZXR1cm4gXCJkYXJrXCI7XG5cdH1cblx0cmV0dXJuIFwibGlnaHRcIjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRUaGVtZSgpOiBQcm9taXNlPEN1c3RvbVRoZW1lT3B0aW9ucz4ge1xuXHRjb25zdCB0aGVtZXMgPSBhd2FpdCBnZXRUaGVtZXMoKTtcblx0aWYgKHRoZW1lcy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGFiZWw6IFwiZGVmYXVsdFwiLFxuXHRcdFx0cGFsZXR0ZTogREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdGhlbWVzWzBdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGhlbWVzKCk6IFByb21pc2U8Q3VzdG9tVGhlbWVzPiB7XG5cdGlmICghdmFsaWRhdGVkVGhlbWVzKSB7XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBnZXRTZXR0aW5ncygpO1xuXHRcdHZhbGlkYXRlZFRoZW1lcyA9IHZhbGlkYXRlVGhlbWVzKHNldHRpbmdzPy50aGVtZVByb3ZpZGVyPy50aGVtZXMpO1xuXHR9XG5cdHJldHVybiB2YWxpZGF0ZWRUaGVtZXMuc2xpY2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGhlbWVzKHRoZW1lczogQ3VzdG9tVGhlbWVzKTogQ3VzdG9tVGhlbWVzIHtcblx0Y29uc3QgY3VzdG9tVGhlbWVzOiBDdXN0b21UaGVtZXMgPSBbXTtcblxuXHRpZiAoQXJyYXkuaXNBcnJheSh0aGVtZXMpKSB7XG5cdFx0Y29uc3QgcHJlZmVycmVkQ29sb3JTY2hlbWUgPSBnZXRTeXN0ZW1QcmVmZXJyZWRDb2xvclNjaGVtZSgpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGVtZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHRoZW1lVG9WYWxpZGF0ZSA9IHRoZW1lc1tpXTtcblx0XHRcdGNvbnN0IHBhbGV0dGUgPSB2YWxpZGF0ZVBhbGV0dGUodGhlbWVUb1ZhbGlkYXRlLnBhbGV0dGUsIHRoZW1lVG9WYWxpZGF0ZS5sYWJlbCk7XG5cdFx0XHRpZiAocGFsZXR0ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHR0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSA9IHBhbGV0dGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBkb24ndCBwYXNzIGFuIGVtcHR5IG9iamVjdCBhcyB0aGVyZSBhcmUgbm8gdGhlbWUgcHJvcGVydGllc1xuXHRcdFx0XHR0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGlmICh0aGVtZVRvVmFsaWRhdGUubGFiZWwudG9Mb3dlckNhc2UoKSA9PT0gcHJlZmVycmVkQ29sb3JTY2hlbWUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0YEZvdW5kIGEgdGhlbWUgdGhhdCBtYXRjaGVzIHN5c3RlbSBjb2xvciBzY2hlbWUgcHJlZmVyZW5jZXMgYW5kIG1ha2luZyBpdCB0aGUgZGVmYXVsdCB0aGVtZTogJHtwcmVmZXJyZWRDb2xvclNjaGVtZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGN1c3RvbVRoZW1lcy51bnNoaWZ0KHRoZW1lVG9WYWxpZGF0ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXN0b21UaGVtZXMucHVzaCh0aGVtZVRvVmFsaWRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjdXN0b21UaGVtZXM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUGFsZXR0ZShcblx0dGhlbWVQYWxldHRlOiBDdXN0b21QYWxldHRlU2V0IHwgdW5kZWZpbmVkLFxuXHR0aGVtZUxhYmVsOiBzdHJpbmdcbik6IEN1c3RvbVBhbGV0dGVTZXQgfCBudWxsIHtcblx0aWYgKCF0aGVtZVBhbGV0dGUpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGVtZVBhbGV0dGUpO1xuXHRpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IHBhbGV0dGU6IEN1c3RvbVBhbGV0dGVTZXQgPSB7XG5cdFx0Li4uREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdH07XG5cblx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuXHRcdGlmIChcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldICE9PSBudWxsICYmXG5cdFx0XHR0aGVtZVBhbGV0dGVba2V5XS50cmltKCkubGVuZ3RoID4gMFxuXHRcdCkge1xuXHRcdFx0cGFsZXR0ZVtrZXldID0gdGhlbWVQYWxldHRlW2tleV07XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgYnJhbmRQcmltYXJ5S2V5ID0gXCJicmFuZFByaW1hcnlcIjtcblx0Y29uc3QgYnJhbmRTZWNvbmRhcnlLZXkgPSBcImJyYW5kU2Vjb25kYXJ5XCI7XG5cdGNvbnN0IGJhY2tncm91bmRQcmltYXJ5S2V5ID0gXCJiYWNrZ3JvdW5kUHJpbWFyeVwiO1xuXG5cdGlmICghdGhlbWVQYWxldHRlW2JyYW5kUHJpbWFyeUtleV0pIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgVGhlbWU6ICR7dGhlbWVMYWJlbH0gOiAke2JyYW5kUHJpbWFyeUtleX0gbm90IHNwZWNpZmllZCAoaXQgaXMgcmVxdWlyZWQgaWYgc3BlY2lmeWluZyBvdGhlciB0aGVtZSBwYWxldHRlIHNldHRpbmdzKS4gUHJvdmlkaW5nIGRlZmF1bHQgb2Y6ICR7REVGQVVMVF9QQUxFVFRFUy5kYXJrLmJyYW5kUHJpbWFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdGlmICghdGhlbWVQYWxldHRlW2JyYW5kU2Vjb25kYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YnJhbmRTZWNvbmRhcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke0RFRkFVTFRfUEFMRVRURVMuZGFyay5icmFuZFNlY29uZGFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdGlmICghdGhlbWVQYWxldHRlW2JhY2tncm91bmRQcmltYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YmFja2dyb3VuZFByaW1hcnlLZXl9IG5vdCBzcGVjaWZpZWQgKGl0IGlzIHJlcXVpcmVkIGlmIHNwZWNpZnlpbmcgb3RoZXIgdGhlbWUgcGFsZXR0ZSBzZXR0aW5ncykuIFByb3ZpZGluZyBkZWZhdWx0IG9mOiAke0RFRkFVTFRfUEFMRVRURVMuZGFyay5icmFuZFByaW1hcnl9YFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gcGFsZXR0ZTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiLi9pbnRlZ3JhdGlvbi1wcm92aWRlclwiO1xuXG5leHBvcnQgY29uc3QgZW50cnlQb2ludHM6IHsgW2lkOiBzdHJpbmddOiBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIgfSA9IHtcblx0aW50ZWdyYXRpb25zOiBuZXcgQXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyKClcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=