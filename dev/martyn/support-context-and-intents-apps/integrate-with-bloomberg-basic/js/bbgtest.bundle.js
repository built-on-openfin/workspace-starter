/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@openfin/bloomberg/openfin.bloomberg.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiError: () => (/* binding */ X),
/* harmony export */   AppNotAuthorizedError: () => (/* binding */ ee),
/* harmony export */   InteropError: () => (/* binding */ te),
/* harmony export */   TerminalCommandError: () => (/* binding */ ne),
/* harmony export */   TerminalConnectionError: () => (/* binding */ re),
/* harmony export */   connect: () => (/* binding */ oe),
/* harmony export */   disableLogging: () => (/* binding */ ie),
/* harmony export */   enableLogging: () => (/* binding */ se),
/* harmony export */   isBloombergTerminalReady: () => (/* binding */ ae),
/* harmony export */   isCusip: () => (/* binding */ ce),
/* harmony export */   isEquity: () => (/* binding */ ue),
/* harmony export */   isFigi: () => (/* binding */ le),
/* harmony export */   isIsin: () => (/* binding */ pe)
/* harmony export */ });
var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{MS:()=>ApiError,xc:()=>AppNotAuthorizedError,BT:()=>InteropError,ez:()=>TerminalCommandError,yW:()=>TerminalConnectionError,$j:()=>H,U$:()=>s,U7:()=>a,GS:()=>k,hN:()=>C,Yc:()=>A,eE:()=>O,C1:()=>x});const n=e=>{var t,n,r,o;if(e instanceof ApiError)return e;switch(!0){case(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.indexOf("APPLICATION_VALIDATION"))>=0:return new AppNotAuthorizedError;case(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.indexOf("INVALID_COMMAND"))>=0:case(null===(r=null==e?void 0:e.message)||void 0===r?void 0:r.indexOf("INVALID_GROUP_VALUE"))>=0:case(null===(o=null==e?void 0:e.message)||void 0===o?void 0:o.indexOf("MNEMONIC_NOT_ALLOWED"))>=0:return new TerminalCommandError(void 0,e);case"[object Object]"===(null==e?void 0:e.message):return new TerminalConnectionError;default:return new ApiError(void 0,e)}};class ApiError extends Error{constructor(e="An unexpected error has occurred",t){var n;super(e),t&&(this.innerError=t),this.stack=null===(n=this.stack)||void 0===n?void 0:n.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class AppNotAuthorizedError extends ApiError{constructor(e="App not authorized to use Terminal Connect API",t){super(e,t)}}class InteropError extends ApiError{constructor(e="Failed to execute the interop function",t){super(e,t)}}class TerminalCommandError extends ApiError{constructor(e="Failed to execute the terminal command",t){super(e,t)}}class TerminalConnectionError extends ApiError{constructor(e="Failed to connect to local terminal service",t){super(e,t)}}const r="1.1.0";let o=!1;const i="[@openfin/bloomberg]",s=()=>{o=!1},a=()=>{o=!0,u(`v${r}`)},c=(e,t)=>{o&&(e.innerError?console.error(t?`${i} ${t}`:i,e,"\n\n(inner)",e.innerError):console.error(t?`${i} ${t}`:i,e))},u=(...e)=>{o&&console.log(i,...e)},l=(...e)=>{o&&console.warn(i,...e)};"undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Bloomberg:{enableLogging:a,disableLogging:s}}});class p{constructor(e,t,n){this._lastUpdate=0,this._securityCacheExpiration=15e3,this._securityCache="",this._name=t,this._type=n,this._terminalProxy=e}get name(){return this._name}get type(){return this._type}getSecurity(){return new Promise(((e,t)=>{this._terminalProxy.getAllGroups((n=>{const r=n.find((e=>e.name===this._name));r?(this._securityCache=r.security,this._lastUpdate=(new Date).getTime(),e(this._securityCache)):t(new Error(`Group ${name} is not found.`))}),((e,n)=>{t(new Error(n))}))}))}getCachedSecurity(){return new Promise((async(e,t)=>{const n=(new Date).getTime();(!this._securityCache||!this._lastUpdate||n-this._lastUpdate>this._securityCacheExpiration)&&await this.getSecurity(),e(this._securityCache)}))}setSecurity(e,t){return new Promise(((n,r)=>{this._terminalProxy.setGroupSecurity((()=>{this._securityCache=e,this._lastUpdate=(new Date).getTime(),n()}),((e,t)=>{r(new Error(t))}),this._name,e,t)}))}}function d(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,o,i,s,a,c,u="",l=0;for(;l<e.length;)n=e.charCodeAt(l++),r=e.charCodeAt(l++),o=e.charCodeAt(l++),i=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|o>>6,c=63&o,isNaN(r)?a=c=64:isNaN(o)&&(c=64),u=u+t.charAt(i)+t.charAt(s)+t.charAt(a)+t.charAt(c);return u}class h{constructor(){this._seqNumber=0,this._isConnecting=!1,this._isConnected=!1,this._isRegistered=!1,this._sessionId="",this._queuedRequests=[],this._pendingRequests={},this._minPortRange=51800,this._maxPortRange=51820,this._currentPort=51800,this._responseTimeout=15e3,this._disconnectEventSubscriptions={},this._groupEventSubscriptions={},this.sendRemoteMessage=(e,t,n,r)=>{if(this._isRegistered||e.register||this.sendRemoteMessage({register:{}},12,null,console.error),this._sessionId||(this._sessionId=`{${function(){const e="0123456789ABCDEF".split("");let t,n=[],r=Math.random;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var o=0;o<36;o++)n[o]||(t=0|16*r(),n[o]=e[19==o?3&t|8:15&t]);return n.join("")}()}}`),e.setGroupValue&&!e.setGroupValue.cookie&&(e.setGroupValue.cookie=this._sessionId),e.subscribeGroupEvents){const t=e.subscribeGroupEvents.subId;delete e.subscribeGroupEvents.subId,r=e=>{delete this._groupEventSubscriptions[t],r&&r(e)}}const o={sessionId:this._sessionId,correlationId:++this._seqNumber,request:e},i=JSON.stringify(o),s=t>12,a=s?{appId:o.appId,sessionId:o.sessionId,correlationId:o.correlationId,payloadSchemaName:"ap3g_internal",payloadSchemaVersion:2,payloadMsgType:t,payload:d(i)}:void 0,c={envelope:{schemaName:s?"blp_lpad_msg":"blp_remote_controller",schemaVersion:2,message:s?JSON.stringify(a):i},correlationId:o.correlationId,expectResponse:!0,onsuccess:n,onerror:r};this._pendingRequests[o.correlationId]=c,this._isConnected?this.sendRequest(c):(this._queuedRequests.push(c),this.connect())}}addEventListener(e){const t=Object.keys(this._groupEventSubscriptions).length+1;return this._groupEventSubscriptions[t]=e,t}removeEventListener(e){return delete this._groupEventSubscriptions[e],Object.keys(this._groupEventSubscriptions).length}addDisconnectEventListener(e){const t=Object.keys(this._disconnectEventSubscriptions).length+1;return this._disconnectEventSubscriptions[t]=e,t}removeDisconnectEventListener(e){const t=Object.keys(this._disconnectEventSubscriptions).length;delete this._disconnectEventSubscriptions[e];return t!==Object.keys(this._disconnectEventSubscriptions).length}sendRequest(e){const t=JSON.stringify(e.envelope);this._webSocket&&this._webSocket.send(t),e.expectResponse?setTimeout((()=>{this._pendingRequests[e.correlationId]&&(delete this._pendingRequests[e.correlationId],e.onerror&&e.onerror(0,"Response Timeout"))}),this._responseTimeout):delete this._pendingRequests[e.correlationId]}connect(){try{if(this._isConnecting)return;this._isConnecting=!0,this._webSocket=new WebSocket("ws://localhost:"+this._currentPort,"terminal_api"),this._webSocket.onopen=this.onWebSocketOpen.bind(this),this._webSocket.onmessage=this.onWebSocketMessage.bind(this),this._webSocket.onclose=this.onWebSocketClose.bind(this),this._webSocket.onerror=this.onWebSocketError.bind(this)}catch(e){this._webSocket=void 0,this.cancelPendingRequests("WebSocket Exception "+e),console.error(e)}}cancelPendingRequests(e){this._isConnected=!1,this._isConnecting=!1,this._isRegistered=!1,this._sessionId="";for(let t in this._pendingRequests){const n=this._pendingRequests[t];n&&n.onerror&&n.onerror(0,e)}this._pendingRequests={}}onWebSocketClose(e){if(console.log("WebSocket Closed; Reason: "+e.reason+", Code: "+e.code+", WasClean: "+e.wasClean),this._isConnected){const t={};e&&void 0!==e.reason&&(t.reason=e.reason),e&&void 0!==e.code&&(t.code=e.code),e&&void 0!==e.wasClean&&(t.wasClean=e.wasClean),this._currentPort=this._minPortRange,this.cancelPendingRequests({status:"error",message:"Connection Closed",details:t});for(let e in this._disconnectEventSubscriptions){const t=this._disconnectEventSubscriptions[e];t&&t(e)}}}onWebSocketError(){if(console.log("WebSocket Error;  readyState: "+(this._webSocket&&this._webSocket.readyState)),this._isConnecting=!1,this._currentPort<this._maxPortRange)this._currentPort+=1,this.connect();else{this._currentPort=this._minPortRange;const e={readyState:this._webSocket&&this._webSocket.readyState};this.cancelPendingRequests({status:"error",message:"Connection Error",details:e})}}onWebSocketOpen(){for(this._isConnected=!0,this._isConnecting=!1;this._queuedRequests.length>0;)this.sendRequest(this._queuedRequests.shift())}onWebSocketMessage(e){var t=e&&e.data?e.data:"null",n=JSON.parse(t),r=n?JSON.parse(n.message):null,o=r&&r.response?this._pendingRequests[r.correlationId]:null;o&&delete this._pendingRequests[r.correlationId],this.processResponse(o,r.response)}getGroupInfo(e){return e?{name:e.name,type:e.type,security:"security"===e.type&&e.value?e.value:void 0}:{}}processResponse(e,t){if(t.success)e.onsuccess&&e.onsuccess();else if(t.registrationComplete)this._isRegistered=!0,console.log("Registration Complete; Session: "+this._sessionId),e.onsuccess&&e.onsuccess();else if(t.getAllGroups){const n=t.getAllGroups.group;e.onsuccess&&e.onsuccess(n?n.map(this.getGroupInfo):[])}else if(t.groupValue)e.onsuccess&&e.onsuccess(this.getGroupInfo(t.groupValue.group));else if(t.groupEvent){if(t.groupEvent.valueChanged){const e=t.groupEvent.valueChanged.group,n=t.groupEvent.valueChanged.cookie===this._sessionId?void 0:t.groupEvent.valueChanged.cookie;for(let t in this._groupEventSubscriptions){const r=this._groupEventSubscriptions[t];r&&r(e,n)}}}else e.onerror&&e.onerror(t.failure&&t.failure.code||0,t.failure?`${t.failure.message} ${t.failure.humanMessage}`:"Unknown Response")}}class g{constructor(){this._webSocket=new h}runFunction(e,t,n,r,o,i,s,a){let c="";if(n&&n.length?1!==r&&2!==r&&3!==r&&4!==r&&5!==r&&(c="Invalid Or Missing Parameter: panel"):c="Invalid Or Missing Parameter: mnemonic",c)return console.error("runFunctionInPanel error: "+c),void(t&&t(0,c));const u={runFunctionInPanel:{mnemonic:n,panel:r}};if(o){const e=[];e.push(o),i&&e.push(i),u.runFunctionInPanel.securities=e}s&&(u.runFunctionInPanel.tails=s),a&&(u.runFunctionInPanel.applicationProperties=a),this._webSocket.sendRemoteMessage(u,0,e,t)}getAllGroups(e,t){this._webSocket.sendRemoteMessage({getAllGroups:{}},13,e,t)}getGroup(e,t,n){if(!n||!n.length){const e="Invalid Or Missing Parameter: name";return console.error(e),void(t&&t(0,e))}this._webSocket.sendRemoteMessage({getGroupValue:{name:n}},15,e,t)}setGroupSecurity(e,t,n,r,o){let i="";if(n&&n.length?r&&r.length||(i="Invalid Or Missing Parameter: security"):i="Invalid Or Missing Parameter: name",i)return console.error("setGroupContext error: "+i),void(t&&t(0,i));this._webSocket.sendRemoteMessage({setGroupValue:{name:n,value:r,cookie:o}},14,e,t)}subscribeGroupEvents(e,t,n){if(!n){const e="Invalid Or Missing Parameter: callback";return console.error("subscribeGroupEvents error: "+e),void(t&&t(0,e))}const r=this._webSocket.addEventListener(n);1===r?this._webSocket.sendRemoteMessage({subscribeGroupEvents:{subId:r}},16,(()=>{e&&e(r)}),(e=>{t&&t(0,e)})):e&&e(r)}unsubscribeGroupEvents(e,t,n){if(!n){const e="Invalid Or Missing Parameter: cookie";return console.error("unsubscribeGroupEvents error: "+e),void(t&&t(0,e))}0===this._webSocket.removeEventListener(n)?this._webSocket.sendRemoteMessage({unsubscribeGroupEvents:{}},17,e,t):e&&e()}subscribeDisconnectEvent(e,t,n){if(!n){const e="Invalid Or Missing Parameter: callback";return console.error("subscribeDisconnectEvent error: "+e),t&&t(0,e),null}const r=this._webSocket.addDisconnectEventListener(n);return e&&e(r),r}unsubscribeDisconnectEvent(e,t,n){if(!n){const e="Invalid Or Missing Parameter: cookie";return console.error("unsubscribeDisconnectEvent error: "+e),t&&t(0,e),!1}return this._webSocket.removeDisconnectEventListener(n)?(e&&e(),!0):(t&&t(0,"Invalid Subscription"),!1)}}class f{constructor(){this.runFunction=window.bb.apps.tc.runFunction,this.getGroup=window.bb.apps.tc.getGroup,this.setGroupSecurity=window.bb.apps.tc.setGroupSecurity,this.getAllGroups=window.bb.apps.tc.getAllGroups,this.subscribeGroupEvents=window.bb.apps.tc.subscribeGroupEvents,this.unsubscribeGroupEvents=window.bb.apps.tc.unsubscribeGroupEvents}subscribeDisconnectEvent(e,t,n){}unsubscribeDisconnectEvent(e,t,n){}}class m{constructor(e=!function(){return!!(window.bb&&window.bb.apps&&window.bb.apps.app&&window.bb.apps.event)}()){this._helperSetGroupValues=e=>{const t=new p(this._terminalProxy,e.name,e.type);return t._securityCache=e.security,t._lastUpdate=(new Date).getTime(),t},this._terminalProxy=e?new g:new f}runFunction(e,t,n,r,o){return new Promise(((i,s)=>{this._terminalProxy.runFunction(i,((e,t)=>{s(new Error(t))}),e,t,n||null,r||null,o||null)}))}getAllGroups(){return new Promise(((e,t)=>{this._terminalProxy.getAllGroups((t=>{e(Array.from(t,this._helperSetGroupValues))}),((e,n)=>{t(new Error(n))}))}))}getGroup(e){return new Promise(((t,n)=>{this._terminalProxy.getAllGroups((r=>{const o=r.find((t=>t.name===e));o?t(this._helperSetGroupValues(o)):n(new Error(`Group ${e} is not found.`))}),((e,t)=>{n(new Error(t))}))}))}subscribeGroupEvents(e){return new Promise(((t,n)=>{this._terminalProxy.subscribeGroupEvents((e=>{t(e)}),((e,t)=>{n(new Error(t))}),((t,n)=>{e(this._helperSetGroupValues(t),n)}))}))}unsubscribeGroupEvents(e){return new Promise(((t,n)=>{this._terminalProxy.unsubscribeGroupEvents((()=>{t()}),((e,t)=>{n(new Error(t))}),e)}))}}const v=(window.BB=window.BB||{},window.BB.Apps=window.BB.Apps||{},window.BB.Apps.Terminal=window.BB.Apps.Terminal||new m,window.BB.Apps.Terminal);var b,y,w;!function(e){e.AppNotFound="AppNotFound",e.ErrorOnLaunch="ErrorOnLaunch",e.AppTimeout="AppTimeout",e.ResolverUnavailable="ResolverUnavailable"}(b||(b={})),function(e){e.NoAppsFound="NoAppsFound",e.ResolverUnavailable="ResolverUnavailable",e.ResolverTimeout="ResolverTimeout"}(y||(y={})),function(e){e.NoChannelFound="NoChannelFound",e.AccessDenied="AccessDenied",e.CreationFailed="CreationFailed"}(w||(w={}));var _,E;_=function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(r||[]);return i._invoke=function(e,t,n){var r=p;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?g:d,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",f={};function m(){}function v(){}function b(){}var y={};y[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(G([])));_&&_!==n&&r.call(_,i)&&(y=_);var E=b.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,s,a){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function G(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=E.constructor=b,b.constructor=v,v.displayName=c(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[s]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new I(u(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(E),c(E,a,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=G,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:G(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},_(E={exports:{}},E.exports);var S;!function(e){e.Contact="fdc3.contact",e.ContactList="fdc3.contactList",e.Country="fdc3.country",e.Instrument="fdc3.instrument",e.Organization="fdc3.organization",e.Portfolio="fdc3.portfolio",e.Position="fdc3.position"}(S||(S={}));var I;!function(e){e.StartCall="StartCall",e.StartChat="StartChat",e.ViewChart="ViewChart",e.ViewContact="ViewContact",e.ViewQuote="ViewQuote",e.ViewNews="ViewNews",e.ViewInstrument="ViewInstrument",e.ViewAnalysis="ViewAnalysis"}(I||(I={}));const C=e=>!!e&&/^([A-Z0-9]{5})([A-Z0-9*@#]{3})(\d)$/i.test(e),A=e=>!!e&&/\b(EQUITY)$/i.test(e),O=e=>!!e&&/^(?!B[SM]|G[GBH]|KY|VG)([A-Z]{2})(G)(((?![AEIOU_])\w){8})(\d)$/i.test(e),x=e=>!!e&&/^([A-Z]{2})([A-Z0-9]{9})(\d)$/i.test(e),G="OF_BBG_API",P=(e,t,r)=>async(o,i)=>{var s;if(void 0===(null!==(s=null==o?void 0:o.name)&&void 0!==s?s:void 0)){const e=new ApiError(void 0,"Group event source is undefined");throw c(e),null==r||r(e),e}if("*"!==e&&o.name!==e||i===G)return;let a;try{a=await o.getSecurity()}catch(e){const t=n(e);throw c(t),null==r||r(t),t}u(`Launchpad group ${o.name} security changed to:`,a);const l=(e=>{const t={type:S.Instrument,id:{BBG:e}},n=(e=>{var t;if(null==e?void 0:e.trim())return(null!==(t=e.match(/^\w+/))&&void 0!==t?t:[])[0]})(e);if(!n)return t;switch(!0){case C(n):t.id.CUSIP=n;break;case O(n):t.id.FIGI=n;break;case x(n):t.id.ISIN=n;break;case A(e):t.id.ticker=n}return t})(a);l.openfinBbgApi=!0,null==t||t(l),u("Setting new context: ",l);try{await fin.me.interop.setContext(l)}catch(e){const t=new InteropError(void 0,e);c(t),null==r||r(t)}},k=async()=>{let e=!0;try{await v.getAllGroups()}catch(t){const r=n(t);if(!(r instanceof TerminalConnectionError))throw c(r),r;e=!1}return u("Bloomberg terminal ready: ",e),e},M=async(e,t,r,o,i)=>{if("number"==typeof e){u(`Running terminal function in panel ${e}: `,t,r,o,i);try{await v.runFunction(t,e,r,o,i)}catch(e){const t=n(e);throw c(t),t}}else u(`Unable to run function as target ${e} is not a panel`,t,r,o,i)},R={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};R.defaultMerge;function F(e,t){return t}function L(e){return"object"!=typeof e||null===e?0:Array.isArray(e)?2:function(e){if(!B.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(void 0===t)return!0;const n=t.prototype;if(null===n||"object"!=typeof n||!B.has(Object.prototype.toString.call(n)))return!1;if(!n.hasOwnProperty("isPrototypeOf"))return!1;return!0}(e)?1:e instanceof Set?3:e instanceof Map?4:5}function N(e){const t=new Set;for(const n of e)for(const e of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(e);return t}function j(e,t){return"object"==typeof e&&Object.prototype.propertyIsEnumerable.call(e,t)}function T(e){return{*[Symbol.iterator](){for(const t of e)for(const e of t)yield e}}}const B=new Set(["[object Object]","[object Module]"]);function V(e){return e[e.length-1]}var D=Object.freeze({__proto__:null,mergeRecords:function(e,t,n){const r={};for(const o of N(e)){const i=[];for(const t of e)j(t,o)&&i.push(t[o]);if(0===i.length)continue;const s=t.metaDataUpdater(n,{key:o,parents:e}),a=U(i,t,s);a!==R.skip&&("__proto__"===o?Object.defineProperty(r,o,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[o]=a)}return r},mergeArrays:function(e){return e.flat()},mergeSets:function(e){return new Set(T(e))},mergeMaps:function(e){return new Map(T(e))},mergeOthers:V});function $(...e){return function(e,t){const n=function(e,t){var n,r;return{defaultMergeFunctions:D,mergeFunctions:{...D,...Object.fromEntries(Object.entries(e).filter((([e,t])=>Object.prototype.hasOwnProperty.call(D,e))).map((([e,t])=>!1===t?[e,V]:[e,t])))},metaDataUpdater:null!==(n=e.metaDataUpdater)&&void 0!==n?n:F,deepmerge:t,useImplicitDefaultMerging:null!==(r=e.enableImplicitDefaultMerging)&&void 0!==r&&r,actions:R}}(e,r);function r(...e){return U(e,n,t)}return r}({})(...e)}function U(e,t,n){if(0===e.length)return;if(1===e.length)return q(e,t,n);const r=L(e[0]);if(0!==r&&5!==r)for(let o=1;o<e.length;o++)if(L(e[o])!==r)return q(e,t,n);switch(r){case 1:return function(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords)return t.defaultMergeFunctions.mergeRecords(e,t,n);return r}(e,t,n);case 2:return function(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays)return t.defaultMergeFunctions.mergeArrays(e);return r}(e,t,n);case 3:return function(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets)return t.defaultMergeFunctions.mergeSets(e);return r}(e,t,n);case 4:return function(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps)return t.defaultMergeFunctions.mergeMaps(e);return r}(e,t,n);default:return q(e,t,n)}}function q(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}const W=async(e,t,n)=>{const r=(()=>{const e=new Map,t=new Map,n={target:1,mnemonic:"DES"},r={target:1,mnemonic:"GP"},o={target:1,mnemonic:"Q"},i={target:1,mnemonic:"BIO"},s={target:1,mnemonic:"SEAR"};e.set(S.Instrument,Object.assign({},n)),e.set(S.Contact,Object.assign({},i)),e.set(S.Organization,Object.assign({},s));const a=new Map;a.set(S.Instrument,Object.assign({},r)),t.set(I.ViewChart,a);const c=new Map;c.set(S.Contact,Object.assign({},i)),t.set(I.ViewContact,c);const u=new Map;u.set(S.Instrument,Object.assign({},n)),t.set(I.ViewInstrument,u);const l=new Map;return l.set(S.Instrument,Object.assign({},o)),t.set(I.ViewQuote,l),{contexts:e,intents:t}})(),o=(e=>{var t,n,r,o;const i=e=>{const[t]=e;return!!(null!=t?t:"").trim()},s=[...null!==(n=null===(t=null==e?void 0:e.contexts)||void 0===t?void 0:t.entries())&&void 0!==n?n:[]].filter(i),a=[...null!==(o=null===(r=null==e?void 0:e.intents)||void 0===r?void 0:r.entries())&&void 0!==o?o:[]].filter((e=>{var t;const[n,r]=e,o=[...null!==(t=null==r?void 0:r.entries())&&void 0!==t?t:[]].filter(i);return!!(null!=n?n:"").trim()&&o.length>0}));return{contexts:new Map(s),intents:new Map(a)}})(e),i=$(r,o),s=i.contexts,a=i.intents,p=[];let d;p.push(fin.me.interop.addContextHandler(((e,t,n)=>async r=>{r?await z(r,e,t,n):u("No context info provided, ignoring")})(s,t,n))),a.forEach(((e,r)=>{p.push(fin.me.interop.registerIntentHandler(((e,t,n)=>async r=>{u("Intent received",r);const{context:o}=r;o?e?await z(o,e,t,n):l(`No actions have been provided for intent ${r.name}, ignoring`):l("No context info provided with intent, ignoring")})(e,t,n),r))}));try{d=await Promise.all(p)}catch(e){const t=new ApiError("Failed to register interop handlers",e);throw c(t),t}return d},z=async(e,t,n,r)=>{if(null==n||n(e),!0===e.openfinBbgApi)return;if(u("Processing context",e),!t.has(e.type)||!t.get(e.type))return void l(`No action has been defined for context type ${e.type}, ignoring`);const o=t.get(e.type);try{switch(!0){case e.type.toUpperCase().endsWith("CONTACT"):await Y(e,o);break;case e.type.toUpperCase().endsWith("INSTRUMENT"):await Z(e,o);break;case e.type.toUpperCase().endsWith("ORGANIZATION"):await J(e,o);break;default:return void l(`Context type ${e.type} is not supported, ignoring`)}}catch(e){let t;e instanceof ApiError?t=e:(t=new ApiError(void 0,e),c(t)),null==r||r(t)}},Y=async(e,t)=>{const{name:n}=e;if(!n)return void l("Contact context did not include a name, ignoring");if("string"==typeof t)return void l("Contact context is not compatible with group actions, ignoring");const{mnemonic:r,tails:o,target:i}=t,s=`${n} ${null!=o?o:""}`.trim();await M(i,r,void 0,void 0,s)},Z=async(e,t)=>{const r=(e=>{const{BBG:t,ticker:n}=e.id;return t||(n?`${n} US Equity`:void u("Instrument context does not contain a supported id",e))})(e);if(!r)return void l("Instrument context did not contain a valid security, ignoring");if("string"==typeof t)return void await(async(e,t)=>{if(u(`Setting ${"*"===e?"every group":`group ${e}`} security to ${t}`),"*"===e){const e=await v.getAllGroups();await Promise.all(e.map((e=>e.setSecurity(t,G))))}else try{const n=await v.getGroup(e);await n.setSecurity(t,G)}catch(e){const t=n(e);throw c(t),t}})(t,r);const{mnemonic:o,tails:i,target:s}=t;await M(s,o,r,void 0,i)},J=async(e,t)=>{const{name:n}=e;if(!n)return void l("Organization context did not include a name, ignoring");if("string"==typeof t)return void l("Organization context is not compatible with group actions, ignoring");const{mnemonic:r,tails:o,target:i}=t,s=`${n} ${null!=o?o:""}`.trim();await M(i,r,void 0,void 0,s)};var Q;!function(e){e.Bloomberg="BLOOMBERG"}(Q||(Q={}));const H=async e=>{(async e=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:r,componentName:e}})}catch(t){l(`Unable to register usage for feature ${e}: ${null==t?void 0:t.message}`)}})(Q.Bloomberg);const{group:t,actions:n,onContextChanged:o,onError:i}=null!=e?e:{};if(u("Creating interop connection",t,n),!await k()){const e=new TerminalConnectionError;throw c(e),e}let s;void 0!==(null!=t?t:void 0)&&(s=await v.subscribeGroupEvents(P(t,o,i)),u("Launchpad group subscription created: ",s));const a=await W(n,o,i);return{disconnect:K(a,s)}},K=(e,t)=>async()=>{u("Disconnecting interop connection"),e&&await Promise.all(e.map((async e=>{await e.unsubscribe()}))),void 0!==(null!=t?t:void 0)&&await v.unsubscribeGroupEvents(t)};var X=t.MS,ee=t.xc,te=t.BT,ne=t.ez,re=t.yW,oe=t.$j,ie=t.U$,se=t.U7,ae=t.GS,ce=t.hN,ue=t.Yc,le=t.eE,pe=t.C1;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*******************************!*\
  !*** ./client/src/bbgtest.ts ***!
  \*******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/bloomberg */ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.js");

let bbgConnection;
let selectedIntentType = "";
let selectedIntentValue = "";
let fdc3Denomination = "";
let bbgMnemonic = "";
let btnConnect;
let btnDisconnect;
let btnClearLogs;
let btnQuery;
let intentTypeElement;
let intentValueElement;
let logOutput;
window.addEventListener("DOMContentLoaded", async () => {
    // Enable logging in the BBG package
    (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    // Initialize the DOM elements.
    initializeDOM();
});
/**
 * Initialize the DOM.
 */
function initializeDOM() {
    btnConnect = document.querySelector("#btnConnect");
    btnDisconnect = document.querySelector("#btnDisconnect");
    btnClearLogs = document.querySelector("#btnClear");
    btnQuery = document.querySelector("#btnQuery");
    intentTypeElement = document.querySelector("#intentType");
    intentValueElement = document.querySelector("#intentValue");
    logOutput = document.querySelector("#logOutput");
    if (btnConnect) {
        btnConnect.addEventListener("click", async () => {
            if (btnConnect) {
                btnConnect.disabled = true;
            }
            await connectToBBGTerminal();
            updateState();
        });
    }
    if (btnDisconnect) {
        btnDisconnect.addEventListener("click", async () => {
            if (btnDisconnect) {
                btnDisconnect.disabled = true;
            }
            await disconnectFromBBGTerminal();
            updateState();
        });
    }
    if (btnClearLogs) {
        btnClearLogs.addEventListener("click", clearLogs);
    }
    if (btnQuery) {
        btnQuery.addEventListener("click", fireIntentForBBG);
    }
    if (intentTypeElement) {
        intentTypeElement.addEventListener("change", (event) => {
            if (btnQuery) {
                btnQuery.disabled = true;
            }
            switch (intentTypeElement?.value) {
                case "ViewChart":
                    logInformation("Intent to be fired is ViewChart. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: GP");
                    selectedIntentType = "ViewChart";
                    fdc3Denomination = "fdc3.instrument";
                    bbgMnemonic = "GP";
                    populateSelect(intentValueElement, [
                        {
                            value: "ORCL",
                            label: "Oracle Corp"
                        },
                        {
                            value: "MSFT",
                            label: "Microsoft"
                        },
                        {
                            value: "IBM",
                            label: "IBM"
                        }
                    ]);
                    break;
                case "ViewContact":
                    logInformation("Intent to be fired is ViewContact. Content Type is fdc3.contact. Bloomberg Terminal Mnemonic: BIO");
                    selectedIntentType = "ViewContact";
                    fdc3Denomination = "fdc3.contact";
                    bbgMnemonic = "BIO";
                    populateSelect(intentValueElement, [
                        {
                            value: "William Henry Gates",
                            label: "William Henry Gates"
                        },
                        {
                            value: "Larry Ellison",
                            label: "Larry Ellison"
                        },
                        {
                            value: "Robert Iger",
                            label: "Robert Iger"
                        }
                    ]);
                    break;
                case "ViewInstrument":
                    logInformation("Intent to be fired is ViewInstrument. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: DES");
                    selectedIntentType = "ViewInstrument";
                    fdc3Denomination = "fdc3.instrument";
                    bbgMnemonic = "DES";
                    populateSelect(intentValueElement, [
                        {
                            value: "ORCL",
                            label: "Oracle Corp"
                        },
                        {
                            value: "MSFT",
                            label: "Microsoft"
                        },
                        {
                            value: "IBM",
                            label: "IBM"
                        }
                    ]);
                    break;
                case "ViewQuote":
                    logInformation("Intent to be fired is ViewQuote. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: Q");
                    selectedIntentType = "ViewQuote";
                    fdc3Denomination = "fdc3.instrument";
                    bbgMnemonic = "Q";
                    populateSelect(intentValueElement, [
                        {
                            value: "ORCL",
                            label: "Oracle Corp"
                        },
                        {
                            value: "MSFT",
                            label: "Microsoft"
                        },
                        {
                            value: "IBM",
                            label: "IBM"
                        }
                    ]);
                    break;
            }
            updateState();
        });
    }
    if (intentValueElement) {
        intentValueElement.addEventListener("change", () => {
            if (intentValueElement) {
                selectedIntentValue = intentValueElement.value;
                if (selectedIntentValue.length > 0) {
                    logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
                }
                updateState();
            }
        });
    }
    updateState();
}
/**
 * Connect to Bloomberg Terminal.
 */
async function connectToBBGTerminal() {
    try {
        logInformation("Checking Bloomberg Terminal Status");
        if (!(await (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.isBloombergTerminalReady)())) {
            const error = new Error("Failed to connect to Bloomberg terminal.");
            console.log(error);
            logInformation("Failed to connect to Bloomberg terminal.");
            throw error;
        }
        bbgConnection = await (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.connect)();
        logInformation("Connection successful");
    }
    catch (error) {
        bbgConnection = undefined;
        console.log(error);
        logInformation(errorToString(error));
    }
}
/**
 * Disconnect from Bloomberg Terminal.
 */
async function disconnectFromBBGTerminal() {
    if (bbgConnection) {
        try {
            logInformation("Disconnecting from Bloomberg Terminal");
            await bbgConnection.disconnect();
        }
        finally {
            bbgConnection = undefined;
            logInformation("Disconnected from Bloomberg Terminal");
        }
    }
}
/**
 * Fire an intent.
 */
async function fireIntentForBBG() {
    if (bbgConnection) {
        try {
            logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
            let intent;
            switch (selectedIntentType) {
                case "ViewChart":
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            id: {
                                ticker: selectedIntentValue
                            }
                        }
                    };
                    break;
                case "ViewContact":
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            name: selectedIntentValue,
                            id: {}
                        }
                    };
                    break;
                default:
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            id: {
                                ticker: selectedIntentValue
                            }
                        }
                    };
                    break;
            }
            await fin.me.interop.fireIntent(intent);
        }
        catch (error) {
            logInformation(`Error while trying to raise intent: ${errorToString(error)}`);
        }
    }
    else {
        logInformation("Not connected to the Bloomberg Terminal. Please check your status or log in again.");
    }
}
/**
 * Update the state of the DOM.
 */
function updateState() {
    const isConnected = bbgConnection !== undefined;
    if (btnConnect) {
        btnConnect.disabled = isConnected;
    }
    if (btnDisconnect) {
        btnDisconnect.disabled = !isConnected;
    }
    if (intentTypeElement) {
        intentTypeElement.disabled = !isConnected;
    }
    if (intentValueElement) {
        intentValueElement.disabled = !isConnected || selectedIntentType.length === 0;
    }
    if (btnQuery) {
        btnQuery.disabled = !isConnected || selectedIntentValue.length === 0;
    }
}
/**
 * Log information to the output element.
 * @param info The information to log.
 */
function logInformation(info) {
    if (logOutput) {
        logOutput.textContent = `${logOutput.textContent + info}\n\n`;
        logOutput.scrollTop = logOutput.scrollHeight;
    }
}
/**
 * Convert and error to a string.
 * @param err The error to convert.
 * @returns The error as a string.
 */
function errorToString(err) {
    if (err instanceof Error) {
        return err.message;
    }
    else if (typeof err === "string") {
        return err;
    }
    return JSON.stringify(err);
}
/**
 * Clear the logs.
 */
function clearLogs() {
    if (logOutput) {
        logOutput.textContent = "";
        logOutput.scrollTop = 0;
    }
}
/**
 * Populate a select control with a list of items.
 * @param select The select element to populate.
 * @param values The values to populate the element with.
 */
function populateSelect(select, values) {
    if (select) {
        select.innerHTML = "";
        const opt = document.createElement("option");
        opt.value = "";
        opt.text = "Please select value";
        opt.disabled = true;
        opt.selected = true;
        select.append(opt);
        for (const val of values) {
            const optVal = document.createElement("option");
            optVal.value = val.value;
            optVal.text = val.label;
            select.append(optVal);
        }
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmJndGVzdC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLFVBQVUsK0RBQStELHVCQUF1QixFQUFFLG9EQUFvRCxNQUFNLE9BQU8sb01BQW9NLEVBQUUsWUFBWSxZQUFZLGtDQUFrQyxXQUFXLHFJQUFxSSwwVUFBMFUsc0ZBQXNGLHdDQUF3Qyw2QkFBNkIsb0RBQW9ELE1BQU0sK0dBQStHLHNCQUFzQixJQUFJLDZDQUE2QyxrRUFBa0UsWUFBWSxvQ0FBb0MsMERBQTBELFlBQVksNENBQTRDLDBEQUEwRCxZQUFZLCtDQUErQywrREFBK0QsWUFBWSxnQkFBZ0IsU0FBUyxzQ0FBc0MsS0FBSyxRQUFRLFdBQVcsRUFBRSxHQUFHLFdBQVcsb0NBQW9DLEdBQUcsRUFBRSxFQUFFLHFEQUFxRCxHQUFHLEVBQUUsRUFBRSxRQUFRLFlBQVksdUJBQXVCLFlBQVkseUJBQXlCLCtDQUErQyxPQUFPLHFCQUFxQixjQUFjLFdBQVcsbUNBQW1DLEVBQUUsUUFBUSxtQkFBbUIsNkhBQTZILFdBQVcsa0JBQWtCLFdBQVcsa0JBQWtCLGNBQWMsNEJBQTRCLHNDQUFzQyx5Q0FBeUMscUhBQXFILE1BQU0saUJBQWlCLFdBQVcsZ0JBQWdCLEdBQUcsR0FBRyxvQkFBb0IsaUNBQWlDLDZCQUE2Qiw2SUFBNkksR0FBRyxpQkFBaUIsNEJBQTRCLDJDQUEyQyxnRUFBZ0UsV0FBVyxnQkFBZ0Isa0JBQWtCLElBQUksY0FBYyw0RUFBNEUsMkJBQTJCLEtBQUssV0FBVyxpTUFBaU0sU0FBUyxRQUFRLGNBQWMsc0pBQXNKLDJJQUEySSxpQ0FBaUMsb0NBQW9DLDJEQUEyRCxZQUFZLDREQUE0RCxFQUFFLFdBQVcscUNBQXFDLHlCQUF5QixxQ0FBcUMsWUFBWSxLQUFLLGdEQUFnRCxrQkFBa0IsSUFBSSw4R0FBOEcscUNBQXFDLDBDQUEwQyxpREFBaUQsU0FBUyxvRUFBb0UsaUNBQWlDLHlKQUF5SixXQUFXLFVBQVUsa0dBQWtHLHdFQUF3RSw4SEFBOEgsb0JBQW9CLDREQUE0RCw0Q0FBNEMsdUJBQXVCLGlHQUFpRyw4QkFBOEIsaUVBQWlFLGlEQUFpRCxpQ0FBaUMsK0RBQStELDZDQUE2QyxrRUFBa0UsZUFBZSxtQ0FBbUMsMkVBQTJFLG1JQUFtSSx1RUFBdUUsVUFBVSxJQUFJLDZCQUE2Qiw4VUFBOFUsU0FBUyw4RkFBOEYseUJBQXlCLG9GQUFvRixvQ0FBb0MsaUNBQWlDLDZCQUE2Qix5QkFBeUIsb0JBQW9CLGtDQUFrQyxtRkFBbUYsV0FBVywrTEFBK0wscURBQXFELEVBQUUsaURBQWlELDhDQUE4QyxVQUFVLG1CQUFtQixrQ0FBa0MsNEpBQTRKLEtBQUsscUNBQXFDLFNBQVMsd0RBQXdELDRCQUE0QixvREFBb0QsR0FBRyxrQkFBa0IsK0NBQStDLDhCQUE4QixnREFBZ0Qsc0JBQXNCLHlJQUF5SSxvRkFBb0YsZ0JBQWdCLFVBQVUsNkVBQTZFLElBQUkscUJBQXFCLHdDQUF3Qyx5RkFBeUYsdURBQXVELHdCQUF3Qiw2QkFBNkIsd0RBQXdELHFGQUFxRixzQkFBc0IsOEJBQThCLHFJQUFxSSw0Q0FBNEMseUNBQXlDLFlBQVksb0VBQW9FLG1CQUFtQixFQUFFLHVCQUF1Qix1QkFBdUIsUUFBUSxjQUFjLHNCQUFzQiw2QkFBNkIsU0FBUyw4TUFBOE0sU0FBUyxvQkFBb0IscUJBQXFCLE1BQU0sV0FBVyx5REFBeUQsK0hBQStILGtCQUFrQixtQ0FBbUMsZ0JBQWdCLFNBQVMsZ0JBQWdCLGtCQUFrQiw2Q0FBNkMsd0NBQXdDLG1DQUFtQyxlQUFlLFFBQVEsU0FBUyw0QkFBNEIsU0FBUyxvTEFBb0wsbUNBQW1DLGVBQWUseUJBQXlCLFNBQVMsNEJBQTRCLE9BQU8saURBQWlELHVFQUF1RSw0Q0FBNEMseUNBQXlDLHNCQUFzQixTQUFTLFVBQVUsUUFBUSxPQUFPLFVBQVUsV0FBVyw4QkFBOEIsT0FBTywrQ0FBK0MseUVBQXlFLDhFQUE4RSwwQkFBMEIsZ0JBQWdCLGdDQUFnQyxPQUFPLGlEQUFpRCwwRUFBMEUsc0RBQXNELGlCQUFpQixrQ0FBa0MsT0FBTywrQ0FBK0MsMEVBQTBFLHlHQUF5RyxRQUFRLGNBQWMsd1VBQXdVLGlDQUFpQyxvQ0FBb0MsUUFBUSwwQkFBMEIsOEVBQThFLElBQUksK0JBQStCLGlEQUFpRCx3RUFBd0UsbUNBQW1DLHVCQUF1Qiw0QkFBNEIsMkNBQTJDLGdCQUFnQiwrQkFBK0IsR0FBRyxlQUFlLDRCQUE0QixzQ0FBc0MsNENBQTRDLFdBQVcsZ0JBQWdCLEdBQUcsR0FBRyxZQUFZLDRCQUE0QixzQ0FBc0MsZ0NBQWdDLHdEQUF3RCxHQUFHLGlCQUFpQixXQUFXLGdCQUFnQixHQUFHLEdBQUcsd0JBQXdCLDRCQUE0Qiw4Q0FBOEMsS0FBSyxXQUFXLGdCQUFnQixXQUFXLG1DQUFtQyxHQUFHLEdBQUcsMEJBQTBCLDRCQUE0QixpREFBaUQsSUFBSSxXQUFXLGdCQUFnQixLQUFLLElBQUksZ0NBQWdDLGtDQUFrQyxpRkFBaUYsVUFBVSxhQUFhLGtJQUFrSSxTQUFTLGVBQWUsNEdBQTRHLFNBQVMsZUFBZSxrR0FBa0csU0FBUyxHQUFHLFFBQVEsY0FBYyxrQkFBa0IsaUZBQWlGLGtHQUFrRyxrQkFBa0Isa0NBQWtDLGtEQUFrRCxPQUFPLElBQUksSUFBSSxLQUFLLFNBQVMsa0JBQWtCLGVBQWUsb0JBQW9CLGtGQUFrRixpQ0FBaUMsUUFBUSxxQkFBcUIseURBQXlELFVBQVUsdUJBQXVCLFdBQVcsd0JBQXdCLEVBQUUsaUJBQWlCLE1BQU0sYUFBYSxNQUFNLGtCQUFrQixVQUFVLDBDQUEwQyw0QkFBNEIseUJBQXlCLDJCQUEyQixrREFBa0QsSUFBSSxlQUFlLHNCQUFzQixtQ0FBbUMsT0FBTyx5QkFBeUIsdURBQXVELFVBQVUsa0JBQWtCLElBQUksT0FBTywrQkFBK0IsU0FBUyxPQUFPLHFCQUFxQixTQUFTLDJFQUEyRSxjQUFjLGNBQWMsY0FBYyxTQUFTLGdCQUFnQixhQUFhLDZDQUE2Qyw2QkFBNkIsK0NBQStDLGNBQWMsK0NBQStDLG1CQUFtQix5QkFBeUIsR0FBRyxHQUFHLGdCQUFnQixvQkFBb0Isa0JBQWtCLHFCQUFxQixzQkFBc0IseUZBQXlGLGdCQUFnQixlQUFlLGlCQUFpQixrQ0FBa0MsZUFBZSxlQUFlLHdCQUF3QixHQUFHLFNBQVMsTUFBTSwyQkFBMkIsYUFBYSw0QkFBNEIsV0FBVyxHQUFHLDRCQUE0QixnQkFBZ0IsMkJBQTJCLFVBQVUsdUNBQXVDLHFGQUFxRix1RkFBdUYsU0FBUyw0QkFBNEIsMEVBQTBFLFlBQVksMk5BQTJOLGNBQWMsT0FBTyxhQUFhLDhGQUE4RixjQUFjLHVCQUF1Qiw0Q0FBNEMsY0FBYyxrQkFBa0IsY0FBYyxtQ0FBbUMsY0FBYyxNQUFNLFdBQVcsc0JBQXNCLHNDQUFzQyxxQkFBcUIsd0JBQXdCLEtBQUssYUFBYSxnREFBZ0QsOEJBQThCLGlCQUFpQixPQUFPLFFBQVEsYUFBYSxPQUFPLGlCQUFpQiw4SEFBOEgsMENBQTBDLGtFQUFrRSxvQkFBb0Isa0lBQWtJLHFCQUFxQixPQUFPLFdBQVcsMENBQTBDLFlBQVksK0NBQStDLHdCQUF3QiwwQkFBMEIsNkRBQTZELCtCQUErQixHQUFHLHlDQUF5QyxZQUFZLHVCQUF1QiwyQkFBMkIsb0JBQW9CLFNBQVMseUJBQXlCLGdDQUFnQyxLQUFLLFNBQVMsRUFBRSxjQUFjLHVDQUF1QyxvQkFBb0IseUJBQXlCLGdDQUFnQyxvT0FBb08saUJBQWlCLGFBQWEsb0NBQW9DLGdDQUFnQyxpQkFBaUIsK0JBQStCLHFCQUFxQixXQUFXLGdCQUFnQix3RUFBd0UsbUNBQW1DLEtBQUssS0FBSyx3Q0FBd0MscUNBQXFDLHdCQUF3QixvREFBb0QsU0FBUyxnREFBZ0QsaURBQWlELFdBQVcsZ0RBQWdELEtBQUssZ0VBQWdFLG9EQUFvRCxzQkFBc0IsbUNBQW1DLEtBQUssS0FBSyx5QkFBeUIsd0VBQXdFLFFBQVEsT0FBTyx5RUFBeUUsd0JBQXdCLHlGQUF5Rix3QkFBd0IsZ0NBQWdDLG9MQUFvTCxvQkFBb0IsbUNBQW1DLEtBQUssS0FBSyx5QkFBeUIsMEVBQTBFLG1CQUFtQixtQ0FBbUMsS0FBSyxLQUFLLHlCQUF5QixpQkFBaUIsbUJBQW1CLHFCQUFxQixZQUFZLEtBQUssVUFBVSx5Q0FBeUMsK0JBQStCLHNCQUFzQixxQ0FBcUMsdUNBQXVDLEdBQUcsWUFBWSxJQUFJLHFCQUFxQixTQUFTLDJDQUEyQyxNQUFNLFdBQVcsWUFBWSxNQUFNLGFBQWEsNk1BQTZNLFNBQVMsR0FBRyxNQUFNLGFBQWEsa05BQWtOLFNBQVMsR0FBRyw0QkFBNEIsRUFBRSxjQUFjLEVBQUUsMkZBQTJGLEVBQUUsc0JBQXNCLEVBQUUsb0NBQW9DLEVBQUUsV0FBVyxFQUFFLHdEQUF3RCxNQUFNLHFFQUFxRSwrREFBK0QsMkJBQTJCLHFDQUFxQyxNQUFNLElBQUksd0JBQXdCLFNBQVMsYUFBYSwyQkFBMkIscUJBQXFCLFFBQVEseUJBQXlCLGFBQWEsU0FBUyxzQkFBc0IsT0FBTyxRQUFRLE1BQU0sa0ZBQWtGLEtBQUssZUFBZSxXQUFXLHVCQUF1QixNQUFNLHNCQUFzQixNQUFNLHNCQUFzQixNQUFNLHdCQUF3QixTQUFTLEtBQUssOERBQThELElBQUksbUNBQW1DLFNBQVMsbUNBQW1DLG9CQUFvQixhQUFhLFNBQVMsSUFBSSx1QkFBdUIsU0FBUyxhQUFhLHdEQUF3RCxLQUFLLDJDQUEyQyxzQkFBc0IsdUJBQXVCLHdDQUF3QyxFQUFFLGFBQWEsSUFBSSwrQkFBK0IsU0FBUyxhQUFhLGNBQWMsMkNBQTJDLEdBQUcseUJBQXlCLElBQUksc0ZBQXNGLGVBQWUsZ0JBQWdCLFNBQVMsY0FBYyxvRUFBb0Usc0RBQXNELE1BQU0sY0FBYyxHQUFHLHVCQUF1QixvQkFBb0Isb0ZBQW9GLCtDQUErQyxTQUFTLDhDQUE4QyxjQUFjLGdCQUFnQiwrRkFBK0YsU0FBUyxnQkFBZ0IsMEVBQTBFLGNBQWMsT0FBTyxxQkFBcUIsNENBQTRDLHVEQUF1RCxjQUFjLHFCQUFxQixxQkFBcUIsNENBQTRDLFdBQVcscUJBQXFCLFdBQVcsc0NBQXNDLHlCQUF5Qiw2QkFBNkIsZ0JBQWdCLGFBQWEsd0RBQXdELGtEQUFrRCxVQUFVLFNBQVMseUJBQXlCLGdCQUFnQix1QkFBdUIscUJBQXFCLHVCQUF1QixxQkFBcUIsZUFBZSxFQUFFLGlCQUFpQixxQkFBcUIsc0JBQXNCLFFBQVEsT0FBTyx3Q0FBd0MsOElBQThJLHdLQUF3SyxNQUFNLGlCQUFpQixnQkFBZ0IsU0FBUyxHQUFHLFFBQVEsa0JBQWtCLHVCQUF1QixnQ0FBZ0MsZ0JBQWdCLDRCQUE0QixXQUFXLG1DQUFtQyxVQUFVLDhCQUE4Qiw2Q0FBNkMsd0xBQXdMLFNBQVMsUUFBUSw4QkFBOEIsNENBQTRDLGlMQUFpTCxTQUFTLFFBQVEsOEJBQThCLDBDQUEwQywyS0FBMkssU0FBUyxRQUFRLDhCQUE4QiwwQ0FBMEMsMktBQTJLLFNBQVMsUUFBUSx5QkFBeUIsa0JBQWtCLDRDQUE0QyxnTEFBZ0wsdUJBQXVCLGNBQWMsNkJBQTZCLHdCQUF3QixJQUFJLHVCQUF1QixJQUFJLHNCQUFzQixJQUFJLHdCQUF3QixJQUFJLDBCQUEwQixtQ0FBbUMscUNBQXFDLDBDQUEwQyxLQUFLLGdCQUFnQixtQ0FBbUMsMEJBQTBCLGdCQUFnQixnQ0FBZ0MsNEJBQTRCLGdCQUFnQixtQ0FBbUMsK0JBQStCLGdCQUFnQiwwQ0FBMEMsMkJBQTJCLHNCQUFzQixXQUFXLFlBQVksWUFBWSxXQUFXLDhCQUE4QixvT0FBb08sTUFBTSxxRkFBcUYsMENBQTBDLEdBQUcsT0FBTyx3Q0FBd0MsNENBQTRDLE1BQU0sNERBQTRELDJEQUEyRCw4QkFBOEIsZ0VBQWdFLHVCQUF1QixNQUFNLFVBQVUsR0FBRyxtRUFBbUUsT0FBTyxpRUFBaUUsYUFBYSxHQUFHLElBQUksdUJBQXVCLFNBQVMsOERBQThELGFBQWEsU0FBUyxvQkFBb0IsNkNBQTZDLHlIQUF5SCxPQUFPLGFBQWEsc0JBQXNCLElBQUksV0FBVywyREFBMkQsTUFBTSw4REFBOEQsTUFBTSxnRUFBZ0UsTUFBTSxzQ0FBc0MsUUFBUSw4QkFBOEIsU0FBUyxNQUFNLHlFQUF5RSxnQkFBZ0IsTUFBTSxPQUFPLEdBQUcsd0VBQXdFLHNHQUFzRyxNQUFNLDRCQUE0QixRQUFRLEdBQUcsRUFBRSxhQUFhLFNBQVMsNkJBQTZCLGdCQUFnQixhQUFhLE1BQU0sZUFBZSxNQUFNLGdCQUFnQixHQUFHLDJFQUEyRSxLQUFLLHFGQUFxRixxREFBcUQsZ0JBQWdCLCtCQUErQixFQUFFLEdBQUcsY0FBYyxFQUFFLFlBQVksK0JBQStCLGtEQUFrRCxTQUFTLDRCQUE0Qix5QkFBeUIsU0FBUyxhQUFhLGNBQWMsT0FBTyxNQUFNLDRCQUE0QixHQUFHLHdCQUF3QixnQkFBZ0IsTUFBTSxPQUFPLEdBQUcsNkVBQTZFLDJHQUEyRyxNQUFNLDRCQUE0QixRQUFRLEdBQUcsRUFBRSxhQUFhLFNBQVMsOEJBQThCLE1BQU0sYUFBYSx3QkFBd0IsU0FBUyxHQUFHLGtCQUFrQixXQUFXLElBQUksZ0NBQWdDLGlDQUFpQyw4QkFBOEIsRUFBRSxTQUFTLDBDQUEwQyxFQUFFLElBQUkseUJBQXlCLElBQUksZUFBZSxNQUFNLCtDQUErQyxjQUFjLG9EQUFvRCxvQ0FBb0MsYUFBYSxNQUFNLHNIQUFzSCx1QkFBdUIsT0FBTyxtQkFBbUIsb0JBQW9CLDRFQUE0RSxzQkFBc0Isb0VBQW9FOzs7Ozs7VUNBM241QjtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHlDQUF5Qyx3Q0FBd0M7V0FDakY7V0FDQTtXQUNBOzs7OztXQ1BBOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RDs7Ozs7Ozs7Ozs7O0FDRDRCO0FBRzVCLElBQUksYUFBOEMsQ0FBQztBQUVuRCxJQUFJLGtCQUFrQixHQUFXLEVBQUUsQ0FBQztBQUNwQyxJQUFJLG1CQUFtQixHQUFXLEVBQUUsQ0FBQztBQUNyQyxJQUFJLGdCQUFnQixHQUFXLEVBQUUsQ0FBQztBQUNsQyxJQUFJLFdBQVcsR0FBVyxFQUFFLENBQUM7QUFFN0IsSUFBSSxVQUFvQyxDQUFDO0FBQ3pDLElBQUksYUFBdUMsQ0FBQztBQUM1QyxJQUFJLFlBQXNDLENBQUM7QUFDM0MsSUFBSSxRQUFrQyxDQUFDO0FBQ3ZDLElBQUksaUJBQTJDLENBQUM7QUFDaEQsSUFBSSxrQkFBNEMsQ0FBQztBQUNqRCxJQUFJLFNBQWdDLENBQUM7QUFFckMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLEtBQUssSUFBSSxFQUFFO0lBQ3RELG9DQUFvQztJQUNwQyxpRUFBYSxFQUFFLENBQUM7SUFFaEIsK0JBQStCO0lBQy9CLGFBQWEsRUFBRSxDQUFDO0FBQ2pCLENBQUMsQ0FBQyxDQUFDO0FBRUg7O0dBRUc7QUFDSCxTQUFTLGFBQWE7SUFDckIsVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQW9CLGFBQWEsQ0FBQyxDQUFDO0lBQ3RFLGFBQWEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFvQixnQkFBZ0IsQ0FBQyxDQUFDO0lBQzVFLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFvQixXQUFXLENBQUMsQ0FBQztJQUN0RSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBb0IsV0FBVyxDQUFDLENBQUM7SUFDbEUsaUJBQWlCLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBb0IsYUFBYSxDQUFDLENBQUM7SUFDN0Usa0JBQWtCLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBb0IsY0FBYyxDQUFDLENBQUM7SUFDL0UsU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQWlCLFlBQVksQ0FBQyxDQUFDO0lBRWpFLElBQUksVUFBVSxFQUFFO1FBQ2YsVUFBVSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTtZQUMvQyxJQUFJLFVBQVUsRUFBRTtnQkFDZixVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzthQUMzQjtZQUNELE1BQU0sb0JBQW9CLEVBQUUsQ0FBQztZQUM3QixXQUFXLEVBQUUsQ0FBQztRQUNmLENBQUMsQ0FBQyxDQUFDO0tBQ0g7SUFDRCxJQUFJLGFBQWEsRUFBRTtRQUNsQixhQUFhLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2xELElBQUksYUFBYSxFQUFFO2dCQUNsQixhQUFhLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzthQUM5QjtZQUNELE1BQU0seUJBQXlCLEVBQUUsQ0FBQztZQUNsQyxXQUFXLEVBQUUsQ0FBQztRQUNmLENBQUMsQ0FBQyxDQUFDO0tBQ0g7SUFDRCxJQUFJLFlBQVksRUFBRTtRQUNqQixZQUFZLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0tBQ2xEO0lBQ0QsSUFBSSxRQUFRLEVBQUU7UUFDYixRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDLENBQUM7S0FDckQ7SUFFRCxJQUFJLGlCQUFpQixFQUFFO1FBQ3RCLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ3RELElBQUksUUFBUSxFQUFFO2dCQUNiLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2FBQ3pCO1lBQ0QsUUFBUSxpQkFBaUIsRUFBRSxLQUFLLEVBQUU7Z0JBQ2pDLEtBQUssV0FBVztvQkFDZixjQUFjLENBQ2IsbUdBQW1HLENBQ25HLENBQUM7b0JBQ0Ysa0JBQWtCLEdBQUcsV0FBVyxDQUFDO29CQUNqQyxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBQztvQkFDckMsV0FBVyxHQUFHLElBQUksQ0FBQztvQkFDbkIsY0FBYyxDQUFDLGtCQUFrQixFQUFFO3dCQUNsQzs0QkFDQyxLQUFLLEVBQUUsTUFBTTs0QkFDYixLQUFLLEVBQUUsYUFBYTt5QkFDcEI7d0JBQ0Q7NEJBQ0MsS0FBSyxFQUFFLE1BQU07NEJBQ2IsS0FBSyxFQUFFLFdBQVc7eUJBQ2xCO3dCQUNEOzRCQUNDLEtBQUssRUFBRSxLQUFLOzRCQUNaLEtBQUssRUFBRSxLQUFLO3lCQUNaO3FCQUNELENBQUMsQ0FBQztvQkFDSCxNQUFNO2dCQUNQLEtBQUssYUFBYTtvQkFDakIsY0FBYyxDQUNiLG1HQUFtRyxDQUNuRyxDQUFDO29CQUNGLGtCQUFrQixHQUFHLGFBQWEsQ0FBQztvQkFDbkMsZ0JBQWdCLEdBQUcsY0FBYyxDQUFDO29CQUNsQyxXQUFXLEdBQUcsS0FBSyxDQUFDO29CQUNwQixjQUFjLENBQUMsa0JBQWtCLEVBQUU7d0JBQ2xDOzRCQUNDLEtBQUssRUFBRSxxQkFBcUI7NEJBQzVCLEtBQUssRUFBRSxxQkFBcUI7eUJBQzVCO3dCQUNEOzRCQUNDLEtBQUssRUFBRSxlQUFlOzRCQUN0QixLQUFLLEVBQUUsZUFBZTt5QkFDdEI7d0JBQ0Q7NEJBQ0MsS0FBSyxFQUFFLGFBQWE7NEJBQ3BCLEtBQUssRUFBRSxhQUFhO3lCQUNwQjtxQkFDRCxDQUFDLENBQUM7b0JBQ0gsTUFBTTtnQkFDUCxLQUFLLGdCQUFnQjtvQkFDcEIsY0FBYyxDQUNiLHlHQUF5RyxDQUN6RyxDQUFDO29CQUNGLGtCQUFrQixHQUFHLGdCQUFnQixDQUFDO29CQUN0QyxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBQztvQkFDckMsV0FBVyxHQUFHLEtBQUssQ0FBQztvQkFDcEIsY0FBYyxDQUFDLGtCQUFrQixFQUFFO3dCQUNsQzs0QkFDQyxLQUFLLEVBQUUsTUFBTTs0QkFDYixLQUFLLEVBQUUsYUFBYTt5QkFDcEI7d0JBQ0Q7NEJBQ0MsS0FBSyxFQUFFLE1BQU07NEJBQ2IsS0FBSyxFQUFFLFdBQVc7eUJBQ2xCO3dCQUNEOzRCQUNDLEtBQUssRUFBRSxLQUFLOzRCQUNaLEtBQUssRUFBRSxLQUFLO3lCQUNaO3FCQUNELENBQUMsQ0FBQztvQkFDSCxNQUFNO2dCQUNQLEtBQUssV0FBVztvQkFDZixjQUFjLENBQ2Isa0dBQWtHLENBQ2xHLENBQUM7b0JBQ0Ysa0JBQWtCLEdBQUcsV0FBVyxDQUFDO29CQUNqQyxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBQztvQkFDckMsV0FBVyxHQUFHLEdBQUcsQ0FBQztvQkFDbEIsY0FBYyxDQUFDLGtCQUFrQixFQUFFO3dCQUNsQzs0QkFDQyxLQUFLLEVBQUUsTUFBTTs0QkFDYixLQUFLLEVBQUUsYUFBYTt5QkFDcEI7d0JBQ0Q7NEJBQ0MsS0FBSyxFQUFFLE1BQU07NEJBQ2IsS0FBSyxFQUFFLFdBQVc7eUJBQ2xCO3dCQUNEOzRCQUNDLEtBQUssRUFBRSxLQUFLOzRCQUNaLEtBQUssRUFBRSxLQUFLO3lCQUNaO3FCQUNELENBQUMsQ0FBQztvQkFDSCxNQUFNO2FBQ1A7WUFDRCxXQUFXLEVBQUUsQ0FBQztRQUNmLENBQUMsQ0FBQyxDQUFDO0tBQ0g7SUFFRCxJQUFJLGtCQUFrQixFQUFFO1FBQ3ZCLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7WUFDbEQsSUFBSSxrQkFBa0IsRUFBRTtnQkFDdkIsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUMsS0FBSyxDQUFDO2dCQUMvQyxJQUFJLG1CQUFtQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ25DLGNBQWMsQ0FDYixXQUFXLGtCQUFrQixXQUFXLGdCQUFnQixtQkFBbUIsV0FBVyxtQkFBbUIsbUJBQW1CLEVBQUUsQ0FDOUgsQ0FBQztpQkFDRjtnQkFDRCxXQUFXLEVBQUUsQ0FBQzthQUNkO1FBQ0YsQ0FBQyxDQUFDLENBQUM7S0FDSDtJQUVELFdBQVcsRUFBRSxDQUFDO0FBQ2YsQ0FBQztBQUVEOztHQUVHO0FBQ0gsS0FBSyxVQUFVLG9CQUFvQjtJQUNsQyxJQUFJO1FBQ0gsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7UUFFckQsSUFBSSxDQUFDLENBQUMsTUFBTSw0RUFBd0IsRUFBRSxDQUFDLEVBQUU7WUFDeEMsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsMENBQTBDLENBQUMsQ0FBQztZQUNwRSxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLGNBQWMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO1lBQzNELE1BQU0sS0FBSyxDQUFDO1NBQ1o7UUFFRCxhQUFhLEdBQUcsTUFBTSwyREFBTyxFQUFFLENBQUM7UUFDaEMsY0FBYyxDQUFDLHVCQUF1QixDQUFDLENBQUM7S0FDeEM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNmLGFBQWEsR0FBRyxTQUFTLENBQUM7UUFDMUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixjQUFjLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDckM7QUFDRixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxLQUFLLFVBQVUseUJBQXlCO0lBQ3ZDLElBQUksYUFBYSxFQUFFO1FBQ2xCLElBQUk7WUFDSCxjQUFjLENBQUMsdUNBQXVDLENBQUMsQ0FBQztZQUN4RCxNQUFNLGFBQWEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNqQztnQkFBUztZQUNULGFBQWEsR0FBRyxTQUFTLENBQUM7WUFDMUIsY0FBYyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7U0FDdkQ7S0FDRDtBQUNGLENBQUM7QUFFRDs7R0FFRztBQUNILEtBQUssVUFBVSxnQkFBZ0I7SUFDOUIsSUFBSSxhQUFhLEVBQUU7UUFDbEIsSUFBSTtZQUNILGNBQWMsQ0FDYixXQUFXLGtCQUFrQixXQUFXLGdCQUFnQixtQkFBbUIsV0FBVyxtQkFBbUIsbUJBQW1CLEVBQUUsQ0FDOUgsQ0FBQztZQUVGLElBQUksTUFBc0IsQ0FBQztZQUUzQixRQUFRLGtCQUFrQixFQUFFO2dCQUMzQixLQUFLLFdBQVc7b0JBQ2YsTUFBTSxHQUFHO3dCQUNSLElBQUksRUFBRSxrQkFBa0I7d0JBQ3hCLE9BQU8sRUFBRTs0QkFDUixJQUFJLEVBQUUsZ0JBQWdCOzRCQUN0QixFQUFFLEVBQUU7Z0NBQ0gsTUFBTSxFQUFFLG1CQUFtQjs2QkFDM0I7eUJBQ0Q7cUJBQ0QsQ0FBQztvQkFDRixNQUFNO2dCQUNQLEtBQUssYUFBYTtvQkFDakIsTUFBTSxHQUFHO3dCQUNSLElBQUksRUFBRSxrQkFBa0I7d0JBQ3hCLE9BQU8sRUFBRTs0QkFDUixJQUFJLEVBQUUsZ0JBQWdCOzRCQUN0QixJQUFJLEVBQUUsbUJBQW1COzRCQUN6QixFQUFFLEVBQUUsRUFBRTt5QkFDTjtxQkFDRCxDQUFDO29CQUNGLE1BQU07Z0JBQ1A7b0JBQ0MsTUFBTSxHQUFHO3dCQUNSLElBQUksRUFBRSxrQkFBa0I7d0JBQ3hCLE9BQU8sRUFBRTs0QkFDUixJQUFJLEVBQUUsZ0JBQWdCOzRCQUN0QixFQUFFLEVBQUU7Z0NBQ0gsTUFBTSxFQUFFLG1CQUFtQjs2QkFDM0I7eUJBQ0Q7cUJBQ0QsQ0FBQztvQkFDRixNQUFNO2FBQ1A7WUFFRCxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN4QztRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2YsY0FBYyxDQUFDLHVDQUF1QyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzlFO0tBQ0Q7U0FBTTtRQUNOLGNBQWMsQ0FBQyxvRkFBb0YsQ0FBQyxDQUFDO0tBQ3JHO0FBQ0YsQ0FBQztBQUVEOztHQUVHO0FBQ0gsU0FBUyxXQUFXO0lBQ25CLE1BQU0sV0FBVyxHQUFHLGFBQWEsS0FBSyxTQUFTLENBQUM7SUFDaEQsSUFBSSxVQUFVLEVBQUU7UUFDZixVQUFVLENBQUMsUUFBUSxHQUFHLFdBQVcsQ0FBQztLQUNsQztJQUNELElBQUksYUFBYSxFQUFFO1FBQ2xCLGFBQWEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxXQUFXLENBQUM7S0FDdEM7SUFDRCxJQUFJLGlCQUFpQixFQUFFO1FBQ3RCLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxDQUFDLFdBQVcsQ0FBQztLQUMxQztJQUNELElBQUksa0JBQWtCLEVBQUU7UUFDdkIsa0JBQWtCLENBQUMsUUFBUSxHQUFHLENBQUMsV0FBVyxJQUFJLGtCQUFrQixDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7S0FDOUU7SUFDRCxJQUFJLFFBQVEsRUFBRTtRQUNiLFFBQVEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxXQUFXLElBQUksbUJBQW1CLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztLQUNyRTtBQUNGLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLGNBQWMsQ0FBQyxJQUFZO0lBQ25DLElBQUksU0FBUyxFQUFFO1FBQ2QsU0FBUyxDQUFDLFdBQVcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxNQUFNLENBQUM7UUFDOUQsU0FBUyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsWUFBWSxDQUFDO0tBQzdDO0FBQ0YsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFTLGFBQWEsQ0FBQyxHQUFZO0lBQ2xDLElBQUksR0FBRyxZQUFZLEtBQUssRUFBRTtRQUN6QixPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUM7S0FDbkI7U0FBTSxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUNuQyxPQUFPLEdBQUcsQ0FBQztLQUNYO0lBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLENBQUM7QUFFRDs7R0FFRztBQUNILFNBQVMsU0FBUztJQUNqQixJQUFJLFNBQVMsRUFBRTtRQUNkLFNBQVMsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQzNCLFNBQVMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO0tBQ3hCO0FBQ0YsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFTLGNBQWMsQ0FBQyxNQUFnQyxFQUFFLE1BQTBDO0lBQ25HLElBQUksTUFBTSxFQUFFO1FBQ1gsTUFBTSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDdEIsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3QyxHQUFHLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLEdBQUcsQ0FBQyxJQUFJLEdBQUcscUJBQXFCLENBQUM7UUFDakMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDcEIsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDcEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVuQixLQUFLLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRTtZQUN6QixNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUN6QixNQUFNLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN0QjtLQUNEO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vYmxvb21iZXJnL29wZW5maW4uYmxvb21iZXJnLmpzIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9pbnRlZ3JhdGUtd2l0aC1ibG9vbWJlcmctYmFzaWMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy8uL2NsaWVudC9zcmMvYmJndGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT17ZDoodCxuKT0+e2Zvcih2YXIgciBpbiBuKWUubyhuLHIpJiYhZS5vKHQscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2VudW1lcmFibGU6ITAsZ2V0Om5bcl19KX0sbzooZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQ9e307ZS5kKHQse01TOigpPT5BcGlFcnJvcix4YzooKT0+QXBwTm90QXV0aG9yaXplZEVycm9yLEJUOigpPT5JbnRlcm9wRXJyb3IsZXo6KCk9PlRlcm1pbmFsQ29tbWFuZEVycm9yLHlXOigpPT5UZXJtaW5hbENvbm5lY3Rpb25FcnJvciwkajooKT0+SCxVJDooKT0+cyxVNzooKT0+YSxHUzooKT0+ayxoTjooKT0+QyxZYzooKT0+QSxlRTooKT0+TyxDMTooKT0+eH0pO2NvbnN0IG49ZT0+e3ZhciB0LG4scixvO2lmKGUgaW5zdGFuY2VvZiBBcGlFcnJvcilyZXR1cm4gZTtzd2l0Y2goITApe2Nhc2UobnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaW5kZXhPZihcIkFQUExJQ0FUSU9OX1ZBTElEQVRJT05cIikpPj0wOnJldHVybiBuZXcgQXBwTm90QXV0aG9yaXplZEVycm9yO2Nhc2UobnVsbD09PShuPW51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW5kZXhPZihcIklOVkFMSURfQ09NTUFORFwiKSk+PTA6Y2FzZShudWxsPT09KHI9bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5pbmRleE9mKFwiSU5WQUxJRF9HUk9VUF9WQUxVRVwiKSk+PTA6Y2FzZShudWxsPT09KG89bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmRleE9mKFwiTU5FTU9OSUNfTk9UX0FMTE9XRURcIikpPj0wOnJldHVybiBuZXcgVGVybWluYWxDb21tYW5kRXJyb3Iodm9pZCAwLGUpO2Nhc2VcIltvYmplY3QgT2JqZWN0XVwiPT09KG51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSk6cmV0dXJuIG5ldyBUZXJtaW5hbENvbm5lY3Rpb25FcnJvcjtkZWZhdWx0OnJldHVybiBuZXcgQXBpRXJyb3Iodm9pZCAwLGUpfX07Y2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIix0KXt2YXIgbjtzdXBlcihlKSx0JiYodGhpcy5pbm5lckVycm9yPXQpLHRoaXMuc3RhY2s9bnVsbD09PShuPXRoaXMuc3RhY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlcGxhY2UoL14oXFx3KkVycm9yKS8sYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfX1jbGFzcyBBcHBOb3RBdXRob3JpemVkRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiQXBwIG5vdCBhdXRob3JpemVkIHRvIHVzZSBUZXJtaW5hbCBDb25uZWN0IEFQSVwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIEludGVyb3BFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJGYWlsZWQgdG8gZXhlY3V0ZSB0aGUgaW50ZXJvcCBmdW5jdGlvblwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIFRlcm1pbmFsQ29tbWFuZEVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZT1cIkZhaWxlZCB0byBleGVjdXRlIHRoZSB0ZXJtaW5hbCBjb21tYW5kXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgVGVybWluYWxDb25uZWN0aW9uRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gbG9jYWwgdGVybWluYWwgc2VydmljZVwiLHQpe3N1cGVyKGUsdCl9fWNvbnN0IHI9XCIxLjEuMFwiO2xldCBvPSExO2NvbnN0IGk9XCJbQG9wZW5maW4vYmxvb21iZXJnXVwiLHM9KCk9PntvPSExfSxhPSgpPT57bz0hMCx1KGB2JHtyfWApfSxjPShlLHQpPT57byYmKGUuaW5uZXJFcnJvcj9jb25zb2xlLmVycm9yKHQ/YCR7aX0gJHt0fWA6aSxlLFwiXFxuXFxuKGlubmVyKVwiLGUuaW5uZXJFcnJvcik6Y29uc29sZS5lcnJvcih0P2Ake2l9ICR7dH1gOmksZSkpfSx1PSguLi5lKT0+e28mJmNvbnNvbGUubG9nKGksLi4uZSl9LGw9KC4uLmUpPT57byYmY29uc29sZS53YXJuKGksLi4uZSl9O1widW5kZWZpbmVkXCI9PXR5cGVvZiBmaW4mJk9iamVjdC5hc3NpZ24od2luZG93LHtmaW46e319KSxPYmplY3QuYXNzaWduKGZpbix7SW50ZWdyYXRpb25zOntCbG9vbWJlcmc6e2VuYWJsZUxvZ2dpbmc6YSxkaXNhYmxlTG9nZ2luZzpzfX19KTtjbGFzcyBwe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl9sYXN0VXBkYXRlPTAsdGhpcy5fc2VjdXJpdHlDYWNoZUV4cGlyYXRpb249MTVlMyx0aGlzLl9zZWN1cml0eUNhY2hlPVwiXCIsdGhpcy5fbmFtZT10LHRoaXMuX3R5cGU9bix0aGlzLl90ZXJtaW5hbFByb3h5PWV9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl90eXBlfWdldFNlY3VyaXR5KCl7cmV0dXJuIG5ldyBQcm9taXNlKCgoZSx0KT0+e3RoaXMuX3Rlcm1pbmFsUHJveHkuZ2V0QWxsR3JvdXBzKChuPT57Y29uc3Qgcj1uLmZpbmQoKGU9PmUubmFtZT09PXRoaXMuX25hbWUpKTtyPyh0aGlzLl9zZWN1cml0eUNhY2hlPXIuc2VjdXJpdHksdGhpcy5fbGFzdFVwZGF0ZT0obmV3IERhdGUpLmdldFRpbWUoKSxlKHRoaXMuX3NlY3VyaXR5Q2FjaGUpKTp0KG5ldyBFcnJvcihgR3JvdXAgJHtuYW1lfSBpcyBub3QgZm91bmQuYCkpfSksKChlLG4pPT57dChuZXcgRXJyb3IobikpfSkpfSkpfWdldENhY2hlZFNlY3VyaXR5KCl7cmV0dXJuIG5ldyBQcm9taXNlKChhc3luYyhlLHQpPT57Y29uc3Qgbj0obmV3IERhdGUpLmdldFRpbWUoKTsoIXRoaXMuX3NlY3VyaXR5Q2FjaGV8fCF0aGlzLl9sYXN0VXBkYXRlfHxuLXRoaXMuX2xhc3RVcGRhdGU+dGhpcy5fc2VjdXJpdHlDYWNoZUV4cGlyYXRpb24pJiZhd2FpdCB0aGlzLmdldFNlY3VyaXR5KCksZSh0aGlzLl9zZWN1cml0eUNhY2hlKX0pKX1zZXRTZWN1cml0eShlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoKG4scik9Pnt0aGlzLl90ZXJtaW5hbFByb3h5LnNldEdyb3VwU2VjdXJpdHkoKCgpPT57dGhpcy5fc2VjdXJpdHlDYWNoZT1lLHRoaXMuX2xhc3RVcGRhdGU9KG5ldyBEYXRlKS5nZXRUaW1lKCksbigpfSksKChlLHQpPT57cihuZXcgRXJyb3IodCkpfSksdGhpcy5fbmFtZSxlLHQpfSkpfX1mdW5jdGlvbiBkKGUpe2NvbnN0IHQ9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiO2xldCBuLHIsbyxpLHMsYSxjLHU9XCJcIixsPTA7Zm9yKDtsPGUubGVuZ3RoOyluPWUuY2hhckNvZGVBdChsKyspLHI9ZS5jaGFyQ29kZUF0KGwrKyksbz1lLmNoYXJDb2RlQXQobCsrKSxpPW4+PjIscz0oMyZuKTw8NHxyPj40LGE9KDE1JnIpPDwyfG8+PjYsYz02MyZvLGlzTmFOKHIpP2E9Yz02NDppc05hTihvKSYmKGM9NjQpLHU9dSt0LmNoYXJBdChpKSt0LmNoYXJBdChzKSt0LmNoYXJBdChhKSt0LmNoYXJBdChjKTtyZXR1cm4gdX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5fc2VxTnVtYmVyPTAsdGhpcy5faXNDb25uZWN0aW5nPSExLHRoaXMuX2lzQ29ubmVjdGVkPSExLHRoaXMuX2lzUmVnaXN0ZXJlZD0hMSx0aGlzLl9zZXNzaW9uSWQ9XCJcIix0aGlzLl9xdWV1ZWRSZXF1ZXN0cz1bXSx0aGlzLl9wZW5kaW5nUmVxdWVzdHM9e30sdGhpcy5fbWluUG9ydFJhbmdlPTUxODAwLHRoaXMuX21heFBvcnRSYW5nZT01MTgyMCx0aGlzLl9jdXJyZW50UG9ydD01MTgwMCx0aGlzLl9yZXNwb25zZVRpbWVvdXQ9MTVlMyx0aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zPXt9LHRoaXMuX2dyb3VwRXZlbnRTdWJzY3JpcHRpb25zPXt9LHRoaXMuc2VuZFJlbW90ZU1lc3NhZ2U9KGUsdCxuLHIpPT57aWYodGhpcy5faXNSZWdpc3RlcmVkfHxlLnJlZ2lzdGVyfHx0aGlzLnNlbmRSZW1vdGVNZXNzYWdlKHtyZWdpc3Rlcjp7fX0sMTIsbnVsbCxjb25zb2xlLmVycm9yKSx0aGlzLl9zZXNzaW9uSWR8fCh0aGlzLl9zZXNzaW9uSWQ9YHske2Z1bmN0aW9uKCl7Y29uc3QgZT1cIjAxMjM0NTY3ODlBQkNERUZcIi5zcGxpdChcIlwiKTtsZXQgdCxuPVtdLHI9TWF0aC5yYW5kb207bls4XT1uWzEzXT1uWzE4XT1uWzIzXT1cIi1cIixuWzE0XT1cIjRcIjtmb3IodmFyIG89MDtvPDM2O28rKyluW29dfHwodD0wfDE2KnIoKSxuW29dPWVbMTk9PW8/MyZ0fDg6MTUmdF0pO3JldHVybiBuLmpvaW4oXCJcIil9KCl9fWApLGUuc2V0R3JvdXBWYWx1ZSYmIWUuc2V0R3JvdXBWYWx1ZS5jb29raWUmJihlLnNldEdyb3VwVmFsdWUuY29va2llPXRoaXMuX3Nlc3Npb25JZCksZS5zdWJzY3JpYmVHcm91cEV2ZW50cyl7Y29uc3QgdD1lLnN1YnNjcmliZUdyb3VwRXZlbnRzLnN1YklkO2RlbGV0ZSBlLnN1YnNjcmliZUdyb3VwRXZlbnRzLnN1YklkLHI9ZT0+e2RlbGV0ZSB0aGlzLl9ncm91cEV2ZW50U3Vic2NyaXB0aW9uc1t0XSxyJiZyKGUpfX1jb25zdCBvPXtzZXNzaW9uSWQ6dGhpcy5fc2Vzc2lvbklkLGNvcnJlbGF0aW9uSWQ6Kyt0aGlzLl9zZXFOdW1iZXIscmVxdWVzdDplfSxpPUpTT04uc3RyaW5naWZ5KG8pLHM9dD4xMixhPXM/e2FwcElkOm8uYXBwSWQsc2Vzc2lvbklkOm8uc2Vzc2lvbklkLGNvcnJlbGF0aW9uSWQ6by5jb3JyZWxhdGlvbklkLHBheWxvYWRTY2hlbWFOYW1lOlwiYXAzZ19pbnRlcm5hbFwiLHBheWxvYWRTY2hlbWFWZXJzaW9uOjIscGF5bG9hZE1zZ1R5cGU6dCxwYXlsb2FkOmQoaSl9OnZvaWQgMCxjPXtlbnZlbG9wZTp7c2NoZW1hTmFtZTpzP1wiYmxwX2xwYWRfbXNnXCI6XCJibHBfcmVtb3RlX2NvbnRyb2xsZXJcIixzY2hlbWFWZXJzaW9uOjIsbWVzc2FnZTpzP0pTT04uc3RyaW5naWZ5KGEpOml9LGNvcnJlbGF0aW9uSWQ6by5jb3JyZWxhdGlvbklkLGV4cGVjdFJlc3BvbnNlOiEwLG9uc3VjY2VzczpuLG9uZXJyb3I6cn07dGhpcy5fcGVuZGluZ1JlcXVlc3RzW28uY29ycmVsYXRpb25JZF09Yyx0aGlzLl9pc0Nvbm5lY3RlZD90aGlzLnNlbmRSZXF1ZXN0KGMpOih0aGlzLl9xdWV1ZWRSZXF1ZXN0cy5wdXNoKGMpLHRoaXMuY29ubmVjdCgpKX19YWRkRXZlbnRMaXN0ZW5lcihlKXtjb25zdCB0PU9iamVjdC5rZXlzKHRoaXMuX2dyb3VwRXZlbnRTdWJzY3JpcHRpb25zKS5sZW5ndGgrMTtyZXR1cm4gdGhpcy5fZ3JvdXBFdmVudFN1YnNjcmlwdGlvbnNbdF09ZSx0fXJlbW92ZUV2ZW50TGlzdGVuZXIoZSl7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ncm91cEV2ZW50U3Vic2NyaXB0aW9uc1tlXSxPYmplY3Qua2V5cyh0aGlzLl9ncm91cEV2ZW50U3Vic2NyaXB0aW9ucykubGVuZ3RofWFkZERpc2Nvbm5lY3RFdmVudExpc3RlbmVyKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXModGhpcy5fZGlzY29ubmVjdEV2ZW50U3Vic2NyaXB0aW9ucykubGVuZ3RoKzE7cmV0dXJuIHRoaXMuX2Rpc2Nvbm5lY3RFdmVudFN1YnNjcmlwdGlvbnNbdF09ZSx0fXJlbW92ZURpc2Nvbm5lY3RFdmVudExpc3RlbmVyKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXModGhpcy5fZGlzY29ubmVjdEV2ZW50U3Vic2NyaXB0aW9ucykubGVuZ3RoO2RlbGV0ZSB0aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zW2VdO3JldHVybiB0IT09T2JqZWN0LmtleXModGhpcy5fZGlzY29ubmVjdEV2ZW50U3Vic2NyaXB0aW9ucykubGVuZ3RofXNlbmRSZXF1ZXN0KGUpe2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZS5lbnZlbG9wZSk7dGhpcy5fd2ViU29ja2V0JiZ0aGlzLl93ZWJTb2NrZXQuc2VuZCh0KSxlLmV4cGVjdFJlc3BvbnNlP3NldFRpbWVvdXQoKCgpPT57dGhpcy5fcGVuZGluZ1JlcXVlc3RzW2UuY29ycmVsYXRpb25JZF0mJihkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW2UuY29ycmVsYXRpb25JZF0sZS5vbmVycm9yJiZlLm9uZXJyb3IoMCxcIlJlc3BvbnNlIFRpbWVvdXRcIikpfSksdGhpcy5fcmVzcG9uc2VUaW1lb3V0KTpkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW2UuY29ycmVsYXRpb25JZF19Y29ubmVjdCgpe3RyeXtpZih0aGlzLl9pc0Nvbm5lY3RpbmcpcmV0dXJuO3RoaXMuX2lzQ29ubmVjdGluZz0hMCx0aGlzLl93ZWJTb2NrZXQ9bmV3IFdlYlNvY2tldChcIndzOi8vbG9jYWxob3N0OlwiK3RoaXMuX2N1cnJlbnRQb3J0LFwidGVybWluYWxfYXBpXCIpLHRoaXMuX3dlYlNvY2tldC5vbm9wZW49dGhpcy5vbldlYlNvY2tldE9wZW4uYmluZCh0aGlzKSx0aGlzLl93ZWJTb2NrZXQub25tZXNzYWdlPXRoaXMub25XZWJTb2NrZXRNZXNzYWdlLmJpbmQodGhpcyksdGhpcy5fd2ViU29ja2V0Lm9uY2xvc2U9dGhpcy5vbldlYlNvY2tldENsb3NlLmJpbmQodGhpcyksdGhpcy5fd2ViU29ja2V0Lm9uZXJyb3I9dGhpcy5vbldlYlNvY2tldEVycm9yLmJpbmQodGhpcyl9Y2F0Y2goZSl7dGhpcy5fd2ViU29ja2V0PXZvaWQgMCx0aGlzLmNhbmNlbFBlbmRpbmdSZXF1ZXN0cyhcIldlYlNvY2tldCBFeGNlcHRpb24gXCIrZSksY29uc29sZS5lcnJvcihlKX19Y2FuY2VsUGVuZGluZ1JlcXVlc3RzKGUpe3RoaXMuX2lzQ29ubmVjdGVkPSExLHRoaXMuX2lzQ29ubmVjdGluZz0hMSx0aGlzLl9pc1JlZ2lzdGVyZWQ9ITEsdGhpcy5fc2Vzc2lvbklkPVwiXCI7Zm9yKGxldCB0IGluIHRoaXMuX3BlbmRpbmdSZXF1ZXN0cyl7Y29uc3Qgbj10aGlzLl9wZW5kaW5nUmVxdWVzdHNbdF07biYmbi5vbmVycm9yJiZuLm9uZXJyb3IoMCxlKX10aGlzLl9wZW5kaW5nUmVxdWVzdHM9e319b25XZWJTb2NrZXRDbG9zZShlKXtpZihjb25zb2xlLmxvZyhcIldlYlNvY2tldCBDbG9zZWQ7IFJlYXNvbjogXCIrZS5yZWFzb24rXCIsIENvZGU6IFwiK2UuY29kZStcIiwgV2FzQ2xlYW46IFwiK2Uud2FzQ2xlYW4pLHRoaXMuX2lzQ29ubmVjdGVkKXtjb25zdCB0PXt9O2UmJnZvaWQgMCE9PWUucmVhc29uJiYodC5yZWFzb249ZS5yZWFzb24pLGUmJnZvaWQgMCE9PWUuY29kZSYmKHQuY29kZT1lLmNvZGUpLGUmJnZvaWQgMCE9PWUud2FzQ2xlYW4mJih0Lndhc0NsZWFuPWUud2FzQ2xlYW4pLHRoaXMuX2N1cnJlbnRQb3J0PXRoaXMuX21pblBvcnRSYW5nZSx0aGlzLmNhbmNlbFBlbmRpbmdSZXF1ZXN0cyh7c3RhdHVzOlwiZXJyb3JcIixtZXNzYWdlOlwiQ29ubmVjdGlvbiBDbG9zZWRcIixkZXRhaWxzOnR9KTtmb3IobGV0IGUgaW4gdGhpcy5fZGlzY29ubmVjdEV2ZW50U3Vic2NyaXB0aW9ucyl7Y29uc3QgdD10aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zW2VdO3QmJnQoZSl9fX1vbldlYlNvY2tldEVycm9yKCl7aWYoY29uc29sZS5sb2coXCJXZWJTb2NrZXQgRXJyb3I7ICByZWFkeVN0YXRlOiBcIisodGhpcy5fd2ViU29ja2V0JiZ0aGlzLl93ZWJTb2NrZXQucmVhZHlTdGF0ZSkpLHRoaXMuX2lzQ29ubmVjdGluZz0hMSx0aGlzLl9jdXJyZW50UG9ydDx0aGlzLl9tYXhQb3J0UmFuZ2UpdGhpcy5fY3VycmVudFBvcnQrPTEsdGhpcy5jb25uZWN0KCk7ZWxzZXt0aGlzLl9jdXJyZW50UG9ydD10aGlzLl9taW5Qb3J0UmFuZ2U7Y29uc3QgZT17cmVhZHlTdGF0ZTp0aGlzLl93ZWJTb2NrZXQmJnRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlfTt0aGlzLmNhbmNlbFBlbmRpbmdSZXF1ZXN0cyh7c3RhdHVzOlwiZXJyb3JcIixtZXNzYWdlOlwiQ29ubmVjdGlvbiBFcnJvclwiLGRldGFpbHM6ZX0pfX1vbldlYlNvY2tldE9wZW4oKXtmb3IodGhpcy5faXNDb25uZWN0ZWQ9ITAsdGhpcy5faXNDb25uZWN0aW5nPSExO3RoaXMuX3F1ZXVlZFJlcXVlc3RzLmxlbmd0aD4wOyl0aGlzLnNlbmRSZXF1ZXN0KHRoaXMuX3F1ZXVlZFJlcXVlc3RzLnNoaWZ0KCkpfW9uV2ViU29ja2V0TWVzc2FnZShlKXt2YXIgdD1lJiZlLmRhdGE/ZS5kYXRhOlwibnVsbFwiLG49SlNPTi5wYXJzZSh0KSxyPW4/SlNPTi5wYXJzZShuLm1lc3NhZ2UpOm51bGwsbz1yJiZyLnJlc3BvbnNlP3RoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyLmNvcnJlbGF0aW9uSWRdOm51bGw7byYmZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyLmNvcnJlbGF0aW9uSWRdLHRoaXMucHJvY2Vzc1Jlc3BvbnNlKG8sci5yZXNwb25zZSl9Z2V0R3JvdXBJbmZvKGUpe3JldHVybiBlP3tuYW1lOmUubmFtZSx0eXBlOmUudHlwZSxzZWN1cml0eTpcInNlY3VyaXR5XCI9PT1lLnR5cGUmJmUudmFsdWU/ZS52YWx1ZTp2b2lkIDB9Ont9fXByb2Nlc3NSZXNwb25zZShlLHQpe2lmKHQuc3VjY2VzcyllLm9uc3VjY2VzcyYmZS5vbnN1Y2Nlc3MoKTtlbHNlIGlmKHQucmVnaXN0cmF0aW9uQ29tcGxldGUpdGhpcy5faXNSZWdpc3RlcmVkPSEwLGNvbnNvbGUubG9nKFwiUmVnaXN0cmF0aW9uIENvbXBsZXRlOyBTZXNzaW9uOiBcIit0aGlzLl9zZXNzaW9uSWQpLGUub25zdWNjZXNzJiZlLm9uc3VjY2VzcygpO2Vsc2UgaWYodC5nZXRBbGxHcm91cHMpe2NvbnN0IG49dC5nZXRBbGxHcm91cHMuZ3JvdXA7ZS5vbnN1Y2Nlc3MmJmUub25zdWNjZXNzKG4/bi5tYXAodGhpcy5nZXRHcm91cEluZm8pOltdKX1lbHNlIGlmKHQuZ3JvdXBWYWx1ZSllLm9uc3VjY2VzcyYmZS5vbnN1Y2Nlc3ModGhpcy5nZXRHcm91cEluZm8odC5ncm91cFZhbHVlLmdyb3VwKSk7ZWxzZSBpZih0Lmdyb3VwRXZlbnQpe2lmKHQuZ3JvdXBFdmVudC52YWx1ZUNoYW5nZWQpe2NvbnN0IGU9dC5ncm91cEV2ZW50LnZhbHVlQ2hhbmdlZC5ncm91cCxuPXQuZ3JvdXBFdmVudC52YWx1ZUNoYW5nZWQuY29va2llPT09dGhpcy5fc2Vzc2lvbklkP3ZvaWQgMDp0Lmdyb3VwRXZlbnQudmFsdWVDaGFuZ2VkLmNvb2tpZTtmb3IobGV0IHQgaW4gdGhpcy5fZ3JvdXBFdmVudFN1YnNjcmlwdGlvbnMpe2NvbnN0IHI9dGhpcy5fZ3JvdXBFdmVudFN1YnNjcmlwdGlvbnNbdF07ciYmcihlLG4pfX19ZWxzZSBlLm9uZXJyb3ImJmUub25lcnJvcih0LmZhaWx1cmUmJnQuZmFpbHVyZS5jb2RlfHwwLHQuZmFpbHVyZT9gJHt0LmZhaWx1cmUubWVzc2FnZX0gJHt0LmZhaWx1cmUuaHVtYW5NZXNzYWdlfWA6XCJVbmtub3duIFJlc3BvbnNlXCIpfX1jbGFzcyBne2NvbnN0cnVjdG9yKCl7dGhpcy5fd2ViU29ja2V0PW5ldyBofXJ1bkZ1bmN0aW9uKGUsdCxuLHIsbyxpLHMsYSl7bGV0IGM9XCJcIjtpZihuJiZuLmxlbmd0aD8xIT09ciYmMiE9PXImJjMhPT1yJiY0IT09ciYmNSE9PXImJihjPVwiSW52YWxpZCBPciBNaXNzaW5nIFBhcmFtZXRlcjogcGFuZWxcIik6Yz1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IG1uZW1vbmljXCIsYylyZXR1cm4gY29uc29sZS5lcnJvcihcInJ1bkZ1bmN0aW9uSW5QYW5lbCBlcnJvcjogXCIrYyksdm9pZCh0JiZ0KDAsYykpO2NvbnN0IHU9e3J1bkZ1bmN0aW9uSW5QYW5lbDp7bW5lbW9uaWM6bixwYW5lbDpyfX07aWYobyl7Y29uc3QgZT1bXTtlLnB1c2gobyksaSYmZS5wdXNoKGkpLHUucnVuRnVuY3Rpb25JblBhbmVsLnNlY3VyaXRpZXM9ZX1zJiYodS5ydW5GdW5jdGlvbkluUGFuZWwudGFpbHM9cyksYSYmKHUucnVuRnVuY3Rpb25JblBhbmVsLmFwcGxpY2F0aW9uUHJvcGVydGllcz1hKSx0aGlzLl93ZWJTb2NrZXQuc2VuZFJlbW90ZU1lc3NhZ2UodSwwLGUsdCl9Z2V0QWxsR3JvdXBzKGUsdCl7dGhpcy5fd2ViU29ja2V0LnNlbmRSZW1vdGVNZXNzYWdlKHtnZXRBbGxHcm91cHM6e319LDEzLGUsdCl9Z2V0R3JvdXAoZSx0LG4pe2lmKCFufHwhbi5sZW5ndGgpe2NvbnN0IGU9XCJJbnZhbGlkIE9yIE1pc3NpbmcgUGFyYW1ldGVyOiBuYW1lXCI7cmV0dXJuIGNvbnNvbGUuZXJyb3IoZSksdm9pZCh0JiZ0KDAsZSkpfXRoaXMuX3dlYlNvY2tldC5zZW5kUmVtb3RlTWVzc2FnZSh7Z2V0R3JvdXBWYWx1ZTp7bmFtZTpufX0sMTUsZSx0KX1zZXRHcm91cFNlY3VyaXR5KGUsdCxuLHIsbyl7bGV0IGk9XCJcIjtpZihuJiZuLmxlbmd0aD9yJiZyLmxlbmd0aHx8KGk9XCJJbnZhbGlkIE9yIE1pc3NpbmcgUGFyYW1ldGVyOiBzZWN1cml0eVwiKTppPVwiSW52YWxpZCBPciBNaXNzaW5nIFBhcmFtZXRlcjogbmFtZVwiLGkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJzZXRHcm91cENvbnRleHQgZXJyb3I6IFwiK2kpLHZvaWQodCYmdCgwLGkpKTt0aGlzLl93ZWJTb2NrZXQuc2VuZFJlbW90ZU1lc3NhZ2Uoe3NldEdyb3VwVmFsdWU6e25hbWU6bix2YWx1ZTpyLGNvb2tpZTpvfX0sMTQsZSx0KX1zdWJzY3JpYmVHcm91cEV2ZW50cyhlLHQsbil7aWYoIW4pe2NvbnN0IGU9XCJJbnZhbGlkIE9yIE1pc3NpbmcgUGFyYW1ldGVyOiBjYWxsYmFja1wiO3JldHVybiBjb25zb2xlLmVycm9yKFwic3Vic2NyaWJlR3JvdXBFdmVudHMgZXJyb3I6IFwiK2UpLHZvaWQodCYmdCgwLGUpKX1jb25zdCByPXRoaXMuX3dlYlNvY2tldC5hZGRFdmVudExpc3RlbmVyKG4pOzE9PT1yP3RoaXMuX3dlYlNvY2tldC5zZW5kUmVtb3RlTWVzc2FnZSh7c3Vic2NyaWJlR3JvdXBFdmVudHM6e3N1YklkOnJ9fSwxNiwoKCk9PntlJiZlKHIpfSksKGU9Pnt0JiZ0KDAsZSl9KSk6ZSYmZShyKX11bnN1YnNjcmliZUdyb3VwRXZlbnRzKGUsdCxuKXtpZighbil7Y29uc3QgZT1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IGNvb2tpZVwiO3JldHVybiBjb25zb2xlLmVycm9yKFwidW5zdWJzY3JpYmVHcm91cEV2ZW50cyBlcnJvcjogXCIrZSksdm9pZCh0JiZ0KDAsZSkpfTA9PT10aGlzLl93ZWJTb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuKT90aGlzLl93ZWJTb2NrZXQuc2VuZFJlbW90ZU1lc3NhZ2Uoe3Vuc3Vic2NyaWJlR3JvdXBFdmVudHM6e319LDE3LGUsdCk6ZSYmZSgpfXN1YnNjcmliZURpc2Nvbm5lY3RFdmVudChlLHQsbil7aWYoIW4pe2NvbnN0IGU9XCJJbnZhbGlkIE9yIE1pc3NpbmcgUGFyYW1ldGVyOiBjYWxsYmFja1wiO3JldHVybiBjb25zb2xlLmVycm9yKFwic3Vic2NyaWJlRGlzY29ubmVjdEV2ZW50IGVycm9yOiBcIitlKSx0JiZ0KDAsZSksbnVsbH1jb25zdCByPXRoaXMuX3dlYlNvY2tldC5hZGREaXNjb25uZWN0RXZlbnRMaXN0ZW5lcihuKTtyZXR1cm4gZSYmZShyKSxyfXVuc3Vic2NyaWJlRGlzY29ubmVjdEV2ZW50KGUsdCxuKXtpZighbil7Y29uc3QgZT1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IGNvb2tpZVwiO3JldHVybiBjb25zb2xlLmVycm9yKFwidW5zdWJzY3JpYmVEaXNjb25uZWN0RXZlbnQgZXJyb3I6IFwiK2UpLHQmJnQoMCxlKSwhMX1yZXR1cm4gdGhpcy5fd2ViU29ja2V0LnJlbW92ZURpc2Nvbm5lY3RFdmVudExpc3RlbmVyKG4pPyhlJiZlKCksITApOih0JiZ0KDAsXCJJbnZhbGlkIFN1YnNjcmlwdGlvblwiKSwhMSl9fWNsYXNzIGZ7Y29uc3RydWN0b3IoKXt0aGlzLnJ1bkZ1bmN0aW9uPXdpbmRvdy5iYi5hcHBzLnRjLnJ1bkZ1bmN0aW9uLHRoaXMuZ2V0R3JvdXA9d2luZG93LmJiLmFwcHMudGMuZ2V0R3JvdXAsdGhpcy5zZXRHcm91cFNlY3VyaXR5PXdpbmRvdy5iYi5hcHBzLnRjLnNldEdyb3VwU2VjdXJpdHksdGhpcy5nZXRBbGxHcm91cHM9d2luZG93LmJiLmFwcHMudGMuZ2V0QWxsR3JvdXBzLHRoaXMuc3Vic2NyaWJlR3JvdXBFdmVudHM9d2luZG93LmJiLmFwcHMudGMuc3Vic2NyaWJlR3JvdXBFdmVudHMsdGhpcy51bnN1YnNjcmliZUdyb3VwRXZlbnRzPXdpbmRvdy5iYi5hcHBzLnRjLnVuc3Vic2NyaWJlR3JvdXBFdmVudHN9c3Vic2NyaWJlRGlzY29ubmVjdEV2ZW50KGUsdCxuKXt9dW5zdWJzY3JpYmVEaXNjb25uZWN0RXZlbnQoZSx0LG4pe319Y2xhc3MgbXtjb25zdHJ1Y3RvcihlPSFmdW5jdGlvbigpe3JldHVybiEhKHdpbmRvdy5iYiYmd2luZG93LmJiLmFwcHMmJndpbmRvdy5iYi5hcHBzLmFwcCYmd2luZG93LmJiLmFwcHMuZXZlbnQpfSgpKXt0aGlzLl9oZWxwZXJTZXRHcm91cFZhbHVlcz1lPT57Y29uc3QgdD1uZXcgcCh0aGlzLl90ZXJtaW5hbFByb3h5LGUubmFtZSxlLnR5cGUpO3JldHVybiB0Ll9zZWN1cml0eUNhY2hlPWUuc2VjdXJpdHksdC5fbGFzdFVwZGF0ZT0obmV3IERhdGUpLmdldFRpbWUoKSx0fSx0aGlzLl90ZXJtaW5hbFByb3h5PWU/bmV3IGc6bmV3IGZ9cnVuRnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gbmV3IFByb21pc2UoKChpLHMpPT57dGhpcy5fdGVybWluYWxQcm94eS5ydW5GdW5jdGlvbihpLCgoZSx0KT0+e3MobmV3IEVycm9yKHQpKX0pLGUsdCxufHxudWxsLHJ8fG51bGwsb3x8bnVsbCl9KSl9Z2V0QWxsR3JvdXBzKCl7cmV0dXJuIG5ldyBQcm9taXNlKCgoZSx0KT0+e3RoaXMuX3Rlcm1pbmFsUHJveHkuZ2V0QWxsR3JvdXBzKCh0PT57ZShBcnJheS5mcm9tKHQsdGhpcy5faGVscGVyU2V0R3JvdXBWYWx1ZXMpKX0pLCgoZSxuKT0+e3QobmV3IEVycm9yKG4pKX0pKX0pKX1nZXRHcm91cChlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57dGhpcy5fdGVybWluYWxQcm94eS5nZXRBbGxHcm91cHMoKHI9Pntjb25zdCBvPXIuZmluZCgodD0+dC5uYW1lPT09ZSkpO28/dCh0aGlzLl9oZWxwZXJTZXRHcm91cFZhbHVlcyhvKSk6bihuZXcgRXJyb3IoYEdyb3VwICR7ZX0gaXMgbm90IGZvdW5kLmApKX0pLCgoZSx0KT0+e24obmV3IEVycm9yKHQpKX0pKX0pKX1zdWJzY3JpYmVHcm91cEV2ZW50cyhlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57dGhpcy5fdGVybWluYWxQcm94eS5zdWJzY3JpYmVHcm91cEV2ZW50cygoZT0+e3QoZSl9KSwoKGUsdCk9PntuKG5ldyBFcnJvcih0KSl9KSwoKHQsbik9PntlKHRoaXMuX2hlbHBlclNldEdyb3VwVmFsdWVzKHQpLG4pfSkpfSkpfXVuc3Vic2NyaWJlR3JvdXBFdmVudHMoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxuKT0+e3RoaXMuX3Rlcm1pbmFsUHJveHkudW5zdWJzY3JpYmVHcm91cEV2ZW50cygoKCk9Pnt0KCl9KSwoKGUsdCk9PntuKG5ldyBFcnJvcih0KSl9KSxlKX0pKX19Y29uc3Qgdj0od2luZG93LkJCPXdpbmRvdy5CQnx8e30sd2luZG93LkJCLkFwcHM9d2luZG93LkJCLkFwcHN8fHt9LHdpbmRvdy5CQi5BcHBzLlRlcm1pbmFsPXdpbmRvdy5CQi5BcHBzLlRlcm1pbmFsfHxuZXcgbSx3aW5kb3cuQkIuQXBwcy5UZXJtaW5hbCk7dmFyIGIseSx3OyFmdW5jdGlvbihlKXtlLkFwcE5vdEZvdW5kPVwiQXBwTm90Rm91bmRcIixlLkVycm9yT25MYXVuY2g9XCJFcnJvck9uTGF1bmNoXCIsZS5BcHBUaW1lb3V0PVwiQXBwVGltZW91dFwiLGUuUmVzb2x2ZXJVbmF2YWlsYWJsZT1cIlJlc29sdmVyVW5hdmFpbGFibGVcIn0oYnx8KGI9e30pKSxmdW5jdGlvbihlKXtlLk5vQXBwc0ZvdW5kPVwiTm9BcHBzRm91bmRcIixlLlJlc29sdmVyVW5hdmFpbGFibGU9XCJSZXNvbHZlclVuYXZhaWxhYmxlXCIsZS5SZXNvbHZlclRpbWVvdXQ9XCJSZXNvbHZlclRpbWVvdXRcIn0oeXx8KHk9e30pKSxmdW5jdGlvbihlKXtlLk5vQ2hhbm5lbEZvdW5kPVwiTm9DaGFubmVsRm91bmRcIixlLkFjY2Vzc0RlbmllZD1cIkFjY2Vzc0RlbmllZFwiLGUuQ3JlYXRpb25GYWlsZWQ9XCJDcmVhdGlvbkZhaWxlZFwifSh3fHwodz17fSkpO3ZhciBfLEU7Xz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdCxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxpPW8uaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHM9by5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLGE9by50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gYyhlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtjKHt9LFwiXCIpfWNhdGNoKGUpe2M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIHUoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP3Q6bSxpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IHgocnx8W10pO3JldHVybiBpLl9pbnZva2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXA7cmV0dXJuIGZ1bmN0aW9uKG8saSl7aWYocj09PWgpdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihyPT09Zyl7aWYoXCJ0aHJvd1wiPT09byl0aHJvdyBpO3JldHVybiBQKCl9Zm9yKG4ubWV0aG9kPW8sbi5hcmc9aTs7KXt2YXIgcz1uLmRlbGVnYXRlO2lmKHMpe3ZhciBhPUMocyxuKTtpZihhKXtpZihhPT09Ziljb250aW51ZTtyZXR1cm4gYX19aWYoXCJuZXh0XCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PW4ubWV0aG9kKXtpZihyPT09cCl0aHJvdyByPWcsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoXCJyZXR1cm5cIixuLmFyZyk7cj1oO3ZhciBjPWwoZSx0LG4pO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKHI9bi5kb25lP2c6ZCxjLmFyZz09PWYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6bi5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihyPWcsbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPWMuYXJnKX19fShlLG4scyksaX1mdW5jdGlvbiBsKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6ZX19fWUud3JhcD11O3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIsZz1cImNvbXBsZXRlZFwiLGY9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIGIoKXt9dmFyIHk9e307eVtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgdz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsXz13JiZ3KHcoRyhbXSkpKTtfJiZfIT09biYmci5jYWxsKF8saSkmJih5PV8pO3ZhciBFPWIucHJvdG90eXBlPW0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeSk7ZnVuY3Rpb24gUyhlKXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gSShlLHQpe2Z1bmN0aW9uIG4obyxpLHMsYSl7dmFyIGM9bChlW29dLGUsaSk7aWYoXCJ0aHJvd1wiIT09Yy50eXBlKXt2YXIgdT1jLmFyZyxwPXUudmFsdWU7cmV0dXJuIHAmJlwib2JqZWN0XCI9PXR5cGVvZiBwJiZyLmNhbGwocCxcIl9fYXdhaXRcIik/dC5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7bihcIm5leHRcIixlLHMsYSl9KSwoZnVuY3Rpb24oZSl7bihcInRocm93XCIsZSxzLGEpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXt1LnZhbHVlPWUscyh1KX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbihcInRocm93XCIsZSxzLGEpfSkpfWEoYy5hcmcpfXZhciBvO3RoaXMuX2ludm9rZT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7bihlLHIsdCxvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19ZnVuY3Rpb24gQyhlLG4pe3ZhciByPWUuaXRlcmF0b3Jbbi5tZXRob2RdO2lmKHI9PT10KXtpZihuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9XCJyZXR1cm5cIixuLmFyZz10LEMoZSxuKSxcInRocm93XCI9PT1uLm1ldGhvZCkpcmV0dXJuIGY7bi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpfXJldHVybiBmfXZhciBvPWwocixlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1vLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1vLmFyZyxuLmRlbGVnYXRlPW51bGwsZjt2YXIgaT1vLmFyZztyZXR1cm4gaT9pLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1pLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLGYpOmk6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLGYpfWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gTyhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiB4KGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLGUuZm9yRWFjaChBLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEcoZSl7aWYoZSl7dmFyIG49ZVtpXTtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBvPS0xLHM9ZnVuY3Rpb24gbigpe2Zvcig7KytvPGUubGVuZ3RoOylpZihyLmNhbGwoZSxvKSlyZXR1cm4gbi52YWx1ZT1lW29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPXQsbi5kb25lPSEwLG59O3JldHVybiBzLm5leHQ9c319cmV0dXJue25leHQ6UH19ZnVuY3Rpb24gUCgpe3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fXJldHVybiB2LnByb3RvdHlwZT1FLmNvbnN0cnVjdG9yPWIsYi5jb25zdHJ1Y3Rvcj12LHYuZGlzcGxheU5hbWU9YyhiLGEsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09dnx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxiKTooZS5fX3Byb3RvX189YixjKGUsYSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LFMoSS5wcm90b3R5cGUpLEkucHJvdG90eXBlW3NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuQXN5bmNJdGVyYXRvcj1JLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgcz1uZXcgSSh1KHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/czpzLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6cy5uZXh0KCl9KSl9LFMoRSksYyhFLGEsXCJHZW5lcmF0b3JcIiksRVtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxFLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0sZS5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbigpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbi52YWx1ZT1yLG4uZG9uZT0hMSxufXJldHVybiBuLmRvbmU9ITAsbn19LGUudmFsdWVzPUcseC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOngscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goTyksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gYS50eXBlPVwidGhyb3dcIixhLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIHM9dGhpcy50cnlFbnRyaWVzW2ldLGE9cy5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09cy50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYocy50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9ci5jYWxsKHMsXCJjYXRjaExvY1wiKSx1PXIuY2FsbChzLFwiZmluYWxseUxvY1wiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8cy5jYXRjaExvYylyZXR1cm4gbyhzLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8cy5maW5hbGx5TG9jKXJldHVybiBvKHMuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8cy5jYXRjaExvYylyZXR1cm4gbyhzLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxzLmZpbmFsbHlMb2MpcmV0dXJuIG8ocy5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PWV8fFwiY29udGludWVcIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgcz1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gcy50eXBlPWUscy5hcmc9dCxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLGYpOnRoaXMuY29tcGxldGUocyl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVyblwiYnJlYWtcIj09PWUudHlwZXx8XCJjb250aW51ZVwiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzpcInJldHVyblwiPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSxmfSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLE8obiksZn19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO08obil9cmV0dXJuIG99fXRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkcoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLGZ9fSxlfShlLmV4cG9ydHMpO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9dH1jYXRjaChlKXtGdW5jdGlvbihcInJcIixcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikodCl9fSxfKEU9e2V4cG9ydHM6e319LEUuZXhwb3J0cyk7dmFyIFM7IWZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cImZkYzMuY29udGFjdFwiLGUuQ29udGFjdExpc3Q9XCJmZGMzLmNvbnRhY3RMaXN0XCIsZS5Db3VudHJ5PVwiZmRjMy5jb3VudHJ5XCIsZS5JbnN0cnVtZW50PVwiZmRjMy5pbnN0cnVtZW50XCIsZS5Pcmdhbml6YXRpb249XCJmZGMzLm9yZ2FuaXphdGlvblwiLGUuUG9ydGZvbGlvPVwiZmRjMy5wb3J0Zm9saW9cIixlLlBvc2l0aW9uPVwiZmRjMy5wb3NpdGlvblwifShTfHwoUz17fSkpO3ZhciBJOyFmdW5jdGlvbihlKXtlLlN0YXJ0Q2FsbD1cIlN0YXJ0Q2FsbFwiLGUuU3RhcnRDaGF0PVwiU3RhcnRDaGF0XCIsZS5WaWV3Q2hhcnQ9XCJWaWV3Q2hhcnRcIixlLlZpZXdDb250YWN0PVwiVmlld0NvbnRhY3RcIixlLlZpZXdRdW90ZT1cIlZpZXdRdW90ZVwiLGUuVmlld05ld3M9XCJWaWV3TmV3c1wiLGUuVmlld0luc3RydW1lbnQ9XCJWaWV3SW5zdHJ1bWVudFwiLGUuVmlld0FuYWx5c2lzPVwiVmlld0FuYWx5c2lzXCJ9KEl8fChJPXt9KSk7Y29uc3QgQz1lPT4hIWUmJi9eKFtBLVowLTldezV9KShbQS1aMC05KkAjXXszfSkoXFxkKSQvaS50ZXN0KGUpLEE9ZT0+ISFlJiYvXFxiKEVRVUlUWSkkL2kudGVzdChlKSxPPWU9PiEhZSYmL14oPyFCW1NNXXxHW0dCSF18S1l8VkcpKFtBLVpdezJ9KShHKSgoKD8hW0FFSU9VX10pXFx3KXs4fSkoXFxkKSQvaS50ZXN0KGUpLHg9ZT0+ISFlJiYvXihbQS1aXXsyfSkoW0EtWjAtOV17OX0pKFxcZCkkL2kudGVzdChlKSxHPVwiT0ZfQkJHX0FQSVwiLFA9KGUsdCxyKT0+YXN5bmMobyxpKT0+e3ZhciBzO2lmKHZvaWQgMD09PShudWxsIT09KHM9bnVsbD09bz92b2lkIDA6by5uYW1lKSYmdm9pZCAwIT09cz9zOnZvaWQgMCkpe2NvbnN0IGU9bmV3IEFwaUVycm9yKHZvaWQgMCxcIkdyb3VwIGV2ZW50IHNvdXJjZSBpcyB1bmRlZmluZWRcIik7dGhyb3cgYyhlKSxudWxsPT1yfHxyKGUpLGV9aWYoXCIqXCIhPT1lJiZvLm5hbWUhPT1lfHxpPT09RylyZXR1cm47bGV0IGE7dHJ5e2E9YXdhaXQgby5nZXRTZWN1cml0eSgpfWNhdGNoKGUpe2NvbnN0IHQ9bihlKTt0aHJvdyBjKHQpLG51bGw9PXJ8fHIodCksdH11KGBMYXVuY2hwYWQgZ3JvdXAgJHtvLm5hbWV9IHNlY3VyaXR5IGNoYW5nZWQgdG86YCxhKTtjb25zdCBsPShlPT57Y29uc3QgdD17dHlwZTpTLkluc3RydW1lbnQsaWQ6e0JCRzplfX0sbj0oZT0+e3ZhciB0O2lmKG51bGw9PWU/dm9pZCAwOmUudHJpbSgpKXJldHVybihudWxsIT09KHQ9ZS5tYXRjaCgvXlxcdysvKSkmJnZvaWQgMCE9PXQ/dDpbXSlbMF19KShlKTtpZighbilyZXR1cm4gdDtzd2l0Y2goITApe2Nhc2UgQyhuKTp0LmlkLkNVU0lQPW47YnJlYWs7Y2FzZSBPKG4pOnQuaWQuRklHST1uO2JyZWFrO2Nhc2UgeChuKTp0LmlkLklTSU49bjticmVhaztjYXNlIEEoZSk6dC5pZC50aWNrZXI9bn1yZXR1cm4gdH0pKGEpO2wub3BlbmZpbkJiZ0FwaT0hMCxudWxsPT10fHx0KGwpLHUoXCJTZXR0aW5nIG5ldyBjb250ZXh0OiBcIixsKTt0cnl7YXdhaXQgZmluLm1lLmludGVyb3Auc2V0Q29udGV4dChsKX1jYXRjaChlKXtjb25zdCB0PW5ldyBJbnRlcm9wRXJyb3Iodm9pZCAwLGUpO2ModCksbnVsbD09cnx8cih0KX19LGs9YXN5bmMoKT0+e2xldCBlPSEwO3RyeXthd2FpdCB2LmdldEFsbEdyb3VwcygpfWNhdGNoKHQpe2NvbnN0IHI9bih0KTtpZighKHIgaW5zdGFuY2VvZiBUZXJtaW5hbENvbm5lY3Rpb25FcnJvcikpdGhyb3cgYyhyKSxyO2U9ITF9cmV0dXJuIHUoXCJCbG9vbWJlcmcgdGVybWluYWwgcmVhZHk6IFwiLGUpLGV9LE09YXN5bmMoZSx0LHIsbyxpKT0+e2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXt1KGBSdW5uaW5nIHRlcm1pbmFsIGZ1bmN0aW9uIGluIHBhbmVsICR7ZX06IGAsdCxyLG8saSk7dHJ5e2F3YWl0IHYucnVuRnVuY3Rpb24odCxlLHIsbyxpKX1jYXRjaChlKXtjb25zdCB0PW4oZSk7dGhyb3cgYyh0KSx0fX1lbHNlIHUoYFVuYWJsZSB0byBydW4gZnVuY3Rpb24gYXMgdGFyZ2V0ICR7ZX0gaXMgbm90IGEgcGFuZWxgLHQscixvLGkpfSxSPXtkZWZhdWx0TWVyZ2U6U3ltYm9sKFwiZGVlcG1lcmdlLXRzOiBkZWZhdWx0IG1lcmdlXCIpLHNraXA6U3ltYm9sKFwiZGVlcG1lcmdlLXRzOiBza2lwXCIpfTtSLmRlZmF1bHRNZXJnZTtmdW5jdGlvbiBGKGUsdCl7cmV0dXJuIHR9ZnVuY3Rpb24gTChlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/MDpBcnJheS5pc0FycmF5KGUpPzI6ZnVuY3Rpb24oZSl7aWYoIUIuaGFzKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuITE7Y29uc3R7Y29uc3RydWN0b3I6dH09ZTtpZih2b2lkIDA9PT10KXJldHVybiEwO2NvbnN0IG49dC5wcm90b3R5cGU7aWYobnVsbD09PW58fFwib2JqZWN0XCIhPXR5cGVvZiBufHwhQi5oYXMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pKSlyZXR1cm4hMTtpZighbi5oYXNPd25Qcm9wZXJ0eShcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITE7cmV0dXJuITB9KGUpPzE6ZSBpbnN0YW5jZW9mIFNldD8zOmUgaW5zdGFuY2VvZiBNYXA/NDo1fWZ1bmN0aW9uIE4oZSl7Y29uc3QgdD1uZXcgU2V0O2Zvcihjb25zdCBuIG9mIGUpZm9yKGNvbnN0IGUgb2ZbLi4uT2JqZWN0LmtleXMobiksLi4uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKV0pdC5hZGQoZSk7cmV0dXJuIHR9ZnVuY3Rpb24gaihlLHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSx0KX1mdW5jdGlvbiBUKGUpe3JldHVybnsqW1N5bWJvbC5pdGVyYXRvcl0oKXtmb3IoY29uc3QgdCBvZiBlKWZvcihjb25zdCBlIG9mIHQpeWllbGQgZX19fWNvbnN0IEI9bmV3IFNldChbXCJbb2JqZWN0IE9iamVjdF1cIixcIltvYmplY3QgTW9kdWxlXVwiXSk7ZnVuY3Rpb24gVihlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX12YXIgRD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxtZXJnZVJlY29yZHM6ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHI9e307Zm9yKGNvbnN0IG8gb2YgTihlKSl7Y29uc3QgaT1bXTtmb3IoY29uc3QgdCBvZiBlKWoodCxvKSYmaS5wdXNoKHRbb10pO2lmKDA9PT1pLmxlbmd0aCljb250aW51ZTtjb25zdCBzPXQubWV0YURhdGFVcGRhdGVyKG4se2tleTpvLHBhcmVudHM6ZX0pLGE9VShpLHQscyk7YSE9PVIuc2tpcCYmKFwiX19wcm90b19fXCI9PT1vP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8se3ZhbHVlOmEsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KTpyW29dPWEpfXJldHVybiByfSxtZXJnZUFycmF5czpmdW5jdGlvbihlKXtyZXR1cm4gZS5mbGF0KCl9LG1lcmdlU2V0czpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFNldChUKGUpKX0sbWVyZ2VNYXBzOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTWFwKFQoZSkpfSxtZXJnZU90aGVyczpWfSk7ZnVuY3Rpb24gJCguLi5lKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm57ZGVmYXVsdE1lcmdlRnVuY3Rpb25zOkQsbWVyZ2VGdW5jdGlvbnM6ey4uLkQsLi4uT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGUpLmZpbHRlcigoKFtlLHRdKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEQsZSkpKS5tYXAoKChbZSx0XSk9PiExPT09dD9bZSxWXTpbZSx0XSkpKX0sbWV0YURhdGFVcGRhdGVyOm51bGwhPT0obj1lLm1ldGFEYXRhVXBkYXRlcikmJnZvaWQgMCE9PW4/bjpGLGRlZXBtZXJnZTp0LHVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmc6bnVsbCE9PShyPWUuZW5hYmxlSW1wbGljaXREZWZhdWx0TWVyZ2luZykmJnZvaWQgMCE9PXImJnIsYWN0aW9uczpSfX0oZSxyKTtmdW5jdGlvbiByKC4uLmUpe3JldHVybiBVKGUsbix0KX1yZXR1cm4gcn0oe30pKC4uLmUpfWZ1bmN0aW9uIFUoZSx0LG4pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm47aWYoMT09PWUubGVuZ3RoKXJldHVybiBxKGUsdCxuKTtjb25zdCByPUwoZVswXSk7aWYoMCE9PXImJjUhPT1yKWZvcihsZXQgbz0xO288ZS5sZW5ndGg7bysrKWlmKEwoZVtvXSkhPT1yKXJldHVybiBxKGUsdCxuKTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj10Lm1lcmdlRnVuY3Rpb25zLm1lcmdlUmVjb3JkcyhlLHQsbik7aWYocj09PVIuZGVmYXVsdE1lcmdlfHx0LnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcmJnZvaWQgMD09PXImJnQubWVyZ2VGdW5jdGlvbnMubWVyZ2VSZWNvcmRzIT09dC5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VSZWNvcmRzKXJldHVybiB0LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMoZSx0LG4pO3JldHVybiByfShlLHQsbik7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj10Lm1lcmdlRnVuY3Rpb25zLm1lcmdlQXJyYXlzKGUsdCxuKTtpZihyPT09Ui5kZWZhdWx0TWVyZ2V8fHQudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyYmdm9pZCAwPT09ciYmdC5tZXJnZUZ1bmN0aW9ucy5tZXJnZUFycmF5cyE9PXQuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlQXJyYXlzKXJldHVybiB0LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZUFycmF5cyhlKTtyZXR1cm4gcn0oZSx0LG4pO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHI9dC5tZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHMoZSx0LG4pO2lmKHI9PT1SLmRlZmF1bHRNZXJnZXx8dC51c2VJbXBsaWNpdERlZmF1bHRNZXJnaW5nJiZ2b2lkIDA9PT1yJiZ0Lm1lcmdlRnVuY3Rpb25zLm1lcmdlU2V0cyE9PXQuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlU2V0cylyZXR1cm4gdC5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VTZXRzKGUpO3JldHVybiByfShlLHQsbik7Y2FzZSA0OnJldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj10Lm1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcyhlLHQsbik7aWYocj09PVIuZGVmYXVsdE1lcmdlfHx0LnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcmJnZvaWQgMD09PXImJnQubWVyZ2VGdW5jdGlvbnMubWVyZ2VNYXBzIT09dC5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VNYXBzKXJldHVybiB0LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZU1hcHMoZSk7cmV0dXJuIHJ9KGUsdCxuKTtkZWZhdWx0OnJldHVybiBxKGUsdCxuKX19ZnVuY3Rpb24gcShlLHQsbil7Y29uc3Qgcj10Lm1lcmdlRnVuY3Rpb25zLm1lcmdlT3RoZXJzKGUsdCxuKTtyZXR1cm4gcj09PVIuZGVmYXVsdE1lcmdlfHx0LnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcmJnZvaWQgMD09PXImJnQubWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnMhPT10LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZU90aGVycz90LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZU90aGVycyhlKTpyfWNvbnN0IFc9YXN5bmMoZSx0LG4pPT57Y29uc3Qgcj0oKCk9Pntjb25zdCBlPW5ldyBNYXAsdD1uZXcgTWFwLG49e3RhcmdldDoxLG1uZW1vbmljOlwiREVTXCJ9LHI9e3RhcmdldDoxLG1uZW1vbmljOlwiR1BcIn0sbz17dGFyZ2V0OjEsbW5lbW9uaWM6XCJRXCJ9LGk9e3RhcmdldDoxLG1uZW1vbmljOlwiQklPXCJ9LHM9e3RhcmdldDoxLG1uZW1vbmljOlwiU0VBUlwifTtlLnNldChTLkluc3RydW1lbnQsT2JqZWN0LmFzc2lnbih7fSxuKSksZS5zZXQoUy5Db250YWN0LE9iamVjdC5hc3NpZ24oe30saSkpLGUuc2V0KFMuT3JnYW5pemF0aW9uLE9iamVjdC5hc3NpZ24oe30scykpO2NvbnN0IGE9bmV3IE1hcDthLnNldChTLkluc3RydW1lbnQsT2JqZWN0LmFzc2lnbih7fSxyKSksdC5zZXQoSS5WaWV3Q2hhcnQsYSk7Y29uc3QgYz1uZXcgTWFwO2Muc2V0KFMuQ29udGFjdCxPYmplY3QuYXNzaWduKHt9LGkpKSx0LnNldChJLlZpZXdDb250YWN0LGMpO2NvbnN0IHU9bmV3IE1hcDt1LnNldChTLkluc3RydW1lbnQsT2JqZWN0LmFzc2lnbih7fSxuKSksdC5zZXQoSS5WaWV3SW5zdHJ1bWVudCx1KTtjb25zdCBsPW5ldyBNYXA7cmV0dXJuIGwuc2V0KFMuSW5zdHJ1bWVudCxPYmplY3QuYXNzaWduKHt9LG8pKSx0LnNldChJLlZpZXdRdW90ZSxsKSx7Y29udGV4dHM6ZSxpbnRlbnRzOnR9fSkoKSxvPShlPT57dmFyIHQsbixyLG87Y29uc3QgaT1lPT57Y29uc3RbdF09ZTtyZXR1cm4hIShudWxsIT10P3Q6XCJcIikudHJpbSgpfSxzPVsuLi5udWxsIT09KG49bnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUuY29udGV4dHMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVudHJpZXMoKSkmJnZvaWQgMCE9PW4/bjpbXV0uZmlsdGVyKGkpLGE9Wy4uLm51bGwhPT0obz1udWxsPT09KHI9bnVsbD09ZT92b2lkIDA6ZS5pbnRlbnRzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5lbnRyaWVzKCkpJiZ2b2lkIDAhPT1vP286W11dLmZpbHRlcigoZT0+e3ZhciB0O2NvbnN0W24scl09ZSxvPVsuLi5udWxsIT09KHQ9bnVsbD09cj92b2lkIDA6ci5lbnRyaWVzKCkpJiZ2b2lkIDAhPT10P3Q6W11dLmZpbHRlcihpKTtyZXR1cm4hIShudWxsIT1uP246XCJcIikudHJpbSgpJiZvLmxlbmd0aD4wfSkpO3JldHVybntjb250ZXh0czpuZXcgTWFwKHMpLGludGVudHM6bmV3IE1hcChhKX19KShlKSxpPSQocixvKSxzPWkuY29udGV4dHMsYT1pLmludGVudHMscD1bXTtsZXQgZDtwLnB1c2goZmluLm1lLmludGVyb3AuYWRkQ29udGV4dEhhbmRsZXIoKChlLHQsbik9PmFzeW5jIHI9PntyP2F3YWl0IHoocixlLHQsbik6dShcIk5vIGNvbnRleHQgaW5mbyBwcm92aWRlZCwgaWdub3JpbmdcIil9KShzLHQsbikpKSxhLmZvckVhY2goKChlLHIpPT57cC5wdXNoKGZpbi5tZS5pbnRlcm9wLnJlZ2lzdGVySW50ZW50SGFuZGxlcigoKGUsdCxuKT0+YXN5bmMgcj0+e3UoXCJJbnRlbnQgcmVjZWl2ZWRcIixyKTtjb25zdHtjb250ZXh0Om99PXI7bz9lP2F3YWl0IHoobyxlLHQsbik6bChgTm8gYWN0aW9ucyBoYXZlIGJlZW4gcHJvdmlkZWQgZm9yIGludGVudCAke3IubmFtZX0sIGlnbm9yaW5nYCk6bChcIk5vIGNvbnRleHQgaW5mbyBwcm92aWRlZCB3aXRoIGludGVudCwgaWdub3JpbmdcIil9KShlLHQsbikscikpfSkpO3RyeXtkPWF3YWl0IFByb21pc2UuYWxsKHApfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEFwaUVycm9yKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIGludGVyb3AgaGFuZGxlcnNcIixlKTt0aHJvdyBjKHQpLHR9cmV0dXJuIGR9LHo9YXN5bmMoZSx0LG4scik9PntpZihudWxsPT1ufHxuKGUpLCEwPT09ZS5vcGVuZmluQmJnQXBpKXJldHVybjtpZih1KFwiUHJvY2Vzc2luZyBjb250ZXh0XCIsZSksIXQuaGFzKGUudHlwZSl8fCF0LmdldChlLnR5cGUpKXJldHVybiB2b2lkIGwoYE5vIGFjdGlvbiBoYXMgYmVlbiBkZWZpbmVkIGZvciBjb250ZXh0IHR5cGUgJHtlLnR5cGV9LCBpZ25vcmluZ2ApO2NvbnN0IG89dC5nZXQoZS50eXBlKTt0cnl7c3dpdGNoKCEwKXtjYXNlIGUudHlwZS50b1VwcGVyQ2FzZSgpLmVuZHNXaXRoKFwiQ09OVEFDVFwiKTphd2FpdCBZKGUsbyk7YnJlYWs7Y2FzZSBlLnR5cGUudG9VcHBlckNhc2UoKS5lbmRzV2l0aChcIklOU1RSVU1FTlRcIik6YXdhaXQgWihlLG8pO2JyZWFrO2Nhc2UgZS50eXBlLnRvVXBwZXJDYXNlKCkuZW5kc1dpdGgoXCJPUkdBTklaQVRJT05cIik6YXdhaXQgSihlLG8pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQgbChgQ29udGV4dCB0eXBlICR7ZS50eXBlfSBpcyBub3Qgc3VwcG9ydGVkLCBpZ25vcmluZ2ApfX1jYXRjaChlKXtsZXQgdDtlIGluc3RhbmNlb2YgQXBpRXJyb3I/dD1lOih0PW5ldyBBcGlFcnJvcih2b2lkIDAsZSksYyh0KSksbnVsbD09cnx8cih0KX19LFk9YXN5bmMoZSx0KT0+e2NvbnN0e25hbWU6bn09ZTtpZighbilyZXR1cm4gdm9pZCBsKFwiQ29udGFjdCBjb250ZXh0IGRpZCBub3QgaW5jbHVkZSBhIG5hbWUsIGlnbm9yaW5nXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB2b2lkIGwoXCJDb250YWN0IGNvbnRleHQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBncm91cCBhY3Rpb25zLCBpZ25vcmluZ1wiKTtjb25zdHttbmVtb25pYzpyLHRhaWxzOm8sdGFyZ2V0Oml9PXQscz1gJHtufSAke251bGwhPW8/bzpcIlwifWAudHJpbSgpO2F3YWl0IE0oaSxyLHZvaWQgMCx2b2lkIDAscyl9LFo9YXN5bmMoZSx0KT0+e2NvbnN0IHI9KGU9Pntjb25zdHtCQkc6dCx0aWNrZXI6bn09ZS5pZDtyZXR1cm4gdHx8KG4/YCR7bn0gVVMgRXF1aXR5YDp2b2lkIHUoXCJJbnN0cnVtZW50IGNvbnRleHQgZG9lcyBub3QgY29udGFpbiBhIHN1cHBvcnRlZCBpZFwiLGUpKX0pKGUpO2lmKCFyKXJldHVybiB2b2lkIGwoXCJJbnN0cnVtZW50IGNvbnRleHQgZGlkIG5vdCBjb250YWluIGEgdmFsaWQgc2VjdXJpdHksIGlnbm9yaW5nXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB2b2lkIGF3YWl0KGFzeW5jKGUsdCk9PntpZih1KGBTZXR0aW5nICR7XCIqXCI9PT1lP1wiZXZlcnkgZ3JvdXBcIjpgZ3JvdXAgJHtlfWB9IHNlY3VyaXR5IHRvICR7dH1gKSxcIipcIj09PWUpe2NvbnN0IGU9YXdhaXQgdi5nZXRBbGxHcm91cHMoKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+ZS5zZXRTZWN1cml0eSh0LEcpKSkpfWVsc2UgdHJ5e2NvbnN0IG49YXdhaXQgdi5nZXRHcm91cChlKTthd2FpdCBuLnNldFNlY3VyaXR5KHQsRyl9Y2F0Y2goZSl7Y29uc3QgdD1uKGUpO3Rocm93IGModCksdH19KSh0LHIpO2NvbnN0e21uZW1vbmljOm8sdGFpbHM6aSx0YXJnZXQ6c309dDthd2FpdCBNKHMsbyxyLHZvaWQgMCxpKX0sSj1hc3luYyhlLHQpPT57Y29uc3R7bmFtZTpufT1lO2lmKCFuKXJldHVybiB2b2lkIGwoXCJPcmdhbml6YXRpb24gY29udGV4dCBkaWQgbm90IGluY2x1ZGUgYSBuYW1lLCBpZ25vcmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdm9pZCBsKFwiT3JnYW5pemF0aW9uIGNvbnRleHQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBncm91cCBhY3Rpb25zLCBpZ25vcmluZ1wiKTtjb25zdHttbmVtb25pYzpyLHRhaWxzOm8sdGFyZ2V0Oml9PXQscz1gJHtufSAke251bGwhPW8/bzpcIlwifWAudHJpbSgpO2F3YWl0IE0oaSxyLHZvaWQgMCx2b2lkIDAscyl9O3ZhciBROyFmdW5jdGlvbihlKXtlLkJsb29tYmVyZz1cIkJMT09NQkVSR1wifShRfHwoUT17fSkpO2NvbnN0IEg9YXN5bmMgZT0+eyhhc3luYyBlPT57dHJ5e2F3YWl0IGZpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcImludGVncmF0aW9uLWZlYXR1cmVcIixkYXRhOnthcGlWZXJzaW9uOnIsY29tcG9uZW50TmFtZTplfX0pfWNhdGNoKHQpe2woYFVuYWJsZSB0byByZWdpc3RlciB1c2FnZSBmb3IgZmVhdHVyZSAke2V9OiAke251bGw9PXQ/dm9pZCAwOnQubWVzc2FnZX1gKX19KShRLkJsb29tYmVyZyk7Y29uc3R7Z3JvdXA6dCxhY3Rpb25zOm4sb25Db250ZXh0Q2hhbmdlZDpvLG9uRXJyb3I6aX09bnVsbCE9ZT9lOnt9O2lmKHUoXCJDcmVhdGluZyBpbnRlcm9wIGNvbm5lY3Rpb25cIix0LG4pLCFhd2FpdCBrKCkpe2NvbnN0IGU9bmV3IFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yO3Rocm93IGMoZSksZX1sZXQgczt2b2lkIDAhPT0obnVsbCE9dD90OnZvaWQgMCkmJihzPWF3YWl0IHYuc3Vic2NyaWJlR3JvdXBFdmVudHMoUCh0LG8saSkpLHUoXCJMYXVuY2hwYWQgZ3JvdXAgc3Vic2NyaXB0aW9uIGNyZWF0ZWQ6IFwiLHMpKTtjb25zdCBhPWF3YWl0IFcobixvLGkpO3JldHVybntkaXNjb25uZWN0OksoYSxzKX19LEs9KGUsdCk9PmFzeW5jKCk9Pnt1KFwiRGlzY29ubmVjdGluZyBpbnRlcm9wIGNvbm5lY3Rpb25cIiksZSYmYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9Pnthd2FpdCBlLnVuc3Vic2NyaWJlKCl9KSkpLHZvaWQgMCE9PShudWxsIT10P3Q6dm9pZCAwKSYmYXdhaXQgdi51bnN1YnNjcmliZUdyb3VwRXZlbnRzKHQpfTt2YXIgWD10Lk1TLGVlPXQueGMsdGU9dC5CVCxuZT10LmV6LHJlPXQueVcsb2U9dC4kaixpZT10LlUkLHNlPXQuVTcsYWU9dC5HUyxjZT10LmhOLHVlPXQuWWMsbGU9dC5lRSxwZT10LkMxO2V4cG9ydHtYIGFzIEFwaUVycm9yLGVlIGFzIEFwcE5vdEF1dGhvcml6ZWRFcnJvcix0ZSBhcyBJbnRlcm9wRXJyb3IsbmUgYXMgVGVybWluYWxDb21tYW5kRXJyb3IscmUgYXMgVGVybWluYWxDb25uZWN0aW9uRXJyb3Isb2UgYXMgY29ubmVjdCxpZSBhcyBkaXNhYmxlTG9nZ2luZyxzZSBhcyBlbmFibGVMb2dnaW5nLGFlIGFzIGlzQmxvb21iZXJnVGVybWluYWxSZWFkeSxjZSBhcyBpc0N1c2lwLHVlIGFzIGlzRXF1aXR5LGxlIGFzIGlzRmlnaSxwZSBhcyBpc0lzaW59OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtcblx0Y29ubmVjdCxcblx0ZW5hYmxlTG9nZ2luZyxcblx0aXNCbG9vbWJlcmdUZXJtaW5hbFJlYWR5LFxuXHR0eXBlIEJsb29tYmVyZ0Nvbm5lY3Rpb25cbn0gZnJvbSBcIkBvcGVuZmluL2Jsb29tYmVyZ1wiO1xuaW1wb3J0IHR5cGUgT3BlbkZpbiBmcm9tIFwiQG9wZW5maW4vY29yZVwiO1xuXG5sZXQgYmJnQ29ubmVjdGlvbjogQmxvb21iZXJnQ29ubmVjdGlvbiB8IHVuZGVmaW5lZDtcblxubGV0IHNlbGVjdGVkSW50ZW50VHlwZTogc3RyaW5nID0gXCJcIjtcbmxldCBzZWxlY3RlZEludGVudFZhbHVlOiBzdHJpbmcgPSBcIlwiO1xubGV0IGZkYzNEZW5vbWluYXRpb246IHN0cmluZyA9IFwiXCI7XG5sZXQgYmJnTW5lbW9uaWM6IHN0cmluZyA9IFwiXCI7XG5cbmxldCBidG5Db25uZWN0OiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5sZXQgYnRuRGlzY29ubmVjdDogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xubGV0IGJ0bkNsZWFyTG9nczogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xubGV0IGJ0blF1ZXJ5OiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5sZXQgaW50ZW50VHlwZUVsZW1lbnQ6IEhUTUxTZWxlY3RFbGVtZW50IHwgbnVsbDtcbmxldCBpbnRlbnRWYWx1ZUVsZW1lbnQ6IEhUTUxTZWxlY3RFbGVtZW50IHwgbnVsbDtcbmxldCBsb2dPdXRwdXQ6IEhUTUxQcmVFbGVtZW50IHwgbnVsbDtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcblx0Ly8gRW5hYmxlIGxvZ2dpbmcgaW4gdGhlIEJCRyBwYWNrYWdlXG5cdGVuYWJsZUxvZ2dpbmcoKTtcblxuXHQvLyBJbml0aWFsaXplIHRoZSBET00gZWxlbWVudHMuXG5cdGluaXRpYWxpemVET00oKTtcbn0pO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIERPTS5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZURPTSgpOiB2b2lkIHtcblx0YnRuQ29ubmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bkNvbm5lY3RcIik7XG5cdGJ0bkRpc2Nvbm5lY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5EaXNjb25uZWN0XCIpO1xuXHRidG5DbGVhckxvZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5DbGVhclwiKTtcblx0YnRuUXVlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNidG5RdWVyeVwiKTtcblx0aW50ZW50VHlwZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxTZWxlY3RFbGVtZW50PihcIiNpbnRlbnRUeXBlXCIpO1xuXHRpbnRlbnRWYWx1ZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxTZWxlY3RFbGVtZW50PihcIiNpbnRlbnRWYWx1ZVwiKTtcblx0bG9nT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MUHJlRWxlbWVudD4oXCIjbG9nT3V0cHV0XCIpO1xuXG5cdGlmIChidG5Db25uZWN0KSB7XG5cdFx0YnRuQ29ubmVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKGJ0bkNvbm5lY3QpIHtcblx0XHRcdFx0YnRuQ29ubmVjdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBjb25uZWN0VG9CQkdUZXJtaW5hbCgpO1xuXHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHR9KTtcblx0fVxuXHRpZiAoYnRuRGlzY29ubmVjdCkge1xuXHRcdGJ0bkRpc2Nvbm5lY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChidG5EaXNjb25uZWN0KSB7XG5cdFx0XHRcdGJ0bkRpc2Nvbm5lY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0YXdhaXQgZGlzY29ubmVjdEZyb21CQkdUZXJtaW5hbCgpO1xuXHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHR9KTtcblx0fVxuXHRpZiAoYnRuQ2xlYXJMb2dzKSB7XG5cdFx0YnRuQ2xlYXJMb2dzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGVhckxvZ3MpO1xuXHR9XG5cdGlmIChidG5RdWVyeSkge1xuXHRcdGJ0blF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmaXJlSW50ZW50Rm9yQkJHKTtcblx0fVxuXG5cdGlmIChpbnRlbnRUeXBlRWxlbWVudCkge1xuXHRcdGludGVudFR5cGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoYnRuUXVlcnkpIHtcblx0XHRcdFx0YnRuUXVlcnkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0c3dpdGNoIChpbnRlbnRUeXBlRWxlbWVudD8udmFsdWUpIHtcblx0XHRcdFx0Y2FzZSBcIlZpZXdDaGFydFwiOlxuXHRcdFx0XHRcdGxvZ0luZm9ybWF0aW9uKFxuXHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld0NoYXJ0LiBDb250ZW50IFR5cGUgaXMgZmRjMy5pbnN0cnVtZW50LiBCbG9vbWJlcmcgVGVybWluYWwgTW5lbW9uaWM6IEdQXCJcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHNlbGVjdGVkSW50ZW50VHlwZSA9IFwiVmlld0NoYXJ0XCI7XG5cdFx0XHRcdFx0ZmRjM0Rlbm9taW5hdGlvbiA9IFwiZmRjMy5pbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0YmJnTW5lbW9uaWMgPSBcIkdQXCI7XG5cdFx0XHRcdFx0cG9wdWxhdGVTZWxlY3QoaW50ZW50VmFsdWVFbGVtZW50LCBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3JhY2xlIENvcnBcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiTVNGVFwiLFxuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJNaWNyb3NvZnRcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiSUJNXCIsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJWaWV3Q29udGFjdFwiOlxuXHRcdFx0XHRcdGxvZ0luZm9ybWF0aW9uKFxuXHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld0NvbnRhY3QuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmNvbnRhY3QuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogQklPXCJcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHNlbGVjdGVkSW50ZW50VHlwZSA9IFwiVmlld0NvbnRhY3RcIjtcblx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmNvbnRhY3RcIjtcblx0XHRcdFx0XHRiYmdNbmVtb25pYyA9IFwiQklPXCI7XG5cdFx0XHRcdFx0cG9wdWxhdGVTZWxlY3QoaW50ZW50VmFsdWVFbGVtZW50LCBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIldpbGxpYW0gSGVucnkgR2F0ZXNcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiV2lsbGlhbSBIZW5yeSBHYXRlc1wiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJMYXJyeSBFbGxpc29uXCIsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIkxhcnJ5IEVsbGlzb25cIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiUm9iZXJ0IElnZXJcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiUm9iZXJ0IElnZXJcIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiVmlld0luc3RydW1lbnRcIjpcblx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFwiSW50ZW50IHRvIGJlIGZpcmVkIGlzIFZpZXdJbnN0cnVtZW50LiBDb250ZW50IFR5cGUgaXMgZmRjMy5pbnN0cnVtZW50LiBCbG9vbWJlcmcgVGVybWluYWwgTW5lbW9uaWM6IERFU1wiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdJbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0ZmRjM0Rlbm9taW5hdGlvbiA9IFwiZmRjMy5pbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0YmJnTW5lbW9uaWMgPSBcIkRFU1wiO1xuXHRcdFx0XHRcdHBvcHVsYXRlU2VsZWN0KGludGVudFZhbHVlRWxlbWVudCwgW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJPUkNMXCIsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk9yYWNsZSBDb3JwXCJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk1TRlRcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiTWljcm9zb2Z0XCJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIklCTVwiLFxuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJJQk1cIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiVmlld1F1b3RlXCI6XG5cdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRcIkludGVudCB0byBiZSBmaXJlZCBpcyBWaWV3UXVvdGUuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmluc3RydW1lbnQuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogUVwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdRdW90ZVwiO1xuXHRcdFx0XHRcdGZkYzNEZW5vbWluYXRpb24gPSBcImZkYzMuaW5zdHJ1bWVudFwiO1xuXHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJRXCI7XG5cdFx0XHRcdFx0cG9wdWxhdGVTZWxlY3QoaW50ZW50VmFsdWVFbGVtZW50LCBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3JhY2xlIENvcnBcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiTVNGVFwiLFxuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJNaWNyb3NvZnRcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiSUJNXCIsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHR1cGRhdGVTdGF0ZSgpO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKGludGVudFZhbHVlRWxlbWVudCkge1xuXHRcdGludGVudFZhbHVlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdGlmIChpbnRlbnRWYWx1ZUVsZW1lbnQpIHtcblx0XHRcdFx0c2VsZWN0ZWRJbnRlbnRWYWx1ZSA9IGludGVudFZhbHVlRWxlbWVudC52YWx1ZTtcblx0XHRcdFx0aWYgKHNlbGVjdGVkSW50ZW50VmFsdWUubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGxvZ0luZm9ybWF0aW9uKFxuXHRcdFx0XHRcdFx0YGFjdGlvbjogJHtzZWxlY3RlZEludGVudFR5cGV9LCB0eXBlOiAke2ZkYzNEZW5vbWluYXRpb259LCBiYmcgbW5lbW9uaWM6ICR7YmJnTW5lbW9uaWN9LCBzZWFyY2ggdmFsdWU6ICR7c2VsZWN0ZWRJbnRlbnRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHR1cGRhdGVTdGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0dXBkYXRlU3RhdGUoKTtcbn1cblxuLyoqXG4gKiBDb25uZWN0IHRvIEJsb29tYmVyZyBUZXJtaW5hbC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvQkJHVGVybWluYWwoKTogUHJvbWlzZTx2b2lkPiB7XG5cdHRyeSB7XG5cdFx0bG9nSW5mb3JtYXRpb24oXCJDaGVja2luZyBCbG9vbWJlcmcgVGVybWluYWwgU3RhdHVzXCIpO1xuXG5cdFx0aWYgKCEoYXdhaXQgaXNCbG9vbWJlcmdUZXJtaW5hbFJlYWR5KCkpKSB7XG5cdFx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHRvIEJsb29tYmVyZyB0ZXJtaW5hbC5cIik7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0XHRsb2dJbmZvcm1hdGlvbihcIkZhaWxlZCB0byBjb25uZWN0IHRvIEJsb29tYmVyZyB0ZXJtaW5hbC5cIik7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRiYmdDb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpO1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiQ29ubmVjdGlvbiBzdWNjZXNzZnVsXCIpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGJiZ0Nvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XG5cdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdGxvZ0luZm9ybWF0aW9uKGVycm9yVG9TdHJpbmcoZXJyb3IpKTtcblx0fVxufVxuXG4vKipcbiAqIERpc2Nvbm5lY3QgZnJvbSBCbG9vbWJlcmcgVGVybWluYWwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRpc2Nvbm5lY3RGcm9tQkJHVGVybWluYWwoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmIChiYmdDb25uZWN0aW9uKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGxvZ0luZm9ybWF0aW9uKFwiRGlzY29ubmVjdGluZyBmcm9tIEJsb29tYmVyZyBUZXJtaW5hbFwiKTtcblx0XHRcdGF3YWl0IGJiZ0Nvbm5lY3Rpb24uZGlzY29ubmVjdCgpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRiYmdDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuXHRcdFx0bG9nSW5mb3JtYXRpb24oXCJEaXNjb25uZWN0ZWQgZnJvbSBCbG9vbWJlcmcgVGVybWluYWxcIik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmlyZSBhbiBpbnRlbnQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZpcmVJbnRlbnRGb3JCQkcoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmIChiYmdDb25uZWN0aW9uKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGxvZ0luZm9ybWF0aW9uKFxuXHRcdFx0XHRgYWN0aW9uOiAke3NlbGVjdGVkSW50ZW50VHlwZX0sIHR5cGU6ICR7ZmRjM0Rlbm9taW5hdGlvbn0sIGJiZyBtbmVtb25pYzogJHtiYmdNbmVtb25pY30sIHNlYXJjaCB2YWx1ZTogJHtzZWxlY3RlZEludGVudFZhbHVlfWBcblx0XHRcdCk7XG5cblx0XHRcdGxldCBpbnRlbnQ6IE9wZW5GaW4uSW50ZW50O1xuXG5cdFx0XHRzd2l0Y2ggKHNlbGVjdGVkSW50ZW50VHlwZSkge1xuXHRcdFx0XHRjYXNlIFwiVmlld0NoYXJ0XCI6XG5cdFx0XHRcdFx0aW50ZW50ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogc2VsZWN0ZWRJbnRlbnRUeXBlLFxuXHRcdFx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBmZGMzRGVub21pbmF0aW9uLFxuXHRcdFx0XHRcdFx0XHRpZDoge1xuXHRcdFx0XHRcdFx0XHRcdHRpY2tlcjogc2VsZWN0ZWRJbnRlbnRWYWx1ZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcIlZpZXdDb250YWN0XCI6XG5cdFx0XHRcdFx0aW50ZW50ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogc2VsZWN0ZWRJbnRlbnRUeXBlLFxuXHRcdFx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBmZGMzRGVub21pbmF0aW9uLFxuXHRcdFx0XHRcdFx0XHRuYW1lOiBzZWxlY3RlZEludGVudFZhbHVlLFxuXHRcdFx0XHRcdFx0XHRpZDoge31cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGludGVudCA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHNlbGVjdGVkSW50ZW50VHlwZSxcblx0XHRcdFx0XHRcdGNvbnRleHQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogZmRjM0Rlbm9taW5hdGlvbixcblx0XHRcdFx0XHRcdFx0aWQ6IHtcblx0XHRcdFx0XHRcdFx0XHR0aWNrZXI6IHNlbGVjdGVkSW50ZW50VmFsdWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IGZpbi5tZS5pbnRlcm9wLmZpcmVJbnRlbnQoaW50ZW50KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bG9nSW5mb3JtYXRpb24oYEVycm9yIHdoaWxlIHRyeWluZyB0byByYWlzZSBpbnRlbnQ6ICR7ZXJyb3JUb1N0cmluZyhlcnJvcil9YCk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiTm90IGNvbm5lY3RlZCB0byB0aGUgQmxvb21iZXJnIFRlcm1pbmFsLiBQbGVhc2UgY2hlY2sgeW91ciBzdGF0dXMgb3IgbG9nIGluIGFnYWluLlwiKTtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIERPTS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3RhdGUoKTogdm9pZCB7XG5cdGNvbnN0IGlzQ29ubmVjdGVkID0gYmJnQ29ubmVjdGlvbiAhPT0gdW5kZWZpbmVkO1xuXHRpZiAoYnRuQ29ubmVjdCkge1xuXHRcdGJ0bkNvbm5lY3QuZGlzYWJsZWQgPSBpc0Nvbm5lY3RlZDtcblx0fVxuXHRpZiAoYnRuRGlzY29ubmVjdCkge1xuXHRcdGJ0bkRpc2Nvbm5lY3QuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQ7XG5cdH1cblx0aWYgKGludGVudFR5cGVFbGVtZW50KSB7XG5cdFx0aW50ZW50VHlwZUVsZW1lbnQuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQ7XG5cdH1cblx0aWYgKGludGVudFZhbHVlRWxlbWVudCkge1xuXHRcdGludGVudFZhbHVlRWxlbWVudC5kaXNhYmxlZCA9ICFpc0Nvbm5lY3RlZCB8fCBzZWxlY3RlZEludGVudFR5cGUubGVuZ3RoID09PSAwO1xuXHR9XG5cdGlmIChidG5RdWVyeSkge1xuXHRcdGJ0blF1ZXJ5LmRpc2FibGVkID0gIWlzQ29ubmVjdGVkIHx8IHNlbGVjdGVkSW50ZW50VmFsdWUubGVuZ3RoID09PSAwO1xuXHR9XG59XG5cbi8qKlxuICogTG9nIGluZm9ybWF0aW9uIHRvIHRoZSBvdXRwdXQgZWxlbWVudC5cbiAqIEBwYXJhbSBpbmZvIFRoZSBpbmZvcm1hdGlvbiB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIGxvZ0luZm9ybWF0aW9uKGluZm86IHN0cmluZyk6IHZvaWQge1xuXHRpZiAobG9nT3V0cHV0KSB7XG5cdFx0bG9nT3V0cHV0LnRleHRDb250ZW50ID0gYCR7bG9nT3V0cHV0LnRleHRDb250ZW50ICsgaW5mb31cXG5cXG5gO1xuXHRcdGxvZ091dHB1dC5zY3JvbGxUb3AgPSBsb2dPdXRwdXQuc2Nyb2xsSGVpZ2h0O1xuXHR9XG59XG5cbi8qKlxuICogQ29udmVydCBhbmQgZXJyb3IgdG8gYSBzdHJpbmcuXG4gKiBAcGFyYW0gZXJyIFRoZSBlcnJvciB0byBjb252ZXJ0LlxuICogQHJldHVybnMgVGhlIGVycm9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlcnJvclRvU3RyaW5nKGVycjogdW5rbm93bik6IHN0cmluZyB7XG5cdGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdHJldHVybiBlcnIubWVzc2FnZTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXJyID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGVycjtcblx0fVxuXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShlcnIpO1xufVxuXG4vKipcbiAqIENsZWFyIHRoZSBsb2dzLlxuICovXG5mdW5jdGlvbiBjbGVhckxvZ3MoKTogdm9pZCB7XG5cdGlmIChsb2dPdXRwdXQpIHtcblx0XHRsb2dPdXRwdXQudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdGxvZ091dHB1dC5zY3JvbGxUb3AgPSAwO1xuXHR9XG59XG5cbi8qKlxuICogUG9wdWxhdGUgYSBzZWxlY3QgY29udHJvbCB3aXRoIGEgbGlzdCBvZiBpdGVtcy5cbiAqIEBwYXJhbSBzZWxlY3QgVGhlIHNlbGVjdCBlbGVtZW50IHRvIHBvcHVsYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIHBvcHVsYXRlIHRoZSBlbGVtZW50IHdpdGguXG4gKi9cbmZ1bmN0aW9uIHBvcHVsYXRlU2VsZWN0KHNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsLCB2YWx1ZXM6IHsgdmFsdWU6IHN0cmluZzsgbGFiZWw6IHN0cmluZyB9W10pOiB2b2lkIHtcblx0aWYgKHNlbGVjdCkge1xuXHRcdHNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGNvbnN0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0b3B0LnZhbHVlID0gXCJcIjtcblx0XHRvcHQudGV4dCA9IFwiUGxlYXNlIHNlbGVjdCB2YWx1ZVwiO1xuXHRcdG9wdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0b3B0LnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRzZWxlY3QuYXBwZW5kKG9wdCk7XG5cblx0XHRmb3IgKGNvbnN0IHZhbCBvZiB2YWx1ZXMpIHtcblx0XHRcdGNvbnN0IG9wdFZhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0XHRvcHRWYWwudmFsdWUgPSB2YWwudmFsdWU7XG5cdFx0XHRvcHRWYWwudGV4dCA9IHZhbC5sYWJlbDtcblx0XHRcdHNlbGVjdC5hcHBlbmQob3B0VmFsKTtcblx0XHR9XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==