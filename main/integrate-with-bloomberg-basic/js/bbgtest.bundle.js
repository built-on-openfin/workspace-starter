/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@openfin/bloomberg/openfin.bloomberg.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiError: () => (/* binding */ X),
/* harmony export */   AppNotAuthorizedError: () => (/* binding */ ee),
/* harmony export */   InteropError: () => (/* binding */ te),
/* harmony export */   TerminalCommandError: () => (/* binding */ ne),
/* harmony export */   TerminalConnectionError: () => (/* binding */ re),
/* harmony export */   connect: () => (/* binding */ oe),
/* harmony export */   disableLogging: () => (/* binding */ ie),
/* harmony export */   enableLogging: () => (/* binding */ se),
/* harmony export */   isBloombergTerminalReady: () => (/* binding */ ae),
/* harmony export */   isCusip: () => (/* binding */ ce),
/* harmony export */   isEquity: () => (/* binding */ ue),
/* harmony export */   isFigi: () => (/* binding */ le),
/* harmony export */   isIsin: () => (/* binding */ pe)
/* harmony export */ });
var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{MS:()=>ApiError,xc:()=>AppNotAuthorizedError,BT:()=>InteropError,ez:()=>TerminalCommandError,yW:()=>TerminalConnectionError,$j:()=>H,U$:()=>s,U7:()=>a,GS:()=>k,hN:()=>C,Yc:()=>A,eE:()=>O,C1:()=>x});const n=e=>{var t,n,r,o;if(e instanceof ApiError)return e;switch(!0){case(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.indexOf("APPLICATION_VALIDATION"))>=0:return new AppNotAuthorizedError;case(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.indexOf("INVALID_COMMAND"))>=0:case(null===(r=null==e?void 0:e.message)||void 0===r?void 0:r.indexOf("INVALID_GROUP_VALUE"))>=0:case(null===(o=null==e?void 0:e.message)||void 0===o?void 0:o.indexOf("MNEMONIC_NOT_ALLOWED"))>=0:return new TerminalCommandError(void 0,e);case"[object Object]"===(null==e?void 0:e.message):return new TerminalConnectionError;default:return new ApiError(void 0,e)}};class ApiError extends Error{constructor(e="An unexpected error has occurred",t){var n;super(e),t&&(this.innerError=t),this.stack=null===(n=this.stack)||void 0===n?void 0:n.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class AppNotAuthorizedError extends ApiError{constructor(e="App not authorized to use Terminal Connect API",t){super(e,t)}}class InteropError extends ApiError{constructor(e="Failed to execute the interop function",t){super(e,t)}}class TerminalCommandError extends ApiError{constructor(e="Failed to execute the terminal command",t){super(e,t)}}class TerminalConnectionError extends ApiError{constructor(e="Failed to connect to local terminal service",t){super(e,t)}}const r="1.1.0";let o=!1;const i="[@openfin/bloomberg]",s=()=>{o=!1},a=()=>{o=!0,u(`v${r}`)},c=(e,t)=>{o&&(e.innerError?console.error(t?`${i} ${t}`:i,e,"\n\n(inner)",e.innerError):console.error(t?`${i} ${t}`:i,e))},u=(...e)=>{o&&console.log(i,...e)},l=(...e)=>{o&&console.warn(i,...e)};"undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Bloomberg:{enableLogging:a,disableLogging:s}}});class p{constructor(e,t,n){this._lastUpdate=0,this._securityCacheExpiration=15e3,this._securityCache="",this._name=t,this._type=n,this._terminalProxy=e}get name(){return this._name}get type(){return this._type}getSecurity(){return new Promise(((e,t)=>{this._terminalProxy.getAllGroups((n=>{const r=n.find((e=>e.name===this._name));r?(this._securityCache=r.security,this._lastUpdate=(new Date).getTime(),e(this._securityCache)):t(new Error(`Group ${name} is not found.`))}),((e,n)=>{t(new Error(n))}))}))}getCachedSecurity(){return new Promise((async(e,t)=>{const n=(new Date).getTime();(!this._securityCache||!this._lastUpdate||n-this._lastUpdate>this._securityCacheExpiration)&&await this.getSecurity(),e(this._securityCache)}))}setSecurity(e,t){return new Promise(((n,r)=>{this._terminalProxy.setGroupSecurity((()=>{this._securityCache=e,this._lastUpdate=(new Date).getTime(),n()}),((e,t)=>{r(new Error(t))}),this._name,e,t)}))}}function d(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,o,i,s,a,c,u="",l=0;for(;l<e.length;)n=e.charCodeAt(l++),r=e.charCodeAt(l++),o=e.charCodeAt(l++),i=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|o>>6,c=63&o,isNaN(r)?a=c=64:isNaN(o)&&(c=64),u=u+t.charAt(i)+t.charAt(s)+t.charAt(a)+t.charAt(c);return u}class h{constructor(){this._seqNumber=0,this._isConnecting=!1,this._isConnected=!1,this._isRegistered=!1,this._sessionId="",this._queuedRequests=[],this._pendingRequests={},this._minPortRange=51800,this._maxPortRange=51820,this._currentPort=51800,this._responseTimeout=15e3,this._disconnectEventSubscriptions={},this._groupEventSubscriptions={},this.sendRemoteMessage=(e,t,n,r)=>{if(this._isRegistered||e.register||this.sendRemoteMessage({register:{}},12,null,console.error),this._sessionId||(this._sessionId=`{${function(){const e="0123456789ABCDEF".split("");let t,n=[],r=Math.random;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var o=0;o<36;o++)n[o]||(t=0|16*r(),n[o]=e[19==o?3&t|8:15&t]);return n.join("")}()}}`),e.setGroupValue&&!e.setGroupValue.cookie&&(e.setGroupValue.cookie=this._sessionId),e.subscribeGroupEvents){const t=e.subscribeGroupEvents.subId;delete e.subscribeGroupEvents.subId,r=e=>{delete this._groupEventSubscriptions[t],r&&r(e)}}const o={sessionId:this._sessionId,correlationId:++this._seqNumber,request:e},i=JSON.stringify(o),s=t>12,a=s?{appId:o.appId,sessionId:o.sessionId,correlationId:o.correlationId,payloadSchemaName:"ap3g_internal",payloadSchemaVersion:2,payloadMsgType:t,payload:d(i)}:void 0,c={envelope:{schemaName:s?"blp_lpad_msg":"blp_remote_controller",schemaVersion:2,message:s?JSON.stringify(a):i},correlationId:o.correlationId,expectResponse:!0,onsuccess:n,onerror:r};this._pendingRequests[o.correlationId]=c,this._isConnected?this.sendRequest(c):(this._queuedRequests.push(c),this.connect())}}addEventListener(e){const t=Object.keys(this._groupEventSubscriptions).length+1;return this._groupEventSubscriptions[t]=e,t}removeEventListener(e){return delete this._groupEventSubscriptions[e],Object.keys(this._groupEventSubscriptions).length}addDisconnectEventListener(e){const t=Object.keys(this._disconnectEventSubscriptions).length+1;return this._disconnectEventSubscriptions[t]=e,t}removeDisconnectEventListener(e){const t=Object.keys(this._disconnectEventSubscriptions).length;delete this._disconnectEventSubscriptions[e];return t!==Object.keys(this._disconnectEventSubscriptions).length}sendRequest(e){const t=JSON.stringify(e.envelope);this._webSocket&&this._webSocket.send(t),e.expectResponse?setTimeout((()=>{this._pendingRequests[e.correlationId]&&(delete this._pendingRequests[e.correlationId],e.onerror&&e.onerror(0,"Response Timeout"))}),this._responseTimeout):delete this._pendingRequests[e.correlationId]}connect(){try{if(this._isConnecting)return;this._isConnecting=!0,this._webSocket=new WebSocket("ws://localhost:"+this._currentPort,"terminal_api"),this._webSocket.onopen=this.onWebSocketOpen.bind(this),this._webSocket.onmessage=this.onWebSocketMessage.bind(this),this._webSocket.onclose=this.onWebSocketClose.bind(this),this._webSocket.onerror=this.onWebSocketError.bind(this)}catch(e){this._webSocket=void 0,this.cancelPendingRequests("WebSocket Exception "+e),console.error(e)}}cancelPendingRequests(e){this._isConnected=!1,this._isConnecting=!1,this._isRegistered=!1,this._sessionId="";for(let t in this._pendingRequests){const n=this._pendingRequests[t];n&&n.onerror&&n.onerror(0,e)}this._pendingRequests={}}onWebSocketClose(e){if(console.log("WebSocket Closed; Reason: "+e.reason+", Code: "+e.code+", WasClean: "+e.wasClean),this._isConnected){const t={};e&&void 0!==e.reason&&(t.reason=e.reason),e&&void 0!==e.code&&(t.code=e.code),e&&void 0!==e.wasClean&&(t.wasClean=e.wasClean),this._currentPort=this._minPortRange,this.cancelPendingRequests({status:"error",message:"Connection Closed",details:t});for(let e in this._disconnectEventSubscriptions){const t=this._disconnectEventSubscriptions[e];t&&t(e)}}}onWebSocketError(){if(console.log("WebSocket Error;  readyState: "+(this._webSocket&&this._webSocket.readyState)),this._isConnecting=!1,this._currentPort<this._maxPortRange)this._currentPort+=1,this.connect();else{this._currentPort=this._minPortRange;const e={readyState:this._webSocket&&this._webSocket.readyState};this.cancelPendingRequests({status:"error",message:"Connection Error",details:e})}}onWebSocketOpen(){for(this._isConnected=!0,this._isConnecting=!1;this._queuedRequests.length>0;)this.sendRequest(this._queuedRequests.shift())}onWebSocketMessage(e){var t=e&&e.data?e.data:"null",n=JSON.parse(t),r=n?JSON.parse(n.message):null,o=r&&r.response?this._pendingRequests[r.correlationId]:null;o&&delete this._pendingRequests[r.correlationId],this.processResponse(o,r.response)}getGroupInfo(e){return e?{name:e.name,type:e.type,security:"security"===e.type&&e.value?e.value:void 0}:{}}processResponse(e,t){if(t.success)e.onsuccess&&e.onsuccess();else if(t.registrationComplete)this._isRegistered=!0,console.log("Registration Complete; Session: "+this._sessionId),e.onsuccess&&e.onsuccess();else if(t.getAllGroups){const n=t.getAllGroups.group;e.onsuccess&&e.onsuccess(n?n.map(this.getGroupInfo):[])}else if(t.groupValue)e.onsuccess&&e.onsuccess(this.getGroupInfo(t.groupValue.group));else if(t.groupEvent){if(t.groupEvent.valueChanged){const e=t.groupEvent.valueChanged.group,n=t.groupEvent.valueChanged.cookie===this._sessionId?void 0:t.groupEvent.valueChanged.cookie;for(let t in this._groupEventSubscriptions){const r=this._groupEventSubscriptions[t];r&&r(e,n)}}}else e.onerror&&e.onerror(t.failure&&t.failure.code||0,t.failure?`${t.failure.message} ${t.failure.humanMessage}`:"Unknown Response")}}class g{constructor(){this._webSocket=new h}runFunction(e,t,n,r,o,i,s,a){let c="";if(n&&n.length?1!==r&&2!==r&&3!==r&&4!==r&&5!==r&&(c="Invalid Or Missing Parameter: panel"):c="Invalid Or Missing Parameter: mnemonic",c)return console.error("runFunctionInPanel error: "+c),void(t&&t(0,c));const u={runFunctionInPanel:{mnemonic:n,panel:r}};if(o){const e=[];e.push(o),i&&e.push(i),u.runFunctionInPanel.securities=e}s&&(u.runFunctionInPanel.tails=s),a&&(u.runFunctionInPanel.applicationProperties=a),this._webSocket.sendRemoteMessage(u,0,e,t)}getAllGroups(e,t){this._webSocket.sendRemoteMessage({getAllGroups:{}},13,e,t)}getGroup(e,t,n){if(!n||!n.length){const e="Invalid Or Missing Parameter: name";return console.error(e),void(t&&t(0,e))}this._webSocket.sendRemoteMessage({getGroupValue:{name:n}},15,e,t)}setGroupSecurity(e,t,n,r,o){let i="";if(n&&n.length?r&&r.length||(i="Invalid Or Missing Parameter: security"):i="Invalid Or Missing Parameter: name",i)return console.error("setGroupContext error: "+i),void(t&&t(0,i));this._webSocket.sendRemoteMessage({setGroupValue:{name:n,value:r,cookie:o}},14,e,t)}subscribeGroupEvents(e,t,n){if(!n){const e="Invalid Or Missing Parameter: callback";return console.error("subscribeGroupEvents error: "+e),void(t&&t(0,e))}const r=this._webSocket.addEventListener(n);1===r?this._webSocket.sendRemoteMessage({subscribeGroupEvents:{subId:r}},16,(()=>{e&&e(r)}),(e=>{t&&t(0,e)})):e&&e(r)}unsubscribeGroupEvents(e,t,n){if(!n){const e="Invalid Or Missing Parameter: cookie";return console.error("unsubscribeGroupEvents error: "+e),void(t&&t(0,e))}0===this._webSocket.removeEventListener(n)?this._webSocket.sendRemoteMessage({unsubscribeGroupEvents:{}},17,e,t):e&&e()}subscribeDisconnectEvent(e,t,n){if(!n){const e="Invalid Or Missing Parameter: callback";return console.error("subscribeDisconnectEvent error: "+e),t&&t(0,e),null}const r=this._webSocket.addDisconnectEventListener(n);return e&&e(r),r}unsubscribeDisconnectEvent(e,t,n){if(!n){const e="Invalid Or Missing Parameter: cookie";return console.error("unsubscribeDisconnectEvent error: "+e),t&&t(0,e),!1}return this._webSocket.removeDisconnectEventListener(n)?(e&&e(),!0):(t&&t(0,"Invalid Subscription"),!1)}}class f{constructor(){this.runFunction=window.bb.apps.tc.runFunction,this.getGroup=window.bb.apps.tc.getGroup,this.setGroupSecurity=window.bb.apps.tc.setGroupSecurity,this.getAllGroups=window.bb.apps.tc.getAllGroups,this.subscribeGroupEvents=window.bb.apps.tc.subscribeGroupEvents,this.unsubscribeGroupEvents=window.bb.apps.tc.unsubscribeGroupEvents}subscribeDisconnectEvent(e,t,n){}unsubscribeDisconnectEvent(e,t,n){}}class m{constructor(e=!function(){return!!(window.bb&&window.bb.apps&&window.bb.apps.app&&window.bb.apps.event)}()){this._helperSetGroupValues=e=>{const t=new p(this._terminalProxy,e.name,e.type);return t._securityCache=e.security,t._lastUpdate=(new Date).getTime(),t},this._terminalProxy=e?new g:new f}runFunction(e,t,n,r,o){return new Promise(((i,s)=>{this._terminalProxy.runFunction(i,((e,t)=>{s(new Error(t))}),e,t,n||null,r||null,o||null)}))}getAllGroups(){return new Promise(((e,t)=>{this._terminalProxy.getAllGroups((t=>{e(Array.from(t,this._helperSetGroupValues))}),((e,n)=>{t(new Error(n))}))}))}getGroup(e){return new Promise(((t,n)=>{this._terminalProxy.getAllGroups((r=>{const o=r.find((t=>t.name===e));o?t(this._helperSetGroupValues(o)):n(new Error(`Group ${e} is not found.`))}),((e,t)=>{n(new Error(t))}))}))}subscribeGroupEvents(e){return new Promise(((t,n)=>{this._terminalProxy.subscribeGroupEvents((e=>{t(e)}),((e,t)=>{n(new Error(t))}),((t,n)=>{e(this._helperSetGroupValues(t),n)}))}))}unsubscribeGroupEvents(e){return new Promise(((t,n)=>{this._terminalProxy.unsubscribeGroupEvents((()=>{t()}),((e,t)=>{n(new Error(t))}),e)}))}}const v=(window.BB=window.BB||{},window.BB.Apps=window.BB.Apps||{},window.BB.Apps.Terminal=window.BB.Apps.Terminal||new m,window.BB.Apps.Terminal);var b,y,w;!function(e){e.AppNotFound="AppNotFound",e.ErrorOnLaunch="ErrorOnLaunch",e.AppTimeout="AppTimeout",e.ResolverUnavailable="ResolverUnavailable"}(b||(b={})),function(e){e.NoAppsFound="NoAppsFound",e.ResolverUnavailable="ResolverUnavailable",e.ResolverTimeout="ResolverTimeout"}(y||(y={})),function(e){e.NoChannelFound="NoChannelFound",e.AccessDenied="AccessDenied",e.CreationFailed="CreationFailed"}(w||(w={}));var _,E;_=function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(r||[]);return i._invoke=function(e,t,n){var r=p;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?g:d,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",f={};function m(){}function v(){}function b(){}var y={};y[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(G([])));_&&_!==n&&r.call(_,i)&&(y=_);var E=b.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,s,a){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function G(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=E.constructor=b,b.constructor=v,v.displayName=c(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[s]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new I(u(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(E),c(E,a,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=G,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:G(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},_(E={exports:{}},E.exports);var S;!function(e){e.Contact="fdc3.contact",e.ContactList="fdc3.contactList",e.Country="fdc3.country",e.Instrument="fdc3.instrument",e.Organization="fdc3.organization",e.Portfolio="fdc3.portfolio",e.Position="fdc3.position"}(S||(S={}));var I;!function(e){e.StartCall="StartCall",e.StartChat="StartChat",e.ViewChart="ViewChart",e.ViewContact="ViewContact",e.ViewQuote="ViewQuote",e.ViewNews="ViewNews",e.ViewInstrument="ViewInstrument",e.ViewAnalysis="ViewAnalysis"}(I||(I={}));const C=e=>!!e&&/^([A-Z0-9]{5})([A-Z0-9*@#]{3})(\d)$/i.test(e),A=e=>!!e&&/\b(EQUITY)$/i.test(e),O=e=>!!e&&/^(?!B[SM]|G[GBH]|KY|VG)([A-Z]{2})(G)(((?![AEIOU_])\w){8})(\d)$/i.test(e),x=e=>!!e&&/^([A-Z]{2})([A-Z0-9]{9})(\d)$/i.test(e),G="OF_BBG_API",P=(e,t,r)=>async(o,i)=>{var s;if(void 0===(null!==(s=null==o?void 0:o.name)&&void 0!==s?s:void 0)){const e=new ApiError(void 0,"Group event source is undefined");throw c(e),null==r||r(e),e}if("*"!==e&&o.name!==e||i===G)return;let a;try{a=await o.getSecurity()}catch(e){const t=n(e);throw c(t),null==r||r(t),t}u(`Launchpad group ${o.name} security changed to:`,a);const l=(e=>{const t={type:S.Instrument,id:{BBG:e}},n=(e=>{var t;if(null==e?void 0:e.trim())return(null!==(t=e.match(/^\w+/))&&void 0!==t?t:[])[0]})(e);if(!n)return t;switch(!0){case C(n):t.id.CUSIP=n;break;case O(n):t.id.FIGI=n;break;case x(n):t.id.ISIN=n;break;case A(e):t.id.ticker=n}return t})(a);l.openfinBbgApi=!0,null==t||t(l),u("Setting new context: ",l);try{await fin.me.interop.setContext(l)}catch(e){const t=new InteropError(void 0,e);c(t),null==r||r(t)}},k=async()=>{let e=!0;try{await v.getAllGroups()}catch(t){const r=n(t);if(!(r instanceof TerminalConnectionError))throw c(r),r;e=!1}return u("Bloomberg terminal ready: ",e),e},M=async(e,t,r,o,i)=>{if("number"==typeof e){u(`Running terminal function in panel ${e}: `,t,r,o,i);try{await v.runFunction(t,e,r,o,i)}catch(e){const t=n(e);throw c(t),t}}else u(`Unable to run function as target ${e} is not a panel`,t,r,o,i)},R={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};R.defaultMerge;function F(e,t){return t}function L(e){return"object"!=typeof e||null===e?0:Array.isArray(e)?2:function(e){if(!B.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(void 0===t)return!0;const n=t.prototype;if(null===n||"object"!=typeof n||!B.has(Object.prototype.toString.call(n)))return!1;if(!n.hasOwnProperty("isPrototypeOf"))return!1;return!0}(e)?1:e instanceof Set?3:e instanceof Map?4:5}function N(e){const t=new Set;for(const n of e)for(const e of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(e);return t}function j(e,t){return"object"==typeof e&&Object.prototype.propertyIsEnumerable.call(e,t)}function T(e){return{*[Symbol.iterator](){for(const t of e)for(const e of t)yield e}}}const B=new Set(["[object Object]","[object Module]"]);function V(e){return e[e.length-1]}var D=Object.freeze({__proto__:null,mergeRecords:function(e,t,n){const r={};for(const o of N(e)){const i=[];for(const t of e)j(t,o)&&i.push(t[o]);if(0===i.length)continue;const s=t.metaDataUpdater(n,{key:o,parents:e}),a=U(i,t,s);a!==R.skip&&("__proto__"===o?Object.defineProperty(r,o,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[o]=a)}return r},mergeArrays:function(e){return e.flat()},mergeSets:function(e){return new Set(T(e))},mergeMaps:function(e){return new Map(T(e))},mergeOthers:V});function $(...e){return function(e,t){const n=function(e,t){var n,r;return{defaultMergeFunctions:D,mergeFunctions:{...D,...Object.fromEntries(Object.entries(e).filter((([e,t])=>Object.prototype.hasOwnProperty.call(D,e))).map((([e,t])=>!1===t?[e,V]:[e,t])))},metaDataUpdater:null!==(n=e.metaDataUpdater)&&void 0!==n?n:F,deepmerge:t,useImplicitDefaultMerging:null!==(r=e.enableImplicitDefaultMerging)&&void 0!==r&&r,actions:R}}(e,r);function r(...e){return U(e,n,t)}return r}({})(...e)}function U(e,t,n){if(0===e.length)return;if(1===e.length)return q(e,t,n);const r=L(e[0]);if(0!==r&&5!==r)for(let o=1;o<e.length;o++)if(L(e[o])!==r)return q(e,t,n);switch(r){case 1:return function(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords)return t.defaultMergeFunctions.mergeRecords(e,t,n);return r}(e,t,n);case 2:return function(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays)return t.defaultMergeFunctions.mergeArrays(e);return r}(e,t,n);case 3:return function(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets)return t.defaultMergeFunctions.mergeSets(e);return r}(e,t,n);case 4:return function(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);if(r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps)return t.defaultMergeFunctions.mergeMaps(e);return r}(e,t,n);default:return q(e,t,n)}}function q(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===R.defaultMerge||t.useImplicitDefaultMerging&&void 0===r&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}const W=async(e,t,n)=>{const r=(()=>{const e=new Map,t=new Map,n={target:1,mnemonic:"DES"},r={target:1,mnemonic:"GP"},o={target:1,mnemonic:"Q"},i={target:1,mnemonic:"BIO"},s={target:1,mnemonic:"SEAR"};e.set(S.Instrument,Object.assign({},n)),e.set(S.Contact,Object.assign({},i)),e.set(S.Organization,Object.assign({},s));const a=new Map;a.set(S.Instrument,Object.assign({},r)),t.set(I.ViewChart,a);const c=new Map;c.set(S.Contact,Object.assign({},i)),t.set(I.ViewContact,c);const u=new Map;u.set(S.Instrument,Object.assign({},n)),t.set(I.ViewInstrument,u);const l=new Map;return l.set(S.Instrument,Object.assign({},o)),t.set(I.ViewQuote,l),{contexts:e,intents:t}})(),o=(e=>{var t,n,r,o;const i=e=>{const[t]=e;return!!(null!=t?t:"").trim()},s=[...null!==(n=null===(t=null==e?void 0:e.contexts)||void 0===t?void 0:t.entries())&&void 0!==n?n:[]].filter(i),a=[...null!==(o=null===(r=null==e?void 0:e.intents)||void 0===r?void 0:r.entries())&&void 0!==o?o:[]].filter((e=>{var t;const[n,r]=e,o=[...null!==(t=null==r?void 0:r.entries())&&void 0!==t?t:[]].filter(i);return!!(null!=n?n:"").trim()&&o.length>0}));return{contexts:new Map(s),intents:new Map(a)}})(e),i=$(r,o),s=i.contexts,a=i.intents,p=[];let d;p.push(fin.me.interop.addContextHandler(((e,t,n)=>async r=>{r?await z(r,e,t,n):u("No context info provided, ignoring")})(s,t,n))),a.forEach(((e,r)=>{p.push(fin.me.interop.registerIntentHandler(((e,t,n)=>async r=>{u("Intent received",r);const{context:o}=r;o?e?await z(o,e,t,n):l(`No actions have been provided for intent ${r.name}, ignoring`):l("No context info provided with intent, ignoring")})(e,t,n),r))}));try{d=await Promise.all(p)}catch(e){const t=new ApiError("Failed to register interop handlers",e);throw c(t),t}return d},z=async(e,t,n,r)=>{if(null==n||n(e),!0===e.openfinBbgApi)return;if(u("Processing context",e),!t.has(e.type)||!t.get(e.type))return void l(`No action has been defined for context type ${e.type}, ignoring`);const o=t.get(e.type);try{switch(!0){case e.type.toUpperCase().endsWith("CONTACT"):await Y(e,o);break;case e.type.toUpperCase().endsWith("INSTRUMENT"):await Z(e,o);break;case e.type.toUpperCase().endsWith("ORGANIZATION"):await J(e,o);break;default:return void l(`Context type ${e.type} is not supported, ignoring`)}}catch(e){let t;e instanceof ApiError?t=e:(t=new ApiError(void 0,e),c(t)),null==r||r(t)}},Y=async(e,t)=>{const{name:n}=e;if(!n)return void l("Contact context did not include a name, ignoring");if("string"==typeof t)return void l("Contact context is not compatible with group actions, ignoring");const{mnemonic:r,tails:o,target:i}=t,s=`${n} ${null!=o?o:""}`.trim();await M(i,r,void 0,void 0,s)},Z=async(e,t)=>{const r=(e=>{const{BBG:t,ticker:n}=e.id;return t||(n?`${n} US Equity`:void u("Instrument context does not contain a supported id",e))})(e);if(!r)return void l("Instrument context did not contain a valid security, ignoring");if("string"==typeof t)return void await(async(e,t)=>{if(u(`Setting ${"*"===e?"every group":`group ${e}`} security to ${t}`),"*"===e){const e=await v.getAllGroups();await Promise.all(e.map((e=>e.setSecurity(t,G))))}else try{const n=await v.getGroup(e);await n.setSecurity(t,G)}catch(e){const t=n(e);throw c(t),t}})(t,r);const{mnemonic:o,tails:i,target:s}=t;await M(s,o,r,void 0,i)},J=async(e,t)=>{const{name:n}=e;if(!n)return void l("Organization context did not include a name, ignoring");if("string"==typeof t)return void l("Organization context is not compatible with group actions, ignoring");const{mnemonic:r,tails:o,target:i}=t,s=`${n} ${null!=o?o:""}`.trim();await M(i,r,void 0,void 0,s)};var Q;!function(e){e.Bloomberg="BLOOMBERG"}(Q||(Q={}));const H=async e=>{(async e=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:r,componentName:e}})}catch(t){l(`Unable to register usage for feature ${e}: ${null==t?void 0:t.message}`)}})(Q.Bloomberg);const{group:t,actions:n,onContextChanged:o,onError:i}=null!=e?e:{};if(u("Creating interop connection",t,n),!await k()){const e=new TerminalConnectionError;throw c(e),e}let s;void 0!==(null!=t?t:void 0)&&(s=await v.subscribeGroupEvents(P(t,o,i)),u("Launchpad group subscription created: ",s));const a=await W(n,o,i);return{disconnect:K(a,s)}},K=(e,t)=>async()=>{u("Disconnecting interop connection"),e&&await Promise.all(e.map((async e=>{await e.unsubscribe()}))),void 0!==(null!=t?t:void 0)&&await v.unsubscribeGroupEvents(t)};var X=t.MS,ee=t.xc,te=t.BT,ne=t.ez,re=t.yW,oe=t.$j,ie=t.U$,se=t.U7,ae=t.GS,ce=t.hN,ue=t.Yc,le=t.eE,pe=t.C1;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*******************************!*\
  !*** ./client/src/bbgtest.ts ***!
  \*******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/bloomberg */ "../../node_modules/@openfin/bloomberg/openfin.bloomberg.js");

let bbgConnection;
let selectedIntentType = "";
let selectedIntentValue = "";
let fdc3Denomination = "";
let bbgMnemonic = "";
let btnConnect;
let btnDisconnect;
let btnClearLogs;
let btnQuery;
let intentTypeElement;
let intentValueElement;
let logOutput;
window.addEventListener("DOMContentLoaded", async () => {
    // Enable logging in the BBG package
    (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    // Initialize the DOM elements.
    initializeDOM();
});
/**
 * Initialize the DOM.
 */
function initializeDOM() {
    btnConnect = document.querySelector("#btnConnect");
    btnDisconnect = document.querySelector("#btnDisconnect");
    btnClearLogs = document.querySelector("#btnClear");
    btnQuery = document.querySelector("#btnQuery");
    intentTypeElement = document.querySelector("#intentType");
    intentValueElement = document.querySelector("#intentValue");
    logOutput = document.querySelector("#logOutput");
    if (btnConnect) {
        btnConnect.addEventListener("click", async () => {
            if (btnConnect) {
                btnConnect.disabled = true;
            }
            await connectToBBGTerminal();
            updateState();
        });
    }
    if (btnDisconnect) {
        btnDisconnect.addEventListener("click", async () => {
            if (btnDisconnect) {
                btnDisconnect.disabled = true;
            }
            await disconnectFromBBGTerminal();
            updateState();
        });
    }
    if (btnClearLogs) {
        btnClearLogs.addEventListener("click", clearLogs);
    }
    if (btnQuery) {
        btnQuery.addEventListener("click", fireIntentForBBG);
    }
    if (intentTypeElement) {
        intentTypeElement.addEventListener("change", (event) => {
            if (intentTypeElement?.value) {
                if (btnQuery) {
                    btnQuery.disabled = true;
                }
                switch (intentTypeElement?.value) {
                    case "ViewChart":
                        logInformation("Intent to be fired is ViewChart. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: GP");
                        selectedIntentType = "ViewChart";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "GP";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                    case "ViewContact":
                        logInformation("Intent to be fired is ViewContact. Content Type is fdc3.contact. Bloomberg Terminal Mnemonic: BIO");
                        selectedIntentType = "ViewContact";
                        fdc3Denomination = "fdc3.contact";
                        bbgMnemonic = "BIO";
                        populateSelect(intentValueElement, [
                            {
                                value: "William Henry Gates",
                                label: "William Henry Gates"
                            },
                            {
                                value: "Larry Ellison",
                                label: "Larry Ellison"
                            },
                            {
                                value: "Robert Iger",
                                label: "Robert Iger"
                            }
                        ]);
                        break;
                    case "ViewInstrument":
                        logInformation("Intent to be fired is ViewInstrument. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: DES");
                        selectedIntentType = "ViewInstrument";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "DES";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                    case "ViewQuote":
                        logInformation("Intent to be fired is ViewQuote. Content Type is fdc3.instrument. Bloomberg Terminal Mnemonic: Q");
                        selectedIntentType = "ViewQuote";
                        fdc3Denomination = "fdc3.instrument";
                        bbgMnemonic = "Q";
                        populateSelect(intentValueElement, [
                            {
                                value: "ORCL",
                                label: "Oracle Corp"
                            },
                            {
                                value: "MSFT",
                                label: "Microsoft"
                            },
                            {
                                value: "IBM",
                                label: "IBM"
                            }
                        ]);
                        break;
                }
                updateState();
            }
        });
    }
    if (intentValueElement) {
        intentValueElement.addEventListener("change", () => {
            if (intentValueElement) {
                selectedIntentValue = intentValueElement.value;
                if (selectedIntentValue.length > 0) {
                    logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
                }
                updateState();
            }
        });
    }
    updateState();
}
/**
 * Connect to Bloomberg Terminal.
 */
async function connectToBBGTerminal() {
    try {
        logInformation("Checking Bloomberg Terminal Status");
        if (!(await (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.isBloombergTerminalReady)())) {
            const error = new Error("Failed to connect to Bloomberg terminal.");
            console.log(error);
            logInformation("Failed to connect to Bloomberg terminal.");
            throw error;
        }
        bbgConnection = await (0,_openfin_bloomberg__WEBPACK_IMPORTED_MODULE_0__.connect)();
        logInformation("Connection successful");
    }
    catch (error) {
        bbgConnection = undefined;
        console.log(error);
        logInformation(errorToString(error));
    }
}
/**
 * Disconnect from Bloomberg Terminal.
 */
async function disconnectFromBBGTerminal() {
    if (bbgConnection) {
        try {
            logInformation("Disconnecting from Bloomberg Terminal");
            await bbgConnection.disconnect();
        }
        finally {
            bbgConnection = undefined;
            logInformation("Disconnected from Bloomberg Terminal");
        }
    }
}
/**
 * Fire an intent.
 */
async function fireIntentForBBG() {
    if (bbgConnection) {
        try {
            logInformation(`action: ${selectedIntentType}, type: ${fdc3Denomination}, bbg mnemonic: ${bbgMnemonic}, search value: ${selectedIntentValue}`);
            let intent;
            switch (selectedIntentType) {
                case "ViewContact":
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            name: selectedIntentValue,
                            id: {}
                        }
                    };
                    break;
                default:
                    intent = {
                        name: selectedIntentType,
                        context: {
                            type: fdc3Denomination,
                            id: {
                                ticker: selectedIntentValue
                            }
                        }
                    };
                    break;
            }
            await fin.me.interop.fireIntent(intent);
        }
        catch (error) {
            logInformation(`Error while trying to raise intent: ${errorToString(error)}`);
        }
    }
    else {
        logInformation("Not connected to the Bloomberg Terminal. Please check your status or log in again.");
    }
}
/**
 * Update the state of the DOM.
 */
function updateState() {
    const isConnected = bbgConnection !== undefined;
    if (btnConnect) {
        btnConnect.disabled = isConnected;
    }
    if (btnDisconnect) {
        btnDisconnect.disabled = !isConnected;
    }
    if (intentTypeElement) {
        intentTypeElement.disabled = !isConnected;
    }
    if (intentValueElement) {
        intentValueElement.disabled = !isConnected || selectedIntentType.length === 0;
    }
    if (btnQuery) {
        btnQuery.disabled = !isConnected || selectedIntentValue.length === 0;
    }
}
/**
 * Log information to the output element.
 * @param info The information to log.
 */
function logInformation(info) {
    if (logOutput) {
        logOutput.textContent = `${logOutput.textContent}${info}\n\n`;
        logOutput.scrollTop = logOutput.scrollHeight;
    }
}
/**
 * Convert and error to a string.
 * @param err The error to convert.
 * @returns The error as a string.
 */
function errorToString(err) {
    if (err instanceof Error) {
        return err.message;
    }
    else if (typeof err === "string") {
        return err;
    }
    return JSON.stringify(err);
}
/**
 * Clear the logs.
 */
function clearLogs() {
    if (logOutput) {
        logOutput.textContent = "";
        logOutput.scrollTop = 0;
    }
}
/**
 * Populate a select control with a list of items.
 * @param select The select element to populate.
 * @param values The values to populate the element with.
 */
function populateSelect(select, values) {
    if (select) {
        select.innerHTML = "";
        const opt = document.createElement("option");
        opt.value = "";
        opt.text = "Please select value";
        opt.disabled = true;
        opt.selected = true;
        select.append(opt);
        for (const val of values) {
            const optVal = document.createElement("option");
            optVal.value = val.value;
            optVal.text = val.label;
            select.append(optVal);
        }
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEtBQUssQ0FBQztZQUN4QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3RCO0tBQ0Q7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9ibG9vbWJlcmcvb3BlbmZpbi5ibG9vbWJlcmcuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2ludGVncmF0ZS13aXRoLWJsb29tYmVyZy1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRlLXdpdGgtYmxvb21iZXJnLWJhc2ljLy4vY2xpZW50L3NyYy9iYmd0ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlPXtkOih0LG4pPT57Zm9yKHZhciByIGluIG4pZS5vKG4scikmJiFlLm8odCxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7ZW51bWVyYWJsZTohMCxnZXQ6bltyXX0pfSxvOihlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sdD17fTtlLmQodCx7TVM6KCk9PkFwaUVycm9yLHhjOigpPT5BcHBOb3RBdXRob3JpemVkRXJyb3IsQlQ6KCk9PkludGVyb3BFcnJvcixlejooKT0+VGVybWluYWxDb21tYW5kRXJyb3IseVc6KCk9PlRlcm1pbmFsQ29ubmVjdGlvbkVycm9yLCRqOigpPT5ILFUkOigpPT5zLFU3OigpPT5hLEdTOigpPT5rLGhOOigpPT5DLFljOigpPT5BLGVFOigpPT5PLEMxOigpPT54fSk7Y29uc3Qgbj1lPT57dmFyIHQsbixyLG87aWYoZSBpbnN0YW5jZW9mIEFwaUVycm9yKXJldHVybiBlO3N3aXRjaCghMCl7Y2FzZShudWxsPT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pbmRleE9mKFwiQVBQTElDQVRJT05fVkFMSURBVElPTlwiKSk+PTA6cmV0dXJuIG5ldyBBcHBOb3RBdXRob3JpemVkRXJyb3I7Y2FzZShudWxsPT09KG49bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pbmRleE9mKFwiSU5WQUxJRF9DT01NQU5EXCIpKT49MDpjYXNlKG51bGw9PT0ocj1udWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluZGV4T2YoXCJJTlZBTElEX0dST1VQX1ZBTFVFXCIpKT49MDpjYXNlKG51bGw9PT0obz1udWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmluZGV4T2YoXCJNTkVNT05JQ19OT1RfQUxMT1dFRFwiKSk+PTA6cmV0dXJuIG5ldyBUZXJtaW5hbENvbW1hbmRFcnJvcih2b2lkIDAsZSk7Y2FzZVwiW29iamVjdCBPYmplY3RdXCI9PT0obnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKTpyZXR1cm4gbmV3IFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yO2RlZmF1bHQ6cmV0dXJuIG5ldyBBcGlFcnJvcih2b2lkIDAsZSl9fTtjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZFwiLHQpe3ZhciBuO3N1cGVyKGUpLHQmJih0aGlzLmlubmVyRXJyb3I9dCksdGhpcy5zdGFjaz1udWxsPT09KG49dGhpcy5zdGFjayl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9fWNsYXNzIEFwcE5vdEF1dGhvcml6ZWRFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJBcHAgbm90IGF1dGhvcml6ZWQgdG8gdXNlIFRlcm1pbmFsIENvbm5lY3QgQVBJXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgSW50ZXJvcEVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZT1cIkZhaWxlZCB0byBleGVjdXRlIHRoZSBpbnRlcm9wIGZ1bmN0aW9uXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgVGVybWluYWxDb21tYW5kRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGV4ZWN1dGUgdGhlIHRlcm1pbmFsIGNvbW1hbmRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBUZXJtaW5hbENvbm5lY3Rpb25FcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJGYWlsZWQgdG8gY29ubmVjdCB0byBsb2NhbCB0ZXJtaW5hbCBzZXJ2aWNlXCIsdCl7c3VwZXIoZSx0KX19Y29uc3Qgcj1cIjEuMS4wXCI7bGV0IG89ITE7Y29uc3QgaT1cIltAb3BlbmZpbi9ibG9vbWJlcmddXCIscz0oKT0+e289ITF9LGE9KCk9PntvPSEwLHUoYHYke3J9YCl9LGM9KGUsdCk9PntvJiYoZS5pbm5lckVycm9yP2NvbnNvbGUuZXJyb3IodD9gJHtpfSAke3R9YDppLGUsXCJcXG5cXG4oaW5uZXIpXCIsZS5pbm5lckVycm9yKTpjb25zb2xlLmVycm9yKHQ/YCR7aX0gJHt0fWA6aSxlKSl9LHU9KC4uLmUpPT57byYmY29uc29sZS5sb2coaSwuLi5lKX0sbD0oLi4uZSk9PntvJiZjb25zb2xlLndhcm4oaSwuLi5lKX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGZpbiYmT2JqZWN0LmFzc2lnbih3aW5kb3cse2Zpbjp7fX0pLE9iamVjdC5hc3NpZ24oZmluLHtJbnRlZ3JhdGlvbnM6e0Jsb29tYmVyZzp7ZW5hYmxlTG9nZ2luZzphLGRpc2FibGVMb2dnaW5nOnN9fX0pO2NsYXNzIHB7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX2xhc3RVcGRhdGU9MCx0aGlzLl9zZWN1cml0eUNhY2hlRXhwaXJhdGlvbj0xNWUzLHRoaXMuX3NlY3VyaXR5Q2FjaGU9XCJcIix0aGlzLl9uYW1lPXQsdGhpcy5fdHlwZT1uLHRoaXMuX3Rlcm1pbmFsUHJveHk9ZX1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9Z2V0U2VjdXJpdHkoKXtyZXR1cm4gbmV3IFByb21pc2UoKChlLHQpPT57dGhpcy5fdGVybWluYWxQcm94eS5nZXRBbGxHcm91cHMoKG49Pntjb25zdCByPW4uZmluZCgoZT0+ZS5uYW1lPT09dGhpcy5fbmFtZSkpO3I/KHRoaXMuX3NlY3VyaXR5Q2FjaGU9ci5zZWN1cml0eSx0aGlzLl9sYXN0VXBkYXRlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGUodGhpcy5fc2VjdXJpdHlDYWNoZSkpOnQobmV3IEVycm9yKGBHcm91cCAke25hbWV9IGlzIG5vdCBmb3VuZC5gKSl9KSwoKGUsbik9Pnt0KG5ldyBFcnJvcihuKSl9KSl9KSl9Z2V0Q2FjaGVkU2VjdXJpdHkoKXtyZXR1cm4gbmV3IFByb21pc2UoKGFzeW5jKGUsdCk9Pntjb25zdCBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpOyghdGhpcy5fc2VjdXJpdHlDYWNoZXx8IXRoaXMuX2xhc3RVcGRhdGV8fG4tdGhpcy5fbGFzdFVwZGF0ZT50aGlzLl9zZWN1cml0eUNhY2hlRXhwaXJhdGlvbikmJmF3YWl0IHRoaXMuZ2V0U2VjdXJpdHkoKSxlKHRoaXMuX3NlY3VyaXR5Q2FjaGUpfSkpfXNldFNlY3VyaXR5KGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixyKT0+e3RoaXMuX3Rlcm1pbmFsUHJveHkuc2V0R3JvdXBTZWN1cml0eSgoKCk9Pnt0aGlzLl9zZWN1cml0eUNhY2hlPWUsdGhpcy5fbGFzdFVwZGF0ZT0obmV3IERhdGUpLmdldFRpbWUoKSxuKCl9KSwoKGUsdCk9PntyKG5ldyBFcnJvcih0KSl9KSx0aGlzLl9uYW1lLGUsdCl9KSl9fWZ1bmN0aW9uIGQoZSl7Y29uc3QgdD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7bGV0IG4scixvLGkscyxhLGMsdT1cIlwiLGw9MDtmb3IoO2w8ZS5sZW5ndGg7KW49ZS5jaGFyQ29kZUF0KGwrKykscj1lLmNoYXJDb2RlQXQobCsrKSxvPWUuY2hhckNvZGVBdChsKyspLGk9bj4+MixzPSgzJm4pPDw0fHI+PjQsYT0oMTUmcik8PDJ8bz4+NixjPTYzJm8saXNOYU4ocik/YT1jPTY0OmlzTmFOKG8pJiYoYz02NCksdT11K3QuY2hhckF0KGkpK3QuY2hhckF0KHMpK3QuY2hhckF0KGEpK3QuY2hhckF0KGMpO3JldHVybiB1fWNsYXNzIGh7Y29uc3RydWN0b3IoKXt0aGlzLl9zZXFOdW1iZXI9MCx0aGlzLl9pc0Nvbm5lY3Rpbmc9ITEsdGhpcy5faXNDb25uZWN0ZWQ9ITEsdGhpcy5faXNSZWdpc3RlcmVkPSExLHRoaXMuX3Nlc3Npb25JZD1cIlwiLHRoaXMuX3F1ZXVlZFJlcXVlc3RzPVtdLHRoaXMuX3BlbmRpbmdSZXF1ZXN0cz17fSx0aGlzLl9taW5Qb3J0UmFuZ2U9NTE4MDAsdGhpcy5fbWF4UG9ydFJhbmdlPTUxODIwLHRoaXMuX2N1cnJlbnRQb3J0PTUxODAwLHRoaXMuX3Jlc3BvbnNlVGltZW91dD0xNWUzLHRoaXMuX2Rpc2Nvbm5lY3RFdmVudFN1YnNjcmlwdGlvbnM9e30sdGhpcy5fZ3JvdXBFdmVudFN1YnNjcmlwdGlvbnM9e30sdGhpcy5zZW5kUmVtb3RlTWVzc2FnZT0oZSx0LG4scik9PntpZih0aGlzLl9pc1JlZ2lzdGVyZWR8fGUucmVnaXN0ZXJ8fHRoaXMuc2VuZFJlbW90ZU1lc3NhZ2Uoe3JlZ2lzdGVyOnt9fSwxMixudWxsLGNvbnNvbGUuZXJyb3IpLHRoaXMuX3Nlc3Npb25JZHx8KHRoaXMuX3Nlc3Npb25JZD1geyR7ZnVuY3Rpb24oKXtjb25zdCBlPVwiMDEyMzQ1Njc4OUFCQ0RFRlwiLnNwbGl0KFwiXCIpO2xldCB0LG49W10scj1NYXRoLnJhbmRvbTtuWzhdPW5bMTNdPW5bMThdPW5bMjNdPVwiLVwiLG5bMTRdPVwiNFwiO2Zvcih2YXIgbz0wO288MzY7bysrKW5bb118fCh0PTB8MTYqcigpLG5bb109ZVsxOT09bz8zJnR8ODoxNSZ0XSk7cmV0dXJuIG4uam9pbihcIlwiKX0oKX19YCksZS5zZXRHcm91cFZhbHVlJiYhZS5zZXRHcm91cFZhbHVlLmNvb2tpZSYmKGUuc2V0R3JvdXBWYWx1ZS5jb29raWU9dGhpcy5fc2Vzc2lvbklkKSxlLnN1YnNjcmliZUdyb3VwRXZlbnRzKXtjb25zdCB0PWUuc3Vic2NyaWJlR3JvdXBFdmVudHMuc3ViSWQ7ZGVsZXRlIGUuc3Vic2NyaWJlR3JvdXBFdmVudHMuc3ViSWQscj1lPT57ZGVsZXRlIHRoaXMuX2dyb3VwRXZlbnRTdWJzY3JpcHRpb25zW3RdLHImJnIoZSl9fWNvbnN0IG89e3Nlc3Npb25JZDp0aGlzLl9zZXNzaW9uSWQsY29ycmVsYXRpb25JZDorK3RoaXMuX3NlcU51bWJlcixyZXF1ZXN0OmV9LGk9SlNPTi5zdHJpbmdpZnkobykscz10PjEyLGE9cz97YXBwSWQ6by5hcHBJZCxzZXNzaW9uSWQ6by5zZXNzaW9uSWQsY29ycmVsYXRpb25JZDpvLmNvcnJlbGF0aW9uSWQscGF5bG9hZFNjaGVtYU5hbWU6XCJhcDNnX2ludGVybmFsXCIscGF5bG9hZFNjaGVtYVZlcnNpb246MixwYXlsb2FkTXNnVHlwZTp0LHBheWxvYWQ6ZChpKX06dm9pZCAwLGM9e2VudmVsb3BlOntzY2hlbWFOYW1lOnM/XCJibHBfbHBhZF9tc2dcIjpcImJscF9yZW1vdGVfY29udHJvbGxlclwiLHNjaGVtYVZlcnNpb246MixtZXNzYWdlOnM/SlNPTi5zdHJpbmdpZnkoYSk6aX0sY29ycmVsYXRpb25JZDpvLmNvcnJlbGF0aW9uSWQsZXhwZWN0UmVzcG9uc2U6ITAsb25zdWNjZXNzOm4sb25lcnJvcjpyfTt0aGlzLl9wZW5kaW5nUmVxdWVzdHNbby5jb3JyZWxhdGlvbklkXT1jLHRoaXMuX2lzQ29ubmVjdGVkP3RoaXMuc2VuZFJlcXVlc3QoYyk6KHRoaXMuX3F1ZXVlZFJlcXVlc3RzLnB1c2goYyksdGhpcy5jb25uZWN0KCkpfX1hZGRFdmVudExpc3RlbmVyKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXModGhpcy5fZ3JvdXBFdmVudFN1YnNjcmlwdGlvbnMpLmxlbmd0aCsxO3JldHVybiB0aGlzLl9ncm91cEV2ZW50U3Vic2NyaXB0aW9uc1t0XT1lLHR9cmVtb3ZlRXZlbnRMaXN0ZW5lcihlKXtyZXR1cm4gZGVsZXRlIHRoaXMuX2dyb3VwRXZlbnRTdWJzY3JpcHRpb25zW2VdLE9iamVjdC5rZXlzKHRoaXMuX2dyb3VwRXZlbnRTdWJzY3JpcHRpb25zKS5sZW5ndGh9YWRkRGlzY29ubmVjdEV2ZW50TGlzdGVuZXIoZSl7Y29uc3QgdD1PYmplY3Qua2V5cyh0aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zKS5sZW5ndGgrMTtyZXR1cm4gdGhpcy5fZGlzY29ubmVjdEV2ZW50U3Vic2NyaXB0aW9uc1t0XT1lLHR9cmVtb3ZlRGlzY29ubmVjdEV2ZW50TGlzdGVuZXIoZSl7Y29uc3QgdD1PYmplY3Qua2V5cyh0aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zKS5sZW5ndGg7ZGVsZXRlIHRoaXMuX2Rpc2Nvbm5lY3RFdmVudFN1YnNjcmlwdGlvbnNbZV07cmV0dXJuIHQhPT1PYmplY3Qua2V5cyh0aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zKS5sZW5ndGh9c2VuZFJlcXVlc3QoZSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlLmVudmVsb3BlKTt0aGlzLl93ZWJTb2NrZXQmJnRoaXMuX3dlYlNvY2tldC5zZW5kKHQpLGUuZXhwZWN0UmVzcG9uc2U/c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9wZW5kaW5nUmVxdWVzdHNbZS5jb3JyZWxhdGlvbklkXSYmKGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbZS5jb3JyZWxhdGlvbklkXSxlLm9uZXJyb3ImJmUub25lcnJvcigwLFwiUmVzcG9uc2UgVGltZW91dFwiKSl9KSx0aGlzLl9yZXNwb25zZVRpbWVvdXQpOmRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbZS5jb3JyZWxhdGlvbklkXX1jb25uZWN0KCl7dHJ5e2lmKHRoaXMuX2lzQ29ubmVjdGluZylyZXR1cm47dGhpcy5faXNDb25uZWN0aW5nPSEwLHRoaXMuX3dlYlNvY2tldD1uZXcgV2ViU29ja2V0KFwid3M6Ly9sb2NhbGhvc3Q6XCIrdGhpcy5fY3VycmVudFBvcnQsXCJ0ZXJtaW5hbF9hcGlcIiksdGhpcy5fd2ViU29ja2V0Lm9ub3Blbj10aGlzLm9uV2ViU29ja2V0T3Blbi5iaW5kKHRoaXMpLHRoaXMuX3dlYlNvY2tldC5vbm1lc3NhZ2U9dGhpcy5vbldlYlNvY2tldE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLl93ZWJTb2NrZXQub25jbG9zZT10aGlzLm9uV2ViU29ja2V0Q2xvc2UuYmluZCh0aGlzKSx0aGlzLl93ZWJTb2NrZXQub25lcnJvcj10aGlzLm9uV2ViU29ja2V0RXJyb3IuYmluZCh0aGlzKX1jYXRjaChlKXt0aGlzLl93ZWJTb2NrZXQ9dm9pZCAwLHRoaXMuY2FuY2VsUGVuZGluZ1JlcXVlc3RzKFwiV2ViU29ja2V0IEV4Y2VwdGlvbiBcIitlKSxjb25zb2xlLmVycm9yKGUpfX1jYW5jZWxQZW5kaW5nUmVxdWVzdHMoZSl7dGhpcy5faXNDb25uZWN0ZWQ9ITEsdGhpcy5faXNDb25uZWN0aW5nPSExLHRoaXMuX2lzUmVnaXN0ZXJlZD0hMSx0aGlzLl9zZXNzaW9uSWQ9XCJcIjtmb3IobGV0IHQgaW4gdGhpcy5fcGVuZGluZ1JlcXVlc3RzKXtjb25zdCBuPXRoaXMuX3BlbmRpbmdSZXF1ZXN0c1t0XTtuJiZuLm9uZXJyb3ImJm4ub25lcnJvcigwLGUpfXRoaXMuX3BlbmRpbmdSZXF1ZXN0cz17fX1vbldlYlNvY2tldENsb3NlKGUpe2lmKGNvbnNvbGUubG9nKFwiV2ViU29ja2V0IENsb3NlZDsgUmVhc29uOiBcIitlLnJlYXNvbitcIiwgQ29kZTogXCIrZS5jb2RlK1wiLCBXYXNDbGVhbjogXCIrZS53YXNDbGVhbiksdGhpcy5faXNDb25uZWN0ZWQpe2NvbnN0IHQ9e307ZSYmdm9pZCAwIT09ZS5yZWFzb24mJih0LnJlYXNvbj1lLnJlYXNvbiksZSYmdm9pZCAwIT09ZS5jb2RlJiYodC5jb2RlPWUuY29kZSksZSYmdm9pZCAwIT09ZS53YXNDbGVhbiYmKHQud2FzQ2xlYW49ZS53YXNDbGVhbiksdGhpcy5fY3VycmVudFBvcnQ9dGhpcy5fbWluUG9ydFJhbmdlLHRoaXMuY2FuY2VsUGVuZGluZ1JlcXVlc3RzKHtzdGF0dXM6XCJlcnJvclwiLG1lc3NhZ2U6XCJDb25uZWN0aW9uIENsb3NlZFwiLGRldGFpbHM6dH0pO2ZvcihsZXQgZSBpbiB0aGlzLl9kaXNjb25uZWN0RXZlbnRTdWJzY3JpcHRpb25zKXtjb25zdCB0PXRoaXMuX2Rpc2Nvbm5lY3RFdmVudFN1YnNjcmlwdGlvbnNbZV07dCYmdChlKX19fW9uV2ViU29ja2V0RXJyb3IoKXtpZihjb25zb2xlLmxvZyhcIldlYlNvY2tldCBFcnJvcjsgIHJlYWR5U3RhdGU6IFwiKyh0aGlzLl93ZWJTb2NrZXQmJnRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlKSksdGhpcy5faXNDb25uZWN0aW5nPSExLHRoaXMuX2N1cnJlbnRQb3J0PHRoaXMuX21heFBvcnRSYW5nZSl0aGlzLl9jdXJyZW50UG9ydCs9MSx0aGlzLmNvbm5lY3QoKTtlbHNle3RoaXMuX2N1cnJlbnRQb3J0PXRoaXMuX21pblBvcnRSYW5nZTtjb25zdCBlPXtyZWFkeVN0YXRlOnRoaXMuX3dlYlNvY2tldCYmdGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGV9O3RoaXMuY2FuY2VsUGVuZGluZ1JlcXVlc3RzKHtzdGF0dXM6XCJlcnJvclwiLG1lc3NhZ2U6XCJDb25uZWN0aW9uIEVycm9yXCIsZGV0YWlsczplfSl9fW9uV2ViU29ja2V0T3Blbigpe2Zvcih0aGlzLl9pc0Nvbm5lY3RlZD0hMCx0aGlzLl9pc0Nvbm5lY3Rpbmc9ITE7dGhpcy5fcXVldWVkUmVxdWVzdHMubGVuZ3RoPjA7KXRoaXMuc2VuZFJlcXVlc3QodGhpcy5fcXVldWVkUmVxdWVzdHMuc2hpZnQoKSl9b25XZWJTb2NrZXRNZXNzYWdlKGUpe3ZhciB0PWUmJmUuZGF0YT9lLmRhdGE6XCJudWxsXCIsbj1KU09OLnBhcnNlKHQpLHI9bj9KU09OLnBhcnNlKG4ubWVzc2FnZSk6bnVsbCxvPXImJnIucmVzcG9uc2U/dGhpcy5fcGVuZGluZ1JlcXVlc3RzW3IuY29ycmVsYXRpb25JZF06bnVsbDtvJiZkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3IuY29ycmVsYXRpb25JZF0sdGhpcy5wcm9jZXNzUmVzcG9uc2UobyxyLnJlc3BvbnNlKX1nZXRHcm91cEluZm8oZSl7cmV0dXJuIGU/e25hbWU6ZS5uYW1lLHR5cGU6ZS50eXBlLHNlY3VyaXR5Olwic2VjdXJpdHlcIj09PWUudHlwZSYmZS52YWx1ZT9lLnZhbHVlOnZvaWQgMH06e319cHJvY2Vzc1Jlc3BvbnNlKGUsdCl7aWYodC5zdWNjZXNzKWUub25zdWNjZXNzJiZlLm9uc3VjY2VzcygpO2Vsc2UgaWYodC5yZWdpc3RyYXRpb25Db21wbGV0ZSl0aGlzLl9pc1JlZ2lzdGVyZWQ9ITAsY29uc29sZS5sb2coXCJSZWdpc3RyYXRpb24gQ29tcGxldGU7IFNlc3Npb246IFwiK3RoaXMuX3Nlc3Npb25JZCksZS5vbnN1Y2Nlc3MmJmUub25zdWNjZXNzKCk7ZWxzZSBpZih0LmdldEFsbEdyb3Vwcyl7Y29uc3Qgbj10LmdldEFsbEdyb3Vwcy5ncm91cDtlLm9uc3VjY2VzcyYmZS5vbnN1Y2Nlc3Mobj9uLm1hcCh0aGlzLmdldEdyb3VwSW5mbyk6W10pfWVsc2UgaWYodC5ncm91cFZhbHVlKWUub25zdWNjZXNzJiZlLm9uc3VjY2Vzcyh0aGlzLmdldEdyb3VwSW5mbyh0Lmdyb3VwVmFsdWUuZ3JvdXApKTtlbHNlIGlmKHQuZ3JvdXBFdmVudCl7aWYodC5ncm91cEV2ZW50LnZhbHVlQ2hhbmdlZCl7Y29uc3QgZT10Lmdyb3VwRXZlbnQudmFsdWVDaGFuZ2VkLmdyb3VwLG49dC5ncm91cEV2ZW50LnZhbHVlQ2hhbmdlZC5jb29raWU9PT10aGlzLl9zZXNzaW9uSWQ/dm9pZCAwOnQuZ3JvdXBFdmVudC52YWx1ZUNoYW5nZWQuY29va2llO2ZvcihsZXQgdCBpbiB0aGlzLl9ncm91cEV2ZW50U3Vic2NyaXB0aW9ucyl7Y29uc3Qgcj10aGlzLl9ncm91cEV2ZW50U3Vic2NyaXB0aW9uc1t0XTtyJiZyKGUsbil9fX1lbHNlIGUub25lcnJvciYmZS5vbmVycm9yKHQuZmFpbHVyZSYmdC5mYWlsdXJlLmNvZGV8fDAsdC5mYWlsdXJlP2Ake3QuZmFpbHVyZS5tZXNzYWdlfSAke3QuZmFpbHVyZS5odW1hbk1lc3NhZ2V9YDpcIlVua25vd24gUmVzcG9uc2VcIil9fWNsYXNzIGd7Y29uc3RydWN0b3IoKXt0aGlzLl93ZWJTb2NrZXQ9bmV3IGh9cnVuRnVuY3Rpb24oZSx0LG4scixvLGkscyxhKXtsZXQgYz1cIlwiO2lmKG4mJm4ubGVuZ3RoPzEhPT1yJiYyIT09ciYmMyE9PXImJjQhPT1yJiY1IT09ciYmKGM9XCJJbnZhbGlkIE9yIE1pc3NpbmcgUGFyYW1ldGVyOiBwYW5lbFwiKTpjPVwiSW52YWxpZCBPciBNaXNzaW5nIFBhcmFtZXRlcjogbW5lbW9uaWNcIixjKXJldHVybiBjb25zb2xlLmVycm9yKFwicnVuRnVuY3Rpb25JblBhbmVsIGVycm9yOiBcIitjKSx2b2lkKHQmJnQoMCxjKSk7Y29uc3QgdT17cnVuRnVuY3Rpb25JblBhbmVsOnttbmVtb25pYzpuLHBhbmVsOnJ9fTtpZihvKXtjb25zdCBlPVtdO2UucHVzaChvKSxpJiZlLnB1c2goaSksdS5ydW5GdW5jdGlvbkluUGFuZWwuc2VjdXJpdGllcz1lfXMmJih1LnJ1bkZ1bmN0aW9uSW5QYW5lbC50YWlscz1zKSxhJiYodS5ydW5GdW5jdGlvbkluUGFuZWwuYXBwbGljYXRpb25Qcm9wZXJ0aWVzPWEpLHRoaXMuX3dlYlNvY2tldC5zZW5kUmVtb3RlTWVzc2FnZSh1LDAsZSx0KX1nZXRBbGxHcm91cHMoZSx0KXt0aGlzLl93ZWJTb2NrZXQuc2VuZFJlbW90ZU1lc3NhZ2Uoe2dldEFsbEdyb3Vwczp7fX0sMTMsZSx0KX1nZXRHcm91cChlLHQsbil7aWYoIW58fCFuLmxlbmd0aCl7Y29uc3QgZT1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IG5hbWVcIjtyZXR1cm4gY29uc29sZS5lcnJvcihlKSx2b2lkKHQmJnQoMCxlKSl9dGhpcy5fd2ViU29ja2V0LnNlbmRSZW1vdGVNZXNzYWdlKHtnZXRHcm91cFZhbHVlOntuYW1lOm59fSwxNSxlLHQpfXNldEdyb3VwU2VjdXJpdHkoZSx0LG4scixvKXtsZXQgaT1cIlwiO2lmKG4mJm4ubGVuZ3RoP3ImJnIubGVuZ3RofHwoaT1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IHNlY3VyaXR5XCIpOmk9XCJJbnZhbGlkIE9yIE1pc3NpbmcgUGFyYW1ldGVyOiBuYW1lXCIsaSlyZXR1cm4gY29uc29sZS5lcnJvcihcInNldEdyb3VwQ29udGV4dCBlcnJvcjogXCIraSksdm9pZCh0JiZ0KDAsaSkpO3RoaXMuX3dlYlNvY2tldC5zZW5kUmVtb3RlTWVzc2FnZSh7c2V0R3JvdXBWYWx1ZTp7bmFtZTpuLHZhbHVlOnIsY29va2llOm99fSwxNCxlLHQpfXN1YnNjcmliZUdyb3VwRXZlbnRzKGUsdCxuKXtpZighbil7Y29uc3QgZT1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IGNhbGxiYWNrXCI7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJzdWJzY3JpYmVHcm91cEV2ZW50cyBlcnJvcjogXCIrZSksdm9pZCh0JiZ0KDAsZSkpfWNvbnN0IHI9dGhpcy5fd2ViU29ja2V0LmFkZEV2ZW50TGlzdGVuZXIobik7MT09PXI/dGhpcy5fd2ViU29ja2V0LnNlbmRSZW1vdGVNZXNzYWdlKHtzdWJzY3JpYmVHcm91cEV2ZW50czp7c3ViSWQ6cn19LDE2LCgoKT0+e2UmJmUocil9KSwoZT0+e3QmJnQoMCxlKX0pKTplJiZlKHIpfXVuc3Vic2NyaWJlR3JvdXBFdmVudHMoZSx0LG4pe2lmKCFuKXtjb25zdCBlPVwiSW52YWxpZCBPciBNaXNzaW5nIFBhcmFtZXRlcjogY29va2llXCI7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ1bnN1YnNjcmliZUdyb3VwRXZlbnRzIGVycm9yOiBcIitlKSx2b2lkKHQmJnQoMCxlKSl9MD09PXRoaXMuX3dlYlNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKG4pP3RoaXMuX3dlYlNvY2tldC5zZW5kUmVtb3RlTWVzc2FnZSh7dW5zdWJzY3JpYmVHcm91cEV2ZW50czp7fX0sMTcsZSx0KTplJiZlKCl9c3Vic2NyaWJlRGlzY29ubmVjdEV2ZW50KGUsdCxuKXtpZighbil7Y29uc3QgZT1cIkludmFsaWQgT3IgTWlzc2luZyBQYXJhbWV0ZXI6IGNhbGxiYWNrXCI7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJzdWJzY3JpYmVEaXNjb25uZWN0RXZlbnQgZXJyb3I6IFwiK2UpLHQmJnQoMCxlKSxudWxsfWNvbnN0IHI9dGhpcy5fd2ViU29ja2V0LmFkZERpc2Nvbm5lY3RFdmVudExpc3RlbmVyKG4pO3JldHVybiBlJiZlKHIpLHJ9dW5zdWJzY3JpYmVEaXNjb25uZWN0RXZlbnQoZSx0LG4pe2lmKCFuKXtjb25zdCBlPVwiSW52YWxpZCBPciBNaXNzaW5nIFBhcmFtZXRlcjogY29va2llXCI7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ1bnN1YnNjcmliZURpc2Nvbm5lY3RFdmVudCBlcnJvcjogXCIrZSksdCYmdCgwLGUpLCExfXJldHVybiB0aGlzLl93ZWJTb2NrZXQucmVtb3ZlRGlzY29ubmVjdEV2ZW50TGlzdGVuZXIobik/KGUmJmUoKSwhMCk6KHQmJnQoMCxcIkludmFsaWQgU3Vic2NyaXB0aW9uXCIpLCExKX19Y2xhc3MgZntjb25zdHJ1Y3Rvcigpe3RoaXMucnVuRnVuY3Rpb249d2luZG93LmJiLmFwcHMudGMucnVuRnVuY3Rpb24sdGhpcy5nZXRHcm91cD13aW5kb3cuYmIuYXBwcy50Yy5nZXRHcm91cCx0aGlzLnNldEdyb3VwU2VjdXJpdHk9d2luZG93LmJiLmFwcHMudGMuc2V0R3JvdXBTZWN1cml0eSx0aGlzLmdldEFsbEdyb3Vwcz13aW5kb3cuYmIuYXBwcy50Yy5nZXRBbGxHcm91cHMsdGhpcy5zdWJzY3JpYmVHcm91cEV2ZW50cz13aW5kb3cuYmIuYXBwcy50Yy5zdWJzY3JpYmVHcm91cEV2ZW50cyx0aGlzLnVuc3Vic2NyaWJlR3JvdXBFdmVudHM9d2luZG93LmJiLmFwcHMudGMudW5zdWJzY3JpYmVHcm91cEV2ZW50c31zdWJzY3JpYmVEaXNjb25uZWN0RXZlbnQoZSx0LG4pe311bnN1YnNjcmliZURpc2Nvbm5lY3RFdmVudChlLHQsbil7fX1jbGFzcyBte2NvbnN0cnVjdG9yKGU9IWZ1bmN0aW9uKCl7cmV0dXJuISEod2luZG93LmJiJiZ3aW5kb3cuYmIuYXBwcyYmd2luZG93LmJiLmFwcHMuYXBwJiZ3aW5kb3cuYmIuYXBwcy5ldmVudCl9KCkpe3RoaXMuX2hlbHBlclNldEdyb3VwVmFsdWVzPWU9Pntjb25zdCB0PW5ldyBwKHRoaXMuX3Rlcm1pbmFsUHJveHksZS5uYW1lLGUudHlwZSk7cmV0dXJuIHQuX3NlY3VyaXR5Q2FjaGU9ZS5zZWN1cml0eSx0Ll9sYXN0VXBkYXRlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHR9LHRoaXMuX3Rlcm1pbmFsUHJveHk9ZT9uZXcgZzpuZXcgZn1ydW5GdW5jdGlvbihlLHQsbixyLG8pe3JldHVybiBuZXcgUHJvbWlzZSgoKGkscyk9Pnt0aGlzLl90ZXJtaW5hbFByb3h5LnJ1bkZ1bmN0aW9uKGksKChlLHQpPT57cyhuZXcgRXJyb3IodCkpfSksZSx0LG58fG51bGwscnx8bnVsbCxvfHxudWxsKX0pKX1nZXRBbGxHcm91cHMoKXtyZXR1cm4gbmV3IFByb21pc2UoKChlLHQpPT57dGhpcy5fdGVybWluYWxQcm94eS5nZXRBbGxHcm91cHMoKHQ9PntlKEFycmF5LmZyb20odCx0aGlzLl9oZWxwZXJTZXRHcm91cFZhbHVlcykpfSksKChlLG4pPT57dChuZXcgRXJyb3IobikpfSkpfSkpfWdldEdyb3VwKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHQsbik9Pnt0aGlzLl90ZXJtaW5hbFByb3h5LmdldEFsbEdyb3Vwcygocj0+e2NvbnN0IG89ci5maW5kKCh0PT50Lm5hbWU9PT1lKSk7bz90KHRoaXMuX2hlbHBlclNldEdyb3VwVmFsdWVzKG8pKTpuKG5ldyBFcnJvcihgR3JvdXAgJHtlfSBpcyBub3QgZm91bmQuYCkpfSksKChlLHQpPT57bihuZXcgRXJyb3IodCkpfSkpfSkpfXN1YnNjcmliZUdyb3VwRXZlbnRzKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHQsbik9Pnt0aGlzLl90ZXJtaW5hbFByb3h5LnN1YnNjcmliZUdyb3VwRXZlbnRzKChlPT57dChlKX0pLCgoZSx0KT0+e24obmV3IEVycm9yKHQpKX0pLCgodCxuKT0+e2UodGhpcy5faGVscGVyU2V0R3JvdXBWYWx1ZXModCksbil9KSl9KSl9dW5zdWJzY3JpYmVHcm91cEV2ZW50cyhlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57dGhpcy5fdGVybWluYWxQcm94eS51bnN1YnNjcmliZUdyb3VwRXZlbnRzKCgoKT0+e3QoKX0pLCgoZSx0KT0+e24obmV3IEVycm9yKHQpKX0pLGUpfSkpfX1jb25zdCB2PSh3aW5kb3cuQkI9d2luZG93LkJCfHx7fSx3aW5kb3cuQkIuQXBwcz13aW5kb3cuQkIuQXBwc3x8e30sd2luZG93LkJCLkFwcHMuVGVybWluYWw9d2luZG93LkJCLkFwcHMuVGVybWluYWx8fG5ldyBtLHdpbmRvdy5CQi5BcHBzLlRlcm1pbmFsKTt2YXIgYix5LHc7IWZ1bmN0aW9uKGUpe2UuQXBwTm90Rm91bmQ9XCJBcHBOb3RGb3VuZFwiLGUuRXJyb3JPbkxhdW5jaD1cIkVycm9yT25MYXVuY2hcIixlLkFwcFRpbWVvdXQ9XCJBcHBUaW1lb3V0XCIsZS5SZXNvbHZlclVuYXZhaWxhYmxlPVwiUmVzb2x2ZXJVbmF2YWlsYWJsZVwifShifHwoYj17fSkpLGZ1bmN0aW9uKGUpe2UuTm9BcHBzRm91bmQ9XCJOb0FwcHNGb3VuZFwiLGUuUmVzb2x2ZXJVbmF2YWlsYWJsZT1cIlJlc29sdmVyVW5hdmFpbGFibGVcIixlLlJlc29sdmVyVGltZW91dD1cIlJlc29sdmVyVGltZW91dFwifSh5fHwoeT17fSkpLGZ1bmN0aW9uKGUpe2UuTm9DaGFubmVsRm91bmQ9XCJOb0NoYW5uZWxGb3VuZFwiLGUuQWNjZXNzRGVuaWVkPVwiQWNjZXNzRGVuaWVkXCIsZS5DcmVhdGlvbkZhaWxlZD1cIkNyZWF0aW9uRmFpbGVkXCJ9KHd8fCh3PXt9KSk7dmFyIF8sRTtfPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0LG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9by5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIscz1vLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsYT1vLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiBjKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e2Moe30sXCJcIil9Y2F0Y2goZSl7Yz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gdShlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIG0/dDptLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgeChyfHxbXSk7cmV0dXJuIGkuX2ludm9rZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9cDtyZXR1cm4gZnVuY3Rpb24obyxpKXtpZihyPT09aCl0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKHI9PT1nKXtpZihcInRocm93XCI9PT1vKXRocm93IGk7cmV0dXJuIFAoKX1mb3Iobi5tZXRob2Q9byxuLmFyZz1pOzspe3ZhciBzPW4uZGVsZWdhdGU7aWYocyl7dmFyIGE9QyhzLG4pO2lmKGEpe2lmKGE9PT1mKWNvbnRpbnVlO3JldHVybiBhfX1pZihcIm5leHRcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKHI9PT1wKXRocm93IHI9ZyxuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlXCJyZXR1cm5cIj09PW4ubWV0aG9kJiZuLmFicnVwdChcInJldHVyblwiLG4uYXJnKTtyPWg7dmFyIGM9bChlLHQsbik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYocj1uLmRvbmU/ZzpkLGMuYXJnPT09Ziljb250aW51ZTtyZXR1cm57dmFsdWU6Yy5hcmcsZG9uZTpuLmRvbmV9fVwidGhyb3dcIj09PWMudHlwZSYmKHI9ZyxuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9Yy5hcmcpfX19KGUsbixzKSxpfWZ1bmN0aW9uIGwoZSx0LG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzplfX19ZS53cmFwPXU7dmFyIHA9XCJzdXNwZW5kZWRTdGFydFwiLGQ9XCJzdXNwZW5kZWRZaWVsZFwiLGg9XCJleGVjdXRpbmdcIixnPVwiY29tcGxldGVkXCIsZj17fTtmdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIHYoKXt9ZnVuY3Rpb24gYigpe312YXIgeT17fTt5W2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciB3PU9iamVjdC5nZXRQcm90b3R5cGVPZixfPXcmJncodyhHKFtdKSkpO18mJl8hPT1uJiZyLmNhbGwoXyxpKSYmKHk9Xyk7dmFyIEU9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh5KTtmdW5jdGlvbiBTKGUpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7YyhlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBJKGUsdCl7ZnVuY3Rpb24gbihvLGkscyxhKXt2YXIgYz1sKGVbb10sZSxpKTtpZihcInRocm93XCIhPT1jLnR5cGUpe3ZhciB1PWMuYXJnLHA9dS52YWx1ZTtyZXR1cm4gcCYmXCJvYmplY3RcIj09dHlwZW9mIHAmJnIuY2FsbChwLFwiX19hd2FpdFwiKT90LnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtuKFwibmV4dFwiLGUscyxhKX0pLChmdW5jdGlvbihlKXtuKFwidGhyb3dcIixlLHMsYSl9KSk6dC5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe3UudmFsdWU9ZSxzKHUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBuKFwidGhyb3dcIixlLHMsYSl9KSl9YShjLmFyZyl9dmFyIG87dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxvKXtuKGUscix0LG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX1mdW5jdGlvbiBDKGUsbil7dmFyIHI9ZS5pdGVyYXRvcltuLm1ldGhvZF07aWYocj09PXQpe2lmKG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1uLm1ldGhvZCl7aWYoZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsQyhlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKSlyZXR1cm4gZjtuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIil9cmV0dXJuIGZ9dmFyIG89bChyLGUuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PW8udHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW8uYXJnLG4uZGVsZWdhdGU9bnVsbCxmO3ZhciBpPW8uYXJnO3JldHVybiBpP2kuZG9uZT8obltlLnJlc3VsdE5hbWVdPWkudmFsdWUsbi5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwsZik6aToobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsZil9ZnVuY3Rpb24gQShlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBPKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPVwibm9ybWFsXCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIHgoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sZS5mb3JFYWNoKEEsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gRyhlKXtpZihlKXt2YXIgbj1lW2ldO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEscz1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIHMubmV4dD1zfX1yZXR1cm57bmV4dDpQfX1mdW5jdGlvbiBQKCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19cmV0dXJuIHYucHJvdG90eXBlPUUuY29uc3RydWN0b3I9YixiLmNvbnN0cnVjdG9yPXYsdi5kaXNwbGF5TmFtZT1jKGIsYSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT12fHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLGIpOihlLl9fcHJvdG9fXz1iLGMoZSxhLFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRSksZX0sZS5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sUyhJLnByb3RvdHlwZSksSS5wcm90b3R5cGVbc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5Bc3luY0l0ZXJhdG9yPUksZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBzPW5ldyBJKHUodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9zOnMubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTpzLm5leHQoKX0pKX0sUyhFKSxjKEUsYSxcIkdlbmVyYXRvclwiKSxFW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4pO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiBuKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciByPXQucG9wKCk7aWYociBpbiBlKXJldHVybiBuLnZhbHVlPXIsbi5kb25lPSExLG59cmV0dXJuIG4uZG9uZT0hMCxufX0sZS52YWx1ZXM9Ryx4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChPKSwhZSlmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gbyhyLG8pe3JldHVybiBhLnR5cGU9XCJ0aHJvd1wiLGEuYXJnPWUsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgcz10aGlzLnRyeUVudHJpZXNbaV0sYT1zLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1zLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihzLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1yLmNhbGwocyxcImNhdGNoTG9jXCIpLHU9ci5jYWxsKHMsXCJmaW5hbGx5TG9jXCIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxzLmNhdGNoTG9jKXJldHVybiBvKHMuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxzLmZpbmFsbHlMb2MpcmV0dXJuIG8ocy5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxzLmNhdGNoTG9jKXJldHVybiBvKHMuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PHMuZmluYWxseUxvYylyZXR1cm4gbyhzLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09ZXx8XCJjb250aW51ZVwiPT09ZSkmJmkudHJ5TG9jPD10JiZ0PD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBzPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBzLnR5cGU9ZSxzLmFyZz10LGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2MsZik6dGhpcy5jb21wbGV0ZShzKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZihcInRocm93XCI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuXCJicmVha1wiPT09ZS50eXBlfHxcImNvbnRpbnVlXCI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOlwicmV0dXJuXCI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGZ9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksTyhuKSxmfX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7TyhuKX1yZXR1cm4gb319dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6RyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksZn19LGV9KGUuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT10fWNhdGNoKGUpe0Z1bmN0aW9uKFwiclwiLFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKSh0KX19LF8oRT17ZXhwb3J0czp7fX0sRS5leHBvcnRzKTt2YXIgUzshZnVuY3Rpb24oZSl7ZS5Db250YWN0PVwiZmRjMy5jb250YWN0XCIsZS5Db250YWN0TGlzdD1cImZkYzMuY29udGFjdExpc3RcIixlLkNvdW50cnk9XCJmZGMzLmNvdW50cnlcIixlLkluc3RydW1lbnQ9XCJmZGMzLmluc3RydW1lbnRcIixlLk9yZ2FuaXphdGlvbj1cImZkYzMub3JnYW5pemF0aW9uXCIsZS5Qb3J0Zm9saW89XCJmZGMzLnBvcnRmb2xpb1wiLGUuUG9zaXRpb249XCJmZGMzLnBvc2l0aW9uXCJ9KFN8fChTPXt9KSk7dmFyIEk7IWZ1bmN0aW9uKGUpe2UuU3RhcnRDYWxsPVwiU3RhcnRDYWxsXCIsZS5TdGFydENoYXQ9XCJTdGFydENoYXRcIixlLlZpZXdDaGFydD1cIlZpZXdDaGFydFwiLGUuVmlld0NvbnRhY3Q9XCJWaWV3Q29udGFjdFwiLGUuVmlld1F1b3RlPVwiVmlld1F1b3RlXCIsZS5WaWV3TmV3cz1cIlZpZXdOZXdzXCIsZS5WaWV3SW5zdHJ1bWVudD1cIlZpZXdJbnN0cnVtZW50XCIsZS5WaWV3QW5hbHlzaXM9XCJWaWV3QW5hbHlzaXNcIn0oSXx8KEk9e30pKTtjb25zdCBDPWU9PiEhZSYmL14oW0EtWjAtOV17NX0pKFtBLVowLTkqQCNdezN9KShcXGQpJC9pLnRlc3QoZSksQT1lPT4hIWUmJi9cXGIoRVFVSVRZKSQvaS50ZXN0KGUpLE89ZT0+ISFlJiYvXig/IUJbU01dfEdbR0JIXXxLWXxWRykoW0EtWl17Mn0pKEcpKCgoPyFbQUVJT1VfXSlcXHcpezh9KShcXGQpJC9pLnRlc3QoZSkseD1lPT4hIWUmJi9eKFtBLVpdezJ9KShbQS1aMC05XXs5fSkoXFxkKSQvaS50ZXN0KGUpLEc9XCJPRl9CQkdfQVBJXCIsUD0oZSx0LHIpPT5hc3luYyhvLGkpPT57dmFyIHM7aWYodm9pZCAwPT09KG51bGwhPT0ocz1udWxsPT1vP3ZvaWQgMDpvLm5hbWUpJiZ2b2lkIDAhPT1zP3M6dm9pZCAwKSl7Y29uc3QgZT1uZXcgQXBpRXJyb3Iodm9pZCAwLFwiR3JvdXAgZXZlbnQgc291cmNlIGlzIHVuZGVmaW5lZFwiKTt0aHJvdyBjKGUpLG51bGw9PXJ8fHIoZSksZX1pZihcIipcIiE9PWUmJm8ubmFtZSE9PWV8fGk9PT1HKXJldHVybjtsZXQgYTt0cnl7YT1hd2FpdCBvLmdldFNlY3VyaXR5KCl9Y2F0Y2goZSl7Y29uc3QgdD1uKGUpO3Rocm93IGModCksbnVsbD09cnx8cih0KSx0fXUoYExhdW5jaHBhZCBncm91cCAke28ubmFtZX0gc2VjdXJpdHkgY2hhbmdlZCB0bzpgLGEpO2NvbnN0IGw9KGU9Pntjb25zdCB0PXt0eXBlOlMuSW5zdHJ1bWVudCxpZDp7QkJHOmV9fSxuPShlPT57dmFyIHQ7aWYobnVsbD09ZT92b2lkIDA6ZS50cmltKCkpcmV0dXJuKG51bGwhPT0odD1lLm1hdGNoKC9eXFx3Ky8pKSYmdm9pZCAwIT09dD90OltdKVswXX0pKGUpO2lmKCFuKXJldHVybiB0O3N3aXRjaCghMCl7Y2FzZSBDKG4pOnQuaWQuQ1VTSVA9bjticmVhaztjYXNlIE8obik6dC5pZC5GSUdJPW47YnJlYWs7Y2FzZSB4KG4pOnQuaWQuSVNJTj1uO2JyZWFrO2Nhc2UgQShlKTp0LmlkLnRpY2tlcj1ufXJldHVybiB0fSkoYSk7bC5vcGVuZmluQmJnQXBpPSEwLG51bGw9PXR8fHQobCksdShcIlNldHRpbmcgbmV3IGNvbnRleHQ6IFwiLGwpO3RyeXthd2FpdCBmaW4ubWUuaW50ZXJvcC5zZXRDb250ZXh0KGwpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEludGVyb3BFcnJvcih2b2lkIDAsZSk7Yyh0KSxudWxsPT1yfHxyKHQpfX0saz1hc3luYygpPT57bGV0IGU9ITA7dHJ5e2F3YWl0IHYuZ2V0QWxsR3JvdXBzKCl9Y2F0Y2godCl7Y29uc3Qgcj1uKHQpO2lmKCEociBpbnN0YW5jZW9mIFRlcm1pbmFsQ29ubmVjdGlvbkVycm9yKSl0aHJvdyBjKHIpLHI7ZT0hMX1yZXR1cm4gdShcIkJsb29tYmVyZyB0ZXJtaW5hbCByZWFkeTogXCIsZSksZX0sTT1hc3luYyhlLHQscixvLGkpPT57aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe3UoYFJ1bm5pbmcgdGVybWluYWwgZnVuY3Rpb24gaW4gcGFuZWwgJHtlfTogYCx0LHIsbyxpKTt0cnl7YXdhaXQgdi5ydW5GdW5jdGlvbih0LGUscixvLGkpfWNhdGNoKGUpe2NvbnN0IHQ9bihlKTt0aHJvdyBjKHQpLHR9fWVsc2UgdShgVW5hYmxlIHRvIHJ1biBmdW5jdGlvbiBhcyB0YXJnZXQgJHtlfSBpcyBub3QgYSBwYW5lbGAsdCxyLG8saSl9LFI9e2RlZmF1bHRNZXJnZTpTeW1ib2woXCJkZWVwbWVyZ2UtdHM6IGRlZmF1bHQgbWVyZ2VcIiksc2tpcDpTeW1ib2woXCJkZWVwbWVyZ2UtdHM6IHNraXBcIil9O1IuZGVmYXVsdE1lcmdlO2Z1bmN0aW9uIEYoZSx0KXtyZXR1cm4gdH1mdW5jdGlvbiBMKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT8wOkFycmF5LmlzQXJyYXkoZSk/MjpmdW5jdGlvbihlKXtpZighQi5oYXMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm4hMTtjb25zdHtjb25zdHJ1Y3Rvcjp0fT1lO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7Y29uc3Qgbj10LnByb3RvdHlwZTtpZihudWxsPT09bnx8XCJvYmplY3RcIiE9dHlwZW9mIG58fCFCLmhhcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikpKXJldHVybiExO2lmKCFuLmhhc093blByb3BlcnR5KFwiaXNQcm90b3R5cGVPZlwiKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSk/MTplIGluc3RhbmNlb2YgU2V0PzM6ZSBpbnN0YW5jZW9mIE1hcD80OjV9ZnVuY3Rpb24gTihlKXtjb25zdCB0PW5ldyBTZXQ7Zm9yKGNvbnN0IG4gb2YgZSlmb3IoY29uc3QgZSBvZlsuLi5PYmplY3Qua2V5cyhuKSwuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pXSl0LmFkZChlKTtyZXR1cm4gdH1mdW5jdGlvbiBqKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHQpfWZ1bmN0aW9uIFQoZSl7cmV0dXJueypbU3ltYm9sLml0ZXJhdG9yXSgpe2Zvcihjb25zdCB0IG9mIGUpZm9yKGNvbnN0IGUgb2YgdCl5aWVsZCBlfX19Y29uc3QgQj1uZXcgU2V0KFtcIltvYmplY3QgT2JqZWN0XVwiLFwiW29iamVjdCBNb2R1bGVdXCJdKTtmdW5jdGlvbiBWKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfXZhciBEPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLG1lcmdlUmVjb3JkczpmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj17fTtmb3IoY29uc3QgbyBvZiBOKGUpKXtjb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIGUpaih0LG8pJiZpLnB1c2godFtvXSk7aWYoMD09PWkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHM9dC5tZXRhRGF0YVVwZGF0ZXIobix7a2V5Om8scGFyZW50czplfSksYT1VKGksdCxzKTthIT09Ui5za2lwJiYoXCJfX3Byb3RvX19cIj09PW8/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyx7dmFsdWU6YSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pOnJbb109YSl9cmV0dXJuIHJ9LG1lcmdlQXJyYXlzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmZsYXQoKX0sbWVyZ2VTZXRzOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgU2V0KFQoZSkpfSxtZXJnZU1hcHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNYXAoVChlKSl9LG1lcmdlT3RoZXJzOlZ9KTtmdW5jdGlvbiAkKC4uLmUpe3JldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybntkZWZhdWx0TWVyZ2VGdW5jdGlvbnM6RCxtZXJnZUZ1bmN0aW9uczp7Li4uRCwuLi5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoZSkuZmlsdGVyKCgoW2UsdF0pPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoRCxlKSkpLm1hcCgoKFtlLHRdKT0+ITE9PT10P1tlLFZdOltlLHRdKSkpfSxtZXRhRGF0YVVwZGF0ZXI6bnVsbCE9PShuPWUubWV0YURhdGFVcGRhdGVyKSYmdm9pZCAwIT09bj9uOkYsZGVlcG1lcmdlOnQsdXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZzpudWxsIT09KHI9ZS5lbmFibGVJbXBsaWNpdERlZmF1bHRNZXJnaW5nKSYmdm9pZCAwIT09ciYmcixhY3Rpb25zOlJ9fShlLHIpO2Z1bmN0aW9uIHIoLi4uZSl7cmV0dXJuIFUoZSxuLHQpfXJldHVybiByfSh7fSkoLi4uZSl9ZnVuY3Rpb24gVShlLHQsbil7aWYoMD09PWUubGVuZ3RoKXJldHVybjtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHEoZSx0LG4pO2NvbnN0IHI9TChlWzBdKTtpZigwIT09ciYmNSE9PXIpZm9yKGxldCBvPTE7bzxlLmxlbmd0aDtvKyspaWYoTChlW29dKSE9PXIpcmV0dXJuIHEoZSx0LG4pO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtjb25zdCByPXQubWVyZ2VGdW5jdGlvbnMubWVyZ2VSZWNvcmRzKGUsdCxuKTtpZihyPT09Ui5kZWZhdWx0TWVyZ2V8fHQudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyYmdm9pZCAwPT09ciYmdC5tZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMhPT10LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMpcmV0dXJuIHQuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlUmVjb3JkcyhlLHQsbik7cmV0dXJuIHJ9KGUsdCxuKTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtjb25zdCByPXQubWVyZ2VGdW5jdGlvbnMubWVyZ2VBcnJheXMoZSx0LG4pO2lmKHI9PT1SLmRlZmF1bHRNZXJnZXx8dC51c2VJbXBsaWNpdERlZmF1bHRNZXJnaW5nJiZ2b2lkIDA9PT1yJiZ0Lm1lcmdlRnVuY3Rpb25zLm1lcmdlQXJyYXlzIT09dC5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VBcnJheXMpcmV0dXJuIHQuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlQXJyYXlzKGUpO3JldHVybiByfShlLHQsbik7Y2FzZSAzOnJldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj10Lm1lcmdlRnVuY3Rpb25zLm1lcmdlU2V0cyhlLHQsbik7aWYocj09PVIuZGVmYXVsdE1lcmdlfHx0LnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcmJnZvaWQgMD09PXImJnQubWVyZ2VGdW5jdGlvbnMubWVyZ2VTZXRzIT09dC5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VTZXRzKXJldHVybiB0LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHMoZSk7cmV0dXJuIHJ9KGUsdCxuKTtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtjb25zdCByPXQubWVyZ2VGdW5jdGlvbnMubWVyZ2VNYXBzKGUsdCxuKTtpZihyPT09Ui5kZWZhdWx0TWVyZ2V8fHQudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyYmdm9pZCAwPT09ciYmdC5tZXJnZUZ1bmN0aW9ucy5tZXJnZU1hcHMhPT10LmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZU1hcHMpcmV0dXJuIHQuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcyhlKTtyZXR1cm4gcn0oZSx0LG4pO2RlZmF1bHQ6cmV0dXJuIHEoZSx0LG4pfX1mdW5jdGlvbiBxKGUsdCxuKXtjb25zdCByPXQubWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnMoZSx0LG4pO3JldHVybiByPT09Ui5kZWZhdWx0TWVyZ2V8fHQudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyYmdm9pZCAwPT09ciYmdC5tZXJnZUZ1bmN0aW9ucy5tZXJnZU90aGVycyE9PXQuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlT3RoZXJzP3QuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlT3RoZXJzKGUpOnJ9Y29uc3QgVz1hc3luYyhlLHQsbik9Pntjb25zdCByPSgoKT0+e2NvbnN0IGU9bmV3IE1hcCx0PW5ldyBNYXAsbj17dGFyZ2V0OjEsbW5lbW9uaWM6XCJERVNcIn0scj17dGFyZ2V0OjEsbW5lbW9uaWM6XCJHUFwifSxvPXt0YXJnZXQ6MSxtbmVtb25pYzpcIlFcIn0saT17dGFyZ2V0OjEsbW5lbW9uaWM6XCJCSU9cIn0scz17dGFyZ2V0OjEsbW5lbW9uaWM6XCJTRUFSXCJ9O2Uuc2V0KFMuSW5zdHJ1bWVudCxPYmplY3QuYXNzaWduKHt9LG4pKSxlLnNldChTLkNvbnRhY3QsT2JqZWN0LmFzc2lnbih7fSxpKSksZS5zZXQoUy5Pcmdhbml6YXRpb24sT2JqZWN0LmFzc2lnbih7fSxzKSk7Y29uc3QgYT1uZXcgTWFwO2Euc2V0KFMuSW5zdHJ1bWVudCxPYmplY3QuYXNzaWduKHt9LHIpKSx0LnNldChJLlZpZXdDaGFydCxhKTtjb25zdCBjPW5ldyBNYXA7Yy5zZXQoUy5Db250YWN0LE9iamVjdC5hc3NpZ24oe30saSkpLHQuc2V0KEkuVmlld0NvbnRhY3QsYyk7Y29uc3QgdT1uZXcgTWFwO3Uuc2V0KFMuSW5zdHJ1bWVudCxPYmplY3QuYXNzaWduKHt9LG4pKSx0LnNldChJLlZpZXdJbnN0cnVtZW50LHUpO2NvbnN0IGw9bmV3IE1hcDtyZXR1cm4gbC5zZXQoUy5JbnN0cnVtZW50LE9iamVjdC5hc3NpZ24oe30sbykpLHQuc2V0KEkuVmlld1F1b3RlLGwpLHtjb250ZXh0czplLGludGVudHM6dH19KSgpLG89KGU9Pnt2YXIgdCxuLHIsbztjb25zdCBpPWU9Pntjb25zdFt0XT1lO3JldHVybiEhKG51bGwhPXQ/dDpcIlwiKS50cmltKCl9LHM9Wy4uLm51bGwhPT0obj1udWxsPT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5jb250ZXh0cyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW50cmllcygpKSYmdm9pZCAwIT09bj9uOltdXS5maWx0ZXIoaSksYT1bLi4ubnVsbCE9PShvPW51bGw9PT0ocj1udWxsPT1lP3ZvaWQgMDplLmludGVudHMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmVudHJpZXMoKSkmJnZvaWQgMCE9PW8/bzpbXV0uZmlsdGVyKChlPT57dmFyIHQ7Y29uc3RbbixyXT1lLG89Wy4uLm51bGwhPT0odD1udWxsPT1yP3ZvaWQgMDpyLmVudHJpZXMoKSkmJnZvaWQgMCE9PXQ/dDpbXV0uZmlsdGVyKGkpO3JldHVybiEhKG51bGwhPW4/bjpcIlwiKS50cmltKCkmJm8ubGVuZ3RoPjB9KSk7cmV0dXJue2NvbnRleHRzOm5ldyBNYXAocyksaW50ZW50czpuZXcgTWFwKGEpfX0pKGUpLGk9JChyLG8pLHM9aS5jb250ZXh0cyxhPWkuaW50ZW50cyxwPVtdO2xldCBkO3AucHVzaChmaW4ubWUuaW50ZXJvcC5hZGRDb250ZXh0SGFuZGxlcigoKGUsdCxuKT0+YXN5bmMgcj0+e3I/YXdhaXQgeihyLGUsdCxuKTp1KFwiTm8gY29udGV4dCBpbmZvIHByb3ZpZGVkLCBpZ25vcmluZ1wiKX0pKHMsdCxuKSkpLGEuZm9yRWFjaCgoKGUscik9PntwLnB1c2goZmluLm1lLmludGVyb3AucmVnaXN0ZXJJbnRlbnRIYW5kbGVyKCgoZSx0LG4pPT5hc3luYyByPT57dShcIkludGVudCByZWNlaXZlZFwiLHIpO2NvbnN0e2NvbnRleHQ6b309cjtvP2U/YXdhaXQgeihvLGUsdCxuKTpsKGBObyBhY3Rpb25zIGhhdmUgYmVlbiBwcm92aWRlZCBmb3IgaW50ZW50ICR7ci5uYW1lfSwgaWdub3JpbmdgKTpsKFwiTm8gY29udGV4dCBpbmZvIHByb3ZpZGVkIHdpdGggaW50ZW50LCBpZ25vcmluZ1wiKX0pKGUsdCxuKSxyKSl9KSk7dHJ5e2Q9YXdhaXQgUHJvbWlzZS5hbGwocCl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgQXBpRXJyb3IoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgaW50ZXJvcCBoYW5kbGVyc1wiLGUpO3Rocm93IGModCksdH1yZXR1cm4gZH0sej1hc3luYyhlLHQsbixyKT0+e2lmKG51bGw9PW58fG4oZSksITA9PT1lLm9wZW5maW5CYmdBcGkpcmV0dXJuO2lmKHUoXCJQcm9jZXNzaW5nIGNvbnRleHRcIixlKSwhdC5oYXMoZS50eXBlKXx8IXQuZ2V0KGUudHlwZSkpcmV0dXJuIHZvaWQgbChgTm8gYWN0aW9uIGhhcyBiZWVuIGRlZmluZWQgZm9yIGNvbnRleHQgdHlwZSAke2UudHlwZX0sIGlnbm9yaW5nYCk7Y29uc3Qgbz10LmdldChlLnR5cGUpO3RyeXtzd2l0Y2goITApe2Nhc2UgZS50eXBlLnRvVXBwZXJDYXNlKCkuZW5kc1dpdGgoXCJDT05UQUNUXCIpOmF3YWl0IFkoZSxvKTticmVhaztjYXNlIGUudHlwZS50b1VwcGVyQ2FzZSgpLmVuZHNXaXRoKFwiSU5TVFJVTUVOVFwiKTphd2FpdCBaKGUsbyk7YnJlYWs7Y2FzZSBlLnR5cGUudG9VcHBlckNhc2UoKS5lbmRzV2l0aChcIk9SR0FOSVpBVElPTlwiKTphd2FpdCBKKGUsbyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCBsKGBDb250ZXh0IHR5cGUgJHtlLnR5cGV9IGlzIG5vdCBzdXBwb3J0ZWQsIGlnbm9yaW5nYCl9fWNhdGNoKGUpe2xldCB0O2UgaW5zdGFuY2VvZiBBcGlFcnJvcj90PWU6KHQ9bmV3IEFwaUVycm9yKHZvaWQgMCxlKSxjKHQpKSxudWxsPT1yfHxyKHQpfX0sWT1hc3luYyhlLHQpPT57Y29uc3R7bmFtZTpufT1lO2lmKCFuKXJldHVybiB2b2lkIGwoXCJDb250YWN0IGNvbnRleHQgZGlkIG5vdCBpbmNsdWRlIGEgbmFtZSwgaWdub3JpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHZvaWQgbChcIkNvbnRhY3QgY29udGV4dCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGdyb3VwIGFjdGlvbnMsIGlnbm9yaW5nXCIpO2NvbnN0e21uZW1vbmljOnIsdGFpbHM6byx0YXJnZXQ6aX09dCxzPWAke259ICR7bnVsbCE9bz9vOlwiXCJ9YC50cmltKCk7YXdhaXQgTShpLHIsdm9pZCAwLHZvaWQgMCxzKX0sWj1hc3luYyhlLHQpPT57Y29uc3Qgcj0oZT0+e2NvbnN0e0JCRzp0LHRpY2tlcjpufT1lLmlkO3JldHVybiB0fHwobj9gJHtufSBVUyBFcXVpdHlgOnZvaWQgdShcIkluc3RydW1lbnQgY29udGV4dCBkb2VzIG5vdCBjb250YWluIGEgc3VwcG9ydGVkIGlkXCIsZSkpfSkoZSk7aWYoIXIpcmV0dXJuIHZvaWQgbChcIkluc3RydW1lbnQgY29udGV4dCBkaWQgbm90IGNvbnRhaW4gYSB2YWxpZCBzZWN1cml0eSwgaWdub3JpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHZvaWQgYXdhaXQoYXN5bmMoZSx0KT0+e2lmKHUoYFNldHRpbmcgJHtcIipcIj09PWU/XCJldmVyeSBncm91cFwiOmBncm91cCAke2V9YH0gc2VjdXJpdHkgdG8gJHt0fWApLFwiKlwiPT09ZSl7Y29uc3QgZT1hd2FpdCB2LmdldEFsbEdyb3VwcygpO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT5lLnNldFNlY3VyaXR5KHQsRykpKSl9ZWxzZSB0cnl7Y29uc3Qgbj1hd2FpdCB2LmdldEdyb3VwKGUpO2F3YWl0IG4uc2V0U2VjdXJpdHkodCxHKX1jYXRjaChlKXtjb25zdCB0PW4oZSk7dGhyb3cgYyh0KSx0fX0pKHQscik7Y29uc3R7bW5lbW9uaWM6byx0YWlsczppLHRhcmdldDpzfT10O2F3YWl0IE0ocyxvLHIsdm9pZCAwLGkpfSxKPWFzeW5jKGUsdCk9Pntjb25zdHtuYW1lOm59PWU7aWYoIW4pcmV0dXJuIHZvaWQgbChcIk9yZ2FuaXphdGlvbiBjb250ZXh0IGRpZCBub3QgaW5jbHVkZSBhIG5hbWUsIGlnbm9yaW5nXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB2b2lkIGwoXCJPcmdhbml6YXRpb24gY29udGV4dCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGdyb3VwIGFjdGlvbnMsIGlnbm9yaW5nXCIpO2NvbnN0e21uZW1vbmljOnIsdGFpbHM6byx0YXJnZXQ6aX09dCxzPWAke259ICR7bnVsbCE9bz9vOlwiXCJ9YC50cmltKCk7YXdhaXQgTShpLHIsdm9pZCAwLHZvaWQgMCxzKX07dmFyIFE7IWZ1bmN0aW9uKGUpe2UuQmxvb21iZXJnPVwiQkxPT01CRVJHXCJ9KFF8fChRPXt9KSk7Y29uc3QgSD1hc3luYyBlPT57KGFzeW5jIGU9Pnt0cnl7YXdhaXQgZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwiaW50ZWdyYXRpb24tZmVhdHVyZVwiLGRhdGE6e2FwaVZlcnNpb246cixjb21wb25lbnROYW1lOmV9fSl9Y2F0Y2godCl7bChgVW5hYmxlIHRvIHJlZ2lzdGVyIHVzYWdlIGZvciBmZWF0dXJlICR7ZX06ICR7bnVsbD09dD92b2lkIDA6dC5tZXNzYWdlfWApfX0pKFEuQmxvb21iZXJnKTtjb25zdHtncm91cDp0LGFjdGlvbnM6bixvbkNvbnRleHRDaGFuZ2VkOm8sb25FcnJvcjppfT1udWxsIT1lP2U6e307aWYodShcIkNyZWF0aW5nIGludGVyb3AgY29ubmVjdGlvblwiLHQsbiksIWF3YWl0IGsoKSl7Y29uc3QgZT1uZXcgVGVybWluYWxDb25uZWN0aW9uRXJyb3I7dGhyb3cgYyhlKSxlfWxldCBzO3ZvaWQgMCE9PShudWxsIT10P3Q6dm9pZCAwKSYmKHM9YXdhaXQgdi5zdWJzY3JpYmVHcm91cEV2ZW50cyhQKHQsbyxpKSksdShcIkxhdW5jaHBhZCBncm91cCBzdWJzY3JpcHRpb24gY3JlYXRlZDogXCIscykpO2NvbnN0IGE9YXdhaXQgVyhuLG8saSk7cmV0dXJue2Rpc2Nvbm5lY3Q6SyhhLHMpfX0sSz0oZSx0KT0+YXN5bmMoKT0+e3UoXCJEaXNjb25uZWN0aW5nIGludGVyb3AgY29ubmVjdGlvblwiKSxlJiZhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+e2F3YWl0IGUudW5zdWJzY3JpYmUoKX0pKSksdm9pZCAwIT09KG51bGwhPXQ/dDp2b2lkIDApJiZhd2FpdCB2LnVuc3Vic2NyaWJlR3JvdXBFdmVudHModCl9O3ZhciBYPXQuTVMsZWU9dC54Yyx0ZT10LkJULG5lPXQuZXoscmU9dC55VyxvZT10LiRqLGllPXQuVSQsc2U9dC5VNyxhZT10LkdTLGNlPXQuaE4sdWU9dC5ZYyxsZT10LmVFLHBlPXQuQzE7ZXhwb3J0e1ggYXMgQXBpRXJyb3IsZWUgYXMgQXBwTm90QXV0aG9yaXplZEVycm9yLHRlIGFzIEludGVyb3BFcnJvcixuZSBhcyBUZXJtaW5hbENvbW1hbmRFcnJvcixyZSBhcyBUZXJtaW5hbENvbm5lY3Rpb25FcnJvcixvZSBhcyBjb25uZWN0LGllIGFzIGRpc2FibGVMb2dnaW5nLHNlIGFzIGVuYWJsZUxvZ2dpbmcsYWUgYXMgaXNCbG9vbWJlcmdUZXJtaW5hbFJlYWR5LGNlIGFzIGlzQ3VzaXAsdWUgYXMgaXNFcXVpdHksbGUgYXMgaXNGaWdpLHBlIGFzIGlzSXNpbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQge1xuXHRjb25uZWN0LFxuXHRlbmFibGVMb2dnaW5nLFxuXHRpc0Jsb29tYmVyZ1Rlcm1pbmFsUmVhZHksXG5cdHR5cGUgQmxvb21iZXJnQ29ubmVjdGlvblxufSBmcm9tIFwiQG9wZW5maW4vYmxvb21iZXJnXCI7XG5pbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5cbmxldCBiYmdDb25uZWN0aW9uOiBCbG9vbWJlcmdDb25uZWN0aW9uIHwgdW5kZWZpbmVkO1xuXG5sZXQgc2VsZWN0ZWRJbnRlbnRUeXBlOiBzdHJpbmcgPSBcIlwiO1xubGV0IHNlbGVjdGVkSW50ZW50VmFsdWU6IHN0cmluZyA9IFwiXCI7XG5sZXQgZmRjM0Rlbm9taW5hdGlvbjogc3RyaW5nID0gXCJcIjtcbmxldCBiYmdNbmVtb25pYzogc3RyaW5nID0gXCJcIjtcblxubGV0IGJ0bkNvbm5lY3Q6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbmxldCBidG5EaXNjb25uZWN0OiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5sZXQgYnRuQ2xlYXJMb2dzOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5sZXQgYnRuUXVlcnk6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbmxldCBpbnRlbnRUeXBlRWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsO1xubGV0IGludGVudFZhbHVlRWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsO1xubGV0IGxvZ091dHB1dDogSFRNTFByZUVsZW1lbnQgfCBudWxsO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHQvLyBFbmFibGUgbG9nZ2luZyBpbiB0aGUgQkJHIHBhY2thZ2Vcblx0ZW5hYmxlTG9nZ2luZygpO1xuXG5cdC8vIEluaXRpYWxpemUgdGhlIERPTSBlbGVtZW50cy5cblx0aW5pdGlhbGl6ZURPTSgpO1xufSk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplRE9NKCk6IHZvaWQge1xuXHRidG5Db25uZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjYnRuQ29ubmVjdFwiKTtcblx0YnRuRGlzY29ubmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bkRpc2Nvbm5lY3RcIik7XG5cdGJ0bkNsZWFyTG9ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bkNsZWFyXCIpO1xuXHRidG5RdWVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0blF1ZXJ5XCIpO1xuXHRpbnRlbnRUeXBlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFNlbGVjdEVsZW1lbnQ+KFwiI2ludGVudFR5cGVcIik7XG5cdGludGVudFZhbHVlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFNlbGVjdEVsZW1lbnQ+KFwiI2ludGVudFZhbHVlXCIpO1xuXHRsb2dPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxQcmVFbGVtZW50PihcIiNsb2dPdXRwdXRcIik7XG5cblx0aWYgKGJ0bkNvbm5lY3QpIHtcblx0XHRidG5Db25uZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoYnRuQ29ubmVjdCkge1xuXHRcdFx0XHRidG5Db25uZWN0LmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IGNvbm5lY3RUb0JCR1Rlcm1pbmFsKCk7XG5cdFx0XHR1cGRhdGVTdGF0ZSgpO1xuXHRcdH0pO1xuXHR9XG5cdGlmIChidG5EaXNjb25uZWN0KSB7XG5cdFx0YnRuRGlzY29ubmVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKGJ0bkRpc2Nvbm5lY3QpIHtcblx0XHRcdFx0YnRuRGlzY29ubmVjdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBkaXNjb25uZWN0RnJvbUJCR1Rlcm1pbmFsKCk7XG5cdFx0XHR1cGRhdGVTdGF0ZSgpO1xuXHRcdH0pO1xuXHR9XG5cdGlmIChidG5DbGVhckxvZ3MpIHtcblx0XHRidG5DbGVhckxvZ3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsZWFyTG9ncyk7XG5cdH1cblx0aWYgKGJ0blF1ZXJ5KSB7XG5cdFx0YnRuUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZpcmVJbnRlbnRGb3JCQkcpO1xuXHR9XG5cblx0aWYgKGludGVudFR5cGVFbGVtZW50KSB7XG5cdFx0aW50ZW50VHlwZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChpbnRlbnRUeXBlRWxlbWVudD8udmFsdWUpIHtcblx0XHRcdFx0aWYgKGJ0blF1ZXJ5KSB7XG5cdFx0XHRcdFx0YnRuUXVlcnkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN3aXRjaCAoaW50ZW50VHlwZUVsZW1lbnQ/LnZhbHVlKSB7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdDaGFydFwiOlxuXHRcdFx0XHRcdFx0bG9nSW5mb3JtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFwiSW50ZW50IHRvIGJlIGZpcmVkIGlzIFZpZXdDaGFydC4gQ29udGVudCBUeXBlIGlzIGZkYzMuaW5zdHJ1bWVudC4gQmxvb21iZXJnIFRlcm1pbmFsIE1uZW1vbmljOiBHUFwiXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWRJbnRlbnRUeXBlID0gXCJWaWV3Q2hhcnRcIjtcblx0XHRcdFx0XHRcdGZkYzNEZW5vbWluYXRpb24gPSBcImZkYzMuaW5zdHJ1bWVudFwiO1xuXHRcdFx0XHRcdFx0YmJnTW5lbW9uaWMgPSBcIkdQXCI7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZVNlbGVjdChpbnRlbnRWYWx1ZUVsZW1lbnQsIFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcmFjbGUgQ29ycFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJNU0ZUXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiTWljcm9zb2Z0XCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIklCTVwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdDb250YWN0XCI6XG5cdFx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld0NvbnRhY3QuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmNvbnRhY3QuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogQklPXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdDb250YWN0XCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmNvbnRhY3RcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJCSU9cIjtcblx0XHRcdFx0XHRcdHBvcHVsYXRlU2VsZWN0KGludGVudFZhbHVlRWxlbWVudCwgW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiV2lsbGlhbSBIZW5yeSBHYXRlc1wiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIldpbGxpYW0gSGVucnkgR2F0ZXNcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiTGFycnkgRWxsaXNvblwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIkxhcnJ5IEVsbGlzb25cIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiUm9iZXJ0IElnZXJcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJSb2JlcnQgSWdlclwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIlZpZXdJbnN0cnVtZW50XCI6XG5cdFx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld0luc3RydW1lbnQuIENvbnRlbnQgVHlwZSBpcyBmZGMzLmluc3RydW1lbnQuIEJsb29tYmVyZyBUZXJtaW5hbCBNbmVtb25pYzogREVTXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZEludGVudFR5cGUgPSBcIlZpZXdJbnN0cnVtZW50XCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmluc3RydW1lbnRcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJERVNcIjtcblx0XHRcdFx0XHRcdHBvcHVsYXRlU2VsZWN0KGludGVudFZhbHVlRWxlbWVudCwgW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiT1JDTFwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIk9yYWNsZSBDb3JwXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk1TRlRcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJNaWNyb3NvZnRcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiSUJNXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiSUJNXCJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiVmlld1F1b3RlXCI6XG5cdFx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdFx0XCJJbnRlbnQgdG8gYmUgZmlyZWQgaXMgVmlld1F1b3RlLiBDb250ZW50IFR5cGUgaXMgZmRjMy5pbnN0cnVtZW50LiBCbG9vbWJlcmcgVGVybWluYWwgTW5lbW9uaWM6IFFcIlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHNlbGVjdGVkSW50ZW50VHlwZSA9IFwiVmlld1F1b3RlXCI7XG5cdFx0XHRcdFx0XHRmZGMzRGVub21pbmF0aW9uID0gXCJmZGMzLmluc3RydW1lbnRcIjtcblx0XHRcdFx0XHRcdGJiZ01uZW1vbmljID0gXCJRXCI7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZVNlbGVjdChpbnRlbnRWYWx1ZUVsZW1lbnQsIFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIk9SQ0xcIixcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcmFjbGUgQ29ycFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJNU0ZUXCIsXG5cdFx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiTWljcm9zb2Z0XCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIklCTVwiLFxuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBcIklCTVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGlmIChpbnRlbnRWYWx1ZUVsZW1lbnQpIHtcblx0XHRpbnRlbnRWYWx1ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRpZiAoaW50ZW50VmFsdWVFbGVtZW50KSB7XG5cdFx0XHRcdHNlbGVjdGVkSW50ZW50VmFsdWUgPSBpbnRlbnRWYWx1ZUVsZW1lbnQudmFsdWU7XG5cdFx0XHRcdGlmIChzZWxlY3RlZEludGVudFZhbHVlLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0XHRcdGBhY3Rpb246ICR7c2VsZWN0ZWRJbnRlbnRUeXBlfSwgdHlwZTogJHtmZGMzRGVub21pbmF0aW9ufSwgYmJnIG1uZW1vbmljOiAke2JiZ01uZW1vbmljfSwgc2VhcmNoIHZhbHVlOiAke3NlbGVjdGVkSW50ZW50VmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dXBkYXRlU3RhdGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHVwZGF0ZVN0YXRlKCk7XG59XG5cbi8qKlxuICogQ29ubmVjdCB0byBCbG9vbWJlcmcgVGVybWluYWwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0JCR1Rlcm1pbmFsKCk6IFByb21pc2U8dm9pZD4ge1xuXHR0cnkge1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiQ2hlY2tpbmcgQmxvb21iZXJnIFRlcm1pbmFsIFN0YXR1c1wiKTtcblxuXHRcdGlmICghKGF3YWl0IGlzQmxvb21iZXJnVGVybWluYWxSZWFkeSgpKSkge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB0byBCbG9vbWJlcmcgdGVybWluYWwuXCIpO1xuXHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0bG9nSW5mb3JtYXRpb24oXCJGYWlsZWQgdG8gY29ubmVjdCB0byBCbG9vbWJlcmcgdGVybWluYWwuXCIpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0YmJnQ29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKTtcblx0XHRsb2dJbmZvcm1hdGlvbihcIkNvbm5lY3Rpb24gc3VjY2Vzc2Z1bFwiKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRiYmdDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuXHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRsb2dJbmZvcm1hdGlvbihlcnJvclRvU3RyaW5nKGVycm9yKSk7XG5cdH1cbn1cblxuLyoqXG4gKiBEaXNjb25uZWN0IGZyb20gQmxvb21iZXJnIFRlcm1pbmFsLlxuICovXG5hc3luYyBmdW5jdGlvbiBkaXNjb25uZWN0RnJvbUJCR1Rlcm1pbmFsKCk6IFByb21pc2U8dm9pZD4ge1xuXHRpZiAoYmJnQ29ubmVjdGlvbikge1xuXHRcdHRyeSB7XG5cdFx0XHRsb2dJbmZvcm1hdGlvbihcIkRpc2Nvbm5lY3RpbmcgZnJvbSBCbG9vbWJlcmcgVGVybWluYWxcIik7XG5cdFx0XHRhd2FpdCBiYmdDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0YmJnQ29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcblx0XHRcdGxvZ0luZm9ybWF0aW9uKFwiRGlzY29ubmVjdGVkIGZyb20gQmxvb21iZXJnIFRlcm1pbmFsXCIpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEZpcmUgYW4gaW50ZW50LlxuICovXG5hc3luYyBmdW5jdGlvbiBmaXJlSW50ZW50Rm9yQkJHKCk6IFByb21pc2U8dm9pZD4ge1xuXHRpZiAoYmJnQ29ubmVjdGlvbikge1xuXHRcdHRyeSB7XG5cdFx0XHRsb2dJbmZvcm1hdGlvbihcblx0XHRcdFx0YGFjdGlvbjogJHtzZWxlY3RlZEludGVudFR5cGV9LCB0eXBlOiAke2ZkYzNEZW5vbWluYXRpb259LCBiYmcgbW5lbW9uaWM6ICR7YmJnTW5lbW9uaWN9LCBzZWFyY2ggdmFsdWU6ICR7c2VsZWN0ZWRJbnRlbnRWYWx1ZX1gXG5cdFx0XHQpO1xuXG5cdFx0XHRsZXQgaW50ZW50OiBPcGVuRmluLkludGVudDtcblxuXHRcdFx0c3dpdGNoIChzZWxlY3RlZEludGVudFR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcIlZpZXdDb250YWN0XCI6XG5cdFx0XHRcdFx0aW50ZW50ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogc2VsZWN0ZWRJbnRlbnRUeXBlLFxuXHRcdFx0XHRcdFx0Y29udGV4dDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBmZGMzRGVub21pbmF0aW9uLFxuXHRcdFx0XHRcdFx0XHRuYW1lOiBzZWxlY3RlZEludGVudFZhbHVlLFxuXHRcdFx0XHRcdFx0XHRpZDoge31cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGludGVudCA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHNlbGVjdGVkSW50ZW50VHlwZSxcblx0XHRcdFx0XHRcdGNvbnRleHQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogZmRjM0Rlbm9taW5hdGlvbixcblx0XHRcdFx0XHRcdFx0aWQ6IHtcblx0XHRcdFx0XHRcdFx0XHR0aWNrZXI6IHNlbGVjdGVkSW50ZW50VmFsdWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IGZpbi5tZS5pbnRlcm9wLmZpcmVJbnRlbnQoaW50ZW50KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bG9nSW5mb3JtYXRpb24oYEVycm9yIHdoaWxlIHRyeWluZyB0byByYWlzZSBpbnRlbnQ6ICR7ZXJyb3JUb1N0cmluZyhlcnJvcil9YCk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGxvZ0luZm9ybWF0aW9uKFwiTm90IGNvbm5lY3RlZCB0byB0aGUgQmxvb21iZXJnIFRlcm1pbmFsLiBQbGVhc2UgY2hlY2sgeW91ciBzdGF0dXMgb3IgbG9nIGluIGFnYWluLlwiKTtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIERPTS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3RhdGUoKTogdm9pZCB7XG5cdGNvbnN0IGlzQ29ubmVjdGVkID0gYmJnQ29ubmVjdGlvbiAhPT0gdW5kZWZpbmVkO1xuXHRpZiAoYnRuQ29ubmVjdCkge1xuXHRcdGJ0bkNvbm5lY3QuZGlzYWJsZWQgPSBpc0Nvbm5lY3RlZDtcblx0fVxuXHRpZiAoYnRuRGlzY29ubmVjdCkge1xuXHRcdGJ0bkRpc2Nvbm5lY3QuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQ7XG5cdH1cblx0aWYgKGludGVudFR5cGVFbGVtZW50KSB7XG5cdFx0aW50ZW50VHlwZUVsZW1lbnQuZGlzYWJsZWQgPSAhaXNDb25uZWN0ZWQ7XG5cdH1cblx0aWYgKGludGVudFZhbHVlRWxlbWVudCkge1xuXHRcdGludGVudFZhbHVlRWxlbWVudC5kaXNhYmxlZCA9ICFpc0Nvbm5lY3RlZCB8fCBzZWxlY3RlZEludGVudFR5cGUubGVuZ3RoID09PSAwO1xuXHR9XG5cdGlmIChidG5RdWVyeSkge1xuXHRcdGJ0blF1ZXJ5LmRpc2FibGVkID0gIWlzQ29ubmVjdGVkIHx8IHNlbGVjdGVkSW50ZW50VmFsdWUubGVuZ3RoID09PSAwO1xuXHR9XG59XG5cbi8qKlxuICogTG9nIGluZm9ybWF0aW9uIHRvIHRoZSBvdXRwdXQgZWxlbWVudC5cbiAqIEBwYXJhbSBpbmZvIFRoZSBpbmZvcm1hdGlvbiB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIGxvZ0luZm9ybWF0aW9uKGluZm86IHN0cmluZyk6IHZvaWQge1xuXHRpZiAobG9nT3V0cHV0KSB7XG5cdFx0bG9nT3V0cHV0LnRleHRDb250ZW50ID0gYCR7bG9nT3V0cHV0LnRleHRDb250ZW50fSR7aW5mb31cXG5cXG5gO1xuXHRcdGxvZ091dHB1dC5zY3JvbGxUb3AgPSBsb2dPdXRwdXQuc2Nyb2xsSGVpZ2h0O1xuXHR9XG59XG5cbi8qKlxuICogQ29udmVydCBhbmQgZXJyb3IgdG8gYSBzdHJpbmcuXG4gKiBAcGFyYW0gZXJyIFRoZSBlcnJvciB0byBjb252ZXJ0LlxuICogQHJldHVybnMgVGhlIGVycm9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlcnJvclRvU3RyaW5nKGVycjogdW5rbm93bik6IHN0cmluZyB7XG5cdGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdHJldHVybiBlcnIubWVzc2FnZTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXJyID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGVycjtcblx0fVxuXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShlcnIpO1xufVxuXG4vKipcbiAqIENsZWFyIHRoZSBsb2dzLlxuICovXG5mdW5jdGlvbiBjbGVhckxvZ3MoKTogdm9pZCB7XG5cdGlmIChsb2dPdXRwdXQpIHtcblx0XHRsb2dPdXRwdXQudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdGxvZ091dHB1dC5zY3JvbGxUb3AgPSAwO1xuXHR9XG59XG5cbi8qKlxuICogUG9wdWxhdGUgYSBzZWxlY3QgY29udHJvbCB3aXRoIGEgbGlzdCBvZiBpdGVtcy5cbiAqIEBwYXJhbSBzZWxlY3QgVGhlIHNlbGVjdCBlbGVtZW50IHRvIHBvcHVsYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIHBvcHVsYXRlIHRoZSBlbGVtZW50IHdpdGguXG4gKi9cbmZ1bmN0aW9uIHBvcHVsYXRlU2VsZWN0KHNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsLCB2YWx1ZXM6IHsgdmFsdWU6IHN0cmluZzsgbGFiZWw6IHN0cmluZyB9W10pOiB2b2lkIHtcblx0aWYgKHNlbGVjdCkge1xuXHRcdHNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGNvbnN0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0b3B0LnZhbHVlID0gXCJcIjtcblx0XHRvcHQudGV4dCA9IFwiUGxlYXNlIHNlbGVjdCB2YWx1ZVwiO1xuXHRcdG9wdC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0b3B0LnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRzZWxlY3QuYXBwZW5kKG9wdCk7XG5cblx0XHRmb3IgKGNvbnN0IHZhbCBvZiB2YWx1ZXMpIHtcblx0XHRcdGNvbnN0IG9wdFZhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0XHRvcHRWYWwudmFsdWUgPSB2YWwudmFsdWU7XG5cdFx0XHRvcHRWYWwudGV4dCA9IHZhbC5sYWJlbDtcblx0XHRcdHNlbGVjdC5hcHBlbmQob3B0VmFsKTtcblx0XHR9XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==