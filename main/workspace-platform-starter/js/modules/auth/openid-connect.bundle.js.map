{"version":3,"file":"openid-connect.bundle.js","mappings":"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","sources":["webpack://openfin-workspace--workspace-platform-starter/../../node_modules/@openfin/openid-connect/openfin.openid-connect.mjs","webpack://openfin-workspace--workspace-platform-starter/./client/src/framework/utils.ts","webpack://openfin-workspace--workspace-platform-starter/./client/src/modules/auth/openid-connect/index.ts","webpack://openfin-workspace--workspace-platform-starter/./client/src/modules/auth/openid-connect/auth.ts"],"sourcesContent":["var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{MS:()=>R,_7:()=>AuthenticationError,cX:()=>P,zL:()=>LogoutError,_W:()=>x,p8:()=>j,YR:()=>ze,U$:()=>Je,U7:()=>Ue,OF:()=>He});var r={d:(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},o={};r.d(o,{MS:()=>ApiError,cF:()=>ApiRequestError,AK:()=>AuthTokenExpiredError,M_:()=>AuthorizationError,cX:()=>InitializationError,Yd:()=>w,O4:()=>T,_W:()=>ParameterError,p8:()=>ValidationError,m$:()=>s,U$:()=>u,U7:()=>h,OV:()=>d,N7:()=>A,HP:()=>n,Rp:()=>O});class ApiError extends Error{constructor(e,t){var r,o;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"An unexpected error has occurred\"),this.name=this.constructor.name,this.stack=(e?this.stack:null!==(o=null==t?void 0:t.stack)&&void 0!==o?o:this.stack).replace(/^(\\w*Error)/,`${this.constructor.name}`)}}class ApiRequestError extends ApiError{constructor(e,t,r){var o;super(e=null!==(o=null!=e?e:null==r?void 0:r.message)&&void 0!==o?o:\"An error occurred when executing the API request\",r),this.status=t}}class AuthorizationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"An authorization error occurred\",t)}}class AuthTokenExpiredError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"The API request failed as the authorization tokens have expired\",t)}}class InitializationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"An initialization error occurred\",t)}}class ParameterError extends ApiError{constructor(e){super(e=null!=e?e:\"Invalid parameter detected\")}}class ValidationError extends ApiError{constructor(e,t){var r;super(e=null!==(r=null!=e?e:null==t?void 0:t.message)&&void 0!==r?r:\"A token validation error occurred\",t)}}const n=()=>void 0!==crypto.randomUUID?crypto.randomUUID():\"10000000-1000-4000-8000-100000000000\".replace(/[018]/g,(e=>{const t=window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4;return(Number(e)^t).toString(16)})),a=\"oauth-api-auth-flow\",i=(e,t,r,o,n,a,i,s)=>async c=>{const d=new URL(c);if(0!==d.href.toLowerCase().indexOf(n.toLowerCase()))return!1;if(window.clearInterval(s),window.clearTimeout(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),d.searchParams.get(\"error\")){const e=new AuthorizationError(\"Authorization error\");return e.data=d.toString(),i(e),!0}if(d.searchParams.get(\"state\")!==o){const e=new AuthorizationError(\"State mismatch\");return e.data=d.toString(),i(e),!0}const l=d.searchParams.get(\"code\");if(!l){const e=new AuthorizationError(\"Authorization code missing\");return e.data=d.toString(),i(e),!0}return a(l),!0},s=async(e,t,r={})=>{const{defaultHeight:o,defaultWidth:n}=r;return t(await fin.Window.create(Object.assign({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:null!=o?o:750,defaultWidth:null!=n?n:600,includeInSnapshots:!1,name:a,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:e},r)))},c=(e,t,r)=>o=>new Promise(((n,a)=>{let s;const c=window.setTimeout((()=>{window.clearInterval(s),window.clearTimeout(c),o.removeAllListeners(),o.close(!0),a(new AuthorizationError(\"Authorization timed out\"))}),3e5);o.addListener(\"closing\",(async()=>{r.logInfo(\"User closed auth window\"),window.clearInterval(s),window.clearTimeout(c),o.removeAllListeners(),a(new AuthorizationError(\"Failed to complete authorization code flow\"))}));const d=window.setTimeout((async()=>{try{await o.isShowing()||(r.logInfo(\"Showing auth window\"),await o.show(!0),await o.focus())}catch(e){r.logWarning(\"Unable to show auth window\")}}),2e3);(async()=>{const{version:l}=await fin.System.getRuntimeInfo();parseInt(l.split(\".\")[0],10)>=30?await i(o,c,d,e,t,n,a)((await o.getInfo()).url)||await o.addListener(\"url-changed\",(s=>{r.logInfo(\"Auth window navigated to\",s.url),i(o,c,d,e,t,n,a)(s.url)})):s=window.setInterval((()=>(async(e,t,r,o,n,a,s,c)=>{let d;try{d=await e.getInfo()}catch(e){return window.clearInterval(t),window.clearTimeout(r),window.clearTimeout(o),c(new AuthorizationError(\"Could not locate auth window\")),!1}return i(e,r,o,n,a,s,c,t)(d.url)})(o,s,c,d,e,t,n,a)),500)})()})),d=async(e,t)=>{let r;null==t||t.logInfo(\"Retrieving authorization server metadata\",e);try{r=new URL(e)}catch(e){throw new ParameterError(\"Unexpected invalid discovery URL\")}const o=await fetch(r,{headers:{Accept:\"application/json\"}});if(!o.ok)throw new Error(\"Failed to retrieve authorization server metadata\");const n=await o.json();if(!n)throw new Error(\"Unexpected empty authorization server metadata response\");return null==t||t.logInfo(\"Retrieved authorization server metadata\",n),n},l=e=>{let t=fin.Integrations;t||(fin.Integrations={},t=fin.Integrations);let r=t[e];return r||(t[e]={},r=t[e]),r},u=e=>{l(e).loggingEnabled=!1},h=(e,t=\"0.0.0\")=>{l(e).loggingEnabled=!0,console.log(p(e),`v${t}`)},p=e=>`[@openfin/${e.toLowerCase()}]`;class w{constructor(e){this.name=e,this.prefix=p(e),this.isLoggingEnabled=this.isLoggingEnabled.bind(this),this.logError=this.logError.bind(this),this.logInfo=this.logInfo.bind(this),this.logWarning=this.logWarning.bind(this)}isLoggingEnabled(){return l(this.name).loggingEnabled}logError(e){this.isLoggingEnabled()&&(e.innerError?console.error(this.prefix,e,\"\\n\\n(inner)\",e.innerError):console.error(this.prefix,e))}logInfo(...e){this.isLoggingEnabled()&&console.log(this.prefix,...e)}logWarning(...e){this.isLoggingEnabled()&&console.warn(this.prefix,...e)}}const g=()=>{let e,t,r,o,n;const a=async(t,r=!1)=>{const{command:o,data:n,id:s}=t,c={command:o,id:s};try{if(!e)throw new Error(\"Access token not found\");const{apiRequestUrl:o,data:s,headers:d,httpMethod:l,includeAuthorization:u}=n,h=await(async(t,r,o,n,a)=>{var i,s;const c=Object.assign({Accept:\"application/json\"},n);\"PATCH\"!==r&&\"POST\"!==r&&\"PUT\"!==r||/content-type/i.test(Object.keys(c).join(\",\"))||(c[\"Content-Type\"]=\"application/json\"),a&&(c.Authorization=`Bearer ${e}`);const d=await fetch(t,{body:\"object\"==typeof o?JSON.stringify(o):o,headers:c,method:r});if(!d.ok){const e={message:\"Failed to execute API request\"};return(null===(i=d.headers.get(\"Content-Type\"))||void 0===i?void 0:i.includes(\"application/json\"))&&(e.data=await d.json()),[d.status,void 0,void 0,e]}let l;const u=null!==(s=d.headers.get(\"Content-Type\"))&&void 0!==s?s:\"\";switch(!0){case!u:break;case/^application\\/(\\w+\\+)?json/i.test(u):l=await d.json();break;case/^multipart\\/form-?data|^application\\/x-?www-?form-?urlencoded/i.test(u):l=await d.formData();break;case/^application\\/(([^/]+)?xml|vnd\\.openxmlformats)|^text\\/|^image\\/svg/i.test(u):l=await d.text();break;default:l=await d.arrayBuffer()}return[d.status,l,u,void 0]})(o,l,s,d,u),[p,w,g,f]=h;if(c.status=p,f){if(!r&&401===p){const[e,r]=await i();return r?(c.status=e,c.error=r,c):await a(t,!0)}c.error=f}else w&&(c.data=w,c.type=g)}catch(e){e instanceof Error?c.error={message:e.message}:c.error={message:\"Failed to execute API request\"}}return Promise.resolve(c)},i=async()=>{var r;if(!o)throw new Error(\"Authorization server metadata not set\");if(!t)throw new Error(\"Client ID not set\");const a=`grant_type=refresh_token&client_id=${t}&refresh_token=${n}`,i=await fetch(o.token_endpoint,{body:a,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"},method:\"POST\"});if(!i.ok){const e={message:\"Failed to refresh access token\"};return(null===(r=i.headers.get(\"Content-Type\"))||void 0===r?void 0:r.includes(\"application/json\"))&&(e.data=await i.json()),[i.status,e]}const s=await i.json();return e=s.access_token,[i.status]};self.onmessage=async i=>{const{command:s,id:c}=i.data;let d={command:s,id:c};switch(s){case\"API_REQUEST\":d=await a(i.data);break;case\"CODE_EXCHANGE\":d=await(async a=>{var i;const{command:s,data:c,id:d}=a,l={command:s,id:d};try{if(!o)throw new Error(\"Authorization server metadata not set\");if(!t)throw new Error(\"Client ID not set\");const{code:a,codeVerifier:s,redirectUri:d}=c,u=`grant_type=authorization_code&client_id=${t}&code=${a}&code_verifier=${s}&redirect_uri=${d}`,h=await fetch(o.token_endpoint,{body:u,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"},method:\"POST\"});if(h.ok){const t=await h.json();e=t.access_token,r=t.id_token,n=t.refresh_token}else{const e={message:\"Failed to retrieve tokens\"};(null===(i=h.headers.get(\"Content-Type\"))||void 0===i?void 0:i.includes(\"application/json\"))&&(e.data=await h.json()),l.error=e}}catch(e){e instanceof Error?l.error={message:e.message}:l.error={message:\"Failed to retrieve tokens\"}}return Promise.resolve(l)})(i.data);break;case\"EXPIRE_TOKENS\":d=await(async r=>{var a;const{command:i,expireAccessTokenOnly:s,id:c}=r,d={command:i,id:c};try{if(!o)throw new Error(\"Authorization server metadata not set\");if(!o.revocation_endpoint)throw new Error(\"Revocation endpoint missing in authorization server metadata\");if(!s&&!n)throw new Error(\"Refresh token not found\");const r=o.revocation_endpoint;let i,c=!1;const l={body:`client_id=${t}`,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"},method:\"POST\"};if(s){const t=await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${e}&token_type_hint=access_token`}));t.ok||(c=!0,(null===(a=t.headers.get(\"Content-Type\"))||void 0===a?void 0:a.includes(\"application/json\"))&&(i=await t.json()))}else{const t=(await Promise.all([await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${e}&token_type_hint=access_token`})),await fetch(r,Object.assign(Object.assign({},l),{body:`${l.body}&token=${n}&token_type_hint=refresh_token`}))])).filter((e=>!e.ok));t.length&&(c=!0,i=await t[0].json())}if(c){const e={data:i,message:\"Failed to expire tokens\"};d.error=e}}catch(e){e instanceof Error?d.error={message:e.message}:d.error={message:\"Failed to expire tokens\"}}return Promise.resolve(d)})(i.data);break;case\"GET_ID_TOKEN\":l=i.data,d=Object.assign(Object.assign({},l),{idToken:r});break;case\"INIT\":d=await(async e=>{const{command:r,data:n,id:a}=e,i={command:r,id:a};return t=n.clientId,o=n.metadata,Promise.resolve(i)})(i.data);break;default:d.error=new Error(`Unexpected oauth worker command: ${s}`)}var l;self.postMessage(d)}};var f;!function(e){e.ApiRequest=\"API_REQUEST\",e.CodeExchange=\"CODE_EXCHANGE\",e.ExpireTokens=\"EXPIRE_TOKENS\",e.GetIdToken=\"GET_ID_TOKEN\",e.Init=\"INIT\"}(f||(f={}));const m=[],y=e=>{m.push(e)},E=(e,t)=>(r,o,a)=>new Promise(((i,s)=>{const c={command:f.CodeExchange,data:{code:r,codeVerifier:o,redirectUri:a},id:n()},{command:d,id:l}=c;y({command:d,id:l,reject:s,resolve:i}),e.postMessage(c),t.logInfo(\"Worker request sent\",c)})),v=(e,t,r)=>(o,a,i,s,c)=>new Promise(((d,l)=>{const u={command:f.ApiRequest,data:{apiRequestUrl:o,clientId:e,data:i,headers:s,httpMethod:a,includeAuthorization:c},id:n()},{command:h,id:p}=u;y({command:h,id:p,reject:l,resolve:d}),t.postMessage(u),r.logInfo(\"Worker request sent\",u)})),S=(e,t)=>r=>new Promise(((o,a)=>{const i={command:f.ExpireTokens,expireAccessTokenOnly:r,id:n()},{command:s,id:c}=i;y({command:s,id:c,reject:a,resolve:o}),e.postMessage(i),t.logInfo(\"Worker request sent\",i)})),b=(e,t)=>async()=>(await new Promise(((r,o)=>{const a={command:f.GetIdToken,id:n()},{command:i,id:s}=a;y({command:i,id:s,reject:o,resolve:r}),e.postMessage(a),t.logInfo(\"Worker request sent\",a)}))).idToken,A=async(e,t,r)=>{const o=new Blob([`(${g})()`],{type:\"text/javascript\"}),a=URL.createObjectURL(o),i=new Worker(a);return i.onmessage=_(r),await((e,t,r,o)=>new Promise(((a,i)=>{const s={command:f.Init,data:{clientId:t,metadata:e},id:n()},{command:c,id:d}=s;y({command:c,id:d,reject:i,resolve:a}),r.postMessage(s),o.logInfo(\"Worker request sent\",s)})))(e,t,i,r),{exchangeCodeForTokens:E(i,r),executeApiRequest:v(t,i,r),expireTokens:S(i,r),getIdToken:b(i,r),terminate:I(i,r)}},_=e=>t=>{e.logInfo(\"Worker response received\",t.data);const r=t.data,{command:o,error:n,id:a}=r,i=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(r,[\"command\",\"error\",\"id\"]),s=((e,t)=>m.find((r=>r.command===t&&r.id===e)))(a,o);s?(n?(\"status\"in i&&void 0!==i.status&&(n.status=i.status),s.reject(n)):s.resolve(i),k(a,o)):e.logError(new Error(\"Unable to locate awaited request\"))},k=(e,t)=>{const r=m.findIndex((r=>r.command===t&&r.id===e));r>=0&&m.splice(r,1)},I=(e,t)=>async()=>{try{await S(e,t)(!1)}catch(e){t.logWarning(e.message)}e.terminate(),t.logInfo(\"Worker terminated\")};class T{get apiOrigin(){return this._apiOrigin}get clientId(){return this._clientId}get logger(){return this._logger}get metadata(){return this._metadata}get worker(){return this._worker}constructor(e,t,r,o,n){if(this.executeApiRequest=async(e,t=\"GET\",r,o,n=!0,a=!1)=>{this._logger.logInfo(\"ExecuteApiRequest started\",e,t,r,o);try{const a=await((e,t)=>async(r,o,n,a,i)=>{try{return await t.executeApiRequest(`${e}${r}`,o,n,a,i)}catch(e){let t;const{data:r,message:o,status:n}=e;throw t=e instanceof Error?new ApiRequestError(o,n):\"Failed to refresh access token\"===o?new AuthTokenExpiredError(o):new ApiRequestError(o,n),t.data=r,t}})(this._apiOrigin,this._worker)(e,t,r,o,n);return this._logger.logInfo(\"ExecuteApiRequest completed\",a),a}catch(e){if(e instanceof ApiRequestError){const{data:t,message:r,name:o,stack:n}=e,a=this.getErrorMessageFromServerResponse(t);a&&(e.message=a,e.stack=null==n?void 0:n.replace(`${o}: ${r}`,`${o}: ${a}`))}throw a&&this.logger.logError(e),e}},!(t&&r&&o&&n))throw new InitializationError(\"Provider has not been properly initialized (call init to create new instances)\");this._apiOrigin=null!=e?e:\"\",this._clientId=t,this._metadata=r,this._worker=o,this._logger=n,this.authorize=this.authorize.bind(this),this.close=this.close.bind(this),this.executeApiRequest=this.executeApiRequest.bind(this),this.expireTokens=this.expireTokens.bind(this),this.getErrorMessageFromServerResponse=this.getErrorMessageFromServerResponse.bind(this),this.getIdToken=this.getIdToken.bind(this)}async authorize(e,t,r){this._logger.logInfo(\"Authorize started\",e,t,r);try{await(o=this._metadata,i=this._clientId,d=this._worker,l=this._logger,async(e,t={},r={})=>{const{authorization_endpoint:u}=o,h=fin.Application.getCurrentSync(),p=(await h.getChildWindows()).find((e=>e.identity.name===a));p&&await p.close(!0);const w=n(),g=(()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.slice(-2))).join(\"\")})(),f=(await(async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest(\"SHA-256\",t),o=await(e=>new Promise(((t,r)=>{try{const o=new Blob([e]),n=new FileReader;n.onload=e=>{var o,n;const a=null===(o=e.target)||void 0===o?void 0:o.result;if(a){const[,e]=Array.from(null!==(n=a.match(/base64,(.*)$/i))&&void 0!==n?n:[]);t(null!=e?e:\"\")}r(new Error(\"Unexpected empty result\"))},n.readAsDataURL(o)}catch(e){r(e)}})))(r);return o.replace(/\\+/g,\"-\").replace(/\\//g,\"_\")})(g)).replace(/=+$/,\"\"),m=new URL(u);m.searchParams.set(\"client_id\",i),m.searchParams.set(\"redirect_uri\",e),m.searchParams.set(\"response_type\",\"code\"),m.searchParams.set(\"state\",w),m.searchParams.set(\"code_challenge\",f),m.searchParams.set(\"code_challenge_method\",\"S256\"),Object.entries(t).forEach((e=>m.searchParams.set(e[0],e[1]))),l.logInfo(\"Starting OAuth flow\",m,r);const y=await s(m.toString(),c(w,e,l),r);l.logInfo(\"Received authorization code\"),await d.exchangeCodeForTokens(y,g,e),l.logInfo(\"Received tokens\")})(e,t,r),this._logger.logInfo(\"Authorize completed\")}catch(e){let t;if(e instanceof ApiError){const{data:r}=e,o=this.getErrorMessageFromServerResponse(r);t=new AuthorizationError(o,e),t.data=r}else t=new AuthorizationError(void 0,e);throw this.logger.logError(t),t}var o,i,d,l}async close(){var e;this._logger.logInfo(\"Close started\");try{await(null===(e=this._worker)||void 0===e?void 0:e.terminate()),this._worker=void 0,this._apiOrigin=void 0,this._clientId=void 0,this._metadata=void 0,this._logger.logInfo(\"Close completed\")}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}async expireTokens(e=!1){var t;this._logger.logInfo(\"ExpireTokens started\");try{await(null===(t=this._worker)||void 0===t?void 0:t.expireTokens(e)),this._logger.logInfo(\"ExpireTokens completed\")}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}getErrorMessageFromServerResponse(e){e&&this._logger.logWarning(e)}async getIdToken(){var e;this._logger.logInfo(\"GetIdToken started\");try{const t=await(null===(e=this._worker)||void 0===e?void 0:e.getIdToken());return this._logger.logInfo(\"GetIdToken completed\",t),t}catch(e){const t=new ApiError(void 0,e);throw this._logger.logError(t),t}}static async init(e,t,r,o,...n){const a=new w(o);a.logInfo(\"Init started\",e,t,r);try{let o;if(\"discoveryEndpoint\"in e){const{additionalMetadata:t,discoveryEndpoint:r}=e;o=Object.assign(Object.assign({},await d(r)),null!=t?t:{})}else o=e;if(!o.response_types_supported.find((e=>\"code\"===e.toLowerCase())))throw new InitializationError(\"Authorization server does not support the authorization code response type\");const n=await A(o,r,a),i=new T(t,r,o,n,a);return a.logInfo(\"Init completed\",i),i}catch(e){let t;throw t=e instanceof ApiError?e:new InitializationError(void 0,e),a.logError(t),t}}}const O=e=>async(t,r,o)=>{let n;null==e||e.logInfo(\"Validating token against introspection endpoint\",t,r,o);try{n=await fetch(o,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:`token=${t}&client_id=${r}`})}catch(e){throw new ValidationError(void 0,e)}if(n.ok){const t=await n.json(),{active:r}=t,o=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}(t,[\"active\"]),a=Object.assign({valid:r},o);return null==e||e.logInfo(\"Token validation result\",a),a}const a=await n.json();throw null==e||e.logWarning(\"Token Validation failed\",a),new ValidationError};var R=o.MS,P=o.cX,C=o.Yd,W=o.O4,x=o._W,j=o.p8,$=o.m$,J=o.U$,U=o.U7,K=o.OV,D=o.N7,L=o.Rp;const H=new TextEncoder,M=new TextDecoder;function z(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let o=0;return e.forEach((e=>{r.set(e,o),o+=e.length})),r}const N=e=>{let t=e;t instanceof Uint8Array&&(t=M.decode(t)),t=t.replace(/-/g,\"+\").replace(/_/g,\"/\").replace(/\\s/g,\"\");try{return(e=>{const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r})(t)}catch(e){throw new TypeError(\"The input to be decoded is not correctly encoded.\")}};class JOSEError extends Error{static get code(){return\"ERR_JOSE_GENERIC\"}constructor(e){var t;super(e),this.code=\"ERR_JOSE_GENERIC\",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class F extends JOSEError{static get code(){return\"ERR_JWT_CLAIM_VALIDATION_FAILED\"}constructor(e,t=\"unspecified\",r=\"unspecified\"){super(e),this.code=\"ERR_JWT_CLAIM_VALIDATION_FAILED\",this.claim=t,this.reason=r}}class q extends JOSEError{static get code(){return\"ERR_JWT_EXPIRED\"}constructor(e,t=\"unspecified\",r=\"unspecified\"){super(e),this.code=\"ERR_JWT_EXPIRED\",this.claim=t,this.reason=r}}class G extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JOSE_ALG_NOT_ALLOWED\"}static get code(){return\"ERR_JOSE_ALG_NOT_ALLOWED\"}}class V extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JOSE_NOT_SUPPORTED\"}static get code(){return\"ERR_JOSE_NOT_SUPPORTED\"}}class B extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWS_INVALID\"}static get code(){return\"ERR_JWS_INVALID\"}}class X extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWT_INVALID\"}static get code(){return\"ERR_JWT_INVALID\"}}class Y extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_INVALID\"}static get code(){return\"ERR_JWKS_INVALID\"}}class Q extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_NO_MATCHING_KEY\",this.message=\"no applicable key found in the JSON Web Key Set\"}static get code(){return\"ERR_JWKS_NO_MATCHING_KEY\"}}class Z extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_MULTIPLE_MATCHING_KEYS\",this.message=\"multiple matching keys found in the JSON Web Key Set\"}static get code(){return\"ERR_JWKS_MULTIPLE_MATCHING_KEYS\"}}Symbol.asyncIterator;class ee extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWKS_TIMEOUT\",this.message=\"request timed out\"}static get code(){return\"ERR_JWKS_TIMEOUT\"}}class te extends JOSEError{constructor(){super(...arguments),this.code=\"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\",this.message=\"signature verification failed\"}static get code(){return\"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\"}}const re=crypto,oe=e=>e instanceof CryptoKey;re.getRandomValues.bind(re);const ne=async e=>{var t,r;if(!e.alg)throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');const{algorithm:o,keyUsages:n}=function(e){let t,r;switch(e.kty){case\"oct\":switch(e.alg){case\"HS256\":case\"HS384\":case\"HS512\":t={name:\"HMAC\",hash:`SHA-${e.alg.slice(-3)}`},r=[\"sign\",\"verify\"];break;case\"A128CBC-HS256\":case\"A192CBC-HS384\":case\"A256CBC-HS512\":throw new V(`${e.alg} keys cannot be imported as CryptoKey instances`);case\"A128GCM\":case\"A192GCM\":case\"A256GCM\":case\"A128GCMKW\":case\"A192GCMKW\":case\"A256GCMKW\":t={name:\"AES-GCM\"},r=[\"encrypt\",\"decrypt\"];break;case\"A128KW\":case\"A192KW\":case\"A256KW\":t={name:\"AES-KW\"},r=[\"wrapKey\",\"unwrapKey\"];break;case\"PBES2-HS256+A128KW\":case\"PBES2-HS384+A192KW\":case\"PBES2-HS512+A256KW\":t={name:\"PBKDF2\"},r=[\"deriveBits\"];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"RSA\":switch(e.alg){case\"PS256\":case\"PS384\":case\"PS512\":t={name:\"RSA-PSS\",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?[\"sign\"]:[\"verify\"];break;case\"RS256\":case\"RS384\":case\"RS512\":t={name:\"RSASSA-PKCS1-v1_5\",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?[\"sign\"]:[\"verify\"];break;case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":t={name:\"RSA-OAEP\",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?[\"decrypt\",\"unwrapKey\"]:[\"encrypt\",\"wrapKey\"];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"EC\":switch(e.alg){case\"ES256\":t={name:\"ECDSA\",namedCurve:\"P-256\"},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ES384\":t={name:\"ECDSA\",namedCurve:\"P-384\"},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ES512\":t={name:\"ECDSA\",namedCurve:\"P-521\"},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":t={name:\"ECDH\",namedCurve:e.crv},r=e.d?[\"deriveBits\"]:[];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"OKP\":switch(e.alg){case\"EdDSA\":t={name:e.crv},r=e.d?[\"sign\"]:[\"verify\"];break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":t={name:e.crv},r=e.d?[\"deriveBits\"]:[];break;default:throw new V('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;default:throw new V('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),a=[o,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:n];if(\"PBKDF2\"===o.name)return re.subtle.importKey(\"raw\",N(e.k),...a);const i={...e};return delete i.alg,delete i.use,re.subtle.importKey(\"jwk\",i,...a)};function ae(e){if(\"object\"!=typeof(t=e)||null===t||\"[object Object]\"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}const ie=function(e,t,r,o,n){if(void 0!==n.crit&&void 0===o.crit)throw new e('\"crit\" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some((e=>\"string\"!=typeof e||0===e.length)))throw new e('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of o.crit){if(!a.has(t))throw new V(`Extension Header Parameter \"${t}\" is not recognized`);if(void 0===n[t])throw new e(`Extension Header Parameter \"${t}\" is missing`);if(a.get(t)&&void 0===o[t])throw new e(`Extension Header Parameter \"${t}\" MUST be integrity protected`)}return new Set(o.crit)};Symbol();function se(e,t=\"algorithm.name\"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ce(e,t){return e.name===t}function de(e){return parseInt(e.name.slice(4),10)}function le(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e=\"CryptoKey does not support this operation, its usages must include \";if(t.length>2){const r=t.pop();e+=`one of ${t.join(\", \")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function ue(e,t,...r){switch(t){case\"HS256\":case\"HS384\":case\"HS512\":{if(!ce(e.algorithm,\"HMAC\"))throw se(\"HMAC\");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,\"algorithm.hash\");break}case\"RS256\":case\"RS384\":case\"RS512\":{if(!ce(e.algorithm,\"RSASSA-PKCS1-v1_5\"))throw se(\"RSASSA-PKCS1-v1_5\");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,\"algorithm.hash\");break}case\"PS256\":case\"PS384\":case\"PS512\":{if(!ce(e.algorithm,\"RSA-PSS\"))throw se(\"RSA-PSS\");const r=parseInt(t.slice(2),10);if(de(e.algorithm.hash)!==r)throw se(`SHA-${r}`,\"algorithm.hash\");break}case\"EdDSA\":if(\"Ed25519\"!==e.algorithm.name&&\"Ed448\"!==e.algorithm.name)throw se(\"Ed25519 or Ed448\");break;case\"ES256\":case\"ES384\":case\"ES512\":{if(!ce(e.algorithm,\"ECDSA\"))throw se(\"ECDSA\");const r=function(e){switch(e){case\"ES256\":return\"P-256\";case\"ES384\":return\"P-384\";case\"ES512\":return\"P-521\";default:throw new Error(\"unreachable\")}}(t);if(e.algorithm.namedCurve!==r)throw se(r,\"algorithm.namedCurve\");break}default:throw new TypeError(\"CryptoKey does not support this operation\")}le(e,r)}function he(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(\", \")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:\"function\"==typeof t&&t.name?e+=` Received function ${t.name}`:\"object\"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const pe=(e,...t)=>he(\"Key must be \",e,...t);function we(e,t,...r){return he(`Key for the ${e} algorithm must be `,t,...r)}const ge=e=>oe(e),fe=[\"CryptoKey\"];const me=async(e,t,r,o)=>{const n=await function(e,t,r){if(oe(t))return ue(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith(\"HS\"))throw new TypeError(pe(t,...fe));return re.subtle.importKey(\"raw\",t,{hash:`SHA-${e.slice(-3)}`,name:\"HMAC\"},!1,[r])}throw new TypeError(pe(t,...fe,\"Uint8Array\"))}(e,t,\"verify\");((e,t)=>{if(e.startsWith(\"RS\")||e.startsWith(\"PS\")){const{modulusLength:r}=t.algorithm;if(\"number\"!=typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}})(e,n);const a=function(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case\"HS256\":case\"HS384\":case\"HS512\":return{hash:r,name:\"HMAC\"};case\"PS256\":case\"PS384\":case\"PS512\":return{hash:r,name:\"RSA-PSS\",saltLength:e.slice(-3)>>3};case\"RS256\":case\"RS384\":case\"RS512\":return{hash:r,name:\"RSASSA-PKCS1-v1_5\"};case\"ES256\":case\"ES384\":case\"ES512\":return{hash:r,name:\"ECDSA\",namedCurve:t.namedCurve};case\"EdDSA\":return{name:t.name};default:throw new V(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e,n.algorithm);try{return await re.subtle.verify(a,n,r,o)}catch(e){return!1}},ye=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0},Ee=(e,t,r)=>{e.startsWith(\"HS\")||\"dir\"===e||e.startsWith(\"PBES2\")||/^A\\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!ge(t))throw new TypeError(we(e,t,...fe,\"Uint8Array\"));if(\"secret\"!==t.type)throw new TypeError(`${fe.join(\" or \")} instances for symmetric algorithms must be of type \"secret\"`)}})(e,t):((e,t,r)=>{if(!ge(t))throw new TypeError(we(e,t,...fe));if(\"secret\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithms must not be of type \"secret\"`);if(\"sign\"===r&&\"public\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm signing must be of type \"private\"`);if(\"decrypt\"===r&&\"public\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm decryption must be of type \"private\"`);if(t.algorithm&&\"verify\"===r&&\"private\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm verifying must be of type \"public\"`);if(t.algorithm&&\"encrypt\"===r&&\"private\"===t.type)throw new TypeError(`${fe.join(\" or \")} instances for asymmetric algorithm encryption must be of type \"public\"`)})(e,t,r)},ve=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>\"string\"!=typeof e))))throw new TypeError(`\"${e}\" option must be an array of strings`);if(t)return new Set(t)};async function Se(e,t,r){if(e instanceof Uint8Array&&(e=M.decode(e)),\"string\"!=typeof e)throw new B(\"Compact JWS must be a string or Uint8Array\");const{0:o,1:n,2:a,length:i}=e.split(\".\");if(3!==i)throw new B(\"Invalid Compact JWS\");const s=await async function(e,t,r){var o;if(!ae(e))throw new B(\"Flattened JWS must be an object\");if(void 0===e.protected&&void 0===e.header)throw new B('Flattened JWS must have either of the \"protected\" or \"header\" members');if(void 0!==e.protected&&\"string\"!=typeof e.protected)throw new B(\"JWS Protected Header incorrect type\");if(void 0===e.payload)throw new B(\"JWS Payload missing\");if(\"string\"!=typeof e.signature)throw new B(\"JWS Signature missing or incorrect type\");if(void 0!==e.header&&!ae(e.header))throw new B(\"JWS Unprotected Header incorrect type\");let n={};if(e.protected)try{const t=N(e.protected);n=JSON.parse(M.decode(t))}catch(e){throw new B(\"JWS Protected Header is invalid\")}if(!ye(n,e.header))throw new B(\"JWS Protected and JWS Unprotected Header Parameter names must be disjoint\");const a={...n,...e.header};let i=!0;if(ie(B,new Map([[\"b64\",!0]]),null==r?void 0:r.crit,n,a).has(\"b64\")&&(i=n.b64,\"boolean\"!=typeof i))throw new B('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=a;if(\"string\"!=typeof s||!s)throw new B('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');const c=r&&ve(\"algorithms\",r.algorithms);if(c&&!c.has(s))throw new G('\"alg\" (Algorithm) Header Parameter not allowed');if(i){if(\"string\"!=typeof e.payload)throw new B(\"JWS Payload must be a string\")}else if(\"string\"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new B(\"JWS Payload must be a string or an Uint8Array instance\");let d=!1;\"function\"==typeof t&&(t=await t(n,e),d=!0),Ee(s,t,\"verify\");const l=z(H.encode(null!==(o=e.protected)&&void 0!==o?o:\"\"),H.encode(\".\"),\"string\"==typeof e.payload?H.encode(e.payload):e.payload),u=N(e.signature);if(!await me(s,t,u,l))throw new te;let h;h=i?N(e.payload):\"string\"==typeof e.payload?H.encode(e.payload):e.payload;const p={payload:h};return void 0!==e.protected&&(p.protectedHeader=n),void 0!==e.header&&(p.unprotectedHeader=e.header),d?{...p,key:t}:p}({payload:n,protected:o,signature:a},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return\"function\"==typeof t?{...c,key:s.key}:c}const be=86400,Ae=/^(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,_e=e=>{const t=Ae.exec(e);if(!t)throw new TypeError(\"Invalid time period format\");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case\"sec\":case\"secs\":case\"second\":case\"seconds\":case\"s\":return Math.round(r);case\"minute\":case\"minutes\":case\"min\":case\"mins\":case\"m\":return Math.round(60*r);case\"hour\":case\"hours\":case\"hr\":case\"hrs\":case\"h\":return Math.round(3600*r);case\"day\":case\"days\":case\"d\":return Math.round(r*be);case\"week\":case\"weeks\":case\"w\":return Math.round(604800*r);default:return Math.round(31557600*r)}},ke=e=>e.toLowerCase().replace(/^application\\//,\"\"),Ie=(e,t,r={})=>{const{typ:o}=r;if(o&&(\"string\"!=typeof e.typ||ke(e.typ)!==ke(o)))throw new F('unexpected \"typ\" JWT header value',\"typ\",\"check_failed\");let n;try{n=JSON.parse(M.decode(t))}catch(e){}if(!ae(n))throw new X(\"JWT Claims Set must be a top-level JSON object\");const{requiredClaims:a=[],issuer:i,subject:s,audience:c,maxTokenAge:d}=r;void 0!==d&&a.push(\"iat\"),void 0!==c&&a.push(\"aud\"),void 0!==s&&a.push(\"sub\"),void 0!==i&&a.push(\"iss\");for(const e of new Set(a.reverse()))if(!(e in n))throw new F(`missing required \"${e}\" claim`,e,\"missing\");if(i&&!(Array.isArray(i)?i:[i]).includes(n.iss))throw new F('unexpected \"iss\" claim value',\"iss\",\"check_failed\");if(s&&n.sub!==s)throw new F('unexpected \"sub\" claim value',\"sub\",\"check_failed\");if(c&&(l=n.aud,u=\"string\"==typeof c?[c]:c,!(\"string\"==typeof l?u.includes(l):Array.isArray(l)&&u.some(Set.prototype.has.bind(new Set(l))))))throw new F('unexpected \"aud\" claim value',\"aud\",\"check_failed\");var l,u;let h;switch(typeof r.clockTolerance){case\"string\":h=_e(r.clockTolerance);break;case\"number\":h=r.clockTolerance;break;case\"undefined\":h=0;break;default:throw new TypeError(\"Invalid clockTolerance option type\")}const{currentDate:p}=r,w=(g=p||new Date,Math.floor(g.getTime()/1e3));var g;if((void 0!==n.iat||d)&&\"number\"!=typeof n.iat)throw new F('\"iat\" claim must be a number',\"iat\",\"invalid\");if(void 0!==n.nbf){if(\"number\"!=typeof n.nbf)throw new F('\"nbf\" claim must be a number',\"nbf\",\"invalid\");if(n.nbf>w+h)throw new F('\"nbf\" claim timestamp check failed',\"nbf\",\"check_failed\")}if(void 0!==n.exp){if(\"number\"!=typeof n.exp)throw new F('\"exp\" claim must be a number',\"exp\",\"invalid\");if(n.exp<=w-h)throw new q('\"exp\" claim timestamp check failed',\"exp\",\"check_failed\")}if(d){const e=w-n.iat;if(e-h>(\"number\"==typeof d?d:_e(d)))throw new q('\"iat\" claim timestamp check failed (too far in the past)',\"iat\",\"check_failed\");if(e<0-h)throw new F('\"iat\" claim timestamp check failed (it should be in the past)',\"iat\",\"check_failed\")}return n};function Te(e){return e&&\"object\"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Oe)}function Oe(e){return ae(e)}class Re{constructor(e){if(this._cached=new WeakMap,!Te(e))throw new Y(\"JSON Web Key Set malformed\");var t;this._jwks=(t=e,\"function\"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:o}={...e,...null==t?void 0:t.header},n=function(e){switch(\"string\"==typeof e&&e.slice(0,2)){case\"RS\":case\"PS\":return\"RSA\";case\"ES\":return\"EC\";case\"Ed\":return\"OKP\";default:throw new V('Unsupported \"alg\" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter((e=>{let t=n===e.kty;if(t&&\"string\"==typeof o&&(t=o===e.kid),t&&\"string\"==typeof e.alg&&(t=r===e.alg),t&&\"string\"==typeof e.use&&(t=\"sig\"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes(\"verify\")),t&&\"EdDSA\"===r&&(t=\"Ed25519\"===e.crv||\"Ed448\"===e.crv),t)switch(r){case\"ES256\":t=\"P-256\"===e.crv;break;case\"ES256K\":t=\"secp256k1\"===e.crv;break;case\"ES384\":t=\"P-384\"===e.crv;break;case\"ES512\":t=\"P-521\"===e.crv}return t})),{0:i,length:s}=a;if(0===s)throw new Q;if(1!==s){const e=new Z,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await Pe(t,e,r)}catch(e){continue}},e}return Pe(this._cached,i,r)}}async function Pe(e,t,r){const o=e.get(t)||e.set(t,{}).get(t);if(void 0===o[r]){const e=await async function(e,t,r){var o;if(!ae(e))throw new TypeError(\"JWK must be an object\");switch(t||(t=e.alg),e.kty){case\"oct\":if(\"string\"!=typeof e.k||!e.k)throw new TypeError('missing \"k\" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?ne({...e,alg:t,ext:null!==(o=e.ext)&&void 0!==o&&o}):N(e.k);case\"RSA\":if(void 0!==e.oth)throw new V('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');case\"EC\":case\"OKP\":return ne({...e,alg:t});default:throw new V('Unsupported \"kty\" (Key Type) Parameter value')}}({...t,ext:!0},r);if(e instanceof Uint8Array||\"public\"!==e.type)throw new Y(\"JSON Web Key Set members must be public keys\");o[r]=e}return o[r]}const Ce=async(e,t,r)=>{let o,n,a=!1;\"function\"==typeof AbortController&&(o=new AbortController,n=setTimeout((()=>{a=!0,o.abort()}),t));const i=await fetch(e.href,{signal:o?o.signal:void 0,redirect:\"manual\",headers:r.headers}).catch((e=>{if(a)throw new ee;throw e}));if(void 0!==n&&clearTimeout(n),200!==i.status)throw new JOSEError(\"Expected 200 OK from the JSON Web Key Set HTTP response\");try{return await i.json()}catch(e){throw new JOSEError(\"Failed to parse the JSON Web Key Set HTTP response as JSON\")}};class We extends Re{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError(\"url must be an instance of URL\");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration=\"number\"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration=\"number\"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge=\"number\"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return\"number\"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return\"number\"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof Q&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&(\"undefined\"!=typeof WebSocketPair||\"undefined\"!=typeof navigator&&\"Cloudflare-Workers\"===navigator.userAgent||\"undefined\"!=typeof EdgeRuntime&&\"vercel\"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=Ce(this._url,this._timeoutDuration,this._options).then((e=>{if(!Te(e))throw new Y(\"JSON Web Key Set malformed\");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}const xe=N;class AuthenticationError extends R{constructor(e,t){super(e=e??t?.message??\"An error occurred during authentication\",t)}}class LogoutError extends R{constructor(e,t){super(e=e??t?.message??\"An error occurred during logout\",t)}}const je=\"1.0.0\",$e=\"OIDC\",Je=()=>{J($e)},Ue=()=>{U($e,je)};\"undefined\"!=typeof window&&(\"undefined\"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{OIDC:{enableLogging:Ue,disableLogging:Je}}}));const Ke=e=>`${e.replace(/\\/$/,\"\")}/.well-known/openid-configuration`;var De;!function(e){e.OpenIdConnect=\"OpenID-Connect\"}(De||(De={}));class Le extends W{get idToken(){return this._idToken}get openIdProviderUrl(){return this._openIdProviderUrl}get redirectUri(){return this._redirectUri}get scope(){return this._scope}get userInfo(){return this._userInfo}async authorize(e,t,r){await super.authorize(e,t,r),this._idToken=await this.getIdToken(),this._userInfo=await(async e=>{const t=e.metadata?.userinfo_endpoint;if(!t)return;const{data:r}=await e.executeApiRequest(t);return r})(this)}async close(){await super.close(),this._idToken=void 0,this._openIdProviderUrl=void 0,this._redirectUri=void 0,this._scope=void 0,this._userInfo=void 0}getErrorMessageFromServerResponse(e){return e}static async init(e,t,r,o,n,a,i){const s=new C(o);s.logInfo(\"Init started\",e,t,r,o,n,a,i);try{const{additionalMetadata:t,discoveryEndpoint:o}=e,c={...await K(o),...t??{}};if(!c.response_types_supported.find((e=>\"code\"===e.toLowerCase())))throw new P(\"OpenID Provider does not support the authorization code response type\");const d=await D(c,r,s),l=new Le(void 0,r,c,d,s);return l._openIdProviderUrl=n,l._redirectUri=a,l._scope=i,s.logInfo(\"Init completed\",l),(async(e,t)=>{try{await fin.System.registerUsage({type:\"integration-feature\",data:{apiVersion:je,componentName:e}})}catch(r){t.logWarning(`Unable to register usage for feature ${e}: ${r?.message}`)}})(De.OpenIdConnect,s),l}catch(e){let t;throw t=e instanceof R?e:new P(void 0,e),s.logError(t),t}}}const He=async(e,t,r)=>{const o=new C($e),n=Ke(r);let a;try{a=await K(n)}catch(e){const t=new j(`Failed to retrieve OpenID Connect metadata from ${n}`);throw o.logError(t),t}const{introspection_endpoint:i,jwks_uri:s}=a;if(i)try{return await L(o)(e,t,i)}catch(e){}else o?.logWarning(\"No introspection endpoint found in OpenID Connect metadata\");if(!s){const e=new j(`Failed to retrieve JSON Web Key Set (JWKS) from ${s}`);throw o.logError(e),e}o?.logInfo(\"Validating id token against JWKS endpoint\",s);try{const{payload:n}=await async function(e,t,r){var o;const n=await Se(e,t,r);if((null===(o=n.protectedHeader.crit)||void 0===o?void 0:o.includes(\"b64\"))&&!1===n.protectedHeader.b64)throw new X(\"JWTs MUST NOT use unencoded payload\");const a={payload:Ie(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return\"function\"==typeof t?{...a,key:n.key}:a}(e,function(e,t){const r=new We(e,t);return async function(e,t){return r.getKey(e,t)}}(new URL(s)),{audience:t,issuer:r});return o?.logInfo(\"ID token validation successful\",n),{valid:!0,...n}}catch(e){if(!(e instanceof F||e instanceof q||e instanceof X||e instanceof te)){const t=new j(void 0,e);throw o.logError(t),t}return o.logWarning(`ID token validation failed: ${e.message}`),{valid:!1}}},Me=[\"openid\",\"profile\",\"email\"],ze=async(e,t,r,o=[],n,a,i)=>{if(e=e?.trim().replace(/\\/$/,\"\"),!e)throw new x(\"OpenID Provider URL must be a non-empty string\");if(!t)throw new x(\"Client Identifier must be a non-empty string\");if(!r)throw new x(\"Redirection URI must be a non-empty string\");const s=await Fe(e,t,r,o,n);if(!s)throw new P(\"Provider not initialized\");const c=s.metadata?.scopes_supported;if(!c){const e=new AuthenticationError(\"OpenID Provider metadata does not define supported scopes\");throw s.logger.logError(e),e}const d=Me.filter((e=>!c.includes(e)));if(d.length>0){const e=new AuthenticationError(`OpenID Provider does not support required scopes: ${d.join(\", \")}`);throw s.logger.logError(e),e}const l=new Set([...Me,...o]);await s.authorize(r,{display:\"popup\",scope:[...l].join(\" \"),...a},i);const{idToken:u}=s;if(!u){const e=new AuthenticationError(\"No ID token returned\");throw s.logger.logError(e),e}const h=function(e){if(\"string\"!=typeof e)throw new X(\"JWTs must use Compact JWS serialization, JWT must be a string\");const{1:t,length:r}=e.split(\".\");if(5===r)throw new X(\"Only JWTs using Compact JWS serialization can be decoded\");if(3!==r)throw new X(\"Invalid JWT\");if(!t)throw new X(\"JWTs must contain a payload\");let o,n;try{o=xe(t)}catch(e){throw new X(\"Failed to parse the base64url encoded payload\")}try{n=JSON.parse(M.decode(o))}catch(e){throw new X(\"Failed to parse the decoded payload as JSON\")}if(!ae(n))throw new X(\"Invalid JWT Claims Set\");return n}(u);if(!h){const e=new AuthenticationError(\"Failed to decode ID token\");throw s.logger.logError(e),e}const{aud:p,iss:w}=h;return await He(u,Array.isArray(p)?p[0]:p,w),{claims:h,clientId:t,idToken:u,logout:qe(t,u,s),openIdProviderUrl:e,userInfo:s.userInfo}},Ne=(e,t,r,o,n,a)=>async n=>{if(0!==new URL(n).href.toLowerCase().indexOf(r.toLowerCase()))return!1;window.clearInterval(a),window.clearTimeout(t);try{e.removeAllListeners(),e.close(!0)}catch(e){}return o(),!0},Fe=async(e,t,r,o,n)=>{const a={additionalMetadata:n,discoveryEndpoint:Ke(e)};return Le.init(a,void 0,t,$e,e,r,o)},qe=(e,t,r)=>async(o,n)=>{if(!o)throw new x(\"Logout Redirection URI must be a non-empty string\");const{logger:a,metadata:i}=r;a.logInfo(\"Logout started\",e,t,o,n);const{end_session_endpoint:s}=i??{};if(!s){const e=new LogoutError(\"OpenID Provider metadata does not define end session endpoint\");throw a.logError(e),e}const c=`${s}?id_token_hint=${t}&client_id=${e}&post_logout_redirect_uri=${encodeURIComponent(o)}${n?`&logout_hint=${encodeURIComponent(n)}`:\"\"}`;await $(c,Ge(o,a)),await(r?.close()),a.logInfo(\"Logout completed\")},Ge=(e,t)=>r=>new Promise(((o,n)=>{let a;r.addListener(\"closing\",(async()=>{t.logInfo(\"User closed auth window\"),window.clearInterval(a),r.removeAllListeners(),n(new LogoutError(\"Failed to complete logout process\"))}));const i=window.setTimeout((async()=>{try{await r.isShowing()||(t.logInfo(\"Showing auth window\"),await r.show(!0),await r.focus())}catch{t.logWarning(\"Unable to show auth window\")}}),2e3);(async()=>{const{version:s}=await fin.System.getRuntimeInfo();if(parseInt(s.split(\".\")[0],10)>=30){await Ne(r,i,e,o,n)((await r.getInfo()).url)||await r.addListener(\"url-changed\",(a=>{t.logInfo(\"Auth window navigated to\",a.url),Ne(r,i,e,o,n)(a.url)}))}else a=window.setInterval((()=>(async(e,t,r,o,n,a)=>{let i;try{i=await e.getInfo()}catch(e){return window.clearInterval(t),window.clearTimeout(r),a(new LogoutError(\"Could not locate auth window\")),!1}return Ne(e,r,o,n,a,t)(i.url)})(r,a,i,e,o,n)),500)})()}));var Ve=t.MS,Be=t._7,Xe=t.cX,Ye=t.zL,Qe=t._W,Ze=t.p8,et=t.YR,tt=t.U$,rt=t.U7,ot=t.OF;export{Ve as ApiError,Be as AuthenticationError,Xe as InitializationError,Ye as LogoutError,Qe as ParameterError,Ze as ValidationError,et as authenticate,tt as disableLogging,rt as enableLogging,ot as validateIdToken};","/**\n * Test if a value is a undefined or null.\n * @param value The value to test.\n * @returns True if the value is null or undefined.\n */\nexport function isEmpty(value: unknown): value is null | undefined {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value === undefined || value === null;\n}\n\n/**\n * Test if a value is an object.\n * @param value The value to test.\n * @returns True if the value is an object.\n */\nexport function isObject(value: unknown): value is object {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"object\" && !Array.isArray(value);\n}\n\n/**\n * Test if a value is a string.\n * @param value The value to test.\n * @returns True if the value is a string.\n */\nexport function isString(value: unknown): value is string {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"string\";\n}\n\n/**\n * Test if a value is a string that is not empty.\n * @param value The value to test.\n * @returns True if the value is a string that is not empty.\n */\nexport function isStringValue(value: unknown): value is string {\n\treturn isString(value) && value.trim().length > 0;\n}\n\n/**\n * Test if a value is a number.\n * @param value The value to test.\n * @returns True if the value is a number.\n */\nexport function isNumber(value: unknown): value is number {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"number\";\n}\n\n/**\n * Test if a value is a number with a real value i.e. not NaN or Infinite.\n * @param value The value to test.\n * @returns True if the value is a number.\n */\nexport function isNumberValue(value: unknown): value is number {\n\treturn isNumber(value) && !Number.isNaN(value) && Number.isFinite(value);\n}\n\n/**\n * Test if a value is a boolean.\n * @param value The value to test.\n * @returns True if the value is a boolean.\n */\nexport function isBoolean(value: unknown): value is boolean {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn value !== undefined && value !== null && typeof value === \"boolean\";\n}\n\n/**\n * Test if a value is an integer.\n * @param value The value to test.\n * @returns True if the value is an integer.\n */\nexport function isInteger(value: unknown): value is number {\n\treturn isNumber(value) && Number.isInteger(value);\n}\n\n/**\n * Deep clone an object.\n * @param obj The object to clone.\n * @returns The clone of the object.\n */\nexport function objectClone<T>(obj: T): T {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn obj === undefined ? (undefined as T) : JSON.parse(JSON.stringify(obj));\n}\n\n/**\n * Do a deep comparison of the objects.\n * @param obj1 The first object to compare.\n * @param obj2 The second object to compare.\n * @param matchPropertyOrder If true the properties must be in the same order.\n * @returns True if the objects are the same.\n */\nexport function deepEqual(obj1: unknown, obj2: unknown, matchPropertyOrder: boolean = true): boolean {\n\tif (isObject(obj1) && isObject(obj2)) {\n\t\tconst objKeys1 = Object.keys(obj1);\n\t\tconst objKeys2 = Object.keys(obj2);\n\n\t\tif (objKeys1.length !== objKeys2.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (matchPropertyOrder && JSON.stringify(objKeys1) !== JSON.stringify(objKeys2)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (const key of objKeys1) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\tconst value1 = (obj1 as any)[key];\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\tconst value2 = (obj2 as any)[key];\n\n\t\t\tif (!deepEqual(value1, value2, matchPropertyOrder)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t} else if (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\tif (obj1.length !== obj2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < obj1.length; i++) {\n\t\t\tif (!deepEqual(obj1[i], obj2[i], matchPropertyOrder)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\n/**\n * Deep merge two objects.\n * @param target The object to be merged into.\n * @param sources The objects to merge into the target.\n * @returns The merged object.\n */\nexport function deepMerge<T = unknown>(target: T, ...sources: T[]): T {\n\tif (!Array.isArray(sources) || sources.length === 0) {\n\t\treturn target;\n\t}\n\n\tconst targetAsMap = target as { [id: string]: unknown };\n\tconst source = sources.shift();\n\n\tlet keys;\n\tif (isObject(targetAsMap) && isObject(source)) {\n\t\tkeys = Object.keys(source);\n\t} else if (Array.isArray(source)) {\n\t\tif (!Array.isArray(target)) {\n\t\t\treturn source;\n\t\t}\n\t\tkeys = Object.keys(source).map((k) => Number.parseInt(k, 10));\n\t}\n\n\tif (keys) {\n\t\tconst sourceAsMap = source as { [id: string]: unknown };\n\t\tfor (const key of keys) {\n\t\t\tconst value = sourceAsMap[key];\n\t\t\tif (isObject(value)) {\n\t\t\t\tif (isEmpty(targetAsMap[key])) {\n\t\t\t\t\ttargetAsMap[key] = {};\n\t\t\t\t}\n\t\t\t\tdeepMerge(targetAsMap[key], value);\n\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\tif (isEmpty(targetAsMap[key])) {\n\t\t\t\t\ttargetAsMap[key] = [];\n\t\t\t\t}\n\t\t\t\tdeepMerge(targetAsMap[key], value);\n\t\t\t} else {\n\t\t\t\ttargetAsMap[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn deepMerge(target, ...sources);\n}\n\n/**\n * Polyfills randomUUID if running in a non-secure context.\n * @returns The random UUID.\n */\nexport function randomUUID(): string {\n\tif (\"randomUUID\" in globalThis.crypto) {\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\treturn globalThis.crypto.randomUUID();\n\t}\n\t// Polyfill the window.crypto.randomUUID if we are running in a non secure context that doesn't have it\n\t// we are still using window.crypto.getRandomValues which is always available\n\t// https://stackoverflow.com/a/2117523/2800218\n\t/**\n\t * Get random hex value.\n\t * @param c The number to base the random value on.\n\t * @returns The random value.\n\t */\n\tfunction getRandomHex(c: string): string {\n\t\t// eslint-disable-next-line no-bitwise\n\t\tconst rnd = globalThis.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4));\n\t\treturn (\n\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t(Number(c) ^ rnd).toString(16)\n\t\t);\n\t}\n\treturn \"10000000-1000-4000-8000-100000000000\".replace(/[018]/g, getRandomHex);\n}\n\n/**\n * Format an error to a readable string.\n * @param err The error to format.\n * @returns The formatted error.\n */\nexport function formatError(err: unknown): string {\n\tif (isEmpty(err)) {\n\t\treturn \"\";\n\t} else if (err instanceof Error) {\n\t\treturn err.message;\n\t} else if (isStringValue(err)) {\n\t\treturn err;\n\t} else if (isObject(err) && \"message\" in err && isString(err.message)) {\n\t\treturn err.message;\n\t}\n\treturn JSON.stringify(err);\n}\n\n/**\n * A basic string sanitize function that removes angle brackets <> from a string.\n * @param content the content to sanitize\n * @returns a string without angle brackets <>\n */\nexport function sanitizeString(content: unknown): string {\n\tif (isStringValue(content)) {\n\t\treturn content\n\t\t\t.replace(/<[^>]*>?/gm, \"\")\n\t\t\t.replace(/&gt;/g, \">\")\n\t\t\t.replace(/&lt;/g, \"<\")\n\t\t\t.replace(/&amp;/g, \"&\")\n\t\t\t.replace(/&nbsp;/g, \" \")\n\t\t\t.replace(/\\n\\s*\\n/g, \"\\n\");\n\t}\n\treturn \"\";\n}\n\n/**\n * Get the command line arguments from a command line string.\n * Examples of command line strings: arg1 key1=value1 key2=\"value with spaces\" key3='value3' key4='value with more spaces'`.\n * @param commandLine The command line string.\n * @returns The command line arguments or an empty array if none\n */\nexport function getCommandLineArgs(commandLine: string): string[] {\n\tif (!isStringValue(commandLine)) {\n\t\treturn [];\n\t}\n\tconst matches = commandLine.match(/(\\w+=)?(\"[^\"]*\"|'[^']*'|[^ ]+)/g);\n\tif (isEmpty(matches)) {\n\t\treturn [];\n\t}\n\treturn matches;\n}\n","import type { ModuleImplementation, ModuleTypes } from \"workspace-platform-starter/shapes/module-shapes\";\nimport { OpenIdConnectProvider } from \"./auth\";\n\n/**\n * Define the entry points for the module.\n */\nexport const entryPoints: { [type in ModuleTypes]?: ModuleImplementation } = {\n\tauth: new OpenIdConnectProvider()\n};\n","import {\n\tauthenticate,\n\tenableLogging,\n\tvalidateIdToken,\n\ttype OidcAuthenticationResult,\n\ttype UserInfoClaims\n} from \"@openfin/openid-connect\";\nimport type { AuthEventTypes, AuthProvider } from \"workspace-platform-starter/shapes/auth-shapes\";\nimport type { Logger, LoggerCreator } from \"workspace-platform-starter/shapes/logger-shapes\";\nimport type { ModuleDefinition, ModuleHelpers } from \"workspace-platform-starter/shapes/module-shapes\";\nimport { formatError, isEmpty, isNumber, isStringValue, randomUUID } from \"workspace-platform-starter/utils\";\nimport type { OpenIdConnectProviderOptions } from \"./shapes\";\n\n/**\n * Implementation for the openid connect auth provider.\n */\nexport class OpenIdConnectProvider implements AuthProvider<OpenIdConnectProviderOptions> {\n\t/**\n\t * The module definition including settings.\n\t * @internal\n\t */\n\tprivate _definition: ModuleDefinition<OpenIdConnectProviderOptions> | undefined;\n\n\t/**\n\t * The logger for displaying information from the module.\n\t * @internal\n\t */\n\tprivate _logger?: Logger;\n\n\t/**\n\t * Map a subscription id to an event.\n\t * @internal\n\t */\n\tprivate readonly _subscribeIdMap: { [key: string]: AuthEventTypes };\n\n\t/**\n\t * Callbacks for event subscribers.\n\t * @internal\n\t */\n\tprivate readonly _eventSubscribers: { [event in AuthEventTypes]?: { [id: string]: () => Promise<void> } };\n\n\t/**\n\t * The result of the authentication request.\n\t */\n\tprivate _authResult: OidcAuthenticationResult | undefined;\n\n\t/**\n\t * Session expiry timer.\n\t */\n\tprivate _sessionExpiryTimerId: number | undefined;\n\n\t/**\n\t * Create a new instance of OpenIdConnectProvider.\n\t */\n\tconstructor() {\n\t\tthis._subscribeIdMap = {};\n\t\tthis._eventSubscribers = {};\n\t}\n\n\t/**\n\t * Initialize the module.\n\t * @param definition The definition of the module from configuration include custom options.\n\t * @param loggerCreator For logging entries.\n\t * @param helpers Helper methods for the module to interact with the application core.\n\t * @returns Nothing.\n\t */\n\tpublic async initialize(\n\t\tdefinition: ModuleDefinition<OpenIdConnectProviderOptions>,\n\t\tloggerCreator: LoggerCreator,\n\t\thelpers: ModuleHelpers\n\t): Promise<void> {\n\t\tthis._definition = definition;\n\t\tthis._logger = loggerCreator(\"OpenIdConnectProvider\");\n\n\t\tthis._logger.info(\"Initializing\");\n\n\t\tif (this._definition.data?.enableLogging) {\n\t\t\tenableLogging();\n\t\t}\n\n\t\tconst providerUrl = this._definition.data?.providerUrl;\n\t\tconst clientId = this._definition.data?.clientId;\n\t\tconst loginRedirectUrl = this._definition.data?.loginRedirectUrl;\n\t\tconst logoutRedirectUrl = this._definition.data?.logoutRedirectUrl;\n\n\t\tif (!isStringValue(providerUrl)) {\n\t\t\tthis._logger.error(\"providerUrl is not configured\");\n\t\t}\n\n\t\tif (!isStringValue(clientId)) {\n\t\t\tthis._logger.error(\"ClientId is not configured\");\n\t\t}\n\n\t\tif (!isStringValue(loginRedirectUrl)) {\n\t\t\tthis._logger.error(\"loginRedirectUrl is not configured\");\n\t\t}\n\n\t\tif (!isStringValue(logoutRedirectUrl)) {\n\t\t\tthis._logger.error(\"logoutRedirectUrl is not configured\");\n\t\t}\n\t}\n\n\t/**\n\t * Close down any resources being used by the module.\n\t * @returns Nothing.\n\t */\n\tpublic async closedown(): Promise<void> {\n\t\tthis._logger?.info(\"Closedown\");\n\n\t\tif (this._sessionExpiryTimerId) {\n\t\t\twindow.clearTimeout(this._sessionExpiryTimerId);\n\t\t\tthis._sessionExpiryTimerId = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Subscribe to one of the auth events.\n\t * @param to The event to subscribe to.\n\t * @param callback The callback to fire when the event occurs.\n\t * @returns Subscription id for unsubscribing or undefined if event type is not available.\n\t */\n\tpublic subscribe(to: AuthEventTypes, callback: () => Promise<void>): string | undefined {\n\t\tconst subscriptionId = randomUUID();\n\n\t\tconst toMap = this._eventSubscribers[to] ?? {};\n\t\ttoMap[subscriptionId] = callback;\n\t\tthis._eventSubscribers[to] = toMap;\n\n\t\tthis._subscribeIdMap[subscriptionId] = to;\n\t\tthis._logger?.info(`Subscription to ${to} events registered. Subscription Id: ${subscriptionId}`);\n\n\t\treturn subscriptionId;\n\t}\n\n\t/**\n\t * Unsubscribe from an already subscribed event.\n\t * @param subscriptionId The id of the subscription returned from subscribe.\n\t * @returns True if the unsubscribe was successful.\n\t */\n\tpublic unsubscribe(subscriptionId: string): boolean {\n\t\tconst eventType = this._subscribeIdMap[subscriptionId];\n\t\tif (isEmpty(eventType)) {\n\t\t\tthis._logger?.warn(`You have tried to unsubscribe with a key ${subscriptionId} that is invalid`);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst eventSubscribers = this._eventSubscribers[eventType];\n\t\tif (!isEmpty(eventSubscribers)) {\n\t\t\tdelete eventSubscribers[subscriptionId];\n\t\t}\n\n\t\tif (this._subscribeIdMap[subscriptionId]) {\n\t\t\tdelete this._subscribeIdMap[subscriptionId];\n\t\t\tthis._logger?.info(\n\t\t\t\t`Subscription to ${eventType} events with subscription Id: ${subscriptionId} has been cleared`\n\t\t\t);\n\t\t\treturn true;\n\t\t}\n\n\t\tthis._logger?.warn(\n\t\t\t`Subscription to ${eventType} events with subscription Id: ${subscriptionId} could not be cleared as we do not have a register of that event type.`\n\t\t);\n\t\treturn false;\n\t}\n\n\t/**\n\t * Does the auth provider require authentication.\n\t * @returns True if authentication is required.\n\t */\n\tpublic async isAuthenticationRequired(): Promise<boolean> {\n\t\treturn isEmpty(this._authResult);\n\t}\n\n\t/**\n\t * Perform the login operation on the auth provider.\n\t * @returns True if the login was successful.\n\t */\n\tpublic async login(): Promise<boolean> {\n\t\tconst providerUrl = this._definition?.data?.providerUrl;\n\t\tconst clientId = this._definition?.data?.clientId;\n\t\tconst loginRedirectUrl = this._definition?.data?.loginRedirectUrl;\n\t\tconst scopes = this._definition?.data?.scopes;\n\n\t\tif (isStringValue(providerUrl) && isStringValue(clientId) && isStringValue(loginRedirectUrl)) {\n\t\t\ttry {\n\t\t\t\tthis._authResult = await authenticate(providerUrl, clientId, loginRedirectUrl, scopes);\n\t\t\t\tawait this.notifySubscribers(\"logged-in\");\n\t\t\t\tthis.checkForSessionExpiry();\n\t\t\t\treturn true;\n\t\t\t} catch (err) {\n\t\t\t\tthis._logger?.error(\"Authentication failed\", formatError(err));\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Perform the logout operation on the auth provider.\n\t * @returns True if the logout was successful.\n\t */\n\tpublic async logout(): Promise<boolean> {\n\t\tif (this._authResult) {\n\t\t\tif (this._sessionExpiryTimerId) {\n\t\t\t\twindow.clearTimeout(this._sessionExpiryTimerId);\n\t\t\t\tthis._sessionExpiryTimerId = undefined;\n\t\t\t}\n\n\t\t\tconst logoutRedirectUrl = this._definition?.data?.logoutRedirectUrl;\n\t\t\tif (isStringValue(logoutRedirectUrl)) {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.notifySubscribers(\"before-logged-out\");\n\t\t\t\t\tawait this._authResult.logout(logoutRedirectUrl);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis._logger?.error(\"Logout failed\", formatError(err));\n\t\t\t\t} finally {\n\t\t\t\t\tawait this.notifySubscribers(\"logged-out\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._authResult = undefined;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Get user information from the auth provider.\n\t * @returns The user information, the type is unknown as it is dependent on the auth provider.\n\t */\n\tpublic async getUserInfo(): Promise<UserInfoClaims | undefined> {\n\t\tif (this._authResult) {\n\t\t\treturn this._authResult.userInfo;\n\t\t}\n\t}\n\n\t/**\n\t * Notify subscribers of an event change.\n\t * @param authEventType The type of authentication event to send to.\n\t */\n\tprivate async notifySubscribers(authEventType: AuthEventTypes): Promise<void> {\n\t\tconst subscribers = this._eventSubscribers[authEventType];\n\n\t\tif (subscribers) {\n\t\t\tconst subscriberIds = Object.keys(subscribers);\n\t\t\tsubscriberIds.reverse();\n\n\t\t\tfor (const subscriberId of subscriberIds) {\n\t\t\t\tthis._logger?.info(\n\t\t\t\t\t`Notifying subscriber with subscription Id: ${subscriberId} of event type: ${authEventType}`\n\t\t\t\t);\n\t\t\t\tawait subscribers[subscriberId]();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Check to see if a session has expired.\n\t */\n\tprivate checkForSessionExpiry(): void {\n\t\tconst validity = this._definition?.data?.checkSessionValidityInSeconds;\n\t\tif (isNumber(validity) && validity > 0 && isEmpty(this._sessionExpiryTimerId)) {\n\t\t\tthis._sessionExpiryTimerId = window.setTimeout(async () => {\n\t\t\t\tthis._sessionExpiryTimerId = undefined;\n\n\t\t\t\tconst idToken = this._authResult?.idToken;\n\t\t\t\tconst providerUrl = this._definition?.data?.providerUrl;\n\t\t\t\tconst clientId = this._definition?.data?.clientId;\n\n\t\t\t\tlet isValid = false;\n\n\t\t\t\tif (isStringValue(idToken) && isStringValue(providerUrl) && isStringValue(clientId)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result = await validateIdToken(idToken, clientId, providerUrl);\n\n\t\t\t\t\t\tisValid = result.valid;\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tthis._logger?.error(\"Failed validating token\", formatError(err));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isValid) {\n\t\t\t\t\tthis._logger?.info(\"Session Still Active\");\n\t\t\t\t\tthis.checkForSessionExpiry();\n\t\t\t\t} else {\n\t\t\t\t\tthis._logger?.info(\"Session not valid\");\n\t\t\t\t\tthis._authResult = undefined;\n\t\t\t\t\tawait this.notifySubscribers(\"session-expired\");\n\t\t\t\t}\n\t\t\t}, validity * 1000);\n\t\t}\n\t}\n}\n"],"names":["e","d","t","r","o","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","MS","R","_7","AuthenticationError","cX","P","zL","LogoutError","_W","x","p8","j","YR","ze","U$","Je","U7","Ue","OF","He","ApiError","cF","ApiRequestError","AK","AuthTokenExpiredError","M_","AuthorizationError","InitializationError","Yd","w","O4","T","ParameterError","ValidationError","m$","s","u","h","OV","N7","A","HP","n","Rp","O","Error","constructor","super","message","this","name","stack","replace","status","crypto","randomUUID","window","getRandomValues","Uint8Array","Number","toString","a","i","async","URL","c","href","toLowerCase","indexOf","clearInterval","clearTimeout","removeAllListeners","close","searchParams","data","l","defaultHeight","defaultWidth","fin","Window","create","assign","alwaysOnTop","maximizable","minimizable","autoShow","defaultCentered","includeInSnapshots","resizable","saveWindowState","showTaskbarIcon","url","Promise","setTimeout","addListener","logInfo","isShowing","show","focus","logWarning","version","System","getRuntimeInfo","parseInt","split","getInfo","setInterval","fetch","headers","Accept","ok","json","Integrations","loggingEnabled","console","log","p","prefix","isLoggingEnabled","bind","logError","innerError","error","warn","g","command","id","apiRequestUrl","httpMethod","includeAuthorization","test","keys","join","Authorization","body","JSON","stringify","method","includes","formData","text","arrayBuffer","f","type","resolve","token_endpoint","access_token","self","onmessage","code","codeVerifier","redirectUri","id_token","refresh_token","expireAccessTokenOnly","revocation_endpoint","all","filter","length","idToken","clientId","metadata","postMessage","ApiRequest","CodeExchange","ExpireTokens","GetIdToken","Init","m","y","push","E","reject","v","S","b","Blob","createObjectURL","Worker","_","exchangeCodeForTokens","executeApiRequest","expireTokens","getIdToken","terminate","I","getOwnPropertySymbols","propertyIsEnumerable","find","k","findIndex","splice","apiOrigin","_apiOrigin","_clientId","logger","_logger","_metadata","worker","_worker","getErrorMessageFromServerResponse","authorize","authorization_endpoint","Application","getCurrentSync","getChildWindows","identity","Uint32Array","Array","from","slice","TextEncoder","encode","subtle","digest","FileReader","onload","target","result","match","readAsDataURL","set","entries","forEach","init","additionalMetadata","discoveryEndpoint","response_types_supported","active","valid","C","W","$","J","U","K","D","L","H","M","TextDecoder","N","decode","atob","charCodeAt","TypeError","JOSEError","captureStackTrace","F","claim","reason","q","G","arguments","V","B","X","Y","Q","Z","Symbol","asyncIterator","ee","te","re","oe","CryptoKey","ne","alg","algorithm","keyUsages","kty","hash","namedCurve","crv","ext","key_ops","importKey","use","ae","getPrototypeOf","se","ce","de","he","pop","pe","we","ge","fe","Se","protected","header","payload","signature","parse","Boolean","size","has","add","Set","ye","crit","isArray","some","Map","ie","b64","ve","algorithms","startsWith","Ee","reduce","z","usages","le","ue","modulusLength","saltLength","verify","me","protectedHeader","unprotectedHeader","key","Ae","_e","exec","parseFloat","Math","round","ke","Ie","typ","requiredClaims","issuer","subject","audience","maxTokenAge","reverse","iss","sub","aud","clockTolerance","currentDate","Date","floor","getTime","iat","nbf","exp","Te","every","Oe","Re","_cached","WeakMap","_jwks","structuredClone","getKey","kid","Pe","oth","We","_url","_options","agent","_timeoutDuration","timeoutDuration","_cooldownDuration","cooldownDuration","_cacheMaxAge","cacheMaxAge","coolingDown","_jwksTimestamp","now","fresh","reload","_pendingFetch","WebSocketPair","navigator","userAgent","EdgeRuntime","AbortController","abort","signal","redirect","catch","Ce","then","xe","je","$e","OIDC","enableLogging","disableLogging","Ke","De","OpenIdConnect","Le","_idToken","openIdProviderUrl","_openIdProviderUrl","_redirectUri","scope","_scope","userInfo","_userInfo","userinfo_endpoint","registerUsage","apiVersion","componentName","introspection_endpoint","jwks_uri","Me","trim","Fe","scopes_supported","display","claims","logout","qe","Ne","end_session_endpoint","encodeURIComponent","Ge","et","rt","ot","isEmpty","value","isString","isStringValue","formatError","err","entryPoints","auth","_subscribeIdMap","_eventSubscribers","initialize","definition","loggerCreator","helpers","_definition","info","providerUrl","loginRedirectUrl","logoutRedirectUrl","closedown","_sessionExpiryTimerId","undefined","subscribe","to","callback","subscriptionId","globalThis","rnd","toMap","unsubscribe","eventType","eventSubscribers","isAuthenticationRequired","_authResult","login","scopes","notifySubscribers","checkForSessionExpiry","getUserInfo","authEventType","subscribers","subscriberIds","subscriberId","validity","checkSessionValidityInSeconds","isValid"],"sourceRoot":""}