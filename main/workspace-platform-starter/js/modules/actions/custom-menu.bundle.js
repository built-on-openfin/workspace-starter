var e,t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},o={};function n(e){return null==e}t.d(o,{k:()=>s}),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(e||(e={}));const s={actions:new class{async initialize(e,t,o){this._logger=t("CustomMenuProvider"),this._settings=e.data,this._helpers=o}async get(t){const o={};return o["pages-menu"]=async o=>{if(o.callerType===e.CustomButton&&this._helpers){const e=await t.Storage.getPages(),s=await this._helpers.getMenuClient(),a=await s.showPopupMenu({x:o.x,y:48},o.windowIdentity,"There are no pages",e.map((e=>({label:e.title,data:e.pageId,icon:this._settings?.images.page}))).sort(((e,t)=>e.label.localeCompare(t.label))),{popupMenuStyle:this._settings?.popupMenuStyle??s.getPopupMenuStyle()});n(a)?this._logger?.info("Menu dismissed"):this._helpers?.launchPage&&(this._logger?.info("Menu clicked",a),await this._helpers.launchPage(a,void 0,this._logger))}},o["workspaces-menu"]=async o=>{if(o.callerType===e.CustomButton&&this._helpers){const e=await t.Storage.getWorkspaces(),s=await this._helpers.getMenuClient(),a=this._settings?.popupMenuStyle??s.getPopupMenuStyle(),i=await s.showPopupMenu({x:o.x,y:48},o.windowIdentity,"There are no workspaces",e.map((e=>({label:e.title,data:e.workspaceId,icon:this._settings?.images.workspace}))).sort(((e,t)=>e.label.localeCompare(t.label))),{popupMenuStyle:a});n(i)?this._logger?.info("Menu dismissed"):this._helpers?.launchWorkspace&&(this._logger?.info("Menu clicked",i),await this._helpers.launchWorkspace(i,this._logger))}},o}}};var a=o.k;export{a as entryPoints};
//# sourceMappingURL=custom-menu.bundle.js.map