var e,t={};function o(e){return null==e}t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(e||(e={}));const n={actions:new class{async initialize(e,t,o){this._logger=t("CustomMenuProvider"),this._settings=e.data,this._helpers=o}async get(t){const n={};return n["pages-menu"]=async n=>{if(n.callerType===e.CustomButton&&this._helpers){const e=await t.Storage.getPages(),s=await this._helpers.getMenuClient(),a=await s.showPopupMenu({x:n.x,y:48},n.windowIdentity,"There are no pages",e.map(e=>({label:e.title,data:e.pageId,icon:this._settings?.images.page})).sort((e,t)=>e.label.localeCompare(t.label)),{popupMenuStyle:this._settings?.popupMenuStyle??s.getPopupMenuStyle()});o(a)?this._logger?.info("Menu dismissed"):this._helpers?.launchPage&&(this._logger?.info("Menu clicked",a),await this._helpers.launchPage(a,void 0,this._logger))}},n["workspaces-menu"]=async n=>{if(n.callerType===e.CustomButton&&this._helpers){const e=await t.Storage.getWorkspaces(),s=await this._helpers.getMenuClient(),a=this._settings?.popupMenuStyle??s.getPopupMenuStyle(),i=await s.showPopupMenu({x:n.x,y:48},n.windowIdentity,"There are no workspaces",e.map(e=>({label:e.title,data:e.workspaceId,icon:this._settings?.images.workspace})).sort((e,t)=>e.label.localeCompare(t.label)),{popupMenuStyle:a});o(i)?this._logger?.info("Menu dismissed"):this._helpers?.launchWorkspace&&(this._logger?.info("Menu clicked",i),await this._helpers.launchWorkspace(i,this._logger))}},n}}};export{n as entryPoints};
//# sourceMappingURL=custom-menu.bundle.js.map